<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>525read.html+12form.html.pagespeed.jc.U9xdk-nrD1.html</title>
</head>
<body>

<script>
var mod_pagespeed_MNl3Lx_KPN = "(function(window){var $=window.jQuery;var document=window.document;var l=window.localStorage||{};if(!l.pttbanlist_ts){l.pttbanlist_ts=0;}if(!l.ptt_ban_list){l.ptt_ban_list='[]';}if(!l.ptt_unban_list){l.ptt_unban_list='[]';}var g=window.g||{};g.imgUploadImgurNum=0;$(function(){$('#read').on('click','.copy-btn',g.inputCopy).on('click','.imgur-gif',imgurGifPlay);});g.inputCopy=function(){var $i=$(this);var $input=$i.nextAll('input').first();if(navigator.clipboard){navigator.clipboard.writeText($input.val()).then(()=>{$i.next('.copy-btn-msg').show().fadeOut(3000);},(err)=>{console.log('copy fail',err);});}else{$input.select();document.execCommand('copy');$i.next('.copy-btn-msg').show().fadeOut(3000);}};var imgurGifPlay=function(){var $div=$(this),$img=$div.find('img');var w=$div.width(),h=$div.height();if($img.attr('height')>640){h=720;w+=50;$div.width(w);$div.height(h);}if(h===640&&w<400){h=Math.round(400/w*h);w=400;$div.width(w);$div.height(h);}var src=$img.data('src');var imgur_match=src.match(/(?:https?:)?\\/\\/(i\\.imgur\\.com|i4\\.disp\\.cc\\/imgur|imgur\\.disp\\.cc\\/\\w\\w)\\/((\\w{5}|\\w{7})\\w?\\.\\w+)/);if(imgur_match!==null){var host=imgur_match[1];var imgur_file=imgur_match[2];var iframe_src='/iframe/imgur-gif.html?'+imgur_file+'&isPlay=1';if(host==='i4.disp.cc/imgur'){iframe_src+='&useDispImg';}$div.html('<iframe style=\"width:'+w+'px;height:'+h+'px;\" src=\"'+iframe_src+'\" frameborder=\"0\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" />');$div.find('iframe').on('load',iframeOnLoad);}};})(window);var g=window.g||{};$(function(){if(page==='read'){readReady();}});window.onbeforeunload=function(){if(page==='read'){localStorage.readST_ti=ti;localStorage.readST=$('#read_content').scrollTop();}};function readReady(){if($('#ansi_del').length){if(alAnsi){$('#ansi_del').html(ansi_pic);}else{$('#ansi_del').html('<img src=\"/error_page/del.png\" />');}}else if($('#ansi_hide').length){if(alAnsi){$('#ansi_hide').html(ansi_pic);}else{$('#ansi_hide').html('<img src=\"/error_page/secret.png\" />');}}if(-1!==$.inArray(bi,bi_over18)){show_over18=1;}else if(!isDirectLink){show_over18=0;}if(show_over18&&'undefined'===typeof(localStorage.isOver18)){var src=$('#over18confirm').find('img').data('src');$('#over18confirm').show().find('img').attr('src',src);}var $read_mark=$('#page').find('#row'+now).find('.L8');var read_str=$read_mark.text();if(read_str.match(/[M=]/))$read_mark.find('span').text('m');else if(read_str.match(/[B=]/))$read_mark.find('span').text('b');else if(read_str.match(/[\\+~]/))$read_mark.html('');if(read_str!=''){list_cache.splice(from,1);}if(sys_load<10&&isHide==0){var read_ti=ti;setTimeout(function(){if(sys_load>2&&read_ti!=ti){return;}$.get(g.b_url+'act_text.ajax.php?act=read&bi='+bi+'&pi='+pi+'&ti='+read_ti);},Math.round(Math.random()*2000+500));}readPageShow();$('#select_div').hide();readLazyLoad();var $scroll_binder;var scrollTimeout=null;if(use_js_scroll){$scroll_binder=$('#read_content');}else $scroll_binder=$(document);$scroll_binder.scroll(function(){if(scrollTimeout){clearTimeout(scrollTimeout);scrollTimeout=null;}scrollTimeout=setTimeout(function(){if(allow_adsense<=0){adsReload();}readLazyLoad();if(readIsScrollBot())pushRead();scrollTop=$('#read_content').scrollTop();},100);});$('div.img').find('img').on('load',imgOnLoad).on('error',imgOnError);$('.iframe').find('iframe').on('load',iframeOnLoad);$('.img').on('load','iframe',iframeOnLoad);if(!al_image){$('div.img').each(function(){var $i=$(this);$i.css('cursor','pointer');if($i.width()>200&&$i.height()>100){$i.prepend('<div class=\"showImgBtn btn\">點此顯示圖片</div>');}});if(!isDirectLink){$('#right_banner').hide();}}$('#read').on('click','div.img',function(){var $div=$(this),$img=$div.find('img');if($img.length&&!$img.attr('src')){$img.each(imgOnReady);$div.css('cursor','auto').find('.showImgBtn').remove();return false;}}).on('click','a.img',function(){if(!al_image&&!$(this).find('img').attr('src')){return false;}});$('#read').on('click','.iframe_chk',function(){var $i=$(this);var $next_iframe=$i.next('iframe');$next_iframe.attr('src',$next_iframe.attr('data-src'));$i.remove();return false;});$('#push_text_div').on('mouseenter','.pushLine',pushPointIt).on('click','.pushLine',pushClick);$('#push_text_div').on('mouseleave','.pushLine',pushPointOut);$('#text .push_row').mouseenter(pttPushPointIt).mouseleave(pttPushPointOut).click(pttPushClick);if(ui){$('#text .push_row').on('click','.ptt-user-ban',pttUserSetBan);pttPushCoverLoad();}$('.PttPushCoverStr').click(pttPushCoverStrShow);var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var msie_ver=0;if(msie>0){msie_ver=parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}if(msie>0&&msie_ver<=7){var text=$('#text').html();if(text)text.replace(/<\\/div>\\s\\s<div class=ansi/gi,\"</div><div class=ansi\").replace(/<div class=ansi14/gi,\"<div class=ansi15\").replace(/font-size:14px/gi,'font-size:15px');$('#text').html(text);}$('.ansi').each(function(){var h=$(this).find('pre').height();if(h!=0&&h>$(this).height()*2)$(this).height(h);});$('.fix').each(function(){var x=$('#read').offset().left+$('#read').width()-$(this).width()-size;$(this).css('left',x).draggable({iframeFix:true});});$('#action').mouseenter(function(){if(act=='none'&&text_mark!==3){$('#pushAddInputBtn_div').show();}}).mouseleave(function(){$('#pushAddInputBtn_div').hide();});$('#pushAddInputBtn').mouseup(function(e){if(e.which==1||e.which==3)pushAddShow(3);});pushRead_ms=0;var $read_content=$('#read_content');readResizeW();readResizeH();setTimeout(function(){readResizeH();},1000);setTimeout(function(){readResizeH();readResizeW();},3000);if(isDirectLink&&localStorage.readST_ti===ti){$read_content.scrollTop(localStorage.readST);}pushLimitHeight();var M=self.location.href.match(/\\/b\\/(\\d+-\\w+|[\\w\\-]+\\/\\w+)\\?(fbclid|utm)/);if(M&&history.pushState&&hash!=='#popstate'){var href='/b/'+M[1];history.pushState({},'',href);hash='#denypopstate';}$('#read_content').attrchange({callback:function(){var $div=$(this);if($div.height()===0){console.log('attrchange');readResizeH();}}});$('#ads_r1').find('ins.adsbygoogle').attrchange({callback:function(){var $i=$(this);var $div=$i.parent('#ads_r1');var ad_status=$i.data('ad-status');if(ad_status!=='unfilled'){return;}console.log('ads_r1 unfilled');var slot_id='/128002626/GPT_3298/GPT_15010',slot_size=[160,600];if($('#ads_page_r').width()===300){slot_id='/128002626/GPT_3298/GPT_15012',slot_size=[300,600];}var gam=document.createElement('script');gam.async=true;gam.src='//securepubads.g.doubleclick.net/tag/js/gpt.js';$div.html('<div id=\"gpt-passback\">').prepend(gam);window.googletag=window.googletag||{cmd:[]};googletag.cmd.push(function(){googletag.defineSlot(slot_id,slot_size,'gpt-passback').addService(googletag.pubads());googletag.enableServices();googletag.display('gpt-passback');});}});$('.post-data').each(function(){var $i=$(this);if($i.data('ti')===g.ti){$i.parent('li').remove();return true;}var $a=$i.find('a');var href=$a.attr('href').replace(/^([\\w\\-]+\\/\\w+)/,'/b/$1');$a.attr('href',href);$i.click(function(){location.href=href;});$a.click(function(e){e.stopPropagation();});var $img=$i.find('img'),src=$img.data('src');$img.attr('src',src).on('error',function(){$img.parent('.post-thumb').hide();});});}$(function(){$(document).mousedown(function(e){if(e.which==1&&e.pageX>$(window).width()){mouseOnScrollY=1;}});$(document).mousemove(function(e){if(e.pageX<=$(window).width()){mouseOnScrollY=0;}});$(document).mousewheel(function(e,delta){if(page!=='read'){return true;}if(!use_js_scroll){return true;}if(delta>0){window.scrollBy(0,-60);}else if(delta<0){var $i=$('#read_content');if($i.scrollTop()+$i.height()==$i.prop('scrollHeight')){window.scrollBy(0,60);}}});$(window).resize(function(){readResizeH();readResizeW();});$('#read').on('click','.pushCoverBtn',function(){pushCover();}).on('click','.pushUncoverBtn',function(){pushUncover();});var $text=$('#pushAdd_input');$text.pasteUpload({action:g.api_url+'imgUpload.php?act=upload&input=base64',maxWidth:728,maxHeight:1024,onSubmit:function(id){var anchorStr=\"[img \"+id+\" uploading...]\\n\";var sel=$text.getSelection();$text.insertText(anchorStr,sel.start,\"collapseToEnd\");},onComplete:function(responseJSON,id){var anchorStr=\"[img \"+id+\" uploading...]\\n\";if(!responseJSON.isSuccess){$text.replaceText(anchorStr,'');alert(responseJSON.errorMessage);return;}var data=responseJSON.data;var link=data.link.replace(/^https(:\\/\\/i\\.imgur\\.com\\/)/,'http$1');var ratioStr='';if(window.devicePixelRatio!==1){ratioStr='@'+window.devicePixelRatio+'x';}var replaceStr='[img='+data.width+'x'+data.height+ratioStr+']'+link+\"[/img]\\n\";$text.replaceText(anchorStr,replaceStr);}});$('.imgUploadBtn').imgUpload({action:g.api_url+'imgUpload.php?act=upload&input=base64',multiple:true,maxWidth:728,maxHeight:1024,onSubmit:function(id){var anchorStr=\"[img \"+id+\" uploading...]\\n\";var sel=$text.getSelection();$text.insertText(anchorStr,sel.start,\"collapseToEnd\");},onComplete:function(responseJSON,id){var anchorStr=\"[img \"+id+\" uploading...]\\n\";if(!responseJSON.isSuccess){$text.replaceText(anchorStr,'');alert(responseJSON.errorMessage);return;}var data=responseJSON.data;var link=data.link.replace(/^https(:\\/\\/i\\.imgur\\.com\\/)/,'http$1');var replaceStr='[img='+data.width+'x'+data.height+']'+link+\"[/img]\\n\";$text.replaceText(anchorStr,replaceStr);}});});function readUpdatePageReady(){readReady();var g=window.g;var href=g.b_url;if(g.pi<0){href+=g.bn+'/'+g.ti;}else{href+=g.bi+'.'+g.pi+'-'+g.ti;}if(history.pushState){if(hash!=='#popstate'){history.pushState({},'',href);}}else{hash=href;self.location.hash='!'+href;}if(typeof(_gaq)!=='undefined'){_gaq.push(['_trackPageview',href]);}if(allow_adsense<=0){adsReload();}if(use_preload){readPreloadL();}if(now>from){id_prev=tiArray[now-from-1];}else{id_prev=$('#ti'+(now-1),list_cache[from-20]).text();}if(now<from+19&&now<end){id_next=tiArray[now-from+1];}else{id_next=$('#ti'+(now+1),list_cache[from+20]).text();}if(use_preload){readPreload();}}function readPreload(){if(pi==='-2'||pi==='-3'||pi==='-4'){return;}var page_str=g.b_url+'read.ajax.php?bi='+bi+'&pi='+pi;if(fa){page_str+='&fa='+encodeURI(fa);}if(ft){page_str+='&ft='+encodeURI(ft);}if(fn){page_str+='&fn='+encodeURI(fn);}if(fr){page_str+='&fr='+ri;}if(find_type){page_str+='&find_type='+find_type;}if(ls){page_str+='&ls='+ls;}page_str+='&isAjax=1';var prev_num=now-1,next_num=now+1;if(typeof(id_prev)!='undefined'&&id_prev!=''&&typeof(read_cache[prev_num])=='undefined'){$.get(page_str+'&ti='+id_prev+'&pn='+(now-1)+'&isPL=1',function(html){read_cache[prev_num]=html;if(page!='read')pageU=3;if(pageU==2){pageU=1;prev();loading_msg(0);}},'html').fail(function(){pageU=0;loading_msg(0);});}if(typeof(id_next)!='undefined'&&id_next!=''&&typeof(read_cache[next_num])=='undefined'){$.get(page_str+'&ti='+id_next+'&pn='+(now+1)+'&isPL=2',function(html){read_cache[next_num]=html;if(page!='read')pageD=3;if(pageD==2){pageD=1;next();loading_msg(0);}},'html').fail(function(){pageD=0;loading_msg(0);});}}function readReloadL(){list_cache.length=0;read_cache.length=0;$('#page').empty();pageL=0;readPreloadL();}function readPreloadL(){if(isDirectLink&&pi==='-1'){return;}if($('#page').find('#row'+now).length){pageL=1;return;}if(pi==='-4'&&$('#page').find('#hot_text').length){pageL=1;return;}pageL=0;var page_str=g.b_url;if(typeof(now)==='undefined'){now=0;from=0;}else if(typeof(from)==='undefined'){from=Math.floor((now-1)/20)*20+1;}if(pi==='-1'){page_str+='list.ajax.php?init=0&bi='+bi+'&ti='+ti+'&pn='+now+'&pf='+from+'&ri='+ri;}else if(pi==='-2'){page_str+='fav.ajax.php?bi='+bi+'&ti='+ti+'&pn='+now+'&pf='+from+'&ri='+ri+'&ls='+ls;}else if(pi==='-3'){page_str+='list.ajax.php?init=0&bi='+bi+'&ti='+ti+'&isBot=1&ri='+ri;}else{page_str+='class.ajax.php?bi='+bi+'&pn='+now+'&ri='+ri+'&pi='+pi;}if(fa){page_str+='&fa='+encodeURI(fa);}if(ft){page_str+='&ft='+encodeURI(ft);}if(fn){page_str+='&fn='+encodeURI(fn);}if(fr){page_str+='&fr='+fr;}if(find_type){page_str+='&find_type='+find_type;}$.get(page_str+'&isPL=3',function(html){$('#page').html(html).hide();if(pageL==2){pageL=1;readUpLevel();loading_msg(0);}else pageL=1;},'html').fail(function(){pageL=0;loading_msg(0);});}function readUpLevel(){if(act==='push1'){pushHide();}else if(act==='push2'){pushAddHide();}else if(act==='good'){goodHide();}else if(act.substr(0,5)==='reply'){replyHide();}else if(act==='select_class'){scClose();}if(act!=='none'){return;}if(typeof pi==='number'){pi=pi.toString();}if(isDirectLink&&pi==='-1'){var referrer=document.referrer;if(history.length>1){if(referrer.match(/^https?:\\/\\/(disp\\.cc|disp\\.localhost)\\/b\\/($|main)/)){self.location.href=referrer;return false;}else if(referrer.match(/^https?:\\/\\/disp\\.(cc|localhost)\\/ptt\\//)){self.location.href=referrer;return false;}}var href=g.b_url+bn+\"?ti=\"+ti;self.location.href=href;return false;}toTop=1;if(!use_preload||isDirectLink||$('#page').html()===''){var page_str=g.b_url;if(pi==='-1'){page_str+='list.ajax.php?init=0&bi='+bi+'&ti='+ti+'&pn='+now+'&ri='+ri;}else if(pi==='-2'){page_str+='fav.ajax.php?bi='+bi+'&ti='+ti+'&pn='+now+'&ri='+ri+'&ls='+ls;}else if(pi==='-3'){page_str+='list.ajax.php?init=0&bi='+bi+'&ti='+ti+'&isBot=1&ri='+ri;}else if(pi==='-4'){page_str+='main.ajax.php?';}else{page_str+='class.ajax.php?bi='+bi+'&ti='+ti+'&pn='+now+'&ri='+ri+'&pi='+pi;}updatePage(page_str);}else if(pageL==1){if(ppt_end!=1){$('#text').show();$('#ppt').hide();}pageL=0;read_cache[now]=page_html;$('#page').show();$('#read').hide();$('#read_content').empty();$('#read').find('.scroll_bar').remove();if(pi==='-1'||pi==='-3'){page='list';}else if(pi==='-2'){page='fav';}else if(pi==='-4'){page='main';htShow();}else{page='class';}updatePageReady();}else{pageL=2;loading_msg(1);}$('#right_banner').show();return false;}function readExit(){localStorage.readST_ti='';if(isDirectLink){self.location.href=g.b_url+'?page=b_list&bi='+bi;return;}$('#anykey').hide();var page_str=g.b_url;if(b_from==2){page_str+='b_class.ajax.php?pi='+pi+'&bi='+bi;}else if(b_from==3)page_str+='b_fav.ajax.php?pi='+b_pi+'&bi='+bi;else{page_str+='b_list.ajax.php?bi='+bi;}updatePage(page_str);$('#over18confirm').hide();}function readIsScrollTop(){if($('#read_content').scrollTop()==0&&isScrollTop())return 1;else return 0;}function readIsScrollBot(){if(page=='init'){return isScrollBot();}var $read=$('#read_content');if(($read.scrollTop()+$read.height()==$read[0].scrollHeight)&&isScrollBot()){return 1;}else return 0;}function readScrollBy(x,y){if(isIE==8){window.scrollBy(x,y);return;}if(typeof(x)=='undefined')x=0;if(typeof(y)=='undefined')y=0;if(page=='init'){window.scrollBy(x,y);return;}var $read=$('#read_content');var sT=$read.scrollTop(),sL=$read.scrollLeft();$read.scrollTop(sT+y);if(y>0){if($read.scrollTop()<sT+y)window.scrollBy(0,y);}else if(y<0){window.scrollBy(0,y);}if(x>0&&sL==$read[0].scrollWidth-$read.width()){window.scrollBy(x,0);}else if(x<0&&sL==0)window.scrollBy(x,0);$read.scrollLeft(sL+x);}function adsResizeH(){var $read_content=$('#read_content'),sH=$read_content.prop('scrollHeight'),winH=$(window).height()-10;if($('#ads_r2').length){if(use_js_scroll){if($('#ads_r3').length===0){$('#ads_r2').css('top',Math.max(610,sH-winH));}}}else{$('#ads_page_r').css('position','fixed');}}function adsScroll(sT){var use_js_scroll=use_js_scroll;if(typeof(sT)==='undefined'){if(page==='read'){if(use_js_scroll){sT=$('#read_content').scrollTop();}else{sT=$(window).scrollTop();}}else{sT=0;}}var $ads_page_r=$('#ads_page_r');var sH,cH;if(use_js_scroll){sH=$ads_page_r.prop('scrollHeight');cH=$ads_page_r.height();}else{sH=$(document).height();cH=$(window).height();}var $r1=$('#ads_r1'),$r2=$('#ads_r2'),$r3=$('#ads_r3');var r,n,s,s3;var ads_fix=0;if(use_js_scroll){}if(use_js_scroll&&!ads_fix){$ads_page_r.scrollTop(sT);}var ads_cycle=0;if(ads_cycle&&$r3.length){s=1000;if(ads_fix)s=2000;s3=s*3;r=sT%s3;n=Math.floor(sT/s3);if(ads_fix){$ads_page_r.scrollTop(sT-sT%s);}if(sT>=0&&sT+cH<=sH-700){if(r<s)$r1.css('top',s3*n);if(r+cH>=s&&r<s*2)$r2.css('top',s3*n+s);if(r+cH>=s*2&&r<s3)$r3.css('top',s3*n+s*2);if(r+cH>=s3&&r<s3)$r1.css('top',s3*n+s3);}}else if(ads_cycle&&$r2.length){if(ads_fix){if(sT<=cH){$ads_page_r.scrollTop(0);}else{$ads_page_r.scrollTop(sH-cH-20);}}}}function readPointUp(h){var $read=$('#read_content');scrollTop=$read.scrollTop();var scrollHeight=$read.prop('scrollHeight');var clientHeight=$read.height();if(!use_js_scroll){scrollHeight=$(document).height(),scrollTop=$(window).scrollTop();clientHeight=$(window).height();}if(typeof(h)==='undefined'){h=size;}else if(h===0){h=scrollHeight;}if(ppt_end===1){readScrollBy(0,-h);}else if(!readIsScrollTop()){readScrollBy(0,-h);}else if(h===scrollHeight){readPointIt(0);}else readPointIt(ppt_now-1);if(use_js_scroll){scrollTop=$read.scrollTop();}else{scrollTop=$(window).scrollTop();}if(h>size*5){var lineTop=scrollTop+clientHeight-h-size;var str='<div class=\"pageLine\" style=\" top:'+(lineTop+h)+'px;height:'+h+'px\" ></div>';$('#pageLine').html(str).find('div').animate({top:lineTop},500);}}function readPointDn(h){var $read=$('#read_content');scrollTop=$read.scrollTop();var scrollHeight=$read.prop('scrollHeight');var clientHeight=$read.height();if(!use_js_scroll){scrollHeight=$(document).height(),scrollTop=$(window).scrollTop();clientHeight=$(window).height();}if(typeof(h)==='undefined'){h=size;}else if(h===0){var textH=$('#text').height()-size*3;if(scrollTop<textH){h=textH-scrollTop;}else{h=scrollHeight;}}if(page==='init'&&h!==scrollHeight&&ppt_now===ppt_end&&readIsScrollBot()){$('#anykey').show();anykey=1;}if(ppt_end===1){readScrollBy(0,h);}else if(!readIsScrollBot()){readScrollBy(0,h);}else if(h===scrollHeight){readPointIt(ppt_end);}else{readPointIt(ppt_now+1);}if(ppt_now===ppt_end&&isScrollBot()){pushRead();}if(use_js_scroll){h=$read.scrollTop()-scrollTop;scrollTop=$read.scrollTop();}else{h=$(window).scrollTop()-scrollTop;scrollTop=$(window).scrollTop();}if(h>size*5){var lineTop=scrollTop+clientHeight-h-size;var str='<div class=\"pageLine\" style=\" top:'+(lineTop-h)+'px;height:'+h+'px\" ></div>';$('#pageLine').html(str).find('div').animate({top:lineTop},500);}}function readPointIt(num){var $read=$('#read_content');if(num<1)num=1;if(ppt_end==1){var h=size*22*(num-1);$read.scrollTop(h);return;}if(num>ppt_end)num=ppt_end;if(ppt_now==ppt_end&&num==ppt_end)return;var $ppt=$('#ppt');if(num==1)$ppt.html(ppt[num-1]+'\\n');else if(num==ppt_end)$ppt.html(ppt[num-1]);else $ppt.html(ppt[num-1]+'\\n');ppt_now=num;$read.height($ppt.height()+30);$('#text').hide();$ppt.show();window.scroll(0,0);$read.scrollTop(0);$('#page_num').text('page '+ppt_now+'/'+ppt_end);$('#page_menu_div').show();if(ppt_now==ppt_end){$('#text_comment').show();$('#ads_page_b').show();$('#footer').show();}else{$('#text_comment').hide();$('#ads_page_b').hide();$('#footer').hide();}readLazyLoad();}function prev(){if(pi==='-3'||pi==='-2'){readUpLevel();return;}if(isTrans)return;if(page!='read')return;$('ins').remove();if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();else if(act=='select_class')scClose();if(typeof(id_prev)!='undefined'&&id_prev!=''){toTop=1;if(!use_preload||pageU==3||read_cache[now-1]==''){updatePage('read.ajax.php?bi='+bi+'&ti='+id_prev+'&pi='+pi+'&usePL=0');}else if(typeof(read_cache[now-1])!='undefined'){if(ppt_end!=1){$('#text').show();$('#ppt').hide();}pageL=0;read_cache[now]=page_html;page_html=read_cache[now-1];$('#read').html(page_html);readUpdatePageReady();}else{pageU=2;loading_msg(1);}}else{readUpLevel();}if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();return false;}function next(){if(pi==='-3'||pi==='-2'||now==end-num_bot){readUpLevel();return;}if(isTrans)return;if(page!='read')return;$('ins').remove();if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();else if(act=='select_class')scClose();if(typeof(id_next)!='undefined'&&id_next!=''){toTop=1;if(!use_preload||pageD==3||read_cache[now+1]==''){updatePage('read.ajax.php?bi='+bi+'&ti='+id_next+'&pi='+pi+'&usePL=0');}else if(typeof(read_cache[now+1])!='undefined'){if(ppt_end!=1){$('#text').show();$('#ppt').hide();}pageL=0;read_cache[now]=page_html;page_html=read_cache[now+1];$('#read').html(page_html);readUpdatePageReady();}else{pageD=2;loading_msg(1);}}else readUpLevel();if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();return false;}function readReFirst(){if(pi==='-3'||pi==='-2'){readUpLevel();return;}if(re_first!=0&&re_first!=ti){toTop=1;updatePage('read.ajax.php?bi='+bi+'&ti='+re_first+'&pi='+pi);}if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();}function readRePrev(){if(pi==='-3'||pi==='-2'){readUpLevel();return;}if(re_prev!=0){toTop=1;updatePage('read.ajax.php?bi='+bi+'&ti='+re_prev+'&pi='+pi);}else readUpLevel();if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();}function readReNext(){if(pi==='-3'||pi==='-2'){readUpLevel();return;}if(re_next!=0){toTop=1;updatePage('read.ajax.php?bi='+bi+'&ti='+re_next+'&pi='+pi);}else readUpLevel();if(act=='push1')pushHide();else if(act.substr(0,5)=='reply')replyHide();}function inverseColor(){$('.ansi').css('color','#3F3F3F').css('background-color','#FFFFFF');$('.bg40').css('background-color','#FFFFFF');$('.bg41').css('background-color','#7FFFFF');$('.bg42').css('background-color','#FF7FFF');$('.bg43').css('background-color','#7F7FFF');$('.bg44').css('background-color','#FFFF7F');$('.bg45').css('background-color','#7FFF7F');$('.bg46').css('background-color','#FF7F7F');$('.bg47').css('background-color','#3F3F3F');$('.fg030').css('color','#FFFFFF');$('.fg031').css('color','#7FFFFF');$('.fg032').css('color','#FF7FFF');$('.fg033').css('color','#7F7FFF');$('.fg034').css('color','#FFFF7F');$('.fg035').css('color','#7FFF7F');$('.fg036').css('color','#FF7F7F');$('.fg037').css('color','#3F3F3F');$('.fg130').css('color','#7F7F7F');$('.fg131').css('color','#00FFFF');$('.fg132').css('color','#FF00FF');$('.fg133').css('color','#0000FF');$('.fg134').css('color','#FFFF00');$('.fg135').css('color','#00FF00');$('.fg136').css('color','#0000FF');$('.fg137').css('color','#000000');}function readPageShow(){ppt=$('#text').html();if(!ppt){ppt_end=1;return;}ppt=ppt.split(\"\\n^L\");ppt_end=ppt.length;ppt_now=1;readPointIt(ppt_now);}function pageNumShow(){return;if(page=='init')return;if(ppt.length>1)return;var dH=$(document).height();var wH=$(window).height();var pH=size*22;var sT=$(window).scrollTop();var pageNum_div=$('#pageNum').html('');var str;var num=Math.floor(dH/(size*22));var h,n=1;for(h=pH-size;h<(sT+wH)&&h<dH-size*2;n++,h+=pH){if(h<sT)continue;str='<span class=\"pageNum\" style=\"top:'+(h)+'px;\">'+n+'/'+num+'</span>';pageNum_div.append(str);}$('#pageNum > span').fadeOut(1000);}function readLazyLoad(){if(al_image){$('img').each(imgOnReady);}$('#read iframe').each(iframeOnReady);if(al_image){var sH=$(window).height(),sT=$(window).scrollTop();$('.video').each(function(){var $i=$(this);if($i.find('iframe').length){return true;}if($i.attr('src')||$i.height()===0){return true;}if($i.offset().top+$i.height()<sT||$i.offset().top>sT+sH){return true;}var src=$i.data('src');src=src.replace(/&autoplay=1/,'');$i.html('<iframe width=\"640\" height=\"390\" scrolling=\"no\" src=\"'+src+'\"></iframe>');});}}function readAlImage(){al_image=1;readLazyLoad();$('#deny_image_msg').hide();$('.iframe_chk').hide();$('.showImgBtn').remove();}function imgOnReady(){var $read=$('#read_content');if(page==='init'){$read=$('#init_content');}var isSSL=('https:'===document.location.protocol);var isLocal=(document.location.hostname==='disp.localhost');var $img=$(this);var $div=$img.parents('div.img, div.video');if($img.attr('src')||$div.height()===0){return true;}if(use_js_scroll){if($img.offset().top+$div.height()<0||$img.offset().top>$read.height()*2){return true;}}else{var sH=$(window).height(),sT=$(window).scrollTop();if($img.offset().top+$div.height()<sT||$img.offset().top>sT+sH*2){return true;}}var src=$img.data('src');if(!src){return true;}if(isSSL&&!$img.attr('src')){src=src.replace(/^http:\\/\\/i[23]\\.disp\\.cc\\/ppt\\/([^@]+@\\.\\w+)/,'http://ppt.cc/$1');src=src.replace(/^http:\\/\\/i[23]?\\.disp\\.cc\\/imgur\\d?\\/(\\w+)\\.(\\w+)/,'https://i.imgur.com/$1.$2');}if(src.match(/^https?:\\/\\/(imgur|img)\\.disp\\.cc\\//)){src=src.replace(/img\\.disp\\.cc/,'i4.disp.cc');}var w=$div.width(),h=$div.height();var ori_w=$div.data('ori_w'),ori_h=$div.data('ori_h');var div_style=$div.attr('style');if(!ori_w&&div_style){ori_w=w;ori_h=h;var M=div_style.match(/width: ?(\\d+)px; ?height: ?(\\d+)px/);if(M){ori_w=M[1];ori_h=M[2];$div.data('ori_w',ori_w).data('ori_h',ori_h);}}var r=parseFloat($img.data('ratio'))||1;var dpr=window.devicePixelRatio||1;if(dpr<=1&&r>1){w*=r;h*=r;r=1;$div.width(w).height(h);}var imgur_match=src.match(/(?:https?:)?\\/\\/i\\.imgur\\.com\\/((\\w{7}|\\w{5})\\w?\\.\\w+)/);if(imgur_match!==null&&!$img.attr('src')&&h<w*3){if(w>=h&&w*r<=640&&ori_w>640){src=src.replace(/(\\/\\w{7})h?(\\.\\w{3})$/,'$1l$2');h=Math.round(h*640/w);w=640;}else if(h>w&&h*r<=640&&ori_h>640){src=src.replace(/(\\/\\w{7})h?(\\.\\w{3})$/,'$1l$2');w=Math.round(w*640/h);h=640;}else if(w>=h&&w*r<=1024&&ori_w>1024){src=src.replace(/(\\/\\w{7})l?(\\.\\w{3})$/,'$1h$2');h=Math.round(h*1024/w);w=1024;}else if(h>w&&h*r<=1024&&ori_h>1024){src=src.replace(/(\\/\\w{7})l?(\\.\\w{3})$/,'$1h$2');w=Math.round(w*1024/h);h=1024;}$div.width(w).height(h);}var host='https://disp.cc/';if(location.hostname==='disp.localhost'){host='http://disp.localhost/';}if(imgur_match!==null){var isGif=0;if($div.data('src')&&$div.data('src').match(/\\.mp4/)){isGif=1;src=src.replace(/(\\w{7})\\w?\\.mp4/,'$1l.jpg');}if(isSSL||isLocal){src=src.replace(/^(https:)?\\/\\//,'http://');$img.attr('referrerpolicy','no-referrer');$img.attr('src',src);}else{var imgur_file=imgur_match[1],imgur_id=imgur_match[2];var w=$div.width(),h=$div.height();var iframe_src=host+'iframe/imgur.html?'+imgur_file;if(isGif){iframe_src=host+'iframe/imgur-gif.html?'+imgur_id+'.mp4';}$div.html('<iframe style=\"width:'+w+'px;height:'+h+'px;\" src=\"'+iframe_src+'\" frameborder=\"0\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" />');$div.find('iframe').on('load',iframeOnLoad);}return;}$img.attr('referrerpolicy','no-referrer');$img.attr('src',src);}function iframeOnReady(){var $read=$('#read_content');if(page==='init'){$read=$('#init_content');}var isSSL='https:'===document.location.protocol;var $i=$(this);if($i.attr('src')||$i.height()===0){return true;}if(use_js_scroll){if($i.offset().top+$i.height()<0||$i.offset().top>$read.height()*2){return true;}}else{var sH=$(window).height(),sT=$(window).scrollTop();if($i.offset().top+$i.height()<sT||$i.offset().top>sT+sH*2){return true;}}var src=$i.data('src');if(typeof(src)==='undefined'){return true;}if(isSSL){src=src.replace('http://i.disp.cc/imgur.htm','//disp.cc/iframe/imgur.htm');}if(al_image&&allowIframe(src)){$i.attr('src',src).parents('.iframe').css('background-color','transparent');}else if($i.prev('.iframe_chk').length===0){if(src.match(/^(\\.\\.)?\\/iframe\\//)){src=src.replace(/^(\\.\\.)?\\/iframe\\/[^\\?]*\\?href=/,'');src=src.replace(/^(\\.\\.)?\\/iframe\\/[^\\?]*\\?width=\\d+&url=/,'');src=src.replace(/^(\\.\\.)?\\/iframe\\/imgur-embed\\.php\\?imgurId=(\\w+)/,'https://imgur.com/$1');src=src.replace(/^(\\.\\.)?\\/iframe\\/imgur-gif\\.html\\?(\\w+)\\.mp4.*/,'https://imgur.com/$1');src=decodeURIComponent(src);}$i.before('<div class=\"btn iframe_chk\">顯示 '+src+' 的內容</div>').parents('.iframe').css('background-color','#222');}readResizeH();}function readResizeW(){if(page!='read'&&page!='init')return;$('div.img,div.video').each(function(){var $div=$(this);if($div.length===0){return true;}var w=$div.width(),h=$div.height();if(0&&$div.parents('.ptt-push-group').length){if(h>800&&w>400){$div.height(800);$div.width(Math.round(w*800/h));}}var ori_w=$div.data('ori_w'),ori_h=$div.data('ori_h');var div_style=$div.attr('style');if((!ori_w||!ori_h)&&div_style){ori_w=w;ori_h=h;var M=div_style.match(/width: ?(\\d+)px; ?height: ?(\\d+)px/);if(M){ori_w=M[1];ori_h=M[2];$div.data('ori_w',ori_w).data('ori_h',ori_h);}}if(w<ori_w){h=Math.round(ori_h*w/ori_w);if($div.parents('.quote_in').length){$div.css('float','none').height(h).css('float','left');}else{$div.height(h);}if(h!==0){$div.find('iframe').height(h);}}});$('div.iframe').each(function(){var $i=$(this),w=0,max_w=$('#text').width(),h;if($i.attr('style'))w=$i.attr('style').replace(/.*width: ?(\\d+)px.*/,'$1');if(w>max_w){h=parseInt($i.height()*max_w/w,10);if(h>0){$i.width(max_w).height(h);}}});$('#text iframe').each(function(){var $i=$(this),w=0,max_w=$('#text').width(),h;if($i.attr('width'))w=$i.attr('width');if(w>max_w){h=parseInt($i.attr('height')*max_w/w,10);if(h>0){$i.width(max_w).height(h);}}});$('#push_text_div iframe').each(function(){var $i=$(this),w=0,max_w=$i.parents('.pushContent').width(),h;if($i.attr('width'))w=$i.attr('width');if(w>max_w){h=parseInt($i.attr('height')*max_w/w,10);if(h>0){$i.width(max_w).height(h);}}});}function readResizeH(){$('.adsbygoogle').each(function(){if($(this).height()===0){$(this).find('iframe').height(0);}});adsResizeH();if(!use_js_scroll){return;}if(page!='read'&&page!='init'){return;}if(isMobile||isIE==8){return;}var $read_content=$('#read_content');var winH=$(window).height()-10;$read_content.css('max-height',winH).height('auto').css('overflow','hidden auto');$('#read').css('overflow','hidden');var setHeight=0;if($read_content.height()>=winH){setHeight=winH;}else{setHeight=$read_content.prop('scrollHeight')}if(setHeight){$read_content.height(setHeight);}addScroller($('#read'));}function readShare(){if($('#share_menu').length){return;}var g=window.g;var url='https://disp.cc/b/';if(location.hostname==='disp.localhost'){url='http://disp.localhost/b/';}if(parseInt(g.pi)<0){url+=g.bn+'/'+g.ti;}else{url+=g.bi+'.'+g.pi+'-'+g.ti;}if(authkey!=''){url+='?authkey='+authkey;}var URI=encodeURIComponent(url);var title=encodeURIComponent(document.title);var w=size*15;var html='<div id=\"share_menu\"><span class=\"R0 btn\" onclick=\"readShareHide()\">關閉✕</span>'+'分享網址: <span class=\"btn copy-btn\">複製</span> <span class=\"hide copy-btn-msg\">已複製</span><p /><input type=\"text\" class=\"input\" value=\"'+url+'\" onMouseOver=\"this.select()\" /><p />'+'網址+ (標題): <span class=\"btn copy-btn\">複製</span> <span class=\"hide copy-btn-msg\">已複製</span><p /><input type=\"text\" class=\"input\" value=\"'+url+' ('+document.title+')\" onMouseOver=\"this.select()\" title=\"'+url+' ('+document.title+')\" /><p />';if(!alShare){html+=\"<看板或文章設為非公開閱讀>\";if(authkey!=''){html+=\"<br>可利用分享網址的連結讓人閱讀\";}}else{html+='分享至: <a class=\"fb_share\" target=\"_blank\" onClick=\"readShareHide()\"  href=\"https://www.facebook.com/sharer.php?u='+URI+'&t='+title+'\">&nbsp;facebook&nbsp;</a> <a class=\"plurk_share\" target=\"_blank\" onClick=\"readShareHide()\"  href=\"https://www.plurk.com/?qualifier=shares&status='+URI+'%20%28'+title+'%29\">&nbsp;plurk&nbsp;</a>'+'</div>';}$('#readBtn').append(html).click(function(e){e.stopPropagation();});;var $share_menu=$('#share_menu');$share_menu.find('input').first().select();$share_menu.on('click','.copy-btn',g.inputCopy);$share_menu.click(function(e){e.stopPropagation();});}function readShareHide(){$('#share_menu').remove();}function readShareToggle(){if($('#share_menu').length)readShareHide();else readShare();}$(function(){$(document).click(function(e){if(e.which==1)readShareHide();});});function imgOnLoad(){var $i=$(this),$div=$i.parents('div.img');var src=$i.attr('src');var r=parseFloat($i.data('ratio'))||1;var img=this;let img_idx=null;var useUploadImgur=0;if(src.match(/^https?:\\/\\/i\\.imgur\\.com\\/\\w{7}\\w?\\.\\w+$/)){img_idx=$('img').index($i);if(g.ui&&r===1&&img_idx<3&&g.sys_load<1){useUploadImgur=1;}if(useUploadImgur){if(img.getAttribute('data-isUpload')==='1'){useUploadImgur=0;}else if(g.ui===1&&g.imgUploadImgurNum>=3){useUploadImgur=0;}else if(g.ui!==1&&g.imgUploadImgurNum>=1){useUploadImgur=0;}}}if(useUploadImgur){var maxSize=(img_idx===0)?1200:800;img.src=src.replace(/^http:/,'https:');img.crossOrigin='anonymous';imgUploadImgur(img,maxSize);}var ori_w=img.naturalWidth,ori_h=img.naturalHeight;if(ori_w===0||ori_h===0){return;}if(Math.abs(ori_h-$div.data('ori_h'))>15){if(g.ui){$.post(g.api_url+'get.php?act=setImgSize'+'&ti='+g.ti+'&pttaid='+g.pttaid+'&src='+encodeURIComponent($i.attr('src'))+'&w='+ori_w+'&h='+ori_h,{isLogin:1});}}$div.data('ori_w',ori_w).data('ori_h',ori_h);var setResize=0;var max_w=$div.width();if(max_w<ori_w){var new_h=Math.round(ori_h*max_w/ori_w);$div.height(new_h);setResize=1;}else{$div.width(ori_w).height(ori_h);setResize=1;}if(setResize){readResizeH();}if(-1!==$.inArray(g.ti,['96Gn'])){$div.css('background-color','white');}else{$div.css('background-color','transparent');}}function imgOnError(){var $i=$(this),$div=$i.parents('div.img');var src=$i.attr('src');var imgur_match=src.match(/(?:https?:)?\\/\\/i\\.imgur\\.com\\/((\\w{7})\\w?\\.\\w+)/);if(imgur_match!==null){var imgur_id=imgur_match[2];var embed='<blockquote class=\"imgur-embed-pub\" lang=\"en\" data-id=\"'+imgur_id+'\"><a href=\"//imgur.com/'+imgur_id+'\"></a></blockquote>\u003cscript async src=\"//s.imgur.com/min/embed.js\" charset=\"utf-8\"><\/script>';$div.after(embed);$div.remove();return;}var M=src.match(/^https?:\\/\\/(?:i\\d?\\.disp\\.cc\\/imgur|imgur\\.disp\\.cc\\/\\w\\w)\\/(\\w+\\.\\w+)/);if(M!==null){const imgur_file=M[1];var replace_src='http://i.imgur.com/'+M[1];if(imgur_file.match(/^\\w{8}\\.\\w+/)){replace_src=src.replace(/(\\w{7})\\w(\\.\\w+)$/,'$1$2');}$i.attr('referrerpolicy','no-referrer').attr('src',replace_src);if(g.ui){$.post(g.api_url+'get.php?act=fixDelImgur'+'&ti='+g.ti+'&pttaid='+g.pttaid+'&src='+encodeURIComponent(src),{isLogin:1});}return;}if($i.attr('referrerpolicy')!=='no-referrer'){$i.attr('referrerpolicy','no-referrer');return;}$div.hide();}function imgUploadImgur(img,maxSize=800){const src=img.src;var w=img.naturalWidth,h=img.naturalHeight;if(!w||!h||w<=20||h<=20){return;}if(h>w*4){return;}var maxWidth=maxSize,maxHeight=maxSize;if(w>h*1.5){maxWidth=maxSize*1.5;}else if(h>w*2){maxHeight=maxSize*2;}if(maxWidth>0&&w>maxWidth){h*=maxWidth/w;w=maxWidth;}if(maxHeight>0&&h>maxHeight){w*=maxHeight/h;h=maxHeight;}const canvas=document.createElement('canvas');canvas.width=w;canvas.height=h;const ctx=canvas.getContext('2d');ctx.drawImage(img,0,0,w,h);const dataUrl=canvas.toDataURL();const dataMatch=dataUrl.match(/^data:(image\\/\\w+);base64,(.*)/);const type=dataMatch[1],base64=dataMatch[2];const filesize=parseInt(base64.length*3/4,10);if((w>600&&filesize<20000)||(w>300&&filesize<10000)){if(g.ui===1){console.log('filesize:'+filesize);}return;}var notExist=0;if(w===161&&h===81&&filesize<1700){if(g.ui===1){console.log('image not exist,filesize:'+filesize);}notExist=1;}if(g.ui===1){console.log('uploadImgur:'+src);}img.setAttribute('data-isUpload','1');g.imgUploadImgurNum++;$.post(g.api_url+'get.php?act=uploadImgur&ti='+g.ti+'&pttaid='+g.pttaid,{base64:base64,src:src,type:type,notExist:notExist},function(api){if(!api.isSuccess&&g.ui===1){console.log(api.errorMessage);}});}function iframeOnLoad(){var $i=$(this);var src=$i.data('src');var g=window.g;if(src&&src.match(/^(https:\\/\\/disp\\.cc|\\.\\.)?\\/iframe\\//)){var i=this;if(i.contentWindow.document.title==='404 Not Found'){src=src.replace(/^(https:\\/\\/disp\\.cc|\\.\\.)?\\//,'https://i4.disp.cc/');$i.attr('src',src);return;}if(src&&src.match(/^(\\.\\.)?\\/iframe\\/(fb-post)\\.php/)){$i.attr('scrolling','auto');}};if(src&&src.match(/^(\\.\\.)?\\/iframe\\/(fb-post|fb-video|twitter|twitter-video|imgur-embed|imgur|ig)\\.php/)){var i=this;var resizeIframeH=function(){var h=0,w=0;if(i.contentWindow){w=i.contentWindow.document.body.offsetWidth;h=i.contentWindow.document.body.offsetHeight;}if(h===$i.height()){return;}var setResize=0;if(h>800&&$i.data('src').match(/\\/(fb-video|twitter-video)\\.php/)){w=Math.round(w*800/h);if(w<500){w=500;}h=800;if(i.height!=='800'){i.style.width=w+'px';i.style.height=h+'px';setResize=1;}}else if(h>200){i.style.height=h+'px';setResize=1;}if(setResize){readResizeH();if(g.ui){$.post(g.api_url+'get.php?act=setIframeH'+'&ti='+g.ti+'&pttaid='+g.pttaid+'&src='+encodeURIComponent($i.data('src'))+'&w='+w+'&h='+h,{isLogin:1});}}};setTimeout(resizeIframeH,1000);setTimeout(resizeIframeH,3000);}};$(function(){$('#read').on('mouseenter','.ansi_group',readAnsiGroupEnter).on('mouseleave','.ansi_group',readAnsiGroupLeave).on('click','.ansi_group_img',readAnsiGroupImg).on('click','.ansi_group_html',readAnsiGroupHtml);});function readAnsiGroupEnter(){var $i=$(this);if(!$i.data('img')){return;}if(!$i.find('.img').length){if(!$i.find('.ansi_group_img').length){$i.prepend('<div class=\"ansi_group_img\">檢視模式: <span class=\"fgW1\">HTML</span> <span class=\"btn\">圖片</span></div>');}}else{if(!$i.find('.ansi_group_html').length){$i.prepend('<div class=\"ansi_group_html\">檢視模式: <span class=\"btn\">HTML</span> <span class=\"fgW1\">圖片</span></div>');}}}function readAnsiGroupLeave(){var $i=$(this);$i.find('.ansi_group_img').remove();$i.find('.ansi_group_html').remove();}function readAnsiGroupImg(){var $group=$(this).parent('.ansi_group');var src=$group.data('img'),w=$group.data('width'),h=$group.data('height');var font_size=size;if(typeof(font_size)!=='undefined'&&font_size!==20){w=parseInt(w*font_size/20,10);h=parseInt(h*font_size/20,10);}$group.find('.ansi_group_img').remove();var html='<div class=\"img\" style=\"width:'+w+'px;height:'+h+'px\"><img src=\"'+src+'\" alt=\"[圖]\" /></div><div class=\"hide\">'+$group.html()+'</div>';$group.html(html);}function readAnsiGroupHtml(){var $group=$(this).parent('.ansi_group');var html=$group.find('.hide').html();$group.html(html);}function pushShow(){if(!isLogin){if(b_push==0)pushAddShow(3);else sys_msg('此看板要登入才能推文');return;}if(text_mark===3){sysAlert('本文已被設定禁止回應');return;}if(b_push==2&&!isFriend){sys_msg('此看板要板友才能推文');return;}if(act=='push1'){pushHide();return;}if(act.substr(0,5)=='reply'){replyHide();act='none';}$('#push_type_div').show();act='push1';}function pushHide(){act='none';$('#push_type_div').hide();}function pushAddShow(push_type){if(ppt_end!=1&&ppt_now!=ppt_end)readPointIt(ppt_end);pushRead();$(\"#action\").hide();$('#push_type').text(push_type);$('#push_type_div').hide();$(\"#pushAdd_div\").show();$('#ads_page_b').hide();readResizeH();var $input=$(\"#pushAdd_input\");var push_content_width=$('.pushContent:visible').width();if(!push_content_width){push_content_width=$('#read').width()-size*14;}$input.width(push_content_width).blur().focus();var push_content_height=Math.floor($input[0].scrollHeight/size)*size;if(push_content_height<16){push_content_height=16;}$input.height(push_content_height);readScrollBy(0,$('#read_content').prop('scrollHeight'));act='push2';$.get(g.b_url+'act_push.ajax.php?act=pts&bi='+bi+'&ti='+ti+'&push_type='+push_type,function(data){if('error:'===data.substr(0,6)){pushAddHide();alert(data);}else{$('#push_type_str').html('<pre>'+data+'</pre>');}});}function pushAddHide(){act='none';$(\"#action\").show();$(\"#pushAdd_div\").hide();readResizeH();}function pushAddSubmit(){var g=window.g;if(isTrans)return;var push_type_str=$('#push_type_str').html();var push_str=$('#pushAdd_input').val();if(push_str===''){pushAddHide();return;}var use_parseImg=($('#use_parseImg').attr('checked'))?1:0;pushRead();var have_ansi=push_str.match(/\\x1B\\[/);var have_bbcode=push_str.match(/\\[[^\\[\\]\\n]+\\]/);var have_http=push_str.match(/https?:\\/\\/\\S+/);var push_content_width=$('.pushContent:visible').width();if(!push_content_width){push_content_width=$('#read').width()-size*14;}if(!have_ansi&&!have_bbcode&&!have_http){act='push3';$('#pushAdd_div').hide();$('#push_confirm_div').show();$('#push_confirm_type').html(push_type_str);push_str=push_str.replace(/(　| )+\\n/,'\\n');push_str=push_str.replace(/^\\n+/,'').replace(/(　|\\s)+$/,'');push_str=push_str.replace(/</,'&lt;');push_str=push_str.replace(/\\n{2,}/g,'<div class=\"d5h\"> </div>');$('#push_confirm_str').html('<pre>'+push_str+'</pre>').width(push_content_width);readScrollBy(0,$('#read_content').height());return;}isTrans=1;loading_msg(1);$.post(g.b_url+'act_push.ajax.php?act=preview&bi='+g.bi+'&ti='+g.ti+'&use_parseImg='+use_parseImg,{push_str:push_str},function(html){isTrans=0;loading_msg(0);act='push3';$('#pushAdd_div').hide();$('#push_confirm_div').show();$('#push_confirm_type').html(push_type_str);$('#push_confirm_str').html('<pre>'+html+'</pre>').width(push_content_width);readLazyLoad();readScrollBy(0,$('#read_content').height());},\"html\");}function push_confirm(ans){var g=window.g;if(act!='push3')return;if(ans==0||ans==3){$('#push_confirm_div').hide();$(\"#pushAdd_div\").show();$(\"#pushAdd_input\").blur().focus();act='push2';if(ans==3){var INPUT=$('#pushAdd_input');INPUT.height(INPUT.height()+size).val(INPUT.val()+\"\\n\");}return;}act='none';$(\"#action\").show();$('#push_confirm_div').hide();$('#fav_btn').text('m)不訂閱');var push_type=$('#push_type').text();var push_str=$('#pushAdd_input').val();var use_parseImg=($('#use_parseImg').attr('checked'))?1:0;$.post(g.b_url+'act_push.ajax.php?act=add&push_type='+push_type+'&bi='+g.bi+'&ti='+g.ti+'&use_parseImg='+use_parseImg,{push_str:push_str,csrf_code:g.csrf_code},function(text){if(text!=='1'){sysAlert(text);return;}$('#good_div').load(g.b_url+'good.ajax.php?bi='+g.bi+'&ti='+g.ti);push_last_ti=g.ti;push_last_input=$('#pushAdd_input').val();$(\"#pushAdd_input\").height(size).val('');pushRead_ms=0;pushRead(1);readLazyLoad();},\"text\");}function pushRead(scroll_bot){if(sys_load>10)return;if($('.pushReadMore').length===0){var ms=new Date().getTime();if(ms-pushRead_ms<(Math.random()+2)*1000)return;}pushRead_ms=ms;$('.pushReadMore').remove();if(isPushRead!=0||$('#push_text_div').length==0)return;isPushRead=1;if(typeof(scroll_bot)==='undefined'){scroll_bot=0;}var lpi=0;if($('#push_text_div').find('.pushLine').length){lpi=$('#push_text_div > .pushLine:last').attr('id').substr(8);}$.get(g.b_url+'push.ajax.php?isAjax=1&bi='+bi+'&ti='+ti+'&last_push_id='+lpi,function(html){isPushRead=0;if(html=='')return;$('#push_text_div').append(html);if(scroll_bot)readScrollBy(0,size*22);readResizeH();readResizeW();page_html='';pushLimitHeight();},\"html\");}function pushPointIt(){if(act!=='none'){return;}id=this.id.substr(8);if(id!==pushPointId){pushPointOut();}var $line=$('#pushLine'+id),push_type=parseInt($line.data('push_type'),10),isPushAuthor=(ui==$line.attr('ai')),isPushBM=(isBM&&bi==$line.attr('bi'));var select=$line.data('select')|0;if(!select){$line.css('background-color','#111');}$line.find('.pushRight').hide();$line.find('.push_btn').remove();if(5===push_type){var push_btn_html='';if($line.data('del_ui')==ui){push_btn_html+='<span class=\"btn\" onClick=\"pushUndel(event)\">還原</span> ';}if(isAuthor){push_btn_html+='<span class=\"btn\" onClick=\"pushRe(event)\">回應</span>';}if(push_btn_html!=''){$line.prepend('<div class=\"push_btn\">'+push_btn_html+'</div>');}}else if(4===push_type){if(ui===1||isAuthor||isPushAuthor||isPushBM){$line.prepend('<div class=\"push_btn btn\" onClick=\"pushDel(event)\">刪除</div>');}}else{var info=$line.find('.pushInfo').text();var num=info.match(/^\\d+/);if(num<10)num=num+'樓';else if(num<100)num=num+'F';var push_btn_html='<div class=\"push_btn\" title=\"'+info+'\">'+'<span class=\"pushLike btn\" onclick=\"pushLikeUserToggle(event)\">'+$line.find('.pushLike').html()+'</span>&nbsp;&nbsp;&nbsp;&nbsp;'+'<span class=\"btn fgW1\" onClick=\"pushLike(event)\">讚</span> ';if(al_dislike){push_btn_html+='<span class=\"btn fgR0\" onClick=\"pushUnlike(event)\">瞎</span> ';}if(ui==1||isAuthor||isPushAuthor||isPushBM||$line.find('.pushTime').text()==='　(編輯過)'){push_btn_html+='<span class=\"btn\" onClick=\"pushMenuShow(event)\">'+num+' ▾</span>';}else{push_btn_html+='<span class=\"fgG0\">'+num+'　</span>';}push_btn_html+='</div>';$line.prepend(push_btn_html);var isCover=$line.data('cover');if(isCover){$line.find('.pushCoverString').html('此推文已被隱藏 <span class=\"btn\">點此顯示</span>').click(pushCoverStringShow);}}pushPointId=id;}function pushPointOut(){if(act!=='none')return;var $line=$('#pushLine'+pushPointId);var select=$line.data('select')|0;if(!select){$line.css('background-color','#000');}$line.find('.pushRight').show();$line.find('.push_btn').remove();pushMenuHide();var isCover=$line.data('cover');if(isCover){$line.find('.pushCoverString').html('···');}}function pushClick(){if(act!=='none'){return;}var $row=$(this),selectId=$row.find('.pushAuthor').text();var select=$row.data('select')|0;$('#push_text_div .pushLine').each(function(){var $i=$(this),id=$i.find('.pushAuthor').text();if(id===selectId&&select===0){$i.data('select',1).css('background-color','#222');}else{$i.data('select',0).css('background-color','#000');}});}function pushMenuShow(e){if(e){e.stopPropagation();}if(!isLogin){return;}var $line=$('#pushLine'+pushPointId);if($line.find('.push_menu').length){pushMenuHide();return;}var isPushAuthor=(ui==$line.attr('ai'));var menu_html='<div class=\"push_menu\">';if($line.find('.pushTime').text().match(/\\(編輯過\\)/)){menu_html+='<div class=\"btn\" onclick=\"window.open(\\'/b/push_history.php?id='+pushPointId+'\\')\">編輯記錄</div>';}if(ui==1||isAuthor||(isBM&&bi==$line.attr('bi'))){if($line.data('cover')=='1'){menu_html+='<div class=\"pushUncoverBtn btn\">解除隱藏</div>';}else{menu_html+='<div class=\"pushCoverBtn btn\">隱藏</div>';}}if(ui==1||isAuthor||isPushAuthor||(isBM&&bi==$line.attr('bi'))){menu_html+='<div class=\"btn\" onClick=\"pushDel(event)\">刪除</div>';if(isPushAuthor)menu_html+='<div class=\"btn\" onClick=\"pushEdit(event)\">編輯</div>';if(isAuthor)menu_html+='<div class=\"btn\" onClick=\"pushRe(event)\">回應</div>';}menu_html+='</div>';$line.append(menu_html);}function pushMenuHide(){var $line=$('#pushLine'+pushPointId);$line.find('.push_menu').remove();}function pushLikeUserToggle(e){if(e){e.stopPropagation();}var $pushLine=$('#pushLine'+pushPointId);if($pushLine.find('.pushLikeUser').length){$pushLine.find('.pushLikeUser').remove();}else pushLikeUser();}function pushLikeUser(){var $pushLine=$('#pushLine'+pushPointId);$.get(g.b_url+'act_push.ajax.php?act=likeUser&pi='+pushPointId,function(html){if($pushLine.find('.pushLikeUser').length===0){$pushLine.find('.pushContent').after('<div class=\"pushLikeUser\"></div>');}$pushLine.find('.pushLikeUser').html(html);},\"html\");}function pushLike(e){if(e){e.stopPropagation();}if(!isLogin){sys_msg('請先登入');return;}var $pushLike=$('#pushLine'+pushPointId).find('.pushLike');$.get(g.b_url+'act_push.ajax.php?act=like&bi='+bi+'&ti='+ti+'&pi='+pushPointId,function(text){if(text.substr(0,1)==='+'){$pushLike.css('color','#FFF').text(text);}else if(text.substr(0,1)==='-'){$pushLike.css('color','#800000').text(text);}else if(text==='0'){$pushLike.text('');}else{sys_msg(text);}read_cache.splice(now,1);pushLikeUser();},\"text\");}function pushUnlike(e){if(e){e.stopPropagation();}if(!isLogin){sys_msg('請先登入');return;}var $pushLike=$('#pushLine'+pushPointId).find('.pushLike');$.get(g.b_url+'act_push.ajax.php?act=unlike&bi='+bi+'&ti='+ti+'&pi='+pushPointId,function(text){if(text.substr(0,1)=='+'){$pushLike.css('color','#FFF').text(text);}else if(text.substr(0,1)=='-'){$pushLike.css('color','#800000').text(text);}else if(text=='0'){$pushLike.text('');}else{sys_msg(text);}read_cache.splice(now,1);pushLikeUser();},\"text\");}$(function(){$('#read').on('click','.pushContentLimitBtn',function(){var $i=$(this);$i.prev('.pushContentLimit').height('auto');$i.remove();});});function pushLimitHeight(){if(-1===$.inArray(bi,[163,796,773,1159]))return;$('.pushContent').each(function(){var $i=$(this);if($i.height()<=size*24)return true;var content=$i.html();$i.html('<div class=\"pushContentLimit\">'+content+'</div>'+'<div class=\"pushContentLimitBtn btn\">[顯示更多...]</div>');});}function pushCoverStringShow(){var $i=$(this);$i.hide().next('.pushContent').show();readResizeH();return false;}function pttPushPointIt(){if(act!=='none'){return;}var $row=$(this),row_idx=$row.index(\".push_row\");var select=$row.data('select')|0;if(row_idx!==pttPushPointIdx){$('#text .push_row').eq(pttPushPointIdx).each(pttPushPointOut);}if(!select){$row.css('background-color','#111');pttPushPointIdx=row_idx;}}function pttPushPointOut(){var $row=$(this);var select=$row.data('select')|0;if(!select){$row.css('background-color','#000');}}function pttPushClick(){var $row=$(this),selectId=$row.find('.fg133,.ptt-push-author').first().text();var select=$row.data('select')|0;if(ui){if($row.find('.PttPushCoverStr').length){$row.prepend('<span class=\"ptt-user-ban btn\" data-setban=\"0\">解除隱藏</span>');}else{$row.prepend('<span class=\"ptt-user-ban btn\" data-setban=\"1\">隱藏</span>');}}$('#text .push_row').each(function(){var $i=$(this),id=$i.find('.fg133,.ptt-push-author').first().text();if(id===selectId&&select===0){$i.data('select',1).css('background-color','#222');}else{$i.data('select',0).css('background-color','#000');if(ui){$i.find('.ptt-user-ban').remove();}}});}function pttPushCoverStrShow(){var $row=$(this);$row.hide().next('.PttPush').show();readResizeH();return false;}function pttUserSetBan(){var $i=$(this);var setBan=$i.data('setban');var pttid=$i.parent('.push_row').find('.ptt-push-author').first().text();var post_url=g.api_url+'user.php?act=pttUserSetBan&pttid='+pttid+'&setBan='+setBan;if(setBan){var confirm_str='確定要隱藏PTT帳號「'+pttid+'」所有的推文？';}else{var confirm_str='確定要解除隱藏PTT帳號「'+pttid+'」所有的推文？';}if(confirm(confirm_str)){$.post(post_url,{isLogin:1},function(api){if(!api.isSuccess){alert(api.errorMessage);return;}var data=api.data;localStorage.ptt_ban_list=JSON.stringify(data.ban_list);localStorage.ptt_unban_list=JSON.stringify(data.unban_list);pttPushCoverLoad();sys_msg('設定成功');},'json');}return false;}function pttPushCoverLoad(){if(!ui){return;}var l=localStorage;if(!l.ptt_ban_list){l.ptt_ban_list='[]';}if(!l.ptt_unban_list){l.ptt_unban_list='[]';}var ban_list=JSON.parse(l.ptt_ban_list);var unban_list=JSON.parse(l.ptt_unban_list);if(ban_list.length===0&&unban_list.length===0){return;}$('#text .push_row').each(function(){var $i=$(this);var pttid=$i.find('.fg133,.ptt-push-author').first().text();var cover=$i.data('cover')|0;var isCover=$i.find('.PttPushCoverStr').length;var userSetCover=(-1!==$.inArray(pttid,ban_list));var userSetUncover=(-1!==$.inArray(pttid,unban_list));var setCover=0,setUncover=0;if(userSetCover||(cover===1&&!userSetUncover)){if(!isCover){setCover=1;}}else if(userSetUncover||(cover===0&&!userSetCover)){if(isCover){setUncover=1;}}if(setCover){var row_html=$i.html();row_html='<div class=\"PttPushCoverStr pointer\" title=\"此推文已被隱藏，點此顯示\">→ <span class=\"fgY1\">'+pttid+'</span> <span class=\"fgG0\">…</span></div>'+'<div class=\"PttPush hide\">'+row_html+'</div>';$i.html(row_html);$i.next(\"div[align='center']\").remove();}else if(setUncover){var row_html=$i.find('.PttPush').html();if(row_html){$i.html(row_html);}}});}function readKeyFunction(e){if(page!=='read'){return true;}var keyCode=(e.which)?e.which:e.keyCode;var ctrlKey=e.ctrlKey,altKey=e.altKey;if(act=='none'){switch(keyCode){case 38:if(ctrlKey||shiftKey)prev();else if(ppt_now==1&&readIsScrollTop())prev();else readPointUp(size);return false;case 75:prev();return false;case 107:if(ctrlKey)return true;if(ppt_now==1&&readIsScrollTop())prev();else readPointUp(size);return false;case 40:if(ctrlKey||shiftKey)next();else if(ppt_now==ppt_end&&readIsScrollBot())next();else readPointDn(size);return false;case 74:if(ctrlKey)return true;next();return false;case 106:if(ppt_now==ppt_end&&readIsScrollBot())next();else readPointDn(size);return false;case 66:if(ctrlKey)return true;initSet();return false;case 98:prev();return false;case 102:next();return false;case 60:readScrollBy(-size,0);return false;case 62:readScrollBy(size,0);return false;case 33:if(!lastPgDnH)lastPgDnH=$(window).height()-size*3;readPointUp(lastPgDnH);return false;case 34:lastPgDnH=$(window).height()-size*3;readPointDn(lastPgDnH);return false;case 32:if(shiftKey){readPointUp(size*22);}else if(ppt_now==ppt_end&&readIsScrollBot()){next();}else{readPointDn(size*22);}return false;case 80:readPointUp(size*22);return false;case 112:prev();return false;case 78:readPointDn(size*22);return false;case 110:next();return false;case 39:lastPgDnH=size*22;readPointDn(lastPgDnH);return false;case 35:readPointDn(0);return false;case 36:if(shiftKey)readPointDn(0);else readPointUp(0);return false;case 61:case 43:readReFirst();return false;case 91:readRePrev();return false;case 93:readReNext();return false;case 113:case 117:readUpLevel();return false;case 37:if(shiftKey)pushShow();else readUpLevel();return false;case 72:readPointUp(0);return false;case 104:help();return false;case 71:readPointDn(0);return false;case 103:if(!isLogin){sys_msg('請先登入');return false;}goodShow();return false;case 121:case 114:reply();return false;case 76:if(ctrlKey)return true;;if(altKey){inverseColor();return false;}if(!isLogin){sys_msg('請先登入');return false;}dislike();return false;case 108:if(!isLogin){sys_msg('請先登入');return false;}good();return false;case 101:case 69:if(ctrlKey||shiftKey)return true;if(isAuthor||ui==1){allowUnload=1;self.location.href=g.root_url+'editor/editor.php?type=edit&bi='+bi+'&ti='+ti+'&ri='+ri+'&pi='+pi+'&pn='+now;}return false;case 100:if(alDel)textDel();return false;case 109:if(ctrlKey)return true;text_fav(bi,ti);return false;case 88:if(ctrlKey)transShow();else pushShow();return false;case 120:pushShow();return false;case 99:if(!isFriend&&!isBM)return true;scStart();return false;case 27:readShareHide();return true;}}else if(act=='good'){switch(keyCode){case 49:case 13:good();return false;case 50:dislike();return false;case 27:case 113:goodHide();return false;}}else if(act=='push1'){switch(keyCode){case 49:pushAddShow(1);return false;case 50:pushAddShow(2);return false;case 51:case 13:pushAddShow(3);return false;case 27:case 113:pushHide();return false;default:return false;}}else if(act=='push2'){var $input=$('#pushAdd_input');setTimeout(function(){var sH=Math.floor($input[0].scrollHeight/size)*size;var aH=sH-$input.height();if(aH>0&&sH<size*10&&sH>=size){$input.height(sH);readScrollBy(0,aH);}},1);switch(keyCode){case 13:if(ctrlKey||shiftKey){inputInsEnter($input[0]);readScrollBy(0,size);}else{pushAddSubmit();}return false;case 27:pushAddHide();return false;default:return true;}}else if(act=='push3'){switch(keyCode){case 13:push_confirm(1);return false;case 27:push_confirm(0);return false;case 101:push_confirm(3);return false;default:return false;}}return true;}$(function(){if(page!='init')return;$(window).scroll(function(e){readLazyLoad();pageNumShow();});});function initReady(){pageL=0;initPreloadL();readPageShow();haveInit=1;if(-1!==$.inArray(bi,bi_over18)){show_over18=1;}else{show_over18=0;}if(show_over18&&'undefined'===typeof(localStorage.isOver18)){var src=$('#over18confirm').find('img').data('src');$('#over18confirm').show().find('img').attr('src',src);}if(isScrollBot()){$('#anykey').show();anykey=1;}else anykey=0;$('img').each(imgOnReady);$('iframe').each(iframeOnReady);$('div.img').each(function(){var $i=$(this),w=0;if(typeof($i.attr('style'))!=='undefined'){w=$i.attr('style').replace(/.*width: ?(\\d+)px.*/,'$1');}var max_w=$('#text').width();if(w>max_w){$i.width(max_w).height($i.height()*max_w/w);}});$('#read iframe').each(function(){var $i=$(this),w=$i.attr('width'),max_w=$('#text').width();if(w>max_w)$i.width(max_w).height($i.attr('height')*max_w/w+10);});$('div.img').find('img').on('load',function(){var img=$(this);var h=img.height(),w=img.width();if(h==0||w==0)return;img.parents('div.img').height(h).width(w).css('background-color','transparent');});var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var msie_ver=0;if(msie>0){msie_ver=parseInt(ua.substring(msie+5,ua.indexOf('.',msie)),10);}if(msie&&msie_ver<=7){var text=$('#text > pre').html().replace(/<\\/div>\\s\\s<div class=ansi/gi,\"</div><div class=ansi\").replace(/<div class=ansi14/gi,\"<div class=ansi15\").replace(/font-size:14px/gi,'font-size:15px').replace(/\\n/g,'<br />');$('#text > pre').html(text);}$('.ansi').each(function(){if($(this).find('pre').height()>=$(this).height()*2)$(this).height($(this).find('pre').height());});$('#text a').click(function(){if(anykey==1){initHide();return false;}});$('#ads_page_b').hide();$('#footer').hide();}function initUpdatePageReady(){initReady();var href=bn;if(history.pushState){if(hash==='#popstate'){hash='';}else{history.pushState({},'',href);}}else{hash=bn;self.location.hash='!'+hash;}}function initPreloadL(){var page_str=g.b_url+'list.ajax.php?isAjax=1&bi='+bi+'&isPL=3&init=0';if(fa){page_str+='&fa='+encodeURI(fa);}if(ft){page_str+='&ft='+encodeURI(ft);}if(fn){page_str+='&fn='+encodeURI(fn);}if(fr){page_str+='&fr='+fr;}if(find_type){page_str+='&find_type='+find_type;}$.get(page_str,function(html){pageL_html=html;if(pageL==2){pageL=1;initHide();}else pageL=1;},'html').fail(function(){pageL=0;});}function initUpLevel(){initHide();}function initShow(){if(!haveInit){sys_msg('本板尚無進板畫面');return;}$('#ads_page_b').hide();$('#footer').hide();update_point();$('#page').load(g.b_url+'init.ajax.php?bi='+bi,function(){initReady();});}function initHide(){$('#ads_page_b').show();$('#footer').show();if(pageL==1){pageL=0;$('#page').html(pageL_html);pageL_html='';page='list';pageU=0;pageD=0;updatePageReady();$('#anykey').hide();}else pageL=2;return false;}function initSet(){if(page!='read'&&$('#allow'+now).text()==0){sys_msg('此文章無法設定!');return;}$.get(g.b_url+'act_text.ajax.php?act=init&bi='+bi+'&ti='+ti,function(text){if(text=='1'){sys_msg('已將此文章設為進板畫面');$('#row'+now+' > .L8').text('b').css('color','#0FF');haveInit++;}else if(text=='2'){sys_msg('已取消此文章為進板畫面');$('#row'+now+' > .L8').text('').css('color','');haveInit--;}else{sysAlert(text);return;}},'text');}function initKeyFunction(e){if(page!='init')return true;var keyCode=(e.which)?e.which:e.keyCode;var ctrlKey=e.ctrlKey,altKey=e.altKey;if(act=='none'){if(anykey==1){initHide();return false;}switch(keyCode){case 33:readPointUp(size*22);return false;case 34:case 39:readPointDn(size*22);return false;case 80:readPointUp(size*22);return false;case 78:readPointDn(size*22);return false;case 32:if(shiftKey)readPointUp(size*22);else readPointDn(size*22);return false;case 38:case 107:if(ctrlKey)return true;readPointUp(20);return false;case 40:case 106:readPointDn(20);return false;case 60:readScrollBy(-20,0);return false;case 62:readScrollBy(20,0);return false;case 35:readPointDn(0);return false;case 36:readPointUp(0);return false;case 72:readPointUp(0);return false;case 71:readPointDn(0);return false;case 37:case 98:case 113:initHide();return false;default:return true;}}return true;}";
var mod_pagespeed_CaeS5O4LDT = "document.writeln('\\\r\n<div class=\"center form\">\\\r\n\\\r\n<div id=\"help\" class=\"hide\"></div>\\\r\n\\\r\n<div id=\"select_div\" class=\"list_bot\" >\\\r\n<span id=\"select_msg\" title=\"The number you selected\"></span>\\\r\n<span id=\"selectBtn_list\" class=\"hide\">\\\r\n <span class=\"btn\" onClick=\"updatePage(\\'class.ajax.php?bi=\\'+bi)\" title=\"Classify\">c)分類</span>\\\r\n <span class=\"btn\" onClick=\"selDel()\" title=\"Delete\">d)刪除</span>\\\r\n <span class=\"btn\" onClick=\"selCancel()\" title=\"Delete\">Esc)取消</span>\\\r\n</span>\\\r\n<span id=\"selectBtn_class\" class=\"hide\">\\\r\n <span class=\"btn\" onClick=\"classPasteSi()\" title=\"Add here\">v)貼上</span>\\\r\n</span>\\\r\n</div>\\\r\n\\\r\n<div id=\"findType_div\" class=\"botInput\">\\\r\n搜尋:\\\r\n m)<span class=\"btn\" onClick=\"findTypeSubmit(1);\" title=\"find mark text\">m文</span>\\\r\n b)<span class=\"btn\" onClick=\"findTypeSubmit(2);\" title=\"find invite text\">進板</span>\\\r\n c)<span class=\"btn\" onClick=\"findTypeSubmit(3);\" title=\"find non-classed text\">未分類</span>\\\r\n a)<span class=\"btn\" onClick=\"findTypeSubmit(\\'Author\\');\" title=\"find author\">作者</span>\\\r\n /)<span class=\"btn\" onClick=\"findTypeSubmit(\\'Title\\');\" title=\"find titile\">標題</span>\\\r\n q)<span class=\"btn\" onClick=\"findTypeSubmit(0);\" title=\"Cancel\">取消</span>\\\r\n？[q]\\\r\n</div>\\\r\n\\\r\n<div id=\"find_form\" class=\"botInput\">\\\r\n <p>搜尋<span id=\"find_type\"></span>：\\\r\n <input id=\"find_input\" type=\"input\" class=\"input\" style=\"width:30em;\" />\\\r\n <span class=\"btn\" onClick=\"findSubmit();\">送出(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"findHide();\">取消(Esc)</span></p>\\\r\n</div>\\\r\n\\\r\n<div id=\"reply_div\" class=\"botInput\">\\\r\n回覆文章至:\\\r\n f)<span class=\"btn\" onClick=\"replySubmit(1);\" title=\"Response a text in the board\">看板</span>\\\r\n m)<span class=\"btn\" onClick=\"replySubmit(2);\" title=\"Response a mail to the author\">作者信箱</span>\\\r\n b)<span class=\"btn\" onClick=\"replySubmit(3);\" title=\"Both response in the board and mail to the author\">兩者皆是</span>\\\r\n q)<span class=\"btn\" onClick=\"replyHide();\" title=\"Cancel\">取消</span>\\\r\n？[f]\\\r\n</div>\\\r\n<div id=\"reply_div2\" class=\"botInput\" >\\\r\n要引用原文嗎？ \\\r\n y)<span class=\"btn\" onClick=\"replySubmit2(1);\" title=\"Quote the original text\">引用原文</span>\\\r\n n)<span class=\"btn\" onClick=\"replySubmit2(2);\" title=\"Don\\'t quote the original text\">不引用</span>\\\r\n a)<span class=\"btn\" onClick=\"replySubmit2(3);\" title=\"Quote all of the original text\">全部回覆</span>\\\r\n r)<span class=\"btn\" onClick=\"replySubmit2(4);\" title=\"Copy the original text\">複製原文</span>\\\r\n q)<span class=\"btn\" onClick=\"replyHide();\" title=\"Cancel\">取消</span>\\\r\n？[y]\\\r\n</div>\\\r\n\\\r\n<div id=\"trans_confirm_div\" class=\"topInput\">\\\r\n轉錄本文章於看板: <span id=\"trans_confirm_board\"></span>\\\r\n 1)<span class=\"btn\" onClick=\"transConfirm(1);\">使用連結</span>\\\r\n 2)<span class=\"btn\" onClick=\"transConfirm(2);\">使用複製</span>\\\r\n q)<span class=\"btn\" onClick=\"transConfirm(0);\">取消</span> ？[1]\\\r\n</div>\\\r\n\\\r\n<div id=\"mail_div\" class=\"botInput\">\\\r\n轉寄至站內信箱於使用者:\\\r\n<input id=\"mail_input\" type=\"text\" class=\"input\" maxlength=\"12\" size=\"12\" >\\\r\n <span class=\"btn\" onClick=\"mailSubmit();\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"mailHide();\">取消(Esc)</span>\\\r\n</div>\\\r\n<div id=\"mail_confirm_div\" class=\"botInput\">\\\r\n轉寄至站內信箱於使用者: <span id=\"mail_confirm_un\"></span>\\\r\n <span class=\"btn\" onClick=\"mailConfirm(1);\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"mailConfirm(0);\">取消(Esc)</span>\\\r\n</div>\\\r\n\\\r\n<div id=\"title_div\" class=\"botInput\">\\\r\n修改文章標題為:\\\r\n<input type=\"input\" id=\"title_input\" class=\"input\" maxlength=\"64\" style=\"width:30em;\" />\\\r\n <span class=\"btn\" onClick=\"titleSubmit();\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"titleHide();\">取消(Esc)</span>\\\r\n</div>\\\r\n<div id=\"title_confirm_div\" class=\"botInput\">\\\r\n修改文章標題為: <span id=\"title_confirm_title\"></span>\\\r\n <span class=\"btn\" onClick=\"titleConfirm(1);\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"titleConfirm(0);\">取消(Esc)</span>\\\r\n <span class=\"btn\" onClick=\"titleConfirm(2);\" title=\"同步修改分類的標題\">全部(a)</span>\\\r\n</div>\\\r\n\\\r\n<div id=\"del_div\" class=\"botInput\">\\\r\n<p><span class=\"fgR1\">確定要刪除這篇文章？</span>(可按大U救回)\\\r\n <span class=\"btn\" onClick=\"textDelSubmit();\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"textDelHide();\">取消(Esc)</span><br />\\\r\n</p><p>刪除理由: <input type=\"input\" id=\"del_input\" class=\"input\" maxlength=\"64\" style=\"width:30em;\" /></p>\\\r\n</div>\\\r\n\\\r\n<div id=\"jump_div\" class=\"botInput\">\\\r\n<span id=\"jump_str\"></span>\\\r\n<input id=\"jump_input\" type=\"input\" class=\"input\" maxlength=\"6\" size=\"6\" value=\"0\">\\\r\n <span class=\"btn\" onClick=\"jumpSubmit();\">確定(Enter)</span>\\\r\n <span class=\"btn\" onClick=\"jumpHide();\">取消(Esc)</span></div>\\\r\n\\\r\n<div id=\"select_class\">\\\r\n<div class=\"bgL\">加到這個分類：\\\r\n	<span id=\"scSelectName\"></span> \\\r\n	<span style=\"position:absolute; right:0;\">\\\r\n		<span class=\"btn\" onClick=\"sc_now=0;scSelectIt();\">確定(Enter)</span>\\\r\n		<span class=\"btn\" onClick=\"scDownLevel();\" title=\"lower level\">下一層(→)</span>\\\r\n		<span class=\"btn\" onClick=\"scUpLevel();\" title=\"upper level\">回上層(←)</span>\\\r\n		<span class=\"btn\" onClick=\"scClose();\" title=\"Cancel\">取消(Esc)</span>\\\r\n	</span>\\\r\n</div>\\\r\n<div id=\"sc_menu\"></div>\\\r\n</div>\\\r\n\\\r\n<div id=\"good_type_div\" class=\"botInput\">\\\r\n你覺得這篇文章:\\\r\n 1)<span class=\"btn\" onClick=\"good();\" title=\"like\">真讚</span>\\\r\n 2)<span class=\"btn\" onClick=\"dislike();\" title=\"dislike\">真瞎</span>\\\r\n q)<span class=\"btn\" onClick=\"goodHide();\" title=\"Cancel\">取消</span>\\\r\n？[1] (再選一次即可收回) \\\r\n</div>\\\r\n\\\r\n<div id=\"push_type_div\" class=\"botInput\">\\\r\n你覺得這篇文章:\\\r\n 1)<span class=\"btn\" onClick=\"pushAddShow(1);\" title=\"mark as like\">值得推薦</span>\\\r\n 2)<span class=\"btn\" onClick=\"pushAddShow(2);\" title=\"mark as dislike\">表示反對</span>\\\r\n 3)<span class=\"btn\" onClick=\"pushAddShow(3);\" title=\"purely comment\">單純註解</span>\\\r\n q)<span class=\"btn\" onClick=\"pushHide();\" title=\"Cancel\">取消</span>\\\r\n？[3] \\\r\n<span id=\"push_type\" style=\"display:none;\"></span>\\\r\n</div>\\\r\n<div id=\"pushAdd_div\" >\\\r\n	<div class=\"pushType\"><span id=\"push_type_str\"></span></div>\\\r\n	<div class=\"pushAuthor\">'+un+'</div>\\\r\n	<div style=\"float:left\"><textarea id=\"pushAdd_input\" class=\"input\" wrap=\"on\" ></textarea></div>\\\r\n	<div style=\"clear:both; padding-top:.3em\">\\\r\n		<input type=\"checkbox\" id=\"use_parseImg\" name=\"use_parseImg\" value=\"1\" /><label for=\"use_parseImg\" class=\"btn fgW0\" title=\"將圖片或影片連結轉為內嵌\" >顯示圖片</label>\\\r\n		<a href=\"#\" onClick=\"pushAddSubmit(); return false;\">預覽(Enter)</a>\\\r\n		<a href=\"#\" onClick=\"pushAddHide(); return false;\">取消(Esc)</a>\\\r\n		<div class=\"imgUploadBtn btn\">上傳圖片</div>\\\r\n		按ctrl+Enter可輸入下一行。\\\r\n	</div>\\\r\n</div>\\\r\n<div id=\"push_confirm_div\">\\\r\n	<div id=\"push_confirm_type\" class=\"pushType\"></div>\\\r\n	<div id=\"push_confirm_author\" class=\"pushAuthor\">'+un+'</div>\\\r\n	<div id=\"push_confirm_str\" class=\"pushContent\"></div>\\\r\n	<div style=\"clear:both;  padding-top:.3em\">確定要送出？\\\r\n		<span class=\"btn\" onClick=\"push_confirm(1);\">確定(Enter)</span>\\\r\n		<span class=\"btn\" onClick=\"push_confirm(0);\">取消(Esc)</span>\\\r\n		<span class=\"btn\" onClick=\"push_confirm(3);\">繼續(e)</span>\\\r\n	</div>\\\r\n</div>\\\r\n\\\r\n<form id=\"search_form\" class=\"botInput\" action=\"search.php\" >\\\r\n	搜尋: <input id=\"search_input\" type=\"text\" class=\"input\" name=\"q\" size=\"31\" style=\"width:30em;\"/>\\\r\n	<a href=\"#\" onclick=\"searchSubmit();\">送出(Enter)</a>\\\r\n	<a href=\"#\" onclick=\"searchHide();\">取消(Esc)</a></p>\\\r\n</form>\\\r\n\\\r\n<div id=\"err_msg\">\\\r\n</div>\\\r\n\\\r\n<div id=\"anykey\"> ▏▎▍▌▋▊▉ <span class=\"fgW1\">請按任意鍵繼續</span> ▉</div>\\\r\n\\\r\n<div id=\"fb_bot\" class=\"hide\"></div>\\\r\n\\\r\n</div>\\\r\n');";

</script>

</body>
</html>
