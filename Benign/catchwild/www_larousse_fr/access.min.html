<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>access.min.html</title>
</head>
<body>

<script>
/*! access.min.js v5.20.0 12/11/2024 */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(()=>{"use strict";var e,t,n,r,o={8518:(e,t,n)=>{n.d(t,{p:()=>u,s:()=>c});const r=[{regex:/(?:rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:(e,t,n,r)=>({r:parseInt(e,10)/255,g:parseInt(t,10)/255,b:parseInt(n,10)/255,a:isNaN(parseFloat(r))?1:parseFloat(r)})},{regex:/(?:hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:(e,t,n,r)=>({h:parseInt(e,10)/360,s:parseInt(t,10)/100,l:parseInt(n,10)/100,a:isNaN(parseFloat(r))?1:parseFloat(r)})},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:(e,t,n)=>({r:parseInt(e,16)/255,g:parseInt(t,16)/255,b:parseInt(n,16)/255,a:1})},{regex:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:(e,t,n)=>({r:parseInt(e+e,16)/255,g:parseInt(t+t,16)/255,b:parseInt(n+n,16)/255,a:1})}],o=({h:e,s:t,l:n,a:r})=>{if(t=Math.min(t,1),n=Math.min(n,1),r=Math.min(r,1),0===n)return{h:e,s:0,v:0,a:r};{const o=n+t*(1-Math.abs(2*n-1))/2;return{h:e,s:2*(o-n)/o,v:o,a:r}}},a=({h:e,s:t,v:n,a:r=0}={})=>{let o,a,i;const l=Math.floor(6*e),u=6*e-l,c=n*(1-t),s=n*(1-u*t),f=n*(1-(1-u)*t);switch(l%6){case 0:o=n,a=f,i=c;break;case 1:o=s,a=n,i=c;break;case 2:o=c,a=n,i=f;break;case 3:o=c,a=s,i=n;break;case 4:o=f,a=c,i=n;break;case 5:o=n,a=c,i=s;break;default:o=0,a=0,i=0}return{r:o,g:a,b:i,a:r}},i=({r:e,g:t,b:n,a:r=0}={})=>{let o;e=Math.min(e,1),t=Math.min(t,1),n=Math.min(n,1),r=Math.min(r,1);const a=Math.max(e,t,n),i=Math.min(e,t,n),l=a||0,u=a-i,c=0===a||isNaN(a)?0:u/a||0;if(a===i)o=0;else{switch(a){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4;break;default:o=0}o/=6}return{h:o,s:c,v:l,a:r}},l=({r:e,g:t,b:n,a:r})=>({r:Math.round(255*e),g:Math.round(255*t),b:Math.round(255*n),a:r}),u=(e="")=>{e=e.toLowerCase();let t=null;for(const n of r){const r=n.regex.exec(e),a=r&&n.parse(...r.slice(1));if(a)return void 0!==a.r?t=i(a):a.l&&(t=o(a)),t}return t},c=(e,t="auto")=>{switch("auto"===t&&(t=e.a<1?"rgba":"hex"),t){case"hsl":case"hsla":{const t=(({h:e,s:t,l:n,a:r})=>({h:Math.round(360*e),s:Math.round(100*t),l:Math.round(100*n),a:r}))((({h:e,s:t,v:n,a:r})=>{if(0===n)return{h:e,s:0,l:0,a:r};if(0===t&&1===n)return{h:e,s:1,l:1,a:r};{const o=n*(2-t)/2;return{h:e,s:n*t/(1-Math.abs(2*o-1)),l:o,a:r}}})(e));return`hsl${e.a<1?"a":""}(${t.h}, ${t.s}%, ${t.l}%`+(e.a<1?`, ${parseFloat(t.a.toFixed(2))}`:"")+")"}case"rgb":case"rgba":{const t=l(a(e));return`rgb${e.a<1?"a":""}(${t.r}, ${t.g}, ${t.b}`+(e.a<1?`, ${parseFloat(t.a.toFixed(2))}`:"")+")"}default:return(({r:e,g:t,b:n})=>"#"+(1<<24|e<<16|t<<8|n).toString(16).substr(1))(l(a(e)))}}},6901:(e,t,n)=>{n.d(t,{e:()=>o,h:()=>a,j:()=>l,o:()=>i,p:()=>u});const r=e=>void 0===e,o=e=>!(e=>null===e)(e)&&!r(e),a=(e={},t="",n=null)=>t.split(".").reduce(((e,t)=>o(e?.[t])?e[t]:void 0),e)??n,i=(e={},t)=>Object.entries(e).filter((([e,n])=>!t(n,e))).reduce(((e,[t,n])=>Object.assign({},e,{[t]:n})),{}),l=(e={},t=[])=>i(e||{},((e,n)=>t.includes(n))),u=(e={},t=[])=>t.reduce(((t,n)=>(r(e[n])||(t[n]=e[n]),t)),{})},7813:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([e.id,".p3-component .p3-outlet{display:block;height:0;width:0}.p3-paywall.p3-component .p3-outlet{height:auto;width:100%}.p3-paywall.p3-component.p3-locked[data-p3-layout=portrait]{margin-bottom:-70px;transform:translateY(-70px)}.p3-advanced-paywall.p3-component .p3-outlet{height:auto;width:100%}.p3-popover.p3-component{bottom:30px;height:auto;left:0;margin:auto;max-width:1200px;position:fixed;right:0;width:80%;z-index:15}@media(max-width:1199px){.p3-popover.p3-component{bottom:0;width:100%}}.p3-popover.p3-component .p3-outlet{height:auto;width:100%}.p3-viewpay-modal{background-color:#000000e6;display:none;height:100%;left:0;position:fixed;top:0;width:100%;z-index:2147483647}.p3-viewpay-modal.visible{display:block}.p3-viewpay-modal #cadreJokerlyADS{bottom:0;height:450px;left:0;margin:auto;position:absolute;right:0;top:0;width:650px}@media(max-width:991px){.p3-viewpay-modal #cadreJokerlyADS{height:350px;width:500px}}@media(max-width:575px){.p3-viewpay-modal #cadreJokerlyADS{height:100%;width:100%}}",""]);const l=i},6314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(i[u]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},1601:e=>{e.exports=function(e){return e[1]}},8288:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(6901);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function i(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,a(e,t,"get"))}function l(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function u(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}var v={app_id:null,app_name:"",page_type:"page",debug:!1,mode:"excerpt",percent:80,post_container:"[data-poool]",widget_container:"#poool-widget",force_widget:null,subscription_url:null,user_is_premium:!1,login_url:null,login_button_enabled:!0,subscription_button_enabled:!0,newsletter_name:null,newsletter_id:null,pass_name:null,pass_id:null,app_is_init:!1,video_primary_mode:"html5",video_client:"vast",vast:"",mobile_vast:"",remaining_text_enabled:!0,popover_enabled:!0,alternative_enabled:!0,alternative_widget:"restriction",fallback_widget:"subscription",adblock_enabled:!1,custom_segment:null,link_url:null,viewpay_id:"",signature_enabled:!0,cookies_enabled:!1,data_policy_url:null,locale:"fr",preview:!1,amp_reader_id:null,amp_item_id:null,custom_return_url:null,popover_timeout:5e3,next_segment:null,disable_content_height_calculation:!1,wait_for_dom_load:!1,dom_load_timeout:2e3,paywall_load_timeout:1e4,track_original_action:!1,components_load_timeout:5e3,ati_tracking_enabled:!1,ati_load_timeout:2e3,ati_auto_tracking_enabled:!1,ga_auto_tracking_enabled:!1,gtm_auto_tracking_enabled:!1,gtag_auto_tracking_enabled:!1,piano_auto_tracking_enabled:!1,ati_tracking_method:"default",auto_tracking_spec_v2:!1,custom_user_id:null,facebook_login_enabled:!1,google_login_enabled:!1,custom_reader_id:null,fp:2,mailchimp_list_id:null,stripe_public_key:null,item_id:null,audit_load_timeout:2e3,popover_auto_hide:!0,context:null,cookies_domain:null,cookies_path:"/",default_widget:"restriction",consent_rejection_widget:"restriction",unlock_time:1e3,consecutive_pageview_event_threshold:200,beacons:!0,$current_hit:null,$user_id:null,$dashboard_at:null,$dashboard_rt:null,ati_tag_options:{},height_calculation_method:"bodyOffset",sophi_enabled:!1,sophi_content_id:null,sophi_page_section:null,sophi_visitor_type:null,skip_audit_loader:!1},y=["force_widget"],g=new WeakMap,b=new WeakMap,m=new WeakMap,w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,g,{writable:!0,value:{}}),l(this,b,{writable:!0,value:[]}),l(this,m,{writable:!0,value:null})}var t,n,o;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).events;u(this,m,e)}},{key:"init",value:function(e){var t;i(this,b).length=0,(t=i(this,b)).push.apply(t,p(e.readonlies||[])),Object.assign(i(this,g),e.values)}},{key:"get",value:function(e,t){return(0,r.e)(i(this,g)[e])?i(this,g)[e]:(0,r.e)(v[e])?v[e]:t}},{key:"set",value:function(e,t,n){var o,a=this;if("string"==typeof e&&!(0,r.e)(t))return this.get(e);if(!e)return!1;null===(o=i(this,m))||void 0===o||o.fire("$parentMessage",{type:"configSet",args:[e,t,n]});var l="string"==typeof e?s({},e,t):e,u="string"==typeof e?n:t,c=!0;return Object.entries(l).map((function(e){var t,n,o=d(e,2),l=o[0],s=o[1];if((null===(t=i(a,b))||void 0===t?void 0:t.indexOf(l))>-1)c=!1;else if((l in v||"$"===l[0])&&(0,r.e)(s)&&""!==s){switch((n=v[l])&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n){case"boolean":s="true"==="".concat(s);break;case"number":s=Number(s||0)}i(a,g)[l]=s,u&&i(a,b).push(l)}else c=!1;return null})),c}},{key:"getCustom",value:function(){return{values:f({},i(this,g)),readonlies:i(this,b)}}},{key:"reset",value:function(){var e=this;i(this,b).length=0,y.map((function(t){return delete i(e,g)[t]}))}},{key:"destroy",value:function(){var e=this;i(this,b).length=0,Object.keys(v).map((function(t){return delete i(e,g)[t]}))}}],n&&c(t.prototype,n),o&&c(t,o),e}()},3517:(e,t,n)=>{n.d(t,{DU:()=>i,Py:()=>s,Zt:()=>l,g8:()=>a,mj:()=>u,q:()=>c});var r=n(3575),o=function(e,t){try{(0,r.YE)().dispatchEvent(new CustomEvent("$_poool.extension.debugMessage",{detail:{product:"access",type:e,data:t}}))}catch(e){}},a=function(e){return o("$_poool.onInit",e)},i=function(e){return o("$_poool.onUser",e)},l=function(e){return o("$_poool.onTrackData",e)},u=function(e){return o("$_poool.onConfig",e)},c=function(e){return o("$_poool.onEvent",e)},s=function(e){return o("$_poool.onTrackingEvent",e)}},3223:(e,t,n)=>{n.d(t,{CC:()=>l,FB:()=>i,e9:()=>a,lG:()=>c,wh:()=>u});var r=n(9545),o={API:"https://api.poool.fr/api/v3",DOMAIN:"https://assets.poool.fr",LIB:"poool.js",ACCESS_LIB:"access.min.js",AUDIT_LIB:"audit.min.js",ASSETS:"https://assets.poool.fr",CDN:"https://cdn.poool.fr",FRAMES:{PAYWALL:"paywall-frame.html",ADVANCED_PAYWALL:"advanced-paywall-frame.html",POPOVER:"popover-frame.html",IDENTITY:"identity-frame.html"},COOKIE_OPTIONS:{domain:"",path:"/",expires:(0,r.ai)("365"),secure:(0,r.zM)("true"),sameSite:"Strict"},AUTH_CLIENT_ID:"3681727738100455",AUTH_REDIRECT_URI:"https://dashboard.poool.fr/auth",SYEK:{SSECCA:(0,r.Eb)(["TUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUFxZzdwU3Boc2tNOGVpNjJBajVIVDlUWU9tdVd0Rk","WTdzUUJ6UkNTd2IvaDNiRW51TzlrZWRxazdvbVR6dzRwaHphNVJoTDdIZWNablJldEszTjdGdDRDQThndUl6NmhvN3NKR3pzUX","VNZkdCYkpVZU96Um5GVUZXWWZvaTVtdXJlbUVUOWxXYlJVREhjcnp1eW9aOTVFMFlZeWpUM2FTRnB5QlJNbS9YbS91dUxaRVpM","8rR2JZR0pBS0RoUzVGbHhBUjRWdlpneTI2Z21ZRE9qZEorWlBDdGttU0xOQ1VjY3JIWDZSZlU4d2dzR1VvYlNEOENBd0VBQVE9","QwWkkzTUVuWGZwblMyZjVyaXJMRjVXQ3VZVjUzak5wdnZ5cXFsY0QrbkliYkdNaEJiMlZCRElrWWt1ajR0THEyQ1dqY1p4bUwv","PQ==","NTVONWZnWUJ0a2I0TjZacFBRcG1TcVpvUHI5ckxFZ2ZVTGpJalBEUGt4cDNEd3UybFhhYStJWEtETTltR056cDJwSnU4RkhYWX","s5aG1uSEd3YUg4SnVhRzlDQWpmRGNqZUV3YzgzWVVmU0VnUWt1WUJzQUlNTVFua0ZGcXVjQkk3MldnWVozb2dSY0VLQXpBYnkz","hyT1VTTEFoMlZBUHJ0RVdiWkk1eVFXYUI1c2pHU0ltSndLQmFHNjBaZHJ2OHJDblI1T08vY3hUL0VteGVNa0UrSjdnWmxveG8y","a3dLd3h3a3ZDRTkyWjI4cWUwOFBldHpJRGIyS1d2S0lsR2J5TFppMFNObVgvVEVzU3pycWNVcjJOQWFWYllKUlFvTHlKeEFaZm","ZkNqeVE0TGhuOU5zZHJUUTlJeGQyOW1wa2liZ3RlSTFCNGpUQjVwRWxONVJmWDhrU1FWOVFEQVRjTXRjR3JCVmF4TnVVQ1dMcn","MCAyIDMgOSA3IDEwIDYgMSA1IDggNA=="]),CIRENEG:(0,r.Eb)(["tDdXA1Zm1abWdVRmJCWHNINDF4TzM0eG5yTXh2Zlk0Vklvd3lrQ21UUFZaTlArZTh1VHRORFN0R2RlZ3NsRnBKOWlZUHB2dUd4","TUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FnOEFNSUlDQ2dLQ0FnRUF0enFPWXB2b2l6YWFvaXJTcDhMcXhndDdkbDZIMm","gvL1ZnYTlXT0Vpd1prQmVxdTdqTmg1SkFDSzljMnRtVEhqQ3Z3UTdCL1BNbHQ1YWZDRHZJY05KOWVSMVR3UHBxRUczTVQ0Y1di","55bWZRT3VSMzB2M0ZaaXJTNUEzTExnd1VRMlRLS2JvZ1VGenoyMzJkS3Rzb3VLYlIxdDhJbHh0d3BteHpMVVFwak4xOFVGUHEx","NmFnanpBR29UdllCVmNwdTRpM21QZmdCTTF2VjFxRmt6UkZXL1RZNUZ5OGovcm5tQk92czJzMFk5eVJ5dnZYc1cwTEtGTGZLRT","Y0x4YzZXMldLL1JVQkFnVEZwMlY0NmU4Sy9oVGkyc0czS0FtU2c2NmtlY1ZnYyt2UzBlT2hBcVdaTktjbDdWWW8yZmdleEZxYW","I4aFNJWGZKNnN4N3RZQ2xqdHU0SnovdGxZUHQ4QlNKMFp0clpLSE92YU9QL21oM3B2RS81c2h5UUJBOURJV1BEMENBd0VBQVE9","UW5CL3dUNG1wQ0JKZjRQNW0vU0tFT1ZFcml2WHVMdEU2QlAyeHYyTDNUM1gxUVR1RzV1SEhwZG9NckorT1RZd0NhNTFqbzBxM2","w4TUNEYjUwa01zRVhlWm5BNnNoaTJaK1dZWFN2cVJ4dVdsbWxzNHUwY3lzckU0ZVRoOVk0R21veTJ5NjUvODR6SDdrN3BxMXN0","PQ==","R1FQTVRaYWdoNWZYNSt0MmtBREJjT0xYdk9tQ2FNdkdWRnYrbllJSHZTLzVLcVdPaHd4UWo0RFQrb3Rka1U0ZmZ0NEZKZDlVMk","NSAwIDMgMSAyIDYgOSA4IDcgMTAgNA=="])}},a=function(){return o.API+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/access")},i=function(){return o.DOMAIN},l=function(e){return i()+"/"+o.FRAMES[e]},u=function(){return o.COOKIE_OPTIONS},c=function(){return o.SYEK[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SSECCA"]}},2815:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(6901),o=n(3575),a=n(3517);function i(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,l(e,t,"get"))}function c(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,l(e,t,"set"),n),n}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var v=new WeakMap,y=new WeakMap,g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,v,{writable:!0,value:{}}),c(this,y,{writable:!0,value:null})}var t,n,l;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).logger;s(this,y,e)}},{key:"normalizeName",value:function(e){return e.toLowerCase().replace(/^on/g,"")}},{key:"listen",value:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).once,i=void 0!==a&&a,l=this.normalizeName(e);return"$"===e[0]&&!0===o?(null===(n=u(this,y))||void 0===n||n.error("Event names starting with $ are internally reserved events"),!1):("$"!==e[0]&&(null===(r=u(this,y))||void 0===r||r.trace("Listening to <".concat(e,"> event"))),u(this,v)[l]=u(this,v)[l]||[],u(this,v)[l].find((function(e){return e.listener===t}))||u(this,v)[l].push({listener:t,once:i}),!0)}},{key:"fire",value:function(e,t,n){var o=this,i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).once,l=void 0!==i&&i,c=this.normalizeName(e);return new Promise((function(a){if(!u(o,v)[c])return a(!1);var i=[],s=(u(o,v)[c]||[]).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({},e)}));return s.forEach((function(a){var c=a.once,s=a.listener;if("string"==typeof s){var f=(0,r.h)(window,s);if(!f)return u(o,y).error("Cannot find any event listener with name/path <".concat(s,"> ")+"for event [".concat(e,"]")),null;try{i.push(f(t,n)),"$"!==e[0]&&u(o,y).trace("Fired <".concat(e,"> event listener")+(l||c?" (once, then muted)":""))}catch(e){u(o,y).error(e.stack)}}return"function"==typeof s&&(i.push(s(t,n)),"$"!==e[0]&&u(o,y).trace("Fired <".concat(e,"> event listener")+(l||c?" (once, then muted)":""))),(l||c)&&o.mute(e,s,{once:!0}),null})),a(Promise.all(i))})).then((function(n){return(Array.isArray(n)?n:[n]).forEach((function(n){if("$"!==e[0]){var r=t||{},o=(r.originalEvent,p(r,["originalEvent"]));(0,a.q)({name:e,data:o,handled:!1!==n})}})),n}))}},{key:"mute",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).once,r=void 0!==n&&n,o=this.normalizeName(e);try{var a=u(this,v)[o]||[],i=a.findIndex((function(e){return e.listener===t}));return i<0&&"$"!==e[0]?(u(this,y).trace("Could not find corresponding event handler to be muted for "+"<".concat(e,"> event, skipping")),!1):(a.splice(i,1),a.length<=0&&delete u(this,v)[o],"$"===e[0]||r||u(this,y).trace("Muting <".concat(e,"> event")),!0)}catch(e){return u(this,y).error(e),!1}}},{key:"dispatch",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return(t=function(){var t,a;return h(this,(function(i){switch(i.label){case 0:n.originalEvent&&(n.originalEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!0,cancelable:!0},n=(0,o.mS)();if(!n.MouseEvent){var r=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1},a=null===(n=(0,o.YE)())||void 0===n||null===(t=n.createEvent)||void 0===t?void 0:t.call(n,"MouseEvent");return null==a||a.initMouseEvent(e,r.bubbles,r.cancelable,(0,o.mS)(),0,r.screenX||0,r.screenY||0,r.clientX||0,r.clientY||0,!1,!1,!1,!1,0,null),a};r.prototype=Event.prototype,n.MouseEvent=r}return new n.MouseEvent(e,t)}("click")),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.fire(e,n)];case 2:return t=i.sent(),[3,4];case 3:throw a=i.sent(),u(r,y).error("Unknown error:",a),l=a,(null!=(c=Error)&&"undefined"!=typeof Symbol&&c[Symbol.hasInstance]?c[Symbol.hasInstance](l):l instanceof c)?a:new Error("unknown_error",!1);case 4:return[2,new Promise((function(e,r){var o,a,i;return(null===(o=n.originalEvent)||void 0===o?void 0:o.defaultPrevented)||(null===(a=n.originalEvent)||void 0===a?void 0:a.isImmediatePropagationStopped)||(null===(i=n.originalEvent)||void 0===i?void 0:i.isPropagationStopped)?r(new Error("event_prevented")):e(t)}))]}var l,c}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)}))})()}},{key:"getListeners",value:function(){return{listeners:u(this,v)}}},{key:"reset",value:function(){s(this,v,{})}}],n&&f(t.prototype,n),l&&f(t,l),e}()},2980:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(3575);function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,o(e,t,"get"))}function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,o(e,t,"set"),n),n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=new WeakMap,f=new WeakMap,d=function(){function e(t){var n=t.config,r=t.logger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,s,{writable:!0,value:null}),i(this,f,{writable:!0,value:null}),c(this,"visits",["page-view","identity-available","ready","widget-seen"]),c(this,"impressions",["paywall-seen"]),c(this,"errors",["error","outdated-browser"]),c(this,"actions",["click","register","form-submit","answer","consent","release"]),c(this,"events",[].concat(this.visits,this.errors,this.actions,this.impressions)),c(this,"legacyEvents",["page-view","widget-seen"]),l(this,s,n),l(this,f,r)}var t,n,o;return t=e,n=[{key:"delegate",value:function(e,t){if(a(this,s).get("ati_auto_tracking_enabled"))try{this.handleATITracking(e,t)}catch(e){a(this,f).error("ATInternet tracking error:",e)}if(a(this,s).get("piano_auto_tracking_enabled"))try{this.handlePianoTracking(e,t)}catch(e){a(this,f).error("Piano tracking error:",e)}if(a(this,s).get("ga_auto_tracking_enabled"))try{this.handleGATracking(e,t)}catch(e){a(this,f).error("Google Analytics tracking error:",e)}if(a(this,s).get("gtm_auto_tracking_enabled"))try{this.handleGTMTracking(e,t)}catch(e){a(this,f).error("Google tag manager tracking error:",e)}if(a(this,s).get("gtag_auto_tracking_enabled"))try{this.handleGTAGTracking(e,t)}catch(e){a(this,f).error("Google Universal Analytics tracking error:",e)}}},{key:"getEventLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.events.includes(e)){var n,r="",o=t.action||t.widget,a=null!==(n=t.contextName)&&void 0!==n?n:"Default context";return"consent"===e||"consent"===o?a:(t.trigger&&(r+="Trigger - "),this.errors.includes(e)?r+"Default Paywall":(r+=t.trigger?"".concat(t.trigger," - ").concat(t.triggerType):"".concat(a," - ").concat(t.groupName," - ").concat(t.scenarioName),(t.trigger||["paywall-seen","release"].includes(e))&&(r+=" - ".concat(o)),"click"===e&&(r+=" - ".concat(t.button)),t.info&&(r+=" - ".concat(t.info)),r))}return e}},{key:"handleATITracking",value:function(e){var t,n,o,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==(null===(t=(0,r.mS)())||void 0===t?void 0:t.ATInternet)&&(null===(i=(0,r.mS)())||void 0===i||null===(o=i.ATInternet)||void 0===o||null===(n=o.Tracker)||void 0===n?void 0:n.Tag)){if(!this.visits.includes(e)){var u=new((0,r.mS)().ATInternet.Tracker.Tag)(a(this,s).get("ati_tag_options")),d=a(this,s).get("ati_tracking_method");if(a(this,s).get("auto_tracking_spec_v2")&&!this.legacyEvents.includes(e))return"events"===d?u.events.send("self_promotion.".concat(this.impressions.includes(e)?"display":"click"),{onsitead_type:"Self promotion",onsitead_campaign:"Paywall_poool",onsitead_category:e,onsitead_format:l.trigger?"trigger":"scenario",onsitead_url:l.url,onsitead_creation:l.widget,onsitead_variant:this.getEventLabel(e,l)}):u.publisher.send(c({},this.impressions.includes(e)?"impression":"click",{campaignId:"Paywall_poool",creation:"[".concat(l.widget,"]"),format:l.trigger?"trigger":"scenario",variant:this.getEventLabel(e,l),url:l.url,generalPlacement:e}));["paywall-seen","click"].includes(e)&&("events"===d?u.events.send("self_promotion.".concat("click"===e?"click":"display"),{adId:"Paywall_poool",format:"[".concat(a(this,s).get("$user_id")||(0,r.mS)().poool_id,"]"),productId:"click"===e?"[".concat(l.widget,"] - [").concat(l.button,"] ")+"- [".concat(encodeURIComponent(l.url),"]"):"[".concat(l.widget,"]")}):u.publisher.send(c({},"click"===e?"click":"impression",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({campaignId:"[Paywall_poool]",creation:"[".concat(l.widget,"]"),format:"[".concat(a(this,s).get("$user_id")||(0,r.mS)().poool_id,"]")},"click"===e?{variant:"[".concat(l.button,"]"),url:"[".concat(encodeURIComponent(l.url),"]")}:{}))))}}else a(this,f).warn("Cannot send tracking to AT Internet: tracker was not found or your tracker version is outdated.")}},{key:"handleGATracking",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.button,o=t.url,i=t.widget;if((0,r.mS)().ga){var l,u;if(a(this,s).get("auto_tracking_spec_v2")&&!this.legacyEvents.includes(e))return null===(l=(u=(0,r.mS)()).ga)||void 0===l?void 0:l.call(u,"send",{hitType:"event",eventCategory:"poool",eventAction:e,eventLabel:this.getEventLabel(e,t),transport:"beacon",location:o,nonInteraction:t.nonInteraction||!1});switch(e){case"widget-seen":var c,d;null===(c=(d=(0,r.mS)()).ga)||void 0===c||c.call(d,"send",{hitType:"event",eventCategory:"poool",eventAction:"widget-seen",eventLabel:i,transport:"beacon",location:o});break;case"click":var p,h;null===(p=(h=(0,r.mS)()).ga)||void 0===p||p.call(h,"send",{hitType:"event",eventCategory:"poool",eventAction:"click",eventLabel:"".concat(i,"-").concat(n),transport:"beacon",location:o})}}else a(this,f).warn("Cannot send tracking to Google Analytics: tracker was not found or your tracker version is outdated.")}},{key:"handleGTMTracking",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.button,o=t.widget;if((0,r.mS)().dataLayer){var i;if(a(this,s).get("auto_tracking_spec_v2")&&!this.legacyEvents.includes(e))return null===(i=(0,r.mS)().dataLayer)||void 0===i?void 0:i.push({hitType:"event",event:"poool",eventAction:e,eventCategory:"poool",eventLabel:this.getEventLabel(e,t),nonInteraction:t.nonInteraction||!1});switch(e){case"widget-seen":var l;null===(l=(0,r.mS)().dataLayer)||void 0===l||l.push({event:"poool",eventAction:"widget-seen",hitType:"event",eventCategory:"poool",eventLabel:o});break;case"click":var u;null===(u=(0,r.mS)().dataLayer)||void 0===u||u.push({event:"poool",eventAction:"click",hitType:"event",eventCategory:"poool",eventLabel:"".concat(o,"-").concat(n)})}}else a(this,f).warn("Cannot send tracking to Google Tag Manager: tag was not found or its version is outdated.")}},{key:"handleGTAGTracking",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.button,i=n.url,l=n.widget;if((0,r.mS)().gtag||(null===(t=(0,r.mS)().dataLayer)||void 0===t?void 0:t.push)){var u=(0,r.mS)().gtag||function(){(0,r.mS)().dataLayer.push(arguments)};if(a(this,s).get("auto_tracking_spec_v2")&&!this.legacyEvents.includes(e))return null==u?void 0:u("event",e,{event_category:"poool",event_label:this.getEventLabel(e,n),page_location:i,non_interaction:n.nonInteraction||!1});switch(e){case"widget-seen":null==u||u("event","widget-seen",{event_category:"poool",event_label:l,page_location:i});break;case"click":null==u||u("event","click",{event_category:"poool",event_label:"".concat(l,"-").concat(o),page_location:i})}}else a(this,f).warn("Cannot send tracking to Google Universal Analytics: tracker was not found or your tracker version is outdated.")}},{key:"handlePianoTracking",value:function(e){var t,n,o,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==(null===(t=(0,r.mS)())||void 0===t?void 0:t.pa)&&(null===(o=(0,r.mS)())||void 0===o||null===(n=o.pa)||void 0===n?void 0:n.sendEvent)){if(!this.visits.includes(e))return null===(i=(0,r.mS)().pa)||void 0===i?void 0:i.sendEvent("self_promotion.".concat(this.impressions.includes(e)?"impression":"click"),{onsitead_type:"Self promotion",onsitead_campaign:"Paywall_poool",onsitead_category:e,onsitead_format:l.trigger?"trigger":"scenario",onsitead_url:l.url,onsitead_creation:l.widget,onsitead_variant:this.getEventLabel(e,l)})}else a(this,f).warn("Cannot send tracking to Piano: tracker was not found or your tracker version is outdated.")}}],n&&u(t.prototype,n),o&&u(t,o),e}()},3575:(e,t,n)=>{n.d(t,{$I:()=>g,Fr:()=>m,V6:()=>y,W6:()=>j,YE:()=>v,Zb:()=>k,_R:()=>I,_b:()=>E,aU:()=>P,iQ:()=>_,jw:()=>d,mS:()=>h,oU:()=>w,qn:()=>T,ul:()=>S,vq:()=>p,vy:()=>O,yO:()=>b,yz:()=>A});var r=n(6901),o=n(8518);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}var d=function(e){return!(0,r.e)(e)||""===e},p=function(e){return l(e,Element)||l(e,HTMLDocument)},h=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:void 0},v=function(){return"undefined"!=typeof document?document:null},y=function(e){return"string"==typeof e?v().querySelector(e):e},g=function(){var e=h().navigator.userAgent,t=e.indexOf("MSIE ");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)<11},b=function(){var e=h().navigator.userAgent;if(e.indexOf("Trident/")>0){var t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)<=11}return!1},m=function(){return/Mobi/i.test(navigator.userAgent||navigator.vendor||window.opera)},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v().querySelector("#".concat(t)),a=v().querySelector("head");if(!r){(r=v().createElement("style")).type="text/css",r.id=t;var l=a.querySelector(n.after)||a.lastChild;a.insertBefore(r,null==l?void 0:l.nextSibling)}if(n.custom&&Object.entries(n.custom).map((function(t){var r=c(t,2),o=r[0],a=r[1];return n.ignore&&o in n.ignore||(e=e.replace(new RegExp(o.toUpperCase(),"g"),a)),a})),n.vars){var s=Object.entries(n.vars).map((function(e){var t=c(e,2),n=t[0],r=t[1];n=n.replace(/_/g,"-");var a="--p3-".concat(n,":").concat(r,";");if(/#/.test(r)){var l=(0,o.s)(u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.p)(r)),{a:.5}),"rgba");a+="--p3-".concat(n,"-rgba:").concat(l,";")}return a}));e=":root{".concat(s.join(""),"}")+e}if(n.replace&&Object.entries(n.replace).forEach((function(t){var n=c(t,2),r=n[0],o=n[1];e=e.replace(new RegExp(r,"g"),o)})),r.innerHTML=e,n.shadow){var f=new CSSStyleSheet;return f.replace(e),f}},k=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,i,l;switch(t){case"loadSDK":return i=r[0],l="p3-viewpay-tag",new Promise((function(e,t){if(l&&v().getElementById(l))e(!0);else{var n=v().createElement("script");l&&(n.id=l),n.src=i,n.onload=function(){return e(!0)},n.onerror=function(e){n.remove(),t(e)},v().querySelector("head").appendChild(n)}}));case"createModal":if(!(a=v().querySelector(".p3-viewpay-modal"))){(a=v().createElement("div")).className="p3-viewpay-modal";var u=v().createElement("div");u.id="cadreJokerlyADS",a.appendChild(u),e.appendChild(a)}break;case"deleteModal":if(a=v().querySelector(".p3-viewpay-modal")){var c=e;try{c.removeChild(a)}catch(e){}}break;case"showModal":(a=v().querySelector(".p3-viewpay-modal"))&&_(a,"visible");break;case"hideModal":(a=v().querySelector(".p3-viewpay-modal"))&&O(a,"visible");break;default:var f;(f=h().JKFBASQ)[t].apply(f,s(r))}return!0},_=function(e,t){e.className+=" ".concat(t)},O=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t,"(\\b|$)"),"gi"),"").trim()},E=function(){var e,t,n,r;return{width:h().innerWidth||(null===(e=v().documentElement)||void 0===e?void 0:e.clientWidth)||(null===(t=v().getElementsByTagName("body")[0])||void 0===t?void 0:t.clientWidth)||0,height:h().innerHeight||(null===(n=v().documentElement)||void 0===n?void 0:n.clientHeight)||(null===(r=v().getElementsByTagName("body")[0])||void 0===r?void 0:r.clientHeight)||0}},S=function(e,t){var n=[],r=function(e,t){for(t(e),e=e.firstChild;e;)r(e,t),e=e.nextSibling};r(e,(function(e){3===e.nodeType&&(""!==e.nodeValue.trim()||""===e.nodeValue.trim()&&n.length>0)&&n.push(e.nodeValue.trim())}));var o=n.join(" <br/> ");return o=(o=o.substr(0,o.length*(1-t/100))).substr(0,Math.min(o.length,o.lastIndexOf(" "))),"".concat(o,"...")},T=function(e){var t;if("undefined"!=typeof URLSearchParams)return new URLSearchParams((null===(t=h().location)||void 0===t?void 0:t.search)||"").get(e);var n,r=new RegExp("[?&]"+e+"=([^&]*)").exec((null===(n=h().location)||void 0===n?void 0:n.search)||"");return r&&decodeURIComponent(r[1].replace(/\+/g," "))},j=function(e){var t,n,r;return null===(r=h().location)||void 0===r||null===(n=r.hash)||void 0===n||null===(t=n.match(new RegExp("".concat(e,"=([^&]*)"))))||void 0===t?void 0:t[1]},A=function(){var e,t=null===(e=h().location)||void 0===e?void 0:e.hostname;return t?"."+(null==t?void 0:t.split(".").slice(-2).join(".")):null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{contextName:e.context,groupName:e.segment,scenarioName:e.journey,trigger:e.trigger,triggerType:e.triggerType,triggerPageType:e.triggerPageType,action:e.widget||e.action}},I=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(n,r){return r[t]&&e.includes(r[t])?n.concat(r):r.cols||Array.isArray(r.content)?n.concat(I(r.cols||r.content,t,e)):n}),[])}},3716:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function o(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}n.d(t,{y:()=>a});var a=function(){var e,t=(e=function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,n.e(649).then(n.bind(n,8987))];case 1:return e=t.sent().default,[2,(0,e.get)("_poool")]}}))},function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function l(e){r(i,o,a,l,u,"next",e)}function u(e){r(i,o,a,l,u,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}()},7654:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(3575);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,i(e,t,"set"),n),n}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}var v={default:{"background-color":"#2696AF",color:"#FFF","font-weight":"bold"},warn:{"background-color":"#F5A623"},error:{"background-color":"#D0021B"}},y=function(e){var t=f({},v.default);return e&&(t=f({},t,v[e])),Object.entries(t).map((function(e){var t=d(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r,";")})).join(" ")},g=new WeakMap,b=new WeakSet,m=function(){function e(){var t,n,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(t=this,n=b),n.add(t),function(e,t,n){a(e,t),t.set(e,n)}(this,g,{writable:!0,value:null}),this.name=r||"Poool"}var t,n,o;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;l(this,g,e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,a;u(this,b,w).call(this)&&console&&((0,r.Fr)()||(0,r.yO)()?(o=console).log.apply(o,[this.name+" :"].concat(p(t))):(a=console).log.apply(a,["%c ".concat(this.name," "),y()].concat(p(t))))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,a;u(this,b,w).call(this)&&console&&((0,r.Fr)()||(0,r.yO)()?(o=console).warn.apply(o,[this.name+" :"].concat(p(t))):(a=console).warn.apply(a,["%c ".concat(this.name," "),y("warn")].concat(p(t))))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,a;u(this,b,w).call(this)&&console&&((0,r.Fr)()||(0,r.yO)()?(o=console).error.apply(o,[this.name+" :"].concat(p(t))):(a=console).error.apply(a,["%c ".concat(this.name," "),y("error")].concat(p(t))))}}],n&&c(t.prototype,n),o&&c(t,o),e}();function w(){return!0===(e=this,t=g,function(e,t){return t.get?t.get.call(e):t.value}(e,i(e,t,"get"))).get("debug");var e,t}},9545:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Eb:()=>l,ai:()=>i,zM:()=>a});var a=function(e){return""+e=="true"},i=function(e){return Number(e)},l=function(e,t){return(e="string"==typeof e?JSON.parse(e):e)&&(t=atob(e.pop()).split(" ").map((function(e){return parseInt(e)})))&&atob(o(e).sort((function(n,r){return t[e.indexOf(n)]-t[e.indexOf(r)]})).join(""))}},8298:(e,t,n)=>{n.d(t,{R:()=>i});var r=n(3223);function o(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function a(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var i=function(){var e,t=(e=function(){var e,t,o,i,l,u,c,s,f,d,p,h,v,y,g=arguments;return a(this,(function(a){switch(a.label){case 0:return t=(e=g.length>0&&void 0!==g[0]?g[0]:{}).appId,o=e.apiUrl,i=void 0===o?(0,r.e9)():o,l=e.clientKey,u=void 0===l?(0,r.lG)():l,c=e.cookieOptions,s=void 0===c?(0,r.wh)():c,f=e.platform,d=void 0===f?0:f,p=e.clientId,h=void 0===p?null:p,v=e.redirectUri,y=void 0===v?null:v,[4,n.e(886).then(n.bind(n,2437))];case 1:return[2,new(0,a.sent().default)({appId:t,apiUrl:i,clientKey:u,cookieOptions:s,platform:d,clientId:h,redirectUri:y,beaconSuffix:"/async",signatureVersion:"v5",cookieNames:{userId:"_poool"}})]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){o(i,r,a,l,u,"next",e)}function u(e){o(i,r,a,l,u,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}()},278:(e,t,n)=>{function r(e){return 14+(e+64>>>9<<4)+1}function o(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,r,a,i){return o((l=o(o(t,e),o(r,i)))<<(u=a)|l>>>32-u,n);var l,u}function i(e,t,n,r,o,i,l){return a(t&n|~t&r,e,t,o,i,l)}function l(e,t,n,r,o,i,l){return a(t&r|n&~r,e,t,o,i,l)}function u(e,t,n,r,o,i,l){return a(t^n^r,e,t,o,i,l)}function c(e,t,n,r,o,i,l){return a(n^(t|~r),e,t,o,i,l)}n.d(t,{A:()=>s});const s=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,r="0123456789abcdef";for(let o=0;o<n;o+=8){const n=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let n=1732584193,a=-271733879,s=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16){const r=n,d=a,p=s,h=f;n=i(n,a,s,f,e[t],7,-680876936),f=i(f,n,a,s,e[t+1],12,-389564586),s=i(s,f,n,a,e[t+2],17,606105819),a=i(a,s,f,n,e[t+3],22,-1044525330),n=i(n,a,s,f,e[t+4],7,-176418897),f=i(f,n,a,s,e[t+5],12,1200080426),s=i(s,f,n,a,e[t+6],17,-1473231341),a=i(a,s,f,n,e[t+7],22,-45705983),n=i(n,a,s,f,e[t+8],7,1770035416),f=i(f,n,a,s,e[t+9],12,-1958414417),s=i(s,f,n,a,e[t+10],17,-42063),a=i(a,s,f,n,e[t+11],22,-1990404162),n=i(n,a,s,f,e[t+12],7,1804603682),f=i(f,n,a,s,e[t+13],12,-40341101),s=i(s,f,n,a,e[t+14],17,-1502002290),a=i(a,s,f,n,e[t+15],22,1236535329),n=l(n,a,s,f,e[t+1],5,-165796510),f=l(f,n,a,s,e[t+6],9,-1069501632),s=l(s,f,n,a,e[t+11],14,643717713),a=l(a,s,f,n,e[t],20,-373897302),n=l(n,a,s,f,e[t+5],5,-701558691),f=l(f,n,a,s,e[t+10],9,38016083),s=l(s,f,n,a,e[t+15],14,-660478335),a=l(a,s,f,n,e[t+4],20,-405537848),n=l(n,a,s,f,e[t+9],5,568446438),f=l(f,n,a,s,e[t+14],9,-1019803690),s=l(s,f,n,a,e[t+3],14,-187363961),a=l(a,s,f,n,e[t+8],20,1163531501),n=l(n,a,s,f,e[t+13],5,-1444681467),f=l(f,n,a,s,e[t+2],9,-51403784),s=l(s,f,n,a,e[t+7],14,1735328473),a=l(a,s,f,n,e[t+12],20,-1926607734),n=u(n,a,s,f,e[t+5],4,-378558),f=u(f,n,a,s,e[t+8],11,-2022574463),s=u(s,f,n,a,e[t+11],16,1839030562),a=u(a,s,f,n,e[t+14],23,-35309556),n=u(n,a,s,f,e[t+1],4,-1530992060),f=u(f,n,a,s,e[t+4],11,1272893353),s=u(s,f,n,a,e[t+7],16,-155497632),a=u(a,s,f,n,e[t+10],23,-1094730640),n=u(n,a,s,f,e[t+13],4,681279174),f=u(f,n,a,s,e[t],11,-358537222),s=u(s,f,n,a,e[t+3],16,-722521979),a=u(a,s,f,n,e[t+6],23,76029189),n=u(n,a,s,f,e[t+9],4,-640364487),f=u(f,n,a,s,e[t+12],11,-421815835),s=u(s,f,n,a,e[t+15],16,530742520),a=u(a,s,f,n,e[t+2],23,-995338651),n=c(n,a,s,f,e[t],6,-198630844),f=c(f,n,a,s,e[t+7],10,1126891415),s=c(s,f,n,a,e[t+14],15,-1416354905),a=c(a,s,f,n,e[t+5],21,-57434055),n=c(n,a,s,f,e[t+12],6,1700485571),f=c(f,n,a,s,e[t+3],10,-1894986606),s=c(s,f,n,a,e[t+10],15,-1051523),a=c(a,s,f,n,e[t+1],21,-2054922799),n=c(n,a,s,f,e[t+8],6,1873313359),f=c(f,n,a,s,e[t+15],10,-30611744),s=c(s,f,n,a,e[t+6],15,-1560198380),a=c(a,s,f,n,e[t+13],21,1309151649),n=c(n,a,s,f,e[t+4],6,-145523070),f=c(f,n,a,s,e[t+11],10,-1120210379),s=c(s,f,n,a,e[t+2],15,718787259),a=c(a,s,f,n,e[t+9],21,-343485551),n=o(n,r),a=o(a,d),s=o(s,p),f=o(f,h)}return[n,a,s,f]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},8537:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(6382);const o=function(e){if(!(0,r.A)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},3469:(e,t,n)=>{n.d(t,{A:()=>r});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},8823:(e,t,n)=>{n.d(t,{k:()=>o});const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function o(e,t=0){return r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]}},4523:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(312),o=n(278);const a=(0,r.Ay)("v3",48,o.A)},312:(e,t,n)=>{n.d(t,{Ay:()=>l});var r=n(8823),o=n(8537);const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function l(e,t,n){function l(e,a,i,l){var u;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof a&&(a=(0,o.A)(a)),16!==(null===(u=a)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,i){l=l||0;for(let e=0;e<16;++e)i[l+e]=c[e];return i}return(0,r.k)(c)}try{l.name=e}catch(e){}return l.DNS=a,l.URL=i,l}},6382:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(3469);const o=function(e){return"string"==typeof e&&r.A.test(e)}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>({102:"vendor-access.min",644:"vendor-buddy-v3.min",649:"vendor-audit.min",722:"vendor-trim-html.min",886:"poool-sdk-v4.min"}[e]+".js"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@poool/paywall:",i.l=(e,t,o,a)=>{if(n[e])n[e].push(t);else{var l,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==r+o){l=f;break}}l||(u=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",r+o),l.src=e),n[e]=[t];var d=(t,r)=>{l.onerror=l.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={347:0,977:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=i.p+i.u(t),l=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[a,l,u]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(u)u(i)}for(t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_poool_paywall=self.webpackChunk_poool_paywall||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l={};i.r(l),i.d(l,{Access:()=>Qn});var u=i(3575),c=i(3517),s=i(8288),f=i(6901),d=i(7654),p=i(2815);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,v(e,t,"get"))}function g(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,v(e,t,"set"),n),n}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}function _(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var T=new WeakMap,j=new WeakMap,A=new WeakMap,P=new WeakMap,I=new WeakMap,x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,T,{writable:!0,value:{}}),g(this,j,{writable:!0,value:[]}),g(this,A,{writable:!0,value:null}),g(this,P,{writable:!0,value:null}),g(this,I,{writable:!0,value:null})}var t,n,r;return t=e,n=[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.events,n=e.config,r=e.variables;b(this,A,t),b(this,P,n),b(this,I,r)}},{key:"init",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,j).length=0,(e=y(this,j)).push.apply(e,E(t.readonlies||[])),Object.assign(y(this,T),t)}},{key:"get",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=null===(n=e||y(this,P).get("locale"))||void 0===n?void 0:n.toLowerCase(),y(this,T)[e]=y(this,T)[e]||{};var o=y(this,T)[e][t]||"";return Object.entries(k({},r,y(this,I).getCustom())).map((function(e){var t=O(e,2),n=t[0],r=t[1];return o=o.replace("{".concat(n,"}"),r||"")})),o}},{key:"set",value:function(e,t,n,r){var o,a=this;if(r="string"==typeof e?r:n,"string"==typeof e&&!t)return this.get(r,e);y(this,A).fire("$parentMessage",{type:"textsSet",args:[e,t,n,r]}),r=null===(o=r||y(this,P).get("locale"))||void 0===o?void 0:o.toLowerCase(),y(this,T)[r]=y(this,T)[r]||{};var i="string"==typeof e?w({},e,t):e,l="string"==typeof e?n:t,u=!0;return Object.entries(i||{}).map((function(e){var t=O(e,2),n=t[0],o=t[1];return y(a,j).indexOf(n)>-1?u=!1:(0,f.e)(o)&&""!==o?(y(a,T)[r][n]=o,l&&y(a,j).push(n)):u=!1,null})),u}},{key:"getCustom",value:function(){return _(k({},y(this,T)),{readonlies:y(this,j)})}},{key:"reset",value:function(){y(this,j).length=0;var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(y(this,T))[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;delete y(this,T)[a]}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"destroy",value:function(){y(this,j).length=0,b(this,T,{})}}],n&&m(t.prototype,n),r&&m(t,r),e}();function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function U(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,M(e,t,"get"))}function V(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function W(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,M(e,t,"set"),n),n}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}var Z={layout:"portrait",button_color:"#000A24",button_hover_color:"#556677",skin_color:"#000A24",premium_color:"#AA5D00",brand_logo:"",brand_cover:"",custom_css:"",advanced:{},palette_css:":root{}",custom_parent_css:""},Y=new WeakMap,q=new WeakMap,z=new WeakMap,B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,Y,{writable:!0,value:{}}),V(this,q,{writable:!0,value:[]}),V(this,z,{writable:!0,value:null})}var t,n,r;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).events;W(this,z,e)}},{key:"init",value:function(e){var t;U(this,q).length=0,(t=U(this,q)).push.apply(t,F(e.readonlies||[])),Object.assign(U(this,Y),e.values)}},{key:"get",value:function(e){return(0,f.e)(U(this,Y)[e])?U(this,Y)[e]:Z[e]}},{key:"getAll",value:function(){return N({},Z,(0,f.o)((0,f.j)(U(this,Y),["custom_css"]),u.jw))}},{key:"getAllAdvanced",value:function(){return(0,f.o)((0,f.j)(U(this,Y).advanced,["content","buttons_outlined"]),u.jw)}},{key:"set",value:function(e,t,n){var r=this;if("string"==typeof e&&!(0,f.e)(t))return this.get(e);if(!e)return!1;U(this,z).fire("$parentMessage",{type:"stylesSet",args:[e,t,n]});var o="string"==typeof e?D({},e,t):e,a="string"==typeof e?n:t,i=!0;return Object.entries(o).map((function(e){var t=$(e,2),n=t[0],o=t[1];return U(r,q).indexOf(n)>-1?i=!1:n in Z&&(0,f.e)(o)?(U(r,Y)[n]=o,a&&U(r,q).push(n)):i=!1,o})),i}},{key:"isDefault",value:function(e){return!(0,f.e)(U(this,Y)[e])||!U(this,Y)[e]||U(this,Y)[e]===Z[e]}},{key:"getCustom",value:function(){return{values:N({},U(this,Y)),readonlies:U(this,q)}}},{key:"hasCustom",value:function(e){return(0,f.e)(U(this,Y)[e])}},{key:"isReadOnly",value:function(e){return U(this,q).includes(e)}},{key:"reset",value:function(){return U(this,q).length=0,U(this,q)}},{key:"destroy",value:function(){U(this,q).length=0,W(this,Y,{})}}],n&&R(t.prototype,n),r&&R(t,r),e}();function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function J(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Q(e,t,"get"))}function H(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function X(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Q(e,t,"set"),n),n}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=new WeakMap,oe=new WeakMap,ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,re,{writable:!0,value:{}}),H(this,oe,{writable:!0,value:null})}var t,n,r;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).events;X(this,oe,e)}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(J(this,re),e)}},{key:"get",value:function(e){return J(this,re)[e]}},{key:"set",value:function(e,t){var n=this;if("string"==typeof e&&!t)return this.get(e);J(this,oe).fire("$parentMessage",{type:"variablesSet",args:[e,t]});var r="string"==typeof e?ee({},e,t):e;return Object.entries(r).map((function(e){var t=ne(e,2),r=t[0],o=t[1];return J(n,re)[r]="".concat(o||""),o})),!0}},{key:"getCustom",value:function(){return te({},J(this,re))}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(te({},t,this.getCustom())).map((function(t){var n=ne(t,2),r=n[0],o=n[1];return e=e.replace("{".concat(r,"}"),o||"")})),e}},{key:"reset",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(J(this,re))[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;delete J(this,re)[a]}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"destroy",value:function(){X(this,re,{})}}],n&&K(t.prototype,n),r&&K(t,r),e}(),ie=i(4523),le=i(8298),ue=i(3716),ce=i(3223),se=i(2980);function fe(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){fe(a,r,o,i,l,"next",e)}function l(e){fe(a,r,o,i,l,"throw",e)}i(void 0)}))}}function pe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function he(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function ve(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,he(e,t,"get"))}function ye(e,t,n){pe(e,t),t.set(e,n)}function ge(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,he(e,t,"set"),n),n}function be(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){we(e,t,n[t])}))}return e}function Oe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Se(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var Te=new WeakMap,je=new WeakMap,Ae=new WeakMap,Pe=new WeakMap,Ie=new WeakMap,xe=new WeakMap,Ce=new WeakMap,Me=new WeakSet,Ue=function(){function e(t){var n,r,o=t.config,a=t.events,i=t.logger,l=t.isChild,u=void 0!==l&&l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe(n=this,r=Me),r.add(n),ye(this,Te,{writable:!0,value:null}),ye(this,je,{writable:!0,value:null}),ye(this,Ae,{writable:!0,value:null}),ye(this,Pe,{writable:!0,value:null}),ye(this,Ie,{writable:!0,value:null}),ye(this,xe,{writable:!0,value:!1}),ye(this,Ce,{writable:!0,value:(0,ce.wh)()}),ge(this,Te,o),ge(this,je,i),ge(this,Pe,a),ge(this,Ae,new se.A({config:o,logger:i})),ge(this,xe,u)}var t,n,r;return t=e,n=[{key:"setup",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sharedConfig;ge(this,Ie,e)}},{key:"request",value:function(e){var t=this;return de((function(){var n,r,o;return Se(this,(function(a){switch(a.label){case 0:return n=Oe(_e({},ve(t,Ce)),{domain:ve(t,Te).get("cookies_domain")||ve(t,Ce).domain||(0,u.yz)()||".poool.fr",path:ve(t,Te).get("cookies_path")||ve(t,Ce).path||"/"}),ve(t,xe)&&ve(t,Te).get("$user_id")&&(e.identity=ve(t,Te).get("$user_id")),!1!==e.auth&&ve(t,Ie).get("$dashboard_at")&&(ve(t,je).trace("Dashboard account detected, checking for active tests"),e.auth=ve(t,Ie).get("$dashboard_at")),[4,(0,le.R)({appId:ve(t,Te).get("app_id"),cookieOptions:n})];case 1:return[4,(r=a.sent()).request(e)];case 2:return 403!==(o=a.sent()).status?[3,4]:((0,u.YE)().dispatchEvent(new CustomEvent("$_poool.extension.invalidateData")),[4,r.request(Oe(_e({},e),{auth:!1}))]);case 3:o=a.sent(),a.label=4;case 4:return e.returnFullResponse?(o.parse=function(){return r.parseResponse(o)},[2,o]):[2,o]}}))}))()}},{key:"getEventsInfos",value:function(){var e=this;return de((function(){var t,n,r,o,a,i,l,c,s,f;return Se(this,(function(d){return t=ve(e,Te).get("custom_user_id"),n=ve(e,Te).get("custom_reader_id"),r=ve(e,Te).get("item_id"),o=ve(e,Te).get("context"),a=(0,u.qn)("utm_source"),i=(0,u.qn)("utm_campaign"),l=(0,u.qn)("utm_medium"),c=(0,u.qn)("xtor")||(0,u.W6)("xtor"),s=(0,u.qn)("nonli"),f=!!ve(e,Te).get("sophi_enabled"),n&&(n=(0,ie.A)(n.toString(),ie.A.URL)),[2,_e({hit:ve(e,Te).get("$current_hit"),cookiesEnabled:ve(e,Te).get("cookies_enabled"),type:ve(e,Te).get("$page_type"),customSegment:ve(e,Te).get("custom_segment"),utmSource:a,utmCampaign:i,utmMedium:l,xtor:c,nonli:s},t?{cid:t}:{},n?{rid:n}:{},r?{iid:r}:{},o?{context:o}:{},f&&{tp:_e({},ve(e,Te).get("sophi_enabled")&&{sophi:{contentId:ve(e,Te).get("sophi_content_id"),pageSection:ve(e,Te).get("sophi_page_section"),visitorType:ve(e,Te).get("sophi_visitor_type")}})})]}))}))()}},{key:"initPaywall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return de((function(){var n,r,o,a,i,l,s,d,p,h,v,y,g,b,m,w,k,_,O,E,S;return Se(this,(function(T){switch(T.label){case 0:return(s=ve(t,Te).get("custom_reader_id"))!==e.type&&"boolean"!=typeof s||ve(t,je).warn("Your custom reader ID doesn't seem to be unique. Users might end up sharing the exact same identity as the custom reader ID has the highest priority.","Please provide a more unique custom reader id."),(0,f.e)(s)&&"string"!=typeof s&&ve(t,je).warn("Custom reader ID should be of type string, as it will be casted to string anyways.","Please provide a custom reader ID of type string."),d=null===(o=(0,u.mS)())||void 0===o||null===(r=o.performance)||void 0===r||null===(n=r.now)||void 0===n?void 0:n.call(r),h=t.request,v={method:"POST",resource:"/paywall"},y=[{}],[4,t.getEventsInfos()];case 1:return[4,h.apply(t,[(v.body=_e.apply(void 0,y.concat([T.sent(),e])),v.headers={Additional:"mobile=".concat((0,u.Fr)(),";")+"amp=".concat(!!ve(t,Te).get("amp_reader_id"))},v.timeout=ve(t,Te).get("paywall_load_timeout"),v.returnFullResponse=!0,v)])];case 2:p=T.sent(),T.label=3;case 3:return T.trys.push([3,5,,6]),[4,p.parse()];case 4:return g=T.sent(),[3,6];case 5:throw b=T.sent(),ve(t,Pe).dispatch("$onTrackData",{start:d,end:null===(k=(0,u.mS)())||void 0===k||null===(w=k.performance)||void 0===w||null===(m=w.now)||void 0===m?void 0:m.call(w),request:{action:"get-paywall",data:e},response:b}),b;case 6:return ve(t,je).trace("Initial paywall request sent"),ve(t,Te).set("$current_hit",g.hit,!0),[4,(0,ue.y)()];case 7:return(_=T.sent())||!0!==ve(t,Te).get("cookies_enabled")||(ve(t,je).warn("Could not retrieve user ID from cookies, your cookies options might not be configured properly."),_=p.headers.get("ptag")),ve(t,Te).set("$user_id",_),ve(t,Te).set("$page_type",e.pageType),!0===ve(t,Te).get("cookies_enabled")&&((0,f.e)(_)||s)?(ve(t,Pe).dispatch("onIdentityAvailable",_e({user_id:_,userId:_,segment_slug:g.segment,groupSlug:g.segment,journey_name:g.journey,scenarioName:g.journey,widget:g.action,widget_name:g.actionName,actionName:g.actionName,context_name:g.context,contextName:g.context,context_type:g.contextType,contextType:g.contextType,context_value:g.contextValue,contextValue:g.contextValue,trigger:g.trigger,triggerType:g.triggerType,triggerValue:g.triggerValue,triggerPageType:g.triggerPageType},s?{customReaderId:s}:{})),t.trackExternalEvent("identity-available",Oe(_e({},(0,u.aU)(g)),{nonInteraction:!0,url:null===(E=(0,u.mS)())||void 0===E||null===(O=E.location)||void 0===O?void 0:O.href,widget:g.action})),(0,c.DU)({user_id:_,segment_slug:g.segment}),ve(t,Pe).dispatch("$userIdAvailable",_)):(ve(t,je).warn("Cookies disabled by user (see https://poool.tech/gdpr for more information about data privacy), disabling tracking & widgets"),ve(t,Te).get("cookies_enabled")||"consent"===g.action||g.triggerType||(ve(t,Te).set("consent_rejection_widget",(null===(S=g.config)||void 0===S?void 0:S.consent_rejection_widget)||ve(t,Te).get("consent_rejection_widget")),g.action=ve(t,Te).get("consent_rejection_widget"))),ve(t,Pe).dispatch("$onTrackData",{start:d,end:null===(l=(0,u.mS)())||void 0===l||null===(i=l.performance)||void 0===i||null===(a=i.now)||void 0===a?void 0:a.call(i),request:{action:"get-paywall",data:e},response:g}),[2,g]}}))}))()}},{key:"sendAudit",value:function(e,t,n){var r=this;return de((function(){var o;return Se(this,(function(a){switch(a.label){case 0:return"premium-read"===e?[3,1]:[3,3];case 1:return[4,r.unlockAccess(t)];case 2:return o=a.sent(),[3,5];case 3:return[4,r.trackEvent(e,t,n)];case 4:o=a.sent(),a.label=5;case 5:return ve(r,je).trace("Tracking sent <".concat(e,">")),[2,o]}}))}))()}},{key:"unlockAccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return de((function(){var n,r,o,a,i,l,c,s,f,d,p,h;return Se(this,(function(v){switch(v.label){case 0:return t.trackExternalEvent(ve(t,Te).get("auto_tracking_spec_v2")?"release":"premium-read",Oe(_e({},e),{nonInteraction:!0,url:null===(r=(0,u.mS)())||void 0===r||null===(n=r.location)||void 0===n?void 0:n.href})),[4,t.getEventsInfos()];case 1:f=v.sent(),d=null===(i=(0,u.mS)())||void 0===i||null===(a=i.performance)||void 0===a||null===(o=a.now)||void 0===o?void 0:o.call(a),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,t.request({method:"PUT",resource:"/paywall",body:_e({},f,e),headers:be(t,Me,Ve).call(t),auth:!1})];case 3:return p=v.sent(),[3,5];case 4:return h=v.sent(),p=h,[3,5];case 5:if(ve(t,Pe).dispatch("$onTrackData",{start:d,end:null===(s=(0,u.mS)())||void 0===s||null===(c=s.performance)||void 0===c||null===(l=c.now)||void 0===l?void 0:l.call(c),request:{action:"premium-read",data:{data:e,hit:ve(t,Te).get("$current_hit"),event:{pageType:f.type,context:f.context}}},response:p}),(null==p?void 0:p.status)>=400||ke(p,Error))throw p;return[2,p]}}))}))()}},{key:"trackEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this;return de((function(){var o,a,i,l,c,s,f,d,p,h,v,y,g;return Se(this,(function(b){switch(b.label){case 0:return o=n.beacon,a=void 0!==o&&o,i=Ee(n,["beacon"]),p=(0,u.mS)().Audit||(0,u.mS)().PooolAudit,!0!==ve(r,Te).get("cookies_enabled")?(ve(r,je).warn("Ignoring <".concat(e,"> tracking action due to privacy settings")),[2,{}]):(null==p?void 0:p.isPoool)&&(null==p?void 0:p.sendEvent)?[2,p.sendEvent(e,t,Oe(_e({},i),{beacon:a}))]:(r.trackExternalEvent(e,Oe(_e({},t),{url:null===(c=(0,u.mS)())||void 0===c||null===(l=c.location)||void 0===l?void 0:l.href})),[4,r.getEventsInfos()]);case 1:return h=b.sent(),v=Oe(_e({},t,h),{action:e,type:t.type||ve(r,Te).get("$page_type"),cookiesEnabled:ve(r,Te).get("cookies_enabled"),hit:ve(r,Te).get("$current_hit")}),y=null===(d=(0,u.mS)())||void 0===d||null===(f=d.performance)||void 0===f||null===(s=f.now)||void 0===s?void 0:s.call(f),g=r.request({method:"POST",resource:"/event",body:v,auth:!1,timeout:1e4,beacon:a,headers:be(r,Me,Ve).call(r)}).then((function(e){var t,n,o;return ve(r,Pe).dispatch("$onTrackingEvent",{start:y,end:null===(o=(0,u.mS)())||void 0===o||null===(n=o.performance)||void 0===n||null===(t=n.now)||void 0===t?void 0:t.call(n),request:{action:v.action,data:v},response:e}),e})),[2,g]}}))}))()}},{key:"trackExternalEvent",value:function(e,t){ve(this,Ae).delegate(e,t)}},{key:"generateQuestionRoll",value:function(){var e=this;return de((function(){var t,n,r,o,a,i,l,c,s,f;return Se(this,(function(d){switch(d.label){case 0:return[4,e.getEventsInfos()];case 1:l=d.sent(),c=null===(r=(0,u.mS)())||void 0===r||null===(n=r.performance)||void 0===n||null===(t=n.now)||void 0===t?void 0:t.call(n),d.label=2;case 2:return d.trys.push([2,4,,5]),[4,e.request({method:"GET",resource:"/question",qs:l,auth:!1})];case 3:return s=d.sent(),[3,5];case 4:return f=d.sent(),s=f,[3,5];case 5:if(ve(e,Pe).dispatch("$onTrackData",{start:c,end:null===(i=(0,u.mS)())||void 0===i||null===(a=i.performance)||void 0===a||null===(o=a.now)||void 0===o?void 0:o.call(a),request:{action:"get-question",data:{hit:ve(e,Te).get("$current_hit"),event:{pageType:l.pageType,context:l.context}}},response:s}),(null==s?void 0:s.status)>=400||ke(s,Error))throw s;return ve(e,je).trace("Generated a new question roll"),[2,s]}}))}))()}},{key:"answerQuestion",value:function(e,t){var n=this;return de((function(){var r,o,a,i,l,c,s,d,p,h;return Se(this,(function(v){switch(v.label){case 0:return[4,n.getEventsInfos()];case 1:s=v.sent(),d=null===(a=(0,u.mS)())||void 0===a||null===(o=a.performance)||void 0===o||null===(r=o.now)||void 0===r?void 0:r.call(o),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,n.request({method:"POST",resource:"/question/".concat(e,"/answer"),body:Oe(_e({answer:t},(0,f.j)(s,["type"])),{pageType:s.type||ve(n,Te).get("$page_type")}),headers:be(n,Me,Ve).call(n),auth:!1})];case 3:return p=v.sent(),[3,5];case 4:return h=v.sent(),p=h,[3,5];case 5:if(ve(n,Pe).dispatch("$onTrackData",{start:d,end:null===(c=(0,u.mS)())||void 0===c||null===(l=c.performance)||void 0===l||null===(i=l.now)||void 0===i?void 0:i.call(l),request:{action:"answer-question",data:{hit:ve(n,Te).get("$current_hit"),questionId:e,answer:t,event:{pageType:s.type,context:s.context}}},response:ke(p,Error)?{error:p.message,status:p.status}:p}),(null==p?void 0:p.status)>=400||ke(p,Error))throw p;return ve(n,je).trace("Question answered"),[2,p]}}))}))()}},{key:"subscribeToNewsletter",value:function(e,t,n,r){var o=this;return de((function(){var a,i,l,c,s,d,p,h,v,y;return Se(this,(function(g){switch(g.label){case 0:return[4,o.getEventsInfos()];case 1:p=g.sent(),h=null===(l=(0,u.mS)())||void 0===l||null===(i=l.performance)||void 0===i||null===(a=i.now)||void 0===a?void 0:a.call(i),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,o.request({method:"POST",resource:"/newsletter/register",body:Oe(_e({email:e,newsletterId:t,externalListId:n},r,(0,f.j)(p,["type"])),{pageType:p.type||ve(o,Te).get("$page_type"),consentRejected:"consent"===(null==r?void 0:r.action)&&!ve(o,Te).get("cookies_enabled")&&"newsletter"===ve(o,Te).get("alternative_widget")}),auth:!1,headers:be(o,Me,Ve).call(o)})];case 3:return v=g.sent(),[3,5];case 4:return y=g.sent(),v=y,[3,5];case 5:if(ve(o,Pe).dispatch("$onTrackData",{start:h,end:null===(d=(0,u.mS)())||void 0===d||null===(s=d.performance)||void 0===s||null===(c=s.now)||void 0===c?void 0:c.call(s),request:{action:"newsletter-register",data:Oe(_e({},r),{email:e,newsletterId:t,externalListId:n,hit:ve(o,Te).get("$current_hit"),event:{pageType:p.type,context:p.context}})},response:ke(v,Error)?{error:v.message,status:v.status}:v}),(null==v?void 0:v.status)>=400||ke(v,Error))throw v;return ve(o,je).trace("Newsletter email registered"),[2,v]}}))}))()}},{key:"submitForm",value:function(e,t){var n=this;return de((function(){var r,o,a,i,l,c,s,d,p,h;return Se(this,(function(v){switch(v.label){case 0:return[4,n.getEventsInfos()];case 1:s=v.sent(),d=null===(a=(0,u.mS)())||void 0===a||null===(o=a.performance)||void 0===o||null===(r=o.now)||void 0===r?void 0:r.call(o),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,n.request({method:"POST",resource:"/form/submit",body:Oe(_e(Oe(_e({},t),{fields:e}),s,(0,f.j)(s,["type"])),{pageType:s.type||ve(n,Te).get("$page_type"),consentRejected:"consent"===(null==t?void 0:t.action)&&!ve(n,Te).get("cookies_enabled")&&"form"===ve(n,Te).get("alternative_widget")}),auth:!1,headers:be(n,Me,Ve).call(n)})];case 3:return p=v.sent(),[3,5];case 4:return h=v.sent(),p=h,[3,5];case 5:if(ve(n,Pe).dispatch("$onTrackData",{start:d,end:null===(c=(0,u.mS)())||void 0===c||null===(l=c.performance)||void 0===l||null===(i=l.now)||void 0===i?void 0:i.call(l),request:{action:"form-submit",data:Oe(_e({fields:e},t),{hit:ve(n,Te).get("$current_hit"),event:{pageType:s.type,context:s.context}})},response:ke(p,Error)?{error:p.message,status:p.status}:p}),(null==p?void 0:p.status)>=400||ke(p,Error))throw p;return ve(n,je).trace("Form submitted"),[2,p]}}))}))()}}],n&&me(t.prototype,n),r&&me(t,r),e}();function Ve(){return{Additional:"mobile=".concat((0,u.Fr)(),";")+"amp=".concat(!!ve(this,Te).get("amp_reader_id"))}}function We(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Re(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,We(e,t,"get"))}function De(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Ne(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,We(e,t,"set"),n),n}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fe=new WeakMap,Le=function(){function e(t){var n=t.config;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,Fe,{writable:!0,value:null}),Ne(this,Fe,n)}var t,n,r;return t=e,(n=[{key:"get",value:function(e,t){try{return localStorage.getItem("poool:".concat(e,":").concat(Re(this,Fe).get("app_id")))||t}catch(e){return t}}},{key:"set",value:function(e,t){try{localStorage.setItem("poool:".concat(e,":").concat(Re(this,Fe).set("app_id")),t)}catch(e){}}}])&&$e(t.prototype,n),r&&$e(t,r),e}();const Ze={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ye;const qe=new Uint8Array(16);function ze(){if(!Ye&&(Ye="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ye))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ye(qe)}var Be=i(8823);const Ge=function(e,t,n){if(Ze.randomUUID&&!t&&!e)return Ze.randomUUID();const r=(e=e||{}).random||(e.rng||ze)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return(0,Be.k)(r)};function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Je(a,r,o,i,l,"next",e)}function l(e){Je(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Xe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Ke(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Xe(e,t,"get"))}function et(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function tt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Xe(e,t,"set"),n),n}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||it(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function lt(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var ut=new WeakMap,ct=new WeakMap,st=new WeakMap,ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=n.config,o=n.events,a=n.logger;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rt(this,"outlet",null),rt(this,"loader",null),rt(this,"container",null),rt(this,"domain",null),rt(this,"tag",null),rt(this,"autoResize",!1),rt(this,"closed",!1),rt(this,"renderedIntoVoid",!1),et(this,ut,{writable:!0,value:null}),et(this,ct,{writable:!0,value:null}),et(this,st,{writable:!0,value:null});var i=t.props;this.url=t.url,this.domain=t.domain,this.tag=t.tag,this.autoResize=t.autoResize,this.id=t.id,this.getDefaultProps=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rt(e,t,n[t])}))}return e}({},i)},this.outlet=this.generateOutlet(t),this.loader=this.generateLoader(),this.container=this.generateContainer(t),tt(this,ut,r),tt(this,ct,o),tt(this,st,a)}var t,n,r;return t=e,n=[{key:"getUsefulProps",value:function(){var e,t,n,r=this,o=this,a=(0,u._b)();return{windowWidth:a.width,windowHeight:a.height,hostname:null===(t=(0,u.mS)().location)||void 0===t?void 0:t.hostname,url:null===(n=(0,u.mS)().location)||void 0===n?void 0:n.href,referrer:(0,u.YE)().referrer,open:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=(0,u.mS)()).open.apply(r,at(t)),!0},redirect:function(e){return(0,u.mS)().location=e,!0},dispatchEvent:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=Ke(o,ct)).dispatch.apply(e,at(n))},close:function(){return r.close()}}}},{key:"generateOutlet",value:function(){var e=(0,u.YE)().createElement("iframe");return e.className="p3-outlet",e.frameBorder=0,e.scrolling="no",e.allowTransparency="true",e}},{key:"generateLoader",value:function(){var e=(0,u.YE)().createElement("div");return e.className="p3-component-loader",e}},{key:"generateContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.YE)().createElement("div");return t.id=Ge(),t.className="p3-component ".concat(this.tag," ").concat(e.class||""),t}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this;return He((function(){var o;return lt(this,(function(a){switch(a.label){case 0:return[4,i.e(102).then(i.t.bind(i,570,23))];case 1:return o=a.sent().default,Ke(r,st).trace("Rendering ".concat(r.tag," frame inside "),e),r.reset(),r.checkProps(t),[2,new Promise((function(a,i){if(r.renderedIntoVoid=!1,r.target=(0,u.vq)(e)?e:(0,u.YE)().querySelector(e),r.target||(r.renderedIntoVoid=!0,r.target=(0,u.YE)().createElement("div")),r.container.appendChild(r.loader),r.outlet.onload=He((function(){var e;return lt(this,(function(n){switch(n.label){case 0:try{r.container.removeChild(r.loader)}catch(e){}return Ke(r,ct).listen("$parentMessage",r.handleParentMessage.bind(r)),[4,r.sendEvent("$childLoaded",r.initProps(t))];case 1:return e=n.sent(),r.rendered=!0,r.closed=!1,[2,a(e)]}}))})),r.outlet.onerror=function(e){try{r.close()}catch(e){}return i(e)},n.parentStyles&&(0,u.oU)(n.parentStyles,"poool-component-parent-styles-"+r.container.id,{replace:{"#p3-parent-frame":'.p3-component[id="'.concat(r.container.id,'"] .p3-outlet')}}),r.outlet.src=r.url,r.container.appendChild(r.outlet),r.target.appendChild(r.container),r.autoResize&&!r.renderedIntoVoid){r.outlet.scrolling="no";var l=r.getUsefulProps().dispatchEvent;o({log:!1,id:r.tag,checkOrigin:[r.domain],heightCalculationMethod:Ke(r,ut).get("height_calculation_method")||"bodyOffset",warningTimeout:0,onResized:function(e){l("onResize",{width:e.width,height:e.height})}},r.outlet)}n.onVisible&&(r._intersectionObserver=new IntersectionObserver((function(e){n.onVisible(e[0])}),{threshold:.2}),r._intersectionObserver.observe(r.target))}))]}}))}))()}},{key:"checkProps",value:function(e){var t=this,n=this.getUsefulProps();Object.entries(e).map((function(e){var r,o=ot(e,2),a=o[0],i=o[1],l=t.getDefaultProps()[a];if(!(0,f.e)(l))throw Ke(t,st).error("Prop <".concat(a,"> is not defined in <").concat(t.tag,"> child ")+"component definition, therefore should not be present"),new Error("prop_not_defined");if((0,f.e)(i)&&(0,f.e)(n[a]))throw Ke(t,st).warn("Prop <".concat(a,"> is an internal prop and should not be ")+"overridden, use { force: true } to override it"),new Error("prop_overridden");if((0,f.e)(i)&&(void 0===i?"undefined":(r=i)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)!==l.type&&i.constructor.name!==l.type)throw Ke(t,st).error("Prop <".concat(a,"> should be of type [").concat(l.type,"], ")+"found ".concat(i.constructor.name)),new Error("wrong_prop_type");if(!(0,f.e)(i)&&l.required)throw Ke(t,st).error("Prop <".concat(a,"> is required, but not defined or null")),new Error("prop_required");return null}))}},{key:"initProps",value:function(e){var t={};return Object.entries(this.getDefaultProps()).map((function(n){var r=ot(n,2),o=r[0],a=r[1],i=(0,f.e)(e[o])?e[o]:a.default;return t[o]=i,null})),Object.assign(t,this.getUsefulProps()),t}},{key:"handleParentMessage",value:function(e){var t=this;return He((function(){var n;return lt(this,(function(r){switch(r.label){case 0:if(t.closed||!t.rendered||!(null===(n=(0,u.YE)())||void 0===n?void 0:n.getElementById(t.id)))return[2,!1];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.sendEvent("$parentMessage",e)];case 2:return r.sent(),[3,4];case 3:return r.sent(),Ke(t,st).error("Internal component error, please try to flush components using `poool('flush')` to avoid errors when using one-page frameworks"),[3,4];case 4:return[2,!0]}}))}))()}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return He((function(){var r;return lt(this,(function(o){switch(o.label){case 0:return[4,i.e(644).then(i.bind(i,7406))];case 1:return r=o.sent().send,[2,new Promise((function(o,a){r(n.outlet.contentWindow,e,t,{domain:n.domain,timeout:Ke(n,ut).get("components_load_timeout")}).then((function(e){return o(null==e?void 0:e.data)})).catch((function(e){return a(e)}))}))]}}))}))()}},{key:"reset",value:function(){var e,t;this.closed=!0,this.rendered=!1,null===(e=this._intersectionObserver)||void 0===e||e.disconnect(),null===(t=this.outlet.iFrameResizer)||void 0===t||t.close(),Ke(this,ct).mute("$parentMessage",this.handleParentMessage)}},{key:"close",value:function(){var e=this;return He((function(){return lt(this,(function(t){switch(t.label){case 0:return e.closed||!e.rendered?[2,!1]:(e.reset(),[4,e.handleParentMessage({type:"close"})]);case 1:t.sent(),e.outlet.src="about:blank";try{e.target.removeChild(e.container)}catch(e){}return[2,!0]}}))}))()}}],n&&nt(t.prototype,n),r&&nt(t,r),e}();function dt(e,t,n){return t=pt(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vt()?Reflect.construct(t,n||[],pt(e).constructor):t.apply(e,n))}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}function ht(e,t){return ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ht(e,t)}function vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vt=function(){return!!e})()}var yt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,t,[{url:(0,ce.CC)("PAYWALL"),domain:(0,ce.FB)(),tag:"p3-paywall",autoResize:!0,props:{pageData:{type:"object",default:{}},paywallData:{type:"object",default:{}},config:{required:!0,type:"object"},texts:{required:!0,type:"object"},styles:{required:!0,type:"object"},variables:{type:"object"},doRelease:{type:"function",default:function(){}},sendAudit:{type:"function",default:function(){}},trackExternalEvent:{type:"function",default:function(){}},scrollToView:{type:"function",default:function(){}},doViewpayAction:{type:"function",default:function(){}},debugTrackData:{type:"function",default:function(){}}}},e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,e),t}(ft);function gt(e,t,n){return t=bt(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wt()?Reflect.construct(t,n||[],bt(e).constructor):t.apply(e,n))}function bt(e){return bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bt(e)}function mt(e,t){return mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mt(e,t)}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wt=function(){return!!e})()}var kt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,t,[{url:(0,ce.CC)("ADVANCED_PAYWALL"),domain:(0,ce.FB)(),tag:"p3-advanced-paywall",autoResize:!0,props:{pageData:{type:"object",default:{}},paywallData:{type:"object",default:{}},config:{required:!0,type:"object"},texts:{required:!0,type:"object"},styles:{required:!0,type:"object"},variables:{type:"object"},doRelease:{type:"function",default:function(){}},sendAudit:{type:"function",default:function(){}},trackExternalEvent:{type:"function",default:function(){}},scrollToView:{type:"function",default:function(){}},doViewpayAction:{type:"function",default:function(){}},debugTrackData:{type:"function",default:function(){}}}},e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,e),t}(ft);function _t(e,t,n){return t=Ot(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,St()?Reflect.construct(t,n||[],Ot(e).constructor):t.apply(e,n))}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function Et(e,t){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(e,t)}function St(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(St=function(){return!!e})()}var Tt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_t(this,t,[{url:(0,ce.CC)("POPOVER"),domain:(0,ce.FB)(),tag:"p3-popover",autoResize:!0,props:{pageData:{type:"object",default:{}},paywallData:{type:"object",default:{}},config:{required:!0,type:"object"},texts:{required:!0,type:"object"},styles:{required:!0,type:"object"},variables:{type:"object"},scrollToView:{type:"function",default:function(){}},doRelease:{type:"function",default:function(){}},sendAudit:{type:"function",default:function(){}},trackExternalEvent:{type:"function",default:function(){}},debugTrackData:{type:"function",default:function(){}}}},e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(t,e),t}(ft);function jt(e,t,n){return t=At(t),function(e,t){if(t&&("object"==(n=t,n&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;var n;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,It()?Reflect.construct(t,n||[],At(e).constructor):t.apply(e,n))}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function Pt(e,t){return Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pt(e,t)}function It(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(It=function(){return!!e})()}var xt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,t,[{url:(0,ce.CC)("IDENTITY"),domain:(0,ce.FB)(),tag:"p3-identity",props:{}},e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,e),t}(ft);function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mt(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Mt(a,r,o,i,l,"next",e)}function l(e){Mt(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Vt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Wt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Vt(e,t,"get"))}function Rt(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Dt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Vt(e,t,"set"),n),n}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$t(e,t,n[t])}))}return e}function Lt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Zt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yt(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var zt=eval,Bt=["disabled","invisible","unlock"],Gt=["newsletter","subscription","link","form","question","pass","video"],Qt=["subscription","restriction"],Jt=new WeakMap,Ht=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,on=new WeakMap,an=new WeakMap,ln=new WeakMap,un=new WeakMap,cn=new WeakMap,sn=new WeakMap,fn=new WeakMap,dn=new WeakMap,pn=new WeakMap,hn=new WeakMap,vn=new WeakMap,yn=new WeakMap,gn=function(){function e(t){var n=t.logger,r=t.events,o=t.config,a=t.texts,i=t.styles,l=t.variables,u=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(this,Jt,{writable:!0,value:null}),Rt(this,Ht,{writable:!0,value:"none"}),Rt(this,Xt,{writable:!0,value:!1}),Rt(this,Kt,{writable:!0,value:!1}),Rt(this,en,{writable:!0,value:null}),Rt(this,tn,{writable:!0,value:!1}),Rt(this,nn,{writable:!0,value:!1}),Rt(this,rn,{writable:!0,value:null}),Rt(this,on,{writable:!0,value:null}),Rt(this,an,{writable:!0,value:null}),Rt(this,ln,{writable:!0,value:null}),Rt(this,un,{writable:!0,value:null}),Rt(this,cn,{writable:!0,value:null}),Rt(this,sn,{writable:!0,value:null}),Rt(this,fn,{writable:!0,value:null}),Rt(this,dn,{writable:!0,value:null}),Rt(this,pn,{writable:!0,value:null}),Rt(this,hn,{writable:!0,value:null}),Rt(this,vn,{writable:!0,value:null}),Rt(this,yn,{writable:!0,value:null}),Dt(this,rn,n),Dt(this,on,r),Dt(this,an,o),Dt(this,ln,a),Dt(this,un,i),Dt(this,cn,l),Dt(this,sn,u),Dt(this,fn,new Le({config:Wt(this,an)})),Dt(this,pn,new yt({config:o,events:r,logger:n})),Dt(this,hn,new Tt({config:o,events:r,logger:n})),Dt(this,vn,new kt({config:o,events:r,logger:n})),Dt(this,yn,new xt({config:o,events:r,logger:n}))}var t,n,r;return t=e,n=[{key:"setup",value:function(e){var t=e.sharedConfig;Dt(this,dn,t)}},{key:"lockContent",value:function(e,t,n){var r=this;return Ut((function(){var o,a,l,c,s;return qt(this,(function(f){switch(f.label){case 0:if(!0===Wt(r,an).get("preview"))return(0,u.iQ)(Wt(r,pn).container,"p3-locked"),Wt(r,on).fire("onPreviewLock"),[2];if(Wt(r,rn).trace("Locking mode: ".concat(n)),null==e||null===(o=e.poool)||void 0===o?void 0:o.locked)return Wt(r,rn).trace("Content is already locked, skipping"),(0,u.iQ)(Wt(r,pn).container,"p3-locked"),Wt(r,pn).container.setAttribute("data-p3-layout",Wt(r,un).get("layout")),[2];switch(n){case"hide":return[3,1];case"excerpt":return[3,2]}return[3,7];case 1:return Dt(r,Jt,{overflow:getComputedStyle(e).overflow,height:getComputedStyle(e).height}),e.style.overflow="hidden",e.style.height="".concat(parseInt(e.offsetHeight,10)*(1-t/100),"px"),[3,8];case 2:Dt(r,Jt,e.innerHTML),f.label=3;case 3:return f.trys.push([3,5,,6]),(null==(a=e.querySelectorAll("style, script"))?void 0:a.length)>0&&Wt(r,rn).warn("<style> or <script> tags found inside post content. Will try to re-execute them on release, but you should avoid excerpt mode when using scripts inside post content"),Array.from(a).map((function(e){return null==e?void 0:e.parentNode.removeChild(e)})),[4,i.e(722).then(i.t.bind(i,3233,23))];case 4:return l=f.sent().default,c=l(e.innerHTML,{limit:(0,u.ul)(e,t).length*(t/100)}),e.innerHTML=c.html,Array.from(a).map((function(t){return e.appendChild(t)})),[3,6];case 5:return f.sent(),s=(0,u.ul)(e,t),e.innerHTML=s,[3,6];case 6:case 7:return[3,8];case 8:return(0,u.iQ)(Wt(r,pn).container,"p3-locked"),Wt(r,pn).container.setAttribute("data-p3-layout",Wt(r,un).get("layout")||"portrait"),e.poool={locked:!0,content:Wt(r,Jt)},Wt(r,on).fire("onLock"),[2]}}))}))()}},{key:"releaseContent",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=this;return Ut((function(){var i,l,c,s,d,p;return qt(this,(function(h){switch(h.label){case 0:if((0,u.YE)().body.contains(t)||!0!==Wt(a,an).get("force_container_recovery")||(t=(0,u.V6)(Wt(a,an).get("post_container"))||(0,u.YE)().createElement("div")),Dt(a,Jt,Wt(a,Jt)||(null===(i=t.poool)||void 0===i?void 0:i.content)),!0===Wt(a,an).get("preview"))return(0,u.vy)(Wt(a,pn).container,"p3-locked"),Wt(a,pn).container.removeAttribute("data-p3-layout"),Wt(a,on).fire("onPreviewRelease"),[2];switch(n){case"hide":t.style.overflow=Wt(a,Jt).overflow,t.style.height=Wt(a,an).get("disable_content_height_calculation")?"auto":Wt(a,Jt).height;break;case"excerpt":t.innerHTML=Wt(a,Jt),Array.from(t.querySelectorAll("script")).map((function(e){if((!e.type||"text/javascript"===e.type)&&e.textContent)try{zt("(function(){ 'use strict'; ".concat(e.textContent,"})();"))}catch(e){Wt(a,rn).warn(e),Wt(a,rn).warn("Excerpt mode : We were unable to execute script tags inside post content. You should use <hidden> mode instead of <excerpt>")}return null}))}return(0,u.vy)(Wt(a,pn).container,"p3-locked"),Wt(a,pn).container.removeAttribute("data-p3-layout"),delete t.poool,l=(0,f.e)(e)&&"disabled"!==e,c="premium"===r,s="free"===r&&"content"===o.contextType&&"free"===o.contextValue,d="free"===r&&!!o.triggerValue,p="advanced"===(null==o?void 0:o.contextType),l&&(c||s||d||p)?(Wt(a,on).fire("onRelease",{widget:e,widget_name:null==o?void 0:o.actionName,actionName:null==o?void 0:o.actionName,trigger:null==o?void 0:o.trigger,triggerType:null==o?void 0:o.triggerType,triggerValue:null==o?void 0:o.triggerValue,triggerPageType:null==o?void 0:o.triggerPageType}),[4,Wt(a,sn).unlockAccess(Lt(Ft({},o),{widget:e,hit:Wt(a,an).get("$current_hit"),rid:Wt(a,an).get("amp_reader_id"),iid:Wt(a,an).get("amp_item_id")}))]):[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}}))}))()}},{key:"getCommonComponentProps",value:function(e,t,n){var r=this;return Ut((function(){var o,a;return qt(this,(function(i){return[2,{config:Wt(r,an).getCustom(),texts:Wt(r,ln).getCustom(),styles:Wt(r,un).getCustom(),variables:Wt(r,cn).getCustom(),scrollToView:function(){},doRelease:function(o,a){return r.releaseContent(o,e,t,n,a)},sendAudit:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(o=Wt(r,sn)).sendAudit.apply(o,Yt(t))},trackExternalEvent:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(a=Wt(r,sn)).trackExternalEvent.apply(a,Yt(t))},debugTrackData:c.Zt}]}))}))()}},{key:"handleWidgetSeen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return Ut((function(){var n,r;return qt(this,(function(o){switch(o.label){case 0:return!0===Wt(t,Xt)?[2]:(Dt(t,Xt,!0),(0,f.e)(e.hit)?[4,Wt(t,sn).sendAudit("widget-seen",Ft({},(0,f.p)(e,["hit","widget","hasAlternative","hasSecondaryButton"])))]:[3,2]);case 1:o.sent(),Wt(t,sn).trackExternalEvent("paywall-seen",Lt(Ft({},(0,u.aU)(e)),{url:null===(r=(0,u.mS)())||void 0===r||null===(n=r.location)||void 0===n?void 0:n.href,nonInteraction:!0,widget:e.widget,widgetName:e.actionName})),o.label=2;case 2:return Wt(t,hn).rendered?(Wt(t,hn).sendEvent("$parentMessage",{type:"event",args:["$widgetSeen"]}),[3,5]):[3,3];case 3:return[4,Wt(t,hn).close()];case 4:o.sent(),o.label=5;case 5:return Wt(t,on).fire("onPaywallSeen",(0,f.p)(e,["widget","actionName","trigger","triggerType","triggerValue","triggerPageType"])),[2]}}))}))()}},{key:"handleIdentity",value:function(e,t){Wt(this,an).set("$user_id",e),t&&Wt(this,an).set("$current_hit",t),(0,c.mj)(Wt(this,an).getCustom())}},{key:"getDashboardTokens",value:function(){var e=this;return Promise.race([new Promise((function(t){(0,u.YE)().addEventListener("$_poool.extension.dashboardTokens",(function(n){var r,o;Wt(e,dn).set("$dashboard_at",(null===(o=n.detail)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.at)||""),t(!0)})),(0,u.YE)().dispatchEvent(new CustomEvent("$_poool.extension.getDashboardTokens"))})),new Promise((function(e){return setTimeout((function(){return e()}),10)}))])}},{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return Ut((function(){var n,r,o,a,l,s,d,p,h,v,y,g,b,m,w,k,_,O,E,S,T,j,A,P,I,x,C,M,U,V,W,R,D,N,$,F,L,Z,Y,q,z,B;return qt(this,(function(G){switch(G.label){case 0:return Wt(t,tn)?[2]:(0,u.$I)()?(Wt(t,rn).error("Your browser is outdated, poool cannot be initialized"),Wt(t,on).fire("onOutdatedBrowser"),Wt(t,sn).trackExternalEvent("outdated-browser",{nonInteraction:!0,url:null===(r=(0,u.mS)())||void 0===r||null===(n=r.location)||void 0===n?void 0:n.href}),[2]):Wt(t,an).get("app_id")?(Dt(t,tn,!0),[4,t.getDashboardTokens()]):(Wt(t,rn).error("Missing bundle identifier, poool cannot be initialized"),[2]);case 1:return G.sent(),o=e.pageType||"page",a=(0,u.V6)(e.content)||(0,u.YE)().querySelector(Wt(t,an).get("post_container"))||(0,u.YE)().createElement("div"),l=null==a?void 0:a.getAttribute("data-poool"),p=parseInt(null!==(d=null!==(s=e.percent)&&void 0!==s?s:l)&&void 0!==d?d:Wt(t,an).get("percent"),10),Wt(t,an).set("percent",p),h=e.mode||(null==a?void 0:a.getAttribute("data-poool-mode"))||Wt(t,an).get("mode"),Wt(t,an).set("mode",h),[4,i.e(649).then(i.bind(i,8987))];case 2:return v=G.sent().default,Wt(t,an).set("$user_id",v.get("_poool")),Wt(t,an).set("$page_type",o),Wt(t,pn).rendered||Wt(t,vn).rendered?(Wt(t,rn).trace("Paywall was previously shown without a page refresh, releasing before showing a new one"),Wt(t,pn).rendered?[4,Wt(t,pn).close()]:[3,4]):[3,7];case 3:G.sent(),G.label=4;case 4:return Wt(t,vn).rendered?[4,Wt(t,vn).close()]:[3,6];case 5:G.sent(),G.label=6;case 6:t.releaseContent(null,a,h,o),G.label=7;case 7:return y={type:o,userIsPremium:Wt(t,an).get("user_is_premium"),forcedWidget:Wt(t,an).get("force_widget"),customSegment:Wt(t,an).get("custom_segment"),stylesVersion:parseInt(Wt(t,fn).get("stylesVersion",-1),10)},(g=(0,f.e)(Wt(t,an).get("force_widget"))||"premium"===o)?[4,t.lockContent(a,p,h)]:[3,9];case 8:G.sent(),G.label=9;case 9:if(Wt(t,on).listen("$userIdAvailable",t.handleIdentity.bind(t)),Wt(t,on).listen("$onTrackData",(function(e){return(0,c.Zt)(e)})),Wt(t,on).listen("$onTrackingEvent",(function(e){return(0,c.Py)(e)})),Wt(t,nn))return[2,!1];G.label=10;case 10:return G.trys.push([10,21,,24]),[4,Wt(t,sn).initPaywall(y)];case 11:return w=G.sent(),k="free"===o&&"content"===w.contextType&&"free"===w.contextValue||"advanced"===w.contextType||!!w.triggerValue,g||!k?[3,13]:[4,t.lockContent(a,p,h)];case 12:G.sent(),G.label=13;case 13:try{w.styles?(Wt(t,fn).set("stylesVersion",(null===(_=w.styles)||void 0===_?void 0:_.version)||0),Wt(t,fn).set("customStyles",JSON.stringify(w.styles||{}))):w.styles=JSON.parse(Wt(t,fn).get("customStyles"))}catch(e){Wt(t,rn).error("Could not apply custom styling"),Wt(t,rn).error(e)}return O=Wt(t,un).isReadOnly("layout")?Wt(t,un).get("layout"):(null===(b=w.styles)||void 0===b?void 0:b.layout)||Wt(t,un).get("layout"),(S=Wt(t,(E="advanced"===O)?vn:pn)).container.setAttribute("data-p3-layout",O),T=(0,u.V6)(null==w||null===(m=w.config)||void 0===m?void 0:m.widget_container)||(0,u.V6)(e.target)||(0,u.V6)(Wt(t,an).get("widget_container")),Dt(t,Ht,w.action||Wt(t,an).get("default_widget")),T||"none"===Wt(t,Ht)||(Wt(t,rn).error("Cannot find element ".concat(T,", rendering components ")+"inside empty virtual parent"),T=(0,u.YE)().createElement("div")),Bt.includes(Wt(t,Ht))&&(g||k)&&t.releaseContent(Wt(t,Ht),a,h,o,Ft({actionName:w.actionName,nextSegment:null===(j=w.config)||void 0===j?void 0:j.next_segment,contextType:w.contextType,contextValue:w.contextValue},(0,u.aU)(w))),Wt(t,nn)?[2,!1]:g||k?(P=S.render,I=[T],x=[{}],[4,t.getCommonComponentProps(a,h,o)]):[3,19];case 14:return[4,P.apply(S,I.concat([Lt.apply(void 0,[Ft.apply(void 0,x.concat([G.sent()])),{pageData:y,paywallData:w,doViewpayAction:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.Zb.apply(void 0,[T].concat(Yt(t)))}}]),{parentStyles:(null==w||null===(A=w.styles)||void 0===A?void 0:A.custom_parent_css)||Wt(t,un).get("custom_parent_css"),onVisible:function(e){if(e.isIntersecting){var n,r,o,a,i,l,c="none"!==(null===(n=w.config)||void 0===n?void 0:n.alternative_widget)&&Gt.includes(w.action)&&w.action!==(null===(r=w.config)||void 0===r?void 0:r.alternative_widget),s=0!==(0,u._R)(null===(a=w.styles)||void 0===a||null===(o=a.advanced)||void 0===o?void 0:o.content,["dynamic-widget","dynamic-links"],"type").length,f=!0===(null===(i=w.config)||void 0===i?void 0:i.login_button_enabled)||!Qt.includes(w.action)&&!1!==(null===(l=w.config)||void 0===l?void 0:l.subscription_button_enabled);t.handleWidgetSeen(Lt(Ft({},w),{widget:Wt(t,Ht),hasSecondaryButton:E?f&&s:f,hasAlternative:c}))}}}]))];case 15:return G.sent(),"unlock"===w.action&&Wt(t,an).get("popover_enabled")?(M=(C=Wt(t,hn)).render,U=[T],V=[{}],[4,t.getCommonComponentProps(a,h,o)]):[3,18];case 16:return[4,M.apply(C,U.concat([Lt.apply(void 0,[Ft.apply(void 0,V.concat([G.sent()])),{paywallData:w}])]))];case 17:G.sent(),G.label=18;case 18:return[3,20];case 19:Wt(t,rn).trace("No paywall to show, action type: ".concat(Wt(t,Ht))),G.label=20;case 20:return[3,24];case 21:W=G.sent(),Wt(t,rn).error(W),Wt(t,rn).error("Widget error, cannot show paywall"),Wt(t,on).fire("onError",W,{forceRelease:function(){t.releaseContent(Wt(t,Ht),a,h,o)}}),Wt(t,sn).trackExternalEvent("error",{url:null===(D=(0,u.mS)())||void 0===D||null===(R=D.location)||void 0===R?void 0:R.href,nonInteraction:!0});try{F={styles:JSON.parse(Wt(t,fn).get("customStyles")||{})}}catch(e){}return L=Wt(t,un).isReadOnly("layout")?Wt(t,un).get("layout"):(null==F||null===(N=F.styles)||void 0===N?void 0:N.layout)||Wt(t,un).get("layout"),Z=Wt(t,"advanced"===L?vn:pn),Y=(0,u.V6)(e.target)||(0,u.V6)(Wt(t,an).get("widget_container"))||(0,u.YE)().createElement("div"),Wt(t,nn)?[2,!1]:(q=Z.render,z=[Y],B=[{}],[4,t.getCommonComponentProps(a,h,o)]);case 22:return[4,q.apply(Z,z.concat([Ft.apply(void 0,[Lt.apply(void 0,[Ft.apply(void 0,B.concat([G.sent()])),{pageData:y,paywallData:F}]),"viewpay"===Wt(t,an).get("default_widget")?{doViewpayAction:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.Zb.apply(void 0,[Y].concat(Yt(t)))}}:{}]),{parentStyles:(null==F||null===($=F.styles)||void 0===$?void 0:$.custom_parent_css)||Wt(t,un).get("custom_parent_css"),onVisible:function(e){e.isIntersecting&&t.handleWidgetSeen()}}]))];case 23:return G.sent(),(0,c.mj)(Wt(t,an).getCustom()),[3,24];case 24:return Dt(t,tn,!1),[2]}}))}))()}},{key:"preview",value:function(e){var t=this;return Ut((function(){var n,r,o,a,i,l,c,s,d,p,h;return qt(this,(function(v){switch(v.label){case 0:return n=e.action,r=void 0===n?"gift":n,o=Zt(e,["action"]),Wt(t,rn).trace("Entering preview mode, disabling all interactions"),Wt(t,an).set("preview",!0),i=[Wt(t,un).get("layout"),null===(a=o.styles)||void 0===a?void 0:a.layout].includes("advanced"),l=Wt(t,i?vn:pn),c=(0,u.V6)(o.content)||(0,u.V6)(Wt(t,an).get("post_container"))||(0,u.YE)().createElement("div"),s=null==c?void 0:c.getAttribute("data-poool"),d=parseInt(o.percent||(0,f.e)(s)?s:Wt(t,an).get("percent"),10),Wt(t,an).set("percent",d),p=o.mode||(null==c?void 0:c.getAttribute("data-poool-mode"))||Wt(t,an).get("mode"),Wt(t,an).set("mode",p),l.rendered&&t.releaseContent(null,c,p),[4,t.lockContent(c,d,p)];case 1:return v.sent(),Bt.includes(r)&&(Wt(t,on).fire("onReady"),t.releaseContent(null,c)),h=(0,u.V6)(o.target)||(0,u.V6)(Wt(t,an).get("widget_container"))||(0,u.YE)().createElement("div"),"unlock"===r&&Wt(t,an).get("popover_enabled")?[4,Wt(t,hn).render(h,{pageData:{type:"preview"},paywallData:Ft({action:r},o),config:Wt(t,an).getCustom(),texts:Wt(t,ln).getCustom(),styles:Wt(t,un).getCustom(),variables:Wt(t,cn).getCustom(),scrollToView:function(){},doRelease:function(){return t.releaseContent(null,c,p)},sendAudit:function(){},trackExternalEvent:function(){}})]:[3,3];case 2:v.sent(),v.label=3;case 3:return l.container.setAttribute("data-p3-layout",Wt(t,un).get("layout")),[4,l.render(h,{pageData:{type:"preview"},paywallData:Ft({action:r},o),config:Wt(t,an).getCustom(),texts:Wt(t,ln).getCustom(),styles:Wt(t,un).getCustom(),variables:Wt(t,cn).getCustom(),scrollToView:function(){},doRelease:function(){return t.releaseContent(null,c,p)},sendAudit:function(){},trackExternalEvent:function(){}},{parentStyles:Wt(t,un).get("custom_parent_css"),onVisible:function(e){e.isIntersecting&&t.handleWidgetSeen()}})];case 4:return v.sent(),[2]}}))}))()}},{key:"flush",value:function(){var e=this;return Ut((function(){return qt(this,(function(t){switch(t.label){case 0:return Wt(e,rn).trace("Flush started, closing all components"),Dt(e,nn,!0),Dt(e,Xt,!1),[4,Wt(e,pn).close()];case 1:return t.sent(),[4,Wt(e,vn).close()];case 2:return t.sent(),[4,Wt(e,hn).close()];case 3:return t.sent(),Wt(e,an).reset(),Wt(e,un).reset(),Wt(e,ln).reset(),Wt(e,cn).reset(),Wt(e,on).fire("$flushAudit"),Wt(e,on).reset(),[2]}}))}))()}},{key:"differ",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t){var r=setTimeout((function(){Wt(e,rn).warn("Could not wait for DOM to be loaded due to timeout, manually loading paywall"),t(e.init.apply(e,Yt(n)))}),Wt(e,an).get("dom_load_timeout"));(0,u.YE)().addEventListener("DOMContentLoaded",(function(){clearTimeout(r),t(e.init.apply(e,Yt(n)))}),!1)}))}},{key:"loadWithATI",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t){if(Wt(e,rn).warn("`ati_tracking_enabled` config option is deprecated. Use `ati_auto_tracking_enabled` instead."),!Wt(e,an).get("cookies_enabled"))return Wt(e,rn).warn("Could not wait for ATInternet to load due to cookies policy, manually loading paywall"),void t(e.init.apply(e,Yt(n)));var r=setTimeout((function(){Wt(e,rn).warn("Could not wait for ATInternet to load due to timeout, manually loading paywall"),t(e.init.apply(e,Yt(n)))}),Wt(e,an).get("ati_load_timeout")),o=(0,u.mS)();o.ATInternet=o.ATInternet||{},o.ATInternet.Callbacks=o.ATInternet.Callbacks||{},o.ATInternet.Callbacks.PooolGetId=o.ATInternet.Callbacks.PooolGetId||function(o){Wt(e,an).get("custom_user_id",o.clientSideUserId.get()),clearTimeout(r),t(e.init.apply(e,Yt(n)))},o.ATInternet.Utils=o.ATInternet.Utils||{dispatchCallbackEvent:function(){}},o.ATInternet.Utils.dispatchCallbackEvent("PooolGetId")}))}},{key:"onAuditIdentityAvailable",value:function(e,t,n,r){var o=r.userId,a=r.hit;Wt(this,rn).trace("Audit response received successfully, loading paywall"),Wt(this,on).fire("$flushAudit"),this.handleIdentity(o,a),e(t(n))}},{key:"onAuditIdentityUnknown",value:function(e,t,n){Wt(this,rn).trace("Audit is currently disabled, loading paywall anonymously"),Wt(this,on).fire("$flushAudit"),e(t(n))}},{key:"onAuditTrackError",value:function(e,t,n){Wt(this,rn).trace("Error trying to receive identity from Audit, skipping"),Wt(this,on).fire("$flushAudit"),e(t(n))}},{key:"loadWithAudit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Dt(this,Kt,!0),new Promise((function(r){var o=(0,u.mS)().Audit||(0,u.mS)().PooolAudit,a=e.onAuditIdentityAvailable.bind(e,r,n,t),i=e.onAuditIdentityUnknown.bind(e,r,n,t),l=e.onAuditTrackError.bind(e,r,n,t),c=function(){null==o||o.off("identityAvailable",a),null==o||o.off("identityUnknown",i),null==o||o.off("trackError",l),clearTimeout(Wt(e,en))};clearTimeout(Wt(e,en)),Dt(e,en,setTimeout((function(){return Wt(e,rn).warn("Could not wait for Audit response due to timeout, manually loading paywall"),c(),r(n(t))}),Wt(e,an).get("audit_load_timeout"))),Wt(e,on).listen("$flushAudit",(function(){c()}),!1,{once:!0}),null==o||o.once("identityAvailable",a),null==o||o.once("identityUnknown",i),null==o||o.once("trackError",l),Wt(e,rn).trace("Awaiting Audit loading...")}))}},{key:"isLoading",value:function(){return Wt(this,tn)}},{key:"isDestroyed",value:function(){return Wt(this,nn)}}],n&&Nt(t.prototype,n),r&&Nt(t,r),e}();function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wn(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function kn(e,t,n){mn(e,t),t.set(e,n)}function _n(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function On(e,t){mn(e,t),t.add(e)}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e){return function(e){if(Array.isArray(e))return bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tn=new WeakMap,jn=new WeakMap,An=new WeakMap,Pn=new WeakMap,In=new WeakMap,xn=new WeakMap,Cn=new WeakMap,Mn=new WeakMap,Un=new WeakSet,Vn=new WeakSet,Wn=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sharedConfig;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),On(this,Un),On(this,Vn),kn(this,Tn,{writable:!0,value:new d.A({name:"Poool/Access"})}),kn(this,jn,{writable:!0,value:new p.A}),kn(this,An,{writable:!0,value:new s.A}),kn(this,Pn,{writable:!0,value:new x}),kn(this,In,{writable:!0,value:new B}),kn(this,xn,{writable:!0,value:new ae}),kn(this,Cn,{writable:!0,value:new Ue({logger:wn(this,Tn),config:wn(this,An),events:wn(this,jn)})}),kn(this,Mn,{writable:!0,value:new gn({logger:wn(this,Tn),events:wn(this,jn),config:wn(this,An),texts:wn(this,Pn),styles:wn(this,In),variables:wn(this,xn),api:wn(this,Cn)})}),wn(this,Tn).setup({config:wn(this,An)}),wn(this,jn).setup({logger:wn(this,Tn)}),wn(this,An).setup({events:wn(this,jn)}),wn(this,In).setup({events:wn(this,jn)}),wn(this,xn).setup({events:wn(this,jn)}),wn(this,Pn).setup({events:wn(this,jn),config:wn(this,An),variables:wn(this,xn)}),wn(this,Cn).setup({sharedConfig:n}),wn(this,Mn).setup({sharedConfig:n}),wn(this,An).set({app_id:t},!0)}var t,n,r;return t=e,n=[{key:"config",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=wn(this,An)).set.apply(r,Sn(t)),this}},{key:"texts",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=wn(this,Pn)).set.apply(r,Sn(t)),this}},{key:"styles",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=wn(this,In)).set.apply(r,Sn(t)),this}},{key:"variables",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return(r=wn(this,xn)).set.apply(r,Sn(t)),this}},{key:"on",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).once;return wn(this,jn).listen(e,t,!0,{once:n}),this}},{key:"once",value:function(e,t){return this.on(e,t,{once:!0})}},{key:"off",value:function(e,t){return wn(this,jn).mute(e,t),this}},{key:"createPaywall",value:function(e){_n(this,Un,Rn).call(this);var t=(0,u.mS)().Audit||(0,u.mS)().PooolAudit;if(!0!==(null==t?void 0:t.isPoool)||e.skipAuditLoader||wn(this,An).get("skip_audit_loader"))_n(this,Vn,Dn).call(this,e);else{var n,r=this;wn(this,Mn).loadWithAudit(e,(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(n=_n(r,Vn,Dn)).call.apply(n,[r].concat(Sn(t)))}))}return this}},{key:"isLoading",value:function(){return wn(this,Mn).isLoading()}},{key:"isDestroyed",value:function(){return wn(this,Mn).isDestroyed()}},{key:"preview",value:function(e){return _n(this,Un,Rn).call(this),wn(this,Mn).preview(e)}},{key:"flush",value:function(){return wn(this,Mn).flush()}},{key:"destroy",value:function(){return this.flush()}}],n&&En(t.prototype,n),r&&En(t,r),e}();function Rn(){if(!(0,f.e)(wn(this,An).get("app_id")))throw wn(this,Tn).error("You should init Access with your appId before trying to create a paywall. See https://dev.poool.fr/access for more information."),new Error("missing_app_id")}function Dn(e){return wn(this,An).get("wait_for_dom_load")?wn(this,Mn).differ(e):wn(this,An).get("ati_tracking_enabled")?wn(this,Mn).loadWithATI(e):wn(this,Mn).init(e)}var Nn=i(7813);function $n(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Fn(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$n(e,t,"get"))}function Ln(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Zn(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$n(e,t,"set"),n),n}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,u.oU)(Nn.A.toString(),"p3-main-styles");var zn=new WeakMap,Bn=new WeakMap,Gn=new WeakMap,Qn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ln(this,zn,{writable:!0,value:null}),Ln(this,Bn,{writable:!0,value:(0,u.mS)()}),Ln(this,Gn,{writable:!0,value:new s.A}),qn(this,"version","5.20.0"),qn(this,"isPoool",!0),Fn(this,Bn).Access&&Zn(this,zn,Fn(this,Bn).Access)}var t,n,r;return t=e,(n=[{key:"noConflict",value:function(){return Fn(this,Bn).PooolAccess=this,Fn(this,Bn).Access=Fn(this,zn),this}},{key:"init",value:function(e){return(0,c.g8)({service:"access",appId:e}),new Wn(e,{sharedConfig:Fn(this,Gn)})}}])&&Yn(t.prototype,n),r&&Yn(t,r),e}());return l})()));
</script>

</body>
</html>
