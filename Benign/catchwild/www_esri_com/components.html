<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>components.html</title>
</head>
<body>

<script>
/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

/**
 * Element.matches()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/matches#Polyfill
 */
if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

// eslint-disable-next-line valid-jsdoc
/**
 * Element.closest()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/closest#Polyfill
 */
if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        "use strict";
        var el = this;
        if (!document.documentElement.contains(el)) {
            return null;
        }
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}

/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
/* global
    CQ
 */
(function() {
    "use strict";

    var containerUtils = window.CQ && window.CQ.CoreComponents && window.CQ.CoreComponents.container && window.CQ.CoreComponents.container.utils ? window.CQ.CoreComponents.container.utils : undefined;
    if (!containerUtils) {
        // eslint-disable-next-line no-console
        console.warn("Tabs: container utilities at window.CQ.CoreComponents.container.utils are not available. This can lead to missing features. Ensure the core.wcm.components.commons.site.container client library is included on the page.");
    }
    var dataLayerEnabled;
    var dataLayer;
    var dataLayerName;

    var NS = "cmp";
    var IS = "tabs";

    var keyCodes = {
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        active: {
            tab: "cmp-tabs__tab--active",
            tabpanel: "cmp-tabs__tabpanel--active"
        }
    };

    /**
     * Tabs Configuration
     *
     * @typedef {Object} TabsConfig Represents a Tabs configuration
     * @property {HTMLElement} element The HTMLElement representing the Tabs
     * @property {Object} options The Tabs options
     */

    /**
     * Tabs
     *
     * @class Tabs
     * @classdesc An interactive Tabs component for navigating a list of tabs
     * @param {TabsConfig} config The Tabs configuration
     */
    function Tabs(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Tabs
         *
         * @private
         * @param {TabsConfig} config The Tabs configuration
         */
        function init(config) {
            that._config = config;

            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            cacheElements(config.element);
            that._active = getActiveIndex(that._elements["tab"]);

            if (that._elements.tabpanel) {
                refreshActive();
                bindEvents();
                scrollToDeepLinkIdInTabs();
            }

            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Tabs component
                 * - if so, route the "navigate" operation to enact a navigation of the Tabs based on index data
                 */
                CQ.CoreComponents.MESSAGE_CHANNEL = CQ.CoreComponents.MESSAGE_CHANNEL || new window.Granite.author.MessageChannel("cqauthor", window);
                CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-tabs" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Displays the panel containing the element that corresponds to the deep link in the URI fragment
         * and scrolls the browser to this element.
         */
        function scrollToDeepLinkIdInTabs() {
            if (containerUtils) {
                var deepLinkItemIdx = containerUtils.getDeepLinkItemIdx(that, "tab", "tabpanel");
                if (deepLinkItemIdx > -1) {
                    var deepLinkItem = that._elements["tab"][deepLinkItemIdx];
                    if (deepLinkItem && that._elements["tab"][that._active].id !== deepLinkItem.id) {
                        navigateAndFocusTab(deepLinkItemIdx, true);
                    }
                    var hashId = window.location.hash.substring(1);
                    if (hashId) {
                        var hashItem = document.querySelector("[id='" + hashId + "']");
                        if (hashItem) {
                            hashItem.scrollIntoView();
                        }
                    }
                }
            }
        }

        /**
         * Returns the index of the active tab, if no tab is active returns 0
         *
         * @param {Array} tabs Tab elements
         * @returns {Number} Index of the active tab, 0 if none is active
         */
        function getActiveIndex(tabs) {
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    if (tabs[i].classList.contains(selectors.active.tab)) {
                        return i;
                    }
                }
            }
            return 0;
        }

        /**
         * Caches the Tabs elements as defined via the {@code data-tabs-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Tabs wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own tab elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Binds Tabs event handling
         *
         * @private
         */
        function bindEvents() {
            window.addEventListener("hashchange", scrollToDeepLinkIdInTabs, false);
            var tabs = that._elements["tab"];
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    (function(index) {
                        tabs[i].addEventListener("click", function(event) {
                            navigateAndFocusTab(index);
                        });
                        tabs[i].addEventListener("keydown", function(event) {
                            onKeyDown(event);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles tab keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["tab"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusTab(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusTab(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusTab(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusTab(lastIndex);
                    break;
                default:
                    return;
            }
        }

        /**
         * Refreshes the tab markup based on the current {@code Tabs#_active} index
         *
         * @private
         */
        function refreshActive() {
            var tabpanels = that._elements["tabpanel"];
            var tabs = that._elements["tab"];

            if (tabpanels) {
                if (Array.isArray(tabpanels)) {
                    for (var i = 0; i < tabpanels.length; i++) {
                        if (i === parseInt(that._active)) {
                            tabpanels[i].classList.add(selectors.active.tabpanel);
                            tabpanels[i].removeAttribute("aria-hidden");
                            tabs[i].classList.add(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", true);
                            tabs[i].setAttribute("tabindex", "0");
                        } else {
                            tabpanels[i].classList.remove(selectors.active.tabpanel);
                            tabpanels[i].setAttribute("aria-hidden", true);
                            tabs[i].classList.remove(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", false);
                            tabs[i].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one tab
                    tabpanels.classList.add(selectors.active.tabpanel);
                    tabs.classList.add(selectors.active.tab);
                }
            }
        }

        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Navigates to the tab at the provided index
         *
         * @private
         * @param {Number} index The index of the tab to navigate to
         */
        function navigate(index) {
            that._active = index;
            refreshActive();
        }

        /**
         * Navigates to the item at the provided index and ensures the active tab gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         * @param {Boolean} keepHash true to keep the hash in the URL, false to update it
         */
        function navigateAndFocusTab(index, keepHash) {
            var exActive = that._active;
            if (!keepHash && containerUtils) {
                containerUtils.updateUrlHash(that, "tab", index);
            }
            navigate(index);
            focusWithoutScroll(that._elements["tab"][index]);

            if (dataLayerEnabled) {

                var activeItem = getDataLayerId(that._elements.tabpanel[index]);
                var exActiveItem = getDataLayerId(that._elements.tabpanel[exActive]);

                dataLayer.push({
                    event: "cmp:show",
                    eventInfo: {
                        path: "component." + activeItem
                    }
                });

                dataLayer.push({
                    event: "cmp:hide",
                    eventInfo: {
                        path: "component." + exActiveItem
                    }
                });

                var tabsId = that._elements.self.id;
                var uploadPayload = { component: {} };
                uploadPayload.component[tabsId] = { shownItems: [activeItem] };

                var removePayload = { component: {} };
                removePayload.component[tabsId] = { shownItems: undefined };

                dataLayer.push(removePayload);
                dataLayer.push(uploadPayload);
            }
        }
    }

    /**
     * Reads options data from the Tabs wrapper element, defined via {@code data-cmp-*} data attributes
     *
     * @private
     * @param {HTMLElement} element The Tabs element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (Object.prototype.hasOwnProperty.call(data, key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Parses the dataLayer string and returns the ID
     *
     * @private
     * @param {HTMLElement} item the accordion item
     * @returns {String} dataLayerId or undefined
     */
    function getDataLayerId(item) {
        if (item) {
            if (item.dataset.cmpDataLayer) {
                return Object.keys(JSON.parse(item.dataset.cmpDataLayer))[0];
            } else {
                return item.id;
            }
        }
        return null;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Tabs components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        dataLayerEnabled = document.body.hasAttribute("data-cmp-data-layer-enabled");
        if (dataLayerEnabled) {
            dataLayerName = document.body.getAttribute("data-cmp-data-layer-name") || "adobeDataLayer";
            dataLayer = window[dataLayerName] = window[dataLayerName] || [];
        }

        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Tabs({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Tabs({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

    if (containerUtils) {
        window.addEventListener("load", containerUtils.scrollToAnchor, false);
    }

}());

/*******************************************************************************
 * Copyright 2022 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function(document) {
    "use strict";

    window.CMP = window.CMP || {};
    window.CMP.utils = (function() {
        var NS = "cmp";

        /**
         * Reads options data from the Component wrapper element, defined via {@code data-cmp-*} data attributes
         *
         * @param {HTMLElement} element The component element to read options data from
         * @param {String} is The component identifier
         * @returns {String[]} The options read from the component data attributes
         */
        var readData = function(element, is) {
            var data = element.dataset;
            var options = [];
            var capitalized = is;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var reserved = ["is", "hook" + capitalized];

            for (var key in data) {
                if (Object.prototype.hasOwnProperty.call(data, key)) {
                    var value = data[key];

                    if (key.indexOf(NS) === 0) {
                        key = key.slice(NS.length);
                        key = key.charAt(0).toLowerCase() + key.substring(1);

                        if (reserved.indexOf(key) === -1) {
                            options[key] = value;
                        }
                    }
                }
            }
            return options;
        };

        /**
         * Set up the final properties of a component by evaluating the transform function or fall back to the default value on demand
         * @param {String[]} options the options to transform
         * @param {Object} properties object of properties of property functions
         * @returns {Object} transformed properties
         */
        var setupProperties = function(options, properties) {
            var transformedProperties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    if (options && options[key] != null) {
                        if (property && typeof property.transform === "function") {
                            transformedProperties[key] = property.transform(options[key]);
                        } else {
                            transformedProperties[key] = options[key];
                        }
                    } else {
                        transformedProperties[key] = properties[key]["default"];
                    }
                }
            }
            return transformedProperties;
        };


        return {
            readData: readData,
            setupProperties: setupProperties
        };
    }());
}(window.document));

/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var containerUtils = window.CQ && window.CQ.CoreComponents && window.CQ.CoreComponents.container && window.CQ.CoreComponents.container.utils ? window.CQ.CoreComponents.container.utils : undefined;
    if (!containerUtils) {
        // eslint-disable-next-line no-console
        console.warn("Tabs: container utilities at window.CQ.CoreComponents.container.utils are not available. This can lead to missing features. Ensure the core.wcm.components.commons.site.container client library is included on the page.");
    }
    var dataLayerEnabled;
    var dataLayer;
    var dataLayerName;

    var NS = "cmp";
    var IS = "carousel";

    var keyCodes = {
        SPACE: 32,
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]'
    };

    var properties = {
        /**
         * Determines whether the Carousel will automatically transition between slides
         *
         * @memberof Carousel
         * @type {Boolean}
         * @default false
         */
        "autoplay": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * Duration (in milliseconds) before automatically transitioning to the next slide
         *
         * @memberof Carousel
         * @type {Number}
         * @default 5000
         */
        "delay": {
            "default": 5000,
            "transform": function(value) {
                value = parseFloat(value);
                return !isNaN(value) ? value : null;
            }
        },
        /**
         * Determines whether automatic pause on hovering the carousel is disabled
         *
         * @memberof Carousel
         * @type {Boolean}
         * @default false
         */
        "autopauseDisabled": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        }
    };

    /**
     * Carousel Configuration
     *
     * @typedef {Object} CarouselConfig Represents a Carousel configuration
     * @property {HTMLElement} element The HTMLElement representing the Carousel
     * @property {*[]} options The Carousel options
     */

    /**
     * Carousel
     *
     * @class Carousel
     * @classdesc An interactive Carousel component for navigating a list of generic items
     * @param {CarouselConfig} config The Carousel configuration
     */
    function Carousel(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Carousel
         *
         * @private
         * @param {CarouselConfig} config The Carousel configuration
         */
        function init(config) {
            that._config = config;

            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            that._active = 0;
            that._paused = false;

            if (that._elements.item) {
                initializeActive();
                bindEvents();
                resetAutoplayInterval();
                refreshPlayPauseActions();
                scrollToDeepLinkIdInCarousel();
            }

            // TODO: This section is only relevant in edit mode and should move to the editor clientLib
            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Carousel component
                 * - if so, route the "navigate" operation to enact a navigation of the Carousel based on index data
                 */
                window.CQ = window.CQ || {};
                window.CQ.CoreComponents = window.CQ.CoreComponents || {};
                window.CQ.CoreComponents.MESSAGE_CHANNEL = window.CQ.CoreComponents.MESSAGE_CHANNEL || new window.Granite.author.MessageChannel("cqauthor", window);
                window.CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-carousel" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Displays the slide containing the element that corresponds to the deep link in the URI fragment
         * and scrolls the browser to this element.
         */
        function scrollToDeepLinkIdInCarousel() {
            if (containerUtils) {
                var deepLinkItemIdx = containerUtils.getDeepLinkItemIdx(that, "item", "item");
                if (deepLinkItemIdx > -1) {
                    var deepLinkItem = that._elements["item"][deepLinkItemIdx];
                    if (deepLinkItem && that._elements["item"][that._active].id !== deepLinkItem.id) {
                        navigateAndFocusIndicator(deepLinkItemIdx, true);
                        // pause the carousel auto-rotation
                        pause();
                    }
                    var hashId = window.location.hash.substring(1);
                    if (hashId) {
                        var hashItem = document.querySelector("[id='" + hashId + "']");
                        if (hashItem) {
                            hashItem.scrollIntoView();
                        }
                    }
                }
            }
        }

        /**
         * Caches the Carousel elements as defined via the {@code data-carousel-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Carousel wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                if (that._elements[key]) {
                    if (!Array.isArray(that._elements[key])) {
                        var tmp = that._elements[key];
                        that._elements[key] = [tmp];
                    }
                    that._elements[key].push(hook);
                } else {
                    that._elements[key] = hook;
                }
            }
        }

        /**
         * Sets up properties for the Carousel based on the passed options.
         *
         * @private
         * @param {Object} options The Carousel options
         */
        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    var value = null;

                    if (options && options[key] != null) {
                        value = options[key];

                        // transform the provided option
                        if (property && typeof property.transform === "function") {
                            value = property.transform(value);
                        }
                    }

                    if (value === null) {
                        // value still null, take the property default
                        value = properties[key]["default"];
                    }

                    that._properties[key] = value;
                }
            }
        }

        /**
         * Binds Carousel event handling
         *
         * @private
         */
        function bindEvents() {
            window.addEventListener("hashchange", scrollToDeepLinkIdInCarousel, false);
            if (that._elements["previous"]) {
                that._elements["previous"].addEventListener("click", function() {
                    var index = getPreviousIndex();
                    navigate(index);
                    if (dataLayerEnabled) {
                        dataLayer.push({
                            event: "cmp:show",
                            eventInfo: {
                                path: "component." + getDataLayerId(that._elements.item[index])
                            }
                        });
                    }
                });
            }

            if (that._elements["next"]) {
                that._elements["next"].addEventListener("click", function() {
                    var index = getNextIndex();
                    navigate(index);
                    if (dataLayerEnabled) {
                        dataLayer.push({
                            event: "cmp:show",
                            eventInfo: {
                                path: "component." + getDataLayerId(that._elements.item[index])
                            }
                        });
                    }
                });
            }

            var indicators = that._elements["indicator"];
            if (indicators) {
                for (var i = 0; i < indicators.length; i++) {
                    (function(index) {
                        indicators[i].addEventListener("click", function(event) {
                            navigateAndFocusIndicator(index);
                            // pause the carousel auto-rotation
                            pause();
                        });
                    })(i);
                }
            }

            if (that._elements["pause"]) {
                if (that._properties.autoplay) {
                    that._elements["pause"].addEventListener("click", onPauseClick);
                }
            }

            if (that._elements["play"]) {
                if (that._properties.autoplay) {
                    that._elements["play"].addEventListener("click", onPlayClick);
                }
            }

            that._elements.self.addEventListener("keydown", onKeyDown);

            if (!that._properties.autopauseDisabled) {
                that._elements.self.addEventListener("mouseenter", onMouseEnter);
                that._elements.self.addEventListener("mouseleave", onMouseLeave);
            }

            // for accessibility we pause animation when a element get focused
            var items = that._elements["item"];
            if (items) {
                for (var j = 0; j < items.length; j++) {
                    items[j].addEventListener("focusin", onMouseEnter);
                    items[j].addEventListener("focusout", onMouseLeave);
                }
            }
        }

        /**
         * Handles carousel keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["indicator"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusIndicator(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusIndicator(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusIndicator(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusIndicator(lastIndex);
                    break;
                case keyCodes.SPACE:
                    if (that._properties.autoplay && (event.target !== that._elements["previous"] && event.target !== that._elements["next"])) {
                        event.preventDefault();
                        if (!that._paused) {
                            pause();
                        } else {
                            play();
                        }
                    }
                    if (event.target === that._elements["pause"]) {
                        that._elements["play"].focus();
                    }
                    if (event.target === that._elements["play"]) {
                        that._elements["pause"].focus();
                    }
                    break;
                default:
                    return;
            }
        }

        /**
         * Handles carousel mouseenter events
         *
         * @private
         * @param {Object} event The mouseenter event
         */
        function onMouseEnter(event) {
            clearAutoplayInterval();
        }

        /**
         * Handles carousel mouseleave events
         *
         * @private
         * @param {Object} event The mouseleave event
         */
        function onMouseLeave(event) {
            resetAutoplayInterval();
        }

        /**
         * Handles pause element click events
         *
         * @private
         * @param {Object} event The click event
         */
        function onPauseClick(event) {
            pause();
            that._elements["play"].focus();
        }

        /**
         * Handles play element click events
         *
         * @private
         * @param {Object} event The click event
         */
        function onPlayClick() {
            play();
            that._elements["pause"].focus();
        }

        /**
         * Pauses the playing of the Carousel. Sets {@code Carousel#_paused} marker.
         * Only relevant when autoplay is enabled
         *
         * @private
         */
        function pause() {
            that._paused = true;
            clearAutoplayInterval();
            refreshPlayPauseActions();
        }

        /**
         * Enables the playing of the Carousel. Sets {@code Carousel#_paused} marker.
         * Only relevant when autoplay is enabled
         *
         * @private
         */
        function play() {
            that._paused = false;

            // If the Carousel is hovered, don't begin auto transitioning until the next mouse leave event
            var hovered = false;
            if (that._elements.self.parentElement) {
                hovered = that._elements.self.parentElement.querySelector(":hover") === that._elements.self;
            }
            if (that._properties.autopauseDisabled || !hovered) {
                resetAutoplayInterval();
            }

            refreshPlayPauseActions();
        }

        /**
         * Refreshes the play/pause action markup based on the {@code Carousel#_paused} state
         *
         * @private
         */
        function refreshPlayPauseActions() {
            setActionDisabled(that._elements["pause"], that._paused);
            setActionDisabled(that._elements["play"], !that._paused);
        }

        /**
         * Initialize {@code Carousel#_active} based on the active item of the carousel.
         */
        function initializeActive() {
            var items = that._elements["item"];
            if (items && Array.isArray(items)) {
                for (var i = 0; i < items.length; i++) {
                    if (items[i].classList.contains("cmp-carousel__item--active")) {
                        that._active = i;
                        break;
                    }
                }
            }
        }

        /**
         * Refreshes the item markup based on the current {@code Carousel#_active} index
         *
         * @private
         */
        function refreshActive() {
            var items = that._elements["item"];
            var indicators = that._elements["indicator"];

            if (items) {
                if (Array.isArray(items)) {
                    for (var i = 0; i < items.length; i++) {
                        if (i === parseInt(that._active)) {
                            items[i].classList.add("cmp-carousel__item--active");
                            items[i].removeAttribute("aria-hidden");
                            indicators[i].classList.add("cmp-carousel__indicator--active");
                            indicators[i].setAttribute("aria-selected", true);
                            indicators[i].setAttribute("tabindex", "0");
                        } else {
                            items[i].classList.remove("cmp-carousel__item--active");
                            items[i].setAttribute("aria-hidden", true);
                            indicators[i].classList.remove("cmp-carousel__indicator--active");
                            indicators[i].setAttribute("aria-selected", false);
                            indicators[i].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one item
                    items.classList.add("cmp-carousel__item--active");
                    indicators.classList.add("cmp-carousel__indicator--active");
                }
            }
        }

        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Retrieves the next active index, with looping
         *
         * @private
         * @returns {Number} Index of the next carousel item
         */
        function getNextIndex() {
            return that._active === (that._elements["item"].length - 1) ? 0 : that._active + 1;
        }

        /**
         * Retrieves the previous active index, with looping
         *
         * @private
         * @returns {Number} Index of the previous carousel item
         */
        function getPreviousIndex() {
            return that._active === 0 ? (that._elements["item"].length - 1) : that._active - 1;
        }

        /**
         * Navigates to the item at the provided index
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         * @param {Boolean} keepHash true to keep the hash in the URL, false to update it
         */
        function navigate(index, keepHash) {
            if (index < 0 || index > (that._elements["item"].length - 1)) {
                return;
            }

            that._active = index;
            refreshActive();

            if (!keepHash && containerUtils) {
                containerUtils.updateUrlHash(that, "item", index);
            }

            if (dataLayerEnabled) {
                var carouselId = that._elements.self.id;
                var activeItem = getDataLayerId(that._elements.item[index]);
                var updatePayload = { component: {} };
                updatePayload.component[carouselId] = { shownItems: [activeItem] };

                var removePayload = { component: {} };
                removePayload.component[carouselId] = { shownItems: undefined };

                dataLayer.push(removePayload);
                dataLayer.push(updatePayload);
            }

            // reset the autoplay transition interval following navigation, if not already hovering the carousel
            if (that._elements.self.parentElement) {
                if (that._elements.self.parentElement.querySelector(":hover") !== that._elements.self) {
                    resetAutoplayInterval();
                }
            }
        }

        /**
         * Navigates to the item at the provided index and ensures the active indicator gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         * @param {Boolean} keepHash true to keep the hash in the URL, false to update it
         */
        function navigateAndFocusIndicator(index, keepHash) {
            navigate(index, keepHash);
            focusWithoutScroll(that._elements["indicator"][index]);

            if (dataLayerEnabled) {
                dataLayer.push({
                    event: "cmp:show",
                    eventInfo: {
                        path: "component." + getDataLayerId(that._elements.item[index])
                    }
                });
            }
        }

        /**
         * Starts/resets automatic slide transition interval
         *
         * @private
         */
        function resetAutoplayInterval() {
            if (that._paused || !that._properties.autoplay) {
                return;
            }
            clearAutoplayInterval();
            that._autoplayIntervalId = window.setInterval(function() {
                if (document.visibilityState && document.hidden) {
                    return;
                }
                var indicators = that._elements["indicators"];
                if (indicators !== document.activeElement && indicators.contains(document.activeElement)) {
                    // if an indicator has focus, ensure we switch focus following navigation
                    navigateAndFocusIndicator(getNextIndex(), true);
                } else {
                    navigate(getNextIndex(), true);
                }
            }, that._properties.delay);
        }

        /**
         * Clears/pauses automatic slide transition interval
         *
         * @private
         */
        function clearAutoplayInterval() {
            window.clearInterval(that._autoplayIntervalId);
            that._autoplayIntervalId = null;
        }

        /**
         * Sets the disabled state for an action and toggles the appropriate CSS classes
         *
         * @private
         * @param {HTMLElement} action Action to disable
         * @param {Boolean} [disable] {@code true} to disable, {@code false} to enable
         */
        function setActionDisabled(action, disable) {
            if (!action) {
                return;
            }
            if (disable !== false) {
                action.disabled = true;
                action.classList.add("cmp-carousel__action--disabled");
            } else {
                action.disabled = false;
                action.classList.remove("cmp-carousel__action--disabled");
            }
        }
    }

    /**
     * Parses the dataLayer string and returns the ID
     *
     * @private
     * @param {HTMLElement} item the accordion item
     * @returns {String} dataLayerId or undefined
     */
    function getDataLayerId(item) {
        if (item) {
            if (item.dataset.cmpDataLayer) {
                return Object.keys(JSON.parse(item.dataset.cmpDataLayer))[0];
            } else {
                return item.id;
            }
        }
        return null;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Carousel components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        dataLayerEnabled = document.body.hasAttribute("data-cmp-data-layer-enabled");
        if (dataLayerEnabled) {
            dataLayerName = document.body.getAttribute("data-cmp-data-layer-name") || "adobeDataLayer";
            dataLayer = window[dataLayerName] = window[dataLayerName] || [];
        }

        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Carousel({ element: elements[i], options: CMP.utils.readData(elements[i], IS) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Carousel({ element: element, options: CMP.utils.readData(element, IS) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    var documentReady = document.readyState !== "loading" ? Promise.resolve() : new Promise(function(resolve) {
        document.addEventListener("DOMContentLoaded", resolve);
    });
    Promise.all([documentReady]).then(onDocumentReady);

    if (containerUtils) {
        window.addEventListener("load", containerUtils.scrollToAnchor, false);
    }

}());

/*******************************************************************************
 * Copyright 2017 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
if (window.Element && !Element.prototype.closest) {
    // eslint valid-jsdoc: "off"
    Element.prototype.closest =
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var el      = this;
            var i;
            do {
                i = matches.length;
                while (--i >= 0 && matches.item(i) !== el) {
                    // continue
                }
            } while ((i < 0) && (el = el.parentElement));
            return el;
        };
}

if (window.Element && !Element.prototype.matches) {
    Element.prototype.matches =
        Element.prototype.matchesSelector ||
        Element.prototype.mozMatchesSelector ||
        Element.prototype.msMatchesSelector ||
        Element.prototype.oMatchesSelector ||
        Element.prototype.webkitMatchesSelector ||
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var i       = matches.length;
            while (--i >= 0 && matches.item(i) !== this) {
                // continue
            }
            return i > -1;
        };
}

if (!Object.assign) {
    Object.assign = function(target, varArgs) { // .length of function is 2
        "use strict";
        if (target === null) {
            throw new TypeError("Cannot convert undefined or null to object");
        }

        var to = Object(target);

        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource !== null) {
                for (var nextKey in nextSource) {
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

(function(arr) {
    "use strict";
    arr.forEach(function(item) {
        if (Object.prototype.hasOwnProperty.call(item, "remove")) {
            return;
        }
        Object.defineProperty(item, "remove", {
            configurable: true,
            enumerable: true,
            writable: true,
            value: function remove() {
                this.parentNode.removeChild(this);
            }
        });
    });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);

/*******************************************************************************
 * Copyright 2022 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function(document) {
    "use strict";

    window.CMP = window.CMP || {};
    window.CMP.utils = (function() {
        var NS = "cmp";

        /**
         * Reads options data from the Component wrapper element, defined via {@code data-cmp-*} data attributes
         *
         * @param {HTMLElement} element The component element to read options data from
         * @param {String} is The component identifier
         * @returns {String[]} The options read from the component data attributes
         */
        var readData = function(element, is) {
            var data = element.dataset;
            var options = [];
            var capitalized = is;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var reserved = ["is", "hook" + capitalized];

            for (var key in data) {
                if (Object.prototype.hasOwnProperty.call(data, key)) {
                    var value = data[key];

                    if (key.indexOf(NS) === 0) {
                        key = key.slice(NS.length);
                        key = key.charAt(0).toLowerCase() + key.substring(1);

                        if (reserved.indexOf(key) === -1) {
                            options[key] = value;
                        }
                    }
                }
            }
            return options;
        };

        /**
         * Set up the final properties of a component by evaluating the transform function or fall back to the default value on demand
         * @param {String[]} options the options to transform
         * @param {Object} properties object of properties of property functions
         * @returns {Object} transformed properties
         */
        var setupProperties = function(options, properties) {
            var transformedProperties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    if (options && options[key] != null) {
                        if (property && typeof property.transform === "function") {
                            transformedProperties[key] = property.transform(options[key]);
                        } else {
                            transformedProperties[key] = options[key];
                        }
                    } else {
                        transformedProperties[key] = properties[key]["default"];
                    }
                }
            }
            return transformedProperties;
        };


        return {
            readData: readData,
            setupProperties: setupProperties
        };
    }());
}(window.document));

/*******************************************************************************
 * Copyright 2022 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function(document) {
    "use strict";

    window.CMP = window.CMP || {};
    window.CMP.image = window.CMP.image || {};
    window.CMP.image.dynamicMedia = (function() {
        var autoSmartCrops = {};
        var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";
        var SRC_URI_TEMPLATE_DPR_VAR = "{dpr}";
        var SRC_URI_DPR_OFF = "dpr=off";
        var SRC_URI_DPR_ON = "dpr=on,{dpr}";
        var dpr = window.devicePixelRatio || 1;
        var config = {
            minWidth: 20
        };

        /**
         * get auto smart crops from dm
         * @param {String} src the src uri
         * @returns {{}} the smart crop json object
         */
        var getAutoSmartCrops = function(src) {
            var request = new XMLHttpRequest();
            var url = src.split(SRC_URI_TEMPLATE_WIDTH_VAR)[0] + "?req=set,json";
            request.open("GET", url, false);
            request.onload = function() {
                if (request.status >= 200 && request.status < 400) {
                    // success status
                    var responseText = request.responseText;
                    var rePayload = new RegExp(/^(?:\/\*jsonp\*\/)?\s*([^()]+)\(([\s\S]+),\s*"[0-9]*"\);?$/gmi);
                    var rePayloadJSON = new RegExp(/^{[\s\S]*}$/gmi);
                    var resPayload = rePayload.exec(responseText);
                    var payload;
                    if (resPayload) {
                        var payloadStr = resPayload[2];
                        if (rePayloadJSON.test(payloadStr)) {
                            payload = JSON.parse(payloadStr);
                        }

                    }
                    // check "relation" - only in case of smartcrop preset
                    if (payload && payload.set.relation && payload.set.relation.length > 0) {
                        for (var i = 0; i < payload.set.relation.length; i++) {
                            autoSmartCrops[parseInt(payload.set.relation[i].userdata.SmartCropWidth)] =
                                ":" + payload.set.relation[i].userdata.SmartCropDef;
                        }
                    }
                } else {
                    // error status
                }
            };
            request.send();
            return autoSmartCrops;
        };

        /**
         * Build and return the srcset value based on the available auto smart crops
         * @param {String} src the src uri
         * @param {Object} smartCrops the smart crops object
         * @returns {String} the srcset
         */
        var getSrcSet = function(src, smartCrops) {
            var srcset;
            var keys = Object.keys(smartCrops);
            if (keys.length > 0) {
                srcset = [];
                for (var key in autoSmartCrops) {
                    srcset.push(src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, smartCrops[key]) + " " + key + "w");
                }
            }
            return  srcset.join(",");
        };

        /**
         * Get the optimal width based on the available sizes
         * @param {[Number]} sizes the available sizes
         * @param {Number} width the element width
         * @returns {String} the optimal width
         */
        function getOptimalWidth(sizes, width) {
            var len = sizes.length;
            var key = 0;

            while ((key < len - 1) && (sizes[key] < width)) {
                key++;
            }

            return sizes[key] !== undefined ? sizes[key].toString() : width;
        }

        /**
         * Get the width of an element or parent element if the width is smaller than the minimum width
         * @param {HTMLElement} component the image component
         * @param {HTMLElement | Node} parent the parent element
         * @returns {Number} the width of the element
         */
        var getWidth = function(component, parent) {
            var width = component.offsetWidth;
            while (width < config.minWidth && parent && !component._autoWidth) {
                width =  parent.offsetWidth;
                parent = parent.parentNode;
            }
            return width;
        };

        /**
         * Set the src and srcset attribute for a Dynamic Media Image which auto smart crops enabled.
         * @param {HTMLElement} component the image component
         * @param {{}} properties the component properties
         */
        var setDMAttributes = function(component, properties) {
            // for v3 we first have to turn the dpr on
            var src = properties.src.replace(SRC_URI_DPR_OFF, SRC_URI_DPR_ON);
            src = src.replace(SRC_URI_TEMPLATE_DPR_VAR, dpr);
            var smartCrops = {};
            var width;
            if (properties["smartcroprendition"] === "SmartCrop:Auto") {
                smartCrops = getAutoSmartCrops(src);
            }
            var hasWidths = (properties.widths && properties.widths.length > 0) || Object.keys(smartCrops).length > 0;
            if (hasWidths) {
                var image = component.querySelector("img");
                var elemWidth = getWidth(component, component.parentNode);
                if (properties["smartcroprendition"] === "SmartCrop:Auto") {
                    image.setAttribute("srcset", CMP.image.dynamicMedia.getSrcSet(src, smartCrops));
                    width = getOptimalWidth(Object.keys(smartCrops, elemWidth));
                    image.setAttribute("src", CMP.image.dynamicMedia.getSrc(src, smartCrops[width]));
                } else {
                    width = getOptimalWidth(properties.widths, elemWidth);
                    image.setAttribute("src", CMP.image.dynamicMedia.getSrc(src, width));
                }
            }
        };

        /**
         * Get the src attribute based on the optimal width
         * @param {String} src the src uri
         * @param {String} width the element width
         * @returns {String} the final src attribute
         */
        var getSrc = function(src, width) {
            if (src.indexOf(SRC_URI_TEMPLATE_WIDTH_VAR) > -1) {
                src = src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, width);
            }
            return src;
        };


        return {
            getAutoSmartCrops: getAutoSmartCrops,
            getSrcSet: getSrcSet,
            getSrc: getSrc,
            setDMAttributes: setDMAttributes,
            getWidth: getWidth
        };
    }());
    document.dispatchEvent(new CustomEvent("core.wcm.components.commons.site.image.dynamic-media.loaded"));
}(window.document));

/*******************************************************************************
 * Copyright 2016 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "image";

    var EMPTY_PIXEL = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    var LAZY_THRESHOLD_DEFAULT = 0;
    var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";
    var SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY = "width={width}";
    var SRC_URI_TEMPLATE_DPR_VAR = "{dpr}";

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        image: '[data-cmp-hook-image="image"]',
        map: '[data-cmp-hook-image="map"]',
        area: '[data-cmp-hook-image="area"]'
    };

    var lazyLoader = {
        "cssClass": "cmp-image__image--is-loading",
        "style": {
            "height": 0,
            "padding-bottom": "" // will be replaced with % ratio
        }
    };

    var properties = {
        /**
         * An array of alternative image widths (in pixels).
         * Used to replace a {.width} variable in the src property with an optimal width if a URI template is provided.
         *
         * @memberof Image
         * @type {Number[]}
         * @default []
         */
        "widths": {
            "default": [],
            "transform": function(value) {
                var widths = [];
                value.split(",").forEach(function(item) {
                    item = parseFloat(item);
                    if (!isNaN(item)) {
                        widths.push(item);
                    }
                });
                return widths;
            }
        },
        /**
         * Indicates whether the image should be rendered lazily.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "lazy": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * Indicates image is DynamicMedia image.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "dmimage": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * The lazy threshold.
         * This is the number of pixels, in advance of becoming visible, when an lazy-loading image should begin
         * to load.
         *
         * @memberof Image
         * @type {Number}
         * @default 0
         */
        "lazythreshold": {
            "default": 0,
            "transform": function(value) {
                var val =  parseInt(value);
                if (isNaN(val)) {
                    return LAZY_THRESHOLD_DEFAULT;
                }
                return val;
            }
        },
        /**
         * The image source.
         *
         * Can be a simple image source, or a URI template representation that
         * can be variable expanded - useful for building an image configuration with an alternative width.
         * e.g. '/path/image.coreimg{.width}.jpeg/1506620954214.jpeg'
         *
         * @memberof Image
         * @type {String}
         */
        "src": {
            "transform": function(value) {
                return decodeURIComponent(value);
            }
        }
    };

    var devicePixelRatio = window.devicePixelRatio || 1;

    function Image(config) {
        var that = this;

        var smartCrops = {};

        var useAssetDelivery = false;
        var srcUriTemplateWidthVar = SRC_URI_TEMPLATE_WIDTH_VAR;

        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            // check if asset delivery is used
            if (config.options.src && config.options.src.indexOf(SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY) >= 0) {
                useAssetDelivery = true;
                srcUriTemplateWidthVar = SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY;
            }

            that._properties = CMP.utils.setupProperties(config.options, properties);
            cacheElements(config.element);
            // check image is DM asset; if true try to make req=set
            if (config.options.src && Object.prototype.hasOwnProperty.call(config.options, "dmimage") && (config.options["smartcroprendition"] === "SmartCrop:Auto")) {
                smartCrops = CMP.image.dynamicMedia.getAutoSmartCrops(config.options.src);
            }

            if (!that._elements.noscript) {
                return;
            }

            that._elements.container = that._elements.link ? that._elements.link : that._elements.self;

            unwrapNoScript();

            if (that._properties.lazy) {
                addLazyLoader();
            }

            if (that._elements.map) {
                that._elements.image.addEventListener("load", onLoad);
            }

            window.addEventListener("resize", onWindowResize);
            ["focus", "click", "load", "transitionend", "animationend", "scroll"].forEach(function(name) {
                document.addEventListener(name, that.update);
            });

            that._elements.image.addEventListener("cmp-image-redraw", that.update);

            that._interSectionObserver = new IntersectionObserver(function(entries, interSectionObserver) {
                entries.forEach(function(entry) {
                    if (entry.intersectionRatio > 0) {
                        that.update();
                    }
                });
            });
            that._interSectionObserver.observe(that._elements.self);

            that.update();
        }

        function loadImage() {
            var hasWidths = (that._properties.widths && that._properties.widths.length > 0) || Object.keys(smartCrops).length > 0;
            var replacement;
            if (Object.keys(smartCrops).length > 0) {
                var optimalWidth = getOptimalWidth(Object.keys(smartCrops), false);
                replacement = smartCrops[optimalWidth];
            } else {
                replacement = hasWidths ? (that._properties.dmimage ? "" : ".") + getOptimalWidth(that._properties.widths, true) : "";
            }
            if (useAssetDelivery) {
                replacement = replacement !== "" ? ("width=" + replacement.substring(1)) : "";
            }
            var url = that._properties.src.replace(srcUriTemplateWidthVar, replacement);
            url = url.replace(SRC_URI_TEMPLATE_DPR_VAR, devicePixelRatio);

            var imgSrcAttribute = that._elements.image.getAttribute("src");

            if (url !== imgSrcAttribute) {
                if (imgSrcAttribute === null || imgSrcAttribute === EMPTY_PIXEL) {
                    that._elements.image.setAttribute("src", url);
                } else {
                    var urlTemplateParts = that._properties.src.split(srcUriTemplateWidthVar);
                    // check if image src was dynamically swapped meanwhile (e.g. by Target)
                    var isImageRefSame = imgSrcAttribute.startsWith(urlTemplateParts[0]);
                    if (isImageRefSame && urlTemplateParts.length > 1) {
                        isImageRefSame = imgSrcAttribute.endsWith(urlTemplateParts[urlTemplateParts.length - 1]);
                    }
                    if (isImageRefSame) {
                        that._elements.image.setAttribute("src", url);
                        if (!hasWidths) {
                            window.removeEventListener("scroll", that.update);
                        }
                    }
                }
            }
            if (that._lazyLoaderShowing) {
                that._elements.image.addEventListener("load", removeLazyLoader);
            }
            that._interSectionObserver.unobserve(that._elements.self);
        }

        function getOptimalWidth(widths, useDevicePixelRatio) {
            var container = that._elements.self;
            var containerWidth = container.clientWidth;
            while (containerWidth === 0 && container.parentNode) {
                container = container.parentNode;
                containerWidth = container.clientWidth;
            }

            var dpr = useDevicePixelRatio ? devicePixelRatio : 1;
            var optimalWidth = containerWidth * dpr;
            var len = widths.length;
            var key = 0;

            while ((key < len - 1) && (widths[key] < optimalWidth)) {
                key++;
            }

            return widths[key].toString();
        }

        function addLazyLoader() {
            var width = that._elements.image.getAttribute("width");
            var height = that._elements.image.getAttribute("height");

            if (width && height) {
                var ratio = (height / width) * 100;
                var styles = lazyLoader.style;

                styles["padding-bottom"] = ratio + "%";

                for (var s in styles) {
                    if (Object.prototype.hasOwnProperty.call(styles, s)) {
                        that._elements.image.style[s] = styles[s];
                    }
                }
            }
            that._elements.image.setAttribute("src", EMPTY_PIXEL);
            that._elements.image.classList.add(lazyLoader.cssClass);
            that._lazyLoaderShowing = true;
        }

        function unwrapNoScript() {
            var markup = decodeNoscript(that._elements.noscript.textContent.trim());
            var parser = new DOMParser();

            // temporary document avoids requesting the image before removing its src
            var temporaryDocument = parser.parseFromString(markup, "text/html");
            var imageElement = temporaryDocument.querySelector(selectors.image);
            imageElement.removeAttribute("src");
            that._elements.container.insertBefore(imageElement, that._elements.noscript);

            var mapElement = temporaryDocument.querySelector(selectors.map);
            if (mapElement) {
                that._elements.container.insertBefore(mapElement, that._elements.noscript);
            }

            that._elements.noscript.parentNode.removeChild(that._elements.noscript);
            if (that._elements.container.matches(selectors.image)) {
                that._elements.image = that._elements.container;
            } else {
                that._elements.image = that._elements.container.querySelector(selectors.image);
            }

            that._elements.map = that._elements.container.querySelector(selectors.map);
            that._elements.areas = that._elements.container.querySelectorAll(selectors.area);
        }

        function removeLazyLoader() {
            that._elements.image.classList.remove(lazyLoader.cssClass);
            for (var property in lazyLoader.style) {
                if (Object.prototype.hasOwnProperty.call(lazyLoader.style, property)) {
                    that._elements.image.style[property] = "";
                }
            }
            that._elements.image.removeEventListener("load", removeLazyLoader);
            that._lazyLoaderShowing = false;
        }

        function isLazyVisible() {
            if (that._elements.container.offsetParent === null) {
                return false;
            }

            var wt = window.pageYOffset;
            var wb = wt + document.documentElement.clientHeight;
            var et = that._elements.container.getBoundingClientRect().top + wt;
            var eb = et + that._elements.container.clientHeight;

            return eb >= wt - that._properties.lazythreshold && et <= wb + that._properties.lazythreshold;
        }

        function resizeAreas() {
            if (that._elements.areas && that._elements.areas.length > 0) {
                for (var i = 0; i < that._elements.areas.length; i++) {
                    var width = that._elements.image.width;
                    var height = that._elements.image.height;

                    if (width && height) {
                        var relcoords = that._elements.areas[i].dataset.cmpRelcoords;
                        if (relcoords) {
                            var relativeCoordinates = relcoords.split(",");
                            var coordinates = new Array(relativeCoordinates.length);

                            for (var j = 0; j < coordinates.length; j++) {
                                if (j % 2 === 0) {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * width);
                                } else {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * height);
                                }
                            }

                            that._elements.areas[i].coords = coordinates;
                        }
                    }
                }
            }
        }

        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                that._elements[key] = hook;
            }
        }

        function onWindowResize() {
            that.update();
            resizeAreas();
        }

        function onLoad() {
            resizeAreas();
        }

        that.update = function() {
            if (that._properties.lazy) {
                if (isLazyVisible()) {
                    loadImage();
                }
            } else {
                loadImage();
            }
        };

        if (config && config.element) {
            init(config);
        }
    }

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Image({ element: elements[i], options: CMP.utils.readData(elements[i], IS) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body             = document.querySelector("body");
        var observer         = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Image({ element: element, options: CMP.utils.readData(element, IS) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    var documentReady = document.readyState !== "loading" ? Promise.resolve() : new Promise(function(resolve) {
        document.addEventListener("DOMContentLoaded", resolve);
    });

    Promise.all([documentReady]).then(onDocumentReady);
    /*
        on drag & drop of the component into a parsys, noscript's content will be escaped multiple times by the editor which creates
        the DOM for editing; the HTML parser cannot be used here due to the multiple escaping
     */
    function decodeNoscript(text) {
        text = text.replace(/&(amp;)*lt;/g, "<");
        text = text.replace(/&(amp;)*gt;/g, ">");
        return text;
    }

})();

/*******************************************************************************
 * Copyright 2019 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

/**
 * Element.matches()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/matches#Polyfill
 */
if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

// eslint-disable-next-line valid-jsdoc
/**
 * Element.closest()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/closest#Polyfill
 */
if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        "use strict";
        var el = this;
        if (!document.documentElement.contains(el)) {
            return null;
        }
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}

/*******************************************************************************
 * Copyright 2019 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var containerUtils = window.CQ && window.CQ.CoreComponents && window.CQ.CoreComponents.container && window.CQ.CoreComponents.container.utils ? window.CQ.CoreComponents.container.utils : undefined;
    if (!containerUtils) {
        // eslint-disable-next-line no-console
        console.warn("Accordion: container utilities at window.CQ.CoreComponents.container.utils are not available. This can lead to missing features. Ensure the core.wcm.components.commons.site.container client library is included on the page.");
    }
    var dataLayerEnabled;
    var dataLayer;
    var dataLayerName;
    var delay = 100;

    var NS = "cmp";
    var IS = "accordion";

    var keyCodes = {
        ENTER: 13,
        SPACE: 32,
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]'
    };

    var cssClasses = {
        button: {
            disabled: "cmp-accordion__button--disabled",
            expanded: "cmp-accordion__button--expanded"
        },
        panel: {
            hidden: "cmp-accordion__panel--hidden",
            expanded: "cmp-accordion__panel--expanded"
        }
    };

    var dataAttributes = {
        item: {
            expanded: "data-cmp-expanded"
        }
    };

    var properties = {
        /**
         * Determines whether a single accordion item is forced to be expanded at a time.
         * Expanding one item will collapse all others.
         *
         * @memberof Accordion
         * @type {Boolean}
         * @default false
         */
        "singleExpansion": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        }
    };

    /**
     * Accordion Configuration.
     *
     * @typedef {Object} AccordionConfig Represents an Accordion configuration
     * @property {HTMLElement} element The HTMLElement representing the Accordion
     * @property {Object} options The Accordion options
     */

    /**
     * Accordion.
     *
     * @class Accordion
     * @classdesc An interactive Accordion component for toggling panels of related content
     * @param {AccordionConfig} config The Accordion configuration
     */
    function Accordion(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Accordion.
         *
         * @private
         * @param {AccordionConfig} config The Accordion configuration
         */
        function init(config) {
            that._config = config;

            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            if (that._elements["item"]) {
                // ensures multiple element types are arrays.
                that._elements["item"] = Array.isArray(that._elements["item"]) ? that._elements["item"] : [that._elements["item"]];
                that._elements["button"] = Array.isArray(that._elements["button"]) ? that._elements["button"] : [that._elements["button"]];
                that._elements["panel"] = Array.isArray(that._elements["panel"]) ? that._elements["panel"] : [that._elements["panel"]];

                if (that._properties.singleExpansion) {
                    var expandedItems = getExpandedItems();
                    // multiple expanded items annotated, display the last item open.
                    if (expandedItems.length > 1) {
                        toggle(expandedItems.length - 1);
                    }
                }

                refreshItems();
                bindEvents();
                scrollToDeepLinkIdInAccordion();
            }
            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Accordion component
                 * - if so, route the "navigate" operation to enact a navigation of the Accordion based on index data
                 */
                window.CQ.CoreComponents.MESSAGE_CHANNEL = window.CQ.CoreComponents.MESSAGE_CHANNEL || new window.Granite.author.MessageChannel("cqauthor", window);
                window.CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-accordion" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            // switch to single expansion mode when navigating in edit mode.
                            var singleExpansion = that._properties.singleExpansion;
                            that._properties.singleExpansion = true;
                            toggle(message.data.index);

                            // revert to the configured state.
                            that._properties.singleExpansion = singleExpansion;
                        }
                    }
                });
            }
        }

        /**
         * Displays the panel containing the element that corresponds to the deep link in the URI fragment
         * and scrolls the browser to this element.
         */
        function scrollToDeepLinkIdInAccordion() {
            if (containerUtils) {
                var deepLinkItemIdx = containerUtils.getDeepLinkItemIdx(that, "item", "item");
                if (deepLinkItemIdx > -1) {
                    var deepLinkItem = that._elements["item"][deepLinkItemIdx];
                    if (deepLinkItem && !deepLinkItem.hasAttribute(dataAttributes.item.expanded)) {
                        // if single expansion: close all accordion items
                        if (that._properties.singleExpansion) {
                            for (var j = 0; j < that._elements["item"].length; j++) {
                                if (that._elements["item"][j].hasAttribute(dataAttributes.item.expanded)) {
                                    setItemExpanded(that._elements["item"][j], false, true);
                                }
                            }
                        }
                        // expand the accordion item containing the deep link
                        setItemExpanded(deepLinkItem, true, true);
                    }
                    var hashId = window.location.hash.substring(1);
                    if (hashId) {
                        var hashItem = document.querySelector("[id='" + hashId + "']");
                        if (hashItem) {
                            hashItem.scrollIntoView();
                        }
                    }
                }
            }
        }

        /**
         * Caches the Accordion elements as defined via the {@code data-accordion-hook="ELEMENT_NAME"} markup API.
         *
         * @private
         * @param {HTMLElement} wrapper The Accordion wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own accordion elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Sets up properties for the Accordion based on the passed options.
         *
         * @private
         * @param {Object} options The Accordion options
         */
        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    var value = null;

                    if (options && options[key] != null) {
                        value = options[key];

                        // transform the provided option
                        if (property && typeof property.transform === "function") {
                            value = property.transform(value);
                        }
                    }

                    if (value === null) {
                        // value still null, take the property default
                        value = properties[key]["default"];
                    }

                    that._properties[key] = value;
                }
            }
        }

        /**
         * Binds Accordion event handling.
         *
         * @private
         */
        function bindEvents() {
            window.addEventListener("hashchange", scrollToDeepLinkIdInAccordion, false);
            var buttons = that._elements["button"];
            if (buttons) {
                for (var i = 0; i < buttons.length; i++) {
                    (function(index) {
                        buttons[i].addEventListener("click", function(event) {
                            toggle(index);
                            focusButton(index);
                        });
                        buttons[i].addEventListener("keydown", function(event) {
                            onButtonKeyDown(event, index);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles button keydown events.
         *
         * @private
         * @param {Object} event The keydown event
         * @param {Number} index The index of the button triggering the event
         */
        function onButtonKeyDown(event, index) {
            var lastIndex = that._elements["button"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        focusButton(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        focusButton(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    focusButton(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    focusButton(lastIndex);
                    break;
                case keyCodes.ENTER:
                case keyCodes.SPACE:
                    event.preventDefault();
                    toggle(index);
                    focusButton(index);
                    break;
                default:
                    return;
            }
        }

        /**
         * General handler for toggle of an item.
         *
         * @private
         * @param {Number} index The index of the item to toggle
         */
        function toggle(index) {
            var item = that._elements["item"][index];
            if (item) {
                if (that._properties.singleExpansion) {
                    // ensure only a single item is expanded if single expansion is enabled.
                    for (var i = 0; i < that._elements["item"].length; i++) {
                        if (that._elements["item"][i] !== item) {
                            var expanded = getItemExpanded(that._elements["item"][i]);
                            if (expanded) {
                                setItemExpanded(that._elements["item"][i], false);
                            }
                        }
                    }
                }
                setItemExpanded(item, !getItemExpanded(item));

                if (dataLayerEnabled) {
                    var accordionId = that._elements.self.id;
                    var expandedItems = getExpandedItems()
                        .map(function(item) {
                            return getDataLayerId(item);
                        });

                    var uploadPayload = { component: {} };
                    uploadPayload.component[accordionId] = { shownItems: expandedItems };

                    var removePayload = { component: {} };
                    removePayload.component[accordionId] = { shownItems: undefined };

                    dataLayer.push(removePayload);
                    dataLayer.push(uploadPayload);
                }
            }
        }

        /**
         * Sets an item's expanded state based on the provided flag and refreshes its internals.
         *
         * @private
         * @param {HTMLElement} item The item to mark as expanded, or not expanded
         * @param {Boolean} expanded true to mark the item expanded, false otherwise
         * @param {Boolean} keepHash true to keep the hash in the URL, false to update it
         */
        function setItemExpanded(item, expanded, keepHash) {
            if (expanded) {
                item.setAttribute(dataAttributes.item.expanded, "");
                var index = that._elements["item"].indexOf(item);
                if (!keepHash && containerUtils) {
                    containerUtils.updateUrlHash(that, "item", index);
                }
                if (dataLayerEnabled) {
                    dataLayer.push({
                        event: "cmp:show",
                        eventInfo: {
                            path: "component." + getDataLayerId(item)
                        }
                    });
                }

            } else {
                item.removeAttribute(dataAttributes.item.expanded);
                if (!keepHash && containerUtils) {
                    containerUtils.removeUrlHash();
                }
                if (dataLayerEnabled) {
                    dataLayer.push({
                        event: "cmp:hide",
                        eventInfo: {
                            path: "component." + getDataLayerId(item)
                        }
                    });
                }
            }
            refreshItem(item);
        }

        /**
         * Gets an item's expanded state.
         *
         * @private
         * @param {HTMLElement} item The item for checking its expanded state
         * @returns {Boolean} true if the item is expanded, false otherwise
         */
        function getItemExpanded(item) {
            return item && item.dataset && item.dataset["cmpExpanded"] !== undefined;
        }

        /**
         * Refreshes an item based on its expanded state.
         *
         * @private
         * @param {HTMLElement} item The item to refresh
         */
        function refreshItem(item) {
            var expanded = getItemExpanded(item);
            if (expanded) {
                expandItem(item);
            } else {
                collapseItem(item);
            }
        }

        /**
         * Refreshes all items based on their expanded state.
         *
         * @private
         */
        function refreshItems() {
            for (var i = 0; i < that._elements["item"].length; i++) {
                refreshItem(that._elements["item"][i]);
            }
        }

        /**
         * Returns all expanded items.
         *
         * @private
         * @returns {HTMLElement[]} The expanded items
         */
        function getExpandedItems() {
            var expandedItems = [];

            for (var i = 0; i < that._elements["item"].length; i++) {
                var item = that._elements["item"][i];
                var expanded = getItemExpanded(item);
                if (expanded) {
                    expandedItems.push(item);
                }
            }

            return expandedItems;
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as expanded
         */
        function expandItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                button.classList.add(cssClasses.button.expanded);
                // used to fix some known screen readers issues in reading the correct state of the 'aria-expanded' attribute
                // e.g. https://bugs.webkit.org/show_bug.cgi?id=210934
                setTimeout(function() {
                    button.setAttribute("aria-expanded", true);
                }, delay);
                panel.classList.add(cssClasses.panel.expanded);
                panel.classList.remove(cssClasses.panel.hidden);
                panel.setAttribute("aria-hidden", false);
            }
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is not expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as not expanded
         */
        function collapseItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                button.classList.remove(cssClasses.button.expanded);
                // used to fix some known screen readers issues in reading the correct state of the 'aria-expanded' attribute
                // e.g. https://bugs.webkit.org/show_bug.cgi?id=210934
                setTimeout(function() {
                    button.setAttribute("aria-expanded", false);
                }, delay);
                panel.classList.add(cssClasses.panel.hidden);
                panel.classList.remove(cssClasses.panel.expanded);
                panel.setAttribute("aria-hidden", true);
            }
        }

        /**
         * Focuses the button at the provided index.
         *
         * @private
         * @param {Number} index The index of the button to focus
         */
        function focusButton(index) {
            var button = that._elements["button"][index];
            button.focus();
        }
    }

    /**
     * Reads options data from the Accordion wrapper element, defined via {@code data-cmp-*} data attributes.
     *
     * @private
     * @param {HTMLElement} element The Accordion element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (Object.prototype.hasOwnProperty.call(data, key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Parses the dataLayer string and returns the ID
     *
     * @private
     * @param {HTMLElement} item the accordion item
     * @returns {String} dataLayerId or undefined
     */
    function getDataLayerId(item) {
        if (item) {
            if (item.dataset.cmpDataLayer) {
                return Object.keys(JSON.parse(item.dataset.cmpDataLayer))[0];
            } else {
                return item.id;
            }
        }
        return null;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Accordion components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        dataLayerEnabled = document.body.hasAttribute("data-cmp-data-layer-enabled");
        if (dataLayerEnabled) {
            dataLayerName = document.body.getAttribute("data-cmp-data-layer-name") || "adobeDataLayer";
            dataLayer = window[dataLayerName] = window[dataLayerName] || [];
        }

        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Accordion({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Accordion({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

    if (containerUtils) {
        window.addEventListener("load", containerUtils.scrollToAnchor, false);
    }

}());

/**
 * Includer module for dynamically including scripts and styles based on the environment tier.
 *
 * @module includer
 */

/**
 * Detects the current environment tier and sets the `self.tier` property.
 *
 * @function loadCurrentTier
 * @private
 */

/**
 * Sets the paths for various resources based on the current environment tier.
 *
 * @function setPaths
 * @private
 */

/**
 * Includes the specified scripts into the document.
 *
 * @function includeScripts
 * @param {string|string[]} scripts - The script(s) to include.
 * @param {boolean} [overwrite=false] - Whether to overwrite existing scripts.
 * @returns {Promise} A promise that resolves when all scripts are included.
 */

/**
 * Writes a script tag to the document.
 *
 * @function writeScriptTag
 * @param {string} script - The URL of the script to include.
 * @param {boolean} [defer=false] - Whether to defer the script.
 * @param {boolean} [isModule=false] - Whether the script is a module.
 * @param {boolean} [noModule=false] - Whether the script should not be a module.
 * @param {boolean} [overwrite=false] - Whether to overwrite existing scripts.
 * @returns {Promise} A promise that resolves when the script is included.
 * @private
 */

/**
 * Includes the specified styles into the document.
 *
 * @function includeStyles
 * @param {string|string[]} styles - The style(s) to include.
 * @param {boolean} [overwrite=false] - Whether to overwrite existing styles.
 * @returns {Promise} A promise that resolves when all styles are included.
 */

/**
 * Writes a style tag to the document.
 *
 * @function writeStyleTag
 * @param {string} style - The URL of the style to include.
 * @param {boolean} [overwrite=false] - Whether to overwrite existing styles.
 * @param {boolean} [asStyle=false] - Whether to preload the style.
 * @returns {Promise} A promise that resolves when the style is included.
 * @private
 */

/**
 * Includes the specified assets (scripts or styles) into the document.
 *
 * @function include
 * @param {Object|Object[]} assets - The asset(s) to include.
 * @param {boolean} [overwrite=false] - Whether to overwrite existing assets.
 * @returns {Promise} A promise that resolves when all assets are included.
 */

/**
 * Reads a query parameter from the URL.
 *
 * @function readQueryParam
 * @param {string} name - The name of the query parameter to read.
 * @returns {string} The value of the query parameter.
 */

/**
 * Checks if the given object is an array.
 *
 * @function isArray
 * @param {any} objToInspect - The object to inspect.
 * @returns {boolean} `true` if the object is an array, otherwise `false`.
 */

/**
 * Initializes the includer module by detecting the current tier and setting paths.
 *
 * @function init
 * @private
 */
(function () {
    //************************************************
    //  Includer
    //************************************************

    window.includer = (function () {
        var self = {};

        //**************************************
        //  Tier Detection
        //**************************************
        self.tier = '';
        function loadCurrentTier() {
            if (readQueryParam('env')) {
                self.tier = readQueryParam('env').toUpperCase();
            } else {
                var subdomain = window.location.hostname.split(".")[0];
                switch (subdomain) {
                    //case '':
                    case 'localhost':
                    case '127.0.0.1':
                    case 'dev':
                    case 'cmsauth':
                    case 'cmsqa':
                    case 'cmsdev':
                    case 'webapps-cdn-dev':
                    case 'webnodedev':
                    case 'aem-author-dev':
                    case 'aem-dev':
                        self.tier = 'DEV';
                        break;

                    case 'stg':
                    case 'uat':
                    case 'webapps-cdn-stg':
                    case 'aem-author-stg':
                    case 'aem-stg':
                    case 'preview':
                    case 'preview-stg':
                        self.tier = 'STG';
                        break;

                    default:
                        self.tier = 'PRD';
                        break;
                }
            }
        }

        //**************************************
        //  Paths
        //**************************************
        self.basePath = '';
        self.CDN = '';
        self.TOOLS = '';
        self.APPS = '';
        self.WEBNODE = '';

        function setPaths() {
            switch (self.tier.toLowerCase()) {
                case 'local':
                    self.basePath = 'https://webapps-cdn-dev.esri.com';
                    self.WEBNODE = 'http://localhost:3000';
                    self.CALCITE_COMPONENTS = self.basePath + '/CDN/calcite-components/latest/calcite';
                    self.FONTS = self.basePath + '/CDN/fonts';
                    break;
                case 'dev':
                    self.basePath = 'https://webapps-cdn-dev.esri.com';
                    self.WEBNODE = 'https://webnodedev.esri.com';
                    self.CALCITE_COMPONENTS = self.basePath + '/CDN/calcite-components/latest/calcite';
                    self.FONTS = self.basePath + '/CDN/fonts';
                    break;
                case 'stg':
                    self.basePath = 'https://webapps-cdn-stg.esri.com';
                    self.WEBNODE = 'https://webnodedev.esri.com';
                    self.CALCITE_COMPONENTS = self.basePath + '/CDN/calcite-components/latest/calcite';
                    self.FONTS = self.basePath + '/CDN/fonts';
                    break;
                default:
                    self.basePath = 'https://webapps-cdn.esri.com';
                    self.WEBNODE = 'https://webnode.esri.com';
                    self.CALCITE_COMPONENTS = self.basePath + '/CDN/calcite-components/latest/calcite';
                    self.FONTS = self.basePath + '/CDN/fonts';
                    break;
            }
            self.CDN = self.basePath + '/CDN';
            self.TOOLS = self.basePath + '/tools';
            self.APPS = self.basePath + '/Apps';

            if ((readQueryParam('env') || '').toLowerCase() === 'local') {
                self.CDN = 'http://localhost:8000';
                self.WEBNODE = '//localhost';
            }
        }

        //**************************************
        //  Script Includes
        //**************************************
        self._includedScripts = [];
        self.includeScripts = function (scripts, overwrite) {

            return new Promise(function (resolve, reject) {
                if (isArray(scripts)) {
                    var promiseArray = [];
                    scripts.forEach(function (script) {
                        promiseArray.push(writeScriptTag(script, overwrite));
                    });
                    Promise.all(promiseArray).then(resolve, reject);
                } else {
                    writeScriptTag(scripts, overwrite).then(resolve, reject);
                }
            });
        };

        var _pendingScripts = [];

        function writeScriptTag(script, defer, isModule, noModule, overwrite) {

            return new Promise(function (resolve, reject) {
                var scriptToLower = script.toLowerCase();
                if (overwrite || self._includedScripts.indexOf(scriptToLower) === -1) {
                    self._includedScripts.push(scriptToLower);

                    var scriptId = script.replace(/[\/:.]/g, '');
                    _pendingScripts.push({
                        scriptId: scriptId, onLoaded: function () {
                            resolve(script);
                        }
                    });

                    const scriptTag = document.createElement('script');
                    scriptTag.src = script;
                    if (defer) {
                        scriptTag.defer = true;
                    }
                    if (isModule) {
                        scriptTag.type = 'module';
                    }
                    if (noModule) {
                        scriptTag.noModule = true;
                    }

                    document.body.appendChild(scriptTag);
                } else {
                    resolve(script + ' is Already Loaded.');
                }
            }, 5000);
        }

        //**************************************
        //  CSS Includes
        //**************************************
        self._includedStyles = [];
        self.includeStyles = function (styles, overwrite) {

            return new Promise(function (resolve, reject) {
                if (isArray(styles)) {
                    var promiseArray = [];
                    styles.forEach(function (style) {
                        promiseArray.push(writeStyleTag(style, overwrite));
                    });
                    Promise.all(promiseArray).then(resolve, reject);
                } else {
                    writeStyleTag(styles, overwrite).then(resolve, reject);
                }
            });
        };

        function writeStyleTag(style, overwrite, asStyle) {

            return new Promise(function (resolve, reject) {
                var styleToLower = style.toLowerCase();
                self._includedStyles.push(styleToLower);
                const styleTag = document.createElement('link');
                styleTag.rel = asStyle ? 'preload' : 'stylesheet';
                styleTag.href = style;

                if (asStyle) {
                    styleTag.as = "style";
                }

                document.body.appendChild(styleTag);
                //don't need to wait on css
                resolve();
            });
        }

        //**************************************
        //  Generic Include
        //**************************************
        self.include = function (assets, overwrite) {
            return new Promise(function (resolve, reject) {
                if (isArray(assets)) {
                    var promiseArray = [];
                    assets.forEach(function (asset) {
                        if (asset.type == 'script') {
                            promiseArray.push(writeScriptTag(asset.url, asset.defer, asset.isModule, asset.noModule, overwrite));
                        } else if (asset.type == 'style') {
                            promiseArray.push(writeStyleTag(asset.url, overwrite, false));
                        } else if (asset.type == 'preload') {
                            promiseArray.push(writeStyleTag(asset.url, overwrite, true));
                        }
                        Promise.all(promiseArray).then(resolve, reject);
                    });
                } else {
                    if (assets.type == 'script') {
                        writeScriptTag(asset.url, asset.defer, asset.isModule, asset.noModule, overwrite).then(resolve, reject);
                    } else {
                        writeStyleTag(assets.url, overwrite).then(resolve, reject);
                    }
                }
            }, 5000);
        };


        //**************************************
        //  Helper Functions
        //**************************************
        function readQueryParam(name) {
          // Escape backslashes in the name first, then escape the brackets
          name = name.replace(/\\/g, "\\\\");
          name = name.replace(/[\[]/g, "\\[").replace(/[\]]/g, "\\]");

          var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
              results = regex.exec(location.search);

          try {
              if (results === null && window.top && window.top.location) {
                  results = regex.exec(window.top.location.search);
              }
          } catch (error) {
          }

          return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }
        self.readQueryParam = readQueryParam;

        function isArray(objToInspect) {
            return Object.prototype.toString.call(objToInspect) === '[object Array]';
        }

        //**************************************
        //  Init
        //**************************************
        self.init = function () {
            loadCurrentTier();
            setPaths();
        };
        self.init();


        return self;
    }());
}());

/* axios v0.20.0 | (c) 2020 by Matt Zabriskie --JL v.1 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axios=t():e.axios=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){var t=new s(e),n=i(s.prototype.request,t);return o.extend(n,s.prototype,t),o.extend(n,t),n}var o=n(2),i=n(3),s=n(4),a=n(22),u=n(10),c=r(u);c.Axios=s,c.create=function(e){return r(a(c.defaults,e))},c.Cancel=n(23),c.CancelToken=n(24),c.isCancel=n(9),c.all=function(e){return Promise.all(e)},c.spread=n(25),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";function r(e){return"[object Array]"===R.call(e)}function o(e){return"undefined"==typeof e}function i(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function s(e){return"[object ArrayBuffer]"===R.call(e)}function a(e){return"undefined"!=typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function c(e){return"string"==typeof e}function f(e){return"number"==typeof e}function p(e){return null!==e&&"object"==typeof e}function d(e){if("[object Object]"!==R.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Date]"===R.call(e)}function h(e){return"[object File]"===R.call(e)}function m(e){return"[object Blob]"===R.call(e)}function y(e){return"[object Function]"===R.call(e)}function g(e){return p(e)&&y(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function x(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(e,t){if(null!==e&&"undefined"!=typeof e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function E(){function e(e,n){d(t[n])&&d(e)?t[n]=E(t[n],e):d(e)?t[n]=E({},e):r(e)?t[n]=e.slice():t[n]=e}for(var t={},n=0,o=arguments.length;n<o;n++)b(arguments[n],e);return t}function C(e,t,n){return b(t,function(t,r){n&&"function"==typeof t?e[r]=S(t,n):e[r]=t}),e}function j(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var S=n(3),R=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:s,isBuffer:i,isFormData:a,isArrayBufferView:u,isString:c,isNumber:f,isObject:p,isPlainObject:d,isUndefined:o,isDate:l,isFile:h,isBlob:m,isFunction:y,isStream:g,isURLSearchParams:v,isStandardBrowserEnv:w,forEach:b,merge:E,extend:C,trim:x,stripBOM:j}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var o=n(2),i=n(5),s=n(6),a=n(7),u=n(22);r.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=u(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(2);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var s=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),i=s.join("&")}if(i){var a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}},function(e,t,n){"use strict";function r(){this.handlers=[]}var o=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=n(2),i=n(8),s=n(9),a=n(10);e.exports=function(e){r(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||a.adapter;return t(e).then(function(t){return r(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(r(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(12):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(e=n(12)),e}var i=n(2),s=n(11),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:o(),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){u.headers[e]={}}),i.forEach(["post","put","patch"],function(e){u.headers[e]=i.merge(a)}),e.exports=u},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(2),o=n(13),i=n(16),s=n(5),a=n(17),u=n(20),c=n(21),f=n(14);e.exports=function(e){return new Promise(function(t,n){var p=e.data,d=e.headers;r.isFormData(p)&&delete d["Content-Type"],(r.isBlob(p)||r.isFile(p))&&p.type&&delete d["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=unescape(encodeURIComponent(e.auth.password))||"";d.Authorization="Basic "+btoa(h+":"+m)}var y=a(e.baseURL,e.url);if(l.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?u(l.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?l.response:l.responseText,s={data:i,status:l.status,statusText:l.statusText,headers:r,config:e,request:l};o(t,n,s),l=null}},l.onabort=function(){l&&(n(f("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){n(f("Network Error",e,null,l)),l=null},l.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(f(t,e,"ECONNABORTED",l)),l=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||c(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in l&&r.forEach(d,function(e,t){"undefined"==typeof p&&"content-type"===t.toLowerCase()?delete d[t]:l.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),e.responseType)try{l.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){l&&(l.abort(),n(e),l=null)}),p||(p=null),l.send(p)})}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},function(e,t){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";var r=n(18),o=n(19);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;"set-cookie"===t?s[t]=(s[t]?s[t]:[]).concat([n]):s[t]=s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(2);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(n){var o=r.isString(n)?e(n):n;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){function n(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(i[o]=n(void 0,e[o])):i[o]=n(e[o],t[o])}t=t||{};var i={},s=["url","method","data"],a=["headers","auth","proxy","params"],u=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];r.forEach(s,function(e){r.isUndefined(t[e])||(i[e]=n(void 0,t[e]))}),r.forEach(a,o),r.forEach(u,function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(i[o]=n(void 0,e[o])):i[o]=n(void 0,t[o])}),r.forEach(c,function(r){r in t?i[r]=n(e[r],t[r]):r in e&&(i[r]=n(void 0,e[r]))});var f=s.concat(a).concat(u).concat(c),p=Object.keys(e).concat(Object.keys(t)).filter(function(e){return f.indexOf(e)===-1});return r.forEach(p,o),i}},function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}var o=n(23);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}])});
//# sourceMappingURL=axios.min.map
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map
/*! js-cookie v2.2.1 | MIT */

!function(a){var b;if("function"==typeof define&&define.amd&&(define(a),b=!0),"object"==typeof exports&&(module.exports=a(),b=!0),!b){var c=window.Cookies,d=window.Cookies=a();d.noConflict=function(){return window.Cookies=c,d}}}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(a){return a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function c(d){function e(){}function f(b,c,f){if("undefined"!=typeof document){f=a({path:"/"},e.defaults,f),"number"==typeof f.expires&&(f.expires=new Date(1*new Date+864e5*f.expires)),f.expires=f.expires?f.expires.toUTCString():"";try{var g=JSON.stringify(c);/^[\{\[]/.test(g)&&(c=g)}catch(j){}c=d.write?d.write(c,b):encodeURIComponent(c+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(b+"").replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var h="";for(var i in f)f[i]&&(h+="; "+i,!0!==f[i]&&(h+="="+f[i].split(";")[0]));return document.cookie=b+"="+c+h}}function g(a,c){if("undefined"!=typeof document){for(var e={},f=document.cookie?document.cookie.split("; "):[],g=0;g<f.length;g++){var h=f[g].split("="),i=h.slice(1).join("=");c||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var j=b(h[0]);if(i=(d.read||d)(i,j)||b(i),c)try{i=JSON.parse(i)}catch(k){}if(e[j]=i,a===j)break}catch(k){}}return a?e[a]:e}}return e.set=f,e.get=function(a){return g(a,!1)},e.getJSON=function(a){return g(a,!0)},e.remove=function(b,c){f(b,"",a(c,{expires:-1}))},e.defaults={},e.withConverter=c,e}return c(function(){})});
/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=b(Array.prototype.forEach),m=b(Array.prototype.pop),p=b(Array.prototype.push),f=b(String.prototype.toLowerCase),d=b(String.prototype.toString),h=b(String.prototype.match),g=b(String.prototype.replace),T=b(String.prototype.indexOf),y=b(String.prototype.trim),E=b(Object.prototype.hasOwnProperty),_=b(RegExp.prototype.test),A=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function b(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function R(e){for(let t=0;t<e.length;t++){E(e,t)||(e[t]=null)}return e}function w(t){const n=l(null);for(const[o,r]of e(t)){E(t,o)&&(Array.isArray(r)?n[o]=R(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=w(r):n[o]=r)}return n}function C(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return b(n.get);if("function"==typeof n.value)return b(n.value)}e=o(e)}return function(){return null}}const L=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),v=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),x=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=i(["#text"]),I=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=a(/<%[\w\W]*|[\w\W]*%>/gm),B=a(/\${[\w\W]*}/gm),W=a(/^data-[\-\w.\u00B7-\uFFFF]/),G=a(/^aria-[\-\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j=a(/^(?:\w+script|data):/i),X=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=a(/^html$/i),$=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:z,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:X,DOCTYPE_NAME:q,CUSTOM_ELEMENT:$});const V=1,Z=3,J=7,Q=8,ee=9,te=function(){return"undefined"==typeof window?null:window};var ne=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const o=e=>t(e);if(o.version="3.1.6",o.removed=[],!n||!n.document||n.document.nodeType!==ee)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:b,Element:R,NodeFilter:H,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:B,DOMParser:W,trustedTypes:G}=n,j=R.prototype,X=C(j,"cloneNode"),$=C(j,"remove"),ne=C(j,"nextSibling"),oe=C(j,"childNodes"),re=C(j,"parentNode");if("function"==typeof N){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ie,ae="";const{implementation:le,createNodeIterator:ce,createDocumentFragment:se,getElementsByTagName:ue}=r,{importNode:me}=a;let pe={};o.isSupported="function"==typeof e&&"function"==typeof re&&le&&void 0!==le.createHTMLDocument;const{MUSTACHE_EXPR:fe,ERB_EXPR:de,TMPLIT_EXPR:he,DATA_ATTR:ge,ARIA_ATTR:Te,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:Ee,CUSTOM_ELEMENT:_e}=K;let{IS_ALLOWED_URI:Ae}=K,Ne=null;const be=S({},[...L,...D,...v,...x,...M]);let Se=null;const Re=S({},[...I,...U,...P,...F]);let we=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Le=null,De=!0,ve=!0,Oe=!1,xe=!0,ke=!1,Me=!0,Ie=!1,Ue=!1,Pe=!1,Fe=!1,He=!1,ze=!1,Be=!0,We=!1,Ge=!0,Ye=!1,je={},Xe=null;const qe=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const Ke=S({},["audio","video","img","source","image","track"]);let Ve=null;const Ze=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,nt=!1,ot=null;const rt=S({},[Je,Qe,et],d);let it=null;const at=["application/xhtml+xml","text/html"];let lt=null,ct=null;const st=r.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=w(e),it=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===it?d:f,Ne=E(e,"ALLOWED_TAGS")?S({},e.ALLOWED_TAGS,lt):be,Se=E(e,"ALLOWED_ATTR")?S({},e.ALLOWED_ATTR,lt):Re,ot=E(e,"ALLOWED_NAMESPACES")?S({},e.ALLOWED_NAMESPACES,d):rt,Ve=E(e,"ADD_URI_SAFE_ATTR")?S(w(Ze),e.ADD_URI_SAFE_ATTR,lt):Ze,$e=E(e,"ADD_DATA_URI_TAGS")?S(w(Ke),e.ADD_DATA_URI_TAGS,lt):Ke,Xe=E(e,"FORBID_CONTENTS")?S({},e.FORBID_CONTENTS,lt):qe,Ce=E(e,"FORBID_TAGS")?S({},e.FORBID_TAGS,lt):{},Le=E(e,"FORBID_ATTR")?S({},e.FORBID_ATTR,lt):{},je=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,De=!1!==e.ALLOW_ARIA_ATTR,ve=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,xe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ke=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,Ie=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,He=e.RETURN_DOM_FRAGMENT||!1,ze=e.RETURN_TRUSTED_TYPE||!1,Pe=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,We=e.SANITIZE_NAMED_PROPS||!1,Ge=!1!==e.KEEP_CONTENT,Ye=e.IN_PLACE||!1,Ae=e.ALLOWED_URI_REGEXP||Y,tt=e.NAMESPACE||et,we=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(we.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ke&&(ve=!1),He&&(Fe=!0),je&&(Ne=S({},M),Se=[],!0===je.html&&(S(Ne,L),S(Se,I)),!0===je.svg&&(S(Ne,D),S(Se,U),S(Se,F)),!0===je.svgFilters&&(S(Ne,v),S(Se,U),S(Se,F)),!0===je.mathMl&&(S(Ne,x),S(Se,P),S(Se,F))),e.ADD_TAGS&&(Ne===be&&(Ne=w(Ne)),S(Ne,e.ADD_TAGS,lt)),e.ADD_ATTR&&(Se===Re&&(Se=w(Se)),S(Se,e.ADD_ATTR,lt)),e.ADD_URI_SAFE_ATTR&&S(Ve,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(Xe===qe&&(Xe=w(Xe)),S(Xe,e.FORBID_CONTENTS,lt)),Ge&&(Ne["#text"]=!0),Ie&&S(Ne,["html","head","body"]),Ne.table&&(S(Ne,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=e.TRUSTED_TYPES_POLICY,ae=ie.createHTML("")}else void 0===ie&&(ie=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(G,c)),null!==ie&&"string"==typeof ae&&(ae=ie.createHTML(""));i&&i(e),ct=e}},pt=S({},["mi","mo","mn","ms","mtext"]),ft=S({},["foreignobject","annotation-xml"]),dt=S({},["title","style","font","a","script"]),ht=S({},[...D,...v,...O]),gt=S({},[...x,...k]),Tt=function(e){p(o.removed,{element:e});try{re(e).removeChild(e)}catch(t){$(e)}},yt=function(e,t){try{p(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Se[e])if(Fe||He)try{Tt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Et=function(e){let t=null,n=null;if(Pe)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===it&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=ie?ie.createHTML(e):e;if(tt===et)try{t=(new W).parseFromString(o,it)}catch(e){}if(!t||!t.documentElement){t=le.createDocument(tt,"template",null);try{t.documentElement.innerHTML=nt?ae:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),tt===et?ue.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:i},_t=function(e){return ce.call(e.ownerDocument||e,e,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT|H.SHOW_PROCESSING_INSTRUCTION|H.SHOW_CDATA_SECTION,null)},At=function(e){return e instanceof B&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof z)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Nt=function(e){return"function"==typeof b&&e instanceof b},bt=function(e,t,n){pe[e]&&u(pe[e],(e=>{e.call(o,t,n,ct)}))},St=function(e){let t=null;if(bt("beforeSanitizeElements",e,null),At(e))return Tt(e),!0;const n=lt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:n,allowedTags:Ne}),e.hasChildNodes()&&!Nt(e.firstElementChild)&&_(/<[/\w]/g,e.innerHTML)&&_(/<[/\w]/g,e.textContent))return Tt(e),!0;if(e.nodeType===J)return Tt(e),!0;if(Me&&e.nodeType===Q&&_(/<[/\w]/g,e.data))return Tt(e),!0;if(!Ne[n]||Ce[n]){if(!Ce[n]&&wt(n)){if(we.tagNameCheck instanceof RegExp&&_(we.tagNameCheck,n))return!1;if(we.tagNameCheck instanceof Function&&we.tagNameCheck(n))return!1}if(Ge&&!Xe[n]){const t=re(e)||e.parentNode,n=oe(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=X(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,ne(e))}}}return Tt(e),!0}return e instanceof R&&!function(e){let t=re(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const n=f(e.tagName),o=f(t.tagName);return!!ot[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===et?"svg"===n:t.namespaceURI===Je?"svg"===n&&("annotation-xml"===o||pt[o]):Boolean(ht[n]):e.namespaceURI===Je?t.namespaceURI===et?"math"===n:t.namespaceURI===Qe?"math"===n&&ft[o]:Boolean(gt[n]):e.namespaceURI===et?!(t.namespaceURI===Qe&&!ft[o])&&!(t.namespaceURI===Je&&!pt[o])&&!gt[n]&&(dt[n]||!ht[n]):!("application/xhtml+xml"!==it||!ot[e.namespaceURI]))}(e)?(Tt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!_(/<\/no(script|embed|frames)/i,e.innerHTML)?(ke&&e.nodeType===Z&&(t=e.textContent,u([fe,de,he],(e=>{t=g(t,e," ")})),e.textContent!==t&&(p(o.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(Tt(e),!0)},Rt=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in r||n in st))return!1;if(ve&&!Le[t]&&_(ge,t));else if(De&&_(Te,t));else if(!Se[t]||Le[t]){if(!(wt(e)&&(we.tagNameCheck instanceof RegExp&&_(we.tagNameCheck,e)||we.tagNameCheck instanceof Function&&we.tagNameCheck(e))&&(we.attributeNameCheck instanceof RegExp&&_(we.attributeNameCheck,t)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(t))||"is"===t&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&_(we.tagNameCheck,n)||we.tagNameCheck instanceof Function&&we.tagNameCheck(n))))return!1}else if(Ve[t]);else if(_(Ae,g(n,Ee,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!$e[e]){if(Oe&&!_(ye,g(n,Ee,"")));else if(n)return!1}else;return!0},wt=function(e){return"annotation-xml"!==e&&h(e,_e)},Ct=function(e){bt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=lt(a);let p="value"===a?c:y(c);if(n.attrName=s,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,n),p=n.attrValue,Me&&_(/((--!?|])>)|<\/(style|title)/i,p)){yt(a,e);continue}if(n.forceKeepAttr)continue;if(yt(a,e),!n.keepAttr)continue;if(!xe&&_(/\/>/i,p)){yt(a,e);continue}ke&&u([fe,de,he],(e=>{p=g(p,e," ")}));const f=lt(e.nodeName);if(Rt(f,s,p)){if(!We||"id"!==s&&"name"!==s||(yt(a,e),p="user-content-"+p),ie&&"object"==typeof G&&"function"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(f,s)){case"TrustedHTML":p=ie.createHTML(p);break;case"TrustedScriptURL":p=ie.createScriptURL(p)}try{l?e.setAttributeNS(l,a,p):e.setAttribute(a,p),At(e)?Tt(e):m(o.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)},Lt=function e(t){let n=null;const o=_t(t);for(bt("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)bt("uponSanitizeShadowNode",n,null),St(n)||(n.content instanceof s&&e(n.content),Ct(n));bt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(nt=!e,nt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Nt(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!o.isSupported)return e;if(Ue||mt(t),o.removed=[],"string"==typeof e&&(Ye=!1),Ye){if(e.nodeName){const t=lt(e.nodeName);if(!Ne[t]||Ce[t])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof b)n=Et("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),r.nodeType===V&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Fe&&!ke&&!Ie&&-1===e.indexOf("<"))return ie&&ze?ie.createHTML(e):e;if(n=Et(e),!n)return Fe?null:ze?ae:""}n&&Pe&&Tt(n.firstChild);const c=_t(Ye?e:n);for(;i=c.nextNode();)St(i)||(i.content instanceof s&&Lt(i.content),Ct(i));if(Ye)return e;if(Fe){if(He)for(l=se.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(Se.shadowroot||Se.shadowrootmode)&&(l=me.call(a,l,!0)),l}let m=Ie?n.outerHTML:n.innerHTML;return Ie&&Ne["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&_(q,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),ke&&u([fe,de,he],(e=>{m=g(m,e," ")})),ie&&ze?ie.createHTML(m):m},o.setConfig=function(){mt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ue=!0},o.clearConfig=function(){ct=null,Ue=!1},o.isValidAttribute=function(e,t,n){ct||mt({});const o=lt(e),r=lt(t);return Rt(o,r,n)},o.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],p(pe[e],t))},o.removeHook=function(e){if(pe[e])return m(pe[e])},o.removeHooks=function(e){pe[e]&&(pe[e]=[])},o.removeAllHooks=function(){pe={}},o}();return ne}));
//# sourceMappingURL=purify.min.js.map

document.addEventListener("DOMContentLoaded",()=>{class e{constructor(t){this.initialize(t)}initialize(t){t=this.getAllTabPanels(t);this.selectRandomTabPanel(t)}getAllTabPanels(t){return t.querySelectorAll(".cmp-tabs__tabpanel")}selectRandomTabPanel(t){t=this.clearActiveTabPanel(t),this.setActiveRandomPanel(t)}getRandomTabPanelIndex(t){return window.crypto.getRandomValues(new Uint32Array(1))[0]%t.length}clearActiveTabPanel(t){let e=!1,a=0;for(;!e&&a<t.length;)t[a].classList.contains("cmp-tabs__tabpanel--active")&&(t[a].classList.remove("cmp-tabs__tabpanel--active"),e=!0),a++;return t}setActiveRandomPanel(t){t[this.getRandomTabPanelIndex(t)].classList.add("cmp-tabs__tabpanel--active")}}var t=esriClientUtils.selectAll(".tab-randomizer");0<t.length&&t.forEach(t=>{new e(t)})}),document.addEventListener("DOMContentLoaded",()=>{class e{constructor(t){this.initialize(t)}initialize(t){var e=this.getAllTabs(t),t=this.getAllTabPanels(t);this.moveIcons(e,t)}getAllTabs(t){return t.querySelectorAll(".cmp-tabs__tab")}getAllTabPanels(t){return t.querySelectorAll(".cmp-tabs__tabpanel")}moveIcons(a,t){a&&a.length&&t&&t.length&&Array.prototype.slice.call(t,0).forEach((t,e)=>{this.moveIcon(t,a[e])})}moveIcon(t,e){t=t.querySelector(".tab--icon");t&&e.prepend(t)}}var t=esriClientUtils.selectAll(".tab-icons");0<t.length&&t.forEach(t=>{new e(t)})}),document.addEventListener("DOMContentLoaded",()=>{class e{constructor(t){this.addAriaIcon(t)}addAriaIcon(t){var e=esriClientUtils.select(".cmp-tabs__left",t),t=esriClientUtils.select(".cmp-tabs__right",t),a=(e.setAttribute("aria-label","previous"),t.setAttribute("aria-label","next"),e.classList.add("no-hide"),t.classList.add("no-hide"),document.createElement("calcite-icon")),e=(a.setAttribute("icon","chevronLeft"),a.setAttribute("scale","m"),a.setAttribute("aria-hidden","true"),a.setAttribute("calcite-hydrated",""),e.appendChild(a),document.createElement("calcite-icon"));e.setAttribute("icon","chevronRight"),e.setAttribute("scale","m"),e.setAttribute("aria-hidden","true"),e.setAttribute("calcite-hydrated",""),t.appendChild(e)}}setTimeout(()=>{var t=document.querySelectorAll(".cmp-tabs__tablist-wrapper");0<t.length&&t.forEach(t=>{new e(t)})},500)}),document.addEventListener("DOMContentLoaded",()=>{class t{constructor(t){this.setExperienceFragmentToFullHeight(t);let e=this.createSnapScrollParent(t),a=this.createSnapScrollChildren(e);var n=this.getScrollerNavListElements(t);let i=this.createListOfScrollerNavLinkTitles(n);window.addEventListener("resize",()=>{this.createScrollerNav(e,a,t,i)}),this.createScrollerNav(e,a,t,i),this.removeAnyDownChevrons(),this.createChevronsForTabPanels(a,i),esriClientUtils.select(".section-scroller .cmp-tabs__tablist").style.opacity=1}setExperienceFragmentToFullHeight(){var t=esriClientUtils.selectAll(".experiencefragment",e);t.length&&t.forEach(t=>{t.style.height="100vh";var e=esriClientUtils.select(".calcite-container",t),a=esriClientUtils.select(".accordian",t);e&&a&&(a=a.getBoundingClientRect().height,e.style.height=t.getBoundingClientRect().height-a+"px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center")})}removeAnyDownChevrons(){esriClientUtils.selectAll("#scroll-down").forEach(t=>{t.parentNode.removeChild(t)})}createChevronsForTabPanels(a,t){var n=this.getNavThemesFromEachChild(a);for(let e=0;e<a.length-2;e++){var i=document.createElement("a"),s=(i.classList.add("chevron-down"),i.setAttribute("href","#scroll-id-"+(e+1)),i.setAttribute("data-event","track-component"),i.setAttribute("data-component-name","section-scroll-chevron"),i.setAttribute("data-component-link","Chevron - "+t[e+1]),i.onclick=function(t){t.preventDefault(),t.stopPropagation(),a[e+1].scrollIntoView({behavior:"smooth"})},n[e]||"light-text");i.setAttribute("data-theme",s),a[e].appendChild(i)}}createSnapScrollParent(t){var t=esriClientUtils.select(".cmp-tabs",t),e=esriClientUtils.select("#globalfooter");return e&&t&&t.appendChild(e),t}createSnapScrollChildren(t){t=this.getChildren(t);let s=0,l=esriClientUtils.select("#globalnav");return t.reduce((t,e)=>{var a,n,i;return"DIV"===e.tagName&&"cmp-tabs__tablist-wrapper"!=e.className&&("globalfooter"!==e.id&&(e.setAttribute("id","scroll-id-"+s),0===s&&l&&(a=l.getBoundingClientRect().height,n=e.getBoundingClientRect().height,i=esriClientUtils.select(".es-nav-wrapper"),e.style.height=i?n-a-i.getBoundingClientRect().height+"px":n-a+"px"),s++),t.push(e)),t},[])}getScrollerNavListElements(t){t=esriClientUtils.select(".cmp-tabs__tablist",t);return esriClientUtils.selectAll("li",t)}createListOfScrollerNavLinkTitles(t){return t.reduce((t,e)=>(t.push(e.innerText),t),[])}getChildren(t){return Array.from(t.childNodes)}createScrollerNav(t,n,e,i){var a=this.getNavThemesFromEachChild(n),e=(this.setInitialNavTheme(a[0]),esriClientUtils.select(".cmp-tabs__tablist",e)),e=(esriClientUtils.selectAll("li",e).forEach((t,e)=>{var a=document.createElement("a");a.setAttribute("href","#"+n[e].id),a.innerText=i[e],t.innerHTML="",t.appendChild(a)}),esriClientUtils.selectAll(".cmp-tabs__tab a",t)),s=(this.addClickListenersToLinks(e,n),this.getScrollableChildrenRanges(n));this.connectSectionScrollerNavToSnapScrollParentNode(t,s,e,a)}getNavThemesFromEachChild(t){t=t.reduce((t,e)=>{e=esriClientUtils.select("[data-theme]",e)||esriClientUtils.select(".light-mode",e)||esriClientUtils.select(".dark-mode",e);return e&&e.attributes["data-theme"]&&"undefined"!==e.attributes["data-theme"].value&&"null"!==e.attributes["data-theme"].value?t.push(e.attributes["data-theme"].value):(!e||!e.classList.contains("light-mode"))&&e&&e.classList.contains("dark-mode")?t.push("dark-text"):t.push("light-text"),t},[]);return esriClientUtils.select("#globalfooter")&&(t[t.length-1]="dark-text",t[t.length-2]="dark-text"),t}setInitialNavTheme(t){var e=esriClientUtils.select(".cmp-tabs__tablist");e&&e.setAttribute("data-theme",t||"light-text")}addClickListenersToLinks(t,n){t.forEach((t,e,a)=>{t.onclick=0===e?function(t){t.preventDefault(),t.stopPropagation(),window.scroll({top:0,left:0,behavior:"smooth"})}:function(t){t.preventDefault(),t.stopPropagation(),n[e].scrollIntoView({behavior:"smooth"})}})}getScrollableChildrenRanges(t){let l=0;return t.reduce((t,e,a,n)=>{e=e.getBoundingClientRect();let i,s;return s=0==a?(i=0-e.height/2,e.height-e.height/2):(i=l-e.height/2,l+e.height/2),l+=e.height,t.push([i,s]),t},[])}connectSectionScrollerNavToSnapScrollParentNode(t,i,s,l){let c=esriClientUtils.select(".cmp-tabs__tablist");window.onscroll=function(t){let e=!1;esriClientUtils.select(".cmp-tabs__tab--active")&&esriClientUtils.select(".cmp-tabs__tab--active").classList.remove("cmp-tabs__tab--active");for(let t=0;t<i.length&&!e;t++){var a=i[t][0],n=i[t][1];window.pageYOffset>=a&&window.pageYOffset<=n&&(s[t].parentNode.classList.add("cmp-tabs__tab--active"),e=!0,c.setAttribute("data-theme",l[t]||"light-text")),window.pageYOffset>i[i.length-2][1]&&(s[s.length-1].parentNode.classList.add("cmp-tabs__tab--active"),e=!0,c.setAttribute("data-theme",l[t]||"light-text"))}}}}let e=esriClientUtils.select(".section-scroller");e&&setTimeout(function(){new t(e)},500)}),window.coreTabs=function(t,e){let s=this,a=window.innerWidth;s.isContactPage=-1<window.location.href.indexOf("esri.com/en-us/contact")||-1<window.location.href.indexOf("esri.com/content/esri-sites/language-masters/en/contact"),s.identifier="coreTab"+e,s.container=t,s.addPaddleTabStructure=function(){var t,e,a=document.createElement("div"),n=(a.classList.add("cmp-tabs__tablist-wrapper"),esriClientUtils.select(".cmp-tabs",s.container)),i=esriClientUtils.select(".cmp-tabs__tablist",s.container);i&&((t=document.createElement("button")).classList.add("cmp-tabs__left"),(e=document.createElement("button")).classList.add("cmp-tabs__right"),a.appendChild(t),a.appendChild(i),a.appendChild(e),n.insertBefore(a,n.firstChild))},s.addPaddleTabStructure(),s.navContainer=s.container.querySelector(".cmp-tabs__tablist-wrapper"),s.nav=s.navContainer.querySelector(".cmp-tabs__tablist"),s.navTabs=s.navContainer.getElementsByClassName("cmp-tabs__tab"),s.tabSections=s.container.getElementsByClassName("cmp-tabs__tabpanel"),s.navLeft=s.navContainer.querySelector(".cmp-tabs__left"),s.navRight=s.navContainer.querySelector(".cmp-tabs__right"),s.numTabs=Number(s.navTabs.length),s.numTabs<=1&&(s.navLeft.style.display="none",s.navRight.style.display="none",s.numTabs<=0)||(s.navContainerWidth=parseInt(s.navContainer.offsetWidth,10),s.navWidth=parseInt(s.nav.offsetWidth,10),s.containerDiff=s.navContainerWidth-s.navWidth,s.cardWidth=s.navTabs.item(0).offsetWidth,s.travelDistance=2*s.cardWidth,s.isLeftMost=!0,s.isRightMost=!1,s.swipeLock=s.cardWidth*s.numTabs-s.cardWidth,s.isContactPage||(s.mapTabIdToTabText=function(){var e={};for(let t=0;t<s.navTabs.length;t++){var a=s.navTabs[t].innerText.replace(/\s+/g,"-").toLowerCase();e[s.navTabs[t].id]=a}return e},s.tabIdsToTabText=s.mapTabIdToTabText(),s.mapTabTextToTabId=function(){var t,e={};for(t in s.tabIdsToTabText)e[s.tabIdsToTabText[t]]=t;return e},s.tabTextToTabIds=s.mapTabTextToTabId()),s.setActiveTabIndex=function(){var e=decodeURI(window.location.hash).slice(1).replace(/-/g," ").toLowerCase();if(window.location.hash)if(s.isContactPage){if(document.getElementById(window.location.hash)){let t=0;for(;t<s.navTabs.length;){if(s.navTabs[t].id===window.location.hash.slice(1))return t;t++}}}else if(s.tabTextToTabIds[decodeURI(window.location.hash.slice(1))]){let t=0;for(;t<s.navTabs.length;){if(s.navTabs[t].innerText.replace(/-/g," ").toLowerCase()===e)return t;t++}}if(s.navTabs&&s.navTabs.length)for(let t=0;t<s.navTabs.length;t++)if(s.navTabs[t].classList.contains("cmp-tabs__tab--active"))return t;return 0},s.activeTabIndex=s.setActiveTabIndex(),s.nav.scrollLeft=s.cardWidth*s.activeTabIndex,s.debounce=function(n,i,s){let l;return function(){let t=this,e=arguments;var a=s&&!l;clearTimeout(l),l=setTimeout(function(){l=null,s||n.apply(t,e)},i),a&&n.apply(t,e)}},s.Resize=function(){s.Draw(!0)},s.CalculateWidths=function(){s.navContainerWidth=parseInt(s.navContainer.offsetWidth,10);for(let t=s.navWidth=0;t<s.navTabs.length;t++)s.navWidth+=s.navTabs[t].offsetWidth;s.containerDiff=s.navContainerWidth-s.navWidth},s.Draw=function(t){s.CalculateWidths();let e=!1;(e=1527<=window.innerWidth?!0:e)?6<=s.navTabs.length?s.nav.classList.add("tab-nav--fit-6-tabs"):5<=s.navTabs.length&&s.nav.classList.add("tab-nav--fit-5-tabs"):(s.nav.classList.remove("tab-nav--fit-6-tabs"),s.nav.classList.remove("tab-nav--fit-5-tabs")),s.CalculateWidths(),window.innerWidth<=480?(s.MakeVisibleActive(),s.travelDistance=s.cardWidth):window.innerWidth<=1526?(s.travelDistance=s.cardWidth,s.nav.scrollWidth<=s.navContainer.offsetWidth&&(s.nav.style.marginLeft="calc((100vw - "+s.cardWidth*s.numTabs+"px) / 2)",s.nav.style.marginRight="calc((100vw - "+s.cardWidth*s.numTabs+"px) / 2)",s.nav.style.justifyContent="center")):(s.nav.removeAttribute("style"),s.travelDistance=2*s.cardWidth),s.CalculateWidths(),0<=s.containerDiff||e?(s.navLeft.style.display="none",s.navRight.style.display="none"):(s.navLeft.style.display="block",s.navRight.style.display="block",s.CalculateWidths(),s.activeTabIndex<=0?(s.navLeft.style.display="none",s.isLeftMost=!0):s.isLeftMost=!1,s.activeTabIndex>=s.numTabs-1||s.nav.offsetWidth+s.nav.scrollLeft>=s.nav.scrollWidth?(s.navRight.style.display="none",s.isRightMost=!0):s.isRightMost=!1)},s.MakeVisibleActive=function(){setTimeout(function(){s.ActivateTab(s.activeTabIndex),s.nav.scrollLeft=s.cardWidth*s.activeTabIndex},350)},s.ActivateTab=function(t){[].forEach.call(s.navTabs,function(t){t.classList.remove("cmp-tabs__tab--active")}),[].forEach.call(s.tabSections,function(t){t.classList.remove("cmp-tabs__tabpanel--active")}),s.navTabs[t]&&s.navTabs[t].classList.add("cmp-tabs__tab--active"),s.tabSections[t].classList.add("cmp-tabs__tabpanel--active"),s.activeTabIndex=t},s.BindTabs=function(){[].forEach.call(s.navTabs,function(t,e){t.addEventListener("click",function(t){s.ActivateTab(e),s.isContactPage?(history.replaceState(null,null,"#"+s.navTabs[e].id),window.location.hash=s.navTabs[e].id):s.navTabs[e]&&(history.replaceState(null,null,"#"+s.tabIdsToTabText[s.navTabs[e].id]),window.location.hash=s.tabIdsToTabText[s.navTabs[e].id])})})},s.MoveLeft=function(){0<s.activeTabIndex&&(s.isRightMost=!1,s.nav.scrollLeft-=s.cardWidth,s.activeTabIndex--,s.isContactPage?(history.replaceState(null,null,"#"+s.navTabs[s.activeTabIndex].id),window.location.hash=s.navTabs[s.activeTabIndex].id):(history.replaceState(null,null,"#"+s.tabIdsToTabText[s.navTabs[s.activeTabIndex].id]),window.location.hash=s.tabIdsToTabText[s.navTabs[s.activeTabIndex].id]),setTimeout(function(){s.Draw()},350))},s.MoveRight=function(){s.activeTabIndex<s.numTabs-1&&(s.isLeftMost=!1,s.nav.scrollLeft+=s.cardWidth,s.activeTabIndex++,s.isContactPage?(history.replaceState(null,null,"#"+s.navTabs[s.activeTabIndex].id),window.location.hash=s.navTabs[s.activeTabIndex].id):(history.replaceState(null,null,"#"+s.tabIdsToTabText[s.navTabs[s.activeTabIndex].id]),window.location.hash=s.tabIdsToTabText[s.navTabs[s.activeTabIndex].id]),setTimeout(function(){s.Draw()},350))},(e=new Hammer(s.navContainer)).on("swipeleft",s.MoveRight),e.on("swiperight",s.MoveLeft),s.Draw(),s.navLeft.addEventListener("click",s.MoveLeft),s.navRight.addEventListener("click",s.MoveRight),window.addEventListener("resize",function(){window.innerWidth!==a&&(s.Draw(!0),s.debounce(s.Resize,100))}),s.BindTabs(),s.isContactPage)||s.tabTextToTabIds[decodeURI(window.location.hash.slice(1))]!==s.navTabs[s.activeTabIndex].id||setTimeout(()=>{s.navTabs[s.activeTabIndex]&&(document.getElementById(s.navTabs[s.activeTabIndex].id).click(),document.getElementById(s.navTabs[s.activeTabIndex].id).scrollIntoView({behavior:"smooth"}))},500)},document.addEventListener("DOMContentLoaded",function(){[].slice.call(document.querySelectorAll(".esri-tabs")).forEach(function(t,e){!t.classList.contains("section-scroller")&&esriClientUtils.select(".cmp-tabs__tablist",t)&&new coreTabs(t,e+1)})});
window.addEventListener("DOMContentLoaded",()=>{var t=document.querySelector(".cmp-toc__content");null!==t&&new class{constructor(t){var e=esriClientUtils.select("ul",t);e&&(this.findColumnSys(t),this.setClasses(e))}setTocHeight(t,e,s){e.style.height=t?s.clientHeight+"px":"auto"}findColumnSys(s){var t=s.parentNode.closest(".columnsystem");if(null!==t){t=t.nextElementSibling;if(null!==t){let e=t.querySelector('[class^="column-"');t=window.matchMedia("(min-width: 860px)");this.setTocHeight(t.matches,s,e),t.addEventListener("change",t=>{this.setTocHeight(t.matches,s,e)})}}}toggleChevron(t,e,s){var a;null!==t&&null!==(a=t.parentElement)&&null!==(a=a.parentElement.querySelector("ul"))&&(e=a),null!==t&&(t.classList.contains("expand-icon")?(t.classList.remove("expand-icon"),t.classList.add("collapse-icon"),e.classList.remove("hidden"),e.classList.add("not-hidden"),e.setAttribute("aria-hidden","false")):(t.classList.remove("collapse-icon"),t.classList.add("expand-icon"),e.classList.remove("not-hidden"),e.classList.add("hidden"),e.setAttribute("aria-hidden","true")))}toggleBackgroundHighlight(t,e){t.hasAttribute("icon")&&(t=t.parentElement),null!==e&&0<e.length&&e.forEach(t=>{t.querySelectorAll(".active").forEach(t=>{t.classList.remove("active")})}),(t.classList.contains("parent-anchor")||t.classList.contains("child-anchor"))&&t.classList.add("active")}setClasses(t){let i=[].slice.call(t.children);t.classList.add("cmp-toc__navigation"),i&&0<i.length&&i.forEach(t=>{let a=t.querySelector("ul");var e=t.querySelector("a");e.classList.add("parent-anchor"),t.classList.add("parent-list"),e.addEventListener("click",t=>{this.toggleBackgroundHighlight(t.target,i)}),null!==a?(e=document.createElement("calcite-icon"),a.classList.add("child-wrapper"),a.classList.add("hidden"),a.setAttribute("aria-hidden","true"),e.classList.add("calcite-icon"),e.classList.add("expand-icon"),e.setAttribute("icon","chevronDown"),e.setAttribute("scale","s"),t.addEventListener("click",t=>{var e=t.target;let s=!1;e.parentElement.classList.contains("no-grand-child")||(s=!0),(e.classList.contains("parent-anchor")||s)&&t.preventDefault(),this.toggleBackgroundHighlight(e,i),this.toggleChevron(t.target.querySelector("calcite-icon"),a,"child")}),e.addEventListener("click",t=>{var e=t.target.parentElement;(e.classList.contains("parent-anchor")||e.classList.contains("child-anchor"))&&t.preventDefault(),this.toggleBackgroundHighlight(e,i),this.toggleChevron(t.target,a)}),t.firstChild.prepend(e),null!==(e=a.querySelectorAll("li"))&&0<e.length&&(t.querySelector("a").classList.add("parent-anchor"),e.forEach(t=>{var e;t.querySelector("a").classList.add("child-anchor");let s=t.querySelector("ul");t.classList.add("child-list"),null!==s?(s.classList.add("grand-wrapper"),s.classList.add("hidden"),s.setAttribute("aria-hidden","true"),(e=document.createElement("calcite-icon")).classList.add("calcite-icon"),e.classList.add("expand-icon"),e.setAttribute("icon","chevronDown"),e.setAttribute("scale","s"),e.addEventListener("click",t=>{this.toggleChevron(t.target,s,"grand child")}),t.firstChild.prepend(e)):t.classList.add("no-grand-child")}))):t.classList.add("no-child")})}}(t)});
class IMG2SVG{constructor(){this.imgSVGz=[].slice.call(document.querySelectorAll("img.svg")),this.convertToSVG(this.imgSVGz)}convertToSVG(e,t){e.forEach(s=>{let t=s.getAttribute("src"),n=s.getAttribute("alt"),l=s.getAttribute("data-theme");if(-1<t.indexOf(".svg")){var[i,r,c=()=>{}]=[""+t,e=>{e=(e=e.replace(/id=\"icon-ui-svg\"/g,'id="icon-ui-svg" class="icon-ui-svg"')).replace(/id=\"icons-ui-svg\"/g,'id="icon-ui-svg" class="icon-ui-svg"');var t,i,e=(new DOMParser).parseFromString(e,"text/xml"),r=e.querySelector("svg");n&&null!==n?(i=document.createElement("title"),""!==(t=e.querySelector("svg").firstElementChild).innerHTML?(t.innerHTML=""+n,t.setAttribute("role","image")):(i.setAttribute("stroke","none"),i.setAttribute("stroke-width","1px"),i.innerHTML=""+n,i.setAttribute("role","image"),r.insertBefore(i,t))):r.setAttribute("aria-hidden","true"),l&&null!==l&&((i=e.querySelector("svg")).querySelector(".icon-ui-svg--base, .icons-ui-svg--base")&&null!=i.querySelector(".icon-ui-svg--base, .icons-ui-svg--base")&&(i.querySelector(".icon-ui-svg--base, .icons-ui-svg--base").style.fill=l),i.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary"))&&null!=i.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary")&&(i.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary").style.fill=l),null!==s.parentNode&&s.parentNode.replaceChild(e.querySelector("svg"),s)}];let e=new XMLHttpRequest;e.addEventListener("readystatechange",()=>{4===e.readyState&&(200===e.status?r(e.responseText):c())}),e.open("GET",i),e.send(),e}})}}document.addEventListener("DOMContentLoaded",()=>{class t{constructor(e){var t,i=e.querySelector(".cmp-image__image");null!==i&&null!==(e=e.querySelector(".cmp-image").getAttribute("data-asset"))&&".svg"===e.slice(-4)&&(t=new IMG2SVG,i.setAttribute("src",e),t.convertToSVG([i]))}}setTimeout(function(){var e=esriClientUtils.selectAll(".esri-image");0<e.length&&e.forEach(e=>{new t(e)})},500)});
document.addEventListener("DOMContentLoaded",()=>{function r(t){t.topLimitElmt>t.viewportMiddlePos&&t.btmLeftY>t.viewportHt&&(t.ltPaddle.removeAttribute("style"),t.rtPaddle.removeAttribute("style"),t.ltPaddle.style.top=t.topThirdPos+"px",t.rtPaddle.style.top=t.topThirdPos+"px"),t.topLimitElmt<t.viewportMiddlePos&&t.btmLimitElmt>t.viewportMiddlePos&&(t.ltPaddle.style.position="fixed",t.rtPaddle.style.position="fixed",t.ltPaddle.style.top=t.viewportMiddlePos+"px",t.rtPaddle.style.top=t.viewportMiddlePos+"px"),t.btmLimitElmt<t.viewportMiddlePos&&t.topLeftY<0&&(t.ltPaddle.removeAttribute("style"),t.rtPaddle.removeAttribute("style"),t.ltPaddle.style.top=t.btmThirdPos+"px",t.rtPaddle.style.top=t.btmThirdPos+"px")}function n(t){return{ltPaddle:t.querySelector(".cmp-carousel__action--previous"),rtPaddle:t.querySelector(".cmp-carousel__action--next"),isMobile:window.matchMedia("(max-width: 1024px)"),viewportHt:window.innerHeight,viewportMiddlePos:window.innerHeight/2,topLeftY:t.getBoundingClientRect().top,btmLeftY:t.getBoundingClientRect().bottom,carouselTallerThanViewport:t.getBoundingClientRect().bottom-t.getBoundingClientRect().top>window.innerHeight,topThirdPos:.25*(t.getBoundingClientRect().bottom-t.getBoundingClientRect().top),btmThirdPos:.75*(t.getBoundingClientRect().bottom-t.getBoundingClientRect().top),posYPadl:t.querySelector(".cmp-carousel__action--previous").getBoundingClientRect().top,topLimitElmt:t.querySelector(".topLimitElmt").getBoundingClientRect().top,btmLimitElmt:t.querySelector(".btmLimitElmt").getBoundingClientRect().top}}function c(t){i=.25*(e=t).getBoundingClientRect().height,o=.75*e.getBoundingClientRect().height,(l=document.createElement("div")).classList.add("btmLimitElmt"),l.setAttribute("style",`position: relative; top: ${o}px`),e.insertBefore(l,e.firstChild),(o=document.createElement("div")).classList.add("topLimitElmt"),o.setAttribute("style",`position: relative; top: ${i}px`),e.insertBefore(o,e.firstChild);var e,i,o,l=n(t);l.carouselTallerThanViewport&&(r(l),window.addEventListener("scroll",()=>{esriClientUtils.throttle(void r(n(t)))}))}var t=document.querySelectorAll(".esri-carousel");0<t.length&&t.forEach(t=>{var e,i,o,l,r,n;l=(o=t).querySelector(".cmp-carousel__action--next"),o=o.querySelector(".cmp-carousel__action--previous"),n=l.querySelector(".cmp-carousel__action-icon"),r=l.querySelector(".cmp-carousel__action-text"),e=o.querySelector(".cmp-carousel__action-icon"),i=o.querySelector(".cmp-carousel__action-text"),l.removeChild(n),l.removeChild(r),o.removeChild(e),o.removeChild(i),l.parentElement,(n=document.createElement("calcite-icon")).classList.add("cpm-carousel__chevronIcon-left"),l.setAttribute("appearance","solid"),l.setAttribute("scale","m"),l.setAttribute("alignment","center"),l.setAttribute("width","auto"),n.setAttribute("icon","chevronLeft"),o.appendChild(n),(r=document.createElement("calcite-icon")).classList.add("cpm-carousel__chevronIcon-right"),o.setAttribute("appearance","solid"),o.setAttribute("scale","m"),o.setAttribute("alignment","center"),o.setAttribute("width","auto"),r.setAttribute("icon","chevronRight"),l.appendChild(r),i=!!(e=t).classList.contains("top-switcher"),n=!!e.classList.contains("bottom-switcher"),(i||n)&&0<(i=e.querySelector(".cmp-carousel").querySelector(".cmp-carousel__content").querySelector(".cmp-carousel__indicators").querySelectorAll(".cmp-carousel__indicator")).length&&i.forEach(t=>{var e=document.createElement("button");e.classList.add("indicator-title"),e.setAttribute("aria-label",t.innerHTML),e.setAttribute("name",t.innerHTML),e.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(e)}),l=!!(o=t).classList.contains("top-switcher"),r=!!o.classList.contains("bottom-gradient"),l&&r&&(o.classList.remove("bottom-gradient"),o.classList.add("top-gradient")),!!!(n=t).classList.contains("esri-carousel")||n.classList.contains("calcite-theme-dark")||n.classList.contains("calcite-theme-light")||n.classList.add("calcite-theme-light"),c(t),window.addEventListener("resize",function(){c(t)})})});
document.addEventListener("DOMContentLoaded",()=>{class n{constructor(e,t){t+=1;let n=window.location.hash.slice(1),r=this.generatePanelIdToIdMap(e,"accordion",t);this.panelClick(e),r[n]&&setTimeout(()=>{document.getElementById(r[n]+"-button").click()},500),this.replaceAccordionAnchorLinks(r)}replaceAccordionAnchorLinks(n){for(let t in n)document.querySelectorAll(`[href="#${t}"]`).forEach(e=>{e.setAttribute("href","#"+n[t]),e.addEventListener("click",()=>{setTimeout(()=>{history.replaceState(null,null,"#"+t),window.location.hash=t},100)})})}getPanels(e){return[...e.querySelectorAll(".cmp-accordion__item")]}generatePanelIdToIdMap(e,r,l){return this.getPanels(e).reduce((e,t,n)=>{n=r+`-${l}-`+(n+1),t.setAttribute("attr-panel-id",n),t=t.getAttribute("id");return e[n]=t,e},{})}panelClick(e){this.getPanels(e).forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("attr-panel-id");null!==t.getAttribute("data-cmp-expanded")?(history.replaceState(null,null,"#"+e),window.location.hash=e):(history.replaceState(null,null,""),e=navigator.userAgent.toLowerCase().includes("firefox"),window.location.hash=e?"?":"")})})}}var e=document.querySelectorAll(".esri-accordion");e&&e.forEach((e,t)=>{new n(e,t)})});
class ComparisonTable{constructor(t){this.container=null,this.cards=null,this.cardHeight=0,this.breakPoint=1230,this.tabsInitiated=!1,this.navContainer=null,this.nav=null,this.navTabs=null,this.tabSections=null,this.navLeft=null,this.navRight=null,this.navContainerWidth=null,this.navWidth=null,this.containerDiff=null,this.cardWidth=286,this.travelDistance=null,this.isLeftMost=!0,this.isRightMost=!1,this.numTabs=null,this.activeTabIndex=0,this.container=t,this.cells=esriClientUtils.selectAll(".table-comparison_row-cell",this.container),this.columns=esriClientUtils.selectAll(".table-comparison_col",this.container),this.mobileHeaderWrap=esriClientUtils.select(".table-comparison_mobile-table-header",this.container),this.columnPanels=esriClientUtils.selectAll(".table-comparison_col",this.container),this.desktopColHeadWrap=esriClientUtils.select(".table-comparison_grid",this.container),this.columnInfoBlocks=esriClientUtils.selectAll(".table-comparison_col-information",this.container),this.navContainer=esriClientUtils.select(".table-comparison_mobile-tabs-wrapper",this.container),this.nav=this.container.querySelector(".table-comparison_mobile-tabs"),this.navTabs=esriClientUtils.selectAll(".table-comparison_mobile-tab",this.container),this.navLeft=this.container.querySelector(".table-comparison_mobile-tab-left"),this.navRight=this.container.querySelector(".table-comparison_mobile-tab-right"),this.navContainerWidth=parseInt(this.navContainer.offsetWidth,10),this.navWidth=parseInt(this.nav.offsetWidth,10),this.containerDiff=this.navContainerWidth-this.navWidth,this.travelDistance=2*this.cardWidth,this.numTabs=Number(this.navTabs.length),this.resize=this.resize.bind(this),this.showHidePrices=this.showHidePrices.bind(this),this.moveLeft=this.moveLeft.bind(this),this.moveRight=this.moveRight.bind(this),this.activateTab=this.activateTab.bind(this),this.showHidePrices(),this.navLeft.addEventListener("click",this.moveLeft),this.navRight.addEventListener("click",this.moveRight),this.resize(),window.addEventListener("resize",esriClientUtils.debounce(this.resize,10));t=new Hammer(this.navContainer);t.on("swipeleft",this.moveRight),t.on("swiperight",this.moveLeft)}resize(){this.draw(!0)}calculateWidths(){this.navContainerWidth=parseInt(this.navContainer.offsetWidth,10),this.navWidth=parseInt(this.nav.offsetWidth,10),this.containerDiff=this.navContainerWidth-this.navWidth}roundToTabMultiple(t){return 0<t?Math.ceil(t/this.cardWidth.toFixed(1))*this.cardWidth:t<0?Math.floor(t/this.cardWidth.toFixed(1))*this.cardWidth:0}findActiveTab(){[].forEach.call(this.navTabs,(t,i)=>{t.classList.contains("is-active")&&(this.activeTabIndex=i)})}draw(t){this.calculateWidths(),this.findActiveTab(),window.innerWidth<=480?(t?this.nav.style.left=-(this.activeTabIndex*this.cardWidth)+"px":this.makeVisibleActive(),this.travelDistance=this.cardWidth,t=(this.navContainerWidth-parseInt(this.navTabs[0].offsetWidth,10))/2,this.nav.style.paddingLeft=parseInt(t,10)+"px",this.nav.style.paddingRight=parseInt(t,10)+"px"):(window.innerWidth<=768?this.travelDistance=this.cardWidth:this.travelDistance=2*this.cardWidth,this.nav.style.paddingLeft="0px",this.nav.style.paddingRight="0px"),this.calculateWidths(),0<=this.containerDiff?(this.navLeft.classList.add("hide"),this.navRight.classList.add("hide"),this.nav.style.left=this.containerDiff/2+"px"):(this.navLeft.classList.remove("hide"),this.navRight.classList.remove("hide"),this.nav.style.left=this.nav.style.left||0,this.calculateWidths(),t=this.navContainerWidth-this.cardWidth*this.numTabs,480<window.innerWidth&&this.isRightMost&&t>parseInt(this.nav.style.left,10)&&(this.nav.style.left=t+"px"),0<=parseInt(this.nav.style.left,10)?(this.navLeft.classList.add("hide"),this.isLeftMost=!0):this.isLeftMost=!1,parseInt(this.nav.style.left,10)<=t?(this.navRight.classList.add("hide"),this.isRightMost=!0):this.isRightMost=!1),window.innerWidth>=this.breakPoint?this.drawAsTable():this.drawAsList("Yes")}makeVisibleActive(){let a=this;setTimeout(()=>{a.nav.style.left=a.nav.style.left||0,a.nav.style.paddingLeft=a.nav.style.paddingLeft||0;var e,s=a.roundToTabMultiple(parseInt(a.nav.style.left,10));[].forEach.call(a.navTabs,function(t,i){a.roundToTabMultiple(t.offsetLeft-parseInt(a.nav.style.paddingLeft,10))==Math.abs(s)&&(e=i)}),-1<e&&a.activateTab(e)},350)}drawAsTable(){this.mobileHeaderWrap.setAttribute("aria-hidden","true"),this.navContainer.setAttribute("aria-hidden","true"),this.desktopColHeadWrap.setAttribute("aria-hidden","false"),this.columnInfoBlocks.forEach(t=>{t.setAttribute("aria-hidden","true")});var t=esriClientUtils.selectAll(".table-comparison_col:nth-child(1) .table-comparison_row-cell",this.container).length;for(let i=0;i<t;i++){var e=[];for(let t=0;t<this.columns.length;t++)e.push(esriClientUtils.select(`.table-comparison_col:nth-child(${t+1}) .table-comparison_row-cell:nth-child(${i+1})`,this.container));var s=0;e.forEach(t=>{t.style.height="auto",s<t.offsetHeight&&(s=t.offsetHeight)}),e.forEach(t=>{t.style.height=s+"px"})}this.bindTabs(!1)}drawAsList(){this.mobileHeaderWrap.setAttribute("aria-hidden","false"),this.navContainer.setAttribute("aria-hidden","false"),this.desktopColHeadWrap.setAttribute("aria-hidden","true"),this.columnInfoBlocks.forEach(t=>{t.setAttribute("aria-hidden","false")}),this.cells.forEach(t=>{t.style.height="auto"}),this.columns.forEach(t=>{esriClientUtils.selectAll("[data-row-type-checkicon],[data-row-type-custom]",t).forEach(function(t,i){(i+1)%2&&t.classList.add("odd-list-item")})}),this.bindTabs(!0)}bindTabs(t){let s=this;if(t)if(s.tabsInitiated){let e=0;s.navTabs.forEach((t,i)=>{t.classList.contains("is-active")&&(e=i)}),s.activateTab(e)}else s.tabsInitiated=!0,s.navTabs.forEach((t,i)=>{t.addEventListener("click",function(){s.activateTab(i)})}),s.activateTab(0);else s.navTabs.forEach((t,i)=>{t.removeEventListener("click",function(){s.activateTab(i)})}),s.columnPanels.forEach(t=>{t.setAttribute("aria-hidden","false")})}activateTab(t){this.navTabs.forEach(t=>{t.classList.remove("is-active")}),this.navTabs[t].classList.add("is-active"),this.columnPanels.forEach(t=>{t.setAttribute("aria-hidden","true")}),this.columnPanels[t+1].setAttribute("aria-hidden","false")}moveLeft(){this.nav.style.left=this.nav.style.left||0,this.isRightMost=!1;let t=parseInt(this.nav.style.left,10)+this.travelDistance;0<t&&(t=0,this.isLeftMost=!0),this.nav.style.left=t+"px",this.draw()}moveRight(){this.nav.style.left=this.nav.style.left||0,this.isLeftMost=!1;let t=parseInt(this.nav.style.left,10)-this.travelDistance;480<window.innerWidth&&t<this.navContainer.offsetWidth-this.cardWidth*this.numTabs&&(t=this.navContainer.offsetWidth-this.cardWidth*this.numTabs,this.isRightMost=!0),this.nav.style.left=t+"px",this.draw()}showHidePrices(){"object"==typeof geoip2&&geoip2.country(t=>{"US"==t.country.iso_code&&esriClientUtils.selectAll(".table-comparison_geo-sensitive--US-show").forEach(t=>{t.style.display="block"})},t=>{})}}document.addEventListener("DOMContentLoaded",t=>{let i=()=>{esriClientUtils.selectAll(".table-comparison").forEach(t=>{new ComparisonTable(t)})};i(),[].slice.call(document.querySelectorAll(".tabbed-content-switcher")).forEach(t=>{t&&(t=[].slice.call(t.querySelectorAll("button.tab-title:not(.table-comparison_mobile-tab)")))&&t.length&&t.forEach(function(t){t.addEventListener("click",function(){i()})})})});
(()=>{"use strict";function t(){new class{constructor(){if(this.rgbBoxShadow="",this.shadowboxOpacity="0.60",this.locNavNode=document.querySelector("#second-nav"),this.localNavArr=[].slice.call(document.querySelectorAll(".local-navigation")),this.codeLang="",this.currentURL=this.removePathExt(window.location.pathname),this.designThemeColor="0079c1",this.newNavObj={},this.localNavTheme="",this.langCodeAPI="/bin/esri/getlanguagecode",this.isVerDocParam=!1,this.versionNum="",null!=this.locNavNode&&this.localNavArr.length>0){let t=document.querySelector("html")?document.querySelector("html").getAttribute("lang"):"en",e=[].slice.call(document.querySelectorAll("nav"));e.length>0&&this.findVersionAttr(e),"en"!==t&&2==t.length?this.find4CharLangCode(t):this.buildRequest(),this.locNavNode.hasAttribute("path")||this.enableMobileBtn()}}enableMobileBtn(){let t=document.querySelector(".nav-menu-title"),e=document.querySelector(".nav-submenu"),a=document.querySelector(".nav-menu-title");t&&e&&t.addEventListener("click",(t=>{"false"==e.getAttribute("aria-hidden")?(e.setAttribute("aria-hidden","true"),a.setAttribute("data-local-expanded","false")):(e.setAttribute("aria-hidden","false"),a.setAttribute("data-local-expanded","true"))}))}findVersionAttr(t){t.forEach((t=>{if(t.hasAttribute("version")){let e=t.getAttribute("version");null!==e&&e.length>0&&(this.isVerDocParam=!0,this.versionNum=e)}}))}updateNavTypeAttr(t){let e=this.locNavNode.getAttribute("path"),a=new RegExp("([/][a-z][^n][/])"),i=null!=a.exec(e)?a.exec(e):null;e&&null!=e&&null!=i&&(e=e.replace(i[0],t),this.locNavNode.setAttribute("path",e))}buildRequest(){let t="",e="/bin/esri/localnavigation",a=this.locNavNode.getAttribute("domain")?this.locNavNode.getAttribute("domain"):"";if("newNavigation"==this.locNavNode.getAttribute("navtype")){let i=this.locNavNode.getAttribute("path");"browserPath"==this.locNavNode.getAttribute("path")||(this.newNavObj=this.configureNewNav()),t=`${a}${e}?path=${i}`}else this.existingPath=this.removePathExt(this.locNavNode.getAttribute("path")),t=`${a}${e}?path=${this.existingPath}`;this.getJSONData(t)}find4CharLangCode(t){let e="",a=`${"http://localhost:4502"==window.location.protocol+"//"+window.location.host?"https://aem-dev.esri.com/":"https://www.esri.com"}${this.langCodeAPI}?lang=${t}`,i=new XMLHttpRequest;i.open("GET",a),i.responseType="text",i.send(),i.addEventListener("readystatechange",(()=>{4==i.readyState&&200==i.status&&(e=i.response?i.response:"en",this.updateNavTypeAttr("/"+e+"/"),this.buildRequest())}))}checkForColorTheme(){let t=!1;if([].slice.call(document.querySelectorAll("meta")).forEach((e=>{"color theme"===e.getAttribute("name")&&(this.localNavTheme=e.getAttribute("content"),""!=this.localNavTheme&&(t=!0))})),!t){let t="localColorTheme",e=document.head||document.getElementsByTagName("head")[0],a=document.getElementById(t)||document.createElement("style");a.id=t,a.hasChildNodes()||(a.innerHTML+=":root { --theme-color: #"+this.designThemeColor+"; } "),e.appendChild(a)}}configureNewNav(){let t={};return t.titletext=this.locNavNode.getAttribute("titletext"),t.titlelink=this.locNavNode.getAttribute("titlelink"),t.triallabel=this.locNavNode.getAttribute("triallabel"),t.triallink=this.locNavNode.getAttribute("triallink"),t}drawTertiaryElmt(t,e,a){return(t=[].slice.call(t)).forEach((t=>{let i=document.createElement("li");i.setAttribute("class","teritem");let r=document.createElement("a");r.setAttribute("href",t.pageLink),r.setAttribute("class","es-nav-terlink arrowStyleLocal"),r.setAttribute("aria-describedby",a),r.setAttribute("data-event","track-component"),r.setAttribute("data-component-name","Local Navigation"),r.setAttribute("data-component-link",`${a} - ${t.pageTitle}`),r.setAttribute("data-component-link-type","text"),r.innerHTML+=t.pageTitle,i.appendChild(r),e.appendChild(i)})),e}resetDropdowns(t){[].slice.call(t.querySelectorAll(".nav-subitem")).forEach((t=>{let e=t.childNodes[0],a=t.childNodes[1];null!=a&&(e.setAttribute("data-local-expanded","false"),a.setAttribute("aria-hidden","true"))}))}findParent(t){let e=t.split("/");return e.pop(),e.join("/")}drawSecondary(t){let e="",a=!1,i=document.createElement("li");i.setAttribute("class","nav-subitem"),i.setAttribute("id","item-"+t.pageTitle.replace(/ /g,"-"));let r=null==t.subnavItems||"true"===t.tertiary?document.createElement("a"):document.createElement("button");if(r.setAttribute("class","es-nav-sublink-local"),r.setAttribute("aria-controls","subitem-menu-"+t.pageTitle),r.setAttribute("id",t.pageTitle.replace(/ /g,"-")),r.setAttribute("data-event","track-component"),r.setAttribute("data-component-name","Local Navigation"),r.setAttribute("data-component-link",t.pageTitle),t.tertiary?r.setAttribute("data-component-link-type","button"):r.setAttribute("data-component-link-type","text"),this.currentURL&&(e=this.findParent(this.currentURL)),null!=t.subnavItems){if("false"==t.tertiary)r.setAttribute("aria-label",t.pageTitle+"-Click to open sub navigation items"),r.setAttribute("aria-current","true"),r.setAttribute("data-local-expanded",t.tertiary);else if("true"==t.tertiary){r.removeAttribute("aria-controls"),t.subnavItems.forEach((t=>{(this.removePathExt(t.redirect)===this.currentURL||this.removePathExt(t.redirect).replace(/^\/content\/esri-sites/,"")===this.currentURL||this.currentURL.includes(t.wildcard)&&t.wildcard.length>0)&&(a=!0)})),r.setAttribute("href",t.pageLink),r.setAttribute("data-tertiary","true"),r.setAttribute("aria-current","true")}}else r.removeAttribute("aria-controls"),r.setAttribute("href",t.pageLink);if(this.removePathExt(t.pageLink)===e||a?(r.setAttribute("attr-parent","true"),r.setAttribute("aria-current","true")):r.removeAttribute("attr-parent"),this.removePathExt(t.pageLink)===this.currentURL)r.setAttribute("aria-current","true"),"true"==t.tertiary&&r.setAttribute("data-tertiary","true");else if(null!=t.tertiary){let e=[].slice.call(t.subnavItems),i=!1;e.forEach((t=>{let e=this.removePathExt(t.pageLink).split("/"),n=e[e.length-1],l=e[e.length-2],s=this.currentURL,o=s.split("/"),d=o[o.length-1],c=o[o.length-2];d!==n&&d!==this.removePathExt(n)||c!==l||(i=!0),s.includes(l)&&r.setAttribute("aria-current","true"),r.removeAttribute("aria-current"),(i||a)&&r.setAttribute("aria-current","true")}))}else{r.removeAttribute("aria-current");let e=window.location.href;t.redirect===e&&r.setAttribute("aria-current","true")}if(r.innerHTML+=t.pageTitle,i.appendChild(r),i.addEventListener("click",(t=>{t.stopPropagation();let e=t.target,a=e.parentNode,i=e.parentNode.parentNode,r=a.childNodes[1];if(null!=r){t.preventDefault();let a=e.getAttribute("data-local-expanded"),n=e.getAttribute("id");"true"!=a&&this.resetDropdowns(i),"false"==e.getAttribute("data-local-expanded")?(e.setAttribute("is-active","true"),e.setAttribute("aria-label",n+"-Click to close sub navigation items"),e.setAttribute("data-local-expanded","true"),r.setAttribute("aria-hidden","false")):(e.setAttribute("is-active","false"),e.setAttribute("aria-label",n+"-Click to open sub navigation items"),e.setAttribute("data-local-expanded","false"),r.setAttribute("aria-hidden","true"))}})),document.addEventListener("click",(t=>{if(!i.contains(t.target)){let t=i.querySelector(".subitem-menu"),e=i.querySelector(".es-nav-sublink-local");t&&e&&(t.setAttribute("aria-hidden","true"),e.setAttribute("data-local-expanded","false"),e.setAttribute("is-active","false"),e.setAttribute("aria-label",e.getAttribute("id")+"-Click to open sub navigation items"))}})),t.subnavItems){let e=t.subnavItems;if("false"==t.tertiary){let a=document.createElement("div");a.setAttribute("class","subitem-menu"),a.setAttribute("aria-hidden","true"),a.setAttribute("role","region"),a.setAttribute("id","subitem-menu-"+t.pageTitle);let r=document.createElement("ul");r.setAttribute("class","terlist"),r.setAttribute("aria-labelledby",t.pageTitle);let n=this.drawTertiaryElmt(e,r,t.pageTitle);a.appendChild(n),i.appendChild(a)}}return i}wildCard(t){let e=!0,a=t.wildcard,i=a.split("/"),r=i.length-1;"/"!=a.charAt(0)&&(a="/"+t.wildcard,i=a.split("/"),r++);let n=this.currentURL.split("/"),l=n.length-1;for(let t=r;t>0;t--)n[l]!=i[t]&&(e=!1),l--;return e}drawrTertiaryDropDown(t){let e=document.createElement("li"),a=t.wildcard;0==t.wildcard.length&&(a=null);let i=!1,r=!1;i=this.removePathExt(t.redirect).includes(a),r=this.currentURL.includes(a),e.setAttribute("class","ternav-menu-item"),e.setAttribute("aria-current","false"),(this.removePathExt(t.pageLink)===this.currentURL||this.removePathExt(t.redirect)===this.currentURL&&i||this.currentURL.includes(a)||this.removePathExt(t.redirect).replace(/^\/content\/esri-sites/,"")===this.currentURL&&i)&&e.setAttribute("aria-current","true");let n=document.createElement("a");n.setAttribute("class","ternav-menu-item-link"),n.setAttribute("data-event","track-component"),n.setAttribute("data-component-name","Local Navigation"),n.setAttribute("data-component-link",`Subnav - ${t.pageTitle}`),n.setAttribute("data-component-link-type","text");let l=this.wildCard(t);return""!=t.redirect?(this.isVerDocParam&&(t.redirect=t.redirect.replace("latest",this.versionNum)),n.setAttribute("href",t.redirect),n.setAttribute("aria-current","true")):n.setAttribute("href",t.pageLink),l?(n.setAttribute("is-Active","true"),e.setAttribute("is-Active","true")):(n.removeAttribute("is-Active"),e.removeAttribute("is-Active")),n.innerHTML+=t.pageTitle,e.appendChild(n),e}drawMainTitle(t,e,a){let i=document.createElement("div");i.setAttribute("class",`nav-${e}`),i.setAttribute("id",`nav-${e}`);let r=document.createElement("a");return r.setAttribute("class",`nav-${a}`),r.setAttribute("data-event","track-component"),r.setAttribute("data-component-name","Local Navigation"),r.setAttribute("data-component-link-type","text"),r.setAttribute("data-component-link",t.title),"#"==t?(r.innerHTML+="",r.setAttribute("href",t)):t[e]?(r.innerHTML+=t[e],r.setAttribute("href",t[a]),r.setAttribute("data-component-link-type","button"),r.setAttribute("data-component-link",t[e])):null!=t.titletext&&(r.innerHTML+=t.titletext,r.setAttribute("href",t.titlelink)),r.addEventListener("keyup",(t=>{let e=t.target;this.resetDropdowns(e.parentNode.parentNode)})),i.appendChild(r),i}appendNavToDOM(t){console.info("%cJSON: ","style: colorx: blue;",t);let e=document.getElementById("second-nav"),a=!1,i="",r={},n={},l={},s={},o={},d={hasMain:!1,mainPos:0,colorTheme:"",hasPageTitle:!1};for(let e=0;e<t.length;e++)for(const[a,i]of Object.entries(t[e]))"main"==`${a}`&&(d.mainPos=e,d.hasMain=!0),"designTheme"==`${a}`&&(d.colorTheme=""==d.colorTheme?i:d.colorTheme,this.designThemeColor=d.colorTheme),"pageTitle"==`${a}`&&(d.hasPageTitle=!0);if(e&&null!=e){if(n=document.createElement("nav"),n.setAttribute("class","second-nav calcite-theme-dark calcite-mode-dark"),n.setAttribute("id","second-nav"),n.setAttribute("aria-label","Main"),n.setAttribute("data-local-expanded","false"),d.hasMain)if(null!=t[d.mainPos]){let e=t[d.mainPos].main,a=Object.keys(e);if(a.length>=2&&""==e.title&&""==e.titlelink){let t=this.drawMainTitle(this.newNavObj,"title","titlelink");n.appendChild(t)}else{let t=this.drawMainTitle(e,a[0],a[1]);n.appendChild(t)}}else if(null!=this.newNavObj.titletext&&null!=this.newNavObj.titlelink){let t=this.drawMainTitle(this.newNavObj,"title","titlelink");n.appendChild(t)}else{let t=this.drawMainTitle("#","title","titlelink");n.appendChild(t)}if(d.hasPageTitle){let e=document.createElement("div");e.setAttribute("class","nav-menu");let r=document.createElement("button");r.setAttribute("class","nav-menu-title"),r.setAttribute("href","#");let s=document.createElement("span");s.setAttribute("class","assistText"),s.innerHTML+="Menu";let d=document.createElement("div");d.setAttribute("class","nav-submenu"),o=document.createElement("ul"),o.setAttribute("class","nav-sublist"),o.setAttribute("aria-labelledby","nav-title"),this.checkForColorTheme(),(t=[].slice.call(t)).forEach((t=>{if(null!=t.pageTitle){let e=this.drawSecondary(t);if("true"==t.tertiary){let e=[].slice.call(t.subnavItems);this.removePathExt(t.pageLink)===this.currentURL&&(a=!0,l=t.subnavItems,i=t.pageTitle),e.forEach((e=>{let r=!!this.currentURL.includes(e.wildcard)&&this.currentURL.includes(e.wildcard);null!=e.wildcard&&e.wildcard.length>0&&r&&(a=!0,i=e.pageTitle,l=t.subnavItems),this.removePathExt(e.redirect)===this.currentURL||this.removePathExt(e.redirect).replace(/^\/content\/esri-sites/,"")===this.currentURL?(a=!0,i=e.pageTitle,l=t.subnavItems):this.removePathExt(e.pageLink)===this.currentURL&&(a=!0,i=t.pageTitle,l=t.subnavItems)}))}o.appendChild(e)}})),d.appendChild(o),r.appendChild(s),e.appendChild(r),e.appendChild(d),n.appendChild(e),r.addEventListener("click",(t=>{let a=e.parentNode;"false"==a.getAttribute("data-local-expanded")?(a.setAttribute("data-local-expanded","true"),d.setAttribute("aria-hidden","false")):(a.setAttribute("data-local-expanded","false"),d.setAttribute("aria-hidden","true"))})),document.addEventListener("click",(t=>{let a=d.contains(t.target),i=e.contains(t.target);if(!a&&!i&&d&&e){"false"==d.getAttribute("aria-hidden")&&d.setAttribute("aria-hidden","true"),e.parentNode.setAttribute("data-local-expanded","false")}}))}if(null!=t[0].main){let e=Object.keys(t[0].main);if(4==e.length&&""!=t[0].main.triallabel){let a=this.drawMainTitle(t[0].main,e[2],e[3]);r=this.drawMainTitle(t[0].main,e[2],e[3]),a.id=a.id+"-desktop",n.appendChild(a),o.appendChild(r)}}else if(null!=this.newNavObj.triallabel&&null!=this.newNavObj.triallink&&""!=this.newNavObj.triallabel){let t=this.drawMainTitle(this.newNavObj,"triallabel","triallink");t.id=t.id+"-desktop",r=this.drawMainTitle(this.newNavObj,"triallabel","triallink"),n.appendChild(t),o.appendChild(r)}}if(a){n.style.boxShadow="none",s=document.createElement("div"),s.setAttribute("class","third-nav-bar calcite-theme-dark calcite-mode-dark");let t=document.createElement("button");t.setAttribute("class","third-nav-title"),t.setAttribute("data-local-expanded","false"),t.setAttribute("href","#"),t.innerHTML+=i;let a=document.createElement("span");a.setAttribute("class","assistText"),a.innerHTML+="";let r=document.createElement("div");r.setAttribute("class","grid-container-small");let o=document.createElement("nav");o.setAttribute("class","third-nav-bar-container"),o.setAttribute("aria-hidden","false"),o.setAttribute("aria-label","Tertiary Navigation");let d=document.createElement("ul");d.setAttribute("class","third-nav-menu"),l=[].slice.call(l),l.forEach((t=>{if("false"==t.hideInTertiaryNav){let e=this.drawrTertiaryDropDown(t);d.appendChild(e)}})),t.addEventListener("click",(e=>{"false"==o.getAttribute("aria-hidden")?(o.setAttribute("aria-hidden","true"),t.setAttribute("data-local-expanded","false")):(o.setAttribute("aria-hidden","false"),t.setAttribute("data-local-expanded","true"))})),o.appendChild(d),r.appendChild(o),t.appendChild(a),s.appendChild(t),s.appendChild(r),e.insertAdjacentElement("afterEnd",s)}e.insertAdjacentElement("afterEnd",n),e.parentNode.removeChild(e)}getJSONData(t){let e={},a=new XMLHttpRequest;a.open("GET",t),a.responseType="text",a.send(),a.addEventListener("readystatechange",(()=>{if(4==a.readyState&&200==a.status)if(e=JSON.parse(a.responseText),e.length>0){this.appendNavToDOM(e),[].slice.call(document.querySelectorAll(".es-nav-terlink")).forEach((t=>{this.applyThemeArrow(t)})),this.addCaratStyles()}else console.warn("Local Nav Component: Invalid Navigation Path")})),a.onerror=function(){console.warn("Invalid URL:",url)}}getHostName(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=e&&e.length>2&&"string"==typeof e[2]&&e[2].length>0?e[2]:null}removePathExt(t){if(null!==t){t.indexOf("html")>-1&&(t=t.slice(0,-5)),"/"!=t[0]&&(t=`/${t}`);let e=this.getHostName(t);if(null!=e){return t.replace(/^\/?https?:\/\/w*[.]?/,"").replace(e,"")}return t}}styleString(t,e,a,i){return`${e}${t}]:${a} ${i}`}addCaratStyles(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.id="LocalNavStyles";var a="@media(min-width:976px) { .es-nav-sublink-local[aria-controls][data-local-expanded=",i="{ content: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 25' width='10' height='25'%3E%3Cpath fill='%23"+this.designThemeColor+"' d='M 0 0 14 0 7 7' /%3E%3C/svg%3E\"); } }";e.innerHTML+=this.styleString("true",a,"after",i),e.innerHTML+=this.styleString("false",a,"hover::after",i),e.innerHTML+=this.styleString("true",a,"not(:hover)::after",i),e.innerHTML+=this.styleString("true",a,"hover::after",i),t.appendChild(e);var r=document.createElement("style");r.id="LocalNavMediaQueries",r.innerHTML+="@media(min-width:976px) { .es-nav-sublink-local[aria-controls]:after { content: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 25' width='10' height='25'%3E%3Cpath fill='%23ffffff' d='M 0 0 14 0 7 7' /%3E%3C/svg%3E\"); } }",r.innerHTML+="@media(min-width:976px) { .es-nav-sublink-local[aria-controls=true][data-local-expanded]:hover::after { content: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 25' width='10' height='25'%3E%3Cpath fill='%23"+this.designThemeColor+"' d='M 0 0 14 0 7 7' /%3E%3C/svg%3E\") !important; } }",r.innerHTML+="@media(min-width:976px) { .es-nav-sublink-local[aria-controls][data-local-expanded=true]:after { content: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 14 25' width='10' height='25'%3E%3Cpath fill='%23"+this.designThemeColor+"' d='M 0 0 14 0 7 7' /%3E%3C/svg%3E\") !important; } }",r.innerHTML+="@media(min-width:976px) { .es-nav-sublink-local:not([data-local-expanded=true]):hover { box-shadow: inset 0 -3px 0 0 "+this.rgbBoxShadow+"; } }",r.innerHTML+="@media(min-width:976px) { .es-nav-sublink-local[aria-current=true]:not([data-local-expanded=true]) { box-shadow: inset 0 -3px 0 0 #"+this.designThemeColor+"; } }",r.innerHTML+=".ternav-menu-item[aria-current=true] a { box-shadow: inset 0 -3px 0 0 #"+this.designThemeColor+"; } ",r.innerHTML+=".ternav-menu-item:hover { box-shadow: inset 0 -3px 0 0 #"+this.designThemeColor+"80 !important; } ",r.innerHTML+="@media(min-width:860px) { .ternav-menu-item[aria-current=false]:hover { box-shadow: inset 0 -3px 0 0 #"+this.designThemeColor+"80 !important; } }",r.innerHTML+=".es-nav-terlink { background-image: linear-gradient(90deg, #"+this.designThemeColor+" 50%, #3f3f3f 0); } !important",r.innerHTML+="@media(min-width:976px) { button.es-nav-sublink-local[aria-current=true]:not([data-local-expanded=true]) { box-shadow: inset 0 -3px 0 0 "+this.rgbBoxShadow+"; } }",t.appendChild(r);var n=document.createElement("style");n.innerHTML+=":root {--secondarytheme-color: #"+this.designThemeColor+";--secondarycustom-theme-color: #"+this.designThemeColor+";--secondarytheme-color60: #"+this.designThemeColor+"80;}",t.appendChild(n)}hexToRgb(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,a,i)=>"#"+e+e+a+a+i+i)).substring(1).match(/.{2}/g).map((t=>parseInt(t,16)))}dropdownArrow(t,e,a,i){var r=`${t}Local`,n=document.head||document.getElementsByTagName("head")[0],l=document.getElementById(r)||document.createElement("style");l.id=r;var s=`${t}Local`;return this.className+=" "+s,l.hasChildNodes()||(l.innerHTML+=" ."+s+":"+e+"{"+a+":"+i+"}"),n.appendChild(l),this}applyThemeArrow(){this.hexToRgb("#"+this.designThemeColor),this.rgbBoxShadow="rgba("+this.hexToRgb("#"+this.designThemeColor)+`,${this.shadowboxOpacity})`,this.dropdownArrow("arrowStyle","after","content","url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' width='16' height='16'%3E%3Cpath fill='%23"+this.designThemeColor+"' d='M8 14.3l5.3-5.3H0V8h13.3L8 2.7V1.3L15.2 8.5 8 15.7V14.3z' /%3E%3C/svg%3E\");")}}}"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",(function(){t()}))})();
(()=>{"use strict";const e=new class{debounce(e,t){let i;return function(){clearTimeout(i),i=setTimeout((()=>e.apply(this,arguments)),t)}}throttle(e,t){let i,a;return()=>{const s=this,n=arguments;a?(clearTimeout(i),i=setTimeout((()=>{Date.now()-a>=t&&(e.apply(s,n),a=Date.now())}),t-(Date.now()-a))):(e.apply(s,n),a=Date.now())}}triggerEvent(e,t,i){let a,s=i;s||(s={detail:{message:"Custom Event",time:new Date},bubbles:!0,cancelable:!0}),window.CustomEvent&&"function"==typeof window.CustomEvent?a=new window.CustomEvent(t,s):(a=document.createEvent("CustomEvent"),a.initCustomEvent(t,!0,!0,s)),e.dispatchEvent(a)}select(e,t){if("string"==typeof e||e instanceof String){let i;return i=t?t.querySelector(e):document.querySelector(e),i}return console.error("Problem: esriClientUtils.select() requires that the sizzle value passed in is a string."),null}selectAll(e,t){if("string"==typeof e||e instanceof String){let i;return i=t?t.querySelectorAll(e):document.querySelectorAll(e),[].slice.call(i)}return console.error("Problem: esriClientUtils.selectAll() requires that the sizzle value passed in is a string."),[]}findAncestor(e,t){let i=e;for(;(i=i.parentElement)&&!i.classList.contains(t););return i}getOffset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+a,left:t.left+i}}fadeOut(e,t){let i=1;const a=window.setInterval((()=>{i<=.1&&(window.clearInterval(a),e.style.display="none",t&&t()),e.style.opacity=i,e.style.filter=`alpha(opacity=${100*i})`,i-=.1*i}),10)}};var t;window.esriClientUtils=e,document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){const t=e.getAttribute("channelid");this.channelObj={},this.playlistsObj={},this.playlistsCount=0,this.videosMaxPage=15,this.videoEntries=[],this.defaultSortData=[],this.defaultVideoEntries=[],this.mediaStartIndexGrid=0,this.mediaEndIndexGrid=0,this.mediaStartIndexDetailed=0,this.mediaEndIndexDetailed=0,this.mediaStartIndexCollapsed=0,this.mediaEndIndexCollapsed=0,this.searchDuration=[],this.searchDate=[],this.kalturaObjInit=[],this.searchStrGlobal={},this.searchStrGlobal.value="",this.filterVAL={},this.filterVALUE="",this.productVersion=!1,this.searchYear=!1,this.searchYearValue="",this.searchProductValue="",this.afterDays=this.getLastDays("01/01/1901"),this.beforeDays=this.getLastDays(this.getCurrentDateMMDDYYYY()),null!==t&&this.consumeAPIforFrontend(e,t)}consumeAPIforFrontend(e,t){const i=`Kaltura: Channel ID contains no entries. View payload https://kaltura-api-proxy.esri.com/getChannel?channelId=${t}`;t&&this.getChannelObj(t).then((t=>{const a=t;!0===a.success&&t.media[0].hasOwnProperty("playlists")&&t.media[0].hasOwnProperty("entries")?this.createHomeAndMedia(e,t):!0===a.success&&!t.media[0].hasOwnProperty("playlists")&&t.media[0].hasOwnProperty("entries")?this.createOnlyMedia(e,t):(this.networkMsg(i),console.warn(i))})).catch((e=>{this.networkMsg(e),console.error(e)})),t&&this.getChannelObj(t).then((e=>{this.defaultSortData=e})).catch((e=>{this.networkMsg(e),console.error(e)}))}initFilterView(e,t){const i=window.matchMedia("screen and (min-width: 480px)"),a=window.matchMedia("screen and (min-width: 767px)"),s=window.matchMedia("screen and (min-width: 1440px)"),n=(esriClientUtils.select(".channel-playlist--clear-all-container"),esriClientUtils.select(".channel-playlist__more-container"),esriClientUtils.select(".channel-playlist--clear-all-container-background")),r=esriClientUtils.select(".channel-playlist__button-filter"),l=esriClientUtils.select(".channel-playlist__button-sort"),c=r.getAttribute("aria-expanded"),o=esriClientUtils.select(".channel-playlist__more-filter-btn"),d=esriClientUtils.select(".channel-playlist__more-back-btn");s.matches?(d.setAttribute("disabled",""),o.setAttribute("disabled","")):o.removeAttribute("disabled"),a.matches&&"true"===c&&n.setAttribute("aria-hidden","false"),i.matches?(l.setAttribute("scale","l"),r.setAttribute("scale","l")):(l.setAttribute("scale","m"),r.setAttribute("scale","m")),a.matches?(e.classList.contains("desktop")||e.classList.add("desktop"),t.forEach((e=>{e.classList.contains("open")||e.classList.add("open")}))):(e.classList.contains("desktop")&&e.classList.remove("desktop"),t.forEach((e=>{e.classList.contains("open")&&e.classList.remove("open")})))}initializeFilterDialog(){const e=esriClientUtils.selectAll(".channel__filter-column"),t=e[0].parentNode.parentNode;this.initFilterView(t,e),window.addEventListener("resize",(()=>{esriClientUtils.debounce(this.initFilterView(t,e),200)}),!0),this.searchDuration[0]=!0;for(let e=1;e<=3;e++)this.searchDuration[e]=!1;this.searchDate[0]=!0;for(let e=1;e<=3;e++)this.searchDate[e]=!1}createHomeAndMedia(e,t){this.createChannelNPlaylist(t),this.channelObj.totalChannelVideoCount=t.media[0].directEntriesCount,this.initializeFilterDialog(e),this.addClickToNav(e),this.createHomeView(e),this.createMediaViews(e,t.media[0].entries),this.videoEntries=t.media[0].entries,this.defaultVideoEntries=t.media[0].entries,this.addClickToViews(e),this.enableSearch(e),this.enableFilterSearch(e)}createOnlyMedia(e,t){const i=document.querySelector("[attr-home]"),a=document.querySelector("[attr-media]"),s=document.getElementsByClassName("channel-container-home")[0],n=document.getElementsByClassName("channel-container-media")[0];this.initializeFilterDialog(e),n.setAttribute("attr-visible",!0),a.classList.add("active"),s.remove(),i.remove(),this.channelObj.totalChannelVideoCount=t.media[0].directEntriesCount,this.addClickToNav(e),this.createMediaViews(e,t.media[0].entries),this.videoEntries=t.media[0].entries,this.defaultVideoEntries=t.media[0].entries,this.addClickToViews(e),this.enableSearch(e),this.enableFilterSearch(e)}convertTimeFormat(e){const t=~~(e/3600),i=~~(e%3600/60),a=~~e%60;let s="";return t>0&&(s+=`${t}:${i<10?"0":""}`),s+=`${i}:${a<10?"0":""}`,s+=`${a}`,s}convertToMedia(e){const t=Object.values(e.split("/"));return/\d{1}_[a-z0-9]{8}$/.test(t[9])?`https://mediaspace.esri.com/embed/secure/iframe/entryId/${t[9]}/uiConfId/49806163&co3=true`:""}navigationMain(e,t,i,a,s){!0===e?(t.setAttribute("attr-visible",!0),i.setAttribute("attr-visible",!1),a.classList.add("active")):(a.classList.add("active"),s.classList.remove("active"),t.setAttribute("attr-visible",!0),i.setAttribute("attr-visible",!1))}viewAction(e,t){null!==e&&e.length>0&&e.forEach((e=>{t?e.removeAttribute("attr-visible"):e.setAttribute("attr-visible",t)}))}descendingSort(){return this.videoEntries.sort(((e,t)=>{const i=new Date(e.createdAt);return new Date(t.createdAt)-i}))}ascendingSort(){return this.videoEntries.sort(((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)))}azSort(){return this.videoEntries.sort(((e,t)=>{const i=e.name.toLowerCase(),a=t.name.toLowerCase();return i<a?-1:i>a?1:0}))}zaSort(){return this.videoEntries.sort(((e,t)=>{const i=e.name.toLowerCase(),a=t.name.toLowerCase();return i>a?-1:i<a?1:0}))}clearMediaViewBeforeSort(){esriClientUtils.select(".channel-playlist--media-grid").textContent=""}hideRevelanceDropdown(){const e=esriClientUtils.select(".channel-playlist--drop-down"),t=esriClientUtils.select(".channel-playlist--sort-container"),i=esriClientUtils.select(".channel-playlist__button-sort"),a=i.getAttribute("aria-expanded");e.classList.toggle("close"),t.classList.toggle("open"),"true"===a&&i.setAttribute("aria-expanded","false");e.querySelectorAll("a[href]").forEach((e=>{e.setAttribute("tabindex","-1")}));const s=i.shadowRoot;setTimeout((()=>{const e=s.querySelector("button");i.setAttribute("tabindex","0"),e.focus()}),300)}expandFilterDialog(e){const t=window.matchMedia("screen and (min-width: 767px)"),i=e.parentNode,a=i.parentNode,s=e.parentNode.parentNode.parentNode.parentNode,n=s.querySelector(".channel-playlist--filter-container-background"),r=s.querySelector(".channel-playlist--filter-container");t.matches||(i.classList.toggle("open"),n.setAttribute("style",`height: ${a.clientHeight+40}px`),n.setAttribute("attr-height",`${a.clientHeight+40}`),r.setAttribute("style",`height: ${a.clientHeight+40}px`),r.setAttribute("attr-height",`${a.clientHeight+40}`))}sortRelevanceOrder(e,t,i){const a=window.matchMedia("screen and (min-width: 767px)");let s=[];"descending"===e&&(a.matches?t.innerHTML="Creation Date - Descending":t.innerHTML="Descending",s=this.descendingSort()),"ascending"===e&&(a.matches?t.innerHTML="Creation Date - Ascending":t.innerHTML="Ascending",s=this.ascendingSort()),"az"===e&&(a.matches?t.innerHTML="Alphabetically - A to Z":t.innerHTML="A - Z",s=this.azSort()),"za"===e&&(a.matches?t.innerHTML="Alphabetically - Z to A":t.innerHTML="Z - A",s=this.zaSort()),"relevance"===e&&(s=this.defaultSortData.media[0].entries),this.clearMediaViewBeforeSort(),this.createMediaViews(i,s)}addClickToViews(e){const t=e.parentNode,i=esriClientUtils.select(".channel-container-media",t),a=esriClientUtils.select(".channel-playlist--media-grid",i),s=esriClientUtils.select(".channel-playlist__button-sort"),n=esriClientUtils.select(".channel-playlist__button-filter"),r=esriClientUtils.select(".channel-playlist--filter-container"),l=esriClientUtils.select(".channel-playlist--clear-all-container"),c=esriClientUtils.select(".channel-playlist--filter-container-background"),o=esriClientUtils.select(".channel-playlist--clear-all-container-background"),d=esriClientUtils.select(".channel-playlist--sort-container"),h=esriClientUtils.select(".channel-playlist--drop-down"),u=esriClientUtils.select(".channel-playlist__relevance"),m=esriClientUtils.select(".channel-playlist__descending-button"),p=esriClientUtils.select(".channel-playlist__ascending-button"),b=esriClientUtils.select(".channel-playlist__AZ-button"),v=esriClientUtils.select(".channel-playlist__ZA-button"),g=esriClientUtils.select(".channel-playlist__view-grid",t),f=esriClientUtils.select(".channel-playlist__view-list",t),y=esriClientUtils.selectAll(".channel-playlist__button-filter-expand",t),C=esriClientUtils.selectAll(".channel__filter-column-title-desktop"),A=esriClientUtils.select(".channel-playlist__more-filter-btn"),w=esriClientUtils.select(".channel-playlist__more-back-btn"),L=esriClientUtils.select(".channel-playlist__filter-row"),T=d.getAttribute("attr-sort-order");"descending"===T&&this.sortRelevanceOrder("descending",s,e),"ascending"===T&&this.sortRelevanceOrder("ascending",s,e),"az"===T&&this.sortRelevanceOrder("az",s,e),"za"===T&&this.sortRelevanceOrder("za",s,e),C.forEach((e=>{e.addEventListener("click",(()=>{this.expandFilterDialog(e)}))})),y.forEach((e=>{e.addEventListener("click",(()=>{this.expandFilterDialog(e)}))})),A.addEventListener("click",(()=>{const e=window.matchMedia("screen and (min-width: 767px)"),t=window.matchMedia("screen and (min-width: 1075px)");e.matches&&L.setAttribute("style","transform: translateX(-103%); overflow: visible"),t.matches&&L.setAttribute("style","transform: translateX(-98%); overflow: visible"),w.removeAttribute("disabled"),A.setAttribute("disabled","")})),w.addEventListener("click",(e=>{e.preventDefault(),L.setAttribute("style","transform: translateX(1%); overflow: hidden"),A.removeAttribute("disabled"),w.setAttribute("disabled","")})),n.addEventListener("click",(t=>{t.preventDefault();const i=r.getAttribute("aria-hidden"),a=n.getAttribute("aria-expanded"),s=esriClientUtils.selectAll("calcite-input-text"),d=s[0].hasAttribute("disabled"),h=window.matchMedia("screen and (min-width: 767px)"),u=esriClientUtils.selectAll("calcite-label"),m=u[0].getAttribute("tabindex"),p=c.getAttribute("aria-hidden"),b=esriClientUtils.select(".channel-playlist--pill-container"),v=null===r.getAttribute("attr-height")?370:r.getAttribute("attr-height"),g=esriClientUtils.select(".channel-playlist__more-clear-filter");let f=o.getAttribute("aria-hidden");b.classList.add("enabled"),g.addEventListener("click",(()=>{this.searchProductValue="",this.searchYearValue="",this.removeCalcitePill(!1,e)})),s.length>0&&s.forEach((e=>{d?e.removeAttribute("disabled"):e.setAttribute("disabled","")})),u.length>0&&u.forEach((e=>{"-1"===m?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1")})),h.matches||(f="false"),"false"===a?(n.setAttribute("aria-expanded","true"),n.setAttribute("icon-end","chevron-up"),l.setAttribute("aria-hidden","false"),setTimeout((()=>{u[0].setAttribute("tabindex","0"),u[0].focus()}),250)):(l.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"),n.setAttribute("icon-end","chevron-down")),"true"===f?o.setAttribute("aria-hidden","false"):o.setAttribute("aria-hidden","true"),"true"===p?(c.setAttribute("aria-hidden","false"),c.setAttribute("style",`height: ${v}px`)):(c.setAttribute("aria-hidden","true"),c.setAttribute("style","height: 0")),"true"===i?(r.setAttribute("aria-hidden","false"),r.setAttribute("style",`height: ${v}px`)):(r.setAttribute("aria-hidden","true"),r.setAttribute("style","height: 0"))})),u.addEventListener("click",(t=>{t.preventDefault(),this.sortRelevanceOrder("relevance",s,e),s.innerHTML="Relevance",this.hideRevelanceDropdown()})),m.addEventListener("click",(t=>{t.preventDefault(),this.sortRelevanceOrder("descending",s,e)})),p.addEventListener("click",(t=>{t.preventDefault(),this.sortRelevanceOrder("ascending",s,e)})),b.addEventListener("click",(t=>{t.preventDefault(),this.sortRelevanceOrder("az",s,e)})),v.addEventListener("click",(t=>{t.preventDefault(),this.sortRelevanceOrder("za",s,e)})),s.addEventListener("click",(()=>{this.sortDropdownToggle(h,d,s)})),document.addEventListener("click",(e=>{e.target!==s&&d.classList.contains("open")&&this.hideRevelanceDropdown()})),g.addEventListener("click",(e=>{e.preventDefault();const t=esriClientUtils.selectAll(".channel-playlist--column",a),i=esriClientUtils.selectAll(".channel-playlist--media-row",a);esriClientUtils.select(".channel-playlist--media-grid").setAttribute("attr-view-type","grid"),this.viewAction(t,!0),this.viewAction(i,!1)})),f.addEventListener("click",(e=>{e.preventDefault();const t=esriClientUtils.selectAll(".channel-playlist--column",a),i=esriClientUtils.selectAll(".channel-playlist--media-row",a);esriClientUtils.select(".channel-playlist--media-grid").setAttribute("attr-view-type","detailed"),this.viewAction(t,!1),this.viewAction(i,!0)}))}sortDropdownToggle(e,t,i){e.classList.toggle("close"),t.classList.toggle("open");"true"===i.getAttribute("aria-expanded")?(i.setAttribute("aria-expanded","false"),i.setAttribute("appearance","transparent")):(i.setAttribute("aria-expanded","true"),i.setAttribute("appearance","solid"));e.querySelectorAll("a[href]").forEach((e=>{"-1"===e.getAttribute("tabindex")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1")}))}addCountTotalToMedia(e,t){const i=esriClientUtils.select(".channel-container",t),a=esriClientUtils.select("[attr-media]",i),s=esriClientUtils.select("#home-description"),n=esriClientUtils.select("#media-description");a.innerHTML=`${e} Videos`,s.innerHTML=`Playlist View ${this.playlistsCount} Playlists`,n.innerHTML=`Media View ${e} Videos`}addClickToNav(e){const t=esriClientUtils.select(".channel-container",e),i=esriClientUtils.select(".channel-container-home",t),a=esriClientUtils.select(".channel-container-media",t),s=esriClientUtils.select("[attr-home]",t),n=esriClientUtils.select("[attr-media]",t);this.addCountTotalToMedia(this.channelObj.totalChannelVideoCount,e),s&&s.addEventListener("click",(e=>{e.preventDefault();const t=i.getAttribute("attr-visible");this.navigationMain(t,i,a,s,n)})),n&&n.addEventListener("click",(e=>{e.preventDefault();const t=a.getAttribute("attr-visible");this.navigationMain(t,a,i,n,s)}))}createChannelNPlaylist(e){const t={},i=e.media[0];this.playlistsCount=e.media[0].playlists.length,e.success&&(t.channelID=i.id,this.channelObj=t,this.playlistsObj=e.media[0].playlists)}attachedLoader(e){const t=document.createElement("div");t.classList.add("channel-playlist--container-loader");const i=document.createElement("calcite-loader");this.setAttributes(i,{text:"Loading...","aria-label":"Loading",active:"true",type:"indeterminate",scale:"s"}),t.appendChild(i),e.appendChild(t)}buildMediaContent(e,t,i,a){this.mediaEndIndexGrid=this.mediaStartIndexGrid+this.videosMaxPage,this.mediaEndIndexGrid=this.mediaEndIndexGrid>t.length?t.length:this.mediaEndIndexGrid;const s=esriClientUtils.select(".channel-playlist--media-grid").getAttribute("attr-view-type"),n="grid"===s,r="detailed"===s;if(t.length>0){for(let a=this.mediaStartIndexGrid;a<this.mediaEndIndexGrid;a++){const s=`${t[a].thumbnailUrl}/width/536/height/301`,l=t[a].dataUrl,c=t[a].hasOwnProperty("duration")?t[a].duration:"00",o=t[a].hasOwnProperty("name")?t[a].name:"N/A",d=t[a].hasOwnProperty("description")?t[a].description:"",h=t[a].hasOwnProperty("userId")?t[a].userId:"",u=t[a].hasOwnProperty("createdAt")?t[a].createdAt:"YYYYY-MM-DD",m=document.createElement("div");m.classList.add("channel-playlist--column"),m.setAttribute("attr-visible",n),m.setAttribute("data-animation","calcite-animate__in-up");const p=document.createElement("a");p.classList.add("channel-playlist__videoURL"),this.setAttributes(p,{href:this.convertToMedia(l),role:"button","aria-label":o,tabindex:"0","attr-video-id":a,"data-modal":"true","data-url":this.convertToMedia(l)});const b=document.createElement("img");b.classList.add("channel-playlist__img"),this.setAttributes(b,{loading:"lazy",alt:o,src:s}),p.appendChild(b);const v=document.createElement("div");v.classList.add("channel-playlist--metadata");const g=document.createElement("div");g.classList.add("channel-playlist__meta-title"),g.innerHTML=o;let f=document.createElement("div");f.classList.add("channel-playlist__meta-duration"),f.innerHTML=this.convertTimeFormat(c),v.appendChild(g),v.appendChild(f),p.appendChild(v);const y=document.createElement("div");y.classList.add("channel-playlist__media-row-thumbnail");const C=document.createElement("div");C.classList.add("channel-playlist--media-row"),C.classList.add("calcite-animate"),C.classList.add("calcite-animate__in-up"),C.setAttribute("attr-visible",r),C.setAttribute("data-animation","calcite-animate__in-up");const A=document.createElement("a");A.classList.add("channel-playlist__media-videoURL"),this.setAttributes(A,{href:this.convertToMedia(l),"aria-label":o,"data-modal":"true","attr-video-id":a,"data-url":this.convertToMedia(l)});const w=document.createElement("img");w.classList.add("channel-playlist__img"),this.setAttributes(w,{loading:"lazy",alt:o,src:s});const L=document.createElement("div");L.classList.add("channel-playlist__media-description"),L.innerHTML=d.match(/^[^\.!?]*[\.!?]/);const T=document.createElement("div");T.classList.add("channel-playlist__media-duration"),T.innerHTML=this.convertTimeFormat(c),A.appendChild(w),A.appendChild(T),y.appendChild(A),C.appendChild(y);const E=document.createElement("div");E.classList.add("channel-playlist__media-row-content");const D=document.createElement("a");D.classList.add("channel-playlist__media-title"),this.setAttributes(D,{href:this.convertToMedia(l),"aria-label":o,"data-modal":"true","data-url":this.convertToMedia(l)}),D.innerHTML=o;const x=document.createElement("div");x.classList.add("channel-playlist__media-from"),x.innerHTML=`From ${h} ${u.split(" ")[0]}`,E.appendChild(D),E.appendChild(x),E.appendChild(L),C.appendChild(E),m.appendChild(p),void 0!==i?(i.before(m),i.before(C)):(e.appendChild(m),e.appendChild(C))}this.mediaStartIndexGrid=this.mediaEndIndexGrid,this.mediaEndIndexGrid>=t.length&&t.length>this.videosMaxPage&&e.removeChild(e.lastChild);const a=esriClientUtils.select(".channel-playlist--media-grid");esriClientUtils.selectAll(".channel-playlist--column",a).forEach((e=>{const t=e.querySelector("a"),i=t.getAttribute("attr-video-id");parseInt(i)===this.mediaStartIndexGrid-30&&(t.setAttribute("tabindex","0"),t.focus())}))}}resetIndex(){this.mediaEndIndexGrid=0,this.mediaStartIndexGrid=0}createMediaViews(e,t){void 0===e&&(e=esriClientUtils.select(".channel-container-home"));const i=t,a=esriClientUtils.select(".channel-container-media"),s=esriClientUtils.select(".channel-playlist--media-grid",a);if(this.resetIndex(),this.resetDateBoxes(),this.mediaEndIndexGrid=i.length>this.videosMaxPage?this.videosMaxPage:i.length,this.buildMediaContent(s,i),a.appendChild(s),i.length>this.videosMaxPage){this.attachedLoader(s);const e=esriClientUtils.select("calcite-loader",s),t=e.parentNode;new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&this.buildMediaContent(s,i,t,!0)}))}),{root:null,threshold:.8}).observe(e)}}createHomeView(e){const t=e,i=esriClientUtils.select(".channel-playlist--container",t),a=esriClientUtils.select("calcite-loader");null!==a&&i.removeChild(a);for(let e=0;e<this.playlistsCount;e++)if(!this.playlistsObj[e].isEmpty){const i=this.playlistsObj[e].media,a=this.playlistsObj[e].media.length,s=this.playlistsObj[e].name,n=document.createElement("div");n.classList.add("channel-playlist--content");const r=document.createElement("div");r.classList.add("channel-playlist--container");const l=document.createElement("div");l.classList.add("channel-playlist__title"),l.innerHTML=s,r.appendChild(l);const c=document.createElement("div");c.classList.add("channel-playlist--slider-box"),c.setAttribute("data-slider-count",a),c.setAttribute("style","transform: translateX(1%);");for(let e=0;e<a;e++){const t=`${i[e].thumbnailUrl}/width/536/height/301`,a=i[e].dataUrl,s=i[e].duration,n=i[e].name,r=document.createElement("div");r.classList.add("channel-playlist--column");const l=document.createElement("a");l.classList.add("channel-playlist__videoURL"),this.setAttributes(l,{href:this.convertToMedia(a),tabindex:"0",role:"button","aria-label":n,"data-modal":"true","data-url":this.convertToMedia(a)});const o=document.createElement("img");o.classList.add("channel-playlist__img"),this.setAttributes(o,{loading:"lazy",alt:n,src:t}),l.appendChild(o);const d=document.createElement("div");d.classList.add("channel-playlist--metadata");const h=document.createElement("div");h.classList.add("channel-playlist__meta-title"),h.innerHTML=n;const u=document.createElement("div");u.classList.add("channel-playlist__meta-duration"),u.innerHTML=this.convertTimeFormat(s),d.appendChild(h),d.appendChild(u),l.appendChild(d),r.appendChild(l),c.appendChild(r)}r.appendChild(c);const o=document.createElement("calcite-icon");o.classList.add("channel-playlist__prev"),this.setAttributes(o,{"aria-label":"previous",scale:"l",appearance:"transparent",icon:"chevron-left"});const d=document.createElement("calcite-icon");d.classList.add("channel-playlist__next"),this.setAttributes(d,{"aria-label":"next",scale:"l",appearance:"transparent",icon:"chevron-right"}),n.appendChild(r),n.appendChild(o),n.appendChild(d),t.appendChild(n),this.buildSwitcherControls(n)}}buildSwitcherControls(e){const t=window.matchMedia("(min-width:1040px)"),i=window.matchMedia("(min-width:721px) and (max-width:1040px)"),a=window.matchMedia("(max-width:720px)");if(void 0!==e){const s=esriClientUtils.select(".channel-playlist--slider-box",e),n=esriClientUtils.select(".channel-playlist__prev",e),r=esriClientUtils.select(".channel-playlist__next",e);let l=0,c=0,o=0;const d=s.getAttribute("data-slider-count");t.matches&&(l=33.33,c=3),i.matches&&(l=50,c=2),a.matches&&(l=100,c=1),0===o&&n.setAttribute("style","display: none"),t.matches&&d<=3&&(n.setAttribute("style","display: none"),r.setAttribute("style","display: none")),i.matches&&d<=2&&n.setAttribute("style","display: none"),a.matches&&d<=1&&n.setAttribute("style","display: none"),n.addEventListener("click",(()=>{o>0&&(o--,s.style.transform=`translateX(-${o*l}%)`,r.removeAttribute("style")),0===o&&n.setAttribute("style","display: none")})),r.addEventListener("click",(()=>{o<d-c&&(o++,s.style.transform=`translateX(-${o*l}%)`,n.removeAttribute("style")),o===d-c&&r.setAttribute("style","display: none")}))}}clearThumbs(){esriClientUtils.select(".channel-playlist--media-grid").innerHTML=""}zeroMsgResult(e,t){const i=esriClientUtils.select(".channel-playlist--media-grid");let a=null;t?(a=document.createElement("div"),a.classList.add("channel-playlist__result-msg"),a.innerHTML="no results available",i.appendChild(a)):(a=esriClientUtils.select(".channel-playlist__result-msg",i),null!==a&&a.parentNode.removeChild(a))}resetDurationBoxes(){const e=esriClientUtils.selectAll("input[attr-duration-value]");!1===this.searchDuration[1]&&!1===this.searchDuration[2]&&!1===this.searchDuration[3]&&(this.searchDuration[0]=!0,e[0].checked=!0,e[1].checked=!1,e[2].checked=!1,e[3].checked=!1)}resetAnyDate(e,t){e.classList.add("hidden"),this.searchDate[0]=!0,this.searchDate[1]=!1,this.searchDate[2]=!1,this.searchDate[3]=!1,t[0].checked=!0,t[1].checked=!1,t[2].checked=!1,t[3].checked=!1}resetDateBoxes(e){const t=esriClientUtils.selectAll("input[attr-date-value]"),i=esriClientUtils.select("input#rangePickerAfter"),a=esriClientUtils.select("input#rangePickerBefore"),s=esriClientUtils.select(".channel__datepicker-container"),n=document.querySelector(".channel-playlist--pill-container"),r=n.querySelectorAll("calcite-chip");"after"===e&&""===a.value&&(r.forEach((e=>{e.hasAttribute("attr-after")&&(i.value="",n.removeChild(e))})),this.resetAnyDate(s,t)),"before"===e&&""===i.value&&(r.forEach((e=>{e.hasAttribute("attr-before")&&(a.value="",n.removeChild(e))})),this.resetAnyDate(s,t)),!1===this.searchDate[1]&&!1===this.searchDate[2]&&!1===this.searchDate[3]&&(this.searchDate[0]=!0,t[0].checked=!0,t[1].checked=!1,t[2].checked=!1,t[3].checked=!1)}uncheckFilterBoxALL(e,t){if("term"===t){esriClientUtils.select(`input[attr-term-value='${e}'`).checked=!1}if("duration"===t){const t=esriClientUtils.select(`input[attr-duration-value='${e}'`);this.searchDuration[t.getAttribute("attr-duration")]=!1,this.resetDurationBoxes()}if("date"===t){const t=esriClientUtils.select(`input[attr-date-value='${e}'`);this.searchDate[t.getAttribute("attr-date")]=!1,this.resetDateBoxes()}"after"===t&&this.resetDateBoxes("after"),"before"===t&&this.resetDateBoxes("before")}normalizeFilterStringDEL(e){return this.filterVALUE=this.filterVALUE.replace(e,""),this.filterVALUE=this.filterVALUE.trim().replaceAll(" +"," "),this.filterVALUE}normalizeFilterStringADD(e){return this.filterVALUE+=` ${e}`,this.filterVALUE=this.filterVALUE.trim().replaceAll(" +"," "),this.filterVALUE}activateCloseChip(e,t){const i=esriClientUtils.select("calcite-input-text#year"),a=esriClientUtils.select("calcite-input-text#product"),s=esriClientUtils.select("input#rangePickerAfter"),n=esriClientUtils.select("input#rangePickerBefore");e.addEventListener("click",(()=>{const r=e.getAttribute("value");e.hasAttribute("attr-term")&&this.uncheckFilterBoxALL(r,"term"),e.hasAttribute("attr-duration")&&this.uncheckFilterBoxALL(r,"duration"),e.hasAttribute("attr-date")&&this.uncheckFilterBoxALL(r,"date"),e.hasAttribute("attr-after")&&(s.value="",this.uncheckFilterBoxALL(r,"after")),e.hasAttribute("attr-before")&&(n.value="",this.uncheckFilterBoxALL(r,"before")),e.hasAttribute("attr-product")&&(this.searchProductValue="",a.value="",this.productVersion=!1),e.hasAttribute("attr-year")&&(this.searchYearValue="",i.value="",this.searchYear=!1),this.filterVALUE=this.normalizeFilterStringDEL(r),this.searchStrGlobal.value=this.filterVALUE,this.displaySearchResults(t)}))}uncheckAllBoxes(e){const t=esriClientUtils.selectAll("input[attr-term-value"),i=esriClientUtils.selectAll("input[attr-duration-value]"),a=esriClientUtils.selectAll("input[attr-date-value]"),s=esriClientUtils.select(".channel__datepicker-container"),n=esriClientUtils.select("calcite-input-text#year"),r=esriClientUtils.select("calcite-input-text#product");t.forEach((e=>{e.checked=!1})),i.forEach((e=>{e.checked=!1})),a.forEach((e=>{e.checked=!1})),i[0].checked=!0,this.searchDuration[0]=!0,this.searchDuration[1]=!1,this.searchDuration[2]=!1,this.searchDuration[3]=!1,a[0].checked=!0,this.searchDate[0]=!0,this.searchDate[1]=!1,this.searchDate[2]=!1,this.searchDate[3]=!1,s.classList.add("hidden"),n.value="",r.value="",this.filterVALUE="",this.searchStrGlobal.value="",this.displaySearchResults(e)}removeCalcitePill(e,t){const i=document.querySelector(".channel-playlist--pill-container");i.querySelectorAll("calcite-chip").forEach((t=>{const a=t.getAttribute("value");a===e&&i.removeChild(t),e||i.removeChild(t),"all durations"===e&&-1!==a.indexOf("min")&&i.removeChild(t),"all dates"===e&&-1!==a.indexOf("last")&&i.removeChild(t),"after"===e&&-1!==a.indexOf("Created After")&&i.removeChild(t),"before"===e&&-1!==a.indexOf("Created Before")&&i.removeChild(t)})),e||(this.clearThumbs(),this.uncheckAllBoxes(t))}appendChip(e,t,i){const a=document.querySelector(".channel-playlist--pill-container"),s=a.querySelectorAll("calcite-chip"),n=document.createElement("calcite-chip");let r=!1;s.length>0&&s.forEach((t=>{t.getAttribute("value")===e&&(r=!0)})),r||(n.innerHTML=DOMPurify.sanitize(e),this.setAttributes(n,{"attr-type":t,value:e,closable:"",appearance:"solid",kind:"neutral",scale:"m","calcite-hydrated":""}),a.appendChild(n),this.activateCloseChip(n,i),"attr-after"===t&&this.displaySearchResults(i),"attr-before"===t&&this.displaySearchResults(i))}addCalcitePillSearchProduct(e,t){this.productVersion||(this.productVersion=!0,this.appendChip(e,"attr-product",t))}addCalcitePillSearchYear(e,t){this.searchYear||(this.searchYear=!0,this.appendChip(e,"attr-year",t))}addCalcitePill(e,t,i){"duration"===t&&this.appendChip(e,"attr-duration",i),"term"===t&&this.appendChip(e,"attr-term",i),"date"===t&&this.appendChip(e,"attr-date",i)}convertDateFormat(e){const t=e.split("-"),i=t[0];return`${t[1]}/${t[2]}/${i}`}getCurrentDateMMDDYYYY(){const e=new Date;return`${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getDate().toString().padStart(2,"0")}/${e.getFullYear()}`}getLastDays(e){const t=new Date(e),i=new Date;if(t.getTime()>i.getTime())return 0;const a=i.getTime()-t.getTime();return Math.floor(a/864e5)}getDatesFromPicker(e){const t=document.querySelector("#rangePickerAfter"),i=document.querySelector("#rangePickerBefore");t.value="",i.value="",t.addEventListener("change",(t=>{this.searchDate[4]=!0,this.removeCalcitePill("after",e);const i=this.convertDateFormat(t.target.value);0!==i.indexOf("undefined")?(this.afterDays=this.getLastDays(i),this.appendChip(`Created After: ${i}`,"attr-after",e)):(this.afterDays=this.getLastDays("01/01/1901"),this.displaySearchResults(e))})),i.addEventListener("change",(t=>{this.searchDate[4]=!0,this.removeCalcitePill("before",e);const i=this.convertDateFormat(t.target.value);0!==i.indexOf("undefined")?(this.beforeDays=this.getLastDays(i),this.appendChip(`Created Before: ${i}`,"attr-before",e)):(this.beforeDays=this.getLastDays(this.getCurrentDateMMDDYYYY()),this.displaySearchResults(e))}))}customDatePicker(e,t){const i=document.querySelector(".channel__datepicker-container");e?(i.classList.remove("hidden"),this.getDatesFromPicker(t)):i.classList.add("hidden")}enableFilterSearch(e){const t=esriClientUtils.selectAll("input[attr-duration-value]"),i=esriClientUtils.selectAll("input[attr-term-value]"),a=esriClientUtils.select("calcite-input-text#product"),s=esriClientUtils.select("calcite-input-text#year"),n=document.querySelectorAll("input[attr-date-value]");a.addEventListener("keyup",(t=>{this.addCalcitePillSearchProduct("Product Version",e),"Enter"===t.key&&(this.searchProductValue=a.value.toLowerCase(),this.displaySearchResults(e))})),s.addEventListener("keyup",(t=>{this.addCalcitePillSearchYear("Search Year",e),"Enter"===t.key&&(this.searchYearValue=s.value,this.displaySearchResults(e))})),n[0].checked=!0,n.forEach(((t,i)=>{t.addEventListener("click",(()=>{const a=t.getAttribute("attr-date-value");!1===this.searchDate[i]?(this.searchDate[i]=!0,this.searchDate[0]=!1,this.searchDate[3]=!1,n[0].checked=!1,n[3].checked=!1,0!==i&&3!==i&&(this.addCalcitePill(a,"date",e),this.customDatePicker(!1,e),this.removeCalcitePill("after",e),this.removeCalcitePill("before",e))):(this.searchDate[i]=!1,this.removeCalcitePill(a,e)),0===i&&(this.searchDate[0]=!0,this.searchDate[1]=!1,this.searchDate[2]=!1,this.searchDate[3]=!1,n[0].checked=!0,n[1].checked=!1,n[2].checked=!1,n[3].checked=!1,this.removeCalcitePill("all dates",e),this.removeCalcitePill("after",e),this.removeCalcitePill("before",e),this.customDatePicker(!1,e)),3===i&&(this.searchDate[0]=!1,this.searchDate[1]=!1,this.searchDate[2]=!1,this.searchDate[3]=!0,n[0].checked=!1,n[1].checked=!1,n[2].checked=!1,n[3].checked=!0,this.afterDays=this.getLastDays("01/01/1901"),this.beforeDays=this.getLastDays(this.getCurrentDateMMDDYYYY()),this.removeCalcitePill("all dates",e),this.customDatePicker(!0)),this.searchStrGlobal.value=this.filterVALUE,this.displaySearchResults(e)}))})),t[0].checked=!0,t.forEach(((i,a)=>{i.addEventListener("click",(()=>{const s=i.getAttribute("attr-duration-value");!1===this.searchDuration[a]?(this.searchDuration[a]=!0,this.searchDuration[0]=!1,0!==a&&this.addCalcitePill(s,"duration",e),t[0].checked=!1):(this.searchDuration[a]=!1,this.removeCalcitePill(s,e)),0===a&&(this.searchDuration[0]=!0,this.searchDuration[1]=!1,this.searchDuration[2]=!1,this.searchDuration[3]=!1,t[0].checked=!0,t[1].checked=!1,t[2].checked=!1,t[3].checked=!1,this.removeCalcitePill("all durations",e)),!1===this.searchDuration[1]&&!1===this.searchDuration[2]&&!1===this.searchDuration[3]&&(this.searchDuration[0]=!0,t[0].checked=!0),this.searchStrGlobal.value=this.filterVALUE,this.displaySearchResults(e)}))})),i.forEach((t=>{t.addEventListener("click",(()=>{const i=t.getAttribute("attr-term-value");!0===t.checked?(this.filterVALUE=this.normalizeFilterStringADD(i),this.addCalcitePill(i,"term",e)):(this.filterVALUE=this.normalizeFilterStringDEL(i),this.removeCalcitePill(i,e)),this.searchStrGlobal.value=this.filterVALUE,this.displaySearchResults(e)}))}))}removeExtraSpacing(e){return e.replace(/\s\s+/g," ")}getCurrentDate(){return(new Date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}getDateDaysAgo(e){const t=new Date,i=new Date(t);i.setDate(t.getDate()-e);return i.toLocaleDateString("en-US")}isPlaylistDateRecent(e,t){const i=e.split("/"),a=t.split("-"),s=new Date(i[2],i[0]-1,i[1]);return new Date(a[0],a[1]-1,a[2])>s}isPlaylistDateOlder(e,t){const i=e.split("/"),a=t.split("-"),s=new Date(i[2],i[0]-1,i[1]);return new Date(a[0],a[1]-1,a[2])<=s}initializePlaylist(e){e.length>0&&e.forEach((e=>{e.matchesQuery=!1}))}displaySearchResults(e){void 0===e&&(e=esriClientUtils.select(".channel-container-home"));const t=this.search(this.searchStrGlobal);this.clearThumbs(),t.length<=0&&this.zeroMsgResult(e,!0),this.addCountTotalToMedia(t.length,e),this.createMediaViews(e,t)}search(e){let t="01/01/1901",i=this.getLastDays(this.getCurrentDateMMDDYYYY()),a=!1,s=!1;const n=/\. |, |! |,| |  /,r=this.videoEntries;this.initializePlaylist(r);const l=this.removeExtraSpacing(e.value.toLowerCase());r.forEach(((e,t)=>{const i=e.searchText.split(n);l.split(n).filter((e=>{i.filter((i=>{i.toLowerCase().includes(e)&&(r[t].matchesQuery=!0)}))}))})),r.forEach((e=>{e.matchesQuery&&this.searchDuration[1]&&this.searchDuration[2]&&!this.searchDuration[3]&&e.duration<=3600&&e.duration>0&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDuration[1]&&this.searchDuration[2]&&!this.searchDuration[3]&&e.duration>3600&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDuration[2]&&this.searchDuration[3]&&!this.searchDuration[1]&&e.duration>1800&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDuration[2]&&this.searchDuration[3]&&!this.searchDuration[1]&&e.duration<=1800&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDuration[1]&&!this.searchDuration[2]&&!this.searchDuration[3]&&e.duration<=1800&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDuration[1]&&!this.searchDuration[2]&&!this.searchDuration[3]&&e.duration>1800&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDuration[2]&&!this.searchDuration[1]&&!this.searchDuration[3]&&e.duration<=3600&&e.duration>1800&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDuration[2]&&!this.searchDuration[1]&&!this.searchDuration[3]&&e.duration<1800&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDuration[2]&&!this.searchDuration[1]&&!this.searchDuration[3]&&e.duration>3600&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDuration[3]&&!this.searchDuration[1]&&!this.searchDuration[2]&&e.duration>3600&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDuration[3]&&!this.searchDuration[1]&&!this.searchDuration[2]&&e.duration<=3600&&(e.matchesQuery=!1);const n=e.createdAt.split(" ")[0];this.searchDate[1]&&(t=this.getDateDaysAgo(7)),this.searchDate[2]&&(t=this.getDateDaysAgo(30)),this.searchDate[3]&&(t=this.getDateDaysAgo(this.afterDays),i=this.getDateDaysAgo(this.beforeDays),s=this.isPlaylistDateOlder(i,n)),a=this.isPlaylistDateRecent(t,n),e.matchesQuery&&this.searchDate[1]&&a&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDate[1]&&!a&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDate[2]&&a&&(e.matchesQuery=!0),e.matchesQuery&&this.searchDate[2]&&!a&&(e.matchesQuery=!1),e.matchesQuery&&this.searchDate[3]&&a&&s&&(e.matchesQuery=!0),!e.matchesQuery||!this.searchDate[3]||a&&s||(e.matchesQuery=!1)})),this.searchProductValue.length>0&&r.forEach((e=>{const t=e.tags;e.matchesQuery&&-1!==t.indexOf(this.searchProductValue)&&(e.matchesQuery=!0),e.matchesQuery&&-1===t.indexOf(this.searchProductValue)&&(e.matchesQuery=!1)})),this.searchYearValue.length>0&&r.forEach((e=>{const t=e.createdAt.split("-");e.matchesQuery&&-1!==t[0].indexOf(this.searchYearValue)&&(e.matchesQuery=!0),e.matchesQuery&&-1===t[0].indexOf(this.searchYearValue)&&(e.matchesQuery=!1)}));return r.filter((e=>!0===e.matchesQuery))}enableSearch(e){let t=[];const i=esriClientUtils.select("#channel-playlist__searchInput"),a=esriClientUtils.select(".channel-playlist__search-icon"),s=esriClientUtils.select(".channel-playlist__search-close"),n=esriClientUtils.select(".channel-playlist__close-container");s.addEventListener("click",(t=>{t.preventDefault();const a=this.videoEntries;i.value="",this.addCountTotalToMedia(a.length,e),this.createMediaViews(e,a),this.zeroMsgResult(e,!0)})),n.addEventListener("keyup",(t=>{t.preventDefault();const a=this.videoEntries;i.value="",this.addCountTotalToMedia(a.length,e),this.createMediaViews(e,a),this.zeroMsgResult(e,!0)})),a.addEventListener("click",(()=>{t=this.search(i),this.clearThumbs(),t.length<=0&&this.zeroMsgResult(e,!1),this.addCountTotalToMedia(t.length,e),this.createMediaViews(e,t)})),i.addEventListener("keyup",(a=>{"Enter"===a.key&&(t=this.search(i),this.clearThumbs(),t.length<=0&&this.zeroMsgResult(e,!1),this.addCountTotalToMedia(t.length,e),this.createMediaViews(e,t))}))}networkMsg(e){const t=esriClientUtils.select(".channel-container"),i=document.createElement("div");i.classList.add("channel-playlist--column"),i.innerHTML=e,t.appendChild(i);const a=esriClientUtils.select(".channel-playlist--container"),s=esriClientUtils.select("calcite-loader",a);null!==s&&null!==a&&a.removeChild(s)}getCurrentEnv(e){const t=window.location.host;let i="";return[{regex:/localhost/,strg:"dev"},{regex:/-e698666/,strg:"dev"},{regex:/-e698665/,strg:"stg"},{regex:/uat\./,strg:"stg"}].forEach((a=>{a.regex.test(t)&&e&&(i="dev"===a.strg?"dev":a.strg),a.regex.test(t)&&!e&&(i="dev"===a.strg?"stg":a.strg)})),i}setAttributes(e,t){for(var i in t)e.setAttribute(i,t[i])}getChannelObj(e){return new Promise(((t,i)=>{fetch(`https://kaltura-api-proxy.esri.com/getChannel?channelId=${e}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8","Accept-Encoding":"gzip, deflate, br"}}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{t(e)})).catch((e=>{console.warn("Unable to retrieve Kaltura data. Check VPN connection or",e),i(e)}))}))}}document.querySelectorAll(".channel-container-home").forEach((t=>{new e(t)}))})),document.addEventListener("DOMContentLoaded",(()=>{new class{constructor(){const e=esriClientUtils.selectAll("[data-lazy-image]");e&&e.length&&this.createresponsiveBgs(e);const t=esriClientUtils.selectAll("[data-lazy-image]");t&&t.length&&this.setupObserver(t)}setupObserver(e){if("IntersectionObserver"in window){const t=new IntersectionObserver(((e,i)=>{e.forEach((e=>{e.isIntersecting&&(this.loadLazy(e),t.unobserve(e.target))}))}),{rootMargin:"200px"});e.forEach((e=>{t.observe(e)}))}else e.forEach((e=>{this.loadLazy(e)}))}setupObserver(e){if("IntersectionObserver"in window){const t=new IntersectionObserver(((e,i)=>{e.forEach((e=>{e.isIntersecting&&(this.loadLazy(e),t.unobserve(e.target))}))}),{rootMargin:"200px"});e.forEach((e=>{t.observe(e)}))}else e.forEach((e=>{this.loadLazy(e)}))}loadLazy(e){e.target&&(e=e.target);if(!!e.hasAttribute("data-lazy-image")){let t=e.getAttribute("data-lazy-image");e.style.backgroundImage='url("'+t+'")'}}update({responsiveBg:e}){const t=void 0!==e.container?e.container.currentSrc:e.container.src;e.src!==t&&(e.src=t,"undefined"==(e.src,!1)&&(e.container.style.backgroundImage='url("'+e.src+'")'))}createresponsiveBgs(e){e.forEach((e=>{const t={container:e.hasAttribute("data-lazy-image")?e:null,src:""};null!==t.container&&this.update({responsiveBg:t})}))}}})),document.addEventListener("DOMContentLoaded",(function(){var e=[].slice.call(document.querySelectorAll("video.lazy--video"));if("IntersectionObserver"in window){var t=new IntersectionObserver((function(e,i){e.forEach((function(e){if(e.isIntersecting){for(var i in e.target.children){var a=e.target.children[i];"string"==typeof a.tagName&&"SOURCE"===a.tagName&&a.src!=a.dataset.src&&(a.src=a.dataset.src,e.target.play())}e.target.classList.remove("lazy"),t.unobserve(e.target)}}))}));e.forEach((function(e){t.observe(e)}))}})),t={previousWidth:0,throttle:function(e,t){var i=Date.now();return function(){i+t-Date.now()<0&&(e(),i=Date.now())}},resizeImage:function(e,t){var i=e.getAttribute("data-img-resize");i=i.split(","),"IMG"==e.nodeName?"narrow"==t?e.setAttribute("src",i[0]):"medium"==t?e.setAttribute("src",i[1]):"wide"==t&&e.setAttribute("src",i[2]):""!==e.style.backgroundImage&&("narrow"==t?e.style.backgroundImage="url("+i[0]+")":"medium"==t?e.style.backgroundImage="url("+i[1]+")":"wide"==t&&(e.style.backgroundImage="url("+i[2]+")"))},resizeAllImages:function(){var e=window.innerWidth,i=480,a=860;[].slice.call(document.querySelectorAll("*[data-img-resize]")).forEach((function(s,n){var r=s.getAttribute("data-img-resize-breakpoints");null!=r&&(r=r.split(","),i=Number(r[0]),a=Number(r[1])),e<=i&&t.previousWidth>i?t.resizeImage(s,"narrow"):e>i&&e<=a&&(t.previousWidth<=i||t.previousWidth>a)?t.resizeImage(s,"medium"):e>a&&t.previousWidth<=a&&t.resizeImage(s,"wide")})),t.previousWidth=window.innerWidth},init:function(){t.resizeAllImages(),window.addEventListener("resize",t.throttle(t.resizeAllImages,200))}},document.addEventListener("DOMContentLoaded",(function(){t.init()})),document.addEventListener("DOMContentLoaded",(function(){var e=esriClientUtils.selectAll("[data-replay-gif=true]");e&&e.length>-1&&e.forEach((e=>{let t=e.parentNode;e.addEventListener("click",(function(e){e.preventDefault();let i=t.querySelector("img").getAttribute("data-img-src");i?t.querySelector("img").setAttribute("src",`${i}?rand=`+crypto.getRandomValues(new Uint32Array(1))[0]):(i=t.querySelector("img").getAttribute("src"),!i||t.querySelector("img").setAttribute("src",`${i}`))}))}))})),document.addEventListener("DOMContentLoaded",(()=>{"object"==typeof geoip2&&geoip2.country((e=>{if(e.country&&e.country.iso_code){const t=e.country.iso_code.toLowerCase();if(window.location.hostname.includes("esri.com")){const e=esriClientUtils.selectAll("[data-geoip-check=true]");e.length>-1&&"us"==t&&e.forEach((e=>{e.classList.toggle("hide")}))}else if(window.location.href.includes("esri.com/en-gb/store")){const e=esriClientUtils.selectAll("[data-geoip-check=true]");e.length>-1&&"gb"==t&&e.forEach((e=>{e.classList.toggle("hide")}))}else if(window.location.href.includes("esri.com/en-ie/store")){const e=esriClientUtils.selectAll("[data-geoip-check=true]");e.length>-1&&"ie"==t&&e.forEach((e=>{e.classList.toggle("hide")}))}}}))})),window.coreTabs=function(e,t){const i=this,a=window.innerWidth;if(i.isContactPage=window.location.href.indexOf("esri.com/en-us/contact")>-1||window.location.href.indexOf("esri.com/content/esri-sites/language-masters/en/contact")>-1,i.identifier=`coreTab${t}`,i.container=e,i.addPaddleTabStructure=function(){const e=document.createElement("div");e.classList.add("cmp-tabs__tablist-wrapper");const t=esriClientUtils.select(".cmp-tabs",i.container),a=esriClientUtils.select(".cmp-tabs__tablist",i.container);if(a){const i=document.createElement("button");i.classList.add("cmp-tabs__left");const s=document.createElement("button");s.classList.add("cmp-tabs__right"),e.appendChild(i),e.appendChild(a),e.appendChild(s),t.insertBefore(e,t.firstChild)}},i.addPaddleTabStructure(),i.navContainer=i.container.querySelector(".cmp-tabs__tablist-wrapper"),i.nav=i.navContainer.querySelector(".cmp-tabs__tablist"),i.navTabs=i.navContainer.getElementsByClassName("cmp-tabs__tab"),i.tabSections=i.container.getElementsByClassName("cmp-tabs__tabpanel"),i.navLeft=i.navContainer.querySelector(".cmp-tabs__left"),i.navRight=i.navContainer.querySelector(".cmp-tabs__right"),i.numTabs=Number(i.navTabs.length),i.numTabs<=1&&(i.navLeft.style.display="none",i.navRight.style.display="none",i.numTabs<=0))return;i.navContainerWidth=parseInt(i.navContainer.offsetWidth,10),i.navWidth=parseInt(i.nav.offsetWidth,10),i.containerDiff=i.navContainerWidth-i.navWidth,i.cardWidth=i.navTabs.item(0).offsetWidth,i.travelDistance=2*i.cardWidth,i.isLeftMost=!0,i.isRightMost=!1,i.swipeLock=i.cardWidth*i.numTabs-i.cardWidth,i.isContactPage||(i.mapTabIdToTabText=function(){const e={};for(let t=0;t<i.navTabs.length;t++){const a=i.navTabs[t].innerText.replace(/\s+/g,"-").toLowerCase();e[i.navTabs[t].id]=a}return e},i.tabIdsToTabText=i.mapTabIdToTabText(),i.mapTabTextToTabId=function(){const e={};for(const t in i.tabIdsToTabText)e[i.tabIdsToTabText[t]]=t;return e},i.tabTextToTabIds=i.mapTabTextToTabId()),i.setActiveTabIndex=function(){const e=decodeURI(window.location.hash).slice(1).replace(/-/g," ").toLowerCase();if(window.location.hash)if(i.isContactPage){if(document.getElementById(window.location.hash)){let e=0;for(;e<i.navTabs.length;){if(i.navTabs[e].id===window.location.hash.slice(1))return e;e++}}}else if(i.tabTextToTabIds[decodeURI(window.location.hash.slice(1))]){let t=0;for(;t<i.navTabs.length;){if(i.navTabs[t].innerText.replace(/-/g," ").toLowerCase()===e)return t;t++}}if(i.navTabs&&i.navTabs.length)for(let e=0;e<i.navTabs.length;e++)if(i.navTabs[e].classList.contains("cmp-tabs__tab--active"))return e;return 0},i.activeTabIndex=i.setActiveTabIndex(),i.nav.scrollLeft=i.cardWidth*i.activeTabIndex,i.debounce=function(e,t,i){let a;return function(){let s=this,n=arguments;const r=i&&!a;clearTimeout(a),a=setTimeout((function(){a=null,i||e.apply(s,n)}),t),r&&e.apply(s,n)}},i.Resize=function(){i.Draw(!0)},i.CalculateWidths=function(){i.navContainerWidth=parseInt(i.navContainer.offsetWidth,10),i.navWidth=0;for(let e=0;e<i.navTabs.length;e++)i.navWidth+=i.navTabs[e].offsetWidth;i.containerDiff=i.navContainerWidth-i.navWidth},i.Draw=function(e){i.CalculateWidths();let t=!1;window.innerWidth>=1527&&(t=!0),t?i.navTabs.length>=6?i.nav.classList.add("tab-nav--fit-6-tabs"):i.navTabs.length>=5&&i.nav.classList.add("tab-nav--fit-5-tabs"):(i.nav.classList.remove("tab-nav--fit-6-tabs"),i.nav.classList.remove("tab-nav--fit-5-tabs")),i.CalculateWidths(),window.innerWidth<=480?(i.MakeVisibleActive(),i.travelDistance=i.cardWidth):window.innerWidth<=1526?(i.travelDistance=i.cardWidth,i.nav.scrollWidth<=i.navContainer.offsetWidth&&(i.nav.style.marginLeft="calc((100vw - "+i.cardWidth*i.numTabs+"px) / 2)",i.nav.style.marginRight="calc((100vw - "+i.cardWidth*i.numTabs+"px) / 2)",i.nav.style.justifyContent="center")):(i.nav.removeAttribute("style"),i.travelDistance=2*i.cardWidth),i.CalculateWidths(),i.containerDiff>=0||t?(i.navLeft.style.display="none",i.navRight.style.display="none"):(i.navLeft.style.display="block",i.navRight.style.display="block",i.CalculateWidths(),i.activeTabIndex<=0?(i.navLeft.style.display="none",i.isLeftMost=!0):i.isLeftMost=!1,i.activeTabIndex>=i.numTabs-1||i.nav.offsetWidth+i.nav.scrollLeft>=i.nav.scrollWidth?(i.navRight.style.display="none",i.isRightMost=!0):i.isRightMost=!1)},i.MakeVisibleActive=function(){setTimeout((function(){i.ActivateTab(i.activeTabIndex),i.nav.scrollLeft=i.cardWidth*i.activeTabIndex}),350)},i.ActivateTab=function(e){[].forEach.call(i.navTabs,(function(e){e.classList.remove("cmp-tabs__tab--active")})),[].forEach.call(i.tabSections,(function(e){e.classList.remove("cmp-tabs__tabpanel--active")})),i.navTabs[e]&&i.navTabs[e].classList.add("cmp-tabs__tab--active"),i.tabSections[e].classList.add("cmp-tabs__tabpanel--active"),i.activeTabIndex=e},i.BindTabs=function(){[].forEach.call(i.navTabs,(function(e,t){e.addEventListener("click",(function(e){i.ActivateTab(t),i.isContactPage?(history.replaceState(null,null,"#"+i.navTabs[t].id),window.location.hash=i.navTabs[t].id):i.navTabs[t]&&(history.replaceState(null,null,"#"+i.tabIdsToTabText[i.navTabs[t].id]),window.location.hash=i.tabIdsToTabText[i.navTabs[t].id])}))}))},i.MoveLeft=function(){i.activeTabIndex>0&&(i.isRightMost=!1,i.nav.scrollLeft-=i.cardWidth,i.activeTabIndex--,i.isContactPage?(history.replaceState(null,null,"#"+i.navTabs[i.activeTabIndex].id),window.location.hash=i.navTabs[i.activeTabIndex].id):(history.replaceState(null,null,"#"+i.tabIdsToTabText[i.navTabs[i.activeTabIndex].id]),window.location.hash=i.tabIdsToTabText[i.navTabs[i.activeTabIndex].id]),setTimeout((function(){i.Draw()}),350))},i.MoveRight=function(){i.activeTabIndex<i.numTabs-1&&(i.isLeftMost=!1,i.nav.scrollLeft+=i.cardWidth,i.activeTabIndex++,i.isContactPage?(history.replaceState(null,null,"#"+i.navTabs[i.activeTabIndex].id),window.location.hash=i.navTabs[i.activeTabIndex].id):(history.replaceState(null,null,"#"+i.tabIdsToTabText[i.navTabs[i.activeTabIndex].id]),window.location.hash=i.tabIdsToTabText[i.navTabs[i.activeTabIndex].id]),setTimeout((function(){i.Draw()}),350))};const s=new Hammer(i.navContainer);s.on("swipeleft",i.MoveRight),s.on("swiperight",i.MoveLeft),i.Draw(),i.navLeft.addEventListener("click",i.MoveLeft),i.navRight.addEventListener("click",i.MoveRight),window.addEventListener("resize",(function(){window.innerWidth!==a&&(i.Draw(!0),i.debounce(i.Resize,100))})),i.BindTabs(),i.isContactPage||i.tabTextToTabIds[decodeURI(window.location.hash.slice(1))]!==i.navTabs[i.activeTabIndex].id||setTimeout((()=>{i.navTabs[i.activeTabIndex]&&(document.getElementById(i.navTabs[i.activeTabIndex].id).click(),document.getElementById(i.navTabs[i.activeTabIndex].id).scrollIntoView({behavior:"smooth"}))}),500)},document.addEventListener("DOMContentLoaded",(function(){[].slice.call(document.querySelectorAll(".esri-tabs")).forEach((function(e,t){!e.classList.contains("section-scroller")&&esriClientUtils.select(".cmp-tabs__tablist",e)&&new coreTabs(e,t+1)}))})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){this.setExperienceFragmentToFullHeight(e);const t=this.createSnapScrollParent(e);let i=this.createSnapScrollChildren(t);const a=this.getScrollerNavListElements(e),s=this.createListOfScrollerNavLinkTitles(a);window.addEventListener("resize",(()=>{this.createScrollerNav(t,i,e,s)})),this.createScrollerNav(t,i,e,s),this.removeAnyDownChevrons(),this.createChevronsForTabPanels(i,s),esriClientUtils.select(".section-scroller .cmp-tabs__tablist").style.opacity=1}setExperienceFragmentToFullHeight(){let e=esriClientUtils.selectAll(".experiencefragment",t);e.length&&e.forEach((e=>{e.style.height="100vh";let t=esriClientUtils.select(".calcite-container",e),i=esriClientUtils.select(".accordian",e);if(t&&i){let a=i.getBoundingClientRect().height;t.style.height=e.getBoundingClientRect().height-a+"px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center"}}))}removeAnyDownChevrons(){esriClientUtils.selectAll("#scroll-down").forEach((e=>{e.parentNode.removeChild(e)}))}createChevronsForTabPanels(e,t){let i=this.getNavThemesFromEachChild(e);for(let a=0;a<e.length-2;a++){let s=document.createElement("a");s.classList.add("chevron-down"),s.setAttribute("href","#scroll-id-"+(a+1)),s.setAttribute("data-event","track-component"),s.setAttribute("data-component-name","section-scroll-chevron"),s.setAttribute("data-component-link","Chevron - "+t[a+1]),s.onclick=function(t){t.preventDefault(),t.stopPropagation(),e[a+1].scrollIntoView({behavior:"smooth"})};let n=i[a]||"light-text";s.setAttribute("data-theme",n),e[a].appendChild(s)}}createSnapScrollParent(e){let t=esriClientUtils.select(".cmp-tabs",e),i=esriClientUtils.select("#globalfooter");return i&&t&&t.appendChild(i),t}createSnapScrollChildren(e){let t=this.getChildren(e),i=0,a=esriClientUtils.select("#globalnav");return t.reduce(((e,t)=>{if("DIV"===t.tagName&&"cmp-tabs__tablist-wrapper"!=t.className){if("globalfooter"!==t.id){if(t.setAttribute("id","scroll-id-"+i),0===i&&a){let e=a.getBoundingClientRect().height,i=t.getBoundingClientRect().height,s=esriClientUtils.select(".es-nav-wrapper");t.style.height=s?i-e-s.getBoundingClientRect().height+"px":i-e+"px"}i++}e.push(t)}return e}),[])}getScrollerNavListElements(e){let t=esriClientUtils.select(".cmp-tabs__tablist",e);return esriClientUtils.selectAll("li",t)}createListOfScrollerNavLinkTitles(e){return e.reduce(((e,t)=>(e.push(t.innerText),e)),[])}getChildren(e){return Array.from(e.childNodes)}createScrollerNav(e,t,i,a){let s=this.getNavThemesFromEachChild(t);this.setInitialNavTheme(s[0]);let n=esriClientUtils.select(".cmp-tabs__tablist",i);esriClientUtils.selectAll("li",n).forEach(((e,i)=>{let s=document.createElement("a");s.setAttribute("href","#"+t[i].id),s.innerText=a[i],e.innerHTML="",e.appendChild(s)}));let r=esriClientUtils.selectAll(".cmp-tabs__tab a",e);this.addClickListenersToLinks(r,t);let l=this.getScrollableChildrenRanges(t);this.connectSectionScrollerNavToSnapScrollParentNode(e,l,r,s)}getNavThemesFromEachChild(e){let t=e.reduce(((e,t)=>{let i=esriClientUtils.select("[data-theme]",t)||esriClientUtils.select(".light-mode",t)||esriClientUtils.select(".dark-mode",t);return i&&i.attributes["data-theme"]&&"undefined"!==i.attributes["data-theme"].value&&"null"!==i.attributes["data-theme"].value?e.push(i.attributes["data-theme"].value):i&&i.classList.contains("light-mode")?e.push("light-text"):i&&i.classList.contains("dark-mode")?e.push("dark-text"):e.push("light-text"),e}),[]);return esriClientUtils.select("#globalfooter")&&(t[t.length-1]="dark-text",t[t.length-2]="dark-text"),t}setInitialNavTheme(e){let t=esriClientUtils.select(".cmp-tabs__tablist");t&&t.setAttribute("data-theme",e||"light-text")}addClickListenersToLinks(e,t){e.forEach(((e,i,a)=>{e.onclick=0===i?function(e){e.preventDefault(),e.stopPropagation(),window.scroll({top:0,left:0,behavior:"smooth"})}:function(e){e.preventDefault(),e.stopPropagation(),t[i].scrollIntoView({behavior:"smooth"})}}))}getScrollableChildrenRanges(e){let t=0;return e.reduce(((e,i,a,s)=>{let n,r,l=i.getBoundingClientRect();return 0==a?(n=0-l.height/2,r=l.height-l.height/2,t+=l.height):(n=t-l.height/2,r=t+l.height/2,t+=l.height),e.push([n,r]),e}),[])}connectSectionScrollerNavToSnapScrollParentNode(e,t,i,a){let s=esriClientUtils.select(".cmp-tabs__tablist");window.onscroll=function(e){let n=!1;esriClientUtils.select(".cmp-tabs__tab--active")&&esriClientUtils.select(".cmp-tabs__tab--active").classList.remove("cmp-tabs__tab--active");for(let e=0;e<t.length&&!n;e++){let r=t[e][0],l=t[e][1];window.pageYOffset>=r&&window.pageYOffset<=l&&(i[e].parentNode.classList.add("cmp-tabs__tab--active"),n=!0,s.setAttribute("data-theme",a[e]||"light-text")),window.pageYOffset>t[t.length-2][1]&&(i[i.length-1].parentNode.classList.add("cmp-tabs__tab--active"),n=!0,s.setAttribute("data-theme",a[e]||"light-text"))}}}}const t=esriClientUtils.select(".section-scroller");t&&setTimeout((function(){new e(t)}),500)}));new class{constructor(){const e=new URLSearchParams(window.location.search),t=e.get("sf_id");t&&(this.deleteCookie("epn_id"),document.cookie=`sf_id=${t};path=/;${"https:"===window.location.protocol?"secure;":""}`);const i=e.get("epn_id");i&&(this.deleteCookie("sf_id"),document.cookie=`epn_id=${i};path=/;${"https:"===window.location.protocol?"secure;":""}`)}deleteCookie(e){document.cookie=`${e}=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;`}};var i=document.querySelector(".custom-underline-text-input");function a(e,t=0){var i=document.querySelector(".custom-underline-text-input-measure"),a=document.querySelector(".custom-underline-text-input-blueline"),s=window.getComputedStyle(e),n=s.getPropertyValue("font-family"),r=s.getPropertyValue("font-size");function l(){var s=e.value.split("");let n="";s.forEach((e=>{n+=" "!==e?e:" "})),i.textContent=n;var r=window.getComputedStyle(i).getPropertyValue("width");a.style.width=parseInt(r.slice(0,-2))+t+"px"}i.style["font-family"]=n,i.style["font-size"]=r,e.addEventListener("keyup",(function(e){l()})),l()}i?a(i):window.esri_sha_underlineAnimation=a,document.addEventListener("DOMContentLoaded",(function(){class e{constructor(){this.isFullScrn=this.isDocType=!1,this.bodyNode=document.querySelector("body"),this.identifyTriggers();const e=esriClientUtils.selectAll('[data-modal="true"]');this.returnElement=null,this.playBtn=null,this.bodyTag=document.getElementsByTagName("body")[0],this.htmlTag=document.getElementsByTagName("html")[0],e&&e.length&&this.createModal(e)}closeModal(e,t,i){const a=window.matchMedia("(min-width: 1024px)"),s=this;if(s.bodyNode.contains(e)){new Promise((t=>{setTimeout((()=>{null!==e.parentNode&&e.parentNode.removeChild(e),t()}),300)})).then((()=>{s.bodyNode.setAttribute("aria-hidden","false"),s.bodyNode.setAttribute("tabindex",0);const e=s.bodyNode.querySelector("[data-return-btn]");t&&(e.removeAttribute("data-return-btn"),e.setAttribute("tabindex",0),t.setAttribute("tabindex",0),t.setAttribute("aria-hidden","false"),t.focus())})).catch((e=>{console.warn("Error Close Modal",e)}))}null!==i&&i.length>0&&i.forEach((e=>{const t=esriClientUtils.select("video",e);if(null!==t&&t.hasAttribute("data-video-src")&&(t.src=t.getAttribute("data-video-src"),a.matches&&t.play()),null!==e.lastElementChild){const i=esriClientUtils.select("video",e.lastElementChild);null!==i&&i.hasAttribute("data-video-src")&&(i.src=i.getAttribute("data-video-src"),a.matches&&t.play())}})),this.bodyTag=document.getElementsByTagName("body")[0],this.htmlTag=document.getElementsByTagName("html")[0],this.bodyTag.removeAttribute("style"),this.htmlTag.removeAttribute("style"),this.bodyTag.removeAttribute("aria-hidden","true"),this.bodyTag.removeAttribute("tabindex","0")}identifyTriggers(){const e=esriClientUtils.selectAll("[data-modal='true']");e&&e.length&&e.forEach((e=>{const t=e.getAttribute("href"),i=new RegExp("co3=true"),a=new RegExp("modal=true"),s=new RegExp("lang=true"),n=new RegExp(/\?/);if(!(i.test(t)||a.test(t)||s.test(t)||e.hasAttribute("data-href"))){const i=`${t}${n.test(t)?"&":"?"}co3=true`;e.setAttribute("href",i)}if(e.hasAttribute("data-href")){const t=e.getAttribute("data-href"),i=`${t}${n.test(t)?"&":"?"}co3=true`;e.setAttribute("data-href",i)}}));const t=esriClientUtils.selectAll("a[href*='co3=true'],a[href*='co3=full'],a[href*='co3'],.calcite-button-wrapper[data-href*='co3'],a[href*='modal=true'],.calcite-button-wrapper[data-href*='modal']"),i=esriClientUtils.selectAll("a[href*='lang=true']");i&&i.length&&i.forEach((e=>{const t=e.getAttribute("href");if(t){const i=/lang=true/i.test(t),a=t.indexOf("?");if(i){e.addEventListener("click",(e=>{e.preventDefault()}));const i=t.replace(/lang=true/i,"").replace(/modal=true/i,"").replace("?&","?").replace("&&","&").replace(/\&$/,""),s=window.location.host;let n="";s.indexOf("localhost")>-1?n=window.location.pathname.split("/")[4]:s.indexOf("aem-author-dev.esri.com")>-1||s.indexOf("aem-author-stg.esri.com")>-1||s.indexOf("aem-author-prd.esri.com")>-1?n=window.location.pathname.split("/")[3]:(s.indexOf("aem-dev.esri.com")>-1||s.indexOf("aem-stg.esri.com")>-1||s.indexOf("aem-prd.esri.com")>-1||s.indexOf("www.esri.com")>-1)&&(n=window.location.pathname.split("/")[1]),e.setAttribute("data-modal","true"),a>-1?e.setAttribute("data-url",`${i}&locale=${n}`):e.setAttribute("data-url",`${i}?locale=${n}`)}}})),t&&t.length&&t.forEach((e=>{const t=e.getAttribute("href")||e.getAttribute("data-href"),i=t.indexOf("form=true");if(t){let a;e.addEventListener("click",(e=>{e.preventDefault()})),t.match(/videoid=.*/)?a=t.replace(/esri.com\/videos\/watch\?videoid=/,"esri.com/videos/iframe?videoid="):t.match(/youtube.com\/embed/)?a=t.replace(/youtube.com\/embed\?v=/,"esri.com/videos/iframe?videoid="):t.match(/youtube.com\/watch/)?a=t.replace(/youtube.com\/watch\?v=/,"esri.com/videos/iframe?videoid="):t.match(/youtu.be/)?a=t.replace(/youtu.be\//,"www.esri.com/videos/iframe?videoid="):t.match(/(https:\/\/vimeo\.com)/)?(a=t.replace(/(https:\/\/vimeo\.com)/,"https://player.vimeo.com/video"),a=a.concat("&transparent=0")):a=t.match(/(https:\/\/player\.vimeo\.com)/)?t.concat("&transparent=0"):t.match(/(https:\/\/mediaspace\.esri\.com\/media\/t)/)?t.replace(/(https:\/\/mediaspace\.esri\.com\/media\/t)/,"https://mediaspace.esri.com/embed/secure/iframe/entryId"):t,a=a.replace(/co3=true/i,"").replace(/form=true/i,"").replace("?&","?").replace("&&","&").replace(/\&$/,"").replace(/\?$/,""),e.setAttribute("data-modal","true"),e.setAttribute("data-url",`${a}`),i>-1&&e.setAttribute("data-form","true"),e.style.cursor="pointer",t.match(/co3=full/)&&(this.isFullScrn=!0),t.match(/co3$/)&&(this.isDocType=!0)}}))}preventBgroundScroll(){this.bodyTag.setAttribute("style","overflow: hidden;"),this.htmlTag.setAttribute("style","overflow-y: unset;"),this.bodyTag.setAttribute("aria-hidden","true"),this.bodyTag.setAttribute("tabindex","-1")}preventExit(){const e=document.getElementsByClassName("co3-modal")[0],t=document.getElementsByClassName("modaltransition")[0],i=document.getElementsByClassName("icon-ui-close")[0];t.addEventListener("focus",(t=>{t.preventDefault(),e.focus()})),e.addEventListener("keyup",(e=>{e.shiftKey&&"Tab"===e.key&&i.focus()}))}createModal(e){e.forEach(((e,t)=>{e.addEventListener("click",(t=>{let i=null,a=null;const s=[].slice.call(document.querySelectorAll(".hbg-container")).filter((e=>0==e.classList.contains("has-background")));this.preventBgroundScroll(),null!==s&&s.length>0&&s.forEach((e=>{a=esriClientUtils.select("video",e),null!==e.lastElementChild&&(i=esriClientUtils.select("video",e.lastElementChild),null!==i&&(i.src=i.hasAttribute("data-video-src")?DOMPurify.sanitize(i.getAttribute("data-video-src")):" ",i.hasVid=!0,i.pause())),null!==a&&(a.src=DOMPurify.sanitize(a.getAttribute("data-video-src")),a.pause())})),this.playBtn=e.querySelector("button")?e.querySelector("button"):t.target,this.returnElement=t.target.parentNode,this.returnElement.setAttribute("data-return-btn",""),this.bodyNode.setAttribute("aria-hidden","true"),this.bodyNode.setAttribute("tabindex",-1),this.playBtn&&this.playBtn.setAttribute("tabindex",-1),t.preventDefault();const n=e.getAttribute("data-modal"),r=e.getAttribute("data-form"),l=e.getAttribute("data-url");if("true"===n&&l&&null!=l){if(l.indexOf("go.pardot.com")>-1||l.indexOf("go.esri.com")>-1||r)var c=!0;const e=document.createElement("div"),t=document.createElement("calcite-loader"),i=document.createElement("div");let a=document.createElement("div");const n=document.createElement("div"),o=document.createElement("iframe"),d=document.createElement("div");d.setAttribute("class","modaltransition"),d.setAttribute("tabindex","0"),t.setAttribute("active","true"),t.setAttribute("style","height: 100%;"),n.setAttribute("class","iframe-container"),n.setAttribute("tabindex","-1"),e.setAttribute("class","co3-modal calcite-mode-dark"),e.setAttribute("tabindex","0"),e.setAttribute("aria-label","This is a dialog window which contains video and overlays the main content of the page. Tab through to find play button."),e.setAttribute("data-tabbable-attr","modal"),e.setAttribute("aria-hidden","false"),this.isDocType&&e.setAttribute("data-modal-type","doctype"),o.setAttribute("src",`${l}`),c?(i.setAttribute("class","co3-modal-box pardot-form"),o.style.overflowX="hidden"):(i.setAttribute("class","co3-modal-box"),i.setAttribute("tabindex","-1"),o.setAttribute("scrolling","no"),o.setAttribute("sandbox","allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation"),o.setAttribute("allow","autoplay *; fullscreen *; encrypted-media *")),this.isFullScrn&&(e.setAttribute("data-modal-type","fullscreen"),e.classList.add("animate-full","fadeUpFull")),a.setAttribute("class","modal-close-button"),a.innerHTML="<calcite-icon icon='x' aria-label='modal close' role='button' tabindex='0' scale='l' alignment='center' aria-hidden='true'></calcite-icon>",i.appendChild(n),i.appendChild(t),n.appendChild(o),e.appendChild(i);null==esriClientUtils.select(".co3-modal")&&document.body.appendChild(e),i.appendChild(a),i.appendChild(d),e.focus(),a=document.getElementsByClassName("co3-modal")[0],a.parentNode&&(a.addEventListener("keypress",(e=>{e.preventDefault();13===(e.which||e.keyCode)&&this.closeModal(a,this.playBtn,s)})),a.addEventListener("keyup",(e=>{e.preventDefault();27===(e.which||e.keyCode)&&this.closeModal(a,this.playBtn,s)})),a.addEventListener("click",(e=>{e.preventDefault(),this.closeModal(a,this.playBtn,s)}))),this.preventExit();const h=esriClientUtils.select(".co3-modal-box iframe");h&&null!=h&&h.addEventListener("load",(e=>{i.removeChild(t)}))}}))}))}}function t(t,i=15e3){return new Promise(((a,s)=>{const n=Date.now(),r=setInterval((()=>{if(Date.now()-n>i)clearInterval(r),function(){const e=document.querySelector(".channel-playlist--container"),t=e&&esriClientUtils.select("calcite-loader",e);null!==t&&t.parentNode.remove()}(),s("");else{const i=document.querySelector(t);if(i){const t=i.closest(".cmp-embed"),s=esriClientUtils.select(".channel-playlist__search-icon",t),n=esriClientUtils.select("#channel-playlist__searchInput",t),l=esriClientUtils.select(".channel-playlist__search-close",t),c=esriClientUtils.select(".channel-playlist__relevance",t),o=esriClientUtils.select(".channel-playlist__descending-button",t),d=esriClientUtils.select(".channel-playlist__ascending-button",t),h=esriClientUtils.select(".channel-playlist__AZ-button",t),u=esriClientUtils.select(".channel-playlist__ZA-button",t),m=300;let p;c.addEventListener("click",(()=>{setTimeout((()=>{new e}),300)})),o.addEventListener("click",(()=>{setTimeout((()=>{new e}),300)})),d.addEventListener("click",(()=>{setTimeout((()=>{new e}),300)})),h.addEventListener("click",(()=>{setTimeout((()=>{new e}),300)})),u.addEventListener("click",(()=>{setTimeout((()=>{new e}),300)})),window.addEventListener("scroll",(()=>{clearTimeout(p),p=setTimeout((function(){new e}),m)})),s.addEventListener("click",(()=>{setTimeout((()=>{new e}),600)})),n.addEventListener("keypress",(t=>{"Enter"===t.key&&setTimeout((()=>{new e}),600)})),l.addEventListener("click",(()=>{setTimeout((()=>{new e}),600)})),clearInterval(r),a(i),new e}}}),330)}))}!async function(){try{await t(".channel-playlist--column",15e3)}catch(e){}}(),new e}));class s{constructor(){this.priceCaseInfo={},this.requiresVerification=!1,this.priceCaseResp,this.verificationId=null,this.verificationType=null,this.isDistributor=!1}async init(e){const t=e.getAttribute("data-componentid"),i=document.querySelector(`[data-component-meta-id="${t}"]`);if(this.requiresVerification=i.getAttribute("data-verification-needed")||!1,this.verificationType=i.getAttribute("data-verification-type")||null,"true"===this.requiresVerification){const e=new URLSearchParams(window.location.search.slice(1)).get("verificationId");e&&(this.verificationId=e)}return this.isDistributor=this.getDistributorConfig(),this.priceCaseInfo=this.getPriceCaseInfo(i),this.priceCaseResp=await this.getPriceMssg(),this.mapActivePriceCase(t)}mapActivePriceCase(e){const t=this.priceCaseInfo,i=this.priceCaseResp;return"ROW"===i.zone?{case:"ROW",componentId:e}:!i.errorType||i.errorType.length<2||"logIntoSeePriceMessage"==i.errorType||"selectCustomerNumberMessage"==i.errorType?{case:null,componentId:e}:{case:t[i.errorType],componentId:e}}getPriceCaseInfo(e){const t={};return[].slice.call(e.querySelectorAll("option")).forEach((e=>{const i=e.getAttribute("data-btnlabel"),a=e.getAttribute("data-linkmssg"),s=e.getAttribute("data-linkurl"),n=e.getAttribute("data-errormssg");t[n]={btnLabel:i,linkMssg:a,linkURL:s}})),t}getDistributorConfig(){return"preview.esri.com/"!=`${location.host}/`}async getPriceMssg(){const e={country_code:await this.getCountryCode(),verificationNeeded:"false"},t=this.getSelectedZone();t&&(e.selectedZone=t),"true"==this.requiresVerification&&this.verificationType&&(e.verificationNeeded="true",e.verificationType=this.verificationType,this.verificationId&&(e.verificationId=this.verificationId)),this.isDistributor&&(e.distributor=this.isDistributor);try{return await axios({method:"post",url:"/bin/esri/productpricing",data:e}).then((e=>e.data))}catch(e){return console.error({error:e}),{error:`catch API Error: [${e}]`}}}getSelectedZone(){const e=Cookies.get("selectedZone");return e||null}async getCountryCode(){if("undefined"!=typeof Cookies){const e=Cookies.get("omniCoutryCode");if(e)return e}const e=await this.getLocalGeoIP();return e||"US"}async getLocalGeoIP(){let e=null;if("undefined"!=typeof geoip2){const t=new Promise(((e,t)=>{geoip2.insights((t=>{e(t.country.iso_code)}))}));await t.then((t=>{e=t}))}return e}}document.addEventListener("DOMContentLoaded",(()=>{if([].slice.call(document.querySelectorAll(".search-results")).length){const e=[].slice.call(document.querySelectorAll("[data-buycard-app]"));e.length&&e.forEach((e=>{!async function(e){const t=new s,i=await t.init(e);window.esri_priceCase=i}(e)}))}})),document.addEventListener("DOMContentLoaded",(function(){if([].slice.call(document.querySelectorAll(".buy-card")).length){let e=[].slice.call(document.querySelectorAll("[data-buycard-app]"));e.length&&e.forEach((e=>{!async function(e){let t=new s,i=await t.init(e);!function(e){let t=document.querySelector(`[data-componentid="${e.componentId}"]`);if(t){let i=[].slice.call(t.querySelectorAll("[data-price-container]")),a=[].slice.call(t.querySelectorAll("[data-default-cta]"));if("ROW"==e.case)return void a.forEach((e=>{e.classList.remove("hidden")}));if(null==e.case)return i.forEach((e=>{e.classList.remove("hidden")})),void a.forEach((e=>{e.classList.remove("hidden")}));let s=e.case.btnLabel||"Please author button",n=`<div class="calcite-button-wrapper" \n                        data-event="track-store-component" \n                        data-component-name="Buy Cards" \n                        data-product-link="Launch Now" \n                        data-component-link-type="button">\n                        <calcite-button  \n                        appearance="solid" \n                        href="${e.case.linkURL}">${s}</calcite-button></div>`,r=t.querySelectorAll("[data-cta-wrapper]");r.length&&r.forEach((e=>{e.innerHTML=n}))}}(i)}(e)}))}let e=[].slice.call(document.querySelectorAll(".bc-block-group"));if(e.length){e.forEach((e=>{let t=[].slice.call(e.querySelectorAll(".card.block"));t.length&&t.forEach((e=>{let t=[].slice.call(e.querySelectorAll("[data-product-type]"));t.length&&t.forEach((e=>{let t=e.getAttribute("data-product-type").trim().split(","),i=[];t.length&&t.forEach((e=>{if(e.indexOf(":")>-1){let t=e.split(":")[1];if(t.indexOf("/")){let e=t.split("/");t=e[e.length-1];let i=/-/gi;t=t.replace(i," ")}i.push(t)}else i.push(e)}));let a=i.length>1?`${i[0]}, ${i[1]}`:i[0];e.setAttribute("data-product-type",a),e.innerHTML=a}))}))})),r(),window.addEventListener("resize",(t=r,i=150,function(){var e=this,s=arguments;clearTimeout(n),n=setTimeout((function(){n=null,a||t.apply(e,s)}),i),a&&!n&&t.apply(e,s)}))}var t,i,a,n;function r(){let e=document.querySelector(".buy-cards").offsetWidth,t=[].slice.call(document.querySelectorAll(".bc-card"));if(t.length>0&&null!==t){let i=t[0].offsetWidth,a=Math.floor(e/i),s=1,n=1;t.forEach(((e,t)=>{s=0!=t&&t%a==0?s+1:s,[].slice.call(e.querySelectorAll("[data-component-grid]")).forEach((e=>{e.setAttribute("data-component-grid",`r${s}-c${n}`)})),n=n==a?1:++n}))}}})),window.addEventListener("DOMContentLoaded",(e=>{let t=[].slice.call(document.querySelectorAll("#sraForm"));t.length&&t.forEach((e=>{e.addEventListener("submit",(e=>{e.preventDefault();let t=e.target,i=t.querySelector("#searchInput"),a=`${t.getAttribute("data-search-path")}`;if(i.value){let e=`${a}`;/^(http|https):\/\//g.test(location.origin)||(e=`${location.origin}${e}`);let t=new URLSearchParams("");t.append("q",`${i.value}`),window.location.href=`${e}?${t}`}}))}))})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){this.initialize(e)}initialize(e){let t=this.getAllTabPanels(e);this.selectRandomTabPanel(t)}getAllTabPanels(e){return e.querySelectorAll(".cmp-tabs__tabpanel")}selectRandomTabPanel(e){e=this.clearActiveTabPanel(e),this.setActiveRandomPanel(e)}getRandomTabPanelIndex(e){return window.crypto.getRandomValues(new Uint32Array(1))[0]%e.length}clearActiveTabPanel(e){let t=!1,i=0;for(;!t&&i<e.length;)e[i].classList.contains("cmp-tabs__tabpanel--active")&&(e[i].classList.remove("cmp-tabs__tabpanel--active"),t=!0),i++;return e}setActiveRandomPanel(e){e[this.getRandomTabPanelIndex(e)].classList.add("cmp-tabs__tabpanel--active")}}const t=esriClientUtils.selectAll(".tab-randomizer");t.length>0&&t.forEach((t=>{new e(t)}))})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){this.initialize(e)}initialize(e){const t=this.getAllTabs(e),i=this.getAllTabPanels(e);this.moveIcons(t,i)}getAllTabs(e){return e.querySelectorAll(".cmp-tabs__tab")}getAllTabPanels(e){return e.querySelectorAll(".cmp-tabs__tabpanel")}moveIcons(e,t){e&&e.length&&t&&t.length&&Array.prototype.slice.call(t,0).forEach(((t,i)=>{this.moveIcon(t,e[i])}))}moveIcon(e,t){const i=e.querySelector(".tab--icon");i&&t.prepend(i)}}const t=esriClientUtils.selectAll(".tab-icons");t.length>0&&t.forEach((t=>{new e(t)}))}));class n{constructor(){this.imgSVGz=[].slice.call(document.querySelectorAll("img.svg")),this.convertToSVG(this.imgSVGz)}convertToSVG(e,t){e.forEach((e=>{let t=e.getAttribute("src"),i=e.getAttribute("alt"),a=e.getAttribute("data-theme");t.indexOf(".svg")>-1&&function(e,t,i=()=>{}){const a=new XMLHttpRequest;a.addEventListener("readystatechange",(()=>{4===a.readyState&&(200===a.status?t(a.responseText):i())})),a.open("GET",e),a.send()}(`${t}`,(t=>{t=(t=t.replace(/id=\"icon-ui-svg\"/g,'id="icon-ui-svg" class="icon-ui-svg"')).replace(/id=\"icons-ui-svg\"/g,'id="icon-ui-svg" class="icon-ui-svg"');let s=(new DOMParser).parseFromString(t,"text/xml"),n=s.querySelector("svg");if(i&&null!==i){const e=document.createElement("title"),t=s.querySelector("svg").firstElementChild;""!==t.innerHTML?(t.innerHTML=`${i}`,t.setAttribute("role","image")):(e.setAttribute("stroke","none"),e.setAttribute("stroke-width","1px"),e.innerHTML=`${i}`,e.setAttribute("role","image"),n.insertBefore(e,t))}else n.setAttribute("aria-hidden","true");if(a&&null!==a){const e=s.querySelector("svg");e.querySelector(".icon-ui-svg--base, .icons-ui-svg--base")&&null!=e.querySelector(".icon-ui-svg--base, .icons-ui-svg--base")&&(e.querySelector(".icon-ui-svg--base, .icons-ui-svg--base").style.fill=a),e.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary")&&null!=e.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary")&&(e.querySelector(".icon-ui-svg--primary, .icons-ui-svg--primary").style.fill=a)}null!==e.parentNode&&e.parentNode.replaceChild(s.querySelector("svg"),e)}))}))}}document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){let t=e.querySelector(".cmp-image__image");if(null!==t){let i=e.querySelector(".cmp-image").getAttribute("data-asset");if(null!==i){if(".svg"===i.slice(-4)){let e=new n;t.setAttribute("src",i),e.convertToSVG([t])}}}}}setTimeout((function(){const t=esriClientUtils.selectAll(".esri-image");t.length>0&&t.forEach((t=>{new e(t)}))}),500)})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){this.videoElems=e,this.activateVidSrc(this.videoElems),this.addLoopPlay(this.videoElems);const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=new IntersectionObserver((function(e,i){e.forEach((e=>{const i=[].slice.call(document.querySelectorAll(".co3-modal"));!t&&e.isIntersecting&&i.length<1?e.target.querySelector("[data-loop-video]").play():e.target.querySelector("[data-loop-video]").pause()}))}),{root:null,rootMargin:"0px",threshold:.5});this.videoElems.forEach((e=>{i.observe(e.parentElement)}))}createSrcTag(e,t){const i=e,a=t,s=i.firstElementChild;if(null!==s){i.removeChild(s);const e=document.createElement("source");return e.setAttribute("data-src",a),e.setAttribute("src",a),e.setAttribute("type","video/mp4"),e}}activateVidSrc(e){const t=window.matchMedia("(min-width: 768px)");e.forEach((e=>{const i=e.getAttribute("data-video-src"),a=e.getAttribute("data-video-type");null!==i&&i.length>0&&("foreground"==a&&e.appendChild(this.createSrcTag(e,i)),"background"==a&&t.matches&&e.appendChild(this.createSrcTag(e,i)))}))}addLoopPlay(e){e.forEach((e=>{"true"==e.getAttribute("data-loop-video")&&e.setAttribute("loop","")}))}}const t=[].slice.call(document.querySelectorAll("[data-loop-video]"));t&&t.length>0&&setTimeout((function(){new e(t)}),500)})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e,t){null!==e&&("teaser"==t&&this.getTeaserLink(e),"list"==t&&this.getListLink(e),"title"==t&&this.getTitleLink(e),"text"==t&&this.getTextLink(e),"carousel"==t&&this.getCarouselLink(e))}getTextLink(e){if(e.hasChildNodes()){const t=e.querySelectorAll("[href]");t&&t.length>0&&t.forEach(((e,t)=>{const i=e.innerHTML;this.addDataAttr(e,i,"","Core Text",t)}))}}getTitleLink(e){if(e.hasChildNodes()){const t=e.querySelectorAll(".cmp-title__link"),i=e.querySelector(".cmp-title__text"),a=!!i.querySelector(".cmp-title__link");let s="";if(t&&t.length>0&&a){const e=i.querySelector(".cmp-title__link"),a=e.getAttribute("aria-label");s=e.innerHTML,t.forEach(((e,t)=>{this.addDataAttr(e,s,a,"Core Title",t)}))}}}getListLink(e){if(e.hasChildNodes()){const t=e.querySelectorAll(".cmp-list__item-link"),i=e.parentNode.parentNode.querySelector(".title");let a="";null!==i&&(a=i.querySelector("h1").innerHTML),t&&t.length>0&&t.forEach(((e,t)=>{const i=e.querySelector(".cmp-list__item-title");this.addDataAttr(e,a,i.innerHTML,"Core List",t)}))}}getTeaserLink(e){if(e.hasChildNodes()){const t=e.querySelectorAll(".cmp-teaser__action-link"),i=e.parentNode.querySelector(".cmp-teaser__title");let a="",s="";null!==i&&(a=i.querySelector(".cmp-teaser__title-link")),null!==i&&null!==a&&(s=a.innerHTML,this.addDataAttr(a,"",s,"Core Teaser",0)),t&&t.length>0&&t.forEach(((e,t)=>{this.addDataAttr(e,s,e.innerHTML,"Core Teaser",t)}))}}getCarouselLink(e){if(e.hasChildNodes()){const t=e.querySelectorAll("button.cmp-carousel__action"),i=e.querySelectorAll("li.cmp-carousel__indicator");i.length>0&&i.forEach(((e,t)=>{const i=e.querySelector("button.indicator-title");null!==i&&this.addDataAttr(e,i.innerHTML,"","Core Carousel",t,"button")})),t&&t.length>0&&t.forEach(((e,t)=>{const i=e.getAttribute("aria-label");this.addDataAttr(e,i,"","Core Carousel",t,"button")}))}}addDataAttr(e,t,i,a,s,n){this.dataObj={},this.dataObj.eventName=a,this.dataObj.eventLink=`${t} - ${i}`,this.dataObj.eventLinkUrl=e.getAttribute("href"),this.dataObj.domain=window.location.hostname.split(".")[0],this.dataObj.index=s,this.dataObj.dataLinkType="text",this.dataObj.dataEvent="track-component",this.dataObj.linkType=this.getTypeOfLink(this.dataObj.eventLinkUrl,this.dataObj.domain),e.setAttribute("data-component-name",a),null!==i&&(t.length>0&&i.length>0&&e.setAttribute("data-component-link",`${t} - ${i}`),t.length>0&&0==i.length&&e.setAttribute("data-component-link",`${t}`),0==t.length&&i.length>0&&e.setAttribute("data-component-link",`${i}`)),"string"==typeof n?e.setAttribute("data-component-link-type",n):e.setAttribute("data-component-link-type",this.dataObj.linkType),"external"==this.dataObj.linkType&&(this.dataObj.target="_blank",this.dataObj.rel="noopener",e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),e.setAttribute("aria-describedby","new-window")),e.setAttribute("data-event","track-component"),e.setAttribute("data-component-link-placement",s),"undefined"!=typeof adobeDataLayer&&e.addEventListener("click",(()=>{adobeDataLayer.push({event:"eventCustomLink",data:{eventName:a,eventLink:i,eventLinkType:this.getTypeOfLink(this.dataObj.eventLinkUrl,this.dataObj.domain)}})}))}getTypeOfLink(e,t){const i=/(youtube\.com\/[\w\/\?\&\=]*list=[\w\&\=]*$)|(youtube\.com\/c\/)/gm,a=/(https:\/\/vimeo)|(https:\/\/player\.vimeo\.com)/gm,s=/(https:\/\/mediaspace\.esri\.com\/media\/t)|(https:\/\/mediaspace\.esri\.com\/embed)/;e||(e="");let n="";if(e&&t){const r=t.replace("www.","");if(!i.test(e)&&(e.indexOf("video")>-1||e.indexOf("watch?")>-1||e.indexOf("videoid")>-1||e.indexOf("youtu.be")>-1||e.indexOf("youtube")>-1||e.indexOf("mp4")>-1)||a.test(e)||s.test(e))n="video";else if(e.indexOf(".pdf")>-1||e.indexOf(".doc")>-1||e.indexOf(".docx")>-1||e.indexOf(".ppt")>-1||e.indexOf(".xls")>-1||e.indexOf(".xlsx")>-1||e.indexOf(".csv")>-1||e.indexOf(".txt")>-1)n="document";else if(e.indexOf("//")>-1)if("esri.com"==r||"aem-author-dev"==r||"aem-author-dev.esri.com"==r||"aem-author-stg"==r||"aem-author-stg.esri.com"==r||"aem-author-prd"==r||"aem-author-dev.esri.com"==r||"aem-author-stg"==r||"aem-author-stg.esri.com"==r||"aem-author-prd.esri.com"==r||"uat.esri.com"==r||"aem-dev.esri.com"==r||"aem-prd1.esri.com"==r||"aem-prd2.esri.com"==r||"preview.esri.com"==r||r.indexOf("localhost")>-1){n="external";const t=["www.esri","esri.com","storymaps.arcgis","storymapsstg.arcgis.com","doc.arcgis.com","arcgis.com"];for(let i=0;i<t.length;i++){const a=t[i];e.indexOf(a)>-1&&(n="internal")}}else e.indexOf(r)<0||e.indexOf(".esri.com")>-1&&e.indexOf("www")>0||i.test(e)?n="external":e.indexOf(`${r}/`)>-1&&(n="internal");else(0==e.indexOf("#")||e.indexOf("/content/esri-sites")>-1||e.indexOf("/content/distributor-sites")>-1||e.indexOf("/content/support")>-1)&&(n="internal")}return n}}const t=[].slice.call(document.querySelectorAll(".cmp-teaser__content"));null!==t&&t.forEach((t=>{new e(t,"teaser")}));const i=[].slice.call(document.querySelectorAll("ul.cmp-list"));null!==i&&i.forEach((t=>{new e(t,"list")}));const a=[].slice.call(document.querySelectorAll("div.cmp-title"));null!==a&&a.forEach((t=>{new e(t,"title")}));const s=[].slice.call(document.querySelectorAll("div.cmp-text"));null!==s&&s.forEach((t=>{new e(t,"text")}));const n=[].slice.call(document.querySelectorAll("div.cmp-carousel"));null!==n&&n.forEach((t=>{new e(t,"carousel")}))})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e){this.elements=e,this.elements.forEach(((e,t)=>{const i=e.offsetHeight,a=window.innerHeight;let s=.2;i>=a&&(s=.2*a/i);new IntersectionObserver((function(e,t){e.forEach((e=>{const t=e.target.getAttribute("data-animation");e.isIntersecting&&!e.target.classList.contains(t)&&e.target.classList.add(t)}))}),{root:null,rootMargin:"0px",threshold:s}).observe(e)}))}}function t(e){const t=[].slice.call(document.querySelectorAll(e));null!==t&&t.length>0&&t.forEach((e=>{e.classList.add("calcite-animate"),e.setAttribute("data-animation","calcite-animate__in-up")}))}t(".esri-accordion"),t(".esri-tabs");const i=[].slice.call(document.querySelectorAll(".calcite-animate[data-animation]"));i&&i.length>0&&new e(i)})),document.addEventListener("DOMContentLoaded",(()=>{const e=[].slice.call(document.querySelectorAll(".esri-text__title"));for(let t=0;t<e.length;t++){const i=e[t].innerHTML.split(""),a={"*":["<em>","</em>",null],"^":["<sup>","</sup>",null],"~":["<sub>","</sub>",null]};for(let e=0;e<i.length;e++){const t=i[e];a[t]&&(null===a[t][2]?a[t][2]=e:(i[a[t][2]]=a[t][0],i[e]=a[t][1],a[t][2]=null))}e[t].innerHTML=i.join("")}})),document.addEventListener("DOMContentLoaded",(()=>{class e{constructor(e,t,i){1===i&&this.convertHdr2H2(i),this.addClickEvent(e,i,t)}removeURLParameter(e){const t={},i=e.split("?");if(t.urlPath=i,i.length>=2){const e=i[1].split(/[&;]/g);return t.param=e,t}return e}convertHdr2H2(){const e=this.getCalciteModal(),t=e.querySelector("div"),i=document.createElement("h2");i.setAttribute("slot","header"),e.removeChild(t),e.appendChild(i)}getCFragPathNParam(e,t){const i=this.removeURLParameter(e),a="image"===i.param[1]||"image"===i.param[2],s=window.location.host+i.urlPath[0];this.getContFragJSON(s).then((e=>{this.asyncInsertCF(e,t,a)}))}async asyncInsertCF(e,t,i){const a=this.getCalciteModal();await this.injectModalContent(e,a,t,i)}injectModalContent(e,t,i,a){return new Promise((s=>{setTimeout((()=>{const n=e["jcr:content"].data.master.title,r=void 0===e["jcr:content"].data.master.description?"":e["jcr:content"].data.master.description,l=t.querySelector("h2"),c=t.querySelector("div");if(l.innerHTML=n,l.setAttribute("style","margin-bottom: 0; position: relative; top: 10px"),c.innerHTML=r,!0===a){const a=window.location.host.indexOf("localhost")>-1?":4502":"",s=window.location.protocol+"//"+window.location.hostname+a+e["jcr:content"].data.master.image,n=document.createElement("img");n.setAttribute("slot","content"),n.setAttribute("attr-indx",i),n.setAttribute("src",s),t.appendChild(n)}s(t),t.setAttribute("open","true")}),200)}))}async addClickEvent(e,t,i){const a=this.getCalciteModal(),s=await this.getCalciteClose();e.addEventListener("click",(e=>{e.preventDefault(),this.getCFragPathNParam(i,t)})),s.addEventListener("click",(e=>{e.preventDefault(),this.removeCalciteContent(a)}))}removeCalciteContent(e){const t=e.querySelector("h2"),i=e.querySelector("div"),a=e.querySelector("img");null!==t&&(t.innerHTML=""),null!==i&&(i.innerHTML=""),null!==a&&e.removeChild(a)}getCalciteClose(){const e=document.querySelector("calcite-modal");return new Promise((t=>{setTimeout((()=>{const i=e.shadowRoot.querySelector("button");return t(i),i}),800)}))}getCalciteModal(){const e=document.querySelector("calcite-modal");if(null!==e)return e}getContFragJSON(e){const t=`${window.location.protocol}//${e}.25.json`;return new Promise((function(e,i){axios({method:"get",url:`${t}`,headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}}).then((function(t){const i=t.data;e(i)})).catch((function(e){console.warn("Unable to retrieve content fragment data.",e),i(e)}))}))}}const t=document.querySelectorAll("calcite-button, calcite-link");if(null!==t){const i="modal=";t.forEach(((t,a)=>{if(t.hasAttribute("href")){const s=t.getAttribute("href");s.match(i)&&new e(t,s,a)}}))}}))})();
</script>

</body>
</html>
