<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6396-db67754ce4df0e1f.html</title>
</head>
<body>

<script>
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6396],{54004:function(e,s,o){"use strict";o.d(s,{Z:function(){return C}});var t=o(85893),i=o(35276),a=o(81197),r=o.n(a),l=o(94184),n=o.n(l),d=o(64491),c=o(67294),m=o(57702),p=o(84058),u=o(22610),v=o(23792),_=o.n(v),y=o(55746),S=o.n(y);var h=e=>{let{logo:s,title:o,description:a,buttonLabel:r,buttonHref:l,closeIcon:d,setDisplayLeads:c,className:p="",onOrderCloseClicked:v,id:y,src:h,cookiesExpireTimeInSecs:x,weChatLink:f=""}=e;const w=(0,m.a)("(min-width: 1024px)");return(0,t.jsxs)("div",{className:n()(_().popupModel,"popupModel",p),children:[(0,t.jsx)(i.Z,{src:s,className:n()(_().logo,"logo")}),(0,t.jsxs)("div",{className:n()(_().details,"details"),children:[(0,t.jsx)("h3",{dangerouslySetInnerHTML:{__html:o}}),(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:a}})]}),w?(0,t.jsx)(i.Z,{src:h,className:_().qrCode}):(0,t.jsx)(t.Fragment,{children:f.length>0&&(0,t.jsx)(u.Z,{href:f,className:_().button,onClick:()=>(e=>{let s=S().getItem("orderStatus");s=s.split(""),s[e]="1",s=s.join(""),S().setItem("orderStatus",s,x)})(y),children:r})}),(0,t.jsx)(i.Z,{src:d,className:_().closeIcon,onClick:v})]})},x=o(46066);const f={dots:!1,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,fade:!0,autoplay:!0,autoplaySpeed:4e3,arrows:!1},w=e=>{let{leadsForm:s,setDisplayLeads:o,leadsStatusFromApi:i,onOrderCloseClicked:a,orderStatusCookie:l,ec7weChatLink:n,es8weChatLink:d}=e;return(0,t.jsx)("div",{className:r().horizontalMobile,children:"2"===i&&(0,t.jsxs)(x.Z,{...f,className:r().slider,children:["0"===l[0]&&(0,t.jsx)(h,{setDisplayLeads:o,onOrderCloseClicked:a,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,weChatLink:n,...s.mobileOrderSlider[0]}),"0"===l[1]&&(0,t.jsx)(h,{setDisplayLeads:o,onOrderCloseClicked:a,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,weChatLink:d,...s.mobileOrderSlider[1]})]})})},L=e=>{let{leadsForm:s,onSubmit:o,setDisplayLeads:a,formState:l,leadsStatusFromApi:m,onOrderCloseClicked:p,orderStatusCookie:u}=e;const[v,_]=(0,c.useState)(!1);return(0,t.jsxs)("div",{className:r().desktopLeadsContainer,children:["1"===m&&(0,t.jsxs)(t.Fragment,{children:[0===l&&(0,t.jsxs)("div",{className:r().desktopLeads,onMouseEnter:()=>_(!0),children:[(0,t.jsxs)("div",{className:r().topSection,children:[(0,t.jsx)(i.Z,{src:s.form.logo}),(0,t.jsxs)("div",{className:r().details,children:[(0,t.jsx)("h3",{dangerouslySetInnerHTML:{__html:s.form.title}}),(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:s.form.description}})]})]}),(0,t.jsx)("div",{className:n()(r().bottomSection,{[r().expend]:v}),children:(0,t.jsx)(d.Z,{formData:s.form,className:"leads-form",onSubmit:o})}),(0,t.jsx)(i.Z,{src:s.form.closeIcon,className:r().closeIcon,onClick:()=>{let e;a(!1);let o=(new Date).getTime();const t=S().getItem("isReserved");"-1"!==t&&(e=window.requestAnimationFrame((function i(){const r=parseInt(S().getItem("isReserved"));if(!(r>=s.maxReservationRemindTimes))if((new Date).getTime()-o>=60*s.remindReservationIntervalInMins*1e3){if(a(!0),"-1"!==t){const e=r+1;S().setItem("isReserved",e.toString(),s.cookiesExpireTimeInSecs)}window.cancelAnimationFrame(e)}else e=window.requestAnimationFrame(i)}))),"-1"===t&&(window.cancelAnimationFrame(e),a(!1))}})]}),1===l&&(0,t.jsxs)("div",{className:r().desktopLeadsSubmitted,children:[(0,t.jsxs)("div",{className:r().topSection,children:[(0,t.jsx)(i.Z,{src:s.form.logo}),(0,t.jsxs)("div",{className:r().details,children:[(0,t.jsx)("h3",{dangerouslySetInnerHTML:{__html:s.form.submitted.title}}),(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:s.form.submitted.description}})]})]}),(0,t.jsxs)("div",{className:r().bottomSection,children:[(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:s.form.submitted.details},className:r().description}),(0,t.jsx)("a",{href:s.form.submitted.button.link,children:(0,t.jsx)(i.Z,{src:s.form.submitted.qrCode.image})}),(0,t.jsx)("p",{className:r().description,dangerouslySetInnerHTML:{__html:s.form.submitted.qrCode.title}})]}),(0,t.jsx)(i.Z,{src:s.form.closeIcon,className:r().closeIcon,onClick:()=>a(!1)})]})]}),"2"===m&&(0,t.jsx)("div",{className:r().desktopOrderPopup,children:(0,t.jsxs)(x.Z,{...f,className:r().slider,children:["0"===u[0]&&(0,t.jsx)(h,{setDisplayLeads:a,onOrderCloseClicked:p,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,...s.desktopOrderSlider[0]}),"0"===u[1]&&(0,t.jsx)(h,{setDisplayLeads:a,onOrderCloseClicked:p,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,...s.desktopOrderSlider[1]})]})})]})};var C=e=>{let{leadsForm:s,onSubmit:o,formState:i,orientation:a,leadsStatusFromApi:l,displayLeads:n,setDisplayLeads:d}=e;const u=(0,m.a)("(min-width: 1024px)"),v=S().getItem("orderStatus"),[_,y]=(0,c.useState)(""),[C,j]=(0,c.useState)("");(0,c.useEffect)((()=>{const e=parseInt(S().getItem("isReserved")),o=parseInt(S().getItem("IsOrdered"));"1"!==l&&"2"!==l&&d(!1),(e>=s.maxReservationRemindTimes||-1===e)&&"1"===l&&d(!1),e<s.maxReservationRemindTimes&&-1!==e&&"1"===l&&d(!0),(o>=s.maxOrderRemindTimes||-1===o)&&"2"===l&&d(!1),o<s.maxOrderRemindTimes&&-1!==o&&"2"===l&&d(!0)}),[l]),(0,c.useEffect)((()=>{if(u)return;(async()=>{const e=await(0,p.A)(s.weChatUrlRequestConfig[0]),o=await(0,p.A)(s.weChatUrlRequestConfig[1]);y(e),j(o)})()}),[]);const I=()=>{let e;d(!1);let o=(new Date).getTime();const t=S().getItem("IsOrdered");"-1"!==t&&(e=window.requestAnimationFrame((function i(){const a=parseInt(S().getItem("IsOrdered"));if(!(a>=s.maxOrderRemindTimes))if((new Date).getTime()-o>=60*s.remindOrderIntervalInMins*1e3){if(d(!0),"-1"!==t){const e=a+1;S().setItem("IsOrdered",e.toString(),s.cookiesExpireTimeInSecs)}window.cancelAnimationFrame(e)}else e=window.requestAnimationFrame(i)}))),"-1"===t&&(window.cancelAnimationFrame(e),d(!1))};return n?u?(0,t.jsx)(L,{leadsForm:s,onSubmit:o,setDisplayLeads:d,formState:i,leadsStatusFromApi:l,onOrderCloseClicked:I,orderStatusCookie:v}):u||"LANDSCAPE"!==a?(0,t.jsx)("div",{className:r().verticalMobile,children:"2"===l&&(0,t.jsxs)(x.Z,{...f,className:r().slider,children:["0"===v[0]&&(0,t.jsx)(h,{setDisplayLeads:d,onOrderCloseClicked:I,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,weChatLink:_,...s.mobileOrderSlider[0]}),"0"===v[1]&&(0,t.jsx)(h,{setDisplayLeads:d,cookiesExpireTimeInSecs:s.cookiesExpireTimeInSecs,onOrderCloseClicked:I,weChatLink:C,...s.mobileOrderSlider[1]})]})}):(0,t.jsx)(w,{leadsForm:s,setDisplayLeads:d,leadsStatusFromApi:l,onOrderCloseClicked:I,orderStatusCookie:v,ec7weChatLink:_,es8weChatLink:C}):u||"LANDSCAPE"===a?null:(0,t.jsx)("div",{className:r().emptyWrapper})}},86396:function(e,s,o){"use strict";o.d(s,{Z:function(){return I}});var t=o(85893),i=o(67294),a=o(83253),r=o.n(a),l=o(92904),n=o(98352),d=o.n(n),c=o(94184),m=o.n(c),p=o(75940),u=o.n(p),v=o(9669),_=o.n(v),y=o(54004),S=o(22610),h=o(35276),x=o(39194),f=o.n(x);var w=e=>{let{logo:s,title:o,description:i,buttonLabel:a,closeIcon:r,className:l="",href:n="",onClose:d=(()=>{})}=e;return(0,t.jsxs)("div",{className:m()(f().popupModel,"popupModel",l),children:[(0,t.jsx)(h.Z,{src:s,className:m()(f().logo,"logo")}),(0,t.jsxs)("div",{className:m()(f().details,"details"),children:[(0,t.jsx)("h3",{dangerouslySetInnerHTML:{__html:o}}),(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:i}})]}),n.length>0&&(0,t.jsx)(S.Z,{href:n,className:f().button,children:a}),(0,t.jsx)(h.Z,{src:r,className:f().closeIcon,onClick:d})]})},L=o(57702);var C=e=>{let{leadsForm:s,onSubmit:o,video:a,orientation:r,formState:l,leadsStatusFromApi:n,displayLeads:d,setDisplayLeads:c}=e;const[p,v]=(0,i.useState)(!0),S=(0,L.a)("(min-width: 1024px)"),[x,f]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{a.singleLeadsPopup&&async function e(){try{const s=(new Date).getTime(),{data:o}=await _().get("/bff/api/v1/live-stream-notification?timestamp=".concat(s)).catch((e=>(console.error(e),{data:{active:!1,frequency:30}})));o.active&&!x&&f(o.active),window.setTimeout(e,1e3*o.frequency)}catch(s){console.log(s)}}()}),[]),(0,t.jsxs)("div",{className:u().polyvLivestreamPlayer,children:[!S&&"LANDSCAPE"!==r&&(0,t.jsx)("div",{className:u().fsAdviceWrapper,children:p&&a.fsAdvice&&(0,t.jsxs)("div",{className:u().fsAdvice,children:[(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:a.fsAdvice}}),a.closeTooltipIcon&&(0,t.jsx)(h.Z,{src:a.closeTooltipIcon,onClick:()=>v(!1)})]})}),(0,t.jsx)("div",{className:m()(u()["polyv-player-inner-wrapper"],"player")}),s&&(0,t.jsx)(y.Z,{leadsForm:s,onSubmit:o,formState:l,orientation:r,leadsStatusFromApi:n,displayLeads:d,setDisplayLeads:c}),a.singleLeadsPopup&&x&&(0,t.jsx)(w,{...a.singleLeadsPopup,onClose:()=>f(!1)})]})};const j=e=>{let{video:s,onClose:o,title:a,type:n,vid:c,width:p,height:u,leadsForm:v,className:_="",onSubmit:y,orientation:S,formState:h,allowFullscreen:x=!0,leadsStatusFromApi:f,displayLeads:w,setDisplayLeads:L}=e;const j=(0,i.useRef)(null),[I,k]=(0,i.useState)(!1);let g=null;function b(e){const s=document.head||document.getElementsByTagName("head")[0],o={};return new Promise(((t,i)=>{if(e in o)return void t();const a=document.createElement("script");a.type="text/javascript",a.onerror=o=>{s.removeChild(a),i(new URIError("The Script ".concat(e," is no accessible.")))},a.onload=()=>{o[e]=!0,t()},s.appendChild(a),a.src=e}))}(0,i.useEffect)((()=>{const e=document.documentElement;return e.style.overflow="hidden",(0,l.zz)({event:"video",title:a,status:"start"}),()=>{e.style.overflow="auto"}}),[]),(0,i.useEffect)((()=>("polyv"===n&&b("https://player.polyv.net/resp/vod-player/latest/player.js").then((()=>{g=window.polyvPlayer({wrap:".player",width:p||window.innerWidth,height:u||"100%",vid:c,allowFullscreen:x,autoplay:!0})})),"polyvLive"===s.type&&b("https://player.polyv.net/resp/live-h5-player/latest/liveplayer.min.js").then((()=>{g=window.polyvLivePlayer({wrap:".player",width:p||window.innerWidth,height:u||"100%",uid:s.uid,vid:s.vid,allowFullscreen:x})})),()=>{g&&setTimeout((()=>g.destroy()),500)})),[]);return(0,t.jsx)(r(),{isOpen:!0,ariaHideApp:!1,shouldCloseOnOverlayClick:!1,onRequestClose:o,overlayClassName:"react-modal-customized-modal-component-overlay",className:"react-modal-customized-modal-component-content",active:!0,onClose:o,children:(0,t.jsxs)("div",{className:m()(d().videoPlayer,"videoPlayer",_),children:[(0,t.jsx)("span",{className:d().modalClose,onClick:o}),(0,t.jsxs)("div",{className:m()(d().videoWrapper,n&&"vimeo"===n?d()["vimeo-embed-container"]:""),children:[(!n||"video/mp4"===n||"video/webm"===n)&&(0,t.jsx)("video",{ref:j,onTimeUpdate:()=>{j.current.currentTime/j.current.duration>.5&&!I&&(k(!0),(0,l.zz)({event:"video",title:a,status:"50%"}))},onEnded:()=>{(0,l.zz)({event:"video",title:a,status:"complete"}),k(!1)},playsInline:!0,autoPlay:!0,muted:!0,preload:"true",controls:!0,children:(0,t.jsx)("source",{src:s.source,type:s.type})}),n&&"vimeo"===n&&(0,t.jsx)("iframe",{src:s.source,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,webkitallowfullscreen:"true",mozallowfullscreen:"true"}),n&&"polyv"===n&&(0,t.jsx)("div",{className:m()(d()["polyv-player-inner-wrapper"],"player")}),s.type&&"polyvLive"===s.type&&(0,t.jsx)(C,{leadsForm:v,onSubmit:y,video:s,orientation:S,formState:h,leadsStatusFromApi:f,displayLeads:w,setDisplayLeads:L})]})]})})};var I=e=>e.play&&(0,t.jsx)(j,{...e})},84058:function(e,s,o){"use strict";o.d(s,{A:function(){return l}});var t=o(9669),i=o.n(t),a=o(55746),r=o.n(a);const l=async e=>{try{const s=r().getItem(e.cookieKey);if(s)return s;const o={value:JSON.stringify(e.value)},t={bizData:{...e.bizData}},{data:a}=await i().post("/bff/api/v1/generate-wechat-url",{params:o,schemeParams:t});return a&&a.length>0&&r().setItem(e.cookieKey,a,24*e.cookieExpireTimeInDays*60*60),a}catch(s){console.log("fetch weChat url error",s)}}},23792:function(e){e.exports={popupModel:"PopupModel_popupModel__pG3vI",logo:"PopupModel_logo__QpbRq",details:"PopupModel_details__b9orw",qrCode:"PopupModel_qrCode__hN5xH",closeIcon:"PopupModel_closeIcon__ShQD2"}},39194:function(e){e.exports={popupModel:"SingleButtonPopup_popupModel__Hbhwv",logo:"SingleButtonPopup_logo__RzP4U",details:"SingleButtonPopup_details__tnqV4",button:"SingleButtonPopup_button__GepGk",qrCode:"SingleButtonPopup_qrCode__BH8UX",closeIcon:"SingleButtonPopup_closeIcon__C9pHe"}},81197:function(e){e.exports={verticalMobile:"liveStreamLeadsModel_verticalMobile__AI9UI",slider:"liveStreamLeadsModel_slider__Abias",desktopLeadsContainer:"liveStreamLeadsModel_desktopLeadsContainer__EZc5B",desktopLeads:"liveStreamLeadsModel_desktopLeads__n_Vxb",desktopLeadsSubmitted:"liveStreamLeadsModel_desktopLeadsSubmitted__fzSVE",topSection:"liveStreamLeadsModel_topSection__6eXCw",details:"liveStreamLeadsModel_details__VQHBf",bottomSection:"liveStreamLeadsModel_bottomSection__JC5pb",expend:"liveStreamLeadsModel_expend___1Y1R",closeIcon:"liveStreamLeadsModel_closeIcon__ZLkOJ",description:"liveStreamLeadsModel_description__v_Fll",desktopOrderPopup:"liveStreamLeadsModel_desktopOrderPopup__SZ1ga",horizontalMobile:"liveStreamLeadsModel_horizontalMobile__W7bn5",emptyWrapper:"liveStreamLeadsModel_emptyWrapper__rEP3J"}},75940:function(e){e.exports={polyvLivestreamPlayer:"PolyvLivestreamPlayer_polyvLivestreamPlayer__3oP71",fsAdviceWrapper:"PolyvLivestreamPlayer_fsAdviceWrapper__ai_Sj",fsAdvice:"PolyvLivestreamPlayer_fsAdvice__mSqza","polyv-player-inner-wrapper":"PolyvLivestreamPlayer_polyv-player-inner-wrapper__spuOI"}},98352:function(e){e.exports={videoPlayer:"VideoPlayer_videoPlayer__cNwhu",modalClose:"VideoPlayer_modalClose__mFxo0",modalContentWhite:"VideoPlayer_modalContentWhite__KmdZ0",videoWrapper:"VideoPlayer_videoWrapper__WcB__","vimeo-embed-container":"VideoPlayer_vimeo-embed-container__iPOgs","polyv-player-inner-wrapper":"VideoPlayer_polyv-player-inner-wrapper__Tuc1f"}}}]);
</script>

</body>
</html>
