<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>criteoBidAdapter-js.40347c6a0e44976d.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["2196"],{44827:function(e,t,r){r.r(t),r.d(t,{spec:()=>C,ADAPTER_VERSION:()=>S,storage:()=>O});var n=r("36621"),i=r("94329"),a=r("67007"),o=r("92618"),d=r("12827"),s=r("14615"),u=r("5850"),c=r("68681"),l=r("15658"),p=r("82020"),v=r("8755"),f=r("21338"),m=r("31306"),y=r("6021"),g=r("60340"),b=r("4511"),h=Object.freeze([].concat((0,g.Z)(["device.sua","source.schain","regs.gdpr","regs.us_privacy","regs.gpp","regs.gpp_sid","user.consent","user.eids"].map(function(e){return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return"".concat(e,".ext.").concat(t)};var n=[(t=e.split(".")).slice(0,t.length-1).join("."),t[t.length-1]],i=(0,b.Z)(n,2),d=i[0],s=i[1];return r=r(d,s),function(e){var t=(0,o.Z)(e,d);if((null==t?void 0:t[s])!=null)return(0,a.N)(e,r,t[s]),function(){return delete t[s]}}}(e)})),(0,g.Z)(["app","content","site","user"].map(function(e){return function(t){var r,n=null===(r=t[e])||void 0===r?void 0:r.kwarray;if(null!=n){var i=(t[e].keywords||"").split(",");return Array.isArray(n)&&i.push.apply(i,(0,g.Z)(n)),t[e].keywords=i.join(","),function(){return delete t[e].kwarray}}}}))));function T(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return function(r){return t.forEach(function(t){try{var n=t(r);"function"==typeof n&&e&&n()}catch(e){(0,d.H)("Error translating request to ORTB 2.5",e)}}),r}}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw a}}}}T();function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=37,w="criteo",O=(0,c.df)({bidderCode:w}),Z="Criteo: ",_=T(),j="cto_optout",q="cto_bundle",A=(0,y.x)({context:{netRevenue:!0,ttl:60},imp:function(e,t,r){var n,i=e(t,r),s=t.params;if(i.tagid=t.adUnitCode,(0,a.N)(i,"ext",P(P(P({},t.params.ext),i.ext),{},{rwdd:i.rwdd,floors:function(e){try{var t,r,n,i={},a=function(e){if(e.getFloor)return e.getFloor;if(e.params.bidFloor&&e.params.bidFloorCur)try{var t=parseFloat(e.params.bidFloor);return function(){return{currency:e.params.bidFloorCur,floor:t}}}catch(e){}}(e);if(a)return null!==(t=e.mediaTypes)&&void 0!==t&&t.banner&&(i.banner={},U((0,o.Z)(e,"mediaTypes.banner.sizes")).forEach(function(t){return i.banner[z(t).toString()]=a.call(e,{size:t,mediaType:u.Mk})})),null!==(r=e.mediaTypes)&&void 0!==r&&r.video&&(i.video={},U((0,o.Z)(e,"mediaTypes.video.playerSize")).forEach(function(t){return i.video[z(t).toString()]=a.call(e,{size:t,mediaType:u.pX})})),null!==(n=e.mediaTypes)&&void 0!==n&&n.native&&(i.native={},i.native["*"]=a.call(e,{size:"*",mediaType:u.B5})),i}catch(e){(0,d.H)("Could not parse floors from Prebid: "+e)}}(t),bidder:{publishersubid:null==s?void 0:s.publisherSubId,zoneid:null==s?void 0:s.zoneId,uid:null==s?void 0:s.uid}})),delete i.rwdd,!r.fledgeEnabled&&null!==(n=i.ext.igs)&&void 0!==n&&n.ae&&delete i.ext.igs.ae,D(t)){var c=t.params.video;void 0!==c&&(0,a.N)(i,"video",P(P({},i.video),{},{skip:i.video.skip||c.skip||0,placement:i.video.placement||c.placement,minduration:i.video.minduration||c.minduration,playbackmethod:i.video.playbackmethod||c.playbackmethod,startdelay:i.video.startdelay||c.startdelay||0})),(0,a.N)(i,"video.ext",{context:t.mediaTypes.video.context,playersizes:U((0,o.Z)(t,"mediaTypes.video.playerSize"),z),plcmt:t.mediaTypes.video.plcmt,poddur:t.mediaTypes.video.adPodDurationSec,rqddurs:t.mediaTypes.video.durationRangeSec})}if(i.native&&void 0!==i.native.request){var l=JSON.parse(i.native.request);!(l.assets&&(1!==l.assets.length||Object.keys(l.assets[0]).length))&&delete l.assets,(0,a.N)(i,"native.request_native",l),delete i.native.request}return i},request:function(e,t,r,n){var i=e(t,r,n);return void 0!==n.publisherId&&(void 0!==i.app?(0,a.N)(i,"app.publisher.id",n.publisherId):(0,a.N)(i,"site.publisher.id",n.publisherId)),r&&r.gdprConsent&&(0,a.N)(i,"regs.ext.gdprversion",r.gdprConsent.apiVersion),i=_(i)},bidResponse:function(e,t,r){r.mediaType=(0,o.Z)(t,"ext.mediatype"),r.mediaType===u.B5&&void 0!==t.adm_native&&(t.adm=t.adm_native,delete t.adm_native);var n,i=e(t,r),d=r.bidRequest;return i.currency=(0,o.Z)(t,"ext.cur"),void 0!==(0,o.Z)(t,"ext.meta")&&(0,a.N)(i,"meta",P(P({},i.meta),t.ext.meta)),void 0!==(0,o.Z)(t,"ext.paf.content_id")&&(0,a.N)(i,"meta.paf.content_id",t.ext.paf.content_id),i.mediaType===u.pX&&(i.vastUrl=null===(n=t.ext)||void 0===n?void 0:n.displayurl,(0,o.Z)(d,"mediaTypes.video.context")===f.gZ&&(i.renderer=function(e){if((null===(t=e.ext)||void 0===t?void 0:t.videoPlayerConfig)!==void 0&&(null===(r=e.ext)||void 0===r?void 0:r.videoPlayerType)!==void 0){var t,r,n=v.Th.install({url:"https://static.criteo.net/js/ld/publishertag.renderer.js",config:{documentResolver:function(e,t,r){return null!=r?r:t}}});return n.setRender(function(t,r){var n,i={slotid:e.id,vastUrl:null===(n=e.ext)||void 0===n?void 0:n.displayurl,vastXml:e.adm,documentContext:r},a=e.ext.videoPlayerConfig;window.CriteoOutStream[e.ext.videoPlayerType].play(i,a)}),n}}(t))),i},response:function(e,t,r,n){var i=e(t,r,n),d=(0,o.Z)(r,"ext.paf.transmission");return i.bids.forEach(function(e){void 0!==d&&void 0!==(0,o.Z)(e,"meta.paf.content_id")?(0,a.N)(e,"meta.paf.transmission",d):delete e.meta.paf}),i}}),C={code:w,gvlid:91,supportedMediaTypes:[u.Mk,u.pX,u.B5],getUserSyncs:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.gppString,o=void 0===a?"":a,s=i.applicableSections,u=void 0===s?[]:s,c=(0,l.nH)(),v="criteoPrebidAdapter";if(e.iframeEnabled&&(0,p.h)(r)){var f=[];if(f.push("origin=".concat(v)),f.push("topUrl=".concat(c.domain)),r&&(r.gdprApplies&&f.push("gdpr=".concat(!0==r.gdprApplies?1:0)),r.consentString&&f.push("gdpr_consent=".concat(r.consentString))),n&&f.push("us_privacy=".concat(n)),f.push("gpp=".concat(o)),Array.isArray(u)){var m,y=k(u);try{for(y.s();!(m=y.n()).done;){var g=m.value;f.push("gpp_sid=".concat(g))}}catch(e){y.e(e)}finally{y.f()}}var b=Math.random().toString(),h={bundle:E(q),cw:O.cookiesAreEnabled(),lsw:O.localStorageIsEnabled(),optoutCookie:E(j),origin:v,requestId:b,tld:c.domain,topUrl:c.domain,version:"9.18.0".replace(/\./g,"_")};window.addEventListener("message",function e(t){if(!!t.data&&"https://gum.criteo.com"==t.origin&&t.data.requestId===b){this.removeEventListener("message",e),t.stopImmediatePropagation();var r=t.data;r.optout?(N(q),R(j,!0,43200,c.domain)):(r.bundle&&R(q,r.bundle,9360,c.domain),r.callbacks&&r.callbacks.forEach(d.hq))}},!0);var T=JSON.stringify(h).replace(/"/g,"%22");return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(f.join("&"),"#").concat(T)}]}if(e.pixelEnabled&&(0,p.h)(r)){var I=[];if(I.push("profile=207"),r&&(!0===r.gdprApplies&&I.push("gdprapplies=true"),r.consentString&&I.push("gdpr=".concat(r.consentString))),n&&I.push("ccpa=".concat(n)),I.push("gpp=".concat(o)),Array.isArray(u)){var x,P=k(u);try{for(P.s();!(x=P.n()).done;){var S=x.value;I.push("gpp_sid=".concat(S))}}catch(e){P.e(e)}finally{P.f()}}return[{type:"image",url:"https://ssp-sync.criteo.com/user-sync/redirect?".concat(I.join("&"))}]}return[]},isBidRequestValid:function(e){return!(!(e&&e.params&&(e.params.zoneId||e.params.networkId))||D(e)&&!function(e){var t=!0;return["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach(function(r){"placement"===r?void 0===(0,o.Z)(e,"mediaTypes.video."+r)&&void 0===(0,o.Z)(e,"params.video."+r)&&void 0===(0,o.Z)(e,"mediaTypes.video.plcmt")&&void 0===(0,o.Z)(e,"params.video.plcmt")&&(t=!1,(0,d.H)("Criteo Bid Adapter: mediaTypes.video."+r+" or mediaTypes.video.plcmt is required")):void 0===(0,o.Z)(e,"mediaTypes.video."+r)&&void 0===(0,o.Z)(e,"params.video."+r)&&(t=!1,(0,d.H)("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))}),t}(e))&&!0},buildRequests:function(e,t){e.forEach(function(e){(function(e){return void 0!==(0,o.Z)(e,"mediaTypes.native")})(e)&&(!function(e){return!(e.nativeParams&&(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys)))}(e)&&(0,d.yN)(Z+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),null==(0,o.Z)(e,"nativeOrtbRequest.assets")&&((0,d.yN)(Z+"native asset requirements are missing"),(0,a.N)(e,"nativeOrtbRequest.assets",[{}])))});var r=function(e,t){var r,n,i,a,o,s=(0,d.en)(null==t||null===(r=t.refererInfo)||void 0===r?void 0:r.topmostLocation).search;return{url:(null==t||null===(n=t.refererInfo)||void 0===n?void 0:n.page)||"",debug:"1"===s.pbt_debug,noLog:"1"===s.pbt_nolog,fledgeEnabled:null===(i=t.paapi)||void 0===i?void 0:i.enabled,amp:e.some(function(e){return"amp"===e.params.integrationMode}),networkId:null===(a=e.find(function(e){var t;return null===(t=e.params)||void 0===t?void 0:t.networkId}))||void 0===a?void 0:a.params.networkId,publisherId:null===(o=e.find(function(e){var t;return null===(t=e.params)||void 0===t?void 0:t.pubid}))||void 0===o?void 0:o.params.pubid}}(e,t),n=function(e){var t="https://grid-bidder.criteo.com/openrtb_2_5/pbjs/auction/request";t+="?profileId=207",t+="&av="+String(S),t+="&wv="+encodeURIComponent("9.18.0"),t+="&cb="+String(Math.floor(0x174876e7ff*Math.random())),O.localStorageIsEnabled()?t+="&lsavail=1":t+="&lsavail=0",e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1");var r=E(q);return r&&(t+="&bundle=".concat(r)),E(j)&&(t+="&optout=1"),e.networkId&&(t+="&networkId="+e.networkId),t}(r),i=A.toORTB({bidderRequest:t,bidRequests:e,context:r});if(i)return{method:"POST",url:n,data:i,bidRequests:e}},interpretResponse:function(e,t){if(void 0===(null==e?void 0:e.body))return[];var r,n=A.fromORTB({response:e.body,request:t.data}).bids||[],i=null===(r=(0,o.Z)(e.body,"ext.igi"))||void 0===r?void 0:r.filter(function(e){return(0,d.kJ)(null==e?void 0:e.igs)}).flatMap(function(e){return e.igs});return null!=i&&i.length?{bids:n,paapi:i}:n},onDataDeletionRequest:function(e){var t=E(q);t&&(N(q),(0,m.hj)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:t}),{contentType:"application/json",method:"POST"}))}};function E(e){var t=O.getCookie(e),r=O.getDataFromLocalStorage(e);return t||r||void 0}function R(e,t,r,n){var i=new Date;i.setTime(i.getTime()+36e5*r);for(var a="expires=".concat(i.toUTCString()),o=n.split("."),d=0;d<o.length;++d){var s=o.slice(o.length-d-1,o.length).join(".");try{O.setCookie(e,t,a,null,"."+s);var u=O.getCookie(e);if(u&&u===t)break}catch(e){}}O.setDataInLocalStorage(e,t)}function N(e){O.setCookie(e,"",0),O.removeDataFromLocalStorage(e)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return void 0==e?[]:Array.isArray(e[0])?e.map(function(e){return t(e)}):[t(e)]}function z(e){return e[0]+"x"+e[1]}function D(e){return void 0!==(0,o.Z)(e,"mediaTypes.video")}(0,s.dX)(C),(0,i.z)("criteoBidAdapter")},82020:function(e,t,r){r.d(t,{h:function(){return i}});var n=r(92618);function i(e){return null==e||!e.gdprApplies||!0===(0,n.Z)(e,"vendorData.purpose.consents.1")}},67007:function(e,t,r){r.d(t,{N:function(){return n}});function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,a=0,o=t.length,d=e;a<o&&"__proto__"!=(i=""+t[a++])&&"constructor"!==i&&"prototype"!==i;){;d=d[i]=a===o?r:typeof(n=d[i])==typeof t?n:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}}}}]);
//# sourceMappingURL=criteoBidAdapter-js.40347c6a0e44976d.js.map
</script>

</body>
</html>
