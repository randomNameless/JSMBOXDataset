<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>optinOnPageModal.min.html</title>
</head>
<body>

<script>
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};var domReady=function(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)};"use strict";
var SCROLL_ANIMATION_POSITION=128,CLASS_NAME_COMPONENT="optin-onpage",CLASS_NAME_STATE_MODAL=CLASS_NAME_COMPONENT+"--modal",CLASS_NAME_STATE_INLINE=CLASS_NAME_COMPONENT+"--inline",CLASS_NAME_STATE_LOAD_MODAL=CLASS_NAME_COMPONENT+"--load-modal",CLASS_NAME_OPEN=CLASS_NAME_COMPONENT+"--open",CLASS_NAME_ANIMATOR=CLASS_NAME_COMPONENT+"__animator",CLASS_NAME_ANIMATOR_IN_VIEW=CLASS_NAME_ANIMATOR+"--in-view",CLASS_NAME_BTN_CLOSE="btn--close",CLASS_NAME_BTN_ONPAGE_MODAL="btn--onpage-modal",CLASS_NAME_OPTIN_CONTENT=
CLASS_NAME_COMPONENT+"__content",CLASS_NAME_OPTIN_CONTENT_FORM=CLASS_NAME_OPTIN_CONTENT+"__form",CLASS_NAME_OPTIN_CONTENT_MSG=CLASS_NAME_OPTIN_CONTENT+"__message",CLASS_NAME_OPTIN_LOADER=CLASS_NAME_COMPONENT+"__loader",CLASS_NAME_OPTIN_PAGE_MODAL=CLASS_NAME_COMPONENT+"__modal",CLASS_NAME_ELOQUA_FORM="eloqua-form",ATTR_CLOSE_MODAL="data-close-modal",CLASS_NAME_OPTIN_CONTENT_SUBMITTED=CLASS_NAME_OPTIN_CONTENT+"--submitted",CLASS_NAME_BODY_MENU_OPEN=CLASS_NAME_COMPONENT+"__body--open",EVENT_FORM_SUBMITTED=
"eloqua.form.submitted",EVENT_FORM_SUBMITTED_SUCCESS="eloqua.form.submitted.success",EVENT_FORM_SUBMITTED_FAILED="eloqua.form.submitted.failed",Intel_OptinOnPageModal=function(a){this.element=a;this.btnOnPageModal=a.querySelector("."+CLASS_NAME_BTN_ONPAGE_MODAL);this.btnClose=a.querySelectorAll("["+ATTR_CLOSE_MODAL+"]");this.optinContent=a.querySelector("."+CLASS_NAME_OPTIN_CONTENT);this.optinContentForm=a.querySelector("."+CLASS_NAME_OPTIN_CONTENT_FORM);this.optinContentMsg=a.querySelector("."+CLASS_NAME_OPTIN_CONTENT_MSG);
this.optinLoader=a.querySelector("."+CLASS_NAME_OPTIN_LOADER);this.isInline=a.classList.contains(CLASS_NAME_STATE_INLINE);this.isPageModal=a.classList.contains(CLASS_NAME_STATE_MODAL);this.isLoadModal=a.classList.contains(CLASS_NAME_STATE_LOAD_MODAL);this.isLoadModalOn=a.dataset.loadModalMode;this.optinModal=this.element.querySelector("."+CLASS_NAME_OPTIN_PAGE_MODAL);this.eloquaForm=a.querySelector("."+CLASS_NAME_ELOQUA_FORM);this.initEvents()};
Intel_OptinOnPageModal.prototype.initEvents=function(){var a=this,b=this;this.isLoadModal||(this.observer=new IntersectionObserver(function(c){return b.handleIntersectionObserver(c,b.observer)},{threshold:.5}),this.observer.observe(b.element));this.btnClose.forEach(function(c){c.addEventListener("click",function(d){return b.handleModalClose(d)})});document.addEventListener(EVENT_FORM_SUBMITTED,function(c){return a.handleContentState(EVENT_FORM_SUBMITTED,c)});document.addEventListener(EVENT_FORM_SUBMITTED_SUCCESS,
function(c){return a.handleContentState(EVENT_FORM_SUBMITTED_SUCCESS,c)});this.isLoadModal&&("on"==this.isLoadModalOn&&window.addEventListener("load",function(c){return b.openModal()}),document.addEventListener("click",function(c){return b.handleDocumentModalClick(c)}))};Intel_OptinOnPageModal.prototype.openModal=function(){if(!this.isInline&&"Y"!=this.element.dataset.editMode){var a=$(this.optinModal);a&&a.modal("show")}};
Intel_OptinOnPageModal.prototype.handleModalClose=function(){this.isInline||$(this.optinModal).modal("hide")};Intel_OptinOnPageModal.prototype.handleIntersectionObserver=function(a,b){a.map(function(c){if(c.isIntersecting){var d=c.target.querySelector("."+CLASS_NAME_ANIMATOR);d&&d.classList.add(CLASS_NAME_ANIMATOR_IN_VIEW);b.unobserve(c.target)}})};
Intel_OptinOnPageModal.prototype.handleContentState=function(a,b){if(this.eloquaForm===b.detail.form)switch(a){case EVENT_FORM_SUBMITTED:this.optinLoader.classList.remove("hidden");break;case EVENT_FORM_SUBMITTED_SUCCESS:this.optinLoader.classList.add("hidden");this.optinContent.classList.add(CLASS_NAME_OPTIN_CONTENT_SUBMITTED);this.isPageModal&&this.handleModalClose();break;default:this.optinLoader.classList.add("hidden"),this.optinContent.classList.remove(CLASS_NAME_OPTIN_CONTENT_SUBMITTED)}};
Intel_OptinOnPageModal.prototype.handleDocumentModalClick=function(a){if("A"==a.target.nodeName){var b=a.target.hash;if(-1!=b.indexOf(CLASS_NAME_OPTIN_PAGE_MODAL)&&document.querySelector(b)===this.optinModal)return $(this.optinModal).modal("show"),this.setModalOpenAttributes(!0),a.preventDefault(),!1}};Intel_OptinOnPageModal.prototype.setModalOpenAttributes=function(a){a?this.optinModal.setAttribute("aria-hidden",!1):this.optinModal.setAttribute("aria-hidden",!0)};
domReady(function(){var a=document.querySelectorAll("."+CLASS_NAME_COMPONENT);1>a.length||new Intel_OptinOnPageModal(a[0])});
</script>

</body>
</html>
