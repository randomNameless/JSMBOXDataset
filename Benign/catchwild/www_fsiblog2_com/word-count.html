<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>word-count.html</title>
</head>
<body>

<script>
jQuery( document ).ready( function ( $ ) {
	(
		function ( $ ) {
			$.fn.wordCount = function ( options ) {
				let settings = $.extend(
					{
						WC:        0,
						CC:        0,
						WC_prefix: '',
						WC_suffix: '',
						CC_prefix: '',
						CC_suffix: '',
						update:    false,
					}, options )

				$( this ).keyup( function ( ev ) {
					settings.WC = $( this ).val().trim().split( ' ' ).length
					settings.CC = $( this ).val().trim().length
					if ( settings.update ) {
						let wc = $( this ).data( 'word-count' )
						let cc = $( this ).data( 'char-count' )
						if ( wc ) {
							$( wc ).html(
								settings.WC_prefix + ' ' + settings.WC + ' ' +
								settings.WC_suffix )
						}
						if ( cc ) {
							$( cc ).html(
								settings.CC_prefix + ' ' + settings.CC + ' ' +
								settings.CC_suffix )
						}
					}
				} )
				return this
			}
		}( jQuery )
	)
} )

jQuery( document ).ready( function ( $ ) {

	$( '[data-word-count]' ).each( function () {
		$( this ).wordCount(
			{
				update:    true,
				WC_suffix: 'Words.',
			} )
	} )
} )
</script>

</body>
</html>
