<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bmwusa-standalone-inventory.html</title>
</head>
<body>

<script>
/*! BMWUSA Vite Build 1731603678170 */
import{C as c}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/component.js";import{V as d}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/validator.js";import{c as s}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-measurement-data.js";import{q as p}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/queryparams.js";import{A as n}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/ada-utils.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/index.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/index.esm.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/is-author.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/baseDomain.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/getbyourl.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/scroll-to.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/uid.js";import"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-chunks/resources/zipcode.js";new c({el:".standalone-inventory-zip",name:"Standalone Inventory ZIP Component",subscriptions:{"window.resizeEnd":"resizeEvt",dealerUpdate:"prepopulate"},zipCodeCookieName:"user_zipcode",currentBreakpoint:window.innerWidth>1240?"desktop":"tablet",init(){this.form=this.element,this.zipHolder=this.element.querySelector(`${this.el}__form-holder`),this.zipBtn=this.element.querySelector(`${this.el}__primary-btn`),this.secondaryZipBtn=this.element.querySelector(`${this.el}__secondary-btn`),this.input=this.element.querySelector(`${this.el}__input`),this.showInput=this.showInput.bind(this),this.inputBlur=this.inputBlur.bind(this),this.formCheck=this.formCheck.bind(this),this.validateNumber=this.validateNumber.bind(this),this.prepopulate=this.prepopulate.bind(this),this.zipBtn.addEventListener("click",this.formCheck),this.secondaryZipBtn.addEventListener("click",this.formCheck),this.input.addEventListener("focus",this.showInput),this.input.addEventListener("keyup",this.validateNumber),this.currentBreakpoint!=="tablet"&&this.input.value!==""&&this.showInput(),this.zipHolder.addEventListener("click",this.showInput),this.input.addEventListener("blur",this.inputBlur),this.prepopulate()},updateUrl(e){new URL},prepopulate(){const e=p.get("zip")||s.get("ExploreZip")||s.get("user_zipcode");e&&(this.input.value=e,this.showInput(!0))},formCheck(e){var r,l,a;if(e.preventDefault(),!d.validateZipCode(this.input.value)){this.form.classList.add("standalone-inventory-zip--error-active"),window._satellite.track("AA_DC_NavLocalInventoryZipError");return}const t=this.input.value;s.has("OfferZip")||(window._satellite.track("AA_DC_NavInventoryZipSubmission"),s.smartSet("OfferZip",t)||(this.raiseEvent("gn-offers-finance","cannot set OfferZip","error",new Error(`searchTerm: ${t}`)),(r=window==null?void 0:window._satellite)==null||r.track("AA_DC_NavLocalInventoryZipError")),window._satellite.track("AA_DC_NavCPOZipSubmission"),s.smartSet("Pre-Owned",t)||(this.raiseEvent("gn-offers-finance","cannot set Pre-Owned","error",new Error(`searchTerm: ${t}`)),(l=window==null?void 0:window._satellite)==null||l.track("AA_DC_NavLocalInventoryZipError"))),(a=window==null?void 0:window._satellite)!=null&&a.track&&window._satellite.track(e.currentTarget.getAttribute("analytics-track"));const i=e.currentTarget.getAttribute("formaction");let o=window.location.href;if(i.startsWith("http"))o=`${i}?zipCode=${t}`;else if(i.startsWith("/"))if(i.includes("/content/bmw/marketUS/bmwusa_com/en_US")){const h=i.replace("/content/bmw/marketUS/bmwusa_com/en_US","")+".html";o=`${window.location.origin}${h}?zipCode=${t}`}else o=`${window.location.origin}${i}?zipCode=${t}`;window.location.href=o},showInput(e){this.zipHolder.classList.add("standalone-inventory-zip__form-holder--active"),e&&setTimeout(()=>{this.input.focus()},300)},inputBlur(e){e.currentTarget.value===""&&this.zipHolder.classList.remove("standalone-inventory-zip__form-holder--active")},resizeEvt(e,t){this.currentBreakpoint==="desktop"&&(t==null?void 0:t.width)<768?this.currentBreakpoint="tablet":this.currentBreakpoint==="tablet"&&(t==null?void 0:t.width)>=768&&(this.currentBreakpoint="desktop")},validateNumber(){setTimeout(()=>{this.input.value=this.input.value.replace(/\D/g,"")})}});new c({el:".standalone-inventory-drop-down-nav-holder",name:"standalone-inventory-drop-down-nav-holder Component",baseSrt:"standalone-inventory-drop-down-nav-holder",vehicleBaseStr:"standalone-inventory-vehicles__outer-shell",dropDownNavBase:"standalone-inventory-drop-down-nav",subscriptions:{"window.resizeEnd":"resizeEvt","primary.nav.close":"primaryClose","primary.nav.vehicleOpen":"vehicleOpenCheck","primary.nav-toggle":"dropDownToggle","primary.nav.open.mobile":"mobileSetup","my-bmw.open":"closeDropDown","search.open":"closeDropDown","dealer.open":"closeDropDown","fill.clicked":"closeDropDown"},adaFocusableItems:[".standalone-inventory__main-links button",".standalone-inventory__main-links a",".standalone-inventory__secondary-links button",".standalone-inventory__secondary-links a"],currentBreakpoint:window.innerWidth>=1280?"desktop":"mobile",vehicleHasRun:!1,init(){const e=this.element.querySelectorAll(`.${this.dropDownNavBase}__back`);this.trapFocus=null,this.runVehicle=this.runVehicle.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.vehicleClose=this.vehicleClose.bind(this),this.closeMobile=this.closeMobile.bind(this),this.keycheck=this.keycheck.bind(this),this.closeWithKeyboard=this.closeWithKeyboard.bind(this),this.mainNavBar=document.querySelector(".standalone-inventory__nav"),this.tabsHolder=this.element.querySelector(".standalone-inventory-vehicles__tab-holder"),e.forEach(t=>{t.addEventListener("click",this.closeMobile)}),this.element.addEventListener("keydown",this.closeWithKeyboard)},closeWithKeyboard(e){if(e.keyCode===27){this.closeDropDown();const t=document.querySelector(".standalone-inventory-drop-down--open-dropdown");t&&(document.querySelector(".standalone-inventory-drop-down--open-dropdown button").focus(),t.classList.remove("standalone-inventory-drop-down--open-dropdown"))}},primaryClose(){const e=document.querySelector(".mobile--open-dropdown-mobile");e&&(e.classList.add("mobile--primary-close"),setTimeout(()=>{e.classList.add("mobile--reset")},301),setTimeout(()=>{this.closeMobile(),e.classList.remove("mobile--primary-close"),e.classList.remove("mobile--reset")},405))},runVehicle(){this.vehicleHasRun||(this.vehicleHasRun=!0,this.vehicleSetUp()),this.currentBreakpoint!=="mobile"?this.vehicleOpen():this.openMobile("vehicles"),this.closeDropDown(!0,!1)},vehicleSetUp(){this.closeCornerBtnVehicles=document.querySelector(".standalone-inventory-vehicles__corner-close-button"),this.vehiclesContent=document.querySelector(".standalone-inventory-vehicles"),this.vehiclesCloseMobile=document.querySelector(".standalone-inventory-vehicles__header"),this.currentBreakpoint!=="desktop"?this.vehicleMobileEvt("on"):this.vehicleDesktopEvt("on"),this.vehiclesContent.querySelectorAll("img[data-src]").forEach(e=>{e.setAttribute("src",e.dataset.src),e.onload=()=>{e.removeAttribute("data-src")}})},vehicleDesktopEvt(e){e==="on"?this.closeCornerBtnVehicles.addEventListener("click",this.vehicleClose):this.closeCornerBtnVehicles.removeEventListener("click",this.vehicleClose)},vehicleMobileEvt(e){e==="on"?this.vehiclesCloseMobile.addEventListener("click",this.closeMobile):this.vehiclesCloseMobile.removeEventListener("click",this.closeMobile)},vehicleOpenInitial(){const e=document.querySelector('.standalone-inventory-vehicles__tab[data-filter="all models"]');e.classList.contains("standalone-inventory-vehicles__tab--active")&&(e.querySelectorAll("a").forEach(t=>t.style.visibility="visible"),this.currentBreakpoint==="mobile"&&(this.element.querySelector(".standalone-inventory-vehicles__header > button").style.visibility="visible"),window.innerWidth<768&&this.element.querySelector(".standalone-inventory-vehicles__filter").querySelectorAll("button").forEach(i=>i.style.visibility="hidden"))},vehicleOpen(){const e=this.element.querySelector('div[data-flyout="vehicles"]');this.toggleScroll("on"),e.classList.add(`${this.vehicleBaseStr}--active`),window.addEventListener("keydown",this.keycheck);const t=document.querySelector(".standalone-inventory-drop-down-nav-holder .standalone-inventory-vehicles__outer-shell--active .standalone-inventory-vehicles");t.scrollTop=0,this.holderOpen();const i=document.querySelector(".standalone-inventory-vehicles");i.querySelector(".standalone-inventory-vehicles__header > button").style.visibility="hidden",this.trapFocus&&this.trapFocus.removeTrapEventListener(),n.restrictFocus({container:e,dynamicContent:".standalone-inventory-vehicles"}),setTimeout(()=>{const o=e.querySelector(".standalone-inventory-vehicles__filter-type--active");o.parentNode.getAttribute("data-child-filter")!=="electrified"&&n.restrictFocus({container:e.querySelector('.standalone-inventory-vehicles__tab[data-filter="electrified"]')}),this.trapFocus=n.trapFocus(i),this.trapFocus.addTrapFocus(),o.focus()},300)},vehicleClose(){const e=this.element.querySelector('div[data-flyout="vehicles"]');e.classList.contains(`${this.vehicleBaseStr}--active`)&&(e.classList.remove(`${this.vehicleBaseStr}--active`),this.toggleScroll(),this.holderClose(),setTimeout(()=>{document.querySelector('.standalone-inventory__main-links.standalone-inventory-drop-down[data-flyout="vehicles"] button').focus(),PubSub.publish("nav.vehicle-close")},400),this.trapFocus.removeTrapEventListener(),window.removeEventListener("keydown",this.keycheck),n.restrictFocus({container:this.mainNavBar,focusableItems:this.adaFocusableItems}),n.restrictFocus({container:e}))},keycheck(e){(e.which===27||e.key==="Escape")&&this.vehicleClose()},toggleDropdown(e){const t=this.element.querySelector(`div[data-flyout="${e}"] .${this.dropDownNavBase}`),i=e!=="vehicles"?document.querySelector(`li[data-flyout="${e}"] > button`):void 0;t.classList.contains(`${this.dropDownNavBase}--open-dropdown`)?(this.closeDropDown(),this.mainNavBar.removeEventListener("keydown",this.closeWithKeyboard)):(this.closeDropDown(!0),this.openDropDown(t,i),this.mainNavBar.addEventListener("keydown",this.closeWithKeyboard))},toggleScroll(e="off"){e==="on"?document.body.classList.add("standalone-inventory--kill-scroll"):document.body.classList.remove("standalone-inventory--kill-scroll")},openDropDown(e,t){this.toggleScroll("on"),this.holderOpen(),e.classList.add(`${this.dropDownNavBase}--open-dropdown`),this.toggleFill(!1,!0),setTimeout(()=>{this.trapFocus=n.trapFocus(this.element.querySelector(`.${this.dropDownNavBase}--open-dropdown .${this.dropDownNavBase}__content`),t),this.trapFocus.addTrapFocus()},100)},closeDropDown(e=!1,t=!0){const i=this.element.querySelector(`.${this.dropDownNavBase}--open-dropdown`);(typeof e=="string"||t)&&this.toggleScroll(),i&&(i.classList.remove(`${this.dropDownNavBase}--open-dropdown`),this.trapFocus.removeTrapEventListener(),e!==!0&&this.holderClose(),this.toggleFill(!0))},holderClose(){setTimeout(()=>{this.element.classList.remove("standalone-inventory-drop-down-nav-holder--active")},350)},holderOpen(){this.element.classList.add("standalone-inventory-drop-down-nav-holder--active"),this.vehicleOpenInitial()},dropDownToggle(e,t){const i=t.toLowerCase();switch(i){case"vehicles":this.runVehicle();break;default:this.toggleDropdown(i)}},mobileSetup(e,t){const i=t.toLowerCase();switch(i){case"vehicles":this.runVehicle(i);break;default:this.openMobile(i)}},openMobile(e){const t=e.toLowerCase(),i=t==="vehicles"?"vehicles":"dropdown",o=this.element.querySelector(`div[data-flyout="${t}"] .${i}`);this.holderOpen(),o.classList.add("mobile--open-dropdown-mobile"),this.trapFocus&&this.trapFocus.removeTrapEventListener(),n.restrictFocus({container:o,dynamicContent:".standalone-inventory-vehicles"}),setTimeout(()=>{this.trapFocus=n.trapFocus(o),this.trapFocus.addTrapFocus()},300)},closeMobile(){const e=document.querySelector(".mobile--open-dropdown-mobile");e&&(PubSub.publish("mobile.dropDown.close"),e.classList.remove("mobile--open-dropdown-mobile"),this.holderClose(),this.trapFocus.removeTrapEventListener())},vehicleOpenCheck(){window.innerWidth<768?this.openMobile():this.vehicleOpen()},toggleFill(e=!1,t=!1){const i={className:"standalone-inventory-fill--dropdown-open",close:e,open:t};PubSub.publish("nav.toggleFill",i)},resizeEvt(e,t){this.currentBreakpoint==="desktop"&&(t==null?void 0:t.width)<1280?(this.currentBreakpoint="mobile",this.closeDropDown(),this.vehicleHasRun&&(this.vehicleClose(),this.vehicleDesktopEvt("off"),this.vehicleMobileEvt("on")),this.toggleScroll()):this.currentBreakpoint==="mobile"&&(t==null?void 0:t.width)>=1280&&(this.currentBreakpoint="desktop",this.closeMobile(),this.vehicleHasRun&&(this.vehicleClose(),this.vehicleDesktopEvt("on"),this.vehicleMobileEvt("off")),this.toggleScroll())}});

</script>

</body>
</html>
