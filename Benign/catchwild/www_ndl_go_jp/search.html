<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>search.html</title>
</head>
<body>

<script>
/* elements */
var ndlsearchFullElement, ndlsearchElement, ndlsearchRaddio;
var gsearchFullElement, gsearchElements, gsearchElement, gsearchRaddio;
var classNameVisible = 'blockVisible';
var classNameVisible2 = 'inlineVisible';
var classNameNone = 'blockNone';

/* ndl search param */
var selModeGcs = 'site';
var selModeGcs2 = 'hp';
var selModeNdl = 'ndl';
var selModeOther = 'other';

/* common */
var gcsCode ='002014597600876453879';

/* Japanese */
var glangCode1 = 'ja';
var gcsWindowCode1 = 'kulyz1pjs08';
var gcsResultPass1 = '/result.html';

/* English */
var glangCode2 = 'en';
var gcsWindowCode2 = 'pis5doqssks';
var gcsResultPass2 = '/en/result.html';

/* Chinese */
var glangCodeZ = 'zh_CN';
var gcsWindowCodeZ = 'nhl304anp1s';
var gcsResultPassZ = '/zh/result.html';

/* Korean */
var glangCodeK = 'ko';
var gcsWindowCodeK = 'u_x9hldrtdc';
var gcsResultPassK = '/ko/result.html';

//PCヘッダーの検索窓
function setGcsNdl(lang){

	var gcsWindowCode;
	var gcsResultPass;

	if(lang == 'ja'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCode1;
		gcsResultPass = gcsResultPass1;
	} else if(lang == 'zh_CN'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCodeZ;
		gcsResultPass = gcsResultPassZ;
	} else if(lang == 'ko'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCodeK;
		gcsResultPass = gcsResultPassK;
	} else {
		gcsWindowCode = gcsCode + ":" + gcsWindowCode2;
		gcsResultPass = gcsResultPass2;
	}

	google.load('search', '1', {language : lang});
	google.setOnLoadCallback(function() {
		var customSearchControl = new google.search.CustomSearchControl(gcsWindowCode);
		customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
		var options = new google.search.DrawOptions();
		options.enableSearchboxOnly(gcsResultPass);
		customSearchControl.draw('cse-search-form', options);
		document.getElementById('cse-search-form').className = classNameVisible;
	}, true);

};

//SP検索メニューの検索窓
function setGcsNdlSp(lang){

	var gcsWindowCode;
	var gcsResultPass;

	if(lang == 'ja'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCode1;
		gcsResultPass = gcsResultPass1;
	} else if(lang == 'zh_CN'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCodeZ;
		gcsResultPass = gcsResultPassZ;
	} else if(lang == 'ko'){
		gcsWindowCode = gcsCode + ":" + gcsWindowCodeK;
		gcsResultPass = gcsResultPassK;
	} else {
		gcsWindowCode = gcsCode + ":" + gcsWindowCode2;
		gcsResultPass = gcsResultPass2;
	}

	google.load('search', '1', {language : lang});
	google.setOnLoadCallback(function() {
		var customSearchControl = new google.search.CustomSearchControl(gcsWindowCode);
		customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
		var options = new google.search.DrawOptions();
		options.enableSearchboxOnly(gcsResultPass);
		customSearchControl.draw('cse-search-form-sp', options);
		document.getElementById('cse-search-form-sp').className = classNameVisible;
	}, true);

};

//resultページ
function setGcsResult(lang){
	if(lang == 'ja'){
		gcsWindowCode = gcsWindowCode1;
		gcsResultPass = gcsResultPass1;
	} else if(lang == 'zh_CN'){
		gcsWindowCode = gcsWindowCodeZ;
		gcsResultPass = gcsResultPassZ;
	} else if(lang == 'ko'){
		gcsWindowCode = gcsWindowCodeK;
		gcsResultPass = gcsResultPassK;
	} else {
		gcsWindowCode = gcsWindowCode2;
		gcsResultPass = gcsResultPass2;
	}

	var cx = gcsCode+':'+gcsWindowCode;
	var gcse = document.createElement('script');
	gcse.type = 'text/javascript';
	gcse.async = true;
	gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(gcse, s);
}

window.onload = function() {
	var searchValue;
	var wrapperHeight;
	if(document.getElementById('searchResult')) {
		searchValue = document.querySelector('#searchResult input.gsc-input').value;
		wrapperHeight = document.querySelector('#searchResult .gsc-wrapper').clientHeight;
		if ( wrapperHeight == 0 ) {
			document.querySelector('#searchResult input.gsc-search-button').click();
		}
	}

}
</script>

</body>
</html>
