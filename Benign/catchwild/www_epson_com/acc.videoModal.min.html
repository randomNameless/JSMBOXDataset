<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acc.videoModal.min.html</title>
</head>
<body>

<script>
ACC.videoModal={_autoload:["bindVideoModal",["initRichTextVideo",$(".rte-video").length>0],"bindYouTubeCTAs"],players:{},initYTAPI:function(){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);window.onYouTubeIframeAPIReady=function(){}},bindVideoModal:function(){$(".js-video-link").colorbox({className:"image-zoom-colorbox",close:function(){var a=$(this).attr("data-close");return'<span><span class="text">'+a+'</span> <span class="glyphicon glyphicon-remove icon-close"></span></span>'},html:function(){ACC.videoModal.initYTAPI();var b=$(this).attr("data-video-title")||"";var c=$(this).attr("data-video-id")||"activeVideo";var a=$("<div/>",{"data-title":b,id:c,"class":"activeVideo","data-src":$(this).attr("data-video-url")+"?autoplay=1&enablejsapi=1","data-frameborder":0,"data-allowfullscreen":true});return a},initialWidth:"940px",maxHeight:"100%",maxWidth:"100%",onLoad:function(){},onComplete:function(){var a=$("#cboxLoadedContent .activeVideo").attr("id");console.log(a);ACC.videoModal.players[a]=new YT.Player(a,{height:"436",width:"890",videoId:a,playerVars:{playsinline:"1"},events:{onReady:ACC.analytics.bindYouTubePlayerReady,onStateChange:ACC.analytics.bindYouTubePlayerStateChange,onError:function(){console.log("An error has occurred initializing the video player.")}}});$(this).colorbox.resize()},rel:"nofollow",title:function(){return""},width:"940px"})},bindYouTubeCTAs:function(){$('[href^="https://www.youtube.com/watch?"],[href^="https://youtu.be"],[href^="http://www.youtube.com/watch?"],[href^="http://youtu.be"]').not(".new-tab").colorbox({className:"image-zoom-colorbox",close:function(){return'<span><span class="text"></span> <span class="glyphicon glyphicon-remove icon-close"></span></span>'},html:function(){ACC.videoModal.initYTAPI();var c=$(this).attr("data-video-title")||"";var a=$(this).attr("href");var d="activeVideo";if(a.indexOf("youtu.be")!=-1){d=a.split(".be/")[1]}else{if(a.indexOf("/watch")!=-1){d=a.split("/watch?v=")[1]}}var e=$(this).attr("href").indexOf("?")==-1?$(this).attr("href")+"?autoplay=1&enablejsapi=1":$(this).attr("href")+"&autoplay=1&enablejsapi=1";var b=$("<div/>",{"data-title":"",id:d,"class":"activeVideo","data-src":$(this).attr("href")+"?autoplay=1&enablejsapi=1","data-frameborder":0,"data-allowfullscreen":true});return b},initialWidth:"940px",maxHeight:"100%",maxWidth:"100%",onLoad:function(){},onComplete:function(){var a=$("#cboxLoadedContent .activeVideo").attr("id");console.log(a);ACC.videoModal.players[a]=new YT.Player(a,{height:"436",width:"890",videoId:a,playerVars:{playsinline:"1"},events:{onReady:ACC.analytics.bindYouTubePlayerReady,onStateChange:ACC.analytics.bindYouTubePlayerStateChange,onError:function(){console.log("An error has occurred initializing the video player.")}}});$(this).colorbox.resize()},rel:"nofollow",title:function(){return""},width:"940px"})},loadVideoDurations:function(){$(".video-item").each(function(){var e=$(this).children("a.js-video-link");var d=e.data("video-id");var b=e.data("video-title");var c="https://www.googleapis.com/youtube/v3/videos?id="+d+"&key="+ACC.config.googleApiKey+"&part=snippet,contentDetails";$.ajax({async:true,type:"GET",url:c,success:function(f){if(f.items.length>0){var g=ACC.videoModal.getDuration(f.items[0]);e.find("time").html(g);e.find("time").attr("datetime",f.items[0].contentDetails.duration)}}})});function a(d){var c="img.youtube.com/vi/";var b=-1;if((b=d.indexOf(c))>-1){return d.substring(b+c.length,d.indexOf("/default.jpg",b))}return null}$(".image-gallery.js-gallery .videothumbnail").each(function(){var c=$(this);var e=c.children(":first");var b=e.attr("data-src");var f=a(b);var d="https://www.googleapis.com/youtube/v3/videos?id="+f+"&key="+ACC.config.googleApiKey+"&part=snippet,contentDetails";$.ajax({async:true,type:"GET",url:d,success:function(i){if(i.items.length>0){var k=ACC.videoModal.getDuration(i.items[0]);var g=c.find("time");g.html(k);g.attr("datetime",i.items[0].contentDetails.duration);var h='.js-video-link > img[data-src*="'+f+'"] + .duration';var j=$(h);if(j.length>0){j.html(k);j.attr("datetime",i.items[0].contentDetails.duration)}}}})})},getDuration:function(a){return ACC.videoModal.convert_time(a.contentDetails.duration)},convert_time:function(f){var c=f.match(/\d+/g);if(f.indexOf("M")>=0&&f.indexOf("H")==-1&&f.indexOf("S")==-1){c=[0,c[0],0]}if(f.indexOf("H")>=0&&f.indexOf("M")==-1){c=[c[0],0,c[1]]}if(f.indexOf("H")>=0&&f.indexOf("M")==-1&&f.indexOf("S")==-1){c=[c[0],0,0]}f=0;if(c.length==3){f=f+parseInt(c[0])*3600;f=f+parseInt(c[1])*60;f=f+parseInt(c[2])}if(c.length==2){f=f+parseInt(c[0])*60;f=f+parseInt(c[1])}if(c.length==1){f=f+parseInt(c[0])}var e=Math.floor(f/3600);var b=Math.floor(f%3600/60);var d=Math.floor(f%3600%60);return((e>0?e+":"+(b<10?"0":""):"")+b+":"+(d<10?"0":"")+d)},initRichTextVideo:function(){$("body").on("click",".rte-video",function(a){a.preventDefault();$(".rte-video").colorbox({className:"image-zoom-colorbox",close:'<span class="glyphicon glyphicon-remove icon-close"></span>',html:function(){var f=$(this).attr("href");var d=$(this).attr("title")||"";var b=f.split("/");var e=b[b.length-1];console.log($(this).attr("title"));var c=$("<div/>",{"data-title":d,id:e,"class":"activeVideo","data-frameborder":0,"data-allowfullscreen":true});return c},initialWidth:"940px",maxHeight:"100%",maxWidth:"100%",onComplete:function(){var b=$("#cboxLoadedContent .activeVideo").attr("id");console.log(b);ACC.videoModal.players[b]=new YT.Player(b,{height:"436",width:"890",videoId:b,playerVars:{playsinline:"1"},events:{onReady:ACC.analytics.bindYouTubePlayerReady,onStateChange:ACC.analytics.bindYouTubePlayerStateChange,onError:function(){console.log("An error has occurred initializing the video player.")}}});$(this).colorbox.resize()},rel:"nofollow",title:$(this).attr("title")||"",width:"940px"})})}};$(document).ready(function(){with(ACC.videoModal){loadVideoDurations()}});$(document).ready(function(){setTimeout(function(){$("#remove-class").removeClass("cboxElement")},1000)});
</script>

</body>
</html>
