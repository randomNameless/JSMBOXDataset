<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9868-935a6eb80ba1a743.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9868],{99868:function(e,n,i){i.d(n,{s:function(){return v},u:function(){return z}});var t=i(57437),r=i(2265),o=i(83121),u=i(2240),l=i(69439),s=i(84695),d=i(40904),a=i(42995),c=i(23618),p=i(60301),f=i(17070);let v=(0,r.createContext)({isEnabled:!1,getUserSizePreferences:()=>({})}),z=e=>{let{children:n}=e,i=(0,r.useRef)(!1),[z,h]=(0,r.useState)(void 0),[y,T]=(0,r.useState)(!1),[m,R]=(0,r.useState)(!1),{user:g}=(0,a.k)(),S=(0,p.b)(),x=!!((null==g?void 0:g.isRegistered)&&(0,o.b)().preferredsizes.locales.includes(S)),b=(0,r.useCallback)(async()=>{if((null==g?void 0:g.uacfId)&&(null==g?void 0:g.idmAccessToken)){i.current=!0;let{sizePreferences:e}=await (0,l.Iz)(g);return h(e),e}},[g]),k=(0,r.useCallback)(()=>(i.current||b(),z),[b,z]),P=(0,r.useCallback)(async e=>{var n,i;let{gender:t,productType:r,preferences:o}=e,l=await b();if(!l)return R(!0),!1;let d=l.filter(e=>!(e.gender===t&&e.productType===r&&o.map(e=>e.sizeType).includes(e.sizeType))),a=null!==(i=null===(n=o.find(e=>e.sizeType===s.oR.SizeExtension))||void 0===n?void 0:n.size)&&void 0!==i?i:void 0;o.forEach(e=>{if(e.size){var n;d.push({gender:t,productType:r,sizeType:e.sizeType,size:null!==(n=e.size)&&void 0!==n?n:void 0,...e.sizeType===s.oR.Apparel||e.sizeType===s.oR.SizeExtension?{extendedSize:e.sizeType===s.oR.Apparel?a:void 0}:{}})}}),R(!1);try{T(!0);let e=await fetch("/api/auth/v2/updateprofile/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null==g?void 0:g.uacapiAccessToken)},body:JSON.stringify({sizePreferences:d,accessToken:null==g?void 0:g.idmAccessToken,uacfId:null==g?void 0:g.uacfId})});if(T(!1),200===e.status)return h(d),!0;R(!0),u.ZP.error("Problem updating user size preferences.")}catch(e){R(!0),u.ZP.error("Problem updating user size preferences.")}return!1},[g,b]),A=(0,c.Z)({loading:y,error:m}),E=(0,r.useCallback)(async e=>{let{product:n,selectedSize:i,onlyExtended:t=!1,excludeExtended:r=!1}=e;if(!i||!(0,f.gc)(n))return!1;let o=(0,d.Zs)((0,f.WD)(n)),u=[{size:i.size,sizeType:o}];if((0,f.iz)(n)){let e=i.size.match(/^(.+[^X]{1,2})(S|T)$/i),n=e?e[1]:i.size,l=e?e[2]:"R";u=r?[{size:n,sizeType:o}]:t?[{size:l,sizeType:s.oR.SizeExtension}]:[{size:n,sizeType:o},{size:l,sizeType:s.oR.SizeExtension}]}return P({gender:(0,d.Zs)((0,f.PM)(n)),productType:(0,d.Zs)((0,f.hr)(n)),preferences:u})},[P]);return(0,t.jsx)(v.Provider,{value:{isEnabled:x,getUserSizePreferences:k,setSizePreferences:P,sizePreferenceUpdateStatus:A,updateSingleSize:E},children:n})}},17070:function(e,n,i){i.d(n,{Ft:function(){return p},PM:function(){return l},WD:function(){return d},ZA:function(){return T},gc:function(){return c},hr:function(){return s},iz:function(){return a},j6:function(){return y}});var t=i(51331),r=i(84695);let o={[r.l.Mens]:{[r.$e.Tops]:[r.oR.Apparel,r.oR.SizeExtension],[r.$e.Bottoms]:[r.oR.Apparel,r.oR.SizeExtension,r.oR.Waist,r.oR.WaistInseam],[r.$e.Footwear]:[r.oR.Footwear]},[r.l.Womens]:{[r.$e.Tops]:[r.oR.Apparel,r.oR.SizeExtension],[r.$e.Bras]:[r.oR.Apparel,r.oR.Bandcup],[r.$e.Bottoms]:[r.oR.Apparel,r.oR.SizeExtension,r.oR.Waist],[r.$e.Footwear]:[r.oR.Footwear]},[r.l.Boys]:{[r.$e.Tops]:[r.oR.Youth],[r.$e.Bottoms]:[r.oR.Youth],[r.$e.Footwear]:[r.oR.Youth]},[r.l.Girls]:{[r.$e.Tops]:[r.oR.Youth],[r.$e.Bottoms]:[r.oR.Youth],[r.$e.Footwear]:[r.oR.Youth]},[r.l.Unisex]:{[r.$e.Footwear]:[r.oR.Footwear]}},u=Object.keys(t.KN).filter(e=>"R"!==e),l=e=>{var n,i;let t=(null==e?void 0:null===(n=e.sizePreferenceType)||void 0===n?void 0:n.gender)===r.l["Adult Unisex"]?r.l.Unisex:null==e?void 0:null===(i=e.sizePreferenceType)||void 0===i?void 0:i.gender;return t&&Object.keys(o).includes(t)?t:void 0},s=e=>{var n;let i=null==e?void 0:null===(n=e.sizePreferenceType)||void 0===n?void 0:n.productType,t=l(e);return i&&t&&Object.keys(o[t]).includes(i)?i:void 0},d=e=>{var n,i;let t=null==e?void 0:null===(i=e.variants)||void 0===i?void 0:null===(n=i[0].sizePreferenceOption)||void 0===n?void 0:n.sizeType,r=l(e),u=s(e);return t&&u&&r&&o[r][u].includes(t)?t:void 0},a=e=>{var n;return d(e)===r.oR.Apparel&&(null==e?void 0:null===(n=e.variants)||void 0===n?void 0:n.some(e=>{var n;return(null===(n=e.sizePreferenceOption)||void 0===n?void 0:n.extendedSize)&&u.includes(e.sizePreferenceOption.extendedSize)}))},c=e=>!!d(e),p=e=>{let{gender:n,productType:i,sizeType:t,userSizePreferences:r}=e;if(!r)return;let o=n?r.filter(e=>e.gender===n):r,u=i?o.filter(e=>e.productType===i):o;return t?u.filter(e=>e.sizeType===t):u},f=e=>{var n,i;let{product:t,userSizePreferences:r}=e;if(r&&c(t))return null===(i=p({gender:l(t),productType:s(t),sizeType:d(t),userSizePreferences:r}))||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.size},v=e=>{let{product:n,userSizePreferences:i}=e;if(i&&c(n)&&a(n)){var t,o;let e=null===(o=p({gender:l(n),productType:s(n),sizeType:r.oR.SizeExtension,userSizePreferences:i}))||void 0===o?void 0:null===(t=o[0])||void 0===t?void 0:t.size;if(e)return e}},z=e=>{let{product:n,userSizePreferences:i}=e;if(i&&c(n)&&a(n)){let e=v({product:n,userSizePreferences:i});if(e){var t;let i=null===(t=n.variants)||void 0===t?void 0:t.reduce((e,n)=>{var i;return(null===(i=n.sizePreferenceOption)||void 0===i?void 0:i.extendedSize)&&!e.includes(n.sizePreferenceOption.extendedSize)&&e.push(n.sizePreferenceOption.extendedSize),e},[]);if(i&&i.includes(e))return e}}},h=e=>{let{product:n,userSizePreferences:i}=e;if(i&&c(n)){let e=f({product:n,userSizePreferences:i}),t=z({product:n,userSizePreferences:i});return e&&t&&u.includes(t)?e+t:e}},y=e=>{var n,i;let{productTypeOptions:t,sizeType:r,size:o}=e;return(null===(i=t.sizeTypes.find(e=>e.sizeType===r))||void 0===i?void 0:null===(n=i.options.find(e=>e.size===o))||void 0===n?void 0:n.displayName)||o},T=e=>{let{product:n,userSizePreferences:i}=e;return{preferredSize:h({product:n,userSizePreferences:i}),preferredExtendedSize:v({product:n,userSizePreferences:i}),productExtendedSize:z({product:n,userSizePreferences:i})}}},69439:function(e,n,i){i.d(n,{IZ:function(){return s},Iz:function(){return l},Zp:function(){return d},bh:function(){return o},nX:function(){return u}}),i(8355);var t=i(97571),r=i(37072);function o(e,n){let i=n.toLocaleString(e,{minimumIntegerDigits:2}),t=new Date(0,n-1).toLocaleString(e,{month:"long"});return"".concat(i," - ").concat(t)}i(40904);let u=e=>{var n,i;return{...e,firstName:e.firstName,lastName:e.lastName,phone:(null!==(n=e.phone)&&void 0!==n?n:"").replaceAll(/[^\d]/g,""),postalCode:null!==(i=e.postalCode)&&void 0!==i?i:"",gender:e.gender?e.gender:null,birthday:{month:Number(e["birthday-month"]),day:Number(e["birthday-day"])}}};async function l(e){if((null==e?void 0:e.uacfId)&&(null==e?void 0:e.idmAccessToken)&&(null==e?void 0:e.uacapiAccessToken)){let n=await fetch("/api/auth/v2/getpreferences/",{method:"POST",headers:{Authorization:"Bearer ".concat(e.uacapiAccessToken),"Content-Type":"application/json"},body:JSON.stringify({accessToken:e.idmAccessToken,uacfId:null==e?void 0:e.uacfId})}),i=await (0,r.Ee)(t.d4,n),{preferences:{activities:o,genders:u}}=i;return u.length&&(o.length?u.concat(o):u).filter(e=>!!e).forEach(e=>{let n=document.getElementById(e);n&&(n.checked=!0)}),i}return{lastUpdated:"",preferences:{activities:[],athletes:[],genders:[]},sizePreferences:[]}}function s(e){return 625*Math.min(Math.max(Math.ceil(e/625),1),4)}function d(e){let n=Math.min(Math.max(Math.floor(e/625),0),4);return n>2?n-1:n}},84695:function(e,n,i){i.d(n,{$e:function(){return o},l:function(){return r},oR:function(){return u}});let t=i(97571).d4.shape.sizePreferences.element.shape,r=t.gender.removeCatch().enum,o=t.productType.removeCatch().enum,u=t.sizeType.removeCatch().enum}}]);
</script>

</body>
</html>
