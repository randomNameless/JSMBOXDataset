<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>standalone.umd.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EventCapture={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n((function(e,o){var n=t&&t.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function c(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};Object.defineProperty(o,"__esModule",{value:!0}),o.TextApiResponse=o.BlobApiResponse=o.VoidApiResponse=o.JSONApiResponse=o.canConsumeForm=o.mapValues=o.querystring=o.exists=o.Configuration=o.COLLECTION_FORMATS=o.RequiredError=o.BaseAPI=o.BASE_PATH=void 0,o.BASE_PATH="https://api-prod.ec.openstax.org/api/v0".replace(/\/+$/,"");o.BaseAPI=class{constructor(e=new i){this.configuration=e,this.fetchApi=(e,t)=>n(this,void 0,void 0,(function*(){let o={url:e,init:t};for(const e of this.middleware)e.pre&&(o=(yield e.pre(Object.assign({fetch:this.fetchApi},o)))||o);let n=yield this.configuration.fetchApi(o.url,o.init);for(const e of this.middleware)e.post&&(n=(yield e.post({fetch:this.fetchApi,url:o.url,init:o.init,response:n.clone()}))||n);return n})),this.middleware=e.middleware}withMiddleware(...e){const t=this.clone();return t.middleware=t.middleware.concat(...e),t}withPreMiddleware(...e){const t=e.map((e=>({pre:e})));return this.withMiddleware(...t)}withPostMiddleware(...e){const t=e.map((e=>({post:e})));return this.withMiddleware(...t)}request(e){return n(this,void 0,void 0,(function*(){const{url:t,init:o}=this.createFetchParams(e),n=yield this.fetchApi(t,o);if(n.status>=200&&n.status<300)return n;throw n}))}createFetchParams(e){let t=this.configuration.basePath+e.path;void 0!==e.query&&0!==Object.keys(e.query).length&&(t+="?"+this.configuration.queryParamsStringify(e.query));const o="undefined"!=typeof FormData&&e.body instanceof FormData||e.body instanceof URLSearchParams||(n=e.body,"undefined"!=typeof Blob&&n instanceof Blob)?e.body:JSON.stringify(e.body);var n;const r=Object.assign({},this.configuration.headers,e.headers);return{url:t,init:{method:e.method,headers:r,body:o,credentials:this.configuration.credentials}}}clone(){const e=new(0,this.constructor)(this.configuration);return e.middleware=this.middleware.slice(),e}};class r extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}o.RequiredError=r,o.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};class i{constructor(e={}){this.configuration=e}get basePath(){return null!=this.configuration.basePath?this.configuration.basePath:o.BASE_PATH}get fetchApi(){return this.configuration.fetchApi||window.fetch.bind(window)}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||s}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return"function"==typeof e?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return"function"==typeof e?e:()=>n(this,void 0,void 0,(function*(){return e}))}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}function s(e,t=""){return Object.keys(e).map((o=>{const n=t+(t.length?`[${o}]`:o),r=e[o];if(r instanceof Array){const e=r.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(n)}=`);return`${encodeURIComponent(n)}=${e}`}return r instanceof Date?`${encodeURIComponent(n)}=${encodeURIComponent(r.toISOString())}`:r instanceof Object?s(r,n):`${encodeURIComponent(n)}=${encodeURIComponent(String(r))}`})).filter((e=>e.length>0)).join("&")}o.Configuration=i,o.exists=function(e,t){const o=e[t];return null!=o},o.querystring=s,o.mapValues=function(e,t){return Object.keys(e).reduce(((o,n)=>Object.assign(Object.assign({},o),{[n]:t(e[n])})),{})},o.canConsumeForm=function(e){for(const t of e)if("multipart/form-data"===t.contentType)return!0;return!1};o.JSONApiResponse=class{constructor(e,t=(e=>e)){this.raw=e,this.transformer=t}value(){return n(this,void 0,void 0,(function*(){return this.transformer(yield this.raw.json())}))}};o.VoidApiResponse=class{constructor(e){this.raw=e}value(){return n(this,void 0,void 0,(function*(){}))}};o.BlobApiResponse=class{constructor(e){this.raw=e}value(){return n(this,void 0,void 0,(function*(){return yield this.raw.blob()}))}};o.TextApiResponse=class{constructor(e){this.raw=e}value(){return n(this,void 0,void 0,(function*(){return yield this.raw.text()}))}}}));o(r);r.TextApiResponse,r.BlobApiResponse,r.VoidApiResponse,r.JSONApiResponse,r.canConsumeForm,r.mapValues,r.querystring,r.exists;var i=r.Configuration,s=(r.COLLECTION_FORMATS,r.RequiredError,r.BaseAPI,r.BASE_PATH,n((function(e,t){function o(e,t){return null==e?e:{contentId:e.content_id,contentVersion:e.content_version,contextVersion:r.exists(e,"context_version")?e.context_version:void 0,contentIndex:r.exists(e,"content_index")?e.content_index:void 0,scopeId:r.exists(e,"scope_id")?e.scope_id:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.AccessedStudyguideV1SourceMetadataToJSON=t.AccessedStudyguideV1SourceMetadataFromJSONTyped=t.AccessedStudyguideV1SourceMetadataFromJSON=void 0,t.AccessedStudyguideV1SourceMetadataFromJSON=function(e){return o(e)},t.AccessedStudyguideV1SourceMetadataFromJSONTyped=o,t.AccessedStudyguideV1SourceMetadataToJSON=function(e){if(void 0!==e)return null===e?null:{content_id:e.contentId,content_version:e.contentVersion,context_version:e.contextVersion,content_index:e.contentIndex,scope_id:e.scopeId}}})));o(s);s.AccessedStudyguideV1SourceMetadataToJSON,s.AccessedStudyguideV1SourceMetadataFromJSONTyped,s.AccessedStudyguideV1SourceMetadataFromJSON;var c=n((function(e,t){function o(e,t){return null==e?e:{homePage:e.homePage,name:e.name}}Object.defineProperty(t,"__esModule",{value:!0}),t.AccountToJSON=t.AccountFromJSONTyped=t.AccountFromJSON=void 0,t.AccountFromJSON=function(e){return o(e)},t.AccountFromJSONTyped=o,t.AccountToJSON=function(e){if(void 0!==e)return null===e?null:{homePage:e.homePage,name:e.name}}}));o(c);c.AccountToJSON,c.AccountFromJSONTyped,c.AccountFromJSON;var a=n((function(e,t){function o(e,t){return null==e?e:{id:e.id,objectType:e.objectType,definition:r.exists(e,"definition")?q.ActivityDefinitionFromJSON(e.definition):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityToJSON=t.ActivityFromJSONTyped=t.ActivityFromJSON=void 0,t.ActivityFromJSON=function(e){return o(e)},t.ActivityFromJSONTyped=o,t.ActivityToJSON=function(e){if(void 0!==e)return null===e?null:{id:e.id,objectType:e.objectType,definition:q.ActivityDefinitionToJSON(e.definition)}}}));o(a);a.ActivityToJSON,a.ActivityFromJSONTyped,a.ActivityFromJSON;var u=n((function(e,t){function o(e,t){return null==e?e:{name:r.exists(e,"name")?e.name:void 0,description:r.exists(e,"description")?e.description:void 0,type:r.exists(e,"type")?e.type:void 0,moreInfo:r.exists(e,"moreInfo")?e.moreInfo:void 0,extensions:r.exists(e,"extensions")?e.extensions:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityDefinitionToJSON=t.ActivityDefinitionFromJSONTyped=t.ActivityDefinitionFromJSON=void 0,t.ActivityDefinitionFromJSON=function(e){return o(e)},t.ActivityDefinitionFromJSONTyped=o,t.ActivityDefinitionToJSON=function(e){if(void 0!==e)return null===e?null:{name:e.name,description:e.description,type:e.type,moreInfo:e.moreInfo,extensions:e.extensions}}}));o(u);u.ActivityDefinitionToJSON,u.ActivityDefinitionFromJSONTyped,u.ActivityDefinitionFromJSON;var d=n((function(e,t){function o(e,t){return null==e?e:{objectType:e.objectType,name:r.exists(e,"name")?e.name:void 0,mbox:r.exists(e,"mbox")?e.mbox:void 0,mboxSha1sum:r.exists(e,"mbox_sha1sum")?e.mbox_sha1sum:void 0,openid:r.exists(e,"openid")?e.openid:void 0,account:r.exists(e,"account")?q.AccountFromJSON(e.account):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.AgentToJSON=t.AgentFromJSONTyped=t.AgentFromJSON=void 0,t.AgentFromJSON=function(e){return o(e)},t.AgentFromJSONTyped=o,t.AgentToJSON=function(e){if(void 0!==e)return null===e?null:{objectType:e.objectType,name:e.name,mbox:e.mbox,mbox_sha1sum:e.mboxSha1sum,openid:e.openid,account:q.AccountToJSON(e.account)}}}));o(d);d.AgentToJSON,d.AgentFromJSONTyped,d.AgentFromJSON;var l=n((function(e,t){function o(e,t){return null==e?e:{usageType:e.usageType,display:e.display,description:e.description,contentType:e.contentType,length:e.length,sha2:e.sha2,fileUrl:r.exists(e,"fileUrl")?e.fileUrl:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentToJSON=t.AttachmentFromJSONTyped=t.AttachmentFromJSON=void 0,t.AttachmentFromJSON=function(e){return o(e)},t.AttachmentFromJSONTyped=o,t.AttachmentToJSON=function(e){if(void 0!==e)return null===e?null:{usageType:e.usageType,display:e.display,description:e.description,contentType:e.contentType,length:e.length,sha2:e.sha2,fileUrl:e.fileUrl}}}));o(l);l.AttachmentToJSON,l.AttachmentFromJSONTyped,l.AttachmentFromJSON;var m=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,stateType:e.state_type,current:e.current,previous:e.previous,sourceMetadata:r.exists(e,"source_metadata")?q.AccessedStudyguideV1SourceMetadataFromJSON(e.source_metadata):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChangedStateV1ToJSON=t.ChangedStateV1FromJSONTyped=t.ChangedStateV1FromJSON=t.ChangedStateV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcChangedStateV1="org.openstax.ec.changed_state_v1"}(t.ChangedStateV1TypeEnum||(t.ChangedStateV1TypeEnum={})),t.ChangedStateV1FromJSON=function(e){return o(e)},t.ChangedStateV1FromJSONTyped=o,t.ChangedStateV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,state_type:e.stateType,current:e.current,previous:e.previous,source_metadata:q.AccessedStudyguideV1SourceMetadataToJSON(e.sourceMetadata)}}}));o(m);var S=m.ChangedStateV1ToJSON,p=(m.ChangedStateV1FromJSONTyped,m.ChangedStateV1FromJSON,m.ChangedStateV1TypeEnum),f=n((function(e,t){function o(e,t){return null==e?e:{registration:r.exists(e,"registration")?e.registration:void 0,instructor:r.exists(e,"instructor")?e.instructor:void 0,team:r.exists(e,"team")?e.team:void 0,contextActivities:r.exists(e,"contextActivities")?q.ContextActivitiesFromJSON(e.contextActivities):void 0,revision:r.exists(e,"revision")?e.revision:void 0,platform:r.exists(e,"platform")?e.platform:void 0,language:r.exists(e,"language")?e.language:void 0,statement:r.exists(e,"statement")?q.StatementRefFromJSON(e.statement):void 0,extensions:r.exists(e,"extensions")?e.extensions:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextToJSON=t.ContextFromJSONTyped=t.ContextFromJSON=void 0,t.ContextFromJSON=function(e){return o(e)},t.ContextFromJSONTyped=o,t.ContextToJSON=function(e){if(void 0!==e)return null===e?null:{registration:e.registration,instructor:e.instructor,team:e.team,contextActivities:q.ContextActivitiesToJSON(e.contextActivities),revision:e.revision,platform:e.platform,language:e.language,statement:q.StatementRefToJSON(e.statement),extensions:e.extensions}}}));o(f);f.ContextToJSON,f.ContextFromJSONTyped,f.ContextFromJSON;var O=n((function(e,t){function o(e,t){return null==e?e:{parent:r.exists(e,"parent")?e.parent.map(q.ActivityFromJSON):void 0,category:r.exists(e,"category")?e.category.map(q.ActivityFromJSON):void 0,other:r.exists(e,"other")?e.other.map(q.ActivityFromJSON):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextActivitiesToJSON=t.ContextActivitiesFromJSONTyped=t.ContextActivitiesFromJSON=void 0,t.ContextActivitiesFromJSON=function(e){return o(e)},t.ContextActivitiesFromJSONTyped=o,t.ContextActivitiesToJSON=function(e){if(void 0!==e)return null===e?null:{parent:void 0===e.parent?void 0:e.parent.map(q.ActivityToJSON),category:void 0===e.category?void 0:e.category.map(q.ActivityToJSON),other:void 0===e.other?void 0:e.other.map(q.ActivityToJSON)}}}));o(O);O.ContextActivitiesToJSON,O.ContextActivitiesFromJSONTyped,O.ContextActivitiesFromJSON;var v=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,highlightId:e.highlight_id,sourceType:e.source_type,sourceId:e.source_id,sourceMetadata:e.source_metadata,annotation:e.annotation,anchor:e.anchor,color:e.color,locationStrategies:e.location_strategies,scopeId:e.scope_id}}Object.defineProperty(t,"__esModule",{value:!0}),t.CreatedHighlightV1ToJSON=t.CreatedHighlightV1FromJSONTyped=t.CreatedHighlightV1FromJSON=t.CreatedHighlightV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcCreatedHighlightV1="org.openstax.ec.created_highlight_v1"}(t.CreatedHighlightV1TypeEnum||(t.CreatedHighlightV1TypeEnum={})),t.CreatedHighlightV1FromJSON=function(e){return o(e)},t.CreatedHighlightV1FromJSONTyped=o,t.CreatedHighlightV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,highlight_id:e.highlightId,source_type:e.sourceType,source_id:e.sourceId,source_metadata:e.sourceMetadata,annotation:e.annotation,anchor:e.anchor,color:e.color,location_strategies:e.locationStrategies,scope_id:e.scopeId}}}));o(v);v.CreatedHighlightV1ToJSON,v.CreatedHighlightV1FromJSONTyped,v.CreatedHighlightV1FromJSON,v.CreatedHighlightV1TypeEnum;var y=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,highlightId:e.highlight_id,sourceType:e.source_type,anchor:e.anchor,color:e.color,locationStrategies:e.location_strategies,sourceMetadata:q.AccessedStudyguideV1SourceMetadataFromJSON(e.source_metadata)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CreatedHighlightV2ToJSON=t.CreatedHighlightV2FromJSONTyped=t.CreatedHighlightV2FromJSON=t.CreatedHighlightV2TypeEnum=void 0,function(e){e.OrgOpenstaxEcCreatedHighlightV2="org.openstax.ec.created_highlight_v2"}(t.CreatedHighlightV2TypeEnum||(t.CreatedHighlightV2TypeEnum={})),t.CreatedHighlightV2FromJSON=function(e){return o(e)},t.CreatedHighlightV2FromJSONTyped=o,t.CreatedHighlightV2ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,highlight_id:e.highlightId,source_type:e.sourceType,anchor:e.anchor,color:e.color,location_strategies:e.locationStrategies,source_metadata:q.AccessedStudyguideV1SourceMetadataToJSON(e.sourceMetadata)}}}));o(y);var g=y.CreatedHighlightV2ToJSON,_=(y.CreatedHighlightV2FromJSONTyped,y.CreatedHighlightV2FromJSON,y.CreatedHighlightV2TypeEnum),N=n((function(e,t){function o(e,t){return null==e?e:{data:e.data}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventToJSON=t.EventFromJSONTyped=t.EventFromJSON=void 0,t.EventFromJSON=function(e){return o(e)},t.EventFromJSONTyped=o,t.EventToJSON=function(e){if(void 0!==e)return null===e?null:{data:e.data}}}));o(N);N.EventToJSON,N.EventFromJSONTyped,N.EventFromJSON;var h=n((function(e,t){function o(e,t){return null==e?e:{events:r.exists(e,"events")?e.events.map(q.EventFromJSON):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventsToJSON=t.EventsFromJSONTyped=t.EventsFromJSON=void 0,t.EventsFromJSON=function(e){return o(e)},t.EventsFromJSONTyped=o,t.EventsToJSON=function(e){if(void 0!==e)return null===e?null:{events:void 0===e.events?void 0:e.events.map(q.EventToJSON)}}}));o(h);h.EventsToJSON,h.EventsFromJSONTyped,h.EventsFromJSON;var J=n((function(e,t){function o(e,t){return null==e?e:{objectType:r.exists(e,"objectType")?e.objectType:void 0,name:r.exists(e,"name")?e.name:void 0,member:r.exists(e,"member")?e.member.map(q.AgentFromJSON):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupToJSON=t.GroupFromJSONTyped=t.GroupFromJSON=void 0,t.GroupFromJSON=function(e){return o(e)},t.GroupFromJSONTyped=o,t.GroupToJSON=function(e){if(void 0!==e)return null===e?null:{objectType:e.objectType,name:e.name,member:void 0===e.member?void 0:e.member.map(q.AgentToJSON)}}}));o(J);J.GroupToJSON,J.GroupFromJSONTyped,J.GroupFromJSON;var T=n((function(e,t){function o(e,t){return null==e?e:{kafkaTopics:r.exists(e,"kafka_topics")?e.kafka_topics:void 0,schemaRegistrySubjects:r.exists(e,"schema_registry_subjects")?e.schema_registry_subjects:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.InfoDataToJSON=t.InfoDataFromJSONTyped=t.InfoDataFromJSON=void 0,t.InfoDataFromJSON=function(e){return o(e)},t.InfoDataFromJSONTyped=o,t.InfoDataToJSON=function(e){if(void 0!==e)return null===e?null:{kafka_topics:e.kafkaTopics,schema_registry_subjects:e.schemaRegistrySubjects}}}));o(T);T.InfoDataToJSON,T.InfoDataFromJSONTyped,T.InfoDataFromJSON;var x=n((function(e,t){function o(e,t){return null==e?e:{overallTookMs:r.exists(e,"overall_took_ms")?e.overall_took_ms:void 0,envName:r.exists(e,"env_name")?e.env_name:void 0,accountsEnvName:r.exists(e,"accounts_env_name")?e.accounts_env_name:void 0,amiId:r.exists(e,"ami_id")?e.ami_id:void 0,gitSha:r.exists(e,"git_sha")?e.git_sha:void 0,data:r.exists(e,"data")?q.InfoDataFromJSON(e.data):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.InfoResultsToJSON=t.InfoResultsFromJSONTyped=t.InfoResultsFromJSON=void 0,t.InfoResultsFromJSON=function(e){return o(e)},t.InfoResultsFromJSONTyped=o,t.InfoResultsToJSON=function(e){if(void 0!==e)return null===e?null:{data:q.InfoDataToJSON(e.data)}}}));o(x);x.InfoResultsToJSON,x.InfoResultsFromJSONTyped,x.InfoResultsFromJSON;var F=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,targetId:e.target_id,targetType:e.target_type,targetAttributes:e.target_attributes,targetStateChange:r.exists(e,"target_state_change")?e.target_state_change:void 0,contextId:e.context_id,contextType:e.context_type,contextAttributes:e.context_attributes,contextRegion:r.exists(e,"context_region")?e.context_region:void 0,sourceMetadata:r.exists(e,"source_metadata")?q.AccessedStudyguideV1SourceMetadataFromJSON(e.source_metadata):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.InteractedElementV1ToJSON=t.InteractedElementV1FromJSONTyped=t.InteractedElementV1FromJSON=t.InteractedElementV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcInteractedElementV1="org.openstax.ec.interacted_element_v1"}(t.InteractedElementV1TypeEnum||(t.InteractedElementV1TypeEnum={})),t.InteractedElementV1FromJSON=function(e){return o(e)},t.InteractedElementV1FromJSONTyped=o,t.InteractedElementV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,target_id:e.targetId,target_type:e.targetType,target_attributes:e.targetAttributes,target_state_change:e.targetStateChange,context_id:e.contextId,context_type:e.contextType,context_attributes:e.contextAttributes,context_region:e.contextRegion,source_metadata:q.AccessedStudyguideV1SourceMetadataToJSON(e.sourceMetadata)}}}));o(F);var b=F.InteractedElementV1ToJSON,A=(F.InteractedElementV1FromJSONTyped,F.InteractedElementV1FromJSON,F.InteractedElementV1TypeEnum),V=n((function(e,t){function o(e,t){return null==e?e:{statusCode:r.exists(e,"status_code")?e.status_code:void 0,messages:r.exists(e,"messages")?e.messages:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelErrorToJSON=t.ModelErrorFromJSONTyped=t.ModelErrorFromJSON=void 0,t.ModelErrorFromJSON=function(e){return o(e)},t.ModelErrorFromJSONTyped=o,t.ModelErrorToJSON=function(e){if(void 0!==e)return null===e?null:{status_code:e.statusCode,messages:e.messages}}}));o(V);V.ModelErrorToJSON,V.ModelErrorFromJSONTyped,V.ModelErrorFromJSON;var C=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,app:e.app,target:e.target,context:e.context,flavor:e.flavor,medium:e.medium}}Object.defineProperty(t,"__esModule",{value:!0}),t.NudgedV1ToJSON=t.NudgedV1FromJSONTyped=t.NudgedV1FromJSON=t.NudgedV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcNudgedV1="org.openstax.ec.nudged_v1"}(t.NudgedV1TypeEnum||(t.NudgedV1TypeEnum={})),t.NudgedV1FromJSON=function(e){return o(e)},t.NudgedV1FromJSONTyped=o,t.NudgedV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,app:e.app,target:e.target,context:e.context,flavor:e.flavor,medium:e.medium}}}));o(C);var E=C.NudgedV1ToJSON,I=(C.NudgedV1FromJSONTyped,C.NudgedV1FromJSON,C.NudgedV1TypeEnum),w=n((function(e,t){function o(e,t){return null==e?e:{score:r.exists(e,"score")?q.ScoreFromJSON(e.score):void 0,success:r.exists(e,"success")?e.success:void 0,completion:r.exists(e,"completion")?e.completion:void 0,response:r.exists(e,"response")?e.response:void 0,duration:r.exists(e,"duration")?e.duration:void 0,extensions:r.exists(e,"extensions")?e.extensions:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResultToJSON=t.ResultFromJSONTyped=t.ResultFromJSON=void 0,t.ResultFromJSON=function(e){return o(e)},t.ResultFromJSONTyped=o,t.ResultToJSON=function(e){if(void 0!==e)return null===e?null:{score:q.ScoreToJSON(e.score),success:e.success,completion:e.completion,response:e.response,duration:e.duration,extensions:e.extensions}}}));o(w);w.ResultToJSON,w.ResultFromJSONTyped,w.ResultFromJSON;var k=n((function(e,t){function o(e,t){return null==e?e:{scaled:r.exists(e,"scaled")?e.scaled:void 0,raw:r.exists(e,"raw")?e.raw:void 0,min:r.exists(e,"min")?e.min:void 0,max:r.exists(e,"max")?e.max:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.ScoreToJSON=t.ScoreFromJSONTyped=t.ScoreFromJSON=void 0,t.ScoreFromJSON=function(e){return o(e)},t.ScoreFromJSONTyped=o,t.ScoreToJSON=function(e){if(void 0!==e)return null===e?null:{scaled:e.scaled,raw:e.raw,min:e.min,max:e.max}}}));o(k);k.ScoreToJSON,k.ScoreFromJSONTyped,k.ScoreFromJSON;var j=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,referrer:e.referrer,sessionUuid:e.session_uuid,platform:r.exists(e,"platform")?e.platform:void 0,releaseId:r.exists(e,"release_id")?e.release_id:void 0,serviceWorker:r.exists(e,"service_worker")?e.service_worker:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.StartedSessionV1ToJSON=t.StartedSessionV1FromJSONTyped=t.StartedSessionV1FromJSON=t.StartedSessionV1ServiceWorkerEnum=t.StartedSessionV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcStartedSessionV1="org.openstax.ec.started_session_v1"}(t.StartedSessionV1TypeEnum||(t.StartedSessionV1TypeEnum={})),function(e){e.Unsupported="unsupported",e.Inactive="inactive",e.Active="active"}(t.StartedSessionV1ServiceWorkerEnum||(t.StartedSessionV1ServiceWorkerEnum={})),t.StartedSessionV1FromJSON=function(e){return o(e)},t.StartedSessionV1FromJSONTyped=o,t.StartedSessionV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,referrer:e.referrer,session_uuid:e.sessionUuid,platform:e.platform,release_id:e.releaseId,service_worker:e.serviceWorker}}}));o(j);var M=j.StartedSessionV1ToJSON,R=(j.StartedSessionV1FromJSONTyped,j.StartedSessionV1FromJSON,j.StartedSessionV1ServiceWorkerEnum,j.StartedSessionV1TypeEnum),P=n((function(e,t){function o(e,t){return null==e?e:{id:e.id,actor:e.actor,verb:q.VerbFromJSON(e.verb),object:e.object,result:r.exists(e,"result")?q.ResultFromJSON(e.result):void 0,context:r.exists(e,"context")?q.ContextFromJSON(e.context):void 0,timestamp:r.exists(e,"timestamp")?e.timestamp:void 0,stored:r.exists(e,"stored")?e.stored:void 0,authority:r.exists(e,"authority")?q.AgentFromJSON(e.authority):void 0,version:r.exists(e,"version")?e.version:void 0,attachments:r.exists(e,"attachments")?e.attachments.map(q.AttachmentFromJSON):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.StatementToJSON=t.StatementFromJSONTyped=t.StatementFromJSON=void 0,t.StatementFromJSON=function(e){return o(e)},t.StatementFromJSONTyped=o,t.StatementToJSON=function(e){if(void 0!==e)return null===e?null:{id:e.id,actor:e.actor,verb:q.VerbToJSON(e.verb),object:e.object,result:q.ResultToJSON(e.result),context:q.ContextToJSON(e.context),timestamp:e.timestamp,stored:e.stored,authority:q.AgentToJSON(e.authority),version:e.version,attachments:void 0===e.attachments?void 0:e.attachments.map(q.AttachmentToJSON)}}}));o(P);P.StatementToJSON,P.StatementFromJSONTyped,P.StatementFromJSON;var U=n((function(e,t){function o(e,t){return null==e?e:{objectType:e.objectType,id:e.id}}Object.defineProperty(t,"__esModule",{value:!0}),t.StatementRefToJSON=t.StatementRefFromJSONTyped=t.StatementRefFromJSON=void 0,t.StatementRefFromJSON=function(e){return o(e)},t.StatementRefFromJSONTyped=o,t.StatementRefToJSON=function(e){if(void 0!==e)return null===e?null:{objectType:e.objectType,id:e.id}}}));o(U);U.StatementRefToJSON,U.StatementRefFromJSONTyped,U.StatementRefFromJSON;var D=n((function(e,t){function o(e,t){return null==e?e:{actor:e.actor,verb:q.VerbFromJSON(e.verb),object:e.object,result:r.exists(e,"result")?q.ResultFromJSON(e.result):void 0,context:r.exists(e,"context")?q.ContextFromJSON(e.context):void 0,timestamp:r.exists(e,"timestamp")?e.timestamp:void 0,attachments:r.exists(e,"attachments")?e.attachments.map(q.AttachmentFromJSON):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.SubStatementToJSON=t.SubStatementFromJSONTyped=t.SubStatementFromJSON=void 0,t.SubStatementFromJSON=function(e){return o(e)},t.SubStatementFromJSONTyped=o,t.SubStatementToJSON=function(e){if(void 0!==e)return null===e?null:{actor:e.actor,verb:q.VerbToJSON(e.verb),object:e.object,result:q.ResultToJSON(e.result),context:q.ContextToJSON(e.context),timestamp:e.timestamp,attachments:void 0===e.attachments?void 0:e.attachments.map(q.AttachmentToJSON)}}}));o(D);D.SubStatementToJSON,D.SubStatementFromJSONTyped,D.SubStatementFromJSON;var H=n((function(e,t){function o(e,t){return null==e?e:{id:e.id,display:r.exists(e,"display")?e.display:void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.VerbToJSON=t.VerbFromJSONTyped=t.VerbFromJSON=void 0,t.VerbFromJSON=function(e){return o(e)},t.VerbFromJSONTyped=o,t.VerbToJSON=function(e){if(void 0!==e)return null===e?null:{id:e.id,display:e.display}}}));o(H);H.VerbToJSON,H.VerbFromJSONTyped,H.VerbFromJSON;var q=n((function(e,o){var n=t&&t.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=t&&t.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(o,"__esModule",{value:!0}),r(B,o),r(s,o),r(c,o),r(a,o),r(u,o),r(d,o),r(l,o),r(m,o),r(f,o),r(O,o),r(v,o),r(y,o),r(N,o),r(h,o),r(J,o),r(T,o),r(x,o),r(F,o),r(V,o),r(C,o),r(w,o),r(k,o),r(j,o),r(P,o),r(U,o),r(D,o),r(H,o)}));o(q);var B=n((function(e,t){function o(e,t){return null==e?e:{clientClockOccurredAt:new Date(e.client_clock_occurred_at),clientClockSentAt:new Date(e.client_clock_sent_at),type:e.type,sourceUri:e.source_uri,sessionUuid:e.session_uuid,sessionOrder:e.session_order,pageId:e.page_id,bookId:e.book_id,sourceMetadata:r.exists(e,"source_metadata")?q.AccessedStudyguideV1SourceMetadataFromJSON(e.source_metadata):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.AccessedStudyguideV1ToJSON=t.AccessedStudyguideV1FromJSONTyped=t.AccessedStudyguideV1FromJSON=t.AccessedStudyguideV1TypeEnum=void 0,function(e){e.OrgOpenstaxEcAccessedStudyguideV1="org.openstax.ec.accessed_studyguide_v1"}(t.AccessedStudyguideV1TypeEnum||(t.AccessedStudyguideV1TypeEnum={})),t.AccessedStudyguideV1FromJSON=function(e){return o(e)},t.AccessedStudyguideV1FromJSONTyped=o,t.AccessedStudyguideV1ToJSON=function(e){if(void 0!==e)return null===e?null:{client_clock_occurred_at:e.clientClockOccurredAt.toISOString(),client_clock_sent_at:e.clientClockSentAt.toISOString(),type:e.type,source_uri:e.sourceUri,session_uuid:e.sessionUuid,session_order:e.sessionOrder,page_id:e.pageId,book_id:e.bookId,source_metadata:q.AccessedStudyguideV1SourceMetadataToJSON(e.sourceMetadata)}}}));o(B);var L=B.AccessedStudyguideV1ToJSON,W=(B.AccessedStudyguideV1FromJSONTyped,B.AccessedStudyguideV1FromJSON,B.AccessedStudyguideV1TypeEnum);const $=(e,...t)=>{const[o,...n]=t;return o?(r=e,i=$(o,...n),e=>{const t=r(e),o=i(e);return()=>Object.assign(Object.assign({},t()),o())}):e;var r,i},G=(e,...t)=>{const[o,...n]=t;if(!o)return t=>()=>e(t);const r=$(o,...n);return(...t)=>{const o=r(t[0]);return()=>e(Object.assign(Object.assign({},o()),t[0]))}};var z,K=new Uint8Array(16);function Q(){if(!z&&!(z="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(K)}var X=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Y=[],Z=0;Z<256;++Z)Y.push((Z+256).toString(16).substr(1));function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(Y[e[t+0]]+Y[e[t+1]]+Y[e[t+2]]+Y[e[t+3]]+"-"+Y[e[t+4]]+Y[e[t+5]]+"-"+Y[e[t+6]]+Y[e[t+7]]+"-"+Y[e[t+8]]+Y[e[t+9]]+"-"+Y[e[t+10]]+Y[e[t+11]]+Y[e[t+12]]+Y[e[t+13]]+Y[e[t+14]]+Y[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&X.test(e)}(o))throw TypeError("Stringified UUID is invalid");return o}function te(e,t,o){var n=(e=e||{}).random||(e.rng||Q)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return ee(n)}const oe=()=>{const e=new Date;return()=>({clientClockOccurredAt:e,clientClockSentAt:new Date})},ne=e=>()=>()=>({type:e}),re=e=>{const t=e||("undefined"==typeof window?void 0:window);return e=>{var o;const n=null!==(o=e&&e.sourceUri)&&void 0!==o?o:t?t.location.toString():"";return()=>({sourceUri:n})}},ie=((e=te(),t=0)=>()=>{const o=t++;return()=>({sessionUuid:e,sessionOrder:o})})(),se=G(M,ne(R.OrgOpenstaxEcStartedSessionV1),oe,(e=>{const t=e||("undefined"==typeof document?void 0:document);return e=>()=>{var o;return{referrer:null!==(o=e&&e.referrer)&&void 0!==o?o:t?t.referrer:""}}})(),re(),ie,(e=>{const t=e||("undefined"==typeof window?void 0:window);return()=>()=>t&&"navigator"in t&&"serviceWorker"in t.navigator?{serviceWorker:t.navigator.serviceWorker.controller&&"activated"===t.navigator.serviceWorker.controller.state?"active":"inactive"}:{serviceWorker:"unsupported"}})()),ce=G(L,ne(W.OrgOpenstaxEcAccessedStudyguideV1),oe,re(),ie),ae=G(g,ne(_.OrgOpenstaxEcCreatedHighlightV2),oe,re(),ie),ue=G(E,ne(I.OrgOpenstaxEcNudgedV1),oe,re(),ie),de=G(b,ne(A.OrgOpenstaxEcInteractedElementV1),oe,re(),ie),le=G(S,ne(p.OrgOpenstaxEcChangedStateV1),(()=>{const e={};return t=>{const o=e[t.stateType]||"none";return e[t.stateType]=t.current,()=>({previous:o})}})(),oe,re(),ie);var me=Object.freeze({__proto__:null,createEvent:G,sessionProvider:ie,sessionStarted:se,accessedStudyguide:ce,createdHighlight:ae,nudged:ue,interacted:de,stateChange:le});
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Se=n((function(e,o){var n=t&&t.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function s(e){try{a(n.next(e))}catch(e){i(e)}}function c(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};Object.defineProperty(o,"__esModule",{value:!0}),o.EventsApi=void 0;class i extends r.BaseAPI{addEventsRaw(e){return n(this,void 0,void 0,(function*(){if(null===e.payload||void 0===e.payload)throw new r.RequiredError("payload","Required parameter requestParameters.payload was null or undefined when calling addEvents.");const t={"Content-Type":"application/json"},o=yield this.request({path:"/events",method:"POST",headers:t,query:{},body:q.EventsToJSON(e.payload)});return new r.VoidApiResponse(o)}))}addEvents(e){return n(this,void 0,void 0,(function*(){yield this.addEventsRaw(e)}))}}o.EventsApi=i}));o(Se);var pe=Se.EventsApi;const fe=(e,t={})=>fetch(e,Object.assign(Object.assign({},t),{keepalive:!0,credentials:"include"})),Oe=(e,t,o)=>{let n;const r=()=>{clearInterval(n),n=void 0,e.client&&(o.sendingEnabled instanceof Function?o.sendingEnabled():o.sendingEnabled)?t(e.client).catch((()=>i(o.retryInterval))):i()},i=(e=o.batchInterval)=>{n||(n=setTimeout(r,e))};return{run:r,runLater:i}},ve={sendingEnabled:!0,reportError:()=>null,batchInterval:6e4,retryInterval:6e4,initialized:!0,document:"undefined"==typeof document?void 0:document},{capture:ye}=((e={})=>{const t=Object.assign(Object.assign({},ve),e),{document:o,clientConfig:n}=t,r=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}(t,["document","clientConfig"]),s=(()=>{const e={client:void 0,setConfig:t=>{e.client=new pe(new i(Object.assign({fetchApi:fe},t||{})))}};return e})();r.initialized&&s.setConfig(n);const c=[],a=((e,t,o)=>Oe(t,(t=>{const n=e.splice(0);if(0===n.length)return Promise.resolve();const r=n.map((e=>({data:e()})));return t.addEvents({payload:{events:r}}).catch((t=>{if(t instanceof TypeError)throw e.unshift(...n),t;o.reportError(t)}))}),o))(c,s,r);return o&&o.addEventListener("visibilitychange",(()=>{"hidden"===o.visibilityState&&a.run()})),{capture:e=>{c.push(e),a.runLater()},configure:s.setConfig,queue:c}})();e.capture=ye,e.events=me,Object.defineProperty(e,"__esModule",{value:!0})}));

</script>

</body>
</html>
