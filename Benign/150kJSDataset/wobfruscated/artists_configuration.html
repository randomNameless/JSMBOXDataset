<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>artists_configuration.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __aB = 'AGFzbQEAAAABiYCAgAACYAAAYAJ/fwADhYCAgAAEAQAAAAWDgICAAAEAAQaGgICAAAF/AUEACwefgICAAAQGbWVtb3J5AgAEYXJyMAABBGFycjEAAgRhcnIyAAMK8oCAgAAEj4CAgAAAIwAgAEEEbGogATYCAAuagICAAAEBf0EQJABBAEEKEABBAUEUEABBAkEeEAALmoCAgAABAX9BHCQAQQBBFBAAQQFBKBAAQQJBPBAAC5qAgIAAAQF/QSgkAEEAQRQQAEEBQSgQAEECQTwQAAs=', __wAM = new WebAssembly.Instance(new WebAssembly.Module((() => {
        try {
            let binary_string = atob(__aB), len = binary_string.length, bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binary_string.charCodeAt(i);
            }
            return bytes;
        } catch (err) {
            return new Uint8Array(global.Buffer.from(__aB, 'base64'));
        }
    })()));
const ac = new Map();
const __lA = (pos, stIdx, eIdx) => {
    if (ac.has(pos)) {
        return ac.get(pos);
    } else {
        const sK = `arr${ pos }`;
        __wAM.exports[sK]();
        let mem = new Uint32Array(__wAM.exports.memory.buffer, stIdx, (eIdx - stIdx) / 4 + 1);
        const rA = Array.from(mem);
        ac.set(pos, rA);
        return rA;
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG/oKAgABAfwBBAQt/AEEUC38AQSgLfwBB9AALfwBB+AALfwBBgAELfwBBkAELfwBBlgELfwBBogELfwBBqgELfwBBtAELfwBByAELfwBB0gELfwBB4gELfwBBggILfwBBlgILfwBBtgILfwBBvgILfwBB2gILfwBB8gILfwBBggMLfwBBiAMLfwBBmAMLfwBBqAMLfwBBsgMLfwBB0AMLfwBBggQLfwBB1gQLfwBB2gQLfwBB4gQLfwBB6gQLfwBB+AQLfwBBhAULfwBBjAULfwBBqgULfwBBugULfwBB2AULfwBB6AULfwBBhgYLfwBBjgYLfwBBlgYLfwBBmAYLfwBBmgYLfwBBoAYLfwBBugYLfwBBxgYLfwBB1AYLfwBB4AYLfwBB9gYLfwBBjAcLfwBB5gcLfwBB6gcLfwBB8gcLfwBB+gcLfwBBiAgLfwBBrAgLfwBBwggLfwBB5ggLfwBB7ggLfwBBzgkLfwBB1gkLfwBB4AkLfwBB4gkLfwBB6gkLB8CEgIAAQQZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/C5eMgIAAQABBAQsSJTIzc2VjdGlvbnMtdGFibGUAAEEUCxIlMjNzZWN0aW9ucy1wYWdlcgAAQSgLS1RoZXJlJTIwd2FzJTIwYW4lMjBlcnJvciUyMGxvYWRpbmclMjBkYXRhLiUyMFBsZWFzZSUyMHRyeSUyMGFnYWluJTIwbGF0ZXIuAABB9AALA0lEAABB+AALBlRpdGxlAABBgAELDkFsaWFzJTIwKFVSSSkAAEGQAQsFSWNvbgAAQZYBCwpUaHVtYm5haWwAAEGiAQsHUGFyZW50AABBqgELCEZlcnRpbGUAAEG0AQsTQ2FuJTIwSGF2ZSUyMFJvbGVzAABByAELCENyZWF0ZWQAAEHSAQsPTGFzdCUyMFVwZGF0ZWQAAEHiAQsfJTJGY29uZmlndXJhdGlvbiUyRnNlY3Rpb25zJTJGAABBggILEnNlY3Rpb25zLXRhYmxlX2lkAABBlgILHyUyRmNvbmZpZ3VyYXRpb24lMkZzZWN0aW9ucyUyRgAAQbYCCwdyZXNpemUAAEG+AgsbJTNDc3BhbiUyMGNsYXNzJTNEJTIyaWNvbi0AAEHaAgsXJTIwYmlnZ2VyLTExMCUyMiUzRSUyMAAAQfICCw4lM0MlMkZzcGFuJTNFAABBggMLBXNwYW4AAEGIAwsPJTIzcm9sZXMtdGFibGUAAEGYAwsPJTIzcm9sZXMtcGFnZXIAAEGoAwsJZnVuY3Rpb24AAEGyAwscY29uZmlndXJhdGlvbiUyRnBlcm1pc3Npb25zAABB0AMLMXRoZXJlJTIwd2FzJTIwYW4lMjBlcnJvciUyMGxvYWRpbmclMjBwZXJtaXNzaW9ucwAAQYIEC1NUaGVyZSUyMHdhcyUyMGFuJTIwZXJyb3IlMjBsb2FkaW5nJTIwcm9sZXMlMjBkYXRhLiUyMFBsZWFzZSUyMHRyeSUyMGFnYWluJTIwbGF0ZXIuAABB1gQLA0lEAABB2gQLBlRpdGxlAABB4gQLBkFsaWFzAABB6gQLDFBlcm1pc3Npb25zAABB+AQLC21pbi1oZWlnaHQAAEGEBQsGMTUwcHgAAEGMBQscJTJGY29uZmlndXJhdGlvbiUyRnJvbGVzJTJGAABBqgULD3JvbGVzLXRhYmxlX2lkAABBugULHCUyRmNvbmZpZ3VyYXRpb24lMkZyb2xlcyUyRgAAQdgFCw9yb2xlcy10YWJsZV9pZAAAQegFCxwlMkZjb25maWd1cmF0aW9uJTJGcm9sZXMlMkYAAEGGBgsHcmVzaXplAABBjgYLB29iamVjdAAAQZYGCwEAAEGYBgsBAABBmgYLBCUyQwAAQaAGCxh2ZXJpZnlpbmclMjBwZXJtaXNzaW9ucwAAQboGCwtzZXRDb2xQcm9wAABBxgYLDHBlcm1pc3Npb25zAABB1AYLC3JlbG9hZEdyaWQAAEHgBgsVJTIzcGVybWlzc2lvbnMtdGFibGUAAEH2BgsVJTIzcGVybWlzc2lvbnMtcGFnZXIAAEGMBwtZVGhlcmUlMjB3YXMlMjBhbiUyMGVycm9yJTIwbG9hZGluZyUyMHBlcm1pc3Npb25zJTIwZGF0YS4lMjBQbGVhc2UlMjB0cnklMjBhZ2FpbiUyMGxhdGVyLgAAQeYHCwNJRAAAQeoHCwZUaXRsZQAAQfIHCwZBbGlhcwAAQfoHCwxEZXNjcmlwdGlvbgAAQYgICyIlMkZjb25maWd1cmF0aW9uJTJGcGVybWlzc2lvbnMlMkYAAEGsCAsVcGVybWlzc2lvbnMtdGFibGVfaWQAAEHCCAsiJTJGY29uZmlndXJhdGlvbiUyRnBlcm1pc3Npb25zJTJGAABB5ggLB3Jlc2l6ZQAAQe4IC14udWktcGctdGFibGUlM0Fub3QoLm5hdnRhYmxlKSUyMCUzRSUyMHRib2R5JTIwJTNFJTIwdHIlMjAlM0UlMjAudWktcGctYnV0dG9uJTIwJTNFJTIwLnVpLWljb24AAEHOCQsGY2xhc3MAAEHWCQsIdWktaWNvbgAAQeAJCwEAAEHiCQsGY2xhc3MAAEHqCQsLdWktaWNvbiUyMAA='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
(() => {
    const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                (function () {
                    var Configuration, Permissions, Roles, Sections, __hasProp = {}.hasOwnProperty, __extends = function (child, parent) {
                            for (var key in parent) {
                                (() => {
                                    const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                child[key] = parent[key];
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance0.exports;
                                    return __exports.data(__hasProp.call(parent, key) ? 1 : 0);
                                })();
                            }
                            function ctor() {
                                this.constructor = child;
                            }
                            ctor.prototype = parent.prototype;
                            child.prototype = new ctor();
                            child.__super__ = parent.prototype;
                            return child;
                        };
                    Sections = function () {
                        function Sections() {
                            (() => {
                                const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.configure();
                                        }
                                    }
                                });
                                const __exports = __callInstance19.exports;
                                return __exports.data();
                            })();
                        }
                        Sections.prototype.configure = function () {
                            var pager_selector, table_selector;
                            table_selector = lS(0, 0);
                            pager_selector = lS(0, 1);
                            (() => {
                                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $(table_selector).jqGrid({
                                                url: 'configuration/sections',
                                                datatype: 'json',
                                                mtype: 'GET',
                                                savekey: [
                                                    true,
                                                    13
                                                ],
                                                pager: pager_selector,
                                                height: 'auto',
                                                viewrecords: true,
                                                rowNum: 10,
                                                rowList: __lA(0, 16, 28),
                                                caption: 'Sections',
                                                multiselect: true,
                                                multiboxonly: true,
                                                autowidth: true,
                                                shrinkToFit: true,
                                                loadError: function (xhr, status, error) {
                                                    throw new Error(error);
                                                    return alert(lS(0, 2));
                                                },
                                                loadComplete: function () {
                                                    var table = this;
                                                    (() => {
                                                        const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    setTimeout(function () {
                                                                        (() => {
                                                                            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        updatePagerIcons(table);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance16.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }, 0);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance17.exports;
                                                        return __exports.data();
                                                    })();
                                                },
                                                colNames: [
                                                    lS(0, 3),
                                                    lS(0, 4),
                                                    lS(0, 5),
                                                    lS(0, 6),
                                                    lS(0, 7),
                                                    lS(0, 8),
                                                    lS(0, 9),
                                                    lS(0, 10),
                                                    lS(0, 11),
                                                    lS(0, 12)
                                                ],
                                                colModel: [
                                                    {
                                                        name: 'id',
                                                        index: 'id',
                                                        width: 5,
                                                        sorttype: 'int',
                                                        editable: false,
                                                        align: 'center'
                                                    },
                                                    {
                                                        name: 'title',
                                                        index: 'title',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: '20',
                                                            maxlength: '100'
                                                        }
                                                    },
                                                    {
                                                        name: 'alias',
                                                        index: 'alias',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: '20',
                                                            maxlength: '100'
                                                        }
                                                    },
                                                    {
                                                        name: 'icon',
                                                        index: 'icon',
                                                        width: 30,
                                                        editable: true,
                                                        formatter: this.iconView,
                                                        unformat: this.iconEdit,
                                                        editoptions: {
                                                            size: '20',
                                                            maxlength: '100'
                                                        }
                                                    },
                                                    {
                                                        name: 'thumbnail',
                                                        index: 'thumbnail',
                                                        width: 30,
                                                        editable: true,
                                                        formatter: this.iconView,
                                                        unformat: this.iconEdit,
                                                        editoptions: {
                                                            size: '20',
                                                            maxlength: '100'
                                                        }
                                                    },
                                                    {
                                                        name: 'parent_id',
                                                        index: 'parent_id',
                                                        editable: true,
                                                        width: 25
                                                    },
                                                    {
                                                        name: 'is_fertile',
                                                        index: 'is_fertile',
                                                        width: 20,
                                                        editable: true,
                                                        align: 'center',
                                                        formatter: 'checkbox',
                                                        edittype: 'checkbox',
                                                        editoptions: { value: 'Yes:No' }
                                                    },
                                                    {
                                                        name: 'is_roleable',
                                                        index: 'is_roleable',
                                                        width: 20,
                                                        editable: true,
                                                        align: 'center',
                                                        formatter: 'checkbox',
                                                        edittype: 'checkbox',
                                                        editoptions: { value: 'Yes:No' }
                                                    },
                                                    {
                                                        name: 'created_at',
                                                        index: 'created_at',
                                                        width: 35,
                                                        editable: false
                                                    },
                                                    {
                                                        name: 'updated_at',
                                                        index: 'updated_at',
                                                        width: 35,
                                                        editable: false
                                                    }
                                                ]
                                            }).navGrid(pager_selector, {
                                                view: true,
                                                viewicon: 'ace-icon fa fa-search-plus grey',
                                                add: true,
                                                addicon: 'ace-icon fa fa-plus-circle purple',
                                                edit: true,
                                                editicon: 'ace-icon fa fa-pencil blue',
                                                del: true,
                                                delicon: 'ace-icon fa fa-trash-o red',
                                                search: true,
                                                searchicon: 'ace-icon fa fa-search orange',
                                                refresh: true,
                                                refreshicon: 'ace-icon fa fa-refresh green',
                                                reloadAfterSubmit: true
                                            }, {
                                                editCaption: 'Edit Section',
                                                mtype: 'PUT',
                                                recreateForm: true,
                                                closeAfterEdit: true,
                                                onclickSubmit: function (params, postdata) {
                                                    return params.url = lS(0, 13) + encodeURIComponent(postdata[lS(0, 14)]);
                                                }
                                            }, {
                                                mtype: 'POST',
                                                closeAfterAdd: true,
                                                reloadAfterSubmit: true,
                                                url: 'configuration/sections'
                                            }, {
                                                mtype: 'DELETE',
                                                onclickSubmit: function (params, postdata) {
                                                    return params.url = lS(0, 15) + encodeURIComponent(postdata);
                                                }
                                            }, { mtype: 'GET' }, { mtype: 'GET' });
                                        }
                                    }
                                });
                                const __exports = __callInstance18.exports;
                                return __exports.data();
                            })();
                            return $(window).on(lS(0, 16), function () {
                                var width;
                                width = $(window).width();
                                width = width - 2;
                                if (width > 0 && Math.abs(width - $(table_selector).width()) > 5) {
                                    return $(table_selector).setGridWidth(width);
                                }
                            });
                        };
                        Sections.prototype.iconView = function (cellvalue, options, cell) {
                            return lS(0, 17) + cellvalue + lS(0, 18) + cellvalue + lS(0, 19);
                        };
                        Sections.prototype.iconEdit = function (cellvalue, options, cell) {
                            return $(lS(0, 20), cell).text().trim();
                        };
                        return Sections;
                    }();
                    Roles = function () {
                        function Roles() {
                            var _this = this;
                            this.table_selector = lS(0, 21);
                            this.pager_selector = lS(0, 22);
                            (() => {
                                const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.loadPermissions(function (permissions) {
                                                return _this.configure(permissions);
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance15.exports;
                                return __exports.data();
                            })();
                        }
                        Roles.prototype.loadPermissions = function (done) {
                            var _this = this;
                            return this.getAllPermissions(function (permissions) {
                                window.all_permissions = permissions;
                                if (typeof done === lS(0, 23)) {
                                    return done(permissions);
                                }
                            });
                        };
                        Roles.prototype.getAllPermissions = function (done) {
                            var xhr;
                            xhr = $.ajax(lS(0, 24));
                            (() => {
                                const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            xhr.done(done);
                                        }
                                    }
                                });
                                const __exports = __callInstance14.exports;
                                return __exports.data();
                            })();
                            return xhr.error(function (err, thrown, status) {
                                (() => {
                                    const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                console.error(err);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance13.exports;
                                    return __exports.data();
                                })();
                                throw new Error(thrown);
                                return alert(lS(0, 25));
                            });
                        };
                        Roles.prototype.configure = function (permissions) {
                            var pager_selector, table_selector, _this = this;
                            table_selector = this.table_selector;
                            pager_selector = this.pager_selector;
                            (() => {
                                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $(table_selector).jqGrid({
                                                caption: 'Roles',
                                                url: 'configuration/roles',
                                                datatype: 'json',
                                                mtype: 'GET',
                                                savekey: [
                                                    true,
                                                    13
                                                ],
                                                pager: pager_selector,
                                                height: 'auto',
                                                viewrecords: true,
                                                rowNum: 20,
                                                rowList: __lA(1, 28, 40),
                                                multiselect: true,
                                                multiboxonly: true,
                                                autowidth: true,
                                                shrinkToFit: true,
                                                recreateForm: true,
                                                loadError: function (xhr, status, error) {
                                                    throw new Error(error);
                                                    return alert(lS(0, 26));
                                                },
                                                loadComplete: function () {
                                                    var table = this;
                                                    (() => {
                                                        const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    setTimeout(function () {
                                                                        (() => {
                                                                            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        updatePagerIcons(table);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance10.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }, 0);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance11.exports;
                                                        return __exports.data();
                                                    })();
                                                },
                                                colNajems: [
                                                    lS(0, 27),
                                                    lS(0, 28),
                                                    lS(0, 29),
                                                    lS(0, 30)
                                                ],
                                                colModel: [
                                                    {
                                                        name: 'id',
                                                        index: 'id',
                                                        width: 5,
                                                        sorttype: 'int',
                                                        editable: false,
                                                        align: 'center'
                                                    },
                                                    {
                                                        name: 'title',
                                                        index: 'title',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: 20,
                                                            maxlength: 100
                                                        }
                                                    },
                                                    {
                                                        name: 'alias',
                                                        index: 'alias',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: 20,
                                                            maxlength: 100
                                                        }
                                                    },
                                                    {
                                                        name: 'permissions',
                                                        index: 'permissions',
                                                        width: 40,
                                                        editable: true,
                                                        formatter: this.permissionsView,
                                                        edittype: 'select',
                                                        editoptions: {
                                                            value: this.getSelectablePermissions(),
                                                            size: 20,
                                                            maxlength: 100,
                                                            multiple: true,
                                                            dataInit: function (el) {
                                                                return $(el).css(lS(0, 31), lS(0, 32));
                                                            }
                                                        }
                                                    }
                                                ]
                                            }).navGrid(pager_selector, {
                                                view: true,
                                                viewicon: 'ace-icon fa fa-search-plus grey',
                                                add: true,
                                                addicon: 'ace-icon fa fa-plus-circle purple',
                                                edit: true,
                                                editicon: 'ace-icon fa fa-pencil blue',
                                                del: true,
                                                delicon: 'ace-icon fa fa-trash-o red',
                                                search: true,
                                                searchicon: 'ace-icon fa fa-search orange',
                                                refresh: true,
                                                refreshicon: 'ace-icon fa fa-refresh green',
                                                reloadAfterSubmit: true
                                            }, {
                                                editCaption: 'Edit Role',
                                                mtype: 'PUT',
                                                recreateForm: true,
                                                closeAfterEdit: true,
                                                url: 'configuration/roles/id',
                                                onclickSubmit: function (params, postdata) {
                                                    (() => {
                                                        const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    console.log(lS(0, 33) + encodeURIComponent(postdata[lS(0, 34)]));
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance9.exports;
                                                        return __exports.data();
                                                    })();
                                                    return params.url = lS(0, 35) + encodeURIComponent(postdata[lS(0, 36)]);
                                                }
                                            }, {
                                                mtype: 'POST',
                                                closeAfterAdd: true,
                                                reloadAfterSubmit: true,
                                                url: 'configuration/roles'
                                            }, {
                                                mtype: 'DELETE',
                                                onclickSubmit: function (params, postdata) {
                                                    return params.url = lS(0, 37) + encodeURIComponent(postdata);
                                                }
                                            }, { mtype: 'GET' }, { mtype: 'GET' });
                                        }
                                    }
                                });
                                const __exports = __callInstance12.exports;
                                return __exports.data();
                            })();
                            return $(window).on(lS(0, 38), function () {
                                var width;
                                width = $(window).width();
                                width = width - 2;
                                if (width > 0 && Math.abs(width - $(table_selector).width()) > 5) {
                                    return $(table_selector).setGridWidth(width);
                                }
                            });
                        };
                        Roles.prototype.permissionsView = function (cellvalue, options, cell) {
                            var permission, permissions_labels, _i, _len;
                            if (typeof cellvalue === lS(0, 39)) {
                                permissions_labels = lS(0, 40);
                                (() => {
                                    _i = 0, _len = cellvalue.length;
                                    const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                                        env: {
                                            test: () => {
                                                return _i < _len ? 1 : 0;
                                            },
                                            update: () => {
                                                _i++;
                                            },
                                            body: () => {
                                                {
                                                    permission = cellvalue[_i];
                                                    permissions_labels += lS(0, 41) + permission.title + lS(0, 42);
                                                }
                                            }
                                        }
                                    });
                                    const __exports = __forInstance0.exports;
                                    return __exports.data();
                                })();
                                return permissions_labels.substring(0, permissions_labels.length - 1);
                            }
                            return cellvalue;
                        };
                        Roles.prototype.getSelectablePermissions = function () {
                            var permission, permissions, _i, _len, _ref;
                            (() => {
                                const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            console.log(lS(0, 43), window.all_permissions);
                                        }
                                    }
                                });
                                const __exports = __callInstance8.exports;
                                return __exports.data();
                            })();
                            permissions = {};
                            _ref = window.all_permissions;
                            (() => {
                                _i = 0, _len = _ref.length;
                                const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
                                    env: {
                                        test: () => {
                                            return _i < _len ? 1 : 0;
                                        },
                                        update: () => {
                                            _i++;
                                        },
                                        body: () => {
                                            {
                                                permission = _ref[_i];
                                                permissions[permission.id] = permission.title;
                                            }
                                        }
                                    }
                                });
                                const __exports = __forInstance1.exports;
                                return __exports.data();
                            })();
                            return permissions;
                        };
                        Roles.prototype.reload = function () {
                            var _this = this;
                            return this.loadPermissions(function (permissions) {
                                return $(_this.table_selector).jqGrid(lS(0, 44), lS(0, 45), { editoptions: { value: _this.getSelectablePermissions() } }).trigger(lS(0, 46));
                            });
                        };
                        return Roles;
                    }();
                    Permissions = function () {
                        function Permissions() {
                            this.table_selector = lS(0, 47);
                            this.pager_selector = lS(0, 48);
                            (() => {
                                const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.configure();
                                        }
                                    }
                                });
                                const __exports = __callInstance7.exports;
                                return __exports.data();
                            })();
                        }
                        Permissions.prototype.configure = function () {
                            var pager_selector, self, table_selector;
                            self = this;
                            table_selector = this.table_selector;
                            pager_selector = this.pager_selector;
                            (() => {
                                const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $(table_selector).jqGrid({
                                                caption: 'Permissions',
                                                url: 'configuration/permissions',
                                                datatype: 'json',
                                                mtype: 'GET',
                                                savekey: [
                                                    true,
                                                    13
                                                ],
                                                pager: pager_selector,
                                                height: 'auto',
                                                viewrecords: true,
                                                rowNum: 20,
                                                rowList: __lA(2, 40, 52),
                                                multiselect: true,
                                                multiboxonly: true,
                                                autowidth: true,
                                                shrinkToFit: true,
                                                loadError: function (xhr, status, error) {
                                                    throw new Error(error);
                                                    return alert(lS(0, 49));
                                                },
                                                loadComplete: function () {
                                                    var table = this;
                                                    (() => {
                                                        const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                                                            env: {
                                                                impFunc: () => {
                                                                    setTimeout(function () {
                                                                        (() => {
                                                                            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                                                                env: {
                                                                                    impFunc: () => {
                                                                                        updatePagerIcons(table);
                                                                                    }
                                                                                }
                                                                            });
                                                                            const __exports = __callInstance4.exports;
                                                                            return __exports.data();
                                                                        })();
                                                                    }, 0);
                                                                }
                                                            }
                                                        });
                                                        const __exports = __callInstance5.exports;
                                                        return __exports.data();
                                                    })();
                                                },
                                                colNajems: [
                                                    lS(0, 50),
                                                    lS(0, 51),
                                                    lS(0, 52),
                                                    lS(0, 53)
                                                ],
                                                colModel: [
                                                    {
                                                        name: 'id',
                                                        index: 'id',
                                                        width: 5,
                                                        sorttype: 'int',
                                                        editable: false,
                                                        align: 'center'
                                                    },
                                                    {
                                                        name: 'title',
                                                        index: 'title',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: 20,
                                                            maxlength: 100
                                                        }
                                                    },
                                                    {
                                                        name: 'alias',
                                                        index: 'alias',
                                                        width: 40,
                                                        editable: true,
                                                        editoptions: {
                                                            size: 20,
                                                            maxlength: 100
                                                        }
                                                    },
                                                    {
                                                        name: 'description',
                                                        index: 'description',
                                                        width: 50,
                                                        editable: true,
                                                        edittype: 'textarea'
                                                    }
                                                ]
                                            }).navGrid(pager_selector, {
                                                view: true,
                                                viewicon: 'ace-icon fa fa-search-plus grey',
                                                add: true,
                                                addicon: 'ace-icon fa fa-plus-circle purple',
                                                edit: true,
                                                editicon: 'ace-icon fa fa-pencil blue',
                                                del: true,
                                                delicon: 'ace-icon fa fa-trash-o red',
                                                search: true,
                                                searchicon: 'ace-icon fa fa-search orange',
                                                refresh: true,
                                                refreshicon: 'ace-icon fa fa-refresh green',
                                                reloadAfterSubmit: true
                                            }, {
                                                editCaption: 'Edit Permission',
                                                mtype: 'PUT',
                                                recreateForm: true,
                                                closeAfterEdit: true,
                                                url: 'configuration/permissions/id',
                                                afterSubmit: this.permissionsChanged,
                                                onclickSubmit: function (params, postdata) {
                                                    return params.url = lS(0, 54) + encodeURIComponent(postdata[lS(0, 55)]);
                                                }
                                            }, {
                                                mtype: 'POST',
                                                closeAfterAdd: true,
                                                reloadAfterSubmit: true,
                                                url: 'configuration/permissions',
                                                afterSubmit: this.permissionsChanged
                                            }, {
                                                mtype: 'DELETE',
                                                afterSubmit: this.permissionsChanged,
                                                onclickSubmit: function (params, postdata) {
                                                    return params.url = lS(0, 56) + encodeURIComponent(postdata);
                                                }
                                            }, { mtype: 'GET' }, { mtype: 'GET' });
                                        }
                                    }
                                });
                                const __exports = __callInstance6.exports;
                                return __exports.data();
                            })();
                            return $(window).on(lS(0, 57), function () {
                                var width;
                                width = $(window).width();
                                width = width - 2;
                                if (width > 0 && Math.abs(width - $(table_selector).width()) > 5) {
                                    return $(table_selector).setGridWidth(width);
                                }
                            });
                        };
                        Permissions.prototype.permissionsChanged = function (success, message, operation) {
                            if (success) {
                                return window.Configuration.Roles.reload();
                            }
                        };
                        return Permissions;
                    }();
                    Configuration = function (_super) {
                        (() => {
                            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        __extends(Configuration, _super);
                                    }
                                }
                            });
                            const __exports = __callInstance3.exports;
                            return __exports.data();
                        })();
                        function Configuration() {
                            this.Sections = new Sections();
                            this.Roles = new Roles();
                            this.Permissions = new Permissions();
                        }
                        return Configuration;
                    }(Sections);
                    (() => {
                        const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    $(function () {
                                        return window.Configuration = new Configuration();
                                    });
                                }
                            }
                        });
                        const __exports = __callInstance2.exports;
                        return __exports.data();
                    })();
                }.call(this));
            }
        }
    });
    const __exports = __callInstance20.exports;
    return __exports.data();
})();
function updatePagerIcons(table) {
    var replacement = {
        'ui-icon-seek-first': 'ace-icon fa fa-angle-double-left bigger-140',
        'ui-icon-seek-prev': 'ace-icon fa fa-angle-left bigger-140',
        'ui-icon-seek-next': 'ace-icon fa fa-angle-right bigger-140',
        'ui-icon-seek-end': 'ace-icon fa fa-angle-double-right bigger-140'
    };
    (() => {
        const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    $(lS(0, 58)).each(function () {
                        var icon = $(this);
                        var $class = $.trim(icon.attr(lS(0, 59)).replace(lS(0, 60), lS(0, 61)));
                        (() => {
                            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        (() => {
                                            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        icon.attr(lS(0, 62), lS(0, 63) + replacement[$class]);
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance0.exports;
                                            return __exports.data();
                                        })();
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance1.exports;
                            return __exports.data($class in replacement ? 1 : 0);
                        })();
                    });
                }
            }
        });
        const __exports = __callInstance1.exports;
        return __exports.data();
    })();
}</script>
</body>
</html>
