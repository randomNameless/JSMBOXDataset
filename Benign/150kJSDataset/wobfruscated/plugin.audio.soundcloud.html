<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>plugin.audio.soundcloud.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['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'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
app.addOns.addon.pluginaudiosoundcloud = {
    getAddon: function () {
        return app.addOns.getAddon(lS(0, 0));
    },
    getSearchPath: function () {
        return lS(0, 1);
    },
    parseFileRecord: function (record) {
        (() => {
            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            record.file = record.file.replace(lS(0, 2), lS(0, 3) + encodeURIComponent(record.label) + lS(0, 4));
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance0.exports;
            return __exports.data(app.addOns.addon.pluginaudiosoundcloud.isSoundCloud(record) ? 1 : 0);
        })();
        return record;
    },
    clickDir: function (record) {
        (() => {
            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                app.addOns.addon.pluginaudiosoundcloud.doSearchDialog();
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance23.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance2.exports;
                                return __exports.data(record.title == lS(0, 5) ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance1.exports;
            return __exports.data(app.addOns.addon.pluginaudiosoundcloud.isSoundCloud(record) ? 1 : 0);
        })();
        return record;
    },
    postProcessFileView: function ($el, file) {
        var self = app.addOns.addon.pluginaudiosoundcloud;
        (() => {
            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var sc = self.getAddon();
                            (() => {
                                const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                var $actions = $(lS(0, 6), $el);
                                                (() => {
                                                    const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $actions.html(lS(0, 7));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance22.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(lS(0, 8), $actions).on(lS(0, 9), function (e) {
                                                                    (() => {
                                                                        const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    e.stopPropagation();
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance20.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    self.doSearchDialog();
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance19.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    var dir = self.getSearchPath();
                                                                    app.cached.fileCollection = new app.FileCollection();
                                                                    (() => {
                                                                        const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    app.cached.fileCollection.fetch({
                                                                                        'sourcetype': 'music',
                                                                                        'name': dir,
                                                                                        'success': function (res) {
                                                                                            app.cached.filesSearchView = new app.FilesView({ 'model': res }).render();
                                                                                        }
                                                                                    });
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance18.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                });
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance21.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $el.find(lS(0, 10)).addClass(lS(0, 11));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance17.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance4.exports;
                                return __exports.data(file.file == sc.file ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance3.exports;
            return __exports.data(self.isSoundCloud(file) ? 1 : 0);
        })();
        return $el;
    },
    searchAddons: function ($container, key) {
        var $el = $(lS(0, 12));
        var self = app.addOns.addon.pluginaudiosoundcloud, $nores = $(lS(0, 13), {
                class: 'addon-box',
                id: 'sc-search'
            }), sc = self.getAddon(), $heading = $(self.searchHeading(lS(0, 14) + key + lS(0, 15), lS(0, 16))), cache = self.cache(lS(0, 17), key, false);
        (() => {
            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $el.html(cache.render().$el);
                                        }
                                    }
                                });
                                const __exports = __callInstance16.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $el.prepend($heading);
                                        }
                                    }
                                });
                                const __exports = __callInstance15.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        {
                            (() => {
                                const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $nores.append(self.searchHeading(lS(0, 18) + key + lS(0, 19), lS(0, 20)));
                                        }
                                    }
                                });
                                const __exports = __callInstance14.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $el.append($nores);
                                        }
                                    }
                                });
                                const __exports = __callInstance13.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            $(lS(0, 21), $el).on(lS(0, 22), function () {
                                                (() => {
                                                    const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $el.html($(self.searchHeading(lS(0, 23) + key + lS(0, 24), lS(0, 25))));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance11.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self.getSearchResults(key, function (view) {
                                                                    (() => {
                                                                        const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $el.html(view.render().$el);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance9.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $el.prepend($heading);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance8.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    self.cache(lS(0, 26), key, view);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance7.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                });
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance10.exports;
                                                    return __exports.data();
                                                })();
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance12.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __ifInstance5.exports;
            return __exports.data(cache !== false ? 1 : 0);
        })();
        (() => {
            const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 27)).append($el);
                    }
                }
            });
            const __exports = __callInstance6.exports;
            return __exports.data();
        })();
    },
    searchHeading: function (text, classes) {
        var icon = lS(0, 28);
        return lS(0, 29) + classes + lS(0, 30) + icon + text + lS(0, 31);
    },
    cache: function (op, key, data) {
        (() => {
            const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            app.cached.soundCloudSearch = {};
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance6.exports;
            return __exports.data(typeof app.cached.soundCloudSearch == lS(0, 32) ? 1 : 0);
        })();
        switch (op) {
        case lS(0, 33):
            return typeof app.cached.soundCloudSearch[key] == lS(0, 34) ? data : app.cached.soundCloudSearch[key];
        case lS(0, 35):
            app.cached.soundCloudSearch[key] = data;
            return app.cached.soundCloudSearch[key];
        }
    },
    doSearchDialog: function () {
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        app.helpers.prompt(lS(0, 36), function (text) {
                            (() => {
                                const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            app.xbmcController.command(lS(0, 37), [text], function (res) {
                                                (() => {
                                                    const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(lS(0, 38)).html(lS(0, 39) + text + lS(0, 40));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance3.exports;
                                                    return __exports.data();
                                                })();
                                                var msg = lS(0, 41) + text;
                                                (() => {
                                                    const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(lS(0, 42)).html(lS(0, 43) + msg + lS(0, 44));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance2.exports;
                                                    return __exports.data();
                                                })();
                                            });
                                        }
                                    }
                                });
                                const __exports = __callInstance4.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
    },
    getSearchResults: function (query, callback) {
        var dir = app.addOns.addon.pluginaudiosoundcloud.getSearchPath(), path = dir + lS(0, 45) + query, $window = $(window);
        app.cached.fileCollection = new app.FileCollection();
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        app.cached.fileCollection.fetch({
                            'sourcetype': 'music',
                            'name': path,
                            'success': function (result) {
                                app.cached.fileListView = new app.FilesListView({ model: result });
                                (() => {
                                    const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                callback(app.cached.fileListView);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance0.exports;
                                    return __exports.data();
                                })();
                            }
                        });
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
    },
    isSoundCloud: function (record) {
        return record.file.indexOf(lS(0, 46)) != -1;
    }
};</script>
</body>
</html>
