<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>materials.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['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'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
var TrenchMaterials = function () {
    var default_vertex_shader = {
        attribute: {
            vposition: 'vec3',
            vtexcoord: 'vec2',
            vnormal: 'vec3'
        },
        varying: {
            v_Texcoord: 'vec2',
            v_Normal: 'vec3',
            v_View: 'vec3',
            v_World: 'vec4'
        },
        uniform: {
            viewprojection: 'mat4',
            camera_pos: 'vec3',
            model_matrix: 'mat4'
        },
        text: [
            lS(0, 0),
            lS(0, 1),
            lS(0, 2),
            lS(0, 3),
            lS(0, 4),
            lS(0, 5),
            lS(0, 6),
            lS(0, 7),
            lS(0, 8),
            lS(0, 9),
            lS(0, 10),
            lS(0, 11),
            lS(0, 12),
            lS(0, 13),
            lS(0, 14),
            lS(0, 15),
            lS(0, 16),
            lS(0, 17)
        ]
    };
    var default_fragment_shader = {
        fprecision: 'mediump',
        varying: {
            v_Texcoord: 'vec2',
            v_Normal: 'vec3',
            v_World: 'vec4'
        },
        uniform: { surfacetex: 'sampler2D' },
        text: [
            lS(0, 18),
            lS(0, 19),
            lS(0, 20),
            lS(0, 21),
            lS(0, 22),
            lS(0, 23),
            lS(0, 24)
        ]
    };
    var default_material_type_def = {
        name: 'default',
        vertex_shader: default_vertex_shader,
        fragment_shader: default_fragment_shader
    };
    var ship_fragment_shader = {
        fprecision: 'mediump',
        varying: {
            v_Texcoord: 'vec2',
            v_Normal: 'vec3',
            v_View: 'vec3'
        },
        uniform: {
            spec_power: 'float',
            diffusemap: 'sampler2D',
            colormap: 'sampler2D',
            specmap: 'sampler2D',
            lummap: 'sampler2D'
        },
        text: [
            lS(0, 25),
            lS(0, 26),
            lS(0, 27),
            lS(0, 28),
            lS(0, 29),
            lS(0, 30),
            lS(0, 31),
            lS(0, 32),
            lS(0, 33),
            lS(0, 34),
            lS(0, 35),
            lS(0, 36),
            lS(0, 37),
            lS(0, 38),
            lS(0, 39),
            lS(0, 40)
        ]
    };
    var ship_material_type_def = {
        name: 'ship',
        vertex_shader: default_vertex_shader,
        fragment_shader: ship_fragment_shader
    };
    var all_material_defs = [
        {
            name: 'default',
            type: 'default',
            alphaBlend: false,
            params: {},
            textures: { surfacetex: '/textures/Checker_512_DIFF.png' }
        },
        {
            name: 'Facebook-Logo',
            type: 'default',
            alphaBlend: true,
            params: {},
            textures: { surfacetex: '/textures/Facebook-Logo.png' }
        },
        {
            name: 'Ship_01_DIFF',
            type: 'ship',
            alphaBlend: false,
            params: { spec_power: 20 },
            textures: {
                diffusemap: '/textures/Ship_01_DIFF.png',
                colormap: '/textures/Ship_01_COL.png',
                specmap: '/textures/Ship_01_SPEC.png',
                lummap: '/textures/Ship_01_LUM.png'
            }
        }
    ];
    function registerMaterials(material_table) {
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        material_table.createMaterialType(default_material_type_def);
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        material_table.createMaterialType(ship_material_type_def);
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
        (() => {
            var ii = 0;
            const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return ii < all_material_defs.length ? 1 : 0;
                    },
                    update: () => {
                        ++ii;
                    },
                    body: () => {
                        {
                            (() => {
                                const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            material_table.createMaterial(all_material_defs[ii]);
                                        }
                                    }
                                });
                                const __exports = __callInstance0.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance0.exports;
            return __exports.data();
        })();
    }
    return { registerMaterials: registerMaterials };
}();</script>
</body>
</html>
