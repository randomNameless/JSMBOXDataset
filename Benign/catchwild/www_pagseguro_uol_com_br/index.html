<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index.html</title>
</head>
<body>

<script>
var t={webChatUrl:"https://assets.pagseguro.com.br/ps-chat-rasa-inject/7.24.10/rasa-webchat.js",webChat:null,render:function(t){const{socketUrl:e="http://localhost:5005/",socketPath:n="/socket.io/",payload:s={},title:o="Bem-vindo",subtitle:a="",initIntent:i="get_started",inputTextFieldHint:c,customClass:r,customCss:l,formatMessageDate:h=!1,profileAvatar:u,storage:d="local",fileUploadConfig:g,historyServerUrl:f,activeSocketLog:m=!0,onWidgetEvent:p={},extra:y={}}=t,w=this.generatePayload(s,i),C=r&&r.trim(),b=y.customData&&y.customData.token;this.setupJsonp({socketUrl:e,socketPath:n,initPayload:w,title:o,subtitle:a,inputTextFieldHint:c,fileUploadConfig:g,onWidgetEvent:p,params:{storage:d},onSocketEvent:["connect","disconnect","connect_error"].reduce(((t,s)=>(t[s]=t=>{let o=e;if(e.includes("api-gateway-chats")){const t=n.replace("/socket.io","");o=`${e}${t}`}m&&this.sendLog(o,s,t)},t)),{}),customClass:C,customCss:l,showMessageDate:h?this.showMessageDate:void 0,profileAvatar:u,historyServerUrl:f,authToken:b,...y})},connect:async function(){if(this.webChat){(await this.webChat).webchatRef.connect()}},disconnect:async function(){if(this.webChat){(await this.webChat).webchatRef.disconnect()}},showMessageDate:function(t){const e=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],n=new Date,s=new Date(t),o=s.getMonth();let a=s.getDate().toString(),i=s.getHours().toString(),c=s.getMinutes().toString();a=1==a?"0"+a:a,i=1===i.length?"0"+i:i,c=1===c.length?"0"+c:c;const r=function(t,e){const n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),s=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((s-n)/864e5)}(s,n);return 0===r?`hoje ${i}:${c}`:1===r?`ontem ${i}:${c}`:`${a} de ${e[o]}., ${i}:${c}`},setupJsonp:function(t){const e=document.createElement("script"),n=document.head||document.getElementsByTagName("head")[0];e.src=this.webChatUrl,e.async=!0,e.onload=()=>{this.onJsonpFinished.bind(this)(window.WebChat,t)},n.insertBefore(e,n.firstChild),this.setupStyles(t)},setupStyles:function(t){const{customClass:e,customCss:n}=t;if(e){(document.body||document.getElementsByTagName("body")[0]).classList.add(e)}n&&this.applyStyle(n)},applyStyle:function(t){const e=document.createElement("style");e.innerHTML=t,e.setAttribute("type","text/css");const n=document.head||document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild)},onJsonpFinished:function(t,e){this.webChat=t.default(e,null)},sendLog:async function(t,e,n){const s={event:e,data:n="string"==typeof(n=n||{})?{reason:n}:n};try{await fetch(`${t}events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(t){}},generatePayload:function(t,e="get_started"){return e?`/${e}${JSON.stringify(t)}`:null}};exports.default=t;
//# sourceMappingURL=index.js.map

</script>

</body>
</html>
