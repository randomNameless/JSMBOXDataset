<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>info-min-462984c58f298cbc651da06cb1c9e7ca.html</title>
</head>
<body>

<script>
!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){s=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,o;return n=t,o=[{key:"sendBeacon",value:function(t){navigator.sendBeacon("/api/v1/stats/ranker",t)}},{key:"sendBeaconRotator",value:function(t){navigator.sendBeacon("/api/v1/stats/rotator",t)}},{key:"sendBeaconUser",value:function(t){navigator.sendBeacon("/api/v1/stats/user",t)}}],(r=null)&&e(n.prototype,r),o&&e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();!function(){var t,e,n=[],a=!1,i=document.querySelector("[data-info]"),u=i.dataset.videoId,s=(t=i.dataset.rotatorCategories,(e=JSON.parse(t))?e.map(function(t){return(t.name||t).toLowerCase()}):[]),c=i.dataset.containers.split(","),f=i.dataset.videoElement,l=i.dataset.rotatorId;!function(t){if(t.length){var e=JSON.parse(localStorage.getItem("ucm"))||{},n=u||s[0];if(void 0===e[n]){if(Object.keys(e).length>9){var r=[];for(var o in e)r.push(e[o].ts);var a=Math.min.apply(Math,r);for(var i in e)e[i].ts===a&&delete e[i]}e[n]={ts:Date.now(),categories:t}}localStorage.setItem("ucm",JSON.stringify(e))}}(s);var d={userCategories:function(){var t=[],e=JSON.parse(localStorage.getItem("ucm"));if(e)for(var n in e)t.push(e[n].categories);return t}(),language:navigator.languages&&navigator.languages[0]||navigator.language,referer:document.referrer,rotatorID:l,userID:""};d.videoID=u;var v=Array.from(document.querySelectorAll("".concat(c[0]," > *")));(function t(){var e=function(t){var e="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===e.length)return e.pop().split(";").shift()}("_ga");e?d.userID=e:setTimeout(function(){t()},500)})();var m=document.querySelector(c[0]),g=+i.dataset.pageNumber,p=new Map,h=!1,b=function(t){for(var e=d.width,n=1;t>e;)t-=e,n++;return n},y=function(t){var e=d.width;return t%e?t%e:e},w=function(t){var e=t.target.closest(f);if(e){var n=e.dataset.md5,r=+e.dataset.thumbNumber,o=+e.dataset.posNumber,a={eventType:"click",categories:(JSON.parse(e.dataset.categories)?JSON.parse(e.dataset.categories).map(function(t){return t.name}):[]).filter(function(t){return s.includes(t)}),thumbs:[{thumbID:n,pageNumber:g,thumbNumber:r,row:b(o),column:y(o)}]},i=Object.assign(a,d);S(i,!1)}},S=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];navigator&&navigator.sendBeacon&&(o.sendBeaconRotator(JSON.stringify(t)),a=e)};if(m)if(/Mobi/.test(navigator.userAgent)){var N,O,I=!1;m.addEventListener("touchstart",function(t){N=t.touches[0].clientX,O=t.touches[0].clientY},{passive:!0}),m.addEventListener("touchmove",function(t){t.touches[0].clientX===N&&t.touches[0].clientY===O||(I=!0)},{passive:!0}),m.addEventListener("touchend",function(t){I?I=!I:w(t)},{passive:!0})}else m.addEventListener("mousedown",function(t){w(t)});var E=function(){var t,e=r(p.values());try{for(e.s();!(t=e.n()).done;){var o=t.value;if(!o.isSend){o.isSend=!0;var a={thumbID:o.md5,pageNumber:g,thumbNumber:o.thumbNumber,row:b(o.posNumber),column:y(o.posNumber)};n.push(a)}}}catch(t){e.e(t)}finally{e.f()}},j=function(){v.forEach(function(t){(function(t){var e=t.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=function(t,e){return document.elementFromPoint(t,e)};return!(e.right<0||e.bottom<0||e.left>n||e.top>r)&&(t.contains(o(e.left,e.top))||t.contains(o(e.right,e.top))||t.contains(o(e.right,e.bottom))||t.contains(o(e.left,e.bottom)))})(t)&&function(t){var e=t.dataset.md5;if(e){var n=t.dataset.thumbNumber,r=t.dataset.posNumber,o=JSON.parse(t.dataset.categories)?JSON.parse(t.dataset.categories).map(function(t){return t.name}):[];p.has(e)||(p.set(e,{md5:e,pageNumber:g,posNumber:+r,thumbNumber:+n,categories:o,isSend:!1}),p.size===v.length&&E())}}(t)})};setInterval(function(){h&&(h=!1,j(),E())},1500),window.addEventListener("scroll",function(){h=!0},{passive:!0}),setTimeout(function(){(function(t){if(t.length){for(var e=t[0].offsetTop,n=1;n<t.length;n++)if(e!==t[n].offsetTop){d.width=n;break}d.width||(d.width=t.length)}else d.width=0})(v=Array.from(document.querySelectorAll("".concat(c[0]," > *")))),j(),E()}),document.addEventListener("visibilitychange",function(){if("hidden"===document.visibilityState){if(!a&&n.length){var t={eventType:"view",categories:s,thumbs:n},e=Object.assign(t,d);S(e)}}else n=[],a=!1}),window.addEventListener("beforeunload",function(){if(!a&&n.length){var t={eventType:"view",categories:s,thumbs:n},e=Object.assign(t,d);S(e)}}),window.stats={storeData:w}}()});
</script>

</body>
</html>
