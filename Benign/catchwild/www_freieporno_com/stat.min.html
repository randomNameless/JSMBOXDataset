<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stat.min.html</title>
</head>
<body>

<script>
function store(t,e,n=86400){try{window.localStorage.setItem(t,JSON.stringify({till:n>0?Date.now()+1e3*n:0,data:e}))}catch(t){}}function load(t){try{let e=window.localStorage.getItem(t);return null===e?null:(e=JSON.parse(e),e.till>0&&e.till<Date.now()?(window.localStorage.removeItem(t),null):e.data)}catch(t){return null}}function has(t){return null!==load(t)}function unstore(t){try{window.localStorage.removeItem(t)}catch(t){}}function getRand(){return Math.trunc((new Date).getTime()*Math.random())}function getElInRow(t){let e=0,n=0;return t.forEach((t=>{0===n&&(n=t.getBounding().y1),n===t.getBounding().y1&&e++})),e}Element.prototype.getBounding=function(){let t=this.getBoundingClientRect(),e=Math.trunc(.1*t.width),n=Math.trunc(.1*t.height);return{width:this.offsetWidth,x1:t.left+e,x2:t.left+this.offsetWidth-e,height:this.offsetHeight,y1:t.top+n,y2:t.top+this.offsetHeight-n}},function(){let t=window.$$=function(e){if(this.$$){if(n(e,"string"))return t.find(e);if(n(e,"object"))return n(e.ns,"array")?e:new t([e])}this.ns=e};t.prototype={find:function(e){return t.find(e,this.ns)},each:function(e){return t.each(this.ns,e),this},parent:function(){let e=[];return this.ns.forEach((t=>e.push(t.parentNode))),new t(e)},child:function(){let e=[];return this.ns.forEach((t=>{t.childNodes.forEach((t=>{1===t.nodeType&&e.push(t)}))})),new t(e)},len:function(){return this.ns.length},children:function(){let e=[],n=new t(this.ns);do{n=n.child(),n.ns.forEach((t=>e.push(t)))}while(n.len()>0);return new t(e)},remove:function(){this.ns.forEach((t=>{t.parentNode.removeChild(t)}))},append:function(t){return i(this,t,(function(t,e){t.appendChild(e)}))},prepend:function(t){return i(this,t,(function(t,e){t.appendChild(e),t.insertBefore(e,t.firstChild)}))},after:function(t){return i(this,t,(function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}))},text:function(t){if(1!=arguments.length)return this.ns[0].textContent;this.ns.forEach((e=>e.textContent=t))},bind:function(t,e){return this.ns.forEach((n=>{t.split(",").forEach((t=>n.addEventListener(t,e,{passive:!1})))})),this},unbind:function(t,e){return this.ns.forEach((n=>{t.split(",").forEach((t=>n.removeEventListener(t,e)))})),this},css:function(t){let e;for(let n in t)e=t[n],n=n.replace(/(\-[a-z])/gi,(t=>t.substr(1).toUpperCase())),this.ns.forEach((t=>{t.style[n]=e}));return this},attr:function(){let t=arguments,e=t.length;if(1==e)return this.ns[0].getAttribute(t[0]);2==e&&this.ns.forEach((e=>{e.setAttribute(t[0],t[1])}))},data:function(){let e=arguments,n=e.length;if(1==n)return t(this).attr("data-"+e[0]);2==n&&t(this).attr("data-"+e[0],e[1])},clear:function(){return this.child().remove(),this},val:function(){let t=arguments,e=t.length;if(0==e)return this.ns[0].value;1==e&&this.ns.forEach((e=>{e.value=t[0]}))}},t.find=(e,n=[document])=>{let i=[];return n.forEach((t=>{t.querySelectorAll(e).forEach((t=>i.push(t)))})),new t(i)},t.each=(t,n)=>{if("array"===e(t))t.forEach(((e,i)=>{1===n.length?n.call(t,e):n.call(t,i,e)}));else if(t.length)for(let e=0;e<t.length;e++)1===n.length?n.call(t,t[e]):n.call(t,e,t[e]);else for(let e in t)1===n.length?n.call(t,t[e]):n.call(t,e,t[e]);return this},t.ready=t=>{"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)},t.create=e=>{let n=[];return(new DOMParser).parseFromString(e,"text/html").body.childNodes.forEach((t=>n.push(t))),new t(n)};let e=t=>{let e=typeof t;return"object"===e&&(e=null===t?"null":t instanceof Array?"array":"object"),e},n=(t,n)=>{if("string"==typeof n){n=n.toLocaleString().replace(/\s+/g,"").split(",");let i=e(t);for(let t in n)if(i===n[t])return!0}return!1},i=function(e,i,r){let o=[],a=n(i,"string")?t.create(i).ns:i.ns;return t.each(a,(t=>{e.ns.forEach((e=>{r(e,t),o.push(t)}))})),new t(o)}}(),function(){const t="/_link/api/";let e={},n=!0;function i(){return n?(e.x1=window.pageXOffset,e.width=window.innerWidth,e.x2=e.x1+e.width-1,e.y1=window.pageYOffset,e.height=window.innerHeight,e.y2=e.y1+e.height-1,n=!1,e):e}Element.prototype.isVisible=function(){let t=i(),e=this.getBounding();return!(0===e.width||0===e.height||e.x1<0||e.y1<0||e.x2>t.width||e.y2>t.height)};const r=0;Element.prototype.getData=function(){let t=this.getAttribute("data-stat");return null===t?null:JSON.parse(t.replace(/'/g,'"'))};let o={name:"queue",push(t,e){store(this.name+"_"+getRand(),JSON.stringify({ev:t,json:e}))},pull(){try{let t;for(let e=0;e<window.localStorage.length;e++)if(t=window.localStorage.key(e),0===t.indexOf(this.name+"_")){let e=load(t);return unstore(t),JSON.parse(e)}}catch(t){}return null}};function a(t){fetch(t,{method:"GET"})}let l=0;window.addEventListener("storage",(t=>{"broadcast"===t.key&&(l=10)})),window.setInterval((function(){if(l>0)return void l--;try{window.localStorage.removeItem("broadcast"),window.localStorage.setItem("broadcast","")}catch(t){}let e={ch_view:[],ch_click:[],ch_vote:[],ch_search:[],cl_view:[],cl_vote:[],ctg_view:[]};for(let t=o.pull();null!==t;t=o.pull())e[t.ev].push(t.json);if(e.cl_view.length>0&&$$.each(function(t){let e,n={};return t.forEach((t=>{e=[],"pg"in t&&e.push(t.pg),"qry"in t&&e.push(t.qry),e=e.length>0?e.join(","):"thru",e in n||(n[e]={vid:[]},"pg"in t&&(n[e].pg=t.pg),"qry"in t&&(n[e].qry=t.qry)),void 0!==n[e].vid&&(n[e].vid=n[e].vid.concat(t.vid))})),n}(e.cl_view),(e=>{console.log(e);let n="?action=saveViewStat";"pg"in e&&(n+="&p="+e.pg),"qry"in e&&(n+="&q="+e.qry),n+="&f="+e.vid.join(":"),a(t+n)})),e.cl_vote.forEach((e=>{let n="?action=saveLikeStat";n+="&s="+(e.video?"video":"search"),n+="&g="+(e.like?"like":"dislike"),"qry"in e&&(n+="&q="+e.qry),n+="&f="+e.vid,a(t+n)})),e.ctg_view.length>0){let n="?action=saveMainpageViewStat";n+="&ctg="+e.ctg_view.map((t=>t.ctg)).join(":"),a(t+n)}c.send()}),500),document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".show-more");t&&t.addEventListener("click",(function(t){console.log("Click on 'show-more'"),window.setTimeout((function(){i(),p()}),500)}))}));let s={name:"ev",ttl:2592e6,store(){store([this.name,...arguments].join("_"),((new Date).getTime()+this.ttl).toString())},has(){try{let t,e=[this.name,...arguments].join("_");for(let n=0;n<window.localStorage.length;n++)if(t=window.localStorage.key(n),t===e){return!(parseInt(load(t))<(new Date).getTime())||(unstore(t),!1)}}catch(t){}return!1}},c={name:"behavior",sess:getRand(),push(t,e){store(this.name+"_"+this.sess+"_"+getRand(),JSON.stringify({ev:t,json:e}))},send(){function t(t){let e=t.split("_");return 3===e.length?e[1]:null}let e,n={},i=this.name;try{for(let r=0;r<window.localStorage.length;r++){if(e=window.localStorage.key(r),0!==e.indexOf(i))continue;let o=load(e),a=t(e);unstore(e),null!==o&&null!==a&&(a=a.toString(),a in n||(n[a]=[]),n[a].push(JSON.parse(o)))}}catch(t){}Object.keys(n).forEach((function(t){let e=0,i=0;n[t].forEach((t=>{"view"===t.ev&&("thumb"===t.json.type?e++:"trend"===t.json.type&&i++)})),e>0&&gtag("event","watched",{event_category:"related",event_label:t,value:e}),i>0&&gtag("event","watched",{event_category:hasPlayer()?"trend_cat_video":"trend_cat_search",event_label:t,value:i})})),this.clear()},clear(){try{let t;for(let e=0;e<window.localStorage.length;e++)t=window.localStorage.key(e),0===t.indexOf(this.name)&&unstore(t)}catch(t){}}};function u(t){return 200+100*t}let h=u(getElInRow(d("section:not(.warm) .th")));function d(t){return document.querySelectorAll(t)}function f(t){let e=[];return t.forEach((t=>{t.isVisible()&&e.push(t)})),e}window.setInterval((()=>{h=u(getElInRow(d("section:not(.warm) .th")))}),5e3);let g=null;let w=null;function p(){f(d(".th[data-stat]:not([data-marked])")).forEach((t=>{!function(t){null===g&&(t.setAttribute("data-marked","1"),window.setTimeout((function(){window.clearTimeout(g),g=null;let e=t.getData();if(null!==e&&e.type===r){if(!t.isVisible())return;let n={pg:1,vid:e.vid},i=document.querySelector(".pagination_item .btn--primary");null!==i&&(n.pg=parseInt(i.innerText,10)),"qry"in e&&(n.qry=e.qry),o.push("cl_view",n)}}),20))}(t)})),f(d(".category:not([data-marked])")).forEach((t=>{!function(t){null===w&&(t.setAttribute("data-marked","1"),window.setTimeout((function(){window.clearTimeout(w),w=null;let e=t.querySelector(".category h3");if(e&&(e=e.textContent.trim(),e=e.toLowerCase().replace(/\s/g,"-")),null===e)return;if(!t.isVisible())return;let n={ctg:e};o.push("ctg_view",n)}),20))}(t)}))}function v(t){let e=t.getData();if(null===e)return;let n=t.querySelector(".category a").getAttribute("data-i")||0;if(n=parseInt(n),s.has("click",e.vid)||!t.isVisible())return;s.store("click",e.vid);let i=function(){let t=document.querySelector("main").getAttribute("data-tags");return null===t?[]:JSON.parse(t.replace(/'/g,'"'))}();if(i.length>0){let t={roverID:"ozeex",serpItem:{voteItem:{clickCount:1,impressionCount:0}}};t.serpItem.tags=i,o.push("ch_search",t)}let r={videoIDs:[e.vid]};i.length>0&&(r.tags=i),o.push("ch_click",r)}var m;window.initStatListener=()=>{d(".th[data-stat]:not([data-stat-init])").forEach((t=>{t.addEventListener("click",(t=>{t.button>1||v(t.currentTarget.closest("[data-stat]"))})),t.addEventListener("auxclick",(t=>{t.button>1||v(t.currentTarget.closest("[data-stat]"))}))})),d(".th[data-stat]:not([data-stat-init])").forEach((t=>{t.setAttribute("data-stat-init","")}))},m=()=>{c.send(),"function"==typeof Element.prototype.getBoundingClientRect&&(window.setTimeout(initStatListener,500),window.setTimeout((function(){i(),p(),new MutationObserver(p).observe(document.querySelector("body"),{attributes:!1,childList:!0,characterData:!1,subtree:!0}),window.setTimeout((()=>{let t=null;window.addEventListener("resize",(()=>{null===t&&(n=!0,t=window.setTimeout((()=>{window.clearTimeout(t),t=null,p()}),200))}));let e=null;window.addEventListener("scroll",(()=>{null===e&&(n=!0,e=window.setTimeout((()=>{window.clearTimeout(e),e=null,p()}),200))}))}),100)}),20))},"loading"!==document.readyState?m():document.addEventListener("DOMContentLoaded",m)}();
</script>

</body>
</html>
