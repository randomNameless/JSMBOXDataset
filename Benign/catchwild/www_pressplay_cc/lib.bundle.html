<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lib.bundle.html</title>
</head>
<body>

<script>
(self.webpackChunk=self.webpackChunk||[]).push([[3786],{9715:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(46063),a=o.n(r),n=o(75248),i=o.n(n)()(a());i.push([e.id,".dot-loading[data-v-52b9f092]{display:flex;justify-content:center}.dot-loading span[data-v-52b9f092]{background-color:var(--pp-main-5);border-radius:50%;animation:.6s bounce-52b9f092 infinite alternate}.dot-loading span[data-v-52b9f092]:nth-child(2){animation-delay:.2s}.dot-loading span[data-v-52b9f092]:nth-child(3){animation-delay:.4s}@keyframes bounce-52b9f092{0%{opacity:1;transform:translate3d(0, 0, 0)}100%{opacity:.5;transform:translate3d(0, -1rem, 0)}}",""]);const s=/^(1496|1829|7328)$/.test(o.j)?null:i},30492:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(46063),a=o.n(r),n=o(75248),i=o.n(n)()(a());i.push([e.id,".beta-tag[data-v-cd69598a]{font-size:12px;font-weight:400;line-height:1.33;color:var(--pp-main-10);background-color:var(--pp-main-3);border-radius:12px;padding:2px 12px}",""]);const s=/^(1(496|504|829)|7328)$/.test(o.j)?null:i},13143:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(46063),a=o.n(r),n=o(75248),i=o.n(n)()(a());i.push([e.id,".header-drop-down-info[data-v-22b849ad]{position:relative}.header-drop-down-info .mobile-my-learning-title[data-v-22b849ad]{font-size:16px;font-weight:600;line-height:1.5;margin-left:12px}.tooltip-inner[data-v-22b849ad]{right:initial;left:5px}.tooltip-inner[data-v-22b849ad]::before{right:initial;left:15px}.beta-tag[data-v-22b849ad]{font-size:12px;font-weight:400;line-height:1.33;color:var(--pp-main-10);background-color:var(--pp-main-3);border-radius:12px;padding:2px 12px}",""]);const s=/^(1(496|504|829)|7328)$/.test(o.j)?null:i},94463:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(46063),a=o.n(r),n=o(75248),i=o.n(n)()(a());i.push([e.id,".pp-header-nav-item[data-v-f1610d2a]{position:relative}.tooltip-inner[data-v-f1610d2a]{display:flex;align-items:center;width:12rem !important;right:32px !important;bottom:4px !important}.tooltip-inner .tooltip-item[data-v-f1610d2a]:first-child{flex:none;width:20px;height:20px;margin-right:5px}.tooltip-inner .tooltip-item:first-child img[data-v-f1610d2a]{width:100%}.tooltip-inner .tooltip-item[data-v-f1610d2a]:nth-child(2){padding-top:2px}.tooltip-inner .tooltip-item[data-v-f1610d2a]:last-child{position:absolute;top:50%;transform:translateY(-50%);right:10px;margin-top:1px;cursor:pointer}",""]);const s=/^(1(496|504|829)|7328)$/.test(o.j)?null:i},83856:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});var r=o(46063),a=o.n(r),n=o(75248),i=o.n(n)()(a());i.push([e.id,'.os-host[data-v-70a86e89]{--padding: var(--ce8932ca);--scrollbar-horizontal-size: var(--f5b80ef2);--scrollbar-horizontal-hover-size: var(--1fb60e46);--scrollbar-horizontal-padding: var(--padding);--scrollbar-horizontal-inner-expansion: var(--f5b80ef2);--scrollbar-horizontal-track-background: transparent;--scrollbar-horizontal-track-background-hover: transparent;--scrollbar-horizontal-track-background-active: transparent;--scrollbar-horizontal-track-transition: background-color 0.3s;--scrollbar-horizontal-handle-min-size: 15px;--scrollbar-horizontal-handle-max-size: none;--scrollbar-horizontal-handle-dark-background: rgba(0, 0, 0, 0.4);--scrollbar-horizontal-handle-dark-background-hover: rgba(0, 0, 0, 0.55);--scrollbar-horizontal-handle-dark-background-active: rgba(0, 0, 0, 0.7);--scrollbar-horizontal-handle-light-background: rgba(255, 255, 255, 0.4);--scrollbar-horizontal-handle-light-background-hover: rgba(255, 255, 255, 0.55);--scrollbar-horizontal-handle-light-background-active: rgba(255, 255, 255, 0.7);--scrollbar-horizontal-handle-transition: background-color 0.3s;--scrollbar-vertical-size: var(--f5b80ef2);--scrollbar-vertical-hover-size: var(--1fb60e46);--scrollbar-vertical-padding: var(--padding);--scrollbar-vertical-inner-expansion: var(--f5b80ef2);--scrollbar-vertical-track-background: transparent;--scrollbar-vertical-track-background-hover: transparent;--scrollbar-vertical-track-background-active: transparent;--scrollbar-vertical-track-transition: background-color 0.3s;--scrollbar-vertical-handle-min-size: 15px;--scrollbar-vertical-handle-max-size: none;--scrollbar-vertical-handle-dark-background: rgba(0, 0, 0, 0.4);--scrollbar-vertical-handle-dark-background-hover: rgba(0, 0, 0, 0.55);--scrollbar-vertical-handle-dark-background-active: rgba(0, 0, 0, 0.7);--scrollbar-vertical-handle-light-background: rgba(255, 255, 255, 0.4);--scrollbar-vertical-handle-light-background-hover: rgba(255, 255, 255, 0.55);--scrollbar-vertical-handle-light-background-active: rgba(255, 255, 255, 0.7);--scrollbar-vertical-handle-transition: background-color 0.3s;--scrollbar-corner-background-color: transparent}.pp-theme-light>.os-scrollbar[data-v-70a86e89]{box-sizing:border-box;padding:var(--padding);background:rgba(0,0,0,0);transition:all .3s}.pp-theme-light>.os-scrollbar-horizontal[data-v-70a86e89]{right:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);height:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2)}.pp-theme-light>.os-scrollbar-vertical[data-v-70a86e89]{bottom:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-light.os-host-rtl>.os-scrollbar-horizontal[data-v-70a86e89]{left:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);right:0}.pp-theme-light>.os-scrollbar-corner[data-v-70a86e89]{height:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);background-color:var(--scrollbar-corner-background-color)}.pp-theme-light>.os-scrollbar-horizontal[data-v-70a86e89]:hover{right:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);height:calc(var(--scrollbar-horizontal-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-light>.os-scrollbar-vertical[data-v-70a86e89]:hover{bottom:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-light.os-host-rtl>.os-scrollbar-horizontal[data-v-70a86e89]:hover{left:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);right:0;height:calc(var(--scrollbar-horizontal-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-track-background)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]{background-color:var(--scrollbar-vertical-track-background)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]:hover{background-color:var(--scrollbar-horizontal-track-background-hover)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]:hover{background-color:var(--scrollbar-vertical-track-background-hover)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track.active[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-track-background-active)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track.active[data-v-70a86e89]{background-color:var(--scrollbar-vertical-track-background-active)}.pp-theme-light.os-host-transition>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]{transition:var(--scrollbar-horizontal-track-transition)}.pp-theme-light.os-host-transition>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]{transition:var(--scrollbar-vertical-track-transition)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89],.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{--h-inner-expansion: var(--scrollbar-horizontal-inner-expansion);--v-inner-expansion: var(--scrollbar-vertical-inner-expansion);--h-padding: var(--scrollbar-horizontal-padding);--v-padding: var(--scrollbar-vertical-padding)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before,.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;display:block}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{top:calc(-1*var(--h-inner-expansion));bottom:calc(-1*var(--h-padding))}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{left:calc(-1*var(--v-inner-expansion));right:calc(-1*var(--v-padding))}.pp-theme-light.os-host-rtl>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{right:calc(-1*var(--v-inner-expansion));left:calc(-1*var(--v-padding))}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-horizontal-size)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-vertical-size)}.pp-theme-light>.os-scrollbar-horizontal:hover>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-horizontal-hover-size)}.pp-theme-light>.os-scrollbar-vertical:hover>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-vertical-hover-size)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{min-width:var(--scrollbar-horizontal-handle-min-size);max-width:var(--scrollbar-horizontal-handle-max-size)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{min-height:var(--scrollbar-vertical-handle-min-size);max-height:var(--scrollbar-vertical-handle-max-size)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-handle-light-background)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{background-color:var(--scrollbar-vertical-handle-light-background)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:hover{background-color:var(--scrollbar-horizontal-handle-light-background-hover)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:hover{background-color:var(--scrollbar-vertical-handle-light-background-hover)}.pp-theme-light>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle.active[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-handle-light-background-active)}.pp-theme-light>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle.active[data-v-70a86e89]{background-color:var(--scrollbar-vertical-handle-light-background-active)}.pp-theme-light.os-host-transition>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{transition:var(--scrollbar-horizontal-handle-transition)}.pp-theme-light.os-host-transition>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{transition:var(--scrollbar-vertical-handle-transition)}.pp-theme-dark>.os-scrollbar[data-v-70a86e89]{box-sizing:border-box;padding:var(--padding);background:rgba(0,0,0,0);transition:all .3s}.pp-theme-dark>.os-scrollbar-horizontal[data-v-70a86e89]{right:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);height:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2)}.pp-theme-dark>.os-scrollbar-vertical[data-v-70a86e89]{bottom:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-dark.os-host-rtl>.os-scrollbar-horizontal[data-v-70a86e89]{left:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);right:0}.pp-theme-dark>.os-scrollbar-corner[data-v-70a86e89]{height:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);background-color:var(--scrollbar-corner-background-color)}.pp-theme-dark>.os-scrollbar-horizontal[data-v-70a86e89]:hover{right:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);height:calc(var(--scrollbar-horizontal-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-dark>.os-scrollbar-vertical[data-v-70a86e89]:hover{bottom:calc(var(--scrollbar-horizontal-size) + var(--scrollbar-horizontal-padding)*2);width:calc(var(--scrollbar-vertical-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-dark.os-host-rtl>.os-scrollbar-horizontal[data-v-70a86e89]:hover{left:calc(var(--scrollbar-vertical-size) + var(--scrollbar-vertical-padding)*2);right:0;height:calc(var(--scrollbar-horizontal-hover-size) + var(--scrollbar-vertical-padding)*2)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-track-background)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]{background-color:var(--scrollbar-vertical-track-background)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]:hover{background-color:var(--scrollbar-horizontal-track-background-hover)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]:hover{background-color:var(--scrollbar-vertical-track-background-hover)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track.active[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-track-background-active)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track.active[data-v-70a86e89]{background-color:var(--scrollbar-vertical-track-background-active)}.pp-theme-dark.os-host-transition>.os-scrollbar-horizontal>.os-scrollbar-track[data-v-70a86e89]{transition:var(--scrollbar-horizontal-track-transition)}.pp-theme-dark.os-host-transition>.os-scrollbar-vertical>.os-scrollbar-track[data-v-70a86e89]{transition:var(--scrollbar-vertical-track-transition)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89],.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{--h-inner-expansion: var(--scrollbar-horizontal-inner-expansion);--v-inner-expansion: var(--scrollbar-vertical-inner-expansion);--h-padding: var(--scrollbar-horizontal-padding);--v-padding: var(--scrollbar-vertical-padding)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before,.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;display:block}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{top:calc(-1*var(--h-inner-expansion));bottom:calc(-1*var(--h-padding))}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{left:calc(-1*var(--v-inner-expansion));right:calc(-1*var(--v-padding))}.pp-theme-dark.os-host-rtl>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:before{right:calc(-1*var(--v-inner-expansion));left:calc(-1*var(--v-padding))}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-horizontal-size)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-vertical-size)}.pp-theme-dark>.os-scrollbar-horizontal:hover>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-horizontal-hover-size)}.pp-theme-dark>.os-scrollbar-vertical:hover>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{border-radius:var(--scrollbar-vertical-hover-size)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{min-width:var(--scrollbar-horizontal-handle-min-size);max-width:var(--scrollbar-horizontal-handle-max-size)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{min-height:var(--scrollbar-vertical-handle-min-size);max-height:var(--scrollbar-vertical-handle-max-size)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-handle-dark-background)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{background-color:var(--scrollbar-vertical-handle-dark-background)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:hover{background-color:var(--scrollbar-horizontal-handle-dark-background-hover)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]:hover{background-color:var(--scrollbar-vertical-handle-dark-background-hover)}.pp-theme-dark>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle.active[data-v-70a86e89]{background-color:var(--scrollbar-horizontal-handle-dark-background-active)}.pp-theme-dark>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle.active[data-v-70a86e89]{background-color:var(--scrollbar-vertical-handle-dark-background-active)}.pp-theme-dark.os-host-transition>.os-scrollbar-horizontal>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{transition:var(--scrollbar-horizontal-handle-transition)}.pp-theme-dark.os-host-transition>.os-scrollbar-vertical>.os-scrollbar-track>.os-scrollbar-handle[data-v-70a86e89]{transition:var(--scrollbar-vertical-handle-transition)}',""]);const s=/^(1(496|504|829)|4605|7328)$/.test(o.j)?null:i},11017:(e,t,o)=>{"use strict";o.d(t,{A:()=>v});var r=o(31522),a=o.n(r),n=o(65939),i=o(90238),s=o(47799),l=o(70383),c=o(59092),d=o(56158),p=o(51988);const u=l.A.get("API_CONFIG"),m=l.A.get("APP_DEVICE"),g=(new Date).getTimezoneOffset(),h=Intl.DateTimeFormat().resolvedOptions().timeZone;let f=null,b=null;const y={axios:a(),axPromise:null,API_CONFIG:u,setHeader(){const e=l.A.get("locale");return{"PP-APP-VER":u["PP-APP-VER"],"PP-OS":m,"PP-OS-VER":u["PP-OS-VER"],"PP-DEVICE-ID":u["PP-DEVICE-ID"],"PP-TIMEZONE-OFFSET":g,"PP-TIMEZONE":h,"PP-LOCALE":e,"PP-REGION":u.REGION,"X-Requested-With":"XMLHttpRequest"}},maxCount:25,maxErrorCount:30,counter:[],errorCounter:[],timer:null,sendPPanel:!0,run(e,t,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=null;if(y.counter.push(e),y.counter.length>y.maxCount)return y.sendPPanel&&(s.A.pageAction("Api_CounterTooMany",{counter:y.counter.length,url:y.counter}),y.sendPPanel=!1,setTimeout((()=>{y.sendPPanel=!0}),6e4)),y;null===y.timer&&(y.timer=setTimeout((()=>{clearTimeout(y.timer),y.timer=null,y.counter=[]}),1e3));let c={};switch(c.headers=y.setHeader(),c.withCredentials=!0,e.indexOf("uploadAnswerAudio")>-1?c.timeout=0:c.timeout=u.WEB_API_TIMEOUT,c.crossdomain=!0,c.xsrfCookieName="",c.headers={...c.headers,...r},c={...c,...i},t.toUpperCase()){case"GET":if(o&&Object.keys(o).length>0){const t=document.createElement("a");t.href=e;const r=t.search.substr(1);if(r){o={...(0,n.UY)(r),...o}}e=`${t.protocol}//${t.host}${t.pathname}?${(0,n.tD)(o)}${t.hash}`}l=a().get(e,c);break;case"POST":l=a().post(e,o,c);break;case"PUT":l=a().put(e,o,c);break;case"PATCH":l=a().patch(e,o,c);break;case"DELETE":l=a().delete(e,c)}return l.then(y.ppServerTime),l.catch(y.tooManyErrorHandler),l.catch(y.errorStatusHandler),l.then(y.checkWebVer),l.catch(y.checkWebVer),y.axPromise=l,y},success:e=>(y.axPromise.then((t=>{e(t.data)})),y),error:e=>(y.axPromise.catch((t=>{const o=y.convertResponseToReturnData(t);e(o,t.request.status)})),y),checkWebVer(e){u["PP-WEB-VER"]&&"dev"!==u["PP-WEB-VER"]&&"uat"!==u["PP-WEB-VER"]&&u["PP-WEB-VER-TIME"]&&e.headers&&e.headers["pp-web-ver"]&&e.headers["pp-web-ver-time"]&&(clearTimeout(f),0===p("body").find(".web-ver-notice-box").length&&(f=setTimeout((()=>{u["PP-WEB-VER-TIME"]<e.headers["pp-web-ver-time"]&&(p("body").trigger("web_ver_change",{"new-pp-web-ver":e.headers["pp-web-ver"],"pp-web-ver":u["PP-WEB-VER"]}),b=p("\n                            <div class='web-ver-notice-box'>\n                                <div class='web-ver-notice-wrapper'>\n                                    <div class='web-ver-notice-content'>\n                                        網站已更新，請更新至最新頁面 &nbsp;\n                                        <button class='btn btn-sm'>更新</button>\n                                    </div>\n                                    <div class='web-ver-notice-close'>\n                                        <i class=\"icon icon_x\"></i>\n                                    </div>\n                                </div>\n                            </div>\n                        "),p("body").append(b),b.find(".btn").unbind("click").bind("click",(()=>{window.location.reload()})),b.find(".web-ver-notice-close").unbind("click").bind("click",(()=>{p("body").find(".web-ver-notice-box").remove(),b=null})),setTimeout((()=>{b.addClass("show")}),1))}),1e3)))},tooManyErrorHandler(e){y.errorCounter.push(e),y.errorCounter.length>=y.maxErrorCount&&setTimeout((()=>{window.location.href="/404"}),1e3)},errorStatusHandler(e){const t=y.convertResponseToReturnData(e);switch(e.request.status){case 401:switch(t.errorCode){case 10002:case"10002":c.A.isMobileApp()?c.A.openNativeLogin():p("#pp-header .header-login-button").length>0?p("#pp-header .header-login-button").trigger("click"):i.A.warning({html:"系統發現你已經被登出",confirmButtonText:"重新整理頁面",cancelButtonText:"留在此頁"},(()=>{const{customerServiceClear:e}=(0,d.fq)();e().then((()=>{window.location.reload()}))}));break;case 30019:case"30019":setTimeout((()=>{const{customerServiceClear:e}=(0,d.fq)();e().then((()=>{window.location.href="/member/logout"}))}),1e4),i.A.warning({html:t.message},(()=>{const{customerServiceClear:e}=(0,d.fq)();e().then((()=>{window.location.href="/member/logout"}))}))}break;case 420:setTimeout((()=>{window.location.href="/404"}),1e3)}},cleanErrorCounter(){y.errorCounter=[]},convertResponseToReturnData(e){let t=null;try{t=JSON.parse(e.request.response)}catch(o){y.writeErrorLog(e),t={}}return t},writeErrorLog(e){},ppServerTime(e){const{"pp-server-time":t}=e.headers;t&&p("body").trigger("setServerTime",t)}},v=1829!=o.j?y:null},22487:(e,t,o)=>{"use strict";o.d(t,{A:()=>v});var r=o(36657),a=o(11017);const n=a.A.API_CONFIG.API_HOST,i={...a.A,initialChannel:e=>{const t=`${n}/channel/initial`;return i.run(t,"POST",e)}},s=i,l=a.A.API_CONFIG.API_HOST,{API_GO_HOST:c}=a.A.API_CONFIG,d={...a.A,chooseTrackFromAlbumIndex(e){let t=`${l}/player/play/album/{album_id}/{index}`;return t=r.Yj.formatUrlByParams(t,e),d.run(t,"GET",e)},chooseTrackFromMyListIndex(e){let t=`${l}/player/play/playlist/{playlist_id}/{index}`;return t=r.Yj.formatUrlByParams(t,e),d.run(t,"GET",e)},chooseTrackFromFileKeys(e){const t=`${l}/player/play/files`;return d.run(t,"POST",e)},chooseTrackFromProject(e){let t=`${l}/player/play/project/{project_id}/{file_key}`;return t=r.Yj.formatUrlByParams(t,e),d.run(t,"GET",e)},chooseTrackFromProjectTimeline(e){let t=`${l}/player/play/timeline/{timeline_key}/{file_key}`;return t=r.Yj.formatUrlByParams(t,e),d.run(t,"GET",e)},getPlayRecordByFileKeys(e){let t=`${c}/member/play_record`;return t=r.Yj.formatUrlByParams(t),d.run(t,"POST",e)}},p=d,u=a.A.API_CONFIG.API_HOST,m={...a.A,setPPGlobalCollectionAlbum(e){let t=`${u}/member/collect/album/{album_id}`;return t=r.Yj.formatUrlByParams(t,e),m.run(t,"PUT",e)},setPPGlobalCollectionTimeline(e){let t=`${u}/member/collect/timeline/{timeline_key}`;return t=r.Yj.formatUrlByParams(t,e),m.run(t,"PUT",e)},setPPGlobalFollowProject(e){let t=`${u}/member/follow/project/{project_id}`;return t=r.Yj.formatUrlByParams(t,e),m.run(t,"PUT",e)},setPPGlobalFollowChannel(e){let t=`${u}/member/follow/channel/{channel_id}`;return t=r.Yj.formatUrlByParams(t,e),m.run(t,"PUT",e)}},g=m,h=a.A.API_CONFIG.API_HOST,f={...a.A,thirdPartyOauth:e=>{const t={third_party:e.third_party};let o=`${h}/oauth/{third_party}/auth`;o=r.Yj.formatUrlByParams(o,t),delete e.third_party;const a=new FormData;return Object.keys(e).forEach((t=>{a.set(t,e[t])})),f.run(o,"POST",a)},thirdPartyOauthBounds:e=>{const t=`${h}/oauth/bounds`;return f.run(t,"GET",{})},thirdPartyOauthBind:e=>{const t={third_party:e.third_party};let o=`${h}/oauth/{third_party}/bind`;o=r.Yj.formatUrlByParams(o,t),delete e.third_party;const a=new FormData;return Object.keys(e).forEach((t=>{a.set(t,e[t])})),f.run(o,"POST",a)},thirdPartyOauthUnbind:e=>{const t={third_party:e.third_party};let o=`${h}/oauth/{third_party}/bind`;return o=r.Yj.formatUrlByParams(o,t),f.run(o,"DELETE")}},b=f,y={...a.A,...s,...p,...g,...b,getCityList(e){const t=`${y.API_CONFIG.API_HOST}/common/cityList`;return y.run(t,"GET",e)},getCity(e){const t=`${y.API_CONFIG.API_HOST}/common/city`;return y.run(t,"GET",e)},getMemberPoints(e){const t=`${y.API_CONFIG.API_HOST}/member/profile/v2/points`;return y.run(t,"GET",e)},genJAuth:e=>{const t=`${y.API_CONFIG.API_HOST}/genJAuth`;return y.run(t,"POST",e)},getProjectTypeListV2:e=>{const t=`${y.API_CONFIG.API_HOST}/project/project_type/list`;return y.run(t,"GET",e)},getPressPlaySupportList:e=>{const t=`${y.API_CONFIG.API_HOST}/support/getList`;return y.run(t,"GET",e)},getPressPlayStatisticalData:e=>{const t=`${y.API_CONFIG.WEB_HOST}/project/getStatisticalData`;return y.run(t,"GET",e)},getSEOBreadcrumbs:e=>{const t=`${y.API_CONFIG.API_HOST}/seo/breadcrumbs`;return y.run(t,"POST",e)},getPressPlayPreview:e=>{const t=`${y.API_CONFIG.API_GO_HOST}/getLinkPreview`;return y.run(t,"GET",e)},getReviewInfo:e=>{const t=`${y.API_CONFIG.API_HOST}/review/${e.review_id}`;return y.run(t,"GET")},sendPromotedCollect:e=>y.run("/marketing/collect","POST",e),setLastPageVer:e=>{const t=`${y.API_CONFIG.API_HOST}/member/setting/last_page_ver`;return y.run(t,"PUT",e)},setMemberConfig:e=>{const t=`${y.API_CONFIG.API_HOST}/member/setting/member_config`;return y.run(t,"PUT",e)},validationReview:e=>{const t=`${y.API_CONFIG.API_HOST}/review/${e.review_id}/validation`;return delete e.review_id,y.run(t,"POST",e)},updateReview:e=>{const t=`${y.API_CONFIG.API_HOST}/review/${e.review_id}`;return delete e.review_id,y.run(t,"POST",e)},deleteReview:e=>{const t=`${y.API_CONFIG.API_HOST}/review/${e.review_id}`;return y.run(t,"DELETE")}},v=y},56731:(e,t,o)=>{"use strict";o.d(t,{A:()=>p});var r=o(11017),a=o(36657);const n=r.A.API_CONFIG.API_HOST,i={...r.A,getPersonalInfo:e=>{let t=`${n}/member/profile/get`;return t=a.Yj.formatUrlByParams(t),i.run(t,"GET",e)},checkNickName:e=>{let t=`${n}/member/profile/check`;return t=a.Yj.formatUrlByParams(t),i.run(t,"GET",e)},changePassword:e=>{let t=`${n}/member/profile/change-password`;return t=a.Yj.formatUrlByParams(t),i.run(t,"PATCH",e)},updateDetailSetting:e=>{let t=`${n}/member/profile/setting`;return t=a.Yj.formatUrlByParams(t),i.run(t,"PATCH",e)},savePersonalInfo:e=>{let t=`${n}/member/profile/update`;return t=a.Yj.formatUrlByParams(t),i.run(t,"PUT",e)},getCreditCardInfo:e=>{let t=`${n}/member/profile/cc`;return t=a.Yj.formatUrlByParams(t),i.run(t,"GET",e)},addCreditCard:e=>{const t=`${i.API_CONFIG.API_PAYGATE_HOST}/paygate/cc/auth`;return i.run(t,"POST",e)},enableAlternateCreditCard:e=>{const t={...e};let o=`${n}/member/profile/cc/alternate`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"PATCH")},disableAlternateCreditCard:e=>{const t={...e};let o=`${n}/member/profile/cc/alternate`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"DELETE")},deleteCreditCard:e=>{const t={...e};let o=`${n}/member/profile/cc/{cct_id}`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"DELETE")},setDefaultCreditCard:e=>{let t=`${n}/member/profile/cc`;return t=a.Yj.formatUrlByParams(t),i.run(t,"PATCH",e)},getInvoiceInfo:e=>{let t=`${n}/member/profile/invoice`;return t=a.Yj.formatUrlByParams(t),i.run(t,"GET",e)},saveInvoiceInfo:e=>{let t=`${n}/member/profile/invoice`;return t=a.Yj.formatUrlByParams(t),i.run(t,"PUT",e)},getDevicesInfo:e=>{let t=`${n}/member/profile/login-device`;return t=a.Yj.formatUrlByParams(t),i.run(t,"GET",e)},logoutDevice:e=>{const t={...e};let o=`${n}/member/profile/login-device/{PPID}`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"DELETE")},getAppLoginQRCode:e=>{const t=`${n}/member/qrcode/app_session_token`;return i.run(t,"POST",e)},setInterests:e=>{const t=`${n}/member/profile/interest`;return i.run(t,"PUT",e)},getMemberPromoteGift:e=>{const t=`${n}/member/promote_gift`;return i.run(t,"GET",e)}},s=i,l=r.A.API_CONFIG.API_HOST,c={...r.A,getMemberCouponList(e){const t=`${l}/member/coupon/list`;return c.run(t,"POST",e)}},d=c,p={...r.A,...s,...d}},26957:(e,t,o)=>{"use strict";o.d(t,{A:()=>h});var r=o(11017),a=o(36657);const n=r.A.API_CONFIG.API_HOST,i={...r.A,getMessagePersonProjectDetail:e=>{const t={channel_id:"",project_id:"",...e};let o=`${n}/message/member/project_profile/{channel_id}/{project_id}`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"GET",{})},getMessagePersonMemberDetail:e=>{const t={channel_id:"",member_id:"",...e};let o=`${n}/message/member/member_profile/{channel_id}/{member_id}`;return o=a.Yj.formatUrlByParams(o,t),i.run(o,"GET",{})}},s=i,l=r.A.API_CONFIG.API_HOST,c={...r.A,getMessageProjectList:e=>{const t=`${l}/message/projects`;return c.run(t,"GET",e)},getMessageProjectInfo:e=>{const t={project_id:"",...e},o=`${l}/message/project/${t.project_id}`;return c.run(o,"GET",{})},getMessageProjectMemberDetail:e=>{const t={channel_id:"",member_id:"",...e};let o=`${l}/message/project/member_profile/{channel_id}/{member_id}`;return o=a.Yj.formatUrlByParams(o,t),c.run(o,"GET",{})},getMessageProjectGroupMessageList:e=>{const t={project_id:"",...e};let o=`${l}/message/groups/{project_id}`;return o=a.Yj.formatUrlByParams(o,t),c.run(o,"GET",{})},getMessageProjectGroupMessage:e=>{const t={group_id:"",...e};let o=`${l}/message/group/{group_id}`;return o=a.Yj.formatUrlByParams(o,t),c.run(o,"GET",{})},saveMessageProjectGroupMessage:e=>{let t="POST";const o={group_id:""};let r=`${l}/message/group`;return e.group_id&&(t="PUT",o.group_id=e.group_id,r=`${l}/message/group/{group_id}`,r=a.Yj.formatUrlByParams(r,o)),c.run(r,t,e)},sendMessageProjectGroupMessage:e=>{const t={group_id:e.group_id};let o=`${l}/message/group_send/{group_id}`;return o=a.Yj.formatUrlByParams(o,t),c.run(o,"POST",e)},delMessageProjectGroupMessage:e=>{const t={group_id:e.group_id};let o=`${l}/message/group/{group_id}`;return o=a.Yj.formatUrlByParams(o,t),c.run(o,"DELETE",e)}},d=c,p=r.A.API_CONFIG.API_HOST,{API_GO_HOST:u}=r.A.API_CONFIG,m={...r.A,getMessageProjectList:e=>{const t=`${p}/message/projects`;return m.run(t,"GET",e)},getMessageResourceInfo:e=>{const t=`${u}/message/res`;return m.run(t,"POST",e)},updateAttachedInfo:e=>{const t={attached_id:e.attached_id};let o=`${p}/message/updateAttached/{attached_id}`;return o=a.Yj.formatUrlByParams(o,t),m.run(o,"POST",e)},createMessageChannel:e=>{const t=`${p}/message/create`;return m.run(t,"POST",e)}},g=m,h={...r.A,...g,...d,...s}},17249:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});const r={ajaxHeader:!1,ajaxParams:null,uploadUrl:!1,process_callback:null,check_combine_wait_time:5e3},a=/^(7277|8669)$/.test(o.j)?function(e){const t=this,o=JSON.parse(JSON.stringify(r));t.options={...o,...e};const a={big_file_id:"",chunk_size:null,chunk_count:0,max_connection:3,org_file:null,chunk_process_log:[],send_params:null,slice_method:"slice",paddingZero:"",paddingSize:0};let n=!1,i=0,s=0;const l=function(e,o){"function"==typeof t.options.process_callback&&t.options.process_callback(e,o,a.send_params)},c=function(e,o,r,a,n){const i=new XMLHttpRequest;if(i.open(o,e),i.withCredentials=!0,n&&i.overrideMimeType(n),t.options.ajaxHeader&&"object"==typeof t.options.ajaxHeader)for(const s in t.options.ajaxHeader)i.setRequestHeader(s,t.options.ajaxHeader[s]);["progress","error","abort","load","timeout"].forEach((e=>{a&&a[e]&&"function"==typeof a[e]&&i.addEventListener(e,a[e],!1)})),i.send(r)},d=()=>{const e=a.chunk_process_log.reduce(((e,t)=>e+t)),t=Math.ceil(e/a.chunk_process_log.length*100)/100;l("ppBigFileUploadProgress",{progress:t})};let p=null;const u=()=>{clearTimeout(p),p=setTimeout((()=>{const{big_file_id:e}=a,o=t.options.uploadUrl,r=new FormData;r.append("act","check_combine"),r.append("big_file_id",e);c(o,"POST",r,{load(e){const t=JSON.parse(this.responseText);"200"===this.status||200===this.status?!0===t.data.combine_success?l("ppBigFileUploadSuccess",{data:t.data,http_status:this.status}):(l("ppBigFileCombineWait",{data:t.data,http_status:this.status}),u()):u()},progress(e){if(e.lengthComputable){Math.ceil(e.loaded/e.total*100)}},error(e){u()},abort(e){u()},timeout(e){u()}})}),t.options.check_combine_wait_time)},m=()=>{const e=a.chunk_process_log.filter((e=>100===e)).length;if(e===a.chunk_process_log.length){const{big_file_id:o}=a,r=t.options.uploadUrl,n=new FormData;n.append("act","done"),n.append("big_file_id",o),n.append("chuck_count",e);c(r,"POST",n,{load(e){const t=JSON.parse(this.responseText);"200"===this.status||200===this.status?l("ppBigFileUploadCallDoneSuccess",{data:t.data,http_status:this.status}):(l("ppBigFileUploadCallDoneError",{data:t.data,http_status:this.status}),u())},progress(e){if(e.lengthComputable){Math.ceil(e.loaded/e.total*100)}},error(e){},abort(e){},timeout(e){}}),u()}};let g=null;const h=e=>{clearTimeout(g),s+=e,s<0?s=0:s>=a.max_connection&&(n=!1,g=setTimeout((()=>{l("ppBigFileChunkUploadStop",{errorCount:s})}),1e3))},f=e=>{i+=1,a.chunk_process_log[e]=1;const o=t.options.uploadUrl,{org_file:r,big_file_id:n,chunk_size:s,slice_method:p,paddingZero:u,paddingSize:m}=a,g=`${u}${e}`.substr(-m),f=s*e;let y=f+s;y>r.size&&(y=r.size);const v=r[p](f,y,"chunk"),w=new FormData;w.append("act","upload"),w.append("big_file_id",n),w.append("chuck_index",g),w.append("size",v.size),w.append("file",v,`${n}_${g}`);c(o,"POST",w,{load(t){const o=JSON.parse(this.responseText);"200"===this.status||200===this.status?(a.chunk_process_log[e]=100,h(-1),l("ppBigFileChunkUploadSuccess",{data:o.data,http_status:this.status})):(a.chunk_process_log[e]=-1,h(1),l("ppBigFileChunkUploadError",{...o,http_status:this.status})),i-=1,b()},progress(t){if(t.lengthComputable){const o=Math.ceil(t.loaded/t.total*100);a.chunk_process_log[e]=o,d()}},error(t){a.chunk_process_log[e]=-1,i-=1,h(1),l("ppBigFileChunkUploadError",{e:t,type:"error"}),b()},abort(t){a.chunk_process_log[e]=-1,i-=1,h(1),l("ppBigFileChunkUploadError",{e:t,type:"abort"}),b()},timeout(t){a.chunk_process_log[e]=-1,i-=1,h(1),l("ppBigFileChunkUploadError",{e:t,type:"timeout"}),b()}})},b=()=>{if(d(),i<a.max_connection&&n){let e=null;for(let t=0;t<a.chunk_size;t+=1)if([0,-1].includes(a.chunk_process_log[t])){e=t;break}null!==e?(f(e),b()):m()}};this.send=(e,o)=>{const r=t.options.uploadUrl;if(r){const{name:t,size:i,type:s}=e,d=new FormData;d.append("act","init"),d.append("name",t),d.append("size",i),d.append("type",s);const p={load(t){if("200"===this.status||200===this.status){const t=JSON.parse(this.responseText);l("ppBigFileInitDone",{data:t.data,http_status:this.status}),((e,t,o)=>{let r="";for(let a=0;a<`${t.chunk_count}`.length;a+=1)r=`0${r}`;a.chunk_process_log=[];for(let n=0;n<t.chunk_count;n+=1)a.chunk_process_log.push(0);let i="slice";i="mozSlice"in e?"mozSlice":"webkitSlice"in e?"webkitSlice":"slice",n=!0,a.big_file_id=t.big_file_id,a.chunk_size=t.chunk_size,a.chunk_count=t.chunk_count,a.max_connection=t.max_connection,a.org_file=e,a.paddingZero=r,a.paddingSize=r.length,a.slice_method=i,a.send_params=o,l("ppBigFileUploadInfoSet",a),b()})(e,t.data,o)}else l("ppBigFileInitError",{...JSON.parse(this.responseText),http_status:this.status})},progress(e){if(e.lengthComputable){Math.ceil(e.loaded/e.total*100)}},error(e){l("ppBigFileInitError",{e,type:"error"})},abort(e){l("ppBigFileInitError",{e,type:"abort"})}};c(r,"POST",d,p)}else l("ppBigFileUploadUrlError",{uploadUrl:r})},this.re_upload=()=>{n=!0,s=0,i=0,a.chunk_process_log.length>0&&b()}}:null},39899:(e,t,o)=>{"use strict";o.d(t,{A:()=>m});var r=o(8760),a=o.n(r),n=(o(11141),o(36657)),i=o(22487);const s=n.a2.get("PPSOCKET_CONFIG"),l=s.JWT_TOKEN,c=function(){n.Vp.isMobileApp()||(n.hg.loading({html:"系統初始化中"}),i.A.genJAuth().success((()=>{n.hg.info({html:"初始完成，將自動重新整理頁面"},(()=>{window.location.reload()}))})).error((()=>{n.hg.warning({html:"系統無法驗證您的帳號，請您先登出帳號後，再重新登入。"})})))};!n.a2.get("MemberInfo.user_id")||l||n.Vp.isMobileApp()||c();const d=[s.WEBSOCKET_PROTOCOL,"://",s.PP_WEBSOCKET_HOST,"?",n.Yj.object2QueryStr({jwt_token:l})].join("");let p=0;const u={socket:null,init(){const e=this;return null!=e.socket||(l&&n.a2.get("MemberInfo.user_id")?(e.log("connecting...","info"),e.socket=a().connect(d,{transports:["websocket","polling"]}),e.socket.on("connect_error",(()=>{[2,"2"].includes(p)?("/message"===window.location.pathname?n.hg.warning({html:"訊息初始化失敗，請檢查你的網路防火牆設定或聯絡 「網路管理人員」"}):(e.log("訊息初始化失敗，請檢查你的網路防火牆設定或聯絡 「網路管理人員」"),e.socket.close()),p+=1):p+=1,p+=1,n.a2.set("WIDGET.PPWebSocket",!1)})),e.socket.on("connect",(()=>{p=0,e.log("connect success...","info"),n.a2.set("WIDGET.PPWebSocket",!0)})),e.socket.on("disconnect",(t=>{e.log("disconnect...","error"),n.a2.set("WIDGET.PPWebSocket",!1)})),e.socket.on("auth_error",(t=>{e.log("jwt 授權失敗，重新取得 jwt 並重新整理"),n.a2.get("MemberInfo.user_id")&&c(),n.a2.set("WIDGET.PPWebSocket",!1)})),!0):(n.a2.set("WIDGET.PPWebSocket",!1),!1))},on(e,t){const o=this;o.init()?(o.off(e),o.socket.on(e,t)):o.log("websocket init error")},off(e){const t=this;t.init()&&t.socket.off(e)},emit(e,t,o){const r=this;r.init()?r.socket.emit(e,t,(t=>{if(200===t.http_status)r.log(`emit ${e} success`,"info");else{const o=JSON.stringify(t);r.log(`emit ${e} error: ${o}`,"error")}"function"==typeof o&&o(t)})):r.log("websocket init error")},log(e,t){switch(t){case"info":default:break;case"error":console.error("ppWebSocket:",e)}}},m=/^(1(496|504|829)|7328)$/.test(o.j)?null:u},33887:(e,t,o)=>{"use strict";o.d(t,{$h:()=>g,Fj:()=>h});var r=o(36657),a=o(11017);const n=a.A.API_CONFIG.API_HOST,i={...a.A,getPopularKeyword:e=>{const t=`${n}/search/keyword/popular/v2`;return i.run(t,"GET")},getSearchRecord:e=>{const t=`${n}/search/keyword/record`;return i.run(t,"GET",e)},delSearchKeyword:e=>{let t=`${n}/search/keyword/record`;return t=r.Yj.formatUrlByParams(t,e),i.run(t,"DELETE")},clearAllHistory:()=>{let e=`${n}/search/keyword/record`;return e=r.Yj.formatUrlByParams(e),i.run(e,"DELETE")}},s=i,l=a.A.API_CONFIG.API_HOST,{API_GO_HOST:c}=a.A.API_CONFIG,d={...a.A,...s,getPressPlayMemberInfo(e){const t=`${c}/member/info`;return d.run(t,"GET",e)},getPressPlayMemberProjects(e){const t=`${c}/member/projects`;return d.run(t,"GET",e)},getPressPlayProjectTypeList(){const e=`${l}/projectType/list`;return d.run(e,"GET")},getPressPlayNewsFeeds:e=>{const t=`${d.API_CONFIG.API_GO_HOST}/member/news_feed`;return d.run(t,"GET",e)},sendPressPlayNewsFeeds:e=>{let t=`${d.API_CONFIG.API_GO_HOST}/member/news_feed`;t=r.Yj.formatUrlByParams(t,{});const o={id:e.id,layout_confirm:e.layout_confirm};return d.run(t,"PATCH",o)},getPressPlayMemberNotification:e=>{const t=`${d.API_CONFIG.API_GO_HOST}/notification`;return d.run(t,"GET",e)},setPressPlayMemberNotificationRead:e=>{const t=`${d.API_CONFIG.API_HOST}/notification/${e.id}`;return d.run(t,"PUT",e)}},p=d,u={setMessageUnread(e,t){const o=JSON.parse(JSON.stringify(e.MessageUnread));o.members||(o.members={}),t.members&&t.members.forEach((e=>{o.members[e.member_id]=e.unread_cnt})),o.projects||(o.projects={}),t.projects&&t.projects.forEach((e=>{o.projects[e.project_id]=e.unread_cnt})),e.MessageUnread=o},setIsInclusion(e,t){e.isInclusion=t},setRefererUrl(e,t){let o=t;o||(o=window.location.href);const r=document.createElement("a");r.href=o,e.refererUrl=encodeURIComponent(`${r.pathname}${r.search}${r.hash}`)}},m={MessageUnread:e=>e.MessageUnread,MessageMemberUnread:e=>{const t=JSON.parse(JSON.stringify(e.MessageUnread));let o=0;return t.members&&Object.values(t.members).forEach((e=>{o+=e})),o},MessageProjectUnread:e=>{const t=JSON.parse(JSON.stringify(e.MessageUnread));let o=0;return t.projects&&Object.values(t.projects).forEach((e=>{o+=e})),o},isInclusion:e=>e.isInclusion,refererUrl:e=>e.refererUrl},g="Common/HeaderBar",h={state:()=>({MessageUnread:{},isInclusion:!1,refererUrl:window.location.href}),mutations:u,actions:{PressPlayMemberInfoGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{p.getPressPlayMemberInfo(t).success((t=>{o("setMemberInfo",t.memberInfo,{root:!0}),e(t)})).error((e=>{r(e)}))}))},PressPlayMemberProjectsGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{p.getPressPlayMemberProjects(t).success((t=>{o("setMemberProjects",t.data,{root:!0}),e(t)})).error((e=>{r(e)}))}))},PressPlayNewsFeedsGet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{p.getPressPlayNewsFeeds(t).success((t=>{e(t.data)})).error((e=>{o(e)}))}))},PressPlayNewsFeedsSend(e,t){let{commit:o}=e;return new Promise(((e,o)=>{p.sendPressPlayNewsFeeds(t).success((t=>{e(t.data)})).error((e=>{o(e)}))}))},PressPlayMemberNotificationGet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{p.getPressPlayMemberNotification(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},PressPlayMemberNotificationReadSet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{p.setPressPlayMemberNotificationRead(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}},getters:m,namespaced:!0}},24335:(e,t,o)=>{"use strict";o.d(t,{A:()=>s});var r=o(39835),a=o(36657),n=o(51988);const i=a.a2.get("IS_SEO_BOT"),s={props:{intersectionArea:{type:String,default:""},exposureDom:{type:String,default:""},observeWaitTime:{type:Number,default:0}},data:()=>({exposureName:"none",exposureCount:0}),computed:{},methods:{exposureInit(){const e=this;e.$refs.el&&(r.U4.observe(e.$refs.el),n(e.$refs.el).off("exposure-act").on("exposure-act",(()=>{e.exposureAct()})),i&&e.exposureAct())},exposureAct(){const e=this;0===e.exposureCount&&(e.exposureCount+=1,a.zT.pageAction("exposure_view",{exposureName:e.exposureName}))},isNode:e=>"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,isElement:e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},beforeUnmount(){const e=this;(e.isNode(e.$refs.el)||e.isElement(e.$refs.el))&&r.U4.unobserve(e.$refs.el)},unmounted(){},mounted(){const e=this;e.loading||(e.isNode(e.$refs.el)||e.isElement(e.$refs.el))&&"#comment"!==e.$refs.el.nodeName&&setTimeout((()=>{e.exposureInit()}),e.observeWaitTime)}}},55650:(e,t,o)=>{"use strict";o.d(t,{A:()=>s});var r=o(39835),a=o(36657),n=o(51988);const i=a.a2.get("IS_SEO_BOT"),s={props:{intersectionArea:{type:String,default:""},exposureDom:{type:String,default:""},observeWaitTime:{type:Number,default:0}},data:()=>({exposureName:"none",exposureCount:0}),computed:{},methods:{exposureInit(){const e=this;e.$refs.el&&(r.dO.observe(e.$refs.el),n(e.$refs.el).off("exposure-act").on("exposure-act",(()=>{e.exposureAct()})),i&&e.exposureAct())},exposureAct(){const e=this;0===e.exposureCount&&(e.exposureCount+=1,a.zT.pageAction("exposure_view",{exposureName:e.exposureName}))},isNode:e=>"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,isElement:e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},beforeUnmount(){const e=this;(e.isNode(e.$refs.el)||e.isElement(e.$refs.el))&&r.dO.unobserve(e.$refs.el)},unmounted(){},mounted(){const e=this;e.loading||(e.isNode(e.$refs.el)||e.isElement(e.$refs.el))&&"#comment"!==e.$refs.el.nodeName&&setTimeout((()=>{e.exposureInit()}),e.observeWaitTime)}}},2375:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});o(59467);var r=o(42637),a=o.n(r);const n={props:{},data:()=>({snowDateRange:["2021-12-20 00:00:00","2022-01-01 00:00:00"],matchRouteName:["common_home","common_activity","project_about"]}),computed:{showSnow(){const e=a()().format("X");return a()(this.snowDateRange[0]).format("X")<e&&e<a()(this.snowDateRange[1]).format("X")},route(){return!!this.$route&&this.$route},matchPath(){const e=this;let t=!1;if(e.route){let o=[];e.route.meta&&e.route.meta.type&&o.push(e.route.meta.type),o.push(e.route.name),o=o.join("_"),e.matchRouteName.includes(o)&&(t=!0)}return t}},watch:{route(){this.checkRunSnow()}},methods:{start(){setTimeout((()=>{window.snowStorm.snowColor="#DBFAFC",window.snowStorm.flakesMax=80,window.snowStorm.flakesMaxActive=30,window.snowStorm.useTwinkleEffect=!1,window.snowStorm.animationInterval=10,window.snowStorm.followMouse=!1,window.snowStorm.snowCharacter="❄",window.snowStorm.vMaxX=3,window.snowStorm.vMaxY=2,window.snowStorm.flakeWidth=15,window.snowStorm.flakeHeight=15,window.snowStorm.animationInterval=60,window.snowStorm.show(),window.snowStorm.resume()}),10)},stop(){window.snowStorm.stop(),window.snowStorm.freeze()},checkRunSnow(){this.showSnow&&this.matchPath?this.start():this.stop()}},mounted(){this.stop(),this.$nextTick((()=>{this.checkRunSnow()}))},destroyed(){this.showSnow&&this.stop()}}},36657:(e,t,o)=>{"use strict";o.d(t,{FL:()=>Ke,w3:()=>Re,Y9:()=>ze,Pc:()=>je,h:()=>Ee,a2:()=>Be,wz:()=>Ge,Lr:()=>Le,wD:()=>We,Vp:()=>Ie,FE:()=>De,qR:()=>Fe,OE:()=>Je,lY:()=>Me,hg:()=>Te,zT:()=>$e,RK:()=>xe,VG:()=>Ue,Yj:()=>Ae,Xq:()=>Ve,cL:()=>He,Xe:()=>Oe,OZ:()=>qe,Wp:()=>Qe,Aq:()=>Ze,k5:()=>Xe,Sm:()=>Ye});var r=o(65939),a=o(51988),n=o.n(a);const i={template:"popup_notice",outerClassName:"notice",icon:"",html:"",img:"",imgWidth:"50px",clickOuterClose:!1,showConfirmButton:!1,showCancelButton:!1,buildDone:!1,showDone:!1,closeDone:!1,popupAlign:"center",confirmButtonText:"確定",cancelButtonText:"取消",blurDomTarget:"#appBox"},s={target:"body",$el:null,className:{popupLayout:"popup-layout",popupWrapper:"popup-wrapper",popupMain:"popup-main"},template:{popup_div:'<div class="{className}">\n                    </div>',popup_notice:'\n            <div class="popup-notice-box {outerClassName}">\n                <div class="popup-notice-wrapper">\n                    <div class="popup-icon-wrapper">\n                        <div class="popup-icon {icon}">\n                            <img class="popup-img" src="{img}" style="width: {imgWidth};">\n                        </div>\n                    </div>\n                    <div class="popup-description-wrapper">{html}</div>\n                </div>\n                <div class="popup-button-wrapper">\n                    <div class="popup-button-item pp-cancel">{cancelButtonText}</div>\n                    <div class="popup-button-item pp-confirm">{confirmButtonText}</div>\n                </div>\n            </div>\n        '},init(){const e=this;e.$el=n()(e.target),e.create_layout(),e.create_wrapper(),e.create_main()},create_layout(){const e=this;0===e.$el.find(`.${e.className.popupLayout}`).length&&e.$el.append(e.getTemplate("popup_div",{className:e.className.popupLayout})),e.popupLayout=e.$el.find(`.${e.className.popupLayout}`)},create_wrapper(){const e=this;0===e.$el.find(`.${e.className.popupWrapper}`).length&&e.$el.append(e.getTemplate("popup_div",{className:e.className.popupWrapper})),e.popupWrapper=e.$el.find(`.${e.className.popupWrapper}`)},create_main(){const e=this;0===e.$el.find(`.${e.className.popupWrapper} .${e.className.popupMain}`).length&&e.$el.find(`.${e.className.popupWrapper}`).append(e.getTemplate("popup_div",{className:e.className.popupMain})),e.popupMain=e.$el.find(`.${e.className.popupMain}`)},create_notice_box(e){const t=this;e.html||t.popupMain.find(".popup-description-wrapper").remove(),e.showConfirmButton||e.showCancelButton?(e.showConfirmButton||t.popupMain.find(".popup-button-wrapper .pp-confirm").remove(),e.showCancelButton||t.popupMain.find(".popup-button-wrapper .pp-cancel").remove()):t.popupMain.find(".popup-button-wrapper").remove(),t.popupMain.find(".popup-description-wrapper").text()||t.popupMain.find(".popup-description-wrapper").remove(),e.img||t.popupMain.find(".popup-img").remove(),""===e.icon&&t.popupMain.find(".popup-icon-wrapper").remove()},showTimer:null,action(e,t,o){const r=this;r.init();const a=function(){r.popupMain.empty();const a={...i,...e};let s="";s="popup_notice"===e.template?r.getTemplate("popup_notice",{icon:a.icon,html:a.html,img:a.img,imgWidth:a.imgWidth,confirmButtonText:a.confirmButtonText,cancelButtonText:a.cancelButtonText,outerClassName:a.outerClassName}):a.html,r.popupMain.html(s),"popup_notice"===e.template&&r.create_notice_box(e),r.popupMain.find(".pp-confirm").length>0&&r.popupMain.find(".pp-confirm").unbind("click").bind("click",(()=>{"function"==typeof t&&t(),r.close()})),r.popupMain.find(".pp-cancel").length>0&&r.popupMain.find(".pp-cancel").unbind("click").bind("click",(()=>{"function"==typeof o&&o(),r.close()})),r.popupMain.find(".pp-close").length>0&&r.popupMain.find(".pp-close").unbind("click").bind("click",(()=>{r.close()})),r.popupMain.data({blurdomtarget:a.blurDomTarget}),n()("body").addClass("popup-lock-scroll"),n()(r.popupMain.data("blurdomtarget")).addClass("popup-blur"),"function"==typeof a.buildDone&&a.buildDone(r.popupMain),e.popupAlign&&r.popupWrapper.attr({align:e.popupAlign}),r.popupMain.data("config",a),r.show(a)};r.popupMain&&r.popupMain.is(":visible")?(clearTimeout(r.showTimer),r.showTimer=setTimeout((()=>{a()}),500)):(r.popupMain.hide(),a())},show(e){const t=this;if(t.popupLayout.stop(!0,!0).fadeIn(),t.popupWrapper.stop(!0,!0).fadeIn(),t.popupMain.stop(!0,!0).fadeIn(500),"function"==typeof e.showDone&&e.showDone(t.popupMain),e.clickOuterClose){const e=()=>{t.close()};t.popupMain.unbind("click").bind("click",(e=>{e.stopPropagation()})),t.popupWrapper.one("click",e)}},close(){const e=this;setTimeout((()=>{clearTimeout(e.showTimer),e.popupLayout.stop(!0,!0).fadeOut(),e.popupWrapper.stop(!0,!0).fadeOut(),e.popupMain.stop(!0,!0).fadeOut(500),n()(e.popupMain.data("blurdomtarget")).removeClass("popup-blur"),n()("body").removeClass("popup-lock-scroll");const t=e.popupMain.data("config");"function"==typeof t.closeDone&&t.closeDone()}),10)},getTemplate(e,t){let o=this.template[e]||"";for(const r in t)switch(r){case"icon":o=t.img?o.replace(`{${r}}`,""):o.replace(`{${r}}`,t[r]);break;case"img":o=t.img?o.replace(`{${r}}`,t[r]):o.replace(`{${r}}`,"");break;case"imgWidth":o=t.imgWidth?o.replace(`{${r}}`,t[r]):o.replace(`{${r}}`,"");break;default:o=o.replace(`{${r}}`,t[r])}return o},isOpen(){return!!this.popupMain&&this.popupMain.is(":visible")}},l={loading:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={...i,icon:"icon icon_info",html:"讀取中",outerClassName:"loading",showConfirmButton:!1,showCancelButton:!1,...e};s.action(r,t,o)},confirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_question",html:"確認",outerClassName:"notice",showConfirmButton:!0,showCancelButton:!0,...e};s.action(r,t,o)},deleteConfirm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_trash",html:"刪除",outerClassName:"warning",showConfirmButton:!0,showCancelButton:!0,...e};s.action(r,t,o)},error:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_x_circle",html:"錯誤",outerClassName:"warning",showConfirmButton:!0,showCancelButton:!1,...e};s.action(r,t,o)},warning:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_warning_fill",html:"警告",outerClassName:"warning",showConfirmButton:!0,showCancelButton:!1,...e};s.action(r,t,o)},success:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_check_circle",html:"成功",outerClassName:"success",showConfirmButton:!0,showCancelButton:!1,...e};s.action(r,t,o)},info:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);const r={...i,icon:"icon icon_info",html:"提示",outerClassName:"notice",showConfirmButton:!0,showCancelButton:!1,...e};s.action(r,t,o)},customize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={...i,template:"",icon:"",html:"",showConfirmButton:!1,showCancelButton:!1,...e};s.action(r,t,o)},close:function(){s.close()},isOpen:()=>{s.isOpen()}};var c=o(90238),d=o(9370),p=o(59092),u=o(70383),m=o(12144),g=o(47799);Math.easeInOutQuad=function(e,t,o,r){return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},Math.easeInCubic=function(e,t,o,r){return t+o*((e/=r)*e*e)},Math.inOutQuintic=function(e,t,o,r){const a=(e/=r)*e,n=a*e;return t+o*(6*n*a+-15*a*a+10*n)};const h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};let f=null,b=null;const y=function(e){let{selector:t="",duration:o=1500,buffer:r=0,callback:a=null,animate:n=!1,wait:i=!1,container:s=null}=e;function l(e){s?s.scrollTop=e:(document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e)}function c(e){let t=0;s||document.querySelector("#pp-header")&&(t=document.querySelector("#pp-header").offsetHeight);let i=0;document.querySelector("#section-navbar")&&(i=document.querySelector("#section-navbar").offsetHeight);const c=t+i+r;let d=0;d=s?e.offsetTop:Math.ceil(e.getBoundingClientRect().top)+window.pageYOffset;const p=s?s.scrollTop:document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,u=d-p-c;let m=0;const g=function(){if(n){m+=20;l(Math.easeInOutQuad(m,p,u,o)),m<o?h(g):a&&"function"==typeof a&&a()}else{m+=20;l(p+u),a&&"function"==typeof a&&a()}};h(g)}f=setInterval((()=>{if(t){let e=null;e=Node.prototype.isPrototypeOf(t)?t:document.querySelector(t),e&&(clearInterval(f),clearTimeout(b),i?setTimeout((()=>{c(e)}),i):c(e))}}),100),b=setTimeout((()=>{clearInterval(f),clearTimeout(b)}),5e3)},v=function(e,t,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!1===e){if("validation"===t.type)!function(e,t,o,r){const a=n()(`#${t}`),i=e,s=a.find(".form-group");if(s.removeClass("has-error"),s.children(".error-msg").text(""),n().each(i,((e,t)=>{const o=e.replace(/\./gi,"_");let r=a.find(`[name=${o}]`).parents(".form-group:first");0===r.length&&(r=a.find(`.form-group[data-validate-name*='${o}']`)),r.addClass("has-error");const n=t.join(", ");r.find(".error-msg").text(n)})),o){let e=a.find(".form-group.has-error:first input:first, .form-group.has-error:first textarea:first, .form-group.has-error:first select:first");if(e.length>0?e.focus():(e=a.find(".form-group.has-error:first"),e.length<=0&&(e=a.find(".form-group.has-error:first").parents(".pp-form-group:first"))),r){const o=document.querySelector(`#${t} ${r}`);e&&e.length>0&&y({selector:e[0],buffer:16,container:o})}}}(t.data,o,s,l),g.A.pageAction("validation_error_trigger",{error_input:t.data,target:o});i&&c.A.warning({html:t.message},r,a)}else i?c.A.success({html:t.message,clickOuterClose:!0},r,a):c.A.close()};var w=o(51598),_=o(11017);const k=_.A.API_CONFIG.API_HOST,P={..._.A,sendMarketingEvent:e=>{const t=`${k}/marketing/event`;return P.run(t,"POST",e)},sendFbEvent:e=>{const t=`${k}/marketing/fb/event`;return P.run(t,"POST",e)}},S=P;var C=o(4954);const N=u.A.get("IS_PP_AUTO_CACHE")||!1,A=u.A.get("IS_BOT")||!1;let M=!1,T=!1;const E=u.A.get("MemberInfo");E&&(M={},E.ph&&(M.ph=E.ph),E.em&&(M.em=E.em),E.facebook_id&&(M.fb_login_id=E.facebook_id),T={},E.em&&(T.email=E.em),E.ei&&(T.external_id=E.ei));const I=`FB_${(0,r.$f)(20)}`,B=`TT_${(0,r.$f)(20)}`,j={mkgevnt_jsvars_sending:!1,fbEventThrottleTimer:null,fbq(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a&&null!==a&&"object"==typeof a&&(M||(M={}),a.ph&&(M.ph=(0,C.sha256)(a.ph)),a.em&&(M.em=(0,C.sha256)(a.em)),a.facebook_id&&(M.fb_login_id=a.facebook_id)),"init"===e&&(o={...o,...M}),!N&&window.fbq){const a=`${(new Date).getTime()}_${(0,r.$f)(5)}`;"object"!=typeof o&&(o={});const n=`${I}_${a}`;o.event_id=n,o?(window.fbq(e,t,o,{eventID:n}),"init"!==e&&j.fbEventAction(e,t,o,n)):(window.fbq(e,t),"init"!==e&&j.fbEventAction(e,t,n))}},gtag(e,t,o){N||window.gtag&&(o?(o.event_label&&!["string","number"].includes(typeof o.event_label)&&(o.event_label=JSON.stringify(o.event_label)),window.gtag(e,t,o)):window.gtag(e,t))},gtm_datalayer_push(e){N||window.dataLayer&&e&&window.dataLayer.push(e)},fbEventAction(e,t,o,r){const a={custom_data:o,event_name:t,event_id:r};M&&(a.user_data=M),j.fbEventThrottle(a)},fbEventThrottleStorage:[],fbEventThrottle(e){j.fbEventThrottleStorage.push(e),clearTimeout(j.fbEventThrottleTimer),j.fbEventThrottleTimer=setTimeout((()=>{const e=JSON.parse(JSON.stringify(j.fbEventThrottleStorage));j.fbEventThrottleStorage=[],j.fbEvent(e)}),500)},fbEvent(e){if(!N){const t=e.length;if(t>0){const o=window.location.href;if(!o)return!1;if(e.filter((e=>!!("event_name"in e&&"custom_data"in e&&e.event_name))).length!==t)return!1;const r=e.map((e=>({dl:o,data:e})));S.sendFbEvent({events:r}).success((e=>{})).error((e=>{}))}}return!0},ttq(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a&&null!==a&&"object"==typeof a&&(T||(T={}),a.em&&(T.email=(0,C.sha256)(a.em)),a.ei&&(T.external_id=(0,C.sha256)(a.ei))),!N&&window.ttq){const e=`${(new Date).getTime()}_${(0,r.$f)(5)}`;"object"!=typeof o&&(o={});const a=`${B}_${e}`;o.event_id=a,o?window.ttq.track(t,o):window.ttq.track(t)}},mkgEventAction(e,t,o){const r={action_name:e,data:o,marketings:arguments.length>3&&void 0!==arguments[3]?arguments[3]:["fb_pixel"],type:t},a=[];a.push(r),j.mkgevnt(a)},mkgevnt(e){if(!N&&!A){const t=e.length;if(t>0){const o=window.location.href;if(!o)return!1;if(e.filter((e=>!!("action_name"in e&&"type"in e&&"marketings"in e&&"data"in e&&e.action_name&&e.marketings.length>0))).length!==t)return!1;const r=e.map((e=>(e.dl=o,e)));S.sendMarketingEvent({actions:r}).success((e=>{})).error((e=>{}))}}return!0},mkgevnt_jsvars(){if(!j.mkgevnt_jsvars_sending){j.mkgevnt_jsvars_sending=!0;const e=u.A.get("MARKETING_TRACKER_DATA",[]);u.A.set("MARKETING_TRACKER_DATA",[],!1),e.length>0&&j.mkgevnt(e),j.mkgevnt_jsvars_sending=!1}}},x=u.A.get("FBQActionStorage",[]);Array.isArray(x)&&x.length>0&&x.forEach((e=>{j.fbq(e.action,e.event,e.data)}));const L=u.A.get("TTQActionStorage",[]);Array.isArray(L)&&L.length>0&&L.forEach((e=>{j.ttq(e.action,e.event,e.data)}));const O=j;var V=o(72983),$=o(51988);const D={target:"",text:"",isHTML:!1,delay:"1000",customClass:"",direction:"top",animationDuration:200,clickToClose:!0,autoClose:!0,offset:!1},F={target:null,className:{tipsLayout:"tips-layout",tipsWrapper:"tips-wrapper",tipsDone:"tip-done"},template:{tips_div:"<div class='{className}'>\n                    </div>"},config:{},init(){const e=this;e.checkTarget(),e.createLayout(),e.createWrapper()},checkTarget(){const e=this;e.config.target instanceof $?e.target=e.config.target:n()(e.config.target).length>0?e.target=n()(e.config.target):e.target=null},createLayout(){const e=this;e.tipLayout=n()(e.getTemplate("tips_div",{className:e.className.tipsLayout}))},createWrapper(){const e=this;e.tipWrapper=n()(e.getTemplate("tips_div",{className:e.className.tipsWrapper})),e.tipWrapper.css({"animation-duration":e.config.animationDuration/1e3+"s"}),e.tipWrapper.data("animation-duration",e.config.animationDuration),e.tipWrapper.data("direction",e.config.direction),e.tipLayout.html(e.tipWrapper)},checkConfig(e){const t={...D,...e};if("string"!=typeof t.text&&(t.text=""),isNaN(t.delay)&&(t.delay=D.delay),isNaN(t.animationDuration)&&(t.animationDuration=D.animationDuration),["top","bottom","right","left"].includes(t.direction)||(t.direction=D.direction),t.offset){let e=[];Array.isArray(t.offset)&&(e=t.offset),"string"==typeof t.offset&&(e=t.offset.split(",")),t.offset=e}return t},action(e,t){const o=this;o.config=o.checkConfig(e),o.init(),null!=o.target&&(o.config.customClass&&o.tipLayout.addClass(o.config.customClass),o.config.isHTML?o.tipWrapper.html(o.config.text):o.tipWrapper.text(o.config.text),o.show(t))},checkTipPos(e){const t=e.offset().left,o=e.outerWidth(),r=n()(window).scrollLeft(),a=n()(window).width();r>t&&e.css({left:"+="+(r-t)}),t+o>r+a&&e.css({left:"-="+(t+o-(r+a))});const i=e.offset().top,s=e.outerHeight(),l=n()(window).scrollTop(),c=n()(window).height();i<l&&e.css({top:"+="+(l-i)}),i+s>l+c&&e.css({top:"-="+(i+s-(l+c))})},show(e){const t=this,o=function(){t.target.prepend(t.tipLayout);const o=t.target.width(),r=t.target.height(),a=t.tipWrapper.outerWidth(),i=t.tipWrapper.outerHeight();let s="top",l="",c="",d="";switch(t.config.direction){default:case"top":s="top",l="fadeInUp animated",c=-1*i,d=(a-o)/2*-1;break;case"bottom":s="bottom",l="fadeInDown animated",c=r/2,d=(a-o)/2*-1;break;case"right":s="right",l="fadeInLeft animated",c=(i-r)/2*-1,d=o;break;case"left":s="left",l="fadeInRight animated",c=(i-r)/2*-1,d=-1*a}if(t.tipWrapper.css({top:c,left:d}),t.checkTipPos(t.tipWrapper),t.tipWrapper.data({direction:s}),t.tipWrapper.addClass(l).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){n()(this).addClass(t.className.tipsDone).removeClass(l)})),t.config.clickToClose&&t.tipWrapper.bind("click",(function(o){o.stopPropagation(),t.close(n()(this),e)})),t.config.autoClose&&setTimeout((()=>{t.close(t.tipWrapper,e)}),t.config.delay),t.config.offset){const[e,o]=t.config.offset;t.target.find(`.${t.className.tipsLayout}`).css({top:`${e}px`,left:`${o}px`})}};t.target.find(`.${t.className.tipsLayout}`).length>0?(t.target.find(`.${t.className.tipsWrapper}`).css({"animation-duration":"0.01s"}),t.close(t.target.find(`.${t.className.tipsWrapper}`),o)):o()},close(e,t){const o=e.data("animation-duration");this.tipWrapper.css({"animation-duration":o/1e3+"s"});let r="";switch(e.data("direction")){default:case"top":r="fadeOutDown animated";break;case"bottom":r="fadeOutUp animated";break;case"right":r="fadeOutLeft animated";break;case"left":r="fadeOutRight animated"}e.removeClass(this.className.tipsDone).addClass(r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){n()(this).parent().remove(),"function"==typeof t&&t()}))},getTemplate(e,t){let o=this.template[e]||"";for(const r in t)switch(r){case"icon":o=t.img?o.replace(`{${r}}`,""):o.replace(`{${r}}`,t[r]);break;case"img":o=t.img?o.replace(`{${r}}`,t[r]):o.replace(`{${r}}`,"");break;default:o=o.replace(`{${r}}`,t[r])}return o}},J={show:function(e,t){V.A.register([{rel:"stylesheet",type:"text/css",href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"}]),F.action(e,t)}},z=J;var G=o(14614),H=o(39835);const R={send(e){const t=_.A.setHeader(),o=`${_.A.API_CONFIG.API_HOST}/common/page2cache`,r={url:e.url,html:e.html},a=e.html,n=new Blob([a],{type:"octet/stream"}),i=new FormData;i.append("url",r.url),i.append("json",n,"tmp.html");const s=new XMLHttpRequest;if(s.open("POST",o),s.withCredentials=!0,t&&"object"==typeof t)for(const l in t)s.setRequestHeader(l,t[l]);s.addEventListener("progress",(e=>{if(e.lengthComputable){Math.ceil(e.loaded/e.total*100)}}),!1),s.addEventListener("error",(e=>{})),s.addEventListener("abort",(e=>{})),s.addEventListener("load",(e=>{"200"===s.status||s.status})),s.send(i)}},q=R;var U=o(42637),W=o.n(U);let Y=null;const Q=!!u.A.get("MemberInfo.member_id"),X=_.A.API_CONFIG.API_HOST;let K=!1;p.A.isMobileApp()&&(K=!0);const Z={sendPlayerRecord:e=>{const t=`${X}/log/playerRecord`;return _.A.run(t,"POST",e)},default:{localStorageKey:"playerRecord",auto_record_time:3e4,max_error_count:5,focus:!1,sending:!1},init(){const e=this;window.addEventListener("focus",(()=>{e.sendRecord(!0)})),window.onbeforeunload=function(){e.sendRecord(!0)},e.sendRecord()},setRecordTimer(){const e=this;null===Y&&(Y=setInterval((()=>{e.sendRecord()}),e.default.auto_record_time))},sendRecord(e){const t=this;let o=w.A.get(t.default.localStorageKey,[]);(document.querySelector("body").classList.contains("page-focus")||e)&&!t.sending&&o.length>0&&(w.A.set(t.default.localStorageKey,[]),t.sending=!0,o=o.map((e=>e={uuid:"",attachedId:"",memberId:"",duration:0,completed:0,createTime:"",updateTime:"",...e})),g.A.pageAction("player_record_trigger",{player_logs:o}),Z.sendPlayerRecord({player_logs:o}).success((e=>{t.sending=!1})).error((()=>{t.sending=!1})))},post(e){const t=this;if(Q){const o={...e,uuid:(0,r.uR)(),createTime:W()().toISOString(),updateTime:W()().toISOString(),error_count:0};w.A.push(t.default.localStorageKey,o),K?t.sendRecord(!0):t.setRecordTimer()}}};Z.init();const ee=Z,te={target:"body",text:"",isHTML:!1,delay:"1000",defaultClass:"toast",customClass:"",group:"",clickToClose:!0},oe={checkConfig:e=>({...te,...e}),checkToRemove(){this.config.group&&n()(`.${this.config.defaultClass}[group='${this.config.group}']`).remove()},Timer:null,action(e,t){const o=this;o.config=o.checkConfig(e);const r=n()(`<div class='${this.config.defaultClass}'></div>`);this.config.isHTML?r.html(this.config.text):r.text(this.config.text),this.config.group&&r.attr("group",this.config.group),this.config.customClass&&r.addClass(this.config.customClass);let a=this.config.target,i=!0;a&&"body"!==a||(a="body",i=!1),this.config.clickToClose&&r.addClass("pointer").bind("click",(function(){o.removeTarget(n()(this))}));const s=n()(a);s&&(i&&r.addClass("sticky"),r.fadeOut((function(){o.checkToRemove(),s.append(this),n()(this).fadeIn((function(){this.timer=setTimeout((()=>{o.removeTarget(n()(this))}),o.config.delay)}))})))},removeTarget(e){e.fadeOut((()=>{n()(this).remove()}))}},re={show:function(e,t){oe.action(e,t)}},ae=re,ne={common_home:"(/)?$",project_about:"/project/([0-9A-Z]{32,})/about"},ie=e=>({name:e,event:new CustomEvent(e)}),se=()=>{let e=!1;if(window.matchMedia){const t=window.matchMedia("(prefers-color-scheme: dark)"),o=w.A.get("vue-theme-appearance");if(o?("auto"===o&&(e=!!t.matches),"light"===o&&(e=!1),"dark"===o&&(e=!0)):e=t.matches,(e=>{let t=!1;for(const o in ne)if(new RegExp(ne[o],"ig").test(e.trim())){t=!0;break}return t})(window.location.pathname))return!1}return e},le={config:{default:{type:"default",icon:"",html:"",delay:3e3,zIndex:!1,closeDone:null,showDone:null,outerClassName:"",target:null,clickToClose:!0,clickOuterClose:!1,offset:8,direction:"top"},snackbar:{type:"snackbar",icon:"",html:"",delay:3e3,zIndex:!1,closeDone:null,showDone:null,layout:"",closeButtonFlag:!1,confirmButtonFlag:!1,confirmButtonText:"確定",offset:0,direction:"left"}},className:{toast:"pp-toast",toastContainer:"pp-toast-container",toastIcon:"pp-toast-icon",toastContent:"pp-toast-content",toastTarget:"pp-toast-target",toastAction:"pp-toast-action",toastConfirm:"pp-toast-confirm",toastClose:"pp-toast-close"},animate:{default:["opacity-0"],snackbar:["opacity-0","translate-100"]},template:"\n        <div class='{toast}'>\n            <div class='{toastContainer}'>\n                <div class='{toastIcon}'><i class='icon {icon}'></i></div>\n                <div class='{toastContent}'>{html}</div>\n                <div class='{toastAction}'>\n                    <div role=\"button\" class=\"{toastConfirm} pp-button-primary pp-button-md pp-button-none pp-button\"\n                        style=\"--min-width: initial;\"\n                    >\n                        <span>{confirmButtonText}</span>\n                    </div>\n                    <div role=\"button\" class=\"{toastClose} pp-button-black pp-button-sm pp-button-none pp-button-icon pp-button-circle\">\n                        <i class=\"icon icon_x\"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ",customEvent:{toastClose:ie("toast-close"),toastShow:ie("toast-show")},closeTimer:null,async action(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;le.clearToast();const o=le.createToast(e);await le.bindAction(o,e).then((async()=>{await le.bindEvent(o,e,t)}))},async bindAction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("snackbar"===t.type)return le.bindSnackbar(e,t);{let o=null;return t.target?("string"==typeof t.target&&(o=document.querySelector(t.target)),"object"==typeof t.target&&t.target instanceof Element&&(o=t.target),le.bindTarget(e,o,t)):le.bindFixed(e,t)}},createToast(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=le.createTemplate(le.template,{...le.className,...e});return se()?t.classList.add("light"):t.classList.add("dark"),e.confirmButtonFlag||t.querySelector(`.${le.className.toastConfirm}`).remove(),e.closeButtonFlag||t.querySelector(`.${le.className.toastClose}`).remove(),e.confirmButtonFlag||e.closeButtonFlag||t.querySelector(`.${le.className.toastAction}`).remove(),e.icon||t.querySelector(`.${le.className.toastIcon}`).remove(),e.type&&t.classList.add(`pp-toast-${e.type}`),e.outerClassName&&t.classList.add(`pp-toast-${e.outerClassName}`),"column"===e.layout&&t.classList.add("layout-column"),e.clickToClose&&t.classList.add("cursor-pointer"),e.zIndex&&e.zIndex>0&&(t.style.zIndex=e.zIndex),t},createTemplate(e,t){let o=e;for(const r in t)o=o.replace(`{${r}}`,t[r]);return(e=>{const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild})(o)},showTransitionend(e,t,o){o.target===e&&"function"==typeof t.showDone&&t.showDone()},closeTransitionend(e,t,o){o.target===e&&(e.remove(),"function"==typeof t.closeDone&&t.closeDone())},async show(e,t,o){clearTimeout(le.closeTimer),document.body.classList.add("position-relative"),e.classList.remove(...le.animate[t.type]),"default"===t.type&&window.addEventListener("resize",(()=>{e.dispatchEvent(le.customEvent.toastClose.event)}),{once:!0}),e.addEventListener("transitionend",le.showTransitionend.bind(null,e,t,o),{once:!0})},async close(e,t,o){clearTimeout(le.closeTimer),document.body.classList.remove("position-relative"),e.classList.add(...le.animate[t.type]),e.addEventListener("transitionend",le.closeTransitionend.bind(null,e,t,o),{once:!0})},async bindEvent(e,t,o){switch(e.addEventListener(le.customEvent.toastShow.name,(async o=>{await le.show(e,t,o)})),e.addEventListener(le.customEvent.toastClose.name,(async o=>{await le.close(e,t,o)})),t.type){case"snackbar":{const t=e.querySelector(`.${le.className.toastClose}`);t&&t.addEventListener("click",(()=>{e.dispatchEvent(le.customEvent.toastClose.event)}),{once:!0});const r=e.querySelector(`.${le.className.toastConfirm}`);r&&r.addEventListener("click",(t=>{"function"==typeof o&&o(t),e.dispatchEvent(le.customEvent.toastClose.event)}),{once:!0});break}default:t.clickToClose&&e.addEventListener("click",(t=>{e.dispatchEvent(le.customEvent.toastClose.event)}),{once:!0}),t.clickOuterClose&&document.body.addEventListener("click",(()=>{e.dispatchEvent(le.customEvent.toastClose.event)}),{once:!0})}e.dispatchEvent(le.customEvent.toastShow.event),t.delay&&(le.closeTimer=setTimeout((()=>{e.dispatchEvent(le.customEvent.toastClose.event)}),t.delay))},bindFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.direction){case"center":e.classList.add("toast-center");break;case"bottom":e.classList.add("toast-bottom");break;default:e.classList.add("toast-top")}return e.classList.add(...le.animate[t.type]),document.body.appendChild(e),new Promise((e=>{setTimeout((()=>{e()}),10)}))},bindTarget(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.classList.add(le.className.toastTarget),e.classList.add(...le.animate[o.type]),document.body.appendChild(e),new Promise((r=>{setTimeout((()=>{const{top:a,left:n,width:i,height:s}=t.getBoundingClientRect(),{top:l,left:c,width:d,height:p}=e.getBoundingClientRect(),u=window.innerWidth,m=window.innerHeight,g=window.scrollY;let h=a+g,f=n+window.scrollX;switch(o.direction){case"center":h=h+s/2-p/2,f=f+i/2-d/2;break;case"bottom":h=h+s+o.offset,f=f+i/2-d/2;break;default:h=h-o.offset-p,f=f+i/2-d/2}const b=getComputedStyle(e),y=parseInt(b.getPropertyValue("--snackbar-bx").split("px")[0]),v=parseInt(b.getPropertyValue("--snackbar-by").split("px")[0]);h<g?h=g+v:h+p>g+m&&(h=g+m-p-v),f<0?f=0+y:f+d>u&&(f=u-d-y),Object.assign(e.style,{top:`${h}px`,left:`${f}px`}),r()}),10)}))},bindSnackbar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.direction){case"center":e.classList.add("toast-center");break;case"right":e.classList.add("toast-right");break;default:e.classList.add("toast-left")}return e.classList.add(...le.animate[t.type]),document.body.appendChild(e),new Promise((o=>{setTimeout((()=>{const{top:r,left:a,width:n,height:i}=e.getBoundingClientRect();let s=t.offset;const l=getComputedStyle(e),c=(parseInt(l.getPropertyValue("--snackbar-bx").split("px")[0]),parseInt(l.getPropertyValue("--snackbar-by").split("px")[0])),d=window.innerHeight-c;s>=d-i-c&&(s=d-i-c),e.style.setProperty("--snackbar-offset",`${s}px`),o()}),10)}))},clearToast(){const e=document.querySelectorAll(`.${le.className.toast}`);Array.from(e).forEach((e=>{e.dispatchEvent(le.customEvent.toastClose.event)}))}},ce={notice:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...le.config.default,...e,outerClassName:"notice"};le.action(t)},warning:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...le.config.default,icon:"icon icon_warning_circle_fill",...e,outerClassName:"warning"};le.action(t)},success:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...le.config.default,icon:"icon icon_check_circle_fill",...e,outerClassName:"success"};le.action(t)},snackbar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o={...le.config.snackbar,...e,type:"snackbar"};le.action(o,t)}};var de=o(57531),pe=o(13717);const ue=(e,t)=>{const o=n()(e);let r=null;if(o.find(".invalid-feedback").html(""),o.length>0)for(const a in t.data){const e=a.replace(/\./gi,"_"),i=o.find(`[name=${e}],[data-validate-name*='${e}']`);if(i.length>0){i.addClass("is-invalid");let s=i.parents(".form-group:first, .input-group:first");0===s.length&&(s=o.find(`.form-group[data-validate-name*='${e}'], .form-group[data-validate-name*='${e}']`)),s.addClass("is-invalid");const l=t.data[a].join(", ");s.find(".invalid-feedback").text(l),s.parents(".form-group-parent").addClass("is-invalid"),null===r&&(r=i),i.one("change",(function(){n()(this).removeClass("is-invalid");let t=n()(this).parents(".form-group:first, .input-group:first");0===t.length&&(t=n()(this).find(`.form-group[data-validate-name*='${e}'], .form-group[data-validate-name*='${e}']`)),t.removeClass("is-invalid"),t.find(".is-invalid").removeClass("is-invalid"),t.find(".invalid-feedback").text("")}))}}if(null!==r){const e=r.offset().top-n()(window).height()/2;n()("html, body").stop(!0,!0).animate({scrollTop:e},600)}},me=(e,t,o,r,a)=>{if(n()(o).find(".invalid-feedback").text(""),n()(o).find(".is-invalid").removeClass("is-invalid"),!1===e)if(t.type){if("validation"===t.type){const e=n()(o).attr("id")||n()(o).attr("name")||`${n()(o).attr("class")}(${window.location.href})`;g.A.pageAction("validation_error_trigger",{error_input:t.data,target:e}),ue(o,t),l.close()}}else l.error({html:t.message},r,a);else l.success({html:t.message},r,a)};var ge=o(12931),he=o.n(ge);const fe={code:(e,t,o)=>`<div>${e}</div>\b`,blockquote:e=>`<p>${e}</p>\n`,html:e=>`<p>${escape(e)}</p>\n`,heading(e,t,o,r){let a="";for(let n=0;n<t;n+=1)a+="#";return`<div>${a} ${o}</div>\n`},hr:()=>"<br>",list(e,t,o){if(!1===t)e=e.replace(/\[\[markdown-order\]\]/gi,"+ ");else do{e=e.replace(/\[\[markdown-order\]\]/i,`${o}. `),o+=1}while(e.includes("[[markdown-order]]"));return`<div>\n${e}</div>\n`},listitem:e=>`<div>[[markdown-order]] ${e}</div>\n`,checkbox:e=>`<span>[${e?"V":" "}]</span> &nbsp;`,paragraph:e=>`&nbsp;&nbsp;${e}\n`,table:(e,t)=>(t&&(t=`<tbody>${t}</tbody>`),`<div>\n<div>\n${e}</div>\n${t}</div>\n`),tablerow:e=>`<div>\n${e}</div>\n`,tablecell:(e,t)=>`<span>${e}</span>`,strong:e=>`<span>${e}</span>`,em:e=>`<span>${e}</span>`,codespan:e=>` <span>${e}</span> `,br:()=>"&nbsp;",del:e=>`<span>${e}</span>`,link:(e,t,o)=>`<span>${o} (link to: ${e})</span>`,image(e,t,o){const r=[];return t&&r.push(t),o&&r.push(o),`<span>${e} (${r.join("-")})</span>\n`},text:e=>`<span>${e}</span>`},be=Object.keys(fe),ye={};be.forEach((e=>{ye[e]=!1}));const ve={defaultArrayRenderStatus:ye,defaultOptions:{breaks:!0},extendMatchKey:{table:["table","tablerow","tablecell"],tablerow:["table","tablerow","tablecell"],tablecell:["table","tablerow","tablecell"],list:["list","listitem"],listitem:["list","listitem"]},createRender(e){const t=this;let o={};Array.isArray(e)?(o=JSON.parse(JSON.stringify(this.defaultArrayRenderStatus)),e.forEach((e=>{t.extendMatchKey[e]?(t.extendMatchKey[e].forEach((e=>{o[e]=!0})),o[e]=!0):o[e]=!0}))):"object"==typeof e&&(o=e);const r=new(he().Renderer);if(Object.keys(o).length>0)for(const a in o)!1===o[a]&&fe[a]?r[a]=fe[a]:"function"==typeof o&&(r[a]=o[a]);return r},parse(e,t,o){const r=this.createRender(t);let a=he()(e,{...this.defaultOptions,renderer:r,...o});return o&&o.inline&&(a=this.parseInline(a)),a},parseInline(e){let t=e;return t=t.replace(/<p[^>]*>/gi,"<span>").replace(/<\/p>/gi,"</span>"),t=t.replace(/<br[\/]}{0,1}>/gi,"<span> </span>"),t=t.replace(/<div[^>]*>/gi,"<span>").replace(/<\/div>/gi,"</span>"),t}},we=(e,t,o)=>ve.parse(e,t,o);var _e=o(23231);const ke={isObject:e=>null!==e&&"object"==typeof e,looseIndexOf(e,t){for(let o=0;o<e.length;o++)if(this.looseEqual(e[o],t))return o;return-1},looseEqual(e,t){if(e===t)return!0;const o=this.isObject(e),r=this.isObject(t);if(!o||!r)return!o&&!r&&String(e)===String(t);try{const o=Array.isArray(e),r=Array.isArray(t);if(o&&r)return e.length===t.length&&e.every(((e,o)=>this.looseEqual(e,t[o])));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!o&&!r){const o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every((o=>this.looseEqual(e[o],t[o])))}return!1}catch(a){return!1}}},Pe={async analysis(e){e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(shorts\/|video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);const t=RegExp.$6;let o="";RegExp.$3.indexOf("youtu")>-1?o="youtube":RegExp.$3.indexOf("vimeo")>-1&&(o="vimeo");let r="",a="";switch(o){case"youtube":try{const e=await fetch(`https://www.youtube.com/oembed?url=http%3A//youtube.com/watch%3Fv%3D${t}&format=json`);switch(e.status){case 200:case"200":await e.json();r=`https://img.youtube.com/vi/${t}/mqdefault.jpg`,a=`https://www.youtube.com/embed/${t}`;break;default:throw{status:e.status,statusText:e.statusText}}}catch(n){const e=JSON.stringify(n);throw console.error(new Error(e)),n}break;case"vimeo":try{const e=await fetch(`https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/${t}&width=1280&height=720`);switch(e.status){case 200:case"200":r=(await e.json()).thumbnail_url,a=`https://player.vimeo.com/video/${t}`;break;default:throw{status:e.status,statusText:e.statusText}}}catch(n){const e=JSON.stringify(n);throw console.error(new Error(e)),n}}return{type:o,id:t,cover:r,src:e,embed:a}},embed(e){e.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(shorts\/|video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);const t=RegExp.$6;let o="";RegExp.$3.indexOf("youtu")>-1?o="youtube":RegExp.$3.indexOf("vimeo")>-1&&(o="vimeo");let r="";switch(o){case"youtube":r=`https://www.youtube.com/embed/${t}`;break;case"vimeo":r=`https://player.vimeo.com/video/${t}`}return r}},Se=Pe;var Ce=o(50104);const Ne=e=>{let{validate_promise:t,steps:o}=e;const r=(e,t)=>{e.forEach(((o,r)=>{if(t[o.id]){const a=t[o.id];!0===a?(e[r].success=a,e[r].error=!1):(e[r].success=!1,e[r].error=a)}}))};return t.then((e=>(r(o,e.data),!0))).catch((e=>(e.data.common&&c.A.warning({icon:"icon icon_warning_circle_fill",html:e.data.common[0],zIndex:"calc(var(--pp-dialog-z-index) + 1)"}),r(o,e.data),!1)))},Ae=(r.Ay,c.A,d.A,p.A,u.A,m.Ay,w.A,g.A,G.A,H.Ay,V.A,de.A,pe.Ay,_e.A,Ce.A,r.Ay),Me=/^(1496|1504|7328)$/.test(o.j)?null:l,Te=/^(1496|7328)$/.test(o.j)?null:c.A,Ee=/^(1496|7328)$/.test(o.j)?null:d.A,Ie=/^(1504|7328)$/.test(o.j)?null:p.A,Be=/^(1504|7328)$/.test(o.j)?null:u.A,je=/^(170|866)9$/.test(o.j)?m.Ay:null,xe=/^(1496|7328)$/.test(o.j)?null:v,Le=/^(1496|1504|7328)$/.test(o.j)?null:w.A,Oe=/^(1496|7328)$/.test(o.j)?null:O,Ve=8669==o.j?z:null,$e=/^(1496|7328)$/.test(o.j)?null:g.A,De=/^(1496|1504|7328)$/.test(o.j)?null:G.A,Fe=/^(1504|7328)$/.test(o.j)?null:q,Je=/^(1496|1504|7328)$/.test(o.j)?null:ee,ze=/^(1496|1504|7328)$/.test(o.j)?null:H.Ay,Ge=7328!=o.j?V.A:null,He=/^(1496|1504|7328)$/.test(o.j)?null:ce,Re=/^(170|866)9$/.test(o.j)?de.A:null,qe=/^(1496|1504|7328)$/.test(o.j)?null:pe.Ay,Ue=/^(2595|6810|7534|8669)$/.test(o.j)?y:null,We=8669==o.j?we:null,Ye=/^(1504|7328)$/.test(o.j)?null:_e.A,Qe=/^(1496|1504|7328)$/.test(o.j)?null:ke,Xe=8669==o.j?Se:null,Ke=7486==o.j?Ce.A:null,Ze=8669==o.j?Ne:null},57531:(e,t,o)=>{"use strict";o.d(t,{A:()=>s});const r={},a=["fhplmmllnpjjlncfjpbbpjadoeijkogc","cgpbghdbejagejmciefmekcklikpoeel","phpaiffimemgakmakpcehgbophkbllkf","lhedkamjpaeolmpclkplpchhfapgihop"],n=async e=>{if(void 0!==r[e])return r[e];let t=!1;return await fetch(`chrome-extension://${e}/manifest.json`).then((e=>(t=!0,e.json()))).then((e=>{t=e.short_name||!0})).catch((()=>{t=!1})),r[e]=t,t},i={detect_video_deny:async e=>{let t=[];return"chrome"===e&&(t=await i.chrome(a)),t},chrome:async(e,t)=>{const o=[];for(let r=0;r<e.length;r+=1){const t=e[r];await n(t)&&o.push(t)}return o},error_notice:()=>`\n            <div class="text--yellow text-center m-5">\n                <div class='pb-3'>為保護創作者內容有價的權益，請先移除以下擴充套件，方可瀏覽內容</div>\n\n                ${Object.keys(r).filter((e=>!!r[e])).map((e=>`<div>${r[e]}</div>`)).join("<br>")}\n\n            </div>\n        `},s=1829!=o.j?i:null},39835:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>l,U4:()=>i,dO:()=>s});var r=o(47799),a=o(51988);const n={timer:null,list:{},isUploading:!1,enterEBook(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,book_ids:[]}),n.list[o].book_ids.push(e),n.enter()},enterVote(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,question_ids:[]}),n.list[o].question_ids.push(e),n.enter()},enterTimeline(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,timeline_keys:[]}),n.list[o].timeline_keys.push(e),n.enter()},enterProject(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,project_ids:[]}),n.list[o].project_ids.push(e),n.enter()},enterActivity(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,activity_ids:[]}),n.list[o].activity_ids.push(e),n.enter()},enterAlbum(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,album_ids:[]}),n.list[o].album_ids.push(e),n.enter()},enterAudio(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,file_keys:[]}),n.list[o].file_keys.push(e),n.enter()},enterReview(e,t,o){n.list[o]||(n.list[o]={source_from:o,component_type:t,review_ids:[]}),n.list[o].review_ids.push(e),n.enter()},enter(){clearTimeout(n.timer),n.timer=setTimeout(n.upload,2e3)},upload:()=>!(!0===n.isUploading||n.list.length>0)&&(n.isUploading=!0,Object.keys(n.list).forEach((e=>{const t=`${n.list[e].component_type}_view`;r.A.pageAction(t,n.list[e],!0)})),n.list={},n.isUploading=!1,!0)};window.addEventListener("beforeunload",(()=>{n.upload()}),!1),a("body").on("spa-onbeforeunload",(()=>{n.upload()}));const i={PPIntersectionObserverObj:null,init(){i.PPIntersectionObserverObj=new IntersectionObserver((e=>{e.forEach((e=>{if(e.intersectionRatio>0){e.target.classList.contains("js-is-exposed")||(e.target.classList.add("js-is-exposed"),a(e.target).trigger("exposure-act"))}}))}),{threshold:.8})},observe(e){null==i.PPIntersectionObserverObj&&i.init(),i.PPIntersectionObserverObj.observe(e)},unobserve(e){null==i.PPIntersectionObserverObj&&i.init(),i.PPIntersectionObserverObj.unobserve(e)}},s={PPIntersectionObserverObj:null,init(){s.PPIntersectionObserverObj=new IntersectionObserver((e=>{e.forEach((e=>{if(e.intersectionRatio>0){e.target.classList.contains("js-box-is-exposed")||(e.target.classList.add("js-box-is-exposed"),a(e.target).trigger("exposure-act"))}}))}),{threshold:0,rootMargin:"250px 0px 250px 0px"})},observe(e){null==s.PPIntersectionObserverObj&&s.init(),s.PPIntersectionObserverObj.observe(e)},unobserve(e){null==s.PPIntersectionObserverObj&&s.init(),s.PPIntersectionObserverObj.unobserve(e)}};window.addEventListener("beforeunload",n.upload);const l=1829!=o.j?n:null},12144:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>p});var r=o(70383);const a=function(e,t){let o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!0;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];r?a?(e(...i),a=!1):(clearTimeout(o),o=setTimeout((()=>{e(...i),a=!0}),t)):(clearTimeout(o),o=setTimeout((()=>{e(...i)}),t))}},n=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!0;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];r&&(r=!1,o&&e(...n),setTimeout((()=>{!o&&e(...n),r=!0}),t))}},i=async function(e){return new Promise(((t,o)=>{try{const o=r.A.get("MemberInfo.member_id",""),a="翻 印 必 究";let n="";const i=(e,t,o,r,a)=>{e.fillStyle="#000",e.strokeStyle="#DDD",e.font=`${o}px Ariel, sans-serif,Microsoft JhengHei,PingFang TC`,e.globalAlpha=.05;const n=e.measureText(t).width;e.fillText(t,r-n/2,a),e.globalAlpha=.5,e.strokeText(t,r-n/2,a)},s=function(){const e=document.createElement("canvas"),r=e.getContext("2d");e.width=n.naturalWidth,e.height=n.naturalHeight,r.drawImage(n,0,0);let s=10-e.width/e.height;s<=0&&(s=1);let l=e.height/s;l<25&&(l=25);const c=l/3,d=l/4;r.translate(e.width/2,e.height/2),r.rotate(Math.PI/180*function(e,t,o,r){let a=Math.atan2(e-o,t-r)*(180/Math.PI);return a<0&&(a=Math.abs(a)),a}(e.height,e.width,0,0)*-1);let p=-10;i(r,a,l,0,p),o&&(p=c+20,i(r,o,c,0,p)),p+=d+10;const u=parseInt((new Date).getTime(),10).toString(32);i(r,u,d,0,p);const m=e.toDataURL();t(m)};e instanceof HTMLImageElement?(n=e,s()):(n=new Image,n.crossOrigin="anonymous",n.onload=s,n.src=e)}catch(a){e instanceof HTMLImageElement?t(e.src):t(e)}}))},s=(e,t,o)=>`#${[e,t,o].map((e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t})).join("")}`,l=e=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,o,r)=>`#${t}${t}${o}${o}${r}${r}`)).substring(1).match(/.{2}/g).map((e=>parseInt(e,16))),c=(e,t,o)=>{e/=255,t/=255,o/=255;const r=Math.max(e,t,o),a=Math.min(e,t,o);let n,i,s=(r+a)/2;if(r===a)n=0,i=0;else{const l=r-a;switch(i=s>.5?l/(2-r-a):l/(r+a),r){case e:n=(t-o)/l+(t<o?6:0);break;case t:n=(o-e)/l+2;break;case o:n=(e-t)/l+4}}return n*=60,n<0&&(n+=360),i*=100,s*=100,[Math.round(n),Math.round(i),Math.round(s)]},d={debounce:a,throttle:n,watermark:i,rgbToHex:s,hexToRgb:l,rgbToHsl:c},p=1829!=o.j?d:null},9370:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var r=o(70383),a=o(59092);const n={init(e){const t=this;t.popstate_callback=null,e.callback&&(t.popstate_callback=e.callback),t.baseUrl=r.A.get("baseUrl"),t.setLocation(),t.setAction()},setAction(){const e=this;let t=null;window.onpopstate=function(){clearTimeout(t),t=setTimeout((()=>{"function"==typeof e.popstate_callback&&(e.popstate_callback(e.location),e.setLocation())}),500)}},diffUrl(e){const t=this,o=document.createElement("a");o.href=e;const r={pathname:o.pathname,search:o.search.substr(1),hash:o.hash.substr(1)};let a=!1;return["pathname","search","hash"].forEach((e=>{r[e]!==t.location[e]&&(a=!0)})),a},pushState(e,t,o){this.diffUrl(o)&&(window.history.pushState(e,t,o),this.setLocation())},replaceState(e,t,o){window.history.replaceState(e,t,o),this.setLocation()},setLocation(){if(this.location={},this.location.pathname=window.location.pathname.replace(this.baseUrl,""),window.location.search?this.location.search=window.location.search.substr(1):this.location.search="",window.location.hash?this.location.hash=window.location.hash.substr(1):this.location.hash="",a.A.isMobileApp()){const e={current_url:window.location.href};a.A.setWebStatus(e)}}},i=1829!=o.j?n:null},70383:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});let r=JSON.parse(JSON.stringify(window.jsVars));const a={set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){const o={};o[e]=t,e=o}for(const r in e){const t=e[r];a._set(r,t,o)}return a._deployJsVars(),t},get(e,t){if(e){const o=a._get(e);return o||(void 0!==t?t:o)}return JSON.parse(JSON.stringify(r))},_set(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=r;if(!e)return r=t,r;const n=e.split(".");for(;n.length>1;)a[e=n.shift()]||(a[e]={}),a=a[e];if(o){const e=n.shift();a[e]?a[e]="object"==typeof t?{...a[e],...t}:t:a[e]=t}else{a[n.shift()]=t}return a},_get(e){let t=JSON.parse(JSON.stringify(r));const o=e.split(".");for(;o.length>1;)t[e=o.shift()]?t=t[e]:t[e]=!1;return!!t[e=o.shift()]&&t[e]},_deployJsVars(){window.jsVars=JSON.parse(JSON.stringify(r))}},n=a},72983:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var r=o(70383),a=o(65939);const n=r.A.get("API_CONFIG.PP-WEB-VER",!1),i=r.A.get("API_CONFIG.PP-WEB-VER-TIME",!1),s=r.A.get("ASSETS_HOST",!1),l={linkVersionBlackList:["canonical"],getLinkHref(){const e=document.querySelectorAll("link"),t=[];for(const o of e)t.push(o.href);return t},register(e){const t=this;let o=[];if(Array.isArray(e)){e.map((e=>(e.href||(e.href=""),e)));o=o.concat(e)}else"object"==typeof style?(e.href||(e.href=""),o.push(e)):"string"==typeof style&&o.push({href:e});const r=this.getLinkHref();o.forEach((e=>{const o=e;if(o.href=t.url(o.href),o.rel&&t.linkVersionBlackList.includes(o.rel)||(o.href=t.bind_version(o.href)),r.includes(o.href))"function"==typeof o.onload&&o.onload();else{const e=t.createHtmlTag("link",o),r=document.querySelector("head");r&&r.appendChild(e)}}))},url(e){let t=e;if(new RegExp(/(http|https):\/\//).test(t))return t;const{protocol:o,host:r}=window.location;return!(!o||!r)&&(t&&0!==t.indexOf("/")&&(t=`/${t}`),`${o}//${r}${t}`)},bind_version(e){let t=e;const{hostname:o}=window.location;if(-1!==t.indexOf(o))if(t=t.replace("[WEB_VER]",n),"dev"===n||"uat"===n){const e=document.createElement("a");e.href=t;const o=(0,a.UY)(e.search.substr(1));o.v=i,e.search=(0,a.tD)(o),t=e.href}else if(s){const e=document.createElement("a");e.href=t,e.host=s,t=e.href}return t},quick_bind_version(e){let t=e;return t=this.url(t),t=this.bind_version(t),t},createHtmlTag(e,t){const o=document.createElement(e);for(const r in t)o[r]=t[r];return o}}},51598:(e,t,o)=>{"use strict";o.d(t,{A:()=>a});const r={callbackStorage:{},init(){const e=this;e.storage||(e.storage=window.localStorage,window.addEventListener("storage",(t=>{const{key:o}=t;if(e.callbackStorage[o]){const t=e.get(o);e.callbackStorage[o](t)}})),e.clear_PPOldData())},set(e,t,o){const r=this;if(r.init(),o){t={...r.get(e,{}),...t}}return r.storage.setItem(e,JSON.stringify(t)),!0},push(e,t){let o=this.get(e,[]);return Array.isArray(o)||(o=[]),o.push(t),this.storage.setItem(e,JSON.stringify(o)),!0},get(e,t){this.init();let o=this.storage.getItem(e);return o?(o=JSON.parse(o),o):void 0!==t&&t},del(e){this.storage.removeItem(e)},listen(e,t){this.callbackStorage[e]=t},clear_PPOldData(){const e=this,t=new RegExp("timeline.[A-Z0-9_]{1,}.tmp","ig"),o=(new Date).getTime()-604800;let r=0;for(let a=0,n=localStorage.length;a<n;++a){const n=e.storage.key(a);if(t.test(n)){e.get(n).update_time<o&&(r+=1,e.del(n))}}}};r.init();const a=1829!=o.j?r:null},59092:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});const r={isTitleBarVisible:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.isTitleBarVisible&&window.webkit.messageHandlers.isTitleBarVisible.postMessage(e),getWebViewType:()=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.webviewType&&window.webkit.messageHandlers.webviewType.postMessage("webviewType"),refreshMyLearning:()=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.refreshMyLearning&&window.webkit.messageHandlers.refreshMyLearning.postMessage(""),refreshCard:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.refreshCard&&window.webkit.messageHandlers.refreshCard.postMessage(e),launchPage:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.launchPage&&window.webkit.messageHandlers.launchPage.postMessage(e),closeWebView:()=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.requestCloseWebView&&window.webkit.messageHandlers.requestCloseWebView.postMessage(""),launchDiscuss:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.launchDiscuss&&window.webkit.messageHandlers.launchDiscuss.postMessage(e),refreshWebViews:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.refreshWebViews&&window.webkit.messageHandlers.refreshWebViews.postMessage(e),launchCoinList:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.launchCoinList&&window.webkit.messageHandlers.launchCoinList.postMessage(e),sendingProjectControlItems:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.sendingProjectControlItems&&window.webkit.messageHandlers.sendingProjectControlItems.postMessage(e),sendingChatRoomInfo:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.sendingChatRoomInfo&&window.webkit.messageHandlers.sendingChatRoomInfo.postMessage(e),internalSafari:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.internalSafari&&window.webkit.messageHandlers.internalSafari.postMessage(e),buildInAppWebView:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.buildInAppWebView&&window.webkit.messageHandlers.buildInAppWebView.postMessage(e),facebookLogin:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.facebookLogin&&window.webkit.messageHandlers.facebookLogin.postMessage(e),cookieMessage:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.cookieMessage&&window.webkit.messageHandlers.cookieMessage.postMessage(e),sharingContent:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.sharingContent&&window.webkit.messageHandlers.sharingContent.postMessage(e),showSharingContent:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.showSharingContent&&window.webkit.messageHandlers.showSharingContent.postMessage(e),readArticleCompletely:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.readArticleCompletely&&window.webkit.messageHandlers.readArticleCompletely.postMessage(e),sendArticleData:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.sendArticleData&&window.webkit.messageHandlers.sendArticleData.postMessage(e),requestNativeLogin:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.requestNativeLogin&&window.webkit.messageHandlers.requestNativeLogin.postMessage(e),launchMessage:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.launchMessage&&window.webkit.messageHandlers.launchMessage.postMessage(e),clickingArticleAttaches:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.clickingArticleAttaches&&window.webkit.messageHandlers.clickingArticleAttaches.postMessage(e),triggerArticleFilter:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.triggerArticleFilter&&window.webkit.messageHandlers.triggerArticleFilter.postMessage(e),setWebStatus:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.setWebStatus&&window.webkit.messageHandlers.setWebStatus.postMessage(e),sendProjectData:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.sendProjectData&&window.webkit.messageHandlers.sendProjectData.postMessage(e),addTrackToPlaylist:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.addTrackToPlaylist&&window.webkit.messageHandlers.addTrackToPlaylist.postMessage(e),openBookChapters:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.openBookChapters&&window.webkit.messageHandlers.openBookChapters.postMessage(e),generateCertificate:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.generateCertificate&&window.webkit.messageHandlers.generateCertificate.postMessage(e),openMyLearning:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.openMyLearning&&window.webkit.messageHandlers.openMyLearning.postMessage(e),openLightBox:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.openLightBox&&window.webkit.messageHandlers.openLightBox.postMessage(e),recorderCommand:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.recorderCommand&&window.webkit.messageHandlers.recorderCommand.postMessage(e),videoFullscreen:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.videoFullscreen&&window.webkit.messageHandlers.videoFullscreen.postMessage(e),launchNativePimeo:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.launchNativePimeo&&window.webkit.messageHandlers.launchNativePimeo.postMessage(e),openExternalBrowser:e=>void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.openExternalBrowser&&window.webkit.messageHandlers.openExternalBrowser.postMessage(e)},a={isTitleBarVisible:e=>void 0!==window.AndroidJSRequest&&window.AndroidJSRequest.requestTitlebarVisibility(e),getWebViewType:()=>void 0!==window.AndroidJSTriggerWeb&&window.AndroidJSTriggerWeb.getWebViewType(),refreshMyLearning:()=>void 0!==window.AndroidJSMyLearning&&window.AndroidJSMyLearning.refreshMyLearning(),refreshCard:e=>void 0!==window.AndroidJSRequest&&window.AndroidJSRequest.requestRefreshCard(JSON.stringify(e)),launchPage:e=>void 0!==window.AndroidJSNative&&window.AndroidJSNative.launchPage(JSON.stringify(e)),closeWebView:()=>void 0!==window.AndroidJSRequest&&window.AndroidJSRequest.requestCloseWebView(),launchDiscuss:e=>void 0!==window.AndroidJSDiscuss&&window.AndroidJSDiscuss.launchDiscuss(JSON.stringify(e)),refreshWebViews:e=>void 0!==window.AndroidJSRequest&&window.AndroidJSRequest.requestRefreshWebViews(JSON.stringify(e)),launchCoinList:e=>void 0!==window.AndroidJSCoin&&window.AndroidJSCoin.launchCoinList(JSON.stringify(e)),sendManagement:e=>void 0!==window.AndroidJSProject&&window.AndroidJSProject.sendManagement(JSON.stringify(e)),sendChatInfo:e=>void 0!==window.AndroidJSChat&&window.AndroidJSChat.sendChatInfo(JSON.stringify(e)),launchInsideUrl:e=>void 0!==window.AndroidJSUrl&&window.AndroidJSUrl.launchInsideUrl(JSON.stringify(e)),launchOutsideUrl:e=>void 0!==window.AndroidJSUrl&&window.AndroidJSUrl.launchOutsideUrl(JSON.stringify(e)),loginFacebook:e=>void 0!==window.AndroidJSLogin&&window.AndroidJSLogin.loginFacebook(JSON.stringify(e)),setCookie:e=>void 0!==window.AndroidJSCookie&&window.AndroidJSCookie.setCookie(JSON.stringify(e)),enableShare:e=>void 0!==window.AndroidJSShare&&window.AndroidJSShare.enableShare(JSON.stringify(e)),launchShare:e=>void 0!==window.AndroidJSShare&&window.AndroidJSShare.launchShare(JSON.stringify(e)),readComplete:()=>void 0!==window.AndroidJSArticle&&window.AndroidJSArticle.readComplete(),sendArticleData:e=>void 0!==window.AndroidJSArticle&&window.AndroidJSArticle.sendArticleData(JSON.stringify(e)),launchLogin:e=>void 0!==window.AndroidJSLaunch&&window.AndroidJSLaunch.launchLogin(JSON.stringify(e)),launchCategory:e=>void 0!==window.AndroidJSHome&&window.AndroidJSHome.launchCategory(JSON.stringify(e)),launchMessage:e=>void 0!==window.AndroidJSMessage&&window.AndroidJSMessage.launchMessage(JSON.stringify(e)),clickingArticleAttaches:e=>void 0!==window.AndroidJSArticle&&window.AndroidJSArticle.launchAttached(JSON.stringify(e)),AndroidJSFilter:()=>void 0!==window.AndroidJSFilter&&window.AndroidJSFilter.hideArticleFilter(),setWebStatus:e=>void 0!==window.AndroidJSWebStatus&&window.AndroidJSWebStatus.setWebStatus(JSON.stringify(e)),sendProjectData:e=>void 0!==window.AndroidJSProject&&window.AndroidJSProject.sendProjectData(JSON.stringify(e)),addTrackToPlaylist:e=>void 0!==window.AndroidJSTrack&&window.AndroidJSTrack.addTrackToPlaylist(JSON.stringify(e)),openBookChapters:e=>void 0!==window.AndroidJSProject&&window.AndroidJSProject.openBookChapters(JSON.stringify(e)),generateCertificate:e=>void 0!==window.AndroidJSNative&&window.AndroidJSNative.generateCertificate(JSON.stringify(e)),openMyProject:e=>void 0!==window.AndroidJSProject&&window.AndroidJSProject.openMyProject(JSON.stringify(e)),openLightBox:e=>void 0!==window.AndroidJSNative&&window.AndroidJSNative.openLightBox(JSON.stringify(e)),recorderCommand:e=>void 0!==window.AndroidJSRecorder&&window.AndroidJSRecorder.recorderCommand(JSON.stringify(e)),requestPIPMode:e=>void 0!==window.AndroidJSRequest&&void 0!==window.AndroidJSRequest.requestPIPMode&&window.AndroidJSRequest.requestPIPMode(JSON.stringify(e)),videoStatus:e=>void 0!==window.AndroidJSRequest&&window.AndroidJSRequest.videoStatus(e),videoFullscreen:e=>void 0!==window.AndroidJSRequest&&void 0!==window.AndroidJSRequest.videoFullscreen&&window.AndroidJSRequest.videoFullscreen(e),launchNativePimeo:e=>void 0!==window.AndroidJSRequest&&void 0!==window.AndroidJSRequest.launchNativePimeo&&window.AndroidJSRequest.launchNativePimeo(JSON.stringify(e)),openExternalBrowser:e=>void 0!==window.AndroidJSUrl&&void 0!==window.AndroidJSUrl.openExternalBrowser&&window.AndroidJSUrl.openExternalBrowser(JSON.stringify(e))};let n=null;const i={openExternalBrowser(e){const t={url:"",...JSON.parse(JSON.stringify(e))};if("ios"===this.getAppType())r.openExternalBrowser(t)},launchNativePimeo(e){const t={currentTime:1,file_key:"",...JSON.parse(JSON.stringify(e))};switch(t.featureConfig={directory:!1,discuss:!1,timeline_mode:"normal",...t.featureConfig},this.getAppType()){case"ios":r.launchNativePimeo(t);break;case"android":a.launchNativePimeo(t)}},videoFullscreen(e){switch(this.getAppType()){case"ios":r.videoFullscreen(e);break;case"android":a.videoFullscreen(e)}},videoStatus(e){switch(this.getAppType()){case"ios":default:break;case"android":a.videoStatus(e)}},PIPModeAuto(e){switch(this.getAppType()){case"ios":default:break;case"android":a.requestPIPMode({autoEnable:e})}},PIPModeTrigger(){switch(this.getAppType()){case"ios":default:break;case"android":a.requestPIPMode({triggerPIP:!0})}},isTitleBarVisible(e){switch(this.getAppType()){case"ios":r.isTitleBarVisible(e);break;case"android":a.isTitleBarVisible(e)}},getWebViewType(){switch(this.getAppType()){case"ios":r.getWebViewType();break;case"android":a.getWebViewType()}},refreshMyLearning(){switch(this.getAppType()){case"ios":r.refreshMyLearning();break;case"android":a.refreshMyLearning()}},refreshCard(e){switch(this.getAppType()){case"ios":r.refreshCard(e);break;case"android":a.refreshCard(e)}},launchPage(e){switch(this.getAppType()){case"ios":r.launchPage(e);break;case"android":a.launchPage(e)}},sendProjectData(e){switch(this.getAppType()){case"ios":r.sendProjectData(e);break;case"android":a.sendProjectData(e)}},closeWebView(){switch(this.getAppType()||"ios"){case"ios":r.closeWebView();break;case"android":a.closeWebView()}},refreshWebViews(e){const t={all_refresh:!1,...JSON.parse(JSON.stringify(e))};switch(this.getAppType()||"ios"){case"ios":r.refreshWebViews(t);break;case"android":a.refreshWebViews(t)}},launchDiscuss(e){const t={type:"",project_id:"",timeline_key:"",channel_id:"",album_id:"",focus_discuss_id:"",...JSON.parse(JSON.stringify(e))};switch(this.getAppType()||"ios"){case"ios":r.launchDiscuss(t);break;case"android":a.launchDiscuss(t)}},launchCoinList(e){const t={reward:{reward_title:"",url:null,project_head_photo:""},amount:null,month:null,show_alert:!1,...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.launchCoinList(t);break;case"android":a.launchCoinList(t)}},readArticleCompletely(e){switch(this.getAppType()){case"ios":r.readArticleCompletely(e);break;case"android":a.readComplete(e)}},projectManagementItems(e){const t={items:[],...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.sendingProjectControlItems(t);break;case"android":a.sendManagement(t)}},clickingArticleAttaches(e){const t={type:"",url:"",project_id:"",article_id:"",attached_id:"",file_name:"",file_ext:"",watermark:!1,...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.clickingArticleAttaches(t);break;case"android":a.clickingArticleAttaches(t)}},sharingContent(e){const t={title:"",content:"",web_url:!1,...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.sharingContent(t);break;case"android":a.enableShare(t)}},showSharingContent(e){const t={title:"",content:"",web_url:!1,type:"url",image_url:!1,promo_text:!1,...e};switch(this.getAppType()){case"ios":r.showSharingContent(t);break;case"android":a.launchShare(t)}},sendArticleData(e){const t={project_id:"",article_id:"",is_collected:!1,click_count:0,collections_count:0,discuss_num:0,...JSON.parse(JSON.stringify(e))};switch(t.click_count=parseInt(t.click_count),t.collections_count=parseInt(t.collections_count),t.discuss_num=parseInt(t.discuss_num),this.getAppType()){case"ios":try{r.sendArticleData(t)}catch(o){}break;case"android":a.sendArticleData(t)}},setWebStatus(e){const t=this,o={current_url:"",...JSON.parse(JSON.stringify(e))};clearTimeout(n),n=setTimeout((()=>{switch(t.getAppType()){case"ios":try{r.setWebStatus(o)}catch(e){}break;case"android":a.setWebStatus(o)}}),100)},openMessageChannel(e){const t={type:"",target_id:"",channel_id:"",...JSON.parse(JSON.stringify(e))};switch(t.auto_data={text:"",send:!1,...t.auto_data},t.asking_data={code:"",subscribe_id:"",...t.asking_data},this.getAppType()){case"ios":!0===t.auto_data.send?t.auto_data.send="true":t.auto_data.send="false",r.launchMessage(t);break;case"android":a.launchMessage(t)}},openOutSideUrl(e){const t={url:"",transition_mode:"push",type:"default",...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.internalSafari(t);break;case"android":a.launchOutsideUrl(t)}},openInSideUrl(e){const t={url:"",transition_mode:"push",type:"default",...JSON.parse(JSON.stringify(e))};if(t.url){const e=document.createElement("a");e.href=t.url,t.url=e.href}switch(this.getAppType()){case"ios":r.buildInAppWebView(t);break;case"android":a.launchInsideUrl(t)}},openNativeLogin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={redirect_url:{url:"",title:""},launch_type:"",...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.requestNativeLogin(t);break;case"android":a.launchLogin(t)}},openAndroidCategory(e){const t={...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":default:break;case"android":if(!1===a.launchCategory(t))return!1}return!1},addTrackToPlaylist(e){const t={track:{file_key:"",track_source:"",album_id:"",timeline_key:"",...JSON.parse(JSON.stringify(e))}};switch(this.getAppType()){case"ios":r.addTrackToPlaylist(t);break;case"android":a.addTrackToPlaylist(t)}return!1},setCookie(e){const t={uid:"",session:"",...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.setCookie(t);break;case"android":a.setCookie(t)}},triggerArticleFilter(e){switch(this.getAppType()){case"ios":r.triggerArticleFilter(e);break;case"android":a.AndroidJSFilter()}},openBookChapters(e){const t={project_id:"",book_id:"",...JSON.parse(JSON.stringify(e))};switch(this.getAppType()){case"ios":r.openBookChapters(t);break;case"android":a.openBookChapters(t)}},generateCertificate(e){switch(this.getAppType()){case"ios":r.generateCertificate(e);break;case"android":a.generateCertificate(e)}},openMyProject(e){const t=JSON.parse(JSON.stringify(e));switch(this.getAppType()){case"ios":r.openMyLearning(t);break;case"android":a.openMyProject(t)}},isMobileApp(e){return!!this.getAppType(e)},openLightBox(e){switch(this.getAppType()){case"ios":r.openLightBox(e);break;case"android":a.openLightBox(e)}},recorderCommand(e){switch(this.getAppType()){case"ios":r.recorderCommand(e);break;case"android":a.recorderCommand(e)}},getAndroidJSList(e){const t=new RegExp("^AndroidJS"),o=Object.keys(window).filter((e=>t.test(e)));let r=[];return void 0===e?r=o:o.length>0&&o.some((t=>Object.keys(window[t]).some((o=>{const a=`${t}_${o}`;return-1!==a.indexOf(e)&&(r.push(a),!0)})))),r},getIOSList(e){let t=["refreshCard","launchPage","closeWebView","launchDiscuss","refreshWebViews","launchCoinList","sendingProjectControlItems","sendingChatRoomInfo","internalSafari","buildInAppWebView","facebookLogin","cookieMessage","sharingContent","showSharingContent","readArticleCompletely","sendArticleData","requestNativeLogin","launchMessage","clickingArticleAttaches","triggerArticleFilter","setWebStatus","sendProjectData","addTrackToPlaylist","openBookChapters","generateCertificate","openMyLearning","openLightBox","recorderCommand"];void 0!==e&&(t=[e]);const o=[];return void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&t.forEach((e=>{void 0!==window.webkit.messageHandlers[e]&&o.push(e)})),o},getAppType(e){let t=null;return this.getAndroidJSList(e).length>0?t="android":this.getIOSList(e).length>0&&(t="ios"),t},openInSideUrlAndClose(e){const t=this;t.openInSideUrl(e),setTimeout((()=>{t.closeWebView()}),500)},AppUserAgentData(){const{userAgent:e}=window.navigator,t=["PIMEO"],o={};return[...e.matchAll(/(?<key>[A-Z-]{1,})\/(?<value>[\w.\-,]{1,})/gi)].forEach((e=>{const{key:r}=e.groups;let{value:a}=e.groups;t.includes(r)&&(a=a.split(",")),o[r]=a})),o}}},14614:(e,t,o)=>{"use strict";o.d(t,{A:()=>a}),window.ppNativeTrigger={};const r={list:[],bind(e,t,o){window.ppNativeTrigger[e]=t,r.list.push({name:e,func:t,from:o})}};window.pp_native_trigger_list=()=>r.list;const a=1829!=o.j?function(e,t,o){let a=t;"function"!=typeof a&&(a=function(){}),r.bind(e,a,o)}:null},90238:(e,t,o)=>{"use strict";o.d(t,{A:()=>c});var r=o(51988),a=o.n(r),n=o(72983);const i={template:"popup_notice",outerClassName:"notice",icon:"",title:"",html:"",img:"",imgWidth:"50px",clickOuterClose:!1,showConfirmButton:!1,showCancelButton:!1,buildDone:!1,showDone:!1,closeDone:!1,confirmButtonText:"確定",cancelButtonText:"取消",blurDomTarget:"#appBox",zIndex:!1},s={target:"body",$el:null,className:{popupWrapper:"popupV2-wrapper",popupMain:"popupV2-main"},template:{popup_div:'<div class="{className}"></div>',popup_notice:'\n            <div class="popupV2-notice-box {outerClassName}">\n                <div class="popupV2-notice-wrapper">\n                    <div class="popupV2-icon-wrapper">\n                        <div class="popupV2-icon {icon}">\n                            <img class="popupV2-img" src="{img}" style="width: {imgWidth};">\n                        </div>\n                    </div>\n                    <div class="popupV2-title-wrapper">\n                        {title}\n                    </div>\n                    <div class="popupV2-desc-wrapper">\n                        {html}\n                    </div>\n                </div>\n                <div class="popupV2-button-wrapper">\n                    <div\n                        id="popupV2-btn-cancel"\n                        aria-label="popupV2-btn-cancel"\n                        class="popupV2-button-item pp-cancel"\n                    >{cancelButtonText}</div>\n                    <div\n                        id="popupV2-btn-confirm"\n                        aria-label="popupV2-btn-confirm"\n                        class="popupV2-button-item pp-confirm"\n                    >{confirmButtonText}</div>\n                </div>\n            </div>\n        '},init(){const e=this;n.A.register([{rel:"stylesheet",type:"text/css",href:"public/[WEB_VER]/css/page/commonV2/popupV2.css"}]),e.$el=a()(e.target),e.create_wrapper(),e.create_main()},create_wrapper(){const e=this;0===e.$el.find(`.${e.className.popupWrapper}`).length&&e.$el.append(e.getTemplate("popup_div",{className:e.className.popupWrapper})),e.popupWrapper=e.$el.find(`.${e.className.popupWrapper}`)},create_main(){const e=this;0===e.$el.find(`.${e.className.popupWrapper} .${e.className.popupMain}`).length&&e.$el.find(`.${e.className.popupWrapper}`).append(e.getTemplate("popup_div",{className:e.className.popupMain})),e.popupMain=e.$el.find(`.${e.className.popupMain}`),e.popupMain.css({display:"none"})},create_main_info(e,t,o){const r=this;r.popupMain.empty();let n=JSON.parse(JSON.stringify(i));n={...n,...e};let s="";s="popup_notice"===e.template?r.getTemplate("popup_notice",{icon:n.icon,title:n.title,html:n.html,img:n.img,imgWidth:n.imgWidth,confirmButtonText:n.confirmButtonText,cancelButtonText:n.cancelButtonText,outerClassName:n.outerClassName,zIndex:n.zIndex}):n.html,r.popupMain.html(s),"popup_notice"===e.template&&r.create_notice_box(e),r.popupMain.find(".pp-confirm").length>0&&r.popupMain.find(".pp-confirm").unbind("click").bind("click",(e=>{"function"==typeof t&&t(e),r.close()})),r.popupMain.find(".pp-cancel").length>0&&r.popupMain.find(".pp-cancel").unbind("click").bind("click",(e=>{"function"==typeof o&&o(e),r.close()})),r.popupMain.find(".pp-close").length>0&&r.popupMain.find(".pp-close").unbind("click").bind("click",(()=>{r.close()})),r.popupMain.data({blurdomtarget:n.blurDomTarget}),a()("body").addClass("popupV2-lock-scroll"),a()(r.popupMain.data("blurdomtarget")).addClass("popupV2-blur"),"function"==typeof n.buildDone&&n.buildDone(r.popupMain),r.popupMain.data("config",n),r.show(n)},create_notice_box(e){const t=this;e.img||t.popupMain.find(".popupV2-img").remove(),e.icon||e.img||t.popupMain.find(".popupV2-icon-wrapper").remove(),e.title||t.popupMain.find(".popupV2-title-wrapper").remove(),e.html||t.popupMain.find(".popupV2-desc-wrapper").remove(),e.showConfirmButton||e.showCancelButton?(e.showConfirmButton||t.popupMain.find(".popupV2-button-wrapper .pp-confirm").remove(),e.showCancelButton||t.popupMain.find(".popupV2-button-wrapper .pp-cancel").remove()):t.popupMain.find(".popupV2-button-wrapper").remove()},processTimer:null,action(e,t,o){const r=this;r.init(),r.popupMain&&r.popupMain.is(":visible")?(clearTimeout(r.processTimer),r.processTimer=setTimeout((()=>{r.create_main_info(e,t,o)}),500)):(r.popupMain.hide(),r.create_main_info(e,t,o))},show(e){const t=this;if(t.popupWrapper.stop(!0,!0).fadeIn(),t.popupMain.stop(!0,!0).fadeIn(500),"function"==typeof e.showDone&&e.showDone(t.popupMain),e.zIndex&&e.zIndex>0&&t.popupWrapper.attr("style",`z-index:${e.zIndex}`),e.clickOuterClose){const e=()=>{t.close()};t.popupMain.unbind("click").bind("click",(e=>{e.stopPropagation()})),t.popupWrapper.one("click",e)}else t.popupWrapper.unbind("click");a()(window).unbind("resize",t.checkScrollAndSize).bind("resize",t.checkScrollAndSize).trigger("resize")},close(){const e=this;clearTimeout(e.processTimer),e.processTimer=setTimeout((()=>{clearTimeout(e.processTimer),e.popupWrapper.stop(!0,!0).fadeOut(),e.popupMain.stop(!0,!0).fadeOut(500),a()(e.popupMain.data("blurdomtarget")).removeClass("popupV2-blur"),a()("body").removeClass("popupV2-lock-scroll"),a()(window).unbind("resize",e.checkScrollAndSize);const t=e.popupMain.data("config");"function"==typeof t.closeDone&&t.closeDone()}),10)},checkScrollAndSize(){s.popupMain.height()>=a()(window).height()?s.popupWrapper.addClass("top"):s.popupWrapper.removeClass("top")},getTemplate(e,t){let o=this.template[e]||"";for(const r in t)switch(r){case"icon":o=t.img?o.replace(`{${r}}`,""):o.replace(`{${r}}`,t[r]);break;case"img":o=t.img?o.replace(`{${r}}`,t[r]):o.replace(`{${r}}`,"");break;case"imgWidth":o=t.imgWidth?o.replace(`{${r}}`,t[r]):o.replace(`{${r}}`,"");break;default:o=o.replace(`{${r}}`,t[r])}return o},isOpen(){return!!this.popupMain&&this.popupMain.is(":visible")}},l={notice:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"icon icon_bell",html:"提示",outerClassName:"notice",showConfirmButton:!0,showCancelButton:!1,...e},s.action(r,t,o)},warning:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"icon icon_warning_circle",html:"警告",outerClassName:"warning",showConfirmButton:!0,showCancelButton:!1,...e},s.action(r,t,o)},success:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"icon icon_check_circle",html:"完成",outerClassName:"success",showConfirmButton:!1,showCancelButton:!1,...e},s.action(r,t,o)},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"icon icon_trash",html:"刪除",outerClassName:"warning",showConfirmButton:!0,showCancelButton:!0,...e},s.action(r,t,o)},info:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"",html:"提示",outerClassName:"notice",showConfirmButton:!1,showCancelButton:!1,clickOuterClose:!0,...e},s.action(r,t,o)},loading:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(e.confirmButtonText||t)&&(e.showConfirmButton=!0),(e.cancelButtonText||o)&&(e.showCancelButton=!0);let r=JSON.parse(JSON.stringify(i));r={...r,icon:"",img:"/public/img/layout/popup/popupV2-loading.svg",imgWidth:"60px",html:"處理中",outerClassName:"notice",showConfirmButton:!1,showCancelButton:!1,clickOuterClose:!1,...e},s.action(r,t,o)},customize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r={...i,template:"",icon:"",html:"",showConfirmButton:!1,showCancelButton:!1,...e};s.action(r,t,o)},close:function(){s.close()},isOpen:()=>{s.isOpen()}},c=1829!=o.j?l:null},47799:(e,t,o)=>{"use strict";o.d(t,{A:()=>T});var r=o(21684),a=o.n(r),n=o(55103),i=o.n(n),s=o(11141),l=o.n(s),c=o(62297),d=o.n(c),p=o(65939),u=o(70383);const m=u.A.get("COOKIE_CONFIG"),g=u.A.get("IS_PP_AUTO_CACHE")||!1,h=u.A.get("LOG_CONFIG.PP_PANEL_DEBUG"),f=u.A.get("LOG_CONFIG.PP_PANEL_DENY")||!1,b=u.A.get("IS_APP")?l().get("DeviceID"):"",y=u.A.get("IS_FALLOUT")||!1,v=u.A.get("USER_IP")||"",w=u.A.get("IS_GOOGLE_BOT",!1)||!1,_=(u.A.get("APP_DEVICE"),l().get("ppPanel_tracker")||""),k=new(i())({api_host:u.A.get("LOG_CONFIG.PP_PANEL_URL"),token:u.A.get("LOG_CONFIG.PP_PANEL_TOKEN"),debug:h});window.referrer_url="",window.resetReferrerUrl=function(e){window.referrer_url=e,k.setReferrer(e)};const P=k.get_salt(),S={};Object.keys(m).forEach((e=>{S[e.toLowerCase()]=m[e]})),l().set("salt",P,S),window.ppPanel=k,window.ppPanel.time_event("page_view");const C=[];let N=null;const A={identify:"",member_id:"",view_id:(0,p.$f)(15),page_id:"",data:null,user_ip:v};w&&(A.is_google_bot=!0);const M={module_init:!1,data:A,waitFunc:[],init:e=>{M.data={...M.data,...e},M.module_init=!0,M.actWaitFunc()},pageView:(e,t)=>{if(_&&t&&t.project_id&&_===d()(t.project_id)&&(M.data.pp_track={...t}),M.data.page_id=e,N=t,!1===y){k.resetPageStartTime(),M.track("page_view",t);const e=u.A.get("ppPanelTrack",!1);e&&M.track("ppPanel_track",e)}},pageAction_View:e=>{!1===y&&M.track(e,N)},pageAction:(e,t,o)=>{o&&(t={...t,...N}),!1===y&&M.track(e,t)},actWaitFunc:()=>{M.waitFunc.length>=0&&(M.waitFunc.forEach((e=>{e()})),M.waitFunc=[])},track:(e,t)=>{if(f)return!1;const o=()=>{const o={...M.data,data:t};g||window.ppPanel.track(e,o,((e,t)=>{}))};return M.data.identify?o():M.waitFunc.push(o),!0},forceSend(){k.forceSend()}};window.addEventListener("beforeunload",(()=>{M.pageAction_View("page_close")}),!1),window.addEventListener("focus",(()=>{M.pageAction_View("page_focus")}),!1),window.addEventListener("blur",(()=>{M.pageAction_View("page_blur")}),!1),a().get({detectScreenOrientation:!0},(e=>{let t=e.filter((e=>!C.includes(e.key))).map((e=>e.value));t.push(P),t=t.join("|");const o=b||a().x64hash128(t,31);window.ppPanel.identify(o);const r={identify:o,member_id:u.A.get("MemberInfo.member_id")||"",view_id:(0,p.$f)(20),pp_device_id:b};if(u.A.get("PP_REDIRECT_URL")){let e=u.A.get("PP_REDIRECT_URL"),t="";if(0===e.indexOf("app/"))t="app/";else{const o=document.createElement("a");o.href=e,e=o.href,t=o.host}r.Referrer=e,r["Referring Domain"]=t}M.init(r)}));const T=1829!=o.j?M:null},65939:(e,t,o)=>{"use strict";o.d(t,{$f:()=>D,Ay:()=>H,UY:()=>z,mf:()=>F,tD:()=>J,uR:()=>G});var r=o(70383),a=o(51988);const n=r.A.get("CURRENCY_MAPPING"),i=r.A.get("VWO_AB_TEST"),s={VALUE_CREATED:"created",VALUE_UPDATED:"updated",VALUE_DELETED:"deleted",VALUE_UNCHANGED:"unchanged",map(e,t){if(this.isFunction(e)||this.isFunction(t))throw"Invalid argument. Function given, object expected.";if(this.isValue(e)||this.isValue(t))return{type:this.compareValues(e,t),data:void 0===e?t:e};const o={};for(const r in e){if(this.isFunction(e[r]))continue;let a;void 0!==t[r]&&(a=t[r]),o[r]=this.map(e[r],a)}for(const r in t)this.isFunction(t[r])||void 0!==o[r]||(o[r]=this.map(void 0,t[r]));return o},compareValues(e,t){return e===t||this.isDate(e)&&this.isDate(t)&&e.getTime()===t.getTime()?this.VALUE_UNCHANGED:void 0===e?this.VALUE_CREATED:void 0===t?this.VALUE_DELETED:this.VALUE_UPDATED},isFunction:e=>"[object Function]"==={}.toString.apply(e),isArray:e=>"[object Array]"==={}.toString.apply(e),isDate:e=>"[object Date]"==={}.toString.apply(e),isObject:e=>"[object Object]"==={}.toString.apply(e),isValue(e){return!this.isObject(e)&&!this.isArray(e)}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let r=0;r<e;r+=1)o+=t.charAt(Math.floor(62*Math.random()));return o},c=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},d=e=>{const t=parseFloat(e).toFixed(2);return t.endsWith(".00")?c(parseInt(t)):c(parseFloat(t))},p=function(e){if(Array.isArray(e))return e;const t={};let o;const r=[];for(o in e)e.hasOwnProperty(o)&&r.push(o);for(r.sort(),o=0;o<r.length;o+=1)t[r[o]]=e[r[o]];return t},u=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=p(e);const r=[];let a;for(a in e)if(e.hasOwnProperty(a)){let n=a;t&&(n=o?`${t}.${a}`:`${t}[${a}]`);const i=e[a];r.push(null!==i&&"object"==typeof i?u(i,n,o):`${encodeURIComponent(n)}=${encodeURIComponent(i)}`)}return r.join("&")},m=e=>{const t=Object.keys(e);t.forEach((t=>{"object"==typeof e[t]&&(e[t]=m(e[t]))}));return t.every(((e,t)=>`${e}`==`${t}`))&&(e=Object.values(e)),e},g=function(e){let t={};if(!e)return t;if(e.includes("%")&&(e=decodeURI(e)),(!e.includes("[")||!e.includes("]"))&&e.includes(".")){const t=new URLSearchParams(e).entries(),o=[];[...t].forEach((e=>{let[t,r]=e;const a=t.split(".").map(((e,t)=>0===t?e:`[${e}]`)).join("");o.push(`${a}=${encodeURIComponent(r)}`)})),e=o.join("&")}if(e.includes("%")&&(e=decodeURI(e)),e){t=[...new URLSearchParams(e).entries()].reduce(((e,t)=>{let[o,r]=t;const a=[...o.matchAll(/\[(?<subKey>.*?)\]/gi)],n=[],i=o.split("[")[0];n.push(i),a.length>0&&a.forEach((e=>{n.push(e.groups.subKey)}));let s=e;return n.forEach(((e,t)=>{t===n.length-1?s[e]=r:(void 0===s[e]&&(s[e]={}),s=s[e])})),e}),{})}return t=m(t),t=p(t),t},h=function(e){let t=e;t=t.split(" ").join("-"),t=t.replace(/ [A-Za-z0-9!-~]/g,(e=>String.fromCharCode(e.charCodeAt(0)-65248)));return t=t.replace(/[^\u4E00-\u9FFF\u3400-\u4DFF\uF900-\uFAFF0-9A-Za-z]/g,""),t.length>8&&(t=`${t.substr(0,8)}~`),t},f=function(e){return h(e)},b=/(https?:\/\/[\w-\.]+(:\d+)?(\/[(\w\/\.\u3000-\u303F\u4e00-\u9fa5\u0080-\uFFEF\+\-%~)]*)?(\?\S*)?(#\S*)?)/g,y=function(e){return e.match(b)},v=function(e){const t=document.createElement("a");return t.href=e,t.href},w=function(e,t){for(const o in t){const r=new RegExp(`{${o}}`,"ig"),a=e;(e=e.replace(r,t[o]))!==a&&delete t[o]}return t&&Object.keys(t).length>0&&(e+=`?${u(t)}`),e},_=function(e){return a("<textarea/>").html(e).text()},k=function(e,t){if(null==e)return"";const o=t||void 0===t?"<br />":"<br>";return`${e}`.replace(/(\r\n|\n\r|\r|\n|#10)/g,`${o}`)},P=function(e){const t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),r=parseInt(e-3600*t-60*o),a=[];return a.push(`00${r}`.slice(-2)),a.push(`00${o}`.slice(-2)),!isNaN(t)&&t>0&&a.push(t),a.reverse().join(":")},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t&&"object"==typeof t&&0!==t.length||(t=["url"]),t.forEach((t=>{switch(t){case"url":e=e.replace(b,(e=>`<a class="word-wrap js-outsite-link" href="${v(e)}" target="_blank">${e}</a>`));break;case"nl2br":e=k(e)}})),e},C=function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()},N=function(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()},A=function(e){return e.replace(/([-_][a-z])/g,(e=>e.toUpperCase().replace("-","").replace("_","")))},M=function(){let e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?o:3&o|8).toString(16)}))},T=function(e){const t=window.location.search.substring(1);return g(t)[e]||!1},E=function(e){const t=document.createElement("div");t.innerHTML=e;for(let o=t.childNodes,r=o.length;r--;)if(1===o[r].nodeType)return!0;return!1},I=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},B=function(e){const t=document.createElement("div");return t.innerHTML=e,t},j=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(void 0===e)return console.error(`Not Setting ${e}...`),"";if(e in n){const{value:o,symbol:r}=n[e];return`${o}${r} ${c(t)}`}return c(t)},L=(e,t)=>{if(e>=100)return"全折抵";const o=100-e;let r="";const a=Math.floor(o/10),n=o%10;return a>0&&(r+=a),n>0&&(r+=r?n:n/10),r&&t&&(r+="折"),r},O=function(e){let{percent:t,price:o,currency:r}=e,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t&&"number"!=typeof t&&!o&&"number"!=typeof o)return console.error("Not Setting discount_price or discount_percent ..."),"";if(void 0===r)return console.error(`Not Setting ${r}...`),"";if(!t&&o){const e=i?"- ":"";if(r in n){const{value:t,symbol:a}=n[r];return`${e}${t}${a} ${c(o)}`}return`${e}${c(o)}`}return t?a?L(t,s):`${t}% off`:""},V=e=>{const t=`vwo_${e}`;return-1!==i.indexOf(t)&&t},$={deepDiffMapper:s,getRandomString:l,formatMoney:c,formatMoneyV2:d,sortObject:p,object2QueryStr:u,getJsonFromUrl:g,keywordRemover:f,urlKeywordRemover:h,getUrlFromContent:y,formatUrlByParams:w,htmlEntityDecode:_,nl2br:k,formatSecond:P,formatContent:S,camelToSnake:C,camelToKebab:N,snakeToCamel:A,uuid:M,getQueryVariable:T,isHTML:E,capitalize:I,stringToHTML:B,validURL:j,currencyToSymbol:x,discountPresent:O,chineseDiscount:L,validateVWOTestNum:V},D=1829!=o.j?l:null,F=p,J=u,z=g,G=1829!=o.j?M:null,H=1829!=o.j?$:null},50104:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});o(29566),o(51988),o(65939);var r=o(72983);const a={custom_class:"",offset:{top:0,right:0,bottom:0,left:0},startCallback:null,closeCallback:null,stepCallback:null,clickOuterClose:!1,buttonLang:{next:"下一步",skip:"跳過",iKnow:"我知道了"}},n={key:"",target:"",title:"",intro:"",beforeAction:null,afterAction:null,clickAction:null,confirmAction:null,confirmText:"",cancelAction:null,cancelText:"",element:null};const i=1829!=o.j?function(e,t){const o=this;let i=[],s={};const l=`tutorial_${function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let r=0;r<e;r+=1)o+=t.charAt(Math.floor(62*Math.random()));return o}(20)}`;let c=!1,d=!1,p=null,u=null,m=null,g=null;const h=document.querySelector("body"),f="tutorial-relative",b="tutorial-box",y="tutorial-mask",v="tutorial-intro",w="tutorial-intro-wrapper",_="tutorial-intro-box",k="tutorial-intro-box-title",P="tutorial-intro-box-content",S="tutorial-intro-box-tools",C="tutorial-intro-box-tools-pager",N="tutorial-intro-box-tools-current",A="tutorial-intro-box-tools-total",M="tutorial-intro-box-tools-skip",T="tutorial-intro-box-tools-next",E="tutorial-intro-arrow",I={tutorial_box:"\n            <div class='{tutorialBox} {outerClassName}' ref='{tutorialKey}'>\n            </div>\n        ",tutorial_mask_box:"\n            <div class='{tutorialMask}'>\n            </div>\n        ",tutorial_intro_box:"\n            <div class='{tutorialIntro}' direction=\"center\">\n                <div class=\"{tutorialIntroWrapper}\">\n                    <div class=\"{tutorialIntroArrow}\">\n                    </div>\n                    <div class='{tutorialIntroBox}'>\n                        <div class='{tutorialIntroBoxTitle}'></div>\n                        <div class='{tutorialIntroBoxContent}'></div>\n                        <div class='{tutorialIntroBoxTools}'>\n\n\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ",tutorial_intro_pager:"\n            <div class='{tutorialIntroBoxToolsPager}'>\n                <span class='{tutorialIntroBoxToolsPagerCurrent}'>{CurrentNumber}</span> / <span class='{tutorialIntroBoxToolsPagerTotal}'>{TotalNumber}</span>\n            </div>\n        ",tutorial_intro_skip:"\n            <div class='{tutorialIntroBoxToolsSkip}'>\n                {skip}\n            </div>\n        ",tutorial_intro_next:"\n            <div class='{tutorialIntroBoxToolsNext}'>\n                {next}\n            </div>\n        "};!async function(){new Promise(((e,t)=>{r.A.register([{rel:"stylesheet",type:"text/css",href:"public/[WEB_VER]/css/page/commonV2/tutorial.css",onload(){e()}}])}))}();const B=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},j=function(e){const t=window.getComputedStyle(e,null),o=O(e);return"none"===t.display||"hidden"===t.visibility||0===o.width&&0===o.height},x=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];if(!o.length)return e;const a=o.shift();if(B(e)&&B(a))for(const n in a)B(a[n])?(e[n]||Object.assign(e,{[n]:{}}),x(e[n],a[n])):Object.assign(e,{[n]:a[n]});return x(e,...o)};this.setConfig=function(e){s=x({},a,s,{...e})},this.setSteps=function(e){let t=[];if(Array.isArray(e))e.forEach(((o,r)=>{const a={...n,...o,element:L(o.target)};""===a.confirmText&&(r===e.length-1?a.confirmText=s.buttonLang.iKnow:a.confirmText=s.buttonLang.next),""===a.cancelText&&(a.cancelText=s.buttonLang.skip),t.push(a)}));else if("object"==typeof list){const o={...n,...e,element:L(e.target)};""===o.confirmText&&(o.confirmText=s.buttonLang.iKnow),""===o.cancelText&&(o.cancelText=s.buttonLang.skip),t.push(o)}else{let o=null;Node.prototype.isPrototypeOf(e)?(o=[],o.push(e)):NodeList.prototype.isPrototypeOf(e)?o=e:"string"==typeof e&&(o=document.querySelectorAll(e));const r=[];(NodeList.prototype.isPrototypeOf(o)||Array.isArray(o))&&o.forEach((e=>{const t=e.dataset.key||e.id||"";let o=parseInt(e.dataset.order||999999999999);Number.isInteger(o)||(o=999999999999),r.push({...n,element:e,key:t,order:o})})),r.sort(((e,t)=>e.order>t.order?1:e.order===t.order?0:-1)),t=r}t=t.map(((e,t)=>(e.index=t,e))),i=t};const L=function(e){let t=null;return e&&(Node.prototype.isPrototypeOf(e)?t=e:"string"==typeof e&&(t=document.querySelector(e.trim()),t&&j(t)&&(t=null))),t},O=function(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,bottom:t.top+t.height+window.scrollY,right:t.left+t.width+window.scrollX,width:t.width,height:t.height,windowY:window.scrollY,windowX:window.scrollX,centerX:t.left+t.width/2,centerY:t.top+t.height/2}},V=function(){return{top:window.scrollY+(s.offset.top||0),left:window.scrollX+(s.offset.left||0),bottom:window.scrollY+window.innerHeight-(s.offset.bottom||0),right:window.scrollX+window.innerWidth-(s.offset.right||0),w:window.innerWidth-(s.offset.right||0),h:window.innerHeight-(s.offset.bottom||0),centerX:window.scrollX+window.innerWidth/2,centerY:window.scrollY+window.innerHeight/2}},$=e=>{e.stopPropagation()};let D=null;const F=e=>{clearTimeout(D),D=setTimeout((()=>{switch(e.code){case"ArrowRight":case"ArrowDown":case"Space":G();break;case"ArrowLeft":case"ArrowUp":H();break;case"Escape":s.clickOuterClose&&o.close()}}),100)},J=function(e,t){const o=function(e,t){let o=I[e]||"";for(const r in t)o="icon"===r&&t.img?o.replace(`{${r}}`,""):o.replace(`{${r}}`,t[r]);return o}(e,t).trim(),r=document.createElement("template");r.innerHTML=o;return r.content.firstChild},z=function(){let e=document.querySelector(`.${b}[ref='${l}']`);return e||(e=J("tutorial_box",{tutorialKey:l,outerClassName:s.custom_class,tutorialBox:b}),h.append(e)),e},G=()=>{const e=function(){c+1<i.length?o.run(c+1):o.close()};"function"==typeof d.confirmAction?d.confirmAction(e):e()},H=()=>{c-1>=0&&o.run(c-1)},R=()=>{const e=function(){o.close()};"function"==typeof d.cancelAction?d.cancelAction(e):e()},q=()=>{o.close()},U=()=>{if(d&&"function"==typeof d.clickAction){const e=z();d.clickAction(d.element,e,(()=>{c+1<i.length?o.run(c+1):o.close()}))}},W=function(e,t,o,r){return new Promise(((t,a)=>{if(o.classList.remove("show"),e.element&&j(e.element)&&(e.element=null),!e.element&&e.target&&(e.element=L(e.target)),o.setAttribute("direction","center"),o.removeAttribute("style"),o.querySelector(`.${E}`).removeAttribute("style"),r.removeAttribute("style"),e.element){const t=function(e,t){const o=h.offsetHeight-30,r=V(),a=O(e),n=O(t),i={};if(r.bottom<a.top)i.top=r.top+(a.bottom-r.bottom);else if(r.bottom>a.bottom&&r.top<a.top);else{let e=!1;a.bottom+n.height>o&&(e=!0),i.top=e?a.top-r.h+a.height+10+(s.offset.bottom||0):a.top-10-(s.offset.top||0)}return window.scroll(i),O(e)}(e.element,o);r.style.width=`${t.width+4}px`,r.style.height=`${t.height+4}px`,r.style.top=t.top-t.windowY-2+"px",r.style.left=t.left-t.windowX-2+"px",r.classList.remove("show-empty"),r.classList.add("show"),r.removeEventListener("click",U,!1),r.classList.remove("pointer"),"function"==typeof e.clickAction&&(r.addEventListener("click",U,!1),r.classList.add("pointer"))}else r.classList.remove("show"),r.classList.add("show-empty");t()}))},Y=function(){if(!1!==c){const e=z(),t=i[c];(async function(){var o,r;await(o=t,r=e,new Promise(((e,t)=>{"function"==typeof o.afterAction?o.afterAction(o.element,r,(()=>{e()})):e()})))})()}},Q=function(){clearTimeout(p),p=setTimeout((()=>{o.run(c)}),50)},X=function(){clearInterval(m),clearTimeout(u),Y();const e=z();e&&e.remove(),h.classList.remove(f),window.removeEventListener("resize",Q,!1),document.removeEventListener("keydown",F,!1),"function"==typeof s.closeCallback&&s.closeCallback(g,i[c]),c=!1,d=!1};return this.run=function(e){clearTimeout(u),window.removeEventListener("resize",Q,!1),document.removeEventListener("keydown",F,!1),u=setTimeout((()=>{window.addEventListener("resize",Q,!1),document.addEventListener("keydown",F,!1),h.classList.add(f),!1!==c?Y():g={};let t=0;Number.isInteger(e)?t=e:"string"==typeof e&&(t=i.findIndex((t=>t.key===e))),(t<0||i.length<=t)&&(t=0);let o=!1;if(i[t]){const{element:e,beforeAction:r,afterAction:a,clickAction:n,confirmAction:s,confirmText:l,cancelAction:c,cancelText:p,key:u,target:m,title:g,intro:h}=i[t];o={element:e,beforeAction:r,afterAction:a,clickAction:n,confirmAction:s,confirmText:l,cancelAction:c,cancelText:p,index:t,key:u,target:m,title:g,intro:h},d=o}if(o){const e=z(),t=function(e){let t=e.querySelector(`.${y}`);return t||(t=J("tutorial_mask_box",{tutorialMask:y}),t.addEventListener("click",$,!1),e.append(t)),t}(e),r=function(e){let t=e.querySelector(`.${v}`);return t||(t=J("tutorial_intro_box",{tutorialIntro:v,tutorialIntroBox:_,tutorialIntroWrapper:w,tutorialIntroArrow:E,tutorialIntroBoxTitle:k,tutorialIntroBoxContent:P,tutorialIntroBoxTools:S,tutorialIntroBoxToolsPager:C,tutorialIntroBoxToolsPagerCurrent:N,tutorialIntroBoxToolsPagerTotal:A,tutorialIntroBoxToolsSkip:M,tutorialIntroBoxToolsNext:T}),t.addEventListener("click",$,!1),e.append(t)),t}(e);void 0===g[o.index]&&(g[o.index]=0),!1===c&&("function"==typeof s.startCallback&&s.startCallback(e,i),m=setInterval((()=>{!1!==c&&(g[c]+=1)}),1e3)),c=o.index;(async function(){var a,n;await(a=o,n=e,new Promise(((e,t)=>{"function"==typeof a.beforeAction?a.beforeAction(a.element,n,(()=>{e()})):e(),n.removeEventListener("click",q,!1),s.clickOuterClose&&n.addEventListener("click",q,!1)}))),await function(e,t,o){return new Promise(((o,r)=>{let a={key:e.key||"",title:e.title,intro:e.intro};!e.element&&e.target&&(e.element=L(e.target)),Node.prototype.isPrototypeOf(e.element)&&(a={...a,...e.element.dataset}),a.key?t.setAttribute("key",a.key):t.removeAttribute("key"),t.querySelector(`.${k}`).innerHTML=a.title,t.querySelector(`.${P}`).innerHTML=a.intro;const n=t.querySelector(`.${S}`);if(n.innerHTML="",i.length>1){const t=J("tutorial_intro_pager",{tutorialIntroBoxToolsPager:C,tutorialIntroBoxToolsPagerTotal:A,CurrentNumber:e.index+1,TotalNumber:i.length});n.append(t)}if(e.cancelText){const t=J("tutorial_intro_skip",{tutorialIntroBoxToolsSkip:M,skip:e.cancelText});t.addEventListener("click",R,!1),n.append(t)}if(e.confirmText){const t=J("tutorial_intro_next",{tutorialIntroBoxToolsNext:T,next:e.confirmText});t.addEventListener("click",G,!1),n.append(t)}t.querySelector(`.${_}`).classList.add("show"),o()}))}(o,r),await W(o,0,r,t),await function(e,t,o){return new Promise(((r,a)=>{if(e.element){const e=V(),r=O(o);r.top-=r.windowY,r.left-=r.windowX,r.bottom-=r.windowY,r.right-=r.windowY;const a=O(t);a.top-=a.windowY,a.left-=a.windowX,a.bottom-=a.windowY,a.right-=a.windowX;const n={},i=16;let s="center";r.bottom+a.height+i<e.h?(n.top=r.bottom+i,n.left=r.left,s="top"):r.top-a.height-i>0?(n.top=r.top-a.height-i,n.left=r.left,s="bottom"):r.centerX>e.w/2?(n.top=r.top,n.left=r.left-a.width-i,s="right"):(n.top=r.top,n.left=r.left+r.width+i,s="left"),n.top+a.height+i>e.h&&(n.top=e.h-a.height-i),n.top<i&&(n.top=i),n.left+a.width+i>e.w&&(n.left=e.w-a.width-i),n.left<i&&(n.left=i),t.setAttribute("direction",s),t.style.top=`${n.top}px`,t.style.left=`${n.left}px`;const l=O(t);l.top-=l.windowY,l.bottom-=l.windowY,l.left-=l.windowX,l.right-=l.windowX;const c={},d=t.querySelector(`.${E}`);if(["left","right"].includes(s)){c.top=r.centerY-l.top-d.clientHeight/2;const e=l.bottom-l.top-i-2*d.clientWidth;c.top>e&&(c.top=e)}else{c.left=r.centerX-l.left-d.clientWidth/2;const e=l.right-l.left-i-2*d.clientWidth;c.left>e&&(c.left=e)}for(const t in c)d.style[t]=`${c[t]}px`}else t.setAttribute("direction","center");r()}))}(o,r,t)})(),"function"==typeof s.stepCallback&&s.stepCallback(e,o)}else X()}),100)},this.close=function(){X()},this.setConfig(t),this.setSteps(e),this}:null},13717:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>d,rb:()=>c});var r=o(70383);r.A.get("API_CONFIG.WEB_HOST");const a=r.A.get("API_CONFIG.APP_HOST"),n=r.A.get("API_CONFIG.CC_HOST"),i=function(e){const t=document.createElement("a");t.href=e;const o=document.createElement("a");return o.href="/",t.host=o.host,t.href},s=function(e){const t=document.createElement("a");return t.href=e,t.host=n,t.href},l={pp_url:i,app_pp_url:function(e){const t=document.createElement("a");return t.href=e,t.host=a,t.href},cc_url:s},c=8669==o.j?s:null,d=1829!=o.j?l:null},23231:(e,t,o)=>{"use strict";o.d(t,{A:()=>u});var r=o(59092),a=o(70383),n=o(65939),i=(o(90238),o(42637)),s=o.n(i);const l=a.A.get("API_CONFIG.CC_HOST"),c={article:"/project/([0-9A-Z]{32,})/articles/([0-9A-Z]{32,})",message:"/message(.*)",project_type:"/project(\\?.*)?$",project_vipp:"/project/([0-9A-Z]{32,})/vipp",project_articles:"/project/([0-9A-Z]{32,})/articles",member_projects:"/member/learning/projects(/)?$",member_project:"^/member/learning/projects/([0-9A-Z]{32,})(/)?(/articles|/assignment|/club|/theme_book)?$",member_articles:"/member/learning/projects/([0-9A-Z]{32,})/articles$"},d=["file.pressplay.cc","audio.pressplay.cc","video.pressplay.cc","help.pressplay.cc","events.pressplay.cc"],p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return s()(e,s().HTML5_FMT.DATETIME_LOCAL_SECONDS).format(t)},u={urlRegex:c,excludeHost:d,open:function(e){let{obj:t,data:o}=e;if(a=t,("object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName)||function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(t))if(!d.includes(t.host)&&t.host.includes("pressplay.cc")){const{host:e}=window.location;t.host!==l&&(t.host=e);const{pathname:a,search:i}=t;switch(function(e){let t="";for(const o in c)if(new RegExp(c[o],"ig").test(e.trim())){t=o;break}return t}(`${a}${i}`)){case"article":{const e={url:t.href,type:"article"};r.A.openInSideUrl(e);break}case"message":{const{member_id:e}=o;if(!e)return;const t=a.split("/"),s=(0,n.UY)(i.split("?").pop()),l={};if("message"===t[1]){const{project_id:t,tab:o}=s;let{trans_id:r}=s;switch(r&&(r=r.split("_")),o){case"project":if(l.type="project",l.target_id=t,r){const[e,t]=r;l.check_channel={type:"P2M",id:t}}break;case"person":if(l.type="member",l.target_id=e,r){const[e,t]=r;if("p"===e)l.check_channel={type:"M2P",id:t};else l.check_channel={type:"M2M",id:t}}}}else{const{type:o,id:r}=s;switch(t[1]){case"project":switch(l.type="project",l.target_id=t[4],o){case"user":case"member":l.check_channel={type:"P2M",id:r}}break;case"member":switch(l.type="member",l.target_id=e,o){case"project":l.check_channel={type:"M2P",id:r};break;case"user":case"member":l.check_channel={type:"M2M",id:r}}}}s.auto_data&&(l.auto_data=s.auto_data),s.asking_data&&(l.asking_data=s.asking_data),r.A.openMessageChannel(l);break}case"project_type":{const{member_id:e,...t}=o,{type:a,project_type_name:n}=t,i={page_id:"view_project_type",data:{project_type_id:a,project_type_name:n}};r.A.launchPage(i);break}case"project_articles":case"project_vipp":{const{member_id:e,...t}=o,{project_title:l,project_config:c}=t;let{project_id:d}=t;const u=(0,n.UY)(i.split("?").pop());let m=null;if(Object.keys(u).length>0&&(m=(e=>{const{startMonth:t,endMonth:o,reward_ids:r,tags:a,categories:i,keyword:l,sort_direction:c,page:d,mode:u}=e,m={};return t&&(m.date||(m.date={}),m.date.start=p(t,"YYYY-MM"),m.date.start=s()(m.date.start,s().HTML5_FMT.DATETIME_LOCAL_SECONDS).startOf("months").format("YYYY-MM-DD")),o&&(m.date||(m.date={}),m.date.end=p(o,"YYYY-MM"),m.date.end=s()(m.date.end,s().HTML5_FMT.DATETIME_LOCAL_SECONDS).endOf("months").format("YYYY-MM-DD")),r&&(m.reward_ids=r.split(",")),a&&(m.tags=a.split(",")),i&&(m.categories=i.split(",")),l&&(m.keyword=l.trim()),c&&(m.sort_by="desc"===c?"newest":"asc"===c?"oldest":"correlation"),d&&(m.page=parseInt(d)),u&&(m.mode=u.toString()),(0,n.mf)(m)})(u)),!d){d=a.split("/")[2]}const g={page_id:"view_project_timelines",data:{project_id:d,project_title:l,filter:m}};r.A.launchPage(g);break}case"member_articles":case"member_project":case"member_projects":case"member":{const{member_id:e,...t}=o,{project_id:a,source:n}=t,i={project_id:a||null,source:n};r.A.openMyProject(i);break}default:{const e={url:t.href,type:"default"};r.A.openInSideUrl(e);break}}}else{const e={url:t.href,type:"default"};r.A.openOutSideUrl(e)}var a}}},74560:(e,t,o)=>{"use strict";o.d(t,{A:()=>Ot});var r=o(61055),a=(o(58865),o(6496));const n={ref:"osTarget",class:"os-host"},i=(e=>((0,a.pushScopeId)("data-v-70a86e89"),e=e(),(0,a.popScopeId)(),e))((()=>(0,a.createElementVNode)("div",{class:"os-resize-observer-host"},null,-1))),s={class:"os-padding"},l={class:"os-viewport"},c={class:"os-content"},d=(0,a.createStaticVNode)('<div class="os-scrollbar os-scrollbar-horizontal" data-v-70a86e89><div class="os-scrollbar-track" data-v-70a86e89><div class="os-scrollbar-handle" data-v-70a86e89></div></div></div><div class="os-scrollbar os-scrollbar-vertical" data-v-70a86e89><div class="os-scrollbar-track" data-v-70a86e89><div class="os-scrollbar-handle" data-v-70a86e89></div></div></div><div class="os-scrollbar-corner" data-v-70a86e89></div>',3);var p=o(52999),u=o.n(p);o(43970);const m={name:"OverlayScrollbars",components:{},props:{options:{type:Object,default:()=>({}),required:!1},extensions:{type:[String,Array,Object],default:()=>({}),required:!1}},emits:[],setup(e,t){let{emit:o}=t;const r=(0,a.ref)(null),n=(0,a.ref)(null),i=(0,a.computed)((()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)),s=(0,a.computed)((()=>i.value?"3px":"7px")),l=(0,a.computed)((()=>i.value?"7px":"11px")),c=(0,a.computed)((()=>i.value?"3px":"2px"));return(0,a.watch)((()=>e.options),((e,t)=>{u().valid(n.value)&&n.value.options(e)})),(0,a.onBeforeMount)((()=>{u().defaultOptions({className:"os-theme-dark pp-theme-dark"})})),(0,a.onMounted)((()=>{n.value=u()(r.value,e.options,e.extensions)})),(0,a.onBeforeUnmount)((()=>{u().valid(n.value)&&(n.value.destroy(),n.value=null)})),{osTarget:r,osInstance:n,base:s,hover:l,padding:c}}},g=()=>{(0,a.useCssVars)((e=>({ce8932ca:e.padding,f5b80ef2:e.base,"1fb60e46":e.hover})))},h=m.setup;m.setup=h?(e,t)=>(g(),h(e,t)):g;const f=m;o(73653);var b=o(2912);const y=(0,b.A)(f,[["render",function(e,t,o,r,p,u){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[i,(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",c,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])])]),d],512)}],["__scopeId","data-v-70a86e89"]]),v={key:0,class:"pp-breadcrumb-item",itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},w=["textContent"],_=["content"],k={key:1,class:"pp-breadcrumb-item is-active",itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},P=["textContent"],S=["href"],C=["content"];var N=o(89590),A=o(36657);const M=A.a2.get("IS_APP"),T={name:"PpBreadcrumb",components:{},props:{spa:{type:Boolean,default:!1}},data:()=>({IS_APP:M}),computed:{...(0,N.mapGetters)([]),...(0,N.mapState)(["breadcrumbList","routerChange"]),formatBreadcrumbList(){const e=this;let t=[{title:"首頁",url:"/"}];return e.breadcrumbList.length>0&&(t=e.breadcrumbList),t}},watch:{},created(){},mounted(){const e=document.querySelector('script[type="application/ld+json"]#breadcrumb_list');e&&e.remove()},updated(){},unmounted(){},methods:{...(0,N.mapActions)({}),...(0,N.mapMutations)({}),breadcrumbPPPanel(e){A.zT.pageAction("breadcrumb_click",{...e},!0)},checkIsRouterUrl(e){if(this.$router){const{name:t}=this.$router.resolve(e);if(t)return!0}return!1}}},E=(0,b.A)(T,[["render",function(e,t,o,r,n,i){const s=(0,a.resolveComponent)("pp-router-link");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("nav",{style:(0,a.normalizeStyle)({display:n.IS_APP?"none":void 0})},[(0,a.createElementVNode)("ol",{class:"pp-breadcrumb",itemscope:"",itemtype:"https://schema.org/BreadcrumbList",style:(0,a.normalizeStyle)({opacity:e.routerChange?.5:1})},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.formatBreadcrumbList,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:`breadcrumb_${o}`},[o!==e.breadcrumbList.length-1?((0,a.openBlock)(),(0,a.createElementBlock)("li",v,[(0,a.createVNode)(s,{to:t.url,itemprop:"item",onClick:e=>i.breadcrumbPPPanel(t)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",{itemprop:"name",textContent:(0,a.toDisplayString)(t.title)},null,8,w)])),_:2},1032,["to","onClick"]),(0,a.createElementVNode)("meta",{itemprop:"position",content:o+1},null,8,_)])):((0,a.openBlock)(),(0,a.createElementBlock)("li",k,[(0,a.createElementVNode)("span",{itemprop:"name",textContent:(0,a.toDisplayString)(t.title)},null,8,P),(0,a.createElementVNode)("a",{itemprop:"item",href:t.url},null,8,S),(0,a.createElementVNode)("meta",{itemprop:"position",content:o+1},null,8,C)]))],64)))),128))],4)],4)),[[a.vShow,!n.IS_APP]])}]]),I=["href"],B=["href"];var j=o(11999),x=o(42637),L=o.n(x),O=o(56158);const V=parseInt(L()(A.a2.get("API_CONFIG.PP-SERVER-TIME")).format("x"))+18e5,$=A.a2.get("API_CONFIG.CC_HOST"),D={name:"PpRouterLink",components:{},inheritAttrs:!1,props:{to:{type:[String,Object],default:()=>"",required:!0},replace:{type:Boolean,default:!1,required:!1},custom:{type:Boolean,default:!1,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},ariaCurrentValue:{type:String,default:"page",required:!1,validator:e=>["page","step","location","date","time","true","false"].includes(e)},forceLink:{type:Boolean,default:!1,required:!1},lock:{type:Boolean,default:!1,required:!1},otherAppData:{type:Object,default(){},required:!1},callNativeView:{type:Boolean,default:!0,required:!1}},emits:[],setup(e,t){let{emit:o,attrs:r}=t;const n=(0,N.useStore)(),i=(0,j.useRouter)(),{isLogin:s,member_id:l}=(0,O.vz)(),c=(0,a.ref)(null),d=(0,a.ref)(null),p=(0,a.ref)(V),u=(0,a.readonly)(["file.pressplay.cc","audio.pressplay.cc","video.pressplay.cc","help.pressplay.cc",$,"gitbook.pressplay.cc","events.pressplay.cc"]),m=(0,a.computed)((()=>n.state.ppServerTime)),g=(0,a.computed)((()=>n.state.GlobalArticleCards)),h=(0,a.computed)((()=>n.getters.RouterFacebookPixel)),f=(0,a.computed)((()=>n.getters.RouterGaId)),b=(0,a.computed)((()=>{const{hostname:t}=window.location;return"string"==typeof e.to&&/^https?:\/\//.test(e.to)&&(!e.to.includes("pressplay.cc")||e.to.includes("pressplay.cc")&&u.map((t=>e.to.includes(t))).some((e=>e)))&&!e.to.includes(`${t}`)})),y=(0,a.computed)((()=>{const t=document.createElement("a");t.href=e.to;const{hash:o,host:r,hostname:a,href:n,origin:i,pathname:s,port:l,protocol:c}=t;return{hash:o,host:r,hostname:a,href:n,origin:i,pathname:s,port:l,protocol:c}})),v=(0,a.computed)((()=>{let t="";const{hostname:o}=y.value;return"string"==typeof e.to&&(t=e.to),"object"==typeof e.to&&e.to.path&&(t=e.to.path),b.value?t:(t=t.replace(/^https?:\/\//,"").replace(o,""),""===t?"/":t)})),w=(0,a.computed)((()=>{const t=Object.keys(e).reduce(((t,o)=>(Object.keys(j.RouterLink.props).includes(o)&&(t[o]=e[o]),t)),{});return e.custom?{...t,to:v.value}:{...t,...r,to:v.value}})),_=(0,a.computed)((()=>p.value<m.value)),k=(0,a.computed)((()=>e.lock||"string"==typeof e.to&&""===e.to||void 0===e.to)),P=(0,a.computed)((()=>{if(e.forceLink||A.Vp.isMobileApp()&&e.callNativeView||_.value||void 0===i)return!0;if("string"==typeof e.to){const{name:e,params:t}=i.resolve(v.value);if(!e)return!0;if(h.value||f.value){let e="";return t.project_id?e=t.project_id:t.timeline_key&&g.value[t.timeline_key]&&(e=g.value[t.timeline_key].project_id),!1!==h.value&&h.value.project_id!==e||!1!==f.value&&f.value.project_id!==e}}return!1})),S=e=>{e.classList.contains("js-insite-link")&&e.classList.remove("js-insite-link"),e.classList.contains("js-outsite-link")&&e.classList.remove("js-outsite-link")};return(0,a.onMounted)((()=>{A.Vp.isMobileApp()&&(c.value.$el?S(c.value.$el):S(c.value))})),{el:c,isExternalLink:b,isForceLock:k,isForceALink:P,computedPath:v,computedBind:w,linkClick:t=>{if(P.value&&A.Vp.isMobileApp()&&e.callNativeView&&!k.value){t.preventDefault();const o={obj:c.value,data:{member_id:l.value}};if(void 0!==i){const{params:e,query:t}=i.resolve(v.value);e&&(o.data={...o.data,...e}),t&&(o.data={...o.data,...t})}e.otherAppData&&(o.data={...o.data,...e.otherAppData}),clearTimeout(d.value),d.value=setTimeout((()=>{A.Sm.open(o)}),300)}}}}},F=(0,b.A)(D,[["render",function(e,t,o,r,n,i){const s=(0,a.resolveComponent)("router-link");return r.isForceLock?((0,a.openBlock)(),(0,a.createElementBlock)("div",(0,a.mergeProps)({key:0,ref:"el"},e.$attrs),[(0,a.renderSlot)(e.$slots,"default")],16)):r.isExternalLink?((0,a.openBlock)(),(0,a.createElementBlock)("a",(0,a.mergeProps)({key:1,ref:"el"},e.$attrs,{href:o.to,target:"_blank",onClick:t[0]||(t[0]=function(){return r.linkClick&&r.linkClick(...arguments)})}),[(0,a.renderSlot)(e.$slots,"default")],16,I)):r.isForceALink?((0,a.openBlock)(),(0,a.createElementBlock)("a",(0,a.mergeProps)({key:2,ref:"el"},e.$attrs,{href:o.to,onClick:t[1]||(t[1]=function(){return r.linkClick&&r.linkClick(...arguments)})}),[(0,a.renderSlot)(e.$slots,"default")],16,B)):o.custom?((0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({key:3,ref:"el"},r.computedBind,{custom:""}),{default:(0,a.withCtx)((t=>{let{href:o,route:n,navigate:i,isActive:s,isExactActive:l}=t;return[(0,a.renderSlot)(e.$slots,"default",(0,a.normalizeProps)((0,a.guardReactiveProps)({href:o,route:n,navigate:i,isActive:s,isExactActive:l,$attrs:e.$attrs,linkClick:r.linkClick})))]})),_:3},16)):((0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({key:4,ref:"el"},r.computedBind,{onClick:r.linkClick}),{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default")])),_:3},16,["onClick"]))}]]),J=[(0,a.createElementVNode)("div",null,null,-1),(0,a.createElementVNode)("div",null,null,-1),(0,a.createElementVNode)("div",null,null,-1)];const z={name:"PpDotLoading",components:{},props:{size:{type:Number,default:16,required:!1},color:{type:String,default:"",required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{style:(0,a.computed)((()=>{const t={};return e.size&&(t["--dot-width"]=`${e.size}px`),e.color&&(t["--dot-color"]=`${e.color}`),t}))}}},G=(0,b.A)(z,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"pp-dot-loading",style:(0,a.normalizeStyle)(r.style)},J,4)}]]);var H=o(34982);const R={name:"PpButtonGroup",components:{},props:{direction:{type:String,default:"row",required:!1,validator:e=>["row","column"].includes(e)},block:{type:Boolean,default:!1,required:!1},combine:{type:Boolean,default:!1,required:!1},wrap:{type:Boolean,default:!1,required:!1},size:{type:String,default:"",required:!1,validator:e=>["","sm","md","lg","xlg","xxlg","xxxlg"].includes(e)}},emits:[],setup(e,t){let{emit:o}=t;const r=(0,a.computed)((()=>e.block));(0,a.provide)("block",r);const n=(0,a.computed)((()=>e.size));(0,a.provide)("size",n);return{className:(0,a.computed)((()=>[`pp-button-group-${e.direction}`,e.size?`pp-button-group-${e.size}`:"",e.combine?"pp-button-group-combine":"",e.block?"pp-button-group-block":"",e.wrap?"pp-button-group-wrap":""]))}}},q=(0,b.A)(R,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["pp-button-group",r.className])},[(0,a.renderSlot)(e.$slots,"default")],2)}]]),U={key:1,class:"pp-chip-img"},W=["data-src"],Y=[(0,a.createElementVNode)("i",{class:"icon icon_x"},null,-1)],Q={key:0,class:"pp-chip-close"};const X={name:"PpChip",components:{},props:{tag:{type:String,default:"div",required:!1},fill:{type:String,default:"fill",required:!1,validator:e=>["fill","outline"].includes(e)},size:{type:String,default:"md",required:!1,validator:e=>["md","lg","xlg"].includes(e)},color:{type:String,default:"black",required:!1,validator:e=>["primary","black","mask"].includes(e)},type:{type:String,default:"default",required:!1,validator:e=>["default","image"].includes(e)},link:{type:Boolean,default:!1,required:!1},active:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:void 0,required:!1},close:{type:Boolean,default:!1,required:!1},image:{type:String,default:"",required:!1},iconColor:{type:String,default:void 0,required:!1},maxWidth:{type:String,default:void 0,required:!1}},emits:["close"],setup(e,t){let{emit:o}=t;const{lazyImg:r}=(0,O.Yj)(),n=(0,a.ref)(null),i=(0,a.inject)("size",!1),s=(0,a.computed)((()=>[`pp-chip-${e.color}`,i.value?`pp-chip-${i.value}`:`pp-chip-${e.size}`,`pp-chip-${e.fill}`,"image"===e.type?"pp-chip-image":"pp-chip",e.active?"pp-chip-active":""])),l=(0,a.computed)((()=>e.disabled||e.active?{"--max-width":e.maxWidth?e.maxWidth:void 0}:{"--max-width":e.maxWidth,"--icon-color":e.iconColor?e.iconColor:void 0,"--active-icon-color":e.iconColor?e.iconColor:void 0}));return(0,a.onMounted)((()=>{"image"===e.type&&""!==e.image&&r(n.value)})),{el:n,className:s,style:l,closeClick:()=>{o("close")}}}},K=(0,b.A)(X,[["render",function(e,t,o,r,n,i){return o.link?(0,a.renderSlot)(e.$slots,"default",{key:1,className:r.className,imgClassName:"pp-chip-img",imgCloseName:"pp-chip-close",active:o.active,disabled:o.disabled?"disabled":void 0,close:o.close}):((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(o.tag),{key:0,ref:"el",role:"button",class:(0,a.normalizeClass)(r.className),disabled:o.disabled?"disabled":void 0,style:(0,a.normalizeStyle)(r.style)},{default:(0,a.withCtx)((()=>["default"===o.type?(0,a.renderSlot)(e.$slots,"icon-start",{key:0}):((0,a.openBlock)(),(0,a.createElementBlock)("div",U,[(0,a.createElementVNode)("img",{class:"lazyload","data-src":o.image},null,8,W)])),(0,a.createElementVNode)("span",null,[(0,a.renderSlot)(e.$slots,"default")]),o.close?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:2,class:"pp-chip-close",onClick:t[0]||(t[0]=(0,a.withModifiers)((function(){return r.closeClick&&r.closeClick(...arguments)}),["prevent","stop"]))},Y)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:3},[e.$slots["icon-end"]?((0,a.openBlock)(),(0,a.createElementBlock)("span",Q,[(0,a.renderSlot)(e.$slots,"icon-end")])):(0,a.createCommentVNode)("",!0)],64))])),_:3},8,["class","disabled","style"]))}]]);const Z={name:"PpChipGroup",components:{},props:{wrap:{type:Boolean,default:!1,required:!1},size:{type:String,default:"",required:!1,validator:e=>["","md","lg","xlg"].includes(e)}},emits:[],setup(e,t){let{emit:o}=t;const r=(0,a.computed)((()=>e.size));(0,a.provide)("size",r);return{className:(0,a.computed)((()=>[e.size?`pp-chip-group-${e.size}`:"",e.wrap?"pp-chip-group-wrap":""]))}}},ee=(0,b.A)(Z,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["pp-chip-group",r.className])},[(0,a.renderSlot)(e.$slots,"default")],2)}]]);const te={name:"PpTextLink",components:{},props:{tag:{type:String,default:"span",required:!1},size:{type:String,default:"md",required:!1,validator:e=>["sm","md","lg"].includes(e)},color:{type:String,default:"primary",required:!1,validator:e=>["primary","secondary","black","white","red"].includes(e)},link:{type:Boolean,default:!1,required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>["pp-text-link",`pp-text-link-${e.color}`,`pp-text-link-${e.size}`]))}}},oe=(0,b.A)(te,[["render",function(e,t,o,r,n,i){return o.link?(0,a.renderSlot)(e.$slots,"default",{key:1,className:r.className}):((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(o.tag),{key:0,class:(0,a.normalizeClass)(r.className)},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"icon-start"),(0,a.createElementVNode)("span",null,[(0,a.renderSlot)(e.$slots,"default")]),(0,a.renderSlot)(e.$slots,"icon-end")])),_:3},8,["class"]))}]]);var re=o(22335);const ae=["id"],ne={ref:"bottomsheetContainer",class:"pp-bottom-sheet-container"},ie={class:"pp-bottom-sheet-header"},se={key:1,class:"pp-bottom-sheet-space"},le=["textContent"],ce=(0,a.createElementVNode)("i",{class:"icon icon_x"},null,-1),de={key:1,class:"pp-bottom-sheet-space"},pe={class:"pp-bottom-sheet-notice"},ue=["body-scroll-lock-ignore"],me={key:1,class:"pp-bottom-sheet-footer"},ge={key:0,class:"pp-bottom-sheet-link"},he=["textContent"],fe={class:"pp-bottom-sheet-buttons"};var be=o(29566),ye=o(91872);const ve={name:"PpBottomSheet",components:{},props:{id:{type:String,default:void 0,required:!0},trigger:{type:[Boolean,Number],default:!1,required:!1},clickOutsideClose:{type:Boolean,default:!0,required:!1},footerFlag:{type:Boolean,default:!0,required:!1},closeButtonFlag:{type:Boolean,default:!1,required:!1},title:{type:String,default:"標題",required:!1},divide:{type:Boolean,default:!1,required:!1},cancelButtonFlag:{type:Boolean,default:!0,required:!1},cancelButtonText:{type:String,default:"取消",required:!1},cancelButtonLoading:{type:Boolean,default:!1,required:!1},cancelButtonDisabled:{type:Boolean,default:!1,required:!1},confirmButtonFlag:{type:Boolean,default:!0,required:!1},confirmButtonText:{type:String,default:"確定",required:!1},confirmButtonLoading:{type:Boolean,default:!1,required:!1},confirmButtonDisabled:{type:Boolean,default:!1,required:!1},linkUrl:{type:String,default:"",required:!1},linkText:{type:String,default:"",required:!1},redirectLink:{type:Boolean,default:!1,required:!1},text:{type:String,default:"",required:!1},paddingFlag:{type:Boolean,default:!0,required:!1},bar:{type:Boolean,default:!1,required:!1},round:{type:Boolean,default:!1,required:!1},fullscreen:{type:Boolean,default:!1,required:!1}},emits:["update:trigger","open","close","cancel","confirm"],setup(e,t){let{emit:o}=t;const{customerServiceHide:r,customerServiceShow:n}=(0,O.fq)(),i=(0,a.ref)(null),s=(0,a.ref)(null),l=(0,a.ref)(null),c=(0,a.ref)(!1),d=(0,a.ref)(void 0),p=(0,a.ref)(0),u=(0,a.ref)(0),m=(0,a.ref)(0),g=(0,a.ref)(0),h=(0,a.ref)(0),f=(0,a.ref)(0),b=(0,a.ref)(0),y=(0,a.ref)(!1),v=(0,a.ref)(null),w=(0,ye.pnh)(m,{duration:350,transition:ye.ylt.easeOutExpo}),_=(0,ye.pnh)(u,{duration:350,transition:ye.ylt.easeOutExpo}),k=(0,a.computed)((()=>[e.divide?"pp-bottom-sheet-divide":"",e.round&&!e.fullscreen&&h.value>0?"pp-bottom-sheet-round":"",e.fullscreen?"pp-bottom-sheet-fullscreen":""])),P=(0,a.computed)((()=>({"--translate-y":`${_.value}px`,"--scale-y":`${Math.max(0,w.value)}px`,"--vh":0!==g.value?`${g.value}px`:"1vh"}))),S=(0,a.computed)((()=>e.linkText&&e.linkUrl||e.cancelButtonFlag||e.confirmButtonFlag)),C=()=>{g.value=.01*window.innerHeight},N=()=>{p.value=0,u.value=0,f.value=0,b.value=0},A=async()=>{N(),c.value=!0,o("open"),await(0,a.nextTick)(),(0,be.mh)(l.value,{allowTouchMove:e=>{for(;e&&e!==document.body;){if(null!==e.getAttribute("body-scroll-lock-ignore"))return!0;e.parentElement&&(e=e.parentElement)}}}),r(),C(),window.addEventListener("resize",C),await(0,a.nextTick)(),h.value=s.value.offsetTop},M=()=>{c.value=!1,o("close"),o("update:trigger",!1),(0,be.fY)(l.value),n(),window.removeEventListener("resize",C),clearTimeout(v.value),v.value=setTimeout((()=>{N()}),500)};(0,a.watch)((()=>e.trigger),((e,t)=>{e&&!c.value&&A()})),(0,a.onBeforeUnmount)((()=>{(0,be.qY)(),c.value&&M()}));const T=t=>{t.cancelable&&t.preventDefault(),e.bar&&y.value&&(t instanceof window.MouseEvent||t instanceof MouseEvent?b.value=t.pageY:b.value=t.touches[0].pageY,f.value-b.value<0?u.value=f.value-b.value:f.value-b.value>0&&s.value.offsetTop>0?u.value=.3*(f.value-b.value):u.value=0,m.value=Math.ceil(.3*(f.value-b.value)))},E=t=>{t.preventDefault(),e.bar&&(y.value=!1,-1*(f.value-b.value)>.2*p.value?M():u.value=0,m.value=0,window.removeEventListener("mousemove",T),window.removeEventListener("touchmove",T),window.removeEventListener("mouseup",E),window.removeEventListener("touchend",E))};return{bottomsheet:i,bottomsheetContainer:s,bottomsheetContent:l,flag:c,bodyScrollLockIgnoreFlag:d,className:k,style:P,offsetTop:h,footerContentFlag:S,reset:N,open:A,close:M,cancel:()=>{e.cancelButtonLoading||e.cancelButtonDisabled||o("cancel",{close:M})},confirm:()=>{e.confirmButtonLoading||e.confirmButtonDisabled||o("confirm",{close:M})},onTouchMousedown:t=>{t.preventDefault(),e.bar&&(p.value=s.value.getBoundingClientRect().height,t instanceof window.MouseEvent||t instanceof MouseEvent?f.value=t.pageY:f.value=t.touches[0].pageY,y.value=!0,window.addEventListener("mousemove",T,{passive:!1}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("mouseup",E),window.addEventListener("touchend",E))},onTouchMousemove:T,onTouchMouseup:E}}},we=(0,b.A)(ve,[["render",function(e,t,o,r,n,i){const s=(0,a.resolveComponent)("pp-button"),l=(0,a.resolveComponent)("pp-router-link");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app-dialog-bottomsheet",disabled:!r.flag},[(0,a.createElementVNode)("div",{ref:"bottomsheet",class:(0,a.normalizeClass)(["pp-bottom-sheet",[r.className,e.$attrs.class]]),id:o.id,style:(0,a.normalizeStyle)(r.style)},[(0,a.createVNode)(a.Transition,{name:"pp-bottom-sheet-background",appear:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"pp-bottom-sheet-background",onClick:t[0]||(t[0]=(0,a.withModifiers)((e=>o.clickOutsideClose?r.close():null),["stop"]))},null,512),[[a.vShow,r.flag]])])),_:1}),(0,a.createVNode)(a.Transition,{name:"pp-bottom-sheet-container",appear:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",ne,[o.bar?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"pp-bottom-sheet-bar",onMousedown:t[1]||(t[1]=(0,a.withModifiers)((function(){return r.onTouchMousedown&&r.onTouchMousedown(...arguments)}),["stop"])),onTouchstart:t[2]||(t[2]=(0,a.withModifiers)((function(){return r.onTouchMousedown&&r.onTouchMousedown(...arguments)}),["stop"]))},null,32)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",ie,[e.$slots["header-front-button"]?(0,a.renderSlot)(e.$slots,"header-front-button",{key:0,close:r.close}):((0,a.openBlock)(),(0,a.createElementBlock)("div",se)),(0,a.createElementVNode)("div",{class:"pp-bottom-sheet-title",textContent:(0,a.toDisplayString)(o.title)},null,8,le),(0,a.renderSlot)(e.$slots,"header-end-button",{close:r.close},(()=>[o.closeButtonFlag?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,fill:"none",color:"black",type:"icon",circle:!0,size:"md",onClick:(0,a.withModifiers)(r.close,["stop"])},{default:(0,a.withCtx)((()=>[ce])),_:1},8,["onClick"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",de))]))]),(0,a.createElementVNode)("div",pe,[(0,a.renderSlot)(e.$slots,"notice")]),(0,a.createElementVNode)("div",{ref:"bottomsheetContent",id:"pp-dialog-bottomsheet-content",class:"pp-bottom-sheet-content","body-scroll-lock-ignore":r.bodyScrollLockIgnoreFlag,style:(0,a.normalizeStyle)([o.paddingFlag?void 0:{padding:0}])},[(0,a.renderSlot)(e.$slots,"default",{close:r.close})],12,ue),o.footerFlag&&r.footerContentFlag?((0,a.openBlock)(),(0,a.createElementBlock)("div",me,[o.linkText&&o.linkUrl?((0,a.openBlock)(),(0,a.createElementBlock)("div",ge,[(0,a.createVNode)(l,{to:o.linkUrl,target:!!o.redirectLink&&"_blank"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.linkText),1)])),_:1},8,["to","target"])])):o.text?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"pp-bottom-sheet-text",textContent:(0,a.toDisplayString)(o.text)},null,8,he)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",fe,[o.cancelButtonFlag?(0,a.renderSlot)(e.$slots,"cancel",{key:0,close:r.close},(()=>[(0,a.createVNode)(s,{fill:"outline",color:"secondary",size:"lg",loading:o.cancelButtonLoading,disabled:o.cancelButtonDisabled,onClick:(0,a.withModifiers)(r.cancel,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.cancelButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,a.createCommentVNode)("",!0),o.confirmButtonFlag?(0,a.renderSlot)(e.$slots,"confirm",{key:1,close:r.close},(()=>[(0,a.createVNode)(s,{fill:"fill",color:"primary",size:"lg",loading:o.confirmButtonLoading,disabled:o.confirmButtonDisabled,onClick:(0,a.withModifiers)(r.confirm,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.confirmButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)],512),[[a.vShow,r.flag]])])),_:3})],14,ae)],8,["disabled"])}]]);const _e={name:"PpDialogBottomsheet",components:{},inheritAttrs:!1,props:{},emits:["open","close","cancel","confirm"],setup(e,t){let{emit:o,attrs:r}=t;const{isMobile:n}=(0,O.iy)(),i=(0,a.ref)(""),s=(0,a.computed)((()=>""!==i.value?i.value:n.value?"pp-bottom-sheet":"pp-dialog")),l=(0,a.computed)((()=>"pp-bottom-sheet"===s.value?Object.keys(r).reduce(((e,t)=>(["size"].includes(t)||(e[t]=r[t]),e)),{}):"pp-dialog"===s.value?Object.keys(r).reduce(((e,t)=>(["bar","round","fullscreen"].includes(t)||(e[t]=r[t]),e)),{}):r));return{component:i,componentName:s,componentAttrs:l,openCallback:()=>{o("open"),n.value?i.value="pp-bottom-sheet":i.value="pp-dialog"},closeCallback:()=>{o("close"),i.value=""},cancelCallback:e=>{let{close:t}=e;o("cancel",{close:t})},confirmCallback:e=>{let{close:t}=e;o("confirm",{close:t})}}}},ke=(0,b.A)(_e,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(r.componentName),(0,a.mergeProps)(r.componentAttrs,{onOpen:r.openCallback,onClose:r.closeCallback,onCancel:r.cancelCallback,onConfirm:r.confirmCallback}),{"header-front-button":(0,a.withCtx)((t=>{let{close:o}=t;return[(0,a.renderSlot)(e.$slots,"header-front-button",{close:o})]})),"header-end-button":(0,a.withCtx)((t=>{let{close:o,cancel:r}=t;return[(0,a.renderSlot)(e.$slots,"header-end-button",{close:o,cancel:r})]})),notice:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"notice")])),default:(0,a.withCtx)((t=>{let{close:o}=t;return[(0,a.renderSlot)(e.$slots,"default",{close:o})]})),cancel:(0,a.withCtx)((t=>{let{close:o}=t;return[(0,a.renderSlot)(e.$slots,"cancel",{close:o})]})),confirm:(0,a.withCtx)((t=>{let{close:o}=t;return[(0,a.renderSlot)(e.$slots,"confirm",{close:o})]})),_:3},16,["onOpen","onClose","onCancel","onConfirm"])}]]),Pe=["id"],Se={class:"pp-dialog-light-container"},Ce={class:"pp-dialog-light-header"},Ne=["textContent"],Ae={key:0,class:"pp-dialog-light-footer"},Me={class:"pp-dialog-light-buttons"},Te={key:1,class:"pp-dialog-light-space"};const Ee={name:"PpDialogLight",components:{},props:{id:{type:String,default:void 0,required:!0},trigger:{type:[Boolean,Number],default:!1,required:!1},clickOutsideClose:{type:Boolean,default:!0,required:!1},footerFlag:{type:Boolean,default:!0,required:!1},closeButtonFlag:{type:Boolean,default:!1,required:!1},title:{type:String,default:"標題",required:!1},divide:{type:Boolean,default:!1,required:!1},cancelButtonFlag:{type:Boolean,default:!0,required:!1},cancelButtonText:{type:String,default:"取消",required:!1},cancelButtonLoading:{type:Boolean,default:!1,required:!1},cancelButtonDisabled:{type:Boolean,default:!1,required:!1},confirmButtonFlag:{type:Boolean,default:!0,required:!1},confirmButtonText:{type:String,default:"確定",required:!1},confirmButtonLoading:{type:Boolean,default:!1,required:!1},confirmButtonDisabled:{type:Boolean,default:!1,required:!1},paddingFlag:{type:Boolean,default:!0,required:!1},inverse:{type:Boolean,default:!0,required:!1}},emits:["update:trigger","open","close","cancel","confirm"],setup(e,t){let{emit:o}=t;const r=(0,N.useStore)(),{customerServiceHide:n,customerServiceShow:i}=(0,O.fq)(),s=(0,a.ref)(null),l=(0,a.ref)(null),c=(0,a.ref)(!1),d=(0,a.ref)(0),p=(0,a.computed)((()=>r.state.IsDark)),u=(0,a.computed)((()=>[e.divide?"pp-dialog-light-divide":"",p.value?e.inverse?"light":"dark":e.inverse?"dark":"light"])),m=(0,a.computed)((()=>({"--vh":0!==d.value?`${d.value}px`:"1vh"}))),g=(0,a.computed)((()=>e.cancelButtonFlag||e.confirmButtonFlag)),h=()=>{d.value=.01*window.innerHeight},f=async()=>{c.value=!0,o("open"),await(0,a.nextTick)(),h(),window.addEventListener("resize",h)},b=()=>{c.value=!1,o("close"),o("update:trigger",!1),window.removeEventListener("resize",h)};return(0,a.watch)((()=>e.trigger),((e,t)=>{e&&!c.value&&f()})),(0,a.onBeforeUnmount)((()=>{b()})),{dialog:s,dialogContent:l,flag:c,className:u,style:m,footerContentFlag:g,open:f,close:b,cancel:()=>{e.cancelButtonLoading||e.cancelButtonDisabled||o("cancel",{close:b})},confirm:()=>{e.confirmButtonLoading||e.confirmButtonDisabled||o("confirm",{close:b})}}}},Ie=(0,b.A)(Ee,[["render",function(e,t,o,r,n,i){const s=(0,a.resolveComponent)("pp-button");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app-dialog-bottomsheet",disabled:!r.flag},[(0,a.createElementVNode)("div",{ref:"dialog",class:(0,a.normalizeClass)(["pp-dialog-light",r.className]),id:o.id,style:(0,a.normalizeStyle)(r.style)},[(0,a.createVNode)(a.Transition,{name:"pp-dialog-light-container",appear:""},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",Se,[(0,a.createElementVNode)("div",Ce,[(0,a.createElementVNode)("div",{class:"pp-dialog-light-title",textContent:(0,a.toDisplayString)(o.title)},null,8,Ne)]),(0,a.createElementVNode)("div",{ref:"dialogContent",id:"pp-dialog-bottomsheet-content",class:"pp-dialog-light-content",style:(0,a.normalizeStyle)([o.paddingFlag?void 0:{padding:0}])},[(0,a.renderSlot)(e.$slots,"default")],4),o.footerFlag&&r.footerContentFlag?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ae,[(0,a.createElementVNode)("div",Me,[o.cancelButtonFlag?(0,a.renderSlot)(e.$slots,"cancel",{key:0,close:r.close},(()=>[(0,a.createVNode)(s,{fill:"outline",color:"secondary",size:"lg",loading:o.cancelButtonLoading,disabled:o.cancelButtonDisabled,onClick:(0,a.withModifiers)(r.cancel,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.cancelButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,a.createCommentVNode)("",!0),o.confirmButtonFlag?(0,a.renderSlot)(e.$slots,"confirm",{key:1,close:r.close},(()=>[(0,a.createVNode)(s,{fill:"fill",color:"primary",size:"lg",loading:o.confirmButtonLoading,disabled:o.confirmButtonDisabled,onClick:(0,a.withModifiers)(r.confirm,["stop"])},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.confirmButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,a.createCommentVNode)("",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",Te))],512),[[a.vShow,r.flag]])])),_:3})],14,Pe)],8,["disabled"])}]]),Be=["data-size","data-status"],je=["textContent"],xe={key:1,class:"pp-subtitle"},Le={key:2,class:"pp-title-hint"};const Oe={name:"PpTitleBlock",components:{},props:{tag:{type:String,default:"div",required:!1},title:{type:String,default:"",required:!1},icon:{type:String,default:"",required:!1},size:{type:String,default:"body_lg_bold",required:!1,validator:e=>["body_md","body_lg_bold","H5","H4","H3"].includes(e)},required:{type:Boolean,default:!1,required:!1},margin:{type:Number,default:void 0,required:!1,validator:e=>[0,6,8,16,24,32].includes(e)}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>["pp-title-block"])),requiredStatus:(0,a.computed)((()=>e.required?"required":"optional")),style:(0,a.computed)((()=>{if(void 0!==e.margin){switch(e.size){case"body_md":if(![0,6].includes(e.margin))return;break;case"body_lg_bold":if(![0,8,16].includes(e.margin))return;break;case"H5":if(![0,16,24].includes(e.margin))return;break;case"H4":if(![0,16,24,32].includes(e.margin))return;break;case"H3":if(![0,24,32].includes(e.margin))return}return{"--title-margin":`${e.margin}px`}}}))}}},Ve=(0,b.A)(Oe,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(r.className),"data-size":o.size,"data-status":r.requiredStatus,style:(0,a.normalizeStyle)(r.style)},[o.title?((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(o.tag),{key:0,class:"pp-title"},{default:(0,a.withCtx)((()=>[o.icon?((0,a.openBlock)(),(0,a.createElementBlock)("i",{key:0,class:(0,a.normalizeClass)(["icon",o.icon])},null,2)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("span",{textContent:(0,a.toDisplayString)(o.title)},null,8,je),(0,a.renderSlot)(e.$slots,"tips")])),_:3})):(0,a.createCommentVNode)("",!0),e.$slots.subtitle?((0,a.openBlock)(),(0,a.createElementBlock)("div",xe,[(0,a.renderSlot)(e.$slots,"subtitle")])):(0,a.createCommentVNode)("",!0),e.$slots.error||e.$slots.hint?((0,a.openBlock)(),(0,a.createElementBlock)("div",Le,[(0,a.renderSlot)(e.$slots,"error"),(0,a.renderSlot)(e.$slots,"hint")])):(0,a.createCommentVNode)("",!0)],14,Be)}]]),$e=["textContent"];const De={name:"PpTextHelp",components:{},props:{text:{type:String,default:"",required:!1},size:{type:String,default:"md",required:!1,validator:e=>["sm","md"].includes(e)},status:{type:String,default:"default",required:!1,validator:e=>["default","success","warning","error"].includes(e)}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>["pp-text-help",`pp-text-help-${e.size}`,`pp-text-help-${e.status}`])),icon:(0,a.computed)((()=>{switch(e.status){case"warning":return"icon_warning_fill";case"error":return"icon_warning_circle_fill";case"success":return"icon_info_fill";default:return""}}))}}},Fe=(0,b.A)(De,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("span",{class:(0,a.normalizeClass)(r.className),textContent:(0,a.toDisplayString)(o.text)},null,10,$e)}]]);const Je={name:"PpForm",components:{},props:{line:{type:Boolean,default:!1,required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>["pp-form",e.line?"pp-form-line":""]))}}},ze=(0,b.A)(Je,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(r.className)},[(0,a.renderSlot)(e.$slots,"default")],2)}]]),Ge={key:0,class:"pp-avatar-img"},He=["data-src"],Re=["textContent","data-text"];const qe=A.a2.get("DEFAULT.DEFAULT_AVATAR_ICON",""),Ue={name:"PpAvatar",components:{},props:{tag:{type:String,default:"div",required:!1},size:{type:String,default:"lg",required:!1,validator:e=>["xxs","xs","sm","md","lg","xlg","xxlg","xxxlg","xxxxlg"].includes(e)},color:{type:String,default:"black",required:!1,validator:e=>["white","black"].includes(e)},type:{type:String,default:"image",required:!1,validator:e=>["text","image"].includes(e)},image:{type:String,default:"",required:!1},text:{type:String,default:"",required:!1},creator:{type:Boolean,default:!1,required:!1},clickable:{type:Boolean,default:!1,required:!1},index:{type:Number,default:0,required:!1}},emits:[],setup(e,t){let{emit:o}=t;const{lazyImg:r}=(0,O.Yj)(),n=(0,a.ref)(null),i=(0,a.computed)((()=>["pp-avatar",`pp-avatar-${e.size}`,""===e.image?"pp-avatar-default":"",e.creator?"pp-avatar-creator":`pp-avatar-${e.color}`,e.clickable?"pp-avatar-clickable":""])),s=(0,a.computed)((()=>({"--index":e.index?e.index:0})));return(0,a.onMounted)((()=>{r(n.value)})),{el:n,className:i,style:s,DEFAULT_AVATAR_ICON:qe}}},We=(0,b.A)(Ue,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(o.tag),{ref:"el",class:(0,a.normalizeClass)(r.className),style:(0,a.normalizeStyle)(r.style)},{default:(0,a.withCtx)((()=>["image"===o.type?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ge,[(0,a.createElementVNode)("img",{class:"lazyload","data-src":o.image||r.DEFAULT_AVATAR_ICON,onerror:"this.style.display='none';"},null,8,He)])):(0,a.createCommentVNode)("",!0),"text"===o.type?((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,textContent:(0,a.toDisplayString)(o.text.substring(0,1)),"data-text":o.text},null,8,Re)):(0,a.createCommentVNode)("",!0),["xxs","xs","sm","md"].includes(o.size)?(0,a.renderSlot)(e.$slots,"badge",{key:2}):(0,a.createCommentVNode)("",!0)])),_:3},8,["class","style"])}]]);const Ye={name:"PpAvatarGroup",components:{},props:{stacked:{type:Boolean,default:!0,required:!1},stackedDirection:{type:String,default:"first",required:!1,validator:e=>["bottom-top","top-bottom"].includes(e)}},emits:[],setup(e,t){let{emit:o}=t;const r=(0,a.ref)(null),n=(0,a.computed)((()=>[e.stacked?"pp-avatar-group-stacked":"","bottom-top"===e.stackedDirection?"pp-avatar-stacked-bottom-top":"pp-avatar-stacked-top-bottom"])),i=(0,a.computed)((()=>({"--avatar-count":r.value?r.value.children.length:void 0})));return{el:r,className:n,style:i}}},Qe=(0,b.A)(Ye,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{ref:"el",class:(0,a.normalizeClass)(["pp-avatar-group",r.className]),style:(0,a.normalizeStyle)(r.style)},[(0,a.renderSlot)(e.$slots,"default")],6)}]]),Xe=["textContent"];const Ke={name:"PpBadge",components:{},props:{fill:{type:String,default:"transparent",required:!1,validator:e=>["transparent","fill"].includes(e)},type:{type:String,default:"default",required:!1,validator:e=>["default","text"].includes(e)},text:{type:[Number,String],default:"",required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>[`pp-badge-${e.fill}`,`pp-badge-${e.type}`]))}}},Ze=(0,b.A)(Ke,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["pp-badge",r.className])},[(0,a.createElementVNode)("div",{textContent:(0,a.toDisplayString)(o.text)},null,8,Xe)],2)}]]);const et={name:"PpTab",components:{},props:{name:{type:String,default:"",required:!1},active:{type:Boolean,default:!1,required:!1},width:{type:Number,default:0,required:!1},link:{type:Boolean,default:!1,required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>["pp-tab",e.active?"pp-tab-active":""])),style:(0,a.computed)((()=>({"--tab-width":0!==e.width?`${e.width}px`:void 0})))}}},tt=(0,b.A)(et,[["render",function(e,t,o,r,n,i){return o.link?(0,a.renderSlot)(e.$slots,"default",{key:1,className:r.className,style:(0,a.normalizeStyle)(r.style),active:o.active}):((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(r.className),style:(0,a.normalizeStyle)(r.style)},[(0,a.createElementVNode)("span",null,[(0,a.createTextVNode)((0,a.toDisplayString)(o.name)+" ",1),(0,a.renderSlot)(e.$slots,"badge")])],6))}]]);const ot={name:"PpCardGrid",components:{},props:{gridSetting:{type:Object,default(){},required:!0},breakpoints:{type:Object,default(){},required:!1}},emits:[],setup(e,t){let{emit:o}=t;const{isXXL:r,isXL:n,isLG:i,isMD:s,isSM:l,isXS:c}=(0,O.iy)(),d=t=>t.reduce(((t,o)=>(e.breakpoints[o]&&(t={...t,...e.breakpoints[o]}),t)),{...e.gridSetting}),p=(0,a.computed)((()=>e.gridSetting&&e.breakpoints?r.value?d(["isXXL"]):n.value?d(["isXXL","isXL"]):i.value?d(["isXXL","isXL","isLG"]):s.value?d(["isXXL","isXL","isLG","isMD"]):l.value?d(["isXXL","isXL","isLG","isMD","isSM"]):c.value?d(["isXXL","isXL","isLG","isMD","isSM","isXS"]):void 0:e.gridSetting));return{isXXL:r,isXL:n,isLG:i,isMD:s,isSM:l,isXS:c,style:p}}},rt=(0,b.A)(ot,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"pp-card-grid",style:(0,a.normalizeStyle)(r.style)},[(0,a.renderSlot)(e.$slots,"default")],4)}]]),at={class:"pp-empty-content"},nt={key:0,class:"pp-empty-image"},it={key:1,class:"pp-empty-title"},st={key:2,class:"pp-empty-desc"},lt={key:3,class:"pp-empty-button"};const ct={name:"PpEmpty",components:{},props:{image:{type:String,default:"",required:!1},title:{type:String,default:"",required:!1},desc:{type:String,default:"",required:!1},size:{type:String,default:"md",required:!1,validator:e=>["sm","md","lg"].includes(e)},minHeight:{type:String,default:"initial",required:!1},backgroundColor:{type:String,default:"transparent",required:!1}},emits:[],setup(e,t){let{emit:o}=t;return{className:(0,a.computed)((()=>[`pp-empty-${e.size}`]))}}},dt=(0,b.A)(ct,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["pp-empty",r.className]),style:(0,a.normalizeStyle)({"--min-height":o.minHeight,"--background-color":o.backgroundColor})},[(0,a.createElementVNode)("div",at,[e.$slots.image||o.image?((0,a.openBlock)(),(0,a.createElementBlock)("div",nt,[(0,a.renderSlot)(e.$slots,"image")])):(0,a.createCommentVNode)("",!0),e.$slots.title||o.title?((0,a.openBlock)(),(0,a.createElementBlock)("div",it,[(0,a.renderSlot)(e.$slots,"title")])):(0,a.createCommentVNode)("",!0),e.$slots.desc||o.desc?((0,a.openBlock)(),(0,a.createElementBlock)("div",st,[(0,a.renderSlot)(e.$slots,"desc")])):(0,a.createCommentVNode)("",!0),e.$slots.button?((0,a.openBlock)(),(0,a.createElementBlock)("div",lt,[(0,a.renderSlot)(e.$slots,"button")])):(0,a.createCommentVNode)("",!0)])],6)}]]),pt={key:0,class:"pp-alert-image"},ut=["src"],mt={key:1,class:"pp-alert-icon"},gt={class:"pp-alert-content"},ht={key:0},ft=["textContent"],bt={key:1,class:"pp-alert-desc"},yt={key:1,class:"pp-alert-action"},vt={key:2,class:"pp-alert-close"},wt=(0,a.createElementVNode)("i",{class:"icon icon_x"},null,-1);const _t={name:"PPAlert",components:{},props:{tag:{type:String,default:"div",required:!1},fill:{type:String,default:"none",required:!1,validator:e=>["fill","none"].includes(e)},size:{type:String,default:"md",required:!1,validator:e=>["sm","md"].includes(e)},color:{type:String,default:"primary",required:!1,validator:e=>["primary","secondary","white","black"].includes(e)},type:{type:String,default:"text-link",required:!1,validator:e=>["text-link","button"].includes(e)},status:{type:String,default:"default",required:!1,validator:e=>["default","info","success","warning","error","custom"].includes(e)},icon:{type:String,default:"icon_bell",required:!1},image:{type:String,default:"",required:!1},title:{type:String,default:"",required:!1},desc:{type:String,default:"",required:!1},close:{type:Boolean,default:!1,required:!1}},emits:["close"],setup(e,t){let{emit:o}=t;const r=(0,a.ref)(!0),n=(0,a.computed)((()=>["button"===e.type?"pp-alert-button":"pp-alert","button"===e.type?"":`pp-alert-${e.status}`,"button"===e.type?"":`pp-alert-${e.fill}`,"button"===e.type?`pp-alert-${e.color}`:"",`pp-alert-${e.size}`])),i=(0,a.computed)((()=>{if("button"===e.type)return e.icon;switch(e.status){case"default":case"info":return"icon_info_fill";case"success":return"icon_check_circle_fill";case"warning":return"icon_warning_fill";case"error":return"icon_warning_circle_fill";case"custom":return e.icon;default:return""}})),s=(0,a.computed)((()=>"button"===e.type?e.image:"custom"===e.status?i.value?"":e.image?e.image:"/public/img/icon/bell_duotone.svg":"")),l=(0,a.computed)((()=>"button"===e.type&&"black"===e.color?"fill":"none"));return{showFlag:r,className:n,iconName:i,imageName:s,closeFill:l,closeCallback:()=>{o("close"),r.value=!1}}}},kt=(0,b.A)(_t,[["render",function(e,t,o,r,n,i){const s=(0,a.resolveComponent)("pp-button");return r.showFlag?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(r.className),role:"alert"},[r.imageName?((0,a.openBlock)(),(0,a.createElementBlock)("div",pt,[(0,a.createElementVNode)("img",{src:r.imageName},null,8,ut)])):r.iconName?((0,a.openBlock)(),(0,a.createElementBlock)("div",mt,[(0,a.createElementVNode)("i",{class:(0,a.normalizeClass)(["icon",r.iconName])},null,2)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",gt,[o.title||o.desc?((0,a.openBlock)(),(0,a.createElementBlock)("div",ht,[o.title?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"pp-alert-title",textContent:(0,a.toDisplayString)(o.title)},null,8,ft)):(0,a.createCommentVNode)("",!0),o.desc||e.$slots.desc?((0,a.openBlock)(),(0,a.createElementBlock)("div",bt,[(0,a.renderSlot)(e.$slots,"desc",{},(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.desc),1)]))])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),e.$slots.button?((0,a.openBlock)(),(0,a.createElementBlock)("div",yt,[(0,a.renderSlot)(e.$slots,"button")])):(0,a.createCommentVNode)("",!0)]),o.close?((0,a.openBlock)(),(0,a.createElementBlock)("div",vt,[(0,a.createVNode)(s,{type:"icon",size:"sm",circle:!0,color:"black",fill:r.closeFill,onClick:r.closeCallback},{default:(0,a.withCtx)((()=>[wt])),_:1},8,["fill","onClick"])])):(0,a.createCommentVNode)("",!0)],2)):(0,a.createCommentVNode)("",!0)}]]),Pt=["onClick"],St={class:"pp-step-content"},Ct=["textContent"],Nt={class:"pp-step-dot"},At={key:0,class:"icon icon_check_circle_fill"},Mt={key:1,class:"icon icon_warning_circle"},Tt=(0,a.createElementVNode)("div",{class:"pp-step-line"},null,-1);const Et={name:"PpStepper",components:{},props:{steps:{type:Array,default:()=>[],required:!1},activeIndex:{type:Number,default:0,required:!1},hideTitle:{type:Boolean,default:!1,required:!1},clickable:{type:Boolean,default:!1,required:!1},validateSectionId:{type:String,default:"",required:!0},validateData:{type:Object,default:()=>({}),required:!0},containerId:{type:String,default:"#pp-dialog-bottomsheet-content",required:!1},containerFlag:{type:Boolean,default:!1,required:!1}},emits:["update:active-index","validation"],setup(e,t){let{emit:o}=t;const r=(0,a.computed)((()=>[e.clickable?"pp-step-clickable":""])),n=(0,a.computed)((()=>({"--stepper-count":e.steps.length}))),i=(0,a.computed)((()=>e.steps.filter(((t,o)=>o<e.activeIndex||!!t.error)).map((e=>e.id))));return(0,a.watch)([()=>e.steps,()=>e.activeIndex],(async(t,r)=>{let[n,s]=t,[l,c]=r;if(s!==c){if(i.value.length<=0)return;o("validation",{validate_steps:i.value,validate_data:e.validateData})}else n[s].error&&await(0,a.nextTick)().then((()=>{const t={type:"validation",data:n[s].error},o=!!e.containerFlag&&e.containerId;(0,A.RK)(!1,t,e.validateSectionId,null,null,!1,!0,o)}))}),{deep:!0}),{className:r,style:n,validate_steps:i,goToStep:t=>{e.clickable&&o("update:active-index",t)}}}},It=(0,b.A)(Et,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["pp-stepper",r.className]),style:(0,a.normalizeStyle)(r.style)},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.steps,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:(0,a.normalizeClass)(["pp-step",{active:t===o.activeIndex,"line-active":t<o.activeIndex,"dot-active":t<=o.activeIndex,success:!!e.success,error:!!e.error}]),onClick:e=>r.goToStep(t)},[(0,a.createElementVNode)("div",St,[(0,a.createElementVNode)("div",{class:"pp-step-title",textContent:(0,a.toDisplayString)(o.hideTitle?t+1:e.title)},null,8,Ct),(0,a.createElementVNode)("div",Nt,[e.success?((0,a.openBlock)(),(0,a.createElementBlock)("i",At)):(0,a.createCommentVNode)("",!0),e.error?((0,a.openBlock)(),(0,a.createElementBlock)("i",Mt)):(0,a.createCommentVNode)("",!0)])]),Tt],10,Pt)))),128))],6)}]]);const Bt={name:"PpTeleport",components:{},props:{to:{type:String,default:void 0,required:!1},disabled:{type:Boolean,default:!0,required:!1}},emits:[],setup(e,t){let{emit:o}=t;const r=(0,a.ref)(!1),n=(0,a.ref)(null);return(0,a.onMounted)((()=>{n.value=setInterval((()=>{document.querySelector(e.to)&&(clearInterval(n.value),r.value=!0)}),10)})),(0,a.onBeforeUnmount)((()=>{clearInterval(n.value),n.value=null})),{checkFlag:r}}},jt=(0,b.A)(Bt,[["render",function(e,t,o,r,n,i){return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:o.to,disabled:o.disabled&&!r.checkFlag},[(0,a.renderSlot)(e.$slots,"default")],8,["to","disabled"])}]]),xt={overlayScrollbars:y,PpBreadcrumb:E,PpRouterLink:F,PpDotLoading:G,PpButton:H.A,PpButtonGroup:q,PpChip:K,PpChipGroup:ee,PpTextLink:oe,PpDialog:re.A,PpBottomSheet:we,PpDialogBottomsheet:ke,PpDialogLight:Ie,PpTitleBlock:Ve,PpTextHelp:Fe,PpForm:ze,PpAvatar:We,PpAvatarGroup:Qe,PpBadge:Ze,PpTab:tt,PpCardGrid:rt,PpEmpty:dt,PpAlert:kt,PpStepper:It,PpTeleport:jt},Lt=e=>Object.keys(xt).forEach((t=>{e.component(t,xt[t])})),Ot=e=>{Lt(e),e.use(r.default)}},56158:(e,t,o)=>{"use strict";o.d(t,{D2:()=>L,Ei:()=>C,L$:()=>k,Sw:()=>x,Wk:()=>E,Yj:()=>A,fS:()=>M,fX:()=>T,fq:()=>j,iy:()=>P,mL:()=>_,tD:()=>N,vz:()=>S});var r=o(6496),a=o(89590),n=o(11999);if(!/^(1496|1829|7328)$/.test(o.j))var i=o(31314);if(!/^(1(496|504|829)|7328)$/.test(o.j))var s=o(91872);var l=o(42637),c=o.n(l),d=o(57531),p=o(59092),u=o(70383),m=o(50104),g=o(65939),h=o(47799),f=o(14614),b=o(51598),y=o(51988);const v=u.A.get("ENVIRONMENT"),w=1829!=o.j?["CF6DA5CB5BE8C843FE37526843D3E126","5B41A0EA2B6797898F19E48DDA00CBC4"]:null,_=()=>{const e=(0,n.useRoute)(),t=(0,a.useStore)(),o=(0,r.ref)(!1),i=(0,r.computed)((()=>!!(e&&e.params&&e.params.project_id)&&e.params.project_id)),s=(0,r.computed)((()=>{if(i.value||o.value){const e=i.value||o.value;return w.includes(e)}return!1}));return{inclusionFlag:s,checkInclusion:()=>{if(i.value||(o.value=y("body").data("project_id")),i.value||o.value){const e=i.value||o.value;document.querySelector("body").setAttribute("data-project-id",e)}else document.querySelector("body").removeAttribute("data-project-id");s.value?document.querySelector("body").classList.add("is-inclusion"):document.querySelector("body").classList.remove("is-inclusion");const e=s.value;t.commit("Common/HeaderBar/setIsInclusion",e),t.dispatch("PressPlayPageSettingSet",{global_player:!e})}}},k={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400};function P(){const e=(0,s.GuJ)(k);return{isDesktop:(0,r.ref)(e.greater("md")),isTablet:(0,r.ref)(e.between("sm","md")),isMobile:(0,r.ref)(e.between("xs","sm")),isXXL:(0,r.ref)(e.greater("xxl")),isXL:(0,r.ref)(e.between("xl","xxl")),isLG:(0,r.ref)(e.between("lg","xl")),isMD:(0,r.ref)(e.between("md","lg")),isSM:(0,r.ref)(e.between("sm","md")),isXS:(0,r.ref)(e.between("xs","sm"))}}function S(){const e=(0,a.useStore)(),t=(0,r.computed)((()=>e.state.MemberInfo)),o=(0,r.computed)((()=>!!e.state.MemberInfo.member_id)),n=(0,r.computed)((()=>e.state.MemberInfo.member_id));return{openLoginModal:function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.value||!t.value.member_id){o.preventDefault(),o.stopPropagation();const{next_url:t,redirect_url:a,isShowPurchaseAlert:n}=r;if(p.A.isMobileApp()){const e={};a&&(e.redirect_url=a),void 0!==n&&(e.isShowPurchaseAlert=n),p.A.openNativeLogin(e)}else{const o={};t&&(o.next_url=t),a&&(o.redirect_url=a),e.dispatch("PressPlayLoginModalTriggerOpen",o)}return!1}return!0},isLogin:o,MemberInfo:t,member_id:n}}const C=e=>{const t=(0,a.useStore)();let o=(0,r.reactive)([]);const n=(0,r.computed)((()=>t.state.PageSetting_browser));return{deny_chrome_extension:o,detectExtension:async()=>{o=n.value&&n.value.name&&"chrome"===n.value.name&&"article"===e?await d.A.detect_video_deny(n.value.name):[]}}},N=()=>{const e=(0,n.useRoute)(),t=(0,r.ref)(!1),o=(0,r.ref)(!1),{pathname:a}=window.location,i=["\\/message(.*)"];for(const r in i){if(new RegExp(i[r],"ig").test(a)){o.value=!0;break}}return{showHeader:(0,r.computed)((()=>!e&&!t.value||!!e&&!["article_page"].includes(e.name))),showFooter:(0,r.computed)((()=>!e&&!o.value||!!e&&!["article_page"].includes(e.name)))}},A=()=>{const e=(0,a.useStore)(),{i18nLangReady:t,tp:o}=x(["general"]),n=(0,r.computed)((()=>c()(new Date(e.state.ppServerTime),c().HTML5_FMT.DATETIME_LOCAL_SECONDS))),i=(0,r.computed)((()=>"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0));let s=null;const l=e=>`0${e}`.slice(-2),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return c()(e,c().HTML5_FMT.DATETIME_LOCAL_SECONDS).format(t)};return{isTouchDevice:i,lazyImg:e=>{clearTimeout(s),s=setTimeout((()=>{e&&y(e).find(".lazyload").removeClass("lazy-bind lazy-empty"),y("body").trigger("lazyImg")}),100)},formatTime:d,formatNumber:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<1e4?g.Ay.formatMoney(e):e>=1e4&&e<1e6?`${g.Ay.formatMoney((e/1e3).toFixed(2))}K`:`${g.Ay.formatMoney((e/1e6).toFixed(2))}M`},formatDuration:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=Math.floor(e/60/60),r=Math.floor(e/60%60),a=Math.floor(e%60);return"number"==typeof e&&Number.isInteger(e)?t&&0===o&&0===r&&0===a?"":0===o&&0===r||0===o?`${l(r)}:${l(a)}`:`${l(o)}:${l(r)}:${l(a)}`:""},formatRemainingDuration:e=>{const t=Math.floor(e/60/60),r=Math.floor(e/60%60),a=Math.floor(e%60);return"number"==typeof e&&Number.isInteger(e)?0===t&&0===r&&0===a?"":0===t&&0===r?`${a} ${o("general.time.second")}`:0===t?`${r} ${o("general.time.minute")}`:`${t} ${o("general.time.hour")} ${r} ${o("general.time.minute")}`:""},pad:l,countDownTimer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=c()(e).toISOString(!0),a=(0,r.ref)(null),i=(0,r.readonly)({years:"--",months:"--",days:"--",hours:"--",minutes:"--",seconds:"--",asDays:"--",asHours:"--",asMinutes:"--",asSeconds:"--",timesUp:!1});if(e&&t){const e=c()(o).diff(n.value,"seconds"),t=c().duration(e,"seconds");t.asSeconds()<=0&&clearInterval(a.value);const r=c().duration(t).years(),i=c().duration(t).months(),s=c().duration(t).days(),l=c().duration(t).hours(),d=c().duration(t).minutes(),p=c().duration(t).seconds(),u=c().duration(t,"seconds").asDays(),m=c().duration(t,"seconds").asHours(),g=c().duration(t,"seconds").asMinutes(),h=c().duration(t,"seconds").asSeconds();return{years:r,months:i,days:s,hours:l,minutes:d,seconds:p,asDays:Math.floor(u),asHours:Math.floor(m),asMinutes:Math.floor(g),asSeconds:Math.floor(h),timesUp:r<=0&&i<=0&&s<=0&&l<=0&&d<=0&&p<=0}}return i},formatToCustomizeAbsoluteTime:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=c()(e).toISOString(!0),a=c()(e).startOf("date").toISOString(!0),n=c()(a).get("year"),i=c()(),s=c()().get("year");if(t){return o("general.time.publish",{time:d(r,"MM/DD HH:mm")})}if(s-n<1){const e=i.diff(a,"days");return e<1?`${o("general.time.today")} ${d(r,"HH:mm")}`:1===e?`${o("general.time.yesterday")} ${d(r,"HH:mm")}`:`${d(r,"MM/DD HH:mm")}`}return`${d(r,"YYYY/MM/DD")}`},formatToCustomizeRelativeTime:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=c()(e).toISOString(!0),a=c()(e).startOf("date").toISOString(!0),i=c()(a).get("year"),s=(c()(),c()().get("year"));if(t){return o("general.time.publish",i-s<1?{time:d(r,"MM/DD HH:mm")}:{time:d(r,"YYYY/MM/DD")})}const l=c()(n.value).diff(r,"seconds"),p=3600,u=86400,m=604800,g=2592e3,h=31536e3;if(l<360)return o("general.time.recent");if(l>=360&&l<p){const e=`${Math.floor(l/60)} ${o("general.time.minute")}`;return`${o("general.time.time_ago",{time:e})}`}if(l>=p&&l<u){const e=Math.floor(l/p),t=e<1?`1 ${o("general.time.hour")}`:`${e} ${o("general.time.hour")}`;return`${o("general.time.time_ago",{time:t})}`}if(l>=u&&l<m){const e=Math.floor(l/u),t=e<1?`1 ${o("general.time.d")}`:`${e} ${o("general.time.d")}`;return`${o("general.time.time_ago",{time:t})}`}if(l>=m&&l<g){const e=Math.floor(l/m),t=e<1?`1 ${o("general.time.week")}`:`${e} ${o("general.time.week")}`;return`${o("general.time.time_ago",{time:t})}`}if(l>=g&&l<h){let e=Math.floor(l/g);e>=12&&(e=11);const t=e<1?`1 ${o("general.time.months")}`:`${e} ${o("general.time.months")}`;return`${o("general.time.time_ago",{time:t})}`}if(l>=h){const e=Math.floor(l/h),t=e<1?`1 ${o("general.time.year")}`:`${e} ${o("general.time.year")}`;return`${o("general.time.time_ago",{time:t})}`}return""},filterDataDiff:(e,t)=>{const o=g.Ay.deepDiffMapper.map(e,t),r={};for(const a in o)if(Array.isArray(e[a])){let t=!1;for(const e in o[a])"unchanged"!==o[a][e].type&&(t=!0);t&&(r[a]=e[a])}else void 0===o[a].type?Object.keys(o[a]).forEach((t=>{"unchanged"!==o[a][t].type&&e[a][t]&&(r[a]=e[a])})):"unchanged"!==o[a].type&&o[a].data&&(r[a]=o[a].data);return r},getImgAlt:e=>{let t=null;return e.alt?t=e.alt:e.aiAlt&&(t=e.aiAlt),t}}},M=()=>{const e=(0,r.ref)(null),t=()=>{(0,r.nextTick)((()=>{y(e.value).find('[data-toggle="tooltip"]').tooltip({template:'<div class="tooltip" role="tooltip">\n                                    <div class="arrow"></div>\n                                    <div class="tooltip-inner text-left u-fontSize12"></div>\n                                </div>'})}))},o=()=>{y(e.value).find('[data-toggle="tooltip"]').tooltip("dispose")};return(0,r.onMounted)((()=>{t()})),(0,r.onBeforeUnmount)((()=>{o()})),{el:e,initTooltip:t,destroyTooltip:o}},T=()=>{const e=(0,a.useStore)(),t=(0,n.useRoute)(),{isLogin:o}=S(),i=(0,r.computed)((()=>e.state.PP_PAGE_VER_IS_NEW));let s=[];const l=(0,r.ref)(0),c=(0,r.computed)((()=>l.value+1)),d=(0,r.computed)((()=>s.length)),p=()=>{s=[],l.value=0},u=()=>new Promise(((e,t)=>{const o=s[l.value];null!==o&&"object"==typeof o&&void 0!==o.close&&(o.close(),p(),e())}));return(0,r.onBeforeUnmount)((async()=>{await u()})),{set:o=>{let{name:r="unknown",step:a=[],config:n={},hideInApp:p=!1,skipNullElement:u=!1}=o;const g=`${t.meta.type}_${t.name}`,h=`${g}/${r}`;let f=null;if(!i.value)return f;if(!Object.keys(i.value).includes(h))return f;const b=a.map(((e,t)=>{const o={...e,key:`${r}_${t+1}`};return o.beforeAction=(o,r,n)=>{u?o&&o instanceof HTMLElement?"function"==typeof e.beforeAction?e.beforeAction(o,r,n):setTimeout((()=>{n()}),300):"function"==typeof e.beforeAction?e.beforeAction(o,r,n):null!==f&&(t<a.length-1?f.run(t+1):f.close()):"function"==typeof e.beforeAction?e.beforeAction(o,r,n):setTimeout((()=>{n()}),300)},o.afterAction=(t,o,r)=>{"function"==typeof e.afterAction?e.afterAction(t,o,r):setTimeout((()=>{r()}),300)},"function"==typeof e.clickAction&&(o.clickAction=(t,o,r)=>{"function"==typeof e.clickAction?e.clickAction(t,o,r):r()}),o.confirmAction=t=>{"function"==typeof e.confirmAction?e.confirmAction(t):t()},o.cancelAction=t=>{"function"==typeof e.cancelAction?e.cancelAction(t):t()},o}));return!p&&Object.keys(i.value).length>0&&i.value[h]&&(f=new m.A(b,{...n,custom_class:`tutorial_${r}`,startCallback:(t,o)=>{"function"==typeof n.startCallback&&n.startCallback(t,o);const[r]=o;r.element&&r.element instanceof HTMLElement&&((t,o)=>{e.dispatch("setLastPageVer",{router_name:t,ver_key:o})})(g,h)},closeCallback:(e,t)=>{"function"==typeof n.closeCallback&&n.closeCallback(e,t),(()=>{if(l.value<d.value-1){const e=s[c.value];null!==e&&"object"==typeof e&&void 0!==e.run&&(e.run(),l.value=c.value)}})()},stepCallback:(e,t)=>{"function"==typeof n.stepCallback&&n.stepCallback(e,t)}})),null!==f&&s.push(f),f},run:()=>{if(o.value){if(s.length<=0)return;const e=s[l.value];null!==e&&"object"==typeof e&&void 0!==e.run&&e.run()}},clear:p,close:u}},E=e=>{let{isLogin:t,apiAction:o=null}=e,r=[],a=0;const n=()=>{r=[],a=0};return{set:e=>{let{name:t="unknown",step:n=[],config:i={},hideInApp:s=!1,skipNullElement:l=!1}=e,c=null;const d=n.map(((e,o)=>{const r={...e,key:`${t}_${o+1}`};return r.beforeAction=(t,o,r)=>{l?t&&t instanceof HTMLElement?"function"==typeof e.beforeAction?e.beforeAction(t,o,r):setTimeout((()=>{r()}),300):"function"==typeof e.beforeAction?e.beforeAction(t,o,r):null!==c&&c.close():"function"==typeof e.beforeAction?e.beforeAction(t,o,r):setTimeout((()=>{r()}),300)},r.afterAction=(t,o,r)=>{"function"==typeof e.afterAction?e.afterAction(t,o,r):setTimeout((()=>{r()}),300)},"function"==typeof e.clickAction&&(r.clickAction=(t,o,r)=>{"function"==typeof e.clickAction?e.clickAction(t,o,r):r()}),r.confirmAction=t=>{"function"==typeof e.confirmAction?e.confirmAction(t):t()},r.cancelAction=t=>{"function"==typeof e.cancelAction?e.cancelAction(t):t()},r}));return s||(c=new m.A(d,{...i,custom_class:`tutorial_${t}`,startCallback:(e,t)=>{"function"==typeof i.startCallback&&i.startCallback(e,t);const[r]=t;r.element&&r.element instanceof HTMLElement&&"function"==typeof o&&o()},closeCallback:(e,t)=>{"function"==typeof i.closeCallback&&i.closeCallback(e,t),(()=>{if(a<r.length-1){const e=r[a+1];null!==e&&"object"==typeof e&&void 0!==e.run&&(e.run(),a+=1)}})()},stepCallback:(e,t)=>{"function"==typeof i.stepCallback&&i.stepCallback(e,t)}})),null!==c&&r.push(c),c},run:()=>{if(t){if(r.length<=0)return;const e=r[a];null!==e&&"object"==typeof e&&void 0!==e.run&&e.run()}},clear:n,close:()=>new Promise(((e,t)=>{const o=r[a];null!==o&&"object"==typeof o&&void 0!==o.close&&(o.close(),n(),e())}))}},I=()=>{const e=(0,a.useStore)(),t=u.A.get("IS_APP"),{isLogin:o,MemberInfo:n}=S(),i=t=>{o.value&&e.dispatch("setMemberConfig",{FRESHCHAT_RESTORE_ID:t}).then((e=>{}))},s=(0,r.computed)((()=>t||p.A.isMobileApp())),l=(0,r.computed)((()=>{if("production"!==v)return["testing"];switch(p.A.getAppType()){case"ios":return["ios_topics"];case"android":return["android_topics"];default:return["web_topics"]}})),c=(0,r.computed)((()=>{const e={};return o.value&&(e.firstName=n.value.nickname,e.lastName="",e.email=n.value.member_email,e.phone=n.value.contact_phone),e})),d=(0,r.computed)((()=>{const e={token:"cc27eba2-2b97-469a-a089-60a76247fc22",host:"https://pressplay9289.freshchat.com",widgetUuid:"production"!==v?"c22b2903-9ba9-42fa-ab7d-3c671c622b85":null,externalId:o.value?n.value.member_id:null,restoreId:o.value&&n.value.config&&n.value.config.FRESHCHAT_RESTORE_ID?n.value.config.FRESHCHAT_RESTORE_ID:null,config:{cssNames:{widget:"light fc_frame"}},tags:l.value,...c.value};return e.onInit=()=>{window.fcWidget.isInitialized()||window.fcWidget.on("widget:loaded",(e=>{window.fcWidget.user.get().then((e=>{if(e.success&&200===e.status)if(o.value){const t={...c.value};window.fcWidget.user.update(t).then((e=>{})),n.value.config&&!n.value.config.FRESHCHAT_RESTORE_ID&&e.data.restoreId&&i(e.data.restoreId)}else window.fcWidget.user.clear()})).catch((e=>{if(o.value){const e={...c.value};window.fcWidget.user.create(e,(e=>{e.success&&e.data.restoreId&&i(e.data.restoreId)}))}else window.fcWidget.user.clear()})),window.fcWidget.on("user:created",(e=>{e.success&&e.data.restoreId&&i(e.data.restoreId)})),window.fcWidget.on("user:cleared",(()=>{})),window.fcWidget.on("widget:opened",(()=>{})),window.fcWidget.on("widget:closed",(()=>{}))}))},e})),m='\n        <div id="fc_frame_fake" class="fc_frame_fake">\n            <div id="fc_widget_fake" class="fc_widget_fake">\n                <div id="chat-icon"></div>\n            </div>\n        </div>\n    ',g=()=>{if(!document.querySelector("#fc_frame_fake")){const e=document.createElement("template"),t=m.trim();e.innerHTML=t;const o=e.content.firstChild;o.addEventListener("click",(()=>{p.A.launchPage({page_id:"view_customer_service"})})),document.body.appendChild(o)}};return{init:()=>{if(s.value)return void g();const e=document.createElement("script");window.fcSettings=d.value,e.id="Freshchat-js-sdk";document.getElementsByTagName("head")[0].appendChild(e),e.type="text/javascript",e.src="https://pressplay9289.freshchat.com/js/widget.js",e.async=!0},show:()=>{"object"==typeof window.fcWidget&&window.fcWidget.show(),s.value&&g()},hide:()=>{"object"==typeof window.fcWidget&&window.fcWidget.hide(),s.value&&document.querySelector("#fc_frame_fake")&&document.querySelector("#fc_frame_fake").remove()},open:()=>{"object"==typeof window.fcWidget&&(window.fcWidget.isOpen()||window.fcWidget.open())},close:()=>{"object"==typeof window.fcWidget&&window.fcWidget.isOpen()&&window.fcWidget.close()},clear:()=>new Promise((e=>{"object"==typeof window.fcWidget&&(window.fcWidget.user.clear(),e(!0))}))}},B=()=>{const e=u.A.get("IS_APP"),t=(0,r.ref)(null),{isLogin:o,MemberInfo:a}=S(),n=(0,r.computed)((()=>e||p.A.isMobileApp())),i=(0,r.computed)((()=>{const e={};return o.value&&(e.email=a.value.member_email,e.user_id=a.value.member_id,e.name=a.value.nickname,e.phone=a.value.contact_phone,e.avatar={type:"avatar",image_url:a.value.head_photo}),e})),s=(0,r.computed)((()=>({api_base:"https://api-iam.intercom.io",app_id:"production"===v?"ah39v9bo":"tnknl8jv",...i.value}))),l='\n        <div id="ic_frame_fake" class="ic_frame_fake">\n            <div id="ic_widget_fake" class="ic_widget_fake">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 32"><path d="M28 32s-4.714-1.855-8.527-3.34H3.437C1.54 28.66 0 27.026 0 25.013V3.644C0 1.633 1.54 0 3.437 0h21.125c1.898 0 3.437 1.632 3.437 3.645v18.404H28V32zm-4.139-11.982a.88.88 0 00-1.292-.105c-.03.026-3.015 2.681-8.57 2.681-5.486 0-8.517-2.636-8.571-2.684a.88.88 0 00-1.29.107 1.01 1.01 0 00-.219.708.992.992 0 00.318.664c.142.128 3.537 3.15 9.762 3.15 6.226 0 9.621-3.022 9.763-3.15a.992.992 0 00.317-.664 1.01 1.01 0 00-.218-.707z"></path></svg>\n            </div>\n        </>\n    ',c=()=>{if(!document.querySelector("#ic_frame_fake")){const e=document.createElement("template"),t=l.trim();e.innerHTML=t;const o=e.content.firstChild;o.addEventListener("click",(()=>{p.A.launchPage({page_id:"view_customer_service"})})),document.body.appendChild(o)}};return{init:()=>{if(n.value)return void c();const e=s.value.app_id;!function(){var t=window,o=t.Intercom;if("function"==typeof o)o("reattach_activator"),o("update",t.intercomSettings);else{var r=document,a=function(){a.c(arguments)};a.q=[],a.c=function(e){a.q.push(e)},t.Intercom=a;var n=function(){var t=r.createElement("script");t.type="text/javascript",t.async=!0,t.src=`https://widget.intercom.io/widget/${e}`;var o=r.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)};"complete"===document.readyState?n():t.attachEvent?t.attachEvent("onload",n):t.addEventListener("load",n,!1)}}(),window.Intercom("boot",{...s.value}),"function"==typeof window.Intercom&&(window.Intercom("onShow",(()=>{t.value=setInterval((()=>{document.querySelector(".intercom-launcher-frame")&&(clearInterval(t.value),document.querySelector(".intercom-launcher-frame").classList.add("intercom-launcher-frame-open"))}),100)})),window.Intercom("onHide",(()=>{document.querySelector(".intercom-launcher-frame").classList.remove("intercom-launcher-frame-open")})),window.Intercom("onUnreadCountChange",(e=>{})))},show:()=>{"function"==typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!1}),n.value&&c()},hide:()=>{"function"==typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!0}),n.value&&document.querySelector("#ic_frame_fake")&&document.querySelector("#ic_frame_fake").remove()},open:()=>{"function"==typeof window.Intercom&&window.Intercom("show")},close:()=>{"function"==typeof window.Intercom&&window.Intercom("hide")},clear:()=>new Promise((e=>{"function"==typeof window.Intercom&&(window.Intercom("shutdown"),e(!0))})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"function"==typeof window.Intercom&&window.Intercom("update",{...i.value,...e})}}},j=function(){let e={};switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"intercom"){case"intercom":e=B();break;case"freshchat":e=I()}const{init:t,show:o,hide:a,open:n,close:i,clear:s,update:l}=e,{inclusionFlag:c}=_(),d=u.A.get("IS_PP_AUTO_CACHE"),p=(0,r.ref)(!1),m=(0,r.ref)(!1),g=["^/message","^/club/index","^/project/kkLive/live","^/member/learning/projects/([0-9A-Z]{32,})/articles$","^/member/cart"],h=()=>{const e=window.location.pathname;let t=g.every((t=>!new RegExp(t,"ig").test(e)));return c.value&&(t=!1),t},f=()=>{!c.value&&h()&&"function"==typeof o&&o()},b=()=>{"function"==typeof a&&a()},y=()=>{m.value?p.value&&b():p.value&&f()};return{customerServiceShow:f,customerServiceHide:b,customerServiceOpen:()=>{"function"==typeof n&&n()},customerServiceClose:()=>{"function"==typeof i&&i()},customerServiceToggle:y,customerServiceClear:async()=>{"function"==typeof s&&await s()},customerServiceUpdate:function(){"function"==typeof l&&l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},customerServiceCheck:()=>{const e=h();m.value=!e,p.value||(p.value=!0,d||"function"==typeof t&&t()),setTimeout((()=>{y()}),100)}}},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=(0,a.useStore)(),o=(0,i.s9)({useScope:"global"}),{locale:n,fallbackLocale:s,messages:l,mergeLocaleMessage:c,t:d}=o,p=(0,r.ref)(!1),u=(0,r.ref)(e),m=(0,r.ref)(null),g=(0,r.computed)((()=>o?n.value:"")),h=(0,r.computed)((()=>o?s.value:"")),f=()=>{clearTimeout(m.value),m.value=setTimeout((()=>{if(g.value&&u.value&&u.value.length>0){const e=u.value.filter((e=>!l.value[g.value]||!l.value[g.value][e]));if(e.length>0){const o={locales:[g.value,h.value],langPaths:e};t.dispatch("loadL10n",o).then((e=>{for(const t in e)c(t,e[t]);p.value=!0}))}else p.value=!0}else p.value=!0}),1)};return(0,r.watch)(n,((e,t)=>{e!==t&&(window.NOT_LOADED_LANGS=[]),f()})),(0,r.watch)(u,(()=>{f()}),{immediate:!0}),{i18nLangReady:p,locale:n,fallbackLocale:s,tp:function(e){let t="";if(!p.value)return t;const[o,...a]=e.split(".");for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];if(l.value[g.value]&&l.value[g.value][o]){if(t=d(e,...i),t===e){let a=l.value[g.value][o];a=(0,r.toRaw)(a);const n=e.split(".");if(n.length>1)for(let e=1;e<n.length;e++)a=a&&void 0!==a[n[e]]?a[n[e]]:void 0;t=void 0!==a?a:e}}else t=d(e,...i),window.NOT_LOADED_LANGS||(window.NOT_LOADED_LANGS=[]),window.NOT_LOADED_LANGS.includes(`${g.value}/${o}`)||(window.NOT_LOADED_LANGS=[...window.NOT_LOADED_LANGS,`${g.value}/${o}`]);return t}}},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";const t=(0,a.useStore)(),o=(0,r.ref)(!1),n=(0,r.ref)("light"),i=(0,r.ref)(""),s=(0,r.ref)(null),l=["common_home","project_about"],c=(0,r.computed)((()=>t.state.PAGE_ID)),d=r=>{l.includes(c.value)||(r?(o.value=!0,document.querySelector(e).classList.add("dark"),"dark"===n.value?b.A.set("vue-theme-appearance","auto"):b.A.set("vue-theme-appearance","dark")):(o.value=!1,document.querySelector(e).classList.remove("dark"),"light"===n.value?b.A.set("vue-theme-appearance","auto"):b.A.set("vue-theme-appearance","light")),t.commit("setIsDark",o.value),h.A.pageAction("mode_colorModeChange_click",{type:o.value?"Dark":"Light"}))},u=r=>{o.value=r.matches,t.commit("setIsDark",o.value),r.matches?(n.value="dark",document.querySelector(e).classList.add("dark")):(n.value="light",document.querySelector(e).classList.remove("dark"))};return(0,r.onMounted)((async()=>{await(0,r.nextTick)(),p.A.isMobileApp()&&(0,f.A)("setDarkMode",(e=>{d("dark"===e)}),"DarkModeSwitcher"),window.matchMedia?(s.value=window.matchMedia("(prefers-color-scheme: dark)"),i.value=b.A.get("vue-theme-appearance"),i.value?("auto"===i.value&&(s.value.matches?o.value=!0:o.value=!1),"light"===i.value&&(o.value=!1),"dark"===i.value&&(o.value=!0)):o.value=s.value.matches,l.includes(c.value)&&(o.value=!1),s.value.matches?n.value="dark":n.value="light",o.value?document.querySelector(e).classList.add("dark"):document.querySelector(e).classList.remove("dark"),t.commit("setIsDark",o.value),h.A.pageAction("mode_colorModeChange_trigger",{type:o.value?"Dark":"Light"}),s.value&&"function"==typeof s.value.addEventListener&&s.value.addEventListener("change",u)):(o.value=!1,t.commit("setIsDark",o.value),n.value="light",document.querySelector(e).classList.remove("dark"))})),(0,r.onBeforeUnmount)((()=>{o.value=!1,t.commit("setIsDark",o.value),n.value="light",document.querySelector(e).classList.remove("dark"),s.value&&"function"==typeof s.value.removeEventListener&&s.value.removeEventListener("change",u)})),{mql:s,isDark:o,toggleDark:d}}},19593:(e,t,o)=>{"use strict";o.d(t,{ky:()=>a});o(6496);var r=o(31314);o(36657);const a=()=>(0,r.hU)({legacy:!1,locale:"zh-TW",fallbackLocale:"zh-TW",messages:{},silentTranslationWarn:!0,missingWarn:!1,silentFallbackWarn:!0,fallbackWarn:!1})},55013:(e,t,o)=>{"use strict";o.d(t,{v:()=>ie});var r=o(89590),a=o(22487);const n={PressPlayMemberInfoSet(e,t){let{commit:o}=e;o("setMemberInfo",t)},PressPlayMemberNotificationAppend(e,t){let{commit:o}=e;t.after?o("appendPressPlayMemberNotification",t.data):o("prependPressPlayMemberNotification",t.data)},PressPlayMemberPointsGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{a.A.getMemberPoints(t).success((t=>{o("setMemberPoints",t.data),e(t)})).error((e=>{r(e)}))}))}};var i=o(36657);const s={PressPlayLoginModalTriggerOpen(e,t){let{dispatch:o}=e;i.zT.pageAction("HeaderBar_Login_click"),o("LoginModalV2/PressPlayLoginModalTriggerOpen",t)},PressPlayLoginModalSet(e,t){let{dispatch:o}=e;o("LoginModalV2/PressPlayLoginModalSet",t)},PressPlayLoginModalSetData(e,t){let{dispatch:o}=e;o("LoginModalV2/PressPlayLoginModalSet",t)},PressPlayLoginModalLogs(e,t){let{commit:o}=e;o("LoginModalV2/recordPressPlayLoginModalLogs",t)}};var l=o(23537);const c={PressPlayPageSettingBrowserSet(e){let{commit:t}=e;const o={name:"",os:"",...(0,l.default)()};let r=o.os||"";-1!==r.indexOf("OS X")?r=o.mobile?"iOS":"Mac OS":-1!==r.indexOf("Android")&&(r="Android"),o.os=r;t("setPressPlayPageSetting",{device:r,browser:o})},PressPlayPageSettingSet(e,t){let{commit:o}=e;o("setPressPlayPageSetting",t)},PressPlayHistoryPopstateFlagSet(e,t){let{commit:o}=e;o("setPressPlayHistoryPopstateFlag",t)}},d={PressPlayPreviewGet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.getPressPlayPreview(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},sendPromotedCollect(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.sendPromotedCollect(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},shareUrlTrigger(e,t){let{commit:o}=e;return o("shareUrlTrigger",t),new Promise(((e,t)=>{e(!0)}))},setShareOnceUrl(e,t){let{commit:o}=e;o("setShareOnceUrl",t)},clearShareOnceUrl(e,t){let{commit:o}=e;o("clearShareOnceUrl",t)},shareUrlParamsSet(e,t){let{commit:o}=e;o("setShareUrlParams",t)},getSEOBreadcrumbs(e,t){let{commit:o}=e;return o("routerChange",!0),new Promise(((e,r)=>{a.A.getSEOBreadcrumbs(t).success((t=>{const{SEO:r,breadcrumbList:a,PP_PAGE_VER_IS_NEW:n,schema:i,redirect:s}=t.data;if(s)window.location.replace(s);else{if(r&&o("setSEO",r),a&&o("setBreadcrumbs",a),i&&"object"==typeof i){const e=document.createElement("script");e.setAttribute("type","application/ld+json"),e.innerHTML=JSON.stringify(i,null,4),document.querySelector("body").append(e)}o("setPPPageVerIsNew",n),o("routerChange",!1),e(t)}})).error((e=>{r(e)}))}))},setLastPageVer(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.setLastPageVer(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},setMemberConfig(e,t){let{commit:o}=e;return new Promise(((e,r)=>{a.A.setMemberConfig(t).success((t=>{o("setMemberInfo",t.data),e(t)})).error((e=>{r(e)}))}))},validationReview(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.validationReview(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},updateReview(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.updateReview(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},deleteReview(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.deleteReview(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}},p={initialChannel(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.initialChannel(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}},u=i.a2.get("API_CONFIG.APP_HOST"),m={formatUrlToAppHost(e){const t=document.createElement("a");return t.href=e,t.host=u,t.href},checkAudioAppOrWeb(e,t,o){const{queue:r,haveRecords:a}=o;if(i.Vp.isMobileApp()){const e=r.tracks.filter((e=>e.queue_index===r.play_index));if(e.length>0){const o=JSON.parse(JSON.stringify(e[0]));o.head_title_url=this.formatUrlToAppHost(o.head_title_url),o.track_title_url=this.formatUrlToAppHost(o.track_title_url),t.track=o,t.type="audio",t.play_index=r.play_index,i.Vp.clickingArticleAttaches(t)}}else window.tmpPlayerQueue=r,e("reloadGlobalPlayerQueueTrigger")},chooseTrackFromAlbumIndex(e,t){let{commit:o}=e;return new Promise(((e,r)=>{i.OE.sendRecord(),setTimeout((()=>{const n={album_id:t.album_id||"",index:t.index||t.file_key||0};a.A.chooseTrackFromAlbumIndex(n).success((r=>{e(r),m.checkAudioAppOrWeb(o,t,r.data)})).error((e=>{r(e)}))}),500)}))},chooseTrackFromMyListIndex(e,t){let{commit:o}=e;return new Promise(((e,r)=>{i.OE.sendRecord(),setTimeout((()=>{const n={playlist_id:t.playlist_id||"",index:t.index||0};a.A.chooseTrackFromMyListIndex(n).success((r=>{e(r),m.checkAudioAppOrWeb(o,t,r.data)})).error((e=>{r(e)}))}),500)}))},chooseTrackFromFileKeys(e,t){let{commit:o}=e;return new Promise(((e,r)=>{i.OE.sendRecord(),setTimeout((()=>{const n={file_keys:t.file_keys||[],index:t.index||0};a.A.chooseTrackFromFileKeys(n).success((r=>{e(r),m.checkAudioAppOrWeb(o,t,r.data)})).error((e=>{r(e)}))}),500)}))},chooseTrackFromProject(e,t){let{commit:o}=e;return new Promise(((e,r)=>{i.OE.sendRecord(),setTimeout((()=>{const n={project_id:t.project_id,file_key:t.file_key};a.A.chooseTrackFromProject(n).success((r=>{e(r),m.checkAudioAppOrWeb(o,t,r.data)})).error((e=>{r(e)}))}),500)}))},chooseTrackFromProjectTimeline(e,t){let{commit:o}=e;return new Promise(((e,r)=>{i.OE.sendRecord(),setTimeout((()=>{const n={timeline_key:t.timeline_key,file_key:t.file_key};a.A.chooseTrackFromProjectTimeline(n).success((r=>{e(r),m.checkAudioAppOrWeb(o,t,r.data)})).error((e=>{r(e)}))}),500)}))},triggerToOpenPlayListBox(e,t){let{commit:o}=e;o("triggerToOpenMyPlayListBox",t)},getPlayRecordByFileKeys(e,t){let{commit:o}=e;return new Promise(((e,r)=>{const n={file_keys:t.file_keys};a.A.getPlayRecordByFileKeys(n).success((t=>{o("setPPGlobalPlayerAttachList",t.play_records),e(t.play_records)})).error((()=>{e([])}))}))},setGlobalPlayerInfoPlayStatus(e,t){let{commit:o}=e;return new Promise(((e,o)=>{this.dispatch("Common/GlobalPlayer/setGlobalPlayerInfoPlayStatus",t).then((t=>{e(t)}),(e=>{o(e)}))}))}},g=m;var h=o(56158),f=o(51988);const b={NAME:"PROJECT_FOLLOW",init(e){let{MEMBER_CONFIG:t,isLogin:o=!1,dispatch:r}=e;if(!o)return;if(!Object.keys(t).includes(b.NAME))return;if(t[b.NAME])return;const a=(0,h.Wk)({isLogin:o,apiAction:()=>{const e={[b.NAME]:!0};r("setMemberConfig",e)}});a.set({name:b.NAME,step:[{target:'.pp-header-nav-item[rel="my"] .header-drop-down-btn-wrapper',title:"已添加至我的學習，去看看嗎？",intro:"在那集結一切所愛，觀看最新發布的免費公開內容！"},{target:'.pp-header-nav-item[rel="my"] a.header-drop-down-info:first-child',title:"點此一覽全部內容",intro:"已開通＆追蹤中的專案都在這",confirmText:"去看看",beforeAction:(e,t,o)=>{f('.pp-header-nav-item[rel="my"] .header-drop-down').trigger("header-drop-down:show"),f('.pp-header-nav-item[rel="my"] .header-drop-down').addClass("show"),setTimeout((()=>{o()}),500)},afterAction:(e,t,o)=>{f('.pp-header-nav-item[rel="my"] .header-drop-down').removeClass("show"),o()},confirmAction(e){window.location.href="/member/learning/projects",e()},cancelAction(e){f('.pp-header-nav-item[rel="my"] .header-drop-down').removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),a.set({name:b.NAME,step:[{target:'.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-btn-wrapper',title:"已添加至我的學習，去看看嗎？",intro:"在那集結一切所愛，觀看最新發布的免費公開內容！"},{target:'.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-drop-down-info[data-tutorial="follow"]',title:"點此一覽全部內容",intro:"已開通＆追蹤中的專案都在這",confirmText:"去看看",beforeAction:(e,t,o,r)=>{f('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').trigger("header-drop-down:show"),f('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').addClass("show"),setTimeout((()=>{o()}),500)},afterAction:(e,t,o)=>{f('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').removeClass("show"),o()},confirmAction(e){window.location.href="/member/learning/projects",e()},cancelAction(e){f('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),a.set({name:b.NAME,step:[{target:'.article-page .article-header-function a.header-button[data-tutorial="follow"]',title:"已添加至我的學習，去看看嗎？",intro:"在那集結一切所愛，觀看最新發布的免費公開內容！",confirmText:"去看看",confirmAction(e){window.location.href="/member/learning/projects",e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),document.querySelector('.article-page .article-header-function a.header-button[data-tutorial="follow"]')||a.set({name:b.NAME,step:[{target:".article-page .article-header-function .header-user-image",title:"已添加至我的學習，去看看嗎？",intro:"在那集結一切所愛，觀看最新發布的免費公開內容！"},{target:'.article-page .article-header-function .header-user-menu a.header-user-menu-item[data-tutorial="follow"]',title:"點此一覽全部內容",intro:"已開通＆追蹤中的專案都在這",confirmText:"去看看",beforeAction:(e,t,o,r)=>{document.querySelector(".article-page .article-header-function .header-user")&&f(".article-page .article-header-function .header-user").addClass("show"),o()},afterAction:(e,t,o)=>{document.querySelector(".article-page .article-header-function .header-user")&&f(".article-page .article-header-function .header-user").removeClass("show"),o()},confirmAction(e){window.location.href="/member/learning/projects",e()},cancelAction(e){document.querySelector(".article-page .article-header-function .header-user")&&f(".article-page .article-header-function .header-user").removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),a.run()}},y=b;var v=o(51988);const w={member:"/member(\\?.*)?$",member_collect:"/member/collect_articles"},_={NAME:"ARTICLE_COLLECT",init(e){let{MEMBER_CONFIG:t,isLogin:o=!1,dispatch:r}=e;if(!o)return;if(!Object.keys(t).includes(_.NAME))return;if(t[_.NAME])return;const a=(0,h.Wk)({isLogin:o,apiAction:()=>{const e={[_.NAME]:!0};r("setMemberConfig",e)}}),{pathname:n,search:s}=window.location;"member_collect"!==function(e){let t="";for(const o in w)if(new RegExp(w[o],"ig").test(e.trim())){t=o;break}return t}(`${n}${s}`)&&(a.set({name:_.NAME,step:[{target:'.pp-header-nav-item[rel="avatar"] .header-drop-down-btn',title:"已收藏至我的收藏，去看看嗎？"},{target:'.pp-header-nav-item[rel="avatar"] a.header-drop-down-info[data-tutorial="collect"]',title:"接著由此前往",intro:'\n                        就在「 <i class="icon icon_bookmark_simple_fill"></i> 我的收藏 」這個頁面喔\n                    ',cancelText:"完成",confirmText:"去看看",beforeAction:(e,t,o)=>{v('.pp-header-nav-item[rel="avatar"] .header-drop-down').trigger("header-drop-down:show"),v('.pp-header-nav-item[rel="avatar"] .header-drop-down').addClass("show"),setTimeout((()=>{o()}),500)},afterAction:(e,t,o)=>{v('.pp-header-nav-item[rel="avatar"] .header-drop-down').removeClass("show"),o()},confirmAction(e){window.location.href="/member/collect_articles",e()},cancelAction(e){v('.pp-header-nav-item[rel="avatar"] .header-drop-down').removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),a.set({name:_.NAME,step:[{target:'.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-btn-wrapper',title:"已收藏至我的收藏，去看看嗎？"},{target:'.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-drop-down-info[rel="profile"]',title:"接著由進入帳號內",beforeAction:(e,t,o,r)=>{v('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').trigger("header-drop-down:show"),v('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').addClass("show"),setTimeout((()=>{o()}),500)},cancelAction(e){v('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').removeClass("show"),e()}},{target:'.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu a.header-drop-down-info[data-tutorial="collect"]',title:"接著由此前往",intro:'\n                        就在「 <i class="icon icon_bookmark_simple_fill"></i> 我的收藏 」這個頁籤喔\n                    ',cancelText:"完成",confirmText:"去看看",beforeAction:(e,t,o,r)=>{document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-drop-down-info[rel="profile"]')&&document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-drop-down-info[rel="profile"]').click(),o()},afterAction:(e,t,o)=>{document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-mobile-go-back')&&document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-mobile-go-back').click(),v('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').removeClass("show"),o()},confirmAction(e){window.location.href="/member/collect_articles",e()},cancelAction(e){document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-mobile-go-back')&&document.querySelector('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down-menu .header-mobile-go-back').click(),v('.pp-header-nav-item[rel="mobile-hamburger"] .header-drop-down').removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),document.querySelector('.article-page .article-header-function a.header-button[data-tutorial="collect"]')||a.set({name:_.NAME,step:[{target:".article-page .article-header-function .header-user-image",title:"已收藏此文章，去看看嗎？"},{target:'.article-page .article-header-function .header-user-menu a.header-user-menu-item[data-tutorial="collect"]',title:"接著由此前往",intro:'\n                            就在「 <i class="icon icon_bookmark_simple_fill"></i> 我的收藏 」這個頁籤喔\n                        ',cancelText:"完成",confirmText:"去看看",beforeAction:(e,t,o,r)=>{document.querySelector(".article-page .article-header-function .header-user")&&v(".article-page .article-header-function .header-user").addClass("show"),o()},afterAction:(e,t,o)=>{document.querySelector(".article-page .article-header-function .header-user")&&v(".article-page .article-header-function .header-user").removeClass("show"),o()},confirmAction(e){window.location.href="/member/collect_articles",e()},cancelAction(e){document.querySelector(".article-page .article-header-function .header-user")&&v(".article-page .article-header-function .header-user").removeClass("show"),e()}}],config:{clickOuterClose:!1},skipNullElement:!0,hideInApp:i.Vp.isMobileApp()}),a.run())}},k=_,P={setPPGlobalCollectionAlbum(e,t){let{commit:o}=e;return new Promise(((e,r)=>{const n={album_id:t.album_id||""};a.A.setPPGlobalCollectionAlbum(n).success((r=>{o("updateAlbumCollectStateAll",{album_id:t.album_id,is_collected:r.data.is_collected}),i.zT.pageAction("ppGlobalCollect_album_click",{album_id:t.album_id,is_collected:r.data.is_collected}),e(r)})).error((e=>{r(e)}))}))},setPPGlobalCollectionTimeline(e,t){let{commit:o,dispatch:r}=e;return new Promise(((e,n)=>{const s={timeline_key:"",...t};a.A.setPPGlobalCollectionTimeline(s).success((a=>{o("updateTimelineCollectStateAll",{timeline_key:t.timeline_key,is_collected:a.data.is_collected}),a.data.is_collected?(i.Vp.isMobileApp()||i.cL.notice({direction:"center",outerClassName:"notice",icon:"",html:"已收藏",delay:3e3,clickToClose:!0,clickOuterClose:!1}),r("triggerCollectTutorial")):i.Vp.isMobileApp()||i.cL.notice({direction:"center",outerClassName:"notice",icon:"",html:"已取消收藏",delay:3e3,clickToClose:!0,clickOuterClose:!1}),e(a)})).error((e=>{n(e)}))}))},setPPGlobalFollowProject(e,t){let{commit:o,dispatch:r}=e;return new Promise(((e,n)=>{const s={project_id:"",...t};a.A.setPPGlobalFollowProject(s).success((a=>{if(a.data.is_followed){a.data.project_card.project_id;const e=[];a.data.project_card.project_types.forEach((t=>{t.parent?e.push(t.parent.type_id):e.push(t.type_id)})),i.Vp.isMobileApp()||i.cL.notice({direction:"center",outerClassName:"notice",icon:"",html:"已追蹤專案",delay:3e3,clickToClose:!0,clickOuterClose:!1}),r("triggerFollowTutorial")}else i.Vp.isMobileApp()||i.cL.notice({direction:"center",outerClassName:"notice",icon:"",html:"已取消追蹤",delay:3e3,clickToClose:!0,clickOuterClose:!1}),o("clearLocalMemberProjectID",t);o("updateProjectFollowStateAll",{project_id:t.project_id,is_followed:a.data.is_followed}),e(a)})).error((e=>{n(e)}))}))},setPPGlobalFollowChannel(e,t){let{commit:o}=e;return new Promise(((e,r)=>{const n={channel_id:"",...t};a.A.setPPGlobalFollowChannel(n).success((r=>{o("updateChannelFollowStateAll",{channel_id:t.channel_id,is_followed:r.data.is_followed}),e(r)})).error((e=>{r(e)}))}))},triggerFollowTutorial(e,t){let{state:o,dispatch:r}=e;y.init({MEMBER_CONFIG:o.MemberInfo.config,isLogin:!!o.MemberInfo.member_id,dispatch:r})},triggerCollectTutorial(e,t){let{state:o,dispatch:r}=e;k.init({MEMBER_CONFIG:o.MemberInfo.config,isLogin:!!o.MemberInfo.member_id,dispatch:r})}};var S=o(42637),C=o.n(S);const N={loadL10n(e,t){let{commit:r,getters:a,state:n}=e;return new Promise(((e,n)=>{const{locales:i,langPaths:s}=t,{L10nStorage:l}=a,c={},d=[];i.filter(((e,t,o)=>o.indexOf(e)===t)).forEach((e=>{c[e]={},s.forEach((t=>{l[e]&&l[e][t]||d.push({locale:e,path:t})}))})),Promise.all(d.map((e=>{let{locale:t,path:r}=e;return o(13249)(`./${t}/${r}.json`).then((e=>{const o={};o[r]=e.default,c[t]=Object.assign(c[t],o)})).catch((()=>{const e={};e[r]={},c[t]=Object.assign(c[t],e)}))}))).then((()=>{r("storeL10n",c),e(c)})).catch((()=>{e({})}))}))}},A={...n,...s,...c,...d,...p,...g,...P,...{GlobalSearchAction(e,t){let{commit:o}=e;o("searchLogTrigger");const{router:r,data:a}=t;if(r)r.push({name:"search",query:{search_keyword:a.search_keyword,type:a.type||"article",auto:a.auto}});else{const e="/search",t=i.Yj.object2QueryStr({search_keyword:a.search_keyword,type:a.type||"article",auto:a.auto});window.location.href=`${e}?${t}`}}},...{thirdPartyOauth(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.thirdPartyOauth(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},thirdPartyOauthBounds(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.thirdPartyOauthBounds(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},thirdPartyOauthBind(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.thirdPartyOauthBind(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},thirdPartyOauthUnbind(e,t){let{commit:o}=e;return new Promise(((e,o)=>{a.A.thirdPartyOauthUnbind(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}},...{PressPlayProjectTypeListV2Get(e,t){let{commit:o}=e;return new Promise(((e,r)=>{a.A.getProjectTypeListV2(t).success((t=>{o("setGlobalProjectTypeToState",t.data),e(t)})).error((e=>{r(e)}))}))}},...{GetReviewInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{a.A.getReviewInfo(t).success((t=>{o("setReviewBasic",{point:t.data.point}),o("setReviewInfo",{...t.data,point:t.data.point}),e(t)})).error((e=>{r(e)}))}))}},...N};var M=o(26957);const T={...{PressPlayDefaultQuerySet(e,t){let{commit:o}=e;o("setDefaultQueryParams",t),o("setMessagePageStatus",{init:!1})},PressPlayMessageQuerySet(e,t){let{commit:o}=e;o("setMessasgeQueryParams",t)},PressPlayMessageQuerySetByQueryString(e,t){let{commit:o}=e;return new Promise(((e,r)=>{const a=i.Yj.getJsonFromUrl(window.location.search.substr(1));a.reward_ids&&(a.reward_ids=a.reward_ids.split(",")),t.popstats?(a.popstats=t.popstats,o("setMessasgeQueryParams",a)):o("setMessasgeQueryParams",a),a.keyword&&o("setMessagePageStatus",{list_func_type:"search"}),e()}))},PressPlayMessagePageStatusSet(e,t){let{commit:o}=e;o("setMessagePageStatus",t)},PressPlayMessageProjectChangeToSearchType(e){let{commit:t}=e;t("setMessasgeQueryParamsToDefault",["reward_id","mark_status","read_status"]),t("setMessagePageStatus",{list_func_type:"search"})},PressPlayMessageProjectChangeToDefault(e){let{commit:t}=e;t("setMessasgeQueryParams",{list_type:"project",keyword:""}),t("setMessagePageStatus",{list_func_type:"default"}),t("clearMessageProjectChannelSelected")},PressPlayMessageResouceLoader(e){let{commit:t,getters:o}=e;return new Promise(((e,r)=>{const{MessageMemberIdsLoader:a}=o,{MessageMemberInfo:n}=o,i=a.filter((e=>!n[e])),{MessageProjectIdsLoader:s}=o,l=o.MessageMemberInfo,c=s.filter((e=>!l[e])),{MessageAttachedIdsLoader:d}=o,{MessageMemberAttachedInfo:p}=o,u=d.filter((e=>!p[e])),m={};i.length>0&&(m.member_ids=i),c.length>0&&(m.project_ids=c),u.length>0&&(m.attached_ids=u),Object.keys(m).length>0&&M.A.getMessageResourceInfo(m).success((e=>{t("setMessageResourceInfo",e.data)})).error((e=>{r(e)}))}))},PressPlayMessageAttachedUpdate(e,t){let{commit:o}=e;return new Promise(((e,o)=>{M.A.updateAttachedInfo(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},PressPlayMessageChannelCreate(e,t){let{commit:o}=e;return new Promise(((e,o)=>{M.A.createMessageChannel(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}},...{PressPlayMessageProjectListGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.getMessageProjectList(t).success((t=>{o("setMessagePageStatus",{init:!0,project_list_loaded:!0}),o("setMessageProjectList",t),e(t)})).error((e=>{o("setMessageProjectList",[]),r(e)}))}))},PressPlayMessageProjectInfoGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.getMessageProjectInfo(t).success((t=>{o("setMessageProjectInfo",t.data.project),o("setMessageProjectReward",t.data.project),o("setMessageProjectSetting",t.data.project_setting),o("clearMessageProjectMessageList"),o("setMessasgeQueryParams",{}),e(t)})).error((e=>{r(e)}))}))},PressPlayMessageProjectGroupMessageListGet(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.getMessageProjectGroupMessageList(t).success((e=>{e.data.type="all",o("setMessageProjectGroupMessageList",e.data)})).error((e=>{r(e)}))}))},PressPlayMessageProjectChooseGroupMessage(e,t){let{commit:o}=e;const r={g_msg:t,list_type:"channel-list"};if(r.g_msg){r.p_channel_id="",o("setMessasgeQueryParams",r);o("setMessagePageStatus",{group_status:"all"}),o("clearMessageProjectGroupMessageEdit")}else r.g_msg_id="",o("setMessasgeQueryParams",r),o("clearMessageProjectGroupMessageEdit")},PressPlayMessageProjectChooseProject(e,t){let{commit:o,state:r}=e;if(t!==r.MessasgeQueryParams.project_id){o("setMessasgeQueryParams",{project_id:t}),o("setMessageProjectInfo",null),o("setMessageProjectReward",null)}},PressPlayMessageProjectChooseReward(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{reward_id:t})},PressPlayMessageProjectChooseRewards(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{reward_ids:t})},PressPlayMessageProjectChooseMark(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{mark_status:t})},PressPlayMessageProjectChooseRead(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{read_status:t})},PressPlayMessageProjectGroupChooseStatus(e,t){let{commit:o}=e;o("setMessagePageStatus",{group_status:t})},PressPlayMessageProjectChannelListSet(e,t){let{commit:o}=e;o("setMessageProjectChannelList",t)},PressPlayMessageProjectChannelListCount(e,t){let{commit:o}=e;o("countMessageProjectChannelList",t)},PressPlayMessageProjectChannelSelected(e,t){let{commit:o,state:r}=e;t&&t.init&&(o("setMessagePageStatus",{list_func_type:"mark"}),o("clearMessageProjectChannelSelected")),o("selectMessageProjectChannel",t.p_channel_id),o("checkMessageProjectChannelSelectMode")},PressPlayMessageProjectChannelSelectedCancel(e,t){let{commit:o}=e;o("setMessagePageStatus",{list_func_type:"default"}),o("clearMessageProjectChannelSelected")},PressPlayMessageProjectChannelOpen(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{project_id:"",p_channel_id:"",list_type:"channel",...t})},PressPlayMessageProjectGroupMessageOpen(e,t){let{commit:o}=e;return new Promise(((e,r)=>{const a={g_msg_id:"",list_type:"channel",...t};o("setMessasgeQueryParams",a),e()}))},PressPlayMessageProjectMessageListSet(e,t){let{commit:o}=e;t.listType="project",o("setMessageMessageList",t)},PressPlayMessageProjectChannelIdFilterSet(e,t){let{commit:o}=e;o("setPressPlayMessageProjectChannelIdFilter",t)},PressPlayMessageProjectMessageTmpListSet(e,t){let{commit:o}=e;o("setPressPlayMessageProjectMessageTmpList",t)},PressPlayMessageProjectMemberDetailGet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{M.A.getMessageProjectMemberDetail(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},PressPlayMessageProjectGroupMessageGet(e,t){let{commit:o}=e;return"new"===t.group_id?new Promise(((e,t)=>{o("setMessageProjectGroupMessageEdit",{}),e()})):new Promise(((e,r)=>{M.A.getMessageProjectGroupMessage(t).success((t=>{t.data.type="partial";const r={type:"partial",groups:[t.data.group]};o("setMessageProjectGroupMessageList",r),o("setMessageProjectGroupMessageEdit",t.data.group),e()})).error((e=>{r(e)}))}))},PressPlayMessageProejctGroupMessageSave(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.saveMessageProjectGroupMessage(t).success((t=>{const r={type:"partial",groups:[t.data.group]};o("setMessageProjectGroupMessageList",r),e(t)})).error((e=>{r(e)}))}))},PressPlayMessageProejctGroupMessageDel(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.delMessageProjectGroupMessage(t).success((t=>{e();o("setMessasgeQueryParams",{g_msg_id:"",list_type:"channel-list",g_msg:!0}),o("clearMessageProjectGroupMessageEdit")})).error((e=>{r(e)}))}))},PressPlayMessageProejctGroupMessageSend(e,t){let{commit:o}=e;return new Promise(((e,r)=>{M.A.sendMessageProjectGroupMessage(t).success((t=>{const r={type:"partial",groups:[t.data.group]};o("setMessageProjectGroupMessageList",r),o("setMessageProjectGroupMessageEdit",t.data.group),e()})).error((e=>{r(e)}))}))},PressPlayMessageProejctGroupMessageAttechedLoaderSet(e,t){let{commit:o}=e;o("setMessageAttechedLoader",t)},PressPlayMessageProejctMessageClean(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{p_channel_id:""}),o("clearMessageProjectMessageList")}},...{PressPlayMessagePersonChannelListSet(e,t){let{commit:o}=e;o("setMessagePersonChannelList",t)},PressPlayMessagePersonMessageListSet(e,t){let{commit:o}=e;t.listType="person",o("setMessageMessageList",t)},PressPlayMessagePersonChannelOpen(e,t){let{commit:o}=e;o("setMessasgeQueryParams",{channel_id:"",list_type:"channel",...t})},PressPlayMessagePersonMessageTmpListSet(e,t){let{commit:o}=e;o("setPressPlayMessagePersonMessageTmpList",t)},PressPlayMessagePersonMemberDetailGet(e,t){let{commit:o}=e;return new Promise(((e,o)=>{let r="";r=t.project_id?"getMessagePersonProjectDetail":"getMessagePersonMemberDetail",M.A[r](t).success((t=>{e(t)})).error((e=>{o(e)}))}))}}};var E=o(56731);const I={...{getPersonalInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.getPersonalInfo(t).success((t=>{o("setPersonalInfo",t.data),e(t)})).error((e=>{r(e)}))}))},savePersonalInfo(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.savePersonalInfo(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},checkNickName(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.checkNickName(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},changePassword(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.changePassword(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},updateDetailSetting(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.updateDetailSetting(t).success((t=>{o("setDetailSetting",t.data),e(t)})).error((e=>{r(e)}))}))},getCreditCardInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.getCreditCardInfo(t).success((t=>{o("setCreditCardInfo",t.data),e(t)})).error((e=>{r(e)}))}))},addCreditCard(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.addCreditCard(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},enableAlternateCreditCard(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.enableAlternateCreditCard(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},disableAlternateCreditCard(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.disableAlternateCreditCard(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},deleteCreditCard(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.deleteCreditCard(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},setDefaultCreditCard(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.setDefaultCreditCard(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},getInvoiceInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.getInvoiceInfo(t).success((t=>{o("setInvoiceInfo",t.data),e(t)})).error((e=>{r(e)}))}))},saveInvoiceInfo(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.saveInvoiceInfo(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},getDevicesInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.getDevicesInfo(t).success((t=>{o("setDevicesInfo",t.data),o("currentLoginCode",t.current_login_code),o("deviceLimitNum",t.device_limit_num),e(t)})).error((e=>{r(e)}))}))},logoutDevice(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.logoutDevice(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},getAppLoginQRCode(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.getAppLoginQRCode(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},setInterests(e,t){let{commit:o}=e;return new Promise(((e,r)=>{E.A.setInterests(t).success((r=>{o("setInterests",t),e(r)})).error((e=>{r(e)}))}))},getMemberPromoteGift(e,t){let{commit:o}=e;return new Promise(((e,o)=>{E.A.getMemberPromoteGift(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}}};var B=o(11017);const{API_HOST:j,API_PAYGATE_HOST:x}=B.A.API_CONFIG,L={...B.A,getExchangeVoucherInfo(e){const t=`${j}/member/voucher/exchange`;return L.run(t,"POST",e)},exchangeVoucher(e){const t=`${x}/paygate/voucher/normal`;return L.run(t,"POST",e)}},O=L,V={...B.A,...O},$={...{getExchangeVoucherInfo(e,t){let{commit:o}=e;return new Promise(((e,o)=>{V.getExchangeVoucherInfo(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},exchangeVoucher(e,t){let{commit:o}=e;return new Promise(((e,o)=>{V.exchangeVoucher(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}}},D=B.A.API_CONFIG.API_HOST,F={...B.A,searchPressPlayHelpFAQKeyword(e){let t=`${D}/help/faq/search`;return t=i.Yj.formatUrlByParams(t,e),F.run(t,"GET",e)}},J=F,z={...B.A,...J},G={...{searchPressPlayHelpFAQKeyword(e,t){let{commit:o}=e;return new Promise(((e,o)=>{const r={keyword:t.keyword};z.searchPressPlayHelpFAQKeyword(r).success((t=>{e(t)})).error((e=>{o(e)}))}))}}},H=B.A.API_CONFIG.API_HOST,R={...B.A,openClub:e=>{const t=`${H}/project_detail/open_club/${e.project_id}`;return R.run(t,"PATCH",e)},updateChannel:e=>{const t={channel_id:e.channel_id};let o=`${H}/channel/{channel_id}`;return o=i.Yj.formatUrlByParams(o,t),R.run(o,"PUT",e)},getChannelStatProgress:e=>{const t={channel_id:e.channel_id};let o=`${H}/channel/status/{channel_id}`;return o=i.Yj.formatUrlByParams(o,t),R.run(o,"GET",{})},openChannel:e=>{const t={channel_id:e.channel_id};let o=`${H}/channel/open/{channel_id}`;return o=i.Yj.formatUrlByParams(o,t),R.run(o,"PATCH",e)},fetchAudioByRSS:e=>{const t={channel_id:e.channel_id,album_id:e.album_id};let o=`${H}/channel/{channel_id}/album/{album_id}/fetch_audio_by_rss`;return o=i.Yj.formatUrlByParams(o,t),R.run(o,"PUT",e)},getChannelMainInfo:e=>{const t={channel_id:e.channel_id};let o=`${H}/channel/{channel_id}`;return o=i.Yj.formatUrlByParams(o,t),R.run(o,"GET",{})}},q=R,U={...B.A,...q},W={common:{...A},message:{...T},member:{...I},paygate:{...$},help:{...G},channel:{...{...{openClub(e,t){let{commit:o}=e;return new Promise(((e,o)=>{U.openClub(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},getChannelStatProgress(e,t){let{commit:o}=e;return new Promise(((e,r)=>{U.getChannelStatProgress(t).success((t=>{o("getChannelStatProgress",t.data),e(t)})).error((e=>{o("getChannelStatProgress",{}),r(e)}))}))},openChannel(e,t){let{commit:o}=e;return new Promise(((e,o)=>{U.openChannel(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},fetchAudioByRSS(e,t){let{commit:o}=e;return new Promise(((e,o)=>{U.fetchAudioByRSS(t).success((t=>{e(t)})).error((e=>{o(e)}))}))},getChannelMainInfo(e,t){let{commit:o}=e;return new Promise(((e,r)=>{U.getChannelMainInfo(t).success((t=>{o("setChannelMainInfo",t.data),e(t)})).error((e=>{r(e)}))}))}},...{updateChannel(e,t){let{commit:o}=e;return new Promise(((e,o)=>{U.updateChannel(t).success((t=>{e(t)})).error((e=>{o(e)}))}))}}}}},Y={common:{...{MemberInfo:{contact_phone:"",head_photo:"",is_email_verify:!1,member_email:"",member_id:"",nickname:"",project_list:[],subscribe:[],subscribe_reward:[],user_id:"",username:"",total_points:0,coupon_count:0,giftcard_count:0,third_party:[],interest:[],member_config:{},gender:""},defaultMemberInfo:{contact_phone:"",head_photo:"",is_email_verify:!1,member_email:"",member_id:"",nickname:"",project_list:[],subscribe:[],subscribe_reward:[],user_id:"",username:"",total_points:0,coupon_count:0,giftcard_count:0,third_party:[],interest:[],member_config:{},gender:""},Referer:"",originalSearchList:[],ppServerTime:null,MemberPoints:{platform:{apple:0,free:0,google:0,web:0},type:{bonus:0,cash:0,gift:0,refund:0}},MemberProjects:{manage_project:[],subscribe_project:[]},InterestTrigger:!1,InterestChangeFlag:!1,HeaderSearchDisplay:!0,PageSetting:{mode_type:"pc",device:"",in_app:!1,browser:{name:"",os:""},widget_bottom_padding:0,page_focus:!1,page_scroll:0,search_bar:!0,album_index:!0,global_player:!0,width:0,height:0},HistoryPopstateFlag:!1,PageSetting_mode_type:"pc",PageSetting_device:"",PageSetting_in_app:!1,PageSetting_browser:{},PageSetting_widget_bottom_padding:0,PageSetting_page_focus:!1,PageSetting_page_scroll:0,PageSetting_width:0,PageSetting_height:0,PageSetting_search_bar:0,PageSetting_album_index:0,PageSetting_global_player:0,ShareUrlTrigger:0,ShareUrlInfo:{title:"",content:""},ShareOnceUrl:"",routerChange:!1,SEO:{},breadcrumbList:[],IsDark:"",Theme:"",PP_PAGE_VER_IS_NEW:null,PAGE_ID:"",MainInfo:{},reloadGlobalPlayerQueueTrigger:!1,TriggerPlayAudioFbqFlag:"",PlayerAttachList:{},PlayerChapterList:{},triggerOpenMyListFileObj:null,triggerGlobalPlayerPlay:null,triggerGlobalPlayerStop:null,GlobalProjectCards:{},GlobalRewardCards:{},GlobalArticleCards:{},GlobalAlbumCards:{},GlobalActivityCards:{},GlobalProjectTypes:[],BookTrigger:!1,RouterFacebookPixel:!1,RouterGaId:!1,searchLogTrigger:null,reviewInfo:{point:null,is_need_ask:!1,project_info:{},review:[]},review_id:null,userReviewData:{contents:{}},reviewTrigger:!1,reviewLightTrigger:!1,...{L10nStorage:{}}}},message:{...{DefaultQueryParams:{tab:"project",project_id:"",p_channel_id:"",channel_id:"",reward_id:"all",reward_ids:["all"],mark_status:"all",read_status:"all",g_msg:!1,g_msg_id:"",trans_id:"",list_type:"channel-list",keyword:""},MessasgeQueryParams:{member_id:"",tab:"project",project_id:"",channel_id:"",p_channel_id:"",reward_id:"all",reward_ids:["all"],mark_status:"all",read_status:"all",g_msg:!1,g_msg_id:"",trans_id:"",list_type:"channel-list",keyword:""},MessagePageStatus:{init:!0,project_list_loaded:!1,mode_type:null,list_func_type:"default",select_mark:!1,channel_loading:!1,channel_list_loading:!1,focus_message_id:null,group_status:"all",is_admin:!1},MessageMemberInfo:{},MessageMemberIdsLoader:[],MessageGroup:{owner_id:"",project_owner:!1,messages:[]},MessageItem:{channel_id:"",owner_id:"",type:"text",text:"",ctime:"",project_owner:!1,uniq_id:""},MessageProjectMessageList:[],MessageProjectMessageTmpList:{},MessagePersonMessageList:[],MessagePersonMessageTmpList:{},MessageMemberProjectInfo:{},MessageProjectIdsLoader:[],MessageFocusMessageId:"",MessageMemberAttachedInfo:{},MessageAttachedIdsLoader:[],MessageProjectList:[],MessageProjectInfo:null,MessageProjectReward:{},MessageProjectSetting:{},MessageProjectRewardDefault:{project_id:"",reward_id:"",reward_price:"",reward_title:"",reward_type:"",mark_count:0,message_count:0,unread_count:0,subscribe:!1,purchase:!1},MessageProjectChannelList:{},MessageProjectChannelListItem:{type:"",last_msg:"",channel_id:"",mtime:"",last_read_time:"",last_msg_time:"",member_id:"",members:[],owner_id:"",msg_cnt:0,unread_msg_cnt:0,mute:!1,selected:!1,rewards:{},has_apply_cancel:!1,has_cancel:!1,is_favorite:!1},MessageProjectMarkStatus:{all:{mark_title:"全部",mark_status:"all"},marked:{mark_title:"已標記",mark_status:"marked"},unmark:{mark_title:"未標記",mark_status:"unmark"}},MessageProjectReadStatus:{all:{read_title:"全部",read_status:"all"},readed:{read_title:"已讀取",read_status:"readed"},unread:{read_title:"未讀取",read_status:"unread"}},MessageProjectGroupStatus:{all:{title:"所有群發訊息",status:"all"},draft:{title:"草稿匣",status:"draft"}},MessageProjectChannelIdsFilter:null,MessageProjectGroupMessageListItem:{content:"",group_id:"",last_modified:"",rewards:[],send_time:"",status:"draft",sent_cnt:0,read_cnt:0},MessageProjectGroupMessageList:{},MessageProjectGroupMessageEdit:null,MessagePersonChannelList:{},MessagePersonChannelListItem:{type:"",last_msg:"",channel_id:"",mtime:"",last_read_time:"",last_msg_time:"",member_id:"",members:[],owner_id:"",msg_cnt:0,unread_msg_cnt:0,mute:!1}}},member:{...{PersonalInfo:{},CreditCardInfo:{},InvoiceInfo:{},DevicesInfo:{},CurrentLoginCode:"",DeviceLimitNum:"",isPersonalDataChange:!1,hasErrors:!1,userInterests:[],interests:[],recommendProjects:[]}},paygate:{...{}},help:{...{}},channel:{...{refreshPage:{name:"",triggerTimer:""},ChannelInfo:{},ProjectInfo:{},isManager:!1,ChannelRouterLists:{},ChannelStatProgress:{progress:{channel:"0%"},status:{channel:{title:0,album:0,audio:0}}},editAudioTimelineTrigger:null,editAudioTrigger:null,editAlbumTrigger:null,moveAudioTrigger:null,closeMoveAudioEditTrigger:null,InitialInfo:{}}}},Q=function(e,t){const o=e.find((e=>e.timeline_key===t.timeline_key));o&&(o.is_collected=t.is_collected,void 0!==o.collections_count&&(t.is_collected?o.collections_count=parseInt(o.collections_count)+1:o.collections_count=parseInt(o.collections_count)-1))},X={updateAlbumCollectStateAll(e,t){if(e["Channel/Main"]&&e["Channel/Main"].AlbumInfo&&e["Channel/Main"].AlbumInfo.album_id===t.album_id){const o=JSON.parse(JSON.stringify(e["Channel/Main"].AlbumInfo));o.album_id===t.album_id&&(o.is_collected=t.is_collected),e["Channel/Main"].AlbumInfo=o}if(e["Common/GlobalPlayer"]&&e["Common/GlobalPlayer"].globalPlayerQueue&&e["Common/GlobalPlayer"].globalPlayerQueue.length>0){let o=JSON.parse(JSON.stringify(e["Common/GlobalPlayer"].globalPlayerQueue));o=o.map((e=>(e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e["Common/GlobalPlayer"].globalPlayerQueue=o}if(e.HotAlbums&&e.HotAlbums.length>0){const o=JSON.parse(JSON.stringify(e.HotAlbums));o.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e.HotAlbums=o}if(e.NewAlbums&&e.NewAlbums.length>0){const o=JSON.parse(JSON.stringify(e.NewAlbums));o.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e.NewAlbums=o}if(e.RecommendAlbums&&e.RecommendAlbums.length>0){const o=JSON.parse(JSON.stringify(e.RecommendAlbums));o.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e.RecommendAlbums=o}if(e.CategoryAlbums&&Object.keys(e.CategoryAlbums).length>0){const o=JSON.parse(JSON.stringify(e.CategoryAlbums)),r=Object.keys(o);Object.values(o).forEach(((e,a)=>{e.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),o[r[a]]=e})),e.CategoryAlbums=o}if(e.searchAlbumResult&&e.searchAlbumResult.length>0){const o=JSON.parse(JSON.stringify(e.searchAlbumResult));o.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e.searchAlbumResult=o}if(e.collectAlbum&&e.collectAlbum.length>0){const o=JSON.parse(JSON.stringify(e.collectAlbum));o.map((e=>(e&&e.album_id===t.album_id&&(e.is_collected=t.is_collected),e))),e.collectAlbum=o}if(Object.keys(e.GlobalAlbumCards)&&Object.keys(e.GlobalAlbumCards).length>0){const o=JSON.parse(JSON.stringify(e.GlobalAlbumCards));Object.keys(e.GlobalAlbumCards).includes(t.album_id)&&(o[t.album_id].is_collected=t.is_collected),e.GlobalAlbumCards[t.timeline_key]=o[t.timeline_key]}i.Vp.isMobileApp()&&i.Vp.refreshCard({type:"album",album_id:t.album_id,is_collected:t.is_collected})},updateTimelineCollectStateAll(e,t){if(e["Common/GlobalPlayer"]&&e["Common/GlobalPlayer"].globalPlayerQueue&&e["Common/GlobalPlayer"].globalPlayerQueue.length>0){let o=JSON.parse(JSON.stringify(e["Common/GlobalPlayer"].globalPlayerQueue));o=o.map((e=>(e.timeline_key===t.timeline_key&&(e.is_collected=t.is_collected),e))),e["Common/GlobalPlayer"].globalPlayerQueue=o}if(e.ppGlobalPlayerInfo&&e.ppGlobalPlayerInfo.timeline_key===t.timeline_key){const o=JSON.parse(JSON.stringify(e.ppGlobalPlayerInfo));o.is_collected=t.is_collected,e.ppGlobalPlayerInfo=o}if(e.TimelineInfo&&e.TimelineInfo.timeline_key===t.timeline_key){const o=JSON.parse(JSON.stringify(e.TimelineInfo));o.is_collected=t.is_collected,void 0!==o.collections_count&&(o.is_collected?o.collections_count=parseInt(o.collections_count)+1:o.collections_count=parseInt(o.collections_count)-1),e.TimelineInfo=o}if(e.activityTimeline){const o=JSON.parse(JSON.stringify(e.activityTimeline));Q(o,t),e.activityTimeline=o}if(e.subscribeTimeline){const o=JSON.parse(JSON.stringify(e.subscribeTimeline));Q(o,t),e.subscribeTimeline=o}if(e.collectTimeline){const o=JSON.parse(JSON.stringify(e.collectTimeline));Q(o,t),e.collectTimeline=o}if(e.FeaturedArticlesList){const o=JSON.parse(JSON.stringify(e.FeaturedArticlesList));Q(o,t),e.FeaturedArticlesList=o}if(e.PopularArticlesList){const o=JSON.parse(JSON.stringify(e.PopularArticlesList));Q(o,t),e.PopularArticlesList=o}if(e.LimitedTimeArticlesList){const o=JSON.parse(JSON.stringify(e.LimitedTimeArticlesList));Q(o,t),e.LimitedTimeArticlesList=o}if(e.RecommendArticlesList){const o=JSON.parse(JSON.stringify(e.RecommendArticlesList));Q(o,t),e.RecommendArticlesList=o}if(e.ArticleList){const o=JSON.parse(JSON.stringify(e.ArticleList));Q(o,t),e.ArticleList=o}if(e.RecommendArticles){const o=JSON.parse(JSON.stringify(e.RecommendArticles));Q(o,t),e.RecommendArticles=o}if(Object.keys(e.GlobalArticleCards)&&Object.keys(e.GlobalArticleCards).length>0){const o=JSON.parse(JSON.stringify(e.GlobalArticleCards));Object.keys(e.GlobalArticleCards).includes(t.timeline_key)&&(o[t.timeline_key].is_collected=t.is_collected,o[t.timeline_key].is_collected?o[t.timeline_key].collections_count=parseInt(o[t.timeline_key].collections_count)+1:o[t.timeline_key].collections_count=parseInt(o[t.timeline_key].collections_count)-1),e.GlobalArticleCards[t.timeline_key]=o[t.timeline_key]}i.Vp.isMobileApp()&&i.Vp.refreshCard({type:"timeline",timeline_key:t.timeline_key,is_collected:t.is_collected})},updateProjectFollowStateAll(e,t){if(e["Common/GlobalPlayer"]&&e["Common/GlobalPlayer"].globalPlayerQueue&&e["Common/GlobalPlayer"].globalPlayerQueue.length>0){let o=JSON.parse(JSON.stringify(e["Common/GlobalPlayer"].globalPlayerQueue));o=o.map((e=>(e.project_id===t.project_id&&(e.is_followed=t.is_followed),e))),e["Common/GlobalPlayer"].globalPlayerQueue=o}if(e.ProjectInfo&&e.ProjectInfo.project_id===t.project_id){const o=JSON.parse(JSON.stringify(e.ProjectInfo));o.is_followed=t.is_followed,e.ProjectInfo=o}if(e.MainInfo&&"project"===e.MainInfo.main_info_type&&e.MainInfo.id===t.project_id){const o=JSON.parse(JSON.stringify(e.MainInfo));o.is_followed=t.is_followed,o.is_followed?o.follow_num=parseInt(o.follow_num)+1:o.follow_num=parseInt(o.follow_num)-1,e.MainInfo=o}if(e.recommendProjects&&e.recommendProjects.length>0){const o=JSON.parse(JSON.stringify(e.recommendProjects));o.map((e=>(e&&e.project_id===t.project_id&&(e.is_followed=t.is_followed),e))),e.recommendProjects=o}if(Object.keys(e.GlobalProjectCards)&&Object.keys(e.GlobalProjectCards).length>0){const o=JSON.parse(JSON.stringify(e.GlobalProjectCards));o[t.project_id]&&(Object.keys(o).includes(t.project_id)&&(o[t.project_id].is_follower=t.is_followed,o[t.project_id].is_follower?o[t.project_id].follower_num=parseInt(o[t.project_id].follower_num)+1:o[t.project_id].follower_num=parseInt(o[t.project_id].follower_num)-1),e.GlobalProjectCards[t.project_id]=o[t.project_id])}if(e.Project&&e.Project.ProjectInfo&&e.Project.ProjectInfo.project_id===t.project_id){const o=JSON.parse(JSON.stringify(e.Project.ProjectInfo));o.is_follower=t.is_followed,o.is_follower?o.follower_num=parseInt(o.follower_num)+1:o.follower_num=parseInt(o.follower_num)-1,e.Project.ProjectInfo=o}i.Vp.isMobileApp()&&i.Vp.refreshCard({type:"project",project_id:t.project_id,is_follower:t.is_followed})},updateChannelFollowStateAll(e,t){if(e.ChannelInfo&&e.ChannelInfo.channel_id===t.channel_id){const o=JSON.parse(JSON.stringify(e.ChannelInfo));o.is_followed=t.is_followed,e.ChannelInfo=o}if(e.MainInfo&&"channel"===e.MainInfo.main_info_type&&e.MainInfo.id===t.channel_id){const o=JSON.parse(JSON.stringify(e.MainInfo));o.is_followed=t.is_followed,o.is_followed?o.follow_num=parseInt(o.follow_num)+1:o.follow_num=parseInt(o.follow_num)-1,e.MainInfo=o}i.Vp.isMobileApp()&&i.Vp.refreshCard({type:"channel",channel_id:t.channel_id,is_follower:t.is_followed})},triggerProjectFollowLog(e,t){if("production"===i.a2.get("ENVIRONMENT")){const{data:e,ppPanel_data:o,event_category:r,event_label:a}=t;{const t={event_category:r,event_label:a};e.is_followed?i.Xe.gtag("event","follow",t):i.Xe.gtag("event","unfollow",t),i.Xe.gtag("event","ppGlobalFollow_project_click",{event_category:"project",event_label:{...o}}),i.zT.pageAction("ppGlobalFollow_project_click",o)}const{is_followed:n,project_card:s}=e;if(n){const e=[];s.project_types.forEach((t=>{"1"===t.parent&&e.push(t.type_id)}));const t={event_id:"014",project_ids:[s.project_id],project_types:e};i.Xe.fbq("track","AddToWishlist",t),i.Xe.ttq("track","AddToWishlist",t)}}},triggerChannelFollowLog(e,t){if("production"===i.a2.get("ENVIRONMENT")){const{data:e,ppPanel_data:o,event_category:r,event_label:a}=t;{const t={event_category:r,event_label:a};e.is_followed?i.Xe.gtag("event","follow",t):i.Xe.gtag("event","unfollow",t),i.zT.pageAction("ppGlobalFollow_channel_click",o)}}},clearLocalMemberProjectID(e,t){const{member_id:o}=e.MemberInfo;if(o){const e=i.Lr.get("member-projectID");e[o]===t.project_id&&(delete e[o],i.Lr.set("member-projectID",e))}}},K={storeL10n(e,t){const o=JSON.parse(JSON.stringify(e.L10nStorage));for(const r in t){const e=t[r];o[r]={...o[r],...e}}e.L10nStorage=o}},Z={...{setMemberInfo(e,t){const o=JSON.parse(JSON.stringify(e.MemberInfo));!1===t&&(t=JSON.parse(JSON.stringify(e.defaultMemberInfo))),e.MemberInfo={...o,...t}},setMemberPoints(e,t){const{platform:o,type:r,status:a}=t;e.MemberPoints={...e.MemberPoints,platform:o,type:r,status:a}},setMemberProjects(e,t){e.MemberProjects={...e.MemberProjects,...t}},prependPressPlayMemberNotification(e,t){const o=JSON.parse(JSON.stringify(e.HeaderNotification));o.items=[t].concat(o.items),e.HeaderNotification=o},appendPressPlayMemberNotification(e,t){const o=JSON.parse(JSON.stringify(e.HeaderNotification));o.items=o.items.concat([t]),e.HeaderNotification=o},recordReferer(e,t){e.Referer=t.referer},setPressplayServerTime(e,t){t&&(e.ppServerTime=t)},updatePressplayServerTime(e){e.ppServerTime+=1e3},setInterestTrigger(e,t){e.InterestTrigger=t},setInterestChangeFlag(e,t){e.InterestChangeFlag=t},setHeaderSearchDisplay(e,t){e.HeaderSearchDisplay=t}},...{setPressPlayPageSetting(e,t){let o=JSON.parse(JSON.stringify(e.PageSetting));o={...o,...t},i.a2.set("PageSetting",o),e.PageSetting=o;for(const r in o)e[`PageSetting_${r}`]!==o[r]&&(e[`PageSetting_${r}`]=o[r])},setPressPlayHistoryPopstateFlag(e,t){e.HistoryPopstateFlag=!0===t}},...{setJsVarDataToState(e,t){Object.keys(t).forEach((o=>{e[o]=t[o]}))},shareUrlTrigger(e,t){let o=1;!1===t&&(o=-1),e.ShareUrlTrigger=(new Date).getTime()*o},setShareOnceUrl(e,t){e.ShareOnceUrl=t},clearShareOnceUrl(e,t){e.ShareOnceUrl=!1},setShareUrlParams(e,t){if(t){const o=JSON.parse(JSON.stringify(e.ShareUrlInfo));e.ShareUrlInfo={...o,...t}}},setAutoAction(e,t){i.Lr.set("auto-action",t)},routerChange(e,t){e.routerChange=t},setBreadcrumbs(e,t){e.breadcrumbList=t},setPPPageVerIsNew(e,t){e.PP_PAGE_VER_IS_NEW=t},setSEO(e,t){e.SEO=t;const o=i.a2.get("ForceSEO")||!1,r=i.a2.get("IS_PP_AUTO_CACHE")||!1;if(!o||!r){const{title:e,image:o,description:r,author:a,url:n,keywords:i,canonical:s,og_update_time:l,article_modified_time:c,article_published_time:d}=t;if(e&&(document.title=e,document.querySelector('meta[property="og:title"]').setAttribute("content",e)),r&&(document.querySelector('meta[name="description"]').setAttribute("content",r),document.querySelector('meta[property="og:description"]').setAttribute("content",r)),i&&document.querySelector('meta[name="keywords"]').setAttribute("content",i),a&&(document.querySelector('meta[name="author"]').setAttribute("content",a||""),document.querySelector('meta[property="article_author"]').setAttribute("content",a||"")),n&&(document.querySelector('meta[property="og:url"]').setAttribute("content",n),document.querySelector('meta[property="al:web:url"]').setAttribute("content",n),document.querySelector('meta[property="al:android:url"]').setAttribute("content",n.replace("https","ppacademy")),document.querySelector('meta[property="al:ios:url"]').setAttribute("content",n.replace("https","ppacademy"))),o&&document.querySelector('meta[property="og:image"]').setAttribute("content",o),document.querySelector('link[rel="canonical"]')&&document.querySelector('link[rel="canonical"]').remove(),s){const e=document.createElement("link");e.setAttribute("rel","canonical"),e.setAttribute("href",s),document.querySelector("head").append(e)}if(document.querySelector('meta[property="og:update_time"]')&&document.querySelector('meta[property="og:update_time"]').remove(),l){const e=document.createElement("meta");e.setAttribute("property","og:update_time"),e.setAttribute("content",l),document.querySelector("head").append(e)}if(document.querySelector('meta[property="article:published_time"]')&&document.querySelector('meta[property="article:published_time"]').remove(),d){const e=document.createElement("meta");e.setAttribute("property","article:published_time"),e.setAttribute("content",d),document.querySelector("head").append(e)}if(document.querySelector('meta[property="article:modified_time"]')&&document.querySelector('meta[property="article:modified_time"]').remove(),c){const e=document.createElement("meta");e.setAttribute("property","article:modified_time"),e.setAttribute("content",c),document.querySelector("head").append(e)}}},setIsDark(e,t){e.IsDark=t,e.IsDark?e.Theme="dark":e.Theme="light"},setPageId(e,t){e.PAGE_ID=t}},...{reloadGlobalPlayerQueueTrigger(e,t){e.reloadGlobalPlayerQueueTrigger=(new Date).getTime()},setPPGlobalPlayerAttachInfo(e,t){e.PlayerAttachList[t.file_key]={...e.PlayerAttachList[t.file_key],...t}},setPPGlobalPlayerAttachLastTimeSecond(e,t){const o=JSON.parse(JSON.stringify(e.PlayerAttachList[t.file_key]));o&&(Number.isFinite(t.last_time_second)&&(o.record||(o.record={last_time_second:0}),o.record.last_time_second=t.last_time_second),e.PlayerAttachList[t.file_key]=o)},setPPGlobalPlayerAttachList(e,t){let o=[];if(t){o=Array.isArray(t)?t:Object.values(t);const r=JSON.parse(JSON.stringify(e.PlayerAttachList));o.forEach((e=>{r[e.file_key]=e})),e.PlayerAttachList=r}},setPPGlobalPlayerChapterList(e,t){let o=[];if(t){o=Array.isArray(t)?t:Object.values(t);const r=JSON.parse(JSON.stringify(e.PlayerChapterList));o.forEach((e=>{e.chapters&&!r[e.file_key]&&(r[e.file_key]=e.chapters)})),e.PlayerChapterList=r}},triggerToOpenMyPlayListBox(e,t){e.triggerOpenMyListFileObj=t},triggerGlobalPlayerPlay(e){e.triggerGlobalPlayerPlay=(new Date).getTime()},triggerGlobalPlayerStop(e){e.triggerGlobalPlayerStop=(new Date).getTime()}},...X,...{setGlobalProjectCardsToState(e,t){const{data:o}=t;Array.isArray(o)&&o.length>0&&o.forEach((t=>{e.GlobalProjectCards[t.project_id]=t}))},setGlobalRewardCardsToState(e,t){const{data:o}=t;Array.isArray(o)&&o.length>0&&o.forEach((t=>{e.GlobalRewardCards[t.reward_id]=t}))},setGlobalArticleCardsToState(e,t){const{data:o}=t;Array.isArray(o)&&o.length>0&&o.forEach((t=>{e.GlobalArticleCards[t.timeline_key]=t}))},setGlobalAlbumCardsToState(e,t){const{data:o}=t;Array.isArray(o)&&o.length>0&&o.forEach((t=>{e.GlobalAlbumCards[t.album_id]=t}))},setGlobalActivityCardsToState(e,t){const{data:o}=t;Array.isArray(o)&&o.length>0&&o.forEach((t=>{e.GlobalActivityCards[t.activity_id]=t}))}},...{setGlobalProjectTypeToState(e,t){const{types:o}=t;e.GlobalProjectTypes=o||[]}},...{openBook(e,t){e.BookTrigger=(new Date).getTime()},closeBook(e,t){e.BookTrigger=!1}},...{setRouterFacebookPixel(e,t){!1===e.RouterFacebookPixel&&(e.RouterFacebookPixel={project_id:t.project_id,facebook_pixel:t.facebook_pixel})},setRouterGaId(e,t){!1===e.RouterGaId&&(e.RouterGaId={project_id:t.project_id,ga_code:t.ga_code})}},...{searchLogTrigger(e,t){e.searchLogTrigger=C()().valueOf()}},...{setReviewId(e,t){e.review_id=t},setReviewBasic(e,t){t.is_need_ask&&(e.reviewInfo.is_need_ask=t.is_need_ask),e.reviewInfo.point=t.point?t.point:0},setReviewInfo(e,t){e.reviewInfo={...e.reviewInfo,...t}},setUserReviewData(e,t){e.userReviewData.contents={...e.userReviewData.contents,...t}},resetReviewInfo(e){e.review_id=null,e.reviewInfo={is_need_ask:!1,point:null,project_info:{},review:[]},e.userReviewData={contents:{}}},openReview(e){e.reviewTrigger=(new Date).getTime()},closeReview(e){e.reviewTrigger=!1},openReviewLight(e){e.reviewLightTrigger=(new Date).getTime()},closeReviewLight(e){e.reviewLightTrigger=!1}},...K},ee=function(e){return e=e.sort(((e,t)=>e._timestamp>t._timestamp?1:e._timestamp<t._timestamp?-1:0))},te={setDefaultQueryParams(e,t){const o=JSON.parse(JSON.stringify(e.DefaultQueryParams));e.DefaultQueryParams={...o,...t}},setMessasgeQueryParams(e,t){const o=JSON.parse(JSON.stringify(e.DefaultQueryParams)),r=JSON.parse(JSON.stringify(e.MessasgeQueryParams));if(t.popstats){delete t.popstats;for(const e in o)t[e]||(t[e]=o[e]);e.MessasgeQueryParams={...r,...t}}else e.MessasgeQueryParams={...r,...t}},setMessagePageStatus(e,t){const o=JSON.parse(JSON.stringify(e.MessagePageStatus));e.MessagePageStatus={...o,...t}},setMessasgeQueryParamsToDefault(e,t){const o=JSON.parse(JSON.stringify(e.DefaultQueryParams)),r=JSON.parse(JSON.stringify(e.MessasgeQueryParams));t.forEach((e=>{r[e]=o[e]})),e.MessasgeQueryParams=r},setMessageResourceInfo(e,t){if(t.members&&t.members.length>0){const o=JSON.parse(JSON.stringify(e.MessageMemberInfo));t.members.forEach((e=>{o[e.member_id]=e})),e.MessageMemberInfo=o;let r=JSON.parse(JSON.stringify(e.MessageMemberIdsLoader));r=r.filter((e=>!o[e])),e.MessageMemberIdsLoader=r}if(t.projects&&t.projects.length>0){const o=JSON.parse(JSON.stringify(e.MessageMemberProjectInfo));t.projects.forEach((e=>{o[e.project_id]=e})),e.MessageMemberProjectInfo=o;let r=JSON.parse(JSON.stringify(e.MessageProjectIdsLoader));r=r.filter((e=>!o[e])),e.MessageProjectIdsLoader=r}if(t.attacheds&&t.attacheds.length>0){const o=JSON.parse(JSON.stringify(e.MessageMemberAttachedInfo));t.attacheds.forEach((e=>{o[e.attachedId]=e})),e.MessageMemberAttachedInfo=o;let r=JSON.parse(JSON.stringify(e.MessageAttachedIdsLoader));r=r.filter((e=>!o[e])),e.MessageAttachedIdsLoader=r}},clearMessageList(e){e.MessageProjectMessageList=[]},setMessageMessageList(e,t){let o=[],r={};const a=JSON.parse(JSON.stringify(e.MessagePageStatus)),n=JSON.parse(JSON.stringify(e.MessageMemberInfo)),i=JSON.parse(JSON.stringify(e.MessageMemberProjectInfo)),s=JSON.parse(JSON.stringify(e.MessageMemberAttachedInfo)),l=JSON.parse(JSON.stringify(e.MessageMemberIdsLoader)),c=JSON.parse(JSON.stringify(e.MessageProjectIdsLoader)),d=JSON.parse(JSON.stringify(e.MessageAttachedIdsLoader));if("project"===t.listType?"all"===t.type?(o=[],e.MessageProjectMessageTmpList={}):(o=JSON.parse(JSON.stringify(e.MessageProjectMessageList)),r=JSON.parse(JSON.stringify(e.MessageProjectMessageTmpList))):"person"===t.listType&&("all"===t.type?(o=[],e.MessagePersonMessageTmpList={}):(o=JSON.parse(JSON.stringify(e.MessagePersonMessageList)),r=JSON.parse(JSON.stringify(e.MessagePersonMessageTmpList)))),t.data.length>0){let e=t.data.map((e=>{const t=C()(e.ctime);return e._timestamp=parseInt(t.format("x")),e.seq&&(e._timestamp+=e.seq),e._date=t.format("YYYY/MM/DD"),e._time=t.format("HH:mm"),e}));e=ee(e),a.focus_message_id=e[e.length-1]._id,e.forEach((e=>{switch(o.push(e),e.project_owner?i[e.owner_id]||c.push(e.owner_id):n[e.owner_id]||l.push(e.owner_id),e.uniq_id&&r[e.uniq_id]&&delete r[e.uniq_id],e.type){case"text":case"init":case"official":break;default:s[e.text]||d.push(e.text)}}))}o=ee(o),"project"===t.listType?(e.MessageProjectMessageList=o,e.MessageProjectMessageTmpList=r):"person"===t.listType&&(e.MessagePersonMessageList=o,e.MessagePersonMessageTmpList=r),e.MessagePageStatus=a,e.MessageMemberIdsLoader=l,e.MessageProjectIdsLoader=c,e.MessageAttachedIdsLoader=d},setMessageAttechedLoader(e,t){const o=JSON.parse(JSON.stringify(e.MessageMemberAttachedInfo));let r=JSON.parse(JSON.stringify(e.MessageAttachedIdsLoader));r=r.concat(t),r=r.filter((e=>!o[e])),e.MessageAttachedIdsLoader=r}},oe={common:{...Z},message:{...{...te,...{setMessageProjectList(e,t){const o=JSON.parse(JSON.stringify(e.MessageMemberProjectInfo)),r=[];t.data.projects.forEach((e=>{o[e.project_id]=e,r.push(e)})),e.MessageProjectList=r,e.MessageMemberProjectInfo=o},setMessageProjectInfo(e,t){e.MessageProjectInfo=t},setMessageProjectReward(e,t){e.MessageProjectReward={};const o={};if(o.all={...e.MessageProjectRewardDefault,reward_id:"all",reward_title:"全部訊息",reward_type:"",reward_price:""},o.follower={...e.MessageProjectRewardDefault,reward_id:"follower",reward_title:"追蹤中",reward_type:"follower",reward_price:""},t){let r=!1,a=!1;t.rewards.forEach((t=>{o[t.reward_id]={...e.MessageProjectRewardDefault,...t},"subscribe"===t.reward_type&&(o[t.reward_id].subscribe=!0,r=!0),"purchase"===t.reward_type&&(o[t.reward_id].purchase=!0,a=!0)})),o.all.subscribe=r,o.all.purchase=a}e.MessageProjectReward=o},setMessageProjectSetting(e,t){e.MessageProjectSetting=t},setMessageProjectChannelList(e,t){const o=JSON.parse(JSON.stringify(e.MessageMemberInfo)),r=JSON.parse(JSON.stringify(e.MessageMemberIdsLoader)),a=JSON.parse(JSON.stringify(e.MessageProjectChannelListItem));let n={};const i={};t.status&&t.status.forEach((e=>{i[e.member_id]=e,delete i[e.member_id].member_id})),"all"!==t.type&&(n=JSON.parse(JSON.stringify(e.MessageProjectChannelList))),Array.isArray(t.data)&&t.data.length>0&&t.data.forEach((e=>{let s={};const l=JSON.parse(JSON.stringify(e));if(n[l.channel_id])s={...n[l.channel_id],...l};else{const e=JSON.parse(JSON.stringify(a));s={...e,...l}}if(s._timestamp=C()(s.last_msg_time).format("x"),s.rewards.all=1,t.status&&i[s.member_id]){const e=i[s.member_id];s.has_apply_cancel=!1,s.has_cancel=!1,s.is_favorite=!!e.is_favorite;let t=!1;e.rewards.forEach((e=>{switch(e.status){case"ACTIVE":t=!0,s.rewards[e.reward_id]=1;break;case"APPLY_CANCEL":t=!0,s.rewards[e.reward_id]=0;break;case"TRIAL":s.rewards[e.reward_id]=2;break;case"CANCEL":s.has_cancel=!0}})),t||(s.is_favorite?s.rewards.follower=0:delete s.rewards.follower)}n[l.channel_id]=s,s.members.forEach((e=>{o[e]||r.push(e)}))})),e.MessageProjectChannelList=n,e.MessageMemberIdsLoader=r.filter(((e,t,o)=>o.indexOf(e)===t))},countMessageProjectChannelList(e){const t=JSON.parse(JSON.stringify(e.MessageProjectReward)),o={},r={mark_count:0,message_count:0,unread_count:0};Object.keys(t).forEach((e=>{o[e]={...r}}));const a=JSON.parse(JSON.stringify(e.MessageProjectChannelList));for(const n in a){const e=a[n];for(const t in e.rewards)o[t].message_count+=1,e.mark_status&&(o[t].mark_count+=1),e.unread_msg_cnt>0&&(o[t].unread_count+=e.unread_msg_cnt)}for(const n in t)t[n]={...t[n],...o[n]};e.MessageProjectReward=t},clearMessageProjectChannelSelected(e){const t=JSON.parse(JSON.stringify(e.MessageProjectChannelList));for(const o in t)t[o].selected=!1;e.MessageProjectChannelList=t},selectMessageProjectChannel(e,t){const o=JSON.parse(JSON.stringify(e.MessageProjectChannelList));o[t]&&(o[t].selected=!o[t].selected),e.MessageProjectChannelList=o},checkMessageProjectChannelSelectMode(e){const t=JSON.parse(JSON.stringify(e.MessageProjectChannelList));let o=0;for(const r in t)t[r].selected&&(o+=1);if(o<=0){const t=JSON.parse(JSON.stringify(e.MessagePageStatus));e.MessagePageStatus={...t,list_func_type:"default"}}},setPressPlayMessageProjectChannelIdFilter(e,t){e.MessageProjectChannelIdsFilter=t},setPressPlayMessageProjectMessageTmpList(e,t){const o=JSON.parse(JSON.stringify(e.MessageItem)),r=JSON.parse(JSON.stringify(e.MessageProjectMessageTmpList))||{};r[t.uniq_id]={...o,...t,_id:t.uniq_id,text:t.msg},e.MessageProjectMessageTmpList=r},setMessageProjectGroupMessageList(e,t){let o={};const r=JSON.parse(JSON.stringify(e.MessageProjectGroupMessageListItem));"all"!==t.type&&(o=JSON.parse(JSON.stringify(e.MessageProjectGroupMessageList))),t.groups.forEach((e=>{const t={...r,...e};t._timestamp=C()(e.last_modified).format("x"),o[t.group_id]=t})),e.MessageProjectGroupMessageList=o},setMessageProjectGroupMessageEdit(e,t){const o={...JSON.parse(JSON.stringify(e.MessageProjectGroupMessageListItem)),...t};e.MessageProjectGroupMessageEdit=o},clearMessageProjectGroupMessageEdit(e){e.MessageProjectGroupMessageEdit=null},clearMessageProjectMessageList(e){e.MessageProjectMessageList=[],e.MessageProjectMessageTmpList={}},removeMessageProjectChannelById(e,t){const o=JSON.parse(JSON.stringify(e.MessageProjectChannelList));if(delete o[t],e.MessageProjectChannelList=o,e.MessasgeQueryParams.p_channel_id===t){const t=JSON.parse(JSON.stringify(e.MessasgeQueryParams));t.p_channel_id="",e.MessasgeQueryParams=t}}},...{setMessagePersonChannelList(e,t){const o=JSON.parse(JSON.stringify(e.MessageMemberInfo)),r=JSON.parse(JSON.stringify(e.MessageMemberIdsLoader)),a=JSON.parse(JSON.stringify(e.MessageMemberProjectInfo)),n=JSON.parse(JSON.stringify(e.MessageProjectIdsLoader)),i=JSON.parse(JSON.stringify(e.MessagePersonChannelListItem));let s={};"all"!==t.type&&(s=JSON.parse(JSON.stringify(e.MessagePersonChannelList))),Array.isArray(t.data)&&t.data.length>0&&t.data.forEach((e=>{let t={};t=s[e.channel_id]?{...s[e.channel_id],...e}:{...i,...e},t._timestamp=C()(t.mtime).format("x"),s[e.channel_id]=t,t.members.forEach((e=>{o[e]||r.push(e)})),t.project_id&&(a[t.project_id]||n.push(t.project_id))})),e.MessagePersonChannelList=s,e.MessageMemberIdsLoader=r.filter(((e,t,o)=>o.indexOf(e)===t)),e.MessageProjectIdsLoader=n.filter(((e,t,o)=>o.indexOf(e)===t))},setPressPlayMessagePersonMessageTmpList(e,t){const o=JSON.parse(JSON.stringify(e.MessageItem)),r=JSON.parse(JSON.stringify(e.MessagePersonMessageTmpList))||{};r[t.uniq_id]={...o,...t,_id:t.uniq_id,text:t.msg},e.MessagePersonMessageTmpList=r},removeMessagePersonChannelById(e,t){const o=JSON.parse(JSON.stringify(e.MessagePersonChannelList));if(delete o[t],e.MessagePersonChannelList=o,e.MessasgeQueryParams.channel_id===t){const t=JSON.parse(JSON.stringify(e.MessasgeQueryParams));t.channel_id="",e.MessasgeQueryParams=t}}}}},member:{...{...{setPersonalInfo(e,t){e.PersonalInfo={...t}},setDetailSetting(e,t){const o=JSON.parse(JSON.stringify(e.PersonalInfo));t.is_change&&(o.cancel_epaper=t.cancel_epaper.split(",")),e.PersonalInfo={...o}},personBoxSetData(e,t){const o=JSON.parse(JSON.stringify(t));e.PersonalInfo={...o}},updateProfileHeadPhoto(e,t){const o=JSON.parse(JSON.stringify(e.PersonalInfo));o.head_photo=t.head_photo,e.PersonalInfo={...o}},setCreditCardInfo(e,t){e.CreditCardInfo={...t}},setInvoiceInfo(e,t){e.InvoiceInfo={...t}},setDevicesInfo(e,t){e.DevicesInfo={...t}},currentLoginCode(e,t){e.CurrentLoginCode=t},deviceLimitNum(e,t){e.DeviceLimitNum=t},isPersonalDataChange(e,t){e.isPersonalDataChange=t},hasErrors(e,t){e.hasErrors=t},setInterests(e,t){e.interests=t.type_ids}}}},paygate:{...{...{}}},help:{...{}},channel:{...{...{refreshPage(e,t){const o=JSON.parse(JSON.stringify(e.refreshPage)),r={name:t,refreshTime:(new Date).getTime()};e.refreshPage={...o,...r}},updateBannerImg(e,t){const o=JSON.parse(JSON.stringify(e.MainInfo));o.banner=t.banner_img,e.MainInfo={...e.MainInfo,...o}},updateHeadPhoto(e,t){const o=JSON.parse(JSON.stringify(e.MainInfo));o.head_photo=t.head_photo_img,e.MainInfo={...e.MainInfo,...o}},getChannelStatProgress(e,t){e.ChannelStatProgress={...t}},setChannelMainInfo(e,t){e.MainInfo={...t.main_info},e.ChannelInfo={...t.channel_info},e.ProjectInfo={...t.project_info},e.isManager=t.is_manager,e.ChannelRouterLists=t.channel_router_lists},editAudioTimelineTrigger(e,t){e.editAudioTimelineTrigger={triggerTime:(new Date).getTime(),...t}},editAudioTrigger(e,t){e.editAudioTrigger={triggerTime:(new Date).getTime(),...t}},editAlbumTrigger(e,t){e.editAlbumTrigger={triggerTime:(new Date).getTime(),...t}},moveAudioTrigger(e,t){e.moveAudioTrigger={triggerTime:(new Date).getTime(),...t}},closeMoveAudioEdit(e,t){e.closeMoveAudioEditTrigger={triggerTime:(new Date).getTime()}},clearTrigger(e,t){e.moveAudioTrigger=null,e.editAudioTrigger=null,e.editAlbumTrigger=null,e.editAudioTimelineTrigger=null}},...{updateInitialBannerImg(e,t){const o=JSON.parse(JSON.stringify(e.InitialInfo));o.channel_banner=t.banner_img,e.InitialInfo={...e.InitialInfo,...o}},updateInitialHeadPhoto(e,t){const o=JSON.parse(JSON.stringify(e.InitialInfo));o.channel_head_photo=t.head_photo_img,e.InitialInfo={...e.InitialInfo,...o}}}}}},re={MemberInfo:e=>e.MemberInfo,MemberPoints:e=>e.MemberPoints,MemberProjects:e=>e.MemberProjects,Referer:e=>e.Referer,originalSearchList:e=>e.originalSearchList,HeaderSearchDisplay:e=>e.HeaderSearchDisplay,PageSetting:e=>e.PageSetting,HistoryPopstateFlag:e=>e.HistoryPopstateFlag,PageSetting_mode_type:e=>e.PageSetting_mode_type,PageSetting_device:e=>e.PageSetting_device,PageSetting_in_app:e=>e.PageSetting_in_app,PageSetting_browser:e=>e.PageSetting_browser,PageSetting_widget_bottom_padding:e=>e.PageSetting_widget_bottom_padding,PageSetting_page_focus:e=>e.PageSetting_page_focus,PageSetting_page_scroll:e=>e.PageSetting_page_scroll,PageSetting_width:e=>e.PageSetting_width,PageSetting_height:e=>e.PageSetting_height,PageSetting_search_bar:e=>e.PageSetting_search_bar,PageSetting_album_index:e=>e.PageSetting_album_index,PageSetting_global_player:e=>e.PageSetting_global_player,ShareUrlTrigger:e=>e.ShareUrlTrigger,ShareUrlInfo:e=>e.ShareUrlInfo,ShareOnceUrl:e=>e.ShareOnceUrl,SEO:e=>e.SEO,PP_PAGE_VER_IS_NEW:e=>e.PP_PAGE_VER_IS_NEW,LoginModalV2LoginModal:e=>{let t=!1;return void 0!==e.LoginModalV2&&(t=e.LoginModalV2.LoginModal),t},MainInfo:e=>e.MainInfo,reloadGlobalPlayerQueueTrigger:e=>e.reloadGlobalPlayerQueueTrigger,PlayerAttachList:e=>e.PlayerAttachList,triggerOpenMyListFileObj:e=>e.triggerOpenMyListFileObj,triggerGlobalPlayerPlay:e=>e.triggerGlobalPlayerPlay,triggerGlobalPlayerStop:e=>e.triggerGlobalPlayerStop,GlobalProjectCards:e=>e.GlobalProjectCards,GlobalRewardCards:e=>e.GlobalRewardCards,GlobalArticleCards:e=>e.GlobalArticleCards,GlobalAlbumCards:e=>e.GlobalAlbumCards,GlobalActivityCards:e=>e.GlobalActivityCards,...{GlobalProjectTypes:e=>e.GlobalProjectTypes,GlobalProjectTypesByKey:e=>{const t={};return JSON.parse(JSON.stringify(e.GlobalProjectTypes)).forEach((e=>{if(e.sub_project_types.length>0){const o=e.type_id;e.parent_type_id="",e.sub_project_types.forEach((e=>{e.parent_type_id=o,t[e.type_id]=e})),t[e.type_id]=e}t[e.type_id]=e})),t}},RouterFacebookPixel:e=>e.RouterFacebookPixel,RouterGaId:e=>e.RouterGaId,searchLogTrigger:e=>e.searchLogTrigger,reviewInfo:e=>e.reviewInfo,review_id:e=>e.review_id,reviewTrigger:e=>e.reviewTrigger,reviewLightTrigger:e=>e.reviewLightTrigger,...{L10nStorage:e=>e.L10nStorage}},ae=function(e){const t=e.map(((t,o)=>{if(0===o)t._first=!0,t._needDate=!0;else{const r=e[o-1];t._first=!1,-1!==["init","official"].indexOf(r.type)||t.project_owner&&t.project_owner!==r.project_owner||r.owner_id!==t.owner_id?t._first=!0:t._first=!1,-1!==["init","official"].indexOf(r.type)||t._date!==r._date?t._needDate=!0:t._needDate=!1}return t}));return t},ne={common:{...re},message:{...{...{MessageQueryParamsQueryStr(e){const t=JSON.parse(JSON.stringify(e.DefaultQueryParams)),o=JSON.parse(JSON.stringify(e.MessasgeQueryParams)),r=i.Yj.deepDiffMapper.map(o,t),a={};for(const n in r)if(r[n][0]){let e=!1;for(const t in r[n])"unchanged"!==r[n][t].type&&(e=!0);e&&(a[n]=o[n])}else"unchanged"!==r[n].type&&r[n].data&&(a[n]=r[n].data);return a.reward_ids&&(a.tab=o.tab,a.project_id=o.project_id),a.g_msg_id&&(a.tab=o.tab,a.project_id=o.project_id,a.g_msg=!0),a.g_msg&&(a.tab=o.tab,a.project_id=o.project_id),a.p_channel_id&&(a.tab=o.tab,a.project_id=o.project_id),a.channel_id&&(a.tab=o.tab),a},MessagePageStatus:e=>e.MessagePageStatus,MessasgeQueryParams:e=>e.MessasgeQueryParams,MessageMemberIdsLoader:e=>e.MessageMemberIdsLoader,MessageMemberInfo:e=>e.MessageMemberInfo,MessageMemberProjectInfo:e=>e.MessageMemberProjectInfo,MessageProjectIdsLoader:e=>e.MessageProjectIdsLoader,MessageMemberAttachedInfo:e=>e.MessageMemberAttachedInfo,MessageAttachedIdsLoader:e=>e.MessageAttachedIdsLoader,MessageProjectMessageList(e){const t=JSON.parse(JSON.stringify(e.MessageProjectMessageList));return ae(t)},MessageProjectMessageTmpList:e=>e.MessageProjectMessageTmpList,MessagePersonMessageList(e){const t=JSON.parse(JSON.stringify(e.MessagePersonMessageList));return ae(t)},MessagePersonMessageTmpList:e=>e.MessagePersonMessageTmpList,MessageFocusMessageId:e=>e.MessageFocusMessageId},...{MessageProjectMarkStatus:e=>e.MessageProjectMarkStatus,MessageProjectReadStatus:e=>e.MessageProjectReadStatus,MessageProjectGroupStatus:e=>e.MessageProjectGroupStatus,MessageProjectList:e=>e.MessageProjectList,MessageProjectInfo:e=>e.MessageProjectInfo,MessageProjectReward:e=>e.MessageProjectReward,MessageProjectSetting:e=>e.MessageProjectSetting,MessageProjectChannelList:e=>e.MessageProjectChannelList,MessageProjectChannelListFilter(e){const t=JSON.parse(JSON.stringify(e.MessasgeQueryParams)),o=JSON.parse(JSON.stringify(e.MessageMemberInfo)),r=JSON.parse(JSON.stringify(e.MessageProjectChannelList)),a=[];let{MessageProjectChannelIdsFilter:n}=e;null!=n&&(n=JSON.parse(JSON.stringify(n)));const i=`|${t.reward_ids.join("||")}|`;for(const s in r){const e=r[s];let l=!0;if(l&&-1===i.indexOf("all")){l=!1;for(const t in e.rewards)if(i.indexOf(t)>=0){l=!0;break}}if("all"!==t.mark_status&&("marked"===t.mark_status&&0===e.mark_status&&(l=!1),"unmark"===t.mark_status&&0!==e.mark_status&&(l=!1)),"all"!==t.read_status){const o=e.unread_msg_cnt>0;"readed"===t.read_status&&o?l=!1:"unread"!==t.read_status||o||(l=!1)}l&&null!=n&&-1===n.indexOf(s)&&(l=!1),l&&(e.member_list=e.members.filter((e=>!!o[e])).map((e=>o[e])),a.push(e))}return a.sort(((e,t)=>e._timestamp>t._timestamp?-1:e._timestamp<t._timestamp?1:0)),a},MessageProjectChannelListSelectedChannelListIds(e){const t=JSON.parse(JSON.stringify(e.MessasgeQueryParams)),o=JSON.parse(JSON.stringify(e.MessageProjectChannelList)),r=[];return Object.keys(o).forEach((e=>{const a=o[e];let n=!0;"all"!==t.reward_id&&-1===a.rewards.indexOf(t.reward_id)&&(n=!1),n&&a.selected&&r.push(a._id)})),r},MessageProjectGroupMessagelListFilter(e){const t=JSON.parse(JSON.stringify(e.MessagePageStatus)),o=JSON.parse(JSON.stringify(e.MessageProjectGroupMessageList)),r=[];for(const a in o){const e=o[a];let n=!0;"all"!==t.group_status&&e.status!==t.group_status&&(n=!1),n&&r.push(e)}return r.sort(((e,t)=>e._timestamp>t._timestamp?-1:e._timestamp<t._timestamp?1:0)),r},MessageProjectGroupMessageListItem:e=>e.MessageProjectGroupMessageListItem,MessageProjectGroupMessageEdit:e=>e.MessageProjectGroupMessageEdit},...{MessagePersonChannelList:e=>e.MessagePersonChannelList,MessagePersonChannelListFilter(e){JSON.parse(JSON.stringify(e.MessasgeQueryParams));const t=JSON.parse(JSON.stringify(e.MessageMemberInfo)),o=JSON.parse(JSON.stringify(e.MessageMemberProjectInfo)),r=JSON.parse(JSON.stringify(e.MessagePersonChannelList)),a=[];for(const n in r){const e=r[n];if(e.member_list=[],e.project_id){if(o[e.project_id]){const t=o[e.project_id];e.member_list.push({head_photo:t.project_head_photo,project_id:t.project_id,nickname:t.project_title,username:t.project_title,is_project:!0})}}else e.member_list=e.members.filter((e=>!!t[e])).map((e=>t[e]));a.push(e)}return a.sort(((e,t)=>e._timestamp>t._timestamp?-1:e._timestamp<t._timestamp?1:0)),a}}}},member:{...{...{PersonalInfo:e=>e.PersonalInfo,CreditCardInfo:e=>e.CreditCardInfo,InvoiceInfo:e=>e.InvoiceInfo,DevicesInfo:e=>e.DevicesInfo,CurrentLoginCode:e=>e.CurrentLoginCode,DeviceLimitNum:e=>e.DeviceLimitNum,isPersonalDataChange:e=>e.isPersonalDataChange,hasErrors:e=>e.hasErrors,userInterests:e=>JSON.parse(JSON.stringify(e.typeList)).map((t=>(e.interests.includes(t.type_id)?t.selected=!0:t.selected=!1,t)))}}},paygate:{...{}},help:{...{}},channel:{...{refreshPage:e=>e.refreshPage,channel_id:e=>e.ChannelInfo.channel_id,ChannelInfo:e=>e.ChannelInfo,ProjectInfo:e=>e.ProjectInfo,isManager:e=>e.isManager,ChannelRouterLists:e=>e.ChannelRouterLists,ChannelStatProgress:e=>e.ChannelStatProgress,editAudioTimelineTrigger:e=>e.editAudioTimelineTrigger,editAudioTrigger:e=>e.editAudioTrigger,editAlbumTrigger:e=>e.editAlbumTrigger,moveAudioTrigger:e=>e.moveAudioTrigger,closeMoveAudioEditTrigger:e=>e.closeMoveAudioEditTrigger,InitialInfo:e=>e.InitialInfo}}},ie=e=>{let t={},o={},a={},n={};return e.forEach((e=>{const r=e.split(".");let i={...Y},s={...ne},l={...W},c={...oe};for(;r.length>0;)e=r.shift(),-1===[void 0].indexOf(i[e])&&(i=i[e]),-1===[void 0].indexOf(s[e])&&(s=s[e]),-1===[void 0].indexOf(l[e])&&(l=l[e]),-1===[void 0].indexOf(c[e])&&(c=c[e]);t={...t,...l},o={...o,...i},a={...a,...c},n={...n,...s}})),(0,r.createStore)({state:o,getters:n,actions:t,mutations:a,strict:!1})}},65579:(e,t,o)=>{"use strict";o.d(t,{A:()=>d});var r=o(89590),a=o(36657),n=o(24335),i=o(42637),s=o.n(i),l=o(51988);const c=!!a.a2.get("MemberInfo.user_id"),d={name:"BaseArticleCard",mixins:[n.A],props:{loading:{type:Boolean,default:!1},sourceFrom:{type:String,default:""},sourceType:{type:String,default:""},album:{type:Object,default:()=>({}),required:!1},analytics:{type:Object,default:()=>({})}},data:()=>({isLogin:c}),computed:{playCount(){const e=this;let t=0;return e.album.play_count&&(t=e.album.play_count>1e4?`${Number.parseFloat(e.album.play_count/1e3).toFixed(2)}K`:a.Yj.formatMoney(e.album.play_count)),t}},watch:{"album.cover_photo":{handler(e){e&&this.lazyImg()},deep:!0}},mounted(){this.init()},methods:{...(0,r.mapActions)({}),...(0,r.mapMutations)({}),init(){const e=this,t=a.Lr.get("auto-action");if(t&&"auto-collect"===t.action)Object.keys(e.album).length>0&&t.id===e.album.album_id&&(e.autoCollect(),a.Lr.del("auto-action"));e.lazyImg()},formatMoney:a.Yj.formatMoney,formatTime(e){const t=e||Date.now();return s()(t).format("YYYY/MM/DD")},exposureAct(){const e=this;e.exposureCount+=1,a.Y9.enterAlbum(e.album.album_id,"albumCard",e.sourceFrom)},clickAlbumCard(e){const t=this;if(!0===t.isDisplay)return void e.preventDefault();const o={album_id:t.album.album_id,channel_id:t.album.channel_id,source_from:t.sourceFrom||"",card_type:t.card_type||""};Object.keys(t.analytics).length>0&&(o.analytics=t.analytics),a.Yj.getQueryVariable("search_keyword")&&(o.search_keyword=a.Yj.getQueryVariable("search_keyword")),a.Yj.getQueryVariable("type")&&(o.type=a.Yj.getQueryVariable("type")),a.zT.pageAction("albumCard_click",o)},saveAlbumToCollection(){const e=this,t={album_id:e.album.album_id};e.$store.dispatch("setPPGlobalCollectionAlbum",t).then((t=>{t.data.is_collected&&a.Xq.show({target:l(e.$el).find('.album-meta-item[rel="bookmark"]'),text:'\n                            <div class="text-center">收藏節目</div>\n                        ',isHTML:!0,direction:"top",delay:"3000"})})).catch((e=>{}))},collectAlbum(e){const t=this;t.openLoginModal(e)&&t.saveAlbumToCollection()},openLoginModal(e){const t=this;let o="";return e.target?o=e.target:e.currentTarget&&(o=l(e.currentTarget).data("target")),!!t.isLogin||(e.preventDefault&&e.preventDefault(),a.Vp.isMobileApp()?a.Vp.openNativeLogin():(t.$store.dispatch("PressPlayLoginModalTriggerOpen",{}),t.$store.commit("setAutoAction",{action:"auto-collect",id:t.album.album_id})),!1)},autoCollect(){const e=this;e.album.is_collected||void 0===e.album.is_collected||a.lY.confirm({icon:"icon icon_bookmark_simple",html:`收藏節目<br>${e.album.album_title}`,confirmButtonText:"收藏節目",cancelButtonText:"下次再說"},(()=>{e.collectAlbum({target:"allow_auto_collect"})}),(()=>{}))},lazyImg(){l(this.$el).find(".lazyload").removeClass("lazy-bind lazy-empty"),l("body").trigger("lazyImg")}}}},70213:(e,t,o)=>{"use strict";o.d(t,{A:()=>S});var r=o(6496);const a={class:"album-card"},n=(0,r.createElementVNode)("meta",{itemprop:"albumReleaseType",content:"album"},null,-1),i=["content"],s=["content"],l=["content"],c=["content"],d=["content"],p=["content"],u={key:0,style:{display:"none"},itemprop:"byArtist",itemscope:"",itemtype:"https://schema.org/Organization"},m=["content"],g={key:1,style:{display:"none"},itemprop:"byArtist",itemscope:"",itemtype:"http://schema.org/MusicGroup"},h=["content"],f=["content"],b=["data-src","alt"],y={class:"album-content"},v={class:"album-info"},w=["textContent"],_=(0,r.createStaticVNode)('<div class="album-card"><div class="album-cover"></div></div><div class="album-content"><div class="album-info"><div class="album-title"></div></div></div>',2);var k=o(89590);const P={name:"AlbumCardIndex",components:{},extends:o(65579).A,props:{loading:{type:Boolean,default:!1},sourceFrom:{type:String,default:"album"}},data:()=>({}),computed:{...(0,k.mapGetters)([])},watch:{},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,k.mapActions)({}),...(0,k.mapMutations)({})}};const S=(0,o(2912).A)(P,[["render",function(e,t,o,k,P,S){const C=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["album-card-index",{loading:o.loading}]),itemscope:"",itemtype:"http://schema.org/MusicAlbum"},[o.loading?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[_],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createElementVNode)("div",a,[n,(0,r.createElementVNode)("meta",{itemprop:"name",content:e.album.album_title},null,8,i),(0,r.createElementVNode)("meta",{itemprop:"description",content:e.album.album_desc},null,8,s),(0,r.createElementVNode)("meta",{itemprop:"url",content:e.album.link_url},null,8,l),(0,r.createElementVNode)("meta",{itemprop:"image",content:e.album.cover_photo},null,8,c),(0,r.createElementVNode)("meta",{itemprop:"learningResourceType",content:e.album.album_type_name},null,8,d),(0,r.createElementVNode)("meta",{itemprop:"numTracks",content:e.album.audio_num},null,8,p),e.album.author?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[(0,r.createElementVNode)("meta",{itemprop:"name",content:e.album.author.nickname||e.album.author.username},null,8,m)])):(0,r.createCommentVNode)("",!0),e.album.channel?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createElementVNode)("meta",{itemprop:"name",content:e.album.channel.channel_title},null,8,h),(0,r.createElementVNode)("meta",{itemprop:"url",content:e.album.channel.link_url},null,8,f)])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(C,{to:e.album.link_url,class:"d-block",onClick:e.clickAlbumCard},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{class:"album-cover lazyload","data-src":e.album.cover_photo,alt:e.album.album_title},null,8,b)])),_:1},8,["to","onClick"])]),(0,r.createVNode)(C,{to:e.album.link_url,class:"d-block",onClick:e.clickAlbumCard},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",y,[(0,r.createElementVNode)("div",v,[(0,r.createElementVNode)("div",{class:"album-title",textContent:(0,r.toDisplayString)(e.album.album_title)},null,8,w)])])])),_:1},8,["to","onClick"])],64))],2)}]])},27229:(e,t,o)=>{"use strict";o.d(t,{A:()=>F});var r=o(6496);const a={class:"album-card-info"},n={class:"album-content"},i=(0,r.createElementVNode)("div",{class:"album-title mb-0"},[(0,r.createElementVNode)("span",null,"未分類音檔")],-1),s=(0,r.createElementVNode)("p",{class:"u-fontSize14 text--muted mb-2"},[(0,r.createElementVNode)("span",null,"所有未被分類的音檔")],-1),l=(0,r.createElementVNode)("div",{class:"album-meta"},[(0,r.createElementVNode)("div",{class:"album-meta-info"})],-1),c={class:"album-title"},d=[(0,r.createElementVNode)("i",{class:"icon icon-arrow_reload rss-fetch-icon"},null,-1)],p={class:"album-desc"},u=["innerHTML"],m={class:"album-meta"},g={class:"album-meta-info"},h={class:"album-meta-item"},f={class:"album-meta-item"},b=(0,r.createElementVNode)("i",{class:"icon icon-audio_earphone"},null,-1);var y=o(89590),v=o(36657),w=o(65579);const _={class:"album-card",itemscope:"",itemtype:"http://schema.org/MusicAlbum"},k=(0,r.createElementVNode)("meta",{itemprop:"albumReleaseType",content:"album"},null,-1),P=["content"],S=["content"],C=["content"],N=["content"],A=["content"],M=["content"],T={key:0,style:{display:"none"},itemprop:"byArtist",itemscope:"",itemtype:"https://schema.org/Organization"},E=["content"],I={key:1,style:{display:"none"},itemprop:"byArtist",itemscope:"",itemtype:"http://schema.org/MusicGroup"},B=["content"],j=["content"],x=["data-src","alt"],L={key:1,class:"album-card-invisible"},O=[(0,r.createElementVNode)("i",{class:"icon icon-display_off"},null,-1)];const V={components:{},props:{album:{type:Object,default:()=>({}),required:!0},isDisplay:{type:Boolean,default:!1},setTop:{type:Boolean,default:!1},clickAlbumCard:{type:Function,default:()=>()=>{},required:!1}},data:()=>({}),computed:{...(0,y.mapGetters)([])},watch:{},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,y.mapActions)({}),...(0,y.mapMutations)({})}};var $=o(2912);const D={name:"AlbumCardInfo",components:{albumCardBase:(0,$.A)(V,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",_,[k,(0,r.createElementVNode)("meta",{itemprop:"name",content:o.album.album_title},null,8,P),(0,r.createElementVNode)("meta",{itemprop:"description",content:o.album.album_desc},null,8,S),(0,r.createElementVNode)("meta",{itemprop:"url",content:o.album.link_url},null,8,C),(0,r.createElementVNode)("meta",{itemprop:"image",content:o.album.cover_photo},null,8,N),(0,r.createElementVNode)("meta",{itemprop:"learningResourceType",content:o.album.album_type_name},null,8,A),(0,r.createElementVNode)("meta",{itemprop:"numTracks",content:o.album.audio_num},null,8,M),o.album.author?((0,r.openBlock)(),(0,r.createElementBlock)("div",T,[(0,r.createElementVNode)("meta",{itemprop:"name",content:o.album.author.nickname||o.album.author.username},null,8,E)])):(0,r.createCommentVNode)("",!0),o.album.channel?((0,r.openBlock)(),(0,r.createElementBlock)("div",I,[(0,r.createElementVNode)("meta",{itemprop:"name",content:o.album.channel.channel_title},null,8,B),(0,r.createElementVNode)("meta",{itemprop:"url",content:o.album.channel.link_url},null,8,j)])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(s,{to:o.album.link_url,class:(0,r.normalizeClass)({"cursor-default":o.isDisplay}),onClick:o.clickAlbumCard},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",{class:"album-cover lazyload","data-src":o.album.cover_photo,alt:o.album.album_title},[o.album.album_type_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o.album.album_type_id,class:"album-card-type"},(0,r.toDisplayString)(o.album.album_type_name),1)):(0,r.createCommentVNode)("",!0),0===o.album.album_display||"no_group"===o.album.album_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",L,O)):(0,r.createCommentVNode)("",!0)],8,x)])),_:1},8,["to","class","onClick"])])}]])},extends:w.A,props:{isDisplay:{type:Boolean,default:!1}},emits:["is-fetch-success"],data:()=>({pc_min_size:768,mode_type:"pc",fetching:!1}),computed:{...(0,y.mapGetters)(["PageSetting","channel_id","isManager"]),showEditAction(){return-1===["no_group"].indexOf(this.album.album_id)}},watch:{PageSetting:{handler(e){const t=this;e.width?e.width<t.pc_min_size?t.mode_type="mobile":t.mode_type="pc":t.mode_type=e.mode_type},immediate:!0}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,y.mapActions)({}),...(0,y.mapMutations)({}),fetchAudioByRSS(){const e=this,t={channel_id:e.channel_id,album_id:e.album.album_id};e.fetching=!0,e.$store.dispatch("fetchAudioByRSS",t).then((o=>{"success"===o.status&&(e.fetching=!1,v.Xq.show({target:document.querySelector(".rss-fetch-button"),text:'\n                            <div class="text-center" style="width: 80px;">同步 RSS 成功</div>\n                        ',isHTML:!0,direction:"top",delay:"3000"}),v.zT.pageAction("channel_FetchAudioByRSS_click",{status:o.status,params:t,action:e.action}),e.$emit("is-fetch-success",!0))})).catch((o=>{e.fetching=!1,v.zT.pageAction("channel_FetchAudioByRSS_click",{status:o.status,params:t,action:e.action}),e.$emit("is-fetch-success",!1)}))},chooseRouterList(e){const t=this;switch(e){case"editAlbum":t.openAlbumModal("edit");break;case"deleteAlbum":t.deleteAlbum()}},openAlbumModal(e){const t={channel_id:this.channel_id,album_id:this.album.album_id};this.$store.commit("editAlbumTrigger",t),v.zT.pageAction("channel_AlbumModal_open_click",t)},deleteAlbum(){v.lY.deleteConfirm({html:'\n                    <p class="text--red">\n                        確定要刪除節目？<br/>\n                        將會移到「未分類」節目中\n                    </p>\n                ',img:"/public/img/channel-active@3x.png",confirmButtonText:"刪除",cancelButtonText:"下次再說"},this.confirmDeleteAlbum,null),v.zT.pageAction("channel_DeleteAlbum_click",{},!0)},confirmDeleteAlbum(){const e=this,t={channel_id:e.channel_id,album_id:e.album.album_id};e.$store.dispatch("deleteAlbum",t).then((o=>{"success"===o.status&&(v.zT.pageAction("channel_ConfirmDeleteAlbum_click",{status:o.status,params:t}),e.$router.replace({path:`/channel/${e.channel_id}`}))})).catch((e=>{v.zT.pageAction("channel_ConfirmDeleteAlbum_click",{status:e.status,params:t})}))}}},F=(0,$.A)(D,[["render",function(e,t,o,y,v,w){const _=(0,r.resolveComponent)("album-card-base"),k=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createVNode)(_,{album:e.album,"is-display":o.isDisplay,"click-album-card":e.clickAlbumCard},null,8,["album","is-display","click-album-card"]),(0,r.createElementVNode)("div",n,["no_group"===e.album.album_id?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createVNode)(k,{to:e.album.link_url,class:(0,r.normalizeClass)([{"cursor-default":o.isDisplay},"album-info"]),onClick:e.clickAlbumCard},{default:(0,r.withCtx)((()=>[i,s])),_:1},8,["to","class","onClick"]),l],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createVNode)(k,{to:e.album.link_url,class:(0,r.normalizeClass)([{"cursor-default":o.isDisplay},"album-info"]),onClick:e.clickAlbumCard},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.album.album_title),1),e.isManager&&"album"===e.$route.name?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[e.album.rss?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,role:"button",class:(0,r.normalizeClass)(["rss-fetch-button mr-auto",{"is-fetching":v.fetching}]),onClick:t[0]||(t[0]=function(){return w.fetchAudioByRSS&&w.fetchAudioByRSS(...arguments)})},d,2)):(0,r.createCommentVNode)("",!0)],64)):(0,r.createCommentVNode)("",!0)]),(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("span",{innerHTML:e.album.album_desc},null,8,u)])])),_:1},8,["to","class","onClick"]),(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.formatTime(e.album.ctime)),1)]),(0,r.createElementVNode)("div",f,[b,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(e.playCount),1)])])])],64))])])}]])},15766:(e,t,o)=>{"use strict";o.d(t,{A:()=>H});var r=o(6496);const a=["content"],n=["content"],i=["href"],s=["href"],l=["content"],c={class:"channel-audio-content"},d={key:0,class:"channel-audio-drag audio-draggable"},p=[(0,r.createElementVNode)("div",{class:"channel-audio-option",rel:"drag"},[(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-drap"})])],-1)],u={class:"channel-audio-option",rel:"check"},m={class:"channel-audio-track-meta-item",rel:"data"},g={class:"channel-audio-track-meta-info"},h=(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-audio_earphone"})],-1),f=["textContent"],b={class:"channel-audio-track-meta-info"},y=(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-time_clock_S"})],-1),v=["textContent"],w={key:0,class:"channel-audio-track-meta-item",rel:"progress"},_={class:"channel-audio-track-progress-info"},k={class:"channel-audio-action"},P={key:0,class:"channel-audio-option",rel:"more"},S={key:1,class:"channel-audio-option disabled",rel:"more"},C=[(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-dot_more_border"})],-1)],N=[(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-add"})],-1)],A={key:0},M=[(0,r.createElementVNode)("i",{class:"icon icon-audio_pause_light"},null,-1)],T={key:1},E=[(0,r.createElementVNode)("i",{class:"icon icon-arrow_play_border"},null,-1)],I={key:3,class:"channel-audio-option disabled",rel:"play"},B=[(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:"icon icon-arrow_play_border"})],-1)];var j=o(89590),x=o(36657),L=o(78598),O=o(24335),V=o(42637),$=o.n(V),D=o(51988);const F=x.a2.get("IS_APP"),J={name:"BaseAudioCard",mixins:[O.A],props:{loading:{type:Boolean,default:!1},sourceFrom:{type:String,default:""},sourceType:{type:String,default:""},audio:{type:Object,default:()=>({}),required:!0},index:{type:Number,default:0,required:!0},isEdit:{type:Boolean,default:!1},isDrag:{type:Boolean,default:!1},moveAudios:{type:Array,default:()=>[]},album_id:{type:String,default:"",required:!0},analytics:{type:Object,default:()=>({})}},emits:["audio-trigger","update-move-audios"],data:()=>({isSelect:!1,IS_APP:F}),computed:{...(0,j.mapState)({audioAttach(e,t){return{file_key:"",filename:"",duration:0,last_play_second:0,play_count:0,record:{last_time_second:0,last_updated_time:null,completed:0,max_completed:0},...e.PlayerAttachList[this.audio.file_key]}},focus(e){let t=!1;return e["Common/GlobalPlayer"]&&this.audio.album_id===e["Common/GlobalPlayer"].globalPlayerInfo.album_id&&this.audio.file_key===e["Common/GlobalPlayer"].globalPlayerInfo.file_key&&(t=!0),t},playing(e,t){let o=!1;return e["Common/GlobalPlayer"]&&"play"===e["Common/GlobalPlayer"].globalPlayerInfoStatus&&this.focus&&(o=!0),o}}),...(0,j.mapGetters)([]),audioPlayProgress(){const e=this;let t=0;return e.audioAttach&&(t=parseInt(e.audioAttach.record.last_time_second/e.audioAttach.duration*100)),Number.isNaN(t)?"--":t}},watch:{"audio.cover_url":{handler(){this.lazyImg()},deep:!0}},mounted(){this.lazyImg()},methods:{formatSecond:x.Yj.formatSecond,formatMoney:x.Yj.formatMoney,format8601:e=>$().duration(e,"seconds").toISOString(),...(0,j.mapActions)({}),...(0,j.mapMutations)(["setPPGlobalPlayerTrackerDescOpen","setPPGlobalPlayerInfoStatusTrigger","triggerGlobalPlayerPlay","triggerGlobalPlayerStop"]),exposureAct(){const e=this;e.exposureCount+=1,x.Y9.enterAudio(e.audio.file_key,"audioCard",e.sourceFrom)},clickAudioItem(e){const t=this,o={album_id:t.audio.album_id,file_key:t.audio.file_key,timeline_key:t.audio.timeline_key,source_from:t.sourceFrom||"",card_type:t.card_type||""};Object.keys(t.analytics).length>0&&(o.analytics=t.analytics),x.Yj.getQueryVariable("search_keyword")&&(o.search_keyword=x.Yj.getQueryVariable("search_keyword")),x.Yj.getQueryVariable("type")&&(o.type=x.Yj.getQueryVariable("type")),x.zT.pageAction("audioCard_click",o)},playAudio(){const e=this;if(e.focus)e.playing?e.triggerGlobalPlayerStop():e.triggerGlobalPlayerPlay();else{const t={album_id:e.album_id,index:e.index,file_key:e.audio.file_key};e.$emit("audio-trigger",t)}},selectAudio(){const e=this;e.isSelect=!e.isSelect;const t={timeline_key:e.audio.timeline_key,isSelect:e.isSelect};x.zT.pageAction("channel_SelectAudio_click",t),e.$emit("update-move-audios",t)},setClickAction(){const e=this;return!!e.audio.can_play&&(e.isEdit?e.selectAudio():(e.clickAudioItem(),e.playAudio()),!0)},openAudioDesc(){const{timeline_key:e}=this.audio;this.setPPGlobalPlayerTrackerDescOpen({timeline_key:e})},addToPlaylist(){const e=this;if(!e.audio.can_play)return!1;const t={file_key:e.audio.file_key,track_source:e.audio.track_source,album_id:e.audio.album_id,timeline_key:e.audio.timeline_key};return e.$store.dispatch("triggerToOpenPlayListBox",t),!0},lazyImg(){D(this.$el).find(".lazyload").removeClass("lazy-bind lazy-empty"),D("body").trigger("lazyImg")}}},z="Channel/Main",G={name:"AudioItem",components:{ppDropdownBox:L.A},extends:J,props:{},data:()=>({dropdownDefaultRouterLists:{editAudio:{key:"editAudio",name:"編輯音檔"},editAudioTimeline:{key:"editAudioTimeline",name:"編輯文本"},deleteAudio:{key:"deleteAudio",name:"刪除音檔"},removeAudio:{key:"removeAudio",name:"移除音檔"}}}),computed:{...(0,j.mapGetters)(["isManager","channel_id"]),editDropdownLists(){const e=JSON.parse(JSON.stringify(this.dropdownDefaultRouterLists));return"no_group"===this.album_id?delete e.removeAudio:delete e.deleteAudio,e},showProgressInfo(){return this.audioPlayProgress>=1&&this.audioPlayProgress<100},tag(){return this.isEdit?"div":"pp-router-link"}},watch:{moveAudios(e){const t=this;-1!==e.indexOf(t.audio.timeline_key)?t.isSelect=!0:t.isSelect=!1}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,j.mapActions)({}),...(0,j.mapMutations)({}),chooseRouterList(e){const t=this;switch(e){case"editAudio":t.openAudioModal("edit");break;case"editAudioTimeline":t.openAudioTimelineModal();break;case"deleteAudio":t.deleteAudio();break;case"removeAudio":t.removeAudio()}},openAudioModal(e){const t=this,o={timeline_key:t.audio.timeline_key,channel_id:t.channel_id};t.$store.commit("editAudioTrigger",o),x.zT.pageAction("channel_audio_OpenAudioModal_click",{params:o})},openAudioTimelineModal(){const e=this,t={timeline_key:e.audio.timeline_key,channel_id:e.channel_id};e.$store.commit("editAudioTimelineTrigger",t),x.zT.pageAction("channel_audio_OpenTimelineModal_click",{params:t})},removeAudio(){const e=this;let t=e.audio.track_title;t>15&&(t=`${t.slice(0,14)}...`),x.lY.confirm({html:`確定要將「${t}」移除此節目?`,confirmButtonText:"移除",cancelButtonText:"下次再說"},e.confirmRemoveAudio),x.zT.pageAction("channel_RemoveAudio_click",{audio_id:e.audio.audio_id},!0)},confirmRemoveAudio(){const e=this,t={channel_id:e.channel_id,album_id:e.album_id,timeline_key:e.audio.timeline_key};e.$store.dispatch(`${z}/removeAudio`,t).then((o=>{x.zT.pageAction("channel_ConfirmRemoveAudio_click",{status:o.status,params:t}),e.refresh()})).catch((e=>{x.zT.pageAction("channel_ConfirmRemoveAudio_click",{status:e.status,params:t})}))},deleteAudio(){const e=this;let t=e.audio.track_title;t>15&&(t=`${t.slice(0,14)}...`),x.lY.deleteConfirm({html:`確定要將「${t}」刪除?`,confirmButtonText:"刪除",cancelButtonText:"下次再說"},e.confirmDeleteAudio),x.zT.pageAction("channel_DeleteAudio_click",{audio_id:e.audio.audio_id},!0)},confirmDeleteAudio(){const e=this,t={channel_id:e.channel_id,timeline_key:e.audio.timeline_key};e.$store.dispatch(`${z}/deleteAudio`,t).then((o=>{x.zT.pageAction("channel_ConfirmDeleteAudio_click",{status:o.status,params:t}),e.refresh()})).catch((e=>{x.zT.pageAction("channel_ConfirmDeleteAudio_click",{status:e.status,params:t})}))},refresh(){this.$store.commit("refreshPage",this.$route.name)},editClick(){const e=this;e.isEdit&&e.selectAudio()}}};const H=(0,o(2912).A)(G,[["render",function(e,t,o,j,x,L){const O=(0,r.resolveComponent)("pp-dropdown-box");return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["channel-audio",{"is-playing":e.playing,"is-drag":e.isDrag,"has-played":e.audioPlayProgress>80,"can-not-play":!e.audio.can_play}]),itemprop:"track",itemscope:"",itemtype:"http://schema.org/MusicRecording"},[(0,r.createElementVNode)("meta",{itemprop:"name",content:e.audio.track_title},null,8,a),(0,r.createElementVNode)("meta",{itemprop:"duration",content:e.format8601(e.audioAttach.duration)},null,8,n),(0,r.createElementVNode)("link",{itemprop:"url",href:e.audio.track_title_url},null,8,i),(0,r.createElementVNode)("link",{itemprop:"sameAs",href:e.audio.head_title_url},null,8,s),(0,r.createElementVNode)("meta",{itemprop:"datePublished",content:e.audio.publish_time},null,8,l),(0,r.createElementVNode)("div",c,[e.isManager&&"no_group"!==e.album_id?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[e.isEdit?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"channel-audio-drag",onClick:t[0]||(t[0]=function(){return e.selectAudio&&e.selectAudio(...arguments)})},[(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("span",null,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["icon",[e.isSelect?"icon_check_square_fill":"icon_square"]])},null,2)])])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",d,p))],64)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["channel-audio-main",{"cursor-pointer":e.isEdit}]),onClick:t[1]||(t[1]=function(){return L.editClick&&L.editClick(...arguments)})},[((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(L.tag),{to:e.audio.track_title_url,class:(0,r.normalizeClass)(["channel-audio-track-title",{"is-playing":e.playing}])},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.audio.track_title),1)])),_:1},8,["to","class"])),((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(L.tag),{to:e.audio.track_title_url,class:"channel-audio-track-meta"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",g,[h,(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.formatMoney(e.audioAttach.play_count))},null,8,f)]),(0,r.createElementVNode)("div",b,[y,(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.formatSecond(e.audioAttach.duration))},null,8,v)])]),L.showProgressInfo?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[(0,r.createElementVNode)("div",_,[(0,r.createElementVNode)("div",{class:"track-progress",style:(0,r.normalizeStyle)({width:`${e.audioPlayProgress}%`})},null,4)])])):(0,r.createCommentVNode)("",!0)])),_:1},8,["to"]))],2),(0,r.createElementVNode)("div",k,[e.isManager?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[e.isEdit?((0,r.openBlock)(),(0,r.createElementBlock)("div",S,C)):((0,r.openBlock)(),(0,r.createElementBlock)("div",P,[(0,r.createVNode)(O,{"menu-direction":"dropdown-menu-right",direction:"down","show-title":!1,title:!1,list:L.editDropdownLists,"list-title":"name","list-value":"key","icons-front":!0,icons:"icon-dot_more_border",offset:"8, 8",onChoose:L.chooseRouterList},null,8,["list","onChoose"])]))],64)):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"channel-audio-option",rel:"add",onClick:t[2]||(t[2]=function(){return e.addToPlaylist&&e.addToPlaylist(...arguments)})},N)),e.isEdit?((0,r.openBlock)(),(0,r.createElementBlock)("div",I,B)):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,class:(0,r.normalizeClass)(["channel-audio-option",{"is-playing":e.playing}]),rel:"play",onClick:t[3]||(t[3]=function(){return e.setClickAction&&e.setClickAction(...arguments)})},[e.playing?((0,r.openBlock)(),(0,r.createElementBlock)("span",A,M)):((0,r.openBlock)(),(0,r.createElementBlock)("span",T,E))],2))])])],2)}]])},55489:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var r=o(6496);const a={class:"dot-loading"};const n={props:{spacer:{type:Number,default:16}},data:()=>({}),computed:{width(){return`${this.spacer}px`},height(){return`${this.spacer}px`},margin(){return`${2*this.spacer}px ${this.spacer/4}px`},style(){return{width:this.width,height:this.height,margin:this.margin}}}};o(4620);const i=(0,o(2912).A)(n,[["render",function(e,t,o,n,i,s){return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)(s.style)},null,4),(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)(s.style)},null,4),(0,r.createElementVNode)("span",{style:(0,r.normalizeStyle)(s.style)},null,4)])}],["__scopeId","data-v-52b9f092"]])},23073:(e,t,o)=>{"use strict";o.d(t,{A:()=>R});var r=o(6496);const a={class:"pp-footer-container"},n={class:"pp-footer-wrapper"},i={class:"row"},s={class:"col-6 col-md-3"},l={class:"pp-footer-item"},c=(0,r.createElementVNode)("div",{class:"pp-footer-item-title"}," PressPlay Academy ",-1),d={class:"pp-footer-group column-2"},p=["textContent"],u={class:"col-6 col-md-3"},m={class:"pp-footer-item"},g=(0,r.createElementVNode)("div",{class:"pp-footer-item-title"}," 課程分類 ",-1),h={class:"pp-footer-group column-2"},f=["textContent"],b={class:"col-6 col-md-3"},y={class:"pp-footer-item"},v=(0,r.createElementVNode)("div",{class:"pp-footer-item-title"}," 幫助 ",-1),w={class:"pp-footer-group column-2"},_=["textContent"],k={class:"col-6 col-md-3"},P={class:"pp-footer-item"},S=(0,r.createElementVNode)("div",{class:"pp-footer-item-title"}," 條款與政策 ",-1),C={class:"pp-footer-group"},N=["textContent"],A={class:"col-12"},M={class:"pp-footer-app"},T={class:"pp-footer-app-image"},E=["src","srcset","alt"],I={class:"pp-footer-bottom"},B={class:"pp-footer-media"},j={class:"pp-footer-info"},x=["innerHTML"],L=(0,r.createElementVNode)("div",{class:"pp-footer-company"},[(0,r.createElementVNode)("div",null,"公司名稱：瑞奧股份有限公司"),(0,r.createElementVNode)("div",null,"公司統編：54225569"),(0,r.createElementVNode)("div",null,"登記地址：臺北市大同區西寧北路62之5號2樓")],-1);var O=o(89590),V=o(11999),$=o(36657),D=o(56158),F=o(42637),J=o.n(F);const z=$.a2.get("Footer_Data"),G=($.a2.get("IS_APP"),$.a2.get("IS_PP_AUTO_CACHE"),$.a2.get("IS_GOOGLE_BOT",!1)),H={name:"FooterBar",components:{PpShareUrl:(0,r.defineAsyncComponent)((()=>Promise.all([o.e(9174),o.e(1563)]).then(o.bind(o,25834))))},props:{},setup(e,t){let{emits:o}=t;const a=(0,O.useStore)(),n=(0,V.useRoute)(),{showFooter:i}=(0,D.tD)(),{customerServiceCheck:s,customerServiceUpdate:l}=(0,D.fq)(),{isMobile:c,isTablet:d,isDesktop:p,isMD:u}=(0,D.iy)(),m=((0,r.computed)((()=>a.state.PageSetting_widget_bottom_padding)),(0,r.computed)((()=>J()(new Date(a.state.ppServerTime),J().HTML5_FMT.DATETIME_LOCAL_SECONDS))));return void 0!==n&&(0,r.watch)(n,(()=>{s(),l({last_request_at:parseInt((new Date).getTime()/1e3)})})),(0,r.onMounted)((()=>{s()})),{isDesktop:p,isMD:u,showFooter:i,IS_GOOGLE_BOT:G,ppServerTime:m}},data:()=>({Footer_Data:z,zendeskInit:!1,zendeskStatusHide:!1,footerStyleClassControl:void 0}),computed:{...(0,O.mapGetters)(["PageSetting","ShareUrlTrigger","MemberInfo"]),getFullYear:()=>(new Date).getFullYear(),copyRight(){return`PressPlay &copy; 2016-${this.getFullYear} All Rights Reserved`},...(0,O.mapState)(["PAGE_ID"])},watch:{PAGE_ID:{handler(e,t){const o=this;["common_home"].includes(e)?o.footerStyleClassControl="dark":o.footerStyleClassControl=void 0}}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,O.mapActions)([]),...(0,O.mapMutations)([])}};const R=(0,o(2912).A)(H,[["render",function(e,t,o,O,V,$){const D=(0,r.resolveComponent)("pp-router-link"),F=(0,r.resolveComponent)("pp-share-url");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("footer",{id:"pp-footer",class:(0,r.normalizeClass)(["footer pp-footer",[V.footerStyleClassControl]]),style:(0,r.normalizeStyle)({display:O.showFooter?"block":"none",visibility:O.showFooter?"visible":"hidden",zIndex:O.showFooter?void 0:-1,opacity:O.showFooter?void 0:0})},[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([!O.isDesktop||O.isMD?"container-fluid":"container"])},[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",l,[c,(0,r.createElementVNode)("div",d,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.intro,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.name,class:"pp-footer-group-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.name)},null,8,p)])),_:2},1032,["to"])))),128))])])]),(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",m,[g,(0,r.createElementVNode)("div",h,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.category,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.id,class:"pp-footer-group-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.name)},null,8,f)])),_:2},1032,["to"])))),128))])])]),(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("div",y,[v,(0,r.createElementVNode)("div",w,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.support,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.page_id,class:"pp-footer-group-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.page_title)},null,8,_)])),_:2},1032,["to"])))),128))])])]),(0,r.createElementVNode)("div",k,[(0,r.createElementVNode)("div",P,[S,(0,r.createElementVNode)("div",C,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.policy,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.page_id,class:"pp-footer-group-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(e.page_title)},null,8,N)])),_:2},1032,["to"])))),128))])])]),(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("div",M,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.app,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.id,class:"pp-footer-app-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",T,[(0,r.createElementVNode)("img",{src:e.src,srcset:e.srcset,alt:e.name},null,8,E)])])),_:2},1032,["to"])))),128))])])])],2),(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([!O.isDesktop||O.isMD?"container-fluid":"container"])},[(0,r.createElementVNode)("div",I,[(0,r.createElementVNode)("div",B,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.Footer_Data.social,(e=>((0,r.openBlock)(),(0,r.createBlock)(D,{key:e.name,class:"pp-footer-media-item",to:e.url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["icon",e.icon])},null,2)])),_:2},1032,["to"])))),128))]),(0,r.createElementVNode)("div",j,[(0,r.createElementVNode)("div",{class:"pp-footer-copyright",innerHTML:$.copyRight},null,8,x),L])])],2),O.IS_GOOGLE_BOT?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"pp-server-time"},(0,r.toDisplayString)(O.ppServerTime),513)),[[r.vShow,0]]):(0,r.createCommentVNode)("",!0)])],6),e.ShareUrlTrigger>0?((0,r.openBlock)(),(0,r.createBlock)(F,{key:0})):(0,r.createCommentVNode)("",!0)])}]])},81156:(e,t,o)=>{"use strict";o.d(t,{A:()=>K});var r=o(6496);const a={ref:"el"},n={class:"header-drop-down-menu-wrapper no-gutters"},i={class:"header-drop-down-menu-tab"},s={class:"header-drop-down-menu-tab-item",rel:"header"},l={class:"header-drop-down-menu-tab-header-wrapper"},c=["onClick"],d={key:0,class:"label-ball"},p={key:1,class:"label-ball"},u={class:"header-drop-down-menu-item"},m={key:0,class:"header-drop-down-info",rel:"empty"},g=["name","onClick"],h={class:"header-drop-down-info-item",rel:"pic"},f=["data-src"],b={class:"header-drop-down-info-item",rel:"info"},y={class:"header-drop-down-info-item-one",rel:"title"},v={class:"header-drop-down-info-item-one"},w={class:"header-drop-down-info-item-one"},_=(0,r.createElementVNode)("i",{class:"icon icon_clock"},null,-1),k=["data-time"],P={key:0,class:"header-drop-down-menu-tab-item",rel:"footer"},S={class:"header-drop-down-menu-item"},C={class:"header-drop-down-menu-item"},N={key:0,class:"header-drop-down-info",rel:"empty"},A={class:"header-drop-down-info cursor-pointer",rel:"notice-all-read"},M=(0,r.createElementVNode)("i",{class:"icon icon_check_circle"},null,-1),T=["name","onClick"],E={class:"header-drop-down-info-item",rel:"pic"},I=["data-src"],B={class:"header-drop-down-info-item",rel:"info"},j={class:"header-drop-down-info-item-one",rel:"title"},x={class:"header-drop-down-info-item-one"},L={class:"header-drop-down-info-item-one"},O=(0,r.createElementVNode)("i",{class:"icon icon_clock"},null,-1),V=["data-time"],$={key:0,class:"header-drop-down-menu-tab-item",rel:"footer"},D={class:"header-drop-down-menu-item"},F={key:0,class:"header-drop-down-menu-tab-item",rel:"footer"},J={class:"header-drop-down-menu-item"},z={key:1,class:"header-drop-down-menu-tab-item",rel:"footer"};o(11141);var G=o(89590),H=o(36657),R=o(55489),q=o(33887),U=(o(12144),o(51988));const W=H.Yj.getJsonFromUrl(window.location.search.substr(1)),Y=H.a2.get("COOKIE_CONFIG"),Q=!!H.a2.get("IS_SEO_BOT"),X={components:{dotLoading:R.A,NewsFeed:(0,r.defineAsyncComponent)((()=>o.e(2569).then(o.bind(o,90511))))},props:{id:{type:String,default:""},loadMoreFlag:{type:Boolean,default:!1},show:{type:Boolean,default:!1},forceTabKey:{type:String,default:""},triggerReload:{type:Number,default:0}},emits:["change-focus-tab-info","change-total-unread","close-notice"],data:()=>({focusTabKey:"newsfeed",tabList:{newsfeed:{key:"newsfeed",icon:"icon_megaphone_simple",showName:"公告"},notice:{key:"notice",icon:"icon_bell",showName:"通知"}},HeaderNewsFeedsList:[],HeaderNewsFeedsInit:!1,NewsFeedAvatar:{"公告":"/public/img/icon/logo/logo-avatar.png","活動":"/public/img/icon/logo/logo-avatar.png","個人":"/public/img/icon/logo/logo-avatar.png","創作者":"/public/img/icon/logo/cc-avatar.png","系統":"/public/img/icon/logo/cc-avatar.png"},DefaultNewsFeedInfo:{id:"",subject:"",content:"",layout_type:"",layout_confirm:null,layout_data:{}},NewsFeedInfo:{id:"",subject:"",content:"",layout_type:"",layout_confirm:null,layout_data:{}},HeaderNotificationList:[],HeaderNotificationInit:!1,HeaderNotificationListCanLoadMore:!0,HeaderNotificationListCanLoading:!1,checkNewsFeedAutoPopupFlag:!1,showTabListInit:!0,current_url:"",querySearch:W}),computed:{...(0,G.mapGetters)(["MemberInfo","PageSetting_page_focus"]),...(0,G.mapGetters)({LoginModalV2LoginModal:"LoginModalV2LoginModal"}),LoginModalReady(){const e=this;let t=!1;return e.LoginModalV2LoginModal&&e.LoginModalV2LoginModal.box_type&&(t=!0),t},checkCanAllowNewsFeedAutoPopup(){const e=this;let t=!1;return"n"!==e.querySearch.popup&&!Q&&!1===e.LoginModalReady&&e.PageSetting_page_focus&&(t=!0),t},showTabList(){const e={};return e.newsfeed=this.tabList.newsfeed,this.isLogin&&(e.notice=this.tabList.notice),e},isLogin(){return!!this.MemberInfo.member_id},focusTabInfo(){return this.tabList[this.focusTabKey]||!1},noticeUnread(){return this.HeaderNotificationList.filter((e=>!1===e.is_read)).length},newsFeedUnread(){return this.HeaderNewsFeedsList.filter((e=>!1===e.is_read)).length},totalUnread(){return this.noticeUnread+this.newsFeedUnread},checkCanShowPop(){let e=window.location.pathname;const t=H.Yj.getJsonFromUrl(window.location.search.substr(1));t.next_url&&(e=t.next_url);return["^/support","^/member/coupon","^/project/[\\w]{32}/about"].every((t=>!new RegExp(t,"ig").test(e)))},router(){return this.$route||!1},cookieConfig(){const e={};return Object.keys(Y).forEach((t=>{e[t.toLowerCase()]=Y[t]})),e},AllowPopupHeaderNewsFeedsList(){const e=[],t=JSON.parse(JSON.stringify(this.HeaderNewsFeedsList)),o={"系統":[],"創作者":[],"活動":["^/support","^/member/coupon","^/project/[\\w]{32}/about","^/member/cart","^/paygate/","^/paygate/voucher","^/promotion/gift_card","^/member/gift_activity","^/member/gift_card","^/member/email_verify_thanks","^/member/login","^/message"],common:["^/support","^/member/coupon","^/project/[\\w]{32}/about"]},r=document.createElement("a");r.href=this.current_url;let a=r.pathname;const n=H.Yj.getJsonFromUrl(r.search.substr(1));return n.next_url&&(a=n.next_url),t.forEach((t=>{let r="common";void 0!==o[t.category]&&(r=t.category);const n=o[r];let i=!0;for(const e of n){if(!0===new RegExp(e,"ig").test(a)){i=!1;break}}i&&e.push(t)})),e}},watch:{showTabList(e,t){(JSON.stringify(e)!==JSON.stringify(t)||this.showTabListInit)&&(this.showTabListInit=!1,this.reloadAll())},focusTabKey(){this.$nextTick((()=>{this.formatTime(),this.resetHeadPhoto(),this.detectOpenNoticeList()}))},HeaderNewsFeedsList(){this.$nextTick((()=>{this.formatTime(),this.resetHeadPhoto()}))},AllowPopupHeaderNewsFeedsList(){this.$nextTick((()=>{this.checkAllowNewsFeedAutoPopup()}))},checkCanAllowNewsFeedAutoPopup(){this.$nextTick((()=>{this.checkAllowNewsFeedAutoPopup()}))},HeaderNotificationList(){this.$nextTick((()=>{this.formatTime(),this.resetHeadPhoto()}))},focusTabInfo(){this.$emit("change-focus-tab-info",this.focusTabInfo)},totalUnread(){this.$emit("change-total-unread",this.totalUnread)},show(){this.$nextTick((()=>{this.detectOpenNoticeList()}))},HeaderNotificationInit(e,t){!1===t&&e!==t&&this.checkNoticeFocus()},HeaderNewsFeedsInit(e,t){!1===t&&e!==t&&this.checkNoticeFocus()},triggerReload:{immediate:!0,handler(e,t){0!==t&&e!==t&&this.reloadAll()}},$route:{immediate:!0,handler(){this.current_url=window.location.href}}},beforeCreate(){this.$store.state[q.$h]||this.$store.registerModule(q.$h,q.Fj)},created(){this.forceTabKey&&this.tabList[this.forceTabKey]&&this.chooseTabKey(this.forceTabKey)},mounted(){this.current_url=window.location.href},updated(){},unmounted(){},methods:{...(0,G.mapActions)({}),...(0,G.mapMutations)({}),formatTime(){U("body").trigger("formatRelativeTime")},resetHeadPhoto(){U("body").trigger("reset-lazyImg",this.$refs.el)},chooseTabKey(e){this.focusTabKey=e},checkNoticeFocus(){if(!this.forceTabKey){let e="newsfeed";this.noticeUnread>0&&(e="notice"),this.chooseTabKey(e)}},getHeaderNewsFeeds(){const e=this;clearTimeout(e.getHeaderNewsFeedsTimer),e.getHeaderNewsFeedsTimer=setTimeout((()=>{e.$store.dispatch(`${q.$h}/PressPlayNewsFeedsGet`).then((t=>{const o=e.getNewsFeedLocalStorage(),r=Object.keys(o);t.forEach((e=>{e.is_read=!!e.is_read})),r.length>0&&t.forEach((e=>{r.includes(`${e.id}`)&&(e.is_pop=!1,e.is_read=!0)})),e.HeaderNewsFeedsList=t,e.HeaderNewsFeedsInit=!0}),(()=>{}))}),500)},getNewsFeedLocalStorage:()=>H.Lr.get("pp_newsfeed",{}),openNewsfeed(e){const t=JSON.parse(JSON.stringify(e));this.NewsFeedInfo={...this.NewsFeedInfo,...t}},changeNewsFeedInfo(e){const{id:t,params:o}=e;let r=JSON.parse(JSON.stringify(this.HeaderNewsFeedsList));r&&(r=r.map((e=>{if(e.id===t)for(const t in o)e[t]=o[t];return e}))),this.HeaderNewsFeedsList=r},readNewsFeedInfo(e){const t=this;t.$store.dispatch(`${q.$h}/PressPlayNewsFeedsSend`,e).then((o=>{let r=JSON.parse(JSON.stringify(t.HeaderNewsFeedsList));r&&(r=r.map((t=>(t.id===e.id&&(t.is_read=!0),t)))),t.HeaderNewsFeedsList=r}))},deleteNewsFeedInfo(){const e=this,t=JSON.parse(JSON.stringify(e.DefaultNewsFeedInfo));e.NewsFeedInfo=t,e.checkNewsFeedAutoPopupFlag=!1},checkAllowNewsFeedAutoPopup(){const e=this;clearTimeout(e.checkAllowNewsFeedAutoPopupTimer),e.checkAllowNewsFeedAutoPopupTimer=setTimeout((()=>{if(e.checkCanAllowNewsFeedAutoPopup&&(!H.lY.isOpen()||!H.hg.isOpen())){const t=JSON.parse(JSON.stringify(e.DefaultNewsFeedInfo));let o=JSON.parse(JSON.stringify(e.AllowPopupHeaderNewsFeedsList));const{focus_newsfeed_id:r}=e.querySearch;if(void 0!==r){let t=!1;for(const e in o)o[e].id===r&&(o[e].is_pop=1,o[e].is_read=!1,t=!0);t&&(o=o.sort(((e,t)=>{const o=e.id===r,a=t.id===r;return o<a?1:o===a?0:-1}))),delete e.querySearch.focus_newsfeed_id;const a=document.createElement("a");a.href=window.location.href,a.search=H.Yj.object2QueryStr(e.querySearch);const n=a.href;H.h.replaceState(null,null,n)}const a=o.filter((e=>1===parseInt(e.is_pop)&&!1===e.is_read));if(a.length>0){const o=JSON.parse(JSON.stringify(a[0]));null!==e.NewsFeedInfo&&e.NewsFeedInfo.id===o.id||(e.NewsFeedInfo=null,setTimeout((()=>{e.NewsFeedInfo={...t,...o}}),1))}}}),1e3)},getHeaderNotification(e,t){const o=this;clearTimeout(o.getHeaderNotificationTimer),o.HeaderNotificationListCanLoadMore=!1,o.HeaderNotificationListCanLoading=!0,o.getHeaderNotificationTimer=setTimeout((()=>{const r={last_date:e,count:t};o.$store.dispatch(`${q.$h}/PressPlayMemberNotificationGet`,r).then((e=>{o.HeaderNotificationListCanLoading=!1;let t=JSON.parse(JSON.stringify(o.HeaderNotificationList));t||(t=[]),t=t.concat(e.items),this.loadMoreFlag||(t=t.splice(0,5)),o.HeaderNotificationList=t,o.HeaderNotificationInit=!0,e.items&&e.items.length>0?o.HeaderNotificationListCanLoadMore=!0:o.HeaderNotificationListCanLoadMore=!1}),(e=>{}))}),500)},readNotifyAll(){const e=this;e.$store.dispatch(`${q.$h}/PressPlayMemberNotificationReadSet`,{id:"all"}).then((t=>{let o=JSON.parse(JSON.stringify(e.HeaderNotificationList));o=o.map((e=>(e.is_read=!0,e))),e.HeaderNotificationList=o}),(e=>{}))},detectOpenNoticeList(){this.show&&"notice"===this.focusTabKey&&this.readNotifyInfoMenu()},readNotifyInfoMenu(){const e=this;e.MemberInfo.notification_badge>0&&!e.readNotifyInfoMenuTimer&&(e.readNotifyInfoMenuTimer=setTimeout((()=>{e.$store.dispatch(`${q.$h}/PressPlayMemberNotificationReadSet`,{id:"updateBadgeTime"}).then((t=>{e.$store.dispatch("PressPlayMemberInfoSet",{notification_badge:0})})),clearTimeout(e.readNotifyInfoMenuTimer),e.readNotifyInfoMenuTimer=null}),1e3))},openNotify(e){const t=this,o=t.getNotifyUrl(e),r=e.id;if(e.is_read)t.goToUrl(o);else{const e={id:r};t.$store.dispatch(`${q.$h}/PressPlayMemberNotificationReadSet`,e).then((()=>{let e=JSON.parse(JSON.stringify(t.HeaderNotificationList));e=e.map((e=>(r===e.id&&(e.is_read=!0),e))),t.HeaderNotificationList=e,t.goToUrl(o)}),(()=>{}))}const a={category:e.type,title:e.title,body:e.body};switch(e.type){case"channel_commit":case"album_commit":case"track_commit":a.channel_id=e.commit_relation.id;break;case"project_commit":case"project_assign_commit":case"vipp_article_commit":a.project_id=e.commit_relation.id;break;case"project_info_goal":case"project_info_status":a.project_id=e.project_relation.id;break;case"vipp_article":a.timeline_key=e.article_relation.id;break;default:a.id=e.url_relation.id}H.zT.pageAction("notification_trigger",a)},goToUrl(e){const t=document.createElement("a");return t.setAttribute("target","_blank"),t.setAttribute("href",e),t.click(),!1},getNotifyUrl(e){let t="";switch(e.type){case"channel_commit":case"album_commit":case"track_commit":case"project_commit":case"project_assign_commit":case"vipp_article_commit":t=e.commit_relation.web_url;break;case"project_info_goal":case"project_info_status":t=e.project_relation.web_url;break;case"vipp_article":t=e.article_relation.web_url;break;default:t=e.url_relation.web_url}return t},reloadAll(){clearTimeout(this.reloadAllTimer),this.reloadAllTimer=setTimeout((()=>{if(this.showTabList.newsfeed&&this.getHeaderNewsFeeds(),this.showTabList.notice){const e=new Date;this.getHeaderNotification(e.toISOString(!0),20)}this.showTabListInit=!1}),100)},loadMore(){const e=this;if(e.HeaderNotificationList[e.HeaderNotificationList.length-1]){const t=e.HeaderNotificationList[e.HeaderNotificationList.length-1];e.getHeaderNotification(t.date,20)}},ppPanelClick(e){const t=this,o={};switch(e){case"newsfeedPage_click":case"notificationPage_click":t.$emit("close-notice");break;case"myProject_click":o.project_id=""}H.zT.pageAction(e,o)}}};const K=(0,o(2912).A)(X,[["render",function(e,t,o,G,H,R){const q=(0,r.resolveComponent)("perfect-scrollbar"),U=(0,r.resolveComponent)("pp-router-link"),W=(0,r.resolveComponent)("dot-loading"),Y=(0,r.resolveComponent)("news-feed");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",l,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(R.showTabList,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)(["header-drop-down-menu-tab-header-item",{active:t===H.focusTabKey}]),onClick:e=>R.chooseTabKey(t)},[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["icon",e.icon])},null,2),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.showName)+" ",1),"newsfeed"===t&&R.newsFeedUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",d)):(0,r.createCommentVNode)("",!0),"notice"===t&&R.noticeUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",p)):(0,r.createCommentVNode)("",!0)],10,c)))),128))])]),"newsfeed"===H.focusTabKey?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createVNode)(q,{ref:"content",class:"header-drop-down-menu-tab-item"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",u,[0===H.HeaderNewsFeedsList.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",m," 尚未有公告喔！ ")):(0,r.createCommentVNode)("",!0),H.HeaderNewsFeedsList.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:1},(0,r.renderList)(H.HeaderNewsFeedsList,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o.id+"_"+e.id,name:o.id+"_"+e.id,class:(0,r.normalizeClass)(["header-drop-down-info cursor-pointer hover",{unread:!e.is_read}]),rel:"pic-info-item",onClick:(0,r.withModifiers)((t=>R.openNewsfeed(e)),["prevent"])},[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",{class:"pic lazyload","data-src":H.NewsFeedAvatar[e.category]},null,8,f)]),(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("div",y,(0,r.toDisplayString)(e.subject),1),(0,r.createElementVNode)("div",v,(0,r.toDisplayString)(e.abstract),1),(0,r.createElementVNode)("div",w,[_,(0,r.createElementVNode)("time",{class:"relativeTime","data-time":e.start_time},(0,r.toDisplayString)(e.start_time),9,k)])])],10,g)))),128)):(0,r.createCommentVNode)("",!0)])])),_:1},512),o.loadMoreFlag?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",P,[(0,r.createElementVNode)("div",S,[(0,r.createVNode)(U,{class:"header-drop-down-info",rel:"button",to:"/member/notification#newsfeed",onClick:t[0]||(t[0]=e=>R.ppPanelClick("newsfeedPage_click"))},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 查看全部 ")])),_:1})])]))],64)):(0,r.createCommentVNode)("",!0),"notice"===H.focusTabKey?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createVNode)(q,{ref:"content",class:"header-drop-down-menu-tab-item"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",C,[0!==H.HeaderNotificationList.length||H.HeaderNotificationListCanLoading?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",N," 尚未有通知訊息喔！ ")),H.HeaderNotificationList.length>0?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createElementVNode)("div",A,[(0,r.createElementVNode)("div",{class:"notice-all-read-btn",onClick:t[1]||(t[1]=function(){return R.readNotifyAll&&R.readNotifyAll(...arguments)})},[M,(0,r.createTextVNode)(" 全部標為已讀 ")])]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(H.HeaderNotificationList,(e=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:o.id+"_"+e.id,name:o.id+"_"+e.id,class:(0,r.normalizeClass)(["header-drop-down-info cursor-pointer hover",{unread:!e.is_read}]),rel:"pic-info-item",onClick:t=>R.openNotify(e)},[(0,r.createElementVNode)("div",E,[(0,r.createElementVNode)("div",{class:"pic lazyload","data-src":e.image_url},null,8,I)]),(0,r.createElementVNode)("div",B,[(0,r.createElementVNode)("div",j,(0,r.toDisplayString)(e.title),1),(0,r.createElementVNode)("div",x,(0,r.toDisplayString)(e.body),1),(0,r.createElementVNode)("div",L,[O,(0,r.createElementVNode)("time",{class:"relativeTime","data-time":e.date},(0,r.toDisplayString)(e.date),9,V)])])],10,T)))),128))],64)):(0,r.createCommentVNode)("",!0)])])),_:1},512),o.loadMoreFlag?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",$,[(0,r.createElementVNode)("div",D,[(0,r.createVNode)(U,{class:"header-drop-down-info",rel:"button",to:"/member/notification",onClick:t[2]||(t[2]=e=>R.ppPanelClick("notificationPage_click"))},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 查看全部 ")])),_:1})])])),o.loadMoreFlag?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[H.HeaderNotificationListCanLoadMore?((0,r.openBlock)(),(0,r.createElementBlock)("div",F,[(0,r.createElementVNode)("div",J,[(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"button",onClick:t[3]||(t[3]=function(){return R.loadMore&&R.loadMore(...arguments)})}," 更多 ")])])):(0,r.createCommentVNode)("",!0),H.HeaderNotificationListCanLoading?((0,r.openBlock)(),(0,r.createElementBlock)("div",z,[(0,r.createVNode)(W,{spacer:8})])):(0,r.createCommentVNode)("",!0)],64)):(0,r.createCommentVNode)("",!0)],64)):(0,r.createCommentVNode)("",!0)])]),H.NewsFeedInfo&&(H.NewsFeedInfo.id||H.NewsFeedInfo.subject)?((0,r.openBlock)(),(0,r.createBlock)(Y,{key:0,is_login:R.isLogin,"news-feed-info":H.NewsFeedInfo,onChangeNewsfeedInfo:R.changeNewsFeedInfo,onReadNewsfeedInfo:R.readNewsFeedInfo,onDeleteNewsfeedInfo:R.deleteNewsFeedInfo},null,8,["is_login","news-feed-info","onChangeNewsfeedInfo","onReadNewsfeedInfo","onDeleteNewsfeedInfo"])):(0,r.createCommentVNode)("",!0)],512)}]])},18790:(e,t,o)=>{"use strict";o.d(t,{A:()=>Vr});var r=o(6496);const a={class:"pp-header-container"},n={class:"pp-header-wrapper"},i={class:"pp-header-item",rel:"space-first"},s={class:"pp-header-nav"},l={class:"pp-header-nav-wrapper"},c={class:"pp-header-item",rel:"left"},d={class:"pp-header-nav"},p={class:"pp-header-nav-wrapper"},u={key:2,class:"pp-header-nav-item",rel:"category"},m=(0,r.createElementVNode)("span",{class:"mr-2"},"聽書",-1),g=(0,r.createElementVNode)("i",{class:"icon icon_headphones_fill"},null,-1),h={class:"pp-header-item",rel:"right"},f={class:"pp-header-nav"},b={class:"pp-header-nav-wrapper"},y=(0,r.createElementVNode)("div",{class:"pp-header-item",rel:"space-last"},null,-1),v=["data-project-id","data-facebook-pixel"];var w=o(89590),_=o(42637),k=o.n(_),P=o(36657),S=o(56158);const C=e=>((0,r.pushScopeId)("data-v-22b849ad"),e=e(),(0,r.popScopeId)(),e),N=["device"],A={class:"header-drop-down-btn-wrapper",rel:"icon-btn"},M=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_list"},null,-1))),T={key:0,class:"label-ball"},E=[C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-btn-wrapper",rel:"icon-btn"},[(0,r.createElementVNode)("i",{class:"icon icon_x"})],-1)))],I={class:"header-drop-down-menu"},B={class:"header-drop-down-menu-wrapper no-gutters"},j={class:"header-drop-down-menu-item"},x={key:0,class:"header-drop-down-info",rel:"login-notice"},L=[C((()=>(0,r.createElementVNode)("div",{class:"tooltip-block"},[(0,r.createElementVNode)("img",{src:"/public/img/header/register-gift.png",alt:""}),(0,r.createTextVNode)(" 註冊領取 50 元折扣！ ")],-1)))],O={class:"header-drop-down-info",rel:"button"},V=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),$={key:2,class:"header-drop-down-menu-item"},D={class:"header-drop-down-info text-center"},F=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_rocket"},null,-1))),J={class:"mobile-my-learning-title"},z=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_book"},null,-1))),G={class:"mobile-my-learning-title"},H=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_headphones_fill"},null,-1))),R=C((()=>(0,r.createElementVNode)("div",{class:"mobile-my-learning-title"}," 聽書 ",-1))),q=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),U={class:"header-drop-down-info-item",rel:"text"},W=["onClick"],Y={class:"header-drop-down-info-item",rel:"text"},Q=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info-item",rel:"arrow"},[(0,r.createElementVNode)("i",{class:"icon icon_caret_right"})],-1))),X={key:1,class:"header-drop-down-menu-tab"},K={class:"header-drop-down-menu-tab-item",rel:"header"},Z=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_caret_left"},null,-1))),ee={class:"header-drop-down-menu-item"},te=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),oe=["title"],re=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_currency_circle_point_fill"},null,-1))),ae=["title","textContent"],ne=["title","textContent"],ie=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),se={class:"header-drop-down-info-item",rel:"text"},le={key:0,class:"header-drop-down-info-item",rel:"arrow"},ce=["textContent"],de={class:"header-drop-down-info-item",rel:"text"},pe={key:0,class:"header-drop-down-info-item",rel:"arrow"},ue=["textContent"],me=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),ge=C((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),he=["href"],fe={key:2,class:"header-drop-down-menu-tab"},be={class:"header-drop-down-menu-tab-item",rel:"header"},ye=C((()=>(0,r.createElementVNode)("i",{class:"icon icon_caret_left"},null,-1))),ve={key:0,class:"header-drop-down-menu-item"},we={class:"header-drop-down-info-item",rel:"text"},_e={class:"header-drop-down-info-item",rel:"text"};var ke=o(29566),Pe=o(55489);const Se={class:"header-drop-down-info-item",rel:"avatar"},Ce=["data-src"],Ne={key:0,class:"label-ball"},Ae={class:"header-drop-down-info-item",rel:"info"},Me={class:"avatar-title"},Te={class:"avatar-description"},Ee=["title"],Ie={key:0,class:"avatar-description"},Be={key:0,class:"header-drop-down-info-item",rel:"arrow"},je=[(0,r.createElementVNode)("i",{class:"icon icon_caret_right"},null,-1)];var xe=o(33887),Le=o(51988);const Oe=P.a2.get("DEFAULT.DEFAULT_AVATAR_ICON"),Ve={components:{},props:{messageTotalUnread:{type:[String,Number],default:0}},setup(e,t){let{emits:o}=t;const{tp:r}=(0,S.Sw)();return{tp:r}},emits:["set-group-type"],data:()=>({socialIcon:{apple:"icon_apple_logo_fill",facebook:"icon_facebook_logo_fill",google:"icon_google_logo_fill",line:"icon_line_logo_fill"}}),computed:{...(0,w.mapGetters)(["MemberInfo"]),head_photo(){return this.MemberInfo.head_photo||Oe},showArrow(){return!!this.$attrs.onClick},thirdPartySource(){return(this.MemberInfo.third_party||[]).map((e=>e.source))}},watch:{head_photo:{handler(){this.resetHeadPhoto()},immediate:!0}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),resetHeadPhoto(){this.$nextTick((()=>{Le("body").trigger("reset-lazyImg",this.$el)}))},resendVerifyEmail(){const e=this;e.openLoginData={email:e.MemberInfo.member_email},setTimeout((()=>{e.openLoginModal("verifyEmail")}),100)},openLoginModal(e,t){const o={type:e,...this.openLoginData};t&&(o.triggerType=t),this.$store.dispatch("PressPlayLoginModalTriggerOpen",o)},setGroupType(){this.$emit("set-group-type")}}};var $e=o(2912);const De=(0,$e.A)(Ve,[["render",function(e,t,o,a,n,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{class:(0,r.normalizeClass)(["header-drop-down-info hover",{"cursor-pointer":i.showArrow}]),rel:"profile",onClick:t[1]||(t[1]=function(){return i.setGroupType&&i.setGroupType(...arguments)})},[(0,r.createElementVNode)("div",Se,[(0,r.createElementVNode)("div",{class:"avatar lazyload","data-src":i.head_photo},[0!==o.messageTotalUnread?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ne)):(0,r.createCommentVNode)("",!0)],8,Ce)]),(0,r.createElementVNode)("div",Ae,[(0,r.createElementVNode)("div",Me,(0,r.toDisplayString)(e.MemberInfo.nickname||e.MemberInfo.username),1),(0,r.createElementVNode)("div",Te,[i.thirdPartySource.length>0?((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,{key:0},(0,r.renderList)(i.thirdPartySource,(e=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:e},[n.socialIcon[e]?((0,r.openBlock)(),(0,r.createElementBlock)("i",{key:e,class:(0,r.normalizeClass)(["icon",n.socialIcon[e]])},null,2)):(0,r.createCommentVNode)("",!0)],64)))),128)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("span",{title:e.MemberInfo.member_email},(0,r.toDisplayString)(e.MemberInfo.member_email),9,Ee)]),e.MemberInfo.is_email_verify?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ie,[(0,r.createElementVNode)("span",{class:"resend-verify-email",onClick:t[0]||(t[0]=(0,r.withModifiers)((function(){return i.resendVerifyEmail&&i.resendVerifyEmail(...arguments)}),["stop"]))},(0,r.toDisplayString)(a.tp("general.header.resent_verification_email")),1)]))]),i.showArrow?((0,r.openBlock)(),(0,r.createElementBlock)("div",Be,je)):(0,r.createCommentVNode)("",!0)],2)}]]);var Fe=o(51988);const Je={components:{HeaderAvatarInfo:De,dotLoading:Pe.A},props:{mobileSearchTrigger:{type:Number,default:0,required:!1}},emits:["get-member-login-info","logout-account","get-member-points"],setup(e,t){let{emits:o}=t;const{customerServiceHide:r,customerServiceShow:a}=(0,S.fq)(),{tp:n}=(0,S.Sw)();return{customerServiceHide:r,customerServiceShow:a,tp:n}},data:()=>({showFlag:!1,showMenuFlag:!1,groupType:"",categoryIndex:!1,showTooltip:!0,showEmailVerifyTooltip:!0}),computed:{...(0,w.mapGetters)(["PageSetting_mode_type","PageSetting_device","MemberInfo","MemberPoints"]),...(0,w.mapGetters)({projectTypeList:"GlobalProjectTypes",refererUrl:`${xe.$h}/refererUrl`}),...(0,w.mapGetters)({MessageMemberUnread:`${xe.$h}/MessageMemberUnread`,MessageProjectUnread:`${xe.$h}/MessageProjectUnread`,MessageUnread:`${xe.$h}/MessageUnread`}),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`}),totalShowFlag(){return"mobile"!==this.PageSetting_mode_type&&!0===this.showFlag||"mobile"===this.PageSetting_mode_type&&!0===this.showMenuFlag},hasProject(){return!(!this.MemberInfo||!this.MemberInfo.has_project)},showCreatorText(){return this.hasProject?"創作者中心":"成為創作者"},ProjectMessageEntrance(){let e=!1;return this.MemberInfo.project_list&&this.MemberInfo.project_list.length>0&&(e=this.MemberInfo.project_list.some((e=>"initial"!==e.project_status))),e},MessageTotalUnread(){const e=this.MessageMemberUnread+this.MessageProjectUnread;return e>=10?"9+":e},focusProjectType(){return this.projectTypeList[this.categoryIndex]||!1},logoutUrl(){return this.refererUrl?`/member/logout?referer=${this.refererUrl}`:"/member/logout"}},watch:{PageSetting_mode_type(e,t){e!==t&&"mobile"!==e&&(this.showFlag=!1,this.showMenuFlag=!1)},totalShowFlag(e,t){e!==t&&!0===e&&(this.getMemberLoginInfo(),this.getMemberPoints(),this.setGroupType(""),this.categoryIndex=!1),!0===e?Fe("body").addClass("header-lock-scroll"):(Fe("body").removeClass("header-lock-scroll"),(0,ke.qY)())},showFlag(e,t){e!==t&&!0===e&&(this.setRefererUrl(),this.loadProjectTypeList())},showMenuFlag(e,t){e!==t&&!0===e&&(this.setRefererUrl(),this.loadProjectTypeList()),e?(this.customerServiceHide(),(0,ke.mh)(this.$refs.scroll.$el)):(this.customerServiceShow(),(0,ke.fY)(this.$refs.scroll.$el))},mobileSearchTrigger(e,t){e!==t&&this.showMenu(!1)}},created(){},mounted(){const e=this;Fe(e.$refs.el).find(".header-drop-down").on("header-drop-down:show",(()=>{e.showFlag=!0})),Fe(e.$refs.el).find(".header-drop-down").on("header-drop-down:hide",(()=>{e.showFlag=!1}))},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({setRefererUrl:`${xe.$h}/setRefererUrl`}),cc_url:P.OZ.cc_url,pp_url:P.OZ.pp_url,formatMoney:P.Yj.formatMoney,showMenu(e){"mobile"===this.PageSetting_mode_type&&(this.showMenuFlag=e)},loadProjectTypeList(){const e=this;e.projectTypeList&&0!==e.projectTypeList.length||e.$store.dispatch("PressPlayProjectTypeListV2Get").then((()=>{}),(()=>{}))},setGroupType(e){this.groupType=e,this.categoryIndex=!1},chooseCategory(e){this.categoryIndex=e,this.groupType="category-list"},openLoginModal(e,t){const o={type:e,...this.openLoginData};t&&(o.triggerType=t),this.$store.dispatch("PressPlayLoginModalTriggerOpen",o,!0)},getMemberLoginInfo(){this.$emit("get-member-login-info")},getMemberPoints(){this.MemberInfo.member_id&&this.$emit("get-member-points")},logoutAccount(){this.$emit("logout-account")},closeHamburger(){this.showMenuFlag=!1},clickToolTip(){this.showTooltip=!1},clickEmailVerifyTooltip(){this.showEmailVerifyTooltip=!1},resendVerifyEmail(){this.$refs.headerAvatarInfo.resendVerifyEmail()},ppPanelClick(e){const t={};"myProject_click"===e&&(t.project_id=""),"projectPoint_click"===e&&P.Xe.gtag("event","projectPoint_click",{event_category:"point"}),P.zT.pageAction(e,t),this.closeHamburger()}}};o(81108);const ze=(0,$e.A)(Je,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("header-avatar-info"),l=(0,r.resolveComponent)("dot-loading"),c=(0,r.resolveComponent)("pp-router-link"),d=(0,r.resolveComponent)("perfect-scrollbar");return(0,r.openBlock)(),(0,r.createElementBlock)("li",{ref:"el",class:"pp-header-nav-item",rel:"mobile-hamburger",device:e.PageSetting_device,"data-device":"all"},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["header-drop-down",{"not-drop":"mobile"===e.PageSetting_mode_type,show:i.totalShowFlag}])},[!1===n.showMenuFlag?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"header-drop-down-btn",onClick:t[0]||(t[0]=e=>i.showMenu(!0))},[(0,r.createElementVNode)("div",A,[M,0!==i.MessageTotalUnread?((0,r.openBlock)(),(0,r.createElementBlock)("div",T)):(0,r.createCommentVNode)("",!0)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"header-drop-down-btn",onClick:t[1]||(t[1]=e=>i.showMenu(!1))},E)),(0,r.createElementVNode)("div",I,[(0,r.createElementVNode)("div",B,[""===n.groupType?((0,r.openBlock)(),(0,r.createBlock)(d,{key:0,class:"header-drop-down-menu-group",ref:"scroll"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",j,[e.MemberInfo.member_id?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,ref:"headerAvatarInfo","message-total-unread":i.MessageTotalUnread,onClick:t[2]||(t[2]=e=>i.setGroupType("avatar-info")),onSetGroupType:t[3]||(t[3]=e=>i.setGroupType("avatar-info"))},null,8,["message-total-unread"])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[n.showTooltip?((0,r.openBlock)(),(0,r.createElementBlock)("div",x,L)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",O,[n.showTooltip?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[],64)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("button",{class:"btn btn-primary header-login-button",onClick:t[4]||(t[4]=e=>i.openLoginModal("login"))},(0,r.toDisplayString)(a.tp("general.header.login_or_register")),1)])],64)),V,!1===e.projectTypeList||0===e.projectTypeList.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",$,[(0,r.createElementVNode)("div",D,[(0,r.createVNode)(l,{spacer:8})])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:3},[i.hasProject?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,class:"header-drop-down-info hover mobile-my-learning",rel:"info",to:i.cc_url("/"),onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[F,(0,r.createElementVNode)("div",J,(0,r.toDisplayString)(a.tp("general.header.creator_center")),1)])),_:1},8,["to","onClick"])):(0,r.createCommentVNode)("",!0),e.MemberInfo.member_id?((0,r.openBlock)(),(0,r.createBlock)(c,{key:1,class:"header-drop-down-info hover mobile-my-learning","data-tutorial":"follow",rel:"info",to:"/member/learning/projects",onClick:t[5]||(t[5]=e=>i.ppPanelClick("myProject_click"))},{default:(0,r.withCtx)((()=>[z,(0,r.createElementVNode)("div",G,(0,r.toDisplayString)(a.tp("general.header.my_learning")),1)])),_:1})):(0,r.createCommentVNode)("",!0),e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,class:"header-drop-down-info hover mobile-my-learning",rel:"info",to:"/project/082A3A85B647A6210495A9C0DCCC0FCC/theme_book",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[H,R])),_:1},8,["onClick"])),q,(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"list-item",to:"/project",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",U,(0,r.toDisplayString)(a.tp("general.header.all_categories")),1)])),_:1},8,["onClick"]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.projectTypeList,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.type_id,class:(0,r.normalizeClass)(["header-drop-down-info hover",{active:t===n.categoryIndex}]),rel:"list-item",onClick:e=>i.chooseCategory(t)},[(0,r.createElementVNode)("div",Y,(0,r.toDisplayString)(e.type_name),1),Q],10,W)))),128))],64))])])),_:1},512)):(0,r.createCommentVNode)("",!0),"avatar-info"===n.groupType?((0,r.openBlock)(),(0,r.createElementBlock)("div",X,[(0,r.createElementVNode)("div",K,[(0,r.createElementVNode)("div",{class:"header-mobile-go-back",onClick:t[6]||(t[6]=e=>i.setGroupType(""))},[Z,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(a.tp("general.back"))+" "+(0,r.toDisplayString)(a.tp("general.header.main_menu")),1)])]),(0,r.createVNode)(d,{rel:"content",class:"header-drop-down-menu-tab-item",ref:"scroll"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",ee,[(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"info",to:"/member/learning/projects",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_learning")),1)])),_:1},8,["onClick"]),(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"info","data-tutorial":"collect",to:"/member/collect_articles"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_collection")),1)])),_:1}),(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"info",to:"/member/badge",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_achievements")),1)])),_:1},8,["onClick"]),te,(0,r.createVNode)(c,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/point",onClick:t[7]||(t[7]=()=>{i.closeHamburger(),i.ppPanelClick("projectPoint_click")})},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_pp_points"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:"number highlight",title:e.MemberPoints.platform.free},[(0,r.createTextVNode)((0,r.toDisplayString)(i.formatMoney(e.MemberPoints.platform.free))+" ",1),re],8,oe)])])),_:1}),(0,r.createVNode)(c,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/coupon",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_coupons"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["number",{highlight:e.MemberInfo.coupon_count>0}]),title:e.MemberInfo.coupon_count,textContent:(0,r.toDisplayString)(i.formatMoney(e.MemberInfo.coupon_count))},null,10,ae)])])),_:1},8,["onClick"]),(0,r.createVNode)(c,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/gift_card",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.redeem_courses"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["number",{highlight:e.MemberInfo.giftcard_count>0}]),title:e.MemberInfo.giftcard_count,textContent:(0,r.toDisplayString)(i.formatMoney(e.MemberInfo.giftcard_count))},null,10,ne)])])),_:1},8,["onClick"]),ie,(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"list-item",to:"/member/message",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",se,(0,r.toDisplayString)(a.tp("general.header.personal_messages")),1),e.MessageMemberUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",le,[(0,r.createElementVNode)("div",{class:"label-ball",textContent:(0,r.toDisplayString)(e.MessageMemberUnread)},null,8,ce)])):(0,r.createCommentVNode)("",!0)])),_:1},8,["onClick"]),i.ProjectMessageEntrance?((0,r.openBlock)(),(0,r.createBlock)(c,{key:0,class:"header-drop-down-info hover",rel:"list-item",to:"/member/projectMessage",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",de,(0,r.toDisplayString)(a.tp("general.header.project_messages")),1),e.MessageProjectUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",pe,[(0,r.createElementVNode)("div",{class:"label-ball",textContent:(0,r.toDisplayString)(e.MessageProjectUnread)},null,8,ue)])):(0,r.createCommentVNode)("",!0)])),_:1},8,["onClick"])):(0,r.createCommentVNode)("",!0),me,e.MemberInfo.sale_partner?((0,r.openBlock)(),(0,r.createBlock)(c,{key:1,class:"header-drop-down-info hover",rel:"info",to:e.MemberInfo.sale_partner&&["active"].includes(e.MemberInfo.sale_partner.status)?"/affiliate/sales/month":"/affiliate/apply",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 聯盟行銷推廣大使 ")])),_:1},8,["to","onClick"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"info",to:"/member/payment",onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.order_management")),1)])),_:1},8,["onClick"]),(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"info",to:"/member/profile?tab=personal",onClick:t[8]||(t[8]=()=>{i.closeHamburger(),i.ppPanelClick("memberProfile_click")})},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.settings")),1)])),_:1}),i.hasProject?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(c,{key:2,class:"header-drop-down-info hover",rel:"info",to:i.pp_url("/link/D0F9628D"),onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.become_creator")),1)])),_:1},8,["to","onClick"])),ge,(0,r.createElementVNode)("a",{class:"header-drop-down-info hover",rel:"info",href:i.logoutUrl,onClick:t[9]||(t[9]=function(){return i.logoutAccount&&i.logoutAccount(...arguments)})},(0,r.toDisplayString)(a.tp("general.header.signout")),9,he)])])),_:1},512)])):(0,r.createCommentVNode)("",!0),"category-list"===n.groupType?((0,r.openBlock)(),(0,r.createElementBlock)("div",fe,[(0,r.createElementVNode)("div",be,[(0,r.createElementVNode)("div",{class:"header-mobile-go-back",onClick:t[10]||(t[10]=e=>i.setGroupType(""))},[ye,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(a.tp("general.back"))+" "+(0,r.toDisplayString)(a.tp("general.header.all_categories")),1)])]),(0,r.createVNode)(d,{rel:"content",class:"header-drop-down-menu-tab-item",ref:"scroll"},{default:(0,r.withCtx)((()=>[i.focusProjectType?((0,r.openBlock)(),(0,r.createElementBlock)("div",ve,[(0,r.createVNode)(c,{class:"header-drop-down-info hover",rel:"list-item",to:i.focusProjectType.link,onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",we,(0,r.toDisplayString)(a.tp("general.header.all_category_of",{category:i.focusProjectType.type_name})),1)])),_:1},8,["to","onClick"]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.focusProjectType.sub_project_types,(e=>((0,r.openBlock)(),(0,r.createBlock)(c,{key:e.type_id,class:"header-drop-down-info hover",rel:"list-item",to:e.link,onClick:i.closeHamburger},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",_e,(0,r.toDisplayString)(e.type_name),1)])),_:2},1032,["to","onClick"])))),128))])):(0,r.createCommentVNode)("",!0)])),_:1},512)])):(0,r.createCommentVNode)("",!0)])])],2),e.MemberInfo&&e.MemberInfo.member_id&&!e.MemberInfo.is_email_verify&&n.showEmailVerifyTooltip?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tooltip-inner",onClick:t[12]||(t[12]=(0,r.withModifiers)((function(){return i.clickEmailVerifyTooltip&&i.clickEmailVerifyTooltip(...arguments)}),["stop"]))},[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.resent_verification_email_reminder"))+" ",1),(0,r.createElementVNode)("strong",{onClick:t[11]||(t[11]=function(){return i.resendVerifyEmail&&i.resendVerifyEmail(...arguments)})},(0,r.toDisplayString)(a.tp("general.header.resent_verification_email")),1)])):(0,r.createCommentVNode)("",!0)],8,N)}],["__scopeId","data-v-22b849ad"]]),Ge={class:"pp-header-item",rel:"logo"},He=["src"],Re=["src"];const qe={components:{},props:{logoType:{type:String,default:"",required:!1}},data:()=>({}),computed:{...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`})},watch:{},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({})}},Ue=(0,$e.A)(qe,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ge,[(0,r.createVNode)(s,{to:"/",class:"pressplay-logo"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("img",{src:`/public/img/logo/PPA_logo_${o.logoType}.svg`,alt:"PressPlay 訂閱學習，時刻精進"},null,8,He)])),_:1}),e.isInclusion?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,to:"https://www.inclusion.com.tw/",class:"pressplay-logo"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("img",{src:`/public/img/logo/inclusion_logo_${o.logoType}.svg`,rel:"inclusion",alt:"浦惠投顧"},null,8,Re)])),_:1},8,["to"])):(0,r.createCommentVNode)("",!0)])}]]),We={key:0,ref:"el",class:"pp-header-nav-item",rel:"category"},Ye={class:"header-drop-down"},Qe={class:"header-drop-down-btn"},Xe={class:"header-drop-down-btn-wrapper"},Ke=(0,r.createElementVNode)("i",{class:"icon icon_caret_down"},null,-1),Ze={class:"header-drop-down-menu"},et={class:"header-drop-down-menu-wrapper"},tt={key:0,class:"header-drop-down-menu-group"},ot={class:"header-drop-down-menu-item"},rt={class:"header-drop-down-info text-center"},at={class:"header-drop-down-menu-item"},nt={class:"header-drop-down-info-item",rel:"text"},it=["onClick","onMouseenter"],st={class:"header-drop-down-info-item",rel:"text"},lt=(0,r.createElementVNode)("div",{class:"header-drop-down-info-item",rel:"arrow"},[(0,r.createElementVNode)("i",{class:"icon icon_caret_right"})],-1),ct={class:"header-drop-down-info-item",rel:"text"},dt={class:"header-drop-down-info-item",rel:"text"};var pt=o(51988);const ut=P.a2.get("IS_SEO_BOT"),mt={components:{dotLoading:Pe.A},props:{},setup(e,t){let{emits:o}=t;const{tp:r}=(0,S.Sw)();return{tp:r}},data:()=>({categoryIndex:!1}),computed:{...(0,w.mapGetters)({projectTypeList:"GlobalProjectTypes"}),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`}),focusProjectType(){return this.projectTypeList[this.categoryIndex]||!1},router(){return this.$route||!1}},watch:{router(){pt(this.$refs.el).find(".header-drop-down").trigger("mouseleave")}},created(){},mounted(){const e=this;pt(e.$refs.el).find(".header-drop-down").on("header-drop-down:show",(()=>{e.$refs["scroll-main"]&&(e.$refs["scroll-main"].$el.scrollTop=0),e.projectTypeList&&0!==e.projectTypeList.length||e.loadProjectTypeList(),e.chooseCategory(!1)})),ut&&e.loadProjectTypeList()},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),chooseCategory(e){this.categoryIndex=e},loadProjectTypeList(){this.$store.dispatch("PressPlayProjectTypeListV2Get").then((()=>{}),(()=>{}))}}},gt=(0,$e.A)(mt,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("dot-loading"),l=(0,r.resolveComponent)("pp-router-link"),c=(0,r.resolveComponent)("perfect-scrollbar");return e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("li",We,[(0,r.createElementVNode)("div",Ye,[(0,r.createElementVNode)("div",Qe,[(0,r.createElementVNode)("div",Xe,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(a.tp("general.header.explore_content")),1),Ke])]),(0,r.createElementVNode)("div",Ze,[(0,r.createElementVNode)("div",et,[!1===e.projectTypeList||0===e.projectTypeList.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",tt,[(0,r.createElementVNode)("div",ot,[(0,r.createElementVNode)("div",rt,[(0,r.createVNode)(s,{spacer:8})])])])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createVNode)(c,{ref:"scroll-main",class:"header-drop-down-menu-group"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",at,[(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"list-item",to:"/project"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",nt,(0,r.toDisplayString)(a.tp("general.header.all_categories")),1)])),_:1}),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.projectTypeList,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:e.type_id,class:(0,r.normalizeClass)(["header-drop-down-info hover",{active:t===n.categoryIndex}]),rel:"list-item",onClick:e=>i.chooseCategory(t),onMouseenter:e=>i.chooseCategory(t)},[(0,r.createElementVNode)("div",st,(0,r.toDisplayString)(e.type_name),1),lt],42,it)))),128))])])),_:1},512),(0,r.withDirectives)((0,r.createVNode)(c,{ref:"scroll-sub",class:"header-drop-down-menu-group"},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.projectTypeList,(e=>(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:`${e.type_id}_subitems`,class:"header-drop-down-menu-item"},[(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"list-item",to:i.focusProjectType.link},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",ct,(0,r.toDisplayString)(a.tp("general.header.all_category_of",{category:i.focusProjectType.type_name})),1)])),_:1},8,["to"]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.sub_project_types,(e=>((0,r.openBlock)(),(0,r.createBlock)(l,{key:e.type_id,class:"header-drop-down-info hover",rel:"list-item",to:e.link},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",dt,(0,r.toDisplayString)(e.type_name),1)])),_:2},1032,["to"])))),128))],512)),[[r.vShow,i.focusProjectType.type_id===e.type_id]]))),128))])),_:1},512),[[r.vShow,i.focusProjectType]]),(0,r.createCommentVNode)("",!0)],64))])])])],512))}]]),ht={key:0,ref:"el",class:"pp-header-nav-item"},ft={class:"header-drop-down-btn"},bt=["onClick"],yt=[(0,r.createElementVNode)("i",{class:"icon icon_magnifying_glass"},null,-1)];var vt=o(11999);const wt={name:"HeaderSearchV2",components:{PpAutocompleteSearch:(0,r.defineAsyncComponent)((()=>o.e(8942).then(o.bind(o,59976))))},props:{headerStyleClassControl:{props:String,default:"",required:!1}},emits:[],setup(e,t){let{emit:o}=t;const a=(0,r.computed)((()=>e.headerStyleClassControl&&e.headerStyleClassControl.includes("dark")?"dark":""));return(0,r.provide)("targetThemeMode",a),{}},computed:{...(0,w.mapGetters)(["PageSetting_mode_type","HeaderSearchDisplay"]),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`})}},_t=(0,$e.A)(wt,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-autocomplete-search");return e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("li",ht,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["header-drop-down",[e.HeaderSearchDisplay?"d-flex align-items-center":"d-none",{"not-drop":"mobile"===e.PageSetting_mode_type}]])},[(0,r.createElementVNode)("div",ft,[(0,r.createVNode)(s,{source_from:"header"},(0,r.createSlots)({_:2},["mobile"===e.PageSetting_mode_type?{name:"default",fn:(0,r.withCtx)((e=>{let{onEvent:t}=e;return[(0,r.createElementVNode)("div",{class:"header-drop-down-btn-wrapper",rel:"icon-btn",onClick:t.click},yt,8,bt)]})),key:"0"}:void 0]),1024)])],2)],512))}]]),kt=e=>((0,r.pushScopeId)("data-v-cd69598a"),e=e(),(0,r.popScopeId)(),e),Pt={ref:"el",class:"pp-header-nav-item",rel:"avatar"},St={class:"header-drop-down","data-direction":"right"},Ct={class:"header-drop-down-btn"},Nt={class:"header-drop-down-btn-item"},At=["data-src"],Mt={class:"header-drop-down-menu"},Tt={class:"header-drop-down-menu-wrapper"},Et={class:"header-drop-down-menu-item"},It=kt((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),Bt=kt((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),jt=["title"],xt=kt((()=>(0,r.createElementVNode)("i",{class:"icon icon_currency_circle_point_fill"},null,-1))),Lt=["title","textContent"],Ot=["title","textContent"],Vt=kt((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),$t=kt((()=>(0,r.createElementVNode)("div",{class:"header-drop-down-info",rel:"hr"},null,-1))),Dt=["href"];var Ft=o(51988);const Jt=P.a2.get("DEFAULT.DEFAULT_AVATAR_ICON"),zt={components:{HeaderAvatarInfo:De},props:{},setup(e,t){let{emits:o}=t;const{tp:r}=(0,S.Sw)();return{tp:r}},emits:["get-member-login-info","logout-account","get-member-points"],data:()=>({showTooltip:!0,openLoginData:{email:""}}),computed:{...(0,w.mapGetters)(["MemberInfo","MemberPoints"]),...(0,w.mapGetters)({refererUrl:`${xe.$h}/refererUrl`}),head_photo(){return this.MemberInfo.head_photo||Jt},logoutUrl(){return this.refererUrl?`/member/logout?referer=${this.refererUrl}`:"/member/logout"},hasProject(){return!!this.MemberInfo&&this.MemberInfo.has_project},showCreatorText(){return this.hasProject?"創作者中心":"成為創作者"},showCreatorCenter(){return this.MemberInfo.show_creator_center}},watch:{head_photo:{handler(){this.resetHeadPhoto()},immediate:!0}},created(){},mounted(){const e=this;Ft(e.$refs.el).find(".header-drop-down").on("header-drop-down:show",(()=>{e.getMemberLoginInfo(),e.getMemberPoints(),e.showTooltip=!1,e.$refs.scroll.$el.scrollTop=0,e.setRefererUrl()}))},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({setRefererUrl:`${xe.$h}/setRefererUrl`}),cc_url:P.OZ.cc_url,pp_url:P.OZ.pp_url,formatMoney:P.Yj.formatMoney,resetHeadPhoto(){this.$nextTick((()=>{Ft("body").trigger("reset-lazyImg",this.$refs.el)}))},getMemberLoginInfo(){this.$emit("get-member-login-info")},getMemberPoints(){this.MemberInfo.member_id&&this.$emit("get-member-points")},clickToolTip(){this.showTooltip=!1},resendVerifyEmail(){this.$refs.headerAvatarInfo.resendVerifyEmail()},logoutAccount(){this.$emit("logout-account")},ppPanelClick(e){const t={};"myProject_click"===e&&(t.project_id=""),"projectPoint_click"===e&&P.Xe.gtag("event","projectPoint_click",{event_category:"point"}),P.zT.pageAction(e,t)}}};o(11809);const Gt=(0,$e.A)(zt,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("header-avatar-info"),l=(0,r.resolveComponent)("pp-router-link"),c=(0,r.resolveComponent)("perfect-scrollbar");return(0,r.openBlock)(),(0,r.createElementBlock)("li",Pt,[(0,r.createElementVNode)("div",St,[(0,r.createElementVNode)("div",Ct,[(0,r.createElementVNode)("div",Nt,[(0,r.createElementVNode)("div",{class:"avatar lazyload","data-src":i.head_photo},null,8,At)])]),(0,r.createElementVNode)("div",Mt,[(0,r.createElementVNode)("div",Tt,[(0,r.createVNode)(c,{ref:"scroll",class:"header-drop-down-menu-group"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Et,[(0,r.createVNode)(l,{to:"/member/profile?tab=personal"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(s,{ref:"headerAvatarInfo"},null,512)])),_:1}),It,(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"info",to:"/member/learning/projects"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_learning")),1)])),_:1}),(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"info","data-tutorial":"collect",to:"/member/collect_articles"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_collection")),1)])),_:1}),(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"info",to:"/member/badge"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_achievements")),1)])),_:1}),Bt,(0,r.createVNode)(l,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/point",onClick:t[0]||(t[0]=e=>i.ppPanelClick("projectPoint_click"))},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_pp_points"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:"number highlight",title:e.MemberPoints.platform.free},[(0,r.createTextVNode)((0,r.toDisplayString)(i.formatMoney(e.MemberPoints.platform.free))+" ",1),xt],8,jt)])])),_:1}),(0,r.createVNode)(l,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/coupon"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_coupons"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["number",{highlight:e.MemberInfo.coupon_count>0}]),title:e.MemberInfo.coupon_count,textContent:(0,r.toDisplayString)(i.formatMoney(e.MemberInfo.coupon_count))},null,10,Lt)])])),_:1}),(0,r.createVNode)(l,{class:"header-drop-down-info hover d-flex align-items-center justify-content-between",rel:"info",to:"/member/gift_card"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.redeem_courses"))+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("span",{class:(0,r.normalizeClass)(["number",{highlight:e.MemberInfo.giftcard_count>0}]),title:e.MemberInfo.giftcard_count,textContent:(0,r.toDisplayString)(i.formatMoney(e.MemberInfo.giftcard_count))},null,10,Ot)])])),_:1}),Vt,e.MemberInfo.sale_partner?((0,r.openBlock)(),(0,r.createBlock)(l,{key:0,class:"header-drop-down-info hover",rel:"info",to:e.MemberInfo.sale_partner&&["active"].includes(e.MemberInfo.sale_partner.status)?"/affiliate/sales/month":"/affiliate/apply"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 聯盟行銷推廣大使 ")])),_:1},8,["to"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"info",to:"/member/payment"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.order_management")),1)])),_:1}),(0,r.createVNode)(l,{class:"header-drop-down-info hover",rel:"info",to:"/member/profile?tab=personal"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.settings")),1)])),_:1}),i.showCreatorCenter?((0,r.openBlock)(),(0,r.createBlock)(l,{key:1,class:"header-drop-down-info hover",rel:"info",to:i.cc_url("/"),onClick:t[1]||(t[1]=e=>i.ppPanelClick("creatorCenter_click"))},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.creator_center")),1)])),_:1},8,["to"])):(0,r.createCommentVNode)("",!0),i.showCreatorCenter?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(l,{key:2,class:"header-drop-down-info hover",rel:"info",to:i.pp_url("/link/D0F9628D"),onClick:t[2]||(t[2]=e=>i.ppPanelClick("creatorCenter_click"))},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.become_creator")),1)])),_:1},8,["to"])),$t,(0,r.createElementVNode)("a",{class:"header-drop-down-info hover",rel:"info",href:i.logoutUrl,onClick:t[3]||(t[3]=function(){return i.logoutAccount&&i.logoutAccount(...arguments)})},(0,r.toDisplayString)(a.tp("general.header.signout")),9,Dt)])])),_:1},512)])])]),e.MemberInfo&&e.MemberInfo.member_id&&!e.MemberInfo.is_email_verify&&n.showTooltip?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tooltip-inner",onClick:t[5]||(t[5]=(0,r.withModifiers)((function(){return i.clickToolTip&&i.clickToolTip(...arguments)}),["stop"]))},[(0,r.createElementVNode)("div",null,[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.resent_verification_email_reminder"))+" ",1),(0,r.createElementVNode)("strong",{onClick:t[4]||(t[4]=function(){return i.resendVerifyEmail&&i.resendVerifyEmail(...arguments)})},(0,r.toDisplayString)(a.tp("general.header.resent_verification_email")),1)])])):(0,r.createCommentVNode)("",!0)],512)}],["__scopeId","data-v-cd69598a"]]),Ht={class:"pp-header-nav-item",rel:"login"},Rt=["href"],qt=["href"],Ut=[(0,r.createStaticVNode)('<div class="tooltip-item" data-v-f1610d2a><img src="/public/img/header/register-gift.png" alt="" data-v-f1610d2a></div><div class="tooltip-item" data-v-f1610d2a> 註冊領取 50 元折扣！ </div><div class="tooltip-item" data-v-f1610d2a><i class="icon icon_x" data-v-f1610d2a></i></div>',3)];const Wt={components:{},props:{},data:()=>({showTooltip:!0}),setup(e,t){let{emits:o}=t;const{tp:r}=(0,S.Sw)();return{tp:r}},computed:{...(0,w.mapGetters)(["MemberInfo"]),hasProject(){return!!this.MemberInfo&&this.MemberInfo.has_project},isLogin(){return!!this.MemberInfo.member_id}},watch:{},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),cc_url:P.OZ.cc_url,pp_url:P.OZ.pp_url,openLoginModal(e,t){const o={type:e,...this.openLoginData};t&&(o.triggerType=t),this.$store.dispatch("PressPlayLoginModalTriggerOpen",o,!0)},clickToolTip(){this.showTooltip=!1}}};o(7276);const Yt=(0,$e.A)(Wt,[["render",function(e,t,o,a,n,i){return(0,r.openBlock)(),(0,r.createElementBlock)("li",Ht,[i.hasProject?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[i.isLogin?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:1,class:"pp-header-nav-button",rel:"creator",href:i.pp_url("/link/D0F9628D")},(0,r.toDisplayString)(a.tp("general.header.become_creator")),9,qt)):((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,class:"pp-header-nav-button",rel:"creator",href:i.pp_url("/link/D0F9628D")},(0,r.toDisplayString)(a.tp("general.header.become_creator")),9,Rt))],64)),(0,r.createElementVNode)("div",{class:"pp-header-nav-button",rel:"login",role:"button",onClick:t[0]||(t[0]=e=>i.openLoginModal("login"))},(0,r.toDisplayString)(a.tp("general.header.login_or_register")),1),n.showTooltip?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"tooltip-inner",onClick:t[1]||(t[1]=(0,r.withModifiers)((function(){return i.clickToolTip&&i.clickToolTip(...arguments)}),["stop"]))},Ut)):(0,r.createCommentVNode)("",!0)])}],["__scopeId","data-v-f1610d2a"]]),Qt={ref:"el",class:"pp-header-nav-item",rel:"my"},Xt={class:"header-drop-down","data-direction":"right"},Kt={class:"header-drop-down-btn"},Zt={class:"header-drop-down-menu"},eo={class:"header-drop-down-menu-wrapper"},to={class:"header-drop-down-menu-group"},oo={class:"header-drop-down-menu-item"},ro={key:0,class:"my-menu"},ao={class:"my-menu-content"},no={key:1,class:"my-menu"},io={class:"my-menu-content"},so=(0,r.createElementVNode)("img",{src:"/public/img/status/ill_learning.svg"},null,-1),lo=(0,r.createElementVNode)("span",null,"目前沒有感興趣的專案",-1),co={class:"my-menu-button"},po={key:2,class:"my-menu"},uo={key:0,class:"my-menu-content-hr"},mo={class:"my-menu-button"},go=(0,r.createElementVNode)("div",null,"你管理的專案已添加到此",-1),ho={class:"text-right",style:{"padding-top":"8px"}};var fo=o(11141),bo=o.n(fo);const yo={ref:"el"},vo={class:"project-item-image"},wo=["data-src"],_o={class:"project-item-content"},ko={class:"project-item-container"},Po={class:"project-item-header"},So={class:"project-item-title"},Co=["textContent"],No=["innerHTML"],Ao={key:1,class:"skeleton-row",style:{padding:"8px","margin-left":"12px","margin-right":"12px"}},Mo=[(0,r.createElementVNode)("div",{class:"skeleton skeleton-cover",style:{"--aspect-ratio":"1/1",width:"44px",flex:"0 0 auto"}},null,-1),(0,r.createElementVNode)("div",{class:"skeleton-content ml-2"},[(0,r.createElementVNode)("div",{class:"skeleton skeleton-h6 mb-2"}),(0,r.createElementVNode)("div",{class:"skeleton skeleton-body"})],-1)];const To={name:"ProjectSidebarItem",components:{},props:{project:{type:Object,default(){},required:!1},loading:{type:Boolean,default:!1,required:!1},subscribed:{type:Boolean,default:!1,required:!1}},emits:[],setup(e,t){let{emit:o}=t;(0,w.useStore)(),(0,vt.useRoute)();const{member_id:a}=(0,S.vz)(),{lazyImg:n,formatToCustomizeRelativeTime:i,formatTime:s}=(0,S.Yj)(),l=(0,r.ref)(null),c=(0,r.computed)((()=>{if(e.project.expected_start_date){const t=k()(e.project.expected_start_date).toISOString(!0);if(k()(new Date).diff(t,"seconds")<0)return`預計 ${s(t)} 開課`}return""})),d=(0,r.computed)((()=>e.project.article_release_time?`${i(e.project.article_release_time)} 更新`:"")),p=(0,r.computed)((()=>1===e.project.reward_types.length&&e.project.reward_types.includes("purchase"))),u=(0,r.computed)((()=>e.subscribed?c.value?c.value:p.value?e.subscribed&&e.project.learning_progress.learning_percent>0?`學習進度 <span class="highlight">${e.project.learning_progress.learning_percent}%</span>`:"":d.value:"我管理的專案")),m=(0,r.computed)((()=>e.subscribed?`/member/learning/projects/${e.project.project_id}/articles`:`/project/${e.project.project_id}/vipp`));return(0,r.onMounted)((()=>{(0,r.nextTick)((()=>{n(l.value)}))})),{el:l,expectedDate:c,articleReleaseTime:d,isPurchase:p,subtitle:u,linkUrl:m,clickCard:()=>{P.zT.pageAction("myProject_project_Click",{project_id:e.project.project_id,type:e.subscribed?"buy":"follow",source_from:"toggle"in e?"sidebar":"card"})}}}},Eo=(0,$e.A)(To,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",yo,[!o.loading&&o.project?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,class:"project-item","data-card":"list",to:a.linkUrl,onClick:a.clickCard},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",vo,[(0,r.createElementVNode)("img",{class:"lazyload","data-src":o.project.project_image_square},null,8,wo)]),(0,r.createElementVNode)("div",_o,[(0,r.createElementVNode)("div",ko,[(0,r.createElementVNode)("div",Po,[(0,r.createElementVNode)("h3",So,[(0,r.createElementVNode)("div",{textContent:(0,r.toDisplayString)(o.project.project_title)},null,8,Co)]),(0,r.createElementVNode)("div",{class:"project-item-subtitle",innerHTML:a.subtitle},null,8,No)])])])])),_:1},8,["to","onClick"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",Ao,Mo))],512)}]]);var Io=o(51988);const Bo=P.a2.get("COOKIE_CONFIG"),jo={components:{ProjectItem:Eo},props:{},setup(e,t){let{emits:o}=t;const a=(0,w.useStore)(),{tp:n}=((0,vt.useRoute)(),(0,S.Sw)()),i=(0,r.computed)((()=>a.state.IsDark));return{tp:n,options:(0,r.computed)((()=>({className:i.value?"os-theme-light pp-theme-light":"os-theme-dark pp-theme-dark",scrollbars:{autoHide:"move"}}))),clickLog:(e,t)=>{P.zT.pageAction("myProject_project_Click",{project_id:e,type:t,source_from:"header"})}}},emits:["get-member-projects"],data:()=>({showTooltip:!0,HEADER_MY_TOOLTIP:!1,loading:!0}),computed:{...(0,w.mapGetters)(["MemberProjects"]),ManageProjectList(){return this.MemberProjects.manage_project.filter((e=>!["initial","survey","not_pass"].includes(e.project_status)))},SubscribeProjectList(){return this.MemberProjects.subscribe_project},router(){return this.$route||!1}},watch:{router(){Io(this.$refs.el).find(".header-drop-down").trigger("mouseleave")}},created(){this.HEADER_MY_TOOLTIP=bo().get("HEADER_MY_TOOLTIP")||!1,this.loading=!0},mounted(){const e=this;Io(e.$refs.el).find(".header-drop-down").on("header-drop-down:show",(()=>{this.$emit("get-member-projects"),setTimeout((()=>{e.loading=!1,Io("body").trigger("lazyImg")}),300),e.showTooltip=!1,e.$refs.scroll&&e.$refs.scroll.osInstance.scroll({y:"0px"})})),Io(e.$refs.el).find(".header-drop-down").on("header-drop-down:hide",(()=>{e.showTooltip=!0}))},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),clickToolTip(){},iKnow(){const e={};Object.keys(Bo).forEach((t=>{e[t.toLowerCase()]=Bo[t]})),bo().set("HEADER_MY_TOOLTIP",!0,{...e,expires:360}),this.HEADER_MY_TOOLTIP=!0}}},xo=(0,$e.A)(jo,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link"),l=(0,r.resolveComponent)("project-item"),c=(0,r.resolveComponent)("pp-empty"),d=(0,r.resolveComponent)("pp-button"),p=(0,r.resolveComponent)("overlay-scrollbars");return(0,r.openBlock)(),(0,r.createElementBlock)("li",Qt,[(0,r.createElementVNode)("div",Xt,[(0,r.createElementVNode)("div",Kt,[(0,r.createVNode)(s,{class:"header-drop-down-btn-wrapper","data-tutorial":"follow",rel:"pic-info-item",to:"/member/learning/projects"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(a.tp("general.header.my_learning")),1)])),_:1})]),(0,r.createElementVNode)("div",Zt,[(0,r.createElementVNode)("div",eo,[(0,r.createElementVNode)("div",to,[(0,r.createElementVNode)("div",oo,[n.loading?((0,r.openBlock)(),(0,r.createElementBlock)("div",ro,[(0,r.createElementVNode)("div",ao,[((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(3,(e=>(0,r.createVNode)(l,{key:e,loading:n.loading},null,8,["loading"]))),64))])])):0===i.SubscribeProjectList.length&&0===i.ManageProjectList.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",no,[(0,r.createElementVNode)("div",io,[(0,r.createVNode)(c,{size:"sm"},{image:(0,r.withCtx)((()=>[so])),desc:(0,r.withCtx)((()=>[lo])),_:1})]),(0,r.createElementVNode)("div",co,[(0,r.createVNode)(d,{block:!0,link:!0,tag:"template"},{default:(0,r.withCtx)((e=>{let{className:t}=e;return[(0,r.createVNode)(s,{class:(0,r.normalizeClass)(t),to:"/project"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 探索課程 ")])),_:2},1032,["class"])]})),_:1})])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",po,[(0,r.createVNode)(p,{ref:"scroll",class:"my-menu-content",options:a.options},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.ManageProjectList,(e=>((0,r.openBlock)(),(0,r.createBlock)(l,{key:e.project_title,project:e,onClick:t=>a.clickLog(e.project_id,"my_admin")},null,8,["project","onClick"])))),128)),i.ManageProjectList.length>0&&i.SubscribeProjectList.length>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",uo)):(0,r.createCommentVNode)("",!0),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.SubscribeProjectList,(e=>((0,r.openBlock)(),(0,r.createBlock)(l,{key:e.project_title,project:e,subscribed:!0,onClick:t=>a.clickLog(e.project_id,"buy")},null,8,["project","onClick"])))),128))])),_:1},8,["options"]),(0,r.createElementVNode)("div",mo,[(0,r.createVNode)(d,{block:!0,link:!0,tag:"template"},{default:(0,r.withCtx)((e=>{let{className:t}=e;return[(0,r.createVNode)(s,{class:(0,r.normalizeClass)(t),to:"/member/learning/projects"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)(" 前往我的學習 ")])),_:2},1032,["class"])]})),_:1})])]))])])])])]),i.ManageProjectList.length>0&&!n.HEADER_MY_TOOLTIP&&n.showTooltip?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"tooltip-inner",onClick:t[1]||(t[1]=(0,r.withModifiers)((function(){return i.clickToolTip&&i.clickToolTip(...arguments)}),["stop"]))},[go,(0,r.createElementVNode)("div",ho,[(0,r.createElementVNode)("strong",{onClick:t[0]||(t[0]=function(){return i.iKnow&&i.iKnow(...arguments)})},"我知道了")])])):(0,r.createCommentVNode)("",!0)],512)}]]),Lo={class:"pp-header-nav-item",rel:"message"},Oo={class:"header-drop-down","data-direction":"right"},Vo={class:"header-drop-down-btn"},$o={class:"header-drop-down-btn-wrapper",rel:"icon-btn"},Do=(0,r.createElementVNode)("i",{class:"icon icon_chats_circle"},null,-1),Fo=["data-unread"],Jo={class:"header-drop-down-menu"},zo={class:"header-drop-down-menu-wrapper"},Go={class:"header-drop-down-menu-group"},Ho={class:"header-drop-down-menu-item"},Ro={class:"header-drop-down-info-item",rel:"text"},qo={key:0,class:"header-drop-down-info-item",rel:"arrow"},Uo=["textContent"],Wo={class:"header-drop-down-info-item",rel:"text"},Yo={key:0,class:"header-drop-down-info-item",rel:"arrow"},Qo=["textContent"];var Xo=o(39899);const Ko={components:{},props:{},setup(e,t){let{emits:o}=t;const{tp:r}=(0,S.Sw)();return{tp:r}},data:()=>({}),computed:{...(0,w.mapGetters)(["MemberInfo"]),...(0,w.mapGetters)({MessageUnread:`${xe.$h}/MessageUnread`,MessageMemberUnread:`${xe.$h}/MessageMemberUnread`,MessageProjectUnread:`${xe.$h}/MessageProjectUnread`}),ProjectMessageEntrance(){let e=!1;return this.MemberInfo.project_list&&this.MemberInfo.project_list.length>0&&(e=this.MemberInfo.project_list.some((e=>"initial"!==e.project_status))),e},MessageTotalUnread(){const e=this.MessageMemberUnread+this.MessageProjectUnread;return e>=10?"9+":e}},watch:{},created(){},mounted(){this.setMessageUnreadListen()},updated(){},unmounted(){this.delMessageUnreadListen()},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({setMessageUnread:`${xe.$h}/setMessageUnread`}),setMessageUnreadListen(){const e=this;Xo.A.on("notice",(t=>{e.setMessageUnread(t.data)}))},delMessageUnreadListen(){const e=this;Xo.A.off("notice",(t=>{e.setMessageUnread(t.data)}))}}},Zo=(0,$e.A)(Ko,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("li",Lo,[(0,r.createElementVNode)("div",Oo,[(0,r.createElementVNode)("div",Vo,[(0,r.createElementVNode)("div",$o,[Do,0!==i.MessageTotalUnread?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"label-ball show-count","data-unread":i.MessageTotalUnread},null,8,Fo)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",Jo,[(0,r.createElementVNode)("div",zo,[(0,r.createElementVNode)("div",Go,[(0,r.createElementVNode)("div",Ho,[(0,r.createVNode)(s,{class:"header-drop-down-info hover",rel:"list-item",to:"/member/message"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Ro,(0,r.toDisplayString)(a.tp("general.header.personal_messages")),1),e.MessageMemberUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",qo,[(0,r.createElementVNode)("div",{class:"label-ball",textContent:(0,r.toDisplayString)(e.MessageMemberUnread)},null,8,Uo)])):(0,r.createCommentVNode)("",!0)])),_:1}),i.ProjectMessageEntrance?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,class:"header-drop-down-info hover",rel:"list-item",to:"/member/projectMessage"},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("div",Wo,(0,r.toDisplayString)(a.tp("general.header.project_messages")),1),e.MessageProjectUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",Yo,[(0,r.createElementVNode)("div",{class:"label-ball",textContent:(0,r.toDisplayString)(e.MessageProjectUnread)},null,8,Qo)])):(0,r.createCommentVNode)("",!0)])),_:1})):(0,r.createCommentVNode)("",!0)])])])])])])}]]),er={key:0,ref:"el",class:"pp-header-nav-item",rel:"notice"},tr={class:"header-drop-down-btn-wrapper",rel:"icon-btn"},or={key:0,class:"label-ball"},rr={class:"header-drop-down-menu"};var ar=o(81156),nr=o(51988);const ir={components:{HeaderNoticeBox:ar.A},props:{},data:()=>({showIcon:"",showFlag:!1,showMenuFlag:!1,totalUnread:0,triggerReload:0}),computed:{...(0,w.mapGetters)(["PageSetting_mode_type","PageSetting_device","MemberInfo"]),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`}),totalShowFlag(){return"mobile"!==this.PageSetting_mode_type&&!0===this.showFlag||"mobile"===this.PageSetting_mode_type&&!0===this.showMenuFlag},router(){return this.$route||!1}},watch:{PageSetting_mode_type(e,t){e!==t&&"mobile"!==e&&(this.showFlag=!1,this.showMenuFlag=!1)},router(){(new Date).getTime()-this.triggerReload>6e5&&(this.triggerReload=(new Date).getTime())}},created(){},mounted(){nr(this.$refs.el).find(".header-drop-down").on("header-drop-down:show",(()=>{this.showFlag=!0})),nr(this.$refs.el).find(".header-drop-down").on("header-drop-down:hide",(()=>{this.showFlag=!1}))},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),changeFocusTabInfo(e){this.showIcon=e.icon},changeTotalUnread(e){this.totalUnread=e},closeNotice(){const e=this;e.showFlag=!1,nr(e.$refs.el).find(".header-drop-down").trigger("header-drop-down:hide"),nr(e.$refs.el).find(".header-drop-down").removeClass("show")},showMenu(e){"mobile"===this.PageSetting_mode_type&&(this.showMenuFlag=e)},toggleMenu(){"mobile"===this.PageSetting_mode_type&&(this.showMenuFlag=!this.showMenuFlag)}}},sr=(0,$e.A)(ir,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("header-notice-box");return e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("li",er,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["header-drop-down",{show:i.totalShowFlag}]),"data-direction":"right"},[(0,r.createElementVNode)("div",{class:"header-drop-down-btn",onClick:t[0]||(t[0]=function(){return i.toggleMenu&&i.toggleMenu(...arguments)})},[(0,r.createElementVNode)("div",tr,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["icon icon_bell",n.showIcon])},null,2),n.totalUnread>0?((0,r.openBlock)(),(0,r.createElementBlock)("div",or)):(0,r.createCommentVNode)("",!0)])]),(0,r.createElementVNode)("div",rr,[(0,r.createVNode)(s,{id:"header-bar",show:i.totalShowFlag,"load-more-flag":!1,"trigger-reload":n.triggerReload,onChangeFocusTabInfo:i.changeFocusTabInfo,onChangeTotalUnread:i.changeTotalUnread,onCloseNotice:i.closeNotice},null,8,["show","trigger-reload","onChangeFocusTabInfo","onChangeTotalUnread","onCloseNotice"])])],2)],512))}]]),lr={key:0,class:"pp-header-nav-item",rel:"pp-promote-event"},cr=["src","alt"];let dr=P.a2.get("PP_PROMOTE_COMMERCIAL");Array.isArray(dr)||(dr=[]);const pr={components:{},props:{mode_type:{type:String,default:"pc"}},data:()=>({PP_PROMOTE_COMMERCIAL:dr,showIndex:0,showWaitTime:5e3}),computed:{...(0,w.mapGetters)(["PageSetting_mode_type","PageSetting_width"]),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`}),show(){return!1===this.isInclusion&&!1!==this.promote_event&&this.PageSetting_width>=360&&this.mode_type===this.PageSetting_mode_type},valid_commercial_list(){const e=this,t=[],o=k()().format("x"),{showIndex:r}=e;if(e.PP_PROMOTE_COMMERCIAL.length>0)for(const a of e.PP_PROMOTE_COMMERCIAL)o<=k()(a.end_time).format("x")&&t.push(a);return t},promote_event(){const e=this;let t=!1;return e.valid_commercial_list[e.showIndex]&&(t=this.valid_commercial_list[e.showIndex]),t}},watch:{valid_commercial_list:{immediate:!0,deep:!0,handler(){const e=this,{length:t}=e.valid_commercial_list;t>1?e.validCommercialListTimer||(e.validCommercialListTimer=setInterval((()=>{e.showIndex=(e.showIndex+1)%t}),e.showWaitTime)):(clearInterval(e.validCommercialListTimer),e.showIndex=0)}}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),log(){const e={url:this.promote_event.commercial_link};P.zT.pageAction("ad_headerImg_click",e),P.Xe.gtag("event","ad_headerImg_click",e)}}},ur=(0,$e.A)(pr,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return i.show?((0,r.openBlock)(),(0,r.createElementBlock)("li",lr,[(0,r.createVNode)(s,{to:i.promote_event.commercial_link,title:i.promote_event.commercial_title,onClick:i.log},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("img",{class:"pp-promote-event-img",src:i.promote_event.header_img,alt:i.promote_event.commercial_title},null,8,cr)])),_:1},8,["to","title","onClick"])])):(0,r.createCommentVNode)("",!0)}]]),mr={key:0,ref:"el",class:"pp-header-nav-item",rel:"download"},gr={class:"header-drop-down","data-direction":"right"},hr=(0,r.createElementVNode)("div",{class:"header-drop-down-btn"},[(0,r.createElementVNode)("div",{class:"header-drop-down-btn-wrapper","data-tutorial":"follow",rel:"pic-info-item"}," 下載 App ")],-1),fr={class:"header-drop-down-menu"},br={class:"header-drop-down-menu-wrapper"},yr={class:"header-drop-down-menu-group"},vr={class:"header-drop-down-menu-item"},wr={class:"download-menu"},_r=(0,r.createElementVNode)("div",{class:"download-menu-title"},"下載 APP 領取獎勵，隨時吸收新知識",-1),kr=(0,r.createElementVNode)("div",{class:"download-menu-desc"},"手機掃描下載",-1),Pr={class:"download-menu-image"},Sr=["src"];const Cr={name:"HeaderAppDownload",components:{},props:{},emits:[],setup(e,t){let{emit:o}=t;return{}},computed:{...(0,w.mapGetters)(["PageSetting_mode_type","PageSetting_device","MemberInfo"]),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`})}},Nr=(0,$e.A)(Cr,[["render",function(e,t,o,a,n,i){return e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("li",mr,[(0,r.createElementVNode)("div",gr,[hr,(0,r.createElementVNode)("div",fr,[(0,r.createElementVNode)("div",br,[(0,r.createElementVNode)("div",yr,[(0,r.createElementVNode)("div",vr,[(0,r.createElementVNode)("div",wr,[_r,kr,(0,r.createElementVNode)("div",Pr,[(0,r.createElementVNode)("img",{src:"/public/img/downloadApp/pp_qr_code_global.png"},null,8,Sr)])])])])])])])],512))}]]),Ar={class:"one-tap"};const Mr={components:{},props:{client_id:{type:String,default:""}},data:()=>({scriptReady:!1,GoogleAccountReady:!1,AccountPromptReady:!1,promptBlackList:["^/member"]}),computed:{...(0,w.mapGetters)(["PageSetting","PageSetting_page_focus"]),currentPath(){const e=this;let t=window.location.pathname;if(e.$route){const o=document.createElement("a");o.href=e.$route.fullPath,t=o.pathname}return t},watchKey(){const e=this,t={scriptReady:e.scriptReady,client_id:e.client_id,path:e.currentPath,PageFocus:e.PageSetting_page_focus};return JSON.stringify(t)}},watch:{PageSetting:{handler(e){const t=this;e.width?e.width<t.pc_min_size?t.mode_type="mobile":t.mode_type="pc":t.mode_type=e.mode_type},immediate:!0},watchKey:{handler(){this.init()}}},beforeCreate(){},created(){const e=this,t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.type="text/javascript",t.async=!0,t.onload=()=>{e.scriptReady=!0},document.querySelector("head").appendChild(t)},mounted(){},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),init(){const e=this;clearTimeout(e.initTimer),e.initTimer=setTimeout((()=>{if(!1===e.GoogleAccountReady||!1===e.PageSetting_page_focus){const t=e=>{if(e.credential){const{href:t}=window.location,o=P.Yj.object2QueryStr({next_url:t}),r=document.createElement("form");r.method="POST",r.action=`/member/callback/google?${o}`,r.style.display="none";const a=document.createElement("input");a.type="hidden",a.name="token",a.value=e.credential,r.appendChild(a),document.body.appendChild(r),r.submit()}else P.hg.warning({html:"Google 登入失敗 (ONETAP_LOGIN_ERROR)"})};window.google.accounts.id.initialize({client_id:e.client_id,callback:t}),e.GoogleAccountReady=!0}e.AccountPrompt()}),200)},getLSLoginInfo:()=>P.Lr.get("prevLoginInfo",!1),AccountPrompt(){const e=this;let t=!0,o=!1;!1===e.GoogleAccountReady&&(t=!1,o="AccountPrompt Deny: GoogleAccountReady not ready");const{promptBlackList:r,currentPath:a}=e;for(const n of r){if(!0===new RegExp(n,"ig").test(a)){t=!1;break}}if(!1===t&&(t=!1,o="AccountPrompt Deny: Page In Black List"),t){const r=e.getLSLoginInfo();!1!==r&&"google"!==r.type&&(t=!1,o="AccountPrompt Deny: PrevLogin is not google")}return t?(clearTimeout(e.AccountPromptTimer),e.AccountPromptTimer=setTimeout((()=>{!1===e.AccountPromptReady&&(e.AccountPromptReady=!0,window.google.accounts.id.prompt((e=>{e.isNotDisplayed()||e.isSkippedMoment()})))}),500)):(clearTimeout(e.AccountPromptTimer),e.AccountPromptReady=!1,e.GoogleAccountReady&&window.google.accounts.id.cancel((()=>{}))),!0}}},Tr=(0,$e.A)(Mr,[["render",function(e,t,o,a,n,i){return(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",Ar,null,512)),[[r.vShow,0]])}]]);var Er=o(51988);const Ir=P.a2.get("MemberInfo",!1),Br=P.a2.get("ENVIRONMENT"),jr=P.a2.get("IS_APP"),xr=P.a2.get("API_CONFIG.GOOGLE_ONETAP_CLIENT_ID",!1),Lr=P.a2.get("IS_BOT",!1),Or={name:"HeaderBar",components:{HeaderHamburger:ze,HeaderLogo:Ue,HeaderCategory:gt,HeaderSearchV2:_t,HeaderAvatar:Gt,HeaderLoginPc:Yt,HeaderMy:xo,HeaderMessage:Zo,HeaderNotice:sr,HeaderPpPromoteEvent:ur,HeaderAppDownload:Nr,HeaderGoogleOneTap:Tr,LoginModalV2:(0,r.defineAsyncComponent)((()=>Promise.all([o.e(309),o.e(1710),o.e(9085)]).then(o.bind(o,75142)))),ProfileInterestBox:(0,r.defineAsyncComponent)((()=>Promise.all([o.e(6126),o.e(1563)]).then(o.bind(o,66585))))},props:{},setup(e,t){let{emits:o}=t;const a=(0,w.useStore)(),{checkInclusion:n}=(0,S.mL)(),i=(0,r.computed)((()=>a.state.IsDark)),{i18nLangReady:s,tp:l}=(0,S.Sw)(["general"]),{showHeader:c}=(0,S.tD)(),{customerServiceClear:d}=(0,S.fq)();return(0,r.onMounted)((()=>{Er("body").on("reset:header-bar",(()=>{n()})).trigger("reset:header-bar")})),{i18nLangReady:s,tp:l,showHeader:c,IsDark:i,customerServiceClear:d}},data:()=>({ENVIRONMENT:Br,reloadTrigger:0,MemberInfoInit:!0,displayServerTimeLog:!1,dropDownActType:"hover",LocalStorage_DEFAULT:{focusMemberId:"focusMemberId",ppPlayerInfo:"ppPlayerInfo",ppPlayerInfoDuration:"ppPlayerInfoDuration"},IS_APP:jr,getMemberLoginInfoTimer:null,getMemberLoginInfoFlag:!1,getMemberPointsTimer:null,getMemberPointsFlag:!0,getMemberProjectsTimer:null,getMemberProjectsFlag:!0,registerRedirectUrl:!1,headerStyleClassControl:void 0,mobileSearchTrigger:0,GOOGLE_ONETAP_CLIENT_ID:xr,IS_BOT:Lr}),computed:{...(0,w.mapGetters)(["MemberInfo","PageSetting_page_focus","PageSetting_page_scroll"]),...(0,w.mapGetters)(["RouterFacebookPixel","RouterGaId"]),...(0,w.mapGetters)({isInclusion:`${xe.$h}/isInclusion`}),...(0,w.mapState)(["PAGE_ID","InterestTrigger","ppServerTime"]),hideLoginModal(){let e=!1;return"member"===window.location.pathname.split("/")[1]&&-1!==["login","register","forgetPassword","resetPassword","thanks","callback"].lastIndexOf(window.location.pathname.split("/")[2])&&(e=!0),this.MemberInfo.member_id&&this.MemberInfo.is_email_verify&&(e=!0),e},router(){return this.$route||!1},logoType(){const e=this;return void 0!==e.headerStyleClassControl&&e.headerStyleClassControl.includes("dark")||e.IsDark?"dark":"light"}},watch:{router:{deep:!0,handler(){(new Date).getTime()-this.reloadTrigger>6e5&&(this.reloadTrigger=(new Date).getTime())}},reloadTrigger(){this.getMemberLoginInfo()},MemberInfo(e,t){this.MemberInfoInit||e.member_id===t.member_id?P.Lr.set(this.LocalStorage_DEFAULT.focusMemberId,e.member_id||""):window.location.reload(),this.MemberInfoInit=!1},PageSetting_page_focus(e,t){const o=this;if(e!==t&&!0===e){const e=P.Lr.get(this.LocalStorage_DEFAULT.focusMemberId);if(this.MemberInfo.member_id!==e){let t=o.tp("general.login_status.detected_change_account_refresh");e?this.MemberInfo.member_id||(t=o.tp("general.login_status.detected_login_refresh")):t=o.tp("general.login_status.detected_logout_refresh"),P.hg.warning({html:t,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:o.tp("general.refresh"),cancelButtonText:o.tp("general.cancel")},(()=>{o.customerServiceClear().then((()=>{window.location.reload()}))}),null)}Er("body").trigger("lazyImg"),Er("body").trigger("resizeImg"),setTimeout((()=>{o.getMemberLoginInfoFlag=!0}),1e3)}e!==t&&(e?Er("body").addClass("page-focus"):Er("body").removeClass("page-focus"))},RouterFacebookPixel:{deep:!0,immediate:!0,handler(){if(this.RouterFacebookPixel&&this.RouterFacebookPixel.facebook_pixel){const e={};P.Xe.fbq("init",this.RouterFacebookPixel.facebook_pixel,e)}}},RouterGaId:{deep:!0,immediate:!0,handler(){if(this.RouterGaId&&this.RouterGaId.ga_code){const e={custom_map:{dimension1:"register"},allow_enhanced_conversions:!0};P.Xe.gtag("config",this.RouterGaId.ga_code,e)}}},PageSetting_page_scroll:{handler(e,t){const o=this;o.router&&["common_home","project_about"].includes(o.PAGE_ID)&&(o.headerStyleClassControl=e>0?"dark":"dark initial")}},PAGE_ID:{handler(e,t){const o=this;["common_home","project_about"].includes(e)?o.headerStyleClassControl="dark initial":o.headerStyleClassControl=void 0}}},beforeCreate(){this.$store.hasModule([xe.$h])||this.$store.registerModule([xe.$h],xe.Fj)},created(){if(Ir&&window){let e="",t="",o="",r="",a="",n="";Ir.gender&&(n=Ir.gender),Ir.contact_phone&&(e=Ir.contact_phone,0===Ir.contact_phone.substr("+886")?e=Ir.contact_phone:0===Ir.contact_phone.substr("886")?e=`+${Ir.contact_phone}`:0===Ir.contact_phone.indexOf("09")?(e=Ir.contact_phone.substr(1),e=`+886${e}`):(e=Ir.contact_phone,e=`+886${e}`)),Ir.birthday&&(t=k()(Ir.birthday).format("YYYY-MM-DD"),[o,r,a]=t.split("-"));const i=P.Lr.get("prevLoginInfo",{});"email"===i.type&&(i.email=Ir.member_email,i.nickname=Ir.nickname||Ir.user_name,i.head_photo=Ir.head_photo,P.Lr.set("prevLoginInfo",i))}this.$store.dispatch("PressPlayMemberInfoSet",Ir)},mounted(){Er("body").trigger("lazyImg"),this.setHeaderDropAct(),this.setServerTimeAct(),this.setPageVisibilityChangeAct(),this.setPageAct(),this.setMemberPointAct()},updated(){},unmounted(){},methods:{...(0,w.mapActions)({}),...(0,w.mapMutations)({}),pp_url:P.OZ.pp_url,getMemberLoginInfo(){const e=this;e.getMemberLoginInfoFlag&&(clearTimeout(e.getMemberLoginInfoTimer),e.getMemberLoginInfoTimer=setTimeout((()=>{e.$store.dispatch(`${xe.$h}/PressPlayMemberInfoGet`).then((e=>{})).catch((e=>{this.$store.dispatch("PressPlayMemberInfoSet",!1)})),e.getMemberLoginInfoFlag=!1}),500))},getMemberProjects(){const e=this;e.getMemberProjectsFlag&&(e.$store.dispatch(`${xe.$h}/PressPlayMemberProjectsGet`).then((t=>{e.getMemberProjectsFlag=!1})).catch((e=>{})),clearTimeout(e.getMemberProjectsTimer),e.getMemberProjectsTimer=setTimeout((()=>{e.getMemberProjectsFlag=!0}),3e5))},getMemberPoints(){const e=this;e.getMemberPointsFlag&&(e.$store.dispatch("PressPlayMemberPointsGet"),e.getMemberPointsFlag=!1,clearTimeout(e.getMemberPointsTimer),e.getMemberPointsTimer=setTimeout((()=>{e.getMemberPointsFlag=!0}),6e4))},setHeaderDropAct(){"click"===this.dropDownActType&&Er("body").on("click",".header-drop-down-btn",(function(){const e=Er(this).parents(".header-drop-down");if(e.toggleClass("show"),e.hasClass("show")){Er("body").addClass("header-lock-scroll");const t=Er('<div class="mask-layout"></div>');t.bind("click",(()=>{Er(this).parents(".header-drop-down").find(".header-drop-down-btn").trigger("click")})),e.append(t),e.trigger("header-drop-down:show")}else e.find(".mask-layout").remove(),Er("body").removeClass("header-lock-scroll"),e.removeClass("show"),e.trigger("header-drop-down:hide")})),"hover"===this.dropDownActType&&(Er("body").on("mouseenter",".header-drop-down:not(.not-drop)",(function(){Er(this).addClass("show"),Er("body").addClass("header-lock-scroll"),Er(this).trigger("header-drop-down:show")})),Er("body").on("mouseleave",".header-drop-down:not(.not-drop)",(function(){Er(this).removeClass("show"),Er("body").removeClass("header-lock-scroll"),Er(this).trigger("header-drop-down:hide")})))},setServerTimeAct(){const e=this;Er("body").bind("setServerTime",((t,o)=>{null===e.ppServerTime&&e.$store.commit("setPressplayServerTime",new Date(o).getTime())})),null===e.ppServerTime&&e.$store.commit("setPressplayServerTime",(new Date).getTime()),window.displayServerTimeLog=t=>{e.displayServerTimeLog=!!t};const t=()=>{("production"===Br||e.displayServerTimeLog)&&(e.$store.commit("updatePressplayServerTime"),setTimeout((()=>{t()}),1e3))};t()},setMemberPointAct(){const e=this;(0,P.FE)("getMemberPoints",(()=>{e.$store.dispatch("PressPlayMemberPointsGet")}),this.$options.__file)},setPageVisibilityChangeAct(){const e=this;Er(window).one("click",(()=>{e.$store.dispatch("PressPlayPageSettingSet",{page_focus:!0})})),(P.Vp.isMobileApp()||jr)&&(e.$store.dispatch("PressPlayPageSettingSet",{page_focus:!0}),Er(window).one("scroll",(()=>{e.$store.dispatch("PressPlayPageSettingSet",{page_focus:!0})}))),Er(window).bind("focus",(()=>{e.$store.dispatch("PressPlayPageSettingSet",{page_focus:!0})})).bind("blur",(()=>{e.$store.dispatch("PressPlayPageSettingSet",{page_focus:!1})}))},setPageAct(){const e=this;Er(window).bind("resize",(()=>{clearTimeout(e.windowResizeTimer),e.windowResizeTimer=setTimeout((()=>{let t="pc";const o=Er(window).width(),r=Er(window).height();o<575&&(t="mobile"),e.$store.dispatch("PressPlayPageSettingSet",{mode_type:t,width:o,height:r})}),100)})).trigger("resize"),Er(window).bind("scroll",(()=>{clearTimeout(e.windowScrollTimer),e.windowScrollTimer=setTimeout((()=>{const t=Er(window).scrollTop();e.$store.dispatch("PressPlayPageSettingSet",{page_scroll:t})}),10)})).trigger("scroll"),e.$store.dispatch("PressPlayPageSettingBrowserSet"),Er("#pp-header").bind("SetRegisterRedirectUrl",((t,o)=>{e.registerDone(o)})),Er("body").bind("reload-member-info",(()=>{e.getMemberLoginInfoFlag=!0,e.getMemberLoginInfo()})),Er("body").bind("reload-member-points",(()=>{e.getMemberPointsFlag=!0,e.getMemberPoints()})),Er("body").bind("reload-member-projects",(()=>{e.getMemberProjectsFlag=!0,e.getMemberProjects()}))},async logoutAccount(){const e=this;await e.customerServiceClear(),P.zT.pageAction("HeaderBar_Logout_click"),P.Lr.del(e.LocalStorage_DEFAULT.ppPlayerInfo),P.Lr.del(e.LocalStorage_DEFAULT.ppPlayerInfoDuration)},registerDone(e){const{url:t}=e;this.registerRedirectUrl=t},closeInterest(e){const t=this,{typeIds:o}=e;o.length>0&&t.$store.commit("setInterestChangeFlag",!0),t.$store.commit("setInterestTrigger",!1)}}},Vr=(0,$e.A)(Or,[["render",function(e,t,o,w,_,k){const P=(0,r.resolveComponent)("header-hamburger"),S=(0,r.resolveComponent)("header-logo"),C=(0,r.resolveComponent)("header-pp-promote-event"),N=(0,r.resolveComponent)("header-category"),A=(0,r.resolveComponent)("pp-router-link"),M=(0,r.resolveComponent)("header-search-v2"),T=(0,r.resolveComponent)("header-app-download"),E=(0,r.resolveComponent)("header-my"),I=(0,r.resolveComponent)("header-message"),B=(0,r.resolveComponent)("header-notice"),j=(0,r.resolveComponent)("header-avatar"),x=(0,r.resolveComponent)("header-login-pc"),L=(0,r.resolveComponent)("login-modal-v2"),O=(0,r.resolveComponent)("profile-interest-box"),V=(0,r.resolveComponent)("header-google-one-tap");return(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("header",{id:"pp-header",class:(0,r.normalizeClass)(["header pp-header pp-header-fix",[_.headerStyleClassControl]]),style:(0,r.normalizeStyle)({visibility:w.showHeader?"visible":"hidden",zIndex:w.showHeader?void 0:-1,opacity:w.showHeader?void 0:0})},[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("nav",s,[(0,r.createElementVNode)("ul",l,[_.IS_APP?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(P,{key:0,"mobile-search-trigger":_.mobileSearchTrigger,onLogoutAccount:k.logoutAccount,onGetMemberLoginInfo:k.getMemberLoginInfo,onGetMemberPoints:k.getMemberPoints},null,8,["mobile-search-trigger","onLogoutAccount","onGetMemberLoginInfo","onGetMemberPoints"]))])])]),(0,r.createVNode)(S,{"logo-type":k.logoType},null,8,["logo-type"]),(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("nav",d,[(0,r.createElementVNode)("ul",p,[!_.headerStyleClassControl||_.headerStyleClassControl&&k.router&&["project_about"].includes(e.PAGE_ID)?((0,r.openBlock)(),(0,r.createBlock)(C,{key:0,mode_type:"mobile"})):(0,r.createCommentVNode)("",!0),_.IS_APP?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(N,{key:1})),e.isInclusion?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("li",u,[(0,r.createVNode)(A,{class:"pp-header-nav-button",to:"production"===_.ENVIRONMENT?"https://www.pressplay.cc/link/E28C165B":"/project/082A3A85B647A6210495A9C0DCCC0FCC/theme_book"},{default:(0,r.withCtx)((()=>[m,g])),_:1},8,["to"])])),_.IS_APP?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(M,{key:3,"header-style-class-control":_.headerStyleClassControl},null,8,["header-style-class-control"]))])])]),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("nav",f,[(0,r.createElementVNode)("ul",b,[!_.headerStyleClassControl||_.headerStyleClassControl&&k.router&&["project_about"].includes(e.PAGE_ID)?((0,r.openBlock)(),(0,r.createBlock)(C,{key:0,mode_type:"pc"})):(0,r.createCommentVNode)("",!0),(0,r.createVNode)(T),!_.IS_APP&&e.MemberInfo&&e.MemberInfo.member_id?((0,r.openBlock)(),(0,r.createBlock)(E,{key:1,onGetMemberLoginInfo:k.getMemberLoginInfo,onGetMemberProjects:k.getMemberProjects},null,8,["onGetMemberLoginInfo","onGetMemberProjects"])):(0,r.createCommentVNode)("",!0),!_.IS_APP&&e.MemberInfo&&e.MemberInfo.member_id?((0,r.openBlock)(),(0,r.createBlock)(I,{key:2})):(0,r.createCommentVNode)("",!0),_.IS_APP?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(B,{key:3})),!_.IS_APP&&e.MemberInfo&&e.MemberInfo.member_id?((0,r.openBlock)(),(0,r.createBlock)(j,{key:4,onLogoutAccount:k.logoutAccount,onGetMemberLoginInfo:k.getMemberLoginInfo,onGetMemberPoints:k.getMemberPoints},null,8,["onLogoutAccount","onGetMemberLoginInfo","onGetMemberPoints"])):k.hideLoginModal?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(x,{key:5}))])])]),y])],6),k.hideLoginModal?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(L,{key:0,onRegisterDone:k.registerDone},null,8,["onRegisterDone"])),_.registerRedirectUrl||e.InterestTrigger?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[_.registerRedirectUrl?((0,r.openBlock)(),(0,r.createBlock)(O,{key:0,support:["profile","interest","recommend"],"redirect-url":_.registerRedirectUrl},null,8,["redirect-url"])):e.InterestTrigger?((0,r.openBlock)(),(0,r.createBlock)(O,{key:1,support:["interest"],onClose:k.closeInterest},null,8,["onClose"])):(0,r.createCommentVNode)("",!0)],64)):(0,r.createCommentVNode)("",!0),e.RouterFacebookPixel?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:2,"data-project-id":e.RouterFacebookPixel.project_id,"data-facebook-pixel":e.RouterFacebookPixel.facebook_pixel},null,8,v)),[[r.vShow,!1]]):(0,r.createCommentVNode)("",!0),e.MemberInfo.member_id||!_.GOOGLE_ONETAP_CLIENT_ID||_.IS_BOT?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createBlock)(V,{key:3,client_id:_.GOOGLE_ONETAP_CLIENT_ID},null,8,["client_id"]))],512)),[[r.vShow,w.i18nLangReady]])}]])},36040:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y});var r=o(6496);const a={key:0},n={class:"pp-system-notice"},i=["innerHTML"],s=[(0,r.createElementVNode)("i",{class:"icon icon_x"},null,-1)];var l=o(22219),c=o.n(l),d=o(11141),p=o.n(d);const u={props:{mode:{type:String,default:"opacity"},duration:{type:Number,default:500},effect:{type:String,default:"ease"}},data:()=>({domHeight:null,property:"all",hooks:()=>{}}),computed:{transitionValue(){return`${this.property} ${this.duration}ms ${this.effect}`}},created(){if("height"===this.mode)this.property="height",this.hooks={enter:this.heightEnter,"after-enter":this.heightAfterEnter,"before-leave":this.heightBeforeLeave,leave:this.heightLeave};else this.property="opacity",this.hooks={"before-enter":this.opacityBeforeEnter,"after-enter":this.opacityAfterEnter,"before-leave":this.opacityBeforeLeave,leave:this.opacityLeave}},mounted(){this.domHeight=this.domHeight?this.domHeight:`${this.$refs.el.scrollHeight}px`},methods:{opacityBeforeEnter(e){e.style.opacity=0,e.style.transition=this.transitionValue},opacityAfterEnter(e){e.style.opacity=1},opacityBeforeLeave(e){e.style.opacity=1,e.style.transition=this.transitionValue},opacityLeave(e){e.style.opacity=0},heightEnter(e){e.style.height="0px",e.style.overflow="hidden",e.style.transition=this.transitionValue},heightAfterEnter(e){e.style.height=this.domHeight},heightBeforeLeave(e){e.style.height=this.domHeight,e.style.overflow="hidden",e.style.transition=this.transitionValue},heightLeave(e){requestAnimationFrame((()=>{e.style.height=0}))}}};var m=o(2912);const g=(0,m.A)(u,[["render",function(e,t,o,a,n,i){return(0,r.openBlock)(),(0,r.createBlock)(r.Transition,(0,r.mergeProps)({ref:"el"},(0,r.toHandlers)(n.hooks)),{default:(0,r.withCtx)((()=>[(0,r.renderSlot)(e.$slots,"default")])),_:3},16)}]]);var h=o(89590);const f="NotificationBar",b={components:{ppTransitions:g},props:{content:{type:String,default:""},forceEnable:{type:Boolean,default:!1},closeButtonEnable:{type:Boolean,default:!0},systemNoticeStartDatetime:{type:[String,null],default:null},systemNoticeEndDatetime:{type:[String,null],default:null}},data:()=>({isClickedClose:!1,needMarquee:!1}),computed:{...(0,h.mapGetters)({PageSetting_width:"PageSetting_width"}),startDateTime(){return""===this.systemNoticeStartDatetime?null:this.systemNoticeStartDatetime},endDateTime(){return""===this.systemNoticeEndDatetime?null:this.systemNoticeEndDatetime},isInDateTimeRange(){if(null!==this.startDateTime||null!==this.endDateTime){const e=c()().tz("Asia/Taipei"),t=this.startDateTime?c()(this.startDateTime):e,o=this.endDateTime?c()(this.endDateTime):e.add(1,"days");return e.isSameOrAfter(t)&&e.isSameOrBefore(o)}return!0},isOpened(){return""!==this.content&&(!0!==this.isClickedClose&&this.isInDateTimeRange)}},watch:{PageSetting_width:{immediate:!0,handler(){this.checkMarquee()}}},created(){this.isClickedClose=!this.forceEnable&&this.checkUserHasClickCloseRecord()},mounted(){setTimeout((()=>{this.checkMarquee()}),1e3)},methods:{checkMarquee(){this.needMarquee=!1,this.checkMarqueeTimer=setTimeout((()=>{this.$refs.notice_content&&(this.PageSetting_width<=this.$refs.notice_content.clientWidth+60?this.needMarquee=!0:this.needMarquee=!1)}),200)},checkUserHasClickCloseRecord(){const e=p().get(f,this.content);return void 0!==e&&e===this.content},close(){p().set(f,this.content,{expires:30,path:""}),this.isClickedClose=!0}}},y=(0,m.A)(b,[["render",function(e,t,o,l,c,d){const p=(0,r.resolveComponent)("pp-transitions");return(0,r.openBlock)(),(0,r.createBlock)(p,{mode:"height",duration:500},{default:(0,r.withCtx)((()=>[d.isOpened?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",{ref:"notice_content",class:(0,r.normalizeClass)(["pp-system-notice-content",{marquee:c.needMarquee}]),style:(0,r.normalizeStyle)({"--tw":`${o.content.length+30}ch`,"--ad":"12.5s"})},[(0,r.createElementVNode)("span",{innerHTML:o.content},null,8,i)],6),o.closeButtonEnable?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"pp-system-notice-close",onClick:t[0]||(t[0]=function(){return d.close&&d.close(...arguments)})},s)):(0,r.createCommentVNode)("",!0)])])):(0,r.createCommentVNode)("",!0)])),_:1})}]])},17452:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var r=o(6496);const a={class:"oauth-processing-box"},n=[(0,r.createElementVNode)("img",{src:"/public/img/pp-badge.png",class:"mr-2",style:{width:"32px"}},null,-1),(0,r.createElementVNode)("span",null,"登入驗證中，請稍後...",-1)];var i=o(89590);const s={components:{},props:{oauth_data:{type:Object,default:()=>({}),required:!0},third_party:{type:String,default:"",required:!0}},data:()=>({}),computed:{...(0,i.mapGetters)({})},watch:{},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,i.mapActions)({}),...(0,i.mapMutations)({})}};const l=(0,o(2912).A)(s,[["render",function(e,t,o,i,s,l){return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,n)}]])},78598:(e,t,o)=>{"use strict";o.d(t,{A:()=>v});var r=o(6496);const a=["data-offset"],n={key:0,class:"icon"},i={key:1,class:"before-icon"},s={key:2,class:"icon"},l={class:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton"},c={key:0,class:"dropdown-header"},d={class:"dropdown-body"},p={key:0,class:"dropdown-header"},u=["onClick"],m=["innerHTML"],g={key:1,class:"select-item",rel:"title"},h=(0,r.createElementVNode)("div",{class:"select-item",rel:"check"},[(0,r.createElementVNode)("div",{class:"icon_check"})],-1);var f=o(89590),b=o(51988);const y={components:{},props:{title:{type:[String,Boolean],default:"下拉選取"},noSelect:{type:String,default:"請選取"},list:{type:Object,default:()=>{}},defaultValue:{type:[String,Array],default:""},allValue:{type:String,default:"all"},listTitle:{type:String,default:""},listValue:{type:String,default:""},showTitle:{type:Boolean,default:!0},simpleTitle:{type:Boolean,default:!0},direction:{type:String,default:"down"},offset:{type:[Number,String],default:0},multiple:{type:Boolean,default:!1},menuDirection:{type:String,default:""},icons:{type:String,default:"icon_caret_down_fill"},iconsFront:{type:Boolean,default:!1},beforeIcons:{type:String,default:""},menuItemTitleIsHtml:{type:Boolean,default:!1},customClass:{type:String,default:""},joinString:{type:String,default:"、"}},data:()=>({}),computed:{showTitleString(){const e=this;let t="";return t=e.multiple?e.simpleTitle?e.defaultValue.length>1?`選取(${e.defaultValue.length})`:1===e.defaultValue.length?e.list[e.defaultValue[0]][e.listTitle]:e.noSelect:e.defaultValue.length>0?e.defaultValue.map((t=>e.list[t]?e.list[t][e.listTitle]:"無對應")).join(e.joinString):e.noSelect:e.list[e.defaultValue]?e.list[e.defaultValue][e.listTitle]:e.noSelect,t},...(0,f.mapGetters)([])},watch:{},mounted(){this.init()},methods:{checkValue(e,t){let o=!1;return o=this.multiple?-1!==t.indexOf(e):e===t,o},clickItem(e){const t=this;if(t.multiple){let o=JSON.parse(JSON.stringify(t.defaultValue));const r=o.indexOf(e[t.listValue]);-1===r?t.allValue===e[t.listValue]?o=[t.allValue]:o.push(e[t.listValue]):o.splice(r,1),t.$emit("choose",o)}else t.$emit("choose",e[t.listValue])},init(){const e=b(this.$refs.dropdown);this.multiple&&e.on("click",".dropdown-item",(e=>{e.preventDefault(),e.stopPropagation()}))}}};const v=(0,o(2912).A)(y,[["render",function(e,t,o,f,b,y){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{ref:"dropdown",class:(0,r.normalizeClass)(["pp-dropdown dropdown",{dropdown:"down"==o.direction,dropleft:"left"==o.direction,dropright:"right"==o.direction}])},[(0,r.createElementVNode)("div",{"data-toggle":"dropdown","aria-haspopup":"false","aria-expanded":"false","data-flip":"false","data-offset":o.offset,class:(0,r.normalizeClass)([o.customClass])},[o.iconsFront?((0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)([o.icons])},null,2)])):(0,r.createCommentVNode)("",!0),o.beforeIcons?((0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)([o.beforeIcons])},null,2)])):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["dropdown-title",{"no-select":""==o.defaultValue}])},(0,r.toDisplayString)(y.showTitleString),3),[[r.vShow,o.showTitle]]),o.iconsFront?(0,r.createCommentVNode)("",!0):((0,r.openBlock)(),(0,r.createElementBlock)("div",s,[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["gear",[o.icons]])},null,2)]))],10,a),(0,r.createElementVNode)("div",l,[o.title?((0,r.openBlock)(),(0,r.createElementBlock)("h6",c,(0,r.toDisplayString)(o.title),1)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",d,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.list,((e,t)=>((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:t},[e.pp_dropdown_header?((0,r.openBlock)(),(0,r.createElementBlock)("h6",p,(0,r.toDisplayString)(e[o.listTitle]),1)):((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:1,class:"dropdown-item",href:"javascript:void(0);",onClick:t=>y.clickItem(e)},[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["dropdown-select-box",{checked:y.checkValue(e[o.listValue],o.defaultValue)}])},[o.menuItemTitleIsHtml?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"select-item",rel:"title",innerHTML:e[o.listTitle]},null,8,m)):((0,r.openBlock)(),(0,r.createElementBlock)("div",g,(0,r.toDisplayString)(e[o.listTitle]),1)),h],2)],8,u))],64)))),128))])])],2)}]])},67126:(e,t,o)=>{"use strict";o.d(t,{A:()=>B});var r=o(6496);const a={ref:"el",class:"track-card-info"},n={class:"track-content"},i={class:"track-title"},s={class:"track-desc"},l={class:"track-meta"},c={class:"track-meta-info"},d={class:"track-meta-item"},p={class:"track-meta-item"},u=(0,r.createElementVNode)("i",{class:"icon icon-audio_earphone"},null,-1),m={class:"track-meta-item"},g=(0,r.createElementVNode)("i",{class:"icon icon-time_clock_S"},null,-1);var h=o(89590),f=o(36657),b=o(42637),y=o.n(b);const v={ref:"el",class:"track-card",itemprop:"track",itemscope:"",itemtype:"http://schema.org/MusicRecording"},w=["content"],_=["content"],k=["href"],P=["content"],S=["data-src","alt"];var C=o(51988);const N={components:{},props:{track:{type:Object,default:()=>({}),required:!0},isDisplay:{type:Boolean,default:!1}},data:()=>({}),computed:{...(0,h.mapGetters)([]),duration(){const e=this;return e.track.attach?e.format8601(e.track.attach.duration):""}},watch:{"track.cover_url":{handler(e){e&&this.lazyImg()},deep:!0}},created(){},mounted(){this.lazyImg()},updated(){},unmounted(){},methods:{...(0,h.mapActions)({}),...(0,h.mapMutations)({}),format8601:e=>y().duration(e,"seconds").toISOString(),lazyImg(){C(this.$refs.el).find(".lazyload").removeClass("lazy-bind lazy-empty"),C("body").trigger("lazyImg")}}};var A=o(2912);const M=(0,A.A)(N,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",v,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)({"cursor-default":o.isDisplay})},[(0,r.createElementVNode)("meta",{itemprop:"name",content:o.track.track_title},null,8,w),(0,r.createElementVNode)("meta",{itemprop:"duration",content:i.duration},null,8,_),(0,r.createElementVNode)("link",{itemprop:"sameAs",href:o.track.head_title_url},null,8,k),(0,r.createElementVNode)("meta",{itemprop:"datePublished",content:o.track.publish_time},null,8,P),(0,r.createVNode)(s,{to:o.track.head_title_url},{default:(0,r.withCtx)((()=>[o.track.cover_url?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:0,class:"track-cover lazyload","data-src":o.track.cover_url,alt:o.track.track_title},null,8,S)):(0,r.createCommentVNode)("",!0)])),_:1},8,["to"])],2)],512)}]]);var T=o(51988);const E=!!f.a2.get("MemberInfo.user_id"),I={name:"TrackCardInfo",components:{trackCardBase:M},props:{isDisplay:{type:Boolean,default:!1},track:{type:Object,default:()=>({}),required:!0}},emits:["update-collect-status"],data:()=>({pc_min_size:768,mode_type:"pc",isLogin:E}),computed:{...(0,h.mapGetters)(["PageSetting","channel_id","isManager"]),playCount(){const e=this;let t="";return e.track.attach&&(t=e.track.attach.play_count>1e4?`${Number.parseFloat(e.track.attach.play_count/1e3).toFixed(2)}K`:e.formatMoney(e.track.attach.play_count)),t},duration(){const e=this;return e.track.attach?e.formatSecond(e.track.attach.duration):""}},watch:{PageSetting:{handler(e){const t=this;e.width?e.width<t.pc_min_size?t.mode_type="mobile":t.mode_type="pc":t.mode_type=e.mode_type},immediate:!0}},created(){},mounted(){},updated(){},unmounted(){},methods:{...(0,h.mapActions)({}),...(0,h.mapMutations)({}),formatTime(e){const t=e||Date.now();return y()(t).format("YYYY/MM/DD")},formatSecond:f.Yj.formatSecond,formatMoney:f.Yj.formatMoney,openLoginModal(e){const t=this;let o="";return e.target?o=e.target:e.currentTarget&&(o=T(e.currentTarget).data("target")),!!t.isLogin||(e.preventDefault&&e.preventDefault(),f.Vp.isMobileApp()?f.Vp.openNativeLogin():(t.$store.dispatch("PressPlayLoginModalTriggerOpen",{}),t.$store.commit("setAutoAction",{action:"auto-collect",id:t.track.album_id})),!1)},saveAlbumToCollection(){const e=this,t={album_id:e.track.album_id};e.$store.dispatch("setPPGlobalCollectionAlbum",t).then((t=>{t.data.is_collected&&f.Xq.show({target:T(e.$refs.el).find(".collect-track-button"),text:'\n                            <div class="text-center">收藏節目</div>\n                        ',isHTML:!0,direction:"top",delay:"3000"}),e.$emit("update-collect-status",!0)})).catch((e=>{}))},collectAlbum(e){const t=this;t.openLoginModal(e)&&t.saveAlbumToCollection()}}},B=(0,A.A)(I,[["render",function(e,t,o,h,f,b){const y=(0,r.resolveComponent)("track-card-base"),v=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createVNode)(y,{track:o.track,"is-display":o.isDisplay},null,8,["track","is-display"]),(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)([{"cursor-default":o.isDisplay},"track-info"])},[(0,r.createElementVNode)("div",i,[(0,r.createVNode)(v,{to:o.track.head_title_url},{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(o.track.head_title),1)])),_:1},8,["to"]),(0,r.createElementVNode)("div",{role:"button",class:"collect-track-button mr-auto",onClick:t[0]||(t[0]=function(){return b.collectAlbum&&b.collectAlbum(...arguments)})},[(0,r.createElementVNode)("i",{class:(0,r.normalizeClass)(["icon",[o.track.is_collected?"icon-bookmark_solid_S":"icon-bookmark_border_S"]])},null,2)])]),(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(o.track.track_title),1)])],2),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(b.formatTime(o.track.publish_time)),1)]),(0,r.createElementVNode)("div",p,[u,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(b.playCount),1)]),(0,r.createElementVNode)("div",m,[g,(0,r.createElementVNode)("span",null,(0,r.toDisplayString)(b.duration),1)])])])])],512)}]])},34982:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var r=o(6496);o(89590),o(11999);const a={name:"PpButton",components:{},props:{tag:{type:String,default:"div",required:!1},fill:{type:String,default:"fill",required:!1,validator:e=>["fill","none","outline"].includes(e)},size:{type:String,default:"lg",required:!1,validator:e=>["sm","md","lg","xlg","xxlg","xxxlg"].includes(e)},color:{type:String,default:"primary",required:!1,validator:e=>["primary","secondary","black","white","red","black-alpha"].includes(e)},type:{type:String,default:"default",required:!1,validator:e=>["default","icon"].includes(e)},link:{type:Boolean,default:!1,required:!1},circle:{type:Boolean,default:!1,required:!1},block:{type:Boolean,default:!1,required:!1},loading:{type:Boolean,default:!1,required:!1},active:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:void 0,required:!1},dashed:{type:Boolean,default:!1,required:!1},widthFlag:{type:Boolean,default:!0,required:!1}},emits:[],setup(e,t){let{emit:o}=t;const a=(0,r.inject)("block",!1),n=(0,r.inject)("size",!1);return{className:(0,r.computed)((()=>[`pp-button-${e.color}`,n.value?`pp-button-${n.value}`:`pp-button-${e.size}`,`pp-button-${e.fill}`,"icon"===e.type?"pp-button-icon":"pp-button",e.circle&&"icon"===e.type?"pp-button-circle":"",(e.block||a.value)&&"icon"!==e.type?"pp-button-block":"",e.loading?"pp-button-loading":"",e.active?"pp-button-active":"",e.dashed&&"outline"===e.fill?"pp-button-dashed":""])),style:(0,r.computed)((()=>({"--min-width":e.widthFlag?void 0:"initial"}))),loadingSize:(0,r.computed)((()=>["lg","xlg","xxlg","xxxlg"].includes(e.size)?6:4))}}};const n=(0,o(2912).A)(a,[["render",function(e,t,o,a,n,i){const s=(0,r.resolveComponent)("pp-dot-loading");return o.link?(0,r.renderSlot)(e.$slots,"default",{key:1,className:a.className,style:(0,r.normalizeStyle)(a.style),loading:o.loading,active:o.active,disabled:o.disabled?"":void 0}):((0,r.openBlock)(),(0,r.createBlock)((0,r.resolveDynamicComponent)(o.tag),{key:0,role:"button",class:(0,r.normalizeClass)(a.className),style:(0,r.normalizeStyle)(a.style),disabled:o.disabled?"":void 0},{default:(0,r.withCtx)((()=>[o.loading?((0,r.openBlock)(),(0,r.createBlock)(s,{key:0,size:a.loadingSize},null,8,["size"])):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},["icon"===o.type?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.renderSlot)(e.$slots,"default"),["sm","md","lg"].includes(o.size)&&o.circle?(0,r.renderSlot)(e.$slots,"badge",{key:0}):(0,r.createCommentVNode)("",!0)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.renderSlot)(e.$slots,"icon-start"),(0,r.createElementVNode)("span",null,[(0,r.renderSlot)(e.$slots,"default")]),(0,r.renderSlot)(e.$slots,"icon-end")],64))],64))])),_:3},8,["class","style","disabled"]))}]])},22335:(e,t,o)=>{"use strict";o.d(t,{A:()=>w});var r=o(6496);const a=["id"],n={class:"pp-dialog-container"},i={class:"pp-dialog-header"},s=["textContent"],l=(0,r.createElementVNode)("i",{class:"icon icon_x"},null,-1),c={key:1,class:"pp-dialog-space"},d={class:"pp-dialog-notice"},p=["body-scroll-lock-ignore"],u={key:0,class:"pp-dialog-footer"},m={key:0,class:"pp-dialog-link"},g=["textContent"],h={class:"pp-dialog-buttons"},f={key:1,class:"pp-dialog-space"};o(89590),o(11999);var b=o(29566),y=o(56158);const v={name:"PpDialog",components:{},props:{id:{type:String,default:void 0,required:!0},trigger:{type:[Boolean,Number],default:!1,required:!1},clickOutsideClose:{type:Boolean,default:!0,required:!1},footerFlag:{type:Boolean,default:!0,required:!1},closeButtonFlag:{type:Boolean,default:!1,required:!1},title:{type:String,default:"標題",required:!1},divide:{type:Boolean,default:!1,required:!1},cancelButtonFlag:{type:Boolean,default:!0,required:!1},cancelButtonText:{type:String,default:"取消",required:!1},cancelButtonLoading:{type:Boolean,default:!1,required:!1},cancelButtonDisabled:{type:Boolean,default:!1,required:!1},confirmButtonFlag:{type:Boolean,default:!0,required:!1},confirmButtonText:{type:String,default:"確定",required:!1},confirmButtonLoading:{type:Boolean,default:!1,required:!1},confirmButtonDisabled:{type:Boolean,default:!1,required:!1},linkUrl:{type:String,default:"",required:!1},linkText:{type:String,default:"",required:!1},redirectLink:{type:Boolean,default:!1,required:!1},text:{type:String,default:"",required:!1},paddingFlag:{type:Boolean,default:!0,required:!1},size:{type:String,default:"md",required:!1,validator:e=>["sm","md","lg","xlg"].includes(e)}},emits:["update:trigger","open","close","cancel","confirm"],setup(e,t){let{emit:o}=t;const{customerServiceHide:a,customerServiceShow:n}=(0,y.fq)(),i=(0,r.ref)(null),s=(0,r.ref)(null),l=(0,r.ref)(!1),c=(0,r.ref)(void 0),d=(0,r.ref)(0),p=(0,r.computed)((()=>[`pp-dialog-${e.size}`,e.divide?"pp-dialog-divide":""])),u=(0,r.computed)((()=>({"--vh":0!==d.value?`${d.value}px`:"1vh"}))),m=(0,r.computed)((()=>e.linkText&&e.linkUrl||e.cancelButtonFlag||e.confirmButtonFlag)),g=()=>{d.value=.01*window.innerHeight},h=async()=>{l.value=!0,o("open"),await(0,r.nextTick)(),(0,b.mh)(s.value,{allowTouchMove:e=>{for(;e&&e!==document.body;){if(null!==e.getAttribute("body-scroll-lock-ignore"))return!0;e.parentElement&&(e=e.parentElement)}}}),a(),g(),window.addEventListener("resize",g)},f=()=>{l.value=!1,o("close"),o("update:trigger",!1),(0,b.fY)(s.value),n(),window.removeEventListener("resize",g)};return(0,r.watch)((()=>e.trigger),((e,t)=>{e&&!l.value&&h()})),(0,r.onBeforeUnmount)((()=>{(0,b.qY)(),l.value&&f()})),{dialog:i,dialogContent:s,flag:l,bodyScrollLockIgnoreFlag:c,className:p,style:u,footerContentFlag:m,open:h,close:f,cancel:()=>{e.cancelButtonLoading||e.cancelButtonDisabled||o("cancel",{close:f})},confirm:()=>{e.confirmButtonLoading||e.confirmButtonDisabled||o("confirm",{close:f})}}}};const w=(0,o(2912).A)(v,[["render",function(e,t,o,b,y,v){const w=(0,r.resolveComponent)("pp-button"),_=(0,r.resolveComponent)("pp-router-link");return(0,r.openBlock)(),(0,r.createBlock)(r.Teleport,{to:"#app-dialog-bottomsheet",disabled:!b.flag},[(0,r.createElementVNode)("div",{ref:"dialog",class:(0,r.normalizeClass)(["pp-dialog",[b.className,e.$attrs.class]]),id:o.id,style:(0,r.normalizeStyle)(b.style)},[(0,r.createVNode)(r.Transition,{name:"pp-dialog-background",appear:""},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{class:"pp-dialog-background",onClick:t[0]||(t[0]=(0,r.withModifiers)((e=>o.clickOutsideClose?b.close():null),["stop"]))},null,512),[[r.vShow,b.flag]])])),_:1}),(0,r.createVNode)(r.Transition,{name:"pp-dialog-container",appear:""},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",i,[e.$slots["header-front-button"]?(0,r.renderSlot)(e.$slots,"header-front-button",{key:0,close:b.close}):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:"pp-dialog-title",textContent:(0,r.toDisplayString)(o.title)},null,8,s),(0,r.renderSlot)(e.$slots,"header-end-button",{close:b.close,cancel:b.cancel},(()=>[o.closeButtonFlag?((0,r.openBlock)(),(0,r.createBlock)(w,{key:0,fill:"none",color:"black",type:"icon",circle:!0,size:"md",onClick:(0,r.withModifiers)(b.close,["stop"])},{default:(0,r.withCtx)((()=>[l])),_:1},8,["onClick"])):((0,r.openBlock)(),(0,r.createElementBlock)("div",c))]))]),(0,r.createElementVNode)("div",d,[(0,r.renderSlot)(e.$slots,"notice")]),(0,r.createElementVNode)("div",{ref:"dialogContent",id:"pp-dialog-bottomsheet-content",class:"pp-dialog-content","body-scroll-lock-ignore":b.bodyScrollLockIgnoreFlag,style:(0,r.normalizeStyle)([o.paddingFlag?void 0:{padding:0}])},[(0,r.renderSlot)(e.$slots,"default",{close:b.close})],12,p),o.footerFlag&&b.footerContentFlag?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[o.linkText&&o.linkUrl?((0,r.openBlock)(),(0,r.createElementBlock)("div",m,[(0,r.createVNode)(_,{to:o.linkUrl,target:!!o.redirectLink&&"_blank"},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(o.linkText),1)])),_:1},8,["to","target"])])):o.text?((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:1,class:"pp-dialog-text",textContent:(0,r.toDisplayString)(o.text)},null,8,g)):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",h,[o.cancelButtonFlag?(0,r.renderSlot)(e.$slots,"cancel",{key:0,close:b.close},(()=>[(0,r.createVNode)(w,{fill:"outline",color:"secondary",size:"lg",loading:o.cancelButtonLoading,disabled:o.cancelButtonDisabled,onClick:(0,r.withModifiers)(b.cancel,["stop"])},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(o.cancelButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,r.createCommentVNode)("",!0),o.confirmButtonFlag?(0,r.renderSlot)(e.$slots,"confirm",{key:1,close:b.close},(()=>[(0,r.createVNode)(w,{fill:"fill",color:"primary",size:"lg",loading:o.confirmButtonLoading,disabled:o.confirmButtonDisabled,onClick:(0,r.withModifiers)(b.confirm,["stop"])},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(o.confirmButtonText),1)])),_:1},8,["loading","disabled","onClick"])])):(0,r.createCommentVNode)("",!0)])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",f))],512),[[r.vShow,b.flag]])])),_:3})],14,a)],8,["disabled"])}]])},4620:(e,t,o)=>{var r=o(9715);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,o(31653).A)("cda6cdb6",r,!0,{})},11809:(e,t,o)=>{var r=o(30492);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,o(31653).A)("398fec89",r,!0,{})},81108:(e,t,o)=>{var r=o(13143);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,o(31653).A)("7fc6d0e8",r,!0,{})},7276:(e,t,o)=>{var r=o(94463);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,o(31653).A)("a2abcad2",r,!0,{})},73653:(e,t,o)=>{var r=o(83856);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,o(31653).A)("2b9a5b50",r,!0,{})}}]);
</script>

</body>
</html>
