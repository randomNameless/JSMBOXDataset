<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsListCard.9a7ded91.html</title>
</head>
<body>

<script>
import{_ as O}from"./TileTheme.d9b66446.js";import{_ as V}from"./nuxt-link.3e6589f7.js";import{_ as D}from"./Socials.d068c6bb.js";import{_ as H}from"./Trigger.50db863c.js";import{L as j}from"./Loader.9d40ed8f.js";import{_ as z,x as v,z as A,m as F,D as w,J as U,o as s,c as u,d as a,w as p,F as $,r as E,u as i,b as h,t as L,a as m,e as x,j as g,s as W,k as q,A as G}from"./entry.f284d958.js";import{u as K}from"./displaySize.f91bb17f.js";import{u as Q}from"./mainPageMaterials.1584be62.js";import{g as S}from"./getNewsList.07f5a2c3.js";const X={class:"list-card border-radius-card"},Y={class:"list-card_wrapper-item"},Z={class:"item-meta"},I={class:"time"},ee={class:"list-card_wrapper-item"},te={__name:"NewsListCard",async setup(se){let o,d;const y=K(),{mobileScreen:N}=v(y),b=Q(),{newsList:k}=v(b),r=W();r!=null&&r.apiServerURL||r.public.apiPublicURL;const e=A(JSON.parse(JSON.stringify(k)));if(!e.value||!e.value.length){const t=([o,d]=F(()=>S(0,0,20,!0)),o=await o,d(),o);e.value=JSON.parse(JSON.stringify(t.newsList.value))}let l=w(!1),_=w(!1);const C=async()=>{if(N.value)return;_.value=!0;const t=e.value[e.value.length-1].date,n=await S(t,0);l.value=n.newsList.value.length<20,e.value=q.concat(e.value,n.newsList.value),_.value=n.pendingList.value},M=t=>G.unix(t).format("HH:mm");return(t,n)=>{const R=O,f=V,J=D,P=H,T=j,B=U("perfect-scrollbar");return s(),u("div",X,[a(R,{url:"/news","tile-text":"Новости","is-normal":""}),a(B,{class:"list-card_wrapper list-card-scroll",ref:"listCardWrapper"},{default:p(()=>[(s(!0),u($,null,E(i(e),c=>(s(),u("div",Y,[a(f,{to:c.url,class:"item-text"},{default:p(()=>[h(L(c.header),1)]),_:2},1032,["to"]),m("div",Z,[m("span",I,L(M(c.date)),1),a(J,{article:c},null,8,["article"])])]))),256)),m("div",ee,[i(l)?g("",!0):(s(),x(P,{key:0,onShowMore:C})),!i(l)&&i(_)?(s(),x(T,{key:1})):g("",!0)])]),_:1},512),a(f,{to:"/news",class:"news"},{default:p(()=>[h("все новости")]),_:1})])}}},pe=z(te,[["__scopeId","data-v-c55147b6"]]);export{pe as _};

</script>

</body>
</html>
