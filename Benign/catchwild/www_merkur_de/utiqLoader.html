<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>utiqLoader.html</title>
</head>
<body>

<script>
(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{hasBrowserEnv:()=>fe,hasStandardBrowserEnv:()=>ge,hasStandardBrowserWebWorkerEnv:()=>me,navigator:()=>pe,origin:()=>he});const t=new class{#e="[-]";#n={error:"error",warn:"warn",info:"info",verbose:"verbose"};#t="info";get logLevel(){return this.#t}get logLevels(){return this.#n}setLogLevel(e){Object.hasOwn(this.#n,e)&&(this.#t=e)}initialize(e,n){this.#e=`[${e}]:`,n&&"verbose"===n&&(this.#t=this.#n.verbose)}logError(...e){console.error(this.#e,...e)}logWarn(...e){this.#t!==this.#n.warn&&this.#t!==this.#n.info&&this.#t!==this.#n.verbose||console.warn(this.#e,...e)}logInfo(...e){this.#t!==this.#n.info&&this.#t!==this.#n.verbose||console.info(this.#e,"[INFO]",...e)}logDebug(...e){this.#t===this.#n.verbose&&console.info(this.#e,"[DEBUG]",...e)}logTrace(...e){this.#t===this.#n.verbose&&console.info(this.#e,"[TRACE]",...e)}};function o(e,n){return function(){return e.apply(n,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:r}=Object,a=(s=Object.create(null),e=>{const n=i.call(e);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())});var s;const c=e=>(e=e.toLowerCase(),n=>a(n)===e),l=e=>n=>typeof n===e,{isArray:u}=Array,d=l("undefined"),f=c("ArrayBuffer"),p=l("string"),g=l("function"),m=l("number"),h=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==a(e))return!1;const n=r(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)},w=c("Date"),C=c("File"),y=c("Blob"),b=c("FileList"),E=c("URLSearchParams"),[O,T,S,I]=["ReadableStream","Request","Response","Headers"].map(c);function D(e,n,{allOwnKeys:t=!1}={}){if(null==e)return;let o,i;if("object"!=typeof e&&(e=[e]),u(e))for(o=0,i=e.length;o<i;o++)n.call(null,e[o],o,e);else{const i=t?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let a;for(o=0;o<r;o++)a=i[o],n.call(null,e[a],a,e)}}function U(e,n){n=n.toLowerCase();const t=Object.keys(e);let o,i=t.length;for(;i-- >0;)if(o=t[i],n===o.toLowerCase())return o;return null}const q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,k=e=>!d(e)&&e!==q,N=(A="undefined"!=typeof Uint8Array&&r(Uint8Array),e=>A&&e instanceof A);var A;const P=c("HTMLFormElement"),R=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),_=c("RegExp"),L=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),o={};D(t,((t,i)=>{let r;!1!==(r=n(t,i,e))&&(o[i]=r||t)})),Object.defineProperties(e,o)},x="abcdefghijklmnopqrstuvwxyz",V="0123456789",F={DIGIT:V,ALPHA:x,ALPHA_DIGIT:x+x.toUpperCase()+V},j=c("AsyncFunction"),G=(M="function"==typeof setImmediate,B=g(q.postMessage),M?setImmediate:B?(H=`axios@${Math.random()}`,$=[],q.addEventListener("message",(({source:e,data:n})=>{e===q&&n===H&&$.length&&$.shift()()}),!1),e=>{$.push(e),q.postMessage(H,"*")}):e=>setTimeout(e));var M,B,H,$;const z="undefined"!=typeof queueMicrotask?queueMicrotask.bind(q):"undefined"!=typeof process&&process.nextTick||G,W={isArray:u,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let n;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(n=a(e))||"object"===n&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let n;return n="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),n},isString:p,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:h,isPlainObject:v,isReadableStream:O,isRequest:T,isResponse:S,isHeaders:I,isUndefined:d,isDate:w,isFile:C,isBlob:y,isRegExp:_,isFunction:g,isStream:e=>h(e)&&g(e.pipe),isURLSearchParams:E,isTypedArray:N,isFileList:b,forEach:D,merge:function e(){const{caseless:n}=k(this)&&this||{},t={},o=(o,i)=>{const r=n&&U(t,i)||i;v(t[r])&&v(o)?t[r]=e(t[r],o):v(o)?t[r]=e({},o):u(o)?t[r]=o.slice():t[r]=o};for(let e=0,n=arguments.length;e<n;e++)arguments[e]&&D(arguments[e],o);return t},extend:(e,n,t,{allOwnKeys:i}={})=>(D(n,((n,i)=>{t&&g(n)?e[i]=o(n,t):e[i]=n}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,n,t,o)=>{e.prototype=Object.create(n.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,n,t,o)=>{let i,a,s;const c={};if(n=n||{},null==e)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],o&&!o(s,e,n)||c[s]||(n[s]=e[s],c[s]=!0);e=!1!==t&&r(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},kindOf:a,kindOfTest:c,endsWith:(e,n,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=n.length;const o=e.indexOf(n,t);return-1!==o&&o===t},toArray:e=>{if(!e)return null;if(u(e))return e;let n=e.length;if(!m(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},forEachEntry:(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=t.next())&&!o.done;){const t=o.value;n.call(e,t[0],t[1])}},matchAll:(e,n)=>{let t;const o=[];for(;null!==(t=e.exec(n));)o.push(t);return o},isHTMLForm:P,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:L,freezeMethods:e=>{L(e,((n,t)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const o=e[t];g(o)&&(n.enumerable=!1,"writable"in n?n.writable=!1:n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,n)=>{const t={},o=e=>{e.forEach((e=>{t[e]=!0}))};return u(e)?o(e):o(String(e).split(n)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,n,t){return n.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,n)=>null!=e&&Number.isFinite(e=+e)?e:n,findKey:U,global:q,isContextDefined:k,ALPHABET:F,generateString:(e=16,n=F.ALPHA_DIGIT)=>{let t="";const{length:o}=n;for(;e--;)t+=n[Math.random()*o|0];return t},isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const n=new Array(10),t=(e,o)=>{if(h(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[o]=e;const i=u(e)?[]:{};return D(e,((e,n)=>{const r=t(e,o+1);!d(r)&&(i[n]=r)})),n[o]=void 0,i}}return e};return t(e,0)},isAsyncFn:j,isThenable:e=>e&&(h(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:G,asap:z};function J(e,n,t,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),o&&(this.request=o),i&&(this.response=i,this.status=i.status?i.status:null)}W.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const K=J.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Y[e]={value:e}})),Object.defineProperties(J,Y),Object.defineProperty(K,"isAxiosError",{value:!0}),J.from=(e,n,t,o,i,r)=>{const a=Object.create(K);return W.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),J.call(a,e.message,n,t,o,i),a.cause=e,a.name=e.name,r&&Object.assign(a,r),a};const X=J;function Q(e){return W.isPlainObject(e)||W.isArray(e)}function Z(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,n,t){return e?e.concat(n).map((function(e,n){return e=Z(e),!t&&n?"["+e+"]":e})).join(t?".":""):n}const ne=W.toFlatObject(W,{},null,(function(e){return/^is[A-Z]/.test(e)})),te=function(e,n,t){if(!W.isObject(e))throw new TypeError("target must be an object");n=n||new FormData;const o=(t=W.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,n){return!W.isUndefined(n[e])}))).metaTokens,i=t.visitor||l,r=t.dots,a=t.indexes,s=(t.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(n);if(!W.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(!s&&W.isBlob(e))throw new X("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,t,i){let s=e;if(e&&!i&&"object"==typeof e)if(W.endsWith(t,"{}"))t=o?t:t.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(Q)}(e)||(W.isFileList(e)||W.endsWith(t,"[]"))&&(s=W.toArray(e)))return t=Z(t),s.forEach((function(e,o){!W.isUndefined(e)&&null!==e&&n.append(!0===a?ee([t],o,r):null===a?t:t+"[]",c(e))})),!1;return!!Q(e)||(n.append(ee(i,t,r),c(e)),!1)}const u=[],d=Object.assign(ne,{defaultVisitor:l,convertValue:c,isVisitable:Q});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(t,o){if(!W.isUndefined(t)){if(-1!==u.indexOf(t))throw Error("Circular reference detected in "+o.join("."));u.push(t),W.forEach(t,(function(t,r){!0===(!(W.isUndefined(t)||null===t)&&i.call(n,t,W.isString(r)?r.trim():r,o,d))&&e(t,o?o.concat(r):[r])})),u.pop()}}(e),n};function oe(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return n[e]}))}function ie(e,n){this._pairs=[],e&&te(e,this,n)}const re=ie.prototype;re.append=function(e,n){this._pairs.push([e,n])},re.toString=function(e){const n=e?function(n){return e.call(this,n,oe)}:oe;return this._pairs.map((function(e){return n(e[0])+"="+n(e[1])}),"").join("&")};const ae=ie;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ce(e,n,t){if(!n)return e;const o=t&&t.encode||se,i=t&&t.serialize;let r;if(r=i?i(n,t):W.isURLSearchParams(n)?n.toString():new ae(n,t).toString(o),r){const n=e.indexOf("#");-1!==n&&(e=e.slice(0,n)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const le=class{constructor(){this.handlers=[]}use(e,n,t){return this.handlers.push({fulfilled:e,rejected:n,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,(function(n){null!==n&&e(n)}))}},ue={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},de={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ae,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fe="undefined"!=typeof window&&"undefined"!=typeof document,pe="object"==typeof navigator&&navigator||void 0,ge=fe&&(!pe||["ReactNative","NativeScript","NS"].indexOf(pe.product)<0),me="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,he=fe&&window.location.href||"http://localhost",ve={...n,...de},we=function(e){function n(e,t,o,i){let r=e[i++];if("__proto__"===r)return!0;const a=Number.isFinite(+r),s=i>=e.length;return r=!r&&W.isArray(o)?o.length:r,s?(W.hasOwnProp(o,r)?o[r]=[o[r],t]:o[r]=t,!a):(o[r]&&W.isObject(o[r])||(o[r]=[]),n(e,t,o[r],i)&&W.isArray(o[r])&&(o[r]=function(e){const n={},t=Object.keys(e);let o;const i=t.length;let r;for(o=0;o<i;o++)r=t[o],n[r]=e[r];return n}(o[r])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){const t={};return W.forEachEntry(e,((e,o)=>{n(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),o,t,0)})),t}return null},Ce={transitional:ue,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",o=t.indexOf("application/json")>-1,i=W.isObject(e);if(i&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return o?JSON.stringify(we(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,n){return te(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(e,n,t,o){return ve.isNode&&W.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}(e,this.formSerializer).toString();if((r=W.isFileList(e))||t.indexOf("multipart/form-data")>-1){const n=this.env&&this.env.FormData;return te(r?{"files[]":e}:e,n&&new n,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),function(e,n,t){if(W.isString(e))try{return(0,JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const n=this.transitional||Ce.transitional,t=n&&n.forcedJSONParsing,o="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(t&&!this.responseType||o)){const t=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw X.from(e,X.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],(e=>{Ce.headers[e]={}}));const ye=Ce,be=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ee=Symbol("internals");function Oe(e){return e&&String(e).trim().toLowerCase()}function Te(e){return!1===e||null==e?e:W.isArray(e)?e.map(Te):String(e)}function Se(e,n,t,o,i){return W.isFunction(o)?o.call(this,n,t):(i&&(n=t),W.isString(n)?W.isString(o)?-1!==n.indexOf(o):W.isRegExp(o)?o.test(n):void 0:void 0)}class Ie{constructor(e){e&&this.set(e)}set(e,n,t){const o=this;function i(e,n,t){const i=Oe(n);if(!i)throw new Error("header name must be a non-empty string");const r=W.findKey(o,i);(!r||void 0===o[r]||!0===t||void 0===t&&!1!==o[r])&&(o[r||n]=Te(e))}const r=(e,n)=>W.forEach(e,((e,t)=>i(e,t,n)));if(W.isPlainObject(e)||e instanceof this.constructor)r(e,n);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const n={};let t,o,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),o=e.substring(i+1).trim(),!t||n[t]&&be[t]||("set-cookie"===t?n[t]?n[t].push(o):n[t]=[o]:n[t]=n[t]?n[t]+", "+o:o)})),n})(e),n);else if(W.isHeaders(e))for(const[n,o]of e.entries())i(o,n,t);else null!=e&&i(n,e,t);return this}get(e,n){if(e=Oe(e)){const t=W.findKey(this,e);if(t){const e=this[t];if(!n)return e;if(!0===n)return function(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=t.exec(e);)n[o[1]]=o[2];return n}(e);if(W.isFunction(n))return n.call(this,e,t);if(W.isRegExp(n))return n.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Oe(e)){const t=W.findKey(this,e);return!(!t||void 0===this[t]||n&&!Se(0,this[t],t,n))}return!1}delete(e,n){const t=this;let o=!1;function i(e){if(e=Oe(e)){const i=W.findKey(t,e);!i||n&&!Se(0,t[i],i,n)||(delete t[i],o=!0)}}return W.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let t=n.length,o=!1;for(;t--;){const i=n[t];e&&!Se(0,this[i],i,e,!0)||(delete this[i],o=!0)}return o}normalize(e){const n=this,t={};return W.forEach(this,((o,i)=>{const r=W.findKey(t,i);if(r)return n[r]=Te(o),void delete n[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,n,t)=>n.toUpperCase()+t))}(i):String(i).trim();a!==i&&delete n[i],n[a]=Te(o),t[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return W.forEach(this,((t,o)=>{null!=t&&!1!==t&&(n[o]=e&&W.isArray(t)?t.join(", "):t)})),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,n])=>e+": "+n)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const t=new this(e);return n.forEach((e=>t.set(e))),t}static accessor(e){const n=(this[Ee]=this[Ee]={accessors:{}}).accessors,t=this.prototype;function o(e){const o=Oe(e);n[o]||(function(e,n){const t=W.toCamelCase(" "+n);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+t,{value:function(e,t,i){return this[o].call(this,n,e,t,i)},configurable:!0})}))}(t,e),n[o]=!0)}return W.isArray(e)?e.forEach(o):o(e),this}}Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(Ie.prototype,(({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(e){this[t]=e}}})),W.freezeMethods(Ie);const De=Ie;function Ue(e,n){const t=this||ye,o=n||t,i=De.from(o.headers);let r=o.data;return W.forEach(e,(function(e){r=e.call(t,r,i.normalize(),n?n.status:void 0)})),i.normalize(),r}function qe(e){return!(!e||!e.__CANCEL__)}function ke(e,n,t){X.call(this,null==e?"canceled":e,X.ERR_CANCELED,n,t),this.name="CanceledError"}W.inherits(ke,X,{__CANCEL__:!0});const Ne=ke;function Ae(e,n,t){const o=t.config.validateStatus;t.status&&o&&!o(t.status)?n(new X("Request failed with status code "+t.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}const Pe=(e,n,t=3)=>{let o=0;const i=function(e,n){e=e||10;const t=new Array(e),o=new Array(e);let i,r=0,a=0;return n=void 0!==n?n:1e3,function(s){const c=Date.now(),l=o[a];i||(i=c),t[r]=s,o[r]=c;let u=a,d=0;for(;u!==r;)d+=t[u++],u%=e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),c-i<n)return;const f=l&&c-l;return f?Math.round(1e3*d/f):void 0}}(50,250);return function(e,n){let t,o,i=0,r=1e3/n;const a=(n,r=Date.now())=>{i=r,t=null,o&&(clearTimeout(o),o=null),e.apply(null,n)};return[(...e)=>{const n=Date.now(),s=n-i;s>=r?a(e,n):(t=e,o||(o=setTimeout((()=>{o=null,a(t)}),r-s)))},()=>t&&a(t)]}((t=>{const r=t.loaded,a=t.lengthComputable?t.total:void 0,s=r-o,c=i(s);o=r,e({loaded:r,total:a,progress:a?r/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&r<=a?(a-r)/c:void 0,event:t,lengthComputable:null!=a,[n?"download":"upload"]:!0})}),t)},Re=(e,n)=>{const t=null!=e;return[o=>n[0]({lengthComputable:t,total:e,loaded:o}),n[1]]},_e=e=>(...n)=>W.asap((()=>e(...n))),Le=ve.hasStandardBrowserEnv?function(){const e=ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent),n=document.createElement("a");let t;function o(t){let o=t;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){const n=W.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},xe=ve.hasStandardBrowserEnv?{write(e,n,t,o,i,r){const a=[e+"="+encodeURIComponent(n)];W.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),W.isString(o)&&a.push("path="+o),W.isString(i)&&a.push("domain="+i),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ve(e,n){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)?function(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}(e,n):n}const Fe=e=>e instanceof De?{...e}:e;function je(e,n){n=n||{};const t={};function o(e,n,t){return W.isPlainObject(e)&&W.isPlainObject(n)?W.merge.call({caseless:t},e,n):W.isPlainObject(n)?W.merge({},n):W.isArray(n)?n.slice():n}function i(e,n,t){return W.isUndefined(n)?W.isUndefined(e)?void 0:o(void 0,e,t):o(e,n,t)}function r(e,n){if(!W.isUndefined(n))return o(void 0,n)}function a(e,n){return W.isUndefined(n)?W.isUndefined(e)?void 0:o(void 0,e):o(void 0,n)}function s(t,i,r){return r in n?o(t,i):r in e?o(void 0,t):void 0}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,n)=>i(Fe(e),Fe(n),!0)};return W.forEach(Object.keys(Object.assign({},e,n)),(function(o){const r=c[o]||i,a=r(e[o],n[o],o);W.isUndefined(a)&&r!==s||(t[o]=a)})),t}const Ge=e=>{const n=je({},e);let t,{data:o,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:c}=n;if(n.headers=s=De.from(s),n.url=ce(Ve(n.baseURL,n.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),W.isFormData(o))if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){const[e,...n]=t?t.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...n].join("; "))}if(ve.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(n)),i||!1!==i&&Le(n.url))){const e=r&&a&&xe.read(a);e&&s.set(r,e)}return n},Me="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(n,t){const o=Ge(e);let i=o.data;const r=De.from(o.headers).normalize();let a,s,c,l,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=o;function g(){l&&l(),u&&u(),o.cancelToken&&o.cancelToken.unsubscribe(a),o.signal&&o.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function h(){if(!m)return;const o=De.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ae((function(e){n(e),g()}),(function(e){t(e),g()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:o,config:e,request:m}),m=null}m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout,"onloadend"in m?m.onloadend=h:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(h)},m.onabort=function(){m&&(t(new X("Request aborted",X.ECONNABORTED,e,m)),m=null)},m.onerror=function(){t(new X("Network Error",X.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let n=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const i=o.transitional||ue;o.timeoutErrorMessage&&(n=o.timeoutErrorMessage),t(new X(n,i.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,m)),m=null},void 0===i&&r.setContentType(null),"setRequestHeader"in m&&W.forEach(r.toJSON(),(function(e,n){m.setRequestHeader(n,e)})),W.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),d&&"json"!==d&&(m.responseType=o.responseType),p&&([c,u]=Pe(p,!0),m.addEventListener("progress",c)),f&&m.upload&&([s,l]=Pe(f),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(o.cancelToken||o.signal)&&(a=n=>{m&&(t(!n||n.type?new Ne(null,e,m):n),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(a),o.signal&&(o.signal.aborted?a():o.signal.addEventListener("abort",a)));const v=function(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}(o.url);v&&-1===ve.protocols.indexOf(v)?t(new X("Unsupported protocol "+v+":",X.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Be=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let t,o=new AbortController;const i=function(e){if(!t){t=!0,a();const n=e instanceof Error?e:this.reason;o.abort(n instanceof X?n:new Ne(n instanceof Error?n.message:n))}};let r=n&&setTimeout((()=>{r=null,i(new X(`timeout ${n} of ms exceeded`,X.ETIMEDOUT))}),n);const a=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=o;return s.unsubscribe=()=>W.asap(a),s}},He=function*(e,n){let t=e.byteLength;if(!n||t<n)return void(yield e);let o,i=0;for(;i<t;)o=i+n,yield e.slice(i,o),i=o},$e=(e,n,t,o)=>{const i=async function*(e,n){for await(const t of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const n=e.getReader();try{for(;;){const{done:e,value:t}=await n.read();if(e)break;yield t}}finally{await n.cancel()}}(e))yield*He(t,n)}(e,n);let r,a=0,s=e=>{r||(r=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:n,value:o}=await i.next();if(n)return s(),void e.close();let r=o.byteLength;if(t){let e=a+=r;t(e)}e.enqueue(new Uint8Array(o))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},ze="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,We=ze&&"function"==typeof ReadableStream,Je=ze&&("function"==typeof TextEncoder?(Ke=new TextEncoder,e=>Ke.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ke;const Ye=(e,...n)=>{try{return!!e(...n)}catch(e){return!1}},Xe=We&&Ye((()=>{let e=!1;const n=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n})),Qe=We&&Ye((()=>W.isReadableStream(new Response("").body))),Ze={stream:Qe&&(e=>e.body)};var en;ze&&(en=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ze[e]&&(Ze[e]=W.isFunction(en[e])?n=>n[e]():(n,t)=>{throw new X(`Response type '${e}' is not supported`,X.ERR_NOT_SUPPORT,t)})})));const nn={http:null,xhr:Me,fetch:ze&&(async e=>{let{url:n,method:t,data:o,signal:i,cancelToken:r,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Ge(e);l=l?(l+"").toLowerCase():"text";let p,g=Be([i,r&&r.toAbortSignal()],a);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let h;try{if(c&&Xe&&"get"!==t&&"head"!==t&&0!==(h=await(async(e,n)=>{const t=W.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const n=new Request(ve.origin,{method:"POST",body:e});return(await n.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await Je(e)).byteLength:void 0)})(n):t})(u,o))){let e,t=new Request(n,{method:"POST",body:o,duplex:"half"});if(W.isFormData(o)&&(e=t.headers.get("content-type"))&&u.setContentType(e),t.body){const[e,n]=Re(h,Pe(_e(c)));o=$e(t.body,65536,e,n)}}W.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(n,{...f,signal:g,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:o,duplex:"half",credentials:i?d:void 0});let r=await fetch(p);const a=Qe&&("stream"===l||"response"===l);if(Qe&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((n=>{e[n]=r[n]}));const n=W.toFiniteNumber(r.headers.get("content-length")),[t,o]=s&&Re(n,Pe(_e(s),!0))||[];r=new Response($e(r.body,65536,t,(()=>{o&&o(),m&&m()})),e)}l=l||"text";let v=await Ze[W.findKey(Ze,l)||"text"](r,e);return!a&&m&&m(),await new Promise(((n,t)=>{Ae(n,t,{data:v,headers:De.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})}))}catch(n){if(m&&m(),n&&"TypeError"===n.name&&/fetch/i.test(n.message))throw Object.assign(new X("Network Error",X.ERR_NETWORK,e,p),{cause:n.cause||n});throw X.from(n,n&&n.code,e,p)}})};W.forEach(nn,((e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch(e){}Object.defineProperty(e,"adapterName",{value:n})}}));const tn=e=>`- ${e}`,on=e=>W.isFunction(e)||null===e||!1===e,rn=e=>{e=W.isArray(e)?e:[e];const{length:n}=e;let t,o;const i={};for(let r=0;r<n;r++){let n;if(t=e[r],o=t,!on(t)&&(o=nn[(n=String(t)).toLowerCase()],void 0===o))throw new X(`Unknown adapter '${n}'`);if(o)break;i[n||"#"+r]=o}if(!o){const e=Object.entries(i).map((([e,n])=>`adapter ${e} `+(!1===n?"is not supported by the environment":"is not available in the build")));let t=n?e.length>1?"since :\n"+e.map(tn).join("\n"):" "+tn(e[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return o};function an(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ne(null,e)}function sn(e){return an(e),e.headers=De.from(e.headers),e.data=Ue.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rn(e.adapter||ye.adapter)(e).then((function(n){return an(e),n.data=Ue.call(e,e.transformResponse,n),n.headers=De.from(n.headers),n}),(function(n){return qe(n)||(an(e),n&&n.response&&(n.response.data=Ue.call(e,e.transformResponse,n.response),n.response.headers=De.from(n.response.headers))),Promise.reject(n)}))}const cn={};["object","boolean","number","function","string","symbol"].forEach(((e,n)=>{cn[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}}));const ln={};cn.transitional=function(e,n,t){function o(e,n){return"[Axios v1.7.7] Transitional option '"+e+"'"+n+(t?". "+t:"")}return(t,i,r)=>{if(!1===e)throw new X(o(i," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!ln[i]&&(ln[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),!e||e(t,i,r)}};const un={assertOptions:function(e,n,t){if("object"!=typeof e)throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const r=o[i],a=n[r];if(a){const n=e[r],t=void 0===n||a(n,r,e);if(!0!==t)throw new X("option "+r+" must be "+t,X.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new X("Unknown option "+r,X.ERR_BAD_OPTION)}},validators:cn},dn=un.validators;class fn{constructor(e){this.defaults=e,this.interceptors={request:new le,response:new le}}async request(e,n){try{return await this._request(e,n)}catch(e){if(e instanceof Error){let n;Error.captureStackTrace?Error.captureStackTrace(n={}):n=new Error;const t=n.stack?n.stack.replace(/^.+\n/,""):"";try{e.stack?t&&!String(e.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+t):e.stack=t}catch(e){}}throw e}}_request(e,n){"string"==typeof e?(n=n||{}).url=e:n=e||{},n=je(this.defaults,n);const{transitional:t,paramsSerializer:o,headers:i}=n;void 0!==t&&un.assertOptions(t,{silentJSONParsing:dn.transitional(dn.boolean),forcedJSONParsing:dn.transitional(dn.boolean),clarifyTimeoutError:dn.transitional(dn.boolean)},!1),null!=o&&(W.isFunction(o)?n.paramsSerializer={serialize:o}:un.assertOptions(o,{encode:dn.function,serialize:dn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let r=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),n.headers=De.concat(r,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(n)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[sn.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Promise.resolve(n);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let f=n;for(d=0;d<u;){const e=a[d++],n=a[d++];try{f=e(f)}catch(e){n.call(this,e);break}}try{l=sn.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return ce(Ve((e=je(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],(function(e){fn.prototype[e]=function(n,t){return this.request(je(t||{},{method:e,url:n,data:(t||{}).data}))}})),W.forEach(["post","put","patch"],(function(e){function n(n){return function(t,o,i){return this.request(je(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:t,data:o}))}}fn.prototype[e]=n(),fn.prototype[e+"Form"]=n(!0)}));const pn=fn;class gn{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let n;this.promise=new Promise((function(e){n=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let n=t._listeners.length;for(;n-- >0;)t._listeners[n](e);t._listeners=null})),this.promise.then=e=>{let n;const o=new Promise((e=>{t.subscribe(e),n=e})).then(e);return o.cancel=function(){t.unsubscribe(n)},o},e((function(e,o,i){t.reason||(t.reason=new Ne(e,o,i),n(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);-1!==n&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=n=>{e.abort(n)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gn((function(n){e=n})),cancel:e}}}const mn=gn,hn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hn).forEach((([e,n])=>{hn[n]=e}));const vn=hn,wn=function e(n){const t=new pn(n),i=o(pn.prototype.request,t);return W.extend(i,pn.prototype,t,{allOwnKeys:!0}),W.extend(i,t,null,{allOwnKeys:!0}),i.create=function(t){return e(je(n,t))},i}(ye);wn.Axios=pn,wn.CanceledError=Ne,wn.CancelToken=mn,wn.isCancel=qe,wn.VERSION="1.7.7",wn.toFormData=te,wn.AxiosError=X,wn.Cancel=wn.CanceledError,wn.all=function(e){return Promise.all(e)},wn.spread=function(e){return function(n){return e.apply(null,n)}},wn.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},wn.mergeConfig=je,wn.AxiosHeaders=De,wn.formToJSON=e=>we(W.isHTMLForm(e)?new FormData(e):e),wn.getAdapter=rn,wn.HttpStatusCode=vn,wn.default=wn;const Cn=wn;var yn=function(){return localStorage.getItem("utiqStub")};const bn=e=>{try{return atob(e)}catch(n){throw n instanceof DOMException&&"InvalidCharacterError"===n.name?(t.logError(`Value "${e}" is not valid base64`),n):(t.logError(`An error occured when decoding "${e}"`),n)}};var En=function(e){var n=e.name,o=e.value,i=e.days,r=void 0===i?90:i,a=e.path,s=void 0===a?"/":a,c=e.domain,l=void 0===c?"":c;if(!n||null==o||""===o)return"";var u=new Date;u.setTime(u.getTime()+24*r*60*60*1e3);var d=u.toUTCString(),f=s?" path=".concat(s,";"):"",p=l?" domain=".concat(l,";"):"",g="".concat(n,"=").concat(o,"; expires=").concat(d,";").concat(f).concat(p);return t.logDebug("Returning new cookie value: ".concat(g)),g},On=function(e,n){for(var o="".concat(n,"="),i=e.split(";"),r=0,a=i;r<a.length;r++){var s=a[r];try{var c=decodeURIComponent(s);if(c&&c.includes(o)){for(;" "===c.charAt(0);)c=s.substring(1);if(0===c.indexOf(o)){var l=c.substring(o.length,c.length);return t.logDebug("Cookie ".concat(n," found. Value ").concat(l,".")),l}return t.logDebug("Cookie ".concat(n," found, but the value has not been found. Decoded cookie string: ").concat(JSON.stringify(c),".")),""}}catch(e){s.includes(o)&&t.logDebug("Cookie can't be decoded string: ".concat(JSON.stringify(s)," throws the error: ").concat(e))}}return t.logDebug("Decoded cookies string: ".concat(JSON.stringify(i)," does not include ").concat(n," cookie. Returning...")),""};const Tn=(e,n)=>{try{const t=On(e,n);return bn(t)}catch(e){if(e instanceof DOMException&&"InvalidCharacterError"===e.name)return t.logInfo(`Invalid cookie "${n}" is being cleared...`),document.cookie=En({name:n,value:"none",days:0}),t.logInfo(`Cookie "${n}" has been cleared.`),"";throw e}};var Sn,In=new Uint8Array(16);function Dn(){if(!Sn&&!(Sn="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sn(In)}const Un=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var qn=[],kn=0;kn<256;++kn)qn.push((kn+256).toString(16).substr(1));const Nn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(qn[e[n+0]]+qn[e[n+1]]+qn[e[n+2]]+qn[e[n+3]]+"-"+qn[e[n+4]]+qn[e[n+5]]+"-"+qn[e[n+6]]+qn[e[n+7]]+"-"+qn[e[n+8]]+qn[e[n+9]]+"-"+qn[e[n+10]]+qn[e[n+11]]+qn[e[n+12]]+qn[e[n+13]]+qn[e[n+14]]+qn[e[n+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Un.test(e)}(t))throw TypeError("Stringified UUID is invalid");return t},An=function(e,n,t){var o=(e=e||{}).random||(e.rng||Dn)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){t=t||0;for(var i=0;i<16;++i)n[t+i]=o[i];return n}return Nn(o)},Pn="utiq_consent_status",Rn="utiq_consent_version",_n="utiq_consent_version_previous",Ln="utiqEligibility",xn=e=>"string"!=typeof e||""===e?null:`${e}_logging_level`;var Vn={Utiq:"Utiq"};const Fn={onIdsAvailable:{name:"onIdsAvailable",fieldsTemplate:[{key:"mtid",isOptional:!1,type:"string"},{key:"atid",isOptional:!1,type:"string"},{key:"attrid",isOptional:!0,type:"string"},{key:"category",isOptional:!1,type:"string"}]},onConsentUpdateFinished:{name:"onConsentUpdateFinished",fieldsTemplate:[{key:"isConsentGranted",isOptional:!1,type:"boolean"}]},onConsentChanging:{name:"onConsentChanging",fieldsTemplate:[{key:"isConsentGranted",isOptional:!1,type:"boolean"}]},onInitialised:{name:"onInitialised",fieldsTemplate:[]},onEligibilityChecked:{name:"onEligibilityChecked",fieldsTemplate:[{key:"isEligible",isOptional:!1,type:"boolean"}]},onDidomiConsentChanged:{name:"onDidomiConsentChanged",fieldsTemplate:[]},onConsentManagerStatusChanged:{name:"onConsentManagerStatusChanged",fieldsTemplate:[{key:"status",isOptional:!1,type:"string"}]},onFlowCompleted:{name:"onFlowCompleted",fieldsTemplate:[{key:"status",isOptional:!0,type:"string"}]}};var jn=function(e){var n,t,o=null===(t=null===(n=window.Utiq)||void 0===n?void 0:n.config)||void 0===t?void 0:t[{Utiq:"customUtiqHost"}[e]];return null!=o&&""!==o?o:null},Gn=function(e){var n=e.fieldsTemplate,o=void 0===n?[]:n,i=e.validationTargetObject,r=e.logIdentificator;if(!r)return t.logError("Missing log identificator"),{isValid:!1};if(!i)return t.logError("Missing validation target for ".concat(r)),{isValid:!1};if("object"!=typeof i)return t.logError("Wrong type for ".concat(i)),{isValid:!1};if(null===o)return t.logError("Fields template were set to ".concat(o," for ").concat(r," and cannot be validated. Returning with negative validation result...")),{isValid:!1};0===o.length&&t.logDebug("No fields template provided for ".concat(r,". Continuing without fields validation..."));var a=Object.keys(i),s=o.map((function(e){return e.key}));if(!a.every((function(e){return s.includes(e)})))return t.logError("Validation target has more fields than present in ".concat(r," fields template.")),t.logWarn("Validation target keys:",a),t.logWarn("Fields template keys:",s),{isValid:!1};var c=[];try{o.forEach((function(e){if("string"==typeof e.key&&"boolean"==typeof e.isOptional&&"string"==typeof e.type){var n=e.key,t=i[n];null!=t?("array"===e.type?Array.isArray(t):typeof t===e.type&&!Array.isArray(t))||c.push("Field ".concat(e.key," expected type ").concat(e.type,", but got ").concat(typeof i[n]," for ").concat(r)):e.isOptional||c.push("Field ".concat(e.key," is missing for ").concat(r))}else c.push("Field template ".concat(JSON.stringify(e)," is of incorrect format for ").concat(r))}))}catch(e){c.push(e.message)}return c.forEach((function(e){t.logError(e)})),{isValid:0===c.length}};const Mn=(e,n,o={})=>{const i=((e,n)=>{try{return e===Vn.Utiq?Fn[n].fieldsTemplate:(t.logError(`Unrecognized environment ${e} for event ${n}`),null)}catch(e){return t.logError(`Event ${n} is not defined. Make sure that the event name is correct or create a new event with this name`),null}})(n,e),{isValid:r}=Gn({fieldsTemplate:i,validationTargetObject:o,logIdentificator:e});if(r){const i=window.Utiq?.listeners?.[e]||[];if(!Array.isArray(i))return void t.logDebug(`Listeners for ${e} in the ${n} environment are not an array. Cannot publish the event...`);try{i.forEach((e=>{e(o,n)}))}catch(o){t.logDebug(`Error occurred when processing ${e} listeners in the ${n} environment. Description: ${o}.`)}}};var Bn=!1,Hn=function(e,n){var o,i,r,a={Utiq:Fn};if(Array.isArray(e)&&(null===(o=null==e?void 0:e[0])||void 0===o?void 0:o.mtid)&&(null===(i=null==e?void 0:e[0])||void 0===i?void 0:i.atid)){var s=e[0],c=s.mtid,l=s.atid,u=s.attrid,d=s.category;t.logDebug("Dispatching onIdsAvailable event:",JSON.stringify({mtid:c,atid:l,attrid:u,category:d})),t.logInfo("If you are running the Utiq Web SDK from iOS webview, soon ATT will be required to acquire the atid"),Mn(a[n].onIdsAvailable.name,n,{mtid:c,atid:l,attrid:u,category:d}),window.Utiq||(window.Utiq={}),(r=window.Utiq).data||(r.data={}),window.Utiq.data.wereIdsDispatched=!0,Bn||(Bn=!0,Mn(a[n].onFlowCompleted.name,n))}},$n=function(e){return"string"==typeof e&&"localStorage"===e?"localStorage":"sessionStorage"},zn=function(e){return function(n,t){return window[$n(e)].setItem(n,JSON.stringify(t))}},Wn=function(e){return function(n){return JSON.parse(window[$n(e)].getItem(n))}},Jn=function(e){return{set:zn(e),get:Wn(e)}},Kn=function(e){var n,t=Jn(e.IDCONNECT_STORAGE_TYPE).get(e.IDCONNECT_DATA_STORAGE);return null!=t?null===(n=null==t?void 0:t.connectId)||void 0===n?void 0:n.idGraph:null},Yn=function(e,n){var o=function(){return function(e,n){var o=document.createElement("script");o.setAttribute("id","utiq__consent-manager"),t.logTrace("Calling for consent manager origin with params isLocalEnvironment: ".concat(e," and utiqHost: ").concat(n,"..."));var i=((e,n)=>e?window.location.origin:window.Utiq?.config?.consentManagerOrigin?window.Utiq?.config?.consentManagerOrigin:n)(e,n);t.logDebug("Setting consent manager from origin ".concat(i,"...")),o.src="".concat(i,"/utiqConsentManager.js"),document.head.appendChild(o),t.logDebug("Consent manager appended to the document head")}(e,n)};!function(e){var n;window.Utiq||(window.Utiq={}),(n=window.Utiq).API||(n.API={}),window.Utiq.API.showConsentManager=e}(o);var i=Tn(document.cookie,Pn),r=null!==sessionStorage.getItem("utiq_ask_me_later")&&JSON.parse(sessionStorage.getItem("utiq_ask_me_later"));i||r||(t.logInfo("No consent status cookie found. Showing consent manager popup..."),o())},Xn=function(){return Xn=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Xn.apply(this,arguments)},Qn="utiqDataCallTimestamp",Zn="utiq_consent_shown",et=function(){var e,n,o=localStorage;"string"==typeof(null===(e=window.IDCONNECT_CONFIG)||void 0===e?void 0:e.IDCONNECT_STORAGE_TYPE)&&"sessionStorage"===window.IDCONNECT_CONFIG.IDCONNECT_STORAGE_TYPE&&(o=sessionStorage);var i=(null===(n=window.IDCONNECT_CONFIG)||void 0===n?void 0:n.IDCONNECT_DATA_STORAGE)?window.IDCONNECT_CONFIG.IDCONNECT_DATA_STORAGE:"utiqPass";"string"==typeof i&&null!==o.getItem(i)&&o.removeItem(i),null!==localStorage.getItem(Ln)&&localStorage.removeItem(Ln),null!==localStorage.getItem(Qn)&&localStorage.removeItem(Qn),null!==sessionStorage.getItem(Zn)&&sessionStorage.removeItem(Zn),t.logDebug("Cleared IDConnect data from storage")};const nt=e=>{try{return btoa(e)}catch(n){throw n instanceof DOMException&&"InvalidCharacterError"===n.name?(t.logError(`The value ${e} contained a character that could not be encoded`),n):(t.logError(`An error occured when decoding "${e}"`),n)}};var tt=function(e){for(var n="base_domain_verifier_cookie=cookie",o=e.split("."),i="",r=o.length-1;r>=0;r--)if(i=o.slice(r).join("."),document.cookie="".concat(n,";domain=.").concat(i,";"),document.cookie.indexOf(n)>-1)return document.cookie="".concat(n.split("=")[0],"=;domain=.").concat(i,";expires=Thu, 01 Jan 1970 00:00:01 GMT;"),i;return t.logDebug("Not able to get the base domain of the provided URL: ".concat(e," relatively to the current host")),e.replace("https://utiq.","").replace("https://","").replace("https://utiq-test.","")},ot=function(e,n){t.logInfo("Data clear request made. Clearing the Utiq data..."),!!e&&"false"===e||(document.cookie=En({name:Pn,value:nt(!1),days:180,domain:tt(window.location.hostname)}),Mn(Fn.onConsentUpdateFinished.name,Vn.Utiq,{isConsentGranted:!1})),document.cookie=En({name:Rn,value:nt(!1),days:0,domain:tt(window.location.hostname)}),document.cookie=En({name:_n,value:nt(!1),days:0,domain:tt(window.location.hostname)}),et();var o=xn(n.toLowerCase()),i=Tn(document.cookie,o);i&&"verbose"===i&&(document.cookie=En({name:o,value:nt("info"),days:0}))};const it=[{key:"listeners",isOptional:!0,type:"object"},{key:"customUtiqHost",isOptional:!0,type:"string"},{key:"consentManagerOrigin",isOptional:!0,type:"string"},{key:"oncePerTimeInterval",isOptional:!0,type:"number"},{key:"customizationOptions",isOptional:!0,type:"object"},{key:"getNewConsentBeforeExpiry",isOptional:!0,type:"boolean"}],rt=[{key:"utiqHost",isOptional:!1,type:"string"},{key:"apiPath",isOptional:!1,type:"string"},{key:"oncePerSession",isOptional:!1,type:"boolean"}],at={name:"Optanon",fieldsTemplate:[{key:"CMP",isOptional:!1,type:"string"},{key:"useGroups",isOptional:!0,type:"boolean"},{key:"OptanonDelay",isOptional:!1,type:"number"},{key:"cmpUtiqPurposeId",isOptional:!1,type:"string"},{key:"cmpUtiqVendorId",isOptional:!1,type:"string"},...rt,...it],groupsString:"groups",vendorsString:"genVendors",cookieName:"OptanonConsent"},st={name:"TCF",fieldsTemplate:[{key:"CMP",isOptional:!1,type:"string"},{key:"tcfPurposes",isOptional:!1,type:"array"},{key:"tcfVendors",isOptional:!1,type:"array"},{key:"tcfApiMaxDelay",isOptional:!1,type:"number"},{key:"tcfApiTimeStep",isOptional:!1,type:"number"},...rt,...it],events:{loaded:"tcloaded",complete:"useractioncomplete"},apiCommands:{data:"getTCData",listener:"addEventListener",customConsent:"getCustomVendorConsents"}},ct={name:"Sourcepoint",fieldsTemplate:[{key:"CMP",isOptional:!1,type:"string"},{key:"tcfPurposes",isOptional:!1,type:"array"},{key:"tcfVendors",isOptional:!1,type:"array"},{key:"tcfCustomPurposes",isOptional:!1,type:"array"},{key:"tcfCustomVendors",isOptional:!1,type:"array"},{key:"tcfApiMaxDelay",isOptional:!1,type:"number"},{key:"tcfApiTimeStep",isOptional:!1,type:"number"},...rt,...it]},lt={name:"Usercentrics",fieldsTemplate:[{key:"CMP",isOptional:!1,type:"string"},{key:"localStorageKey",isOptional:!1,type:"string"},{key:"consentIndex",isOptional:!1,type:"number"},...rt,...it],event:{type:"ucEvent",name:"consent_changed"}},ut={name:"Didomi",fieldsTemplate:[{key:"CMP",isOptional:!1,type:"string"},{key:"didomiUtiqPurposeId",isOptional:!1,type:"string"},{key:"didomiUtiqVendorId",isOptional:!1,type:"string"},...rt,...it]},dt={name:"Custom",fieldsTemplate:[{key:"CMP",isOptional:!0,type:"string"},{key:"consentManagerDataLayer",isOptional:!0,type:"boolean"},...rt,...it]},ft="true",pt="false",gt="accepted",mt="rejected";var ht=function(e){var n=-1!==e.lastIndexOf(".")?e.lastIndexOf("."):e.length,o=Number(e.substring(e.indexOf("v")+1,n))||null,i=Number(e.split(".")[1])||null;return null===o&&t.logDebug("Major version cannot be read from version string:",e),null===i&&t.logDebug("Minor version cannot be read from version string:",e),{majorVersion:o,minorVersion:i}},vt=[1,2,3],wt=function(e,n){var t;if(""===e||"null"===e||"undefined"===e){if("string"!=typeof n)return;n&&(t=ht(n).majorVersion)}else{if(!vt.includes(Number(e)))return;t=Number(e)}return t};const Ct=({hostname:e,processConsentChange:n,isConsentGranted:o,getValidatedBase64Cookie:i})=>{if("boolean"!=typeof o)return void t.logError("Custom CMP - Consent value dispatched with custom CMP event is not a boolean value");const r=i(document.cookie,Rn),a=i(document.cookie,_n);t.logDebug(`Processing custom consent value of ${o}...`),t.logDebug(`Value of consentVersionCookie is ${r}.`),t.logDebug(`Value of consentVersionPreviousCookie is ${a}.`);const s=wt(r,window.Utiq?.data?.popupContent?.version),c=wt(a,window.Utiq?.data?.popupContent?.versionPrevious);n(o,{[e]:{name:"customConsent",value:"utiqConsent",consentParsed:o?"general:1":"general:0",consentState:o?gt:mt,consentVersion:s,consentVersionPrevious:c}})};var yt=function(e){var n=e.hostname,o=e.processConsentChange,i=e.config,r=e.consentVersion,a=e.consentVersionPrevious;window.didomiOnReady||(window.didomiOnReady=[]),window.didomiOnReady.push((function(e){var s,c=e.getUserConsentStatusForPurpose(i.didomiUtiqPurposeId),l=e.getUserConsentStatusForVendor(i.didomiUtiqVendorId),u=Boolean(c&&l);t.logDebug("Processing Didomi consent value of ".concat(u,"...")),o(u,((s={})[n]={name:"didomiConsent",value:"purposeConsent=".concat(c,";vendorConsent=").concat(l),consentParsed:u?ft:pt,consentState:u?gt:mt,consentVersion:r,consentVersionPrevious:a},s))})),t.logDebug("Consent processing attached to Didomi SDK didomiOnReady function...")},bt=function(e,n,t){window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((function(o){var i=o.openTransaction();e?(i.enablePurpose(n),i.enableVendor(t)):(i.disablePurpose(n),i.disableVendor(t)),i.commit()}))};const Et=e=>{__tcfapi(st.apiCommands.data,2,e)},Ot=e=>{__tcfapi(st.apiCommands.customConsent,2,e)},Tt=({tcfCustomPurposes:e,purposeGrants:n})=>{for(const t of e)if(!n[t])return!1;return!0},St=({tcData:e,type:n,idsArray:o})=>(({tcData:e,type:n,idsArray:o})=>n?e[n]?.consents?Array.isArray(o)?!!o.length||(t.logWarn(`validateTcfData: IDs array of type ${n} is empty`),!1):(t.logWarn(`validateTcfData: Missing IDs array of type ${n}`),!1):(t.logWarn(`validateTcfData: tcData["${n}"].consents is missing or not defined`),!1):(t.logWarn("validateTcfData: missing type"),!1))({tcData:e,type:n,idsArray:o})?!o.some((t=>!e[n].consents[t])):(t.logDebug("TCF data validation failed"),!1),It=({hostname:e,readCookie:n,processConsentChange:o,config:i,tcData:r,consentVersion:a,consentVersionPrevious:s})=>{let c=St({tcData:r,type:"purpose",idsArray:i.tcfPurposes});c&&(c=St({tcData:r,type:"vendor",idsArray:i.tcfVendors}));const l=i.tcfPurposes.map((e=>(r?.purpose?.consents?.[e],`${e}:0`))).join(",");t.logDebug(`Processing TCF consent value of ${c}...`),o(c,{[e]:{name:i.cookieName||"tcString",value:i.cookieName?n(document.cookie,i.cookieName):r.tcString,consentParsed:l,consentState:c?gt:mt,consentVersion:a,consentVersionPrevious:s}})},Dt=({hostname:e,readCookie:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a})=>{let s=0;if("function"!=typeof __tcfapi)return void(s<i.tcfApiMaxDelay?(s+=i.tcfApiTimeStep,setTimeout((()=>Dt(i)),i.tcfApiTimeStep)):t.logError(`No __tcfapi available after two tries with ${i.tcfApiMaxDelay}ms timeout`));const c=(({tcfCustomVendors:e,tcfCustomPurposes:n})=>(t,o)=>(i,r)=>{if(!r)return void o(new Error("getCustomVendorConsents call was unsuccessful"));const{grants:a}=i,s=(({tcfCustomVendors:e,tcfCustomPurposes:n,grants:t})=>{for(const o of e)return!!t[o]?.vendorGrant&&Tt({tcfCustomPurposes:n,purposeGrants:t[o].purposeGrants});return!0})({tcfCustomVendors:e,tcfCustomPurposes:n,grants:a});t(s?"Sourcepoint custom vendors consent granted":"Sourcepoint custom vendors consent was not granted")})({tcfCustomVendors:i.tcfCustomVendors,tcfCustomPurposes:i.tcfCustomPurposes}),l=(({hostname:e,readCookie:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a,command:s,commandCallback:c})=>(l,u)=>{u&&(i.CMP===ct.name?new Promise(((e,n)=>{s(c(e,n))})).then((s=>{t.logDebug(`Command callback returned: ${s}`),It({hostname:e,readCookie:n,processConsentChange:o,config:i,tcData:l,consentVersion:r,consentVersionPrevious:a})})).catch((e=>t.logError(e))):It({hostname:e,readCookie:n,processConsentChange:o,config:i,tcData:l,consentVersion:r,consentVersionPrevious:a}))})({hostname:e,readCookie:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a,command:Ot,commandCallback:c}),u=(({readCookie:e,config:n,command:o,commandCallback:i})=>(r,a)=>{t.logDebug(`TCF addEventListener - ${r.eventStatus}`);const s=Boolean(n.cookieName&&e(document.cookie,n.cookieName)||r.tcString);r.eventStatus===st.events.loaded&&a&&s?o(i):r.eventStatus===st.events.complete&&a&&setTimeout((()=>{o(i)}),10)})({readCookie:n,config:i,command:Et,commandCallback:l});(e=>{__tcfapi(st.apiCommands.listener,2,e)})(u)};var Ut=function(){var e,n,t,o=null===(t=null===(n=null===(e=window.Optanon)||void 0===e?void 0:e.GetDomainData)||void 0===n?void 0:n.call(e))||void 0===t?void 0:t.GeneralVendors;return Array.isArray(o)&&o.length>0},qt=function(e){var n,o=e.cookie,i=e.purposeId,r=e.vendorId,a=!!(null==(n=new URLSearchParams(o).get(at.groupsString))?void 0:n.includes("".concat(i,":1")))||!(null==n?void 0:n.includes("".concat(i,":0")))&&null;t.logDebug("Purpose consent status:",a);var s=function(){if(!Ut())return t.logDebug("Vendors are disabled. Vendor consent is being defaulted to accepted state..."),!0;var e=new URLSearchParams(o).get(at.vendorsString);return!!(null==e?void 0:e.includes("".concat(r,":1")))||!(null==e?void 0:e.includes("".concat(r,":0")))&&null}();t.logDebug("Vendor consent status:",s);var c=null===a||null===s?null:a&&s;return t.logDebug("Computed consent status:",c),{isConsentGranted:c}},kt=function(e){var n=e.hostname,o=e.readCookie,i=e.processConsentChange,r=e.config,a=e.consentVersion,s=e.consentVersionPrevious,c=o(document.cookie,at.cookieName);t.logInfo("Processing OptanonConsent cookie with value: ",{cookie:c});var l=Boolean(window.Optanon)?0:200;setTimeout((function(){var e,t=(c?qt({cookie:c,purposeId:r.cmpUtiqPurposeId,vendorId:r.cmpUtiqVendorId}):{isConsentGranted:!1}).isConsentGranted;i(t,((e={})[n]={name:"optanonConsent",value:"optanonConsent=".concat(t),consentParsed:"".concat(r.cmpUtiqPurposeId,t?":1":":0"),consentState:t?gt:mt,consentVersion:a,consentVersionPrevious:s},e))}),l)},Nt="consent.onetrust";const At=({hostname:e,processConsentChange:n,config:o,consentVersion:i,consentVersionPrevious:r})=>{const a=JSON.parse(localStorage.getItem(o.localStorageKey))?.consents;if(!a)return void t.logError("Usercentrics - Consent value is not saved to local storage");const s=a[o.consentIndex].consentStatus;t.logDebug(`Processing UserCentrics consent value of ${s}...`),n(s,{[e]:{name:o.localStorageKey,value:`consents[${o.consentIndex}]`,consentParsed:s?ft:pt,consentState:s?gt:mt,consentVersion:i,consentVersionPrevious:r}})},Pt=(e=!1)=>{if(!0===e)return 0;const n=window.Utiq?.config?.connectionEligibilityRetryInterval;return 6e4*(Number.isInteger(n)&&n>=0?n:2)};var Rt=function(e){var n,o,i=null===(n=window.Utiq)||void 0===n?void 0:n.transactionId;if(i){var r=e.includes("?")?"&":"?";return"".concat(e).concat(r,"transactionId=").concat(i).concat((o=yn())?"&x-cryptip=".concat(o):"")}return t.logDebug("No transactionId found in Utiq namespace. Returning original URL..."),e},_t=function(e){var n,o,i,r,a=e.utiqHost,s=e.retryInterval,c=e.ignoreInterval,l=void 0!==c&&c,u=e.eligibilityCheckTrigger,d=void 0===u?"unspecified":u;return n=void 0,o=void 0,r=function(){var e,n,o,i,r,c,u,f,p,g,m,h,v,w;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(C){switch(C.label){case 0:if(e=JSON.parse(localStorage.getItem(Ln)),n=null==e?void 0:e.retryEligibilityCheckTime,!(l||!e||"number"==typeof n&&n<Date.now()))return[3,5];if(o=function(e){var n=e.split("://");if(!Array.isArray(n)||2!==n.length)return t.logError("Incorrect URI provided: ".concat(e)),{protocol:null,domain:null,path:null};var o=n[0],i=n[1].split("/");return Array.isArray(i)&&""!==i[0]?{protocol:o,domain:i[0],path:i[1]?i.slice(1).join("/"):null}:(t.logError("Incorrect URI provided: ".concat(e)),{protocol:o,domain:null,path:null})}("".concat(a,"/op/idconnect")),i=o.protocol,r=o.domain,c=o.path,u=e?"":"&initial=true",!i||!r||!c)return t.logError("Data missing from Utiq host - protocol: ".concat(i,", domain: ").concat(r,", path: ").concat(c)),[2,e];f=!1,p=Rt("".concat(i,"://").concat(r,"/").concat(c,"/mno-precheck?type=").concat(d).concat(u)),C.label=1;case 1:return C.trys.push([1,3,4,5]),[4,Cn({method:"get",url:p,timeout:4e3})];case 2:return 200===(null==(g=C.sent())?void 0:g.status)&&"ok"===(null===(w=null==g?void 0:g.data)||void 0===w?void 0:w.status)&&(f=!0),[3,5];case 3:return m=C.sent(),t.logError(m),[3,5];case 4:return t.logInfo(f?"Successful mno-precheck call for an eligible connection...":"Failed mno-precheck call for not eligible connection..."),h=Number.isInteger(s)&&s>=0,v=h?s:12e4,e={isEligible:f,eligibilityCheckTime:Date.now(),retryEligibilityCheckTime:f?null:Date.now()+v},[7];case 5:return[2,e]}}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}))};const Lt=({connectionEligibilityData:e,onEligibilityCheckedCallback:n})=>{"object"==typeof e&&e!=={}&&"boolean"==typeof e.isEligible&&(localStorage.setItem(Ln,JSON.stringify(e)),t.logInfo(`Written new ${Ln} local storage entry: ${JSON.stringify(e)}`),"function"==typeof n&&n(e.isEligible))},xt=async({utiqHost:e,onEligibilityCheckedCallback:n,eligibilityCheckTrigger:o="unspecified",ignoreInterval:i=!1})=>{const r=await _t({utiqHost:e,retryInterval:Pt(i),ignoreInterval:i,eligibilityCheckTrigger:o}),a=Boolean(r?.isEligible);return t.logDebug(`Eligibility check done. Connection eligible: ${a}`),Lt({connectionEligibilityData:r,onEligibilityCheckedCallback:n}),a},Vt=({payload:e,config:n,environment:o})=>{Object.keys(e).forEach((n=>{void 0!==e[n].value&&e[n].value||delete e[n]})),Object.keys(e).length<1?t.logError("Consent payload had no defined entries. Consent call will not be made."):(async({consentUrl:e,payload:n})=>{await Cn({method:"post",url:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:4e3}).catch((e=>{t.logError("Error occurred on idConnect consent call")}))})({consentUrl:Rt(`${n.utiqHost}${n.apiPath}`),payload:e}).then((()=>{const e=Tn(document.cookie,Pn);"false"===e&&(async e=>{const n=Rt(`${e}/op/idconnect/data`);return(await Cn({method:"get",url:n,withCredentials:!0,timeout:4e3}).catch((e=>{t.logError("Error occurred on data call: ",e)}))).status})(n.utiqHost).then((n=>{if(204===n)try{t.logInfo("Received clear signal from the API call. Clearing the Utiq data..."),ot(e,o)}catch(e){t.logError(`Clearing Utiq data failed. Reason: ${e.message}`)}}))}))};var Ft=function(e){var n=e.split("://"),t=n[0]||null,o=n[1]?n[1].split("/"):null;return{protocol:t,domain:o[0]||null,path:o[1]?o.slice(1).join("/"):null}},jt=function(e,n){"function"==typeof e&&e(n)},Gt={},Mt=function(e){var n=e.iFrameUrl,o=e.iFrameId,i=void 0===o?"GENERIC":o,r=e.isSrcDocUsed,a=void 0!==r&&r,s=e.suppressTransactionId;if(n){var c=void 0!==s&&s?n:Rt(n),l=a?"src":"srcdoc",u=i;Gt[u]?(a?Gt[u].srcdoc=n:Gt[u].src=c,Gt[u].removeAttribute(l)):Gt[u]=function(e,n,t){if(document.body){var o=document.body.appendChild(document.createElement("div"));o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="1px",o.style.height="1px",o.style.display="none";var i=function(e,n,t){var o=document.createElement("iframe");return o.setAttribute("id",n),t?o.setAttribute("srcdoc","".concat(e)):o.setAttribute("src","".concat(e)),o.setAttribute("frameborder","0"),o.setAttribute("height","1"),o.setAttribute("width","1"),o}(e,n,t);return o.appendChild(i),i}}(a?n:c,i,a)}else t.logError("Missing iframe URL. Unable to create iFrame for ID ".concat(i))},Bt=function(){var e={isEligible:!1,eligibilityCheckTime:Date.now(),retryEligibilityCheckTime:Date.now()+6048e5};Lt({connectionEligibilityData:e,onEligibilityCheckedCallback:function(e){return Mn(Fn.onEligibilityChecked.name,Vn.Utiq,{isEligible:e})}}),t.logError("Telco identification call failed. Identification will be checked again in 7 days...")},Ht=function(){var e=["https://service.test.utiq-aws.net","https://service.utiq.com"].includes(window.Utiq.config.customUtiqHost),n=Ft(window.location.href).path;return e&&"pages/troubleshooting"===n},$t=function(e,n){return!!(null==e?void 0:e.isTroubleShooting)&&(t.logDebug("troubleshooting flow detected on template handler ".concat(n,", no data will be returned")),Mn(Fn.onFlowCompleted.name,Vn.Utiq,{status:n}),!0)},zt=function(e,n,o){var i,r,a;if(e)return t.logDebug("Custom Utiq host config entry detected. Utiq host: ".concat(e)),e;var s="utiq";n?s="utiq-test":(null===(i=window.IDCONNECT_CONFIG)||void 0===i?void 0:i.IDCONNECT_API_HOST)&&"string"==typeof(null===(r=window.IDCONNECT_CONFIG)||void 0===r?void 0:r.IDCONNECT_API_HOST)&&0===(null===(a=window.IDCONNECT_CONFIG)||void 0===a?void 0:a.IDCONNECT_API_HOST.indexOf("https://tmi."))&&(s="tmi");var c="https://".concat(s,".").concat(o);return t.logDebug("Extracted Utiq host: ".concat(c)),c},Wt=function(){var e=window.location.origin.includes("http://")&&window.location.origin.includes(":8080");t.logDebug("Is this a local environment origin: ".concat(e));var n=window.location.origin.includes("//utiq-test.")||e;t.logDebug("Is this a local or UAT environment the origin: ".concat(n));var o=new URLSearchParams(window.location.search).get("host");t.logDebug("URL parameter host: ".concat(o));var i=jn(Vn.Utiq),r=tt(i||window.location.hostname),a=n&&o?o:r;return t.logDebug("Extracted host: ".concat(a)),{host:a,isLocalEnvironment:e,isLocalOrUatEnvironment:n,utiqHost:zt(i,n,r)}},Jt=function(e,n){return o=void 0,i=void 0,a=function(){var o,i,r,a;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){switch(s.label){case 0:o=window.location.origin.includes("http://")&&window.location.origin.includes(":8080"),i=o?window.location.origin:e,r=i+function(e){var n="/".concat(e.type),t="/".concat(e.filename);switch(e.type){case"translations":var o=e.version?e.version:"v1";return n+"/".concat(o)+"/".concat(e.language)+t;case"templates":return"/domains"+"/".concat(e.host.replaceAll(".","-"))+t;case"pages":var i=e.version?e.version:"v1";return n+"/".concat(i)+"/".concat(e.language)+t;default:return n+t}}(n),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Cn.get(r,{method:"get",url:r,timeout:4e3})];case 2:return[2,s.sent().data];case 3:return a=s.sent(),t.logError("Error occurred on content request: ",a),[3,4];case 4:return[2,null]}}))},new((r=void 0)||(r=Promise))((function(e,n){function t(e){try{c(a.next(e))}catch(e){n(e)}}function s(e){try{c(a.throw(e))}catch(e){n(e)}}function c(n){var o;n.done?e(n.value):(o=n.value,o instanceof r?o:new r((function(e){e(o)}))).then(t,s)}c((a=a.apply(o,i||[])).next())}));var o,i,r,a},Kt=function(e){var n,o,i,r,a=e.host,s=e.isLocalOrUatEnvironment;return n=void 0,o=void 0,r=function(){var e,n,o,i,r,c,l,u;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(d){switch(d.label){case 0:return"object"==typeof(null===(r=null===(i=null===window||void 0===window?void 0:window.Utiq)||void 0===i?void 0:i.data)||void 0===r?void 0:r.popupContent)&&(null===(l=null===(c=null===window||void 0===window?void 0:window.Utiq)||void 0===c?void 0:c.data)||void 0===l?void 0:l.popupContent.length)>0?[2,window.Utiq.data.popupContent]:(e=function(e){return e?"https://utiq-http-resources.test.utiq-aws.net":"https://utiqcontent.com"}(s),[4,Jt(e,{type:"templates",filename:"templateData.json",host:a})]);case 1:return n=d.sent(),window.Utiq||(window.Utiq={}),(u=window.Utiq).data||(u.data={}),n?(window.Utiq.data.popupContent=n,[3,4]):[3,2];case 2:return t.logInfo("Template not found. Requesting the default Utiq consent manager template..."),[4,Jt(e,{type:"templates",filename:"templateData.json",host:"default"})];case 3:(o=d.sent())?window.Utiq.data.popupContent=o:(t.logInfo("Default template not found. Setting the placeholder Utiq consent manager template..."),window.Utiq.data.popupContent={websiteLogoFilename:"",defaultCountryCode:"en",website:"[INSERT WEBSITE]",groupCompanyName:"[INSERT GROUP COMPANY NAME]",colorTheme:"default"}),d.label=4;case 4:return[2,window.Utiq.data.popupContent]}}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}))},Yt=function(e,n){return o=void 0,i=void 0,a=function(){var o,i,r,a,s,c,l,u,d,f,p,g,m,h,v,w,C,y;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(b){switch(b.label){case 0:return t.logDebug("Config entry getNewConsentBeforeExpiry set to:",null===(u=null===(l=null===window||void 0===window?void 0:window.Utiq)||void 0===l?void 0:l.config)||void 0===u?void 0:u.getNewConsentBeforeExpiry),!1===(null===(f=null===(d=null===window||void 0===window?void 0:window.Utiq)||void 0===d?void 0:d.config)||void 0===f?void 0:f.getNewConsentBeforeExpiry)?[2,{shouldStopFlow:!1}]:Array.isArray(null==e?void 0:e.idGraph)?(t.logDebug("idGraph present. No reprompt will be issued"),[2,{shouldStopFlow:!1}]):(o=Jn(n.IDCONNECT_STORAGE_TYPE).get(n.IDCONNECT_DATA_STORAGE))&&o.connectId&&Array.isArray(o.connectId.idGraph)&&o.connectId.idGraph.length>0&&"mobile"==o.connectId.idGraph[0].category?(t.logDebug("idGraph is not present in the response connectId and the current idGraph has mobile category. Proceeding with further checks..."),""!=(i=Tn(document.cookie,"utiq_consent_version"))?[3,2]:(r=Wt(),a=r.host,s=r.isLocalOrUatEnvironment,[4,Kt({host:a,isLocalOrUatEnvironment:s})])):[3,4];case 1:return c=b.sent(),"number"==typeof Number(c.versionPrevious)&&Number(c.versionPrevious)>=3?(t.logDebug("Consent version cookie is not present, but the template data versionPrevious is ".concat(c.versionPrevious,". Continuing the flow without the reprompt...")),[2,{shouldStopFlow:!1}]):(t.logDebug("No consent version cookie present with versionPrevious ".concat(c.versionPrevious,". Clearing the data and showing the consent manager...")),"function"==typeof(null===(g=null===(p=window.Utiq)||void 0===p?void 0:p.API)||void 0===g?void 0:g.handleDataClear)&&window.Utiq.API.handleDataClear(),"function"==typeof(null===(h=null===(m=window.Utiq)||void 0===m?void 0:m.API)||void 0===h?void 0:h.showConsentManager)&&window.Utiq.API.showConsentManager(),[2,{shouldStopFlow:!0}]);case 2:return"number"==typeof Number(i)&&Number(i)>=3?[2,{shouldStopFlow:!1}]:(t.logDebug("Consent version cookie is v1 or v2. Clearing the data and showing the consent manager..."),"function"==typeof(null===(w=null===(v=window.Utiq)||void 0===v?void 0:v.API)||void 0===w?void 0:w.handleDataClear)&&window.Utiq.API.handleDataClear(),"function"==typeof(null===(y=null===(C=window.Utiq)||void 0===C?void 0:C.API)||void 0===y?void 0:y.showConsentManager)&&window.Utiq.API.showConsentManager(),[2,{shouldStopFlow:!0}]);case 3:return[3,5];case 4:return t.logDebug("Current utiqPass data is not suitable for consent reprompt. Continuing with the flow..."),[2,{shouldStopFlow:!1}];case 5:return[2]}}))},new((r=void 0)||(r=Promise))((function(e,n){function t(e){try{c(a.next(e))}catch(e){n(e)}}function s(e){try{c(a.throw(e))}catch(e){n(e)}}function c(n){var o;n.done?e(n.value):(o=n.value,o instanceof r?o:new r((function(e){e(o)}))).then(t,s)}c((a=a.apply(o,i||[])).next())}));var o,i,r,a},Xt=function(e){var n,o,i,r,a=e.idConnectConfig,s=e.msg,c=e.idConnectConfiguration,l=e.environment;return n=void 0,o=void 0,r=function(){var e,n,o,i,r,u,d;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(f){switch(f.label){case 0:return t.logDebug("Received Utiq data call message with ".concat(JSON.stringify(s))),"DONE"!==s.status?(t.logDebug("Message status different than DONE. Status: ".concat(s.status)),t.logDebug("Stopping the calls flow..."),[2]):(e=s.body)?(n=e.data,a.connectId=n,[4,Yt(n,c)]):(t.logDebug("Message body is not present. Terminating the flow..."),[2]);case 1:return f.sent().shouldStopFlow?[2]:(n&&!function(e,n){if(Array.isArray(null==e?void 0:e.consents))return!0;var t=Jn(n.IDCONNECT_STORAGE_TYPE).get(n.IDCONNECT_DATA_STORAGE);return!!(t&&t.connectId&&Array.isArray(t.connectId.consents)&&t.connectId.consents.length>0&&t.connectId.consents[0].domain&&t.connectId.consents[0].name&&t.connectId.consents[0].value)}(n,c)&&"function"==typeof(null===(u=null===(r=window.Utiq)||void 0===r?void 0:r.functions)||void 0===u?void 0:u.dispatchConsentCall)&&window.Utiq.functions.dispatchConsentCall(),a.connectId.value||t.logDebug("connectId value is not present for data message handler..."),n&&!function(e,n){if(Array.isArray(null==e?void 0:e.idGraph))return!0;var t=Jn(n.IDCONNECT_STORAGE_TYPE).get(n.IDCONNECT_DATA_STORAGE);return!!(t&&t.connectId&&Array.isArray(t.connectId.idGraph)&&t.connectId.idGraph.length>0&&t.connectId.idGraph[0].domain&&t.connectId.idGraph[0].mtid&&t.connectId.idGraph[0].atid)}(n,c)&&(null===(d=a.connectId)||void 0===d?void 0:d.value)?((p=Ht())&&t.logDebug("troubleshooting service url detected, no data will be returned"),o=p?"&diagnostic=true":"",i="".concat(a.protocol,"://")+"".concat(a.domain,"/").concat(a.path,"/mno-selector")+"?d=".concat(new URL(c.IDCONNECT_API_HOST).hostname).concat(o),Mt({iFrameUrl:i,iFrameId:"MNOSELECTOR",environment:l}),[2]):(function(e){var n={connectId:e.connectId,ids:{source:{connectId:e.connectId,domain:e.domain,umdid:e.umdid,originalUmdidCookie:e.originalUmdidCookie,dataOriginalUmdidCookie:e.dataOriginalUmdidCookie},target:{connectId:null,domain:null,umdid:null,umdidCookie:null}}};if(Array.isArray(e.connectId.idGraph))for(var t=0,o=e.connectId.idGraph;t<o.length;t++)void 0!==o[t].mtid&&(n.connectStatus="OK");jt(e.callbackSuccess,n)}(a),[2]))}var p}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}))},Qt=Object.freeze({OK:200,Found:302,TemporaryRedirect:307}),Zt=Object.freeze({Stub:"stub",MspProxy:"mspProxy",UtiqCrossDomain:"utiqCrossDomain",Token:"token",Saml:"saml"}),eo="Verify origin:",no=function(e){var n=e.idConnectConfig,o=e.environment,i=e.callbackSuccess,r=e.idConnectConfiguration;(function(e){var n,t,o=Jn(e.IDCONNECT_STORAGE_TYPE).get(e.IDCONNECT_DATA_STORAGE),i=Jn(e.IDCONNECT_STORAGE_TYPE).get(e.IDCONNECT_DATA_STORAGE);return(null==i?void 0:i.umid)&&(null===(t=null===(n=null==o?void 0:o.ids)||void 0===n?void 0:n.target)||void 0===t?void 0:t.umdid)?nt("".concat(o.ids.target.umdid,"|").concat(i.umid,"|1")):null})(r)||(t.logDebug("Setting initial ID Connect callbacks, listeners and data call"),n.callbackSuccess=i,void 0!==window.Utiq.idConnectMessageListener&&(t.logDebug("IDconnect data call listener already defined. Removing the listener..."),window.removeEventListener("message",window.Utiq.idConnectMessageListener)),"Utiq"===o&&"utiq"===r.IDCONNECT_TYPE&&(t.logDebug("Recreating IDconnect data call listener..."),window.Utiq.idConnectMessageListener=function(e){var n=e.idConnectConfig,o=e.idConnectConfiguration,i=e.environment;return function(e){t.logDebug("Message is being handled");var r=o.IDCONNECT_DOMAIN_STORAGE_TRANSLATION&&o.IDCONNECT_DOMAIN_STORAGE_TRANSLATION[n.mnoSelectorDomain]?o.IDCONNECT_DOMAIN_STORAGE_TRANSLATION[n.mnoSelectorDomain]:n.mnoSelectorDomain;if(function(e){var n=e.origin,o=e.domain,i=e.mnoSelectorDomain,r=e.protocol,a=Boolean(n),s=window.location.origin===n,c=!!o&&"".concat(r,"://").concat(o)===n,l=!!i&&"".concat(r,"://").concat(i)===n;t.logDebug(eo,"Origin ".concat(n," is defined -> ").concat(a)),t.logDebug(eo,"Current domain to verify: ".concat(window.location.origin," -> ").concat(s)),t.logDebug(eo,"IdConnect domain to verify: ".concat(o," -> ").concat(c)),t.logDebug(eo,"MNO domain to verify: ".concat(i," -> ").concat(l));var u=a&&(s||c||l);return t.logDebug("Origin is verified - ".concat(u)),u}({origin:e.origin,domain:n.domain,mnoSelectorDomain:r,protocol:n.protocol}))if(null==e?void 0:e.data){var a;try{a=JSON.parse(e.data)}catch(e){return void t.logDebug("Error when parsing event message: ".concat(e))}if(a.msgType)switch(a.msgType){case"GETDATA":!function(e){var n=e.idConnectConfig,o=e.msg,i=e.idConnectConfiguration,r=e.environment;t.logDebug("Received data call message with ".concat(JSON.stringify(o))),"utiq"===i.IDCONNECT_TYPE?Xt({idConnectConfig:n,msg:o,idConnectConfiguration:i,environment:r}):t.logWarn("Cannot call getDataMessageUtiq due to environment ".concat(r," and IDCONNECT_TYPE ").concat(i.IDCONNECT_TYPE," "))}({idConnectConfig:n,msg:a,idConnectConfiguration:o,environment:i});break;case"CONNECT":!function(e){var n,o,i=e.idConnectConfig,r=e.msg,a=e.event,s=e.idConnectConfiguration,c=e.environment;switch(t.logDebug("Received connect call message with ".concat(JSON.stringify(r))),r.status){case"SEND":var l={msgType:"CONNECT",status:"EXCHANGE",data:{transactionId:i.transactionId,connectId:i.connectId.value,connectDomain:i.connectId.domain,umdid:i.umdid}};a.source.postMessage(JSON.stringify(l),"*");break;case"NOUMDID":var u={connectId:i.connectId,ids:{source:{connectId:i.connectId,domain:i.domain,umdid:i.umdid,originalUmdidCookie:i.originalUmdidCookie,dataOriginalUmdidCookie:i.dataOriginalUmdidCookie},target:{connectId:null,domain:null,umdid:null,umdidCookie:null}},connectStatus:"NOUMDID"};jt(i.callbackSuccess,u);break;case"DONE":if(c===Vn.Utiq&&"NotCreated"===(null===(o=null===(n=null==r?void 0:r.body)||void 0===n?void 0:n.status)||void 0===o?void 0:o.StatusC1)){if($t(r,"error"))return;return void Bt()}if(s.IDCONNECT_ALLOW_TOKEN_DATA_CALL&&s.IDCONNECT_ALLOW_TOKEN_DATA_CALL_COUNTER&&i.dataCallCounter<=s.IDCONNECT_ALLOW_TOKEN_DATA_CALL_COUNTER){i.dataCallCounter++;var d="".concat(i.protocol,"://").concat(i.domain,"/")+"".concat(i.path,"/data");Mt({iFrameUrl:d,iFrameId:"GETDATA",environment:c})}r.body.ids.source.originalUmdidCookie=i.originalUmdidCookie;var f={connectId:i.connectId,ids:r.body.ids,connectStatus:r.body.status.StatusC1};jt(i.callbackSuccess,f);break;case"ERROR":if(c===Vn.Utiq){if($t(r,"error"))return;Bt()}break;case"NOLOCALSTORAGEACCESS":return;default:t.logError("Unsupported connect message status: ".concat(r.status,". Stopping the flow..."))}}({idConnectConfig:n,msg:a,event:e,idConnectConfiguration:o,environment:i});break;case"MNOSELECTOR":!function(e,n,o,i){var r;if(n.body)if(Array.isArray(o.IDCONNECT_ALLOWED_USE_CASES))if(o.IDCONNECT_ALLOWED_USE_CASES.includes(n.body.useCase))if(n.body.url)if(null===(r=e.connectId)||void 0===r?void 0:r.value)switch(e.useCase=n.body.useCase,e.mnoSelectorDomain=n.body.url.split("/")[2],e.useCase){case Zt.Stub:Cn({method:"get",url:n.body.url,timeout:4e3}).then((function(n){if([Qt.OK,Qt.Found,Qt.TemporaryRedirect].includes(n.status)){e.token=n.data.token;var t=Ht()?"&diagnostic=true":"",o="".concat(e.protocol,"://").concat(e.mnoSelectorDomain,"/").concat(e.path)+"/tmi-stub?c=".concat(e.connectId.value)+"&token=".concat(e.token)+"&d=".concat(e.domain).concat(t);Mt({iFrameUrl:o,iFrameId:"UTIQSTUB",environment:i})}})).catch((function(e){t.logError("Error occurred on idConnect consent call")}));break;case Zt.MspProxy:case Zt.Saml:case Zt.UtiqCrossDomain:Mt({iFrameUrl:n.body.url,environment:i});break;case Zt.Token:Mt({iFrameUrl:n.body.url,iFrameId:"IDENT",environment:i});break;default:t.logError("Unsupported idConnect ".concat(e.useCase," use case provided"))}else t.logDebug("No connectId cookie value found on mno selector message handler. Terminating the flow...");else t.logDebug("No URL in message body. Terminating the flow...");else t.logDebug("MNO Use Case ".concat(n.body.useCase," not defined in IDCONNECT_ALLOWED_USE_CASES. Terminating the flow..."));else t.logDebug("IDCONNECT_ALLOWED_USE_CASES is not an array of strings. Terminating the flow...");else t.logDebug("Message body is not present. Terminating the flow...")}(n,a,o,i);break;case"SETCOOKIEDOMAIN":if($t(a,"setCookieDomain"))return;!function(e,n){void 0!==e.SetCookieDomain&&""!==e.SetCookieDomain&&Mt({iFrameUrl:bn(e.SetCookieDomain),iFrameId:"SetCookieDomain",environment:n})}(a,i);break;default:t.logWarn("Received unsupported message type ".concat(a.msgType))}else t.logDebug("Caught and discarded message with data, but empty message type: ".concat(a.msgType,"."))}else t.logDebug("Message event had no data");else t.logDebug("Origin does not include current or next best domain. Protocol:",n.protocol,"; domain:",n.domain,"Event origin:",e.origin)}}({idConnectConfig:n,idConnectConfiguration:r,environment:o}),t.logDebug("IDconnect data call listener recreated.")),function(){var e,n,o,i,r,a;t.logDebug("Checking if data call should be made...");var s=null===(a=null===(r=null===(i=null===(o=null===(n=null===(e=window.Utiq)||void 0===e?void 0:e.data)||void 0===n?void 0:n.clientConfig)||void 0===o?void 0:o.CALLS_CONFIG)||void 0===i?void 0:i.conditions)||void 0===r?void 0:r.timeConditions)||void 0===a?void 0:a.oncePerTimeInterval;if(!s)return t.logDebug("Interval setting is not present. Removing utiqDataCallTimestamp and making data call..."),localStorage.removeItem("utiqDataCallTimestamp"),!0;var c=Date.now(),l=JSON.parse(localStorage.getItem("utiqDataCallTimestamp"));return l?l&&l+parseInt(String(s),10)<c?(t.logDebug("Time interval passed. It should invoke data call and update utiqDataCallTimestamp time..."),!0):(t.logDebug("Local Storage timestamp found. Data call will not be made."),!1):(t.logDebug("Local Storage utiqDataCallTimestamp not found. Invoking data call..."),!0)}()&&(n.dataCallCounter++,t.logDebug("Adding IDconnect data call listener..."),window.addEventListener("message",window.Utiq.idConnectMessageListener,!1),t.logDebug("Making IDconnect data call..."),function(e,n){var o="".concat(e.protocol,"://")+"".concat(e.domain,"/")+"".concat(e.path,"/data");Cn({method:"get",url:Rt(o),withCredentials:!0,timeout:4e3}).then((function(e){if(200===e.status)Mt({iFrameUrl:e.data,iFrameId:"GETDATA",isSrcDocUsed:!0,environment:n});else if(204===e.status)try{Ht()&&(t.logDebug("troubleshooting flow detected on template handler, should reload the flow"),Mn(Fn.onFlowCompleted.name,Vn.Utiq,{status:"reload"})),window.Utiq.API.handleDataClear()}catch(e){t.logError("handleDataClear API call failed. Reason: ".concat(e.message))}else t.logError("Unrecognised data response status ".concat(e.status))})).catch((function(e){t.logError("Error occurred on data call: ",e)}))}(n,o)))},to=function(e){var n,o=e.idConnectConfig,i=e.idConnectConfiguration,r=e.environment;if(!(null===(n=window.Utiq)||void 0===n?void 0:n.data).wereIdsDispatched){var a=Kn(i);Hn(a,r)}t.logDebug("Initializing IDconnect promise handler...");var s=jn(r);return s&&(i.IDCONNECT_API_HOST="".concat(s,"/op/idconnect")),(e=>{window.Utiq||={},window.Utiq.API||={},window.Utiq.API.getIdGraphEntry=n=>function(e,n){var o=function(e,n){var o;if(!e)return{isSuccessful:!1,errorMessage:"Entry key (string) parameter is missing"};if(!n||0===Object.keys(n).length)return{isSuccessful:!1,errorMessage:"No configuration set up"};var i=Jn(n.IDCONNECT_STORAGE_TYPE).get(n.IDCONNECT_DATA_STORAGE);if(!Array.isArray(null===(o=null==i?void 0:i.connectId)||void 0===o?void 0:o.idGraph))return{isSuccessful:!1,errorMessage:"No required IDC data present. Cannot extract the ID graph entry"};var r=i.connectId.idGraph[0];return r&&r[e]?("atid"===e&&t.logInfo("If you are running the Utiq Web SDK from iOS webview, soon ATT will be required to acquire the atid"),{isSuccessful:!0,data:r[e]}):{isSuccessful:!1,errorMessage:"Could not find an entry for provided entry name: ".concat(e)}}(e,n);return o.isSuccessful?o.data:o.errorMessage}(n,e),t.logDebug("ID Connect API functions initialized...")})(i),new Promise((function(e){var n=i.IDCONNECT_API_HOST,a=Ft(n);o.dataCallCounter=0,o.protocol=a.protocol,o.domain=a.domain,o.path=a.path,t.logDebug("Initializing IDconnect callback success logic..."),t.logDebug("Calling ID Connect callbacks, listeners and data call initialization..."),no({idConnectConfig:o,environment:r,callbackSuccess:function(n){var o=function(e){var n,o,i,r,a,s,c,l,u,d,f,p,g,m,h,v,w=e.data,C=e.idConnectConfiguration,y=e.environment,b=Kn(C),E={connectId:{domain:w.connectId.domain,id:w.connectId.id,idGraph:w.connectId.idGraph||[],value:w.connectId.value,consents:w.connectId.consents||[]},connectStatus:w.connectStatus,ids:w.ids},O=C.IDCONNECT_DATA_STORAGE;if(t.logDebug("Updating graph data..."),Jn(C.IDCONNECT_STORAGE_TYPE).set(O,E),t.logDebug("Set idConnect data under ".concat(O," at exact time of ").concat(Date.now(),".")),(null===(n=null==b?void 0:b[0])||void 0===n?void 0:n.mtid)!==(null===(r=null===(i=null===(o=null==w?void 0:w.connectId)||void 0===o?void 0:o.idGraph)||void 0===i?void 0:i[0])||void 0===r?void 0:r.mtid)&&Hn(w.connectId.idGraph,y),(null===(c=null===(s=null===(a=null==w?void 0:w.connectId)||void 0===a?void 0:a.idGraph)||void 0===s?void 0:s[0])||void 0===c?void 0:c.mtid)&&(null===(d=null===(u=null===(l=null==w?void 0:w.connectId)||void 0===l?void 0:l.idGraph)||void 0===u?void 0:u[0])||void 0===d?void 0:d.atid)){var T=JSON.parse(localStorage.getItem("utiqDataCallTimestamp")),S=null===(v=null===(h=null===(m=null===(g=null===(p=null===(f=window.Utiq)||void 0===f?void 0:f.data)||void 0===p?void 0:p.clientConfig)||void 0===g?void 0:g.CALLS_CONFIG)||void 0===m?void 0:m.conditions)||void 0===h?void 0:h.timeConditions)||void 0===v?void 0:v.oncePerTimeInterval,I=Date.now();T?T&&T+parseInt(String(S),10)<I?(localStorage.setItem("utiqDataCallTimestamp",String(I)),t.logDebug("Time interval passed. Updated utiqDataCallTimestamp time to ".concat(I,". Exact time of localStorage entry creation: ").concat(Date.now()))):t.logDebug("Local Storage utiqDataCallTimestamp found in localStorage with value ".concat(T)):(localStorage.setItem("utiqDataCallTimestamp",String(I)),t.logDebug("Local Storage utiqDataCallTimestamp not found. Created new timestamp as ".concat(I,". Exact time of localStorage entry creation: ").concat(Date.now())))}return!0}({data:n,idConnectConfiguration:i,environment:r});e(o)},idConnectConfiguration:i})}))},oo={domain:null,path:null,protocol:null,callbackSuccess:null,connectId:null,umdid:null,originalUmdidCookie:null,dataUmdidCookie:null,token:null,net:null,dataCallCounter:0,version:"1.0.1"},io=function(e){var n=e.idConnectConfiguration,t=e.environment;return to({idConnectConfig:oo,idConnectConfiguration:n,environment:t})},ro=function(e,n){return function(o,i){return r=void 0,a=void 0,c=function(){var r,a,s,c,l,u,d,f,p,g,m,h,v,w,C,y,b;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(E){switch(E.label){case 0:return t.logDebug("Consent is granted: ",o),r=Tn(document.cookie,Pn),a=!r||o!==("true"===r),s=e.config,c=function(e){Mn(Fn.onEligibilityChecked.name,Vn.Utiq,{isEligible:e}),e||Mn(Fn.onFlowCompleted.name,Vn.Utiq)},(l=o&&a)?[4,xt({utiqHost:s.utiqHost,onEligibilityCheckedCallback:c,eligibilityCheckTrigger:"consent_granted",ignoreInterval:!0})]:[3,2];case 1:l=!E.sent(),E.label=2;case 2:return l?(t.logWarn("Consent was granted, but service eligibility check failed for current connection type. Service will not be loaded."),[2]):(a&&(document.cookie=En({name:Pn,value:nt(o),days:180,domain:tt(window.location.hostname)})),(({payload:e,config:n,environment:o})=>{try{window.Utiq=window.Utiq||{},window.Utiq.functions=window.Utiq.functions||{},window.Utiq.functions.dispatchConsentCall=()=>{t.logTrace(`Calling consent change with payload ${JSON.stringify(e)}`),Vt({payload:e,config:n,environment:o})}}catch(e){t.logWarn(`Error when calling consent listener callback: ${e}`)}})({payload:i,config:s,environment:n}),o?((null===(f=null===(d=null===(u=window.Utiq)||void 0===u?void 0:u.data)||void 0===d?void 0:d.popupContent)||void 0===f?void 0:f.version)&&(document.cookie=En({name:Rn,value:nt(ht(null===(m=null===(g=null===(p=window.Utiq)||void 0===p?void 0:p.data)||void 0===g?void 0:g.popupContent)||void 0===m?void 0:m.version).majorVersion),days:180,domain:tt(window.location.hostname)})),(null===(w=null===(v=null===(h=window.Utiq)||void 0===h?void 0:h.data)||void 0===v?void 0:v.popupContent)||void 0===w?void 0:w.versionPrevious)&&(document.cookie=En({name:_n,value:nt(ht(null===(b=null===(y=null===(C=window.Utiq)||void 0===C?void 0:C.data)||void 0===y?void 0:y.popupContent)||void 0===b?void 0:b.versionPrevious).majorVersion),days:180,domain:tt(window.location.hostname)})),(e=>{const{CALLS_CONFIG:n,IDCONNECT_CONFIG:o}=window.Utiq?.data?.clientConfig||{};if("object"==typeof n&&0!==Object.keys(n).length&&"object"==typeof o&&0!==Object.keys(o).length)t.logInfo("Client configuration detected in data layer. Loading the detected configuration..."),t.logDebug(`Client calls configuration from data layer: ${JSON.stringify(n)}`),t.logDebug(`Client fc configuration from data layer: ${JSON.stringify(o)}`);else{const n={IDCONNECT_API_HOST:`${e}/op/idconnect`,IDCONNECT_DATA_STORAGE:"utiqPass",IDCONNECT_DOMAIN_STORAGE_TRANSLATION:{"mobile-token.telekom.de":"tmi.telekom.de"},IDCONNECT_STORAGE_TYPE:"localStorage",IDCONNECT_TYPE:"utiq",IDCONNECT_ALLOWED_USE_CASES:["token","stub","utiqCrossDomain","mspProxy","saml"],IDCONNECT_ALLOW_TOKEN_DATA_CALL:!0,IDCONNECT_ALLOW_TOKEN_DATA_CALL_COUNTER:1},o={intervalId:null,conditions:{timeConditions:{oncePerSession:!1,oncePerTimeInterval:6e5},oncePerPage:!1,urls:null},callsToMake:{idConnect:!0},callsPerPage:{idConnect:!1}};window.Utiq||={},window.Utiq.data||={},window.Utiq.data.clientConfig={CALLS_CONFIG:o,IDCONNECT_CONFIG:n},window.IDCONNECT_CONFIG=n,t.logDebug(`Loaded new client configuration: ${JSON.stringify(n)}`)}})(s.utiqHost),function(e){var n,t,o,i,r=e.idConnectConfiguration,a=e.environment;n=this,t=void 0,i=function(){return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return[4,io({idConnectConfiguration:r,environment:a})];case 1:return e.sent(),[2]}}))},new((o=void 0)||(o=Promise))((function(e,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((i=i.apply(n,t||[])).next())}))}({idConnectConfiguration:e.data.clientConfig.IDCONNECT_CONFIG,environment:n}),a||t.logDebug("No change with consent. Stopping the flow..."),window.Utiq.data.alreadyRevoked&&(window.Utiq.data.alreadyRevoked=!1)):(t.logInfo("Consent is currently rejected. Clearing the Utiq data..."),et(),a?e.isInitialPageLoad||(t.logTrace("Calling consent change with payload ".concat(JSON.stringify(i))),Vt({payload:i,config:s,environment:n})):t.logDebug("No change with consent. Stopping the flow..."),Mn(Fn.onFlowCompleted.name,Vn.Utiq)),a&&Mn(Fn.onConsentUpdateFinished.name,Vn.Utiq,{isConsentGranted:o}),e.isInitialPageLoad&&(e.isInitialPageLoad=!1),[2])}}))},new((s=void 0)||(s=Promise))((function(e,n){function t(e){try{i(c.next(e))}catch(e){n(e)}}function o(e){try{i(c.throw(e))}catch(e){n(e)}}function i(n){var i;n.done?e(n.value):(i=n.value,i instanceof s?i:new s((function(e){e(i)}))).then(t,o)}i((c=c.apply(r,a||[])).next())}));var r,a,s,c}},ao=function(e){var n,o,i,r,a=e.utiqConsentStatusCookie,s=e.environment,c=e.utiqHost,l=e.isLocalEnvironment,u=e.customUtiqHost;return n=void 0,o=void 0,r=function(){var e,n,o,i,r,d,f,p,g,m,h,v,w;return function(e,n){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(e,a)}catch(e){s=[6,e],o=0}finally{t=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(C){switch(C.label){case 0:return"false"!==a?[3,1]:(ot(a,s),[3,3]);case 1:return[4,xt({utiqHost:c,onEligibilityCheckedCallback:function(e){Mn(Fn.onEligibilityChecked.name,Vn.Utiq,{isEligible:e}),e||Mn(Fn.onFlowCompleted.name,Vn.Utiq)},eligibilityCheckTrigger:"load"})];case 2:if(!C.sent())return[2];C.label=3;case 3:return e=(()=>{window.Utiq=window.Utiq||{};const{Utiq:e}=window;return e.functions=e.functions||{},e.config=e.config||{},e.isInitialPageLoad=!0,e})(),(({isOtherConsentManagementPlatformSet:e,isLocalEnvironment:n,utiqHost:o})=>{e||(document.getElementById("utiq__consent-manager")?t.logDebug("Utiq consent manager is already loaded on the page. Proceeding..."):Yn(n,o))})({isOtherConsentManagementPlatformSet:Boolean(e.config.CMP),isLocalEnvironment:l,utiqHost:c}),function(e,n){var t={utiqHost:e,apiPath:"/op/idconnect/consent",oncePerSession:!1,oncePerTimeInterval:null},o=n.config,i=(o.listeners,function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]])}return t}(o,["listeners"])),r=Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn(Xn({},i.customUtiqHost&&{customUtiqHost:i.customUtiqHost}),i.CMP&&{CMP:i.CMP}),i.customizationOptions&&{customizationOptions:i.customizationOptions}),i.language&&{language:i.language}),i.getNewConsentBeforeExpiry&&{getNewConsentBeforeExpiry:i.getNewConsentBeforeExpiry}),i.consentManagerOrigin&&{consentManagerOrigin:i.consentManagerOrigin}),i.consentManagerDataLayer&&{consentManagerDataLayer:i.consentManagerDataLayer}),i.OptanonDelay&&{OptanonDelay:i.OptanonDelay}),i.cmpUtiqPurposeId&&{cmpUtiqPurposeId:i.cmpUtiqPurposeId}),i.cmpUtiqVendorId&&{cmpUtiqVendorId:i.cmpUtiqVendorId}),i.tcfPurposes&&{tcfPurposes:i.tcfPurposes}),i.tcfVendors&&{tcfVendors:i.tcfVendors}),i.tcfApiMaxDelay&&{tcfApiMaxDelay:i.tcfApiMaxDelay}),i.tcfApiTimeStep&&{tcfApiTimeStep:i.tcfApiTimeStep}),i.tcfCustomPurposes&&{tcfCustomPurposes:i.tcfCustomPurposes}),i.tcfCustomVendors&&{tcfCustomVendors:i.tcfCustomVendors}),i.localStorageKey&&{localStorageKey:i.localStorageKey}),i.consentIndex&&{consentIndex:i.consentIndex}),i.didomiUtiqPurposeId&&{didomiUtiqPurposeId:i.didomiUtiqPurposeId}),i.didomiUtiqVendorId&&{didomiUtiqVendorId:i.didomiUtiqVendorId});n.config=Xn(Xn({},t),r),n.config.oncePerTimeInterval="number"==typeof n.config.oncePerTimeInterval?n.config.oncePerTimeInterval:0}(c,e),n=function(){return function(e,n){if(document.getElementById("utiq__revocation-popup")&&"function"==typeof window.Utiq.API.showRevocationPopupWindow)return t.logDebug("Utiq revocation popup is already loaded on the page. Proceeding..."),void window.Utiq.API.showRevocationPopupWindow();var o=document.createElement("script");o.setAttribute("id","utiq__revocation-popup"),t.logTrace("Calling for consent manager origin with params isLocalEnvironment: ".concat(e," and utiqHost: ").concat(n,"..."));var i=e?window.location.origin:n;t.logDebug("Setting revocation popup from origin ".concat(i,"...")),o.src="".concat(i,"/revocationPopup.js"),document.head.appendChild(o),t.logDebug("Revocation popup appended to the document head")}(l,c)},((e,n)=>{window.Utiq||={},window.Utiq.API||={},window.Utiq.API.handleConsentChange=e=>{"boolean"==typeof e?Mn(Fn.onConsentChanging.name,Vn.Utiq,{isConsentGranted:e}):t.logError(`Incorrect consent value provided for Utiq handleConsentChange: ${e}`)},window.Utiq.API.addDidomiEventListener=()=>{window.didomiEventListeners||=[],window.didomiEventListeners.push({event:"consent.changed",listener:function(e){Mn(Fn.onDidomiConsentChanged.name,Vn.Utiq)}})},window.Utiq.API.handleDataClear=()=>{const n=Tn(Pn);ot(n,e)},window.Utiq.API.getUtiqConsentStatus=()=>{const e=Tn(document.cookie,Pn);if(e)return"true"===e},window.Utiq.API.revokeConsentWithPopup=()=>{const e=n,o=Tn(document.cookie,Pn);if(o&&"false"!==o){const n=({isConsentGranted:o})=>{o?t.logDebug("Consent was revoked, but consent update event finished with consent granted. Revocation popup showing is being stopped..."):e(),window.Utiq?.listeners?.onConsentUpdateFinished&&(window.Utiq.listeners.onConsentUpdateFinished=window.Utiq.listeners.onConsentUpdateFinished.filter((e=>e!==n)))};window.Utiq||={},window.Utiq.listeners||={},window.Utiq.listeners.onConsentUpdateFinished||=[],window.Utiq.listeners.onConsentUpdateFinished.push(n),Mn(Fn.onConsentChanging.name,Vn.Utiq,{isConsentGranted:!1})}else window.Utiq.data.alreadyRevoked||(window.Utiq.data.alreadyRevoked=!0),e()},t.logDebug("Utiq functions initialized...")})(s,n),o=((e,n)=>{if(n){const[,e]=n.split("://");if(e)return t.logDebug(`Returning hostname from the customUtiqHost config entry: ${e}...`),e}const o=e?`utiq-test.${location.hostname}`:location.hostname;return t.logDebug(`Returning extracted hostname: ${o}...`),o})(l,u),i=Tn(document.cookie,Rn),r=Tn(document.cookie,_n),d=Wt(),f=d.host,p=d.isLocalOrUatEnvironment,(null===(w=null===(v=window.Utiq)||void 0===v?void 0:v.data)||void 0===w?void 0:w.popupContent)||i?[3,5]:[4,Kt({host:f,isLocalOrUatEnvironment:p})];case 4:g=C.sent(),C.label=5;case 5:return void 0===(m=wt(i,null==g?void 0:g.version))?(t.logError('"version" attribute is missing from templateData.json so cannot proceed'),[2]):(h=wt(r,null==g?void 0:g.versionPrevious),(({hostname:e,processConsentChange:n,readCookie:o,config:i,consentVersion:r,consentVersionPrevious:a})=>{if(i)switch(i.CMP){case at.name:const{isValid:s}=Gn({fieldsTemplate:at.fieldsTemplate,validationTargetObject:i,logIdentificator:at.name});s&&function(e){var n,o,i,r=e.hostname,a=e.readCookie,s=e.processConsentChange,c=e.config,l=e.getValidatedBase64Cookie,u=e.consentVersion,d=e.consentVersionPrevious;kt({hostname:r,readCookie:a,processConsentChange:s,config:c,consentVersion:u,consentVersionPrevious:d}),window.addEventListener(Nt,(function(){t.logDebug("".concat(Nt," was dispatched"));var e=a(document.cookie,at.cookieName),n=Boolean(window.Optanon)?0:200;setTimeout((function(){var n=(e?qt({cookie:e,purposeId:c.cmpUtiqPurposeId,vendorId:c.cmpUtiqVendorId}):{isConsentGranted:null}).isConsentGranted,o="true"===l(document.cookie,Pn);t.logDebug("Current Utiq consent status:",o),t.logDebug("Current Optanon consent status:",n),n!==o&&(t.logDebug("Consent statuses differ, processing the consent for synchronization..."),kt({hostname:r,readCookie:a,processConsentChange:s,config:c,consentVersion:u,consentVersionPrevious:d}))}),n)})),window.Utiq||(window.Utiq={}),(n=window.Utiq).listeners||(n.listeners={}),(o=window.Utiq.listeners).onConsentChanging||(o.onConsentChanging=[]),window.Utiq.listeners.onConsentChanging.push((function(e){var n=e.isConsentGranted;t.logDebug("Synchronizing Optanon consent with consent value:",n);var o=Boolean(window.Optanon)?0:200;setTimeout((function(){var e;(null===(e=window.Optanon)||void 0===e?void 0:e.UpdateConsent)&&(n?window.Optanon.UpdateConsent("Category","".concat(c.cmpUtiqPurposeId,":1")):window.Optanon.UpdateConsent("Category","".concat(c.cmpUtiqPurposeId,":0"))),t.logDebug("Processing consent from onConsentChanging event with consent value:",n),kt({hostname:r,readCookie:a,processConsentChange:s,config:c,consentVersion:u,consentVersionPrevious:d})}),o)})),(i=window.Utiq.listeners).onConsentUpdateFinished||(i.onConsentUpdateFinished=[]),window.Utiq.listeners.onConsentUpdateFinished.push((function(e){var n=e.isConsentGranted;t.logDebug("Synchronizing Optanon consent with consent value:",n);var o=Boolean(window.Optanon)?0:200;setTimeout((function(){var e;(null===(e=window.Optanon)||void 0===e?void 0:e.UpdateConsent)&&(n?(window.Optanon.UpdateConsent("Category","".concat(c.cmpUtiqPurposeId,":1")),Ut()&&window.Optanon.UpdateConsent("General Vendor","".concat(c.cmpUtiqVendorId,":1"))):(window.Optanon.UpdateConsent("Category","".concat(c.cmpUtiqPurposeId,":0")),Ut()&&window.Optanon.UpdateConsent("General Vendor","".concat(c.cmpUtiqVendorId,":0"))))}),o)}))}({hostname:e,processConsentChange:n,readCookie:o,config:i,getValidatedBase64Cookie:Tn,consentVersion:r,consentVersionPrevious:a});break;case st.name:const{isValid:c}=Gn({fieldsTemplate:st.fieldsTemplate,validationTargetObject:i,logIdentificator:st.name});c&&Dt({hostname:e,processConsentChange:n,readCookie:o,config:i,consentVersion:r,consentVersionPrevious:a});break;case ct.name:const{isValid:l}=Gn({fieldsTemplate:ct.fieldsTemplate,validationTargetObject:i,logIdentificator:ct.name});l&&Dt({hostname:e,processConsentChange:n,readCookie:o,config:i,consentVersion:r,consentVersionPrevious:a});break;case lt.name:const{isValid:u}=Gn({fieldsTemplate:lt.fieldsTemplate,validationTargetObject:i,logIdentificator:lt.name});u&&(({hostname:e,processConsentChange:n,config:t,consentVersion:o,consentVersionPrevious:i})=>{window.addEventListener(lt.event.type,(r=>{r.event===lt.event.name&&At({hostname:e,processConsentChange:n,config:t,consentVersion:o,consentVersionPrevious:i})})),At({hostname:e,processConsentChange:n,config:t,consentVersion:o,consentVersionPrevious:i})})({hostname:e,processConsentChange:n,config:i,consentVersion:r,consentVersionPrevious:a});break;case ut.name:const{isValid:d}=Gn({fieldsTemplate:ut.fieldsTemplate,validationTargetObject:i,logIdentificator:ut.name});d&&function(e){var n=e.hostname,o=e.processConsentChange,i=e.config,r=e.consentVersion,a=e.consentVersionPrevious;yt({hostname:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a}),window.didomiEventListeners||(window.didomiEventListeners=[]),window.didomiEventListeners.push({event:"consent.changed",listener:function(e){"click"===(null==e?void 0:e.action)&&(t.logDebug("Processing consent from Didomi consent change event"),yt({hostname:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a}))}}),window.Utiq=window.Utiq||{},window.Utiq.listeners=window.Utiq.listeners||{},window.Utiq.listeners.onConsentChanging=window.Utiq.listeners.onConsentChanging||[],window.Utiq.listeners.onConsentChanging.push((function(e){var s=e.isConsentGranted;t.logDebug("Synchronizing Didomi consent with consent value:",s),bt(s,i.didomiUtiqPurposeId,i.didomiUtiqVendorId),t.logDebug("Processing consent from onConsentChanging event with consent value:",s),yt({hostname:n,processConsentChange:o,config:i,consentVersion:r,consentVersionPrevious:a})})),window.Utiq.listeners.onConsentUpdateFinished=window.Utiq.listeners.onConsentUpdateFinished||[],window.Utiq.listeners.onConsentUpdateFinished.push((function(e){var n=e.isConsentGranted;t.logDebug("Synchronizing Didomi consent with consent value:",n),bt(n,i.didomiUtiqPurposeId,i.didomiUtiqVendorId)}))}({hostname:e,processConsentChange:n,config:i,readCookie:o,consentVersion:r,consentVersionPrevious:a});break;case"custom":i.CMPcustom();break;default:const{isValid:f}=Gn({fieldsTemplate:dt.fieldsTemplate,validationTargetObject:i,logIdentificator:dt.name});f&&(({hostname:e,processConsentChange:n,getValidatedBase64Cookie:t})=>{window.Utiq||={},window.Utiq.listeners||={},window.Utiq.listeners.onConsentChanging||=[],window.Utiq.listeners.onConsentChanging.push((({isConsentGranted:o})=>{Ct({hostname:e,processConsentChange:n,isConsentGranted:o,getValidatedBase64Cookie:t})}));const o=t(document.cookie,Pn);o&&Ct({hostname:e,processConsentChange:n,isConsentGranted:"true"===o,getValidatedBase64Cookie:t})})({hostname:e,processConsentChange:n,getValidatedBase64Cookie:Tn})}else t.logError("No config provided in Utiq loader object")})({hostname:o,processConsentChange:ro(e,s),readCookie:On,config:e.config,consentVersion:m,consentVersionPrevious:h}),Mn(Fn.onInitialised.name,Vn.Utiq),t.logInfo("Utiq library loaded..."),[2])}}))},new((i=void 0)||(i=Promise))((function(e,t){function a(e){try{c(r.next(e))}catch(e){t(e)}}function s(e){try{c(r.throw(e))}catch(e){t(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}c((r=r.apply(n,o||[])).next())}))};(async()=>{const e=Vn.Utiq;t.initialize(e,Tn(document.cookie,xn(e.toLowerCase()))),(e=>{const n=xn(e.toLowerCase());window.Utiq||={},window.Utiq.API||={},window.Utiq.API.setVerboseLoggingLevel=()=>{const e=Tn(document.cookie,n);!!e&&"verbose"===e||(document.cookie=En({name:n,value:nt("verbose"),days:90})),t.logInfo("Verbose logging level has been set"),t.setLogLevel(t.logLevels.verbose)},window.Utiq.API.resetLoggingLevel=()=>{const e=Tn(document.cookie,n);!!e&&"verbose"===e&&(document.cookie=En({name:n,value:nt("info"),days:0})),t.setLogLevel(t.logLevels.info),t.logInfo("Logging level has been reset to info level")},t.logDebug(`${e} logging API functions initialized...`)})(e);const n=window.location.origin.includes("http://")&&window.location.origin.includes(":8080"),o=jn(Vn.Utiq),i=((e,n)=>{if(n)return t.logDebug(`Returning utiqHost from the customUtiqHost config entry: ${n}...`),n;const o=window.location.host.split(".");o.length>2&&o.shift(),window.location.origin.includes("//utiq-test.")||e?o.unshift("utiq-test"):window.IDCONNECT_CONFIG?.IDCONNECT_API_HOST&&"string"==typeof window.IDCONNECT_CONFIG?.IDCONNECT_API_HOST&&0===window.IDCONNECT_CONFIG?.IDCONNECT_API_HOST.indexOf("https://tmi.")?o.unshift("tmi"):o.unshift("utiq");const i=`https://${o.join(".").replace(":8080","")}`;return t.logDebug(`Returning utiqHost ${i}...`),i})(n,o);var r;(r=new URLSearchParams(window.location.search).get("utiq_stub"))&&("false"===r?localStorage.removeItem("utiqStub"):localStorage.setItem("utiqStub",r)),(r||yn())&&localStorage.removeItem("utiqEligibility"),t.logDebug("Setting Axios calls interceptors..."),Cn.interceptors.request.use((e=>(t.logTrace(`Calling url ${e.url} with data:`,e.data),e)),(e=>(t.logError("Error occurred when setting up a request:",e.message),Promise.reject(e)))),Cn.interceptors.response.use((e=>(t.logTrace(`Response from ${e.config.url} with data:`,e.data,"and status",e.status),e)),(e=>(e.response?t.logTrace("Call for",e.response.config.url,"failed with response status",e.response.status,"and reason:",e.response.data):e.request?t.logError("No response received for a call: ",e.request):t.logError("General error occurred: ",e.message),Promise.reject(e)))),t.logDebug("Finished setting Axios calls interceptors.");const a=Tn(document.cookie,Pn),s=window.Utiq?.config?.listeners;((e,n)=>{if("string"!=typeof e||!Object.keys(Vn).includes(e))return void t.logDebug(`No environment with a name "${e}" found. Cannot register event listeners for it.`);if(!n||"object"!=typeof n||0===Object.keys(n).length)return void t.logDebug(`No listeners to register for listeners object: ${n}`);window.Utiq||={},window.Utiq.listeners||={};const o=Fn;Object.entries(n).forEach((([e,n])=>{Object.keys(o).includes(e)?"function"==typeof n?(window.Utiq.listeners[o[e].name]||=[],window.Utiq.listeners[o[e].name].push(n)):Array.isArray(n)?n.forEach((n=>{"function"==typeof n?(window.Utiq.listeners[o[e].name]||=[],window.Utiq.listeners[o[e].name].push(n)):t.logWarn(`Listener callback from provided callbacks array for event with name ${e} was not a function. Cannot register this listener. Skipping...`)})):t.logWarn(`Listener for event with name ${e} was not a function, nor an array of functions. Cannot register this listener. Skipping...`):t.logInfo(`Event with name ${e} was not recognized. Cannot register this listener. Skipping...`)}))})(Vn.Utiq,s),function(e,n){if("true"===e){var t=JSON.parse(localStorage.getItem("utiqDataCallTimestamp"));if(t&&t+6e5>Date.now()){var o=Kn({IDCONNECT_STORAGE_TYPE:"localStorage",IDCONNECT_DATA_STORAGE:"utiqPass"});Hn(o,n)}}}(a,e),(()=>{window.Utiq||={};let e=window.Utiq?.transactionId;e||(t.logDebug("No transaction ID present. Creating"),e=An(),t.logDebug(`New transactionId: ${e}`)),window.Utiq||={},window.Utiq.transactionId=e})();const c="Didomi"===window.Utiq?.config?.CMP;if("Optanon"===window.Utiq?.config?.CMP&&""===a){const r=On(document.cookie,at.cookieName),s=Boolean(window.Optanon)?0:200;setTimeout((()=>{const{isConsentGranted:s}=r?qt({cookie:r,purposeId:Utiq?.config?.cmpUtiqPurposeId,vendorId:Utiq?.config?.cmpUtiqVendorId}):{isConsentGranted:null};if(!1===s&&ot(a,e),!0===s)ao({utiqConsentStatusCookie:a,environment:e,utiqHost:i,isLocalEnvironment:n,customUtiqHost:o});else{const r=()=>{t.logDebug("Optanon.OnConsentChanged was dispatched");const s=On(document.cookie,at.cookieName),c=Boolean(window.Optanon)?0:200;setTimeout((()=>{const{isConsentGranted:t}=s?qt({cookie:s,purposeId:Utiq?.config?.cmpUtiqPurposeId,vendorId:Utiq?.config?.cmpUtiqVendorId}):{isConsentGranted:null};"true"===Tn(document.cookie,Pn)!==t&&(!1===t?ot(a,e):!0===t&&ao({utiqConsentStatusCookie:a,environment:e,utiqHost:i,isLocalEnvironment:n,customUtiqHost:o})),window.removeEventListener(Nt,r)}),c)};window.addEventListener(Nt,r)}}),s)}else c&&""===a?(window.didomiOnReady||=[],window.didomiOnReady.push((async r=>{const s=r.getUserConsentStatusForPurpose(window.Utiq?.config?.didomiUtiqPurposeId),c=r.getUserConsentStatusForVendor(window.Utiq?.config?.didomiUtiqVendorId);if(!1!==s&&!1!==c||ot(a,e),!0===s&&!0===c)await ao({utiqConsentStatusCookie:a,environment:e,utiqHost:i,isLocalEnvironment:n,customUtiqHost:o});else{let s=!1;window.didomiEventListeners||=[],window.didomiEventListeners.push({event:"consent.changed",listener:function(c){if("click"===c?.action&&!s){t.logDebug("Main Didomi consent processing from consent change event started...");const c=r.getUserConsentStatusForPurpose(window.Utiq?.config?.didomiUtiqPurposeId),l=r.getUserConsentStatusForVendor(window.Utiq?.config?.didomiUtiqVendorId);!1===c||!1===l?ot(a,e):!0===c&&!0===l&&(ao({utiqConsentStatusCookie:a,environment:e,utiqHost:i,isLocalEnvironment:n,customUtiqHost:o}),s=!0)}}})}}))):await ao({utiqConsentStatusCookie:a,environment:e,utiqHost:i,isLocalEnvironment:n,customUtiqHost:o})})()})();
</script>

</body>
</html>
