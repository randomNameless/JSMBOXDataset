<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>perf_hooks.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['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'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
lS(0, 0);
const {
    ELDHistogram: _ELDHistogram,
    PerformanceEntry,
    mark: _mark,
    clearMark: _clearMark,
    measure: _measure,
    milestones,
    observerCounts,
    setupObservers,
    timeOrigin,
    timeOriginTimestamp,
    timerify,
    constants,
    setupGarbageCollectionTracking
} = internalBinding(lS(0, 1));
const {NODE_PERFORMANCE_ENTRY_TYPE_NODE, NODE_PERFORMANCE_ENTRY_TYPE_MARK, NODE_PERFORMANCE_ENTRY_TYPE_MEASURE, NODE_PERFORMANCE_ENTRY_TYPE_GC, NODE_PERFORMANCE_ENTRY_TYPE_FUNCTION, NODE_PERFORMANCE_ENTRY_TYPE_HTTP2, NODE_PERFORMANCE_MILESTONE_NODE_START, NODE_PERFORMANCE_MILESTONE_V8_START, NODE_PERFORMANCE_MILESTONE_LOOP_START, NODE_PERFORMANCE_MILESTONE_LOOP_EXIT, NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE, NODE_PERFORMANCE_MILESTONE_ENVIRONMENT} = constants;
const {AsyncResource} = require('async_hooks');
const L = require('internal/linkedlist');
const kInspect = require('internal/util').customInspectSymbol;
const {ERR_INVALID_CALLBACK, ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_INVALID_OPT_VALUE, ERR_VALID_PERFORMANCE_ENTRY_TYPE, ERR_INVALID_PERFORMANCE_MARK} = require('internal/errors').codes;
const kHandle = Symbol(lS(0, 2));
const kMap = Symbol(lS(0, 3));
const kCallback = Symbol(lS(0, 4));
const kTypes = Symbol(lS(0, 5));
const kEntries = Symbol(lS(0, 6));
const kBuffer = Symbol(lS(0, 7));
const kBuffering = Symbol(lS(0, 8));
const kQueued = Symbol(lS(0, 9));
const kTimerified = Symbol(lS(0, 10));
const kInsertEntry = Symbol(lS(0, 11));
const kGetEntries = Symbol(lS(0, 12));
const kIndex = Symbol(lS(0, 13));
const kMarks = Symbol(lS(0, 14));
const kCount = Symbol(lS(0, 15));
const observers = {};
const observerableTypes = [
    lS(0, 16),
    lS(0, 17),
    lS(0, 18),
    lS(0, 19),
    lS(0, 20),
    lS(0, 21)
];
const IDX_STREAM_STATS_ID = 0;
const IDX_STREAM_STATS_TIMETOFIRSTBYTE = 1;
const IDX_STREAM_STATS_TIMETOFIRSTHEADER = 2;
const IDX_STREAM_STATS_TIMETOFIRSTBYTESENT = 3;
const IDX_STREAM_STATS_SENTBYTES = 4;
const IDX_STREAM_STATS_RECEIVEDBYTES = 5;
const IDX_SESSION_STATS_TYPE = 0;
const IDX_SESSION_STATS_PINGRTT = 1;
const IDX_SESSION_STATS_FRAMESRECEIVED = 2;
const IDX_SESSION_STATS_FRAMESSENT = 3;
const IDX_SESSION_STATS_STREAMCOUNT = 4;
const IDX_SESSION_STATS_STREAMAVERAGEDURATION = 5;
const IDX_SESSION_STATS_DATA_SENT = 6;
const IDX_SESSION_STATS_DATA_RECEIVED = 7;
const IDX_SESSION_STATS_MAX_CONCURRENT_STREAMS = 8;
let sessionStats;
let streamStats;
function collectHttp2Stats(entry) {
    const http2 = internalBinding(lS(0, 22));
    switch (entry.name) {
    case lS(0, 23):
        (() => {
            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        streamStats = http2.streamStats;
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance0.exports;
            return __exports.data(streamStats === undefined ? 1 : 0);
        })();
        entry.id = streamStats[IDX_STREAM_STATS_ID] >>> 0;
        entry.timeToFirstByte = streamStats[IDX_STREAM_STATS_TIMETOFIRSTBYTE];
        entry.timeToFirstHeader = streamStats[IDX_STREAM_STATS_TIMETOFIRSTHEADER];
        entry.timeToFirstByteSent = streamStats[IDX_STREAM_STATS_TIMETOFIRSTBYTESENT];
        entry.bytesWritten = streamStats[IDX_STREAM_STATS_SENTBYTES];
        entry.bytesRead = streamStats[IDX_STREAM_STATS_RECEIVEDBYTES];
        break;
    case lS(0, 24):
        (() => {
            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        sessionStats = http2.sessionStats;
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance1.exports;
            return __exports.data(sessionStats === undefined ? 1 : 0);
        })();
        entry.type = sessionStats[IDX_SESSION_STATS_TYPE] >>> 0 === 0 ? lS(0, 25) : lS(0, 26);
        entry.pingRTT = sessionStats[IDX_SESSION_STATS_PINGRTT];
        entry.framesReceived = sessionStats[IDX_SESSION_STATS_FRAMESRECEIVED];
        entry.framesSent = sessionStats[IDX_SESSION_STATS_FRAMESSENT];
        entry.streamCount = sessionStats[IDX_SESSION_STATS_STREAMCOUNT];
        entry.streamAverageDuration = sessionStats[IDX_SESSION_STATS_STREAMAVERAGEDURATION];
        entry.bytesWritten = sessionStats[IDX_SESSION_STATS_DATA_SENT];
        entry.bytesRead = sessionStats[IDX_SESSION_STATS_DATA_RECEIVED];
        entry.maxConcurrentStreams = sessionStats[IDX_SESSION_STATS_MAX_CONCURRENT_STREAMS];
        break;
    }
}
function now() {
    const hr = process.hrtime();
    return hr[0] * 1000 + hr[1] / 1000000;
}
function getMilestoneTimestamp(milestoneIdx) {
    const ns = milestones[milestoneIdx];
    if (ns === -1)
        return ns;
    return ns / 1000000 - timeOrigin;
}
class PerformanceNodeTiming {
    get name() {
        return lS(0, 27);
    }
    get entryType() {
        return lS(0, 28);
    }
    get startTime() {
        return 0;
    }
    get duration() {
        return now() - timeOrigin;
    }
    get nodeStart() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_NODE_START);
    }
    get v8Start() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_V8_START);
    }
    get environment() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_ENVIRONMENT);
    }
    get loopStart() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_LOOP_START);
    }
    get loopExit() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_LOOP_EXIT);
    }
    get bootstrapComplete() {
        return getMilestoneTimestamp(NODE_PERFORMANCE_MILESTONE_BOOTSTRAP_COMPLETE);
    }
    [kInspect]() {
        return {
            name: 'node',
            entryType: 'node',
            startTime: this.startTime,
            duration: this.duration,
            nodeStart: this.nodeStart,
            v8Start: this.v8Start,
            bootstrapComplete: this.bootstrapComplete,
            environment: this.environment,
            loopStart: this.loopStart,
            loopExit: this.loopExit,
            thirdPartyMainStart: this.thirdPartyMainStart,
            thirdPartyMainEnd: this.thirdPartyMainEnd,
            clusterSetupStart: this.clusterSetupStart,
            clusterSetupEnd: this.clusterSetupEnd,
            moduleLoadStart: this.moduleLoadStart,
            moduleLoadEnd: this.moduleLoadEnd,
            preloadModuleLoadStart: this.preloadModuleLoadStart,
            preloadModuleLoadEnd: this.preloadModuleLoadEnd
        };
    }
}
(() => {
    const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Object.setPrototypeOf(PerformanceNodeTiming.prototype, PerformanceEntry.prototype);
            }
        }
    });
    const __exports = __callInstance36.exports;
    return __exports.data();
})();
(() => {
    const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Object.setPrototypeOf(PerformanceNodeTiming, PerformanceEntry);
            }
        }
    });
    const __exports = __callInstance35.exports;
    return __exports.data();
})();
const nodeTiming = new PerformanceNodeTiming();
class PerformanceObserverEntryList {
    constructor() {
        (() => {
            const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        Object.defineProperties(this, {
                            [kEntries]: {
                                writable: true,
                                enumerable: false,
                                value: {}
                            },
                            [kCount]: {
                                writable: true,
                                enumerable: false,
                                value: 0
                            }
                        });
                    }
                }
            });
            const __exports = __callInstance34.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        L.init(this[kEntries]);
                    }
                }
            });
            const __exports = __callInstance33.exports;
            return __exports.data();
        })();
    }
    [kInsertEntry](entry) {
        const item = { entry };
        (() => {
            const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        L.append(this[kEntries], item);
                    }
                }
            });
            const __exports = __callInstance32.exports;
            return __exports.data();
        })();
        this[kCount]++;
    }
    get length() {
        return this[kCount];
    }
    [kGetEntries](name, type) {
        const ret = [];
        const list = this[kEntries];
        if (!L.isEmpty(list)) {
            let item = L.peek(list);
            while (item && item !== list) {
                const entry = item.entry;
                if (name && entry.name !== name || type && entry.entryType !== type) {
                    item = item._idlePrev;
                    continue;
                }
                (() => {
                    const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                sortedInsert(ret, entry);
                            }
                        }
                    });
                    const __exports = __callInstance31.exports;
                    return __exports.data();
                })();
                item = item._idlePrev;
            }
        }
        return ret;
    }
    getEntries() {
        return this[kGetEntries]();
    }
    getEntriesByType(type) {
        return this[kGetEntries](undefined, `${ type }`);
    }
    getEntriesByName(name, type) {
        return this[kGetEntries](`${ name }`, type !== undefined ? `${ type }` : type);
    }
}
let gcTrackingIsEnabled = false;
class PerformanceObserver extends AsyncResource {
    constructor(callback) {
        if (typeof callback !== lS(0, 29)) {
            throw new ERR_INVALID_CALLBACK();
        }
        (() => {
            const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        super(lS(0, 30));
                    }
                }
            });
            const __exports = __callInstance30.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        Object.defineProperties(this, {
                            [kTypes]: {
                                enumerable: false,
                                writable: true,
                                value: {}
                            },
                            [kCallback]: {
                                enumerable: false,
                                writable: true,
                                value: callback
                            },
                            [kBuffer]: {
                                enumerable: false,
                                writable: true,
                                value: new PerformanceObserverEntryList()
                            },
                            [kBuffering]: {
                                enumerable: false,
                                writable: true,
                                value: false
                            },
                            [kQueued]: {
                                enumerable: false,
                                writable: true,
                                value: false
                            }
                        });
                    }
                }
            });
            const __exports = __callInstance29.exports;
            return __exports.data();
        })();
    }
    disconnect() {
        const types = this[kTypes];
        const keys = Object.keys(types);
        (() => {
            var n = 0;
            const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return n < keys.length ? 1 : 0;
                    },
                    update: () => {
                        n++;
                    },
                    body: () => {
                        {
                            const item = types[keys[n]];
                            (() => {
                                const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                L.remove(item);
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance28.exports;
                                                    return __exports.data();
                                                })();
                                                observerCounts[keys[n]]--;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance2.exports;
                                return __exports.data(item ? 1 : 0);
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance0.exports;
            return __exports.data();
        })();
        this[kTypes] = {};
    }
    observe(options) {
        if (typeof options !== lS(0, 31) || options == null) {
            throw new ERR_INVALID_ARG_TYPE(lS(0, 32), lS(0, 33), options);
        }
        if (!Array.isArray(options.entryTypes)) {
            throw new ERR_INVALID_OPT_VALUE(lS(0, 34), options);
        }
        const entryTypes = options.entryTypes.filter(filterTypes).map(mapTypes);
        if (entryTypes.length === 0) {
            throw new ERR_VALID_PERFORMANCE_ENTRY_TYPE();
        }
        (() => {
            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            setupGarbageCollectionTracking();
                                        }
                                    }
                                });
                                const __exports = __callInstance27.exports;
                                return __exports.data();
                            })();
                            gcTrackingIsEnabled = true;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance3.exports;
            return __exports.data(entryTypes.includes(NODE_PERFORMANCE_ENTRY_TYPE_GC) && !gcTrackingIsEnabled ? 1 : 0);
        })();
        (() => {
            const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.disconnect();
                    }
                }
            });
            const __exports = __callInstance26.exports;
            return __exports.data();
        })();
        this[kBuffer][kEntries] = [];
        (() => {
            const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        L.init(this[kBuffer][kEntries]);
                    }
                }
            });
            const __exports = __callInstance25.exports;
            return __exports.data();
        })();
        this[kBuffering] = Boolean(options.buffered);
        (() => {
            var n = 0;
            const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return n < entryTypes.length ? 1 : 0;
                    },
                    update: () => {
                        n++;
                    },
                    body: () => {
                        {
                            const entryType = entryTypes[n];
                            const list = getObserversList(entryType);
                            const item = { obs: this };
                            this[kTypes][entryType] = item;
                            (() => {
                                const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            L.append(list, item);
                                        }
                                    }
                                });
                                const __exports = __callInstance24.exports;
                                return __exports.data();
                            })();
                            observerCounts[entryType]++;
                        }
                    }
                }
            });
            const __exports = __forInstance1.exports;
            return __exports.data();
        })();
    }
}
class Performance {
    constructor() {
        this[kIndex] = { [kMarks]: new Set() };
    }
    get nodeTiming() {
        return nodeTiming;
    }
    get timeOrigin() {
        return timeOriginTimestamp;
    }
    now() {
        return now() - timeOrigin;
    }
    mark(name) {
        name = `${ name }`;
        (() => {
            const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _mark(name);
                    }
                }
            });
            const __exports = __callInstance23.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this[kIndex][kMarks].add(name);
                    }
                }
            });
            const __exports = __callInstance22.exports;
            return __exports.data();
        })();
    }
    measure(name, startMark, endMark) {
        name = `${ name }`;
        endMark = `${ endMark }`;
        startMark = startMark !== undefined ? `${ startMark }` : lS(0, 35);
        const marks = this[kIndex][kMarks];
        if (!marks.has(endMark) && !(endMark in nodeTiming)) {
            throw new ERR_INVALID_PERFORMANCE_MARK(endMark);
        }
        (() => {
            const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _measure(name, startMark, endMark);
                    }
                }
            });
            const __exports = __callInstance21.exports;
            return __exports.data();
        })();
    }
    clearMarks(name) {
        name = name !== undefined ? `${ name }` : name;
        (() => {
            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this[kIndex][kMarks].delete(name);
                                        }
                                    }
                                });
                                const __exports = __callInstance20.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            _clearMark(name);
                                        }
                                    }
                                });
                                const __exports = __callInstance19.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        {
                            (() => {
                                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this[kIndex][kMarks].clear();
                                        }
                                    }
                                });
                                const __exports = __callInstance18.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            _clearMark();
                                        }
                                    }
                                });
                                const __exports = __callInstance17.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __ifInstance4.exports;
            return __exports.data(name !== undefined ? 1 : 0);
        })();
    }
    timerify(fn) {
        if (typeof fn !== lS(0, 36)) {
            throw new ERR_INVALID_ARG_TYPE(lS(0, 37), lS(0, 38), fn);
        }
        if (fn[kTimerified])
            return fn[kTimerified];
        const ret = timerify(fn, fn.length);
        (() => {
            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        Object.defineProperty(fn, kTimerified, {
                            enumerable: false,
                            configurable: true,
                            writable: false,
                            value: ret
                        });
                    }
                }
            });
            const __exports = __callInstance16.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        Object.defineProperties(ret, {
                            [kTimerified]: {
                                enumerable: false,
                                configurable: true,
                                writable: false,
                                value: ret
                            },
                            name: {
                                enumerable: false,
                                configurable: true,
                                writable: false,
                                value: `timerified ${ fn.name }`
                            }
                        });
                    }
                }
            });
            const __exports = __callInstance15.exports;
            return __exports.data();
        })();
        return ret;
    }
    [kInspect]() {
        return {
            nodeTiming: this.nodeTiming,
            timeOrigin: this.timeOrigin
        };
    }
}
const performance = new Performance();
function getObserversList(type) {
    let list = observers[type];
    (() => {
        const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        list = observers[type] = {};
                        (() => {
                            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        L.init(list);
                                    }
                                }
                            });
                            const __exports = __callInstance14.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance5.exports;
        return __exports.data(list === undefined ? 1 : 0);
    })();
    return list;
}
function doNotify() {
    this[kQueued] = false;
    (() => {
        const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.runInAsyncScope(this[kCallback], this, this[kBuffer], this);
                }
            }
        });
        const __exports = __callInstance13.exports;
        return __exports.data();
    })();
    this[kBuffer][kEntries] = [];
    (() => {
        const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    L.init(this[kBuffer][kEntries]);
                }
            }
        });
        const __exports = __callInstance12.exports;
        return __exports.data();
    })();
}
function observersCallback(entry) {
    const type = mapTypes(entry.entryType);
    (() => {
        const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    (() => {
                        const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    collectHttp2Stats(entry);
                                }
                            }
                        });
                        const __exports = __callInstance11.exports;
                        return __exports.data();
                    })();
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance6.exports;
        return __exports.data(type === NODE_PERFORMANCE_ENTRY_TYPE_HTTP2 ? 1 : 0);
    })();
    const list = getObserversList(type);
    let current = L.peek(list);
    (() => {
        const __forInstance2 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return current && current.obs ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        const observer = current.obs;
                        const buffer = observer[kBuffer];
                        (() => {
                            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        buffer[kInsertEntry](entry);
                                    }
                                }
                            });
                            const __exports = __callInstance10.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                observer[kQueued] = true;
                                                                (() => {
                                                                    const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                setImmediate(doNotify.bind(observer));
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance9.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance8.exports;
                                                return __exports.data(!observer[kQueued] ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            doNotify.call(observer);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance8.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance7.exports;
                            return __exports.data(observer[kBuffering] ? 1 : 0);
                        })();
                        current = current._idlePrev;
                    }
                }
            }
        });
        const __exports = __forInstance2.exports;
        return __exports.data();
    })();
}
(() => {
    const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                setupObservers(observersCallback);
            }
        }
    });
    const __exports = __callInstance7.exports;
    return __exports.data();
})();
function filterTypes(i) {
    return observerableTypes.indexOf(`${ i }`) >= 0;
}
function mapTypes(i) {
    switch (i) {
    case lS(0, 39):
        return NODE_PERFORMANCE_ENTRY_TYPE_NODE;
    case lS(0, 40):
        return NODE_PERFORMANCE_ENTRY_TYPE_MARK;
    case lS(0, 41):
        return NODE_PERFORMANCE_ENTRY_TYPE_MEASURE;
    case lS(0, 42):
        return NODE_PERFORMANCE_ENTRY_TYPE_GC;
    case lS(0, 43):
        return NODE_PERFORMANCE_ENTRY_TYPE_FUNCTION;
    case lS(0, 44):
        return NODE_PERFORMANCE_ENTRY_TYPE_HTTP2;
    }
}
function getInsertLocation(list, entryStartTime) {
    let start = 0;
    let end = list.length;
    while (start < end) {
        const pivot = end + start >>> 1;
        if (list[pivot].startTime === entryStartTime)
            return pivot;
        (() => {
            const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        start = pivot + 1;
                    },
                    impFunc2: () => {
                        end = pivot;
                    }
                }
            });
            const __exports = __ifInstance9.exports;
            return __exports.data(list[pivot].startTime < entryStartTime ? 1 : 0);
        })();
    }
    return start;
}
function sortedInsert(list, entry) {
    const entryStartTime = entry.startTime;
    if (list.length === 0 || list[list.length - 1].startTime < entryStartTime) {
        (() => {
            const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        list.push(entry);
                    }
                }
            });
            const __exports = __callInstance6.exports;
            return __exports.data();
        })();
        return;
    }
    if (list[0] && list[0].startTime > entryStartTime) {
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        list.unshift(entry);
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
        return;
    }
    const location = getInsertLocation(list, entryStartTime);
    (() => {
        const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    list.splice(location, 0, entry);
                }
            }
        });
        const __exports = __callInstance4.exports;
        return __exports.data();
    })();
}
class ELDHistogram {
    constructor(handle) {
        this[kHandle] = handle;
        this[kMap] = new Map();
    }
    reset() {
        (() => {
            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this[kHandle].reset();
                    }
                }
            });
            const __exports = __callInstance3.exports;
            return __exports.data();
        })();
    }
    enable() {
        return this[kHandle].enable();
    }
    disable() {
        return this[kHandle].disable();
    }
    get exceeds() {
        return this[kHandle].exceeds();
    }
    get min() {
        return this[kHandle].min();
    }
    get max() {
        return this[kHandle].max();
    }
    get mean() {
        return this[kHandle].mean();
    }
    get stddev() {
        return this[kHandle].stddev();
    }
    percentile(percentile) {
        if (typeof percentile !== lS(0, 45)) {
            throw new ERR_INVALID_ARG_TYPE(lS(0, 46), lS(0, 47), percentile);
        }
        if (percentile <= 0 || percentile > 100) {
            throw new ERR_INVALID_ARG_VALUE.RangeError(lS(0, 48), percentile);
        }
        return this[kHandle].percentile(percentile);
    }
    get percentiles() {
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this[kMap].clear();
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this[kHandle].percentiles(this[kMap]);
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
        return this[kMap];
    }
    [kInspect]() {
        return {
            min: this.min,
            max: this.max,
            mean: this.mean,
            stddev: this.stddev,
            percentiles: this.percentiles,
            exceeds: this.exceeds
        };
    }
}
function monitorEventLoopDelay(options = {}) {
    if (typeof options !== lS(0, 49) || options === null) {
        throw new ERR_INVALID_ARG_TYPE(lS(0, 50), lS(0, 51), options);
    }
    const {
        resolution = 10
    } = options;
    if (typeof resolution !== lS(0, 52)) {
        throw new ERR_INVALID_ARG_TYPE(lS(0, 53), lS(0, 54), resolution);
    }
    if (resolution <= 0 || !Number.isSafeInteger(resolution)) {
        throw new ERR_INVALID_OPT_VALUE.RangeError(lS(0, 55), resolution);
    }
    return new ELDHistogram(new _ELDHistogram(resolution));
}
module.exports = {
    performance,
    PerformanceObserver,
    monitorEventLoopDelay
};
(() => {
    const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Object.defineProperty(module.exports, lS(0, 56), {
                    configurable: false,
                    enumerable: true,
                    value: constants
                });
            }
        }
    });
    const __exports = __callInstance0.exports;
    return __exports.data();
})();</script>
</body>
</html>
