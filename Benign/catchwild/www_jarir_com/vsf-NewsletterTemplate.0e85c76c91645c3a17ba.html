<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vsf-NewsletterTemplate.0e85c76c91645c3a17ba.html</title>
</head>
<body>

<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[132,127,234],{1905:function(e,t,i){"use strict";i.r(t);i(144);var n=i(191),a={name:"NewsletterSubscribe",data:function(){return{email:""}},validations:{email:{required:n.required,email:n.email}},methods:{subscribe:function(e,t){if(!this.$v.$invalid)return this.$store.dispatch("newsletter/subscribe",this.email).then((function(t){e&&e(t)})).catch((function(e){t&&t(e)}))}}},s=i(623),r=i.n(s),u=i(412),o=i(419),l=i(5),c={name:"NewsletterTemplate",methods:{getMobileNumber:function(){var e="",t=this.$store.state.user.current;return t&&(e=t.hasOwnProperty("mobile_number")?t.mobile_number:""),e},onSubmission:function(){var e=this;if(this.$v.$invalid)this.$v.$touch();else{var t=this.$store.state.user.current;if(t&&t.email===this.email){var i={id:t.id,email:t.email,firstname:t.firstname,lastname:t.lastname,store_id:t.store_id,website_id:t.website_id,isd_code:t.hasOwnProperty("isd_code")?t.isd_code:"",mobile_number:this.getMobileNumber().replace(/\s+/g,""),otpId:"",subscribe:!0,s_id:Object(l.b)().storeId,preferredLanguage:t.hasOwnProperty("preferred_language")?t.preferred_language:"",newPassword:"",currentPassword:"",extension_attributes:{is_subscribed:!0}};this.$store.dispatch("my-account/updateProfile",i).then((function(t){t&&200!==t.code?console.log("issue while subscription"):(r()({icon:"success",text:"Confirmation request has been sent.",button:{text:"Continue",className:"btn btn-primary"}}),e.email="",e.$v.$reset(),e.$bus.$emit("gtm-newsletter-confirmation",i))})).catch((function(e){console.log(e)}))}else this.$store.dispatch("newsLetterStore/subscribe",{email:this.email}).then((function(t){200!==t.code?console.log("issue while subscription"):(r()({icon:"success",text:"Confirmation request has been sent.",button:{text:"Continue",className:"btn btn-primary"}}),e.$bus.$emit("gtm-newsletter-confirmation",{email:e.email}),e.email="",e.$v.$reset())})).catch((function(e){console.log(e)}))}},onSubscribe:function(e){e&&r()({icon:"success",text:"Confirmation request has been sent.",button:{text:"Continue",className:"btn btn-primary"}})}},components:{ButtonFull:u.a,BaseInput:o.a},mixins:[a]},d=i(214),f=Object(d.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.onSubmission(t)}}},[i("BaseInput",{attrs:{type:"email",name:"email",autocomplete:"email","input-class":"input__field--no-border",placeholder:e.$t("Enter your email address"),validations:[{error:e.$v.email.$error},{condition:e.$v.email.$error&&!e.$v.email.required,text:e.$t("This is a required field.")},{condition:!e.$v.email.email&&e.$v.email.$error,text:e.$t("Please provide valid e-mail address.")}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),i("ButtonFull",{staticClass:"button--standard button--primary",attrs:{type:"submit"},nativeOn:{click:function(t){return e.$v.email.$touch(t)}}},[e._v("\n    "+e._s(e.$t("Subscribe"))+"\n  ")])],1)}),[],!1,null,null,null);t.default=f.exports},411:function(e,t,i){"use strict";i(279),i(283),i(282);var n=i(10),a={name:"Icon",data:function(){return{locale:"en-US"}},props:{iconId:{type:String,required:!0},width:{type:Number,required:!1,default:24},height:{type:Number,required:!1,default:24}},computed:{updatedId:function(){return!n.a.locale.includes("ar")||"left_arrow"!==this.iconId&&"right_arrow"!==this.iconId?this.iconId:"left_arrow"===this.iconId?"right_arrow":"left_arrow"}}},s=i(214),r=Object(s.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon",class:[{right:"arrow right_arrow"===this.updatedId},{left:"arrow left_arrow"===this.updatedId}]},[t("img",{attrs:{src:"/assets/images/svg/"+this.updatedId+".svg",width:this.width,height:this.height,loading:"lazy",decoding:"async"}})])}),[],!1,null,null,null);t.a=r.exports},412:function(e,t,i){"use strict";i(279);var n=i(411),a=i(417),s={name:"ButtonFull",components:{Icon:n.a},directives:{focusClean:a.a},props:{type:{type:String,required:!1,default:"button"},link:{type:[String][Object],required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},badge:{type:Number,required:!1,default:void 0},icon:{type:String,required:!1,default:""},iconClass:{type:String,required:!1,default:""},iconSmall:{type:Boolean,required:!1,default:!1},iconLarge:{type:Boolean,required:!1,default:!1},iconSelect:{type:Boolean,required:!1,default:!1}},computed:{compontentType:function(){return this.link?"router-link":"button"},redirectionLink:function(){return this.link?this.localizedRoute(this.link):null}}},r=i(214),u=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.compontentType,{tag:"component",staticClass:"button",class:{disabled:e.disabled,"button-disabled":e.disabled},attrs:{type:!e.link&&e.type,to:e.redirectionLink,disabled:e.disabled}},[e.badge?[i("div",{staticClass:"button__badge",class:{hidden:!e.badge}},[i("div",{staticClass:"badge"},[e._v("\n        "+e._s(e.badge)+"\n      ")])])]:e._e(),e._v(" "),e.icon&&!e.iconSelect?[i("Icon",{staticClass:"button__icon",class:[{"button__icon--small icon--medium":e.iconSmall},{hidden:!e.icon||e.iconSelect},{"icon--extra-large":e.iconLarge},e.iconClass],attrs:{"icon-id":e.icon}})]:e._e(),e._v(" "),e.iconLarge?e._e():[i("span",{staticClass:"button__content",class:[{"button__content--with-icon":e.icon&&!e.iconSelect},{hidden:e.iconLarge}]},[e._t("default")],2)],e._v(" "),e.icon&&e.iconSelect?[i("Icon",{class:[{hidden:!e.iconSelect},e.iconClass],attrs:{"icon-id":e.icon}})]:e._e()],2)}),[],!1,null,null,null);t.a=u.exports},414:function(e,t,i){"use strict";var n={props:{validations:{type:Array,default:function(){return[]}}}},a=i(214),s=Object(a.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.validations?i("div",e._l(e.validations,(function(t,n){return t.condition?i("span",{key:n,staticClass:"input__subtext",attrs:{"data-testid":"errorMessage"}},[e._v("\n    "+e._s(t.text)+"\n  ")]):e._e()})),0):e._e()}),[],!1,null,null,null);t.a=s.exports},417:function(e,t,i){"use strict";var n=i(8);t.a=n.default.directive("focus-clean",{inserted:function(e,t){var i=!1,n=!(!t.value||!t.value.class)&&t.value.class,a=t.value&&t.value.delay?t.value.delay:1e3;e.addEventListener("mousedown",(function(){i=!0})),e.addEventListener("mouseup",(function(e){i=!1,n&&setTimeout((function(){e.target.blur(),e.target.classList.remove(n)}),a)})),e.addEventListener("focus",(function(e){i&&(n?e.target.classList.add(n):e.target.blur())}))}})},419:function(e,t,i){"use strict";i(279);var n=i(414),a=i(411),s={name:"BaseInput",components:{ValidationMessages:n.a,Icon:a.a},computed:{inputError:function(){return!!this.validations.length&&this.validations.some((function(e){return e.condition}))}},props:{isAlphabet:{type:Boolean,required:!1},isNumber:{type:Boolean,required:!1},type:{type:String,required:!0},value:{type:[String,Number],default:""},name:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},label:{type:String,required:!1,default:""},autocomplete:{type:String,required:!1,default:""},focus:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},disabledClass:{type:Boolean,required:!1,default:!0},link:{type:Array,required:!1,default:function(){return[]}},maxlength:{type:Number,required:!1,default:null},validations:{type:Array,default:function(){return[]}},icon:{type:String,required:!1,default:""},iconClass:{type:String,required:!1,default:""},subText:{type:String,required:!1,default:""},inputClass:{type:String,required:!1,default:""},async:{type:Boolean,default:!1}},methods:{isLetter:function(e){var t=String.fromCharCode(e.keyCode);if(this.isAlphabet){if(/^[A-Za-z ]+$/.test(t))return!0;if(/^[\u0600-\u06ff]|[\u0750-\u077f]|[\ufb50-\ufbc1]|[\ufbd3-\ufd3f]|[\ufd50-\ufd8f]|[\ufd92-\ufdc7]|[\ufe70-\ufefc]|[\uFDF0-\uFDFD]+$/.test(t))return!0;e.preventDefault()}else if(this.isNumber){if(/^[0-9]+$/.test(t))return!0;if(/^[\u0660-\u0669]+$/.test(t))return!0;e.preventDefault()}},iconEvent:function(){this.$emit("iconEventTrigger")},setFocus:function(e){this.name===e&&this.$refs[this.name].focus()},handleLinkClick:function(){this.$emit("linkClick")}},mounted:function(){this.focus&&this.$refs[this.name].focus()},watch:{focus:function(e){e&&this.$refs[this.name].focus()}}},r=i(214),u=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input input--field",class:{"input--disabled":e.disabled&&e.disabledClass,"input--error":e.inputError}},[i("div",{staticClass:"input__row"},[e.label?i("label",{staticClass:"input__label"},[e._v(e._s(e.label))]):e._e(),e._v(" "),e.async?i("div",{staticClass:"input__icon async async--dark"}):e._e(),e._v(" "),i("input",{ref:e.name,staticClass:"input__field",class:[{empty:""===e.value},e.inputClass],attrs:{placeholder:e.placeholder,type:e.type,name:e.name,autocomplete:e.autocomplete,autofocus:e.autofocus,disabled:e.disabled,maxlength:e.maxlength},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},focus:function(t){return e.$emit("focus",t.target.value)},blur:function(t){return e.$emit("blur")},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("keyup.enter",t.target.value)},function(t){return e.$emit("keyup",t)}],keypress:function(t){return e.isLetter(t)}}}),e._v(" "),e.link.length?i("a",{staticClass:"input__link",attrs:{href:e.link[0].href},on:{click:e.handleLinkClick}},[e._v("\n      "+e._s(e.link[0].text)+"\n    ")]):e._e(),e._v(" "),e.icon?i("div",{staticClass:"input__icon cursor-pointer",on:{click:e.iconEvent}},[i("Icon",{class:e.iconClass,attrs:{"icon-id":e.icon}})],1):e._e(),e._v(" "),e.subText?i("div",{staticClass:"input__subtext"},[e._v("\n      "+e._s(e.subText)+"\n    ")]):e._e()]),e._v(" "),e.validations?i("ValidationMessages",{attrs:{validations:e.validations}}):e._e()],1)}),[],!1,null,null,null);t.a=u.exports}}]);
//# sourceMappingURL=vsf-NewsletterTemplate.0e85c76c91645c3a17ba.js.map
</script>

</body>
</html>
