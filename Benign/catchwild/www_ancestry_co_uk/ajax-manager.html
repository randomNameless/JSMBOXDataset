<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax-manager.html</title>
</head>
<body>

<script>
!function(){AjaxManager=function(){function e(e,t){switch(e.ResponseType.Value){case"Success":break;case"Redirect":e.RedirectUrl&&(window.location=e.RedirectUrl);break;case"Error":return i(e.ActionErrors),!1;case"Views":n(e.Views,t);break;default:return!1}return!0}function n(e,n){var r,o,a;if(e&&e.length>0)for(r=0,o=e.length;r<o;r++){a=e[r];const i=n.region||a.Region;t(a.Content,a.InsertionMode,i,n.shadowRoot)}}function t(e,n,t,r){switch(regionElement=r?r.getElementById(t):document.getElementById(t),regionEvent=document.createEvent("Event"),regionEvent.initEvent("regionupdated",!0,!0),null===regionElement&&(document.body.insertAdjacentHTML("beforeend",'<div id="'+t+'" style="display:none"></div>'),regionElement=document.getElementById(t)),n.Value){case"InsertBefore":regionElement.insertAdjacentHTML("afterbegin",e);break;case"InsertAfter":regionElement.insertAdjacentHTML("beforeend",e);break;case"Replace":default:regionElement.innerHTML="",regionElement.insertAdjacentHTML("beforeend",e)}regionElement.dispatchEvent(regionEvent)}function r(e){var n={links:[],blocks:[],CombinatorUri:"combo"};return Array.isArray(e)?e.forEach(function(e){o(e,n)}):o(e,n),n}function o(e,n){n.CombinatorUri=e.CombinatorUri,"Views"===e.ResponseType.Value&&e.Resources&&e.Resources.forEach(function(e){null!==e.Src&&e.Src.length>0?n.links.push(e.Src):n.blocks.push(e)})}function a(e){var n,t,r,o,a,i;if(e&&e.length>0){for(n="",t=0,r=e.length;t<r;t++)o=e[t],"Script"===o.Type.Value&&o.Content&&(n+=o.Content);""!==n&&(a=document.getElementsByTagName("head")[0],i=document.createElement("script"),i.type="text/javascript",i.defer=!1,i.text=n,a.appendChild(i))}}function i(e){var n,t,r,o,a,i,c,u;if(e&&e.length>0){for(n=!1,t=!1,r=0,o=e.length;r<o;r++)a=e[0],i="<li><strong>"+a.ExceptionMessage+"</strong> - "+a.ExceptionType+"</li>","Cosmetic"===a.Severity.Value?null!==(c=document.querySelector("#cosmeticErrorContainer ul"))&&(c.innerHTML="",c.insertAdjacentHTML("beforeend",i),n=!0):"ActionPrevented"!==a.Severity.Value&&"CriticalFailure"!==a.Severity.Value||null!==(u=document.querySelector("#ErrorDialog ul"))&&(u.insertAdjacentHTML("beforeend",i),t=!0);n&&(document.getElementById("cosmeticErrorContainer").style.display="block"),t&&alert("errors")}}function c(e,n){n.failure(null,e),n.after()}function u(n,t){var o;"string"==typeof n&&(n=JSON.parse(n)),o=r(n),ResourceManager.addResources(o.CombinatorUri,o.links,function(r){Array.isArray(n)?n.forEach(function(n){r=r&&e(n,t)}):r=r&&e(n,t),a(o.blocks),l(t,n,r)})}function l(e,n,t){t?e.success(n):e.failure(n),e.after()}function s(e,n){return isNaN(e)||isNaN(n)?Date.now().toString()+Math.floor(1e8*Math.random()+1):Math.floor(Math.random()*(1+n-e)+e)}function d(e,n){return Object.keys(n).forEach(function(t){e[t]=n[t]}),e}function f(e,n){var t,r=e.indexOf("?")>0?"&":"?",o="callback"+s();window[o]=function(e){u(e,n);var t=document.getElementById(o);t.parentNode.removeChild(t)},t=document.createElement("script"),t.src=e+r+"callback="+o,t.setAttribute("id",o),document.head.appendChild(t)}return{send:function(e){var n={success:function(){},failure:function(){},before:function(){},after:function(){},cache:!1,url:"",dataType:"jsonp",region:null,shadowRoot:null},t=d(n,e),r=new XMLHttpRequest;if(t.before(),"jsonp"===t.dataType)return void f(t.url,t);r.open("GET",t.url,!0),r.setRequestHeader("webpart-request-type","ajax"),r.onload=function(){r.status>=200&&r.status<400?u(r.response,t):c(r,t)},r.responseType=t.dataType,r.onError=function(){c(r,t)},r.send()}}}(),function(){var e,n,t,r,o=document.querySelectorAll("a[data-ajaxEnable=true]");for(e=0,n=o.length;e<n;e++)o[e].addEventListener("click",function(e){e.preventDefault(),t=e.target,r=extend({},t.dataset),delete r.ajaxenable,AjaxManager.send({url:t.getAttribute("href"),data:r})})}()}();
var ResourceManager=function(){function e(e,t,n){if(n&&n.test(e))for(var r=e.substring(e.indexOf("?")+1,e.length).split("&"),a=0;a<r.length;a++)t[r[a].toLowerCase()]=!0;else t[e.toLowerCase()]=!0}function t(e){var t={},a=n(e);return r("script",["src","data-src"],t,a),r("link",["href"],t,a),r("style",["data-href"],t,a),t}function n(e){return e?new RegExp("^"+e,"i"):null}function r(t,n,r,a){for(var o=document.getElementsByTagName(t),s=0;s<o.length;s++)for(var c=o[s],l=0;l<c.attributes.length;l++)for(var i=c.attributes[l],u=0;u<n.length;u++)if(i.nodeName.toLowerCase()===n[u]){e(i.value,r,a);break}}function a(e,t,n){for(var r={script:"",style:""},a=0;a<e.length;a++){var i=e[a],u=i.toLowerCase();u in x||u in t||(C.test(i)?(o(n,r,c(i)),y(i,n)):s(n,i,r))}l(n,r.script),l(n,r.style),p()}function o(e,t,n){l(e,t[n]),t[n]=""}function s(e,t,n){var r=c(t);""!==r&&(n[r].length+t.length>m&&o(e,n,r),n[r]+="&"+t)}function c(e){var t="";return L.test(e)?t="script":w.test(e)&&(t="style"),t}function l(e,t){t.length>0&&(t=t.replace(/^&/,"?"),y(e+decodeURIComponent(t),e))}function i(){for(;!b&&S.length>0&&k[S[0].toLowerCase()];){var e=u(),t=document.getElementsByTagName("head").item(0);L.test(e.resourceUrl)?t.appendChild(d(e.resourceUrl,e.data)):w.test(e.resourceUrl)&&t.appendChild(f(e.resourceUrl,e.data))}p()}function u(){var t=S.shift(),r=t.toLowerCase(),a=k[r];delete k[r];var o={};e(r,o,n(a.combinatorUrl));for(var s in o)delete x[s];return{resourceUrl:t,data:a.data}}function d(e,t){var n=document.createElement("script");return n.type="text/javascript",n.defer=!1,!0===t?(n.src=e,b=!0,E.hookScriptLoad(n,h)):(n.setAttribute("data-src",e),n.text=t),n}function f(e,t){var n;if(!0===t)n=document.createElement("link"),n.href=e,n.rel="stylesheet",n.type="text/css",b=!0,E.hookStyleLinkLoad(n,h);else{var r=document.createTextNode(t);n=document.createElement("style"),n.type="text/css",n.setAttribute("data-href",e),n.styleSheet?n.styleSheet.cssText=r.nodeValue:n.appendChild(r)}return n}function h(e){U&=!e,b=!1,i()}function p(){if(!b&&0===S.length){for(;T.length>0;){var e=T.shift();e&&e.call(window,!U)}U=!1}}function v(e,t){k[e.toLowerCase()].data=t,i()}function y(e,t){if(C.test(e))g(e,t,!0);else{g(e,t,null);var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?v(e,n.responseText):U=!0)},n.open("GET",e,!0),n.send()}i()}function g(t,r,a){S.push(t);var o=t.toLowerCase();k[o]={data:a,combinatorUrl:r};var s={};e(o,s,n(r));for(var c in s)x[c]=!0}var m=2e3,w=/\.css(\?.*)?$/i,L=/\.js(\?.*)?$/i,C=/^(https?:)?\/\//i,S=[],k={},x={},T=[],b=!1,U=!1,E={addResources:function(e,n,r){T.push(r),e=""+e,a(n,t(e),e)},addResource:function(e,t){T.push(t),y(e,null)},hookScriptLoad:function(e,t){null===e.onreadystatechange?e.onreadystatechange=function(){"complete"==this.readyState?t(!0):"loaded"==this.readyState&&t(!1)}:e.onload=function(){t(!0)}},hookStyleLinkLoad:function(e,t){"sheet"in e?"sheet":"styleSheet";var n=document.styleSheets.length,r=setInterval(function(){try{document.styleSheets.length!=n&&(clearInterval(r),clearTimeout(a),t.call(window,!0))}catch(e){}},10),a=setTimeout(function(){clearInterval(r),clearTimeout(a),t.call(window,!1)},5e3)}};return E}();
</script>

</body>
</html>
