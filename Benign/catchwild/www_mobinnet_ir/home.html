<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home.html</title>
</head>
<body>

<script>
/* ==========================================================================
    Start Home JavaScript
========================================================================== */
jQuery(document).ready(function() {


    /* Owl Carousel */
    jQuery('.owl-carousel#slider').owlCarousel({
        autoplay:true,
        autoplayTimeout:jQuery('#slider').attr('timer'),
        margin:10,
        dots: true,
        loop:true,
        // navText: [`<span class="icon-next"></span>`,`<span class="icon-back"></span>`],
        navText: [`<svg version="1.1" xmlns:svgjs="http://svgjs.com/svgjs" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><path d="M13.2,12l-6.6,6.6c-0.8,0.8-0.7,2.1,0,2.8c0.8,0.7,2,0.7,2.8,0l8-8c0.8-0.8,0.8-2,0-2.8l-8-8C9,2.2,8.5,2,8,2C6.9,2,6,3,6,4.1c0,0.5,0.2,1,0.6,1.4L13.2,12z"/></svg>`,`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 24 24" xml:space="preserve"><path d="m10.828 12 6.586-6.586a2 2 0 0 0-2.828-2.828l-8 8a2 2 0 0 0 0 2.828l8 8A1.992 1.992 0 0 0 16 22a2.013 2.013 0 0 0 1.414-3.414z"></path></svg>`],
        rtl:true,
        responsive:{
            0:{
                nav:false,
                dots:true,
                items:1
            },
            768:{
                nav:true,
                dots:true,
                items:1
            }
        }
    });



    jQuery('.owl-carousel.owl-faq').owlCarousel({
        autoplay:false,
        autoplayTimeout:5000,
        loop:true,
        mouseDrag:true,
        touchDrag:true,
        dots:false,
        nav:true,
 
        // navText: [`<span class="icon-next"></span>`,`<span class="icon-back"></span>`],
        navText: [`<svg version="1.1" xmlns:svgjs="http://svgjs.com/svgjs" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" xml:space="preserve"><path d="M13.2,12l-6.6,6.6c-0.8,0.8-0.7,2.1,0,2.8c0.8,0.7,2,0.7,2.8,0l8-8c0.8-0.8,0.8-2,0-2.8l-8-8C9,2.2,8.5,2,8,2C6.9,2,6,3,6,4.1c0,0.5,0.2,1,0.6,1.4L13.2,12z"/></svg>`,`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 24 24" xml:space="preserve"><path d="m10.828 12 6.586-6.586a2 2 0 0 0-2.828-2.828l-8 8a2 2 0 0 0 0 2.828l8 8A1.992 1.992 0 0 0 16 22a2.013 2.013 0 0 0 1.414-3.414z"></path></svg>`],
        rtl:jQuery('html').attr('lang') == 'fa-IR' ? true : false,
        responsive:{
            0:{
                items:1,
                stagePadding: 100,
                margin:30,
                center: true,
            },
            576:{
                items:1,
                stagePadding: 100,
                margin:40,
                center: true,
            },
            768:{
                items:3,
                center: true,
                margin:25,
            },
            992:{
                items:3,
                center: true,
                margin:40,
            }
        }
    });



    // Smooth scroll
    jQuery('[data-scroll]').on('click', function(e) {
        // e.preventDefault();
        jQuery('html, body').animate({
            scrollTop: jQuery(jQuery(this).data('scroll')).offset().top
        }, 1000);
    });




    
    // Home Blog Slider
    var sliderSelector = '.swiper-container',
        options = {
          init: false,
          loop: true,
          speed:800,
          slidesPerView: 3.6,
          centeredSlides : true,
          effect: 'coverflow', 
          coverflowEffect: {
            rotate: 30,
            stretch: 50,
            depth: 90, 
            modifier: 1,
            slideShadows : false,
          },
          grabCursor: true,
          parallax: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
          breakpoints: {
            991: { 
                slidesPerView: 2,
                spaceBetween: 0,
                coverflowEffect: {
                    rotate: 55,
                    stretch: 50,
                    depth: 150, 
                },
            },
          },
          // Events
          on: {
            imagesReady: function(){
              this.el.classList.remove('loading');
            },
    
            // click(event) {
            //   console.log('event.target',this.clickedIndex);
            //   mySwiper.slideTo(this.clickedIndex);	
            //   if(this.clickedIndex === 0) {
            //     mySwiper.slideTo(5);	
            //   }
            //   if(this.clickedIndex === jQuery('.swiper-container .swiper-slide').length - 1) {
            //     mySwiper.slideTo(5);	
            //   }
            // },
          }
        };
    var mySwiper = new Swiper(sliderSelector, options);
    
    // Initialize slider
    mySwiper.init();


    $(window).resize(function(){
		slideWidth = $(".swiper-slide-active").width();
		slideHeight = $(".swiper-slide-active").height();
		$(".frame").width(slideWidth) ;
		$(".frame").height(slideHeight);
      });
    slideWidth = $(".swiper-slide-active").width();
    slideHeight = $(".swiper-slide-active").height();
    $(".frame").width(slideWidth) ;
    $(".frame").height(slideHeight);



});









// Packages
const isLanguage = document.querySelector('html').getAttribute('lang') === 'fa-IR';
// const isEnglish = string => string.toString().replace(/[۰-۹]/g, i => '۰۱۲۳۴۵۶۷۸۹'.indexOf(i));
// const isPersian = string => string.toString().replace(/\d/g, i => '۰۱۲۳۴۵۶۷۸۹'[i]);
// const isCommafy = string => string.toString().replace(/[,]/g, '').replace(/(\d)(?=(\d{3})+$)/g, '$1,');
const textManagement = () => {
    let element = document.getElementsByClassName("changer-char"), index;
    for(index = 0; index < element.length; index++) {
        let string = element[index].innerHTML; 
        let response = string.replace(/GB/g, '<span style="font-size: 12px;">GB</span>');
        element[index].innerHTML = response;
    }
}
const package = {
    'categoryId': document.querySelector('.owl-category-js'),
    'categoryLength': 0,
    'categoryOption': {
        rtl: isLanguage ? true : false,
        center: false,
        nav: false,	
        dots: false,
        loop: false,
        margin: 10,
        responsive: {
            0:{
                mouseDrag: false,
                touchDrag: false,
                stagePadding: 40,
                items: 3
            },
            567:{
                mouseDrag: false,
                touchDrag: false,
                stagePadding: 50,
                items: 4
            },
            992:{
                mouseDrag: false,
                touchDrag: false,
                stagePadding: 80,
                items: 6
            }
        }
    },
    'categorySetup': '',
    'packageId': document.querySelector('.owl-package-js'),
    'packageData': '',
    'packageLength': 0,
    'packageOption': {
        rtl: isLanguage ? true : false,
        center: false,
        nav: false,	
        loop: false,
        margin: 10,
        responsive: {
            0:{
                mouseDrag: false,
                touchDrag: false,
                stagePadding: 40,
                dots: false,
                items: 1
            },
            567:{
                mouseDrag: false,
                touchDrag: false,
                stagePadding: 50,
                dots: false,
                items: 2
            }
        }
    },
    'packageSetup': '',
    'modemId': document.querySelectorAll('.modem-row')
};

const categoryManagement = id => {
    package.categoryId.querySelectorAll('.item').forEach(element => {
        element.classList.remove('active');
    });
    package.categoryId.querySelector(`.item.catgory${id}`).classList.add('active');

    package.categoryLength = package.categoryId.querySelectorAll('.item').length;

    if((window.innerWidth < 567 && package.categoryLength > package.categoryOption.responsive[0].items) || (window.innerWidth < 992 && package.categoryLength > package.categoryOption.responsive[567].items) || (window.innerWidth >= 992 && package.categoryLength > package.categoryOption.responsive[992].items)) {
        package.categoryOption.responsive[0].mouseDrag = package.categoryLength > package.categoryOption.responsive[0].items ? true : false;
        package.categoryOption.responsive[0].touchDrag = package.categoryLength > package.categoryOption.responsive[0].items ? true : false;
        package.categoryOption.responsive[567].mouseDrag = package.categoryLength > package.categoryOption.responsive[567].items ? true : false;
        package.categoryOption.responsive[567].touchDrag = package.categoryLength > package.categoryOption.responsive[567].items ? true : false;
        package.categoryOption.responsive[992].mouseDrag = package.categoryLength > package.categoryOption.responsive[992].items ? true : false;
        package.categoryOption.responsive[992].touchDrag = package.categoryLength > package.categoryOption.responsive[992].items ? true : false;
        package.categorySetup = jQuery('.owl-category-js').owlCarousel(package.categoryOption);
    } else {
        let number;
        package.categoryId.querySelectorAll(".item").forEach((element, index) => {
            element.style.cssText = `width: ${100 / package.categoryId.querySelectorAll(".item").length}%;`;
            if(element.classList.contains('active')) {
                number = index;
            }
        });

        const position = ((((package.categoryId.clientWidth / package.categoryId.querySelectorAll(".item").length) * number) + ((package.categoryId.clientWidth / package.categoryId.querySelectorAll(".item").length) / 2)) - (package.categoryId.nextElementSibling.clientWidth / 3))+'px';
        if(package.categoryId.querySelector(".item.active").classList.contains('green-dark')) {
            package.categoryId.nextElementSibling.style.cssText = `background: linear-gradient(89.85deg, #333333 0%, #055554 99.75%);right: ${position}`;
        } else if(package.categoryId.querySelector(".item.active").classList.contains('medium-green')) {
            package.categoryId.nextElementSibling.style.cssText = `background: linear-gradient(89.85deg, #90C53B 0%, #188A41 104.73%);right: ${position}`;
        } else if(package.categoryId.querySelector(".item.active").classList.contains('green-light')) {
            package.categoryId.nextElementSibling.style.cssText = `background: linear-gradient(90deg, #A6CE39 -2.2%, #0CB14B 97.8%);right: ${position}`;
        } else if(package.categoryId.querySelector(".item.active").classList.contains('dark')) {
            package.categoryId.nextElementSibling.style.cssText = `background: radial-gradient(100% 1324.96% at 0% 100%, #666666 0%, #000000 100%);right: ${position}`;
        } else if(package.categoryId.querySelector(".item.active").classList.contains('gold')) {
            package.categoryId.nextElementSibling.style.cssText = `background: linear-gradient(130deg, rgba(226,218,124,1) 0%, rgba(215,190,94,1) 29.17%, rgba(204,167,71,1) 69.27%, rgba(221,185,89,1) 100%);right: ${position}`;
        }
    }
}

const packageManagment = (type, id) => {
    if(window.innerWidth > 768) {
        if(type === 'load') {    
            package.packageId.classList.remove('owl-carousel', 'owl-theme');
            package.packageId.classList.add('row');
        }

        package.packageId.querySelectorAll(".item").forEach(element => {
            element.classList.add('col-md-4', 'mb-0', 'mb-md-4');
            if(element.classList.contains(id)) {
                element.style.cssText = 'display: block;';
            } else {
                element.style.cssText = 'display: none;';
            }       
        });
    } else {
        if(type === 'load') {
            package.packageId.classList.remove('row');
            package.packageId.classList.add('owl-carousel', 'owl-theme');
            package.packageData = package.packageId.innerHTML;
            package.packageSetup = jQuery('.owl-package-js').owlCarousel(package.packageOption);
        }

        package.packageSetup.trigger("destroy.owl.carousel");
        package.packageId.innerHTML = package.packageData;
        package.packageId.querySelectorAll(".item").forEach(element => {
            if(!element.classList.contains(id)) element.remove();   
        });
        package.packageLength = package.packageId.querySelectorAll(".item").length;
        package.packageOption.responsive[0].mouseDrag = package.packageLength > package.packageOption.responsive[0].items ? true : false;
        package.packageOption.responsive[0].touchDrag = package.packageLength > package.packageOption.responsive[0].items ? true : false;
        package.packageOption.responsive[567].mouseDrag = package.packageLength > package.packageOption.responsive[567].items ? true : false;
        package.packageOption.responsive[567].touchDrag = package.packageLength > package.packageOption.responsive[567].items ? true : false;
        package.packageSetup = jQuery('.owl-package-js').owlCarousel(package.packageOption);
    }
}

const setupPackage = (type, id) => {
    if(type === 'load') { textManagement(); }
    categoryManagement(id);
    packageManagment(type, id);

    package.modemId.forEach(element => {
        element.style.cssText = 'display: none;';
        if(element.classList.contains(id)) {
            element.style.cssText = 'display: block;';
        }
    });
}
window.addEventListener('load', setupPackage('load', document.querySelector('.owl-category-js .item.active').getAttribute('owl-filter')));
// End of Packages

















/* ==========================================================================
    End Home JavaScript
========================================================================== */
</script>

</body>
</html>
