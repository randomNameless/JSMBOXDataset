<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>id.eventBreadcrumb.html</title>
</head>
<body>

<script>
define(["modules/id.core","modules/id.mainActionBarV2"],function(e){"use strict";e.utils.log("loading id.eventBreadcrumb.js");var t=function(){this.conf={breadcrumbInitClass:"id-Breadcrumb--jsEvent--init",breadcrumbElClass:"id-js-eventBreadcrumb-element",breadcrumbElSelector:".id-js-eventBreadcrumb-element",breadcrumbElOpenClass:"id-Breadcrumb-element-subMenu--open",breadcrumbElOpenSelector:".id-Breadcrumb-element-subMenu--open",breadcrumbElClosedClass:"id-Breadcrumb-element-subMenu--closed",breadcrumbElCatIdDataAttr:"idEventBreadcrumbCatId"},this.currentState={openCategoryId:null,$openElement:null};var t=this;this.handleBreadcrumbClick=function(t){var n,i;n=e.dom.$(t.target),n.hasClass(this.conf.breadcrumbElClass)||(n=e.dom.closest(this.conf.breadcrumbElSelector,n)),i=this.getCatId(n),null!==i&&(t.preventDefault(),e.event.publish(e.event.constants.BREADCRUMB_CLICK,i),this.handleBreadCrumbBehaviour(i))},this.handleBreadCrumbBehaviour=function(n){var i,o,r,s=e.dom.$(t.conf.breadcrumbElSelector,t.breadCrumb),a=s.length,d=t.getCatId(e.dom.$(t.conf.breadcrumbElOpenSelector,t.breadCrumb));for(r=0;a>r;r+=1)o=e.dom.$(s[r]),i=t.getCatId(o),d===n?t.setActiveClass(o,!1):n===i?t.setActiveClass(o,!0):t.setActiveClass(o,!1)},this.getCatId=function(e){var t=e&&e.data()||null;return t&&t[this.conf.breadcrumbElCatIdDataAttr]||null},this.setActiveClass=function(e,t){t?(e.addClass(this.conf.breadcrumbElOpenClass),e.removeClass(this.conf.breadcrumbElClosedClass)):(e.addClass(this.conf.breadcrumbElClosedClass),e.removeClass(this.conf.breadcrumbElOpenClass))},this.init=function(n){var i=e.dom.$(n),o=e.dom.$(this.conf.breadcrumbElSelector,i);this.breadCrumb=n,o.length>0&&(e.dom.bind(n,"click",function(e){t.handleBreadcrumbClick(e)}),e.event.subscribe(e.event.constants.MAIN_NAV_V2_ELEMENT_CLICKED,t.handleBreadCrumbBehaviour,this,!1)),i.removeClass(this.conf.breadcrumbInitClass)}};return t});
</script>

</body>
</html>
