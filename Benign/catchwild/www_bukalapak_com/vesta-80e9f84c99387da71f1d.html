<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vesta-80e9f84c99387da71f1d.html</title>
</head>
<body>

<script>
!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://s0.bukalapak.com/marketplace/",s(s.s=465)}({465:function(e,t,s){(function(e){!function(t){"use strict";const s=e&&e.API&&e.API.wrap||{};function i(){return e&&e.APP&&e.APP.apiURL||"https://api.bukalapak.com"}const n=`${i()}/_exclusive`;const o=s({getWebSessionId:function(){return this.get(`${n}/payments/credit-cards/fds-sessions`,"user")}},"xhrexclusiveGetWebSessionId");class r{constructor(e=[]){return window.vestaSession||(this.EXPIRATION_DATE_KEY="vesta_expiration_date",this.SESSION_ID_KEY="vesta_websession_id",this.ORG_ID_KEY="vesta_org_id",this.subscribers=e,this.loadingState="",this.sessionRequest=null,window.vestaSession=this),window.vestaSession}getExpiryTime(){return new Date(localStorage.getItem(this.EXPIRATION_DATE_KEY))}setExpiryTime(e){localStorage.setItem(this.EXPIRATION_DATE_KEY,e.toISOString())}async getSessionId(){if(localStorage.getItem(this.SESSION_ID_KEY))return localStorage.getItem(this.SESSION_ID_KEY);return(await this.getSessionInfo()).session_id}setSessionId(e){localStorage.setItem(this.SESSION_ID_KEY,e)}getOrgId(){return localStorage.getItem(this.ORG_ID_KEY)}setOrgId(e){localStorage.setItem(this.ORG_ID_KEY,e)}getSubscribers(){return this.subscribers}addSubscriber(e){this.subscribers.push(e)}isExpired(){return this.getExpiryTime()-new Date<=0}async checkExpiry(){if(this.isExpired()){const e=await this.getSessionInfo();e&&this.onSessionUpdate(e.session_id)}else this.extendsExpiryTime()}extendsExpiryTime(e=30){const t=new Date;return t.setMinutes(t.getMinutes()+e),this.setExpiryTime(t),t}async requestSessionInfo(){this.loadingState="pending";try{const e=await o.getWebSessionId(),t=e.data.web_session_id,s=e.data.org_id;return t&&s&&(this.setSessionId(t),this.setOrgId(s),this.extendsExpiryTime()),this.loadingState="success",{session_id:t,org_id:s}}catch(e){return this.loadingState="error",null}}getSessionInfo(){return"pending"===this.loadingState&&this.sessionRequest?this.sessionRequest:(this.sessionRequest=this.requestSessionInfo(),this.sessionRequest)}onSessionUpdate(e){this.subscribers.forEach(t=>{t.setSessionId(e)})}}const a={preproduction:{accountName:"SandboxID0084",url:"https://riskcsproxy.apac.vesta.io/DCCSProxy/Service/vdccs.js"},production:{accountName:"bukalapak",url:"https://collectorsvc.apac.vesta.io/DCCSProxy/Service/vdccs.js"}};class c{constructor({sessionId:e,url:t,accountName:s},i){this.sessionId=e,this.url=t,this.accountName=s,this.callback=i,this.appendNewScript()}setSessionId(e){this.sessionId=e,this.updateScriptSrc()}getSrc(){return`${this.url}?AccountName=${this.accountName}&WebSessionID=${this.sessionId}`}appendNewScript(){if(document.getElementById("vesta-web-tracker"))return;const e=document.createElement("script");e.src=this.getSrc(),e.id="vesta-web-tracker",e.onload=this.callback,document.getElementsByTagName("body")[0].append(e)}updateScriptSrc(){const e=document.getElementById("vesta-web-tracker");if(e){const t=this.getSrc();e.src=t,e.onload=this.callback}else this.appendNewScript()}}const u={ADD_TO_CART:"ADD_TO_CART",CHECKOUT:"CHECKOUT",COMPLETE_ORDER:"COMPLETE_ORDER",CONFIRM_PAYMENT_METHOD:"CONFIRM_PAYMENT_METHOD",CONFIRM_SHIPPING_METHOD:"CONFIRM_SHIPPING_METHOD",FORGOT_PASSWORD:"FORGOT_PASSWORD",GIFTCARD:"GIFTCARD",LOGIN:"LOGIN",LOGIN_ATTEMPT:"LOGIN_ATTEMPT",PAYMENT_DETAILS:"PAYMENT_DETAILS",PROCEED_TO_CHECKOUT:"PROCEED_TO_CHECKOUT",PRODUCTS_LIST:"PRODUCTS_LIST",PRODUCT_DETAIL:"PRODUCT_DETAIL",PROFILE:"PROFILE",PURCHASE_CONFIRMATION:"PURCHASE_CONFIRMATION",REMOVE_FROM_CART:"REMOVE_FROM_CART",SEARCH:"SEARCH",SEND_MONEY:"SEND_MONEY",SETTINGS:"SETTINGS",SHIPPING_DETAILS:"SHIPPING_DETAILS",SHOPPING_CART:"SHOPPING_CART",SHOW_CART:"SHOW_CART",SIGNUP:"SIGNUP",SIGNUP_ATTEMPT:"SIGNUP_ATTEMPT",SIGN_UP:"SIGN_UP"};window.vestaQueue||(window.vestaQueue=[]);class d{static get eventTypes(){return u}static isValidTracker(e){return!!window.vCustomer&&(!!window.vCustomer.EVENT_TAGS&&(!(!e||!window.vCustomer.EVENT_TAGS[e])||(console.error(`event type ${e} is invalid`),!1)))}static startTrack(e){this.isValidTracker(e)?window.vCustomer.startEvent(window.vCustomer.EVENT_TAGS[e]):window.vestaQueue.push({type:"startEvent",eventType:e})}static finishTrack(e){this.isValidTracker(e)?window.vCustomer.finishEvent(window.vCustomer.EVENT_TAGS[e]):window.vestaQueue.push({type:"finishEvent",eventType:e})}static callAllQueue(){for(;window.vestaQueue.length;){const{type:e,eventType:t}=window.vestaQueue.shift();window.vCustomer[e](window.vCustomer.EVENT_TAGS[t])}}}const l=`${i()}/_exclusive`;const S=s({retrieveTogglesStatus:function(e,t){const s=window.location.host.includes("m.")?"bl_mobile_web":"bl_web",i={data:{id:e,platform:t||s}};return this.post(`${l}/neo/toggles`,"user",i)},retrieveNeoConfig:function(e){return this.post("/_exclusive/neo/configs","user",{data:{id:e}})}});(async function(){if(!await async function(){try{return(await S.retrieveTogglesStatus(["payment-vesta-tracker-toggle"])).data[0].active}catch(e){return!1}}())return;const t=new r,s=await t.getSessionId(),{accountName:i,url:n}=a[e&&e.APP&&e.APP.apiURL.includes("api.bukalapak.com")?"production":"preproduction"],o=d.callAllQueue,u=new c({sessionId:s,url:n,accountName:i},o);t.addSubscriber(u);const l=function(e,t){let s=0;return function(...i){const n=new Date;n-s>=t&&(e(...i),s=n)}}(()=>t.checkExpiry(),6e4);window.onload=l,window.onmousemove=l,window.ontouchstart=l,window.onclick=l,t.checkExpiry()})(),t.VestaSessionInfo=r,Object.defineProperty(t,"__esModule",{value:!0})}({})}).call(this,s(9))},9:function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s}});
//# sourceMappingURL=vesta-80e9f84c99387da71f1d.js.map
</script>

</body>
</html>
