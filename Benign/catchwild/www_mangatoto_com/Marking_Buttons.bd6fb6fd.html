<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marking_Buttons.bd6fb6fd.html</title>
</head>
<body>

<script>
import"./index.8365acb2.js";import{c as k,A as I,z as S,w as F,u as C,y as z,x as D,t as q,f as R}from"./reavars.660bacce.js";import{g as y}from"./get_content_comic_SserMarking.2ef3038d.js";import{M as V}from"./MarkingButton_Follow.899435d0.js";import{c as p}from"./index.6a5a335b.js";import{m as K}from"./marking_statuss.9d622f52.js";import{j as e}from"./jsx-runtime.7d759e48.js";import{F as B}from"./FontIcon_MaterialCommOldIcons.ec865c5e.js";import{u as v}from"./useQuery.a4ed7007.js";import{F as w}from"./FontIcon_FontAwesome5.0e0cb40f.js";import{m as E}from"./marking_emotions.f1bb90d8.js";import{C as L}from"./CreateIcon.643c07e4.js";import{b as W}from"./marking_system.41c8f6bb.js";import{F as M}from"./FontIcon_FontAwesome.5dcf1038.js";import{F as O}from"./FontIcon_AntDesign.4fef2788.js";import{M as A}from"./MarkdownDisplay.25bf213f.js";import{W as G}from"./WarnedMask.7e403412.js";import{R as T}from"./ReactProviders.242c2151.js";import"./LocalStorage.f84880a8.js";import"./global_theme.97ef2353.js";import"./index.f5993dad.js";import"./client.56225896.js";import"./fgm_content_comic_sser.740c0541.js";import"./func_readable_number.28566f22.js";import"./FontIcon_MaterialIcons.959bf5eb.js";import"./index.4cf809ff.js";import"./store.e7c0cc53.js";import"./useBaseQuery.5308c781.js";import"./system_QueryClient_DefaultOptions.2a38a32d.js";import"./utils.8269c30c.js";import"./lodash.e84e4d54.js";import"./func_attachment_name_to_http.94bdbc5a.js";import"./func_base_domain.794ffdc8.js";import"./index.c4d45b2c.js";import"./LimitHeight.62cc5c6f.js";const U={user:57349,people:57345,"user-female":57344,"user-follow":57346,"user-following":57347,"user-unfollow":57348,login:57446,logout:57445,emotsmile:57377,phone:58880,"call-end":57416,"call-in":57415,"call-out":57414,map:57395,"location-pin":57494,direction:57410,directions:57409,compass:57413,layers:57396,menu:58881,list:57447,"options-vertical":58882,options:58883,"arrow-down":58884,"arrow-left":58885,"arrow-right":58886,"arrow-up":58887,"arrow-up-circle":57464,"arrow-left-circle":57466,"arrow-right-circle":57465,"arrow-down-circle":57467,check:57472,clock:57473,plus:57493,minus:58901,close:57474,event:58905,exclamation:58903,organization:58902,trophy:57350,"screen-smartphone":57360,"screen-desktop":57361,plane:57362,notebook:57363,mustache:57364,mouse:57365,magnet:57366,energy:57376,disc:57378,cursor:57454,"cursor-move":57379,crop:57380,chemistry:57382,speedometer:57351,shield:57358,"screen-tablet":57359,"magic-wand":57367,hourglass:57368,graduation:57369,ghost:57370,"game-controller":57371,fire:57372,eyeglass:57373,"envelope-open":57374,"envelope-letter":57375,bell:57383,badge:57384,anchor:57385,wallet:57386,vector:57387,speech:57388,puzzle:57389,printer:57390,present:57391,playlist:57392,pin:57393,picture:57394,handbag:57397,"globe-alt":57398,globe:57399,"folder-alt":57401,folder:57481,film:57402,feed:57403,drop:57406,drawer:57407,docs:57408,doc:57477,diamond:57411,cup:57412,calculator:57417,bubbles:57418,briefcase:57419,"book-open":57420,"basket-loaded":57421,basket:57422,bag:57423,"action-undo":57424,"action-redo":57425,wrench:57426,umbrella:57427,trash:57428,tag:57429,support:57430,frame:57400,"size-fullscreen":57431,"size-actual":57432,shuffle:57433,"share-alt":57434,share:57435,rocket:57436,question:57437,"pie-chart":57438,pencil:57439,note:57440,loop:57444,home:57449,grid:57450,graph:57451,microphone:57443,"music-tone-alt":57441,"music-tone":57442,"earphones-alt":57404,earphones:57405,equalizer:57452,like:57448,dislike:57453,"control-start":57455,"control-rewind":57456,"control-play":57457,"control-pause":57458,"control-forward":57459,"control-end":57460,"volume-1":57503,"volume-2":57504,"volume-off":57505,calendar:57461,bulb:57462,chart:57463,ban:57468,bubble:57469,camrecorder:57470,camera:57471,"cloud-download":57475,"cloud-upload":57476,envelope:57478,eye:57479,flag:57480,heart:57482,info:57483,key:57484,link:57485,lock:57486,"lock-open":57487,magnifier:57488,"magnifier-add":57489,"magnifier-remove":57490,"paper-clip":57491,"paper-plane":57492,power:57495,refresh:57496,reload:57497,settings:57498,star:57499,"symbol-female":57500,"symbol-male":57501,target:57502,"credit-card":57381,paypal:58888,"social-tumblr":57354,"social-twitter":57353,"social-facebook":57355,"social-instagram":58889,"social-linkedin":58890,"social-pinterest":58891,"social-github":58892,"social-google":58893,"social-reddit":58894,"social-skype":58895,"social-dribbble":57357,"social-behance":58896,"social-foursqare":58897,"social-soundcloud":58898,"social-spotify":58899,"social-stumbleupon":58900,"social-youtube":57352,"social-dropbox":57356,"social-vkontakte":58904,"social-steam":58912};function $(o){return e.jsx(L,{attrs:o,glyphMap:U,fontFamily:"SimpleLineIcons"})}function H(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_status",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=_||u||m,l=f?.[i];function x(){if(!n){if(!t.uid){k(!0);return}I({rqKeys:[a],comicId:s,value:l})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-blue-500":l}),disabled:t.uid&&!t.is_verified,onClick:x,children:[e.jsx(B,{name:"progress-check",size:20,className:p({"animate-spin":n})}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:l?K[l]?.text:"Status"})]})}function P(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_score",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=f?.[i],l=_||u||m;function x(){if(!l){if(!t.uid){k(!0);return}S({rqKeys:[a],comicId:s,value:n})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-yellow-500":n}),disabled:t.uid&&!t.is_verified,onClick:x,children:[e.jsx(w,{name:"star",s:"1",size:20,className:p({"animate-spin":l})}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:n||"Score"})]})}function Q(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_emotion",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=f?.[i],l=_||u||m;function x(){if(!l){if(!t){k(!0);return}F({rqKeys:[a],comicId:s,value:n})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-sky-500":n}),disabled:t.uid&&!t.is_verified,onClick:x,children:[n?e.jsx("img",{src:`/public-assets/img/emotions/${n}.png`,width:20,className:p({"animate-spin":l})}):e.jsx(w,{name:"smile",size:20,className:p({"animate-spin":l})}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:n?E[n]?.text:"Emotion"})]})}function J(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_ctags",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=_||u||m,l=f?.[i];function x(){if(!n){if(!t.uid){k(!0);return}C({rqKeys:[a],comicId:s,value:l})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-pink-500":l?.length}),disabled:t.uid&&!t.is_verified,onClick:x,children:[e.jsx(w,{name:"tags",size:20,className:p({"animate-spin":n})}),e.jsxs("small",{className:"text-xs whitespace-nowrap",children:[l?.length?l.length:"My"," Tags"]})]})}function X(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_note",a=["get_content_comic_SserMarking",s,i],d=[a,["get_content_comic_SserMarking",s]],{isIdle:_,isLoading:u,isFetching:m,isRefetching:b,isSuccess:j,isError:f,data:h,refetch:n}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),l=h?.[i],x=u||m||b;function N(){if(!x){if(!t.uid){k(!0);return}z({rqKeys:d,comicId:s,value:l})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-violet-500":l}),onClick:N,children:[e.jsx($,{name:"note",size:20}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:"My Notes"})]})}function Y(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_mylists",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=f?.[i],l=_||u||m;function x(){if(!l){if(!t.uid){k(!0);return}D({rqKeys:[a],comicId:s,value:n})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-blue-500":n?.length}),disabled:t.uid&&!t.is_verified,onClick:x,children:[e.jsx(M,{name:"list",size:20}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:n?.length?n.length+" Lists":W})]})}function Z(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_block",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=f?.[i],l=_||u||m;function x(){if(!l){if(!t.uid){k(!0);return}q({rqKeys:[a],comicId:s,value:n})}}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-red-500":n}),disabled:t.uid&&!t.is_verified,onClick:x,children:[e.jsx(w,{name:"ban",size:20,className:p({"animate-spin":l})}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:n?"Blocked":"Block"})]})}function ee(o){const{sess:r,comicId:s,value:c,comicNode:t}=o,{_sser:g,_sets:i}=r;function a(){if(!g.uid){k(!0);return}R({comicNode:t})}return e.jsxs("button",{className:p("btn btn-lg flex flex-col rounded-none px-0",{}),disabled:g.uid&&!g.is_verified,onClick:a,children:[e.jsx(w,{name:"bug",size:20}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:"Report"})]})}function se(o){const{sess:r,comicId:s,value:c}=o,{_sser:t,_sets:g}=r,i="sser_upload",a=["get_content_comic_SserMarking",s,i],{isIdle:d,isLoading:_,isFetching:u,isRefetching:m,isSuccess:b,isError:j,data:f,refetch:h}=v(a,()=>y({id:s},{fields:i}),{enabled:!!t.uid,initialData:{id:s,[i]:c},retry:3,retryDelay:3*1e3}),n=f?.[i];return e.jsxs("a",{className:p("btn btn-lg flex flex-col rounded-none px-0",{"text-blue-500":n}),href:`/subject-overview/${s}`,disabled:t.uid&&!t.is_verified,target:"_blank",children:[e.jsx(w,{name:"upload",size:20}),e.jsx("small",{className:"text-xs whitespace-nowrap",children:"Upload"})]})}function te(o){const{sess:r,comicNode:s,where:c="top"}=o,t=s.id,{_sser:g}=r,i=!g.uid,a=["get_content_comic_SserMarking",t],{data:d={},isFetching:_,isLoading:u,isRefetching:m,isIdle:b,isSuccess:j,isError:f,refetch:h}=v(a,()=>y({id:t}),{enabled:!i,initialData:{id:s.id,sser_follow:s.sser_follow,sser_status:s.sser_status,sser_score:s.sser_score,sser_emotion:s.sser_emotion,sser_ctags:s.sser_ctags,sser_note:s.sser_note,sser_mylists:s.sser_mylists,sser_block:s.sser_block,sser_report:s.sser_report,sser_upload:s.sser_upload},staleTime:1/0,refetchOnMount:!0,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),n=u||_||m;return e.jsxs("div",{className:"flex flex-col justify-center items-center w-full",children:[e.jsxs("div",{className:p("relative w-full ",{"max-w-xs":c==="bot"}),children:[c==="top"&&e.jsxs("div",{className:"w-full grid gap-1 grid-cols-4 md:grid-cols-7",children:[e.jsx(V,{sess:r,comicId:t,value:d.sser_follow,where:"page"}),e.jsx(X,{sess:r,comicId:t,value:d.sser_note}),e.jsx(H,{sess:r,comicId:t,value:d.sser_status}),e.jsx(P,{sess:r,comicId:t,value:d.sser_score}),e.jsx(Q,{sess:r,comicId:t,value:d.sser_emotion}),e.jsx(Y,{sess:r,comicId:t,value:d.sser_mylists}),e.jsx(J,{sess:r,comicId:t,value:d.sser_ctags})]}),c==="bot"&&e.jsxs("div",{className:"w-full grid gap-1 grid-cols-3",children:[e.jsx(Z,{sess:r,comicId:t,value:d.sser_block}),e.jsx(ee,{sess:r,comicId:t,value:d.sser_report,comicNode:s}),e.jsx(se,{sess:r,comicId:t,value:d.sser_upload})]}),e.jsx(ie,{sess:r,isSpinner:n,isError:f,isGuest:i,onRefetch:h}),e.jsx(G,{sess:r})]}),!!(c==="top"&&d.sser_note)&&e.jsx(re,{code:d.sser_note})]})}function ie(o){const{sess:r,isSpinner:s=!1,isError:c=!1,isGuest:t=!1,onRefetch:g=()=>{}}=o;return s?e.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-neutral/60 flex justify-center items-center",children:e.jsx(w,{name:"spinner",size:"1.5rem",className:"animate-spin"})}):t?e.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-neutral/60 flex justify-center items-center",children:e.jsx("button",{className:"btn btn-outline btn-primary",onClick:()=>k(!0),children:e.jsx(O,{name:"login",size:"1.5rem"})})}):c?e.jsx("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-neutral/60 flex justify-center items-center",children:e.jsx("button",{className:"btn btn-error",onClick:g,children:e.jsx(M,{name:"refresh",size:"1.5rem"})})}):null}function re(o){const{code:r}=o;return r?e.jsxs("div",{className:"mt-5 w-full border border-base-300 p-1 pl-7 relative",children:[e.jsx(A,{maxHeight:"max-h-28",noOutlinkWarning:!0,children:r}),e.jsx(w,{name:"sticky-note",size:20,className:"absolute left-1 -top-4 text-primary"})]}):null}function We(o){return e.jsx(T,{...o,children:e.jsx(te,{...o})})}export{We as default};

</script>

</body>
</html>
