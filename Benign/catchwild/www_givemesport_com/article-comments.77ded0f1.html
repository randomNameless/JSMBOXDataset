<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>article-comments.77ded0f1.html</title>
</head>
<body>

<script>
!function(e){var t={};function n(i){var o;return(t[i]||(o=t[i]={i:i,l:!1,exports:{}},e[i].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/build/",n(n.s=20)}({20:function(e,t,n){e.exports=n("Vp8O")},Vp8O:function(e,t,n){"use strict";n.r(t);var i=n("YmMZ"),o=n("wd5N"),a=n("rHMK");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],d=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);d=!0);}catch(e){l=!0,o=e}finally{try{if(!d&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw o}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n,i,o,a,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return i=!(n=!0),{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){i=!0,o=e},f:function(){try{n||null==r.return||r.return()}finally{if(i)throw o}}};if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){var n;if(e)return"string"==typeof e?l(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var c,u,m,g=!1;function p(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}function w(e){e=function(e){for(var t=document.createElement("div"),n=e,i=(t.innerHTML=n,t.setAttribute("hidden",!0),document.body.appendChild(t),t.querySelectorAll("span.ql-emojiblot")),o=0;o<i.length;o++){var a=i[o].outerHTML,r=i[o].innerText;n=n.replace(a,r)}return t.remove(),n}(e);var t=S();if(t){for(var n=document.createElement("div"),i=(n.setAttribute("hidden",!0),n.innerHTML=e,document.body.append(n),n.querySelectorAll(".mention")),o=0;o<i.length;o++){var a=i[o],r=a.getAttribute("data-value");if(r){for(var s=void 0,d=0;d<t.length;d++)if(t[d].value+""==r+""){s=t[d];break}if(!s){var l=L.exec(r);if(L.lastIndex=0,!l||l.length<3)continue;var c=l[2];s={idPublic:c,displayName:l=l[1]}}(c=document.createElement("span")).innerHTML=function(e){return'<span data-id-public="'.concat(e.idPublic,'">').concat(e.displayName,"</span>")}(s),a.replaceWith(c.firstChild)}}e=n.innerHTML,n.remove()}return e}function f(e){e.children[1].classList.remove("active")}function h(e){var t=document.getElementById("user-info-div");e&&(e=document.getElementById("commentInput"),setElementVisibility(e,"hide","blur"),(e=document.getElementById("btn-comment-submit"))&&setElementVisibility(e,"show"),t&&(t.style.display=""),(e=document.getElementById("comment-submit-rules"))&&(e.style=null),(t=document.getElementById("commentTextEditor"))&&setElementVisibility(t,"show"),e=document.getElementById("commentToolbar"))&&setElementVisibility(e,"show")}window.enableCommentSubmit=!0,window.checkCommentVotes=function(){for(var e in localStorage)-1!=e.indexOf("votes_")&&JSON.parse(localStorage.getItem(e)).dateCreated<Date.now()-864e5&&localStorage.removeItem(e);var t;(t=((t=document.querySelectorAll(".user-comment-vote-btn.vote-up"))&&0<t.length&&t.forEach((function(e){var t;e.classList.contains("voted")||(t=localStorage.getItem("votes_".concat(e.dataset.idComment)))&&"up"==JSON.parse(t).voteType&&(e.dataset.reset="true",e.classList.add("voted"))})),document.querySelectorAll(".user-comment-vote-btn.vote-down")))&&0<t.length&&t.forEach((function(e){var t;e.classList.contains("voted")||(t=localStorage.getItem("votes_".concat(e.dataset.idComment)))&&"down"==JSON.parse(t).voteType&&(e.dataset.reset="true",e.classList.add("voted"))}))},window.createUserCards=function(){var e=document.querySelectorAll(".js-threads-text");e&&0<e.length&&e.forEach((function(e){e.hasEventListeners||(u=c=null,e.addEventListener("mouseenter",(function(t){t.preventDefault(),c&&clearTimeout(c),u&&u!=e&&f(u),u=null,e.children[1].classList.add("active")})),e.addEventListener("mouseleave",(function(t){t.preventDefault(),u=e,c=setTimeout((function(){return f(e)}),150)})),e.hasEventListeners=!0)})),(e=document.querySelectorAll(".user-name"))&&0<e.length&&e.forEach((function(e){e.hasEventListeners||(u=c=null,e.addEventListener("mouseenter",(function(t){t.preventDefault(),c&&clearTimeout(c),u&&u!=e&&f(u),u=null,e.children[1].classList.add("active")})),e.addEventListener("mouseleave",(function(t){t.preventDefault(),u=e,c=setTimeout((function(){return f(e)}),150)})),e.hasEventListeners=!0)}))},window.onCommentStateUpdated=function(){for(var e=document.querySelectorAll("button[data-user-id-public]"),t=0;t<e.length;t++)!function(){var n=e[t];n.alreadyAttached||(n.addEventListener("click",(function(e){e.preventDefault(),e.stopImmediatePropagation();e=n.getAttribute("data-user-id-public");var t=n.getAttribute("data-user-display-name");try{navigator.clipboard.writeText("|@".concat(t,"#").concat(e,"|")),window.displaySuccessMessage("".concat(t,"#").concat(e," copied to clipboard")),n.classList.add("is-copied"),setTimeout((function(){n.classList.remove("is-copied")}),2e3)}catch(e){n.classList.add("is-error"),window.displayErrorMessage("Please allow clipboard access.")}})),n.alreadyAttached=!0)}();window.makeSingleImageClickableOnLazyLoadedList&&window.makeSingleImageClickableOnLazyLoadedList()},window.submitComment=function(e){var t,n,i,o,r,s,d,l,c,u;window.allowNewComments&&Object(a.a)(e)&&(t=document.getElementById("btn-comment-submit"),document.getElementById("displayNameBox"),document.getElementById("comment-submit-rules"),n=document.getElementById("is-rating-enabled")?document.getElementById("is-rating-enabled").value:0,i=null,(o=document.querySelector('input[name="rate"]:checked'))&&(i=o.value),n&&0<n&&(null==o||null==i)?window.displayErrorMessage("Please provide a review score."):(o=window.articleId,r=window.articleIdEmaki,(c=p(s=w((s=window.quillEditor.commentTextEditor)?s.root.innerHTML:""))).length&&(2e3<c.length||3e3<s.length)?window.displayErrorMessage("Comment length exceeds the maximum limit."):C(s)&&(d=window.tagId,c.length&&0<c.length||n&&0<n||window.uploadedImage)&&(o||d)&&window.enableCommentSubmit&&(window.enableCommentSubmit=!1,(l=new XMLHttpRequest).open("POST","/comment-submit/",!0),c=new FormData,window.uploadedImage&&c.append("file",window.uploadedImage),c.append("comment",s),c.append("rating",i),o&&c.append("idArticle",o),r&&c.append("idArticleEmaki",r),d&&c.append("idTag",d),t&&t.dataset.idRating&&c.append("idRating",t.dataset.idRating),u=!1,e.hasOwnProperty("newDisplayName")&&(c.append("newDisplayName",e.newDisplayName),u=!0,delete e.newDisplayName),l.onreadystatechange=function(){var e,i,o,a;4==l.readyState&&l.response&&((e=JSON.parse(l.response)).error?window.displayErrorMessage(e.message,null!=d?d:null):(window.quillEditor.commentTextEditor&&(window.quillEditor.commentTextEditor.setContents([]),i=document.getElementById("imageAttached"))&&i.classList.add("is-hidden"),e.commentHtml&&(i=e.commentHtml,a=document.getElementById("comment-form"),n?((o=document.getElementById("comment-inplace")).innerHTML=i,o.classList.remove("is-hidden"),a.classList.add("is-hidden")):(document.getElementById("comments-feed-list").insertAdjacentHTML("afterbegin",i),a.classList.remove("is-hidden")),(o=document.getElementById("noCommentMessage"))&&(o.innerHTML="",o.style.display="none"),a=+(i=document.getElementById("comments-number")).innerHTML,i.innerText=++a,i.classList.remove("is-hidden"),window.uploadedImage&&(window.uploadedImage=null),n?window.displaySuccessMessage("Your review has been saved successfully"):window.displaySuccessMessage("Your comment has been saved successfully")),window.addCommentOptionsEventListeners(),window.addUpvoteEventListeners(),window.commentPage=e.commentPage,(o=document.getElementById("nextButton"))&&(e.isLastPage?o.style.display="none":o.style.display="flex"),e.rating&&(e.idRating&&t&&(t.setAttribute("data-id-rating",e.idRating),window.displaySuccessMessage("Your rating has been saved successfully")),a=null,e.idComment&&(a=e.idComment),window.handleRatingInputAfterSubmit(d,e.rating,a)),u&&window.location.reload()),window.enableCommentSubmit=!0,window.onCommentStateUpdated())},l.send(c))))},window.handleRatingInputAfterSubmit=function(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if((n=((n=(document.querySelectorAll(".active-rating-".concat(e,".rate-cta.user-rating-input-container")).forEach((function(e){e.classList.add("is-hidden")})),document.querySelectorAll(".active-rating-".concat(e,".rate-cta.user-rating-score")).forEach((function(e){i?e.setAttribute("data-id-comment",i):e.removeAttribute("data-id-comment"),e.classList.remove("is-hidden")})),document.getElementById("thread-user-rating-score")))&&n.classList.remove("is-hidden"),document.getElementById("ratingInput")))&&n.classList.add("is-hidden"),document.querySelectorAll(".active-rating-".concat(e,".rating-text.rate-number")).forEach((function(e){e.innerHTML=t+"<em>/10</em>"})),i){window.enableExistingUserRatingButtons();var o,a=s(document.querySelectorAll(".active-rating-".concat(e,".review-link")));try{for(a.s();!(o=a.n()).done;)o.value.innerText="See Your Review"}catch(e){a.e(e)}finally{a.f()}}},window.submitDisplayCardComment=function(e,t,n,i){var o,r,s,d;Object(a.a)(e)?null==t||null==n?window.displayErrorMessage("Please provide a review score."):(o=document.querySelector(".active-rating-"+t+".review-link.is-hidden"),e=window.articleId,r=window.articleIdEmaki,t&&window.enableCommentSubmit&&(window.enableCommentSubmit=!1,(s=new XMLHttpRequest).open("POST","/comment-submit/",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),(d=new URLSearchParams).append("rating",n),e&&d.append("idArticle",e),r&&d.append("idArticleEmaki",r),t&&d.append("idTag",t),i&&d.append("idRating",i),s.onreadystatechange=function(){var e,i;4==s.readyState&&s.response&&((e=JSON.parse(s.response)).error?window.displayErrorMessage(e.message):(o&&o.classList.remove("is-hidden"),e.rating&&e.idRating&&((i=document.getElementById("dc-".concat(t,"-ratingInputUser")))&&i.setAttribute("data-id-rating",e.idRating),window.displaySuccessMessage("Your rating has been saved successfully",t)),window.handleRatingInputAfterSubmit(t,e.rating),(i=document.querySelector('input[name="rate"][value="'.concat(n,'"]')))&&(i.checked=!0)),window.enableCommentSubmit=!0)},s.send(d.toString()))):document.cookie="IdTagToRate="+t},window.setElementVisibility=function(e){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,n=!0===(n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"show")||"show"===n,i=!0===(i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"blur")||"focus"===i;e&&(n?(e.style.display="block",i&&e.focus()):(e.style.display="none",t&&(e.innerHTML=t),e.blur()))},window.expandComments=function(){document.getElementById("w-comment-feed").classList.add("is-expand");var e=document.getElementById("expand-comments-button");setElementVisibility(e,"hide","blur")},window.editDisplayCardRatings=function(){document.querySelectorAll(".dc-user-rating-edit").forEach((function(e){function t(t){var n=t.target.dataset.idTag;(t=e.closest(".w-user-rating")).querySelectorAll(".active-rating-".concat(n)).forEach((function(e){return e.classList.toggle("is-hidden")})),t.querySelectorAll("#btn-prompt-dc-rating-".concat(n)).forEach((function(e){return e.classList.remove("is-hidden")})),document.querySelectorAll(".dc-user-rate").forEach((function(e){return e.checked=!1})),t.querySelectorAll(".dc-user-rate").forEach((function(e){e.checked=!1,e.name="dc-user-rate-".concat(n,"-active")}))}e.removeEventListener("click",t),e.addEventListener("click",t)}))},window.changeInputToTextarea=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=window.location.pathname,i=document.getElementById("user-info-div"),o=Object(a.a)(e,t);o&&(n.startsWith("/video/")&&o?(e=document.getElementById("commentInput"),i.style.display="none",e.addEventListener("click",(function(e){return e.stopPropagation(),h(o),!1})),document.getElementById("commentTextEditor").style.display="none",document.getElementById("commentToolbar").style.display="none"):h(o))},window.fetchArticleComments=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("commentInput"),i=document.getElementById("userRatingCommentId"),o=document.getElementById("is-rating-enabled"),a=new XMLHttpRequest,r=(a.open("POST","/comment-fetch/",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),new URLSearchParams),s=window.articleIdEmaki,d=window.batchSize||10,l=window.childBatchSize||10,c=window.commentPage||1,u=window.sortOrder||"RECOMMENDED",m=window.tagId;s&&r.append("idArticle",s),m&&r.append("idTag",m),r.append("commentPage",c),r.append("direction",e),r.append("batchSize",d),r.append("childBatchSize",l),r.append("sortOrder",u),r.append("isSorted",t),i&&i.value&&r.append("userCommentId",i.value),o&&o.value&&r.append("isRatingEnabled",o.value),a.onreadystatechange=function(){var e,i,o,r,s;4==a.readyState&&a.response&&((e=JSON.parse(a.response)).error?window.displayErrorMessage(e.message):(n&&(n.value=""),i=document.getElementById("comments-feed-list"),o=e.commentsListHtml,(r=document.querySelectorAll(".comments-feed-item"))&&0<r.length&&r.forEach((function(e){e.classList.remove("is-last")})),t?window.adsNinja&&window.adsNinja.initialized?(window.adsNinja=window.adsNinja||{},window.adsNinja.queue=window.adsNinja.queue||[],window.adsNinja.queue.push((function(){try{window.adsNinja.monetizeDynamicContent("comments-feed-list",{name:"comments",groupName:"footer"},"replace",{countAndIgnore:["first"],ignore:["comments-feed-pagination"]},o)}catch(e){console.warn(e),i.innerHTML=o}}))):i.innerHTML=o:i.insertAdjacentHTML("beforeend",o),window.addCommentOptionsEventListeners(),window.addUpvoteEventListeners(),window.addSeeMoreButtonEventListeners(),window.commentPage=e.commentPage,(r=document.getElementById("nextButton"))&&(r=r.parentElement,s="flex",e.isLastPage&&(s="none"),r)&&(r.style.display=s),window.createUserCards(),window.checkCommentVotes(),console.log("%cEvent dispatched : valnet_ui_event:post_load_init","color: green; font-weight: bold;"),window.dispatchEvent(new Event("valnet_ui_event:post_load_init"))),window.onCommentStateUpdated())},a.send(r.toString())},window.fetchCommentReplies=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=document.getElementById("commentInput"),o=new XMLHttpRequest,a=(o.open("POST","/comment-reply-fetch/",!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),new URLSearchParams),r=e.dataset.idComment,s=e.dataset.commentPage,d=window.childBatchSize||10,l=window.sortOrder||"RECOMMENDED";a.append("idComment",r),a.append("commentPage",s),a.append("direction",t),a.append("batchSize",d),a.append("sortOrder",l),a.append("isSorted",n),o.onreadystatechange=function(){var t,n;4==o.readyState&&o.response&&((t=JSON.parse(o.response)).error?window.displayErrorMessage(t.message):(i&&(i.value=""),n=t.repliesListHtml,e.parentNode.insertAdjacentHTML("beforebegin",n),window.addCommentOptionsEventListeners(),window.addUpvoteEventListeners(),e.dataset.commentPage=t.commentPage,t.isLastPage?((n=e.parentElement)&&n.remove(),e.style.display="none"):e.style.display="flex",console.log("%cEvent dispatched : valnet_ui_event:post_load_init","color: green; font-weight: bold;"),window.dispatchEvent(new Event("valnet_ui_event:post_load_init"))),window.onCommentStateUpdated())},o.send(a.toString())},window.displayErrorMessage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=document.getElementById("comment-error"),o=document.getElementById("comment-error-text");t&&document.getElementById("comment-error-".concat(t))&&(i=document.getElementById("comment-error-".concat(t)),o=document.getElementById("comment-error-text-".concat(t))),i&&(i.classList.remove("is-hidden"),i.classList.remove("fade-out"),i.classList.add("fade-in"),o.innerText=e,n)&&i.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"}),setTimeout((function(){i&&(i.classList.remove("fade-in"),i.classList.add("fade-out"),i.classList.remove("is-hidden"))}),2e3)},window.hideErrorMessage=function(){var e=document.getElementById("comment-error");e&&e.classList.add("is-hidden")},window.displaySuccessMessage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=document.getElementById("comment-success"),i=document.getElementById("comment-success-text");t&&document.getElementById("comment-success-".concat(t))&&(n=document.getElementById("comment-success-".concat(t)),i=document.getElementById("comment-success-text-".concat(t))),n&&(n.classList.remove("is-hidden"),n.classList.remove("fade-out"),n.classList.add("fade-in"),i.innerText=e),setTimeout((function(){n&&(n.classList.remove("fade-in"),n.classList.add("fade-out"),n.classList.remove("is-hidden"))}),2e3)},window.hideSuccessMessage=function(){var e=document.getElementById("comment-success");e&&e.classList.add("is-hidden")},window.hideAllMessages=function(){window.hideErrorMessage(),window.hideSuccessMessage()},window.deleteComment=function(e){if(e&&null!=e){g&&g.abort();var t=e.dataset.idTag,n={idComment:e.dataset.idComment,idArticle:e.dataset.idArticle,idTag:t,userEmail:e.dataset.userEmail,idParent:e.dataset.idParent,idArticleEmaki:window.articleIdEmaki};window.hideAllMessages();for(var i=document.getElementById("is-rating-enabled").value,o=((g=new XMLHttpRequest).open("POST","/comment-delete/",!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),new URLSearchParams),a=0,s=Object.entries(n);a<s.length;a++){var d=(l=r(s[a],2))[0],l=l[1];o.append(d,l)}g.onreadystatechange=function(){var e,o,a,r;4==g.readyState&&(g.response&&("success"==(e=JSON.parse(g.response)).status?((r=document.getElementById("comment-"+n.idComment))&&r.remove(),(r=document.querySelectorAll("li[data-id-parent='".concat(n.idComment,"']")))&&r.forEach((function(e){e.remove()})),n.idParent&&(r=document.getElementById("replyCount-"+n.idParent))&&((o=0)==(o=r.innerText&&""!=r.innerText.trim()?parseInt(r.innerText)-1:o)?(r.innerText="",r.classList.add("is-hidden")):r.innerText=o),i&&(r=document.getElementById("comment-form"),(o=document.getElementById("comment-inplace")).classList.contains("is-hidden")||o.classList.add("is-hidden"),r.classList.contains("is-hidden")&&r.classList.remove("is-hidden"),(o=document.querySelector('input[name="rate"]:checked'))&&(o.checked=!1),(o=document.querySelector('input[name="rate-'+n.idComment+' "]:checked'))&&(o.checked=!1),window.resetRatingForSubmission(t),window.queueThreadRatingForSubmission(),createCommentEventListeners()),window.displaySuccessMessage(e.message),a=document.getElementById("comment-success"),setTimeout((function(){a.classList.add("is-hidden")}),2e3),r=window.websiteUser||null,window.changeInputToTextarea(r)):window.displayErrorMessage(e.message)),g=!1,window.onCommentStateUpdated())},g.send(o.toString())}},window.toggleDeletePopup=function(e){e=e.dataset.idComment,(e=document.getElementById("deletePopupContainer-"+e))&&e.classList.toggle("is-hidden")},window.deleteImage=function(e){var t=e.dataset.idComment,n=(t&&(window.uploadedImages&&window.uploadedImages[t]&&(window.uploadedImages[t]=null),(n=document.querySelector('div[data-comment-image-id="'.concat(t,'"]')))&&n.classList.add("is-hidden"),(n=document.getElementById("imageAttached-"+t))&&n.classList.add("is-hidden"),n=document.getElementById("submitEditedCommentBtn-"+t))&&n.removeAttribute("data-img-url"),e.dataset.idParentComment);n&&(window.uploadedReplyImages&&window.uploadedReplyImages[n]&&(window.uploadedReplyImages[n]=null),e=document.getElementById("replyImageAttached-"+n))&&e.classList.add("is-hidden"),!t&&!n&&window.uploadedImage&&(window.uploadedImage=null,e=document.getElementById("imageAttached"))&&e.classList.add("is-hidden")},window.changeEditMode=function(e,t){var n,i,o,a,r,s=e.dataset.idComment;s&&(r=document.getElementById("existingCommentDiv-"+s),n=document.getElementById("editCommentContainer-"+s),i=document.getElementById("commentOptions-"+s),o=document.getElementById("userRatingDisplay-"+s),(a=document.getElementById("userRatingValue-"+s))&&0<a.value&&(document.getElementById("star"+a.value/2+"-"+s).checked=!0),a=window.quillEditor["editTextEditor-"+s],r)&&n&&i&&("edit"==t?(a?a.root.innerHTML=B(r.innerHTML):window.initQuill("editTextEditor-"+s,"editToolbar-"+s,r.innerHTML),n.classList.remove("is-hidden"),r.classList.add("is-hidden"),i.classList.add("is-hidden"),o&&!o.classList.contains("is-hidden")&&o.classList.add("is-hidden"),(t=document.querySelector('div[data-comment-image-id="'.concat(s,'"]')))&&(t.classList.add("is-hidden"),t=document.getElementById("imageAttached-"+s))&&t.classList.remove("is-hidden"),(t=document.getElementById("commentFooter-"+s))&&t.classList.add("is-hidden"),window.removeThreadRatingEventListeners(e)):(a?a.setContents([]):window.initQuill("editTextEditor-"+s,"editToolbar-"+s,""),r.classList.remove("is-hidden"),n.classList.add("is-hidden"),i.classList.remove("is-hidden"),o&&o.classList.contains("is-hidden")&&o.classList.remove("is-hidden"),(t=document.querySelector('div[data-comment-image-id="'.concat(s,'"]')))&&(t.classList.remove("is-hidden"),(e=document.getElementById("imageAttached-"+s))&&e.classList.add("is-hidden"),a=document.getElementById("submitEditedCommentBtn-"+s))&&a.setAttribute("data-img-url",t.getAttribute("data-img-url")),(r=document.getElementById("commentFooter-"+s))&&r.classList.remove("is-hidden")))},window.submitEditedComment=function(e){var t,n,i,o,r,s,d;e&&null!=e&&(n=window.websiteUser||null,Object(a.a)(n),g&&g.abort(),t=e.dataset.idComment,n=e.dataset.imgUrl,i=e.dataset.idTag,o=null,e=document.querySelector('input[name="rate-'+t+'"]:checked'),d=document.getElementById("is-rating-enabled")?document.getElementById("is-rating-enabled").value:0,e&&(o=e.value),d&&0<d&&(null==e||null==o)?window.displayErrorMessage("Please provide a review score."):(d=window.quillEditor["editTextEditor-"+t],r=w(d?d.root.innerHTML:""),s=p(r),e=!1,(n||window.uploadedImages&&window.uploadedImages[t])&&(e=!0),s.length&&0!=s.length||e?2e3<s.length||3e3<r.length?window.displayErrorMessage("Comment exceeds maximum length."):C(r)&&t&&(s.length&&0<s.length||e)&&s.length<=2e3&&r.length<=3e3&&(window.hideAllMessages(),(g=new XMLHttpRequest).open("POST","/comment-edit/",!0),d=new FormData,window.uploadedImages&&window.uploadedImages[t]&&d.append("file",window.uploadedImages[t]),n&&d.append("imageUrl",n),d.append("idComment",t),d.append("comment",r),d.append("rating",o),g.onreadystatechange=function(){var e,n,a,d,l,c,u,m;4==g.readyState&&(g.response&&("success"==(e=JSON.parse(g.response)).status?(n=document.getElementById("existingCommentDiv-"+t),l=document.getElementById("editCommentContainer-"+t),c=document.getElementById("commentOptions-"+t),u=document.getElementById("userRatingDisplay-"+t),n&&l&&(a=null!=(a=e.ratingValue)?a:o,u&&(u.innerHTML='<input type="hidden" id="userRatingValue-'+t+'" value="'+a+'"/><span class="user-rating-text"><i class="icon i-star"></i>'+a+'<em class="rate-denominator">/10</em></span>'),0!=s.length?(n.innerHTML=null!=(d=e.commentText)?d:r,n.classList.remove("is-hidden")):n.innerHTML="",l.classList.add("is-hidden"),c.classList.remove("is-hidden"),u&&u.classList.contains("is-hidden")&&u.classList.remove("is-hidden"),a)&&i&&window.handleRatingInputAfterSubmit(i,a,t),(d=document.getElementById("commentFooter-"+t))&&d.classList.remove("is-hidden"),window.uploadedImages&&window.uploadedImages[t]&&(window.uploadedImages[t]=null),e.imageUrl&&((l=document.getElementById("imageAttached-"+t))&&l.classList.add("is-hidden"),(c=document.querySelector('div[data-comment-image-id="'.concat(t,'"]')))?(c.innerHTML='<img src="'+e.imageUrl+'"/>',c.classList.remove("is-hidden")):(c=n.querySelector("image-expandable"))&&(c.innerHTML='<img src="'+e.imageUrl+'"/>'),u=document.getElementById("submitEditedCommentBtn-"+t))&&u.setAttribute("data-img-url",e.imageUrl),e.message&&((m=document.getElementById("commenEditSuccess-"+t)).classList.remove("is-hidden"),setTimeout((function(){m.classList.add("is-hidden")}),2e3),n.classList.add("is-edited"))):window.displayErrorMessage(e.message)),g=!1,window.onCommentStateUpdated())},g.send(d)):window.displayErrorMessage("Comment is empty.")))},window.replyToComment=function(e){var t,n;e&&null!=e&&window.allowNewComments&&(t=window.websiteUser||null,Object(a.a)(t))&&(window.toggleCorrespondingDisplayNameBoxIfAny(e),t=e.dataset.idComment,n=document.getElementById("replyCommentContainer-"+t),document.querySelectorAll(".w-user-comment-text.reply").forEach((function(e){n!=e&&e.classList.add("is-hidden")})),n&&(n.classList.remove("is-hidden"),window.quillEditor["replyTextEditor-"+t]||window.initQuill("replyTextEditor-"+t,"replyToolbar-"+t)),(e=document.getElementById("commentFooter-"+t))&&e.classList.add("is-hidden"),window.onCommentStateUpdated())},window.cancelReplyComment=function(e){var t;e&&null!=e&&(t=window.websiteUser||null,Object(a.a)(t))&&(window.toggleCorrespondingDisplayNameBoxIfAny(e),t=e.dataset.idComment,(e=document.getElementById("replyCommentContainer-"+t))&&(e.classList.add("is-hidden"),e=window.quillEditor["replyTextEditor-"+t])&&e.setContents([]),(e=document.getElementById("commentFooter-"+t))&&e.classList.remove("is-hidden"),window.onCommentStateUpdated())},window.submitReplyComment=function(e){var t,n,i,o,r,s,d,l,c,u;e&&null!=e&&(i=window.websiteUser||null,Object(a.a)(i,!0))&&(e.dataset&&e.dataset.idComment?t=e.dataset.idComment:console.log("The 'idComment' dataset attribute does not exist."),n=document.getElementById("replyCommentContainer-"+t),i=window.articleId,o=window.articleIdEmaki,r=window.tagId,c=p(d=w((s=window.quillEditor["replyTextEditor-"+t])?s.root.innerHTML:"")),C(d))&&(c.length&&0<c.length||window.uploadedReplyImages&&window.uploadedReplyImages[t])&&c.length<=2e3&&d.length<=3e3&&i&&window.enableCommentSubmit&&(window.enableCommentSubmit=!1,(l=new XMLHttpRequest).open("POST","/comment-submit/",!0),c=new FormData,window.uploadedReplyImages&&window.uploadedReplyImages[t]&&c.append("file",window.uploadedReplyImages[t]),c.append("comment",d),i&&c.append("idArticle",i),o&&c.append("idArticleEmaki",o),r&&c.append("idTag",r),c.append("idParentComment",t),(u=window.getCorrespondingDisplayNameBoxIfAny(e))&&c.append("newDisplayName",u.querySelector("input").value.trim()),l.onreadystatechange=function(){var e,i,o,a,r;4==l.readyState&&l.response&&((a=JSON.parse(l.response)).error?window.displayErrorMessage(a.message):(s&&s.setContents([]),n.classList.add("is-hidden"),window.uploadedReplyImages&&window.uploadedReplyImages[t]&&(window.uploadedReplyImages[t]=null),(e=document.getElementById("replyImageAttached-"+t))&&e.classList.add("is-hidden"),document.getElementById("comments-feed-list"),e=a.commentHtml,(o=document.getElementById("comment-"+t))&&((i=o.nextElementSibling)&&i.classList.remove("first"),o.insertAdjacentHTML("afterend",e)),(i=document.getElementById("replyCount-"+t))&&(o=1,i.innerText&&""!=i.innerText.trim()&&(o=parseInt(i.innerText)+1),i.classList.remove("is-hidden"),i.innerText=o),window.addCommentOptionsEventListeners(),(e=document.getElementById("nextReplyButton-"+t))&&(a.isLastPage?e.style.display="none":e.style.display="block"),o=+(i=document.getElementById("comments-number")).innerHTML,i.innerText=++o,i.classList.remove("is-hidden"),window.uploadedImage&&(window.uploadedImage=null),(a=document.getElementById("commentFooter-"+t))&&a.classList.remove("is-hidden"),window.displaySuccessMessage("Your comment has been saved successfully"),r=document.getElementById("comment-success"),setTimeout((function(){r.classList.add("is-hidden")}),2e3),u&&window.location.reload()),window.enableCommentSubmit=!0,window.onCommentStateUpdated())},l.send(c))},window.addCommentOptionsEventListeners=function(){var e=document.querySelectorAll(".comment-options-btn");0<e.length&&e.forEach((function(e){var t=e.firstElementChild;t&&!e.isAlreadyAttached&&(e.removeEventListener("mouseenter",(function(){})),e.removeEventListener("mouseleave",(function(){})),e.addEventListener("mouseenter",(function(){t.classList.add("active")})),e.addEventListener("mouseleave",(function(){t.classList.remove("active")})),e.isAlreadyAttached=!0)}))},window.addUpvoteEventListeners=function(){var e=document.querySelectorAll(".user-comment-vote-btn");0<e.length&&e.forEach((function(e){e.isAlreadyAttached||(e.closest("div").classList.contains("is-own")||(e.isAlreadAttached=!0,e.addEventListener("click",(function(t){t.stopPropagation();var n=window.websiteUser||null;return window.voteComment(t,n,e),!1}))),e.isAlreadyAttached=!0)}))},window.addSeeMoreButtonEventListeners=function(){var e=document.querySelectorAll(".comment-prev-next.reply-next");0<e.length&&e.forEach((function(e){e.isAlreadyAttached||(e.addEventListener("click",(function(){window.hideAllMessages(),window.fetchCommentReplies(this,"next")})),e.isAlreadyAttached=!0)}))},window.voteComment=function(e,t,n){if(Object(a.a)(t)&&n&&null!=n){t=n.dataset.reset;var i={idParent:n.dataset.idParent,idComment:n.dataset.idComment,idArticle:n.dataset.idArticle,idTag:n.dataset.idTag,voteType:n.dataset.voteType},o=document.getElementById("user-comment-up-"+i.idComment),s=document.getElementById("user-comment-down-"+i.idComment),d=0;n=("up"==n.dataset.voteType&&"false"==t?(d=1,o.classList.add("voted"),o.dataset.reset="true",s.classList.remove("voted"),s.dataset.reset="false"):"up"==n.dataset.voteType&&"true"==t?(d=-1,o.classList.remove("voted"),o.dataset.reset="false",s.classList.remove("voted"),s.dataset.reset="false",i.voteType=null):"down"==n.dataset.voteType&&"false"==t?("true"==o.dataset.reset&&(d=-1),s.classList.add("voted"),s.dataset.reset="true",o.classList.remove("voted"),o.dataset.reset="false"):"down"==n.dataset.voteType&&"true"==t&&(d=0,s.classList.remove("voted"),s.dataset.reset="false",o.classList.remove("voted"),o.dataset.reset="false",i.voteType=null),Object.assign({dateCreated:Date.now()},i));if((t=(localStorage.setItem("votes_".concat(i.idComment),JSON.stringify(n)),document.getElementById("user-comment-votes-"+i.idComment)))&&(s=+t.innerHTML,t.innerText=s=0==(s+=d)?" ":s),i){(g=new XMLHttpRequest).open("POST","/comment-vote/",!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var l=new URLSearchParams,c=0,u=Object.entries(i);c<u.length;c++){var m=(p=r(u[c],2))[0],p=p[1];l.append(m,p)}g.onreadystatechange=function(){var e;4==g.readyState&&(g.response&&"success"!=(e=JSON.parse(g.response)).status&&window.displayErrorMessage(e.message),window.onCommentStateUpdated())},g.send(l.toString())}}},window.createCommentEventListeners=function(){window.addEventListener("valnet_ui_event:user_not_logged_in",(function(){T()})),window.addEventListener("valnet_ui_event:user_not_verified",(function(){T()}));var e,t=window.websiteUser||null,n=((e=((e=((e=((e=((e=((e=document.getElementById("btn-comment-submit"))&&e.addEventListener("click",(function(e){(e=window.getCorrespondingDisplayNameBoxIfAny(e.currentTarget))&&(t.newDisplayName=e.querySelector("input").value.trim()),window.hideAllMessages(),window.submitComment(t)})),document.getElementById("prevButton")))&&e.addEventListener("click",(function(){window.hideAllMessages(),window.fetchArticleComments("previous")})),document.getElementById("nextButton")))&&e.addEventListener("click",(function(){window.hideAllMessages(),window.fetchArticleComments("next")})),document.getElementById("expand-comments-button")))&&e.addEventListener("click",(function(){window.hideAllMessages(),window.expandComments()})),document.getElementById("commentInput")))&&e.addEventListener("click",(function(e){return e.preventDefault(),e.stopPropagation(),location.hash="threads",window.hideAllMessages(),window.changeInputToTextarea(t,!0),!1})),document.getElementById("ratingInput")))&&e.addEventListener("click",(function(e){e.stopPropagation(),window.hideAllMessages(),Object(a.a)(t,!0,"thread",!0,{mode:"popup",idParent:null,className:"popup",triggeredFrom:"tag_rating",gaEventCategory:"tag_rating",showCloseButton:!0}),location.hash="threads"})),document.getElementById("thread-sort"));n&&n.addEventListener("change",(function(){"newest"==n.value?window.sortOrder="DESC":"oldest"==n.value?window.sortOrder="ASC":window.sortOrder="RECOMMENDED",window.hideAllMessages(),window.fetchArticleComments("next",!0)})),console.log("%cEvent dispatched : valnet_ui_event:post_load_init","color: green; font-weight: bold;"),window.dispatchEvent(new Event("valnet_ui_event:post_load_init")),window.checkCommentVotes(),window.addUpvoteEventListeners(),window.addSeeMoreButtonEventListeners(),window.addCommentOptionsEventListeners(),window.changeInputToTextarea(t),window.onCommentStateUpdated(),window.enableRateNowStarButtons(),window.enableExistingUserRatingButtons(),window.enableRatingCardRatingLinks(),window.enableRatingCardPagination()},window.enableRatingCardPagination=function(){var e=document.querySelector("#quickRatingWidget");e&&new o.a(e,{contentId:".w-slide-list",prevButtonId:".slide-prev",nextButtonId:".slide-next",sliderId:".w-content-slider-pagination",pageItemId:".slide-list-page",hideButtons:!0,disablingDelay:200,scrollTimeout:null,onSpecificInit:function(e){console.log("Specific initialization")},onSpecificAfterResponse:function(e){console.log("Custom Specific handling after response"),window.enableRateNowStarButtons(),window.enableExistingUserRatingButtons(),window.enableRatingCardRatingLinks()}}).init()},window.queueRatingForSubmission=function(e,t){var n,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=s(document.querySelectorAll(".w-user-rating"));try{for(o.s();!(n=o.n()).done;){var a=n.value,r=a.querySelector(".user-rating-input.user-header-rating");if(r&&!r.classList.contains("is-hidden")){var d=a.querySelector(".rate-cta.user-rating-input-container"),l=a.querySelector(".no-rating.user-rating"),c=a.querySelector(".rate-cta.user-rating-score"),u=a.querySelector(".rating-text.rate-number");if(!(d&&l&&c&&u))continue;("0/10"==u.textContent?(d.classList.remove("is-hidden"),l.classList.remove("is-hidden"),c):(c.classList.remove("is-hidden"),d)).classList.add("is-hidden"),r.classList.add("is-hidden")}a.classList.remove("active-rating")}}catch(e){o.e(e)}finally{o.f()}t&&((t=t.closest(".w-user-rating")).children[0].classList.remove("is-hidden"),t.classList.add("active-rating"),t.querySelectorAll(".active-rating-".concat(e,".no-rating.user-rating")).forEach((function(e){i?e.classList.remove("is-hidden"):e.classList.add("is-hidden")})),t.querySelectorAll(".active-rating-".concat(e,".user-rating-input.user-header-rating")).forEach((function(e){i?e.classList.add("is-hidden"):e.classList.remove("is-hidden")})),t.querySelectorAll(".active-rating-".concat(e,".rate-cta.user-rating-score")).forEach((function(e){e.classList.add("is-hidden")})))},window.queueThreadRatingForSubmission=function(){var e;(e=((e=document.getElementById("thread-user-rating-score"))&&e.classList.add("is-hidden"),document.getElementById("ratingInput")))&&e.classList.remove("is-hidden")},document.getElementById("commentInput")&&(m=!1,new Waypoint({element:document.getElementById("commentInput"),handler:function(e){document.getElementById("commentInput")&&(window.addEventListener("valnet_ui_event:quill_injected",(function(){console.log("vn_comments quill injected"),m||(m=!0,console.log("attaching comments"),window.initQuill("commentTextEditor","commentToolbar"))})),Object(i.a)()),this.destroy()},offset:function(){return Waypoint.viewportHeight()+300}})),window.initQuill=function(e,t,n){window.quillEditor||(window.quillEditor={}),window.quillEditor[e]=new Quill("#"+e,{modules:{mention:{allowedChars:/^[A-Za-z0-9\s]*$/,mentionDenotationChars:["@"],isolateCharacter:!0,spaceAfterInsert:!0,allowInlineMentionChar:!0,positioningStrategy:"fixed",mentionOptions:S(!0),source:function(e,t,n){var i="@"==n?S(!0):[];if(0===e.length)t(i,e);else{for(var o=[],a=0;a<i.length;a++)console.log(i[a]),~i[a].displayName.toLowerCase().indexOf(e.toLowerCase())&&o.push(i[a]);t(o,e)}}},toolbar:{container:"#"+t,handlers:{emoji:function(){},mention:function(){var t,n,i,o=window.quillEditor[e].getSelection();if(o){window.quillEditor[e].insertText(o.index," @"),window.quillEditor[e].setSelection(o.index+2,0),window.quillEditor[e].blur(),window.quillEditor[e].focus();try{(t=window.quillEditor[e].getModule("mention"))&&t.mentionContainer&&(n=window.quillEditor[e].root.getBoundingClientRect(),i=window.quillEditor[e].getBounds(o.index+1),t.mentionContainer.style.top=n.top+i.top+i.height+"px")}catch(t){console.log("this shouldn't have happened: ".concat(t))}}},image:function(){imageHandler(e)}}},"emoji-toolbar":!0,"emoji-textarea":!1,"emoji-shortname":!0},placeholder:"Share your thoughts",theme:"snow"}),window.quillEditor[e].on("text-change",(function(t,n,i){var o=window.quillEditor[e].getSelection();try{for(var a,r,s=!1,d=0;d<t.ops.length;d++)if(t.ops[d].delete){s=!0;break}s&&o&&(a=window.quillEditor[e].getLeaf(Math.max(0,o.index))[0],r=!1,r=!!(a&&a.domNode&&a.domNode.classList&&a.domNode.classList.contains("mention"))||r)&&queueMicrotask((function(){a.domNode.remove()}))}catch(t){console.error(t)}2e3<window.quillEditor[e].getText().length&&window.quillEditor[e].deleteText(2e3,window.quillEditor[e].getLength()),window.quillEditor[e].getText().match(v)&&(o=window.quillEditor[e].root.innerHTML,window.quillEditor[e].root.innerHTML=B(o),setTimeout((function(){window.quillEditor[e].root.focus(),window.quillEditor[e].setSelection(window.quillEditor[e].getLength(),0)}),0))})),document.getElementById(e).addEventListener("click",window.handleCloseEmojiPopupOnEditorClick),n&&(window.quillEditor[e].root.innerHTML=B(n))},window.imageHandler=function(e){var t=document.getElementById("fileInput");t||((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept",".jpg,.jpeg,.png,.x-png,.gif,.webp"),t.setAttribute("id","fileInput"),t.classList.add("is-hidden"),document.body.appendChild(t)),t.value="",t.click(),t.addEventListener("change",(function(n){var i=t.files[0];if(i){if(25<i.size/1048576)return void window.displayErrorMessage("File size exceeds the limit of 25MB.");var o,a=document.getElementById("imageAttached");"commentTextEditor"==e?window.uploadedImage=i:(o=e.substring(e.indexOf("-")+1),a=e.includes("replyTextEditor")?(window.uploadedReplyImages||(window.uploadedReplyImages=[]),window.uploadedReplyImages[o]=i,document.getElementById("replyImageAttached-"+o)):(window.uploadedImages||(window.uploadedImages=[]),window.uploadedImages[o]=i,document.getElementById("imageAttached-"+o))),a&&((o=new FileReader).onload=function(e){e=e.target.result;var t=document.createElement("img");(e=(t.src=e,t.width=860,t.height=715,t.alt="User Uploaded Image",t.loading="lazy",t.decoding="async",t.style.display="block",t.style.height="auto",t.style.maxWidth="100%",a.querySelector(".threads-attachment-img")))&&(e.innerHTML="",e.appendChild(t),a.classList.remove("is-hidden"))},o.readAsDataURL(i))}this.remove()}))},window.handleCloseEmojiPopupOnEditorClick=function(e){var t=document.getElementById("emoji-palette");t&&"LI"!=e.target.parentElement.tagName&&"UL"!=e.target.parentElement.parentElement.tagName&&t.parentElement.previousElementSibling.querySelector(".ql-emoji").click()},window.enableRatingCardRatingLinks=function(){var e,t=s(document.querySelectorAll(".w-user-rating .dc-user-star-rating-link"));try{var n=function(){function t(e){e.preventDefault();e=n.dataset.uuid;var t=window.websiteUser||null;Object(a.a)(t,!0,e)&&(t=n.dataset.idTag)&&window.queueRatingForSubmission(t,n)}var n=e.value;n.removeEventListener("click",t),n.addEventListener("click",t)};for(t.s();!(e=t.n()).done;)n()}catch(n){t.e(n)}finally{t.f()}},window.resetRatingForSubmission=function(e){var t,n=s(document.querySelectorAll(".w-user-rating .dc-user-star-rating-link"));try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.dataset.idTag;if(o==e){window.queueRatingForSubmission(o,i,!0);var a,r=s(document.querySelectorAll(".active-rating-".concat(e,".review-link")));try{for(r.s();!(a=r.n()).done;)a.value.innerText="Leave a Review"}catch(e){r.e(e)}finally{r.f()}}}}catch(e){n.e(e)}finally{n.f()}},window.enableDisplayCardRatingButtons=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=s(t?t.querySelectorAll(".dc-user-rate"):document.querySelectorAll(".w-user-rating .dc-user-rate"));try{var i=function(){function t(){var e=(t=n.id.split("-"))[1],t=(t[3],window.websiteUser||null);Object(a.a)(t,!0,"tag_rating")&&(n.value,setTimeout((function(){e&&window.queueRatingForSubmission(e,n)}),0))}var n=e.value;n.removeEventListener("click",t),n.addEventListener("click",t)};for(n.s();!(e=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}(t=document.querySelectorAll(".btn-dc-comment-rate"))&&t.forEach((function(e){function t(){var e=window.websiteUser||null;Object(a.a)(e,!0,"tag_rating")}e.removeEventListener("click",t),e.addEventListener("click",t)}))},window.enableRateNowStarButtons=function(){document.querySelectorAll(".dc-user-rate").forEach((function(e){function t(e){var t=e.target.parentElement.dataset.idTag,n=e.target.parentElement.dataset.idRating,i=(e=e.target.value,window.hideAllMessages(),window.websiteUser||null);window.submitDisplayCardComment(i,t,e,n)}e.removeEventListener("click",t),e.addEventListener("click",t)}));var e=document.querySelectorAll(".btn-thread-user-rate"),t=null;e.forEach((function(e){function n(e){var n,i,o,a;e.target!==t&&(n=e.target.parentElement.dataset.idTag,i=e.target.parentElement.dataset.idRating,o=e.target.value,window.hideAllMessages(),a=window.websiteUser||null,window.submitDisplayCardComment(a,n,o,i),t=e.target)}e.removeEventListener("click",n),e.addEventListener("click",n)}))},window.removeThreadRatingEventListeners=function(e){document.querySelectorAll(".btn-thread-user-rate").forEach((function(t){var n=e.cloneNode(!0);e.parentNode.replaceChild(n,t)}))},window.enableExistingUserRatingButtons=function(){document.querySelectorAll(".rate-cta.user-rating-score").forEach((function(e){function t(t){t.preventDefault();t=e.dataset.hubPageUrl;e.dataset.idComment?window.location.href=t:(t=e.dataset.idTag)&&window.queueRatingForSubmission(t,e)}e.removeEventListener("click",t),e.addEventListener("click",t)}));var e,t=document.getElementById("thread-user-rating-score");t&&(t.removeEventListener("click",e=function(e){e.preventDefault(),window.queueThreadRatingForSubmission()}),t.addEventListener("click",e))},"loading"!==document.readyState?createCommentEventListeners():document.addEventListener("DOMContentLoaded",(function(){createCommentEventListeners()}),{once:!0});var v=/(\|\@(.{0,255}?)#(\w{2}\w{6})\|)/gi,y=/<span.+?data-id-public="(\w{2}\d{6})".*?>(.{0,255}?)<\/span>/gi,E=/data-id-public="(\w{2}\d{6})"/gi,b=/([A-Za-z]{2}[0-9]{6})/,L=/(.*)\#(\w{2}\d{6})$/gi;function I(e){return'<span class="mention" data-denotation-char="@" data-index="-1" data-id="'.concat(Date.now(),'" data-value="').concat(e,'"><span class="ql-mention-denotation-char">@</span>').concat(e,"</span>")}function S(e){if(e=0<arguments.length&&void 0!==e&&e,window.__mentionable_users=window.__mentionable_users||[],window.location.pathname.includes("/reviews"))return[];for(var t=window.__mentionable_users||[],n=0,i=document.querySelectorAll("*[data-user-id-public]"),o="",a=0;a<i.length;a++){var r,s=i[a].getAttribute("data-user-id-public");s&&s.match(b)&&(r=i[a].getAttribute("data-user-display-name"),i[a].getAttribute("data-user-is-connected")&&(o=s),r={id:n,value:"".concat(r,"#").concat(s),displayName:r,idPublic:s},n+=1,t.push(r))}t=t.filter((function(e,t,n){return n.findIndex((function(t){return t.idPublic===e.idPublic}))===t}));for(var d=0;d<t.length;d++)t[d].idPublic===o&&(t[d].isConnected=!0);return window.__mentionable_users=t,e?t.filter((function(e,t,n){return!n[t].isConnected})):t}function B(e){var t=e,n=e.match(v);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=v.exec(o);v.lastIndex=0,!a||a.length<4||(t=t.replace(o,I("".concat(a[2],"#").concat(a[3]))))}var r=t.match(y);if(r)for(var s=0;s<r.length;s++){var d=r[s],l=y.exec(d);y.lastIndex=0,!l||l.length<3||(t=t.replace(d,I("".concat(l[2],"#").concat(l[1]))))}return t}function C(e){var t=e.match(E);if(!t)return 1;if(!((t=(t=t.filter((function(e,t,n){return n.findIndex((function(t){return t===e}))===t}))).map((function(e){return e=E.exec(e),E.lastIndex=0,!e||e.length<2?null:e[1]}))).length>2)){for(var n,i=S(),o=0;o<t.length;o++)if(0!==(n=function(e){var n=i.find((function(n){return n.idPublic==t[e]}));return n?n.isConnected?(window.displayErrorMessage("Invalid mention"),{v:!1}):void 0:0}(o))&&n)return n.v;return 1}window.displayErrorMessage("A maxium of 2 users can be mentioned in a single post.")}function T(){[{id:"commentInput",action:function(e){return e.blur()}},{id:"commentTextEditor",action:function(e){return e.style.display="none"}},{id:"commentToolbar",action:function(e){return e.style.display="none"}}].forEach((function(e){var t=e.id;e=e.action;(t=document.getElementById(t))&&e(t)}))}console.log("%cEvent dispatched : valnet_ui_event:post_load_init","color: green; font-weight: bold;"),window.dispatchEvent(new Event("valnet_ui_event:post_load_init")),window.adsNinja=window.adsNinja||{},window.adsNinja.queue=window.adsNinja.queue||[],window.adsNinja.queue.push((function(){window.adsNinja.queue.push((function(){try{window.adsNinja.monetizeDynamicContent("comments-feed-list",{name:"comments",groupName:"footer"},"init",{countAndIgnore:["first"],ignore:["comments-feed-pagination"]})}catch(e){console.warn(e)}}))})),window.isLoggedInDisplayNameToFillValid=function(e){return!!/^[a-zA-Z0-9]([a-zA-Z0-9_-]{0,22}[a-zA-Z0-9])?$/.test(e)&&!["badword1","badword2","badword3"].includes(e.toLowerCase())},window.getCorrespondingDisplayNameBoxIfAny=function(e){return(e=e&&(e.closest(".comments-feed-item")||e.closest(".threads-prompt")))&&e.querySelector(".update-display-name-box")||null},window.toggleCorrespondingDisplayNameBoxIfAny=function(e){(e=window.getCorrespondingDisplayNameBoxIfAny(e))&&e.classList.toggle("hidden")},window.getNewDisplayNameValue=function(e){return(e=window.getCorrespondingDisplayNameBoxIfAny(e))?e.querySelector("input").value.trim():null}},YmMZ:function(e,t,n){"use strict";function i(e,t,n){n=2<arguments.length&&void 0!==n?n:{};var i,o,a=document.querySelector('script[src="'.concat(e,'"]'));return a?(t.apply(a),a):((i=document.createElement("script")).onload=t,i.src=e,n.defer&&(i.defer=!0),document.body?document.body.appendChild(i):o=setInterval((function(){i.parentElement&&clearInterval(o),document.body&&(clearInterval(o),document.body.appendChild(i))}),1),i)}function o(){var e,t,n,o,a=!1;console.log("--- triggered injectQuill ---");try{window.Quill&&(a=!0)}catch(e){console.log("quill not found, loading...")}a?(console.log("%cEvent dispatched : valnet_ui_event:quill_injected","color: white; background-color: green; padding: 4px;"),window.dispatchEvent(new Event("valnet_ui_event:quill_injected"))):window.valnet_is_quill_injection_started||(window.valnet_is_quill_injection_started=!0,n=t=e=null,o=function(){this.isLoaded=!0,e&&e.isLoaded&&t&&t.isLoaded&&n&&n.isLoaded&&setTimeout((function(){console.log("%cEvent dispatched : valnet_ui_event:quill_injected","color: white; background-color: green; padding: 4px;"),window.dispatchEvent(new Event("valnet_ui_event:quill_injected"))}))},window.quillScriptLocation&&(e=i(window.quillScriptLocation,(function(){this.isLoaded=!0;var e=setInterval((function(){var a=!1;try{window.Quill&&(a=!0)}catch(a){console.log("quill not found, loading...")}a&&(clearInterval(e),window.quillEmojiScriptLocation&&(t=i(window.quillEmojiScriptLocation,o,{defer:!0})),window.quillMentionScriptLocation)&&(n=i(window.quillMentionScriptLocation,o,{defer:!0}))}),1)}),{defer:!0})))}n.d(t,"a",(function(){return o}))},"b/hT":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!==i(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===i(e)?e:String(e)}(o.key),o)}}n.r(t),n=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.ajaxRequest=!1,this.handleAccountVerificationClick=this.handleAccountVerificationClick.bind(this),this.handleCloseButtonClick=this.handleCloseButtonClick.bind(this)}var t,n;return t=e,(n=[{key:"hideSuccessVerificationMsg",value:function(){var e=document.getElementById("account-verification-popup-success-msg-new");e&&e.classList.add("is-hidden")}},{key:"hideErrorVerificationMsg",value:function(){var e=document.getElementById("account-verification-popup-error-msg-new");e&&e.classList.add("is-hidden")}},{key:"displaySuccessVerificationMsg",value:function(e){var t=document.getElementById("account-verification-popup-success-msg-new"),n=document.getElementById("accountVerificationPopupCloseButton");e&&(t.firstChild.innerHTML=e),t.classList.remove("is-hidden"),setTimeout((function(){t.classList.add("is-hidden"),n&&n.click()}),4e3)}},{key:"displayErrorVerificationMsg",value:function(e){var t=document.getElementById("account-verification-popup-error-msg-new"),n=document.getElementById("accountVerificationPopupCloseButton");e&&(t.firstChild.innerHTML=e),t.classList.remove("is-hidden"),setTimeout((function(){t.classList.add("is-hidden"),n&&n.click()}),4e3)}},{key:"handleVerificationResponse",value:function(e){this.hideSuccessVerificationMsg(),this.hideErrorVerificationMsg();var t=e.status;e=e.message;"success"===t?this.displaySuccessVerificationMsg(e):this.displayErrorVerificationMsg(e),this.ajaxRequest=!1}},{key:"handleVerifyAccount",value:function(){var e=this;window.isUserLoggedIn&&(this.ajaxRequest&&this.ajaxRequest.abort(),this.ajaxRequest=new XMLHttpRequest,this.ajaxRequest.open("GET","/verify-email/",!0),this.ajaxRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.ajaxRequest.onreadystatechange=function(){4===e.ajaxRequest.readyState&&e.ajaxRequest.response&&e.handleVerificationResponse(JSON.parse(e.ajaxRequest.response))},this.ajaxRequest.send())}},{key:"injectAccountVerificationPopup",value:function(){var e=document.getElementById("account-verification-popup-container");window.accountVerificationContainerInjected||e||(e=window.accountVerificationPopupHtml.trim("&quot;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/(^"|"$)/g,"").replaceAll("loginForm","loginPopup"),document.body.insertAdjacentHTML("beforeend",e),window.accountVerificationContainerInjected=!0)}},{key:"showAccountVerificationPopup",value:function(){this.injectAccountVerificationPopup();var e=document.getElementById("account-verification-popup-container"),t=document.getElementById("account-verification-popup-message");t&&(t.innerHTML="Please verify your email address to unlock additional features on your account."),e&&e.classList.add("is-visible"),this.addAccountVerificationPopupEventListeners()}},{key:"addAccountVerificationPopupEventListeners",value:function(){var e=document.getElementById("accountVerificationPopupCloseButton"),t=document.getElementById("accountVerificationPopupSubmitButton");e&&!e.isAlreadyAttached&&(e.isAlreadyAttached=!0,e.removeEventListener("click",this.handleCloseButtonClick),e.addEventListener("click",this.handleCloseButtonClick)),t&&!t.isAlreadyAttached&&(t.isAlreadyAttached=!0,t.removeEventListener("click",this.handleAccountVerificationClick),t.addEventListener("click",this.handleAccountVerificationClick))}},{key:"handleAccountVerificationClick",value:function(e){return e.preventDefault(),e.stopPropagation(),this.handleVerifyAccount(),!1}},{key:"handleCloseButtonClick",value:function(e){return e.preventDefault(),e.stopPropagation(),document.getElementById("account-verification-popup-container").classList.remove("is-visible"),this.hideSuccessVerificationMsg(),this.hideErrorVerificationMsg(),!1}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t.default=n},qQ2A:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!==i(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===i(e)?e:String(e)}(o.key),o)}}n.d(t,"a",(function(){return a}));var a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,i=e;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.options=Object.assign({},this.defaults,t),this.currentPage=1,this.totalPages=1,this.totalItems=0,this.loadedPages=1,this.calculateTotalPages()}var t,n;return t=e,(n=[{key:"defaults",get:function(){return{pageSize:10,currentPage:1,totalPages:1,totalItems:0,onPreviousPage:function(e,t){console.log("Page changed to ".concat(t))},onNextPage:function(e,t){console.log("Page changed to ".concat(t))},onOutOfBounds:function(e,t){console.log("Page changed to ".concat(t))}}}},{key:"calculateTotalPages",value:function(){0<this.options.totalItems&&(this.totalPages=Math.ceil(this.options.totalItems/this.options.pageSize))}},{key:"direction",value:function(e){return e>this.currentPage?"up":"down"}},{key:"isNextDirection",value:function(e){return"up"===this.direction(e)}},{key:"isPreviousDirection",value:function(e){return"down"===this.direction(e)}},{key:"setCurrentPage",value:function(e){var t;1<=e&&e<=this.totalPages?(t=this.isNextDirection(e),this.currentPage=e,t?this.options.onNextPage&&this.options.onNextPage(this,e):this.options.onPreviousPage&&this.options.onPreviousPage(this,e)):this.options.onOutOfBounds&&this.options.onOutOfBounds(this,e)}},{key:"setTotalItems",value:function(e){this.totalItems=e,this.calculateTotalPages()}},{key:"nextPage",value:function(){this.setCurrentPage(this.currentPage+1)}},{key:"previousPage",value:function(){this.setCurrentPage(this.currentPage-1)}},{key:"firstPage",value:function(){this.setCurrentPage(1)}},{key:"lastPage",value:function(){this.setCurrentPage(this.totalPages)}},{key:"getPageItems",value:function(e){var t=(this.currentPage-1)*this.options.pageSize,n=t+this.options.pageSize;return e.slice(t,n)}},{key:"getStart",value:function(){return(this.currentPage-1)*this.options.pageSize}},{key:"getEnd",value:function(){return this.currentPage*this.options.pageSize}},{key:"isLastPage",value:function(){return this.currentPage===this.totalPages}},{key:"isFirstPage",value:function(){return 1===this.currentPage}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},rHMK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("b/hT");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)),i}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){var i,a;i=e,a=n[t=t],(t=function(e){return e=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!==o(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===o(e)?e:String(e)}(t))in i?Object.defineProperty(i,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[t]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"thread",o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},s=5<arguments.length?arguments[5]:void 0,d=6<arguments.length?arguments[6]:void 0;a=r(r({},{mode:"popup",idParent:null,className:"popup",triggeredFrom:"thread",gaEventCategory:"thread",showCloseButton:!0}),a);if(e)return!!e.isVerified||(window.dispatchEvent(new CustomEvent("valnet_ui_event:user_not_verified")),t&&(new i.default).showAccountVerificationPopup(),d&&d(),!1);if(window.dispatchEvent(new CustomEvent("valnet_ui_event:user_not_logged_in")),t){if(!window.ValnetLogin)return console.error("ValnetLogin is not defined."),!1;new ValnetLogin(a).showLoginForm(),o&&(location.hash=n)}return s&&s(),!1}},wd5N:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!==i(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===i(e)?e:String(e)}(o.key),o)}}n.d(t,"a",(function(){return l}));var a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,o=e;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.endpoint=t,this.options=Object.assign({},this.defaults,n)}var t,n,i;function a(e){return i.apply(this,arguments)}return t=e,(n=[{key:"defaults",get:function(){return{beforeRequest:function(){console.log("before")},onResponse:function(e){console.log("onResponse",e)},onError:function(e){console.error("onError",e)}}}},{key:"fetch",value:(i=function(e){var t=this;this.options.beforeRequest(),fetch(e).then((function(e){return e.json()})).then((function(e){return t.options.onResponse(e)})).then((function(){return t.options.afterResponse()})).catch((function(e){return t.options.onError(e)}))},a.toString=function(){return i.toString()},a)}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),r=n("qQ2A");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!==s(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===s(e)?e:String(e)}(i.key),i)}}var l=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,o=e;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.options=Object.assign({},this.defaults,n),this.container=t,this.content=this.container.querySelector(this.options.contentId),this.prevButton=this.container.querySelector(this.options.prevButtonId),this.nextButton=this.container.querySelector(this.options.nextButtonId),this.slider=this.container.querySelector(this.options.sliderId),this.hideButtons=this.options.hideButtons,this.pageItemId=this.options.pageItemId,this.disablingDelay=this.options.disablingDelay,this.fetcher=this.createFetcher(),this.paginator=this.createPaginator(),this.scrollTimeout=this.options.scrollTimeout,this.onSpecificInit=this.options.onSpecificInit,this.onSpecificAfterResponse=this.options.onSpecificAfterResponse}var t,n;return t=e,(n=[{key:"defaults",get:function(){return{contentId:".w-slide-list",prevButtonId:".slide-prev",nextButtonId:".slide-next",sliderId:".w-content-slider-pagination",pageItemId:".slide-list-page",hideButtons:!0,disablingDelay:200,scrollTimeout:null,onSpecificInit:function(e){console.log("Specific initialization")},onSpecificAfterResponse:function(e){console.log("Specific handling after response")}}}},{key:"slideWidth",get:function(){return this.content.clientWidth}},{key:"pageSize",get:function(){return this.content.dataset.pageSize}},{key:"totalItems",get:function(){return this.content.dataset.itemsCount}},{key:"loadedPagesCount",get:function(){return this.content.querySelectorAll(this.pageItemId).length}},{key:"currentPage",get:function(){return this.content.dataset.page},set:function(e){this.content.dataset.page=e}},{key:"lastPageBlock",get:function(){return this.content.querySelectorAll(this.pageItemId)[this.paginator.currentPage]}},{key:"pageBlocks",get:function(){return this.content.querySelectorAll(this.pageItemId)}},{key:"endpoint",get:function(){return this.content.dataset.endpoint}},{key:"togglePrevButton",get:function(){this.prevButton.toggleAttribute("disabled")}},{key:"prevButtonDisplay",set:function(e){this.prevButton.style.display=e}},{key:"toggleNextButton",get:function(){this.nextButton.toggleAttribute("disabled")}},{key:"nextButtonDisplay",set:function(e){this.nextButton.style.display=e}},{key:"getBlocksByTarget",value:function(e){return this.content.querySelectorAll(e)}},{key:"appendContent",value:function(e){this.content.insertAdjacentHTML("beforeend",e)}},{key:"prependContent",value:function(e){this.content.insertAdjacentHTML("afterbegin",e)}},{key:"isPageAlreadyLoaded",value:function(e){return e<=this.loadedPagesCount}},{key:"createFetcher",value:function(){var e=this;return new a(this.endpoint,{beforeRequest:function(){e.disableButtons()},onResponse:function(t){t&&t.html&&e.appendContent(t.html)},afterResponse:function(){e.onSpecificAfterResponse(e),e.hideButtons&&(e.paginator.isLastPage()&&(e.nextButtonDisplay="none"),e.paginator.isFirstPage()||(e.prevButtonDisplay=""))}})}},{key:"createPaginator",value:function(){var e=this;return new r.a({pageSize:this.pageSize,totalItems:this.totalItems,currentPage:this.currentPage,onNextPage:function(t,n){e.scrollToNextPage(),t.isLastPage()||e.isPageAlreadyLoaded(n+1)?(e.disableButtons(),e.hideButtons&&(e.paginator.isLastPage()&&(e.nextButtonDisplay="none"),e.paginator.isFirstPage()||(e.prevButtonDisplay=""))):e.fetchPage(n+1),t.isLastPage()&&e.slider&&e.slider.classList.add("last-page"),e.currentPage=n},onPreviousPage:function(t,n){e.disableButtons(),e.scrollToPreviousPage(),e.hideButtons&&(t.isFirstPage()&&(e.prevButtonDisplay="none"),t.isLastPage()||(e.nextButtonDisplay="")),e.slider&&e.slider.classList.remove("last-page"),e.currentPage=n}})}},{key:"fetchPage",value:function(e){try{var t=new URL(this.endpoint);t.search=new URLSearchParams({page:e}).toString(),this.fetcher.fetch(t)}catch(e){console.error(e)}}},{key:"scrollToNextPage",value:function(){this.content.scrollBy({left:this.slideWidth,behavior:"smooth"})}},{key:"scrollToPreviousPage",value:function(){this.content.scrollBy({left:-this.slideWidth,behavior:"smooth"})}},{key:"resetScrollTimout",value:function(){clearTimeout(this.scrollTimeout)}},{key:"enableButtons",value:function(){this.nextButton.disabled=!1,this.prevButton.disabled=!1}},{key:"disableButtons",value:function(){this.nextButton.disabled=!0,this.prevButton.disabled=!0}},{key:"toggleButtons",value:function(){this.toggleNextButton,this.togglePrevButton}},{key:"relaunchScrollTimout",value:function(){var e=this;this.resetScrollTimout(),this.scrollTimeout=setTimeout((function(){e.enableButtons()}),this.disablingDelay)}},{key:"init",value:function(){var e=this;function t(t){e.relaunchScrollTimout()}this.onSpecificInit(e),this.content.addEventListener("scroll",t),window.addEventListener("resize",t),this.nextButton&&this.nextButton.addEventListener("click",(function(t){e.paginator.nextPage()})),this.prevButton&&this.prevButton.addEventListener("click",(function(t){e.paginator.previousPage()}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}});
</script>

</body>
</html>
