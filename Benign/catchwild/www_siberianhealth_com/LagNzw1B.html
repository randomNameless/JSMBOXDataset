<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LagNzw1B.html</title>
</head>
<body>

<script>
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./-r1kUv-W.js","./7Fy3gk4T.js","./lfGBla7I.js","./entry.BlqSFsky.css","./VModalPopup.BqUsOl_W.css"])))=>i.map(i=>d[i]);
import{_ as w,f as p,g as S,o as c,a as d,b as r,C as m,t as E,q as C,e as f,w as v,a7 as V,F as b,d as x,B as j,m as g,u as y,s as k,h as M,i as O,J as D,ah as P,a3 as B}from"./lfGBla7I.js";import{V as T}from"./Bx7shE3R.js";import{s as N}from"./BvsGn6SG.js";import{H as R}from"./D7WHhluq.js";import{h as J}from"./B3iADdSX.js";import{u as L}from"./B_Lb_hDA.js";const z={name:"VSelect",components:{SwSvgIcon:R},directives:{spoiler:N},props:{placeholder:{type:String,default(){return""}},options:{type:Array,default(){return[]}},optionsParamsDefault:{type:Object,default(){return{key:"key",value:"value",img:"img"}}},defaultValue:{type:String,default:null},value:{type:Object,default(){return null}},disabled:{type:Boolean,default(){return!1}},isFromLangSelect:{type:Boolean,default(){return!1}},correct:{type:Boolean,default(){return!0}},autoComplete:{type:Boolean,default(){return!1}},errorMessage:{type:String,default(){return""}},size:{type:String,default(){return""}},inputClass:{type:String,default:""},scroll:{type:Boolean,default:!1}},emits:["update:value","auto-complete","input"],data(){return{open:!1,mutedValue:null,focus:!1}},computed:{optionsCustom(){if(this.defaultValue&&!this.options.length){let e={};return e[this.optionsParamsDefault.key]=1,e[this.optionsParamsDefault.value]=this.defaultValue,[e]}else return this.options},classObject(){return{select_open:this.open,select_disabled:this.disabled,select_small:this.size==="small",select_medium:this.size==="medium"}},triggerClassObject(){let e={select__trigger_error:!this.correct};return this.inputClass&&this.inputClass!==""&&(e[this.inputClass]=this.inputClass),e}},watch:{value(){this.value!==this.mutedValue&&(this.mutedValue=this.value)},optionsCustom(e){this.open=this.autoComplete&&e.length&&this.mutedValue&&this.mutedValue.value},mutedValue(e){this.open=this.autoComplete&&this.optionsCustom.length&&e&&e.value&&this.focus,e||(this.$emit("update:value",e),this.$emit("input",e))},open(){if(this.open){const e=document.querySelector(".select__option_selected");setTimeout(()=>{e.scrollIntoView({block:"center",behavior:"smooth"}),e.focus()},0)}}},created(){this.mutedValue=this.value},mounted(){document.addEventListener("mousedown",this.disableSelect)},unmounted(){document&&document.removeEventListener("mousedown",this.disableSelect)},methods:{inputSelect(e){this.autoComplete&&(this.mutedValue={value:e},this.$emit("auto-complete",e))},toggleDropdown(){!this.disabled&&this.optionsCustom.length&&(this.open=!this.open)},disableSelect(e){this.$el.contains(e.target)||(this.optionsCustom.length?this.autoComplete&&this.optionsCustom.indexOf(this.mutedValue)===-1&&(this.mutedValue=null):this.mutedValue=null,this.open=!1)},clickOnOption(e){e[[this.optionsParamsDefault.value]]!==this.defaultValue&&(this.open=!1,e.key!==this.mutedValue.key&&(this.mutedValue=e,this.$emit("update:value",e),this.$emit("input",e)))}}},A={class:"select-wrapper"},I={class:"select__error-message"},U=["src"],H=["disabled","placeholder","value"],F=["innerHTML"],q={class:"select__arrow"},W={class:"select__options"},G=["onClick"],Y=["src"],K=["innerHTML"];function Q(e,o,t,l,s,n){const a=p("SwSvgIcon"),u=S("spoiler");return c(),d("div",A,[r("div",{class:m([n.classObject,"select"])},[r("div",{class:m([[n.triggerClassObject,{select__trigger_mod:t.isFromLangSelect}],"select__trigger"]),onClick:o[3]||(o[3]=(...i)=>n.toggleDropdown&&n.toggleDropdown(...i))},[r("span",I,E(t.errorMessage),1),r("div",{class:m([{select__trigger_placeholder:s.mutedValue&&s.mutedValue.value===t.placeholder},"select__target select__content"])},[s.mutedValue&&s.mutedValue.img?(c(),d("img",{key:0,src:s.mutedValue.img,class:"select__img"},null,8,U)):C("",!0),t.autoComplete?(c(),d("input",{key:1,disabled:!t.autoComplete,placeholder:t.placeholder,value:s.mutedValue?s.mutedValue.value:null,class:"select__input",type:"text",onBlur:o[0]||(o[0]=i=>s.focus=!1),onFocus:o[1]||(o[1]=i=>s.focus=!0),onInput:o[2]||(o[2]=i=>n.inputSelect(i.target.value))},null,40,H)):(c(),d("div",{key:2,class:m([s.mutedValue?"":"select__text_placeholder","select__text"]),innerHTML:s.mutedValue?s.mutedValue.value:t.placeholder},null,10,F))],2),r("div",q,[f(a,{name:"sw-control/arrow-down-16"})])],2),v((c(),d("div",W,[r("div",{class:m(["select__options-items",{"select__options-items_with-scrollbar":t.scroll}])},[(c(!0),d(b,null,x(n.optionsCustom,i=>(c(),d("div",{key:i[t.optionsParamsDefault.key],tabindex:0,class:m([{select__option_selected:s.mutedValue&&s.mutedValue[t.optionsParamsDefault.key]===i[t.optionsParamsDefault.key]},"select__option select__content"]),onClick:h=>n.clickOnOption(i)},[i&&i[t.optionsParamsDefault.img]?(c(),d("img",{key:0,src:i[t.optionsParamsDefault.img]},null,8,Y)):C("",!0),r("div",{class:"select__text",innerHTML:i[t.optionsParamsDefault.value]},null,8,K)],10,G))),128))],2)])),[[V,n.optionsCustom.length],[u,s.open,"200"]])],2)])}const X=w(z,[["render",Q]]),Z={name:"ModalCountryLink",components:{VButton:T,VSelect:X,VModalPopup:J(()=>j(()=>import("./-r1kUv-W.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url))},data(){return{open:!1,selectActive:{key:1,value:"Россия"},status:""}},computed:{...g(y,{getRegion:"region",getLanguage:"getCurrentLanguage",myCountry:"myCountry",getRegisterLinks:"getRegisterLinks",getShopLinks:"getShopLinks"}),...g(L,{passedObj:"passedObj"}),options(){let e=[];if(!this.getRegion)return e;if(this.status==="check-in")for(let o of this.getRegion.countries){let t=this.getRegisterLinks.find(s=>s.CountryId===o.id);if(!t)continue;const l=o.enName;e.push({key:o.id,value:`${l} / ${o.localName}`,url:t.Url,code:o.code})}if(this.status==="go-to-store")for(let o of this.getRegion.countries){let t=this.getShopLinks.find(s=>s.CountryId===o.id);if(!t)continue;const l=o.enName;e.push({key:o.id,value:`${l} / ${o.localName}`,url:t.Url,code:o.code})}return e.sort((o,t)=>o.value>t.value?1:o.value<t.value?-1:0)}},watch:{options(){this.setDefault()},passedObj:{handler(e){e.eventName==="country-link"&&(this.status=e.eventValue,this.open=!0)},immediate:!0}},methods:{...k(L,{setPassedObj:"setPassedObj"}),setDefault(){this.selectActive=this.options[0]},cancel(){this.open=!1,this.setPassedObj({})},go(){window.location.href=this.selectActive.url}}},$={class:"modal-country"},ee={class:"modal-country__header"},te={class:"modal-country__buttons"};function se(e,o,t,l,s,n){const a=p("VSelect"),u=p("VButton"),i=p("VModalPopup"),h=S("t");return c(),M(i,{show:s.open,"onUpdate:show":o[1]||(o[1]=_=>s.open=_),"not-padding":{desktop:!0,table:!0,mobile:!0},"style-block":{width:"100%",maxWidth:"400px"},onClose:n.cancel},{default:O(()=>[r("div",$,[v(r("div",ee,null,512),[[h,"ModalCountryLink.SelectCountry"]]),f(a,{value:s.selectActive,"onUpdate:value":o[0]||(o[0]=_=>s.selectActive=_),options:n.options,class:"modal-country__select",size:"medium",scroll:""},null,8,["value","options"]),r("div",te,[v(f(u,{block:"",size:"large",white:"",onClick:n.cancel},null,8,["onClick"]),[[h,"ModalCountryLink.Cancel"]]),v(f(u,{block:"",class:"modal-country__button-open",size:"large",onClick:n.go},null,8,["onClick"]),[[h,"ModalCountryLink.Move"]])])])]),_:1},8,["show","onClose"])}const oe=w(Z,[["render",se]]),ce=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),de={computed:{...g(y,{getLanguages:"languages",getCurrentLanguage:"getCurrentLanguage"}),...g(P,{getToken:"token"}),showLoader(){var e;return(e=this.$route.query)==null?void 0:e.admin}},async created(){D.setToken(this.getToken),await Promise.all([this.fetchExternalLinks(),this.fetchExternalRegisterLinks({}),this.fetchExternalShopLinks({})])},mounted(){const e=new URLSearchParams(window.location.search);Object.fromEntries(e.entries()).admin||this.loadYM(),setTimeout(()=>{window.jivo_text_online=this.$t("Jivo.WeAreOnline"),window.jivo_text=this.$t("Jivo.SendUsAMessage"),this.loadJivo()},5e3)},watch:{"$i18n.locale":{async handler(e){const o=this.getLanguages.find(t=>t.code===e);this.setCurrentLanguage(o),await this.fetchMainMenu()}},"$route.query.referral":{handler(e){if(e){const o=new Date;localStorage.setItem("referral",JSON.stringify({link:e,date:o})),this.setRef()}},deep:!0,immediate:!0},getCurrentLanguage(){setTimeout(()=>{window.jivo_text_online=this.$t("Jivo.WeAreOnline"),window.jivo_text=this.$t("Jivo.SendUsAMessage"),this.loadJivo()},2e3)}},methods:{...k(B,{fetchMainMenu:"fetchMainMenu"}),...k(y,{fetchExternalLinks:"externalLinks",fetchExternalRegisterLinks:"externalRegisterLinks",fetchExternalShopLinks:"externalShopLinks",setCurrentLanguage:"setCurrentLanguage",setRef:"setRef"}),loadJivo(){document.jivositeloaded=0;const e="Icaux8bVf0",o=document,t=window;function l(){const n=o.createElement("link");n.type="text/css",n.rel="stylesheet",n.href="/jivosite/jivosite.css";const a=o.createElement("script");a.type="text/javascript",a.async=!0,a.src="/jivosite/jivosite.js";const u=o.createElement("script");u.type="text/javascript",u.async=!0,u.src="https://code.jivosite.com/script/widget/"+e;const i=o.getElementsByTagName("script")[0];o.getElementsByTagName("head")[0].appendChild(n),i.parentNode.insertBefore(a,i),i.parentNode.insertBefore(u,i)}function s(){t.detachEvent?(t.detachEvent("onscroll",s),t.detachEvent("onmousemove",s),t.detachEvent("ontouchmove",s),t.detachEvent("onresize",s)):(t.removeEventListener("scroll",s,!1),t.removeEventListener("mousemove",s,!1),t.removeEventListener("touchmove",s,!1),t.removeEventListener("resize",s,!1)),o.readyState==="complete"?l():t.attachEvent?t.attachEvent("onload",()=>{l()}):t.addEventListener("load",()=>{l()},!1);const n=new Date;n.setTime(n.getTime()+60*60*28*1e3),o.cookie="JivoSiteLoaded=1;path=/;expires="+n.toGMTString()}o.cookie.search("JivoSiteLoaded")<0?t.attachEvent?(t.attachEvent("onscroll",s),t.attachEvent("onmousemove",s),t.attachEvent("ontouchmove",s),t.attachEvent("onresize",s)):(t.addEventListener("scroll",s,{capture:!1,passive:!0}),t.addEventListener("mousemove",s,{capture:!1,passive:!0}),t.addEventListener("touchmove",s,{capture:!1,passive:!0}),t.addEventListener("resize",s,{capture:!1,passive:!0})):s()},loadYM(){setTimeout(()=>{(function(e,o,t,l,s,n,a){e[s]=e[s]||function(){(e[s].a=e[s].a||[]).push(arguments)},e[s].l=1*new Date,n=o.createElement(t),a=o.getElementsByTagName(t)[0],n.async=1,n.src=l,a.parentNode.insertBefore(n,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(21951292,"init",{cid:21951292,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0,ecommerce:"dataLayer",useCDN:!0})},5e3)}}};export{ce as M,X as V,oe as _,de as l};

</script>

</body>
</html>
