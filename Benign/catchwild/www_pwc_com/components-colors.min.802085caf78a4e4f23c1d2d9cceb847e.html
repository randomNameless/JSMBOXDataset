<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>components-colors.min.802085caf78a4e4f23c1d2d9cceb847e.html</title>
</head>
<body>

<script>
(function(document, $){
    var utility = {};

    utility.sanitizeString = function(string) {
	 var tempDiv = document.createElement('div');
	 tempDiv.textContent = string;
	 return tempDiv.textContent;
    };

    utility.encodeDecodeString = function(encodedString) {
	 var decodedString = $('<div />').html(decodeURI(encodeURI(encodedString))).text();
     	 var element = document.createElement('div');
     	 element.innerHTML = decodedString;
     	 return element.innerHTML;
    };

    window.utility = utility;

})(document, $);

// returns the time in seconds to HH:MM:SS format
function getCurrentTime(seconds) {
	var leftover = seconds,
		showHour = false,
		hours = Math.floor(leftover / 3600);
	if (hours >= 1) {
		showHour = true;
		leftover = leftover - (hours * 3600);
	}
	var minutes = Math.floor(leftover / 60);
	leftover = Math.floor(leftover - (minutes * 60));
	leftover = leftover < 10 ? "0" + leftover : leftover;
	var timeTodisplay = (showHour && minutes < 10 ? "0" + minutes : minutes) + ':' + leftover;
	return showHour ? hours + ':' + timeTodisplay : timeTodisplay;
}


var PwC = PwC || {};

/* Define namespaces (taken from CQ.Ext.ns)*/
PwC.ns = function() {
  var len1 = arguments.length,
      i = 0,
      len2,
      j,
      main,
      ns,
      sub,
      current;

  for (; i < len1; ++i) {
    main = arguments[i];
    ns = arguments[i].split('.');
    current = window[ns[0]];
    if (current === undefined) {
      current = window[ns[0]] = {};
    }
    sub = ns.slice(1);
    len2 = sub.length;
    for (j = 0; j < len2; ++j) {
      current = current[sub[j]] = current[sub[j]] || {};
    }
  }
  return current;
};

/*PR-1714 lazy loading for images */
PwC.ns("PwC.lazyloading");

PwC.lazyloading = { 
    lazyLoadImages : function(value){          
       var images = document.querySelectorAll(value+' img.js-lazy-loading'); 
       $(images).each(function(){           
          var imageUrl = $(this).attr('data-image');  
          var imageSrc = $(this).attr('src');      
          if(!imageSrc) {
              $(this).attr('src',imageUrl); 
              $(this).load(function() { 
                 PwC.lazyloading.transitionBackgroundImage(this); 
              });              
              $(this).error(function() { 
                 PwC.lazyloading.transitionBackgroundImage(this);                 
                 $(this).attr('width','');
                 $(this).attr('height','');  
              });              
          }      
       }); 
    },
    transitionBackgroundImage : function(element){
        $(element).attr('style',"background-color:transparent;display:none");
        $(element).fadeIn(1000);
        $(element).removeAttr('data-image');   
    }
};

$(document).ready(function(){
    PwC.lazyloading.lazyLoadImages('');     
});


 







/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function (factory) {
	var registeredInModuleLoader = false;
	if (typeof define === 'function' && define.amd) {
		define(factory);
		registeredInModuleLoader = true;
	}
	if (typeof exports === 'object') {
		module.exports = factory();
		registeredInModuleLoader = true;
	}
	if (!registeredInModuleLoader) {
		var OldCookies = window.Cookies;
		var api = window.Cookies = factory();
		api.noConflict = function () {
			window.Cookies = OldCookies;
			return api;
		};
	}
}(function () {
	function extend () {
		var i = 0;
		var result = {};
		for (; i < arguments.length; i++) {
			var attributes = arguments[ i ];
			for (var key in attributes) {
				result[key] = attributes[key];
			}
		}
		return result;
	}

	function init (converter) {
		function api (key, value, attributes) {
			var result;
			if (typeof document === 'undefined') {
				return;
			}

			// Write

			if (arguments.length > 1) {
				attributes = extend({
					path: '/'
				}, api.defaults, attributes);

				if (typeof attributes.expires === 'number') {
					var expires = new Date();
					expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
					attributes.expires = expires;
				}

				// We're using "expires" because "max-age" is not supported by IE
				attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

				try {
					result = JSON.stringify(value);
					if (/^[\{\[]/.test(result)) {
						value = result;
					}
				} catch (e) {}

				if (!converter.write) {
					value = encodeURIComponent(String(value))
						.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
				} else {
					value = converter.write(value, key);
				}

				key = encodeURIComponent(String(key));
				key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
				key = key.replace(/[\(\)]/g, escape);

				var stringifiedAttributes = '';

				for (var attributeName in attributes) {
					if (!attributes[attributeName]) {
						continue;
					}
					stringifiedAttributes += '; ' + attributeName;
					if (attributes[attributeName] === true) {
						continue;
					}
					stringifiedAttributes += '=' + attributes[attributeName];
				}
				return (document.cookie = key + '=' + value + stringifiedAttributes);
			}

			// Read

			if (!key) {
				result = {};
			}

			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all. Also prevents odd result when
			// calling "get()"
			var cookies = document.cookie ? document.cookie.split('; ') : [];
			var rdecode = /(%[0-9A-Z]{2})+/g;
			var i = 0;

			for (; i < cookies.length; i++) {
				var parts = cookies[i].split('=');
				var cookie = parts.slice(1).join('=');

				if (!this.json && cookie.charAt(0) === '"') {
					cookie = cookie.slice(1, -1);
				}

				try {
					var name = parts[0].replace(rdecode, decodeURIComponent);
					cookie = converter.read ?
						converter.read(cookie, name) : converter(cookie, name) ||
						cookie.replace(rdecode, decodeURIComponent);

					if (this.json) {
						try {
							cookie = JSON.parse(cookie);
						} catch (e) {}
					}

					if (key === name) {
						result = cookie;
						break;
					}

					if (!key) {
						result[name] = cookie;
					}
				} catch (e) {}
			}

			return result;
		}

		api.set = api;
		api.get = function (key) {
			return api.call(api, key);
		};
		api.getJSON = function () {
			return api.apply({
				json: true
			}, [].slice.call(arguments));
		};
		api.defaults = {};

		api.remove = function (key, attributes) {
			api(key, '', extend(attributes, {
				expires: -1
			}));
		};

		api.withConverter = init;

		return api;
	}

	return init(function () {});
}));

/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
 (function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function e(n,t){for(var r=null==n?0:n.length;r--&&t(n[r],r,n)!==!1;);return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;
    return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);
    return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match($t)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?Z(n,t,r):g(n,b,r)}function d(n,t,r,e){
    for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:Cn}function m(n){return function(t){return null==t?X:t[n]}}function x(n){return function(t){return null==n?X:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i);
    }return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return n?n.slice(0,H(n)+1).replace(Lt,""):n}function z(n){return function(t){return n(t)}}function E(n,t){return c(t,function(t){return n[t]})}function S(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;
    return e}function U(n){return"\\"+Yr[n]}function B(n,t){return null==n?X:n[t]}function T(n){return Nr.test(n)}function $(n){return Pr.test(n)}function D(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function F(n,t){return function(r){return n(t(r))}}function N(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==cn||(n[r]=cn,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);
    return n.forEach(function(n){r[++t]=n}),r}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Z(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function K(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function V(n){return T(n)?J(n):_e(n)}function G(n){return T(n)?Y(n):p(n)}function H(n){for(var t=n.length;t--&&Ct.test(n.charAt(t)););return t}function J(n){for(var t=Mr.lastIndex=0;Mr.test(n);)++t;return t}function Y(n){return n.match(Mr)||[];
    }function Q(n){return n.match(Fr)||[]}var X,nn="4.17.21",tn=200,rn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",en="Expected a function",un="Invalid `variable` option passed into `_.template`",on="__lodash_hash_undefined__",fn=500,cn="__lodash_placeholder__",an=1,ln=2,sn=4,hn=1,pn=2,_n=1,vn=2,gn=4,yn=8,dn=16,bn=32,wn=64,mn=128,xn=256,jn=512,An=30,kn="...",On=800,In=16,Rn=1,zn=2,En=3,Sn=1/0,Wn=9007199254740991,Ln=1.7976931348623157e308,Cn=NaN,Un=4294967295,Bn=Un-1,Tn=Un>>>1,$n=[["ary",mn],["bind",_n],["bindKey",vn],["curry",yn],["curryRight",dn],["flip",jn],["partial",bn],["partialRight",wn],["rearg",xn]],Dn="[object Arguments]",Mn="[object Array]",Fn="[object AsyncFunction]",Nn="[object Boolean]",Pn="[object Date]",qn="[object DOMException]",Zn="[object Error]",Kn="[object Function]",Vn="[object GeneratorFunction]",Gn="[object Map]",Hn="[object Number]",Jn="[object Null]",Yn="[object Object]",Qn="[object Promise]",Xn="[object Proxy]",nt="[object RegExp]",tt="[object Set]",rt="[object String]",et="[object Symbol]",ut="[object Undefined]",it="[object WeakMap]",ot="[object WeakSet]",ft="[object ArrayBuffer]",ct="[object DataView]",at="[object Float32Array]",lt="[object Float64Array]",st="[object Int8Array]",ht="[object Int16Array]",pt="[object Int32Array]",_t="[object Uint8Array]",vt="[object Uint8ClampedArray]",gt="[object Uint16Array]",yt="[object Uint32Array]",dt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,jt=RegExp(mt.source),At=RegExp(xt.source),kt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zt=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,St=/[\\^$.*+?()[\]{}|]/g,Wt=RegExp(St.source),Lt=/^\s+/,Ct=/\s/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,Tt=/,? & /,$t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dt=/[()=,{}\[\]\/\s]/,Mt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Yt="\\ud800-\\udfff",Qt="\\u0300-\\u036f",Xt="\\ufe20-\\ufe2f",nr="\\u20d0-\\u20ff",tr=Qt+Xt+nr,rr="\\u2700-\\u27bf",er="a-z\\xdf-\\xf6\\xf8-\\xff",ur="\\xac\\xb1\\xd7\\xf7",ir="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",or="\\u2000-\\u206f",fr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cr="A-Z\\xc0-\\xd6\\xd8-\\xde",ar="\\ufe0e\\ufe0f",lr=ur+ir+or+fr,sr="['\u2019]",hr="["+Yt+"]",pr="["+lr+"]",_r="["+tr+"]",vr="\\d+",gr="["+rr+"]",yr="["+er+"]",dr="[^"+Yt+lr+vr+rr+er+cr+"]",br="\\ud83c[\\udffb-\\udfff]",wr="(?:"+_r+"|"+br+")",mr="[^"+Yt+"]",xr="(?:\\ud83c[\\udde6-\\uddff]){2}",jr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ar="["+cr+"]",kr="\\u200d",Or="(?:"+yr+"|"+dr+")",Ir="(?:"+Ar+"|"+dr+")",Rr="(?:"+sr+"(?:d|ll|m|re|s|t|ve))?",zr="(?:"+sr+"(?:D|LL|M|RE|S|T|VE))?",Er=wr+"?",Sr="["+ar+"]?",Wr="(?:"+kr+"(?:"+[mr,xr,jr].join("|")+")"+Sr+Er+")*",Lr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ur=Sr+Er+Wr,Br="(?:"+[gr,xr,jr].join("|")+")"+Ur,Tr="(?:"+[mr+_r+"?",_r,xr,jr,hr].join("|")+")",$r=RegExp(sr,"g"),Dr=RegExp(_r,"g"),Mr=RegExp(br+"(?="+br+")|"+Tr+Ur,"g"),Fr=RegExp([Ar+"?"+yr+"+"+Rr+"(?="+[pr,Ar,"$"].join("|")+")",Ir+"+"+zr+"(?="+[pr,Ar+Or,"$"].join("|")+")",Ar+"?"+Or+"+"+Rr,Ar+"+"+zr,Cr,Lr,vr,Br].join("|"),"g"),Nr=RegExp("["+kr+Yt+tr+ar+"]"),Pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zr=-1,Kr={};
    Kr[at]=Kr[lt]=Kr[st]=Kr[ht]=Kr[pt]=Kr[_t]=Kr[vt]=Kr[gt]=Kr[yt]=!0,Kr[Dn]=Kr[Mn]=Kr[ft]=Kr[Nn]=Kr[ct]=Kr[Pn]=Kr[Zn]=Kr[Kn]=Kr[Gn]=Kr[Hn]=Kr[Yn]=Kr[nt]=Kr[tt]=Kr[rt]=Kr[it]=!1;var Vr={};Vr[Dn]=Vr[Mn]=Vr[ft]=Vr[ct]=Vr[Nn]=Vr[Pn]=Vr[at]=Vr[lt]=Vr[st]=Vr[ht]=Vr[pt]=Vr[Gn]=Vr[Hn]=Vr[Yn]=Vr[nt]=Vr[tt]=Vr[rt]=Vr[et]=Vr[_t]=Vr[vt]=Vr[gt]=Vr[yt]=!0,Vr[Zn]=Vr[Kn]=Vr[it]=!1;var Gr={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a",
    "\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae",
    "\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g",
    "\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O",
    "\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w",
    "\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Hr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qr=parseFloat,Xr=parseInt,ne="object"==typeof global&&global&&global.Object===Object&&global,te="object"==typeof self&&self&&self.Object===Object&&self,re=ne||te||Function("return this")(),ee="object"==typeof exports&&exports&&!exports.nodeType&&exports,ue=ee&&"object"==typeof module&&module&&!module.nodeType&&module,ie=ue&&ue.exports===ee,oe=ie&&ne.process,fe=function(){
    try{var n=ue&&ue.require&&ue.require("util").types;return n?n:oe&&oe.binding&&oe.binding("util")}catch(n){}}(),ce=fe&&fe.isArrayBuffer,ae=fe&&fe.isDate,le=fe&&fe.isMap,se=fe&&fe.isRegExp,he=fe&&fe.isSet,pe=fe&&fe.isTypedArray,_e=m("length"),ve=x(Gr),ge=x(Hr),ye=x(Jr),de=function p(x){function Z(n){if(cc(n)&&!bh(n)&&!(n instanceof Ct)){if(n instanceof Y)return n;if(bl.call(n,"__wrapped__"))return eo(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,
    this.__index__=0,this.__values__=X}function Ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Un,this.__views__=[]}function $t(){var n=new Ct(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Yt(){if(this.__filtered__){var n=new Ct(this);n.__dir__=-1,
    n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Qt(){var n=this.__wrapped__.value(),t=this.__dir__,r=bh(n),e=t<0,u=r?n.length:0,i=Oi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Hl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return wu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==zn)g=w;else if(!w){if(b==Rn)continue n;break n}}_[h++]=g}return _}function Xt(n){
    var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function nr(){this.__data__=is?is(null):{},this.size=0}function tr(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function rr(n){var t=this.__data__;if(is){var r=t[n];return r===on?X:r}return bl.call(t,n)?t[n]:X}function er(n){var t=this.__data__;return is?t[n]!==X:bl.call(t,n)}function ur(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=is&&t===X?on:t,this}function ir(n){
    var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function or(){this.__data__=[],this.size=0}function fr(n){var t=this.__data__,r=Wr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Ll.call(t,r,1),--this.size,!0)}function cr(n){var t=this.__data__,r=Wr(t,n);return r<0?X:t[r][1]}function ar(n){return Wr(this.__data__,n)>-1}function lr(n,t){var r=this.__data__,e=Wr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function sr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){
    var e=n[t];this.set(e[0],e[1])}}function hr(){this.size=0,this.__data__={hash:new Xt,map:new(ts||ir),string:new Xt}}function pr(n){var t=xi(this,n).delete(n);return this.size-=t?1:0,t}function _r(n){return xi(this,n).get(n)}function vr(n){return xi(this,n).has(n)}function gr(n,t){var r=xi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function yr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new sr;++t<r;)this.add(n[t])}function dr(n){return this.__data__.set(n,on),this}function br(n){
    return this.__data__.has(n)}function wr(n){this.size=(this.__data__=new ir(n)).size}function mr(){this.__data__=new ir,this.size=0}function xr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function jr(n){return this.__data__.get(n)}function Ar(n){return this.__data__.has(n)}function kr(n,t){var r=this.__data__;if(r instanceof ir){var e=r.__data__;if(!ts||e.length<tn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new sr(e)}return r.set(n,t),this.size=r.size,this}function Or(n,t){
    var r=bh(n),e=!r&&dh(n),u=!r&&!e&&mh(n),i=!r&&!e&&!u&&Oh(n),o=r||e||u||i,f=o?O(n.length,hl):[],c=f.length;for(var a in n)!t&&!bl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Ci(a,c))||f.push(a);return f}function Ir(n){var t=n.length;return t?n[tu(0,t-1)]:X}function Rr(n,t){return Xi(Tu(n),Mr(t,0,n.length))}function zr(n){return Xi(Tu(n))}function Er(n,t,r){(r===X||Gf(n[t],r))&&(r!==X||t in n)||Br(n,t,r)}function Sr(n,t,r){var e=n[t];
    bl.call(n,t)&&Gf(e,r)&&(r!==X||t in n)||Br(n,t,r)}function Wr(n,t){for(var r=n.length;r--;)if(Gf(n[r][0],t))return r;return-1}function Lr(n,t,r,e){return ys(n,function(n,u,i){t(e,n,r(n),i)}),e}function Cr(n,t){return n&&$u(t,Pc(t),n)}function Ur(n,t){return n&&$u(t,qc(t),n)}function Br(n,t,r){"__proto__"==t&&Tl?Tl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Tr(n,t){for(var r=-1,e=t.length,u=il(e),i=null==n;++r<e;)u[r]=i?X:Mc(n,t[r]);return u}function Mr(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),
    t!==X&&(n=n>=t?n:t)),n}function Fr(n,t,e,u,i,o){var f,c=t&an,a=t&ln,l=t&sn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==X)return f;if(!fc(n))return n;var s=bh(n);if(s){if(f=zi(n),!c)return Tu(n,f)}else{var h=zs(n),p=h==Kn||h==Vn;if(mh(n))return Iu(n,c);if(h==Yn||h==Dn||p&&!i){if(f=a||p?{}:Ei(n),!c)return a?Mu(n,Ur(f,n)):Du(n,Cr(f,n))}else{if(!Vr[h])return i?n:{};f=Si(n,h,c)}}o||(o=new wr);var _=o.get(n);if(_)return _;o.set(n,f),kh(n)?n.forEach(function(r){f.add(Fr(r,t,e,r,n,o))}):jh(n)&&n.forEach(function(r,u){
    f.set(u,Fr(r,t,e,u,n,o))});var v=l?a?di:yi:a?qc:Pc,g=s?X:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Sr(f,u,Fr(r,t,e,u,n,o))}),f}function Nr(n){var t=Pc(n);return function(r){return Pr(r,n,t)}}function Pr(n,t,r){var e=r.length;if(null==n)return!e;for(n=ll(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function Gr(n,t,r){if("function"!=typeof n)throw new pl(en);return Ws(function(){n.apply(X,r)},t)}function Hr(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;
    if(!l)return s;r&&(t=c(t,z(r))),e?(i=f,a=!1):t.length>=tn&&(i=S,a=!1,t=new yr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function Jr(n,t){var r=!0;return ys(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Yr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!bc(o):r(o,f)))var f=o,c=i}return c}function ne(n,t,r,e){var u=n.length;for(r=kc(r),r<0&&(r=-r>u?0:u+r),
    e=e===X||e>u?u:kc(e),e<0&&(e+=u),e=r>e?0:Oc(e);r<e;)n[r++]=t;return n}function te(n,t){var r=[];return ys(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ee(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Li),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ee(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function ue(n,t){return n&&bs(n,t,Pc)}function oe(n,t){return n&&ws(n,t,Pc)}function fe(n,t){return i(t,function(t){return uc(n[t])})}function _e(n,t){t=ku(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[no(t[r++])];
    return r&&r==e?n:X}function de(n,t,r){var e=t(n);return bh(n)?e:a(e,r(n))}function we(n){return null==n?n===X?ut:Jn:Bl&&Bl in ll(n)?ki(n):Ki(n)}function me(n,t){return n>t}function xe(n,t){return null!=n&&bl.call(n,t)}function je(n,t){return null!=n&&t in ll(n)}function Ae(n,t,r){return n>=Hl(t,r)&&n<Gl(t,r)}function ke(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=il(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,z(t))),s=Hl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new yr(a&&p):X}p=n[0];
    var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?S(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?S(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Oe(n,t,r,e){return ue(n,function(n,u,i){t(e,r(n),u,i)}),e}function Ie(t,r,e){r=ku(r,t),t=Gi(t,r);var u=null==t?t:t[no(jo(r))];return null==u?X:n(u,t,e)}function Re(n){return cc(n)&&we(n)==Dn}function ze(n){return cc(n)&&we(n)==ft}function Ee(n){return cc(n)&&we(n)==Pn}function Se(n,t,r,e,u){
    return n===t||(null==n||null==t||!cc(n)&&!cc(t)?n!==n&&t!==t:We(n,t,r,e,Se,u))}function We(n,t,r,e,u,i){var o=bh(n),f=bh(t),c=o?Mn:zs(n),a=f?Mn:zs(t);c=c==Dn?Yn:c,a=a==Dn?Yn:a;var l=c==Yn,s=a==Yn,h=c==a;if(h&&mh(n)){if(!mh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new wr),o||Oh(n)?pi(n,t,r,e,u,i):_i(n,t,c,r,e,u,i);if(!(r&hn)){var p=l&&bl.call(n,"__wrapped__"),_=s&&bl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new wr),u(v,g,r,e,i)}}return!!h&&(i||(i=new wr),vi(n,t,r,e,u,i));
    }function Le(n){return cc(n)&&zs(n)==Gn}function Ce(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ll(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new wr;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?Se(l,a,hn|pn,e,s):h))return!1}}return!0}function Ue(n){return!(!fc(n)||Di(n))&&(uc(n)?kl:Zt).test(to(n))}function Be(n){return cc(n)&&we(n)==nt}function Te(n){return cc(n)&&zs(n)==tt;
    }function $e(n){return cc(n)&&oc(n.length)&&!!Kr[we(n)]}function De(n){return"function"==typeof n?n:null==n?La:"object"==typeof n?bh(n)?Ze(n[0],n[1]):qe(n):Fa(n)}function Me(n){if(!Mi(n))return Vl(n);var t=[];for(var r in ll(n))bl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Fe(n){if(!fc(n))return Zi(n);var t=Mi(n),r=[];for(var e in n)("constructor"!=e||!t&&bl.call(n,e))&&r.push(e);return r}function Ne(n,t){return n<t}function Pe(n,t){var r=-1,e=Hf(n)?il(n.length):[];return ys(n,function(n,u,i){
    e[++r]=t(n,u,i)}),e}function qe(n){var t=ji(n);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===n||Ce(r,n,t)}}function Ze(n,t){return Bi(n)&&Fi(t)?Ni(no(n),t):function(r){var e=Mc(r,n);return e===X&&e===t?Nc(r,n):Se(t,e,hn|pn)}}function Ke(n,t,r,e,u){n!==t&&bs(t,function(i,o){if(u||(u=new wr),fc(i))Ve(n,t,o,r,Ke,e,u);else{var f=e?e(Ji(n,o),i,o+"",n,t,u):X;f===X&&(f=i),Er(n,o,f)}},qc)}function Ve(n,t,r,e,u,i,o){var f=Ji(n,r),c=Ji(t,r),a=o.get(c);if(a)return Er(n,r,a),X;var l=i?i(f,c,r+"",n,t,o):X,s=l===X;
    if(s){var h=bh(c),p=!h&&mh(c),_=!h&&!p&&Oh(c);l=c,h||p||_?bh(f)?l=f:Jf(f)?l=Tu(f):p?(s=!1,l=Iu(c,!0)):_?(s=!1,l=Wu(c,!0)):l=[]:gc(c)||dh(c)?(l=f,dh(f)?l=Rc(f):fc(f)&&!uc(f)||(l=Ei(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Er(n,r,l)}function Ge(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ci(t,r)?n[t]:X}function He(n,t,r){t=t.length?c(t,function(n){return bh(n)?function(t){return _e(t,1===n.length?n[0]:n)}:n}):[La];var e=-1;return t=c(t,z(mi())),A(Pe(n,function(n,r,u){return{criteria:c(t,function(t){
    return t(n)}),index:++e,value:n}}),function(n,t){return Cu(n,t,r)})}function Je(n,t){return Ye(n,t,function(t,r){return Nc(n,r)})}function Ye(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=_e(n,o);r(f,o)&&fu(i,ku(o,n),f)}return i}function Qe(n){return function(t){return _e(t,n)}}function Xe(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Tu(t)),r&&(f=c(n,z(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Ll.call(f,a,1),Ll.call(n,a,1);return n}function nu(n,t){for(var r=n?t.length:0,e=r-1;r--;){
    var u=t[r];if(r==e||u!==i){var i=u;Ci(u)?Ll.call(n,u,1):yu(n,u)}}return n}function tu(n,t){return n+Nl(Ql()*(t-n+1))}function ru(n,t,r,e){for(var u=-1,i=Gl(Fl((t-n)/(r||1)),0),o=il(i);i--;)o[e?i:++u]=n,n+=r;return o}function eu(n,t){var r="";if(!n||t<1||t>Wn)return r;do t%2&&(r+=n),t=Nl(t/2),t&&(n+=n);while(t);return r}function uu(n,t){return Ls(Vi(n,t,La),n+"")}function iu(n){return Ir(ra(n))}function ou(n,t){var r=ra(n);return Xi(r,Mr(t,0,r.length))}function fu(n,t,r,e){if(!fc(n))return n;t=ku(t,n);
    for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=no(t[u]),a=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(u!=o){var l=f[c];a=e?e(l,c,f):X,a===X&&(a=fc(l)?l:Ci(t[u+1])?[]:{})}Sr(f,c,a),f=f[c]}return n}function cu(n){return Xi(ra(n))}function au(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=il(u);++e<u;)i[e]=n[e+t];return i}function lu(n,t){var r;return ys(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function su(n,t,r){
    var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Tn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!bc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return hu(n,t,La,r)}function hu(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!==t,f=null===t,c=bc(t),a=t===X;u<i;){var l=Nl((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=bc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Hl(i,Bn)}function pu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){
    var o=n[r],f=t?t(o):o;if(!r||!Gf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function _u(n){return"number"==typeof n?n:bc(n)?Cn:+n}function vu(n){if("string"==typeof n)return n;if(bh(n))return c(n,vu)+"";if(bc(n))return vs?vs.call(n):"";var t=n+"";return"0"==t&&1/n==-Sn?"-0":t}function gu(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=tn){var s=t?null:ks(n);if(s)return P(s);c=!1,u=S,l=new yr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;
    t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function yu(n,t){return t=ku(t,n),n=Gi(n,t),null==n||delete n[no(jo(t))]}function du(n,t,r,e){return fu(n,t,r(_e(n,t)),e)}function bu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?au(n,e?0:i,e?i+1:u):au(n,e?i+1:0,e?u:i)}function wu(n,t){var r=n;return r instanceof Ct&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function mu(n,t,r){var e=n.length;if(e<2)return e?gu(n[0]):[];
    for(var u=-1,i=il(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=Hr(i[u]||o,n[f],t,r));return gu(ee(i,1),t,r)}function xu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){r(o,n[e],e<i?t[e]:X)}return o}function ju(n){return Jf(n)?n:[]}function Au(n){return"function"==typeof n?n:La}function ku(n,t){return bh(n)?n:Bi(n,t)?[n]:Cs(Ec(n))}function Ou(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:au(n,t,r)}function Iu(n,t){if(t)return n.slice();var r=n.length,e=zl?zl(r):new n.constructor(r);
    return n.copy(e),e}function Ru(n){var t=new n.constructor(n.byteLength);return new Rl(t).set(new Rl(n)),t}function zu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.byteLength)}function Eu(n){var t=new n.constructor(n.source,Nt.exec(n));return t.lastIndex=n.lastIndex,t}function Su(n){return _s?ll(_s.call(n)):{}}function Wu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.length)}function Lu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=bc(n),o=t!==X,f=null===t,c=t===t,a=bc(t);
    if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Lu(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Uu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Gl(i-o,0),l=il(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l;
    }function Bu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Gl(i-f,0),s=il(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Tu(n,t){var r=-1,e=n.length;for(t||(t=il(e));++r<e;)t[r]=n[r];return t}function $u(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?Br(r,f,c):Sr(r,f,c)}return r}function Du(n,t){return $u(n,Is(n),t)}function Mu(n,t){return $u(n,Rs(n),t);
    }function Fu(n,r){return function(e,u){var i=bh(e)?t:Lr,o=r?r():{};return i(e,n,mi(u,2),o)}}function Nu(n){return uu(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&"function"==typeof i?(u--,i):X,o&&Ui(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=ll(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Pu(n,t){return function(r,e){if(null==r)return r;if(!Hf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ll(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function qu(n){return function(t,r,e){
    for(var u=-1,i=ll(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(r(i[c],c,i)===!1)break}return t}}function Zu(n,t,r){function e(){return(this&&this!==re&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&_n,i=Gu(n);return e}function Ku(n){return function(t){t=Ec(t);var r=T(t)?G(t):X,e=r?r[0]:t.charAt(0),u=r?Ou(r,1).join(""):t.slice(1);return e[n]()+u}}function Vu(n){return function(t){return l(Ra(ca(t).replace($r,"")),n,"")}}function Gu(n){return function(){var t=arguments;switch(t.length){
    case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gs(n.prototype),e=n.apply(r,t);return fc(e)?e:r}}function Hu(t,r,e){function u(){for(var o=arguments.length,f=il(o),c=o,a=wi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:N(f,a);
    return o-=l.length,o<e?oi(t,r,Qu,u.placeholder,X,f,l,X,X,e-o):n(this&&this!==re&&this instanceof u?i:t,this,f)}var i=Gu(t);return u}function Ju(n){return function(t,r,e){var u=ll(t);if(!Hf(t)){var i=mi(r,3);t=Pc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Yu(n){return gi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new pl(en);if(u&&!o&&"wrapper"==bi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){
    i=t[e];var f=bi(i),c="wrapper"==f?Os(i):X;o=c&&$i(c[0])&&c[1]==(mn|yn|bn|xn)&&!c[4].length&&1==c[9]?o[bi(c[0])].apply(o,c[3]):1==i.length&&$i(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&bh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Qu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=il(y),b=y;b--;)d[b]=arguments[b];if(_)var w=wi(l),m=C(d,w);if(e&&(d=Uu(d,e,u,_)),i&&(d=Bu(d,i,o,_)),
    y-=m,_&&y<a){return oi(n,t,Qu,l.placeholder,r,d,N(d,w),f,c,a-y)}var x=h?r:this,j=p?x[n]:n;return y=d.length,f?d=Hi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==re&&this instanceof l&&(j=g||Gu(j)),j.apply(x,d)}var s=t&mn,h=t&_n,p=t&vn,_=t&(yn|dn),v=t&jn,g=p?X:Gu(n);return l}function Xu(n,t){return function(r,e){return Oe(r,n,t(e),{})}}function ni(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;"string"==typeof r||"string"==typeof e?(r=vu(r),
    e=vu(e)):(r=_u(r),e=_u(e)),u=n(r,e)}return u}}function ti(t){return gi(function(r){return r=c(r,z(mi())),uu(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function ri(n,t){t=t===X?" ":vu(t);var r=t.length;if(r<2)return r?eu(t,n):t;var e=eu(t,Fl(n/V(t)));return T(t)?Ou(G(e),0,n).join(""):e.slice(0,n)}function ei(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=il(l+c),h=this&&this!==re&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];
    return n(h,o?e:this,s)}var o=r&_n,f=Gu(t);return i}function ui(n){return function(t,r,e){return e&&"number"!=typeof e&&Ui(t,r,e)&&(r=e=X),t=Ac(t),r===X?(r=t,t=0):r=Ac(r),e=e===X?t<r?1:-1:Ac(e),ru(t,r,e,n)}}function ii(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Ic(t),r=Ic(r)),n(t,r)}}function oi(n,t,r,e,u,i,o,f,c,a){var l=t&yn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?bn:wn,t&=~(l?wn:bn),t&gn||(t&=~(_n|vn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return $i(n)&&Ss(g,v),g.placeholder=e,
    Yi(g,n,t)}function fi(n){var t=al[n];return function(n,r){if(n=Ic(n),r=null==r?0:Hl(kc(r),292),r&&Zl(n)){var e=(Ec(n)+"e").split("e");return e=(Ec(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ci(n){return function(t){var r=zs(t);return r==Gn?M(t):r==tt?q(t):I(t,n(t))}}function ai(n,t,r,e,u,i,o,f){var c=t&vn;if(!c&&"function"!=typeof n)throw new pl(en);var a=e?e.length:0;if(a||(t&=~(bn|wn),e=u=X),o=o===X?o:Gl(kc(o),0),f=f===X?f:kc(f),a-=u?u.length:0,t&wn){var l=e,s=u;
    e=u=X}var h=c?X:Os(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&qi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:Gl(p[9]-a,0),!f&&t&(yn|dn)&&(t&=~(yn|dn)),t&&t!=_n)_=t==yn||t==dn?Hu(n,t,f):t!=bn&&t!=(_n|bn)||u.length?Qu.apply(X,p):ei(n,t,r,e);else var _=Zu(n,t,r);return Yi((h?ms:Ss)(_,p),n,t)}function li(n,t,r,e){return n===X||Gf(n,gl[r])&&!bl.call(e,r)?t:n}function si(n,t,r,e,u,i){return fc(n)&&fc(t)&&(i.set(t,n),Ke(n,t,X,si,i),i.delete(t)),n}function hi(n){return gc(n)?X:n}function pi(n,t,r,e,u,i){
    var o=r&hn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,p=!0,_=r&pn?new yr:X;for(i.set(n,t),i.set(t,n);++s<f;){var v=n[s],g=t[s];if(e)var y=o?e(g,v,s,t,n,i):e(v,g,s,n,t,i);if(y!==X){if(y)continue;p=!1;break}if(_){if(!h(t,function(n,t){if(!S(_,t)&&(v===n||u(v,n,r,e,i)))return _.push(t)})){p=!1;break}}else if(v!==g&&!u(v,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function _i(n,t,r,e,u,i,o){switch(r){case ct:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;
    n=n.buffer,t=t.buffer;case ft:return!(n.byteLength!=t.byteLength||!i(new Rl(n),new Rl(t)));case Nn:case Pn:case Hn:return Gf(+n,+t);case Zn:return n.name==t.name&&n.message==t.message;case nt:case rt:return n==t+"";case Gn:var f=M;case tt:var c=e&hn;if(f||(f=P),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=pn,o.set(n,t);var l=pi(f(n),f(t),e,u,i,o);return o.delete(n),l;case et:if(_s)return _s.call(n)==_s.call(t)}return!1}function vi(n,t,r,e,u,i){var o=r&hn,f=yi(n),c=f.length;if(c!=yi(t).length&&!o)return!1;
    for(var a=c;a--;){var l=f[a];if(!(o?l in t:bl.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var _=o;++a<c;){l=f[a];var v=n[l],g=t[l];if(e)var y=o?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(y===X?v===g||u(v,g,r,e,i):y)){p=!1;break}_||(_="constructor"==l)}if(p&&!_){var d=n.constructor,b=t.constructor;d!=b&&"constructor"in n&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),
    i.delete(t),p}function gi(n){return Ls(Vi(n,X,_o),n+"")}function yi(n){return de(n,Pc,Is)}function di(n){return de(n,qc,Rs)}function bi(n){for(var t=n.name+"",r=fs[t],e=bl.call(fs,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function wi(n){return(bl.call(Z,"placeholder")?Z:n).placeholder}function mi(){var n=Z.iteratee||Ca;return n=n===Ca?De:n,arguments.length?n(arguments[0],arguments[1]):n}function xi(n,t){var r=n.__data__;return Ti(t)?r["string"==typeof t?"string":"hash"]:r.map;
    }function ji(n){for(var t=Pc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Fi(u)]}return t}function Ai(n,t){var r=B(n,t);return Ue(r)?r:X}function ki(n){var t=bl.call(n,Bl),r=n[Bl];try{n[Bl]=X;var e=!0}catch(n){}var u=xl.call(n);return e&&(t?n[Bl]=r:delete n[Bl]),u}function Oi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Hl(t,n+o);break;case"takeRight":n=Gl(n,t-o)}}return{start:n,end:t}}function Ii(n){var t=n.match(Bt);
    return t?t[1].split(Tt):[]}function Ri(n,t,r){t=ku(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=no(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&oc(u)&&Ci(o,u)&&(bh(n)||dh(n)))}function zi(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&bl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ei(n){return"function"!=typeof n.constructor||Mi(n)?{}:gs(El(n))}function Si(n,t,r){var e=n.constructor;switch(t){case ft:return Ru(n);
    case Nn:case Pn:return new e(+n);case ct:return zu(n,r);case at:case lt:case st:case ht:case pt:case _t:case vt:case gt:case yt:return Wu(n,r);case Gn:return new e;case Hn:case rt:return new e(n);case nt:return Eu(n);case tt:return new e;case et:return Su(n)}}function Wi(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(Ut,"{\n/* [wrapped with "+t+"] */\n")}function Li(n){return bh(n)||dh(n)||!!(Cl&&n&&n[Cl])}function Ci(n,t){var r=typeof n;
    return t=null==t?Wn:t,!!t&&("number"==r||"symbol"!=r&&Vt.test(n))&&n>-1&&n%1==0&&n<t}function Ui(n,t,r){if(!fc(r))return!1;var e=typeof t;return!!("number"==e?Hf(r)&&Ci(t,r.length):"string"==e&&t in r)&&Gf(r[t],n)}function Bi(n,t){if(bh(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!bc(n))||(zt.test(n)||!Rt.test(n)||null!=t&&n in ll(t))}function Ti(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function $i(n){
    var t=bi(n),r=Z[t];if("function"!=typeof r||!(t in Ct.prototype))return!1;if(n===r)return!0;var e=Os(r);return!!e&&n===e[0]}function Di(n){return!!ml&&ml in n}function Mi(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||gl)}function Fi(n){return n===n&&!fc(n)}function Ni(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==X||n in ll(r)))}}function Pi(n){var t=Cf(n,function(n){return r.size===fn&&r.clear(),n}),r=t.cache;return t}function qi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(_n|vn|mn),o=e==mn&&r==yn||e==mn&&r==xn&&n[7].length<=t[8]||e==(mn|xn)&&t[7].length<=t[8]&&r==yn;
    if(!i&&!o)return n;e&_n&&(n[2]=t[2],u|=r&_n?0:gn);var f=t[3];if(f){var c=n[3];n[3]=c?Uu(c,f,t[4]):f,n[4]=c?N(n[3],cn):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Bu(c,f,t[6]):f,n[6]=c?N(n[5],cn):t[6]),f=t[7],f&&(n[7]=f),e&mn&&(n[8]=null==n[8]?t[8]:Hl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Zi(n){var t=[];if(null!=n)for(var r in ll(n))t.push(r);return t}function Ki(n){return xl.call(n)}function Vi(t,r,e){return r=Gl(r===X?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Gl(u.length-r,0),f=il(o);++i<o;)f[i]=u[r+i];
    i=-1;for(var c=il(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Gi(n,t){return t.length<2?n:_e(n,au(t,0,-1))}function Hi(n,t){for(var r=n.length,e=Hl(t.length,r),u=Tu(n);e--;){var i=t[e];n[e]=Ci(i,r)?u[i]:X}return n}function Ji(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}function Yi(n,t,r){var e=t+"";return Ls(n,Wi(e,ro(Ii(e),r)))}function Qi(n){var t=0,r=0;return function(){var e=Jl(),u=In-(e-r);if(r=e,u>0){if(++t>=On)return arguments[0]}else t=0;
    return n.apply(X,arguments)}}function Xi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=tu(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function no(n){if("string"==typeof n||bc(n))return n;var t=n+"";return"0"==t&&1/n==-Sn?"-0":t}function to(n){if(null!=n){try{return dl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function ro(n,t){return r($n,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function eo(n){if(n instanceof Ct)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);
    return t.__actions__=Tu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function uo(n,t,r){t=(r?Ui(n,t,r):t===X)?1:Gl(kc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=il(Fl(e/t));u<e;)o[i++]=au(n,u,u+=t);return o}function io(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function oo(){var n=arguments.length;if(!n)return[];for(var t=il(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(bh(r)?Tu(r):[r],ee(t,1));
    }function fo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),au(n,t<0?0:t,e)):[]}function co(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,0,t<0?0:t)):[]}function ao(n,t){return n&&n.length?bu(n,mi(t,3),!0,!0):[]}function lo(n,t){return n&&n.length?bu(n,mi(t,3),!0):[]}function so(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Ui(n,t,r)&&(r=0,e=u),ne(n,t,r,e)):[]}function ho(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);
    return u<0&&(u=Gl(e+u,0)),g(n,mi(t,3),u)}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=kc(r),u=r<0?Gl(e+u,0):Hl(u,e-1)),g(n,mi(t,3),u,!0)}function _o(n){return(null==n?0:n.length)?ee(n,1):[]}function vo(n){return(null==n?0:n.length)?ee(n,Sn):[]}function go(n,t){return(null==n?0:n.length)?(t=t===X?1:kc(t),ee(n,t)):[]}function yo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function bo(n){return n&&n.length?n[0]:X}function wo(n,t,r){
    var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);return u<0&&(u=Gl(e+u,0)),y(n,t,u)}function mo(n){return(null==n?0:n.length)?au(n,0,-1):[]}function xo(n,t){return null==n?"":Kl.call(n,t)}function jo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function Ao(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=kc(r),u=u<0?Gl(e+u,0):Hl(u,e-1)),t===t?K(n,t,u):g(n,b,u,!0)}function ko(n,t){return n&&n.length?Ge(n,kc(t)):X}function Oo(n,t){return n&&n.length&&t&&t.length?Xe(n,t):n;
    }function Io(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,mi(r,2)):n}function Ro(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,X,r):n}function zo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=mi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return nu(n,u),r}function Eo(n){return null==n?n:Xl.call(n)}function So(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Ui(n,t,r)?(t=0,r=e):(t=null==t?0:kc(t),r=r===X?e:kc(r)),au(n,t,r)):[]}function Wo(n,t){
    return su(n,t)}function Lo(n,t,r){return hu(n,t,mi(r,2))}function Co(n,t){var r=null==n?0:n.length;if(r){var e=su(n,t);if(e<r&&Gf(n[e],t))return e}return-1}function Uo(n,t){return su(n,t,!0)}function Bo(n,t,r){return hu(n,t,mi(r,2),!0)}function To(n,t){if(null==n?0:n.length){var r=su(n,t,!0)-1;if(Gf(n[r],t))return r}return-1}function $o(n){return n&&n.length?pu(n):[]}function Do(n,t){return n&&n.length?pu(n,mi(t,2)):[]}function Mo(n){var t=null==n?0:n.length;return t?au(n,1,t):[]}function Fo(n,t,r){
    return n&&n.length?(t=r||t===X?1:kc(t),au(n,0,t<0?0:t)):[]}function No(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,t<0?0:t,e)):[]}function Po(n,t){return n&&n.length?bu(n,mi(t,3),!1,!0):[]}function qo(n,t){return n&&n.length?bu(n,mi(t,3)):[]}function Zo(n){return n&&n.length?gu(n):[]}function Ko(n,t){return n&&n.length?gu(n,mi(t,2)):[]}function Vo(n,t){return t="function"==typeof t?t:X,n&&n.length?gu(n,X,t):[]}function Go(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){
    if(Jf(n))return t=Gl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Ho(t,r){if(!t||!t.length)return[];var e=Go(t);return null==r?e:c(e,function(t){return n(r,X,t)})}function Jo(n,t){return xu(n||[],t||[],Sr)}function Yo(n,t){return xu(n||[],t||[],fu)}function Qo(n){var t=Z(n);return t.__chain__=!0,t}function Xo(n,t){return t(n),n}function nf(n,t){return t(n)}function tf(){return Qo(this)}function rf(){return new Y(this.value(),this.__chain__)}function ef(){this.__values__===X&&(this.__values__=jc(this.value()));
    var n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function uf(){return this}function of(n){for(var t,r=this;r instanceof J;){var e=eo(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function ff(){var n=this.__wrapped__;if(n instanceof Ct){var t=n;return this.__actions__.length&&(t=new Ct(this)),t=t.reverse(),t.__actions__.push({func:nf,args:[Eo],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Eo);
    }function cf(){return wu(this.__wrapped__,this.__actions__)}function af(n,t,r){var e=bh(n)?u:Jr;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function lf(n,t){return(bh(n)?i:te)(n,mi(t,3))}function sf(n,t){return ee(yf(n,t),1)}function hf(n,t){return ee(yf(n,t),Sn)}function pf(n,t,r){return r=r===X?1:kc(r),ee(yf(n,t),r)}function _f(n,t){return(bh(n)?r:ys)(n,mi(t,3))}function vf(n,t){return(bh(n)?e:ds)(n,mi(t,3))}function gf(n,t,r,e){n=Hf(n)?n:ra(n),r=r&&!e?kc(r):0;var u=n.length;return r<0&&(r=Gl(u+r,0)),
    dc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function yf(n,t){return(bh(n)?c:Pe)(n,mi(t,3))}function df(n,t,r,e){return null==n?[]:(bh(t)||(t=null==t?[]:[t]),r=e?X:r,bh(r)||(r=null==r?[]:[r]),He(n,t,r))}function bf(n,t,r){var e=bh(n)?l:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ys)}function wf(n,t,r){var e=bh(n)?s:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ds)}function mf(n,t){return(bh(n)?i:te)(n,Uf(mi(t,3)))}function xf(n){return(bh(n)?Ir:iu)(n)}function jf(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),
    (bh(n)?Rr:ou)(n,t)}function Af(n){return(bh(n)?zr:cu)(n)}function kf(n){if(null==n)return 0;if(Hf(n))return dc(n)?V(n):n.length;var t=zs(n);return t==Gn||t==tt?n.size:Me(n).length}function Of(n,t,r){var e=bh(n)?h:lu;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function If(n,t){if("function"!=typeof t)throw new pl(en);return n=kc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Rf(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,ai(n,mn,X,X,X,X,t)}function zf(n,t){var r;if("function"!=typeof t)throw new pl(en);
    return n=kc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Ef(n,t,r){t=r?X:t;var e=ai(n,yn,X,X,X,X,X,t);return e.placeholder=Ef.placeholder,e}function Sf(n,t,r){t=r?X:t;var e=ai(n,dn,X,X,X,X,X,t);return e.placeholder=Sf.placeholder,e}function Wf(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Ws(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Hl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_;
    }function f(){var n=fh();return o(n)?c(n):(g=Ws(f,i(n)),X)}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&As(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(fh())}function s(){var n=fh(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return As(g),g=Ws(f,t),e(y)}return g===X&&(g=Ws(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new pl(en);return t=Ic(t)||0,fc(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Gl(Ic(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),
    s.cancel=a,s.flush=l,s}function Lf(n){return ai(n,jn)}function Cf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new pl(en);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Cf.Cache||sr),r}function Uf(n){if("function"!=typeof n)throw new pl(en);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:
    return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Bf(n){return zf(2,n)}function Tf(n,t){if("function"!=typeof n)throw new pl(en);return t=t===X?t:kc(t),uu(n,t)}function $f(t,r){if("function"!=typeof t)throw new pl(en);return r=null==r?0:Gl(kc(r),0),uu(function(e){var u=e[r],i=Ou(e,0,r);return u&&a(i,u),n(t,this,i)})}function Df(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new pl(en);return fc(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),
    Wf(n,t,{leading:e,maxWait:t,trailing:u})}function Mf(n){return Rf(n,1)}function Ff(n,t){return ph(Au(t),n)}function Nf(){if(!arguments.length)return[];var n=arguments[0];return bh(n)?n:[n]}function Pf(n){return Fr(n,sn)}function qf(n,t){return t="function"==typeof t?t:X,Fr(n,sn,t)}function Zf(n){return Fr(n,an|sn)}function Kf(n,t){return t="function"==typeof t?t:X,Fr(n,an|sn,t)}function Vf(n,t){return null==t||Pr(n,t,Pc(t))}function Gf(n,t){return n===t||n!==n&&t!==t}function Hf(n){return null!=n&&oc(n.length)&&!uc(n);
    }function Jf(n){return cc(n)&&Hf(n)}function Yf(n){return n===!0||n===!1||cc(n)&&we(n)==Nn}function Qf(n){return cc(n)&&1===n.nodeType&&!gc(n)}function Xf(n){if(null==n)return!0;if(Hf(n)&&(bh(n)||"string"==typeof n||"function"==typeof n.splice||mh(n)||Oh(n)||dh(n)))return!n.length;var t=zs(n);if(t==Gn||t==tt)return!n.size;if(Mi(n))return!Me(n).length;for(var r in n)if(bl.call(n,r))return!1;return!0}function nc(n,t){return Se(n,t)}function tc(n,t,r){r="function"==typeof r?r:X;var e=r?r(n,t):X;return e===X?Se(n,t,X,r):!!e;
    }function rc(n){if(!cc(n))return!1;var t=we(n);return t==Zn||t==qn||"string"==typeof n.message&&"string"==typeof n.name&&!gc(n)}function ec(n){return"number"==typeof n&&Zl(n)}function uc(n){if(!fc(n))return!1;var t=we(n);return t==Kn||t==Vn||t==Fn||t==Xn}function ic(n){return"number"==typeof n&&n==kc(n)}function oc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Wn}function fc(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function cc(n){return null!=n&&"object"==typeof n}function ac(n,t){
    return n===t||Ce(n,t,ji(t))}function lc(n,t,r){return r="function"==typeof r?r:X,Ce(n,t,ji(t),r)}function sc(n){return vc(n)&&n!=+n}function hc(n){if(Es(n))throw new fl(rn);return Ue(n)}function pc(n){return null===n}function _c(n){return null==n}function vc(n){return"number"==typeof n||cc(n)&&we(n)==Hn}function gc(n){if(!cc(n)||we(n)!=Yn)return!1;var t=El(n);if(null===t)return!0;var r=bl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&dl.call(r)==jl}function yc(n){
    return ic(n)&&n>=-Wn&&n<=Wn}function dc(n){return"string"==typeof n||!bh(n)&&cc(n)&&we(n)==rt}function bc(n){return"symbol"==typeof n||cc(n)&&we(n)==et}function wc(n){return n===X}function mc(n){return cc(n)&&zs(n)==it}function xc(n){return cc(n)&&we(n)==ot}function jc(n){if(!n)return[];if(Hf(n))return dc(n)?G(n):Tu(n);if(Ul&&n[Ul])return D(n[Ul]());var t=zs(n);return(t==Gn?M:t==tt?P:ra)(n)}function Ac(n){if(!n)return 0===n?n:0;if(n=Ic(n),n===Sn||n===-Sn){return(n<0?-1:1)*Ln}return n===n?n:0}function kc(n){
    var t=Ac(n),r=t%1;return t===t?r?t-r:t:0}function Oc(n){return n?Mr(kc(n),0,Un):0}function Ic(n){if("number"==typeof n)return n;if(bc(n))return Cn;if(fc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=fc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=R(n);var r=qt.test(n);return r||Kt.test(n)?Xr(n.slice(2),r?2:8):Pt.test(n)?Cn:+n}function Rc(n){return $u(n,qc(n))}function zc(n){return n?Mr(kc(n),-Wn,Wn):0===n?n:0}function Ec(n){return null==n?"":vu(n)}function Sc(n,t){var r=gs(n);return null==t?r:Cr(r,t);
    }function Wc(n,t){return v(n,mi(t,3),ue)}function Lc(n,t){return v(n,mi(t,3),oe)}function Cc(n,t){return null==n?n:bs(n,mi(t,3),qc)}function Uc(n,t){return null==n?n:ws(n,mi(t,3),qc)}function Bc(n,t){return n&&ue(n,mi(t,3))}function Tc(n,t){return n&&oe(n,mi(t,3))}function $c(n){return null==n?[]:fe(n,Pc(n))}function Dc(n){return null==n?[]:fe(n,qc(n))}function Mc(n,t,r){var e=null==n?X:_e(n,t);return e===X?r:e}function Fc(n,t){return null!=n&&Ri(n,t,xe)}function Nc(n,t){return null!=n&&Ri(n,t,je);
    }function Pc(n){return Hf(n)?Or(n):Me(n)}function qc(n){return Hf(n)?Or(n,!0):Fe(n)}function Zc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,t(n,e,u),n)}),r}function Kc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,e,t(n,e,u))}),r}function Vc(n,t){return Gc(n,Uf(mi(t)))}function Gc(n,t){if(null==n)return{};var r=c(di(n),function(n){return[n]});return t=mi(t),Ye(n,r,function(n,r){return t(n,r[0])})}function Hc(n,t,r){t=ku(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[no(t[e])];
    i===X&&(e=u,i=r),n=uc(i)?i.call(n):i}return n}function Jc(n,t,r){return null==n?n:fu(n,t,r)}function Yc(n,t,r,e){return e="function"==typeof e?e:X,null==n?n:fu(n,t,r,e)}function Qc(n,t,e){var u=bh(n),i=u||mh(n)||Oh(n);if(t=mi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:fc(n)&&uc(o)?gs(El(n)):{}}return(i?r:ue)(n,function(n,r,u){return t(e,n,r,u)}),e}function Xc(n,t){return null==n||yu(n,t)}function na(n,t,r){return null==n?n:du(n,t,Au(r))}function ta(n,t,r,e){return e="function"==typeof e?e:X,
    null==n?n:du(n,t,Au(r),e)}function ra(n){return null==n?[]:E(n,Pc(n))}function ea(n){return null==n?[]:E(n,qc(n))}function ua(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=Ic(r),r=r===r?r:0),t!==X&&(t=Ic(t),t=t===t?t:0),Mr(Ic(n),t,r)}function ia(n,t,r){return t=Ac(t),r===X?(r=t,t=0):r=Ac(r),n=Ic(n),Ae(n,t,r)}function oa(n,t,r){if(r&&"boolean"!=typeof r&&Ui(n,t,r)&&(t=r=X),r===X&&("boolean"==typeof t?(r=t,t=X):"boolean"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=Ac(n),t===X?(t=n,n=0):t=Ac(t)),n>t){
    var e=n;n=t,t=e}if(r||n%1||t%1){var u=Ql();return Hl(n+u*(t-n+Qr("1e-"+((u+"").length-1))),t)}return tu(n,t)}function fa(n){return Qh(Ec(n).toLowerCase())}function ca(n){return n=Ec(n),n&&n.replace(Gt,ve).replace(Dr,"")}function aa(n,t,r){n=Ec(n),t=vu(t);var e=n.length;r=r===X?e:Mr(kc(r),0,e);var u=r;return r-=t.length,r>=0&&n.slice(r,u)==t}function la(n){return n=Ec(n),n&&At.test(n)?n.replace(xt,ge):n}function sa(n){return n=Ec(n),n&&Wt.test(n)?n.replace(St,"\\$&"):n}function ha(n,t,r){n=Ec(n),t=kc(t);
    var e=t?V(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Nl(u),r)+n+ri(Fl(u),r)}function pa(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?n+ri(t-e,r):n}function _a(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?ri(t-e,r)+n:n}function va(n,t,r){return r||null==t?t=0:t&&(t=+t),Yl(Ec(n).replace(Lt,""),t||0)}function ga(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),eu(Ec(n),t)}function ya(){var n=arguments,t=Ec(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function da(n,t,r){return r&&"number"!=typeof r&&Ui(n,t,r)&&(t=r=X),
    (r=r===X?Un:r>>>0)?(n=Ec(n),n&&("string"==typeof t||null!=t&&!Ah(t))&&(t=vu(t),!t&&T(n))?Ou(G(n),0,r):n.split(t,r)):[]}function ba(n,t,r){return n=Ec(n),r=null==r?0:Mr(kc(r),0,n.length),t=vu(t),n.slice(r,r+t.length)==t}function wa(n,t,r){var e=Z.templateSettings;r&&Ui(n,t,r)&&(t=X),n=Ec(n),t=Sh({},t,e,li);var u,i,o=Sh({},t.imports,e.imports,li),f=Pc(o),c=E(o,f),a=0,l=t.interpolate||Ht,s="__p += '",h=sl((t.escape||Ht).source+"|"+l.source+"|"+(l===It?Ft:Ht).source+"|"+(t.evaluate||Ht).source+"|$","g"),p="//# sourceURL="+(bl.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zr+"]")+"\n";
    n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Jt,U),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=bl.call(t,"variable")&&t.variable;if(_){if(Dt.test(_))throw new fl(un)}else s="with (obj) {\n"+s+"\n}\n";s=(i?s.replace(dt,""):s).replace(bt,"$1").replace(wt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";
    var v=Xh(function(){return cl(f,p+"return "+s).apply(X,c)});if(v.source=s,rc(v))throw v;return v}function ma(n){return Ec(n).toLowerCase()}function xa(n){return Ec(n).toUpperCase()}function ja(n,t,r){if(n=Ec(n),n&&(r||t===X))return R(n);if(!n||!(t=vu(t)))return n;var e=G(n),u=G(t);return Ou(e,W(e,u),L(e,u)+1).join("")}function Aa(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.slice(0,H(n)+1);if(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,0,L(e,G(t))+1).join("")}function ka(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.replace(Lt,"");
    if(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,W(e,G(t))).join("")}function Oa(n,t){var r=An,e=kn;if(fc(t)){var u="separator"in t?t.separator:u;r="length"in t?kc(t.length):r,e="omission"in t?vu(t.omission):e}n=Ec(n);var i=n.length;if(T(n)){var o=G(n);i=o.length}if(r>=i)return n;var f=r-V(e);if(f<1)return e;var c=o?Ou(o,0,f).join(""):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),Ah(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=sl(u.source,Ec(Nt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;
    c=c.slice(0,s===X?f:s)}}else if(n.indexOf(vu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function Ia(n){return n=Ec(n),n&&jt.test(n)?n.replace(mt,ye):n}function Ra(n,t,r){return n=Ec(n),t=r?X:t,t===X?$(n)?Q(n):_(n):n.match(t)||[]}function za(t){var r=null==t?0:t.length,e=mi();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new pl(en);return[e(n[0]),n[1]]}):[],uu(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Ea(n){
    return Nr(Fr(n,an))}function Sa(n){return function(){return n}}function Wa(n,t){return null==n||n!==n?t:n}function La(n){return n}function Ca(n){return De("function"==typeof n?n:Fr(n,an))}function Ua(n){return qe(Fr(n,an))}function Ba(n,t){return Ze(n,Fr(t,an))}function Ta(n,t,e){var u=Pc(t),i=fe(t,u);null!=e||fc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=fe(t,Pc(t)));var o=!(fc(e)&&"chain"in e&&!e.chain),f=uc(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;
    if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Tu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function $a(){return re._===this&&(re._=Al),this}function Da(){}function Ma(n){return n=kc(n),uu(function(t){return Ge(t,n)})}function Fa(n){return Bi(n)?m(no(n)):Qe(n)}function Na(n){return function(t){return null==n?X:_e(n,t)}}function Pa(){return[]}function qa(){return!1}function Za(){return{}}function Ka(){return"";
    }function Va(){return!0}function Ga(n,t){if(n=kc(n),n<1||n>Wn)return[];var r=Un,e=Hl(n,Un);t=mi(t),n-=Un;for(var u=O(e,t);++r<n;)t(r);return u}function Ha(n){return bh(n)?c(n,no):bc(n)?[n]:Tu(Cs(Ec(n)))}function Ja(n){var t=++wl;return Ec(n)+t}function Ya(n){return n&&n.length?Yr(n,La,me):X}function Qa(n,t){return n&&n.length?Yr(n,mi(t,2),me):X}function Xa(n){return w(n,La)}function nl(n,t){return w(n,mi(t,2))}function tl(n){return n&&n.length?Yr(n,La,Ne):X}function rl(n,t){return n&&n.length?Yr(n,mi(t,2),Ne):X;
    }function el(n){return n&&n.length?k(n,La):0}function ul(n,t){return n&&n.length?k(n,mi(t,2)):0}x=null==x?re:be.defaults(re.Object(),x,be.pick(re,qr));var il=x.Array,ol=x.Date,fl=x.Error,cl=x.Function,al=x.Math,ll=x.Object,sl=x.RegExp,hl=x.String,pl=x.TypeError,_l=il.prototype,vl=cl.prototype,gl=ll.prototype,yl=x["__core-js_shared__"],dl=vl.toString,bl=gl.hasOwnProperty,wl=0,ml=function(){var n=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),xl=gl.toString,jl=dl.call(ll),Al=re._,kl=sl("^"+dl.call(bl).replace(St,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ol=ie?x.Buffer:X,Il=x.Symbol,Rl=x.Uint8Array,zl=Ol?Ol.allocUnsafe:X,El=F(ll.getPrototypeOf,ll),Sl=ll.create,Wl=gl.propertyIsEnumerable,Ll=_l.splice,Cl=Il?Il.isConcatSpreadable:X,Ul=Il?Il.iterator:X,Bl=Il?Il.toStringTag:X,Tl=function(){
    try{var n=Ai(ll,"defineProperty");return n({},"",{}),n}catch(n){}}(),$l=x.clearTimeout!==re.clearTimeout&&x.clearTimeout,Dl=ol&&ol.now!==re.Date.now&&ol.now,Ml=x.setTimeout!==re.setTimeout&&x.setTimeout,Fl=al.ceil,Nl=al.floor,Pl=ll.getOwnPropertySymbols,ql=Ol?Ol.isBuffer:X,Zl=x.isFinite,Kl=_l.join,Vl=F(ll.keys,ll),Gl=al.max,Hl=al.min,Jl=ol.now,Yl=x.parseInt,Ql=al.random,Xl=_l.reverse,ns=Ai(x,"DataView"),ts=Ai(x,"Map"),rs=Ai(x,"Promise"),es=Ai(x,"Set"),us=Ai(x,"WeakMap"),is=Ai(ll,"create"),os=us&&new us,fs={},cs=to(ns),as=to(ts),ls=to(rs),ss=to(es),hs=to(us),ps=Il?Il.prototype:X,_s=ps?ps.valueOf:X,vs=ps?ps.toString:X,gs=function(){
    function n(){}return function(t){if(!fc(t))return{};if(Sl)return Sl(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();Z.templateSettings={escape:kt,evaluate:Ot,interpolate:It,variable:"",imports:{_:Z}},Z.prototype=J.prototype,Z.prototype.constructor=Z,Y.prototype=gs(J.prototype),Y.prototype.constructor=Y,Ct.prototype=gs(J.prototype),Ct.prototype.constructor=Ct,Xt.prototype.clear=nr,Xt.prototype.delete=tr,Xt.prototype.get=rr,Xt.prototype.has=er,Xt.prototype.set=ur,ir.prototype.clear=or,ir.prototype.delete=fr,
    ir.prototype.get=cr,ir.prototype.has=ar,ir.prototype.set=lr,sr.prototype.clear=hr,sr.prototype.delete=pr,sr.prototype.get=_r,sr.prototype.has=vr,sr.prototype.set=gr,yr.prototype.add=yr.prototype.push=dr,yr.prototype.has=br,wr.prototype.clear=mr,wr.prototype.delete=xr,wr.prototype.get=jr,wr.prototype.has=Ar,wr.prototype.set=kr;var ys=Pu(ue),ds=Pu(oe,!0),bs=qu(),ws=qu(!0),ms=os?function(n,t){return os.set(n,t),n}:La,xs=Tl?function(n,t){return Tl(n,"toString",{configurable:!0,enumerable:!1,value:Sa(t),
    writable:!0})}:La,js=uu,As=$l||function(n){return re.clearTimeout(n)},ks=es&&1/P(new es([,-0]))[1]==Sn?function(n){return new es(n)}:Da,Os=os?function(n){return os.get(n)}:Da,Is=Pl?function(n){return null==n?[]:(n=ll(n),i(Pl(n),function(t){return Wl.call(n,t)}))}:Pa,Rs=Pl?function(n){for(var t=[];n;)a(t,Is(n)),n=El(n);return t}:Pa,zs=we;(ns&&zs(new ns(new ArrayBuffer(1)))!=ct||ts&&zs(new ts)!=Gn||rs&&zs(rs.resolve())!=Qn||es&&zs(new es)!=tt||us&&zs(new us)!=it)&&(zs=function(n){var t=we(n),r=t==Yn?n.constructor:X,e=r?to(r):"";
    if(e)switch(e){case cs:return ct;case as:return Gn;case ls:return Qn;case ss:return tt;case hs:return it}return t});var Es=yl?uc:qa,Ss=Qi(ms),Ws=Ml||function(n,t){return re.setTimeout(n,t)},Ls=Qi(xs),Cs=Pi(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(Et,function(n,r,e,u){t.push(e?u.replace(Mt,"$1"):r||n)}),t}),Us=uu(function(n,t){return Jf(n)?Hr(n,ee(t,1,Jf,!0)):[]}),Bs=uu(function(n,t){var r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),mi(r,2)):[]}),Ts=uu(function(n,t){
    var r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),X,r):[]}),$s=uu(function(n){var t=c(n,ju);return t.length&&t[0]===n[0]?ke(t):[]}),Ds=uu(function(n){var t=jo(n),r=c(n,ju);return t===jo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?ke(r,mi(t,2)):[]}),Ms=uu(function(n){var t=jo(n),r=c(n,ju);return t="function"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?ke(r,X,t):[]}),Fs=uu(Oo),Ns=gi(function(n,t){var r=null==n?0:n.length,e=Tr(n,t);return nu(n,c(t,function(n){return Ci(n,r)?+n:n}).sort(Lu)),e}),Ps=uu(function(n){
    return gu(ee(n,1,Jf,!0))}),qs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),gu(ee(n,1,Jf,!0),mi(t,2))}),Zs=uu(function(n){var t=jo(n);return t="function"==typeof t?t:X,gu(ee(n,1,Jf,!0),X,t)}),Ks=uu(function(n,t){return Jf(n)?Hr(n,t):[]}),Vs=uu(function(n){return mu(i(n,Jf))}),Gs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),mu(i(n,Jf),mi(t,2))}),Hs=uu(function(n){var t=jo(n);return t="function"==typeof t?t:X,mu(i(n,Jf),X,t)}),Js=uu(Go),Ys=uu(function(n){var t=n.length,r=t>1?n[t-1]:X;return r="function"==typeof r?(n.pop(),
    r):X,Ho(n,r)}),Qs=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Tr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Ct&&Ci(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:nf,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Xs=Fu(function(n,t,r){bl.call(n,r)?++n[r]:Br(n,r,1)}),nh=Ju(ho),th=Ju(po),rh=Fu(function(n,t,r){bl.call(n,r)?n[r].push(t):Br(n,r,[t])}),eh=uu(function(t,r,e){var u=-1,i="function"==typeof r,o=Hf(t)?il(t.length):[];
    return ys(t,function(t){o[++u]=i?n(r,t,e):Ie(t,r,e)}),o}),uh=Fu(function(n,t,r){Br(n,r,t)}),ih=Fu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),oh=uu(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ui(n,t[0],t[1])?t=[]:r>2&&Ui(t[0],t[1],t[2])&&(t=[t[0]]),He(n,ee(t,1),[])}),fh=Dl||function(){return re.Date.now()},ch=uu(function(n,t,r){var e=_n;if(r.length){var u=N(r,wi(ch));e|=bn}return ai(n,e,t,r,u)}),ah=uu(function(n,t,r){var e=_n|vn;if(r.length){var u=N(r,wi(ah));e|=bn;
    }return ai(t,e,n,r,u)}),lh=uu(function(n,t){return Gr(n,1,t)}),sh=uu(function(n,t,r){return Gr(n,Ic(t)||0,r)});Cf.Cache=sr;var hh=js(function(t,r){r=1==r.length&&bh(r[0])?c(r[0],z(mi())):c(ee(r,1),z(mi()));var e=r.length;return uu(function(u){for(var i=-1,o=Hl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),ph=uu(function(n,t){return ai(n,bn,X,t,N(t,wi(ph)))}),_h=uu(function(n,t){return ai(n,wn,X,t,N(t,wi(_h)))}),vh=gi(function(n,t){return ai(n,xn,X,X,X,t)}),gh=ii(me),yh=ii(function(n,t){
    return n>=t}),dh=Re(function(){return arguments}())?Re:function(n){return cc(n)&&bl.call(n,"callee")&&!Wl.call(n,"callee")},bh=il.isArray,wh=ce?z(ce):ze,mh=ql||qa,xh=ae?z(ae):Ee,jh=le?z(le):Le,Ah=se?z(se):Be,kh=he?z(he):Te,Oh=pe?z(pe):$e,Ih=ii(Ne),Rh=ii(function(n,t){return n<=t}),zh=Nu(function(n,t){if(Mi(t)||Hf(t))return $u(t,Pc(t),n),X;for(var r in t)bl.call(t,r)&&Sr(n,r,t[r])}),Eh=Nu(function(n,t){$u(t,qc(t),n)}),Sh=Nu(function(n,t,r,e){$u(t,qc(t),n,e)}),Wh=Nu(function(n,t,r,e){$u(t,Pc(t),n,e);
    }),Lh=gi(Tr),Ch=uu(function(n,t){n=ll(n);var r=-1,e=t.length,u=e>2?t[2]:X;for(u&&Ui(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=qc(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===X||Gf(l,gl[a])&&!bl.call(n,a))&&(n[a]=i[a])}return n}),Uh=uu(function(t){return t.push(X,si),n(Mh,X,t)}),Bh=Xu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=xl.call(t)),n[t]=r},Sa(La)),Th=Xu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=xl.call(t)),bl.call(n,t)?n[t].push(r):n[t]=[r]},mi),$h=uu(Ie),Dh=Nu(function(n,t,r){
    Ke(n,t,r)}),Mh=Nu(function(n,t,r,e){Ke(n,t,r,e)}),Fh=gi(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=ku(t,n),e||(e=t.length>1),t}),$u(n,di(n),r),e&&(r=Fr(r,an|ln|sn,hi));for(var u=t.length;u--;)yu(r,t[u]);return r}),Nh=gi(function(n,t){return null==n?{}:Je(n,t)}),Ph=ci(Pc),qh=ci(qc),Zh=Vu(function(n,t,r){return t=t.toLowerCase(),n+(r?fa(t):t)}),Kh=Vu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Vh=Vu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Gh=Ku("toLowerCase"),Hh=Vu(function(n,t,r){
    return n+(r?"_":"")+t.toLowerCase()}),Jh=Vu(function(n,t,r){return n+(r?" ":"")+Qh(t)}),Yh=Vu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Qh=Ku("toUpperCase"),Xh=uu(function(t,r){try{return n(t,X,r)}catch(n){return rc(n)?n:new fl(n)}}),np=gi(function(n,t){return r(t,function(t){t=no(t),Br(n,t,ch(n[t],n))}),n}),tp=Yu(),rp=Yu(!0),ep=uu(function(n,t){return function(r){return Ie(r,n,t)}}),up=uu(function(n,t){return function(r){return Ie(n,r,t)}}),ip=ti(c),op=ti(u),fp=ti(h),cp=ui(),ap=ui(!0),lp=ni(function(n,t){
    return n+t},0),sp=fi("ceil"),hp=ni(function(n,t){return n/t},1),pp=fi("floor"),_p=ni(function(n,t){return n*t},1),vp=fi("round"),gp=ni(function(n,t){return n-t},0);return Z.after=If,Z.ary=Rf,Z.assign=zh,Z.assignIn=Eh,Z.assignInWith=Sh,Z.assignWith=Wh,Z.at=Lh,Z.before=zf,Z.bind=ch,Z.bindAll=np,Z.bindKey=ah,Z.castArray=Nf,Z.chain=Qo,Z.chunk=uo,Z.compact=io,Z.concat=oo,Z.cond=za,Z.conforms=Ea,Z.constant=Sa,Z.countBy=Xs,Z.create=Sc,Z.curry=Ef,Z.curryRight=Sf,Z.debounce=Wf,Z.defaults=Ch,Z.defaultsDeep=Uh,
    Z.defer=lh,Z.delay=sh,Z.difference=Us,Z.differenceBy=Bs,Z.differenceWith=Ts,Z.drop=fo,Z.dropRight=co,Z.dropRightWhile=ao,Z.dropWhile=lo,Z.fill=so,Z.filter=lf,Z.flatMap=sf,Z.flatMapDeep=hf,Z.flatMapDepth=pf,Z.flatten=_o,Z.flattenDeep=vo,Z.flattenDepth=go,Z.flip=Lf,Z.flow=tp,Z.flowRight=rp,Z.fromPairs=yo,Z.functions=$c,Z.functionsIn=Dc,Z.groupBy=rh,Z.initial=mo,Z.intersection=$s,Z.intersectionBy=Ds,Z.intersectionWith=Ms,Z.invert=Bh,Z.invertBy=Th,Z.invokeMap=eh,Z.iteratee=Ca,Z.keyBy=uh,Z.keys=Pc,Z.keysIn=qc,
    Z.map=yf,Z.mapKeys=Zc,Z.mapValues=Kc,Z.matches=Ua,Z.matchesProperty=Ba,Z.memoize=Cf,Z.merge=Dh,Z.mergeWith=Mh,Z.method=ep,Z.methodOf=up,Z.mixin=Ta,Z.negate=Uf,Z.nthArg=Ma,Z.omit=Fh,Z.omitBy=Vc,Z.once=Bf,Z.orderBy=df,Z.over=ip,Z.overArgs=hh,Z.overEvery=op,Z.overSome=fp,Z.partial=ph,Z.partialRight=_h,Z.partition=ih,Z.pick=Nh,Z.pickBy=Gc,Z.property=Fa,Z.propertyOf=Na,Z.pull=Fs,Z.pullAll=Oo,Z.pullAllBy=Io,Z.pullAllWith=Ro,Z.pullAt=Ns,Z.range=cp,Z.rangeRight=ap,Z.rearg=vh,Z.reject=mf,Z.remove=zo,Z.rest=Tf,
    Z.reverse=Eo,Z.sampleSize=jf,Z.set=Jc,Z.setWith=Yc,Z.shuffle=Af,Z.slice=So,Z.sortBy=oh,Z.sortedUniq=$o,Z.sortedUniqBy=Do,Z.split=da,Z.spread=$f,Z.tail=Mo,Z.take=Fo,Z.takeRight=No,Z.takeRightWhile=Po,Z.takeWhile=qo,Z.tap=Xo,Z.throttle=Df,Z.thru=nf,Z.toArray=jc,Z.toPairs=Ph,Z.toPairsIn=qh,Z.toPath=Ha,Z.toPlainObject=Rc,Z.transform=Qc,Z.unary=Mf,Z.union=Ps,Z.unionBy=qs,Z.unionWith=Zs,Z.uniq=Zo,Z.uniqBy=Ko,Z.uniqWith=Vo,Z.unset=Xc,Z.unzip=Go,Z.unzipWith=Ho,Z.update=na,Z.updateWith=ta,Z.values=ra,Z.valuesIn=ea,
    Z.without=Ks,Z.words=Ra,Z.wrap=Ff,Z.xor=Vs,Z.xorBy=Gs,Z.xorWith=Hs,Z.zip=Js,Z.zipObject=Jo,Z.zipObjectDeep=Yo,Z.zipWith=Ys,Z.entries=Ph,Z.entriesIn=qh,Z.extend=Eh,Z.extendWith=Sh,Ta(Z,Z),Z.add=lp,Z.attempt=Xh,Z.camelCase=Zh,Z.capitalize=fa,Z.ceil=sp,Z.clamp=ua,Z.clone=Pf,Z.cloneDeep=Zf,Z.cloneDeepWith=Kf,Z.cloneWith=qf,Z.conformsTo=Vf,Z.deburr=ca,Z.defaultTo=Wa,Z.divide=hp,Z.endsWith=aa,Z.eq=Gf,Z.escape=la,Z.escapeRegExp=sa,Z.every=af,Z.find=nh,Z.findIndex=ho,Z.findKey=Wc,Z.findLast=th,Z.findLastIndex=po,
    Z.findLastKey=Lc,Z.floor=pp,Z.forEach=_f,Z.forEachRight=vf,Z.forIn=Cc,Z.forInRight=Uc,Z.forOwn=Bc,Z.forOwnRight=Tc,Z.get=Mc,Z.gt=gh,Z.gte=yh,Z.has=Fc,Z.hasIn=Nc,Z.head=bo,Z.identity=La,Z.includes=gf,Z.indexOf=wo,Z.inRange=ia,Z.invoke=$h,Z.isArguments=dh,Z.isArray=bh,Z.isArrayBuffer=wh,Z.isArrayLike=Hf,Z.isArrayLikeObject=Jf,Z.isBoolean=Yf,Z.isBuffer=mh,Z.isDate=xh,Z.isElement=Qf,Z.isEmpty=Xf,Z.isEqual=nc,Z.isEqualWith=tc,Z.isError=rc,Z.isFinite=ec,Z.isFunction=uc,Z.isInteger=ic,Z.isLength=oc,Z.isMap=jh,
    Z.isMatch=ac,Z.isMatchWith=lc,Z.isNaN=sc,Z.isNative=hc,Z.isNil=_c,Z.isNull=pc,Z.isNumber=vc,Z.isObject=fc,Z.isObjectLike=cc,Z.isPlainObject=gc,Z.isRegExp=Ah,Z.isSafeInteger=yc,Z.isSet=kh,Z.isString=dc,Z.isSymbol=bc,Z.isTypedArray=Oh,Z.isUndefined=wc,Z.isWeakMap=mc,Z.isWeakSet=xc,Z.join=xo,Z.kebabCase=Kh,Z.last=jo,Z.lastIndexOf=Ao,Z.lowerCase=Vh,Z.lowerFirst=Gh,Z.lt=Ih,Z.lte=Rh,Z.max=Ya,Z.maxBy=Qa,Z.mean=Xa,Z.meanBy=nl,Z.min=tl,Z.minBy=rl,Z.stubArray=Pa,Z.stubFalse=qa,Z.stubObject=Za,Z.stubString=Ka,
    Z.stubTrue=Va,Z.multiply=_p,Z.nth=ko,Z.noConflict=$a,Z.noop=Da,Z.now=fh,Z.pad=ha,Z.padEnd=pa,Z.padStart=_a,Z.parseInt=va,Z.random=oa,Z.reduce=bf,Z.reduceRight=wf,Z.repeat=ga,Z.replace=ya,Z.result=Hc,Z.round=vp,Z.runInContext=p,Z.sample=xf,Z.size=kf,Z.snakeCase=Hh,Z.some=Of,Z.sortedIndex=Wo,Z.sortedIndexBy=Lo,Z.sortedIndexOf=Co,Z.sortedLastIndex=Uo,Z.sortedLastIndexBy=Bo,Z.sortedLastIndexOf=To,Z.startCase=Jh,Z.startsWith=ba,Z.subtract=gp,Z.sum=el,Z.sumBy=ul,Z.template=wa,Z.times=Ga,Z.toFinite=Ac,Z.toInteger=kc,
    Z.toLength=Oc,Z.toLower=ma,Z.toNumber=Ic,Z.toSafeInteger=zc,Z.toString=Ec,Z.toUpper=xa,Z.trim=ja,Z.trimEnd=Aa,Z.trimStart=ka,Z.truncate=Oa,Z.unescape=Ia,Z.uniqueId=Ja,Z.upperCase=Yh,Z.upperFirst=Qh,Z.each=_f,Z.eachRight=vf,Z.first=bo,Ta(Z,function(){var n={};return ue(Z,function(t,r){bl.call(Z.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Z.VERSION=nn,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Z[n].placeholder=Z}),r(["drop","take"],function(n,t){Ct.prototype[n]=function(r){
    r=r===X?1:Gl(kc(r),0);var e=this.__filtered__&&!t?new Ct(this):this.clone();return e.__filtered__?e.__takeCount__=Hl(r,e.__takeCount__):e.__views__.push({size:Hl(r,Un),type:n+(e.__dir__<0?"Right":"")}),e},Ct.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==Rn||r==En;Ct.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:mi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){
    var r="take"+(t?"Right":"");Ct.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Ct.prototype[n]=function(){return this.__filtered__?new Ct(this):this[r](1)}}),Ct.prototype.compact=function(){return this.filter(La)},Ct.prototype.find=function(n){return this.filter(n).head()},Ct.prototype.findLast=function(n){return this.reverse().find(n)},Ct.prototype.invokeMap=uu(function(n,t){return"function"==typeof n?new Ct(this):this.map(function(r){
    return Ie(r,n,t)})}),Ct.prototype.reject=function(n){return this.filter(Uf(mi(n)))},Ct.prototype.slice=function(n,t){n=kc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Ct(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=kc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ct.prototype.toArray=function(){return this.take(Un)},ue(Ct.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Z[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);
    u&&(Z.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Ct,c=o[0],l=f||bh(t),s=function(n){var t=u.apply(Z,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Ct(this);var g=n.apply(t,o);return g.__actions__.push({func:nf,args:[s],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){
    var t=_l[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(bh(u)?u:[],n)}return this[r](function(r){return t.apply(bh(r)?r:[],n)})}}),ue(Ct.prototype,function(n,t){var r=Z[t];if(r){var e=r.name+"";bl.call(fs,e)||(fs[e]=[]),fs[e].push({name:t,func:r})}}),fs[Qu(X,vn).name]=[{name:"wrapper",func:X}],Ct.prototype.clone=$t,Ct.prototype.reverse=Yt,Ct.prototype.value=Qt,Z.prototype.at=Qs,
    Z.prototype.chain=tf,Z.prototype.commit=rf,Z.prototype.next=ef,Z.prototype.plant=of,Z.prototype.reverse=ff,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=cf,Z.prototype.first=Z.prototype.head,Ul&&(Z.prototype[Ul]=uf),Z},be=de();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(re._=be,define(function(){return be})):ue?((ue.exports=be)._=be,ee._=be):re._=be}).call(this);
PwC.ns("PwC.components.collectionColors.clientlibs");

PwC.components.collectionColors.clientlibs = {

    loadMoreScrollable : function(path, link, componentId,currentPagePath){
        $.ajaxSetup({
            xhrFields: {withCredentials: true}
        });

        var filter =  $("#collection-"+componentId+" .collection__filter option:selected").val() ?
            $("#collection-"+componentId+" .collection__filter option:selected").val().replace(/\./g,'') : "";

        $.ajax(path+ '.dynamic.html?filter='+filter+'&currentPagePath='+currentPagePath+'&'+ link).done(function(data) {
            var $feedContainers = $("#collection-"+componentId);
            var $items = $CQ(data).find('.collection__item');
            // append items to grid
            var grid = $feedContainers.find('.collection__content');
            grid.append( $items );
            // add and lay out newly appended items
            grid.isotope( 'appended', $items );
            grid.imagesLoaded(function(){
                grid.isotope('layout');
            });
            var loadMoreButton = $CQ(data).find('#loadmore-'+componentId).html();
            if(!loadMoreButton){
                if($("#loadmore-"+componentId).is(':visible')){
                    $CQ("#loadmore-"+componentId).toggle()
                }
            } else {
                $CQ("#loadmore-"+componentId).html($CQ(data).find('#loadmore-'+componentId).html());
                if(!$("#loadmore-"+componentId).is(':visible')){
                    $CQ("#loadmore-"+componentId).toggle()
                }
            }
        });
        //queryStringPaginateCol(link,filter,componentId);
		
    }    
}

function initializeIsotope(componentId,selectedTag,nexLink,createdDate,isDeepLink,moreResultsLink,currentPagePath){

    if(selectedTag) {
        $("#collection-"+componentId+ " .collection__filter-select").val("."+selectedTag);
    }
    if(!moreResultsLink && !nexLink && !(typeof componentId === 'function')) {
        $CQ("#moreLinks-"+componentId).toggleClass("collection__more-links");
    }
    /* Helper */
    $.extend({
        getQueryString: function (name) {
            function parseParams() {
                var params = {},
                    e,
                    a = /\+/g,
                    r = /([^&=]+)=?([^&]*)/g,
                    d = function (s) { return decodeURIComponent(s.replace(a, " ")); },
                    q = window.location.search.substring(1);

                while (e = r.exec(q))
                    params[d(e[1])] = d(e[2]);

                return params;
            }

            if (!this.queryStringParams)
                this.queryStringParams = parseParams();

            return this.queryStringParams[name];
        }
    });

    var $feedContainers = $('#collection-'+componentId+ ' .collection__content'),
        $feedFiltersSets = $('#collection-'+componentId+ ' .collection__filter');
    $($feedContainers).each(function(){

        var container = $(this);

        container.isotope({

            itemSelector: '.collection__item',
            transitionDuration: '0.8s',
            percentPosition: true,
            masonry: {
                columnWidth: '.collection__item'
            }

        });

        container.imagesLoaded( function() {
            container.isotope('layout');
        });

    });


    $('.collection__filter-reset').bind('click', function (e) {
        e.preventDefault();
        var thisFilterContainer = $(this).parents('.collection__filter');
        thisFilterContainer.find('select').val('*').trigger('change');
    })

    $($feedFiltersSets).each(function () {

        $(this).on('change', 'select', function(){

            $.ajaxSetup({
                xhrFields: {withCredentials: true}
            });
            var key = $(this).parent().attr('data-isotope-key');
            var path = $(this).parent().attr('current-node-path');
            var value = $(this).val().replace(/\./g,'');
            $.ajax(path+ '.dynamic.html?filter='+value+'&currentPagePath='+currentPagePath+'&start=0').done(function(data) {

                var $items = $CQ(data).find('.collection__item');
                var $feedContainers = $("#collection-"+componentId).find('.collection__content');
                var $feedContainersItems = $("#collection-"+componentId).find('.collection__item');

                $feedContainers.isotope('remove', $feedContainersItems);
                $feedContainers.isotope('insert', $items);
                $feedContainers.imagesLoaded(function(){
                    $feedContainers.isotope('layout');
                });

                var loadMoreButton = $CQ(data).find('#loadmore-'+componentId).html();
                if(!loadMoreButton){
                    if($CQ("#loadmore-"+componentId).is(':visible')){
                        $CQ("#loadmore-"+componentId).toggle();
                        $CQ("#moreLinks-"+componentId).toggleClass("collection__more-links");
                    }
                } else {
                    $CQ("#loadmore-"+componentId).html($CQ(data).find('#loadmore-'+componentId).html());
                    if(!$CQ("#loadmore-"+componentId).is(':visible')){
                        $CQ("#loadmore-"+componentId).toggle();
                    }
                    if(!$CQ("#moreLinks-"+componentId).hasClass("collection__more-links")){
                        $CQ("#moreLinks-"+componentId).toggleClass("collection__more-links");
                    }
                }
            });

            if(isDeepLink) queryStringFilterCol(value,createdDate);

        });

    });

    if($.getQueryString('feedFilter')){
        $CQ($.getQueryString('feedFilter')).val($.getQueryString('feedFilterValue')).trigger('change');
    }



    $(document).on("click", "a[id^=link]",function() {

        var id     = $('#video_player_pwc').find('div[id^=videoelement]').attr("id");

        var height = $(this).attr("data-video-height")>0 ? $(this).attr("data-video-height") : "250px";
        var width  = $(this).attr("data-video-width")>0 ? $(this).attr("data-video-width") : "250px";
        var link   = $(this).attr("data-video-url");
        var image  = $(this).attr("data-video-image");

        var title  = $(this).attr("data-video-title");
        var description = $(this).attr("data-video-description");
        var videoType = $(this).attr("data-video-type");
        var self = this;

        setTimeout(function()
        {
            var playerInstance = jwplayer(id);
            var playerSetup = {
                videoType: videoType,
                file: link,
                image: image,
                flashplayer: "/etc/clientlibs/pwc/videoplayer/jwplayer.flash.swf",
                width:  width,
                height:  height,
                title: title,
                description: description,
                mediaid: id,
                displaytitle: false,
                displaydescription: false,
                skin : {
                    name:"pwc"
                }
            }
            playerInstance.setup(playerSetup);
            
            // start video tracking always after setup is called
            startVideoTracking(playerInstance);
            
            playerInstance.on('play', function(e) {
                s.tl(this,'o','');
            });
            $("#" + playerInstance.id).next(".jw-video-error").css("display", "none");
            playerInstance.on("setupError", function() {
                $("#" + playerInstance.id).hide();
                $("#" + playerInstance.id).next(".jw-video-error").css("display", "block");
            });
        }, 200);
    });

    $('#modalbs-modalId_video').on('hide.bs.modal', function () {
        var id = $('#video_player_pwc').find('div[id^=videoelement]').attr("id");
        jwplayer(id).remove();
    })

}

function queryStringFilterCol(filters,createdDate) {

    var milliSec = getTimeStringCol("MILLISECOND",createdDate);
    var seconds = getTimeStringCol("SECOND",createdDate);

    var deepLinkId =  seconds+milliSec;

    var paramName = 'tags'+deepLinkId;

    var jsonTags= {tags:[]};

    var tagsArray = [];
    tagsArray.push(filters);
    if(tagsArray.length >0) {
        jsonTags.tags.push(tagsArray);
    }

    var filterValues = jsonTags.tags.length > 0 ? encodeURIComponent(JSON.stringify(jsonTags)) : "";
    var filterParam = paramName+'='+filterValues;

    updateQueryStringCol(filterValues,filterParam,paramName);

}

function updateQueryStringCol(filterValues,filterParam,paramName) {

    var search = window.location.search;
    var url = window.location.protocol + "//" + window.location.host + window.location.pathname ;

    var newurl = "";
    var paramValue = "";

    if(window.location.pathname.indexOf("/cf") == -1 && window.location.pathname.length !=3) {
        if(!search) {
            newurl = filterValues ? url +'?'+ filterParam : url;
        } else {

            paramValue = getParameterByNameCol(paramName,search);
            if(paramValue) {

                search = search.replace(paramName+'='+paramValue,"");
                if(!search) {
                    newurl = filterValues ? url+'?'+filterParam : url;
                } else {

                    search = search.replace("?","");
                    newurl = filterValues ? url  +'?'+filterParam+"&"+search : url+'?'+search;

                }
            } else {
                newurl = filterValues ? url + search +'&'+ filterParam : url + search;
            }
        }
    }
    newurl = cleanUrlCol(newurl);
    window.history.pushState({path:newurl},'',newurl);

}

function cleanUrlCol(url) {
    url = url.replace("&&","&").replace("?&","?");
    if (url.slice(-1) == "&") {
        url = url.slice(0,url.length -1);
    }
    return url;
}

function getParameterByNameCol(name,url) {

    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    //return decodeURIComponent(results[2].replace(/\+/g, " "));
    return results[2].replace(/\+/g, " ");

}

function getTimeStringCol(name,date) {

    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[,]" + name + "(=([^,]*)|,)"),
        results = regex.exec(date);
    if (!results) return null;
    if (!results[2]) return '';
    //return decodeURIComponent(results[2].replace(/\+/g, " "));
    return results[2].replace(/\+/g, " ");

}
$( document ).ready(function() {
    $('body').on('click', 'a.tweetthis', function() {

        var TIM = function(){var e=/{{\s*([a-z0-9_][\\.a-z0-9_]*)\s*}}/gi;return function(f,g){return f.replace(e,function(h,i){for(var c=i.split("."),d=c.length,b=g,a=0;a<d;a++){b=b[c[a]];if(b===void 0)throw"tim: '"+c[a]+"' not found in "+h;if(a===d-1)return b}})}}();

        var getTweetUrl = function (text, url, via) {
            var baseUrl, href;
            baseUrl = 'https://twitter.com/intent/tweet'; //https://dev.twitter.com/docs/intents
            href = baseUrl + '?text=' + text + '&url=' + url + (via ? '&via=' + via : '');
            return href;
        };

        var getEncodedTweetText  = function (text, url, via) {
            var urllen = (url.indexOf('https') > -1) ? 23 : 22;
            var vialen = via && via.length > 0 ? via.length + 6 : 0;

            var availableTextChars = 140 - (urllen + 2 + vialen);

            var truncate = function Truncate(str, maxLength) {
                if(str.length > maxLength)
                {
                    str = str.substring(0, maxLength + 1);
                    str = str.substring(0, Math.min(str.length, str.lastIndexOf(" ")));
                }

                return str;
            }

            if (text.length > availableTextChars) {
                 text = truncate(text, availableTextChars);
                 return encodeURIComponent(text) + '%E2%80%A6'; //add ellipsis
            }
            else {
                return encodeURIComponent(text);
            }
        };

        var url = document.URL;
        var via = $(this).data('via');
        var format = $(this).data('format');
        var text = TIM(format, { tweet: $(this).text() });

        text = getEncodedTweetText( text, url, via );
        var twtUrl = getTweetUrl(text, url, via);
        window.open(twtUrl);
    });

});

PwC.ns("PwC.components.contactscollection.listeners");
PwC.ns("PwC.components.collection");

PwC.components.collection.commons = {
    pTrim: function (componentId){
        var maxAllowedBeforeTrim = 5; // 5 is the min allowable value.
        var $paginationElement = $('#pagination'+componentId);
        var lis = $paginationElement.find('li:not(.active)');

        if (lis.length-1 <= maxAllowedBeforeTrim) { // -1= -2 << >> and +1 active
            $paginationElement.find('li').show();
            return;
        }

        // Show first and last two items << 1 and N >>
        lis.first().show().next().show();
        lis.last().show().prev().show();

        var active = $paginationElement.find('.active').show();
        var mockElli = '<li style="display: inline"><a class="bg50-black">&hellip;</a></li>';
        var first = active.prevAll('*:lt(2)').show().last();
        if (! (first.is(':first-child') || first.prev().is(':first-child') || first.prev().prev().is(':first-child')) ){
            first.before(mockElli);
        }
        var last = active.nextAll('*:lt(2)').show().last();
        if (! (last.is(':last-child') || last.next().is(':last-child') || last.next().next().is(':last-child')) ){
            last.after(mockElli);
        }
    }
};

PwC.components.contactscollection.listeners = {

    paginateListAjax : function (path, link, nodeName,deepLinkId,isDeepLink){
        $.ajaxSetup({
            xhrFields: {withCredentials: true}
        });

        var terrSelect = $("#territorySelect-"+nodeName);
        var groupbySelect = $("#groupbySelect-"+nodeName);

        var filter = "&paginating=true";

        filter += terrSelect.val()    ? "&territoryFilter=" +  encodeURIComponent(terrSelect.val()) : "";
        filter += groupbySelect.val() ? "&groupFilter=" +  encodeURIComponent(groupbySelect.val()) : "";

        filter += "&_charset_=UTF-8";
        $.ajax(path + ".dynamic.html?" + link + filter).done(function(data) {
            $("#listId-inner-" + nodeName).html($CQ(data).eq(0).find("#listId-inner-" + nodeName).html());
            $("#listId-inner-" + nodeName).append($CQ(data).eq(1));
        });

        if(isDeepLink) queryStringPaginateCCC(link,terrSelect,groupbySelect,deepLinkId);
	},

    filterListValues : function (filterId, componentId,deepLinkId,isDeepLink){
        $.ajaxSetup({
            xhrFields: {withCredentials: true}
        });

        var path = $("#listId-outer-" + componentId).attr("name");
        var terrSelect = $("#territorySelect-" + componentId);
        var groupbySelect = $("#groupbySelect-" + componentId);

        var filter = "filterId=" + filterId;

        filter += terrSelect.val()    ? "&territoryFilter=" + encodeURIComponent(terrSelect.val()) : "";
        filter += groupbySelect.val() ? "&groupFilter=" + encodeURIComponent(groupbySelect.val()) : "";
        filter += "&_charset_=UTF-8";

        $.ajax(path + "?" + filter).done(function(data) {
            $("#listId-outer-" + componentId).html($CQ(data).eq(0).html());
	    $("#listId-outer-" + componentId)[0].appendChild($CQ(data)[1]);
        });
        if(isDeepLink) queryStringFilterCCC(filterId,terrSelect,groupbySelect,deepLinkId)
	}

};

function queryStringPaginateCCC(link,terrSelect,groupbySelect,deepLinkId) {

    var start = "start"+deepLinkId+"="+ link.substr(link.indexOf("=")+1);

    var filter = "paginating"+deepLinkId+"=true&"+start;

    filter += terrSelect.val()    ? "&territoryFilter"+deepLinkId+"=" + encodeURIComponent(terrSelect.val()) : "";
    filter += groupbySelect.val() ? "&groupFilter"+deepLinkId+"=" + encodeURIComponent(groupbySelect.val()) : "";

    filter += "&_charset_=UTF-8";

    deleteParamCCC("filterId"+deepLinkId);
    updateQueryStringCCC(filter,"paginating"+deepLinkId);

}

function queryStringFilterCCC(filterId,terrSelect,groupbySelect,deepLinkId) {

    var filter = "filterId"+deepLinkId+"=" + filterId;

    filter += terrSelect.val()    ? "&territoryFilter"+deepLinkId+"=" + encodeURIComponent(terrSelect.val()) : "";
    filter += groupbySelect.val() ? "&groupFilter"+deepLinkId+"=" + encodeURIComponent(groupbySelect.val()) : "";
    filter += "&_charset_=UTF-8";

    deleteParamCCC("paginating"+deepLinkId)
    updateQueryStringCCC(filter,"filterId"+deepLinkId);

}

function updateQueryStringCCC(filter,paramName) {

    var search = window.location.search;
    var url = window.location.protocol + "//" + window.location.host + window.location.pathname ;

    var newurl = "";
    var paramValue = "";

    if(window.location.pathname.indexOf("/cf") == -1 && window.location.pathname.length !=3) {
        if(!search) {
            newurl = filter ? url +'?'+ filter : url;
        } else {

            paramValue = getParameterByNameCCC(paramName,search);
            if(paramValue) {

                search = search.replace(paramValue,"");
                if(!search) {
                    newurl = filter ? url+'?'+filter : url;
                } else {

                    search = search.replace("?","");
                    newurl = filter ? url  +'?'+filter+"&"+search : url+'?'+search;

                }
            } else {
                newurl = filter ? url + search +'&'+ filter : url + search;
            }
        }
    }
    newurl = cleanUrlCCC(newurl);
    window.history.pushState({path:newurl},'',newurl);
}

function deleteParamCCC(paramName) {

    var newurl = "";

    var search = window.location.search;
    var paramValue = getParameterByNameCCC(paramName,search);
    var url = window.location.protocol + "//" + window.location.host + window.location.pathname ;

    if(paramValue) {

        search = search.replace(paramValue,"");
        if(!search) {
            newurl = url;
        } else {

            search = search.replace("?","");
            newurl = url+'?'+search;

        }
        newurl = cleanUrlCCC(newurl);
        window.history.pushState({path:newurl},'',newurl);
    }

}

function cleanUrlCCC(url) {
    url = url.replace("&&","&").replace("?&","?");
    if (url.slice(-1) == "&") {
        url = url.slice(0,url.length -1);
    }
    return url;
}
function getParameterByNameCCC(param,url) {

    return url.match(new RegExp( param+ "=(.*?)" +  "&_charset_=UTF-8&")) ? url.match(new RegExp(param + "=(.*?)" + "&_charset_=UTF-8&"))[0] :
        (url.match(new RegExp( param+ "=(.*?)" +  "&_charset_=UTF-8")) ? url.match(new RegExp(param + "=(.*?)" + "&_charset_=UTF-8"))[0] : "");

}

PwC.ns("PwC.components.eventscollection.clientlibs");

PwC.components.eventscollection.clientlibs = {
  renderSimpleList: function(eventId, pageMax, nearerPos){
    var pageSize = (pageMax) ? parseInt(pageMax) : -1;
    var nearerPage =  (parseInt(nearerPos)+1)  > pageSize ? (Math.ceil((parseInt(nearerPos)+1)/pageSize)) : 1;

    $('#simpleList-'+eventId).quickPager({ pageSize: pageMax , active: nearerPage });

  },
  renderTable: function(eventId, isSortable, pageMax, nearerPos, totalEvents){
    var pageSize = (pageMax) ? parseInt(pageMax) : -1;
    var nearerPage =  nearerPos >= pageSize ? Math.ceil((nearerPos +1) / pageSize) : 1;
    var $component = $('#events-collection-' + eventId);
    var $table = $component.find('table').first();

    var table = $table.DataTable({
      "paging": pageSize > 0 && pageSize < totalEvents,
      "ordering": (isSortable == 'Yes') ,
      "searching": false,
      "displayStart": pageSize > 0 ? (nearerPage-1)*pageSize : 0,
      "info": false,
      "pageLength": pageSize,
      "columnDefs": [{ "visible": false, "targets": 0 }, { "width": "20%", "ordenable": true, "orderData": [0], "targets": 1 } ],
      "lengthChange": false,
      "pagingType": "simple_numbers",
      "order": [[0,"asc"]],
      "language":{
        "paginate":{
          "previous": "&#171", //backLabel,
          "next": "&#187"//nextLabel
        }
      }
    });
    //fix for page's color styling
    $component.find('.paging_simple_numbers span a').addClass('bg50-black');
    $component.find('.paginate_button.previous, .paginate_button.next').addClass('bg90-black');
    $component.find('.paging_simple_numbers span a.current').addClass('bg100');
    table.on( 'draw', function () {
      $component.find('.paging_simple_numbers span a').addClass('bg50-black');
      $component.find('.paginate_button.previous, .paginate_button.next').addClass('bg90-black');
      $component.find('.paging_simple_numbers span a.current').addClass('bg100');
    } );
  },

  renderMonthlyViewTable: function (eventId, monthNames, startOnCurrentDate) {
    var $component = $('#events-collection-' + eventId);
    var $table = $component.find('table').first();

    var $prev = $component.find('nav ul li').first();
    var $next = $component.find('nav ul li').last();
    var $navDate = $component.find('nav ul li.page-nav-date');
    var monthNamesArr = monthNames.split(','); // Parse month string from sightly param

    // Private Methods
    var _showMonth = function(dateStr, $table, $prev, $next, $navDate){
      $table.find('tbody tr').hide();

      var showEvents = $table.find('tbody tr[data-date="' + dateStr + '"]').show();

      var prevDateStr = showEvents.first().prev().data('date');
      var nextDateStr = showEvents.last().next().data('date');

      $prev.css('visibility', prevDateStr != undefined ? '' : 'hidden');
      $next.css('visibility', nextDateStr != undefined ? '' : 'hidden');
      //$prev.toggle(prevDateStr != undefined);
      //$next.toggle(nextDateStr != undefined);

      $navDate.width( $prev.parent().width() - $prev.outerWidth() - $next.outerWidth() );

      $prev.data('date', prevDateStr);
      $next.data('date', nextDateStr);

      $navDate.html( monthNamesArr[parseInt(dateStr.substr(4,6))-1] + ' ' + dateStr.substr(0,4)); // e.g 201503
    };

    var _getCloserMonth = function($table){
      var now = new Date();
      var date = new Date(now.getFullYear(), now.getMonth());
      var closerDate = '';

      $table.find('tbody tr').each(function(indx, value){
        var trDateStr = $(value).data('date').toString();
        var trDate = new Date(trDateStr.substr(0,4), parseInt(trDateStr.substr(4,6))-1);
        if (date <= trDate){
          closerDate = trDateStr;
          return false;
        }
      });
      return closerDate;
    };


    var dateStr = $table.find('tbody tr').first().data('date').toString();
    if ( startOnCurrentDate ){
      dateStr = _getCloserMonth($table);
      if (dateStr == ''){ //When no forward events exists
        dateStr = $table.find('tbody tr').last().data('date').toString();
      }
    }

    _showMonth(dateStr, $table, $prev, $next, $navDate);

    $prev.click(function(){ _showMonth($(this).data('date').toString(), $table, $prev, $next, $navDate); });
    $next.click(function(){ _showMonth($(this).data('date').toString(), $table, $prev, $next, $navDate); });
  }
};

PwC.ns("PwC.indexList");

PwC.indexList.initializeIsotope = function(componentId){

	$('#indexList-'+componentId+' .link-index__content').each(function () {

		var container = $(this);

		container.isotope({
            isOriginLeft: !$('body').hasClass('page-dir--rtl'), //RTL compatability 
			itemSelector: '.link-index__group',
			transitionDuration: '0.8s',
			percentPosition: true,
			masonry: {
				columnWidth: '.link-index__group'
			}
		});
	});
};

(function($){$.extend({tablesorter:new
function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:'/\.|\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms");}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug="";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime);}return cache;};function getElementText(config,node){var text="";if(!node)return"";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1
var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { ";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; ";}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=='text'&&direction=='asc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));";}else if(type=='text'&&direction=='desc'){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));";}else if(type=='numeric'&&direction=='asc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";}else if(type=='numeric'&&direction=='desc'){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));";}};function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));";};function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));";};function makeSortNumeric(i){return"a["+i+"]-b["+i+"];";};function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind("appendCache",function(){appendToTable(this,cache);}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this);}).bind("applyWidgets",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML="";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""));},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s);},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),''));},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0");},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""));},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");}else if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");}else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime());},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time);}}});})(jQuery);

/*! DataTables 1.10.7
 * ©2008-2015 SpryMedia Ltd - datatables.net/license
 */
(function(Ea,Q,k){var P=function(h){function W(a){var b,c,e={};h.each(a,function(d){if((b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=d.replace(b[0],b[2].toLowerCase()),e[c]=d,"o"===b[1]&&W(a[d])});a._hungarianMap=e}function H(a,b,c){a._hungarianMap||W(a);var e;h.each(b,function(d){e=a._hungarianMap[d];if(e!==k&&(c||b[e]===k))"o"===e.charAt(0)?(b[e]||(b[e]={}),h.extend(!0,b[e],b[d]),H(a[e],b[e],c)):b[e]=b[d]})}function P(a){var b=m.defaults.oLanguage,c=a.sZeroRecords;
!a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&E(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&E(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&db(a)}function eb(a){A(a,"ordering","bSort");A(a,"orderMulti","bSortMulti");A(a,"orderClasses","bSortClasses");A(a,"orderCellsTop","bSortCellsTop");A(a,"order","aaSorting");A(a,"orderFixed","aaSortingFixed");A(a,"paging","bPaginate");
A(a,"pagingType","sPaginationType");A(a,"pageLength","iDisplayLength");A(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&H(m.models.oSearch,a[b])}function fb(a){A(a,"orderable","bSortable");A(a,"orderData","aDataSort");A(a,"orderSequence","asSorting");A(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!h.isArray(b)&&(a.aDataSort=[b])}function gb(a){var a=a.oBrowser,b=h("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(h("<div/>").css({position:"absolute",
top:1,left:1,width:100,overflow:"scroll"}).append(h('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==Math.round(c.offset().left);b.remove()}function hb(a,b,c,e,d,f){var g,j=!1;c!==k&&(g=c,j=!0);for(;e!==d;)a.hasOwnProperty(e)&&(g=j?b(g,a[e],e,a):a[e],j=!0,e+=f);return g}function Fa(a,b){var c=m.defaults.column,e=a.aoColumns.length,c=h.extend({},m.models.oColumn,c,{nTh:b?b:Q.createElement("th"),sTitle:c.sTitle?
c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[e],mData:c.mData?c.mData:e,idx:e});a.aoColumns.push(c);c=a.aoPreSearchCols;c[e]=h.extend({},m.models.oSearch,c[e]);ka(a,e,h(b).data())}function ka(a,b,c){var b=a.aoColumns[b],e=a.oClasses,d=h(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=d.attr("width")||null;var f=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==k&&null!==c&&(fb(c),H(m.defaults.column,c),c.mDataProp!==k&&!c.mData&&(c.mData=c.mDataProp),c.sType&&
(b._sManualType=c.sType),c.className&&!c.sClass&&(c.sClass=c.className),h.extend(b,c),E(b,c,"sWidth","sWidthOrig"),c.iDataSort!==k&&(b.aDataSort=[c.iDataSort]),E(b,c,"aDataSort"));var g=b.mData,j=R(g),i=b.mRender?R(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=h.isPlainObject(g)&&(c(g.sort)||c(g.type)||c(g.filter));b.fnGetData=function(a,b,c){var e=j(a,b,k,c);return i&&b?i(e,b,a,c):e};b.fnSetData=function(a,b,c){return S(g)(a,b,c)};"number"!==typeof g&&
(a._rowReadObject=!0);a.oFeatures.bSort||(b.bSortable=!1,d.addClass(e.sSortableNone));a=-1!==h.inArray("asc",b.asSorting);c=-1!==h.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=e.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=e.sSortableAsc,b.sSortingClassJUI=e.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=e.sSortableDesc,b.sSortingClassJUI=e.sSortJUIDescAllowed):(b.sSortingClass=e.sSortable,b.sSortingClassJUI=e.sSortJUI)}function X(a){if(!1!==a.oFeatures.bAutoWidth){var b=
a.aoColumns;Ga(a);for(var c=0,e=b.length;c<e;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&Y(a);w(a,null,"column-sizing",[a])}function la(a,b){var c=Z(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function $(a,b){var c=Z(a,"bVisible"),c=h.inArray(b,c);return-1!==c?c:null}function aa(a){return Z(a,"bVisible").length}function Z(a,b){var c=[];h.map(a.aoColumns,function(a,d){a[b]&&c.push(d)});return c}function Ha(a){var b=a.aoColumns,c=a.aoData,e=m.ext.type.detect,d,
f,g,j,i,h,l,q,n;d=0;for(f=b.length;d<f;d++)if(l=b[d],n=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){g=0;for(j=e.length;g<j;g++){i=0;for(h=c.length;i<h;i++){n[i]===k&&(n[i]=x(a,i,d,"type"));q=e[g](n[i],a);if(!q&&g!==e.length-1)break;if("html"===q)break}if(q){l.sType=q;break}}l.sType||(l.sType="string")}}function ib(a,b,c,e){var d,f,g,j,i,o,l=a.aoColumns;if(b)for(d=b.length-1;0<=d;d--){o=b[d];var q=o.targets!==k?o.targets:o.aTargets;h.isArray(q)||(q=[q]);f=0;for(g=q.length;f<
g;f++)if("number"===typeof q[f]&&0<=q[f]){for(;l.length<=q[f];)Fa(a);e(q[f],o)}else if("number"===typeof q[f]&&0>q[f])e(l.length+q[f],o);else if("string"===typeof q[f]){j=0;for(i=l.length;j<i;j++)("_all"==q[f]||h(l[j].nTh).hasClass(q[f]))&&e(j,o)}}if(c){d=0;for(a=c.length;d<a;d++)e(d,c[d])}}function K(a,b,c,e){var d=a.aoData.length,f=h.extend(!0,{},m.models.oRow,{src:c?"dom":"data"});f._aData=b;a.aoData.push(f);for(var b=a.aoColumns,f=0,g=b.length;f<g;f++)c&&Ia(a,d,f,x(a,d,f)),b[f].sType=null;a.aiDisplayMaster.push(d);
(c||!a.oFeatures.bDeferRender)&&Ja(a,d,c,e);return d}function ma(a,b){var c;b instanceof h||(b=h(b));return b.map(function(b,d){c=na(a,d);return K(a,c.data,d,c.cells)})}function x(a,b,c,e){var d=a.iDraw,f=a.aoColumns[c],g=a.aoData[b]._aData,j=f.sDefaultContent,c=f.fnGetData(g,e,{settings:a,row:b,col:c});if(c===k)return a.iDrawError!=d&&null===j&&(I(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b,4),a.iDrawError=d),j;if((c===g||null===c)&&
null!==j)c=j;else if("function"===typeof c)return c.call(g);return null===c&&"display"==e?"":c}function Ia(a,b,c,e){a.aoColumns[c].fnSetData(a.aoData[b]._aData,e,{settings:a,row:b,col:c})}function Ka(a){return h.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function R(a){if(h.isPlainObject(a)){var b={};h.each(a,function(a,c){c&&(b[a]=R(c))});return function(a,c,f,g){var j=b[c]||b._;return j!==k?j(a,c,f,g):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,
c,f,g){return a(b,c,f,g)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var g,j;if(""!==f){j=Ka(f);for(var i=0,h=j.length;i<h;i++){f=j[i].match(ba);g=j[i].match(T);if(f){j[i]=j[i].replace(ba,"");""!==j[i]&&(a=a[j[i]]);g=[];j.splice(0,i+1);j=j.join(".");i=0;for(h=a.length;i<h;i++)g.push(c(a[i],b,j));a=f[0].substring(1,f[0].length-1);a=""===a?g:g.join(a);break}else if(g){j[i]=j[i].replace(T,"");a=a[j[i]]();continue}if(null===a||a[j[i]]===
k)return k;a=a[j[i]]}}return a};return function(b,d){return c(b,d,a)}}return function(b){return b[a]}}function S(a){if(h.isPlainObject(a))return S(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,e,d){a(b,"set",e,d)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,e,d){var d=Ka(d),f;f=d[d.length-1];for(var g,j,i=0,h=d.length-1;i<h;i++){g=d[i].match(ba);j=d[i].match(T);if(g){d[i]=d[i].replace(ba,"");a[d[i]]=[];
f=d.slice();f.splice(0,i+1);g=f.join(".");j=0;for(h=e.length;j<h;j++)f={},b(f,e[j],g),a[d[i]].push(f);return}j&&(d[i]=d[i].replace(T,""),a=a[d[i]](e));if(null===a[d[i]]||a[d[i]]===k)a[d[i]]={};a=a[d[i]]}if(f.match(T))a[f.replace(T,"")](e);else a[f.replace(ba,"")]=e};return function(c,e){return b(c,e,a)}}return function(b,e){b[a]=e}}function La(a){return D(a.aoData,"_aData")}function oa(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function pa(a,b,c){for(var e=-1,d=0,f=a.length;d<
f;d++)a[d]==b?e=d:a[d]>b&&a[d]--; -1!=e&&c===k&&a.splice(e,1)}function ca(a,b,c,e){var d=a.aoData[b],f,g=function(c,f){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=x(a,b,f,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===d.src)d._aData=na(a,d,e,e===k?k:d._aData).data;else{var j=d.anCells;if(j)if(e!==k)g(j[e],e);else{c=0;for(f=j.length;c<f;c++)g(j[c],c)}}d._aSortData=null;d._aFilterData=null;g=a.aoColumns;if(e!==k)g[e].sType=null;else{c=0;for(f=g.length;c<f;c++)g[c].sType=null;
Ma(d)}}function na(a,b,c,e){var d=[],f=b.firstChild,g,j=0,i,o=a.aoColumns,l=a._rowReadObject,e=e||l?{}:[],q=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),S(a)(e,b.getAttribute(c)))}},a=function(a){if(c===k||c===j)g=o[j],i=h.trim(a.innerHTML),g&&g._bAttrSrc?(S(g.mData._)(e,i),q(g.mData.sort,a),q(g.mData.type,a),q(g.mData.filter,a)):l?(g._setter||(g._setter=S(g.mData)),g._setter(e,i)):e[j]=i;j++};if(f)for(;f;){b=f.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(f),
d.push(f);f=f.nextSibling}else{d=b.anCells;f=0;for(b=d.length;f<b;f++)a(d[f])}return{data:e,cells:d}}function Ja(a,b,c,e){var d=a.aoData[b],f=d._aData,g=[],j,i,h,l,q;if(null===d.nTr){j=c||Q.createElement("tr");d.nTr=j;d.anCells=g;j._DT_RowIndex=b;Ma(d);l=0;for(q=a.aoColumns.length;l<q;l++){h=a.aoColumns[l];i=c?e[l]:Q.createElement(h.sCellType);g.push(i);if(!c||h.mRender||h.mData!==l)i.innerHTML=x(a,b,l,"display");h.sClass&&(i.className+=" "+h.sClass);h.bVisible&&!c?j.appendChild(i):!h.bVisible&&c&&
i.parentNode.removeChild(i);h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,i,x(a,b,l),f,b,l)}w(a,"aoRowCreatedCallback",null,[j,f,b])}d.nTr.setAttribute("role","row")}function Ma(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?Na(a.__rowc.concat(e)):e;h(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowAttr&&h(b).attr(c.DT_RowAttr);c.DT_RowData&&h(b).data(c.DT_RowData)}}function jb(a){var b,c,e,d,
f,g=a.nTHead,j=a.nTFoot,i=0===h("th, td",g).length,o=a.oClasses,l=a.aoColumns;i&&(d=h("<tr/>").appendTo(g));b=0;for(c=l.length;b<c;b++)f=l[b],e=h(f.nTh).addClass(f.sClass),i&&e.appendTo(d),a.oFeatures.bSort&&(e.addClass(f.sSortingClass),!1!==f.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Oa(a,f.nTh,b))),f.sTitle!=e.html()&&e.html(f.sTitle),Pa(a,"header")(a,e,f,o);i&&da(a.aoHeader,g);h(g).find(">tr").attr("role","row");h(g).find(">tr>th, >tr>td").addClass(o.sHeaderTH);
h(j).find(">tr>th, >tr>td").addClass(o.sFooterTH);if(null!==j){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=l[b],f.nTf=a[b].cell,f.sClass&&h(f.nTf).addClass(f.sClass)}}function ea(a,b,c){var e,d,f,g=[],j=[],i=a.aoColumns.length,o;if(b){c===k&&(c=!1);e=0;for(d=b.length;e<d;e++){g[e]=b[e].slice();g[e].nTr=b[e].nTr;for(f=i-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&g[e].splice(f,1);j.push([])}e=0;for(d=g.length;e<d;e++){if(a=g[e].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=g[e].length;f<b;f++)if(o=
i=1,j[e][f]===k){a.appendChild(g[e][f].cell);for(j[e][f]=1;g[e+i]!==k&&g[e][f].cell==g[e+i][f].cell;)j[e+i][f]=1,i++;for(;g[e][f+o]!==k&&g[e][f].cell==g[e][f+o].cell;){for(c=0;c<i;c++)j[e+c][f+o]=1;o++}h(g[e][f].cell).attr("rowspan",i).attr("colspan",o)}}}}function M(a){var b=w(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b))C(a,!1);else{var b=[],c=0,e=a.asStripeClasses,d=e.length,f=a.oLanguage,g=a.iInitDisplayStart,j="ssp"==B(a),i=a.aiDisplay;a.bDrawing=!0;g!==k&&-1!==g&&(a._iDisplayStart=
j?g:g>=a.fnRecordsDisplay()?0:g,a.iInitDisplayStart=-1);var g=a._iDisplayStart,o=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,C(a,!1);else if(j){if(!a.bDestroying&&!kb(a))return}else a.iDraw++;if(0!==i.length){f=j?a.aoData.length:o;for(j=j?0:g;j<f;j++){var l=i[j],q=a.aoData[l];null===q.nTr&&Ja(a,l);l=q.nTr;if(0!==d){var n=e[c%d];q._sRowStripe!=n&&(h(l).removeClass(q._sRowStripe).addClass(n),q._sRowStripe=n)}w(a,"aoRowCallback",null,[l,q._aData,c,j]);b.push(l);c++}}else c=f.sZeroRecords,
1==a.iDraw&&"ajax"==B(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=h("<tr/>",{"class":d?e[0]:""}).append(h("<td />",{valign:"top",colSpan:aa(a),"class":a.oClasses.sRowEmpty}).html(c))[0];w(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],La(a),g,o,i]);w(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],La(a),g,o,i]);e=h(a.nTBody);e.children().detach();e.append(h(b));w(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=
!1}}function N(a,b){var c=a.oFeatures,e=c.bFilter;c.bSort&&lb(a);e?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();!0!==b&&(a._iDisplayStart=0);a._drawHold=b;M(a);a._drawHold=!1}function mb(a){var b=a.oClasses,c=h(a.nTable),c=h("<div/>").insertBefore(c),e=a.oFeatures,d=h("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=d[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),g,j,i,o,l,q,n=0;n<f.length;n++){g=
null;j=f[n];if("<"==j){i=h("<div/>")[0];o=f[n+1];if("'"==o||'"'==o){l="";for(q=2;f[n+q]!=o;)l+=f[n+q],q++;"H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter);-1!=l.indexOf(".")?(o=l.split("."),i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==l.charAt(0)?i.id=l.substr(1,l.length-1):i.className=l;n+=q}d.append(i);d=h(i)}else if(">"==j)d=d.parent();else if("l"==j&&e.bPaginate&&e.bLengthChange)g=nb(a);else if("f"==j&&e.bFilter)g=ob(a);else if("r"==j&&e.bProcessing)g=pb(a);else if("t"==j)g=qb(a);else if("i"==
j&&e.bInfo)g=rb(a);else if("p"==j&&e.bPaginate)g=sb(a);else if(0!==m.ext.feature.length){i=m.ext.feature;q=0;for(o=i.length;q<o;q++)if(j==i[q].cFeature){g=i[q].fnInit(a);break}}g&&(i=a.aanFeatures,i[j]||(i[j]=[]),i[j].push(g),d.append(g))}c.replaceWith(d)}function da(a,b){var c=h(b).children("tr"),e,d,f,g,j,i,o,l,q,n;a.splice(0,a.length);f=0;for(i=c.length;f<i;f++)a.push([]);f=0;for(i=c.length;f<i;f++){e=c[f];for(d=e.firstChild;d;){if("TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){l=
1*d.getAttribute("colspan");q=1*d.getAttribute("rowspan");l=!l||0===l||1===l?1:l;q=!q||0===q||1===q?1:q;g=0;for(j=a[f];j[g];)g++;o=g;n=1===l?!0:!1;for(j=0;j<l;j++)for(g=0;g<q;g++)a[f+g][o+j]={cell:d,unique:n},a[f+g].nTr=e}d=d.nextSibling}}}function qa(a,b,c){var e=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,d=c.length;b<d;b++)for(var f=0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!e[f]||!a.bSortCellsTop))e[f]=c[b][f].cell;return e}function ra(a,b,c){w(a,"aoServerParams","serverParams",[b]);
if(b&&h.isArray(b)){var e={},d=/(.*?)\[\]$/;h.each(b,function(a,b){var c=b.name.match(d);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):e[b.name]=b.value});b=e}var f,g=a.ajax,j=a.oInstance,i=function(b){w(a,null,"xhr",[a,b,a.jqXHR]);c(b)};if(h.isPlainObject(g)&&g.data){f=g.data;var o=h.isFunction(f)?f(b,a):f,b=h.isFunction(f)&&o?o:h.extend(!0,b,o);delete g.data}o={data:b,success:function(b){var c=b.error||b.sError;c&&I(a,0,c);a.json=b;i(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,
c){var f=w(a,null,"xhr",[a,null,a.jqXHR]);-1===h.inArray(!0,f)&&("parsererror"==c?I(a,0,"Invalid JSON response",1):4===b.readyState&&I(a,0,"Ajax error",7));C(a,!1)}};a.oAjaxData=b;w(a,null,"preXhr",[a,b]);a.fnServerData?a.fnServerData.call(j,a.sAjaxSource,h.map(b,function(a,b){return{name:b,value:a}}),i,a):a.sAjaxSource||"string"===typeof g?a.jqXHR=h.ajax(h.extend(o,{url:g||a.sAjaxSource})):h.isFunction(g)?a.jqXHR=g.call(j,b,i,a):(a.jqXHR=h.ajax(h.extend(o,g)),g.data=f)}function kb(a){return a.bAjaxDataGet?
(a.iDraw++,C(a,!0),ra(a,tb(a),function(b){ub(a,b)}),!1):!0}function tb(a){var b=a.aoColumns,c=b.length,e=a.oFeatures,d=a.oPreviousSearch,f=a.aoPreSearchCols,g,j=[],i,o,l,q=U(a);g=a._iDisplayStart;i=!1!==e.bPaginate?a._iDisplayLength:-1;var n=function(a,b){j.push({name:a,value:b})};n("sEcho",a.iDraw);n("iColumns",c);n("sColumns",D(b,"sName").join(","));n("iDisplayStart",g);n("iDisplayLength",i);var k={draw:a.iDraw,columns:[],order:[],start:g,length:i,search:{value:d.sSearch,regex:d.bRegex}};for(g=
0;g<c;g++)o=b[g],l=f[g],i="function"==typeof o.mData?"function":o.mData,k.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:l.sSearch,regex:l.bRegex}}),n("mDataProp_"+g,i),e.bFilter&&(n("sSearch_"+g,l.sSearch),n("bRegex_"+g,l.bRegex),n("bSearchable_"+g,o.bSearchable)),e.bSort&&n("bSortable_"+g,o.bSortable);e.bFilter&&(n("sSearch",d.sSearch),n("bRegex",d.bRegex));e.bSort&&(h.each(q,function(a,b){k.order.push({column:b.col,dir:b.dir});n("iSortCol_"+a,b.col);
n("sSortDir_"+a,b.dir)}),n("iSortingCols",q.length));b=m.ext.legacy.ajax;return null===b?a.sAjaxSource?j:k:b?j:k}function ub(a,b){var c=sa(a,b),e=b.sEcho!==k?b.sEcho:b.draw,d=b.iTotalRecords!==k?b.iTotalRecords:b.recordsTotal,f=b.iTotalDisplayRecords!==k?b.iTotalDisplayRecords:b.recordsFiltered;if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}oa(a);a._iRecordsTotal=parseInt(d,10);a._iRecordsDisplay=parseInt(f,10);e=0;for(d=c.length;e<d;e++)K(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;
M(a);a._bInitComplete||ta(a,b);a.bAjaxDataGet=!0;C(a,!1)}function sa(a,b){var c=h.isPlainObject(a.ajax)&&a.ajax.dataSrc!==k?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?R(c)(b):b}function ob(a){var b=a.oClasses,c=a.sTableId,e=a.oLanguage,d=a.oPreviousSearch,f=a.aanFeatures,g='<input type="search" class="'+b.sFilterInput+'"/>',j=e.sSearch,j=j.match(/_INPUT_/)?j.replace("_INPUT_",g):j+g,b=h("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(h("<label/>").append(j)),
f=function(){var b=!this.value?"":this.value;b!=d.sSearch&&(fa(a,{sSearch:b,bRegex:d.bRegex,bSmart:d.bSmart,bCaseInsensitive:d.bCaseInsensitive}),a._iDisplayStart=0,M(a))},g=null!==a.searchDelay?a.searchDelay:"ssp"===B(a)?400:0,i=h("input",b).val(d.sSearch).attr("placeholder",e.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",g?ua(f,g):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);h(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{i[0]!==
Q.activeElement&&i.val(d.sSearch)}catch(f){}});return b[0]}function fa(a,b,c){var e=a.oPreviousSearch,d=a.aoPreSearchCols,f=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=a.bCaseInsensitive};Ha(a);if("ssp"!=B(a)){vb(a,b.sSearch,c,b.bEscapeRegex!==k?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<d.length;b++)wb(a,d[b].sSearch,b,d[b].bEscapeRegex!==k?!d[b].bEscapeRegex:d[b].bRegex,d[b].bSmart,d[b].bCaseInsensitive);xb(a)}else f(b);a.bFiltered=
!0;w(a,null,"search",[a])}function xb(a){for(var b=m.ext.search,c=a.aiDisplay,e,d,f=0,g=b.length;f<g;f++){for(var j=[],i=0,h=c.length;i<h;i++)d=c[i],e=a.aoData[d],b[f](a,e._aFilterData,d,e._aData,i)&&j.push(d);c.length=0;c.push.apply(c,j)}}function wb(a,b,c,e,d,f){if(""!==b)for(var g=a.aiDisplay,e=Qa(b,e,d,f),d=g.length-1;0<=d;d--)b=a.aoData[g[d]]._aFilterData[c],e.test(b)||g.splice(d,1)}function vb(a,b,c,e,d,f){var e=Qa(b,e,d,f),d=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,g;0!==m.ext.search.length&&
(c=!0);g=yb(a);if(0>=b.length)a.aiDisplay=f.slice();else{if(g||c||d.length>b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)e.test(a.aoData[b[c]]._sFilterRow)||b.splice(c,1)}}function Qa(a,b,c,e){a=b?a:va(a);c&&(a="^(?=.*?"+h.map(a.match(/"[^"]+"|[^ ]+/g)||[""],function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,e?"i":"")}function va(a){return a.replace(Yb,"\\$1")}
function yb(a){var b=a.aoColumns,c,e,d,f,g,j,i,h,l=m.ext.type.search;c=!1;e=0;for(f=a.aoData.length;e<f;e++)if(h=a.aoData[e],!h._aFilterData){j=[];d=0;for(g=b.length;d<g;d++)c=b[d],c.bSearchable?(i=x(a,e,d,"filter"),l[c.sType]&&(i=l[c.sType](i)),null===i&&(i=""),"string"!==typeof i&&i.toString&&(i=i.toString())):i="",i.indexOf&&-1!==i.indexOf("&")&&(wa.innerHTML=i,i=Zb?wa.textContent:wa.innerText),i.replace&&(i=i.replace(/[\r\n]/g,"")),j.push(i);h._aFilterData=j;h._sFilterRow=j.join("  ");c=!0}return c}
function zb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function Ab(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function rb(a){var b=a.sTableId,c=a.aanFeatures.i,e=h("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Bb,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),h(a.nTable).attr("aria-describedby",b+"_info"));return e[0]}function Bb(a){var b=
a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+1,d=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),j=g?c.sInfo:c.sInfoEmpty;g!==f&&(j+=" "+c.sInfoFiltered);j+=c.sInfoPostFix;j=Cb(a,j);c=c.fnInfoCallback;null!==c&&(j=c.call(a.oInstance,a,e,d,f,g,j));h(b).html(j)}}function Cb(a,b){var c=a.fnFormatNumber,e=a._iDisplayStart+1,d=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===d;return b.replace(/_START_/g,c.call(a,e)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,
c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(e/d))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/d)))}function ga(a){var b,c,e=a.iInitDisplayStart,d=a.aoColumns,f;c=a.oFeatures;if(a.bInitialised){mb(a);jb(a);ea(a,a.aoHeader);ea(a,a.aoFooter);C(a,!0);c.bAutoWidth&&Ga(a);b=0;for(c=d.length;b<c;b++)f=d[b],f.sWidth&&(f.nTh.style.width=s(f.sWidth));N(a);d=B(a);"ssp"!=d&&("ajax"==d?ra(a,[],function(c){var f=sa(a,c);for(b=0;b<f.length;b++)K(a,f[b]);
a.iInitDisplayStart=e;N(a);C(a,!1);ta(a,c)},a):(C(a,!1),ta(a)))}else setTimeout(function(){ga(a)},200)}function ta(a,b){a._bInitComplete=!0;b&&X(a);w(a,"aoInitComplete","init",[a,b])}function Ra(a,b){var c=parseInt(b,10);a._iDisplayLength=c;Sa(a);w(a,null,"length",[a,c])}function nb(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,d=h.isArray(e[0]),f=d?e[0]:e,e=d?e[1]:e,d=h("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),g=0,j=f.length;g<j;g++)d[0][g]=new Option(e[g],
f[g]);var i=h("<div><label/></div>").addClass(b.sLength);a.aanFeatures.l||(i[0].id=c+"_length");i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",d[0].outerHTML));h("select",i).val(a._iDisplayLength).bind("change.DT",function(){Ra(a,h(this).val());M(a)});h(a.nTable).bind("length.dt.DT",function(b,c,f){a===c&&h("select",i).val(f)});return i[0]}function sb(a){var b=a.sPaginationType,c=m.ext.pager[b],e="function"===typeof c,d=function(a){M(a)},b=h("<div/>").addClass(a.oClasses.sPaging+b)[0],
f=a.aanFeatures;e||c.fnInit(a,b,d);f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b=a._iDisplayStart,i=a._iDisplayLength,h=a.fnRecordsDisplay(),l=-1===i,b=l?0:Math.ceil(b/i),i=l?1:Math.ceil(h/i),h=c(b,i),q,l=0;for(q=f.p.length;l<q;l++)Pa(a,"pageButton")(a,f.p[l],l,h,b,i)}else c.fnUpdate(a,d)},sName:"pagination"}));return b}function Ta(a,b,c){var e=a._iDisplayStart,d=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===d?e=0:"number"===typeof b?(e=b*d,e>f&&(e=0)):
"first"==b?e=0:"previous"==b?(e=0<=d?e-d:0,0>e&&(e=0)):"next"==b?e+d<f&&(e+=d):"last"==b?e=Math.floor((f-1)/d)*d:I(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==e;a._iDisplayStart=e;b&&(w(a,null,"page",[a]),c&&M(a));return b}function pb(a){return h("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function C(a,b){a.oFeatures.bProcessing&&h(a.aanFeatures.r).css("display",b?"block":"none");w(a,
null,"processing",[a,b])}function qb(a){var b=h(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,d=c.sY,f=a.oClasses,g=b.children("caption"),j=g.length?g[0]._captionSide:null,i=h(b[0].cloneNode(!1)),o=h(b[0].cloneNode(!1)),l=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");l.length||(l=null);c=h("<div/>",{"class":f.sScrollWrapper}).append(h("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,
width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(i.removeAttr("id").css("margin-left",0).append("top"===j?g:null).append(b.children("thead"))))).append(h("<div/>",{"class":f.sScrollBody}).css({overflow:"auto",height:!d?null:s(d),width:!e?null:s(e)}).append(b));l&&c.append(h("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:e?!e?null:s(e):"100%"}).append(h("<div/>",{"class":f.sScrollFootInner}).append(o.removeAttr("id").css("margin-left",
0).append("bottom"===j?g:null).append(b.children("tfoot")))));var b=c.children(),q=b[0],f=b[1],n=l?b[2]:null;if(e)h(f).on("scroll.DT",function(){var a=this.scrollLeft;q.scrollLeft=a;l&&(n.scrollLeft=a)});a.nScrollHead=q;a.nScrollBody=f;a.nScrollFoot=n;a.aoDrawCallback.push({fn:Y,sName:"scrolling"});return c[0]}function Y(a){var b=a.oScroll,c=b.sX,e=b.sXInner,d=b.sY,f=b.iBarWidth,g=h(a.nScrollHead),j=g[0].style,i=g.children("div"),o=i[0].style,l=i.children("table"),i=a.nScrollBody,q=h(i),n=i.style,
k=h(a.nScrollFoot).children("div"),p=k.children("table"),m=h(a.nTHead),r=h(a.nTable),t=r[0],O=t.style,L=a.nTFoot?h(a.nTFoot):null,ha=a.oBrowser,w=ha.bScrollOversize,v,u,y,x,z,A=[],B=[],C=[],D,E=function(a){a=a.style;a.paddingTop="0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};r.children("thead, tfoot").remove();z=m.clone().prependTo(r);v=m.find("tr");y=z.find("tr");z.find("th, td").removeAttr("tabindex");L&&(x=L.clone().prependTo(r),u=L.find("tr"),x=x.find("tr"));
c||(n.width="100%",g[0].style.width="100%");h.each(qa(a,z),function(b,c){D=la(a,b);c.style.width=a.aoColumns[D].sWidth});L&&G(function(a){a.style.width=""},x);b.bCollapse&&""!==d&&(n.height=q[0].offsetHeight+m[0].offsetHeight+"px");g=r.outerWidth();if(""===c){if(O.width="100%",w&&(r.find("tbody").height()>i.offsetHeight||"scroll"==q.css("overflow-y")))O.width=s(r.outerWidth()-f)}else""!==e?O.width=s(e):g==q.width()&&q.height()<r.height()?(O.width=s(g-f),r.outerWidth()>g-f&&(O.width=s(g))):O.width=
s(g);g=r.outerWidth();G(E,y);G(function(a){C.push(a.innerHTML);A.push(s(h(a).css("width")))},y);G(function(a,b){a.style.width=A[b]},v);h(y).height(0);L&&(G(E,x),G(function(a){B.push(s(h(a).css("width")))},x),G(function(a,b){a.style.width=B[b]},u),h(x).height(0));G(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>";a.style.width=A[b]},y);L&&G(function(a,b){a.innerHTML="";a.style.width=B[b]},x);if(r.outerWidth()<g){u=i.scrollHeight>i.offsetHeight||
"scroll"==q.css("overflow-y")?g+f:g;if(w&&(i.scrollHeight>i.offsetHeight||"scroll"==q.css("overflow-y")))O.width=s(u-f);(""===c||""!==e)&&I(a,1,"Possible column misalignment",6)}else u="100%";n.width=s(u);j.width=s(u);L&&(a.nScrollFoot.style.width=s(u));!d&&w&&(n.height=s(t.offsetHeight+f));d&&b.bCollapse&&(n.height=s(d),b=c&&t.offsetWidth>i.offsetWidth?f:0,t.offsetHeight<i.offsetHeight&&(n.height=s(t.offsetHeight+b)));b=r.outerWidth();l[0].style.width=s(b);o.width=s(b);l=r.height()>i.clientHeight||
"scroll"==q.css("overflow-y");ha="padding"+(ha.bScrollbarLeft?"Left":"Right");o[ha]=l?f+"px":"0px";L&&(p[0].style.width=s(b),k[0].style.width=s(b),k[0].style[ha]=l?f+"px":"0px");q.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)i.scrollTop=0}function G(a,b,c){for(var e=0,d=0,f=b.length,g,j;d<f;){g=b[d].firstChild;for(j=c?c[d].firstChild:null;g;)1===g.nodeType&&(c?a(g,j,e):a(g,e),e++),g=g.nextSibling,j=c?j.nextSibling:null;d++}}function Ga(a){var b=a.nTable,c=a.aoColumns,e=a.oScroll,d=e.sY,f=e.sX,
g=e.sXInner,j=c.length,e=Z(a,"bVisible"),i=h("th",a.nTHead),o=b.getAttribute("width"),l=b.parentNode,k=!1,n,m;(n=b.style.width)&&-1!==n.indexOf("%")&&(o=n);for(n=0;n<e.length;n++)m=c[e[n]],null!==m.sWidth&&(m.sWidth=Db(m.sWidthOrig,l),k=!0);if(!k&&!f&&!d&&j==aa(a)&&j==i.length)for(n=0;n<j;n++)c[n].sWidth=s(i.eq(n).width());else{j=h(b).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var p=h("<tr/>").appendTo(j.find("tbody"));j.find("tfoot th, tfoot td").css("width",
"");i=qa(a,j.find("thead")[0]);for(n=0;n<e.length;n++)m=c[e[n]],i[n].style.width=null!==m.sWidthOrig&&""!==m.sWidthOrig?s(m.sWidthOrig):"";if(a.aoData.length)for(n=0;n<e.length;n++)k=e[n],m=c[k],h(Eb(a,k)).clone(!1).append(m.sContentPadding).appendTo(p);j.appendTo(l);f&&g?j.width(g):f?(j.css("width","auto"),j.width()<l.offsetWidth&&j.width(l.offsetWidth)):d?j.width(l.offsetWidth):o&&j.width(o);Fb(a,j[0]);if(f){for(n=g=0;n<e.length;n++)m=c[e[n]],d=h(i[n]).outerWidth(),g+=null===m.sWidthOrig?d:parseInt(m.sWidth,
10)+d-h(i[n]).width();j.width(s(g));b.style.width=s(g)}for(n=0;n<e.length;n++)if(m=c[e[n]],d=h(i[n]).width())m.sWidth=s(d);b.style.width=s(j.css("width"));j.remove()}o&&(b.style.width=s(o));if((o||f)&&!a._reszEvt)b=function(){h(Ea).bind("resize.DT-"+a.sInstance,ua(function(){X(a)}))},a.oBrowser.bScrollOversize?setTimeout(b,1E3):b(),a._reszEvt=!0}function ua(a,b){var c=b!==k?b:200,e,d;return function(){var b=this,g=+new Date,j=arguments;e&&g<e+c?(clearTimeout(d),d=setTimeout(function(){e=k;a.apply(b,
j)},c)):(e=g,a.apply(b,j))}}function Db(a,b){if(!a)return 0;var c=h("<div/>").css("width",s(a)).appendTo(b||Q.body),e=c[0].offsetWidth;c.remove();return e}function Fb(a,b){var c=a.oScroll;if(c.sX||c.sY)c=!c.sX?c.iBarWidth:0,b.style.width=s(h(b).outerWidth()-c)}function Eb(a,b){var c=Gb(a,b);if(0>c)return null;var e=a.aoData[c];return!e.nTr?h("<td/>").html(x(a,c,b,"display"))[0]:e.anCells[b]}function Gb(a,b){for(var c,e=-1,d=-1,f=0,g=a.aoData.length;f<g;f++)c=x(a,f,b,"display")+"",c=c.replace($b,""),
c.length>e&&(e=c.length,d=f);return d}function s(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function Hb(){var a=m.__scrollbarWidth;if(a===k){var b=h("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body"),a=b[0].offsetWidth-b[0].clientWidth;m.__scrollbarWidth=a;b.remove()}return a}function U(a){var b,c,e=[],d=a.aoColumns,f,g,j,i;b=a.aaSortingFixed;c=h.isPlainObject(b);var o=[];
f=function(a){a.length&&!h.isArray(a[0])?o.push(a):o.push.apply(o,a)};h.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<o.length;a++){i=o[a][0];f=d[i].aDataSort;b=0;for(c=f.length;b<c;b++)g=f[b],j=d[g].sType||"string",o[a]._idx===k&&(o[a]._idx=h.inArray(o[a][1],d[g].asSorting)),e.push({src:i,col:g,dir:o[a][1],index:o[a]._idx,type:j,formatter:m.ext.type.order[j+"-pre"]})}return e}function lb(a){var b,c,e=[],d=m.ext.type.order,f=a.aoData,g=0,j,i=a.aiDisplayMaster,h;
Ha(a);h=U(a);b=0;for(c=h.length;b<c;b++)j=h[b],j.formatter&&g++,Ib(a,j.col);if("ssp"!=B(a)&&0!==h.length){b=0;for(c=i.length;b<c;b++)e[i[b]]=b;g===h.length?i.sort(function(a,b){var c,d,g,j,i=h.length,k=f[a]._aSortData,m=f[b]._aSortData;for(g=0;g<i;g++)if(j=h[g],c=k[j.col],d=m[j.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===j.dir?c:-c;c=e[a];d=e[b];return c<d?-1:c>d?1:0}):i.sort(function(a,b){var c,g,j,i,k=h.length,m=f[a]._aSortData,r=f[b]._aSortData;for(j=0;j<k;j++)if(i=h[j],c=m[i.col],g=r[i.col],i=d[i.type+
"-"+i.dir]||d["string-"+i.dir],c=i(c,g),0!==c)return c;c=e[a];g=e[b];return c<g?-1:c>g?1:0})}a.bSorted=!0}function Jb(a){for(var b,c,e=a.aoColumns,d=U(a),a=a.oLanguage.oAria,f=0,g=e.length;f<g;f++){c=e[f];var j=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var i=c.nTh;i.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==f?(i.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=j[d[0].index+1]||j[0]):c=j[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);i.setAttribute("aria-label",
b)}}function Ua(a,b,c,e){var d=a.aaSorting,f=a.aoColumns[b].asSorting,g=function(a,b){var c=a._idx;c===k&&(c=h.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof d[0]&&(d=a.aaSorting=[d]);c&&a.oFeatures.bSortMulti?(c=h.inArray(b,D(d,"0")),-1!==c?(b=g(d[c],!0),null===b&&1===d.length&&(b=0),null===b?d.splice(c,1):(d[c][1]=f[b],d[c]._idx=b)):(d.push([b,f[0],0]),d[d.length-1]._idx=0)):d.length&&d[0][0]==b?(b=g(d[0]),d.length=1,d[0][1]=f[b],d[0]._idx=b):(d.length=0,d.push([b,f[0]]),d[0]._idx=
0);N(a);"function"==typeof e&&e(a)}function Oa(a,b,c,e){var d=a.aoColumns[c];Va(b,{},function(b){!1!==d.bSortable&&(a.oFeatures.bProcessing?(C(a,!0),setTimeout(function(){Ua(a,c,b.shiftKey,e);"ssp"!==B(a)&&C(a,!1)},0)):Ua(a,c,b.shiftKey,e))})}function xa(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,e=U(a),d=a.oFeatures,f,g;if(d.bSort&&d.bSortClasses){d=0;for(f=b.length;d<f;d++)g=b[d].src,h(D(a.aoData,"anCells",g)).removeClass(c+(2>d?d+1:3));d=0;for(f=e.length;d<f;d++)g=e[d].src,h(D(a.aoData,"anCells",
g)).addClass(c+(2>d?d+1:3))}a.aLastSort=e}function Ib(a,b){var c=a.aoColumns[b],e=m.ext.order[c.sSortDataType],d;e&&(d=e.call(a.oInstance,a,b,$(a,b)));for(var f,g=m.ext.type.order[c.sType+"-pre"],j=0,i=a.aoData.length;j<i;j++)if(c=a.aoData[j],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||e)f=e?d[j]:x(a,j,b,"sort"),c._aSortData[b]=g?g(f):f}function ya(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:h.extend(!0,[],a.aaSorting),
search:zb(a.oPreviousSearch),columns:h.map(a.aoColumns,function(b,e){return{visible:b.bVisible,search:zb(a.aoPreSearchCols[e])}})};w(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Kb(a){var b,c,e=a.aoColumns;if(a.oFeatures.bStateSave){var d=a.fnStateLoadCallback.call(a.oInstance,a);if(d&&d.time&&(b=w(a,"aoStateLoadParams","stateLoadParams",[a,d]),-1===h.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&d.time<+new Date-1E3*b)&&e.length===
d.columns.length))){a.oLoadedState=h.extend(!0,{},d);d.start!==k&&(a._iDisplayStart=d.start,a.iInitDisplayStart=d.start);d.length!==k&&(a._iDisplayLength=d.length);d.order!==k&&(a.aaSorting=[],h.each(d.order,function(b,c){a.aaSorting.push(c[0]>=e.length?[0,c[1]]:c)}));d.search!==k&&h.extend(a.oPreviousSearch,Ab(d.search));b=0;for(c=d.columns.length;b<c;b++){var f=d.columns[b];f.visible!==k&&(e[b].bVisible=f.visible);f.search!==k&&h.extend(a.aoPreSearchCols[b],Ab(f.search))}w(a,"aoStateLoaded","stateLoaded",
[a,d])}}}function za(a){var b=m.settings,a=h.inArray(a,D(b,"nTable"));return-1!==a?b[a]:null}function I(a,b,c,e){c="DataTables warning: "+(null!==a?"table id="+a.sTableId+" - ":"")+c;e&&(c+=". For more information about this error, please see http://datatables.net/tn/"+e);if(b)Ea.console&&console.log&&console.log(c);else if(b=m.ext,b=b.sErrMode||b.errMode,w(a,null,"error",[a,e,c]),"alert"==b)alert(c);else{if("throw"==b)throw Error(c);"function"==typeof b&&b(a,e,c)}}function E(a,b,c,e){h.isArray(c)?
h.each(c,function(c,f){h.isArray(f)?E(a,b,f[0],f[1]):E(a,b,f)}):(e===k&&(e=c),b[c]!==k&&(a[e]=b[c]))}function Lb(a,b,c){var e,d;for(d in b)b.hasOwnProperty(d)&&(e=b[d],h.isPlainObject(e)?(h.isPlainObject(a[d])||(a[d]={}),h.extend(!0,a[d],e)):a[d]=c&&"data"!==d&&"aaData"!==d&&h.isArray(e)?e.slice():e);return a}function Va(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function z(a,
b,c,e){c&&a[b].push({fn:c,sName:e})}function w(a,b,c,e){var d=[];b&&(d=h.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,e)}));null!==c&&(b=h.Event(c+".dt"),h(a.nTable).trigger(b,e),d.push(b.result));return d}function Sa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),e=a._iDisplayLength;b>=c&&(b=c-e);b-=b%e;if(-1===e||0>b)b=0;a._iDisplayStart=b}function Pa(a,b){var c=a.renderer,e=m.ext.renderer[b];return h.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"===typeof c?e[c]||e._:e._}function B(a){return a.oFeatures.bServerSide?
"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Wa(a,b){var c=[],c=Mb.numbers_length,e=Math.floor(c/2);b<=c?c=V(0,b):a<=e?(c=V(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-e?c=V(b-(c-2),b):(c=V(a-e+2,a+e-1),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function db(a){h.each({num:function(b){return Aa(b,a)},"num-fmt":function(b){return Aa(b,a,Xa)},"html-num":function(b){return Aa(b,a,Ba)},"html-num-fmt":function(b){return Aa(b,a,Ba,Xa)}},function(b,
c){u.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(u.type.search[b+a]=u.type.search.html)})}function Nb(a){return function(){var b=[za(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.internal[a].apply(this,b)}}var m,u,t,r,v,Ya={},Ob=/[\r\n]/g,Ba=/<.*?>/g,ac=/^[\w\+\-]/,bc=/[\w\+\-]$/,Yb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Xa=/[',$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,J=function(a){return!a||!0===a||
"-"===a?!0:!1},Pb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Qb=function(a,b){Ya[b]||(Ya[b]=RegExp(va(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Ya[b],"."):a},Za=function(a,b,c){var e="string"===typeof a;if(J(a))return!0;b&&e&&(a=Qb(a,b));c&&e&&(a=a.replace(Xa,""));return!isNaN(parseFloat(a))&&isFinite(a)},Rb=function(a,b,c){return J(a)?!0:!(J(a)||"string"===typeof a)?null:Za(a.replace(Ba,""),b,c)?!0:null},D=function(a,b,c){var e=[],d=0,f=a.length;
if(c!==k)for(;d<f;d++)a[d]&&a[d][b]&&e.push(a[d][b][c]);else for(;d<f;d++)a[d]&&e.push(a[d][b]);return e},ia=function(a,b,c,e){var d=[],f=0,g=b.length;if(e!==k)for(;f<g;f++)a[b[f]][c]&&d.push(a[b[f]][c][e]);else for(;f<g;f++)d.push(a[b[f]][c]);return d},V=function(a,b){var c=[],e;b===k?(b=0,e=a):(e=b,b=a);for(var d=b;d<e;d++)c.push(d);return c},Sb=function(a){for(var b=[],c=0,e=a.length;c<e;c++)a[c]&&b.push(a[c]);return b},Na=function(a){var b=[],c,e,d=a.length,f,g=0;e=0;a:for(;e<d;e++){c=a[e];for(f=
0;f<g;f++)if(b[f]===c)continue a;b.push(c);g++}return b},A=function(a,b,c){a[b]!==k&&(a[c]=a[b])},ba=/\[.*?\]$/,T=/\(\)$/,wa=h("<div>")[0],Zb=wa.textContent!==k,$b=/<.*?>/g;m=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new t(za(this[u.iApiIndex])):new t(this)};this.fnAddData=function(a,b){var c=this.api(!0),e=h.isArray(a)&&(h.isArray(a[0])||h.isPlainObject(a[0]))?c.rows.add(a):c.row.add(a);(b===
k||b)&&c.draw();return e.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===k||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&Y(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===k||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),d=a.settings()[0],h=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,h);(c===k||c)&&e.draw();return h};
this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(a)};this.fnFilter=function(a,b,c,e,d,h){d=this.api(!0);null===b||b===k?d.search(a,c,e,h):d.column(b).search(a,c,e,h);d.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==k){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==k||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);return a!==k?b.row(a).node():b.rows().nodes().flatten().toArray()};
this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===k||b)&&c.draw(!1)};this.fnSetColumnVis=function(a,b,c){a=this.api(!0).column(a).visible(b);(c===
k||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return za(this[u.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,e,d){var h=this.api(!0);c===k||null===c?h.row(b).data(a):h.cell(b,c).data(a);(d===k||d)&&h.columns.adjust();(e===k||e)&&h.draw();return 0};this.fnVersionCheck=u.fnVersionCheck;var b=this,c=a===k,e=this.length;c&&(a={});this.oApi=this.internal=u.internal;for(var d in m.ext.internal)d&&
(this[d]=Nb(d));this.each(function(){var d={},d=1<e?Lb(d,a,!0):a,g=0,j,i=this.getAttribute("id"),o=!1,l=m.defaults,q=h(this);if("table"!=this.nodeName.toLowerCase())I(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{eb(l);fb(l.column);H(l,l,!0);H(l.column,l.column,!0);H(l,h.extend(d,q.data()));var n=m.settings,g=0;for(j=n.length;g<j;g++){var r=n[g];if(r.nTable==this||r.nTHead.parentNode==this||r.nTFoot&&r.nTFoot.parentNode==this){g=d.bRetrieve!==k?d.bRetrieve:l.bRetrieve;if(c||g)return r.oInstance;
if(d.bDestroy!==k?d.bDestroy:l.bDestroy){r.oInstance.fnDestroy();break}else{I(r,0,"Cannot reinitialise DataTable",3);return}}if(r.sTableId==this.id){n.splice(g,1);break}}if(null===i||""===i)this.id=i="DataTables_Table_"+m.ext._unique++;var p=h.extend(!0,{},m.models.oSettings,{sDestroyWidth:q[0].style.width,sInstance:i,sTableId:i});p.nTable=this;p.oApi=b.internal;p.oInit=d;n.push(p);p.oInstance=1===b.length?b:q.dataTable();eb(d);d.oLanguage&&P(d.oLanguage);d.aLengthMenu&&!d.iDisplayLength&&(d.iDisplayLength=
h.isArray(d.aLengthMenu[0])?d.aLengthMenu[0][0]:d.aLengthMenu[0]);d=Lb(h.extend(!0,{},l),d);E(p.oFeatures,d,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));E(p,d,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback",
"renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);E(p.oScroll,d,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);E(p.oLanguage,d,"fnInfoCallback");z(p,"aoDrawCallback",d.fnDrawCallback,"user");z(p,"aoServerParams",d.fnServerParams,"user");z(p,"aoStateSaveParams",d.fnStateSaveParams,"user");z(p,"aoStateLoadParams",
d.fnStateLoadParams,"user");z(p,"aoStateLoaded",d.fnStateLoaded,"user");z(p,"aoRowCallback",d.fnRowCallback,"user");z(p,"aoRowCreatedCallback",d.fnCreatedRow,"user");z(p,"aoHeaderCallback",d.fnHeaderCallback,"user");z(p,"aoFooterCallback",d.fnFooterCallback,"user");z(p,"aoInitComplete",d.fnInitComplete,"user");z(p,"aoPreDrawCallback",d.fnPreDrawCallback,"user");i=p.oClasses;d.bJQueryUI?(h.extend(i,m.ext.oJUIClasses,d.oClasses),d.sDom===l.sDom&&"lfrtip"===l.sDom&&(p.sDom='<"H"lfr>t<"F"ip>'),p.renderer)?
h.isPlainObject(p.renderer)&&!p.renderer.header&&(p.renderer.header="jqueryui"):p.renderer="jqueryui":h.extend(i,m.ext.classes,d.oClasses);q.addClass(i.sTable);if(""!==p.oScroll.sX||""!==p.oScroll.sY)p.oScroll.iBarWidth=Hb();!0===p.oScroll.sX&&(p.oScroll.sX="100%");p.iInitDisplayStart===k&&(p.iInitDisplayStart=d.iDisplayStart,p._iDisplayStart=d.iDisplayStart);null!==d.iDeferLoading&&(p.bDeferLoading=!0,g=h.isArray(d.iDeferLoading),p._iRecordsDisplay=g?d.iDeferLoading[0]:d.iDeferLoading,p._iRecordsTotal=
g?d.iDeferLoading[1]:d.iDeferLoading);var t=p.oLanguage;h.extend(!0,t,d.oLanguage);""!==t.sUrl&&(h.ajax({dataType:"json",url:t.sUrl,success:function(a){P(a);H(l.oLanguage,a);h.extend(true,t,a);ga(p)},error:function(){ga(p)}}),o=!0);null===d.asStripeClasses&&(p.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var g=p.asStripeClasses,s=q.children("tbody").find("tr").eq(0);-1!==h.inArray(!0,h.map(g,function(a){return s.hasClass(a)}))&&(h("tbody tr",this).removeClass(g.join(" ")),p.asDestroyStripes=g.slice());
n=[];g=this.getElementsByTagName("thead");0!==g.length&&(da(p.aoHeader,g[0]),n=qa(p));if(null===d.aoColumns){r=[];g=0;for(j=n.length;g<j;g++)r.push(null)}else r=d.aoColumns;g=0;for(j=r.length;g<j;g++)Fa(p,n?n[g]:null);ib(p,d.aoColumnDefs,r,function(a,b){ka(p,a,b)});if(s.length){var u=function(a,b){return a.getAttribute("data-"+b)!==null?b:null};h.each(na(p,s[0]).cells,function(a,b){var c=p.aoColumns[a];if(c.mData===a){var d=u(b,"sort")||u(b,"order"),e=u(b,"filter")||u(b,"search");if(d!==null||e!==
null){c.mData={_:a+".display",sort:d!==null?a+".@data-"+d:k,type:d!==null?a+".@data-"+d:k,filter:e!==null?a+".@data-"+e:k};ka(p,a)}}})}var v=p.oFeatures;d.bStateSave&&(v.bStateSave=!0,Kb(p,d),z(p,"aoDrawCallback",ya,"state_save"));if(d.aaSorting===k){n=p.aaSorting;g=0;for(j=n.length;g<j;g++)n[g][1]=p.aoColumns[g].asSorting[0]}xa(p);v.bSort&&z(p,"aoDrawCallback",function(){if(p.bSorted){var a=U(p),b={};h.each(a,function(a,c){b[c.src]=c.dir});w(p,null,"order",[p,a,b]);Jb(p)}});z(p,"aoDrawCallback",
function(){(p.bSorted||B(p)==="ssp"||v.bDeferRender)&&xa(p)},"sc");gb(p);g=q.children("caption").each(function(){this._captionSide=q.css("caption-side")});j=q.children("thead");0===j.length&&(j=h("<thead/>").appendTo(this));p.nTHead=j[0];j=q.children("tbody");0===j.length&&(j=h("<tbody/>").appendTo(this));p.nTBody=j[0];j=q.children("tfoot");if(0===j.length&&0<g.length&&(""!==p.oScroll.sX||""!==p.oScroll.sY))j=h("<tfoot/>").appendTo(this);0===j.length||0===j.children().length?q.addClass(i.sNoFooter):
0<j.length&&(p.nTFoot=j[0],da(p.aoFooter,p.nTFoot));if(d.aaData)for(g=0;g<d.aaData.length;g++)K(p,d.aaData[g]);else(p.bDeferLoading||"dom"==B(p))&&ma(p,h(p.nTBody).children("tr"));p.aiDisplay=p.aiDisplayMaster.slice();p.bInitialised=!0;!1===o&&ga(p)}});b=null;return this};var Tb=[],y=Array.prototype,cc=function(a){var b,c,e=m.settings,d=h.map(e,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=h.inArray(a,d),-1!==b?[e[b]]:
null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=h(a):a instanceof h&&(c=a)}else return[];if(c)return c.map(function(){b=h.inArray(this,d);return-1!==b?e[b]:null}).toArray()};t=function(a,b){if(!(this instanceof t))return new t(a,b);var c=[],e=function(a){(a=cc(a))&&c.push.apply(c,a)};if(h.isArray(a))for(var d=0,f=a.length;d<f;d++)e(a[d]);else e(a);this.context=Na(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector={rows:null,cols:null,opts:null};
t.extend(this,this,Tb)};m.Api=t;t.prototype={any:function(){return 0!==this.flatten().length},concat:y.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new t(b[a],this[a]):null},filter:function(a){var b=[];if(y.filter)b=y.filter.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new t(this.context,b)},flatten:function(){var a=[];
return new t(this.context,a.concat.apply(a,this.toArray()))},join:y.join,indexOf:y.indexOf||function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var d=[],f,g,h,i,o,l=this.context,q,n,m=this.selector;"string"===typeof a&&(e=c,c=b,b=a,a=!1);g=0;for(h=l.length;g<h;g++){var p=new t(l[g]);if("table"===b)f=c.call(p,l[g],g),f!==k&&d.push(f);else if("columns"===b||"rows"===b)f=c.call(p,l[g],this[g],g),f!==k&&d.push(f);else if("column"===b||"column-rows"===
b||"row"===b||"cell"===b){n=this[g];"column-rows"===b&&(q=Ca(l[g],m.opts));i=0;for(o=n.length;i<o;i++)f=n[i],f="cell"===b?c.call(p,l[g],f.row,f.column,g,i):c.call(p,l[g],f,g,i,q),f!==k&&d.push(f)}}return d.length||e?(a=new t(l,a?d.concat.apply([],d):d),b=a.selector,b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,a):this},lastIndexOf:y.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(y.map)b=y.map.call(this,a,this);else for(var c=
0,e=this.length;c<e;c++)b.push(a.call(this,this[c],c));return new t(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:y.pop,push:y.push,reduce:y.reduce||function(a,b){return hb(this,a,b,0,this.length,1)},reduceRight:y.reduceRight||function(a,b){return hb(this,a,b,this.length-1,-1,-1)},reverse:y.reverse,selector:null,shift:y.shift,sort:y.sort,splice:y.splice,toArray:function(){return y.slice.call(this)},to$:function(){return h(this)},toJQuery:function(){return h(this)},
unique:function(){return new t(this.context,Na(this))},unshift:y.unshift};t.extend=function(a,b,c){if(c.length&&b&&(b instanceof t||b.__dt_wrapper)){var e,d,f,g=function(a,b,c){return function(){var d=b.apply(a,arguments);t.extend(d,d,c.methodExt);return d}};e=0;for(d=c.length;e<d;e++)f=c[e],b[f.name]="function"===typeof f.val?g(a,f.val,f):h.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,t.extend(a,b[f.name],f.propExt)}};t.register=r=function(a,b){if(h.isArray(a))for(var c=0,e=a.length;c<
e;c++)t.register(a[c],b);else for(var d=a.split("."),f=Tb,g,j,c=0,e=d.length;c<e;c++){g=(j=-1!==d[c].indexOf("()"))?d[c].replace("()",""):d[c];var i;a:{i=0;for(var o=f.length;i<o;i++)if(f[i].name===g){i=f[i];break a}i=null}i||(i={name:g,val:{},methodExt:[],propExt:[]},f.push(i));c===e-1?i.val=b:f=j?i.methodExt:i.propExt}};t.registerPlural=v=function(a,b,c){t.register(a,c);t.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof t?a.length?h.isArray(a[0])?new t(a.context,
a[0]):a[0]:k:a})};r("tables()",function(a){var b;if(a){b=t;var c=this.context;if("number"===typeof a)a=[c[a]];else var e=h.map(c,function(a){return a.nTable}),a=h(e).filter(a).map(function(){var a=h.inArray(this,e);return c[a]}).toArray();b=new b(a)}else b=this;return b});r("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new t(b[0]):a});v("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});v("tables().body()","table().body()",
function(){return this.iterator("table",function(a){return a.nTBody},1)});v("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});v("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});v("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});r("draw()",function(a){return this.iterator("table",function(b){N(b,
!1===a)})});r("page()",function(a){return a===k?this.page.info().page:this.iterator("table",function(b){Ta(b,a)})});r("page.info()",function(){if(0===this.context.length)return k;var a=this.context[0],b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}});r("page.len()",function(a){return a===k?0!==this.context.length?this.context[0]._iDisplayLength:
k:this.iterator("table",function(b){Ra(b,a)})});var Ub=function(a,b,c){if(c){var e=new t(a);e.one("draw",function(){c(e.ajax.json())})}"ssp"==B(a)?N(a,b):(C(a,!0),ra(a,[],function(c){oa(a);for(var c=sa(a,c),e=0,g=c.length;e<g;e++)K(a,c[e]);N(a,b);C(a,!1)}))};r("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});r("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});r("ajax.reload()",function(a,b){return this.iterator("table",function(c){Ub(c,
!1===b,a)})});r("ajax.url()",function(a){var b=this.context;if(a===k){if(0===b.length)return k;b=b[0];return b.ajax?h.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){h.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});r("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Ub(c,!1===b,a)})});var $a=function(a,b,c,e,d){var f=[],g,j,i,o,l,q;i=typeof b;if(!b||"string"===i||"function"===i||b.length===k)b=[b];i=0;for(o=b.length;i<o;i++){j=
b[i]&&b[i].split?b[i].split(","):[b[i]];l=0;for(q=j.length;l<q;l++)(g=c("string"===typeof j[l]?h.trim(j[l]):j[l]))&&g.length&&f.push.apply(f,g)}a=u.selector[a];if(a.length){i=0;for(o=a.length;i<o;i++)f=a[i](e,d,f)}return f},ab=function(a){a||(a={});a.filter&&a.search===k&&(a.search=a.filter);return h.extend({search:"none",order:"current",page:"all"},a)},bb=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a[0].length=1,a.length=1,a.context=[a.context[b]],a;a.length=0;return a},
Ca=function(a,b){var c,e,d,f=[],g=a.aiDisplay;c=a.aiDisplayMaster;var j=b.search;e=b.order;d=b.page;if("ssp"==B(a))return"removed"===j?[]:V(0,c.length);if("current"==d){c=a._iDisplayStart;for(e=a.fnDisplayEnd();c<e;c++)f.push(g[c])}else if("current"==e||"applied"==e)f="none"==j?c.slice():"applied"==j?g.slice():h.map(c,function(a){return-1===h.inArray(a,g)?a:null});else if("index"==e||"original"==e){c=0;for(e=a.aoData.length;c<e;c++)"none"==j?f.push(c):(d=h.inArray(c,g),(-1===d&&"removed"==j||0<=d&&
"applied"==j)&&f.push(c))}return f};r("rows()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=b;return $a("row",a,function(a){var b=Pb(a);if(b!==null&&!d)return[b];var j=Ca(c,d);if(b!==null&&h.inArray(b,j)!==-1)return[b];if(!a)return j;if(typeof a==="function")return h.map(j,function(b){var d=c.aoData[b];return a(b,d._aData,d.nTr)?b:null});b=Sb(ia(c.aoData,j,"nTr"));return a.nodeName&&h.inArray(a,b)!==-1?[a._DT_RowIndex]:h(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()},
c,d)},1);c.selector.rows=a;c.selector.opts=b;return c});r("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||k},1)});r("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ia(a.aoData,b,"_aData")},1)});v("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var e=b.aoData[c];return"search"===a?e._aFilterData:e._aSortData},1)});v("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",
function(b,c){ca(b,c,a)})});v("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});v("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var d=b.aoData;d.splice(c,1);for(var f=0,g=d.length;f<g;f++)null!==d[f].nTr&&(d[f].nTr._DT_RowIndex=f);h.inArray(c,b.aiDisplay);pa(b.aiDisplayMaster,c);pa(b.aiDisplay,c);pa(a[e],c,!1);Sa(b)})});r("rows.add()",function(a){var b=this.iterator("table",function(b){var c,
f,g,h=[];f=0;for(g=a.length;f<g;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?h.push(ma(b,c)[0]):h.push(K(b,c));return h},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});r("row()",function(a,b){return bb(this.rows(a,b))});r("row().data()",function(a){var b=this.context;if(a===k)return b.length&&this.length?b[0].aoData[this[0]]._aData:k;b[0].aoData[this[0]]._aData=a;ca(b[0],this[0],"data");return this});r("row().node()",function(){var a=this.context;return a.length&&this.length?
a[0].aoData[this[0]].nTr||null:null});r("row.add()",function(a){a instanceof h&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?ma(b,a)[0]:K(b,a)});return this.row(b[0])});var cb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==k?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=k,c._details=k))},Vb=function(a,b){var c=a.context;if(c.length&&a.length){var e=c[0].aoData[a[0]];if(e._details){(e._detailsShow=b)?e._details.insertAfter(e.nTr):
e._details.detach();var d=c[0],f=new t(d),g=d.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<D(g,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){d===b&&f.rows({page:"current"}).eq(0).each(function(a){a=g[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(d===b)for(var c,e=aa(b),f=0,h=g.length;f<h;f++)c=g[f],c._details&&c._details.children("td[colspan]").attr("colspan",e)}),f.on("destroy.dt.DT_details",
function(a,b){if(d===b)for(var c=0,e=g.length;c<e;c++)g[c]._details&&cb(f,c)}))}}};r("row().child()",function(a,b){var c=this.context;if(a===k)return c.length&&this.length?c[0].aoData[this[0]]._details:k;if(!0===a)this.child.show();else if(!1===a)cb(this);else if(c.length&&this.length){var e=c[0],c=c[0].aoData[this[0]],d=[],f=function(a,b){if(h.isArray(a)||a instanceof h)for(var c=0,k=a.length;c<k;c++)f(a[c],b);else a.nodeName&&"tr"===a.nodeName.toLowerCase()?d.push(a):(c=h("<tr><td/></tr>").addClass(b),
h("td",c).addClass(b).html(a)[0].colSpan=aa(e),d.push(c[0]))};f(a,b);c._details&&c._details.remove();c._details=h(d);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});r(["row().child.show()","row().child().show()"],function(){Vb(this,!0);return this});r(["row().child.hide()","row().child().hide()"],function(){Vb(this,!1);return this});r(["row().child.remove()","row().child().remove()"],function(){cb(this);return this});r("row().child.isShown()",function(){var a=this.context;return a.length&&
this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var dc=/^(.+):(name|visIdx|visible)$/,Wb=function(a,b,c,e,d){for(var c=[],e=0,f=d.length;e<f;e++)c.push(x(a,d[e],b));return c};r("columns()",function(a,b){a===k?a="":h.isPlainObject(a)&&(b=a,a="");var b=ab(b),c=this.iterator("table",function(c){var d=a,f=b,g=c.aoColumns,j=D(g,"sName"),i=D(g,"nTh");return $a("column",d,function(a){var b=Pb(a);if(a==="")return V(g.length);if(b!==null)return[b>=0?b:g.length+b];if(typeof a==="function"){var d=Ca(c,
f);return h.map(g,function(b,f){return a(f,Wb(c,f,0,0,d),i[f])?f:null})}var k=typeof a==="string"?a.match(dc):"";if(k)switch(k[2]){case "visIdx":case "visible":b=parseInt(k[1],10);if(b<0){var m=h.map(g,function(a,b){return a.bVisible?b:null});return[m[m.length+b]]}return[la(c,b)];case "name":return h.map(j,function(a,b){return a===k[1]?b:null})}else return h(i).filter(a).map(function(){return h.inArray(this,i)}).toArray()},c,f)},1);c.selector.cols=a;c.selector.opts=b;return c});v("columns().header()",
"column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});v("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});v("columns().data()","column().data()",function(){return this.iterator("column-rows",Wb,1)});v("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});v("columns().cache()","column().cache()",
function(a){return this.iterator("column-rows",function(b,c,e,d,f){return ia(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});v("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,e,d){return ia(a.aoData,d,"anCells",b)},1)});v("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(c,e){if(a===k)return c.aoColumns[e].bVisible;var d=c.aoColumns,f=d[e],g=c.aoData,j,i,m;if(a!==k&&f.bVisible!==a){if(a){var l=
h.inArray(!0,D(d,"bVisible"),e+1);j=0;for(i=g.length;j<i;j++)m=g[j].nTr,d=g[j].anCells,m&&m.insertBefore(d[e],d[l]||null)}else h(D(c.aoData,"anCells",e)).detach();f.bVisible=a;ea(c,c.aoHeader);ea(c,c.aoFooter);if(b===k||b)X(c),(c.oScroll.sX||c.oScroll.sY)&&Y(c);w(c,null,"column-visibility",[c,e,a]);ya(c)}})});v("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?$(b,c):c},1)});r("columns.adjust()",function(){return this.iterator("table",
function(a){X(a)},1)});r("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return la(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}});r("column()",function(a,b){return bb(this.columns(a,b))});r("cells()",function(a,b,c){h.isPlainObject(a)&&(a.row===k?(c=a,a=null):(c=b,b=null));h.isPlainObject(b)&&(c=b,b=null);if(null===b||b===k)return this.iterator("table",function(b){var d=a,e=ab(c),f=b.aoData,g=Ca(b,e),i=Sb(ia(f,g,"anCells")),
j=h([].concat.apply([],i)),l,m=b.aoColumns.length,o,r,t,s,u,v;return $a("cell",d,function(a){var c=typeof a==="function";if(a===null||a===k||c){o=[];r=0;for(t=g.length;r<t;r++){l=g[r];for(s=0;s<m;s++){u={row:l,column:s};if(c){v=b.aoData[l];a(u,x(b,l,s),v.anCells?v.anCells[s]:null)&&o.push(u)}else o.push(u)}}return o}return h.isPlainObject(a)?[a]:j.filter(a).map(function(a,b){l=b.parentNode._DT_RowIndex;return{row:l,column:h.inArray(b,f[l].anCells)}}).toArray()},b,e)});var e=this.columns(b,c),d=this.rows(a,
c),f,g,j,i,m,l=this.iterator("table",function(a,b){f=[];g=0;for(j=d[b].length;g<j;g++){i=0;for(m=e[b].length;i<m;i++)f.push({row:d[b][g],column:e[b][i]})}return f},1);h.extend(l.selector,{cols:b,rows:a,opts:c});return l});v("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b].anCells)?a[c]:k},1)});r("cells().data()",function(){return this.iterator("cell",function(a,b,c){return x(a,b,c)},1)});v("cells().cache()","cell().cache()",function(a){a=
"search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,e){return b.aoData[c][a][e]},1)});v("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,e){return x(b,c,e,a)},1)});v("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)});v("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,e){ca(b,c,a,e)})});r("cell()",
function(a,b,c){return bb(this.cells(a,b,c))});r("cell().data()",function(a){var b=this.context,c=this[0];if(a===k)return b.length&&c.length?x(b[0],c[0].row,c[0].column):k;Ia(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});r("order()",function(a,b){var c=this.context;if(a===k)return 0!==c.length?c[0].aaSorting:k;"number"===typeof a?a=[[a,b]]:h.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});
r("order.listener()",function(a,b,c){return this.iterator("table",function(e){Oa(e,a,b,c)})});r(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var d=[];h.each(b[e],function(b,c){d.push([c,a])});c.aaSorting=d})});r("search()",function(a,b,c,e){var d=this.context;return a===k?0!==d.length?d[0].oPreviousSearch.sSearch:k:this.iterator("table",function(d){d.oFeatures.bFilter&&fa(d,h.extend({},d.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:
b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),1)})});v("columns().search()","column().search()",function(a,b,c,e){return this.iterator("column",function(d,f){var g=d.aoPreSearchCols;if(a===k)return g[f].sSearch;d.oFeatures.bFilter&&(h.extend(g[f],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),fa(d,d.oPreviousSearch,1))})});r("state()",function(){return this.context.length?this.context[0].oSavedState:null});r("state.clear()",function(){return this.iterator("table",
function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});r("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});r("state.save()",function(){return this.iterator("table",function(a){ya(a)})});m.versionCheck=m.fnVersionCheck=function(a){for(var b=m.version.split("."),a=a.split("."),c,e,d=0,f=a.length;d<f;d++)if(c=parseInt(b[d],10)||0,e=parseInt(a[d],10)||0,c!==e)return c>e;return!0};m.isDataTable=m.fnIsDataTable=function(a){var b=h(a).get(0),c=!1;h.each(m.settings,
function(a,d){var f=d.nScrollHead?h("table",d.nScrollHead)[0]:null,g=d.nScrollFoot?h("table",d.nScrollFoot)[0]:null;if(d.nTable===b||f===b||g===b)c=!0});return c};m.tables=m.fnTables=function(a){return h.map(m.settings,function(b){if(!a||a&&h(b.nTable).is(":visible"))return b.nTable})};m.util={throttle:ua,escapeRegex:va};m.camelToHungarian=H;r("$()",function(a,b){var c=this.rows(b).nodes(),c=h(c);return h([].concat(c.filter(a).toArray(),c.find(a).toArray()))});h.each(["on","one","off"],function(a,
b){r(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var e=h(this.tables().nodes());e[b].apply(e,a);return this})});r("clear()",function(){return this.iterator("table",function(a){oa(a)})});r("settings()",function(){return new t(this.context,this.context)});r("init()",function(){var a=this.context;return a.length?a[0].oInit:null});r("data()",function(){return this.iterator("table",function(a){return D(a.aoData,"_aData")}).flatten()});r("destroy()",
function(a){a=a||!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,e=b.oClasses,d=b.nTable,f=b.nTBody,g=b.nTHead,j=b.nTFoot,i=h(d),f=h(f),k=h(b.nTableWrapper),l=h.map(b.aoData,function(a){return a.nTr}),q;b.bDestroying=!0;w(b,"aoDestroyCallback","destroy",[b]);a||(new t(b)).columns().visible(!0);k.unbind(".DT").find(":not(tbody *)").unbind(".DT");h(Ea).unbind(".DT-"+b.sInstance);d!=g.parentNode&&(i.children("thead").detach(),i.append(g));j&&d!=j.parentNode&&(i.children("tfoot").detach(),
i.append(j));i.detach();k.detach();b.aaSorting=[];b.aaSortingFixed=[];xa(b);h(l).removeClass(b.asStripeClasses.join(" "));h("th, td",g).removeClass(e.sSortable+" "+e.sSortableAsc+" "+e.sSortableDesc+" "+e.sSortableNone);b.bJUI&&(h("th span."+e.sSortIcon+", td span."+e.sSortIcon,g).detach(),h("th, td",g).each(function(){var a=h("div."+e.sSortJUIWrapper,this);h(this).append(a.contents());a.detach()}));!a&&c&&c.insertBefore(d,b.nTableReinsertBefore);f.children().detach();f.append(l);i.css("width",b.sDestroyWidth).removeClass(e.sTable);
(q=b.asDestroyStripes.length)&&f.children().each(function(a){h(this).addClass(b.asDestroyStripes[a%q])});c=h.inArray(b,m.settings);-1!==c&&m.settings.splice(c,1)})});h.each(["column","row","cell"],function(a,b){r(b+"s().every()",function(a){return this.iterator(b,function(e,d,f){a.call((new t(e))[b](d,f))})})});r("i18n()",function(a,b,c){var e=this.context[0],a=R(a)(e.oLanguage);a===k&&(a=b);c!==k&&h.isPlainObject(a)&&(a=a[c]!==k?a[c]:a._);return a.replace("%d",c)});m.version="1.10.7";m.settings=
[];m.models={};m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};m.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};m.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",
sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,
fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,
fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},
sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},m.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,
sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};W(m.defaults);m.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};W(m.defaults.column);m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,
bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],
sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,
bAjaxDataGet:!0,jqXHR:null,json:k,oAjaxData:k,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==B(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==B(this)?1*this._iRecordsDisplay:
this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,e=this.aiDisplay.length,d=this.oFeatures,f=d.bPaginate;return d.bServerSide?!1===f||-1===a?b+e:Math.min(b+a,this._iRecordsDisplay):!f||c>e||-1===a?e:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};m.ext=u={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},
header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:m.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:m.version};h.extend(u,{afnFiltering:u.search,aTypes:u.type.detect,ofnSearch:u.type.search,oSort:u.type.order,afnSortData:u.order,aoFeatures:u.feature,oApi:u.internal,oStdClasses:u.classes,oPagination:u.pager});h.extend(m.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",
sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",
sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Da="",Da="",F=Da+"ui-state-default",ja=Da+"css_right ui-icon ui-icon-",Xb=Da+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";h.extend(m.ext.oJUIClasses,
m.ext.classes,{sPageButton:"fg-button ui-button "+F,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:F+" sorting_asc",sSortDesc:F+" sorting_desc",sSortable:F+" sorting",sSortableAsc:F+" sorting_asc_disabled",sSortableDesc:F+" sorting_desc_disabled",sSortableNone:F+" sorting_disabled",sSortJUIAsc:ja+"triangle-1-n",sSortJUIDesc:ja+"triangle-1-s",sSortJUI:ja+"carat-2-n-s",
sSortJUIAscAllowed:ja+"carat-1-n",sSortJUIDescAllowed:ja+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+F,sScrollFoot:"dataTables_scrollFoot "+F,sHeaderTH:F,sFooterTH:F,sJUIHeader:Xb+" ui-corner-tl ui-corner-tr",sJUIFooter:Xb+" ui-corner-bl ui-corner-br"});var Mb=m.ext.pager;h.extend(Mb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",
Wa(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Wa(a,b),"next","last"]},_numbers:Wa,numbers_length:7});h.extend(!0,m.ext.renderer,{pageButton:{_:function(a,b,c,e,d,f){var g=a.oClasses,j=a.oLanguage.oPaginate,i,k,l=0,m=function(b,e){var n,r,t,s,u=function(b){Ta(a,b.data.action,true)};n=0;for(r=e.length;n<r;n++){s=e[n];if(h.isArray(s)){t=h("<"+(s.DT_el||"div")+"/>").appendTo(b);m(t,s)}else{k=i="";switch(s){case "ellipsis":b.append('<span class="ellipsis">&#x2026;</span>');break;
case "first":i=j.sFirst;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "previous":i=j.sPrevious;k=s+(d>0?"":" "+g.sPageButtonDisabled);break;case "next":i=j.sNext;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;case "last":i=j.sLast;k=s+(d<f-1?"":" "+g.sPageButtonDisabled);break;default:i=s+1;k=d===s?g.sPageButtonActive:""}if(i){t=h("<a>",{"class":g.sPageButton+" "+k,"aria-controls":a.sTableId,"data-dt-idx":l,tabindex:a.iTabIndex,id:c===0&&typeof s==="string"?a.sTableId+"_"+s:null}).html(i).appendTo(b);
Va(t,{action:s},u);l++}}}},n;try{n=h(Q.activeElement).data("dt-idx")}catch(r){}m(h(b).empty(),e);n&&h(b).find("[data-dt-idx="+n+"]").focus()}}});h.extend(m.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!ac.test(a)||!bc.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||J(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Za(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;
return Rb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Rb(a,c,!0)?"html-num-fmt"+c:null},function(a){return J(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);h.extend(m.ext.type.search,{html:function(a){return J(a)?a:"string"===typeof a?a.replace(Ob," ").replace(Ba,""):""},string:function(a){return J(a)?a:"string"===typeof a?a.replace(Ob," "):a}});var Aa=function(a,b,c,e){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Qb(a,b));a.replace&&(c&&(a=a.replace(c,"")),
e&&(a=a.replace(e,"")));return 1*a};h.extend(u.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return J(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return J(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});db("");h.extend(!0,m.ext.renderer,{header:{_:function(a,b,c,e){h(a.nTable).on("order.dt.DT",function(d,
f,g,h){if(a===f){d=c.idx;b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,e){h("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(e.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b);h(a.nTable).on("order.dt.DT",function(d,f,g,h){if(a===f){d=c.idx;b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass(h[d]=="asc"?e.sSortAsc:h[d]=="desc"?e.sSortDesc:c.sSortingClass);
b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass(h[d]=="asc"?e.sSortJUIAsc:h[d]=="desc"?e.sSortJUIDesc:c.sSortingClassJUI)}})}}});m.render={number:function(a,b,c,e){return{display:function(d){if("number"!==typeof d&&"string"!==typeof d)return d;var f=0>d?"-":"",d=Math.abs(parseFloat(d)),g=parseInt(d,10),d=c?b+(d-g).toFixed(c).substring(2):"";return f+(e||"")+g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,
a)+d}}}};h.extend(m.ext.internal,{_fnExternApiFunc:Nb,_fnBuildAjax:ra,_fnAjaxUpdate:kb,_fnAjaxParameters:tb,_fnAjaxUpdateDraw:ub,_fnAjaxDataSrc:sa,_fnAddColumn:Fa,_fnColumnOptions:ka,_fnAdjustColumnSizing:X,_fnVisibleToColumnIndex:la,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:Z,_fnColumnTypes:Ha,_fnApplyColumnDefs:ib,_fnHungarianMap:W,_fnCamelToHungarian:H,_fnLanguageCompat:P,_fnBrowserDetect:gb,_fnAddData:K,_fnAddTr:ma,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==k?b._DT_RowIndex:
null},_fnNodeToColumnIndex:function(a,b,c){return h.inArray(c,a.aoData[b].anCells)},_fnGetCellData:x,_fnSetCellData:Ia,_fnSplitObjNotation:Ka,_fnGetObjectDataFn:R,_fnSetObjectDataFn:S,_fnGetDataMaster:La,_fnClearTable:oa,_fnDeleteIndex:pa,_fnInvalidate:ca,_fnGetRowElements:na,_fnCreateTr:Ja,_fnBuildHead:jb,_fnDrawHead:ea,_fnDraw:M,_fnReDraw:N,_fnAddOptionsHtml:mb,_fnDetectHeader:da,_fnGetUniqueThs:qa,_fnFeatureHtmlFilter:ob,_fnFilterComplete:fa,_fnFilterCustom:xb,_fnFilterColumn:wb,_fnFilter:vb,_fnFilterCreateSearch:Qa,
_fnEscapeRegex:va,_fnFilterData:yb,_fnFeatureHtmlInfo:rb,_fnUpdateInfo:Bb,_fnInfoMacros:Cb,_fnInitialise:ga,_fnInitComplete:ta,_fnLengthChange:Ra,_fnFeatureHtmlLength:nb,_fnFeatureHtmlPaginate:sb,_fnPageChange:Ta,_fnFeatureHtmlProcessing:pb,_fnProcessingDisplay:C,_fnFeatureHtmlTable:qb,_fnScrollDraw:Y,_fnApplyToChildren:G,_fnCalculateColumnWidths:Ga,_fnThrottle:ua,_fnConvertToWidth:Db,_fnScrollingWidthAdjust:Fb,_fnGetWidestNode:Eb,_fnGetMaxLenString:Gb,_fnStringToCss:s,_fnScrollBarWidth:Hb,_fnSortFlatten:U,
_fnSort:lb,_fnSortAria:Jb,_fnSortListener:Ua,_fnSortAttachListener:Oa,_fnSortingClasses:xa,_fnSortData:Ib,_fnSaveState:ya,_fnLoadState:Kb,_fnSettingsFromNode:za,_fnLog:I,_fnMap:E,_fnBindAction:Va,_fnCallbackReg:z,_fnCallbackFire:w,_fnLengthOverflow:Sa,_fnRenderer:Pa,_fnDataSource:B,_fnRowAttributes:Ma,_fnCalculateEnd:function(){}});h.fn.dataTable=m;h.fn.dataTableSettings=m.settings;h.fn.dataTableExt=m.ext;h.fn.DataTable=function(a){return h(this).dataTable(a).api()};h.each(m,function(a,b){h.fn.DataTable[a]=
b});return h.fn.dataTable};"function"===typeof define&&define.amd?define("datatables",["jquery"],P):"object"===typeof exports?module.exports=P(require("jquery")):jQuery&&!jQuery.fn.dataTable&&P(jQuery)})(window,document);

(function($) {

	$.fn.quickPager = function(options) {

		var defaults = {
			pageSize: 10,
			active: 1,
			holder: null,
			pagerLocation: "after"
		};

		var options = $.extend(defaults, options);


		return this.each(function() {


			var selector = $(this);
			var pageCounter = 1;

			selector.wrap("<div class='simplePagerContainer'></div>");

			selector.parents(".simplePagerContainer").find("ul.eventspagination").remove();

			selector.children().each(function(i){

				if(i < pageCounter*options.pageSize && i >= (pageCounter-1)*options.pageSize) {
				$(this).addClass("simplePagerPage"+pageCounter);
				}
				else {
					$(this).addClass("simplePagerPage"+(pageCounter+1));
					pageCounter ++;
				}

			});

			// show/hide the appropriate regions
			selector.children().hide();
			selector.children(".simplePagerPage"+options.active).show();

			if(pageCounter <= 1) {
				return;
			}

			//Build pager navigation
			var pageNav = "<ul class='eventspagination'>";
			pageNav += "<li ><a class=\"bg100\" rel='previous'>«</a></li>";
			for (i=1;i<=pageCounter;i++){
				if (i==options.active) {
					pageNav += "<li class='active '><a class=\"bg100\" rel='"+i+"'>"+i+"</a></li>";
				}
				else {
					pageNav += "<li><a class=\"bg100\" rel='"+i+"'>"+i+"</a></li>";
				}
			}
			pageNav += "<li ><a class=\"bg100\" rel='next'>»</a></li>";
			pageNav += "</ul>";

			if(!options.holder) {
				switch(options.pagerLocation)
				{
				case "before":
					selector.before(pageNav);
				break;
				case "both":
					selector.before(pageNav);
					selector.after(pageNav);
				break;
				default:
					selector.after(pageNav);
				}
			}
			else {
				$(options.holder).append(pageNav);
			}

			//pager navigation behaviour
			selector.parent().find(".eventspagination a").click(function() {

				//grab the REL attribute
				var clickedLink = $(this).attr("rel");
				options.active = clickedLink;

				if(options.holder) {
					$(this).parent("li").parent("ul").parent(options.holder).find("li.active").removeClass("active");
					$(this).parent("li").parent("ul").parent(options.holder).find("a[rel='"+clickedLink+"']").parent("li").addClass("active");
				}
				else {
					var position = parseInt($(this).parent("li").parent("ul").parent(".simplePagerContainer").find("li.active a")[0].rel);
					if( ( clickedLink == 'previous' && position == 1) || (clickedLink == 'next' && position == pageCounter)) return;
					if(clickedLink == 'previous'){
						clickedLink =  position -1;
					}
					if(clickedLink == 'next'){
						clickedLink = position +1;
					}
					//remove current current (!) page
					$(this).parent("li").parent("ul").parent(".simplePagerContainer").find("li.active").removeClass("active");
					//Add current page highlighting
					$(this).parent("li").parent("ul").parent(".simplePagerContainer").find("a[rel='"+clickedLink+"']").parent("li").addClass("active");
				}

				//hide and show relevant links
				selector.children().hide();
				selector.find(".simplePagerPage"+clickedLink).show();

				return false;
			});
		});
	}


})(jQuery);

$(function () {
    var mobileBreakpoint = '767';

    function summaryExplorer() {
        var $win = $(window);
        $('.summary-explorer').on('click', '.summary-explorer__link-listing li a', function (e) {
            var $this = $(this),
                $servicesWrapper = $this.parents('.summary-explorer'),
                $serviceContent = $servicesWrapper.find('.summary-explorer__preview-panel');
            $comp_id = $servicesWrapper.attr('id');

            //If device is large enough show content panel, otherwise just navigate to page
            if (window.innerWidth > mobileBreakpoint) {
                e.preventDefault();

                $servicesWrapper.find('li a').removeClass('serviceOpen active');

                $(this).addClass('serviceOpen active');
                if ($comp_id) {
                    $('#' + $comp_id + ' .accordion-content-wrapper.active').removeClass('active');
                    $('[data-accordion-section="' + $(this).attr('data-accordion-section-target') + '"]').addClass('active');
                } else {
                    $('.accordion-content-wrapper.active').removeClass('active');
                    $('[data-accordion-section="' + $(this).attr('data-accordion-section-target') + '"]').addClass('active');
                }
            }
        });
    }

    function resizeHeight($this) {
        if (window.innerWidth < mobileBreakpoint) {
            var $accContentWrapper = $('[data-accordion-section="' + $this.attr('data-accordion-expand-target') + '"]'),
                $accContentHolder = $accContentWrapper.find('.accordion-content-holder');

            //console.log($accContentWrapper.height());
            if (typeof $accContentWrapper.height() != null && $accContentWrapper.height() <= 200) {
                // Shows images and hyperlinks when content is collapsed on mobile
                $accContentWrapper.find('img').show();
                $accContentWrapper.find('a').removeClass('hide-link');

                $accContentWrapper.css('height', $accContentHolder.height());
                $accContentWrapper.addClass('hide-shadow');
                $accContentWrapper.addClass('hide-shadow-hyperlink');

                $this.text($this.attr('data-seeless'));
            } else {
                // Hides images and hyperlinks when content is collapsed on mobile
                $accContentWrapper.find('img').hide();
                $accContentWrapper.find('a').addClass('hide-link');

                $accContentWrapper.css('height', '200px');
                $accContentWrapper.removeClass('hide-shadow');
                $accContentWrapper.removeClass('hide-shadow-hyperlink');
                $this.text($this.attr('data-seemore'));
            }
        } else {
            // Hides images and hyperlinks when content is collapsed on mobile
            $accContentWrapper.find('img').hide();
            $accContentWrapper.find('a').addClass('hide-link');

            $('.accordion-content-wrapper').css('height', 'auto');
            $('.accordion-content-wrapper').addClass('hide-shadow');
            $('.accordion-content-wrapper').addClass('hide-shadow-hyperlink');
        }
    }

    $('.hide-link').click(function (e) {
        // Ensures hidden hyperlinks in collapsed content is not clickable
        e.preventDefault();
    });

    $(window).on('load resize', function (e) {
        // Hides images within tab content for mobile / tablet
        if (window.innerWidth < mobileBreakpoint) {
            $('.accordion-content-wrapper').find('img').hide();
            $('.accordion-content-wrapper').find('a').addClass('hide-link');
        }
    });

    function showMoreClickAction() {
        $('[data-accordion-expand-target]').click(function (e) {
            var $this = $(this);
            e.preventDefault();
            resizeHeight($this);
            return false
        });
    }

    var resizeTimer;

    $(window).on('resize', function (e) {

        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function () {

            // Run code here, resizing has "stopped"
            var $openSections = $('[data-accordion-section]');
            $openSections.each(function () {
                var $currentOpenSection = $(this),
                    $currentOpenSectionContentLink = $currentOpenSection.find('.accordion-content-show-more'),
                    $currentOpenSectionContentHolder = $currentOpenSection.find('.accordion-content-holder');

                if (window.innerWidth < mobileBreakpoint) {
                    //Reset hide-shadow class - this will be re-applied for items shorter than 200px             
                    $('.accordion-content-wrapper').removeClass('hide-shadow');
                    $('.accordion-content-wrapper').addClass('hide-shadow-hyperlink');

                    //todo: handle short sections of text better
                    if ($currentOpenSection.height() && $currentOpenSection.height() <= 200) {
                        $currentOpenSection.css('height', '');
                        $currentOpenSection.addClass('hide-shadow');
                        $currentOpenSection.removeClass('hide-shadow-hyperlink');
                        $currentOpenSectionContentLink.text($currentOpenSectionContentLink.attr('data-seeless'));
                    } else {
                        $currentOpenSection.css('height', '200px');
                        $currentOpenSectionContentLink.text($currentOpenSectionContentLink.attr('data-seemore'));
                    }
                } else {
                    $('.accordion-content-wrapper').css('height', '');

                    $('.accordion-content-wrapper').find('img').show();
                    $('.accordion-content-wrapper').find('a').removeClass('hide-link');

                    $('.accordion-content-wrapper').addClass('hide-shadow');
                    $('.accordion-content-wrapper').removeClass('hide-shadow-hyperlink');
                    $('.accordion-content-show-more').text($('.accordion-content-show-more').attr('data-seemore'));
                }
            });

        }, 250);

    });

    summaryExplorer();
    showMoreClickAction();
});

$(document).ready(function () {
    $(".summaryexplorer .accordion-content-holder").each(function () {
        if ($(this).height() <= 200) {
            $(this).parent().addClass("accordion-content-auto-height");
            console.log($(this).parent().next());
            $(this).parent().next().css('display', 'none');
        }
    });
    $('.summary-explorer__panel-copy .row .col-sm-12 .summary-explorer__image').addClass('img-responsive');
    $('.summary-explorer__panel-copy .row .col-sm-12 .sumImg').removeClass('sumImg').addClass('summary-explorer__image img-responsive');
});
// Begin Explore Navigation component Collapsible tabs component

$(function () {
    $(document).ready(function () {

        var mobileBreakpoint = 768,
        $win,
        winWidth,
        resizeTimer;

        $('.explore-nav').filter(function () {
            var $tabbed_content_instance = $(this),
                $tab_nav = $tabbed_content_instance.find('.explore-nav__tab a');

            $win = $(window);
	        winWidth = $win.width();

            //Manage expand / collapse functionality for tabs
            $tab_nav.on('click', function (e) {
               
				
				e.preventDefault();
				
				var activeTabID = $(this).prop("href");
				var activeTabHash = activeTabID.substr(activeTabID.indexOf("#"));
					
									
				if ($(this).parent().hasClass("explore-nav__tab--active")){	
				
					$(activeTabHash).removeClass("explore-nav__tab-panel--active");
					$(this).parent("li").removeClass("explore-nav__tab--active");
					$(".explore-nav__overlay").hide();
					

				}else{	
					
					$(".explore-nav__tab-panel").removeClass("explore-nav__tab-panel--active");
					$(".explore-nav__tab").removeClass("explore-nav__tab--active");
					
				
					
					$(activeTabHash).addClass("explore-nav__tab-panel--active");
					$(this).parent("li").addClass("explore-nav__tab--active");
					
					
					if($(".explore-nav__overlay").is(":visible")){

					}else{
						$(".explore-nav__overlay").show();
					}

				}
				
            });

        	
	        if($win.width() < 768) {
	            var $wrapper = $tabbed_content_instance.find('.explore-nav__scroll-wrapper');
	            //console.log($wrapper);
	            var $scrollPane = $wrapper.find('.explore-nav__tab-links');
	            var scrollWidth= $scrollPane[0].scrollWidth;
	            var paneWidth = $scrollPane.innerWidth();
	            var paneWidth2 = $scrollPane.outerWidth();

                if ($scrollPane.scrollLeft() == 0) {
                    console.log('on load hide left fade');
                    $wrapper.addClass('explore-nav__scroll-wrapper--hide-fade-l ');
                } else {
                    $wrapper.removeClass('explore-nav__scroll-wrapper--hide-fade-l ');
                }
                
                if (parseInt($scrollPane.scrollLeft() + paneWidth) == scrollWidth) {
                    console.log('on load hide right fade');
                    $wrapper.addClass('explore-nav__scroll-wrapper--hide-fade-r ');
                } else {
                    $wrapper.removeClass('explore-nav__scroll-wrapper--hide-fade-r ');
                }

	            var scrollResizeTimer;
	            $scrollPane.on('scroll', function(e) {

	                clearTimeout(scrollResizeTimer);
	                scrollResizeTimer = setTimeout(function() {
	                    if($scrollPane.scrollLeft() == 0) {
	                        $wrapper.addClass('explore-nav__scroll-wrapper--hide-fade-l ');
	                    } else {
	                        $wrapper.removeClass('explore-nav__scroll-wrapper--hide-fade-l ');
	                    }

	                    if (parseInt(paneWidth) <= scrollWidth) {
	                        $wrapper.addClass('explore-nav__scroll-wrapper--hide-fade-r ');
	                    } else {
	                        $wrapper.removeClass('explore-nav__scroll-wrapper--hide-fade-r ');
	                    }
	                    
	                }, 150);

	            });
	        } 	
        });

		//Collapse expanded panels when user clicks content area outside of panel (excluded global nav area)
		$(".explore-nav__overlay").on('click',function(e){
				
					$(".explore-nav__overlay").hide();

					$(".explore-nav__tab-panel").removeClass("explore-nav__tab-panel--active");
					$(".explore-nav__tab").removeClass("explore-nav__tab--active");

		});
					
		

    });
});



/* Component: Accordion */
$(document).ready(function(){
	$('.panel-default').on('shown.bs.collapse', function () {
		$(this).find(".panel-title a").addClass("active");
	})
});
/*  PR-1823: This function was created for components that have isotope because they did not work inside "display:none" div
    To add new components must to:
    add a new CONST variable with a class or id of div where isotope works.  
    add last one in components variable separated by comma.
    PR-3026: Fix for more than one tabs component on the same page.
*/

PwC.ns("PwC.components.tabs");

PwC.components.tabs = {  
    isotopComponentsOnTab : function(){      
        $('a[data-toggle="tab"]').on('shown.bs.tab',function() {
            var tabContent = $('.tab-pane.active'); 
            $(tabContent).each(function(){
                var firstActive = $(this).attr('data-firstActive');
                if(firstActive == 'true'){
                    var CONST = {
                        FACETED_ID: 'isoContainer--',
                        COLLECTION_CLASS:' .collection__content',
                        INDEX_LIST_CLASS:' .link-index__content'}; 
                    $(this).each(function(){                            
                     var components = $(this).find(CONST.COLLECTION_CLASS+' ,div[id^='+CONST.FACETED_ID+'],'+CONST.INDEX_LIST_CLASS);  
                     PwC.components.tabs.isotopLayout(components);
                     $(this).attr('data-firstActive','false');    
                    }); 
                }                 
            });                           
         });
    },    
    isotopLayout : function(components){
        $(components).each(function(){
             $(this).isotope('layout');
       });       
    }
};
    
$(document).ready(function(){           
    PwC.components.tabs.isotopComponentsOnTab();    
});

window.registerVideoPlayerEvents1 = function (playerInstance) {
    playerInstance.on('ready', function (e) {
        this.videoLoaded = false;
        this.currentState = 'unload';
        this.videoTrackingInstance = null;
    });

    // for youtube videos
    playerInstance.on("firstFrame", function(e) {
        if(!this.videoLoaded && this.getDuration() > 0){
           this.videoLoaded = true;
            this.videoTrackingInstance = new hbTracking(this);
            this.videoTrackingInstance.onVideoLoad();
        }
    });

    // for akamai video load
    playerInstance.on("bufferChange", function (e) {
        if (e.duration > 0 && !this.videoLoaded) {
            this.off("bufferChange");
            this.videoLoaded = true;
            this.videoTrackingInstance = new hbTracking(this);
            this.videoTrackingInstance.onVideoLoad();
        }
    });

    playerInstance.on("play", function (e) {
        if (this.currentState !== 'play' && this.videoLoaded) {
            this.videoTrackingInstance.onVideoPlay();
        }
        this.currentState = "play";
    });

    playerInstance.on("pause", function (e) {
        if (this.currentState !== 'pause') {
            this.videoTrackingInstance.onVideoPause();
        }
        this.currentState = "pause";
    });
    playerInstance.on("beforeComplete", function (e) {
        this.videoTrackingInstance.onVideoComplete();
    });

    playerInstance.on("complete", function (e) {
        this.videoLoaded = false;
        this.videoTrackingInstance.onVideoUnload();
    });

    playerInstance.on("remove", function (e) {
        this.videoLoaded = false;
        this.videoTrackingInstance.onVideoUnload();
    });
};

window.hbTracking = function(videoInstance) {
    try {
        var self = this;
        self.MediaHeartbeat = ADB.va.MediaHeartbeat;
        self.MediaHeartbeatConfig = ADB.va.MediaHeartbeatConfig;
        self.MediaHeartbeatDelegate = ADB.va.MediaHeartbeatDelegate;

        self.playerInstanceConfig = videoInstance.getConfig();

        self.Configuration = {
            PLAYER: {
                NAME: 'JwPlayer 7.2.4',
                VIDEO_ID: self.playerInstanceConfig.id,
                VIDEO_NAME: self.playerInstanceConfig.title,
                VIDEO_DURATION: videoInstance.getDuration()
            },

            HEARTBEAT: {
                TRACKING_SERVER: 'pricewaterhousecoopers.hb.omtrdc.net',
                PUBLISHER: 'E8DE34FA53CE53B10A490D44@AdobeOrg',
                CHANNEL: 'Video',
                OVP: self.playerInstanceConfig.videoType,
                SDK: videoInstance.version
            }
        };

        self.mediaConfig = new self.MediaHeartbeatConfig();
        self.mediaConfig.trackingServer = self.Configuration.HEARTBEAT.TRACKING_SERVER;
        self.mediaConfig.playerName = self.Configuration.PLAYER.NAME;
        self.mediaConfig.channel = self.Configuration.HEARTBEAT.CHANNEL;
        self.mediaConfig.debugLogging = Cookies.get("enableHeartbeatDebug") === 'true';
        self.mediaConfig.appVersion = self.Configuration.HEARTBEAT.SDK;
        self.mediaConfig.ssl = false;
        self.mediaConfig.ovp = self.Configuration.HEARTBEAT.OVP;

        self.mediaDelegate = new self.MediaHeartbeatDelegate();

        self.mediaDelegate.getCurrentPlaybackTime = function () {
            return videoInstance.getPosition();
        };

        self.visitor = new Visitor("E8DE34FA53CE53B10A490D44@AdobeOrg");
        self.appMeasurement = new AppMeasurement();
        self.appMeasurement.visitor = self.visitor;
        self.appMeasurement.trackingServer = "pricewaterhousecoopers.d2.sc.omtrdc.net";
        self.appMeasurement.account = typeof _satellite !== 'undefined' ? _satellite.getVar("ReportSuiteid") || 'pwcglobalweb' : 'pwcglobalweb';

        self.mediaHeartbeat = new self.MediaHeartbeat(self.mediaDelegate, self.mediaConfig, self.appMeasurement);

        self.mediaObject =
            self.MediaHeartbeat.createMediaObject(self.Configuration.PLAYER.VIDEO_NAME,
                self.Configuration.PLAYER.VIDEO_ID,
                self.Configuration.PLAYER.VIDEO_DURATION,
                self.MediaHeartbeat.StreamType.VOD);

        // fire this on user intention of playback, not the beginning of the playback. For now for videoCustomMetadata send an empty object.
        self.onVideoLoad = function () {
            self.mediaHeartbeat.trackSessionStart(self.mediaObject, self.videoCustomMetadata);
        };
        // When user plays the video or video plays 
        self.onVideoPlay = function () {
            self.mediaHeartbeat.trackPlay();
        };
        // when video is completed
        self.onVideoComplete = function () {
            self.mediaHeartbeat.trackComplete();
        };
        //when user closes the video and/or the video completed and unloaded
        self.onVideoUnload = function () {
            self.mediaHeartbeat.trackSessionEnd();
        };
        // When user pauses the video
        self.onVideoPause = function () {
            self.mediaHeartbeat.trackPause();
        };
        self.onBufferStart = function () {
            self.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferStart);
        };
        self.onBufferEnd = function () {
            self.mediaHeartbeat.trackEvent(MediaHeartbeat.Event.BufferComplete);
        };

        self.videoId = videoInstance.id;

    } catch (err) {
        console.log('Unable to initialize video tracking: ' + err.message);
    }
}

window.registerVideoPlayerEvents = function (playerInstance) {
    playerInstance.videoTime25 = true,
	playerInstance.videoTime50 = true,
	playerInstance.videoTime75 = true;
    playerInstance.replay = false;
    playerInstance.on('ready', function (e) {
        this.videoLoaded = false;
        this.currentState = 'unload';
        this.videoTrackingInstance = null;
        setInterval(onPlayProgress, 1000,this);
    });

    // for youtube videos
    playerInstance.on("firstFrame", function(e) {
        if(!this.videoLoaded && this.getDuration() > 0){
            setInterval(onPlayProgress, 1000,this);
        }
    });

    // for akamai video load
    playerInstance.on("bufferChange", function (e) {
        if (e.duration > 0 && !this.videoLoaded) {
            setInterval(onPlayProgress, 1000,this);
        }
    });

    playerInstance.on("play", function (e) {
		if (this.getPosition() < 1) {
             createObject('video.name',this.getConfig().title);
             createObject('video.event','start');
             createObject('video.time',this.getPosition());
         }
        if(this.replay){
            this.videoTime25 = true,
			this.videoTime50 = true,
			this.videoTime75 = true;
        }
    });

    playerInstance.on("complete", function (e) {
        createObject('video.name',this.getConfig().title);
        createObject('video.event','complete');
        createObject('video.time',this.getPosition());
        this.replay = true;
    });
    function onPlayProgress(player) {
       viewedPercentage = player.getPosition() / player.getDuration();
        if (viewedPercentage >= 0.25 && player.videoTime25) {
            createObject('video.name',player.getConfig().title);
            createObject('video.event','video-25-complete');
            createObject('video.time',player.getPosition());
            player.videoTime25 = false;
            this.replay = false;
        } else if (viewedPercentage >= 0.5 && player.videoTime50) {
            createObject('video.name',player.getConfig().title);
            createObject('video.event','video-50-complete');
            createObject('video.time',player.getPosition());
            player.videoTime50 = false;
            this.replay = false;
        } else if (viewedPercentage >= 0.75 && player.videoTime75) {
            createObject('video.name',player.getConfig().title);
            createObject('video.event','video-75-complete');
            createObject('video.time',player.getPosition());
            player.videoTime75 = false;
            this.replay = false;
        } 
    }
};


/* JW v 7.2.4 */
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.jwplayer=b():a.jwplayer=b()}(this,function(){return function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={exports:{},id:c,loaded:!1};return a[c].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c=window.webpackJsonpjwplayer;window.webpackJsonpjwplayer=function(d,f){for(var g,h,i=0,j=[];i<d.length;i++)h=d[i],e[h]&&j.push.apply(j,e[h]),e[h]=0;for(g in f)a[g]=f[g];for(c&&c(d,f);j.length;)j.shift().call(null,b)};var d={},e={0:0};return b.e=function(a,c){if(0===e[a])return c.call(null,b);if(void 0!==e[a])e[a].push(c);else{e[a]=[c];var d=document.getElementsByTagName("head")[0],f=document.createElement("script");f.type="text/javascript",f.charset="utf-8",f.async=!0,f.src=b.p+""+({1:"polyfills.promise",2:"polyfills.base64",3:"provider.youtube",4:"provider.dashjs",5:"provider.shaka",6:"provider.cast"}[a]||a)+".js",d.appendChild(f)}},b.m=a,b.c=d,b.p="",b(0)}([function(a,b,c){a.exports=c(39)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(a,b,c){var d,e;d=[c(40),c(173),c(44)],e=function(a,b,c){return window.jwplayer?window.jwplayer:c.extend(a,b)}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(41),c(47),c(167)],e=function(a,b){return c.p=b.loadFrom(),a.selectPlayer}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(42),c(98),c(44)],e=function(a,b,c){var d=a.selectPlayer,e=function(){var a=d.apply(this,arguments);return a?a:{registerPlugin:function(a,c,d){"jwpsrv"!==a&&b.registerPlugin(a,c,d)}}};return c.extend(a,{selectPlayer:e})}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(43),c(44),c(86),c(84),c(80),c(98)],e=function(a,b,c,d,e,f){function g(a){var f=a.getName().name;if(!b.find(e,b.matches({name:f}))){if(!b.isFunction(a.supports))throw{message:"Tried to register a provider with an invalid object"};e.unshift({name:f,supports:a.supports})}var g=function(){};g.prototype=c,a.prototype=new g,d[f]=a}var h=[],i=0,j=function(b){var c,d;return b?"string"==typeof b?(c=k(b),c||(d=document.getElementById(b))):"number"==typeof b?c=h[b]:b.nodeType&&(d=b,c=k(d.id)):c=h[0],c?c:d?l(new a(d,m)):{registerPlugin:f.registerPlugin}},k=function(a){for(var b=0;b<h.length;b++)if(h[b].id===a)return h[b];return null},l=function(a){return i++,a.uniqueId=i,h.push(a),a},m=function(a){for(var b=h.length;b--;)if(h[b].uniqueId===a.uniqueId){h.splice(b,1);break}},n={selectPlayer:j,registerProvider:g,availableProviders:e,registerPlugin:f.registerPlugin};return j.api=n,n}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(45),c(61),c(46),c(47),c(60),c(50),c(44),c(62),c(164),c(165),c(166),c(59)],e=function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){d.addClass(a,"jw-tab-focus")}function n(a){d.removeClass(a,"jw-tab-focus")}var o=function(f,o){var p,q=this,r=!1,s={};g.extend(this,c),this.utils=d,this._=g,this.Events=c,this.version=l,this.trigger=function(a,b){return b=g.isObject(b)?g.extend({},b):{},b.type=a,window.jwplayer&&window.jwplayer.debug?c.trigger.call(q,a,b):c.triggerSafe.call(q,a,b)},this.dispatchEvent=this.trigger,this.removeEventListener=this.off.bind(this);var t=function(){p=new h(f),i(q,p),j(q,p),p.on(a.JWPLAYER_PLAYLIST_ITEM,function(){s={}}),p.on(a.JWPLAYER_MEDIA_META,function(a){g.extend(s,a.metadata)}),p.on(a.JWPLAYER_VIEW_TAB_FOCUS,function(a){a.hasFocus===!0?m(this.getContainer()):n(this.getContainer())}),p.on(a.JWPLAYER_READY,function(a){r=!0,u.tick("ready"),a.setupTime=u.between("setup","ready")}),p.on("all",q.trigger)};t(),k(this),this.id=f.id;var u=this._qoe=new e;u.tick("init");var v=function(){r=!1,s={},q.off(),p&&p.off(),p&&p.playerDestroy&&p.playerDestroy()};return this.getPlugin=function(a){return q.plugins&&q.plugins[a]},this.addPlugin=function(a,b){this.plugins=this.plugins||{},this.plugins[a]=b,this.onReady(b.addToPlayer),b.resize&&this.onResize(b.resizeHandler)},this.setup=function(a){return u.tick("setup"),v(),t(),d.foreach(a.events,function(a,b){var c=q[a];"function"==typeof c&&c.call(q,b)}),a.id=q.id,p.setup(a,this),q},this.qoe=function(){var b=p.getItemQoe(),c=u.between("setup","ready"),d=b.between(a.JWPLAYER_MEDIA_PLAY_ATTEMPT,a.JWPLAYER_MEDIA_FIRST_FRAME);return{setupTime:c,firstFrame:d,player:u.dump(),item:b.dump()}},this.getContainer=function(){return p.getContainer?p.getContainer():f},this.getMeta=this.getItemMeta=function(){return s},this.getPlaylistItem=function(a){if(!d.exists(a))return p._model.get("playlistItem");var b=q.getPlaylist();return b?b[a]:null},this.getRenderingMode=function(){return"html5"},this.load=function(a){var b=this.getPlugin("vast")||this.getPlugin("googima");return b&&b.destroy(),p.load(a),q},this.play=function(a){if(a===!0)return p.play(),q;if(a===!1)return p.pause(),q;switch(a=q.getState()){case b.PLAYING:case b.BUFFERING:p.pause();break;default:p.play()}return q},this.pause=function(a){return g.isBoolean(a)?this.play(!a):this.play()},this.createInstream=function(){return p.createInstream()},this.castToggle=function(){p&&p.castToggle&&p.castToggle()},this.playAd=this.pauseAd=d.noop,this.remove=function(){return o(q),q.trigger("remove"),v(),q},this};return o}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){var a={},b=Array.prototype,c=Object.prototype,d=Function.prototype,e=b.slice,f=b.concat,g=c.toString,h=c.hasOwnProperty,i=b.map,j=b.reduce,k=b.forEach,l=b.filter,m=b.every,n=b.some,o=b.indexOf,p=Array.isArray,q=Object.keys,r=d.bind,s=function(a){return a instanceof s?a:this instanceof s?void 0:new s(a)},t=s.each=s.forEach=function(b,c,d){if(null==b)return b;if(k&&b.forEach===k)b.forEach(c,d);else if(b.length===+b.length){for(var e=0,f=b.length;f>e;e++)if(c.call(d,b[e],e,b)===a)return}else for(var g=s.keys(b),e=0,f=g.length;f>e;e++)if(c.call(d,b[g[e]],g[e],b)===a)return;return b};s.map=s.collect=function(a,b,c){var d=[];return null==a?d:i&&a.map===i?a.map(b,c):(t(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var u="Reduce of empty array with no initial value";s.reduce=s.foldl=s.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),j&&a.reduce===j)return d&&(b=s.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(t(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(u);return c},s.find=s.detect=function(a,b,c){var d;return v(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},s.filter=s.select=function(a,b,c){var d=[];return null==a?d:l&&a.filter===l?a.filter(b,c):(t(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},s.reject=function(a,b,c){return s.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},s.compact=function(a){return s.filter(a,s.identity)},s.every=s.all=function(b,c,d){c||(c=s.identity);var e=!0;return null==b?e:m&&b.every===m?b.every(c,d):(t(b,function(b,f,g){return(e=e&&c.call(d,b,f,g))?void 0:a}),!!e)};var v=s.some=s.any=function(b,c,d){c||(c=s.identity);var e=!1;return null==b?e:n&&b.some===n?b.some(c,d):(t(b,function(b,f,g){return e||(e=c.call(d,b,f,g))?a:void 0}),!!e)};s.size=function(a){return null==a?0:a.length===+a.length?a.length:s.keys(a).length},s.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},s.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}};var w=function(a){return null==a?s.identity:s.isFunction(a)?a:s.property(a)};s.sortedIndex=function(a,b,c,d){c=w(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f};var v=s.some=s.any=function(b,c,d){c||(c=s.identity);var e=!1;return null==b?e:n&&b.some===n?b.some(c,d):(t(b,function(b,f,g){return e||(e=c.call(d,b,f,g))?a:void 0}),!!e)};s.contains=s.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=s.values(a)),s.indexOf(a,b)>=0)},s.where=function(a,b){return s.filter(a,s.matches(b))},s.findWhere=function(a,b){return s.find(a,s.matches(b))},s.max=function(a,b,c){if(!b&&s.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-(1/0),e=-(1/0);return t(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},s.difference=function(a){var c=f.apply(b,e.call(arguments,1));return s.filter(a,function(a){return!s.contains(c,a)})},s.without=function(a){return s.difference(a,e.call(arguments,1))},s.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=s.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(o&&a.indexOf===o)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1};var x=function(){};s.bind=function(a,b){var c,d;if(r&&a.bind===r)return r.apply(a,e.call(arguments,1));if(!s.isFunction(a))throw new TypeError;return c=e.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(e.call(arguments)));x.prototype=a.prototype;var f=new x;x.prototype=null;var g=a.apply(f,c.concat(e.call(arguments)));return Object(g)===g?g:f}},s.partial=function(a){var b=e.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===s&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},s.once=s.partial(s.before,2),s.memoize=function(a,b){var c={};return b||(b=s.identity),function(){var d=b.apply(this,arguments);return s.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},s.delay=function(a,b){var c=e.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},s.defer=function(a){return s.delay.apply(s,[a,1].concat(e.call(arguments,1)))},s.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:s.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=s.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},s.keys=function(a){if(!s.isObject(a))return[];if(q)return q(a);var b=[];for(var c in a)s.has(a,c)&&b.push(c);return b},s.invert=function(a){for(var b={},c=s.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},s.defaults=function(a){return t(e.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},s.extend=function(a){return t(e.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},s.pick=function(a){var c={},d=f.apply(b,e.call(arguments,1));return t(d,function(b){b in a&&(c[b]=a[b])}),c},s.omit=function(a){var c={},d=f.apply(b,e.call(arguments,1));for(var g in a)s.contains(d,g)||(c[g]=a[g]);return c},s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a},s.isArray=p||function(a){return"[object Array]"==g.call(a)},s.isObject=function(a){return a===Object(a)},t(["Arguments","Function","String","Number","Date","RegExp"],function(a){s["is"+a]=function(b){return g.call(b)=="[object "+a+"]"}}),s.isArguments(arguments)||(s.isArguments=function(a){return!(!a||!s.has(a,"callee"))}),s.isFunction=function(a){return"function"==typeof a},s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},s.isNaN=function(a){return s.isNumber(a)&&a!=+a},s.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==g.call(a)},s.isNull=function(a){return null===a},s.isUndefined=function(a){return void 0===a},s.has=function(a,b){return h.call(a,b)},s.identity=function(a){return a},s.constant=function(a){return function(){return a}},s.property=function(a){return function(b){return b[a]}},s.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},s.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},s.now=Date.now||function(){return(new Date).getTime()},s.result=function(a,b){if(null==a)return void 0;var c=a[b];return s.isFunction(c)?c.call(a):c};var y=0;return s.uniqueId=function(a){var b=++y+"";return a?a+b:b},s}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){var a={DRAG:"drag",DRAG_START:"dragStart",DRAG_END:"dragEnd",CLICK:"click",DOUBLE_CLICK:"doubleClick",TAP:"tap",DOUBLE_TAP:"doubleTap",OVER:"over",OUT:"out"},b={COMPLETE:"complete",ERROR:"error",JWPLAYER_AD_CLICK:"adClick",JWPLAYER_AD_COMPANIONS:"adCompanions",JWPLAYER_AD_COMPLETE:"adComplete",JWPLAYER_AD_ERROR:"adError",JWPLAYER_AD_IMPRESSION:"adImpression",JWPLAYER_AD_META:"adMeta",JWPLAYER_AD_PAUSE:"adPause",JWPLAYER_AD_PLAY:"adPlay",JWPLAYER_AD_SKIPPED:"adSkipped",JWPLAYER_AD_TIME:"adTime",JWPLAYER_CAST_AD_CHANGED:"castAdChanged",JWPLAYER_MEDIA_COMPLETE:"complete",JWPLAYER_READY:"ready",JWPLAYER_MEDIA_SEEK:"seek",JWPLAYER_MEDIA_BEFOREPLAY:"beforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"beforeComplete",JWPLAYER_MEDIA_BUFFER_FULL:"bufferFull",JWPLAYER_DISPLAY_CLICK:"displayClick",JWPLAYER_PLAYLIST_COMPLETE:"playlistComplete",JWPLAYER_CAST_SESSION:"cast",JWPLAYER_MEDIA_ERROR:"mediaError",JWPLAYER_MEDIA_FIRST_FRAME:"firstFrame",JWPLAYER_MEDIA_PLAY_ATTEMPT:"playAttempt",JWPLAYER_MEDIA_LOADED:"loaded",JWPLAYER_MEDIA_SEEKED:"seeked",JWPLAYER_SETUP_ERROR:"setupError",JWPLAYER_ERROR:"error",JWPLAYER_PLAYER_STATE:"state",JWPLAYER_CAST_AVAILABLE:"castAvailable",JWPLAYER_MEDIA_BUFFER:"bufferChange",JWPLAYER_MEDIA_TIME:"time",JWPLAYER_MEDIA_TYPE:"mediaType",JWPLAYER_MEDIA_VOLUME:"volume",JWPLAYER_MEDIA_MUTE:"mute",JWPLAYER_MEDIA_META:"meta",JWPLAYER_MEDIA_LEVELS:"levels",JWPLAYER_MEDIA_LEVEL_CHANGED:"levelsChanged",JWPLAYER_CONTROLS:"controls",JWPLAYER_FULLSCREEN:"fullscreen",JWPLAYER_RESIZE:"resize",JWPLAYER_PLAYLIST_ITEM:"playlistItem",JWPLAYER_PLAYLIST_LOADED:"playlist",JWPLAYER_AUDIO_TRACKS:"audioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"audioTrackChanged",JWPLAYER_LOGO_CLICK:"logoClick",JWPLAYER_CAPTIONS_LIST:"captionsList",JWPLAYER_CAPTIONS_CHANGED:"captionsChanged",JWPLAYER_PROVIDER_CHANGED:"providerChanged",JWPLAYER_PROVIDER_FIRST_FRAME:"providerFirstFrame",JWPLAYER_USER_ACTION:"userAction",JWPLAYER_PROVIDER_CLICK:"providerClick",JWPLAYER_VIEW_TAB_FOCUS:"tabFocus",JWPLAYER_CONTROLBAR_DRAGGING:"scrubbing",JWPLAYER_INSTREAM_CLICK:"instreamClick"};return b.touchEvents=a,b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b=[],c=b.slice,d={on:function(a,b,c){if(!f(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c}),this},once:function(b,c,d){if(!f(this,"once",b,[c,d])||!c)return this;var e=this,g=a.once(function(){e.off(b,g),c.apply(this,arguments)});return g._callback=c,this.on(b,g,d)},off:function(b,c,d){var e,g,h,i,j,k,l,m;if(!this._events||!f(this,"off",b,[c,d]))return this;if(!b&&!c&&!d)return this._events=void 0,this;for(i=b?[b]:a.keys(this._events),j=0,k=i.length;k>j;j++)if(b=i[j],h=this._events[b]){if(this._events[b]=e=[],c||d)for(l=0,m=h.length;m>l;l++)g=h[l],(c&&c!==g.callback&&c!==g.callback._callback||d&&d!==g.context)&&e.push(g);e.length||delete this._events[b]}return this},trigger:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!f(this,"trigger",a,b))return this;var d=this._events[a],e=this._events.all;return d&&g(d,b,this),e&&g(e,arguments,this),this},triggerSafe:function(a){if(!this._events)return this;var b=c.call(arguments,1);if(!f(this,"trigger",a,b))return this;var d=this._events[a],e=this._events.all;return d&&h(d,b,this),e&&h(e,arguments,this),this}},e=/\s+/,f=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(e.test(c)){for(var g=c.split(e),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},g=function(a,b,c){var d,e=-1,f=a.length,g=b[0],h=b[1],i=b[2];switch(b.length){case 0:for(;++e<f;)(d=a[e]).callback.call(d.context||c);return;case 1:for(;++e<f;)(d=a[e]).callback.call(d.context||c,g);return;case 2:for(;++e<f;)(d=a[e]).callback.call(d.context||c,g,h);return;case 3:for(;++e<f;)(d=a[e]).callback.call(d.context||c,g,h,i);return;default:for(;++e<f;)(d=a[e]).callback.apply(d.context||c,b);return}},h=function(a,b,c){for(var d,e=-1,f=a.length;++e<f;)try{(d=a[e]).callback.apply(d.context||c,b)}catch(g){}};return d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51),c(44),c(52),c(53),c(55),c(48),c(56),c(49),c(57),c(50)],e=function(a,b,c,d,e,f,g,h,i,j){var k={};return k.log=function(){window.console&&("object"==typeof console.log?console.log(Array.prototype.slice.call(arguments,0)):console.log.apply(console,arguments))},k.between=function(a,b,c){return Math.max(Math.min(a,c),b)},k.foreach=function(a,b){var c,d;for(c in a)"function"===k.typeOf(a.hasOwnProperty)?a.hasOwnProperty(c)&&(d=a[c],b(c,d)):(d=a[c],b(c,d))},k.indexOf=b.indexOf,k.noop=function(){},k.seconds=a.seconds,k.prefix=a.prefix,k.suffix=a.suffix,b.extend(k,f,h,c,g,d,e,i,j),k}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(49),c(50)],e=function(a,b,c){function d(a){return/^(?:(?:https?|file)\:)?\/\//.test(a)}function e(b){return a.some(b,function(a){return"parsererror"===a.nodeName})}var f={};return f.getAbsolutePath=function(a,c){if(b.exists(c)||(c=document.location.href),b.exists(a)){if(d(a))return a;var e,f=c.substring(0,c.indexOf("://")+3),g=c.substring(f.length,c.indexOf("/",f.length+1));if(0===a.indexOf("/"))e=a.split("/");else{var h=c.split("?")[0];h=h.substring(f.length+g.length+1,h.lastIndexOf("/")),e=h.split("/").concat(a.split("/"))}for(var i=[],j=0;j<e.length;j++)e[j]&&b.exists(e[j])&&"."!==e[j]&&(".."===e[j]?i.pop():i.push(e[j]));return f+g+"/"+i.join("/")}},f.getScriptPath=a.memoize(function(a){for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++){var d=b[c].src;if(d&&d.indexOf(a)>=0)return d.substr(0,d.indexOf(a))}return""}),f.parseXML=function(a){var b=null;return c.tryCatch(function(){window.DOMParser?(b=(new window.DOMParser).parseFromString(a,"text/xml"),(e(b.childNodes)||b.childNodes&&e(b.childNodes[0].childNodes))&&(b=null)):(b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}),b},f.serialize=function(a){if(void 0===a)return null;if("string"==typeof a&&a.length<6){var b=a.toLowerCase();if("true"===b)return!0;if("false"===b)return!1;if(!isNaN(Number(a))&&!isNaN(parseFloat(a)))return Number(a)}return a},f.parseDimension=function(a){return"string"==typeof a?""===a?0:a.lastIndexOf("%")>-1?a:parseInt(a.replace("px",""),10):a},f.timeFormat=function(a,b){if(0>=a&&!b)return"00:00";var c=0>a?"-":"";a=Math.abs(a);var d=Math.floor(a/3600),e=Math.floor((a-3600*d)/60),f=Math.floor(a%60);return c+(d?d+":":"")+(10>e?"0":"")+e+":"+(10>f?"0":"")+f},f.adaptiveType=function(a){if(-1!==a){var b=-120;if(b>=a)return"DVR";if(0>a||a===1/0)return"LIVE"}return"VOD"},f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b={};return b.exists=function(a){switch(typeof a){case"string":return a.length>0;case"object":return null!==a;case"undefined":return!1}return!0},b.isHTTPS=function(){return 0===window.location.href.indexOf("https")},b.isRtmp=function(a,b){return 0===a.indexOf("rtmp")||"rtmp"===b},b.isYouTube=function(a,b){return"youtube"===b||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)},b.youTubeID=function(a){var b=/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a);return b?b.slice(1).join("").replace("?",""):""},b.typeOf=function(b){if(null===b)return"null";var c=typeof b;return"object"===c&&a.isArray(b)?"array":c},b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){var a=function(a,c,d){if(c=c||this,d=d||[],window.jwplayer&&window.jwplayer.debug)return a.apply(c,d);try{return a.apply(c,d)}catch(e){return new b(a.name,e)}},b=function(a,b){this.name=a,this.message=b.message||b.toString(),this.error=b};return{tryCatch:a,Error:b}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){function b(a){return a.indexOf("(format=m3u8-")>-1?"m3u8":!1}var c=function(a){return a.replace(/^\s+|\s+$/g,"")},d=function(a,b,c){for(a=""+a,c=c||"0";a.length<b;)a=c+a;return a},e=function(a,b){for(var c=0;c<a.attributes.length;c++)if(a.attributes[c].name&&a.attributes[c].name.toLowerCase()===b.toLowerCase())return a.attributes[c].value.toString();return""},f=function(a){if(!a||"rtmp"===a.substr(0,4))return"";var c=b(a);return c?c:(a=a.substring(a.lastIndexOf("/")+1,a.length).split("?")[0].split("#")[0],a.lastIndexOf(".")>-1?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0)},g=function(a){var b=parseInt(a/3600),c=parseInt(a/60)%60,e=a%60;return d(b,2)+":"+d(c,2)+":"+d(e.toFixed(3),6)},h=function(b){if(a.isNumber(b))return b;b=b.replace(",",".");var c=b.split(":"),d=0;return"s"===b.slice(-1)?d=parseFloat(b):"m"===b.slice(-1)?d=60*parseFloat(b):"h"===b.slice(-1)?d=3600*parseFloat(b):c.length>1?(d=parseFloat(c[c.length-1]),d+=60*parseFloat(c[c.length-2]),3===c.length&&(d+=3600*parseFloat(c[c.length-3]))):d=parseFloat(b),d},i=function(b,c){return a.map(b,function(a){return c+a})},j=function(b,c){return a.map(b,function(a){return a+c})};return{trim:c,pad:d,xmlAttribute:e,extension:f,hms:g,seconds:h,suffix:j,prefix:i}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){function b(a){return function(){return d(a)}}var c={},d=a.memoize(function(a){var b=navigator.userAgent.toLowerCase();return null!==b.match(a)}),e=c.isInt=function(a){return parseFloat(a)%1===0};c.isFlashSupported=function(){var a=c.flashVersion();return a&&a>=11.2},c.isFF=b(/firefox/i),c.isIPod=b(/iP(hone|od)/i),c.isIPad=b(/iPad/i),c.isSafari602=b(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),c.isOSX=b(/Mac OS X/i),c.isEdge=b(/\sedge\/\d+/i);var f=c.isIETrident=function(a){return c.isEdge()?!0:a?(a=parseFloat(a).toFixed(1),d(new RegExp("trident/.+rv:\\s*"+a,"i"))):d(/trident/i)},g=c.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),d(new RegExp("msie\\s*"+a,"i"))):d(/msie/i)},h=b(/chrome/i);c.isChrome=function(){return h()&&!c.isEdge()},c.isIE=function(a){return a?(a=parseFloat(a).toFixed(1),a>=11?f(a):g(a)):g()||f()},c.isSafari=function(){return d(/safari/i)&&!d(/chrome/i)&&!d(/chromium/i)&&!d(/android/i)};var i=c.isIOS=function(a){return d(a?new RegExp("iP(hone|ad|od).+\\sOS\\s"+a,"i"):/iP(hone|ad|od)/i)};c.isAndroidNative=function(a){return j(a,!0)};var j=c.isAndroid=function(a,b){return b&&d(/chrome\/[123456789]/i)&&!d(/chrome\/18/)?!1:a?(e(a)&&!/\./.test(a)&&(a=""+a+"."),d(new RegExp("Android\\s*"+a,"i"))):d(/Android/i)};return c.isMobile=function(){return i()||j()},c.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},c.flashVersion=function(){if(c.isAndroid())return 0;var a,b=navigator.plugins;if(b&&(a=b["Shockwave Flash"],a&&a.description))return parseFloat(a.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if("undefined"!=typeof window.ActiveXObject){try{if(a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(a.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(d){return 0}return a}return 0},c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51),c(44),c(54)],e=function(a,b,c){var d={};return d.createElement=function(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild},d.styleDimension=function(a){return a+(a.toString().indexOf("%")>0?"":"px")},d.classList=function(a){return a.classList?a.classList:a.className.split(" ")},d.hasClass=c.hasClass,d.addClass=function(c,d){var e=b.isString(c.className)?c.className.split(" "):[],f=b.isArray(d)?d:d.split(" ");b.each(f,function(a){b.contains(e,a)||e.push(a)}),c.className=a.trim(e.join(" "))},d.removeClass=function(c,d){var e=b.isString(c.className)?c.className.split(" "):[],f=b.isArray(d)?d:d.split(" ");c.className=a.trim(b.difference(e,f).join(" "))},d.toggleClass=function(a,c,e){var f=d.hasClass(a,c);e=b.isBoolean(e)?e:!f,e!==f&&(e?d.addClass(a,c):d.removeClass(a,c))},d.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},d.addStyleSheet=function(a){var b=document.createElement("link");b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)},d.empty=function(a){if(a)for(;a.childElementCount>0;)a.removeChild(a.children[0])},d.bounds=function(a){var b={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!a||!document.body.contains(a))return b;if(a.getBoundingClientRect){var c=a.getBoundingClientRect(a),d=window.pageYOffset,e=window.pageXOffset;if(!(c.width||c.height||c.left||c.top))return b;b.left=c.left+e,b.right=c.right+e,b.top=c.top+d,b.bottom=c.bottom+d,b.width=c.right-c.left,b.height=c.bottom-c.top}else{b.width=0|a.offsetWidth,b.height=0|a.offsetHeight;do b.left+=0|a.offsetLeft,b.top+=0|a.offsetTop;while(a=a.offsetParent);b.right=b.left+b.width,b.bottom=b.top+b.height}return b},d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return{hasClass:function(a,b){var c=" "+b+" ";return 1===a.nodeType&&(" "+a.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(c)>=0}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51)],e=function(a){function b(a){a=a.split("-");for(var b=1;b<a.length;b++)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join("")}function c(b,c,d){if(""===c||void 0===c||null===c)return"";var e=d?" !important":"";return"string"==typeof c&&isNaN(c)?/png|gif|jpe?g/i.test(c)&&c.indexOf("url")<0?"url("+c+")":c+e:0===c||"z-index"===b||"opacity"===b?""+c+e:/color/i.test(b)?"#"+a.pad(c.toString(16).replace(/^0x/i,""),6)+e:Math.ceil(c)+"px"+e}var d,e={},f=function(a,b){d||(d=document.createElement("style"),d.type="text/css",document.getElementsByTagName("head")[0].appendChild(d));var c=a+JSON.stringify(b).replace(/"/g,""),f=document.createTextNode(c);e[a]&&d.removeChild(e[a]),e[a]=f,d.appendChild(f)},g=function(a,d){if(void 0!==a&&null!==a){void 0===a.length&&(a=[a]);var e,f={};for(e in d)f[e]=c(e,d[e]);for(var g=0;g<a.length;g++){var h,i=a[g];if(void 0!==i&&null!==i)for(e in f)h=b(e),i.style[h]!==f[e]&&(i.style[h]=f[e])}}},h=function(a){for(var b in e)b.indexOf(a)>=0&&(d.removeChild(e[b]),delete e[b])},i=function(a,b){var c="transform",d={};b=b||"",d[c]=b,d["-webkit-"+c]=b,d["-ms-"+c]=b,d["-moz-"+c]=b,d["-o-"+c]=b,g(a,d)},j=function(a,b){var c="rgb";a?(a=String(a).replace("#",""),3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2])):a="000000";var d=[parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16)];return void 0!==b&&100!==b&&(c+="a",d.push(b/100)),c+"("+d.join(",")+")"};return{css:f,style:g,clearCss:h,transform:i,hexToRgba:j}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(49),c(48),c(50)],e=function(a,b,c,d){function e(a){return a&&a.indexOf("://")>=0&&a.split("/")[2]!==window.location.href.split("/")[2]}function f(a,b,c){return function(){a("Error loading file",b,c)}}function g(a,b,c,d,e){return function(){if(4===a.readyState)switch(a.status){case 200:h(a,b,c,d,e)();break;case 404:d("File not found",b,a)}}}function h(b,d,e,f,g){return function(){var h,i;if(g)e(b);else{try{if(h=b.responseXML,h&&(i=h.firstChild,h.lastChild&&"parsererror"===h.lastChild.nodeName))return void(f&&f("Invalid XML",d,b))}catch(j){}if(h&&i)return e(b);var k=c.parseXML(b.responseText);if(!k||!k.firstChild)return void(f&&f(b.responseText?"Invalid XML":d,d,b));b=a.extend({},b,{responseXML:k}),e(b)}}}var i={};return i.ajax=function(a,c,i,j){var k,l=!1;if(a.indexOf("#")>0&&(a=a.replace(/#.*$/,"")),e(a)&&b.exists(window.XDomainRequest))k=new window.XDomainRequest,k.onload=h(k,a,c,i,j),k.ontimeout=k.onprogress=function(){},k.timeout=5e3;else{if(!b.exists(window.XMLHttpRequest))return i&&i("",a,k),k;k=new window.XMLHttpRequest,k.onreadystatechange=g(k,a,c,i,j)}k.overrideMimeType&&k.overrideMimeType("text/xml"),k.onerror=f(i,a,k);var m=d.tryCatch(function(){k.open("GET",a,!0)});return m instanceof d.Error&&(l=!0),setTimeout(function(){if(l)return void(i&&i(a,a,k));var b=d.tryCatch(function(){k.send()});b instanceof d.Error&&i&&i(a,a,k)},0),k},i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(58),c(44),c(49),c(48),c(59)],e=function(a,b,c,d,e){var f={};return f.repo=b.memoize(function(){var b=e.split("+")[0],d=a.repo+b+"/";return c.isHTTPS()?d.replace(/^http:/,"https:"):d}),f.versionCheck=function(a){var b=("0"+a).split(/\W/),c=e.split(/\W/),d=parseFloat(b[0]),f=parseFloat(c[0]);return d>f?!1:d===f&&parseFloat("0"+b[1])>parseFloat(c[1])?!1:!0},f.loadFrom=function(){return f.repo()},f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return{repo:"http://ssl.p.jwpcdn.com/player/v/",SkinsIncluded:["seven"],SkinsLoadable:["beelden","bekle","five","glow","roundster","six","stormtrooper","vapor"]}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return"7.2.4+commercial_v7-2-4.70.commercial.89ee8a.jwplayer.e0580e.analytics.c225de.vast.49cb89.googima.97a01c.plugin-sharing.ab95e2.plugin-related.b67145.plugin-gapro.0374cd"}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b=function(){var b={},c={},d={},e={};return{start:function(c){b[c]=a.now(),d[c]=d[c]+1||1},end:function(d){if(b[d]){var e=a.now()-b[d];c[d]=c[d]+e||e}},dump:function(){return{counts:d,sums:c,events:e}},tick:function(b,c){e[b]=c||a.now()},between:function(a,b){return e[b]&&e[a]?e[b]-e[a]:-1}}};return b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return{BUFFERING:"buffering",IDLE:"idle",COMPLETE:"complete",PAUSED:"paused",PLAYING:"playing",ERROR:"error",LOADING:"loading",STALLED:"stalled"}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(63),c(81)],e=function(a,b){var d=a.prototype.setup;return a.prototype.setup=function(){d.apply(this,arguments);var a=this._model.get("edition"),e=b(a),f=this._model.get("cast"),g=this;e("casting")&&f&&f.appid&&c.e(6,function(a){var b=c(158);g._castController=new b(g,g._model),g.castToggle=g._castController.castToggle.bind(g._castController)})},a}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(72),c(115),c(74),c(44),c(93),c(111),c(77),c(114),c(64),c(47),c(116),c(46),c(76),c(61),c(45),c(156)],e=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){return function(){var b=Array.prototype.slice.call(arguments,0);this.eventsQueue.push([a,b])}}function r(a){return a===n.LOADING||a===n.STALLED?n.BUFFERING:a}var s=function(a){this.originalContainer=this.currentContainer=a,this.eventsQueue=[],d.extend(this,l),this._model=new g};return s.prototype={play:q("play"),pause:q("pause"),setVolume:q("setVolume"),setMute:q("setMute"),seek:q("seek"),stop:q("stop"),load:q("load"),playlistNext:q("playlistNext"),playlistPrev:q("playlistPrev"),playlistItem:q("playlistItem"),setFullscreen:q("setFullscreen"),setCurrentCaptions:q("setCurrentCaptions"),setCurrentQuality:q("setCurrentQuality"),setup:function(g,l){function p(){V.mediaModel.on("change:state",function(a,b){var c=r(b);V.set("state",c)})}function q(){Y=null,D(V.get("item")),V.on("change:state",m,this),V.on("change:castState",function(a,b){ba.trigger(o.JWPLAYER_CAST_SESSION,b)}),V.on("change:fullscreen",function(a,b){ba.trigger(o.JWPLAYER_FULLSCREEN,{fullscreen:b})}),V.on("itemReady",function(){ba.trigger(o.JWPLAYER_PLAYLIST_ITEM,{index:V.get("item"),item:V.get("playlistItem")})}),V.on("change:playlist",function(a,b){b.length&&ba.trigger(o.JWPLAYER_PLAYLIST_LOADED,{playlist:b})}),V.on("change:volume",function(a,b){ba.trigger(o.JWPLAYER_MEDIA_VOLUME,{volume:b})}),V.on("change:mute",function(a,b){ba.trigger(o.JWPLAYER_MEDIA_MUTE,{mute:b})}),V.on("change:controls",function(a,b){ba.trigger(o.JWPLAYER_CONTROLS,{controls:b})}),V.on("change:scrubbing",function(a,b){b?y():w()}),V.on("change:captionsList",function(a,b){ba.trigger(o.JWPLAYER_CAPTIONS_LIST,{tracks:b,track:Q()})}),V.mediaController.on("all",ba.trigger.bind(ba)),W.on("all",ba.trigger.bind(ba)),this.showView(W.element()),window.addEventListener("beforeunload",function(){T()||x(!0)}),d.defer(s)}function s(){for(ba.trigger(o.JWPLAYER_READY,{setupTime:0}),ba.trigger(o.JWPLAYER_PLAYLIST_LOADED,{
playlist:V.get("playlist")}),ba.trigger(o.JWPLAYER_PLAYLIST_ITEM,{index:V.get("item"),item:V.get("playlistItem")}),ba.trigger(o.JWPLAYER_CAPTIONS_LIST,{tracks:V.get("captionsList"),track:V.get("captionsIndex")}),V.get("autostart")&&w();ba.eventsQueue.length>0;){var a=ba.eventsQueue.shift(),b=a[0],c=a[1]||[];ba[b].apply(ba,c)}}function t(a){switch(V.get("state")===n.ERROR&&V.set("state",n.IDLE),x(!0),V.get("autostart")&&V.once("itemReady",w),typeof a){case"string":u(a);break;case"object":var b=C(a);b&&D(0);break;case"number":D(a)}}function u(a){var b=new i;b.on(o.JWPLAYER_PLAYLIST_LOADED,function(a){t(a.playlist)}),b.on(o.JWPLAYER_ERROR,function(a){a.message="Error loading playlist: "+a.message,this.triggerError(a)},this),b.load(a)}function v(){var a=ba._instreamAdapter&&ba._instreamAdapter.getState();return d.isString(a)?a:V.get("state")}function w(){var a;if(V.get("state")!==n.ERROR){var b=ba._instreamAdapter&&ba._instreamAdapter.getState();if(d.isString(b))return l.pauseAd(!1);if(V.get("state")===n.COMPLETE&&(x(!0),D(0)),!_&&(_=!0,ba.trigger(o.JWPLAYER_MEDIA_BEFOREPLAY,{}),_=!1,$))return $=!1,void(Z=null);if(z()){if(0===V.get("playlist").length)return!1;a=j.tryCatch(function(){V.loadVideo()})}else V.get("state")===n.PAUSED&&(a=j.tryCatch(function(){V.playVideo()}));return a instanceof j.Error?(ba.triggerError(a),Z=null,!1):!0}}function x(a){V.off("itemReady",w);var b=!a;Z=null;var c=j.tryCatch(function(){V.stopVideo()},ba);return c instanceof j.Error?(ba.triggerError(c),!1):(b&&(aa=!0),_&&($=!0),!0)}function y(){Z=null;var a=ba._instreamAdapter&&ba._instreamAdapter.getState();if(d.isString(a))return l.pauseAd(!0);switch(V.get("state")){case n.ERROR:return!1;case n.PLAYING:case n.BUFFERING:var b=j.tryCatch(function(){ca().pause()},this);if(b instanceof j.Error)return ba.triggerError(b),!1;break;default:_&&($=!0)}return!0}function z(){var a=V.get("state");return a===n.IDLE||a===n.COMPLETE||a===n.ERROR}function A(a){V.get("state")!==n.ERROR&&(V.get("scrubbing")||V.get("state")===n.PLAYING||w(!0),ca().seek(a))}function B(a){x(!0),D(a),w()}function C(a){var b=h(a);return b=h.filterPlaylist(b,V.getProviders(),V.get("androidhls"),V.get("drm"),V.get("preload")),V.set("playlist",b),d.isArray(b)&&0!==b.length?!0:(ba.triggerError({message:"Error loading playlist: No playable sources found"}),!1)}function D(a){var b=V.get("playlist");a=(a+b.length)%b.length,V.set("item",a),V.set("playlistItem",b[a]),V.setActiveItem(b[a])}function E(){B(V.get("item")-1)}function F(){B(V.get("item")+1)}function G(){if(z()){if(aa)return void(aa=!1);Z=G;var a=V.get("item");return a===V.get("playlist").length-1?void(V.get("repeat")?F():(V.set("state",n.COMPLETE),ba.trigger(o.JWPLAYER_PLAYLIST_COMPLETE,{}))):void F()}}function H(a){ca().setCurrentQuality(a)}function I(){return ca()?ca().getCurrentQuality():-1}function J(){return this._model?this._model.getConfiguration():void 0}function K(){if(this._model.mediaModel)return this._model.mediaModel.get("visualQuality");var a=L();if(a){var b=I(),c=a[b];if(c)return{level:d.extend({index:b},c),mode:"",reason:""}}return null}function L(){return ca()?ca().getQualityLevels():null}function M(a){ca().setCurrentAudioTrack(a)}function N(){return ca()?ca().getCurrentAudioTrack():-1}function O(){return ca()?ca().getAudioTracks():null}function P(a){V.setVideoSubtitleTrack(a),ba.trigger(o.JWPLAYER_CAPTIONS_CHANGED,{tracks:R(),track:a})}function Q(){return X.getCurrentIndex()}function R(){return X.getCaptionsList()}function S(){var a=V.getVideo();if(a){var b=a.detachMedia();if(b instanceof HTMLVideoElement)return b}return null}function T(){var a=V.getVideo();return a?a.isCaster:!1}function U(a){var b=j.tryCatch(function(){V.getVideo().attachMedia(a)});return b instanceof j.Error?void j.log("Error calling _attachMedia",b):void("function"==typeof Z&&Z())}var V,W,X,Y,Z,$,_=!1,aa=!1,ba=this,ca=function(){return V.getVideo()},da=new a(g);V=this._model.setup(da),W=this._view=new k(l,V),X=new f(l,V),Y=new e(l,V,W,C),Y.on(o.JWPLAYER_READY,q,this),Y.on(o.JWPLAYER_SETUP_ERROR,this.setupError,this),V.mediaController.on(o.JWPLAYER_MEDIA_COMPLETE,function(){d.defer(G)}),V.mediaController.on(o.JWPLAYER_MEDIA_ERROR,this.triggerError,this),V.on("change:flashBlocked",function(a,b){if(!b)return void this._model.set("errorEvent",void 0);var c=!!a.get("flashThrottle"),d={message:c?"Click to run Flash":"Flash plugin failed to load"};c||this.trigger(o.JWPLAYER_ERROR,d),this._model.set("errorEvent",d)},this),p(),V.on("change:mediaModel",p),this.play=w,this.pause=y,this.seek=A,this.stop=x,this.load=t,this.playlistNext=F,this.playlistPrev=E,this.playlistItem=B,this.setCurrentCaptions=P,this.setCurrentQuality=H,this.detachMedia=S,this.attachMedia=U,this.getCurrentQuality=I,this.getQualityLevels=L,this.setCurrentAudioTrack=M,this.getCurrentAudioTrack=N,this.getAudioTracks=O,this.getCurrentCaptions=Q,this.getCaptionsList=R,this.getVisualQuality=K,this.getConfig=J,this.getState=v,this.setVolume=V.setVolume,this.setMute=V.setMute,this.getProvider=function(){return V.get("provider")},this.getWidth=function(){return V.get("containerWidth")},this.getHeight=function(){return V.get("containerHeight")},this.getContainer=function(){return this.currentContainer},this.resize=W.resize,this.getSafeRegion=W.getSafeRegion,this.setCues=W.addCues,this.setFullscreen=function(a){d.isBoolean(a)||(a=!V.get("fullscreen")),V.set("fullscreen",a),this._instreamAdapter&&this._instreamAdapter._adModel&&this._instreamAdapter._adModel.set("fullscreen",a)},this.addButton=function(a,b,c,e,f){var g={img:a,tooltip:b,callback:c,id:e,btnClass:f},h=V.get("dock");h=h?h.slice(0):[],h=d.reject(h,d.matches({id:g.id})),h.push(g),V.set("dock",h)},this.removeButton=function(a){var b=V.get("dock")||[];b=d.reject(b,d.matches({id:a})),V.set("dock",b)},this.checkBeforePlay=function(){return _},this.getItemQoe=function(){return V._qoeItem},this.setControls=function(a){d.isBoolean(a)||(a=!V.get("controls")),V.set("controls",a);var b=V.getVideo();b&&b.setControls(a)},this.playerDestroy=function(){this.stop(),this.showView(this.originalContainer),W&&W.destroy(),V&&V.destroy(),Y&&(Y.destroy(),Y=null)},this.isBeforePlay=this.checkBeforePlay,this.isBeforeComplete=function(){return V.getVideo().checkComplete()},this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new c(this,V,W),this._instreamAdapter},this.skipAd=function(){this._instreamAdapter&&this._instreamAdapter.skipAd()},this.instreamDestroy=function(){ba._instreamAdapter&&ba._instreamAdapter.destroy()},b(l,this),Y.start()},showView:function(a){(document.documentElement.contains(this.currentContainer)||(this.currentContainer=document.getElementById(this._model.get("id")),this.currentContainer))&&(this.currentContainer.parentElement&&this.currentContainer.parentElement.replaceChild(a,this.currentContainer),this.currentContainer=a)},triggerError:function(a){this._model.set("errorEvent",a),this._model.set("state",n.ERROR),this._model.once("change:state",function(){this._model.set("errorEvent",void 0)},this),this.trigger(o.JWPLAYER_ERROR,a)},setupError:function(a){var b=a.message,c=j.createElement(p(this._model.get("id"),this._model.get("skin"),b)),e=this._model.get("width"),f=this._model.get("height");j.style(c,{width:e.toString().indexOf("%")>0?e:e+"px",height:f.toString().indexOf("%")>0?f:f+"px"}),this.showView(c);var g=this;d.defer(function(){g.trigger(o.JWPLAYER_SETUP_ERROR,{message:b})})}},s}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(65),c(66),c(47),c(45),c(46),c(44)],e=function(a,b,c,d,e,f){var g=function(){function g(e){var f=c.tryCatch(function(){for(var c=e.responseXML.childNodes,f="",g=0;g<c.length&&(f=c[g],8===f.nodeType);g++);if("xml"===a.localName(f)&&(f=f.nextSibling),"rss"!==a.localName(f))return void i("Not a valid RSS feed");var h=b.parse(f);k.trigger(d.JWPLAYER_PLAYLIST_LOADED,{playlist:h})});f instanceof c.Error&&i()}function h(a){i(a.match(/invalid/i)?"Not a valid RSS feed":"")}function i(a){k.trigger(d.JWPLAYER_ERROR,{message:a?a:"Error loading file"})}var j,k=f.extend(this,e);this.load=function(a){j=c.ajax(a,g,h)},this.destroy=function(){this.off(),j=null}};return g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51)],e=function(a){return{localName:function(a){return a?a.localName?a.localName:a.baseName?a.baseName:"":""},textContent:function(b){return b?b.textContent?a.trim(b.textContent):b.text?a.trim(b.text):"":""},getChildNode:function(a,b){return a.childNodes[b]},numChildren:function(a){return a.childNodes?a.childNodes.length:0}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51),c(65),c(67),c(68),c(69)],e=function(a,b,c,d,e){function f(b){for(var f={},h=0;h<b.childNodes.length;h++){var i=b.childNodes[h],k=j(i);if(k)switch(k.toLowerCase()){case"enclosure":f.file=a.xmlAttribute(i,"url");break;case"title":f.title=g(i);break;case"guid":f.mediaid=g(i);break;case"pubdate":f.date=g(i);break;case"description":f.description=g(i);break;case"link":f.link=g(i);break;case"category":f.tags?f.tags+=g(i):f.tags=g(i)}}return f=d(b,f),f=c(b,f),new e(f)}var g=b.textContent,h=b.getChildNode,i=b.numChildren,j=b.localName,k={};return k.parse=function(a){for(var b=[],c=0;c<i(a);c++){var d=h(a,c),e=j(d).toLowerCase();if("channel"===e)for(var g=0;g<i(d);g++){var k=h(d,g);"item"===j(k).toLowerCase()&&b.push(f(k))}}return b},k}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(65),c(51),c(47)],e=function(a,b,c){var d="jwplayer",e=function(e,f){for(var g=[],h=[],i=b.xmlAttribute,j="default",k="label",l="file",m="type",n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(o.prefix===d){var p=a.localName(o);"source"===p?(delete f.sources,g.push({file:i(o,l),"default":i(o,j),label:i(o,k),type:i(o,m)})):"track"===p?(delete f.tracks,h.push({file:i(o,l),"default":i(o,j),kind:i(o,"kind"),label:i(o,k)})):(f[p]=c.serialize(a.textContent(o)),"file"===p&&f.sources&&delete f.sources)}f[l]||(f[l]=f.link)}if(g.length)for(f.sources=[],n=0;n<g.length;n++)g[n].file.length>0&&(g[n][j]="true"===g[n][j]?!0:!1,g[n].label.length||delete g[n].label,f.sources.push(g[n]));if(h.length)for(f.tracks=[],n=0;n<h.length;n++)h[n].file.length>0&&(h[n][j]="true"===h[n][j]?!0:!1,h[n].kind=h[n].kind.length?h[n].kind:"captions",h[n].label.length||delete h[n].label,f.tracks.push(h[n]));return f};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(65),c(51),c(47)],e=function(a,b,c){var d=b.xmlAttribute,e=a.localName,f=a.textContent,g=a.numChildren,h="media",i=function(a,b){function j(a){var b={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return b[a]?b[a]:a}var k,l,m="tracks",n=[];for(l=0;l<g(a);l++)if(k=a.childNodes[l],k.prefix===h){if(!e(k))continue;switch(e(k).toLowerCase()){case"content":d(k,"duration")&&(b.duration=c.seconds(d(k,"duration"))),g(k)>0&&(b=i(k,b)),d(k,"url")&&(b.sources||(b.sources=[]),b.sources.push({file:d(k,"url"),type:d(k,"type"),width:d(k,"width"),label:d(k,"label")}));break;case"title":b.title=f(k);break;case"description":b.description=f(k);break;case"guid":b.mediaid=f(k);break;case"thumbnail":b.image||(b.image=d(k,"url"));break;case"player":break;case"group":i(k,b);break;case"subtitle":var o={};o.file=d(k,"url"),o.kind="captions",d(k,"lang").length>0&&(o.label=j(d(k,"lang"))),n.push(o)}}for(b.hasOwnProperty(m)||(b[m]=[]),l=0;l<n.length;l++)b[m].push(n[l]);return b};return i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(70),c(71)],e=function(a,b,c){var d={sources:[],tracks:[]},e=function(e){e=e||{},a.isArray(e.tracks)||delete e.tracks;var f=a.extend({},d,e);a.isObject(f.sources)&&!a.isArray(f.sources)&&(f.sources=[b(f.sources)]),a.isArray(f.sources)&&0!==f.sources.length||(e.levels?f.sources=e.levels:f.sources=[b(e)]);for(var g=0;g<f.sources.length;g++){var h=f.sources[g];if(h){var i=h["default"];i?h["default"]="true"===i.toString():h["default"]=!1,f.sources[g].label||(f.sources[g].label=g.toString()),f.sources[g]=b(f.sources[g])}}return f.sources=a.compact(f.sources),a.isArray(f.tracks)||(f.tracks=[]),a.isArray(f.captions)&&(f.tracks=f.tracks.concat(f.captions),delete f.captions),f.tracks=a.compact(a.map(f.tracks,c)),f};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(51),c(44)],e=function(a,b,c){var d={"default":!1},e=function(e){if(e&&e.file){var f=c.extend({},d,e);f.file=b.trim(""+f.file);var g=/^[^\/]+\/(?:x-)?([^\/]+)$/;if(g.test(f.type)&&(f.type=f.type.replace(g,"$1")),!f.type)if(a.isYouTube(f.file))f.type="youtube";else if(a.isRtmp(f.file))f.type="rtmp";else{var h=b.extension(f.file);f.type=h}if(f.type)return"m3u8"===f.type&&(f.type="hls"),"smil"===f.type&&(f.type="rtmp"),"m4a"===f.type&&(f.type="aac"),c.each(f,function(a,b){""===a&&delete f[b]}),f}};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b={kind:"captions","default":!1},c=function(c){return c&&c.file?a.extend({},b,c):void 0};return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(73),c(44)],e=function(a,b,d){function e(b){d.each(b,function(c,d){b[d]=a.serialize(c)})}function f(a){return a.slice&&"px"===a.slice(-2)&&(a=a.slice(0,-2)),a}function g(b,c){if(-1===c.toString().indexOf("%"))return 0;if("string"!=typeof b||!a.exists(b))return 0;var d=b.indexOf(":");if(-1===d)return 0;var e=parseFloat(b.substr(0,d)),f=parseFloat(b.substr(d+1));return 0>=e||0>=f?0:f/e*100+"%"}var h={autostart:!1,controls:!0,displaytitle:!0,displaydescription:!0,mobilecontrols:!1,repeat:!1,castAvailable:!1,skin:"seven",stretching:b.UNIFORM,mute:!1,volume:90,width:480,height:270},i=function(b){var i=d.extend({},(window.jwplayer||{}).defaults,b);e(i);var j=d.extend({},h,i);if("."===j.base&&(j.base=a.getScriptPath("jwplayer.js")),j.base=(j.base||a.loadFrom()).replace(/\/?$/,"/"),c.p=j.base,j.width=f(j.width),j.height=f(j.height),j.flashplayer=j.flashplayer||a.getScriptPath("jwplayer.js")+"jwplayer.flash.swf","http:"===window.location.protocol&&(j.flashplayer=j.flashplayer.replace("https","http")),j.aspectratio=g(j.aspectratio,j.width),d.isObject(j.skin)&&(j.skinUrl=j.skin.url,j.skinColorInactive=j.skin.inactive,j.skinColorActive=j.skin.active,j.skinColorBackground=j.skin.background,j.skin=d.isString(j.skin.name)?j.skin.name:h.skin),d.isString(j.skin)&&j.skin.indexOf(".xml")>0&&(console.log("JW Player does not support XML skins, please update your config"),j.skin=j.skin.replace(".xml","")),j.aspectratio||delete j.aspectratio,!j.playlist){var k=d.pick(j,["title","description","type","mediaid","image","file","sources","tracks","preload"]);j.playlist=[k]}return j};return i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(47),c(55)],e=function(a,b,c){var d={NONE:"none",FILL:"fill",UNIFORM:"uniform",EXACTFIT:"exactfit"},e=function(a,b,d,e,f){var g="";b=b||1,d=d||1,e=0|e,f=0|f,(1!==b||1!==d)&&(g="scale("+b+", "+d+")"),(e||f)&&(g&&(g+=" "),g+="translate("+e+"px, "+f+"px)"),c.transform(a,g)},f=e,g=function(e,g,h,i,j,k){if(!g)return!1;if(!(h&&i&&j&&k))return!1;e=e||d.UNIFORM;var l=2*Math.ceil(h/2)/j,m=2*Math.ceil(i/2)/k,n="video"===g.tagName.toLowerCase(),o=!1,p="jw-stretch-"+e.toLowerCase(),q=!1;switch(e.toLowerCase()){case d.FILL:l>m?m=l:l=m,o=!0;break;case d.NONE:l=m=1;case d.EXACTFIT:o=!0;break;case d.UNIFORM:default:l>m?(j*m/h>.95?(o=!0,p="jw-stretch-exactfit"):(j*=m,k*=m),q=!0):(k*l/i>.95?(o=!0,p="jw-stretch-exactfit"):(j*=l,k*=l),q=!1),o&&(l=2*Math.ceil(h/2)/j,m=2*Math.ceil(i/2)/k)}if(n){var r={left:"",right:"",width:"",height:""};if(o?(j>h&&(r.left=r.right=Math.ceil((h-j)/2)),k>i&&(r.top=r.bottom=Math.ceil((i-k)/2)),r.width=j,r.height=k,f(g,l,m,0,0)):(o=!1,c.transform(g)),b.isIOS(8)&&o===!1){var s={width:"auto",height:"auto"};e.toLowerCase()===d.UNIFORM&&(s[q===!1?"width":"height"]="100%"),a.extend(r,s)}c.style(g,r)}else g.className=g.className.replace(/\s*jw\-stretch\-(none|exactfit|uniform|fill)/g,"")+" "+p;return o};return{scale:e,stretching:d,stretch:g}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(75),c(92),c(45),c(61),c(47),c(46),c(44)],e=function(a,b,c,d,e,f,g){function h(c){var d=c.get("provider").name||"";return d.indexOf("flash")>=0?b:a}var i={skipoffset:null,tag:null},j=function(a,b,f){function j(a,b){b=b||{},u.tag&&!b.tag&&(b.tag=u.tag),this.trigger(a,b)}function k(a){s._adModel.set("duration",a.duration),s._adModel.set("position",a.position)}function l(a){if(m&&t+1<m.length){s._adModel.set("state","buffering"),b.set("skipButton",!1),t++;var d,e=m[t];n&&(d=n[t]),this.loadItem(e,d)}else a.type===c.JWPLAYER_MEDIA_COMPLETE&&(j.call(this,a.type,a),this.trigger(c.JWPLAYER_PLAYLIST_COMPLETE,{})),this.destroy()}var m,n,o,p,q,r=h(b),s=new r(a,b),t=0,u={},v=g.bind(function(a){a=a||{},a.hasControls=!!b.get("controls"),this.trigger(c.JWPLAYER_INSTREAM_CLICK,a),s&&s._adModel&&(s._adModel.get("state")===d.PAUSED?a.hasControls&&s.instreamPlay():s.instreamPause())},this),w=g.bind(function(){s&&s._adModel&&s._adModel.get("state")===d.PAUSED&&b.get("controls")&&(a.setFullscreen(),a.play())},this);this.type="instream",this.init=function(){o=b.getVideo(),p=b.get("position"),q=b.get("playlist")[b.get("item")],s.on("all",j,this),s.on(c.JWPLAYER_MEDIA_TIME,k,this),s.on(c.JWPLAYER_MEDIA_COMPLETE,l,this),s.init(),o.detachMedia(),b.mediaModel.set("state",d.BUFFERING),a.checkBeforePlay()||0===p&&!o.checkComplete()?(p=0,b.set("preInstreamState","instream-preroll")):o&&o.checkComplete()||b.get("state")===d.COMPLETE?b.set("preInstreamState","instream-postroll"):b.set("preInstreamState","instream-midroll");var g=b.get("state");return(g===d.PLAYING||g===d.BUFFERING)&&o.pause(),f.setupInstream(s._adModel),s._adModel.set("state",d.BUFFERING),f.clickHandler().setAlternateClickHandlers(e.noop,null),this.setText("Loading ad"),this},this.loadItem=function(a,d){if(e.isAndroid(2.3))return void this.trigger({type:c.JWPLAYER_ERROR,message:"Error loading instream: Cannot play instream on Android 2.3"});g.isArray(a)&&(m=a,n=d,a=m[t],n&&(d=n[t])),this.trigger(c.JWPLAYER_PLAYLIST_ITEM,{index:t,item:a}),u=g.extend({},i,d),s.load(a),this.addClickHandler();var f=a.skipoffset||u.skipoffset;f&&(s._adModel.set("skipMessage",u.skipMessage),s._adModel.set("skipText",u.skipText),s._adModel.set("skipOffset",f),b.set("skipButton",!0))},this.play=function(){s.instreamPlay()},this.pause=function(){s.instreamPause()},this.hide=function(){s.hide()},this.addClickHandler=function(){f.clickHandler().setAlternateClickHandlers(v,w),s.on(c.JWPLAYER_MEDIA_META,this.metaHandler,this)},this.skipAd=function(a){var b=c.JWPLAYER_AD_SKIPPED;this.trigger(b,a),l.call(this,{type:b})},this.metaHandler=function(a){a.width&&a.height&&f.resizeMedia()},this.destroy=function(){if(this.off(),b.set("skipButton",!1),s){f.clickHandler()&&f.clickHandler().revertAlternateClickHandlers(),s.instreamDestroy(),f.destroyInstream(),s=null,a.attachMedia();var c=b.get("preInstreamState");switch(c){case"instream-preroll":case"instream-midroll":var h=g.extend({},q);h.starttime=p,b.loadVideo(h),e.isMobile()&&b.mediaModel.get("state")===d.BUFFERING&&o.setState(d.BUFFERING),o.play();break;case"instream-postroll":case"instream-idle":o.stop()}}},this.getState=function(){return s&&s._adModel?s._adModel.get("state"):!1},this.setText=function(a){f.setAltText(a?a:"")},this.hide=function(){f.useExternalControls()}};return g.extend(j.prototype,f),j}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(46),c(76),c(45),c(61),c(77)],e=function(a,b,c,d,e,f){var g=function(g,h){function i(){var b=m.getVideo();if(n!==b){if(n=b,!b)return;b.off(),b.on("all",function(b,c){c=a.extend({},c,{type:b}),this.trigger(b,c)},o),b.on(d.JWPLAYER_MEDIA_BUFFER_FULL,l),b.on(d.JWPLAYER_PLAYER_STATE,j),b.attachMedia(),b.mute(h.get("mute")),b.volume(h.get("volume")),m.on("change:state",c,o)}}function j(a){switch(a.newstate){case e.PLAYING:m.set("state",a.newstate);break;case e.PAUSED:m.set("state",a.newstate)}}function k(a){h.trigger(a.type,a),o.trigger(d.JWPLAYER_FULLSCREEN,{fullscreen:a.jwstate})}function l(){m.getVideo().play()}var m,n,o=a.extend(this,b);return g.on(d.JWPLAYER_FULLSCREEN,function(a){this.trigger(d.JWPLAYER_FULLSCREEN,a)},o),this.init=function(){m=(new f).setup({id:h.get("id"),volume:h.get("volume"),fullscreen:h.get("fullscreen"),mute:h.get("mute")}),m.on("fullscreenchange",k),this._adModel=m},o.load=function(a){m.set("item",0),m.set("playlistItem",a),m.setActiveItem(a),i(),m.off(d.JWPLAYER_ERROR),m.on(d.JWPLAYER_ERROR,function(a){this.trigger(d.JWPLAYER_ERROR,a)},o),m.loadVideo(a)},this.instreamDestroy=function(){m&&(m.off(),this.off(),n&&(n.detachMedia(),n.off(),n.destroy()),m=null,g.off(null,null,this),g=null)},o.instreamPlay=function(){m.getVideo()&&m.getVideo().play(!0)},o.instreamPause=function(){m.getVideo()&&m.getVideo().pause(!0)},o};return g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(61)],e=function(a){function b(b){return b===a.COMPLETE||b===a.ERROR?a.IDLE:b}return function(a,c,d){if(c=b(c),d=b(d),c!==d){var e=c.replace(/(?:ing|d)$/,""),f={type:e,newstate:c,oldstate:d,reason:a.mediaModel.get("state")};this.trigger(e,f)}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(78),c(89),c(90),c(44),c(46),c(91),c(45),c(61)],e=function(a,b,c,d,e,f,g,h,i){var j=["volume","mute","captionLabel","qualityLabel"],k=function(){function g(a,b){switch(a){case"flashThrottle":var c="resume"!==b.state;this.set("flashThrottle",c),this.set("flashBlocked",c);break;case"flashBlocked":return void this.set("flashBlocked",!0);case"flashUnblocked":return void this.set("flashBlocked",!1);case"volume":case"mute":return void this.set(a,b[a]);case h.JWPLAYER_MEDIA_TYPE:this.mediaModel.set("mediaType",b.mediaType);break;case h.JWPLAYER_PLAYER_STATE:return void this.mediaModel.set("state",b.newstate);case h.JWPLAYER_MEDIA_BUFFER:this.set("buffer",b.bufferPercent);case h.JWPLAYER_MEDIA_META:var d=b.duration;e.isNumber(d)&&(this.mediaModel.set("duration",d),this.set("duration",d));break;case h.JWPLAYER_MEDIA_BUFFER_FULL:this.mediaModel.get("playAttempt")?this.playVideo():this.mediaModel.on("change:playAttempt",function(){this.playVideo()},this);break;case h.JWPLAYER_MEDIA_TIME:this.mediaModel.set("position",b.position),this.mediaModel.set("duration",b.duration),this.set("position",b.position),this.set("duration",b.duration);break;case h.JWPLAYER_PROVIDER_CHANGED:this.set("provider",m.getName());break;case h.JWPLAYER_MEDIA_LEVELS:this.setQualityLevel(b.currentQuality,b.levels),this.mediaModel.set("levels",b.levels);break;case h.JWPLAYER_MEDIA_LEVEL_CHANGED:this.setQualityLevel(b.currentQuality,b.levels),this.persistQualityLevel(b.currentQuality,b.levels);break;case h.JWPLAYER_AUDIO_TRACKS:this.setCurrentAudioTrack(b.currentTrack,b.tracks),this.mediaModel.set("audioTracks",b.tracks);break;case h.JWPLAYER_AUDIO_TRACK_CHANGED:this.setCurrentAudioTrack(b.currentTrack,b.tracks);break;case"visualQuality":var f=e.extend({},b);this.mediaModel.set("visualQuality",f)}var g=e.extend({},b,{type:a});this.mediaController.trigger(a,g)}var k,m,n=this,o=a.noop;this.mediaController=e.extend({},f),this.mediaModel=new l,d.model(this),this.set("mediaModel",this.mediaModel),this.setup=function(b){var d=new c;return d.track(j,this),e.extend(this.attributes,b,d.getAllItems(),{item:0,state:i.IDLE,flashBlocked:!1,fullscreen:!1,compactUI:!1,scrubbing:!1,duration:0,position:0,buffer:0}),a.isMobile()&&!b.mobileSdk&&this.set("autostart",!1),this.updateProviders(),this},this.getConfiguration=function(){return e.omit(this.clone(),["mediaModel"])},this.updateProviders=function(){k=new b(this.getConfiguration())},this.setQualityLevel=function(a,b){a>-1&&b.length>1&&"youtube"!==m.getName().name&&this.mediaModel.set("currentLevel",parseInt(a))},this.persistQualityLevel=function(a,b){var c=b[a]||{},d=c.label;this.set("qualityLabel",d)},this.setCurrentAudioTrack=function(a,b){a>-1&&b.length>1&&this.mediaModel.set("currentAudioTrack",parseInt(a))},this.onMediaContainer=function(){var a=this.get("mediaContainer");o.setContainer(a)},this.changeVideoProvider=function(a){this.off("change:mediaContainer",this.onMediaContainer),m&&(m.off(null,null,this),m.getContainer()&&m.remove()),o=new a(n.get("id"),n.getConfiguration());var b=this.get("mediaContainer");b?o.setContainer(b):this.once("change:mediaContainer",this.onMediaContainer),this.set("provider",o.getName()),-1===o.getName().name.indexOf("flash")&&(this.set("flashThrottle",void 0),this.set("flashBlocked",!1)),m=o,m.volume(n.get("volume")),m.mute(n.get("mute")),m.on("all",g,this)},this.destroy=function(){m&&(m.off(null,null,this),m.destroy())},this.getVideo=function(){return m},this.setFullscreen=function(a){a=!!a,a!==n.get("fullscreen")&&n.set("fullscreen",a)},this.chooseProvider=function(a){return k.choose(a).provider},this.setActiveItem=function(a){this.mediaModel.off(),this.mediaModel=new l,this.set("mediaModel",this.mediaModel);var b=a&&a.sources&&a.sources[0];if(void 0!==b){var c=this.chooseProvider(b);if(!c)throw new Error("No suitable provider found");o instanceof c||n.changeVideoProvider(c),o.init&&o.init(a),this.trigger("itemReady",a)}},this.getProviders=function(){return k},this.resetProvider=function(){o=null},this.setVolume=function(a){a=Math.round(a),n.set("volume",a),m&&m.volume(a);var b=0===a;b!==n.get("mute")&&n.setMute(b)},this.setMute=function(b){if(a.exists(b)||(b=!n.get("mute")),n.set("mute",b),m&&m.mute(b),!b){var c=Math.max(10,n.get("volume"));this.setVolume(c)}},this.loadVideo=function(a){if(this.mediaModel.set("playAttempt",!0),this.mediaController.trigger(h.JWPLAYER_MEDIA_PLAY_ATTEMPT),!a){var b=this.get("item");a=this.get("playlist")[b]}this.set("position",a.starttime||0),this.set("duration",a.duration||0),m.load(a)},this.stopVideo=function(){m&&m.stop()},this.playVideo=function(){m.play()},this.persistCaptionsTrack=function(){var a=this.get("captionsTrack");a?this.set("captionLabel",a.label):this.set("captionLabel","Off")},this.setVideoSubtitleTrack=function(a){this.set("captionsIndex",a),this.persistCaptionsTrack(),m.setSubtitlesTrack&&m.setSubtitlesTrack(a)}},l=k.MediaModel=function(){this.set("state",i.IDLE)};return e.extend(k.prototype,g),e.extend(l.prototype,g),k}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(79)],e=function(a){return a.prototype.providerSupports=function(a,b){return a.supports(b,this.config.edition)},a}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(80),c(84),c(44)],e=function(a,b,c){function d(b){this.providers=a.slice(),this.config=b||{},"flash"===this.config.primary&&f(this.providers,"html5","flash")}function e(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return c;return-1}function f(a,b,c){var d=e(a,b),f=e(a,c),g=a[d];a[d]=a[f],a[f]=g}return c.extend(d.prototype,{providerSupports:function(a,b){return a.supports(b)},choose:function(a){a=c.isObject(a)?a:{};for(var d=this.providers.length,e=0;d>e;e++){var f=this.providers[e];if(this.providerSupports(f,a)){var g=d-e-1;return{priority:g,name:f.name,type:a.type,provider:b[f.name]}}}return null}}),d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(81),c(44),c(82)],e=function(a,b,c,d){function e(c,d){var e=b(d);if(!e("dash"))return!1;if(c.drm&&!e("drm"))return!1;if(!window.MediaSource)return!1;if(!a.isChrome()&&!a.isEdge())return!1;var f=c.file||"";return"dash"===c.type||"mpd"===c.type||f.indexOf(".mpd")>-1||f.indexOf("mpd-time-csf")>-1?!0:!1}var f=c.find(d,c.matches({name:"flash"})),g=f.supports;return f.supports=function(c,d){if(!a.isFlashSupported())return!1;var e=c&&c.type;if("hls"===e||"m3u8"===e){var f=b(d);return f("hls")}return g.apply(this,arguments)},d.push({name:"dashjs",supports:c.constant(!1)}),d.push({name:"shaka",supports:e}),d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b={setup:["free","premium","enterprise","ads","trial"],"custom-rightclick":["free","premium","enterprise","ads","trial"],dash:["premium","enterprise","ads","trial"],drm:["enterprise","ads","trial"],hls:["premium","ads","enterprise","trial"],ads:["ads","trial"],casting:["premium","enterprise","ads","trial"]},c=function(c){return function(d){return a.contains(b[d],c)}};return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(44),c(83)],e=function(a,b,c){function d(b){if("hls"===b.type)if(b.androidhls!==!1){var c=a.isAndroidNative;if(c(2)||c(3)||c("4.0"))return!1;if(a.isAndroid())return!0}else if(a.isAndroid())return!1;return null}var e=[{name:"youtube",supports:function(b){return a.isYouTube(b.file,b.type)}},{name:"html5",supports:function(b){var e={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},f=b.file,g=b.type,h=d(b);if(null!==h)return h;if(a.isRtmp(f,g))return!1;if(!e[g])return!1;if(c.canPlayType){var i=c.canPlayType(e[g]);return!!i}return!1}},{name:"flash",supports:function(c){var d={flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",mpeg:"sound",smil:"rtmp"},e=b.keys(d);if(!a.isFlashSupported())return!1;var f=c.file,g=c.type;return a.isRtmp(f,g)?!0:b.contains(e,g)}}];return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return document.createElement("video")}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(85),c(87)],e=function(a,b){var c={html5:a,flash:b};return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(55),c(47),c(73),c(44),c(45),c(61),c(86),c(46)],e=function(a,b,c,d,e,f,g,h){function i(a,c){b.foreach(a,function(a,b){c.addEventListener(a,b,!1)})}function j(a,c){b.foreach(a,function(a,b){c.removeEventListener(a,b,!1)})}function k(a){if("hls"===a.type)if(a.androidhls!==!1){var c=b.isAndroidNative;if(c(2)||c(3)||c("4.0"))return!1;if(b.isAndroid())return!0}else if(b.isAndroid())return!1;return null}function l(l,v){function w(a){ea.trigger("click",a)}function x(){ka&&(A(U(),ba,qa.duration),C(qa.duration))}function y(){ka&&A(U(),ba,aa)}function z(){m(ia),ga=!0,ka&&(ea.state===f.STALLED?ea.setState(f.PLAYING):ea.state===f.PLAYING&&(ia=setTimeout(T,n)),C(qa.duration),B(qa.currentTime),A(U(),ba,aa),ea.state===f.PLAYING&&ea.trigger(e.JWPLAYER_MEDIA_TIME,{position:ba,duration:aa}))}function A(a,b,c){(a!==ja||c!==aa)&&(ja=a,ea.trigger(e.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100*a,position:b,duration:c}))}function B(a){ba=a}function C(a){aa=a,ha>0&&aa>ha&&ea.seek(ha)}function D(){ea.trigger(e.JWPLAYER_MEDIA_META,{duration:qa.duration,height:qa.videoHeight,width:qa.videoWidth}),C(qa.duration)}function E(){ka&&(ga=!0,G())}function F(){ka&&(qa.muted&&(qa.muted=!1,qa.muted=!0),D())}function G(){ca||(ca=!0,ea.trigger(e.JWPLAYER_MEDIA_BUFFER_FULL))}function H(){ea.setState(f.PLAYING),ea.trigger(e.JWPLAYER_PROVIDER_FIRST_FRAME,{})}function I(){ea.state!==f.COMPLETE&&qa.currentTime!==qa.duration&&ea.setState(f.PAUSED)}function J(){ma||qa.paused||qa.ended||ea.state!==f.LOADING&&ea.state!==f.ERROR&&(ea.seeking||ea.setState(f.STALLED))}function K(){ka&&(b.log("Error playing media: %o %s",qa.error,qa.src||_.file),ea.trigger(e.JWPLAYER_MEDIA_ERROR,{message:"Error loading media: File could not be played"}))}function L(a){var c;return"array"===b.typeOf(a)&&a.length>0&&(c=d.map(a,function(a,b){return{label:a.label||b}})),c}function M(a){da=a,la=N(a);var b=L(a);b&&ea.trigger(e.JWPLAYER_MEDIA_LEVELS,{levels:b,currentQuality:la})}function N(a){var b=Math.max(0,la),c=v.qualityLabel;if(a)for(var d=0;d<a.length;d++)if(a[d]["default"]&&(b=d),c&&a[d].label===c)return d;return b}function O(){return p||q}function P(a,c){_=da[la],ha=0,m(ia);var d=qa.src!==_.file;d||O()?(aa=c,
Q(),qa.load()):(0===a&&0!==qa.currentTime&&(ha=-1,ea.seek(a)),qa.play()),ba=qa.currentTime,p&&(G(),qa.paused||ea.state===f.PLAYING||ea.setState(f.LOADING)),b.isIOS()&&ea.getFullScreen()&&(qa.controls=!0),a>0&&ea.seek(a)}function Q(){ga=!1,ca=!1,ma=k(_),qa.src=_.file,_.preload&&qa.setAttribute("preload",_.preload)}function R(){ea.seeking=!1,ea.trigger(e.JWPLAYER_MEDIA_SEEKED)}function S(){ea.trigger("volume",{volume:Math.round(100*qa.volume)}),ea.trigger("mute",{mute:qa.muted})}function T(){qa.currentTime===ba&&J()}function U(){var a=qa.buffered,c=qa.duration;return!a||0===a.length||0>=c||c===1/0?0:b.between(a.end(a.length-1)/c,0,1)}function V(){if(ka&&ea.state!==f.IDLE&&ea.state!==f.COMPLETE){if(m(ia),la=-1,na=!0,ea.trigger(e.JWPLAYER_MEDIA_BEFORECOMPLETE),!ka)return;W()}}function W(){m(ia),ea.setState(f.COMPLETE),na=!1,ea.trigger(e.JWPLAYER_MEDIA_COMPLETE)}function X(a){oa=!0,Z(a),b.isIOS()&&(qa.controls=!1)}function Y(a){oa=!1,Z(a),b.isIOS()&&(qa.controls=!1)}function Z(a){ea.trigger("fullscreenchange",{target:a.target,jwstate:oa})}this.state=f.IDLE,this.seeking=!1,d.extend(this,h),this.trigger=function(a,b){return ka?h.trigger.call(this,a,b):void 0},this.setState=function(a){return ka?g.setState.call(this,a):void 0};var $,_,aa,ba,ca,da,ea=this,fa={click:w,durationchange:x,ended:V,error:K,loadedmetadata:F,canplay:E,playing:H,progress:y,pause:I,seeked:R,timeupdate:z,volumechange:S,webkitbeginfullscreen:X,webkitendfullscreen:Y},ga=!1,ha=0,ia=-1,ja=-1,ka=!0,la=-1,ma=null,na=!1,oa=!1,pa=document.getElementById(l),qa=pa?pa.querySelector("video"):void 0;qa=qa||document.createElement("video"),qa.className="jw-video jw-reset",i(fa,qa),t||(qa.controls=!0,qa.controls=!1),qa.setAttribute("x-webkit-airplay","allow"),qa.setAttribute("webkit-playsinline",""),this.stop=function(){m(ia),ka&&(qa.removeAttribute("src"),o||qa.load(),b.isIETrident()&&qa.pause(),la=-1,this.setState(f.IDLE))},this.destroy=function(){j(fa,qa),this.remove(),this.off()},this.init=function(a){ka&&(da=a.sources,la=N(a.sources),this.sendMediaType(a.sources),_=da[la],ba=a.starttime||0,aa=a.duration||0,Q(a))},this.load=function(a){ka&&(M(a.sources),this.sendMediaType(a.sources),p||ea.setState(f.LOADING),P(a.starttime||0,a.duration||0))},this.play=function(){return ea.seeking?(ea.setState(f.LOADING),void ea.once(e.JWPLAYER_MEDIA_SEEKED,ea.play)):void qa.play()},this.pause=function(){m(ia),qa.pause(),this.setState(f.PAUSED)},this.seek=function(a){if(ka)if(0===ha&&this.trigger(e.JWPLAYER_MEDIA_SEEK,{position:qa.currentTime,offset:a}),ga){ha=0;var c=b.tryCatch(function(){ea.seeking=!0,qa.currentTime=a});c instanceof b.Error&&(ha=a)}else ha=a,r&&qa.paused&&qa.play()},this.volume=function(a){a=b.between(a/100,0,1),qa.volume=a},this.mute=function(a){qa.muted=!!a},this.checkComplete=function(){return na},this.detachMedia=function(){return m(ia),ka=!1,qa},this.attachMedia=function(a){ka=!0,a||(ga=!1),this.seeking=!1,qa.loop=!1,na&&W()},this.setContainer=function(a){$=a,a.appendChild(qa)},this.getContainer=function(){return $},this.remove=function(){qa&&(qa.removeAttribute("src"),o||qa.load()),m(ia),la=-1,$===qa.parentNode&&$.removeChild(qa)},this.setVisibility=function(b){b=!!b,b||s?a.style($,{visibility:"visible",opacity:1}):a.style($,{visibility:"",opacity:0})},this.resize=function(a,b,d){return c.stretch(d,qa,a,b,qa.videoWidth,qa.videoHeight)},this.setFullscreen=function(a){if(a=!!a){var c=b.tryCatch(function(){var a=qa.webkitEnterFullscreen||qa.webkitEnterFullScreen;a&&a.apply(qa)});return c instanceof b.Error?!1:ea.getFullScreen()}var d=qa.webkitExitFullscreen||qa.webkitExitFullScreen;return d&&d.apply(qa),a},ea.getFullScreen=function(){return oa||!!qa.webkitDisplayingFullscreen},this.setCurrentQuality=function(a){if(la!==a&&(a=parseInt(a,10),a>=0&&da&&da.length>a)){la=a,this.trigger(e.JWPLAYER_MEDIA_LEVEL_CHANGED,{currentQuality:a,levels:L(da)}),v.qualityLabel=da[a].label;var b=qa.currentTime||0,c=qa.duration||0;0>=c&&(c=aa),ea.setState(f.LOADING),P(b,c)}},this.getCurrentQuality=function(){return la},this.getQualityLevels=function(){return L(da)},this.getName=function(){return{name:u}}}var m=window.clearTimeout,n=256,o=b.isMSIE(),p=b.isMobile(),q=b.isSafari(),r=b.isFF(),s=b.isAndroidNative(),t=b.isIOS(7),u="html5",v=function(){};return v.prototype=g,l.prototype=new v,l}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(45),c(61),c(44)],e=function(a,b,c,d){var e=a.noop,f=d.constant(!1),g={supports:f,play:e,load:e,stop:e,volume:e,mute:e,seek:e,resize:e,remove:e,destroy:e,setVisibility:e,setFullscreen:f,getFullscreen:e,getContainer:e,setContainer:f,getName:e,getQualityLevels:e,getCurrentQuality:e,setCurrentQuality:e,getAudioTracks:e,getCurrentAudioTrack:e,setCurrentAudioTrack:e,checkComplete:e,setControls:e,attachMedia:e,detachMedia:e,setState:function(a){var d=this.state||c.IDLE;this.state=a,a!==d&&this.trigger(b.JWPLAYER_PLAYER_STATE,{newstate:a})},sendMediaType:function(a){var c=a[0].type,d="oga"===c||"aac"===c||"mp3"===c||"mpeg"===c||"vorbis"===c;this.trigger(b.JWPLAYER_MEDIA_TYPE,{mediaType:d?"audio":"video"})}};return g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(44),c(45),c(61),c(88),c(86),c(46)],e=function(a,b,c,d,e,f,g){function h(a){return a+"_swf_"+k++}function i(b){var c=document.createElement("a");c.href=b.flashplayer;var d=c.hostname===window.location.host;return a.isChrome()&&!d}function j(j,k){function l(a){if(C)for(var b=0;b<a.length;b++){var c=a[b];if(c.bitrate){var d=Math.round(c.bitrate/1024);c.label=m(d)}}}function m(a){var b=C[a];if(!b){for(var c=1/0,d=C.bitrates.length;d--;){var e=Math.abs(C.bitrates[d]-a);if(e>c)break;c=e}b=C.labels[C.bitrates[d+1]],C[a]=b}return b}function n(){var a=k.hlslabels;if(!a)return null;var b={},c=[];for(var d in a){var e=parseFloat(d);if(!isNaN(e)){var f=Math.round(e);b[f]=a[d],c.push(f)}}return 0===c.length?null:(c.sort(function(a,b){return a-b}),{labels:b,bitrates:c})}var o,p,q,r=null,s=-1,t=!1,u=-1,v=null,w=-1,x=null,y=!0,z=!1,A=function(){return p&&p.__ready},B=function(){p&&p.triggerFlash.apply(p,arguments)},C=n();b.extend(this,g,{init:function(a){a.preload&&"none"!==a.preload&&!k.autostart&&(r=a)},load:function(a){r=a,t=!1,this.setState(d.LOADING),B("load",a),this.sendMediaType(a.sources)},play:function(){B("play")},pause:function(){B("pause"),this.setState(d.PAUSED)},stop:function(){B("stop"),u=-1,r=null,this.setState(d.IDLE)},seek:function(a){B("seek",a)},volume:function(a){if(b.isNumber(a)){var c=Math.min(Math.max(0,a),100);A()&&B("volume",c)}},mute:function(a){A()&&B("mute",a)},setState:function(){return f.setState.apply(this,arguments)},checkComplete:function(){return t},attachMedia:function(){y=!0,t&&(this.setState(d.COMPLETE),this.trigger(c.JWPLAYER_MEDIA_COMPLETE),t=!1)},detachMedia:function(){return y=!1,null},getSwfObject:function(a){var b=a.getElementsByTagName("object")[0];return b?(b.off(null,null,this),b):e.embed(k.flashplayer,a,h(j),k.wmode)},getContainer:function(){return o},setContainer:function(e){if(o!==e){o=e,p=this.getSwfObject(e);var f=this;s=setTimeout(function(){g.trigger.call(f,"flashBlocked")},4e3),p.once("embedded",function(){clearTimeout(s),g.trigger.call(f,"flashUnblocked")},this),p.once("ready",function(){clearTimeout(s),p.once("pluginsLoaded",function(){p.queueCommands=!1,B("setupCommandQueue",p.__commandQueue),p.__commandQueue=[]});var a=b.extend({},k),d=p.triggerFlash("setup",a);d===p?p.__ready=!0:this.trigger(c.JWPLAYER_MEDIA_ERROR,d),r&&B("init",r)},this);var h=[c.JWPLAYER_MEDIA_META,c.JWPLAYER_MEDIA_ERROR,c.JWPLAYER_MEDIA_SEEK,c.JWPLAYER_MEDIA_SEEKED,"subtitlesTracks","subtitlesTrackChanged","subtitlesTrackData"],j=[c.JWPLAYER_MEDIA_BUFFER,c.JWPLAYER_MEDIA_TIME],m=[c.JWPLAYER_MEDIA_BUFFER_FULL];p.on(c.JWPLAYER_MEDIA_LEVELS,function(a){l(a.levels),u=a.currentQuality,v=a.levels,this.trigger(a.type,a)},this),p.on(c.JWPLAYER_MEDIA_LEVEL_CHANGED,function(a){l(a.levels),u=a.currentQuality,v=a.levels,this.trigger(a.type,a)},this),p.on(c.JWPLAYER_AUDIO_TRACKS,function(a){w=a.currentTrack,x=a.tracks,this.trigger(a.type,a)},this),p.on(c.JWPLAYER_AUDIO_TRACK_CHANGED,function(a){w=a.currentTrack,x=a.tracks,this.trigger(a.type,a)},this),p.on(c.JWPLAYER_PLAYER_STATE,function(a){var b=a.newstate;b!==d.IDLE&&this.setState(b)},this),p.on(j.join(" "),function(a){"Infinity"===a.duration&&(a.duration=1/0),this.trigger(a.type,a)},this),p.on(h.join(" "),function(a){this.trigger(a.type,a)},this),p.on(m.join(" "),function(a){this.trigger(a.type)},this),p.on(c.JWPLAYER_MEDIA_BEFORECOMPLETE,function(a){t=!0,this.trigger(a.type),y===!0&&(t=!1)},this),p.on(c.JWPLAYER_MEDIA_COMPLETE,function(a){t||(this.setState(d.COMPLETE),this.trigger(a.type))},this),p.on("visualQuality",function(a){a.reason=a.reason||"api",this.trigger("visualQuality",a),this.trigger(c.JWPLAYER_PROVIDER_FIRST_FRAME,{})},this),p.on(c.JWPLAYER_PROVIDER_CHANGED,function(a){q=a.message,this.trigger(c.JWPLAYER_PROVIDER_CHANGED,a)},this),p.on(c.JWPLAYER_ERROR,function(b){a.log("Error playing media: %o %s",b.code,b.message,b),this.trigger(c.JWPLAYER_MEDIA_ERROR,b)},this),i(k)&&p.on("throttle",function(a){clearTimeout(s),"resume"===a.state?g.trigger.call(f,"flashThrottle",a):s=setTimeout(function(){g.trigger.call(f,"flashThrottle",a)},250)},this)}},remove:function(){u=-1,v=null,e.remove(p)},setVisibility:function(a){a=!!a,o.style.opacity=a?1:0},resize:function(a,b,c){c&&B("stretch",c)},setControls:function(a){B("setControls",a)},setFullscreen:function(a){z=a,B("fullscreen",a)},getFullScreen:function(){return z},setCurrentQuality:function(a){B("setCurrentQuality",a)},getCurrentQuality:function(){return u},setSubtitlesTrack:function(a){B("setSubtitlesTrack",a)},getName:function(){return q?{name:"flash_"+q}:{name:"flash"}},getQualityLevels:function(){return v||r.sources},getAudioTracks:function(){return x},getCurrentAudioTrack:function(){return w},setCurrentAudioTrack:function(a){B("setCurrentAudioTrack",a)},destroy:function(){this.remove(),p&&(p.off(),p=null),o=null,r=null,this.off()}}),this.trigger=function(a,b){return y?g.trigger.call(this,a,b):void 0}}var k=0,l=function(){};return l.prototype=f,j.prototype=new l,j}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(46),c(44)],e=function(a,b,c){function d(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function e(e,f,i,j){var k;if(j=j||"opaque",a.isMSIE()){var l=document.createElement("div");f.appendChild(l),l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+i+'" name="'+i+'" tabindex="0"><param name="movie" value="'+e+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="wmode" value="'+j+'"><param name="bgcolor" value="'+h+'"><param name="menu" value="false"></object>';for(var m=f.getElementsByTagName("object"),n=m.length;n--;)m[n].id===i&&(k=m[n])}else k=document.createElement("object"),k.setAttribute("type","application/x-shockwave-flash"),k.setAttribute("data",e),k.setAttribute("width","100%"),k.setAttribute("height","100%"),k.setAttribute("bgcolor",h),k.setAttribute("id",i),k.setAttribute("name",i),d(k,"allowfullscreen","true"),d(k,"allowscriptaccess","always"),d(k,"wmode",j),d(k,"menu","false"),f.appendChild(k,f);return k.className="jw-swf jw-reset",k.style.display="block",k.style.position="absolute",k.style.left=0,k.style.right=0,k.style.top=0,k.style.bottom=0,c.extend(k,b),k.queueCommands=!0,k.triggerFlash=function(b){var d=this;if("setup"!==b&&d.queueCommands||!d.__externalCall){for(var e=d.__commandQueue,f=e.length;f--;)e[f][0]===b&&e.splice(f,1);return e.push(Array.prototype.slice.call(arguments)),d}var h=Array.prototype.slice.call(arguments,1),i=a.tryCatch(function(){if(h.length){for(var a=h.length;a--;)"object"==typeof h[a]&&c.each(h[a],g);var e=JSON.stringify(h);d.__externalCall(b,e)}else d.__externalCall(b)});return i instanceof a.Error&&(console.error(b,i),"setup"===b)?(i.name="Failed to setup flash",i):d},k.__commandQueue=[],k}function f(a){a&&a.parentNode&&(a.style.display="none",a.parentNode.removeChild(a))}function g(a,b,c){a instanceof window.HTMLElement&&delete c[b]}var h="#000000";return{embed:e,remove:f}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(47)],e=function(a,b){function c(a){return"jwplayer."+a}function d(){return a.reduce(this.persistItems,function(a,d){var e=j[c(d)];return e&&(a[d]=b.serialize(e)),a},{})}function e(a,b){try{j[c(a)]=b}catch(d){i&&i.debug&&console.error(d)}}function f(){a.each(this.persistItems,function(a){j.removeItem(c(a))})}function g(){}function h(b,c){this.persistItems=b,a.each(this.persistItems,function(a){c.on("change:"+a,function(b,c){e(a,c)})})}var i=window.jwplayer,j={removeItem:b.noop};try{j=window.localStorage}catch(k){}return a.extend(g.prototype,{getAllItems:d,track:h,clear:f}),g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(60),c(45),c(44)],e=function(a,b,c){function d(a){a.mediaController.off(b.JWPLAYER_MEDIA_PLAY_ATTEMPT,a._onPlayAttempt),a.mediaController.off(b.JWPLAYER_PROVIDER_FIRST_FRAME,a._triggerFirstFrame),a.mediaController.off(b.JWPLAYER_MEDIA_TIME,a._onTime)}function e(a){d(a),a._triggerFirstFrame=c.once(function(){var c=a._qoeItem;c.tick(b.JWPLAYER_MEDIA_FIRST_FRAME);var e=c.between(b.JWPLAYER_MEDIA_PLAY_ATTEMPT,b.JWPLAYER_MEDIA_FIRST_FRAME);a.mediaController.trigger(b.JWPLAYER_MEDIA_FIRST_FRAME,{loadTime:e}),d(a)}),a._onTime=g(a._triggerFirstFrame),a._onPlayAttempt=function(){a._qoeItem.tick(b.JWPLAYER_MEDIA_PLAY_ATTEMPT)},a.mediaController.once(b.JWPLAYER_MEDIA_PLAY_ATTEMPT,a._onPlayAttempt),a.mediaController.once(b.JWPLAYER_PROVIDER_FIRST_FRAME,a._triggerFirstFrame),a.mediaController.on(b.JWPLAYER_MEDIA_TIME,a._onTime)}function f(c){function d(c,d,f){c._qoeItem&&f&&c._qoeItem.end(f.get("state")),c._qoeItem=new a,c._qoeItem.tick(b.JWPLAYER_PLAYLIST_ITEM),c._qoeItem.start(d.get("state")),e(c),d.on("change:state",function(a,b,d){c._qoeItem.end(d),c._qoeItem.start(b)})}c.on("change:mediaModel",d)}var g=function(a){var b=Number.MIN_VALUE;return function(c){c.position>b&&a(),b=c.position}};return{model:f}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(46)],e=function(a,b){var c=a.extend({get:function(a){return this.attributes=this.attributes||{},this.attributes[a]},set:function(a,b){if(this.attributes=this.attributes||{},this.attributes[a]!==b){var c=this.attributes[a];this.attributes[a]=b,this.trigger("change:"+a,this,b,c)}},clone:function(){return a.clone(this.attributes)}},b);return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(46),c(77),c(76),c(45),c(61),c(47),c(44)],e=function(a,b,c,d,e,f,g){var h=function(a,d){this.model=d,this._adModel=(new b).setup({id:d.get("id"),volume:d.get("volume"),fullscreen:d.get("fullscreen"),mute:d.get("mute")}),this._adModel.on("change:state",c,this);var e=a.getContainer();this.swf=e.querySelector("object")};return h.prototype=g.extend({init:function(){if(f.isChrome()){var a=-1,b=!1;this.swf.on("throttle",function(c){if(clearTimeout(a),"resume"===c.state)b&&(b=!1,this.instreamPlay());else{var d=this;a=setTimeout(function(){d._adModel.get("state")===e.PLAYING&&(b=!0,d.instreamPause())},250)}},this)}this.swf.on("instream:state",function(a){switch(a.newstate){case e.PLAYING:this._adModel.set("state",a.newstate);break;case e.PAUSED:this._adModel.set("state",a.newstate)}},this).on("instream:time",function(a){this._adModel.set("position",a.position),this._adModel.set("duration",a.duration),this.trigger(d.JWPLAYER_MEDIA_TIME,a)},this).on("instream:complete",function(a){this.trigger(d.JWPLAYER_MEDIA_COMPLETE,a)},this).on("instream:error",function(a){this.trigger(d.JWPLAYER_MEDIA_ERROR,a)},this),this.swf.triggerFlash("instream:init")},instreamDestroy:function(){this._adModel&&(this.off(),this.swf.off(null,null,this),this.swf.triggerFlash("instream:destroy"),this.swf=null,this._adModel.off(),this._adModel=null,this.model=null)},load:function(a){this.swf.triggerFlash("instream:load",a)},instreamPlay:function(){this.swf.triggerFlash("instream:play")},instreamPause:function(){this.swf.triggerFlash("instream:pause")}},a),h}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(94),c(46),c(44),c(45)],e=function(a,b,c,d){var e=function(b,e,f,g){function h(){m("Setup Timeout Error","Setup took longer than "+q+" seconds to complete.")}function i(){c.each(p,function(a){a.complete!==!0&&a.running!==!0&&null!==b&&k(a.depends)&&(a.running=!0,j(a))})}function j(a){var c=function(b){b=b||{},l(a,b)};a.method(c,e,b,f,g)}function k(a){return c.all(a,function(a){return p[a].complete})}function l(a,b){"error"===b.type?m(b.msg,b.reason):"complete"===b.type?(clearTimeout(n),o.trigger(d.JWPLAYER_READY)):(a.complete=!0,i())}function m(a,b){clearTimeout(n),o.trigger(d.JWPLAYER_SETUP_ERROR,{message:a+": "+b}),o.destroy()}var n,o=this,p=a.getQueue(),q=30;this.start=function(){n=setTimeout(h,1e3*q),i()},this.destroy=function(){clearTimeout(n),this.off(),p.length=0,b=null,e=null,f=null}};return e.prototype=b,e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(95),c(81),c(80),c(44),c(47),c(97)],e=function(a,b,d,e,f,g){function h(a,b,c){if(b){var d=b.client;delete b.client,/\.(js|swf)$/.test(d||"")||(d=f.repo()+c),a[d]=b}}function i(a,c){var d=e.clone(c.get("plugins"))||{},g=c.get("edition"),i=b(g),j=/\.(js|swf)$/,k=f.repo(),l=c.get("advertising");i("ads")&&l&&(j.test(l.client)?d[l.client]=l:d[k+l.client+".js"]=l,delete l.client);var m=c.get("analytics");e.isObject(m)||(m={}),h(d,m,"jwpsrv.js"),h(d,c.get("ga"),"gapro.js"),h(d,c.get("sharing"),"sharing.js"),h(d,c.get("related"),"related.js"),c.set("plugins",d),a()}function j(b,c){var d=c.get("key")||window.jwplayer&&window.jwplayer.key,e=new a(d),f=e.edition();c.set("key",d),c.set("edition",f),c.updateProviders(),"invalid"===f?g.error(b,"Error setting up player",(void 0===d?"Missing":"Invalid")+" license key"):b()}function k(a,b,d){"dashjs"===a?c.e(4,function(a){var e=c(107);e.register(window.jwplayer),d.updateProviders(),b()}):c.e(5,function(a){var e=c(109);e.register(window.jwplayer),d.updateProviders(),b()})}function l(a,b){var c=b.get("playlist"),f=b.get("edition"),g=b.get("dash");e.contains(["shaka","dashjs"],g)||(g="shaka");var h=e.where(d,{name:g})[0].supports,i=e.some(c,function(a){return h(a,f)});i?k(g,a,b):a()}function m(){var a=g.getQueue();return a.LOAD_DASH={method:l,depends:["CHECK_KEY","FILTER_PLAYLIST"]},a.CHECK_KEY={method:j,depends:["LOADED_POLYFILLS"]},a.FILTER_PLUGINS={method:i,depends:["CHECK_KEY"]},a.FILTER_PLAYLIST.depends.push("CHECK_KEY"),a.LOAD_PLUGINS.depends.push("FILTER_PLUGINS"),a.SETUP_VIEW.depends.push("CHECK_KEY"),a.SEND_READY.depends.push("LOAD_DASH"),a}return{getQueue:m}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(96),c(81)],e=function(a,b,c){var d="invalid",e="RnXcsftYjWRDA^Uy",f=function(f){function g(f){a.exists(f)||(f="");try{f=b.decrypt(f,e);var g=f.split("/");h=g[0],"pro"===h&&(h="premium");var k=c(h);if(g.length>2&&k("setup")){i=g[1];var l=parseInt(g[2]);l>0&&(j=new Date,j.setTime(l))}else h=d}catch(m){h=d}}var h,i,j;this.edition=function(){return j&&j.getTime()<(new Date).getTime()?d:h},this.token=function(){return i},this.expiration=function(){return j},g(f)};return f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){var a=function(a){return window.atob(a)},b=function(a){return unescape(encodeURIComponent(a))},c=function(a){try{return decodeURIComponent(escape(a))}catch(b){return a}},d=function(a){for(var b=new Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},e=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")};return{decrypt:function(f,g){if(f=String(f),g=String(g),0==f.length)return"";for(var h,i,j=d(a(f)),k=d(b(g).slice(0,16)),l=j.length,m=j[l-1],n=j[0],o=2654435769,p=Math.floor(6+52/l),q=p*o;0!=q;){i=q>>>2&3;for(var r=l-1;r>=0;r--)m=j[r>0?r-1:l-1],h=(m>>>5^n<<2)+(n>>>3^m<<4)^(q^n)+(k[3&r^i]^m),n=j[r]-=h;q-=o}var s=e(j);return s=s.replace(/\0+$/,""),c(s)}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(98),c(64),c(101),c(58),c(44),c(47),c(45)],e=function(a,b,d,e,f,g,h){function i(){var a={LOAD_PROMISE_POLYFILL:{method:j,depends:[]},LOAD_BASE64_POLYFILL:{method:k,depends:[]},LOADED_POLYFILLS:{method:l,depends:["LOAD_PROMISE_POLYFILL","LOAD_BASE64_POLYFILL"]},LOAD_PLUGINS:{method:m,depends:["LOADED_POLYFILLS"]},INIT_PLUGINS:{method:n,depends:["LOAD_PLUGINS","SETUP_VIEW"]},LOAD_YOUTUBE:{method:v,depends:["FILTER_PLAYLIST"]},LOAD_SKIN:{method:u,depends:["LOADED_POLYFILLS"]},LOAD_PLAYLIST:{method:p,depends:["LOADED_POLYFILLS"]},FILTER_PLAYLIST:{method:q,depends:["LOAD_PLAYLIST"]},SETUP_VIEW:{method:w,depends:["LOAD_SKIN"]},SEND_READY:{method:x,depends:["INIT_PLUGINS","LOAD_YOUTUBE","SETUP_VIEW"]}};return a}function j(a){window.Promise?a():c.e(1,function(b){c(104),a()})}function k(a){window.btoa&&window.atob?a():c.e(2,function(b){c(105),a()})}function l(a){a()}function m(b,c){z=a.loadPlugins(c.get("id"),c.get("plugins")),z.on(h.COMPLETE,b),z.on(h.ERROR,f.partial(o,b)),z.load()}function n(a,b,c){z.setupPlugins(c,b),a()}function o(a,b){y(a,"Could not load plugin",b.message)}function p(a,c){var d=c.get("playlist");f.isString(d)?(A=new b,A.on(h.JWPLAYER_PLAYLIST_LOADED,function(b){c.set("playlist",b.playlist),a()}),A.on(h.JWPLAYER_ERROR,f.partial(r,a)),A.load(d)):a()}function q(a,b,c,d,e){var f=b.get("playlist"),g=e(f);g?a():r(a)}function r(a,b){b&&b.message?y(a,"Error loading playlist",b.message):y(a,"Error loading player","No playable sources found")}function s(a,b){return f.contains(e.SkinsLoadable,a)?b+"skins/"+a+".css":void 0}function t(a){for(var b=document.styleSheets,c=0,d=b.length;d>c;c++)if(b[c].href===a)return!0;return!1}function u(a,b){var c=b.get("skin"),g=b.get("skinUrl");if(f.contains(e.SkinsIncluded,c))return void a();if(g||(g=s(c,b.get("base"))),f.isString(g)&&!t(g)){b.set("skin-loading",!0);var i=!0,j=new d(g,i);j.addEventListener(h.COMPLETE,function(){b.set("skin-loading",!1)}),j.addEventListener(h.ERROR,function(){b.set("skin","seven"),b.set("skin-loading",!1)}),j.load()}f.defer(function(){a()})}function v(a,b){var d=b.get("playlist"),e=f.some(d,function(a){var b=g.isYouTube(a.file,a.type);if(b&&!a.image){var c=a.file,d=g.youTubeID(c);a.image="//i.ytimg.com/vi/"+d+"/0.jpg"}return b});e?c.e(3,function(b){var d=c(106);d.register(window.jwplayer),a()}):a()}function w(a,b,c,d){d.setup(),a()}function x(a){a({type:"complete"})}function y(a,b,c){a({type:"error",msg:b,reason:c})}var z,A;return{getQueue:i,error:y}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(99),c(102),c(103),c(100)],e=function(a,b,c,d){var e={},f={},g=function(c,d){return f[c]=new a(new b(e),d),f[c]},h=function(a,b,f,g){var h=d.getPluginName(a);e[h]||(e[h]=new c(a)),e[h].registerPlugin(a,b,f,g)};return{loadPlugins:g,registerPlugin:h}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(100),c(47),c(45),c(46),c(44),c(101)],e=function(a,b,c,d,e,f){function g(a,b,c){return function(){var d=a.getContainer().getElementsByClassName("jw-overlays")[0];d&&(d.appendChild(c),c.left=d.style.left,c.top=d.style.top,b.displayArea=d)}}function h(a){function b(){var b=a.displayArea;b&&a.resize(b.clientWidth,b.clientHeight)}return function(){b(),setTimeout(b,400)}}var i=function(i,j){function k(){q||(q=!0,p=f.loaderstatus.COMPLETE,o.trigger(c.COMPLETE))}function l(){if(!s&&(j&&0!==e.keys(j).length||k(),!q)){var d=i.getPlugins();n=e.after(r,k),e.each(j,function(e,g){var h=a.getPluginName(g),i=d[h],j=i.getJS(),k=i.getTarget(),l=i.getStatus();l!==f.loaderstatus.LOADING&&l!==f.loaderstatus.NEW&&(j&&!b.versionCheck(k)&&o.trigger(c.ERROR,{message:"Incompatible player version"}),n())})}}function m(a){if(!s){var d="File not found";a.url&&b.log(d,a.url),this.off(),this.trigger(c.ERROR,{message:d}),l()}}var n,o=e.extend(this,d),p=f.loaderstatus.NEW,q=!1,r=e.size(j),s=!1;this.setupPlugins=function(c,d){var f=[],j=i.getPlugins(),k=d.get("plugins");e.each(k,function(d,i){var l=a.getPluginName(i),m=j[l],n=m.getFlashPath(),o=m.getJS(),p=m.getURL();if(n){var q=e.extend({name:l,swf:n,pluginmode:m.getPluginmode()},d);f.push(q)}var r=b.tryCatch(function(){if(o&&k[p]){var a=document.createElement("div");a.id=c.id+"_"+l,a.className="jw-plugin jw-reset";var b=e.extend({},k[p]),d=m.getNewInstance(c,b,a);d.addToPlayer=g(c,d,a),d.resizeHandler=h(d),c.addPlugin(l,d,a)}});r instanceof b.Error&&b.log("ERROR: Failed to load "+l+".")}),d.set("flashPlugins",f)},this.load=function(){if(b.exists(j)&&"object"!==b.typeOf(j))return void l();p=f.loaderstatus.LOADING,e.each(j,function(a,d){if(b.exists(d)){var e=i.addPlugin(d);e.on(c.COMPLETE,l),e.on(c.ERROR,m)}});var a=i.getPlugins();e.each(a,function(a){a.load()}),l()},this.destroy=function(){s=!0,this.off()},this.getStatus=function(){return p}};return i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51)],e=function(a){var b={},c=b.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};return b.getPluginPathType=function(b){if("string"==typeof b){b=b.split("?")[0];var d=b.indexOf("://");if(d>0)return c.ABSOLUTE;var e=b.indexOf("/"),f=a.extension(b);return!(0>d&&0>e)||f&&isNaN(f)?c.RELATIVE:c.CDN}},b.getPluginName=function(a){return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},b.getPluginVersion=function(a){return a.replace(/[^-]*-?([^\.]*).*$/,"$1")},b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(45),c(46),c(44)],e=function(a,b,c){var d={},e={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},f=function(f,g){function h(b){k=e.ERROR,j.trigger(a.ERROR,b)}function i(b){k=e.COMPLETE,j.trigger(a.COMPLETE,b)}var j=c.extend(this,b),k=e.NEW;this.addEventListener=this.on,this.removeEventListener=this.off,this.makeStyleLink=function(a){var b=document.createElement("link");return b.type="text/css",b.rel="stylesheet",b.href=a,b},this.makeScriptTag=function(a){var b=document.createElement("script");return b.src=a,b},this.makeTag=g?this.makeStyleLink:this.makeScriptTag,this.load=function(){if(k===e.NEW){var b=d[f];if(b&&(k=b.getStatus(),2>k))return b.on(a.ERROR,h),void b.on(a.COMPLETE,i);var c=document.getElementsByTagName("head")[0]||document.documentElement,j=this.makeTag(f),l=!1;j.onload=j.onreadystatechange=function(a){l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l=!0,i(a),j.onload=j.onreadystatechange=null,c&&j.parentNode&&!g&&c.removeChild(j))},j.onerror=h,c.insertBefore(j,c.firstChild),k=e.LOADING,d[f]=this}},this.getStatus=function(){return k}};return f.loaderstatus=e,f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(100),c(103)],e=function(a,b){var c=function(c){this.addPlugin=function(d){var e=a.getPluginName(d);return c[e]||(c[e]=new b(d)),c[e]},this.getPlugins=function(){return c}};return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(100),c(45),c(46),c(101),c(44)],e=function(a,b,c,d,e,f){var g={FLASH:0,JAVASCRIPT:1,HYBRID:2},h=function(h){function i(){switch(b.getPluginPathType(h)){case b.pluginPathType.ABSOLUTE:return h;case b.pluginPathType.RELATIVE:return a.getAbsolutePath(h,window.location.href)}}function j(){f.defer(function(){q=e.loaderstatus.COMPLETE,p.trigger(c.COMPLETE)})}function k(){q=e.loaderstatus.ERROR,p.trigger(c.ERROR,{url:h})}var l,m,n,o,p=f.extend(this,d),q=e.loaderstatus.NEW;this.load=function(){if(q===e.loaderstatus.NEW){if(h.lastIndexOf(".swf")>0)return l=h,q=e.loaderstatus.COMPLETE,void p.trigger(c.COMPLETE);if(b.getPluginPathType(h)===b.pluginPathType.CDN)return q=e.loaderstatus.COMPLETE,void p.trigger(c.COMPLETE);q=e.loaderstatus.LOADING;var a=new e(i());a.on(c.COMPLETE,j),a.on(c.ERROR,k),a.load()}},this.registerPlugin=function(a,b,d,f){o&&(clearTimeout(o),o=void 0),n=b,d&&f?(l=f,m=d):"string"==typeof d?l=d:"function"==typeof d?m=d:d||f||(l=a),q=e.loaderstatus.COMPLETE,p.trigger(c.COMPLETE)},this.getStatus=function(){return q},this.getPluginName=function(){return b.getPluginName(h)},this.getFlashPath=function(){if(l)switch(b.getPluginPathType(l)){case b.pluginPathType.ABSOLUTE:return l;case b.pluginPathType.RELATIVE:return h.lastIndexOf(".swf")>0?a.getAbsolutePath(l,window.location.href):a.getAbsolutePath(l,i())}return null},this.getJS=function(){return m},this.getTarget=function(){return n},this.getPluginmode=function(){return void 0!==typeof l&&void 0!==typeof m?g.HYBRID:void 0!==typeof l?g.FLASH:void 0!==typeof m?g.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new m(a,b,c)},this.getURL=function(){return h}};return h}.apply(b,d),!(void 0!==e&&(a.exports=e))},,,,,,,,function(a,b,c){var d,e;d=[c(65),c(112),c(113),c(47)],e=function(a,b,c,d){var e=function(e,f){function g(a){d.log("CAPTIONS("+a+")")}function h(a,b){p=[],q={},r={},s=0;var c,d,e,f=b.tracks;for(e=0;e<f.length;e++)c=f[e],d=c.kind.toLowerCase(),("captions"===d||"subtitles"===d)&&(c.file?(j(c),k(c)):c.data&&j(c));var g=n();this.setCaptionsList(g),o()}function i(a,b){var c=null;0!==b&&(c=p[b-1]),a.set("captionsTrack",c)}function j(a){"number"!=typeof a.id&&(a.id=a.name||a.file||"cc"+p.length),a.data=a.data||[],a.label||(a.label="Unknown CC",s++,s>1&&(a.label+=" ("+s+")")),p.push(a),q[a.id]=a}function k(a){d.ajax(a.file,function(b){l(b,a)},m,!0)}function l(e,f){var h,i=e.responseXML?e.responseXML.firstChild:null;if(i)for("xml"===a.localName(i)&&(i=i.nextSibling);i.nodeType===i.COMMENT_NODE;)i=i.nextSibling;h=i&&"tt"===a.localName(i)?d.tryCatch(function(){f.data=c(e.responseXML)}):d.tryCatch(function(){f.data=b(e.responseText)}),h instanceof d.Error&&g(h.message+": "+f.file)}function m(a){g(a)}function n(){for(var a=[{id:"off",label:"Off"}],b=0;b<p.length;b++)a.push({id:p[b].id,label:p[b].label});return a}function o(){var a=0,b=f.get("captionLabel");if("Off"===b)return void f.set("captionsIndex",0);for(var c=0;c<p.length;c++){var d=p[c];if(b&&b===d.label){a=c+1;break}d["default"]||d.defaulttrack?a=c+1:d.autoselect}f.set("captionsIndex",a)}f.on("change:playlistItem",h,this),f.on("change:captionsIndex",i,this),f.mediaController.on("subtitlesTracks",function(a){if(a.tracks.length){f.mediaController.off("meta"),p=[],q={},r={},s=0;for(var b=a.tracks||[],c=0;c<b.length;c++){var d=b[c];d.id=d.name,d.label=d.name||d.language,j(d)}var e=n();this.setCaptionsList(e),o()}},this),f.mediaController.on("subtitlesTrackData",function(a){var b=q[a.name];if(b){b.source=a.source;for(var c=a.captions||[],d=!1,e=0;e<c.length;e++){var f=c[e],g=a.name+"_"+f.begin+"_"+f.end;r[g]||(r[g]=f,b.data.push(f),d=!0)}d&&b.data.sort(function(a,b){return a.begin-b.begin})}},this),f.mediaController.on("meta",function(a){var b=a.metadata;if(b&&"textdata"===b.type){var c=q[b.trackid];if(!c){c={kind:"captions",id:b.trackid,data:[]},j(c);var d=n();this.setCaptionsList(d)}var e=a.position||f.get("position"),g=""+Math.round(10*e)+"_"+b.text,h=r[g];h||(h={begin:e,text:b.text},r[g]=h,c.data.push(h))}},this);var p=[],q={},r={},s=0;this.getCurrentIndex=function(){return f.get("captionsIndex")},this.getCaptionsList=function(){return f.get("captionsList")},this.setCaptionsList=function(a){f.set("captionsList",a)}};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(51)],e=function(a,b){function c(a){var b={},c=a.split("\r\n");1===c.length&&(c=a.split("\n"));var e=1;if(c[0].indexOf(" --> ")>0&&(e=0),c.length>e+1&&c[e+1]){var f=c[e],g=f.indexOf(" --> ");g>0&&(b.begin=d(f.substr(0,g)),b.end=d(f.substr(g+5)),b.text=c.slice(e+1).join("<br/>"))}return b}var d=a.seconds;return function(a){var d=[];a=b.trim(a);var e=a.split("\r\n\r\n");1===e.length&&(e=a.split("\n\n"));for(var f=0;f<e.length;f++)if("WEBVTT"!==e[f]){var g=c(e[f]);g.text&&d.push(g)}if(!d.length)throw new Error("Invalid SRT file");return d;
}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(51)],e=function(a){function b(a){a||c()}function c(){throw new Error("Invalid DFXP file")}var d=a.seconds;return function(e){b(e);var f=[],g=e.getElementsByTagName("p");b(g),g.length||(g=e.getElementsByTagName("tt:p"),g.length||(g=e.getElementsByTagName("tts:p")));for(var h=0;h<g.length;h++){var i=g[h],j=i.innerHTML||i.textContent||i.text||"",k=a.trim(j).replace(/>\s+</g,"><").replace(/tts?:/g,"");if(k){var l=i.getAttribute("begin"),m=i.getAttribute("dur"),n=i.getAttribute("end"),o={begin:d(l),text:k};n?o.end=d(n):m&&(o.end=o.begin+d(m)),f.push(o)}}return f.length||c(),f}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(69),c(70),c(44),c(78)],e=function(a,b,c,d){function e(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b.choose(d);if(e)return d.type}return null}var f=function(b){return b=c.isArray(b)?b:[b],c.compact(c.map(b,a))};f.filterPlaylist=function(a,b,d,e,f){var i=[];return c.each(a,function(a){a=c.extend({},a),a.allSources=g(a.sources,d,a.drm||e,a.preload||f),a.sources=h(a.allSources,b),a.sources.length&&(a.file=a.sources[0].file,(a.preload||f)&&(a.preload=a.preload||f),i.push(a))}),i};var g=function(a,d,e,f){return c.compact(c.map(a,function(a){return c.isObject(a)?(void 0!==d&&null!==d&&(a.androidhls=d),(a.drm||e)&&(a.drm=a.drm||e),(a.preload||f)&&(a.preload=a.preload||f),b(a)):void 0}))},h=function(a,b){b&&b.choose||(b=new d({primary:b?"flash":null}));var f=e(a,b);return c.where(a,{type:f})};return f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[],e=function(){return function(a,b){a.getPlaylistIndex=a.getItem;var c={jwPlay:b.play,jwPause:b.pause,jwSetMute:b.setMute,jwLoad:b.load,jwPlaylistItem:b.item,jwGetAudioTracks:b.getAudioTracks,jwDetachMedia:b.detachMedia,jwAttachMedia:b.attachMedia,jwAddEventListener:b.on,jwRemoveEventListener:b.off,jwStop:b.stop,jwSeek:b.seek,jwSetVolume:b.setVolume,jwPlaylistNext:b.next,jwPlaylistPrev:b.prev,jwSetFullscreen:b.setFullscreen,jwGetQualityLevels:b.getQualityLevels,jwGetCurrentQuality:b.getCurrentQuality,jwSetCurrentQuality:b.setCurrentQuality,jwSetCurrentAudioTrack:b.setCurrentAudioTrack,jwGetCurrentAudioTrack:b.getCurrentAudioTrack,jwGetCaptionsList:b.getCaptionsList,jwGetCurrentCaptions:b.getCurrentCaptions,jwSetCurrentCaptions:b.setCurrentCaptions,jwSetCues:b.setCues};a.callInternal=function(a){console.log("You are using the deprecated callInternal method for "+a);var d=Array.prototype.slice.call(arguments,1);c[a].apply(b,d)}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(117),c(45),c(154)],e=function(a,b,c){var d=function(d,e){var f=new a(d,e),g=f.setup;return f.setup=function(){if(g.call(this),"trial"===e.get("edition")){var a=document.createElement("div");a.className="jw-icon jw-watermark",this.element().appendChild(a)}e.on("change:skipButton",this.onSkipButton,this),e.on("change:castActive change:playlistItem",this.showDisplayIconImage,this)},f.showDisplayIconImage=function(a){var b=a.get("castActive"),c=a.get("playlistItem"),d=f.controlsContainer().getElementsByClassName("jw-display-icon-container")[0];b&&c&&c.image?(d.style.backgroundImage='url("'+c.image+'")',d.style.backgroundSize="contain"):(d.style.backgroundImage="",d.style.backgroundSize="")},f.onSkipButton=function(a,b){b?this.addSkipButton():this._skipButton&&(this._skipButton.destroy(),this._skipButton=null)},f.addSkipButton=function(){this._skipButton=new c(this.instreamModel),this._skipButton.on(b.JWPLAYER_AD_SKIPPED,function(){this.api.skipAd()},this),this.controlsContainer().appendChild(this._skipButton.element())},f};return d}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(45),c(46),c(61),c(128),c(129),c(130),c(132),c(118),c(134),c(148),c(149),c(152),c(44),c(153)],e=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=a.style,q=a.bounds,r=a.isMobile(),s=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],t=function(t,u){function v(b){var c=a.between(u.get("position")+b,0,u.get("duration"));t.seek(c)}function w(b){var c=a.between(u.get("volume")+b,0,100);t.setVolume(c)}function x(a){return a.ctrlKey||a.metaKey?!1:u.get("controls")?!0:!1}function y(a){if(!x(a))return!0;switch(Fa||_(),a.keyCode){case 27:t.setFullscreen(!1);break;case 13:case 32:t.play();break;case 37:Fa||v(-5);break;case 39:Fa||v(5);break;case 38:w(10);break;case 40:w(-10);break;case 77:t.setMute();break;case 70:t.setFullscreen();break;default:if(a.keyCode>=48&&a.keyCode<=59){var b=a.keyCode-48,c=b/10*u.get("duration");t.seek(c)}}return/13|32|37|38|39|40/.test(a.keyCode)?(a.preventDefault(),!1):void 0}function z(){Ja=!0,Ka.trigger(b.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!1})}function A(){var a=!Ja;Ja=!1,a&&Ka.trigger(b.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!0}),Fa||_()}function B(){Ja=!1,Ka.trigger(b.JWPLAYER_VIEW_TAB_FOCUS,{hasFocus:!1})}function C(){var a=q(ha),c=Math.round(a.width),d=Math.round(a.height);return document.body.contains(ha)?c&&d&&(c!==la||d!==ma)&&(la=c,ma=d,clearTimeout(Ha),Ha=setTimeout(W,50),u.set("containerWidth",c),u.set("containerHeight",d),Ka.trigger(b.JWPLAYER_RESIZE,{width:c,height:d})):(window.removeEventListener("resize",C),r&&window.removeEventListener("orientationchange",C)),a}function D(b,c){c=c||!1,a.toggleClass(ha,"jw-flag-casting",c)}function E(b,c){a.toggleClass(ha,"jw-flag-cast-available",c),a.toggleClass(ia,"jw-flag-cast-available",c)}function F(b,c,d){d&&a.removeClass(ha,"jw-stretch-"+d),a.addClass(ha,"jw-stretch-"+c)}function G(b,c){a.toggleClass(ha,"jw-flag-compact-player",c)}function H(a){a&&!r&&(a.element().addEventListener("mousemove",K,!1),a.element().addEventListener("mouseout",L,!1))}function I(){u.get("state")!==d.IDLE&&u.get("state")!==d.COMPLETE&&u.get("state")!==d.PAUSED||!u.get("controls")||t.play(),Ga?$():_()}function J(a){a.link?(t.pause(!0),t.setFullscreen(!1),window.open(a.link,a.linktarget)):u.get("controls")&&t.play()}function K(){clearTimeout(Ca)}function L(){_()}function M(a){Ka.trigger(a.type,a)}function N(b,c){c?(xa&&xa.destroy(),a.addClass(ha,"jw-flag-flash-blocked")):(xa&&xa.setup(u,ha,ha),a.removeClass(ha,"jw-flag-flash-blocked"))}function O(){u.get("controls")&&t.setFullscreen()}function P(){qa=new f(u,ja),qa.on("click",function(){M({type:b.JWPLAYER_DISPLAY_CLICK}),u.get("controls")&&t.play()}),qa.on("tap",function(){M({type:b.JWPLAYER_DISPLAY_CLICK}),I()}),qa.on("doubleClick",O);var c=new g(u);c.on("click",function(){M({type:b.JWPLAYER_DISPLAY_CLICK}),t.play()}),c.on("tap",function(){M({type:b.JWPLAYER_DISPLAY_CLICK}),I()}),a.isChrome()&&c.el.addEventListener("mousedown",function(){var a=u.getVideo(),b=a&&0===a.getName().name.indexOf("flash");if(b){var d=function(){document.removeEventListener("mouseup",d),c.el.style.pointerEvents="auto"};this.style.pointerEvents="none",document.addEventListener("mouseup",d)}}),ia.appendChild(c.element()),sa=new h(u),ta=new i(u),ta.on(b.JWPLAYER_LOGO_CLICK,J);var d=document.createElement("div");d.className="jw-controls-right jw-reset",u.get("logo")&&d.appendChild(ta.element()),d.appendChild(sa.element()),ia.appendChild(d),va=new e(u),va.setup(u.get("captions")),ia.parentNode.insertBefore(va.element(),ua.element());var k=u.get("height");r&&("string"==typeof k||k>=1.5*Ea)?a.addClass(ha,"jw-flag-touch"):(xa=new l,xa.setup(u,ha,ha)),oa=new j(t,u),oa.on(b.JWPLAYER_USER_ACTION,_),u.on("change:scrubbing",R),u.on("change:compactUI",G),ia.appendChild(oa.element()),ha.onfocusin=A,ha.onfocusout=B,ha.addEventListener("focus",A),ha.addEventListener("blur",B),ha.addEventListener("keydown",y),ha.onmousedown=z}function Q(b){return b.get("state")===d.PAUSED?void b.once("change:state",Q):void(b.get("scrubbing")===!1&&a.removeClass(ha,"jw-flag-dragging"))}function R(b,c){b.off("change:state",Q),c?a.addClass(ha,"jw-flag-dragging"):Q(b)}function S(b,c,d){var e,f=ha.className;d=!!d,d&&(f=f.replace(/\s*aspectMode/,""),ha.className!==f&&(ha.className=f),a.style(ha,{display:"block"},d)),a.exists(b)&&a.exists(c)&&(u.set("width",b),u.set("height",c)),e={width:b},a.hasClass(ha,"jw-flag-aspect-mode")||(e.height=c),p(ha,e,!0),ta&&ta.offset(oa&&ta.position().indexOf("bottom")>=0?oa.element().clientHeight:0),T(c),W(b,c)}function T(b){if(wa=U(b),oa&&!wa){var c=Fa?na:u;ga(c,c.get("state"))}a.toggleClass(ha,"jw-flag-audio-player",wa)}function U(a){if(u.get("aspectratio"))return!1;if(n.isString(a)&&a.indexOf("%")>-1)return!1;var b=n.isNumber(a)?a:u.get("containerHeight");return V(b)}function V(a){return a&&Ea*(r?1.75:1)>=a}function W(b,c){if(!b||isNaN(Number(b))){if(!ja)return;b=ja.clientWidth}if(!c||isNaN(Number(c))){if(!ja)return;c=ja.clientHeight}a.isMSIE(9)&&document.all&&!window.atob&&(b=c="100%");var d=u.getVideo();if(d){var e=d.resize(b,c,u.get("stretching"));e&&(clearTimeout(Ha),Ha=setTimeout(W,250)),va.resize(),oa.checkCompactMode(b)}}function X(){if(Ia){var a=document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!(!a||a.id!==u.get("id"))}return Fa?na.getVideo().getFullScreen():u.getVideo().getFullScreen()}function Y(a){var b=u.get("fullscreen"),c=void 0!==a.jwstate?a.jwstate:X();b!==c&&u.set("fullscreen",c),clearTimeout(Ha),Ha=setTimeout(W,200)}function Z(b,c){a.removeClass(b,"jw-flag-fullscreen"),c?(a.addClass(b,"jw-flag-fullscreen"),p(document.body,{"overflow-y":"hidden"}),_()):p(document.body,{"overflow-y":""}),W()}function $(){Ga=!1,clearTimeout(Ca),oa.hideComponents(),a.addClass(ha,"jw-flag-user-inactive")}function _(){Ga||(a.removeClass(ha,"jw-flag-user-inactive"),oa.checkCompactMode(ja.clientWidth)),Ga=!0,clearTimeout(Ca),Ca=setTimeout($,Da)}function aa(){t.setFullscreen(!1)}function ba(){ra&&ra.setState(u.get("state")),ca(u,u.mediaModel.get("mediaType")),u.mediaModel.on("change:mediaType",ca,this)}function ca(b,c){var d="audio"===c;a.toggleClass(ha,"jw-flag-media-audio",d)}function da(b,c){var d="LIVE"===a.adaptiveType(c);a.toggleClass(ha,"jw-flag-live",d),Ka.setAltText(d?"Live Broadcast":"")}function ea(a,b){return b?void(b.name?ua.updateText(b.name,b.message):ua.updateText(b.message,"")):void ua.playlistItem(a,a.get("playlistItem"))}function fa(){var a=u.getVideo();return a?a.isCaster:!1}function ga(b,c){if(a.removeClass(ha,"jw-state-"+ya),a.addClass(ha,"jw-state-"+c),ya=c,fa())return void a.addClass(ja,"jw-media-show");switch(c){case d.PLAYING:W();break;case d.PAUSED:_()}}var ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca=-1,Da=r?4e3:2e3,Ea=40,Fa=!1,Ga=!1,Ha=-1,Ia=!1,Ja=!1,Ka=n.extend(this,c);this.model=u,this.api=t,ha=a.createElement(o({id:u.get("id")}));var La=u.get("width"),Ma=u.get("height");p(ha,{width:La.toString().indexOf("%")>0?La:La+"px",height:Ma.toString().indexOf("%")>0?Ma:Ma+"px"}),Aa=ha.requestFullscreen||ha.webkitRequestFullscreen||ha.webkitRequestFullScreen||ha.mozRequestFullScreen||ha.msRequestFullscreen,Ba=document.exitFullscreen||document.webkitExitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,Ia=Aa&&Ba,this.onChangeSkin=function(b,c,d){d&&a.removeClass(ha,"jw-skin-"+d),c&&a.addClass(ha,"jw-skin-"+c)},this.handleColorOverrides=function(){function b(b,d,e){if(e){b=a.prefix(b,"#"+c+" ");var f={};f[d]=e,a.css(b.join(", "),f)}}var c=u.get("id"),d=u.get("skinColorActive"),e=u.get("skinColorInactive"),f=u.get("skinColorBackground");b([".jw-toggle",".jw-button-color:hover"],"color",d),b([".jw-active-option",".jw-progress",".jw-playlist-container .jw-option.jw-active-option",".jw-playlist-container .jw-option:hover"],"background",d),b([".jw-text",".jw-option",".jw-button-color",".jw-toggle.jw-off",".jw-tooltip-title",".jw-skip .jw-skip-icon",".jw-playlist-container .jw-icon"],"color",e),b([".jw-cue",".jw-knob"],"background",e),b([".jw-playlist-container .jw-option"],"border-bottom-color",e),b([".jw-background-color",".jw-tooltip-title",".jw-playlist",".jw-playlist-container .jw-option"],"background",f),b([".jw-playlist-container ::-webkit-scrollbar"],"border-color",f)},this.setup=function(){this.handleColorOverrides(),u.get("skin-loading")===!0&&(a.addClass(ha,"jw-flag-skin-loading"),u.once("change:skin-loading",function(){a.removeClass(ha,"jw-flag-skin-loading")})),this.onChangeSkin(u,u.get("skin"),""),u.on("change:skin",this.onChangeSkin,this),ja=ha.getElementsByClassName("jw-media")[0],ia=ha.getElementsByClassName("jw-controls")[0],ka=ha.getElementsByClassName("jw-aspect")[0];var c=ha.getElementsByClassName("jw-preview")[0];pa=new k(u),pa.setup(c);var e=ha.getElementsByClassName("jw-title")[0];ua=new m(u),ua.setup(e),P(),_(),u.set("mediaContainer",ja),u.mediaController.on("fullscreenchange",Y);for(var f=s.length;f--;)document.addEventListener(s[f],Y,!1);window.removeEventListener("resize",C),window.addEventListener("resize",C,!1),r&&(window.removeEventListener("orientationchange",C),window.addEventListener("orientationchange",C,!1)),u.on("change:errorEvent",ea),u.on("change:controls",Na),Na(u,u.get("controls")),u.on("change:state",ga),u.on("change:duration",da,this),u.on("change:flashBlocked",N),N(u,u.get("flashBlocked")),t.onPlaylistComplete(aa),t.onPlaylistItem(ba),u.on("change:castAvailable",E),E(u,u.get("castAvailable")),u.on("change:castActive",D),D(u,u.get("castActive")),u.get("stretching")&&F(u,u.get("stretching")),u.on("change:stretching",F),ga(u,d.IDLE),u.on("change:fullscreen",Oa),r||(qa.element().addEventListener("mouseout",_,!1),qa.element().addEventListener("mousemove",_,!1)),H(oa),H(ta),u.get("aspectratio")&&(a.addClass(ha,"jw-flag-aspect-mode"),a.style(ka,{"padding-top":u.get("aspectratio")})),t.on(b.JWPLAYER_READY,function(){C(),S(u.get("width"),u.get("height"))})};var Na=function(b,c){if(c){var d=Fa?na.get("state"):u.get("state");ga(b,d)}a.toggleClass(ha,"jw-flag-controls-disabled",!c)},Oa=function(b,c){var d=u.getVideo();Ia?(c?Aa.apply(ha):Ba.apply(document),Z(ha,c)):a.isIE()?Z(ha,c):(na&&na.getVideo()&&na.getVideo().setFullscreen(c),d.setFullscreen(c)),d&&0===d.getName().name.indexOf("flash")&&d.setFullscreen(c)};this.resize=function(a,b){var c=!0;S(a,b,c),C()},this.resizeMedia=W,this.reset=function(){document.contains(ha)&&ha.parentNode.replaceChild(za,ha),a.emptyElement(ha)},this.setupInstream=function(b){this.instreamModel=na=b,na.on("change:controls",Na,this),na.on("change:state",ga,this),Fa=!0,a.addClass(ha,"jw-flag-ads"),_()},this.setAltText=function(a){oa.setAltText(a)},this.useExternalControls=function(){a.addClass(ha,"jw-flag-ads-hide-controls")},this.destroyInstream=function(){if(Fa=!1,na&&(na.off(null,null,this),na=null),this.setAltText(""),a.removeClass(ha,"jw-flag-ads"),a.removeClass(ha,"jw-flag-ads-hide-controls"),u.getVideo){var b=u.getVideo();b.setContainer(ja)}da(u,u.get("duration")),qa.revertAlternateClickHandlers()},this.addCues=function(a){oa&&oa.addCues(a)},this.clickHandler=function(){return qa},this.controlsContainer=function(){return ia},this.getContainer=this.element=function(){return ha},this.getSafeRegion=function(b){var c={x:0,y:0,width:u.get("containerWidth")||0,height:u.get("containerHeight")||0},d=u.get("dock");return d&&d.length&&u.get("controls")&&(c.y=sa.element().clientHeight,c.height-=c.y),b=b||!a.exists(b),b&&u.get("controls")&&(c.height-=oa.element().clientHeight),c},this.destroy=function(){window.removeEventListener("resize",C),window.removeEventListener("orientationchange",C);for(var b=s.length;b--;)document.removeEventListener(s[b],Y,!1);u.mediaController&&u.mediaController.off("fullscreenchange",Y),ha.removeEventListener("keydown",y,!1),xa&&xa.destroy(),ra&&(u.off("change:state",ra.statusDelegate),ra.destroy(),ra=null),ia&&(qa.element().removeEventListener("mousemove",_),qa.element().removeEventListener("mouseout",_)),Fa&&this.destroyInstream(),a.clearCss("#"+u.get("id"))}};return t}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(119),c(47),c(45),c(44),c(46),c(120)],e=function(a,b,c,d,e,f){var g=b.style,h={linktarget:"_blank",margin:8,hide:!1,position:"top-right"},i=function(i){function j(){n=d.extend({},h,p),n.hide="true"===n.hide.toString(),k()}function k(){if(m=b.createElement(f({file:n.file})),n.file){if(n.hide&&b.addClass(m,"jw-hide"),n.position!==h.position||n.margin!==h.margin){var c=/(\w+)-(\w+)/.exec(n.position),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};3===c.length&&(d[c[1]]=n.margin,d[c[2]]=n.margin,g(m,d))}var e=new a(m);e.on("click tap",l)}}function l(a){b.exists(a)&&a.stopPropagation&&a.stopPropagation(),o.trigger(c.JWPLAYER_LOGO_CLICK,{link:n.link,linktarget:n.linktarget})}var m,n,o=this,p=d.extend({},i.get("logo"));return d.extend(this,e),this.element=function(){return m},this.offset=function(a){g(m,{marginBottom:a})},this.position=function(){return n.position},this.margin=function(){return parseInt(n.margin,10)},j(),this};return i}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(46),c(45),c(44),c(47)],e=function(a,b,c,d){function e(a,b){return/touch/.test(a.type)?(a.originalEvent||a).changedTouches[0]["page"+b]:a["page"+b]}function f(a){var b=a||window.event;return a instanceof MouseEvent?"which"in b?3===b.which:"button"in b?2===b.button:!1:!1}function g(a,b,c){var d;return d=b instanceof MouseEvent||!b.touches&&!b.changedTouches?b:b.touches&&b.touches.length?b.touches[0]:b.changedTouches[0],{type:a,target:b.target,currentTarget:c,pageX:d.pageX,pageY:d.pageY}}function h(a){(a instanceof MouseEvent||a instanceof window.TouchEvent)&&(a.preventManipulation&&a.preventManipulation(),a.cancelable&&a.preventDefault&&a.preventDefault())}var i=!c.isUndefined(window.PointerEvent),j=!i&&d.isMobile(),k=!i&&!j,l=d.isFF()&&d.isOSX(),m=function(a,d){function j(a){(k||i&&"touch"!==a.pointerType)&&q(b.touchEvents.OVER,a)}function m(c){(k||i&&"touch"!==c.pointerType&&!a.contains(document.elementFromPoint(c.x,c.y)))&&q(b.touchEvents.OUT,c)}function n(b){r=b.target,v=e(b,"X"),w=e(b,"Y"),f(b)||(i?b.isPrimary&&(d.preventScrolling&&(s=b.pointerId,a.setPointerCapture(s)),a.addEventListener("pointermove",o),a.addEventListener("pointerup",p),a.addEventListener("pointercancel",p)):k&&(document.addEventListener("mousemove",o),l&&"object"===b.target.nodeName.toLowerCase()?a.addEventListener("click",p):document.addEventListener("mouseup",p)),r.addEventListener("touchmove",o),r.addEventListener("touchend",p),r.addEventListener("touchcancel",p))}function o(a){var c=b.touchEvents,f=6;if(u)q(c.DRAG,a);else{var g=e(a,"X"),i=e(a,"Y"),j=g-v,k=i-w;j*j+k*k>f*f&&(q(c.DRAG_START,a),u=!0,q(c.DRAG,a))}d.preventScrolling&&h(a)}function p(c){var e=b.touchEvents;i?(d.preventScrolling&&a.releasePointerCapture(s),a.removeEventListener("pointermove",o),a.removeEventListener("pointercancel",p),a.removeEventListener("pointerup",p)):k&&(document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",p)),r.removeEventListener("touchmove",o),r.removeEventListener("touchcancel",p),r.removeEventListener("touchend",p),u?q(e.DRAG_END,c):d.directSelect&&c.target!==a||(i&&c instanceof window.PointerEvent?"touch"===c.pointerType?q(e.TAP,c):q(e.CLICK,c):k?q(e.CLICK,c):(q(e.TAP,c),h(c))),r=null,u=!1}function q(a,e){var f;if(d.enableDoubleTap&&(a===b.touchEvents.CLICK||a===b.touchEvents.TAP))if(c.now()-x<y){var h=a===b.touchEvents.CLICK?b.touchEvents.DOUBLE_CLICK:b.touchEvents.DOUBLE_TAP;f=g(h,e,t),z.trigger(h,f),x=0}else x=c.now();f=g(a,e,t),z.trigger(a,f)}var r,s,t=a,u=!1,v=0,w=0,x=0,y=300;d=d||{},i?(a.addEventListener("pointerdown",n),d.useHover&&(a.addEventListener("pointerover",j),a.addEventListener("pointerout",m))):k&&(a.addEventListener("mousedown",n),d.useHover&&(a.addEventListener("mouseover",j),a.addEventListener("mouseout",m))),a.addEventListener("touchstart",n);var z=this;return this.triggerEvent=q,this.destroy=function(){a.removeEventListener("touchstart",n),a.removeEventListener("mousedown",n),r&&(r.removeEventListener("touchmove",o),r.removeEventListener("touchcancel",p),r.removeEventListener("touchend",p)),i&&(d.preventScrolling&&a.releasePointerCapture(s),a.removeEventListener("pointerdown",n),a.removeEventListener("pointermove",o),a.removeEventListener("pointercancel",p),a.removeEventListener("pointerup",p)),a.removeEventListener("click",p),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",p)},this};return c.extend(m.prototype,a),m}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({1:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'src="'+h((e=null!=(e=b.file||(null!=a?a.file:a))?e:g,typeof e===f?e.call(a,{name:"file",hash:{},data:d}):e))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="jw-logo jw-reset">\n    <img class="jw-logo-image" ';return e=b["if"].call(a,null!=a?a.file:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+">\n</div>"},useData:!0})},function(a,b,c){a.exports=c(122)},function(a,b,c){"use strict";var d=c(123),e=c(125)["default"],f=c(126)["default"],g=c(124),h=c(127),i=function(){var a=new d.HandlebarsEnvironment;return g.extend(a,d),a.SafeString=e,a.Exception=f,a.Utils=g,a.escapeExpression=g.escapeExpression,a.VM=h,a.template=function(b){return h.template(b,a)},a},j=i();j.create=i,j["default"]=j,b["default"]=j},function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new g("Missing helper: '"+arguments[arguments.length-1].name+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(b===!0)return e(this);if(b===!1||null==b)return d(this);if(k(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=q(c.data);g.contextPath=f.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){if(!b)throw new g("Must pass iterator to #each");var c,d,e=b.fn,h=b.inverse,i=0,j="";if(b.data&&b.ids&&(d=f.appendContextPath(b.data.contextPath,b.ids[0])+"."),l(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(k(a))for(var m=a.length;m>i;i++)c&&(c.index=i,c.first=0===i,c.last=i===a.length-1,d&&(c.contextPath=d+i)),j+=e(a[i],{data:c});else for(var n in a)a.hasOwnProperty(n)&&(c&&(c.key=n,c.index=i,c.first=0===i,d&&(c.contextPath=d+n)),j+=e(a[n],{data:c}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(a,b){return l(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||f.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){l(a)&&(a=a.call(this));var c=b.fn;if(f.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=q(b.data);d.contextPath=f.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}var f=c(124),g=c(126)["default"],h="2.0.0";b.VERSION=h;var i=6;b.COMPILER_REVISION=i;var j={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=j;var k=f.isArray,l=f.isFunction,m=f.toString,n="[object Object]";b.HandlebarsEnvironment=d,d.prototype={constructor:d,logger:o,log:p,registerHelper:function(a,b){if(m.call(a)===n){if(b)throw new g("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){m.call(a)===n?f.extend(this.partials,a):this.partials[a]=b},unregisterPartial:function(a){delete this.partials[a]}};var o={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(o.level<=a){var c=o.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};b.logger=o;var p=o.log;b.log=p;var q=function(a){var b=f.extend({},a);return b._parent=a,b};b.createFrame=q},function(a,b,c){"use strict";function d(a){return j[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a){return a instanceof i?a.toString():null==a?"":a?(a=""+a,l.test(a)?a.replace(k,d):a):a+""}function g(a){return a||0===a?o(a)&&0===a.length?!0:!1:!0}function h(a,b){return(a?a+".":"")+b}var i=c(125)["default"],j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=/[&<>"'`]/g,l=/[&<>"'`]/;b.extend=e;var m=Object.prototype.toString;b.toString=m;var n=function(a){return"function"==typeof a};n(/x/)&&(n=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)});var n;b.isFunction=n;var o=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===m.call(a):!1};b.isArray=o,b.escapeExpression=f,b.isEmpty=g,b.appendContextPath=h},function(a,b){"use strict";function c(a){this.string=a}c.prototype.toString=function(){return""+this.string},b["default"]=c},function(a,b){"use strict";function c(a,b){var c;b&&b.firstLine&&(c=b.firstLine,a+=" - "+c+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<d.length;f++)this[d[f]]=e[d[f]];c&&(this.lineNumber=c,this.column=b.firstColumn)}var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=l;if(b!==c){if(c>b){var d=m[c],e=m[b];throw new k("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new k("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new k("No environment passed to template");if(!a||!a.main)throw new k("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var c=function(c,d,e,f,g,h,i,l,m){g&&(f=j.extend({},f,g));var n=b.VM.invokePartial.call(this,c,e,f,h,i,l,m);if(null==n&&b.compile){var o={helpers:h,partials:i,data:l,depths:m};i[e]=b.compile(c,{data:void 0!==l,compat:a.compat},b),n=i[e](f,o)}if(null!=n){if(d){for(var p=n.split("\n"),q=0,r=p.length;r>q&&(p[q]||q+1!==r);q++)p[q]=d+p[q];n=p.join("\n")}return n}throw new k("The partial "+e+" could not be compiled when running in runtime-only mode")},d={lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:j.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c){var d=this.programs[a],e=this.fn(a);return b||c?d=f(this,a,e,b,c):d||(d=this.programs[a]=f(this,a,e)),d},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=j.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler},e=function(b,c){c=c||{};var f=c.data;e._setup(c),!c.partial&&a.useData&&(f=i(b,f));var g;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(d,b,d.helpers,d.partials,f,g)};return e.isTop=!0,e._setup=function(c){c.partial?(d.helpers=c.helpers,d.partials=c.partials):(d.helpers=d.merge(c.helpers,b.helpers),a.usePartial&&(d.partials=d.merge(c.partials,b.partials)))},e._child=function(b,c,e){if(a.useDepths&&!e)throw new k("must pass parent depths");return f(d,b,a[b],c,e)},e}function f(a,b,c,d,e){var f=function(b,f){return f=f||{},c.call(a,b,a.helpers,a.partials,f.data||d,e&&[b].concat(e))};return f.program=b,f.depth=e?e.length:0,f}function g(a,b,c,d,e,f,g){var h={partial:!0,helpers:d,partials:e,data:f,depths:g};if(void 0===a)throw new k("The partial "+b+" could not be found");return a instanceof Function?a(c,h):void 0}function h(){return""}function i(a,b){return b&&"root"in b||(b=b?n(b):{},b.root=a),b}var j=c(124),k=c(126)["default"],l=c(123).COMPILER_REVISION,m=c(123).REVISION_CHANGES,n=c(123).createFrame;b.checkRevision=d,b.template=e,b.program=f,b.invokePartial=g,b.noop=h},function(a,b,c){var d,e;d=[c(47),c(55),c(61),c(44)],e=function(a,b,c,d){var e=b.style,f={back:!0,fontSize:15,fontFamily:"Arial,sans-serif",fontOpacity:100,color:"#FFF",backgroundColor:"#000",backgroundOpacity:100,edgeStyle:null,windowColor:"#FFF",windowOpacity:0,preprocessor:d.identity},g=function(g){function h(b){b=b||"";var c="jw-captions-window jw-reset";b?(s.innerHTML=b,r.className=c+" jw-captions-window-active"):(r.className=c,a.empty(s))}function i(a){p=a,k(n,p)}function j(a,b){var c=a.source,e=b.metadata;return c?e&&d.isNumber(e[c])?e[c]:!1:b.position}function k(a,b){if(a&&a.data&&b){var c=j(a,b);if(c!==!1){var d=a.data;if(!(o>=0&&l(d,o,c))){for(var e=-1,f=0;f<d.length;f++)if(l(d,f,c)){e=f;break}-1===e?h(""):e!==o&&(o=e,h(t.preprocessor(d[o].text)))}}}}function l(a,b,c){return a[b].begin<=c&&(!a[b].end||a[b].end>=c)&&(b===a.length-1||a[b+1].begin>=c)}function m(a,c,d){var e=b.hexToRgba("#000000",d);"dropshadow"===a?c.textShadow="0 2px 1px "+e:"raised"===a?c.textShadow="0 0 5px "+e+", 0 1px 5px "+e+", 0 2px 5px "+e:"depressed"===a?c.textShadow="0 -2px 1px "+e:"uniform"===a&&(c.textShadow="-2px 0 1px "+e+",2px 0 1px "+e+",0 -2px 1px "+e+",0 2px 1px "+e+",-1px 1px 1px "+e+",1px 1px 1px "+e+",1px -1px 1px "+e+",1px 1px 1px "+e)}var n,o,p,q,r,s,t={};q=document.createElement("div"),q.className="jw-captions jw-reset",this.show=function(){q.className="jw-captions jw-captions-enabled jw-reset"},this.hide=function(){q.className="jw-captions jw-reset"},this.populate=function(a){return o=-1,n=a,a?void k(a,p):void h("")},this.resize=function(){var a=q.clientWidth,b=Math.pow(a/400,.6);if(b){var c=t.fontSize*b;e(q,{fontSize:Math.round(c)+"px"})}},this.setup=function(a){if(r=document.createElement("div"),s=document.createElement("span"),r.className="jw-captions-window jw-reset",s.className="jw-captions-text jw-reset",t=d.extend({},f,a),a){var c=t.fontOpacity,h=t.windowOpacity,i=t.edgeStyle,j=t.backgroundColor,k={},l={color:b.hexToRgba(t.color,c),fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textDecoration:t.textDecoration};h&&(k.backgroundColor=b.hexToRgba(t.windowColor,h)),m(i,l,c),t.back?l.backgroundColor=b.hexToRgba(j,t.backgroundOpacity):null===i&&m("uniform",l),e(r,k),e(s,l)}r.appendChild(s),q.appendChild(r),this.populate(g.get("captionsTrack"))},this.element=function(){return q},g.on("change:playlistItem",function(){p=null,o=-1,h("")},this),g.on("change:captionsTrack",function(a,b){this.populate(b)},this),g.mediaController.on("seek",function(){o=-1},this),g.mediaController.on("time seek",i,this),g.mediaController.on("subtitlesTrackData",function(){k(n,p)},this),g.on("change:state",function(a,b){switch(b){case c.IDLE:case c.ERROR:case c.COMPLETE:this.hide();break;default:this.show()}},this)};return g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(119),c(45),c(46),c(44)],e=function(a,b,c,d){var e=function(e,f){function g(a){return e.get("flashBlocked")?void 0:j?void j(a):void m.trigger(a.type===b.touchEvents.CLICK?"click":"tap")}function h(){return k?void k():void m.trigger("doubleClick")}var i,j,k;d.extend(this,c),i=f,this.element=function(){return i};var l=new a(i,{enableDoubleTap:!0});l.on("click tap",g),l.on("doubleClick doubleTap",h),this.clickHandler=g;var m=this;this.setAlternateClickHandlers=function(a,b){j=a,k=b||null},this.revertAlternateClickHandlers=function(){j=null,k=null}};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(46),c(119),c(131),c(44)],e=function(a,b,c,d,e){var f=function(f){e.extend(this,b),this.model=f,this.el=a.createElement(d({}));var g=this;this.iconUI=new c(this.el).on("click tap",function(a){g.trigger(a.type)})};return e.extend(f.prototype,{element:function(){return this.el;
}}),f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="jw-display-icon-container jw-background-color jw-reset">\n    <div class="jw-icon jw-icon-display jw-button-color jw-reset"></div>\n</div>\n'},useData:!0})},function(a,b,c){var d,e;d=[c(133),c(47),c(44),c(119)],e=function(a,b,c,d){var e=function(a){this.model=a,this.setup(),this.model.on("change:dock",this.render,this)};return c.extend(e.prototype,{setup:function(){var c=this.model.get("dock"),e=this.click.bind(this),f=a(c);this.el=b.createElement(f),new d(this.el).on("click tap",e)},getDockButton:function(a){return b.hasClass(a.target,"jw-dock-button")?a.target:b.hasClass(a.target,"jw-dock-text")?a.target.parentElement.parentElement:a.target.parentElement},click:function(a){var b=this.getDockButton(a),d=b.getAttribute("button"),e=this.model.get("dock"),f=c.findWhere(e,{id:d});f&&f.callback&&f.callback(a)},render:function(){var c=this.model.get("dock"),d=a(c),e=b.createElement(d);this.el.innerHTML=e.innerHTML},element:function(){return this.el}}),e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({1:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='    <div class="jw-dock-button jw-background-color jw-reset';return e=b["if"].call(a,null!=a?a.btnClass:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+='" button="'+i((f=null!=(f=b.id||(null!=a?a.id:a))?f:h,typeof f===g?f.call(a,{name:"id",hash:{},data:d}):f))+'">\n        <div class="jw-icon jw-dock-image jw-reset" ',e=b["if"].call(a,null!=a?a.img:a,{name:"if",hash:{},fn:this.program(4,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+='></div>\n        <div class="jw-arrow jw-reset"></div>\n',e=b["if"].call(a,null!=a?a.tooltip:a,{name:"if",hash:{},fn:this.program(6,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"    </div>\n"},2:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return" "+h((e=null!=(e=b.btnClass||(null!=a?a.btnClass:a))?e:g,typeof e===f?e.call(a,{name:"btnClass",hash:{},data:d}):e))},4:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"style='background-image: url(\""+h((e=null!=(e=b.img||(null!=a?a.img:a))?e:g,typeof e===f?e.call(a,{name:"img",hash:{},data:d}):e))+"\")'"},6:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'        <div class="jw-overlay jw-background-color jw-reset">\n            <span class="jw-text jw-dock-text jw-reset">'+h((e=null!=(e=b.tooltip||(null!=a?a.tooltip:a))?e:g,typeof e===f?e.call(a,{name:"tooltip",hash:{},data:d}):e))+"</span>\n        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="jw-dock jw-reset">\n';return e=b.each.call(a,a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+"</div>"},useData:!0})},function(a,b,c){var d,e;d=[c(47),c(44),c(46),c(119),c(136),c(135),c(142),c(144),c(146),c(147)],e=function(a,b,c,d,e,f,g,h,i,j){function k(a,b){var c=document.createElement("div");return c.className="jw-icon jw-icon-inline jw-button-color jw-reset "+a,c.style.display="none",b&&new d(c).on("click tap",function(){b()}),{element:function(){return c},toggle:function(a){a?this.show():this.hide()},show:function(){c.style.display=""},hide:function(){c.style.display="none"}}}function l(a){var b=document.createElement("span");return b.className="jw-text jw-reset "+a,b}function m(a){var b=new g(a);return b}function n(a,c){var d=document.createElement("div");return d.className="jw-group jw-controlbar-"+a+"-group jw-reset",b.each(c,function(a){a.element&&(a=a.element()),d.appendChild(a)}),d}function o(b,c){this._api=b,this._model=c,this._isMobile=a.isMobile(),this._compactModeMaxSize=400,this._maxCompactWidth=-1,this.setup()}return b.extend(o.prototype,c,{setup:function(){this.build(),this.initialize()},build:function(){var a,c,d,g,o=new f(this._model,this._api),p=new j("jw-icon-more");this._model.get("visualplaylist")!==!1&&(a=new h("jw-icon-playlist")),this._isMobile||(g=k("jw-icon-volume",this._api.setMute),c=new e("jw-slider-volume","horizontal"),d=new i(this._model,"jw-icon-volume")),this.elements={alt:l("jw-text-alt"),play:k("jw-icon-playback",this._api.play),prev:k("jw-icon-prev",this._api.playlistPrev),next:k("jw-icon-next",this._api.playlistNext),playlist:a,elapsed:l("jw-text-elapsed"),time:o,duration:l("jw-text-duration"),drawer:p,hd:m("jw-icon-hd"),cc:m("jw-icon-cc"),audiotracks:m("jw-icon-audio-tracks"),mute:g,volume:c,volumetooltip:d,cast:k("jw-icon-cast jw-off",this._api.castToggle),fullscreen:k("jw-icon-fullscreen",this._api.setFullscreen)},this.layout={left:[this.elements.play,this.elements.prev,this.elements.playlist,this.elements.next,this.elements.elapsed],center:[this.elements.time,this.elements.alt],right:[this.elements.duration,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.drawer,this.elements.mute,this.elements.cast,this.elements.volume,this.elements.volumetooltip,this.elements.fullscreen],drawer:[this.elements.hd,this.elements.cc,this.elements.audiotracks]},this.menus=b.compact([this.elements.playlist,this.elements.hd,this.elements.cc,this.elements.audiotracks,this.elements.volumetooltip]),this.layout.left=b.compact(this.layout.left),this.layout.center=b.compact(this.layout.center),this.layout.right=b.compact(this.layout.right),this.layout.drawer=b.compact(this.layout.drawer),this.el=document.createElement("div"),this.el.className="jw-controlbar jw-background-color jw-reset",this.elements.left=n("left",this.layout.left),this.elements.center=n("center",this.layout.center),this.elements.right=n("right",this.layout.right),this.el.appendChild(this.elements.left),this.el.appendChild(this.elements.center),this.el.appendChild(this.elements.right)},initialize:function(){this.elements.play.show(),this.elements.fullscreen.show(),this.elements.mute&&this.elements.mute.show(),this.onVolume(this._model,this._model.get("volume")),this.onPlaylist(this._model,this._model.get("playlist")),this.onPlaylistItem(this._model,this._model.get("playlistItem")),this.onMediaModel(this._model,this._model.get("mediaModel")),this.onCastAvailable(this._model,this._model.get("castAvailable")),this.onCastActive(this._model,this._model.get("castActive")),this.onCaptionsList(this._model,this._model.get("captionsList")),this._model.on("change:volume",this.onVolume,this),this._model.on("change:mute",this.onMute,this),this._model.on("change:playlist",this.onPlaylist,this),this._model.on("change:playlistItem",this.onPlaylistItem,this),this._model.on("change:mediaModel",this.onMediaModel,this),this._model.on("change:castAvailable",this.onCastAvailable,this),this._model.on("change:castActive",this.onCastActive,this),this._model.on("change:duration",this.onDuration,this),this._model.on("change:position",this.onElapsed,this),this._model.on("change:fullscreen",this.onFullscreen,this),this._model.on("change:captionsList",this.onCaptionsList,this),this._model.on("change:captionsIndex",this.onCaptionsIndex,this),this._model.on("change:compactUI",this.onCompactUI,this),this.elements.volume&&this.elements.volume.on("update",function(a){var b=a.percentage;this._api.setVolume(b)},this),this.elements.volumetooltip&&(this.elements.volumetooltip.on("update",function(a){var b=a.percentage;this._api.setVolume(b)},this),this.elements.volumetooltip.on("toggleValue",function(){this._api.setMute()},this)),this.elements.playlist&&this.elements.playlist.on("select",function(a){this._model.once("itemReady",function(){this._api.play()},this),this._api.load(a)},this),this.elements.hd.on("select",function(a){this._model.getVideo().setCurrentQuality(a)},this),this.elements.hd.on("toggleValue",function(){this._model.getVideo().setCurrentQuality(0===this._model.getVideo().getCurrentQuality()?1:0)},this),this.elements.cc.on("select",function(a){this._api.setCurrentCaptions(a)},this),this.elements.cc.on("toggleValue",function(){var a=this._model.get("captionsIndex");this._api.setCurrentCaptions(a?0:1)},this),this.elements.audiotracks.on("select",function(a){this._model.getVideo().setCurrentAudioTrack(a)},this),new d(this.elements.duration).on("click tap",function(){"DVR"===a.adaptiveType(this._model.get("duration"))&&this._api.seek(-.1)},this),new d(this.el).on("click tap drag",function(){this.trigger("userAction")},this),this.elements.drawer.on("open-drawer close-drawer",function(b,c){a.toggleClass(this.el,"jw-drawer-expanded",c.isOpen),c.isOpen||this.closeMenus()},this),b.each(this.menus,function(a){a.on("open-tooltip",this.closeMenus,this)},this)},onCaptionsList:function(a,b){var c=a.get("captionsIndex");this.elements.cc.setup(b,c),this.clearCompactMode()},onCaptionsIndex:function(a,b){this.elements.cc.selectItem(b)},onPlaylist:function(a,b){var c=b.length>1;this.elements.next.toggle(c),this.elements.prev.toggle(c),this.elements.playlist&&this.elements.playlist.setup(b,a.get("item"))},onPlaylistItem:function(a){this.elements.time.updateBuffer(0),this.elements.time.render(0),this.elements.duration.innerHTML="00:00",this.elements.elapsed.innerHTML="00:00",this.clearCompactMode();var b=a.get("item");this.elements.playlist&&this.elements.playlist.selectItem(b),this.elements.audiotracks.setup()},onMediaModel:function(c,d){d.on("change:levels",function(a,b){this.elements.hd.setup(b,a.get("currentLevel")),this.clearCompactMode()},this),d.on("change:currentLevel",function(a,b){this.elements.hd.selectItem(b)},this),d.on("change:audioTracks",function(a,c){var d=b.map(c,function(a){return{label:a.name}});this.elements.audiotracks.setup(d,a.get("currentAudioTrack"),{toggle:!1}),this.clearCompactMode()},this),d.on("change:currentAudioTrack",function(a,b){this.elements.audiotracks.selectItem(b)},this),d.on("change:state",function(b,c){"complete"===c&&(this.elements.drawer.closeTooltip(),a.removeClass(this.el,"jw-drawer-expanded"))},this)},onVolume:function(a,b){this.renderVolume(a.get("mute"),b)},onMute:function(a,b){this.renderVolume(b,a.get("volume"))},renderVolume:function(b,c){this.elements.mute&&a.toggleClass(this.elements.mute.element(),"jw-off",b),this.elements.volume&&this.elements.volume.render(b?0:c),this.elements.volumetooltip&&(this.elements.volumetooltip.volumeSlider.render(b?0:c),a.toggleClass(this.elements.volumetooltip.element(),"jw-off",b))},onCastAvailable:function(a,b){this.elements.cast.toggle(b),this.clearCompactMode()},onCastActive:function(b,c){a.toggleClass(this.elements.cast.element(),"jw-off",!c)},onElapsed:function(b,c){var d,e=b.get("duration");d="DVR"===a.adaptiveType(e)?"-"+a.timeFormat(-e):a.timeFormat(c),this.elements.elapsed.innerHTML=d},onDuration:function(b,c){var d;"DVR"===a.adaptiveType(c)?(d="Live",this.clearCompactMode()):d=a.timeFormat(c),this.elements.duration.innerHTML=d},onFullscreen:function(b,c){a.toggleClass(this.elements.fullscreen.element(),"jw-off",c)},element:function(){return this.el},getVisibleBounds:function(){var b,c=this.el,d=getComputedStyle?getComputedStyle(c):c.currentStyle;return"table"===d.display?a.bounds(c):(c.style.visibility="hidden",c.style.display="table",b=a.bounds(c),c.style.visibility=c.style.display="",b)},setAltText:function(a){this.elements.alt.innerHTML=a},addCues:function(a){this.elements.time&&(b.each(a,function(a){this.elements.time.addCue(a)},this),this.elements.time.drawCues())},closeMenus:function(a){b.each(this.menus,function(b){a&&a.target===b.el||b.closeTooltip(a)})},hideComponents:function(){this.closeMenus(),this.elements.drawer.closeTooltip(),a.removeClass(this.el,"jw-drawer-expanded")},clearCompactMode:function(){this._maxCompactWidth=-1,this._model.set("compactUI",!1),this._containerWidth&&this.checkCompactMode(this._containerWidth)},setCompactModeBounds:function(){if(this.element().offsetWidth>0){var b=this.elements.left.offsetWidth+this.elements.right.offsetWidth;if("LIVE"===a.adaptiveType(this._model.get("duration")))this._maxCompactWidth=b+this.elements.alt.offsetWidth;else{var c=b+(this.elements.center.offsetWidth-this.elements.time.el.offsetWidth),d=.2;this._maxCompactWidth=c/(1-d)}}},checkCompactMode:function(a){-1===this._maxCompactWidth&&this.setCompactModeBounds(),this._containerWidth=a,-1!==this._maxCompactWidth&&(a>=this._compactModeMaxSize&&a>this._maxCompactWidth?this._model.set("compactUI",!1):(a<this._compactModeMaxSize||a<=this._maxCompactWidth)&&this._model.set("compactUI",!0))},onCompactUI:function(c,d){a.removeClass(this.el,"jw-drawer-expanded"),this.elements.drawer.setup(this.layout.drawer,d),(!d||this.elements.drawer.activeContents.length<2)&&b.each(this.layout.drawer,function(a){this.elements.right.insertBefore(a.el,this.elements.drawer.el)},this)}}),o}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(136),c(47),c(139),c(140),c(141)],e=function(a,b,c,d,e,f){var g=d.extend({setup:function(){this.text=document.createElement("span"),this.text.className="jw-text jw-reset",this.img=document.createElement("div"),this.img.className="jw-reset";var a=document.createElement("div");a.className="jw-time-tip jw-background-color jw-reset",a.appendChild(this.img),a.appendChild(this.text),c.removeClass(this.el,"jw-hidden"),this.addContent(a)},image:function(a){c.style(this.img,a)},update:function(a){this.text.innerHTML=a}}),h=b.extend({constructor:function(c,d){this._model=c,this._api=d,this.timeTip=new g("jw-tooltip-time"),this.timeTip.setup(),this.cues=[],this.seekThrottled=a.throttle(this.performSeek,400),this._model.on("change:playlistItem",this.onPlaylistItem,this).on("change:position",this.onPosition,this).on("change:duration",this.onDuration,this).on("change:buffer",this.onBuffer,this),b.call(this,"jw-slider-time","horizontal")},setup:function(){b.prototype.setup.apply(this,arguments),this._model.get("playlistItem")&&this.onPlaylistItem(this._model,this._model.get("playlistItem")),this.elementRail.appendChild(this.timeTip.element()),this.el.addEventListener("mousemove",this.showTimeTooltip.bind(this),!1),this.el.addEventListener("mouseout",this.hideTimeTooltip.bind(this),!1)},update:function(c){this.activeCue&&a.isNumber(this.activeCue.pct)?this.seekTo=this.activeCue.pct:this.seekTo=c,this.seekThrottled(),b.prototype.update.apply(this,arguments)},dragStart:function(){this._model.set("scrubbing",!0),b.prototype.dragStart.apply(this,arguments)},dragEnd:function(){b.prototype.dragEnd.apply(this,arguments),this._model.set("scrubbing",!1)},onSeeked:function(){this._model.get("scrubbing")&&this.performSeek()},onBuffer:function(a,b){this.updateBuffer(b)},onPosition:function(a,b){this.updateTime(b,a.get("duration"))},onDuration:function(a,b){this.updateTime(a.get("position"),b)},updateTime:function(a,b){var d=0;if(b){var e=c.adaptiveType(b);"DVR"===e?d=(b-a)/b*100:"VOD"===e&&(d=a/b*100)}this.render(d)},onPlaylistItem:function(b,c){this.reset(),b.mediaModel.on("seeked",this.onSeeked,this);var d=c.tracks;a.each(d,function(a){a&&a.kind&&"thumbnails"===a.kind.toLowerCase()?this.loadThumbnails(a.file):a&&a.kind&&"chapters"===a.kind.toLowerCase()&&this.loadChapters(a.file)},this)},performSeek:function(){var a,b=this._model.get("duration"),d=c.adaptiveType(b);"LIVE"===d||0===b?this._api.play():"DVR"===d?(a=(1-this.seekTo/100)*b,this._api.seek(Math.min(a,-.25))):(a=this.seekTo/100*b,this._api.seek(Math.min(a,b-.25)))},showTimeTooltip:function(a){var b=this._model.get("duration");if(0!==b){var d=c.bounds(this.elementRail),e=a.pageX?a.pageX-d.left:a.x;e=c.between(e,0,d.width);var f=e/d.width,g=b*f;0>b&&(g=b-g);var h;if(this.activeCue)h=this.activeCue.text;else{var i=!0;h=c.timeFormat(g,i),0>b&&Math.abs(g)<1&&(h="Live")}this.timeTip.update(h),this.showThumbnail(g),c.addClass(this.timeTip.el,"jw-open"),this.timeTip.el.style.left=100*f+"%"}},hideTimeTooltip:function(){c.removeClass(this.timeTip.el,"jw-open")},reset:function(){this.resetChapters(),this.resetThumbnails()}});return a.extend(h.prototype,e,f),h}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(137),c(119),c(138),c(47)],e=function(a,b,c,d){var e=a.extend({constructor:function(a,b){this.className=a+" jw-background-color jw-reset",this.orientation=b,this.dragStartListener=this.dragStart.bind(this),this.dragMoveListener=this.dragMove.bind(this),this.dragEndListener=this.dragEnd.bind(this),this.tapListener=this.tap.bind(this),this.setup()},setup:function(){var a={"default":this["default"],className:this.className,orientation:"jw-slider-"+this.orientation};this.el=d.createElement(c(a)),this.elementRail=this.el.getElementsByClassName("jw-slider-container")[0],this.elementBuffer=this.el.getElementsByClassName("jw-buffer")[0],this.elementProgress=this.el.getElementsByClassName("jw-progress")[0],this.elementThumb=this.el.getElementsByClassName("jw-knob")[0],this.userInteract=new b(this.element(),{preventScrolling:!0}),this.userInteract.on("dragStart",this.dragStartListener),this.userInteract.on("drag",this.dragMoveListener),this.userInteract.on("dragEnd",this.dragEndListener),this.userInteract.on("tap click",this.tapListener)},dragStart:function(){this.trigger("dragStart"),this.railBounds=d.bounds(this.elementRail)},dragEnd:function(a){this.dragMove(a),this.trigger("dragEnd")},dragMove:function(a){var b,c,e=this.railBounds=this.railBounds?this.railBounds:d.bounds(this.elementRail);return"horizontal"===this.orientation?(b=a.pageX,c=b<e.left?0:b>e.right?100:100*d.between((b-e.left)/e.width,0,1)):(b=a.pageY,c=b>=e.bottom?0:b<=e.top?100:100*d.between((e.height-(b-e.top))/e.height,0,1)),this.render(c),this.update(c),!1},tap:function(a){this.railBounds=d.bounds(this.elementRail),this.dragMove(a)},update:function(a){this.trigger("update",{percentage:a})},render:function(a){a=Math.max(0,Math.min(a,100)),"horizontal"===this.orientation?(this.elementThumb.style.left=a+"%",this.elementProgress.style.width=a+"%"):(this.elementThumb.style.bottom=a+"%",this.elementProgress.style.height=a+"%")},updateBuffer:function(a){this.elementBuffer.style.width=a+"%"},element:function(){return this.el}});return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(46),c(44)],e=function(a,b){function c(){}var d=function(a,c){var d,e=this;d=a&&b.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},b.extend(d,e,c);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&b.extend(d.prototype,a),d.__super__=e.prototype,d};return c.extend=d,b.extend(c.prototype,a),c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="'+h((e=null!=(e=b.className||(null!=a?a.className:a))?e:g,typeof e===f?e.call(a,{name:"className",hash:{},data:d}):e))+" "+h((e=null!=(e=b.orientation||(null!=a?a.orientation:a))?e:g,typeof e===f?e.call(a,{name:"orientation",hash:{},data:d}):e))+' jw-reset">\n    <div class="jw-slider-container jw-reset">\n        <div class="jw-rail jw-reset"></div>\n        <div class="jw-buffer jw-reset"></div>\n        <div class="jw-progress jw-reset"></div>\n        <div class="jw-knob jw-reset"></div>\n    </div>\n</div>'},useData:!0})},function(a,b,c){var d,e;d=[c(137),c(47)],e=function(a,b){var c=a.extend({constructor:function(a){this.el=document.createElement("div"),this.el.className="jw-icon jw-icon-tooltip "+a+" jw-button-color jw-reset jw-hidden",this.container=document.createElement("div"),this.container.className="jw-overlay jw-reset",this.openClass="jw-open",this.componentType="tooltip",this.el.appendChild(this.container)},addContent:function(a){this.content&&this.removeContent(),this.content=a,this.container.appendChild(a)},removeContent:function(){this.content&&(this.container.removeChild(this.content),this.content=null)},hasContent:function(){return!!this.content},element:function(){return this.el},openTooltip:function(a){this.trigger("open-"+this.componentType,a,{isOpen:!0}),this.isOpen=!0,b.toggleClass(this.el,this.openClass,this.isOpen)},closeTooltip:function(a){this.trigger("close-"+this.componentType,a,{isOpen:!1}),this.isOpen=!1,b.toggleClass(this.el,this.openClass,this.isOpen)},toggleOpenState:function(a){this.isOpen?this.closeTooltip(a):this.openTooltip(a)}});return c}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(47),c(112)],e=function(a,b,c){function d(a,b){this.time=a,this.text=b,this.el=document.createElement("div"),this.el.className="jw-cue jw-reset"}a.extend(d.prototype,{align:function(a){if("%"===this.time.toString().slice(-1))this.pct=this.time;else{var b=this.time/a*100;this.pct=b+"%"}this.el.style.left=this.pct}});var e={loadChapters:function(a){b.ajax(a,this.chaptersLoaded.bind(this),this.chaptersFailed,!0)},chaptersLoaded:function(b){var d=c(b.responseText);a.isArray(d)&&(a.each(d,this.addCue,this),this.drawCues())},chaptersFailed:function(){},addCue:function(a){this.cues.push(new d(a.begin,a.text))},drawCues:function(){var b=this._model.mediaModel.get("duration");if(!b||0>=b)return void this._model.mediaModel.once("change:duration",this.drawCues,this);var c=this;a.each(this.cues,function(a){a.align(b),a.el.addEventListener("mouseover",function(){c.activeCue=a}),a.el.addEventListener("mouseout",function(){c.activeCue=null}),c.elementRail.appendChild(a.el)})},resetChapters:function(){a.each(this.cues,function(a){a.el.parentNode&&a.el.parentNode.removeChild(a.el)},this),this.cues=[]}};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(47),c(112)],e=function(a,b,c){function d(a){this.begin=a.begin,this.end=a.end,this.img=a.text}var e={loadThumbnails:function(a){a&&(this.vttPath=a.split("?")[0].split("/").slice(0,-1).join("/"),this.individualImage=null,b.ajax(a,this.thumbnailsLoaded.bind(this),this.thumbnailsFailed.bind(this),!0))},thumbnailsLoaded:function(b){var e=c(b.responseText);a.isArray(e)&&(a.each(e,function(a){this.thumbnails.push(new d(a))},this),this.drawCues())},thumbnailsFailed:function(){},chooseThumbnail:function(b){var c=a.sortedIndex(this.thumbnails,{end:b},a.property("end"));c>=this.thumbnails.length&&(c=this.thumbnails.length-1);var d=this.thumbnails[c].img;return d.indexOf("://")<0&&(d=this.vttPath?this.vttPath+"/"+d:d),d},loadThumbnail:function(b){var c=this.chooseThumbnail(b),d={display:"block",margin:"0 auto",backgroundPosition:"0 0"},e=c.indexOf("#xywh");if(e>0)try{var f=/(.+)\#xywh=(\d+),(\d+),(\d+),(\d+)/.exec(c);c=f[1],d.backgroundPosition=-1*f[2]+"px "+-1*f[3]+"px",d.width=f[4],d.height=f[5]}catch(g){return}else this.individualImage||(this.individualImage=new Image,this.individualImage.onload=a.bind(function(){this.individualImage.onload=null,this.timeTip.image({width:this.individualImage.width,height:this.individualImage.height})},this),this.individualImage.src=c);return d.backgroundImage='url("'+c+'")',d},showThumbnail:function(a){this.thumbnails.length<1||this.timeTip.image(this.loadThumbnail(a))},resetThumbnails:function(){this.timeTip.image({backgroundImage:"",width:0,height:0}),this.thumbnails=[]}};return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(139),c(47),c(44),c(119),c(143)],e=function(a,b,c,d,e){var f=a.extend({setup:function(a,f,g){this.iconUI||(this.iconUI=new d(this.el,{useHover:!0,directSelect:!0}),this.toggleValueListener=this.toggleValue.bind(this),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.select.bind(this)),this.reset(),a=c.isArray(a)?a:[],b.toggleClass(this.el,"jw-hidden",a.length<2);var h=a.length>2||2===a.length&&g&&g.toggle===!1,i=!h&&2===a.length;if(b.toggleClass(this.el,"jw-toggle",i),b.toggleClass(this.el,"jw-button-color",!i),this.isActive=h||i,h){b.removeClass(this.el,"jw-off"),this.iconUI.on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener);var j=e(a),k=b.createElement(j);this.addContent(k),this.contentUI=new d(this.content).on("click tap",this.selectListener)}else i&&this.iconUI.on("click tap",this.toggleValueListener);this.selectItem(f)},toggleValue:function(){this.trigger("toggleValue")},select:function(a){if(a.target.parentElement===this.content){var d=b.classList(a.target),e=c.find(d,function(a){return 0===a.indexOf("jw-item")});e&&(this.trigger("select",parseInt(e.split("-")[2])),this.closeTooltipListener())}},selectItem:function(a){if(this.content)for(var c=0;c<this.content.children.length;c++)b.toggleClass(this.content.children[c],"jw-active-option",a===c);else b.toggleClass(this.el,"jw-off",0===a)},reset:function(){b.addClass(this.el,"jw-off"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({1:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression;return"        <li class='jw-text jw-option jw-item-"+f(e(d&&d.index,a))+" jw-reset'>"+f(e(null!=a?a.label:a,a))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<ul class="jw-menu jw-background-color jw-reset">\n';return e=b.each.call(a,a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+"</ul>"},useData:!0})},function(a,b,c){var d,e;d=[c(47),c(44),c(139),c(119),c(145)],e=function(a,b,c,d,e){var f=c.extend({setup:function(c,e){if(this.iconUI||(this.iconUI=new d(this.el,{useHover:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this),this.selectListener=this.onSelect.bind(this)),this.reset(),c=b.isArray(c)?c:[],a.toggleClass(this.el,"jw-hidden",c.length<2),c.length>=2){this.iconUI=new d(this.el,{useHover:!0}).on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener);var f=this.menuTemplate(c,e),g=a.createElement(f);this.addContent(g),this.contentUI=new d(this.content),this.contentUI.on("click tap",this.selectListener)}this.originalList=c},menuTemplate:function(a,c){var d=b.map(a,function(a,b){return{active:b===c,label:b+1+".",title:a.title}});return e(d)},onSelect:function(c){var d=c.target;if("UL"!==d.tagName){"LI"!==d.tagName&&(d=d.parentElement);var e=a.classList(d),f=b.find(e,function(a){return 0===a.indexOf("jw-item")});f&&(this.trigger("select",parseInt(f.split("-")[2])),this.closeTooltip())}},selectItem:function(a){this.setup(this.originalList,a)},reset:function(){this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({1:function(a,b,c,d){var e,f="";return e=b["if"].call(a,null!=a?a.active:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d}),null!=e&&(f+=e),f},2:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression;return"                <li class='jw-option jw-text jw-active-option jw-item-"+f(e(d&&d.index,a))+' jw-reset\'>\n                    <span class="jw-label jw-reset"><span class="jw-icon jw-icon-play jw-reset"></span></span>\n                    <span class="jw-name jw-reset">'+f(e(null!=a?a.title:a,a))+"</span>\n                </li>\n"},4:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression;return"                <li class='jw-option jw-text jw-item-"+f(e(d&&d.index,a))+' jw-reset\'>\n                    <span class="jw-label jw-reset">'+f(e(null!=a?a.label:a,a))+'</span>\n                    <span class="jw-name jw-reset">'+f(e(null!=a?a.title:a,a))+"</span>\n                </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="jw-menu jw-playlist-container jw-background-color jw-reset">\n\n    <div class="jw-tooltip-title jw-reset">\n        <span class="jw-icon jw-icon-inline jw-icon-playlist jw-reset"></span>\n        <span class="jw-text jw-reset">PLAYLIST</span>\n    </div>\n\n    <ul class="jw-playlist jw-reset">\n';return e=b.each.call(a,a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+"    </ul>\n</div>"},useData:!0})},function(a,b,c){var d,e;d=[c(139),c(136),c(119),c(47)],e=function(a,b,c,d){var e=a.extend({constructor:function(e,f){this._model=e,a.call(this,f),this.volumeSlider=new b("jw-slider-volume jw-volume-tip","vertical"),this.addContent(this.volumeSlider.element()),this.volumeSlider.on("update",function(a){this.trigger("update",a)},this),d.removeClass(this.el,"jw-hidden"),new c(this.el,{useHover:!0,directSelect:!0}).on("click",this.toggleValue,this).on("tap",this.toggleOpenState,this).on("over",this.openTooltip,this).on("out",this.closeTooltip,this),this._model.on("change:volume",this.onVolume,this)},toggleValue:function(){this.trigger("toggleValue")}});return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(139),c(47),c(44),c(119)],e=function(a,b,c,d){var e=a.extend({constructor:function(b){a.call(this,b),this.container.className="jw-overlay-horizontal jw-reset",this.openClass="jw-open-drawer",this.componentType="drawer"},setup:function(a,e){this.iconUI||(this.iconUI=new d(this.el,{useHover:!0,directSelect:!0}),this.toggleOpenStateListener=this.toggleOpenState.bind(this),this.openTooltipListener=this.openTooltip.bind(this),this.closeTooltipListener=this.closeTooltip.bind(this)),this.reset(),a=c.isArray(a)?a:[],this.activeContents=c.filter(a,function(a){return a.isActive}),b.toggleClass(this.el,"jw-hidden",!e||this.activeContents.length<2),e&&this.activeContents.length>1&&(b.removeClass(this.el,"jw-off"),this.iconUI.on("tap",this.toggleOpenStateListener).on("over",this.openTooltipListener).on("out",this.closeTooltipListener),c.each(a,function(a){this.container.appendChild(a.el)},this))},reset:function(){b.addClass(this.el,"jw-off"),this.iconUI.off(),this.contentUI&&this.contentUI.off().destroy(),this.removeContent()}});return e}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b=function(a){this.model=a,this.model.on("change:playlistItem",this.loadImage,this)};return a.extend(b.prototype,{setup:function(a){this.el=a,this.model.get("playlistItem")&&this.loadImage(this.model,this.model.get("playlistItem"))},loadImage:function(b,c){var d=c.image;a.isString(d)?(d=encodeURI(d),this.el.style.backgroundImage='url("'+d+'")'):this.el.style.backgroundImage=""},element:function(){return this.el}}),b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(81),c(150),c(44),c(59)],e=function(a,b,c,d){function e(a){return"pro"===a?"p":"premium"===a?"r":"enterprise"===a?"e":"ads"===a?"a":"f"}var f=function(){};return c.extend(f.prototype,b.prototype,{buildArray:function(){var c=b.prototype.buildArray.apply(this,arguments),f=this.model.get("edition"),g="//jwplayer.com/learn-more/?m=h&e="+e(f)+"&v="+d;c.items[0].link=g;var h=a(f);if(!h("custom-rightclick"))return c;if(this.model.get("abouttext")){c.items[0].showLogo=!1,c.items.push(c.items.shift());var i={title:this.model.get("abouttext"),link:this.model.get("aboutlink")||g};c.items.unshift(i)}return c}}),f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(47),c(151),c(44),c(119),c(59)],e=function(a,b,c,d,e){var f=function(){};return c.extend(f.prototype,{buildArray:function(){var b=e.split("+"),c=b[0],d={items:[{title:"Powered by JW Player "+c,featured:!0,showLogo:!0,link:"//jwplayer.com/learn-more/?m=h&e=o&v="+e}]},f=c.indexOf("-")>0,g=b[1];if(f&&g){var h=g.split(".");d.items.push({title:"build: ("+h[0]+"."+h[1]+")",link:"#"})}var i=this.model.get("provider").name;if(i.indexOf("flash")>=0){var j="Flash Version "+a.flashVersion();d.items.push({title:j,link:"http://www.adobe.com/software/flash/about/"
})}return d},buildMenu:function(){var c=this.buildArray();return a.createElement(b(c))},updateHtml:function(){this.el.innerHTML=this.buildMenu().innerHTML},rightClick:function(a){return this.lazySetup(),this.mouseOverContext?!1:(this.hideMenu(),this.showMenu(a),!1)},getOffset:function(a){for(var b=a.target,c=a.offsetX||a.layerX,d=a.offsetY||a.layerY;b!==this.playerElement;)c+=b.offsetLeft,d+=b.offsetTop,b=b.parentNode;return{x:c,y:d}},showMenu:function(b){var c=this.getOffset(b);return this.el.style.left=c.x+"px",this.el.style.top=c.y+"px",a.addClass(this.playerElement,"jw-flag-rightclick-open"),a.addClass(this.el,"jw-open"),!1},hideMenu:function(){this.mouseOverContext||(a.removeClass(this.playerElement,"jw-flag-rightclick-open"),a.removeClass(this.el,"jw-open"))},lazySetup:function(){this.el||(this.el=this.buildMenu(),this.layer.appendChild(this.el),this.hideMenuHandler=this.hideMenu.bind(this),this.addOffListener(this.playerElement),this.addOffListener(document),this.model.on("change:provider",this.updateHtml,this),this.elementUI=new d(this.el,{useHover:!0}).on("over",function(){this.mouseOverContext=!0},this).on("out",function(){this.mouseOverContext=!1},this))},setup:function(a,b,c){this.playerElement=b,this.model=a,this.mouseOverContext=!1,this.layer=c,b.oncontextmenu=this.rightClick.bind(this)},addOffListener:function(a){a.addEventListener("mousedown",this.hideMenuHandler),a.addEventListener("touchstart",this.hideMenuHandler),a.addEventListener("pointerdown",this.hideMenuHandler)},removeOffListener:function(a){a.removeEventListener("mousedown",this.hideMenuHandler),a.removeEventListener("touchstart",this.hideMenuHandler),a.removeEventListener("pointerdown",this.hideMenuHandler)},destroy:function(){this.el&&(this.hideMenu(),this.elementUI.off(),this.removeOffListener(this.playerElement),this.removeOffListener(document),this.hideMenuHandler=null,this.el=null),this.playerElement&&(this.playerElement.oncontextmenu=null,this.playerElement=null),this.model&&(this.model.off("change:provider",this.updateHtml),this.model=null)}}),f}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({1:function(a,b,c,d){var e,f,g="function",h=b.helperMissing,i=this.escapeExpression,j='        <li class="jw-reset';return e=b["if"].call(a,null!=a?a.featured:a,{name:"if",hash:{},fn:this.program(2,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+='">\n            <a href="'+i((f=null!=(f=b.link||(null!=a?a.link:a))?f:h,typeof f===g?f.call(a,{name:"link",hash:{},data:d}):f))+'" class="jw-reset" target="_top">\n',e=b["if"].call(a,null!=a?a.showLogo:a,{name:"if",hash:{},fn:this.program(4,d),inverse:this.noop,data:d}),null!=e&&(j+=e),j+"                "+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:h,typeof f===g?f.call(a,{name:"title",hash:{},data:d}):f))+"\n            </a>\n        </li>\n"},2:function(a,b,c,d){return" jw-featured"},4:function(a,b,c,d){return'                <span class="jw-icon jw-rightclick-logo jw-reset"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f='<div class="jw-rightclick jw-reset">\n    <ul class="jw-reset">\n';return e=b.each.call(a,null!=a?a.items:a,{name:"each",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f+"    </ul>\n</div>"},useData:!0})},function(a,b,c){var d,e;d=[c(44)],e=function(a){var b=function(a){this.model=a,this.model.on("change:playlistItem",this.playlistItem,this)};return a.extend(b.prototype,{hide:function(){this.el.style.display="none"},show:function(){this.el.style.display=""},setup:function(a){this.el=a;var b=this.el.getElementsByTagName("div");this.title=b[0],this.description=b[1],this.model.get("playlistItem")&&this.playlistItem(this.model,this.model.get("playlistItem"))},playlistItem:function(a,b){if(a.get("displaytitle")||a.get("displaydescription")){var c="",d="";b.title&&a.get("displaytitle")&&(c=b.title),b.description&&a.get("displaydescription")&&(d=b.description),this.updateText(c,d)}else this.hide()},updateText:function(a,b){this.title.innerHTML=a,this.description.innerHTML=b,this.title.firstChild||this.description.firstChild?this.show():this.hide()},element:function(){return this.el}}),b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div id="'+h((e=null!=(e=b.id||(null!=a?a.id:a))?e:g,typeof e===f?e.call(a,{name:"id",hash:{},data:d}):e))+'" class="jwplayer jw-reset" tabindex="0">\n    <div class="jw-aspect jw-reset"></div>\n    <div class="jw-media jw-reset"></div>\n    <div class="jw-preview jw-reset"></div>\n    <div class="jw-title jw-reset">\n        <div class="jw-title-primary jw-reset"></div>\n        <div class="jw-title-secondary jw-reset"></div>\n    </div>\n    <div class="jw-overlays jw-reset"></div>\n    <div class="jw-controls jw-reset"></div>\n</div>'},useData:!0})},function(a,b,c){var d,e;d=[c(47),c(45),c(119),c(46),c(44),c(155)],e=function(a,b,c,d,e,f){var g=function(a){this.model=a,this.setup()};return e.extend(g.prototype,d,{setup:function(){this.destroy(),this.skipMessage=this.model.get("skipText"),this.skipMessageCountdown=this.model.get("skipMessage"),this.setWaitTime(this.model.get("skipOffset"));var b=f();this.el=a.createElement(b),this.skiptext=this.el.getElementsByClassName("jw-skiptext")[0],this.skipAdOnce=e.once(this.skipAd.bind(this)),new c(this.el).on("click tap",e.bind(function(){this.skippable&&this.skipAdOnce()},this)),this.model.on("change:duration",this.onChangeDuration,this),this.model.on("change:position",this.onChangePosition,this),this.onChangeDuration(this.model,this.model.get("duration")),this.onChangePosition(this.model,this.model.get("position"))},updateMessage:function(a){this.skiptext.innerHTML=a},updateCountdown:function(a){this.updateMessage(this.skipMessageCountdown.replace(/xx/gi,Math.ceil(this.waitTime-a)))},onChangeDuration:function(b,c){if(c){if(this.waitPercentage){if(!c)return;this.itemDuration=c,this.setWaitTime(this.waitPercentage),delete this.waitPercentage}a.removeClass(this.el,"jw-hidden")}},onChangePosition:function(b,c){this.waitTime-c>0?this.updateCountdown(c):(this.updateMessage(this.skipMessage),this.skippable=!0,a.addClass(this.el,"jw-skippable"))},element:function(){return this.el},setWaitTime:function(b){if(e.isString(b)&&"%"===b.slice(-1)){var c=parseFloat(b);return void(this.itemDuration&&!isNaN(c)?this.waitTime=this.itemDuration*c/100:this.waitPercentage=b)}e.isNumber(b)?this.waitTime=b:"string"===a.typeOf(b)?this.waitTime=a.seconds(b):isNaN(Number(b))?this.waitTime=0:this.waitTime=Number(b)},skipAd:function(){this.trigger(b.JWPLAYER_AD_SKIPPED)},destroy:function(){this.el&&(this.el.removeEventListener("click",this.skipAdOnce),this.el.parentElement&&this.el.parentElement.removeChild(this.el)),delete this.skippable,delete this.itemDuration,delete this.waitPercentage}}),g}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<div class="jw-skip jw-background-color jw-hidden jw-reset">\n    <span class="jw-text jw-skiptext jw-reset"></span>\n    <span class="jw-icon-inline jw-skip-icon jw-reset"></span>\n</div>'},useData:!0})},function(a,b,c){var d,e;d=[c(157)],e=function(a){function b(b,c,d,e){return a({id:b,skin:c,title:d,body:e})}return b}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(121);a.exports=(d["default"]||d).template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div id="'+h((e=null!=(e=b.id||(null!=a?a.id:a))?e:g,typeof e===f?e.call(a,{name:"id",hash:{},data:d}):e))+'"class="jw-skin-'+h((e=null!=(e=b.skin||(null!=a?a.skin:a))?e:g,typeof e===f?e.call(a,{name:"skin",hash:{},data:d}):e))+' jw-error jw-reset">\n    <div class="jw-title jw-reset">\n        <div class="jw-title-primary jw-reset">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:g,typeof e===f?e.call(a,{name:"title",hash:{},data:d}):e))+'</div>\n        <div class="jw-title-secondary jw-reset">'+h((e=null!=(e=b.body||(null!=a?a.body:a))?e:g,typeof e===f?e.call(a,{name:"body",hash:{},data:d}):e))+'</div>\n    </div>\n\n    <div class="jw-icon-container jw-reset">\n        <div class="jw-display-icon-container jw-background-color jw-reset">\n            <div class="jw-icon jw-icon-display jw-reset"></div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},,,,function(a,b,c){var d,e;d=[],e=function(){var a=window.chrome,b={};return b.NS="urn:x-cast:com.longtailvideo.jwplayer",b.debug=!1,b.availability=null,b.available=function(c){c=c||b.availability;var d="available";return a&&a.cast&&a.cast.ReceiverAvailability&&(d=a.cast.ReceiverAvailability.AVAILABLE),c===d},b.log=function(){if(b.debug){var a=Array.prototype.slice.call(arguments,0);console.log.apply(console,a)}},b.error=function(){var a=Array.prototype.slice.call(arguments,0);console.error.apply(console,a)},b}.apply(b,d),!(void 0!==e&&(a.exports=e))},,,function(a,b,c){var d,e;d=[c(98),c(44)],e=function(a,b){return function(c,d){var e=["seek","skipAd","stop","playlistNext","playlistPrev","playlistItem","resize","addButton","removeButton","registerPlugin","attachMedia"];b.each(e,function(a){c[a]=function(){return d[a].apply(d,arguments),c}}),c.registerPlugin=a.registerPlugin}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44)],e=function(a){return function(b,c){var d=["buffer","controls","position","duration","fullscreen","volume","mute","item","stretching","playlist"];a.each(d,function(a){var d=a.slice(0,1).toUpperCase()+a.slice(1);b["get"+d]=function(){return c._model.get(a)}});var e=["getAudioTracks","getCaptionsList","getWidth","getHeight","getCurrentAudioTrack","setCurrentAudioTrack","getCurrentCaptions","setCurrentCaptions","getCurrentQuality","setCurrentQuality","getQualityLevels","getVisualQuality","getConfig","getState","getSafeRegion","isBeforeComplete","isBeforePlay","getProvider","detachMedia"],f=["setControls","setFullscreen","setVolume","setMute","setCues"];a.each(e,function(a){b[a]=function(){return c[a]?c[a].apply(c,arguments):null}}),a.each(f,function(a){b[a]=function(){return c[a].apply(c,arguments),b}})}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d,e;d=[c(44),c(45)],e=function(a,b){return function(c){var d={onBufferChange:b.JWPLAYER_MEDIA_BUFFER,onBufferFull:b.JWPLAYER_MEDIA_BUFFER_FULL,onError:b.JWPLAYER_ERROR,onSetupError:b.JWPLAYER_SETUP_ERROR,onFullscreen:b.JWPLAYER_FULLSCREEN,onMeta:b.JWPLAYER_MEDIA_META,onMute:b.JWPLAYER_MEDIA_MUTE,onPlaylist:b.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:b.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:b.JWPLAYER_PLAYLIST_COMPLETE,onReady:b.JWPLAYER_READY,onResize:b.JWPLAYER_RESIZE,onComplete:b.JWPLAYER_MEDIA_COMPLETE,onSeek:b.JWPLAYER_MEDIA_SEEK,onTime:b.JWPLAYER_MEDIA_TIME,onVolume:b.JWPLAYER_MEDIA_VOLUME,onBeforePlay:b.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:b.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:b.JWPLAYER_DISPLAY_CLICK,onControls:b.JWPLAYER_CONTROLS,onQualityLevels:b.JWPLAYER_MEDIA_LEVELS,onQualityChange:b.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:b.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:b.JWPLAYER_CAPTIONS_CHANGED,onAdError:b.JWPLAYER_AD_ERROR,onAdClick:b.JWPLAYER_AD_CLICK,onAdImpression:b.JWPLAYER_AD_IMPRESSION,onAdTime:b.JWPLAYER_AD_TIME,onAdComplete:b.JWPLAYER_AD_COMPLETE,onAdCompanions:b.JWPLAYER_AD_COMPANIONS,onAdSkipped:b.JWPLAYER_AD_SKIPPED,onAdPlay:b.JWPLAYER_AD_PLAY,onAdPause:b.JWPLAYER_AD_PAUSE,onAdMeta:b.JWPLAYER_AD_META,onCast:b.JWPLAYER_CAST_SESSION,onAudioTrackChange:b.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:b.JWPLAYER_AUDIO_TRACKS},e={onBuffer:"buffer",onPause:"pause",onPlay:"play",onIdle:"idle"};a.each(e,function(b,d){c[d]=a.partial(c.on,b,a)}),a.each(d,function(b,d){c[d]=a.partial(c.on,b,a)})}}.apply(b,d),!(void 0!==e&&(a.exports=e))},function(a,b,c){var d=c(168);"string"==typeof d&&(d=[[a.id,d,""]]);c(172)(d,{});d.locals&&(a.exports=d.locals)},function(a,b,c){b=a.exports=c(169)(),b.push([a.id,".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}@font-face{font-family:'jw-icons';src:url("+c(170)+") format('woff'),url("+c(171)+') format(\'truetype\');font-weight:normal;font-style:normal}.jw-icon-inline,.jw-icon-tooltip,.jw-icon-display,.jw-controlbar .jw-menu .jw-option:before{font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}.jw-icon-audio-tracks:before{content:"\\e600"}.jw-icon-buffer:before{content:"\\e601"}.jw-icon-cast:before{content:"\\e603"}.jw-icon-cast.jw-off:before{content:"\\e602"}.jw-icon-cc:before{content:"\\e605"}.jw-icon-cue:before{content:"\\e606"}.jw-icon-menu-bullet:before{content:"\\e606"}.jw-icon-error:before{content:"\\e607"}.jw-icon-fullscreen:before{content:"\\e608"}.jw-icon-fullscreen.jw-off:before{content:"\\e613"}.jw-icon-hd:before{content:"\\e60a"}.jw-watermark:before,.jw-rightclick-logo:before{content:"\\e60b"}.jw-icon-next:before{content:"\\e60c"}.jw-icon-pause:before{content:"\\e60d"}.jw-icon-play:before{content:"\\e60e"}.jw-icon-prev:before{content:"\\e60f"}.jw-icon-replay:before{content:"\\e610"}.jw-icon-volume:before{content:"\\e612"}.jw-icon-volume.jw-off:before{content:"\\e611"}.jw-icon-more:before{content:"\\e614"}.jw-icon-close:before{content:"\\e615"}.jw-icon-playlist:before{content:"\\e616"}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer:focus,.jwplayer .jw-swf{outline:none}.jwplayer:hover .jw-display-icon-container{background-color:#333;background:#333;background-size:#333}.jw-media,.jw-preview,.jw-overlays,.jw-controls{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-overlays{cursor:auto}.jw-media.jw-media-show{visibility:visible;opacity:1}.jw-media video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jw-media video::-webkit-media-controls-start-playback-button{display:none}.jw-controls.jw-controls-disabled{display:none}.jw-controls .jw-controls-right{position:absolute;top:0;right:0}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:normal;color:white;text-align:center;font-variant:normal;font-stretch:normal}.jw-plugin{position:absolute;bottom:2.5em}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0 auto;left:0;right:0;bottom:0;display:block}.jw-cast-screen{width:100%;height:100%}.jw-instream{position:absolute;top:0;right:0;bottom:0;left:0;display:none}.jw-icon-playback:before{content:"\\e60e"}.jw-tab-focus:focus{outline:solid 2px #0b7ef4}.jw-preview,.jw-captions,.jw-title,.jw-overlays,.jw-controls{pointer-events:none}.jw-overlays>div,.jw-media,.jw-controlbar,.jw-dock,.jw-logo,.jw-skip,.jw-display-icon-container{pointer-events:all}.jw-click{position:absolute;width:100%;height:100%}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview,.jw-stretch-uniform .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-display-icon-container{position:relative;top:50%;display:table;height:3.5em;width:3.5em;margin:-1.75em auto 0;cursor:pointer}.jw-display-icon-container .jw-icon-display{position:relative;display:table-cell;text-align:center;vertical-align:middle !important;background-position:50% 50%;background-repeat:no-repeat;font-size:2em}.jw-flag-audio-player .jw-display-icon-container,.jw-flag-dragging .jw-display-icon-container{display:none}.jw-icon{font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}.jw-controlbar{display:table;position:absolute;right:0;left:0;bottom:0;height:2em;padding:0 .25em}.jw-controlbar .jw-hidden{display:none}.jw-controlbar.jw-drawer-expanded .jw-controlbar-left-group,.jw-controlbar.jw-drawer-expanded .jw-controlbar-center-group{opacity:0}.jw-background-color{background-color:#414040}.jw-group{display:table-cell}.jw-controlbar-center-group{width:100%;padding:0 .25em}.jw-controlbar-center-group .jw-slider-time,.jw-controlbar-center-group .jw-text-alt{padding:0}.jw-controlbar-center-group .jw-text-alt{display:none}.jw-controlbar-left-group,.jw-controlbar-right-group{white-space:nowrap}.jw-knob:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-icon-display:hover,.jw-option:before:hover{color:#eee}.jw-icon-inline,.jw-icon-tooltip,.jw-slider-horizontal,.jw-text-elapsed,.jw-text-duration{display:inline-block;height:2em;position:relative;line-height:2em;vertical-align:middle;cursor:pointer}.jw-icon-inline,.jw-icon-tooltip{min-width:1.25em;text-align:center}.jw-icon-playback{min-width:2.25em}.jw-icon-volume{min-width:1.75em;text-align:left}.jw-time-tip{line-height:1em;pointer-events:none}.jw-icon-inline:after,.jw-icon-tooltip:after{width:100%;height:100%;font-size:1em}.jw-icon-cast{display:none}.jw-slider-volume.jw-slider-horizontal,.jw-icon-inline.jw-icon-volume{display:none}.jw-dock{margin:.75em;display:block;opacity:1;clear:right}.jw-dock:after{content:\'\';clear:both;display:block}.jw-dock-button{cursor:pointer;float:right;position:relative;width:2.5em;height:2.5em;margin:.5em}.jw-dock-button .jw-arrow{display:none;position:absolute;bottom:-0.2em;width:.5em;height:.2em;left:50%;margin-left:-0.25em}.jw-dock-button .jw-overlay{display:none;position:absolute;top:2.5em;right:0;margin-top:.25em;padding:.5em;white-space:nowrap}.jw-dock-button:hover .jw-overlay,.jw-dock-button:hover .jw-arrow{display:block}.jw-dock-image{width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat;opacity:.75}.jw-title{display:none;position:absolute;top:0;width:100%;font-size:.875em;height:8em;background:-webkit-linear-gradient(top, #000 0, #000 18%, rgba(0,0,0,0) 100%);background:linear-gradient(to bottom, #000 0, #000 18%, rgba(0,0,0,0) 100%)}.jw-title-primary,.jw-title-secondary{padding:.75em 1.5em;min-height:2.5em;width:75%;color:white;white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.jw-title-primary{font-weight:bold}.jw-title-secondary{margin-top:-0.5em}.jw-slider-container{display:inline-block;height:1em;position:relative;-ms-touch-action:none;touch-action:none}.jw-rail,.jw-buffer,.jw-progress{position:absolute;cursor:pointer}.jw-progress{background-color:#fff}.jw-rail{background-color:#aaa}.jw-buffer{background-color:#202020}.jw-cue,.jw-knob{position:absolute;cursor:pointer}.jw-cue{background-color:#fff;width:.1em;height:.4em}.jw-knob{background-color:#aaa;width:.4em;height:.4em}.jw-slider-horizontal{width:4em;height:1em}.jw-slider-horizontal.jw-slider-volume{margin-right:5px}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{width:100%;height:.4em}.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-buffer{width:0}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-slider-container{width:100%}.jw-slider-horizontal .jw-knob{left:0;margin-left:-0.325em}.jw-slider-vertical{width:.75em;height:4em;bottom:0;position:absolute;padding:1em}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{bottom:0;height:100%}.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-buffer{height:0}.jw-slider-vertical .jw-slider-container,.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-progress{bottom:0;width:.75em;height:100%;left:0;right:0;margin:0 auto}.jw-slider-vertical .jw-slider-container{height:4em;position:relative}.jw-slider-vertical .jw-knob{bottom:0;left:0;right:0;margin:0 auto}.jw-slider-time{right:0;left:0;width:100%}.jw-tooltip-time{position:absolute}.jw-slider-volume .jw-buffer{display:none}.jw-captions{position:absolute;display:none;margin:0 auto;width:100%;left:0;bottom:3em;right:0;max-width:90%;text-align:center}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:white;background-color:black;word-wrap:break-word;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none;line-height:1.3em;padding:.1em .8em}.jw-rightclick{display:none;position:absolute;white-space:nowrap}.jw-rightclick.jw-open{display:block}.jw-rightclick ul{list-style:none;font-weight:bold;border-radius:.15em;margin:0;border:1px solid #444;padding-left:0}.jw-rightclick .jw-rightclick-logo{font-size:2em;color:#ff0147;vertical-align:middle;padding-right:.3em;margin-right:.3em;border-right:1px solid #444}.jw-rightclick li{background-color:#000;border-bottom:1px solid #444;margin:0}.jw-rightclick a{color:#fff;text-decoration:none;padding:1em;display:block;font-size:.6875em}.jw-rightclick li:last-child{border-bottom:none}.jw-rightclick li:hover{background-color:#1a1a1a;cursor:pointer}.jw-rightclick .jw-featured{background-color:#252525;vertical-align:middle}.jw-rightclick .jw-featured a{color:#777}.jw-logo{float:right;padding:.75em;cursor:pointer;pointer-events:all}.jw-logo .jw-flag-audio-player{display:none}.jw-watermark{position:absolute;top:50%;left:0;right:0;bottom:0;text-align:center;font-size:14em;color:#eee;opacity:.33;pointer-events:none}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;visibility:visible}.jw-icon-tooltip.jw-hidden{display:none}.jw-overlay-horizontal{display:none}.jw-icon-tooltip.jw-open-drawer:before{display:none}.jw-icon-tooltip.jw-open-drawer .jw-overlay-horizontal{opacity:1;display:inline-block;vertical-align:top}.jw-overlay:before{position:absolute;top:0;bottom:0;left:-50%;width:100%;background-color:rgba(0,0,0,0);content:" "}.jw-slider-time .jw-overlay:before{height:1em;top:auto}.jw-time-tip,.jw-volume-tip,.jw-menu{position:relative;left:-50%;border:solid 1px #000;margin:0}.jw-volume-tip{width:100%;height:100%;display:block}.jw-time-tip{text-align:center;font-family:inherit;color:#aaa;bottom:1em;border:solid 4px #000}.jw-time-tip .jw-text{line-height:1em}.jw-controlbar .jw-overlay{margin:0;position:absolute;bottom:2em;left:50%;opacity:0;visibility:hidden}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;color:#aaa;padding:0 .5em;font-size:.8em}.jw-controlbar .jw-option:hover,.jw-controlbar .jw-option:before:hover{color:#eee}.jw-controlbar .jw-option:before{padding-right:.125em}.jw-playlist-container ::-webkit-scrollbar-track{background-color:#333;border-radius:10px}.jw-playlist-container ::-webkit-scrollbar{width:5px;border:10px solid black;border-bottom:0;border-top:0}.jw-playlist-container ::-webkit-scrollbar-thumb{background-color:white;border-radius:5px}.jw-tooltip-title{border-bottom:1px solid #444;text-align:left;padding-left:.7em}.jw-playlist{max-height:11em;min-height:4.5em;overflow-x:hidden;overflow-y:scroll;width:calc(100% - 4px)}.jw-playlist .jw-option{height:3em;margin-right:5px;color:white;padding-left:1em;font-size:.8em}.jw-playlist .jw-label,.jw-playlist .jw-name{display:inline-block;line-height:3em;text-align:left;overflow:hidden;white-space:nowrap}.jw-playlist .jw-label{width:1em}.jw-playlist .jw-name{width:11em}.jw-skip{cursor:default;position:absolute;float:right;display:inline-block;right:.75em;bottom:3em}.jw-skip.jw-skippable{cursor:pointer}.jw-skip.jw-hidden{visibility:hidden}.jw-skip .jw-skip-icon{display:none;margin-left:-0.75em}.jw-skip .jw-skip-icon:before{content:"\\e60c"}.jw-skip .jw-text,.jw-skip .jw-skip-icon{color:#aaa;vertical-align:middle;line-height:1.5em;font-size:.7em}.jw-skip.jw-skippable:hover{cursor:pointer}.jw-skip.jw-skippable:hover .jw-text,.jw-skip.jw-skippable:hover .jw-skip-icon{color:#eee}.jw-skip.jw-skippable .jw-skip-icon{display:inline;margin:0}.jwplayer.jw-state-playing.jw-flag-casting .jw-display-icon-container,.jwplayer.jw-state-paused.jw-flag-casting .jw-display-icon-container{display:table}.jwplayer.jw-flag-casting .jw-display-icon-container{border-radius:0;top:8em;padding:2em 5em;border:1px solid white}.jwplayer.jw-flag-casting .jw-display-icon-container .jw-icon{font-size:3em}.jwplayer.jw-flag-casting.jw-state-complete .jw-preview{display:none}.jw-cast{position:absolute;width:100%;height:100%;background-repeat:no-repeat;background-size:auto;background-position:50% 50%}.jw-cast-label{position:absolute;left:10px;right:10px;bottom:50%;margin-bottom:100px;text-align:center}.jw-cast-name{color:#ccc}.jw-state-idle .jw-preview{display:block}.jw-state-idle .jw-icon-display:before{content:"\\e60e"}.jw-state-idle .jw-controlbar{display:none}.jw-state-idle .jw-captions{display:none}.jw-state-idle .jw-title{display:block}.jwplayer.jw-state-playing .jw-display-icon-container{display:none}.jwplayer.jw-state-playing .jw-display-icon-container .jw-icon-display:before{content:"\\e60d"}.jwplayer.jw-state-playing .jw-icon-playback:before{content:"\\e60d"}.jwplayer.jw-state-paused .jw-display-icon-container{display:none}.jwplayer.jw-state-paused .jw-display-icon-container .jw-icon-display:before{content:"\\e60e"}.jwplayer.jw-state-paused .jw-icon-playback:before{content:"\\e60e"}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-icon-display:before{content:"\\e601"}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.jwplayer.jw-state-buffering .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-buffering .jw-icon-playback:before{content:"\\e60d"}.jwplayer.jw-state-complete .jw-preview{display:block}.jwplayer.jw-state-complete .jw-display-icon-container .jw-icon-display:before{content:"\\e610"}.jwplayer.jw-state-complete .jw-display-icon-container .jw-text{display:none}.jwplayer.jw-state-complete .jw-icon-playback:before{content:"\\e60e"}.jwplayer.jw-state-complete .jw-captions{display:none}body .jw-error .jw-title,.jwplayer.jw-state-error .jw-title{display:block}body .jw-error .jw-title .jw-title-primary,.jwplayer.jw-state-error .jw-title .jw-title-primary{white-space:normal}body .jw-error .jw-preview,.jwplayer.jw-state-error .jw-preview{display:block}body .jw-error .jw-controlbar,.jwplayer.jw-state-error .jw-controlbar{display:none}body .jw-error .jw-captions,.jwplayer.jw-state-error .jw-captions{display:none}body .jw-error:hover .jw-display-icon-container,.jwplayer.jw-state-error:hover .jw-display-icon-container{cursor:default;color:#fff;background:#000}body .jw-error .jw-icon-display,.jwplayer.jw-state-error .jw-icon-display{cursor:default;font-family:\'jw-icons\';-webkit-font-smoothing:antialiased;font-style:normal;font-weight:normal;text-transform:none;background-color:transparent;font-variant:normal;-webkit-font-feature-settings:"liga";-ms-font-feature-settings:"liga" 1;-o-font-feature-settings:"liga";font-feature-settings:"liga";-moz-osx-font-smoothing:grayscale}body .jw-error .jw-icon-display:before,.jwplayer.jw-state-error .jw-icon-display:before{content:"\\e607"}body .jw-error .jw-icon-display:hover,.jwplayer.jw-state-error .jw-icon-display:hover{color:#fff}body .jw-error{font-size:16px;background-color:#000;color:#eee;width:100%;height:100%;display:table;opacity:1;position:relative}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jwplayer.jw-flag-cast-available .jw-controlbar{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast{display:inline-block}.jwplayer.jw-flag-skin-loading .jw-captions,.jwplayer.jw-flag-skin-loading .jw-controls,.jwplayer.jw-flag-skin-loading .jw-title{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}.jwplayer.jw-flag-fullscreen.jw-flag-user-inactive{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:inline}.jw-flag-user-inactive.jw-state-playing .jw-controlbar,.jw-flag-user-inactive.jw-state-playing .jw-dock{display:none}.jw-flag-user-inactive.jw-state-playing .jw-logo.jw-hide{display:none}.jw-flag-user-inactive.jw-state-playing .jw-plugin,.jw-flag-user-inactive.jw-state-playing .jw-captions{bottom:.5em}.jwplayer.jw-flag-media-audio .jw-controlbar{display:table}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-preview,.jwplayer.jw-flag-ads .jw-dock{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-text,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-horizontal{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-playback,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-fullscreen{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:inline}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-volume.jw-slider-horizontal,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline.jw-icon-volume{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-ads .jw-logo{display:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none !important}.jwplayer.jw-flag-ads.jw-flag-touch .jw-controlbar{display:table}.jwplayer.jw-flag-overlay-open .jw-title{display:none}.jwplayer.jw-flag-overlay-open .jw-controls-right .jw-logo{display:none}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}.jw-flag-controls-disabled .jw-controls{visibility:hidden}.jw-flag-controls-disabled .jw-logo{visibility:visible}.jw-flag-controls-disabled .jw-media{cursor:auto}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}body .jwplayer.jw-flag-flash-blocked .jw-controls,body .jwplayer.jw-flag-flash-blocked .jw-overlays,body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch .jw-controlbar,.jw-flag-touch .jw-skip,.jw-flag-touch .jw-plugin{font-size:1.5em}.jw-flag-touch .jw-captions{bottom:4.25em}.jw-flag-touch .jw-icon-tooltip.jw-open-drawer:before{display:inline}.jw-flag-touch .jw-icon-tooltip.jw-open-drawer:before{content:"\\e615"}.jw-flag-touch .jw-display-icon-container{pointer-events:none}.jw-flag-touch.jw-state-paused .jw-display-icon-container{display:table}.jw-flag-touch.jw-state-paused.jw-flag-dragging .jw-display-icon-container{display:none}.jw-flag-compact-player .jw-icon-playlist,.jw-flag-compact-player .jw-icon-next,.jw-flag-compact-player .jw-icon-prev,.jw-flag-compact-player .jw-text-elapsed,.jw-flag-compact-player .jw-text-duration{display:none}.jw-flag-audio-player{background-color:transparent}.jw-flag-audio-player .jw-media{visibility:hidden}.jw-flag-audio-player .jw-media object{width:1px;height:1px}.jw-flag-audio-player .jw-controlbar{display:table;bottom:0;margin:0;width:100%;min-width:100%;opacity:1}.jw-flag-audio-player .jw-controlbar .jw-icon-fullscreen{display:none}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip{display:none}.jw-flag-audio-player .jw-controlbar .jw-slider-volume.jw-slider-horizontal,.jw-flag-audio-player .jw-controlbar .jw-icon-inline.jw-icon-volume{display:inline-block}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip.jw-icon-volume{display:none}.jwplayer.jw-flag-audio-player .jw-controlbar{display:table;left:0}.jwplayer.jw-flag-audio-player .jw-controlbar{height:auto}.jwplayer.jw-flag-audio-player .jw-preview{display:none}.jwplayer.jw-flag-audio-player .jw-display-icon-container{display:none}.jw-skin-seven .jw-background-color{background:#000}.jw-skin-seven .jw-controlbar{border-top:#333 1px solid;height:2.5em}.jw-skin-seven .jw-group{vertical-align:middle}.jw-skin-seven .jw-playlist{background-color:rgba(0,0,0,0.5)}.jw-skin-seven .jw-playlist-container{left:-43%;background-color:rgba(0,0,0,0.5)}.jw-skin-seven .jw-playlist-container .jw-option{border-bottom:1px solid #444}.jw-skin-seven .jw-playlist-container .jw-option:hover,.jw-skin-seven .jw-playlist-container .jw-option.jw-active-option{background-color:black}.jw-skin-seven .jw-playlist-container .jw-option:hover .jw-label{color:#ff0046}.jw-skin-seven .jw-playlist-container .jw-icon-playlist{margin-left:0}.jw-skin-seven .jw-playlist-container .jw-label .jw-icon-play{color:#ff0046}.jw-skin-seven .jw-playlist-container .jw-label .jw-icon-play:before{padding-left:0}.jw-skin-seven .jw-tooltip-title{background-color:#000;color:#fff}.jw-skin-seven .jw-text{color:#fff}.jw-skin-seven .jw-button-color{color:#fff}.jw-skin-seven .jw-button-color:hover{color:#ff0046}.jw-skin-seven .jw-toggle{color:#ff0046}.jw-skin-seven .jw-toggle.jw-off{color:#fff}.jw-skin-seven .jw-controlbar .jw-icon:before,.jw-skin-seven .jw-text-elapsed,.jw-skin-seven .jw-text-duration{padding:0 .7em}.jw-skin-seven .jw-controlbar .jw-icon-prev:before{padding-right:.25em}.jw-skin-seven .jw-controlbar .jw-icon-playlist:before{padding:0 .45em}.jw-skin-seven .jw-controlbar .jw-icon-next:before{padding-left:.25em}.jw-skin-seven .jw-icon-prev,.jw-skin-seven .jw-icon-next{font-size:.7em}.jw-skin-seven .jw-icon-prev:before{border-left:1px solid #666}.jw-skin-seven .jw-icon-next:before{border-right:1px solid #666}.jw-skin-seven .jw-icon-display{color:#fff}.jw-skin-seven .jw-icon-display:before{padding-left:0}.jw-skin-seven .jw-display-icon-container{border-radius:50%;border:1px solid #333}.jw-skin-seven .jw-rail{background-color:#384154;box-shadow:none}.jw-skin-seven .jw-buffer{background-color:#666f82}.jw-skin-seven .jw-progress{background:#ff0046}.jw-skin-seven .jw-knob{width:.6em;height:.6em;background-color:#fff;box-shadow:0 0 0 1px #000;border-radius:1em}.jw-skin-seven .jw-slider-horizontal .jw-slider-container{height:.95em}.jw-skin-seven .jw-slider-horizontal .jw-rail,.jw-skin-seven .jw-slider-horizontal .jw-buffer,.jw-skin-seven .jw-slider-horizontal .jw-progress{height:.2em;border-radius:0}.jw-skin-seven .jw-slider-horizontal .jw-knob{top:-0.2em}.jw-skin-seven .jw-slider-horizontal .jw-cue{top:-0.05em;width:.3em;height:.3em;background-color:#fff;border-radius:50%}.jw-skin-seven .jw-slider-vertical .jw-rail,.jw-skin-seven .jw-slider-vertical .jw-buffer,.jw-skin-seven .jw-slider-vertical .jw-progress{width:.2em}.jw-skin-seven .jw-volume-tip{width:100%;left:-45%;padding-bottom:.7em}.jw-skin-seven .jw-text-duration{color:#666f82}.jw-skin-seven .jw-controlbar-right-group .jw-icon-tooltip:before,.jw-skin-seven .jw-controlbar-right-group .jw-icon-inline:before{border-left:1px solid #666}.jw-skin-seven .jw-controlbar-right-group .jw-icon-inline:first-child:before{border:none}.jw-skin-seven .jw-dock .jw-dock-button{border-radius:50%;border:1px solid #333}.jw-skin-seven .jw-dock .jw-overlay{border-radius:2.5em}.jw-skin-seven .jw-icon-tooltip .jw-active-option{background-color:#ff0046;color:#fff}.jw-skin-seven .jw-icon-volume{min-width:2.6em}.jw-skin-seven .jw-time-tip,.jw-skin-seven .jw-menu,.jw-skin-seven .jw-volume-tip,.jw-skin-seven .jw-skip{border:1px solid #333}.jw-skin-seven .jw-time-tip{padding:.2em;bottom:1.3em}.jw-skin-seven .jw-menu,.jw-skin-seven .jw-volume-tip{bottom:.24em}.jw-skin-seven .jw-skip{padding:.4em;border-radius:1.75em}.jw-skin-seven .jw-skip .jw-text,.jw-skin-seven .jw-skip .jw-icon-inline{color:#fff;line-height:1.75em}.jw-skin-seven .jw-skip.jw-skippable:hover .jw-text,.jw-skin-seven .jw-skip.jw-skippable:hover .jw-icon-inline{color:#ff0046}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon:before,.jw-skin-seven.jw-flag-touch .jw-text-elapsed,.jw-skin-seven.jw-flag-touch .jw-text-duration{padding:0 .35em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-prev:before{padding:0 .125em 0 .7em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-next:before{padding:0 .7em 0 .125em}.jw-skin-seven.jw-flag-touch .jw-controlbar .jw-icon-playlist:before{padding:0 .225em}',""]);
},function(a,b){a.exports=function(){var a=[];return a.toString=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b];c[2]?a.push("@media "+c[2]+"{"+c[1]+"}"):a.push(c[1])}return a.join("")},a.i=function(b,c){"string"==typeof b&&(b=[[null,b,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<b.length;e++){var g=b[e];"number"==typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),a.push(g))}},a}},function(a,b){a.exports="data:application/font-woff;base64,d09GRgABAAAAABQ4AAsAAAAAE+wAAQABAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxID2WNtYXAAAAFoAAAAVAAAAFQaVsydZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAD3AAAA9wKJaoQ2hlYWQAABE0AAAANgAAADYIhqKNaGhlYQAAEWwAAAAkAAAAJAmCBdxobXR4AAARkAAAAGwAAABscmAHPWxvY2EAABH8AAAAOAAAADg2EDnwbWF4cAAAEjQAAAAgAAAAIAAiANFuYW1lAAASVAAAAcIAAAHCwZOZtHBvc3QAABQYAAAAIAAAACAAAwAAAAMEmQGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5hYDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOYW//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAABABgAAAFoAOAADoAPwBEAEkAACUVIi4CNTQ2Ny4BNTQ+AjMyHgIVFAYHHgEVFA4CIxEyFhc+ATU0LgIjIg4CFRQWFz4BMxExARUhNSEXFSE1IRcVITUhAUAuUj0jCgoKCkZ6o11do3pGCgoKCiM9Ui4qSh4BAjpmiE1NiGY6AQIeSioCVQIL/fWWAXX+i0oBK/7VHh4jPVIuGS4VH0MiXaN6RkZ6o10iQx8VLhkuUj0jAcAdGQ0bDk2IZjo6ZohNDhsNGR3+XgNilZXglZXglZUAAAABAEAAAAPAA4AAIQAAExQeAjMyPgI1MxQOAiMiLgI1ND4CMxUiDgIVMYs6ZohNTYhmOktGeqNdXaN6RkZ6o11NiGY6AcBNiGY6OmaITV2jekZGeqNdXaN6Rks6ZohNAAAEAEAAAATAA4AADgAcACoAMQAAJS4BJyERIREuAScRIREhByMuAyc1HgMXMSsBLgMnNR4DFzErATUeARcxAn8DBQQCDPxGCysLBDz9v1NaCERrjE9irINTCLVbByc6Sio9a1I1CLaBL0YMQgsoCgLB/ukDCgIBSPzCQk6HaEIIWAhQgKdgKUg5JgdYBzRRZzx9C0QuAAAAAAUAQAAABMADgAAOABkAJwA1ADwAACUuASchESERLgEnESERIQE1IREhLgMnMQEjLgMnNR4DFzErAS4DJzUeAxcxKwE1HgEXMQKAAgYFAg38QAwqCgRA/cD+gANA/iAYRVlsPgEtWghFa4xPYq2DUgmzWgcnO0oqPGpSNgm6gDBEDEAMKAwCwP7tAggDAUb8wAHQ8P3APWdUQRf98E2IaEIHWghQgKhgKUg4JgdaCDVRZzt9DEMuAAAEAEAAAAXAA4AABAAJAGcAxQAANxEhESEBIREhEQU+ATc+ATMyFhceARceARceARcjLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3Mw4BBw4BBw4BBw4BIyImJy4BJy4BJy4BNTQ2Nz4BNzEhPgE3PgEzMhYXHgEXHgEXHgEXIy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNzMOAQcOAQcOAQcOASMiJicuAScuAScuATU0Njc+ATcxQAWA+oAFNvsUBOz8Iw4hExQsGBIhEA8cDQwUCAgLAlsBBQUECgYHDggIEAkQGgsLEgcHCgMDAwMDAwoHBxILCxoQFiEMDA8DWgIJBwgTDQwcERAkFBgsFBMhDg0VBwcHBwcHFQ0Bug0hFBMsGREhEBAcDAwVCAgKAloCBQQECwYGDggIEQgQGwsLEgcHCgMDAwMDAwoHBxILCxsQFSIMDA4DWwIJCAcUDAwdEBEkExksExQhDQ4UBwcICAcHFA4AA4D8gAM1/RYC6tcQGAgJCQUFBQ8KChgPDiETCQ4HBwwFBQgDAwIGBgYRCgoYDQ0cDg0aDQ0XCgoRBgYGDQ0OIhYUJBEQHAsLEgYGBgkICRcPDyQUFCwXGC0VFCQPEBgICQkFBQUPCgoYDw4hEwkOBwcMBQUIAwMCBgYGEQoKGA0NHA4NGg0NFwoKEQYGBg0NDiIWFCQREBwLCxIGBgYJCAkXDw8kFBQsFxgtFRQkDwAAAAADAEAAAAXAA4AAEABvAM4AACUhIiY1ETQ2MyEyFhURFAYjAT4BNz4BNz4BMzIWFx4BFx4BFx4BFzMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATc+ATc+ATcjDgEHDgEjIiYnLgEnLgEnLgE1NDY3OQEhPgE3PgE3PgEzMhYXHgEXHgEXHgEXMy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNz4BNz4BNyMOAQcOASMiJicuAScuAScuATU0Njc5AQUs+6g9V1c9BFg9V1c9/JoDCgcGEgsLGxAJEAgIDgYHCgQEBgFaAgoICBQNDBwQDyESGCwUEyEODRUHBwcHBwcVDQ4hExQrGRQkEBAdDAwUCAcJAloDDwwMIhUQGwsLEgYHCgMEAwMEAbkDCgcHEgsLGxAIEQgHDwYGCwQEBQFbAgoICBUMDBwQECERGSwTFCENDhQHBwgIBwcUDg0hFBMsGRMkERAdDAwUBwgJAlsDDgwNIRUQGwsLEgcHCgMDAwMDAFc+AlY+V1c+/ao+VwH0DRgKCxAGBgYCAwMIBQUMBwcOCRMhDg8YCgoOBgUFCQkIGBAPJBQVLRgXLBQUJA8PFwkICQYGBhILCxwQESQUFiIODQ0GBgYRCgoXDQ0aDg4bDQ0YCgsQBgYGAgMDCAUFDAcHDgkTIQ4PGAoKDgYFBQkJCBgQDyQUFS0YFywUFCQPDxcJCAkGBgYSCwscEBEkFBYiDg0NBgYGEQoKFw0NGg4OGw0AAAABAOAAoAMgAuAAFAAAARQOAiMiLgI1ND4CMzIeAhUDIC1OaTw8aU4tLU5pPDxpTi0BwDxpTi0tTmk8PGlOLS1OaTwAAAMAQAAQBEADkAADABAAHwAANwkBISUyNjU0JiMiBhUUFjMTNCYjIgYVERQWMzI2NRFAAgACAPwAAgAOFRUODhUVDiMVDg4VFQ4OFRADgPyAcBYQDxgWERAWAeYPGBYR/tcPGBYRASkAAgBAAAADwAOAAAcADwAANxEXNxcHFyEBIREnByc3J0CAsI2wgP5zAfMBjYCwjbCAAAGNgLCNsIADgP5zgLCNsIAAAAAFAEAAAAXAA4AABAAJABYAMwBPAAA3ESERIQEhESERATM1MxEjNSMVIxEzFSUeARceARceARUUBgcOAQcOAQcOASsBETMeARcxBxEzMjY3PgE3PgE3PgE1NCYnLgEnLgEnLgErAUAFgPqABTb7FATs/FS2YGC2ZGQCXBQeDg8UBwcJBgcHEwwMIRMTLBuwsBYqE6BHCRcJChIIBw0FBQUEAwINBwcTDAwgETcAA4D8gAM2/RcC6f7Arf5AwMABwK2dBxQODyIWFTAbGC4TFiIPDhgKCQcBwAIHB0P+5gQDAg0HBxcMDCETER0PDhgKCQ8EBQUABAA9AAAFwAOAABAAHQA7AFkAACUhIiY1ETQ2MyEyFhURFAYjASMVIzUjETM1MxUzEQUuAScuAScuASsBETMyNjc+ATc+ATc+ATUuASc5AQcOAQcOASsBETMyFhceARceARceARUUBgcOAQc5AQUq+6k+WFg+BFc+WFg+/bNgs2Rks2ABsAcXDA4fExMnFrCwGywTEx4PDBMHBwYCCAl3CBIKCRQMRzcTHgwMEwcHCwQDBAUFBQ0HAFg+AlQ+WFg+/aw+WAKdra3+QMDAAcB9FiIODxQHBwb+QAkHCRgPDiUTFiwYHTAW4ggNAgMEAR8EBQUPCgoYDw4fERMfDwwXBwAAAAABAEMABgOgA3oAjwAAExQiNScwJic0JicuAQcOARUcARUeARceATc+ATc+ATE2MhUwFAcUFhceARceATMyNjc+ATc+ATc+AzE2MhUwDgIVFBYXHgEXFjY3PgE3PgE3PgE3PgM3PAE1NCYnJgYHDgMxBiI1MDwCNTQmJyYGBw4BBw4DMQYiNTAmJy4BJyYGBw4BMRWQBgQIBAgCBQ4KBwkDFgcHIQ8QDwcHNgUEAwMHBQsJChcMBQ0FBwsHDBMICR8cFQUFAwQDCAUHFRERJBEMEwgJEgUOGQwGMjgvBAkHDBYEAz1IPAQFLyQRIhEQFgoGIiUcBQUEAgMYKCcmCgcsAboFBQwYDwUKBwUEAgMNBwcLBxRrDhENBwggDxOTCgqdMBM1EQwTCAcFBAIFCgcPIw4UQ0IxCgpTc3glEyMREBgIBwEKBxUKESUQJ00mE6/JrA8FBgIHDQMECAkGla2PCQk1VGYxNTsHAgUKChwQC2BqVQoKehYfTwUDRx8TkAMAAAAAAgBGAAAENgOAAAQACAAAJREzESMJAhEDxnBw/IADgPyAAAOA/IADgP5A/kADgAAAAgCAAAADgAOAAAQACQAAJREhESEBIREhEQKAAQD/AP4AAQD/AAADgPyAA4D8gAOAAAAAAAEAgAAABAADgAADAAAJAREBBAD8gAOAAcD+QAOA/kAAAgBKAAAEOgOAAAQACAAANxEjETMJAhG6cHADgPyAA4AAA4D8gAOA/kD+QAOAAAAAAQBDACADQwOgACkAAAEeARUUDgIjIi4CNTQ+AjM1DQE1Ig4CFRQeAjMyPgI1NCYnNwMNGhw8aYxPT4xoPT1ojE8BQP7APGlOLS1OaTw8aU4tFhNTAmMrYzVPjGg9PWiMT0+MaD2ArbOALU5pPDxpTi0tTmk8KUsfMAAAAAEAQABmAiADEwAGAAATETMlESUjQM0BE/7tzQEzARPN/VPNAAQAQAAABJADgAAXACsAOgBBAAAlJz4DNTQuAic3HgMVFA4CBzEvAT4BNTQmJzceAxUOAwcxJz4BNTQmJzceARUUBgcnBREzJRElIwPaKiY+KxcXKz4mKipDMBkZMEMqpCk5REQ5KSE0JBQBFCQzIcMiKCgiKiYwMCYq/c3NARP+7c0AIyheaXI8PHFpXikjK2ZyfEFBfHJmK4MjNZFUVJE1Ix5IUFgvL1lRRx2zFkgpK0YVIxxcNDVZHykDARPN/VPNAAACAEAAAAPDA4AABwAPAAABFyERFzcXBwEHJzcnIREnAypw/qlwl3mZ/iaWepZwAVdtAnNwAVdwlnqT/iOWepZw/qpsAAMAQAETBcACYAAMABkAJgAAARQGIyImNTQ2MzIWFSEUBiMiJjU0NjMyFhUhFAYjIiY1NDYzMhYVAY1iRUVhYUVFYgIWYUVFYmJFRWECHWFFRWJiRUVhAbpFYmJFRWFhRUViYkVFYWFFRWJiRUVhYUUAAAAAAQBmACYDmgNaACAAAAEXFhQHBiIvAQcGIicmND8BJyY0NzYyHwE3NjIXFhQPAQKj9yQkJGMd9vYkYx0kJPf3JCQkYx329iRjHSQk9wHA9iRjHSQk9/ckJCRjHfb2JGMdJCT39yQkJGMd9gAABgBEAAQDvAN8AAQACQAOABMAGAAdAAABIRUhNREhFSE1ESEVITUBMxUjNREzFSM1ETMVIzUBpwIV/esCFf3rAhX96/6dsrKysrKyA3xZWf6dWVn+nVlZAsaysv6dsrL+nbKyAAEAAAABGZqh06s/Xw889QALBAAAAAAA0dQiKwAAAADR1CIrAAAAAAXAA6AAAAAIAAIAAAAAAAAAAQAAA8D/wAAABgAAAAAABcAAAQAAAAAAAAAAAAAAAAAAABsEAAAAAAAAAAAAAAACAAAABgAAYAQAAEAFAABABQAAQAYAAEAGAABABAAA4ASAAEAEAABABgAAQAYAAD0D4ABDBIAARgQAAIAEAACABIAASgOAAEMEwABABMAAQAQAAEAGAABABAAAZgQAAEQAAAAAAAoAFAAeAIgAuAEEAWAChgOyA9QECAQqBKQFJgXoBgAGGgYqBkIGgAaSBvQHFgdQB4YHuAABAAAAGwDPAAYAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADAAAAAEAAAAAAAIABwCNAAEAAAAAAAMADABFAAEAAAAAAAQADACiAAEAAAAAAAUACwAkAAEAAAAAAAYADABpAAEAAAAAAAoAGgDGAAMAAQQJAAEAGAAMAAMAAQQJAAIADgCUAAMAAQQJAAMAGABRAAMAAQQJAAQAGACuAAMAAQQJAAUAFgAvAAMAAQQJAAYAGAB1AAMAAQQJAAoANADganctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzVmVyc2lvbiAxLjEAVgBlAHIAcwBpAG8AbgAgADEALgAxanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByanctc2l4LWljb25zAGoAdwAtAHMAaQB4AC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="},function(a,b){a.exports="data:application/octet-stream;base64,AAEAAAALAIAAAwAwT1MvMg8SA9kAAAC8AAAAYGNtYXAaVsydAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZiiWqEMAAAF4AAAPcGhlYWQIhqKNAAAQ6AAAADZoaGVhCYIF3AAAESAAAAAkaG10eHJgBz0AABFEAAAAbGxvY2E2EDnwAAARsAAAADhtYXhwACIA0QAAEegAAAAgbmFtZcGTmbQAABIIAAABwnBvc3QAAwAAAAATzAAAACAAAwSZAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmFgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg5hb//f//AAAAAAAg5gD//f//AAH/4xoEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAGAAAAWgA4AAOgA/AEQASQAAJRUiLgI1NDY3LgE1ND4CMzIeAhUUBgceARUUDgIjETIWFz4BNTQuAiMiDgIVFBYXPgEzETEBFSE1IRcVITUhFxUhNSEBQC5SPSMKCgoKRnqjXV2jekYKCgoKIz1SLipKHgECOmaITU2IZjoBAh5KKgJVAgv99ZYBdf6LSgEr/tUeHiM9Ui4ZLhUfQyJdo3pGRnqjXSJDHxUuGS5SPSMBwB0ZDRsOTYhmOjpmiE0OGw0ZHf5eA2KVleCVleCVlQAAAAEAQAAAA8ADgAAhAAATFB4CMzI+AjUzFA4CIyIuAjU0PgIzFSIOAhUxizpmiE1NiGY6S0Z6o11do3pGRnqjXU2IZjoBwE2IZjo6ZohNXaN6RkZ6o11do3pGSzpmiE0AAAQAQAAABMADgAAOABwAKgAxAAAlLgEnIREhES4BJxEhESEHIy4DJzUeAxcxKwEuAyc1HgMXMSsBNR4BFzECfwMFBAIM/EYLKwsEPP2/U1oIRGuMT2Ksg1MItVsHJzpKKj1rUjUItoEvRgxCCygKAsH+6QMKAgFI/MJCTodoQghYCFCAp2ApSDkmB1gHNFFnPH0LRC4AAAAABQBAAAAEwAOAAA4AGQAnADUAPAAAJS4BJyERIREuAScRIREhATUhESEuAycxASMuAyc1HgMXMSsBLgMnNR4DFzErATUeARcxAoACBgUCDfxADCoKBED9wP6AA0D+IBhFWWw+AS1aCEVrjE9irYNSCbNaByc7Sio8alI2CbqAMEQMQAwoDALA/u0CCAMBRvzAAdDw/cA9Z1RBF/3wTYhoQgdaCFCAqGApSDgmB1oINVFnO30MQy4AAAQAQAAABcADgAAEAAkAZwDFAAA3ESERIQEhESERBT4BNz4BMzIWFx4BFx4BFx4BFyMuAScuAScuAScuASMiBgcOAQcOAQcOARUUFhceARceARceATMyNjc+ATczDgEHDgEHDgEHDgEjIiYnLgEnLgEnLgE1NDY3PgE3MSE+ATc+ATMyFhceARceARceARcjLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3Mw4BBw4BBw4BBw4BIyImJy4BJy4BJy4BNTQ2Nz4BNzFABYD6gAU2+xQE7PwjDiETFCwYEiEQDxwNDBQICAsCWwEFBQQKBgcOCAgQCRAaCwsSBwcKAwMDAwMDCgcHEgsLGhAWIQwMDwNaAgkHCBMNDBwRECQUGCwUEyEODRUHBwcHBwcVDQG6DSEUEywZESEQEBwMDBUICAoCWgIFBAQLBgYOCAgRCBAbCwsSBwcKAwMDAwMDCgcHEgsLGxAVIgwMDgNbAgkIBxQMDB0QESQTGSwTFCENDhQHBwgIBwcUDgADgPyAAzX9FgLq1xAYCAkJBQUFDwoKGA8OIRMJDgcHDAUFCAMDAgYGBhEKChgNDRwODRoNDRcKChEGBgYNDQ4iFhQkERAcCwsSBgYGCQgJFw8PJBQULBcYLRUUJA8QGAgJCQUFBQ8KChgPDiETCQ4HBwwFBQgDAwIGBgYRCgoYDQ0cDg0aDQ0XCgoRBgYGDQ0OIhYUJBEQHAsLEgYGBgkICRcPDyQUFCwXGC0VFCQPAAAAAAMAQAAABcADgAAQAG8AzgAAJSEiJjURNDYzITIWFREUBiMBPgE3PgE3PgEzMhYXHgEXHgEXHgEXMy4BJy4BJy4BJy4BIyIGBw4BBw4BBw4BFRQWFx4BFx4BFx4BMzI2Nz4BNz4BNz4BNyMOAQcOASMiJicuAScuAScuATU0Njc5ASE+ATc+ATc+ATMyFhceARceARceARczLgEnLgEnLgEnLgEjIgYHDgEHDgEHDgEVFBYXHgEXHgEXHgEzMjY3PgE3PgE3PgE3Iw4BBw4BIyImJy4BJy4BJy4BNTQ2NzkBBSz7qD1XVz0EWD1XVz38mgMKBwYSCwsbEAkQCAgOBgcKBAQGAVoCCggIFA0MHBAPIRIYLBQTIQ4NFQcHBwcHBxUNDiETFCsZFCQQEB0MDBQIBwkCWgMPDAwiFRAbCwsSBgcKAwQDAwQBuQMKBwcSCwsbEAgRCAcPBgYLBAQFAVsCCggIFQwMHBAQIREZLBMUIQ0OFAcHCAgHBxQODSEUEywZEyQREB0MDBQHCAkCWwMODA0hFRAbCwsSBwcKAwMDAwMAVz4CVj5XVz79qj5XAfQNGAoLEAYGBgIDAwgFBQwHBw4JEyEODxgKCg4GBQUJCQgYEA8kFBUtGBcsFBQkDw8XCQgJBgYGEgsLHBARJBQWIg4NDQYGBhEKChcNDRoODhsNDRgKCxAGBgYCAwMIBQUMBwcOCRMhDg8YCgoOBgUFCQkIGBAPJBQVLRgXLBQUJA8PFwkICQYGBhILCxwQESQUFiIODQ0GBgYRCgoXDQ0aDg4bDQAAAAEA4ACgAyAC4AAUAAABFA4CIyIuAjU0PgIzMh4CFQMgLU5pPDxpTi0tTmk8PGlOLQHAPGlOLS1OaTw8aU4tLU5pPAAAAwBAABAEQAOQAAMAEAAfAAA3CQEhJTI2NTQmIyIGFRQWMxM0JiMiBhURFBYzMjY1EUACAAIA/AACAA4VFQ4OFRUOIxUODhUVDg4VEAOA/IBwFhAPGBYREBYB5g8YFhH+1w8YFhEBKQACAEAAAAPAA4AABwAPAAA3ERc3FwcXIQEhEScHJzcnQICwjbCA/nMB8wGNgLCNsIAAAY2AsI2wgAOA/nOAsI2wgAAAAAUAQAAABcADgAAEAAkAFgAzAE8AADcRIREhASERIREBMzUzESM1IxUjETMVJR4BFx4BFx4BFRQGBw4BBw4BBw4BKwERMx4BFzEHETMyNjc+ATc+ATc+ATU0JicuAScuAScuASsBQAWA+oAFNvsUBOz8VLZgYLZkZAJcFB4ODxQHBwkGBwcTDAwhExMsG7CwFioToEcJFwkKEggHDQUFBQQDAg0HBxMMDCARNwADgPyAAzb9FwLp/sCt/kDAwAHArZ0HFA4PIhYVMBsYLhMWIg8OGAoJBwHAAgcHQ/7mBAMCDQcHFwwMIRMRHQ8OGAoJDwQFBQAEAD0AAAXAA4AAEAAdADsAWQAAJSEiJjURNDYzITIWFREUBiMBIxUjNSMRMzUzFTMRBS4BJy4BJy4BKwERMzI2Nz4BNz4BNz4BNS4BJzkBBw4BBw4BKwERMzIWFx4BFx4BFx4BFRQGBw4BBzkBBSr7qT5YWD4EVz5YWD79s2CzZGSzYAGwBxcMDh8TEycWsLAbLBMTHg8MEwcHBgIICXcIEgoJFAxHNxMeDAwTBwcLBAMEBQUFDQcAWD4CVD5YWD79rD5YAp2trf5AwMABwH0WIg4PFAcHBv5ACQcJGA8OJRMWLBgdMBbiCA0CAwQBHwQFBQ8KChgPDh8REx8PDBcHAAAAAAEAQwAGA6ADegCPAAATFCI1JzAmJzQmJy4BBw4BFRwBFR4BFx4BNz4BNz4BMTYyFTAUBxQWFx4BFx4BMzI2Nz4BNz4BNz4DMTYyFTAOAhUUFhceARcWNjc+ATc+ATc+ATc+Azc8ATU0JicmBgcOAzEGIjUwPAI1NCYnJgYHDgEHDgMxBiI1MCYnLgEnJgYHDgExFZAGBAgECAIFDgoHCQMWBwchDxAPBwc2BQQDAwcFCwkKFwwFDQUHCwcMEwgJHxwVBQUDBAMIBQcVEREkEQwTCAkSBQ4ZDAYyOC8ECQcMFgQDPUg8BAUvJBEiERAWCgYiJRwFBQQCAxgoJyYKBywBugUFDBgPBQoHBQQCAw0HBwsHFGsOEQ0HCCAPE5MKCp0wEzURDBMIBwUEAgUKBw8jDhRDQjEKClNzeCUTIxEQGAgHAQoHFQoRJRAnTSYTr8msDwUGAgcNAwQICQaVrY8JCTVUZjE1OwcCBQoKHBALYGpVCgp6Fh9PBQNHHxOQAwAAAAACAEYAAAQ2A4AABAAIAAAlETMRIwkCEQPGcHD8gAOA/IAAA4D8gAOA/kD+QAOAAAACAIAAAAOAA4AABAAJAAAlESERIQEhESERAoABAP8A/gABAP8AAAOA/IADgPyAA4AAAAAAAQCAAAAEAAOAAAMAAAkBEQEEAPyAA4ABwP5AA4D+QAACAEoAAAQ6A4AABAAIAAA3ESMRMwkCEbpwcAOA/IADgAADgPyAA4D+QP5AA4AAAAABAEMAIANDA6AAKQAAAR4BFRQOAiMiLgI1ND4CMzUNATUiDgIVFB4CMzI+AjU0Jic3Aw0aHDxpjE9PjGg9PWiMTwFA/sA8aU4tLU5pPDxpTi0WE1MCYytjNU+MaD09aIxPT4xoPYCts4AtTmk8PGlOLS1OaTwpSx8wAAAAAQBAAGYCIAMTAAYAABMRMyURJSNAzQET/u3NATMBE839U80ABABAAAAEkAOAABcAKwA6AEEAACUnPgM1NC4CJzceAxUUDgIHMS8BPgE1NCYnNx4DFQ4DBzEnPgE1NCYnNx4BFRQGBycFETMlESUjA9oqJj4rFxcrPiYqKkMwGRkwQyqkKTlERDkpITQkFAEUJDMhwyIoKCIqJjAwJir9zc0BE/7tzQAjKF5pcjw8cWleKSMrZnJ8QUF8cmYrgyM1kVRUkTUjHkhQWC8vWVFHHbMWSCkrRhUjHFw0NVkfKQMBE839U80AAAIAQAAAA8MDgAAHAA8AAAEXIREXNxcHAQcnNychEScDKnD+qXCXeZn+JpZ6lnABV20Cc3ABV3CWepP+I5Z6lnD+qmwAAwBAARMFwAJgAAwAGQAmAAABFAYjIiY1NDYzMhYVIRQGIyImNTQ2MzIWFSEUBiMiJjU0NjMyFhUBjWJFRWFhRUViAhZhRUViYkVFYQIdYUVFYmJFRWEBukViYkVFYWFFRWJiRUVhYUVFYmJFRWFhRQAAAAABAGYAJgOaA1oAIAAAARcWFAcGIi8BBwYiJyY0PwEnJjQ3NjIfATc2MhcWFA8BAqP3JCQkYx329iRjHSQk9/ckJCRjHfb2JGMdJCT3AcD2JGMdJCT39yQkJGMd9vYkYx0kJPf3JCQkYx32AAAGAEQABAO8A3wABAAJAA4AEwAYAB0AAAEhFSE1ESEVITURIRUhNQEzFSM1ETMVIzURMxUjNQGnAhX96wIV/esCFf3r/p2ysrKysrIDfFlZ/p1ZWf6dWVkCxrKy/p2ysv6dsrIAAQAAAAEZmqHTqz9fDzz1AAsEAAAAAADR1CIrAAAAANHUIisAAAAABcADoAAAAAgAAgAAAAAAAAABAAADwP/AAAAGAAAAAAAFwAABAAAAAAAAAAAAAAAAAAAAGwQAAAAAAAAAAAAAAAIAAAAGAABgBAAAQAUAAEAFAABABgAAQAYAAEAEAADgBIAAQAQAAEAGAABABgAAPQPgAEMEgABGBAAAgAQAAIAEgABKA4AAQwTAAEAEwABABAAAQAYAAEAEAABmBAAARAAAAAAACgAUAB4AiAC4AQQBYAKGA7ID1AQIBCoEpAUmBegGAAYaBioGQgaABpIG9AcWB1AHhge4AAEAAAAbAM8ABgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAMAAAAAQAAAAAAAgAHAI0AAQAAAAAAAwAMAEUAAQAAAAAABAAMAKIAAQAAAAAABQALACQAAQAAAAAABgAMAGkAAQAAAAAACgAaAMYAAwABBAkAAQAYAAwAAwABBAkAAgAOAJQAAwABBAkAAwAYAFEAAwABBAkABAAYAK4AAwABBAkABQAWAC8AAwABBAkABgAYAHUAAwABBAkACgA0AOBqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNWZXJzaW9uIDEuMQBWAGUAcgBzAGkAbwBuACAAMQAuADFqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNSZWd1bGFyAFIAZQBnAHUAbABhAHJqdy1zaXgtaWNvbnMAagB3AC0AcwBpAHgALQBpAGMAbwBuAHNGb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=l[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(h(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(h(d.parts[f],b));l[d.id]={id:d.id,refs:1,parts:g}}}}function e(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d],f=e[0],g=e[1],h=e[2],i=e[3],j={css:g,media:h,sourceMap:i};c[f]?c[f].parts.push(j):b.push(c[f]={id:f,parts:[j]})}return b}function f(){var a=document.createElement("style"),b=o();return a.type="text/css",b.appendChild(a),a}function g(){var a=document.createElement("link"),b=o();return a.rel="stylesheet",b.appendChild(a),a}function h(a,b){var c,d,e;if(b.singleton){var h=q++;c=p||(p=f()),d=i.bind(null,c,h,!1),e=i.bind(null,c,h,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=g(),d=k.bind(null,c),e=function(){c.parentNode.removeChild(c),c.href&&URL.revokeObjectURL(c.href)}):(c=f(),d=j.bind(null,c),e=function(){c.parentNode.removeChild(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function i(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=r(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function j(a,b){var c=b.css,d=b.media;b.sourceMap;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function k(a,b){var c=b.css,d=(b.media,b.sourceMap);d&&(c+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */");var e=new Blob([c],{type:"text/css"}),f=a.href;a.href=URL.createObjectURL(e),f&&URL.revokeObjectURL(f)}var l={},m=function(a){var b;return function(){return"undefined"==typeof b&&(b=a.apply(this,arguments)),b}},n=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),o=m(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,q=0;a.exports=function(a,b){b=b||{},"undefined"==typeof b.singleton&&(b.singleton=n());var c=e(a);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=l[h.id];i.refs--,f.push(i)}if(a){var j=e(a);d(j,b)}for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var k=0;k<i.parts.length;k++)i.parts[k]();delete l[i.id]}}}};var r=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},function(a,b,c){var d,e;d=[c(41),c(44),c(59),c(47),c(89),c(51),c(119),c(95),c(101),c(96),c(83),c(45),c(61),c(114),c(69),c(161),c(66),c(98)],e=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={};return s.api=a,s._=b,s.version=c,s.utils=b.extend(d,f,{canCast:p.available,key:h,extend:b.extend,scriptloader:i,rssparser:q,tea:j,UI:g}),s.utils.css.style=s.utils.style,s.vid=k,s.events=b.extend({},l,{state:m}),s.playlist=b.extend({},n,{item:o}),s.plugins=r,s.cast=p,s}.apply(b,d),!(void 0!==e&&(a.exports=e))}])});

jwplayer.key="Y9ErSWCW1MXU9I+n2Iap+0jYOLmHMohpzQiWMCEarrM=";
    


$(document).ready(function(){

    /* MG: PR-1391 */
    $("div.videoplayer.section div.pinnedcontent").each(function(index) {
        $(this).parent().before($(this));
        $(this).next().remove();
    });   

});


var startVideoTracking = function(playerInstance){
    var tries = 0;
    var wait = setInterval(function(){
        if(typeof registerVideoPlayerEvents === 'function'){
            registerVideoPlayerEvents(playerInstance);
            clearInterval(wait);
        }
        else{
            tries = tries+1;
            if (tries > 3){
                clearInterval(wait);
                console.log('Unable to locate registerVideoPlayerEvents function.');
            }
        }
    },300);
};

/* jwPlayer Context */
var jwPlayerInstanceInit = function(instanceId, setup) {
	var playerInstance = jwplayer(instanceId);
	
	(function(playerInstance, setup) {
		var videoWrapper = $("#" + playerInstance.id).parent();
		var playerSetup = setup || null;
		
		/* Additional events - have to be attached after setup() is called */
		var playerInstanceSetupStart = function(playerInstance) {
			/* On video-play started: make sure play button is visible */
			playerInstance.on("play", function(e) {
				$("#" + playerInstance.id + " .jw-icon").css("visibility", "visible");
				s.tl(this, "o", "");
			});
			/* On player Error */
			playerInstance.on("setupError", function() {
				$("#" + playerInstance.id).hide();
				$("#" + playerInstance.id).next(".jw-video-error").css("display", "block");
			});
			/* Hide player's loading icon if the source is YouTube */
			if(playerSetup.file.match(/^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/)/)) {
				playerInstance.on("displayClick", function(e) {
					$("#" + playerInstance.id + " .jw-icon").css("visibility", "hidden");
				});
				playerInstance.on("buffer", function(e) {
					$("#" + playerInstance.id + " .jw-icon").css("visibility", "hidden");
				});
			}
		}
		
		if(playerSetup && videoWrapper.length == 1) {
			if(videoWrapper.children(".videowrappercontent").length > 0) {
				/* This is a poster video */
				
				/* Define videoplayer elements */
				var playButton = videoWrapper.find(".videowrapperplay");
				var closeButton = videoWrapper.find("button.close");
				var overlayContent = videoWrapper.find(".videowrappercontent");
				var videoPlayer = videoWrapper.find(".pwcvideoplayer");
				var posterW = videoWrapper.css("max-width");
				var posterH = videoWrapper.css("height");
				
				/* On playButton click */
				playButton.on("click", function() {
					playerInstance.setup(playerSetup);
                    
                    // start video tracking always after setup is called
                    //startVideoTracking(playerInstance);
					registerVideoPlayerEvents(playerInstance);
                    
					overlayContent.css("visibility", "hidden");
					videoPlayer.show();
					closeButton.show();
					if(playerSetup.width & playerSetup.height){
						if($(window).width() > 768) {
							videoWrapper.animate({width: playerSetup.width, height: playerSetup.height});
							videoWrapper.css("width","90%");
						}
					} else {
						videoWrapper.css("height","auto");
					}
					
					/* Setup additional player events */
					playerInstanceSetupStart(playerInstance);
				});

				closeButton.on("click", function() {					
					$(this).siblings('.jwplayer').hide();
					overlayContent.css("visibility", "visible");
					videoPlayer.hide();
					closeButton.hide();
					if(playerSetup.width & playerSetup.height){
						if($(window).width() > 768) {
							videoWrapper.animate({
								width: posterW,
								height: posterH
							});
							videoWrapper.css("width","100%");
						}
					} else {
						videoWrapper.css("height",posterH);
					}
                    playerInstance.remove();
				});
			}
			else {
				/* This is a basic (regular) video */
				playerInstance.setup(playerSetup);
                // start video tracking always after setup is called
                startVideoTracking(playerInstance);
				/* Setup additional player events */
				playerInstanceSetupStart(playerInstance);
			}
		}
		else {
			/* Remove videoplayer instance if no setup is submitted
			 * or if there is no videoWrapper with the pased id. */
			playerInstance.remove();
		}
	})(playerInstance, setup);
	return playerInstance || null;
}

$(function(){
	$('body').on('click', '.cta-download__additional-trigger', function (e) {
		e.preventDefault();
		var target = $(this).parents('.cta-download').find('.cta-download_additional-wrapper');
		if(target.length===1){
			if(target.is(':visible')) {
				target.stop(true,false).slideUp(300);
				$(this).find('.cta-download__additional-trigger-text').text($(this).data('openText') || "");
				$(this).find('.css-arrow--down').removeClass('css-arrow--down-rotate');
			}
			else {
				target.stop(true,false).slideDown(300);
				$(this).find('.cta-download__additional-trigger-text').text($(this).data('closeText') || "");
				$(this).find('.css-arrow--down').addClass('css-arrow--down-rotate');
			}
		}
	})
	
	$('body').on('click', '.cta-download__link', function (e) {
        var assetPath =  $(this).attr('href'),
 		assetName = assetPath.split('/').pop();
		 createObject("page.content.downLoadSource",assetPath);
		 createObject("page.content.downloadType",assetName.split('.')[1]);
		 createObject("page.content.downLoadFileName",assetName.split('.')[0]);

	})
});

if (typeof AssetSharing == 'undefined')
{
    var AssetSharing;

    function asset_sharing_class()
    // Class responsible for managing asset sharing funcionallity
    {
        this.constructor = function()
        // Initializer of the class
        {
            $(document).on('click', '.btn-asset-share', this.show_hide_vtn_share);
            $('[id^=myModal_image]').on('hidden.bs.modal', this.reset_vtn_share);
        }
        
        this.getTwitterUrl = function(element)
        {                 
           return $(element).attr('data-url');            
        }

        this.show_hide_vtn_share = function()
        // Shows or hides the share window of the asset
        {
            var asset_share_component   = $(this).parents('.asset-sharing-component');
            var btn_share               = asset_share_component.find('.btn-asset-share');

            if (asset_share_component.hasClass('.vtn-share-displayed'))
            {
                asset_share_component.removeClass('.vtn-share-displayed');
                asset_share_component.find('.vtn-share-asset').fadeOut(200);
                btn_share.removeClass('ico-share-hover');
                btn_share.addClass('ico-share');
            }
            else
            {
                asset_share_component.addClass('.vtn-share-displayed');
                asset_share_component.find('.vtn-share-asset').fadeIn(200);
                btn_share.removeClass('ico-share');
                btn_share.addClass('ico-share-hover');
            }
        }

        this.reset_vtn_share = function()
        // Resets share window of the asset when modal is closed
        {
            var asset_share_component   = $(this).find(".asset-sharing-component");
            var btn_share               = asset_share_component.find('.btn-asset-share');

            if (asset_share_component.hasClass('.vtn-share-displayed'))
            {
                asset_share_component.removeClass('.vtn-share-displayed');
                asset_share_component.find('.vtn-share-asset').hide();
                btn_share.removeClass('ico-share-hover');
                btn_share.addClass('ico-share');
            }
        }

        this.constructor();
    }
    $(document).ready(function(){
        AssetSharing = new asset_sharing_class();
    });
}

/**
 * Created by gonzalocalandria on 3/3/16.
 */
$(function(){
    /*
     scroll button
     */
    $('a.btn-scrollto').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
            if (target.length) {
                scroll_to_element(target, 1000);
                return false;
            }
        }
    });
})

PwC.ns("PwC.components.sectionlongform");

PwC.components.sectionlongform = function(){    
        
    var isIE = document.all && !window.atob;
    var tag;

    var firstScriptTag;         
    var tv,
        playerDefaults;

    function loadYoutubeApi() {  
        var videoYouTube = $("div[id^=ytbg-]");
        if(videoYouTube.length > 0)
        {
            tag = document.createElement('script');
            tag.src = 'https://www.youtube.com/player_api';
            firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            playerDefaults = {autoplay: 0, autohide: 1, modestbranding: 1, rel: 0, showinfo: 0, controls: 0, disablekb: 1, enablejsapi: 0, iv_load_policy: 3, loop: 0};
        }
    };
      
    /*PR-1714 lazy loading for images */
    function lazyLoadBackgroundImage() {        
        var sections = document.getElementsByTagName('section');        
        $(sections).each(function(){ 
            if($(window).width() < 768 && $(this).hasClass("no-background__mobile")) return;
               var imageUrl = $(this).attr("data-image");  
               var dataTitle = $(this).attr("data-tile");
               imageUrl = typeof imageUrl != 'undefined' ? imageUrl : dataTitle;
            if(typeof imageUrl != 'undefined'){                  
                var backgroundImage = 'url(' + imageUrl + ')';
                var backgroundColor = '';
                if($(this).attr('data-parallax') == 'true'){                  
                   backgroundImage = '';
                   backgroundColor = 'transparent';        
                } 
				if($(window).width() > 768 || $(this).hasClass("mobileBackgroundEnabled")){
					$(this).css("background-image",backgroundImage);
					$(this).css("background-color", backgroundColor); 
				}
            }
        }); 
    };

    function init() {
         lazyLoadBackgroundImage();
         addSectionBackgroundVideos();
        if($(window).width() < 768) {
            //INFO: This will destroy all videos without chance of recreating again.
            destroyAkamaiVideosOnMobile();
        } else {
            var videoAkamaiSectionsWithParallax = $("video.sectionvideo[data-parallax='true']");
            $.each(videoAkamaiSectionsWithParallax, function(index, element){
                $(element).backgroundVideo({
                    $videoWrap: $(element),
                    $outerWrap: $('.videobghost'),
                    preventContextMenu: true,
                    pauseVideoOnViewLoss: false,
                    parallaxOptions: {
                        effect: 1.9
                    }
                });
            });
        }
    };

    window.onYouTubePlayerAPIReady = function(){
        $("div[id^=ytbg-]").each(function(index, element){
            var checkYTVideo = $(this).parent('section').hasClass('mobileBackgroundEnabled') ? true : false;
            if($(window).width() > 768 || checkYTVideo){
                if($(element).data("videoid")) {
                var videourl = $(element).data("videoid");
                var muted = $(element).data("muted");
                var autoplay = $(element).data("autoplay");
                var loop = $(element).data("loop");
                var id = $(element).attr('id');
                playerDefaults.autoplay = autoplay ? 1 : 0;
                playerDefaults.loop = loop ? 1 : 0;
                if(!tv) {
                    tv = {};
                }
                tv[id] = {
                    videoObject: {},
                    vid: {'videoId': videourl, 'suggestedQuality': 'default'},
                    mute: muted
                };
                tv[id].videoObject = new YT.Player(id, {events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange}, playerVars: playerDefaults });
                }
            }
        });
    };

    function vidRescale(id, instance) {
        var sectionId = $('#' + id).parent('section').attr('id');
        var checkMobileBackgroundEnabled = $('#' + id).parent('section').hasClass('mobileBackgroundEnabled') ? true : false;
        if(!instance) return;
        if(!instance.getIframe()) return;
        var width = window.innerWidth;
        var height = window.innerHeight;
        if(width < 768 && !checkMobileBackgroundEnabled) {
            instance.destroy();
            return;
        }
        var container = document.querySelector("#" + id);
        if((width / height) > (16 / 9)) {
            instance.setSize(width, width / 16 * 9);
            container.style.left = "0px";
        }
        else {
            instance.setSize((height / 9) * 16, height);
            container.style.left = (instance.offsetWidth - width / 2) + "px";
        }
    };

    function onPlayerReady(event) {
        if(!tv) return;
        var iframe = event.target.getIframe();
        if(!iframe) return;
        var videourl = $(iframe).data("videoid");
        var id = $(iframe).attr('id');
        if(!tv[id]) return;
        if(!tv[id].videoObject) return;
        vidRescale(id, tv[id].videoObject);
        if(!tv[id].videoObject) return;
        if(!tv[id].videoObject.getIframe()) return;
        tv[id].videoObject.loadVideoById({videoId: videourl, suggestedQuality:'default'});
        if(tv[id].mute) {
            tv[id].videoObject.mute();
        }
    };
    function onPlayerStateChange(e) {
        var iframe = e.target.getIframe();
        if(!iframe) return;
        var id = $(iframe).attr('id');
        if (e.data === 1) {
            $('#' + id).parent('section').addClass('active');
        } else if (e.data === 0){
            tv[id].videoObject.seekTo(tv[id].vid.startSeconds);
        }
    };

    function destroyAkamaiVideosOnMobile() {
        var videoAkamaiSections = $("video.sectionvideo");
        var sectionId = $("video.sectionvideo").parent('section').attr('id');
        var checkMobileBackgroundEnabled = $("video.sectionvideo").parent('section').hasClass('mobileBackgroundEnabled') ? true : false;
        if(videoAkamaiSections && !checkMobileBackgroundEnabled) {
            videoAkamaiSections.remove();
        }
    }; 
    
    function onLoadSize()
    {
        for(var instanceId in tv) {
            vidRescale(instanceId, tv[instanceId].videoObject);
        }
    };
        
    
    return {
        init: init,
        onLoadSize : onLoadSize,
        lazyLoadBackgroundImage : lazyLoadBackgroundImage
    };

    function addSectionBackgroundVideos(){
        var sections = document.getElementsByTagName('section');
        $(sections).each(function(){
            var id = $(this).attr('id');
            var parallax = $(this).attr('data-videoParallax');
            if($(window).width() > 768 || $(this).hasClass("mobileBackgroundEnabled")){
                if($(this).hasClass('videobg') &&  $(this).hasClass('videobghost')){
                    addAkamaiBackgroundVideo(id);
                    $("video.sectionvideo").attr('muted','');
                    $("video.sectionvideo").attr('data-parallax',parallax);
                    if($(window).width() <= 768){
                        $("video.sectionvideo").attr('playsinline','');
                    }
                }
                else if($(this).hasClass('videobg') &&  $(this).hasClass('videobgyt')){
                    //load youtube api only if exist any youtube video on any section.
                    loadYoutubeApi();
                }
            }
        });

    }

    function addAkamaiBackgroundVideo(id){
        var videoId = $('#'+id).attr('data-videoid');
        var videoPoster = $('#'+id).attr('data-videoPoster');
        var videoAutoplay = $('#'+id).attr('data-videoAutoplay');
        var videoLoop = $('#'+id).attr('data-videoLoop') == 'true' ? true : false;
        var videoSrc = $('#'+id).attr('data-videoSrc');

        var video = $('<video />', {
            id: videoId,
            class : 'sectionvideo',
            poster: videoPoster,
        }).prop({
            muted : true,
            autoplay : videoAutoplay,
            loop : videoLoop,
        });
        var src = $('<source />', {
            src: videoSrc,
            type: 'video/mp4',
        }).appendTo(video);
        $('#'+id).prepend(video);
    }
};
$(window).on('load resize', function(){
        PwC.components.sectionlongform().onLoadSize();
});  

$(document).ready(function() {
    PwC.components.sectionlongform().init();    
});

$(function(){// 15/2/2017 Temporary fix to remove white gap for inheritable contact parsys without content
    var contactParWithContent = function(){
        var result = false;
        $('.sectionpar .pwccol2-longformb.longform-isection-twocol .iparys_inherited .parsys').each(function(){
            result = result || $(this).parent().siblings().not('.section:has(.new)').length > 0 || $(this).children().length > 0;
        });

        return result;
    };

    var elemcc= document.getElementsByClassName("contactModule maxPadding");//Temporary fix  for PR 2598--to be removed later when the root cause issue is found
    if(document.getElementById('onlineformstart')==null || elemcc==null){
    if (!contactParWithContent()){
        $('.sectionpar .pwccol2-longformb .iparys_inherited').closest('.page-section').remove()
    }
    }

});
var secondaryNavTwoCol = (function () {
	var minBtnHeight = 0,
		mobileBreakpoint = 768,
		$pane,
		$component,
		$contentContainer,
		$win,
		winWidth;

	function closePopover($component, $contentContainer,$closeButton) {
		$component.removeClass('secnav-twocol--popover-active');
		setTimeout(function() { $contentContainer.html('');},250);
		$closeButton.unbind('click');
		$pane.css('min-height','0');
	}

	function equaliseButtonHeights() {
		//Use JS to equalise height of buttons
		$('.secnav-twocol .strip-btn').each(function(){
			var $this = $(this);
			var height = $this.outerHeight();
			if (height > minBtnHeight) {
				minBtnHeight = height;
			}
		}).css('height', minBtnHeight);
	}

	function sizeContainer($pane, $contentContainer) {
		$pane.css('min-height',$contentContainer.outerHeight());
	}

	function init() {
    	$win = $(window);
		winWidth = $win.width();

		$('.secnav-twocol .popover-trigger').on('click', function(e) {
			e.preventDefault();
			var $this = $(this);
			var $link = $this.parent('a');
			 $component = $this.closest('.secnav-twocol');
			 $contentContainer = $component.find('.secnav-twocol__popover-content');
			 $pane = $this.closest('.secnav-twocol__pane');//secnav-twocol__pane
			var $closeButton =  $component.find('.secnav-twocol__popover-close');

			//Create content
			var contentHtml = '<div class="col-sm-7 secnav-twocol__popover-copy">'+
				'<h3>'+ $link.attr("data-popover-heading") +'</h3>'+
					'<p>'+ $link.attr("data-popover-copy") +'</p>'+
					'<a href="'+ $link.attr("href") +'" class="btn btn--transparent">' + $link.attr("data-popover-button") + '</a>'+
				'</div>'+
				'<div class="col-sm-5 secnav-twocol__popover-image">'+
					'<img alt="" class="img-responsive" src="'+ $link.attr("data-popover-image") +'" />'+
				'</div>'


			//Add to DOM and show popover
			$contentContainer.html(contentHtml);
			$component.addClass('secnav-twocol--popover-active');
			$('.secnav-twocol__popover-image img').load(function() {
			sizeContainer($pane,$contentContainer);
		        });

			//Setup close button
			$closeButton.on('click', function(e) {
	            e.preventDefault();
				closePopover($component, $contentContainer,$closeButton);
			});

			$win.on('resize', function(e) {
				clearTimeout(resizeTimer);
      			var resizeTimer = setTimeout(function() {
					winWidth = $win.width();
					if(winWidth < mobileBreakpoint) {
						closePopover($component, $contentContainer,$closeButton);
					}
				}, 250);
    		});
		});

		//Initial check to decide whether to equalise button heights
		if(winWidth >= mobileBreakpoint) {
			setTimeout(function(){
                equaliseButtonHeights();
			}, 4000);
		} else {
			$('.secnav-twocol .strip-btn').css('height','');
		}

		//Check whether to reset button heights
		$win.on('resize', function(e) {
			clearTimeout(resizeTimer);
  			var resizeTimer = setTimeout(function() {
				winWidth = $win.width();

				if(winWidth >= mobileBreakpoint) {
					equaliseButtonHeights();
				} else {
					$('.secnav-twocol .strip-btn').css('height','');
				}

			}, 250);

		});

    }

    return {
        init: init
    };

})();

$(document).ready(function() {
	secondaryNavTwoCol.init();
});

// Begin Secondary Navigation (Tabs) component

/*$(function () {
   // $(document).ready(function () {

        var mobileBreakpoint = 768;
        $('.secnav-tabs').filter(function () {
            var $tabbed_content_instance = $(this),
                $tab_nav = $tabbed_content_instance.find('.secnav-tabs__tab a');

            function tabs_height_calculate() {
                // get height of currently active tab
                var $tabs_content = $tabbed_content_instance.find('.secnav-tabs__content-wrapper');
                var $tab_content_container = $tabbed_content_instance.find('.secnav-tabs__content-wrapper .secnav-tabs__content-container');
                var $active_tab_content = $tabbed_content_instance.find('.secnav-tabs__content-wrapper .active .secnav-tabs__content-container');
                var windInnerWidth = window.innerWidth;
                //Apply fixed height based on content, if window wider than mobile breakpoint
                if (windInnerWidth >= mobileBreakpoint) {
                   	$tab_content_container.hide();
					$active_tab_content.show();
                    // Calculating of height before image is loaded.
                    if($('.secnav-tabs__content-container img').length) {
                        $('.secnav-tabs__content-container img').load(function(){
                            $tabs_content.css('height', $active_tab_content.outerHeight());
                        }).each(function() {
                            if(this.complete) $(this).load();
                        });
                    } else {
                        $tabs_content.css('height', $active_tab_content.outerHeight());
                    }

                } else {
                    $tabs_content.css('height', 'auto');
                }

            }
            // initiate tab height calculation on window reseze and call it when browser loads
            $(window).resize(function () {
                tabs_height_calculate();
            }).resize();

            $tab_nav.on('click', function () {
                console.log('clicked');
                setTimeout(function () {
                    tabs_height_calculate();
                }, 200)
            });


        });
    //});
});*/


// End of Secondary Navigation (Tabs) component

/* MG: Secondary Nav - Large Buttons Rendition */

$(function(){

	function getSize(method) {
		return document.documentElement[method] || document.body[method];
	}

});

var footerBreadcrumb = (function () {
    var mobileBreakpoint = 768,
        $win,
        winWidth,
        resizeTimer;
    
    function init() {
        $win = $(window);
        winWidth = $win.width();
        if($win.width() < 768) {
            var $bc = $('.glb-footer .simple-breadcrumb-component');
            var $scrollPane = $bc.find('.breadcrumb-component__scroll-pane');
            var scrollWidth= $scrollPane[0].scrollWidth;
            var paneWidth = $scrollPane.innerWidth();
            //Show the end of the scroll pane
            $scrollPane.scrollLeft(scrollWidth + 100);

            var scrollResizeTimer;
            $scrollPane.on('scroll', function(e) {

                clearTimeout(scrollResizeTimer);
                scrollResizeTimer = setTimeout(function() {
                    if($scrollPane.scrollLeft() == 0) {
                        $bc.addClass('simple-breadcrumb-component--hide-fade-l ');
                    } else {
                        $bc.removeClass('simple-breadcrumb-component--hide-fade-l ');
                    }

                    if(parseInt($scrollPane.scrollLeft() + paneWidth) == scrollWidth) {
                        $bc.addClass('simple-breadcrumb-component--hide-fade-r ');
                    } else {
                        $bc.removeClass('simple-breadcrumb-component--hide-fade-r ');
                    }
                    
                }, 150);

            });
        }  

    }

    return {
        init: init
    };

})();

$(document).ready(function() {
    if ($(".glb-footer .simple-breadcrumb-component").length) {
        if($(window).width() < 768) {
            footerBreadcrumb.init();
        }
    }
    var headerVersionOne = $("#logo").length;
    var headerVersionTwo = $(".headerv2-container header.slimheader-v2 .slim-logo").length;
    if( headerVersionTwo > 0) {
        $(".glb-footer .glb-footer__disclaimer #slim-footer-logo").attr("href", $(".headerv2-container header.slimheader-v2 .slim-logo").attr("href"));
    }else if( headerVersionOne > 0){
        $(".glb-footer .glb-footer__disclaimer #slim-footer-logo").attr("href", $("#logo").attr("href"));
    }
});
/* MG: NEW Component Pinning */
(function($) {
	/* Pin plugin source: https://github.com/webpop/jquery.pin */
	"use strict";
	$.fn.pin = function(options) {
		var scrollY = 0, elements = [], disabled = false, $window = $(window);

		options = options || {};
		var checkScreenWidth = function() {
			var minWidth = options.minWidth || 768;
			if($(window).width() <= minWidth) {
				for(var i = 0, len = elements.length; i < len; i++) {
					var $this = elements[i];
					$this.css({position: "", top: "", left: ""});
					$this.removeClass("pin-hidden").removeClass("pin-visible").removeClass("pin-transition").removeClass("pin-screen-above").removeClass("pin-screen-below");
					disabled = true;
				}
				return false;
			}
			disabled = false;
			return true;
		};

		var recalculateLimits = function() {
			if(!checkScreenWidth()) { return; }
			for(var i = 0, len = elements.length; i < len; i++) {
				var $this = elements[i];
				//if(typeof($this) != 'undefined'){
					var $container = options.containerSelector ? $this.closest(options.containerSelector) : $(document.body);
					if($container.length != 0) {
						var offset = $this.offset();
						var containerOffset = $container.offset();
						var parentOffset = $this.offsetParent().offset();

						if(!$this.parent().is(".pin-wrapper")) {
							$this.wrap("<div class='pin-wrapper'></div>");
						}

						var pad = $.extend({
							top: 0,
							bottom: 0
						}, options.padding || {});

						$this.data("pin", {
							pad: pad,
							from: (options.containerSelector ? containerOffset.top : offset.top) - pad.top,
							to: containerOffset.top + $container.height() - $this.outerHeight() - pad.bottom,
							end: containerOffset.top + $container.height(),
							parentTop: parentOffset.top
						});
						$this.css('width', 'auto'); // setting width auto inorder to avoid the pinned content to take a small width.
						$this.css({width: $this.outerWidth()});
						$this.parent().css("height", $this.outerHeight());
					} else {
                        //return;
						elements.splice(i, 1);
						i--; len--;
					}
				//}
			}
		};

		var onScroll = function() {
			if(disabled) { return; }
			if(!checkScreenWidth()) { return; }

			var scrollUp = scrollY > $window.scrollTop();
			scrollY = $window.scrollTop();
			var menuBarHidden = options.menuBar && $(options.menuBar).hasClass("slide--up");

			var elmts = [];
			for(var i = 0, len = elements.length; i < len; i++) {
				var $this = $(elements[i]), data = $this.data("pin");

				if(!data) { // Removed element
					continue;
				}

				elmts.push($this);

				var moveUpBy = menuBarHidden ? 0 : $(options.menuBar).height();
				var from = data.from - data.pad.bottom - moveUpBy, to = data.to - data.pad.top - moveUpBy;
				var transitionTo = null;
				var transitionFrom = null;
				var makeTransitionAboveSplit = options.makeTransitionAboveSplit || false;

				if(!$this.data("pin-first") && !$this.data("pin-alone")) {
					if(i > 0) {
						if(makeTransitionAboveSplit) {
							from -= $(elements[i - 1]).outerHeight(false);
						}
						transitionFrom = from - $(elements[i - 1]).outerHeight(true);
					}
				}

				if(!$this.data("pin-last") && !$this.data("pin-alone")) {
					if(i < len - 1) {
						if(!makeTransitionAboveSplit) {
							to += $this.outerHeight(false);
						}
						transitionTo = to + $(elements[i + 1]).outerHeight(true);
					}
				}

				if(from + $this.outerHeight() > data.end) {
					$this.css('position', '');
					continue;
				}

				if((from < scrollY || transitionFrom != null && transitionFrom < scrollY) && (to > scrollY || transitionTo != null && transitionTo > scrollY)) {
					!($this.css("position") == "fixed") && $this.css({
						left: "",
						top: data.pad.top
					}).css("position", "fixed");
					if (options.activeClass) { $this.addClass(options.activeClass); }

					$this.addClass("pin-visible").removeClass("pin-hidden").removeClass("pin-screen-above").removeClass("pin-screen-below");
					if(transitionTo != null && scrollY >= to || transitionFrom != null && scrollY <= from) {
						$this.addClass("pin-transition");
					}
					else {
						$this.removeClass("pin-transition");
					}
				}
				else if(scrollY >= to) {
					$this.css({
						left: "",
						top: transitionTo != null ? transitionTo - data.parentTop + data.pad.top : to - data.parentTop + data.pad.top
					}).css("position", "absolute");
					if(options.activeClass) { $this.addClass(options.activeClass); }

					$this.addClass("pin-hidden").removeClass("pin-visible").removeClass("pin-transition").removeClass("pin-screen-above");
					if($window.scrollTop() >= to) {
						$this.addClass("pin-screen-below");
					}
					else {
						$this.removeClass("pin-screen-below");
					}
				}
				else {
					$this.css({position: "", top: "", left: ""});
					if (options.activeClass) { $this.removeClass(options.activeClass); }

					$this.addClass("pin-hidden").removeClass("pin-visible").removeClass("pin-transition").removeClass("pin-screen-below");
					if($window.scrollTop() + $window.height() <= from) {
						$this.addClass("pin-screen-above");
					}
					else {
						$this.removeClass("pin-screen-above");
					}
				}

				if(menuBarHidden) {
					$this.addClass("no-top-menu");
				}
				else {
					$this.removeClass("no-top-menu");
				}
		  }
		  elements = elmts;
		};

		var update = function () {
			recalculateLimits(); onScroll();
		};

		var structure = {};
		this.each(function(index) {
			var $this = $(this), data = $(this).data("pin") || {};

			if(options.excludeContainers) {
				var excludeContainersBy = options.excludeContainers;
				if(excludeContainersBy.constructor === Array) {
					excludeContainersBy = excludeContainersBy.join(", ");
				}
				if(!$this.parents().is(excludeContainersBy)) {
					/* PwC Video Player fix : TODO: Remove old pinned content video player wrapper - this is a dirty workaround */
					if($this.parent().is(".videoplayer, .section")) {
						$this.unwrap();
					}

					if(data && data.update) { return; }
					elements.push($this);
					$("img", this).one("load", recalculateLimits);
					data.update = update;
					$(this).data("pin", data);
					$(this).addClass("pinned");

					if(!structure[$this.parent().index()]) {
						structure[$this.parent().index()] = {};
					}
					structure[$this.parent().index()][index] = $this;
				}
			}
		});

		$.each(structure, function(containerKey, pinnedContainer) {
			var length = Object.keys(pinnedContainer).length;
			var iterator = 0;
			$.each(pinnedContainer, function(pinnedKey, pinnedComponent) {
				if(length > 1) {
					if(iterator == 0) {
						$(pinnedComponent).addClass("pin-first-in-section");
						$(this).data("pin-first", true);
					}
					if(iterator == length - 1) {
						$(pinnedComponent).addClass("pin-last-in-section");
						$(this).data("pin-last", true);
					}
				}
				else {
					$(pinnedComponent).addClass("pin-alone-in-section");
					$(this).data("pin-alone", true);
				}
				iterator++;
			});
		});

		$window.scroll(onScroll);
		$window.resize(function () {
			recalculateLimits();
		});
		recalculateLimits();

		$window.load(update);

		return this;
	};
})(jQuery);
/* MG: OLD Component Pinning */
$(document).ready(function(){
	/* MG: New pinning transitions */
    if ((location.hostname!='dpe.pwc.com'&&location.hostname!='dpe-stg.pwc.com')||window.location.href.match(/wcmmode=disabled/)){
        $(".pinnedcontent").pin({
            containerSelector: ".parsys_column",
            excludeContainers: ".pwccol1-longform-pinleft, .pwccol1-longform-pinright",
            menuBar: "#menuBarWrapper"
        });
    }

});

$(function(){
$('body').on('click', '.btn-cta--download', function (e) {
        var assetPath =  $(this).attr('href'),
 		assetName = assetPath.split('/').pop();
		createObject("page.content.downLoadSource",assetPath);
		createObject("page.content.downloadType",assetName.split('.')[1]);
		createObject("page.content.downLoadFileName",assetName.split('.')[0]);
	})
});

function lazyLoadingTextImage(imageClass){   
    PwC.lazyloading.lazyLoadImages(imageClass);  
}

	function youtubePlayer(videoData) {
		if(!videoData || !videoData.playlist || !videoData.containerId) {
			return false;
		}
		this.containerId = videoData.containerId;
		if(!document.getElementById(this.containerId)) {
			return false;
		}
		this.containerParent = document.getElementById(this.containerId).parentNode;
		this.playlist = videoData.playlist;
		this.playerDefaults = videoData.playerDefaults || {
			autoplay: 0,
			autohide: 1,
			modestbranding: 0,
			rel: 0,
			showinfo: 0,
			controls: 0,
			disablekb: 1,
			enablejsapi: 0,
			iv_load_policy: 3
		};
		this.player = null;
		this.isIE = document.all && !window.atob;

		this.loadYoutubeApi();
		this.initializeVideoPlayer();

		if(!window.youtubePlayerInstances) {
			window.youtubePlayerInstances = [];
		}
		window.youtubePlayerInstances.push(this);
		return this;
	}

	youtubePlayer.prototype.loadYoutubeApi = function() {
		var apiUrl = "https://www.youtube.com/player_api";
		var pageScripts = document.getElementsByTagName("script");
		for(var i = 0; i < pageScripts.length; i++) {
			if(pageScripts[i].src == apiUrl) {
				return this;
			}
		}

		var newScriptTag = document.createElement("script");
		newScriptTag.src = apiUrl;
		pageScripts[0].parentNode.insertBefore(newScriptTag, pageScripts[0]);
		return this;
	};

	youtubePlayer.prototype.vidRescale = function() {
		if(this.player) {
			var width = window.innerWidth;
			var height = window.innerHeight;
			if(width < 768 || this.isIE) {
				this.player.destroy();
			}
			var container = document.querySelector("#" + this.containerId);
			if((width / height) > (16 / 9)) {
				this.player.setSize(width, width / 16 * 9);
				container.style.left = "0px";
			}
			else {
				this.player.setSize((height / 9) * 16, height);
				container.style.left = (this.player.offsetWidth - width / 2) + "px";
			}
		}
		return this;
	};

	youtubePlayer.prototype.loadVideoPlayer = function() {
		(function(instance) {
			instance.onPlayerReady = function() {
				instance.player.loadVideoById(instance.playlist[0]);
				instance.player.mute();
			};
			instance.onPlayerStateChange = function(event) {
				if(event.data === 1) {
					instance.containerParent.classList.add("active");
				}
				else if(event.data === 0) {
					instance.player.seekTo(instance.playlist[0].startSeconds);
				}
			};
			instance.onPlayerError = function(event) {
				console.log(event.data);
			};
			instance.player = new YT.Player(instance.containerId, {
				events: {
					onReady: instance.onPlayerReady,
					onStateChange: instance.onPlayerStateChange,
					onError: instance.onPlayerError
				},
				playerVars: instance.playerDefaults
			});
		})(this);
	}

	youtubePlayer.prototype.initializeVideoPlayer = function() {
		(function(instance) {
			window.onYouTubeIframeAPIReady = function() {
				for(var i = 0; i < window.youtubePlayerInstances.length; i++) {
					window.youtubePlayerInstances[i].loadVideoPlayer();
				}
			}
			window.addEventListener("load", function() {
				instance.vidRescale();
			});
			window.addEventListener("resize", function() {
				instance.vidRescale();
			});
		})(this);
		this.vidRescale();
		return this;
	};

function scroll_to_element(element, timing, delay_scroll)
// the 'element' parameter is a CSS selector of a DOM element or a jQuery element
// this function scrolls the page to the mentioned element
// the 'timing' parameter (if passed) determines how long does the scroll animation to the element last
// the 'delay_scroll' parameter (if passed) determines how long must the script wait before scrolling to the element
{
    var DEFAULT_TIMEOUT         = 1000;
    var DEFAULT_DELAY_SCROLL    = 0;

    timing                      = typeof timing != 'undefined' ? timing : DEFAULT_TIMEOUT;
    delay_scroll                = typeof delay_scroll != 'undefined' ? delay_scroll : DEFAULT_DELAY_SCROLL;

    try {
        if (!$CQ(element).length) return;

        setTimeout(function()
        {
            $('html, body').animate(
            {
                scrollTop: $CQ(element).offset().top
            }, timing);
        }, delay_scroll);
    }
    catch(error) {}
}

function scroll_to_deep_link()
// this function is executed on page load and reads the current URL to check if a # is present. If a # is present, this
// function looks for an element with id equal to the one specified in the # in the URL and .deep-link class. If that element
// exists, scrolls the page to that element
{
    var DEEP_LINK_CLASS = '.deep-link';
    var DELAY_SCROLL    = 1500;
    var SCROLL_DURATION = 500;
    var hash            = location.hash.replace('#', '');

    scroll_to_element(DEEP_LINK_CLASS + '[scroll-id=' + hash + ']', SCROLL_DURATION, DELAY_SCROLL);
}

$(scroll_to_deep_link);

PwC.ns("PwC.components.twittersearch");

PwC.components.twittersearch = {   
    
initializeTwitterSearch : function()
{
    !function(d,s,id){
        var js,
            fjs=d.getElementsByTagName(s)[0],
            p=/^http:/.test(d.location)?'http':'https';
        if(!d.getElementById(id)){
            js=d.createElement(s);
            js.id=id;
            js.src=p+"://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);
        }
    }
    (document,"script","twitter-wjs"); 
},
        
    
updateTwitterSearch : function(){
    $(".tw.loading-box").addClass("not-visible");
    $(".tw.disable-box").removeClass("not-visible");
}
}; 

    
function displayBlogEntries(data, display, linkTargetType, containerId){
    var htmlTag = '';
    if(display == "list"){
        $.each(data.entries, function(){
            htmlTag += '<li><a class="h6 regular" href="' + this.permalinkUrl + '" target="' + linkTargetType + '">' + this.title + '</a></li>';
        });
        htmlTag = htmlTag ? '<ul>' + htmlTag + '</ul>' : htmlTag;
    } else {
        $.each(data.entries, function(){
            //INFO: Main link entry
            var $entry = $("<a>");
            $entry.attr("href", this.permalinkUrl);
            $entry.attr("target", linkTargetType);
            //INFO: Title
            var $innerEntry = $("<span>").html(this.title);
            $innerEntry.addClass("h6 regular");

            var description = this.excerpt;
            if(description.length > 115){
                description = this.excerpt.substring(0,115);
                description = description.substring(0,description.lastIndexOf(' ')).trim();
            }
            //INFO: Description
            var $innerEntryAbstract = $("<span>");
            $innerEntryAbstract.addClass("abstract");
            $innerEntryAbstract.html(description);

            $entry.append($innerEntry[0]);
            $entry.append($innerEntryAbstract[0]);
            htmlTag += $entry[0].outerHTML;
        });
    }
    if(htmlTag){ $(htmlTag).appendTo('#' + containerId); }

}

var initializeTypepad = function(blogTitle, category, widgetid, containerId, maxresults, linktargettype, display) {
    var urlTypePad = '//api.typepad.com/blogs/' + widgetid;
    var container = $('#' + containerId);
    var h2title = $('<h2></h2>');
    //Blog Title
    if (blogTitle) {
        h2title.text(blogTitle);
        container.prepend(h2title);
    }
    else{
        $.getJSON(urlTypePad +'.json', function(data){
            blogTitle = data.title;
        }).fail(function(){
            blogTitle = 'Blog';
        }).always(function() {
            h2title.text(blogTitle);
            container.prepend(h2title);
        });
    }
    // Blog Posts
    if (category)
    {
        $.getJSON(urlTypePad +'/post-assets/@published/@by-category/' + category + '.js?max-results=' + maxresults + '&callback=?', function(data) {
            displayBlogEntries(data, display, linktargettype, containerId);
        });
    }
    else
    {
        $.getJSON(urlTypePad +'/post-assets/@published/@recent.js?max-results=' + maxresults + '&callback=?', function(data) {
            displayBlogEntries(data, display, linktargettype, containerId);
        });
    }
};

/**
* plugin: featuredItemListing.js
**/

(function ($) {
    $.fn.featuredItemListing = function (options) {
        var pluginDefaults = {
            equaliseElem: '.equaliseElem',
            minWidth: 768,
            resizeTimeout: 250
        };
        var opts = $.extend({}, pluginDefaults, options),
          initElem = this,
          win = $(window);

        equaliseElems(initElem);

        function equaliseElems(elem) {
            if ($(window).width() < opts.minWidth) {
                $(opts.equaliseElem, elem).removeAttr('style');
            } else {
                if ($('html').hasClass('no-flexbox')) {
                    currentHeight = 0;
                    $(opts.equaliseElem, elem).removeAttr('style');
                    elem.each(function () {
                        var height = $(opts.equaliseElem, this).height();
                        currentHeight = height > currentHeight ? height : currentHeight;
                    });
                    $(opts.equaliseElem, elem).height(currentHeight);
                }
            }
        }

        win.resize(function () {
            clearTimeout(resizedFinished);
            var resizedFinished = setTimeout(function () {
                equaliseElems(initElem);
            }, opts.resizeTimeout);
        });
    };

    if (typeof multiFeaturedItem == 'function') {

        $(function () {
            $('.multi-featured-item > .multi-featured-item__block').featuredItemListing({
                equaliseElem: '.multi-featured-item__content',
                minWidth: 768,
                resizeTimeout: 100
            });
        })

    } else {
        //console.log("multiFeaturedItem() failed  : multiFeaturedItem not init yet")
    }
})(jQuery);
$(document).ready(function() {
    var followitem='';
	$('#socialfollow a img').each(function(){
        followitem=$(this).attr('src');
        if(followitem.indexOf('follow_wechat')!== -1) {
            $(this).parent().attr('data-toggle','modal');
            $(this).parent().attr('data-target','#modalbs-wechat');
            $(this).parent().attr('class','pointer modal-action');
            $("#socialfollow").append("<div id='modalbs-wechat' class='modal fade' tabindex='-1' role='dialog'><div class='modal-dialog '><div class='modal-content'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button><div class='modal-body'><img src='/content/pwc/script/network/follow/wechat_qrcode.gif' data-emptytext='Image'/></div></div></div></div>");
        };
    });
	
	$(".target").on("socialFollowLoaded", ".socialfollowInner", function(event){
		$(".socialfollowInner").parent().addClass('section socialfollow');
	});
});
/**
* jquery.matchHeight.js master
* http://brm.io/jquery-match-height/
* License: MIT
*/

;(function($) {
    /*
    *  internal
    */

    var _previousResizeWidth = -1,
        _updateTimeout = -1;

    /*
    *  _parse
    *  value parse utility function
    */

    var _parse = function(value) {
        // parse value and convert NaN to 0
        return parseFloat(value) || 0;
    };

    /*
    *  _rows
    *  utility function returns array of jQuery selections representing each row
    *  (as displayed after float wrapping applied by browser)
    */

    var _rows = function(elements) {
        var tolerance = 1,
            $elements = $(elements),
            lastTop = null,
            rows = [];

        // group elements by their top position
        $elements.each(function(){
            var $that = $(this),
                top = $that.offset().top - _parse($that.css('margin-top')),
                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;

            if (lastRow === null) {
                // first item on the row, so just push it
                rows.push($that);
            } else {
                // if the row top is the same, add to the row group
                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {
                    rows[rows.length - 1] = lastRow.add($that);
                } else {
                    // otherwise start a new row group
                    rows.push($that);
                }
            }

            // keep track of the last row top
            lastTop = top;
        });

        return rows;
    };

    /*
    *  _parseOptions
    *  handle plugin options
    */

    var _parseOptions = function(options) {
        var opts = {
            byRow: true,
            property: 'height',
            target: null,
            remove: false
        };

        if (typeof options === 'object') {
            return $.extend(opts, options);
        }

        if (typeof options === 'boolean') {
            opts.byRow = options;
        } else if (options === 'remove') {
            opts.remove = true;
        }

        return opts;
    };

    /*
    *  matchHeight
    *  plugin definition
    */

    var matchHeight = $.fn.matchHeight = function(options) {
        var opts = _parseOptions(options);

        // handle remove
        if (opts.remove) {
            var that = this;

            // remove fixed height from all selected elements
            this.css(opts.property, '');

            // remove selected elements from all groups
            $.each(matchHeight._groups, function(key, group) {
                group.elements = group.elements.not(that);
            });

            // TODO: cleanup empty groups

            return this;
        }

        if (this.length <= 1 && !opts.target) {
            return this;
        }

        // keep track of this group so we can re-apply later on load and resize events
        matchHeight._groups.push({
            elements: this,
            options: opts
        });

        // match each element's height to the tallest element in the selection
        matchHeight._apply(this, opts);

        return this;
    };

    /*
    *  plugin global options
    */

    matchHeight._groups = [];
    matchHeight._throttle = 80;
    matchHeight._maintainScroll = false;
    matchHeight._beforeUpdate = null;
    matchHeight._afterUpdate = null;

    /*
    *  matchHeight._apply
    *  apply matchHeight to given elements
    */

    matchHeight._apply = function(elements, options) {
        var opts = _parseOptions(options),
            $elements = $(elements),
            rows = [$elements];

        // take note of scroll position
        var scrollTop = $(window).scrollTop(),
            htmlHeight = $('html').outerHeight(true);

        // get hidden parents
        var $hiddenParents = $elements.parents().filter(':hidden');

        // cache the original inline style
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.data('style-cache', $that.attr('style'));
        });

        // temporarily must force hidden parents visible
        $hiddenParents.css('display', 'block');

        // get rows if using byRow, otherwise assume one row
        if (opts.byRow && !opts.target) {

            // must first force an arbitrary equal height so floating elements break evenly
            $elements.each(function() {
                var $that = $(this),
                    display = $that.css('display');

                // temporarily force a usable display value
                if (display !== 'inline-block' && display !== 'inline-flex') {
                    display = 'block';
                }

                // cache the original inline style
                $that.data('style-cache', $that.attr('style'));

                $that.css({
                    'display': display,
                    'padding-top': '0',
                    'padding-bottom': '0',
                    'margin-top': '0',
                    'margin-bottom': '0',
                    'border-top-width': '0',
                    'border-bottom-width': '0',
                    'height': '100px'
                });
            });

            // get the array of rows (based on element top position)
            rows = _rows($elements);

            // revert original inline styles
            $elements.each(function() {
                var $that = $(this);
                $that.attr('style', $that.data('style-cache') || '');
            });
        }

        $.each(rows, function(key, row) {
            var $row = $(row),
                targetHeight = 0;

            if (!opts.target) {
                // skip apply to rows with only one item
                if (opts.byRow && $row.length <= 1) {
                    $row.css(opts.property, '');
                    return;
                }

                // iterate the row and find the max height
                $row.each(function(){
                    var $that = $(this),
                        display = $that.css('display');

                    // temporarily force a usable display value
                    if (display !== 'inline-block' && display !== 'inline-flex') {
                        display = 'block';
                    }

                    // ensure we get the correct actual height (and not a previously set height value)
                    var css = { 'display': display };
                    css[opts.property] = '';
                    $that.css(css);

                    // find the max height (including padding, but not margin)
                    if ($that.outerHeight(false) > targetHeight) {
                        targetHeight = $that.outerHeight(false);
                    }

                    // revert display block
                    $that.css('display', '');
                });
            } else {
                // if target set, use the height of the target element
                targetHeight = opts.target.outerHeight(false);
            }

            // iterate the row and apply the height to all elements
            $row.each(function(){
                var $that = $(this),
                    verticalPadding = 0;

                // don't apply to a target
                if (opts.target && $that.is(opts.target)) {
                    return;
                }

                // handle padding and border correctly (required when not using border-box)
                if ($that.css('box-sizing') !== 'border-box') {
                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));
                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));
                }

                // set the height (accounting for padding and border)
                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');
            });
        });

        // revert hidden parents
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.attr('style', $that.data('style-cache') || null);
        });

        // restore scroll position if enabled
        if (matchHeight._maintainScroll) {
            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));
        }

        return this;
    };

    /*
    *  matchHeight._applyDataApi
    *  applies matchHeight to all elements with a data-match-height attribute
    */

    matchHeight._applyDataApi = function() {
        var groups = {};

        // generate groups by their groupId set by elements using data-match-height
        $('[data-match-height], [data-mh]').each(function() {
            var $this = $(this),
                groupId = $this.attr('data-mh') || $this.attr('data-match-height');

            if (groupId in groups) {
                groups[groupId] = groups[groupId].add($this);
            } else {
                groups[groupId] = $this;
            }
        });

        // apply matchHeight to each group
        $.each(groups, function() {
            this.matchHeight(true);
        });
    };

    /*
    *  matchHeight._update
    *  updates matchHeight on all current groups with their correct options
    */

    var _update = function(event) {
        if (matchHeight._beforeUpdate) {
            matchHeight._beforeUpdate(event, matchHeight._groups);
        }

        $.each(matchHeight._groups, function() {
            matchHeight._apply(this.elements, this.options);
        });

        if (matchHeight._afterUpdate) {
            matchHeight._afterUpdate(event, matchHeight._groups);
        }
    };

    matchHeight._update = function(throttle, event) {
        // prevent update if fired from a resize event
        // where the viewport width hasn't actually changed
        // fixes an event looping bug in IE8
        if (event && event.type === 'resize') {
            var windowWidth = $(window).width();
            if (windowWidth === _previousResizeWidth) {
                return;
            }
            _previousResizeWidth = windowWidth;
        }

        // throttle updates
        if (!throttle) {
            _update(event);
        } else if (_updateTimeout === -1) {
            _updateTimeout = setTimeout(function() {
                _update(event);
                _updateTimeout = -1;
            }, matchHeight._throttle);
        }
    };

    /*
    *  bind events
    */

    // apply on DOM ready event
    $(matchHeight._applyDataApi);

    // update heights on load and resize events
    $(window).bind('load', function(event) {
        matchHeight._update(false, event);
    });

    // throttled update heights on resize events
    $(window).bind('resize orientationchange', function(event) {
        matchHeight._update(true, event);
    });
	
		

	

})(jQuery);
$(function() {
    $('.speakers .row article').matchHeight({ byRow: true });
});

var highlights_modal = highlights_modal ||
// object responsable for handling highlights modal behavior
{
    CONST: {
        CSS: {
            MODAL_NO_PARAGRAPH      : 'hl-modal-no-paragraph',
            MODAL_VISIBLE           : 'hl-modal-visible',
            MODAL_HIDDEN            : 'hl-modal-hidden',
            MODAL_HIDDING           : 'hl-modal-hidding',
            READ_MORE               : 'read-more',
            READ_MORE_VISIBLE       : 'read-more-visible',
            PADDING_BOTTOM_MODAL    : 40,
            MODAL_TITLE_MARGIN      : 10
        },
        ELEMENTS: {
            DV_MODAL                : '.dvModal',
            DV_HIGHLIGHTS           : '.dvHighlights',
            HIGHLIGHT_COMPONENT     : '.speakers',
            HIGHLIGHTS_CONTENT      : '.hl-content',
            ARTICLE_TITLE           : '.article-title',
            BTN_CLOSE_MODAL         : '.close-modal',
            MODAL_SCROLL_CONTENT    : '.hl-scroll-content',
            MODAL_CONTENT           : '.hl-modal-content',
            MODAL_TITLE             : '.hl-modal-title',
            MODAL_PARAGRAPH         : '.hl-modal-paragraph',
            MODAL_IMAGE             : '.hl-modal-image',
            PARAGRAPH_ELE           : '.heighlight-text-content'
        },
        ATTR: {
            TITLE       : 'data-title',
            PARAGRAPH   : 'data-paragraph',
            IMAGE       : 'data-image',
            ALT         : 'data-alt'
        },
        MODAL_TRANSITION_DURATION       : 350,
        READ_MORE_TRANSITION_DURATION   : 400,
        MAX_SIZE_MOBILE                 : 600
    },

    show_modal: function(element)
    // this function is the event handler for the click event of the title article element
    // shows the modal corresponding to the element passed as parameter and displays in the modal the information contained in the attributes of that element
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var ATTR            = self.CONST.ATTR;
        var CSS             = self.CONST.CSS;

        var body            = $('body');
        var modal           = $(element).parents(ELEMENTS.HIGHLIGHT_COMPONENT).find(ELEMENTS.DV_MODAL);
        var title           = $(element).attr(ATTR.TITLE);
        var paragraph       = $(element).find(ELEMENTS.PARAGRAPH_ELE).html();
        var image           = $(element).attr(ATTR.IMAGE);
        var alt             = $(element).attr(ATTR.ALT);
        var modal_content   = modal.find(ELEMENTS.MODAL_CONTENT);

        title           = title     ? title     : '';
        paragraph       = paragraph ? paragraph : '';
        image           = image     ? image     : '';

        if (title === '') {
            modal.find(ELEMENTS.MODAL_TITLE).html(title);
        } else {
            modal.find(ELEMENTS.MODAL_TITLE).remove();
        }
        
        modal.find(ELEMENTS.MODAL_PARAGRAPH).html(paragraph);
        modal.find(ELEMENTS.MODAL_IMAGE).attr('src', image);
        modal.find(self.CONST.CSS.MODAL_IMAGE).attr('alt', alt);

        if (paragraph == '')
        {
            modal_content.addClass(CSS.MODAL_NO_PARAGRAPH);
        }
        else
        {
            modal_content.removeClass(CSS.MODAL_NO_PARAGRAPH);
        }

        modal.addClass(CSS.MODAL_VISIBLE);
        body.addClass(CSS.MODAL_VISIBLE);

        self.set_modal_min_height(modal);
        self.check_there_is_read_more(modal);
        self.update_modal_content_position_mobile();
    },

    hide_modal: function(element)
    // this function is the event handler for the click event of the close modal button
    // hides the modal corresponding to the element passed as parameter
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var CSS             = self.CONST.CSS;

        var modal           = $(element).parents(ELEMENTS.DV_MODAL);
        var body            = $('body');
        var window_width    = $(window).width();
        var dv_highlights   = modal.parents(ELEMENTS.DV_HIGHLIGHTS);

        if (window_width > self.CONST.MAX_SIZE_MOBILE && modal.hasClass(CSS.READ_MORE_VISIBLE))
        // read more is opened and the screen is on desktop resolution
        {
            var highlights_content  = dv_highlights.find(ELEMENTS.HIGHLIGHTS_CONTENT);

            dv_highlights.height(highlights_content.height());
            modal.removeClass(CSS.READ_MORE_VISIBLE);

            setTimeout(function()
            {
                self.hide_modal(element);
            }, self.CONST.READ_MORE_TRANSITION_DURATION);
        }
        else
        {
            modal.addClass(CSS.MODAL_HIDDING).removeClass(CSS.MODAL_VISIBLE);
            body.removeClass(CSS.MODAL_VISIBLE);

            setTimeout(function()
            {
                modal.removeClass(CSS.MODAL_HIDDING);
                modal.removeClass(CSS.READ_MORE_VISIBLE);
                modal.attr('style', '');
                dv_highlights.attr('style', '');
            }, self.CONST.MODAL_TRANSITION_DURATION);
        }
    },

    check_there_is_read_more: function(modal)
    // this function is executed when the modal is shown and when the screen is resized
    // check if there is more content to be shown in the modal passed as parameter
    // if so, shows the read more button
    {
        var self        = highlights_modal;
        var ELEMENTS    = self.CONST.ELEMENTS;
        var CSS         = self.CONST.CSS;
        modal           = $(modal);

        if (modal.length == 0 || modal.hasClass(CSS.READ_MORE_VISIBLE))
            return;

        var read_more       = false;
        var window_width    = $(window).width();

        if (window_width > self.CONST.MAX_SIZE_MOBILE)
        {
            var paragraph   = modal.find(ELEMENTS.MODAL_PARAGRAPH);
            var title = modal.find(ELEMENTS.MODAL_TITLE);
            
            read_more       = title.outerHeight(true) + paragraph.height() > modal.height();
        }
        else
        {
            var scroll_content  = modal.find(ELEMENTS.MODAL_SCROLL_CONTENT);
            var modal_content   = modal.find(ELEMENTS.MODAL_CONTENT);

            read_more           = modal_content.height() > scroll_content.height();
        }

        if (read_more)
        {
            modal.addClass(CSS.READ_MORE);
        }
        else
        {
            modal.removeClass(CSS.READ_MORE);
        }
    },

    check_there_is_read_more_modals: function()
    // this function is executed when the screen is resized
    // for all the visisble modals, check if there is more content to be shown in each of them
    {
        var self        = highlights_modal;
        var ELEMENTS    = self.CONST.ELEMENTS;
        var CSS         = self.CONST.CSS;

        $(ELEMENTS.DV_MODAL + '.' + CSS.MODAL_VISIBLE).each(function()
        {
            self.check_there_is_read_more(this);
        });
    },

    update_heights_read_more: function()
    // this function is executed when the screen is resized
    // for all the visisble modals with read more expanded, update their heights
    {
        var self        = highlights_modal;
        var ELEMENTS    = self.CONST.ELEMENTS;
        var CSS         = self.CONST.CSS;

        $(ELEMENTS.DV_MODAL + '.' + CSS.MODAL_VISIBLE + '.' + CSS.READ_MORE_VISIBLE).each(function()
        {
            self.update_height_read_more(this);
        });
    },

    read_more: function(element)
    // this function is executed when read more button is executed
    // shows the content hidden
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var CSS             = self.CONST.CSS;

        var modal           = $(element).parents(ELEMENTS.DV_MODAL + '.' + CSS.MODAL_VISIBLE);
        var window_width    = $(window).width();

        if (window_width > self.CONST.MAX_SIZE_MOBILE)
        {
            var dv_highligts = modal.parents(ELEMENTS.DV_HIGHLIGHTS);

            dv_highligts.height(modal.outerHeight());
            dv_highligts.css('minHeight', 'auto');
        }

        modal.addClass(CSS.READ_MORE_VISIBLE).removeClass(CSS.READ_MORE);

        self.update_height_read_more(modal);
    },

    update_height_read_more: function(modal)
    // this function is executed when the read more button is clicked and when the screen is resized
    // updates the height of the modal passed as parameter
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var CSS             = self.CONST.CSS;
        var window_width    = $(window).width();
        modal               = $(modal);

        if (window_width <= self.CONST.MAX_SIZE_MOBILE)
        {
            modal.parents(ELEMENTS.DV_HIGHLIGHTS).attr('style', '');
        }
        else
        {
            var modal_content   = modal.find(ELEMENTS.MODAL_CONTENT);
            var height_modal    = modal_content.position().top + modal_content.height() + CSS.PADDING_BOTTOM_MODAL;

            modal.parents(ELEMENTS.DV_HIGHLIGHTS).height(height_modal);
        }
    },

    update_modal_content_position_mobile: function()
    // this function is executed when modal is shown and when the screen is resized
    // this function updates the position of MODAL_CONTENT if the screen is on mobile resolution
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var CSS             = self.CONST.CSS;
        var modal           = $(ELEMENTS.DV_MODAL + '.' + CSS.MODAL_VISIBLE);
        var window_width    = $(window).width();

        if (modal.length == 0)
            return;

        if (window_width > self.CONST.MAX_SIZE_MOBILE)
        {
            modal.find(ELEMENTS.MODAL_SCROLL_CONTENT).attr('style', '');
        }
        else
        {
            var modal_title         = modal.find(ELEMENTS.MODAL_TITLE);
            var modal_content       = modal.find(ELEMENTS.MODAL_SCROLL_CONTENT);
            var top_modal_content   = modal_title.position().top + modal_title.height() + CSS.MODAL_TITLE_MARGIN * 2;

            modal_content.css('top', top_modal_content);
        }
    },

    set_modal_min_height: function(modal)
    // this function is exectued when modal is shown
    // this function sets the min height of the modal.
    {
        var self            = highlights_modal;
        var ELEMENTS        = self.CONST.ELEMENTS;
        var CSS             = self.CONST.CSS;
        modal               = $(modal);

        var window_width    = $(window).width();
        var dv_highlights   = modal.parents(ELEMENTS.DV_HIGHLIGHTS);

        if (window_width > self.CONST.MAX_SIZE_MOBILE)
        {
            var modal_image     = modal.find(ELEMENTS.MODAL_IMAGE);
            var content_height  = modal.find(ELEMENTS.HIGHLIGHTS_CONTENT).height();

            var min_height      = modal_image.position().top + modal_image.height() + CSS.PADDING_BOTTOM_MODAL;
            var initial_height  = content_height < min_height ? min_height : content_height;

            dv_highlights.css('minHeight', '18.75rem');
            dv_highlights.css('height', initial_height);
            $('html, body').animate({
                scrollTop: dv_highlights.offset().top-100
            }, 200);
        }
        else
        {
            dv_highlights.attr('style', '');
        }
    },

    set_modals_min_height: function()
    // this function is executed when the screen is resized
    // sets the min height of each modal that is visible and read more is not visisble
    {
        var self        = highlights_modal;
        var ELEMENTS    = self.CONST.ELEMENTS;
        var CSS         = self.CONST.CSS;

        $(ELEMENTS.DV_MODAL + '.' + CSS.MODAL_VISIBLE + ':not(.' + CSS.READ_MORE_VISIBLE + ')').each(function()
        {
            self.set_modal_min_height(this);
        });
    }
}

$(window).resize(highlights_modal.set_modals_min_height);
$(window).resize(highlights_modal.check_there_is_read_more_modals);
$(window).resize(highlights_modal.update_heights_read_more);
$(window).resize(highlights_modal.update_modal_content_position_mobile);

/* Highlights list items equal height logic for modernized pages */

var contactDetail = (function () {

    function init(args) {
		var $component = $(args.elem);

		//Add class to trigger CSS for JS fallback
		$component.addClass('contact-detail--has-js');
		
		//Add extra class to allow blocks to show as columns if there only 2 of them
		if($('.contact-detail__sub-column', $component).length == 2) {
    		$component.addClass('contact-detail--tags-as-cols');
    	}
    }
    return {
        init: init
    };
})();

$(function() {
    $('.awards-comp__col').matchHeight({ byRow: true }); 
});

PwC.ns("PwC.components.awards");

PwC.components.awards = { 
        
    loadMore : function(path,element){    
       
        $.ajax(path + '.loadmore.html').done(function(data) {
            var loadMoreBtn = element.parentNode.parentElement;
            $CQ(data).insertBefore(loadMoreBtn);
            var contentDiv = element.parentNode.parentElement.parentElement;  
            contentDiv.removeChild(loadMoreBtn);
            });   
    }     
  }; 


$(document).ready(function() {
	var storedArray = Cookies.getJSON('pwc_closed_topics');
	var dataTopic = $('#closeNotification').data('topic');
	if( storedArray && (storedArray.indexOf(dataTopic) !== '-1') ) {
		if( ($('#closeNotification').parent('.territory-notification').hasClass('show')) ) {
			$('#familyOfSitesModal').modal('hide');
			$('#closeNotification').parent('.territory-notification').removeClass('show');
		}
	} else {
		if($('#familyOfSitesModal').length) {
			$('#familyOfSitesModal').modal('show');
			
			// Close modal or click outside or click 'No'
			$('#familyOfSitesModal').on('hidden.bs.modal', function () {
			    $('.territory-notification').addClass('show');
			});
		}

		var topicArray = Cookies.getJSON('pwc_closed_topics') || JSON.parse('[]');
		//When close of notification is clicked
		$('#closeNotification').on('click', function() {
	    	$('.territory-notification').removeClass('show');

	    	//Store the data value in sessionStorage
	    	var topic = $(this).data('topic');
	    	topicArray.push(topic);
	    	Cookies.set('pwc_closed_topics', topicArray);    	
	  	});
	}
});

$(document).ready(function() {
    var pwcTempIdCookie = Cookies.get("pwc-temp-id");
    var pwcIdCookie = Cookies.get("pwc-id");
    // logging off user for below scenario.
    if(pwcTempIdCookie && !pwcIdCookie && !window.location.pathname.includes("/content/pwc/userReg/profile-completion")) {
        logOffUser(window.location.href);
    }
});

function rmvCookie(cname, path) {
	var cvalue = Cookies.get(cname);
	var d = new Date();
	d.setTime(d.getTime() + (-1 * 24 * 60 * 60 * 1000));
	expires = "expires=" + d.toGMTString();
	document.cookie = cname + "=" + cvalue + "; " + expires + "; path="
			+ path;

}

function logOffUser(path) {
    var redirectPath = window.location.href.includes("userReg") || $('#premiumPage').val() === 'true' ? getLogoUrlWithDomain() : path;
    var url = $('.currentPagePath').val() + '/jcr:content.dpe-logout';
    $.get(
        url, {
            redirectPath
        }).done(function(response) {
        window.location.replace(response);
    });
}

function getLogoUrlWithDomain(){
    var logoUrl = $('#logoUrl').attr('href');
    var pattern = /^https?:\/\//i;
    if(pattern.test(logoUrl)) {
        return logoUrl;
    }
    return window.location.origin + logoUrl;
}

var PwcCookieConsent = PwcCookieConsent || {};

/**
 * This function append the given HTML String to the element with given selectorID. It 
 * checks if the cookie consent is enabled for page, if enabled it calls the 
 * Optanon.InsertHtml(element, selector, callback, options, groupId) method by passing required parameters.
 * If the cookie consent is disabled, it performs all functionality provided by the Optanon.InsertHtml method itself.
 * 
 * @param htmlString {string} HTML String to be inserted(required)
 * @param selectorID {string} ID of the element to which the HTML is to be appended(required)
 * @param groupID {number Array} Array of Group ids for which the HTML string will be inserted(required)
 * @param callback {function} A JavaScript function to be called once the element has been inserted(optional)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @param deleteSelectorAfterInsert {boolean} Whether the element with given selectorID is to be removed(Only parent is removed, children exist in DOM)(required)
 * @param callbackArguments {Object} Can be given in case the callback method requires them(optional)
 */
PwcCookieConsent.insertHtmlFromString = function(htmlString, selectorID,
	groupID, callback, deleteSelectorContent, makeSelectorVisible,
	makeElementsVisible, deleteElements, deleteSelectorAfterInsert,
	callbackArguments) {
	if (isCookieConsentPresent()) {
		var options = PwcCookieConsent.createOptions(deleteSelectorContent,
			makeSelectorVisible, makeElementsVisible, deleteElements);
		var methodArguments = {};
		methodArguments.htmlString = htmlString;
		methodArguments.selectorID = selectorID;
		methodArguments.callback = callback;
		methodArguments.options = options;
		methodArguments.callbackArguments = callbackArguments;
		methodArguments.groupID = groupID;
		handleMultiGroup(methodArguments);
	} else if(allowComponentFunctionality()){
		$("#" + selectorID).append(htmlString);
		performOptionsWork(deleteSelectorContent, makeSelectorVisible,
			makeElementsVisible, deleteElements);
		if (callback)
			callback();
	}

	if (deleteSelectorAfterInsert) {
		deleteSelectorElementAfterInsert(selectorID);
	}
}

/**
 * This function append the HTML inside the given element with htmlSelectorID to the element with given selectorID.
 * It internally calls PwcCookieConsent.insertHtmlFromString().
 * Note:- Read the JS doc for PwcCookieConsent.insertHtmlFromString()
 * 
 * @param htmlSelectorID {string} ID of the element from which the HTML is to be appended(required)
 * @param selectorID {string} ID of the element to which the HTML is to be appended(required)
 * @param groupID {number Array} Array of Group ids for which the HTML string will be inserted(required)
 * @param callback {function} A JavaScript function to be called once the element has been inserted(optional)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @param deleteSelectorAfterInsert {boolean} Whether the element with given selectorID is to be removed(Only parent is removed, children exist in DOM)(required)
 */
PwcCookieConsent.insertHtmlFromSelector = function(htmlSelectorID, selectorID,
	groupID, callback, deleteSelectorContent, makeSelectorVisible,
	makeElementsVisible, deleteElements, deleteSelectorAfterInsert) {
	var $htmlSelectorElement = $("#" + htmlSelectorID);
	var htmlString = $htmlSelectorElement.html();
	PwcCookieConsent.insertHtmlFromString(htmlString, selectorID, groupID,
		callback, deleteSelectorContent, makeSelectorVisible,
		makeElementsVisible, deleteElements, deleteSelectorAfterInsert);
	$htmlSelectorElement.remove();
}

/**
 * This function append the script tag with src as the given URL to the element with given selectorID.It 
 * checks if the cookie consent is enabled for page, if enabled it calls the 
 * Optanon.InsertScript(url, selector, callback, options, groupId) method by passing required parameters.
 * If the cookie consent is disabled, it performs all functionality provided by the Optanon.InsertScript method itself.
 * 
 * @param scriptUrl {string} URL of the script(required)
 * @param elementName {string} Name of the element like 'head' or if it is null, selectorID is used to get element(optional but if it is null/undefined, selectorID is required)
 * @param selectorID {string} ID of the element to which script tag is to be appended(required but can be optional if elementName is passed)
 * @param groupID {number} Group id for which the HTML string will be inserted(required)
 * @param callback {function} A JavaScript function to be called once the element has been inserted(optional)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @param deleteSelectorAfterInsert {boolean} Whether the element with given selectorID is to be removed(Only parent is removed, children exist in DOM)(required)
 */
PwcCookieConsent.insertScriptFromUrl = function(scriptUrl, elementName,
	selectorID, groupID, callback, deleteSelectorContent,
	makeSelectorVisible, makeElementsVisible, deleteElements,
	deleteSelectorAfterInsert) {
	if (isCookieConsentPresent()) {
		var selector = elementName ? elementName : selectorID;
		var options = PwcCookieConsent.createOptions(deleteSelectorContent,
			makeSelectorVisible, makeElementsVisible, deleteElements);
		Optanon.InsertScript(scriptUrl, selector, callback, options, groupID);
	} else if(allowComponentFunctionality()){
		addScript(scriptUrl, elementName, selectorID);
		performOptionsWork(deleteSelectorContent, makeSelectorVisible,
			makeElementsVisible, deleteElements);
		if (callback)
			callback();
	}
}

/**
 * This function append the given script String to the element with given selectorID.
 * It internally calls PwcCookieConsent.insertHtmlFromString().
 * Note:- Read the JS doc for PwcCookieConsent.insertHtmlFromString()
 *  
 * @param scriptString {string} Script String to be inserted(required)
 * @param selectorID {string} ID of the element to which the script is to be appended(required)
 * @param groupID {number Array} Array of Group ids for which the HTML string will be inserted(required)
 * @param callback {function} A JavaScript function to be called once the element has been inserted(optional)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @param deleteSelectorAfterInsert {boolean} Whether the element with given selectorID is to be removed(Only parent is removed, children exist in DOM)(required)
 */
PwcCookieConsent.insertScriptFromString = function(scriptString, selectorID,
	groupID, callback, deleteSelectorContent, makeSelectorVisible,
	makeElementsVisible, deleteElements, deleteSelectorAfterInsert) {
	var callbackArguments = [];
	callbackArguments.push(selectorID);
	callbackArguments.push(scriptString);
	callbackArguments.push(callback);
	PwcCookieConsent.insertHtmlFromString("", selectorID, groupID,
		insertScript, deleteSelectorContent, makeSelectorVisible,
		makeElementsVisible, deleteElements, deleteSelectorAfterInsert,
		callbackArguments);
}

/**
 * This function append the script String from the element with given scriptSelectorID to the element with given selectorID.
 * It internally calls PwcCookieConsent.insertScriptFromString().
 * Note:- Read the JS doc for PwcCookieConsent.insertScriptFromString()
 * 
 * @param scriptSelectorID {string} ID of the element from which the script is to be appended(required)
 * @param selectorID {string} ID of the element to which the HTML is to be appended(required)
 * @param groupID {number Array} Array of Group ids for which the HTML string will be inserted(required)
 * @param callback {function} A JavaScript function to be called once the element has been inserted(optional)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @param deleteSelectorAfterInsert {boolean} Whether the element with given selectorID is to be removed(Only parent is removed, children exist in DOM)(required)
 */
PwcCookieConsent.insertScriptFromScriptElement = function(scriptSelectorID,
	selectorID, groupID, callback, deleteSelectorContent,
	makeSelectorVisible, makeElementsVisible, deleteElements,
	deleteSelectorAfterInsert) {
	var $scriptSelectorElement = $("#" + scriptSelectorID);
	var scriptString = $scriptSelectorElement.html();
	PwcCookieConsent.insertScriptFromString(scriptString, selectorID, groupID,
		callback, deleteSelectorContent, makeSelectorVisible,
		makeElementsVisible, deleteElements, deleteSelectorAfterInsert);
	$scriptSelectorElement.remove();
}

/**
 * This function creates the required JS object from given parameters which is then can be passed to Optanon methods like Optanon.InsertHtml.
 * 
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 * @return options {object}
 */
PwcCookieConsent.createOptions = function(deleteSelectorContent,
	makeSelectorVisible, makeElementsVisible, deleteElements) {
	var options = {};
	if (deleteSelectorContent)
		options.deleteSelectorContent = deleteSelectorContent;
	if (makeSelectorVisible)
		options.makeSelectorVisible = makeSelectorVisible;
	if (makeElementsVisible)
		options.makeElementsVisible = makeElementsVisible;
	if (deleteElements)
		options.deleteElements = deleteElements;
	return options;
}

/**
 * Check if the cookie consent is enabled or not.
 * @return {boolean}
 */
function isCookieConsentPresent() {
	return ((typeof Optanon !== 'undefined') && !digitalData.page.skipOptanonCall);
}

/**
 * Returns true if the custom cookie consent is enabled and is accepted or a custom cookie consent is not enabled or not otherwise false.
 * @return {boolean}
 */
function allowComponentFunctionality() {
	//var isCustomCookieConsentPresent = $("input#is-custom-cookie-consent-present").val();
	//return (isCustomCookieConsentPresent && Cookies.get('pwc-cookie-accept') || !isCustomCookieConsentPresent);
	return true;
}

/**
 * This function deletes the element with the given selector ID. 
 * 
 * @param selector {string} selector Id of the element to be deleted(Only parent is removed, children exist in DOM)(required)
 * @param isThereExtraDiv {boolean} whether there is extra div created(required)
 */
function deleteSelectorElementAfterInsert(selector, isThereExtraDiv) {
	if (isCookieConsentPresent()) {
		var $innerdDivElement = $("#" + selector + " div");
		$innerdDivElement.unwrap();
		$innerdDivElement.children().unwrap();
	} else {
		var $selectorElement = $("#" + selector);
		$selectorElement.children().unwrap();
	}
}

/**
 * This function performs the functions provided by Optanon functions like 
 * Optanon.InsertHtml(element, selector, callback, options, groupId) to the options parameter provided to it.
 * 
 * @param elementName {string} Name of the element like 'head' or if it is null, selectorID is used to get element(optional but if it is null/undefined, selectorID is required)
 * @param selectorID {string} ID of the element(required but can be optional if elementName is passed)
 * @param deleteSelectorContent {boolean} Delete all parent container content before inserting the element(optional)
 * @param makeSelectorVisible {boolean} Shows parent container element after inserting the element(optional)
 * @param makeElementsVisible {Array} A list of HTML element id’s to show after inserting the element(optional)
 * @param deleteElements {Array} A list of HTML element id’s to delete after inserting the element(optional)
 */
function performOptionsWork(elementName, selectorID, deleteSelectorContent,
	makeSelectorVisible, makeElementsVisible, deleteElements) {
	var $selectorElement = elementName ? $(elementName) : $("#" + selectorID);
	if (deleteSelectorContent)
		$selectorElement.empty();
	if (makeSelectorVisible)
		$selectorElement.show();
	if (makeElementsVisible) {
		$.each(makeElementsVisible, function(index, item) {
			$("#" + item).show();
		})
	}
	if (deleteElements) {
		$.each(makeElementsVisible, function(index, item) {
			$("#" + item).remove();
		})
	}
}

/**
 * It appends the script tag with given URL as src to the element with the given selector ID or element name.
 * 
 * @param scriptUrl {string} URL of the script(required)
 * @param elementName {string} Name of the element like 'head' or if it is null, selectorID is used to get element(optional but if it is null/undefined, selectorID is required)
 * @param selectorID {string} ID of the element to which script tag is to be appended(required but can be optional if elementName is passed)
 */
function addScript(scriptUrl, elementName, selectorID) {
	var $sctipt = document.createElement('script');
	$sctipt.setAttribute('src', scriptUrl);
	if (elementName)
		$(elementName).append($script);
	else
		$("#" + selectorID).append($script);
}

/**
 * Add the script tag to the given selector and call a callback function. It
 * fetches the selector(to which the script to be appended), script string(to be
 * appended in given selector) and callback method from the caller arguments.
 */
function insertScript() {
	var callerArguments = insertScript.caller.arguments;
	var callbackArguments = callerArguments[callerArguments.length - 1];
	if (callbackArguments) {
		var $selectorElement = isCookieConsentPresent() ? $("#" +
			callbackArguments[0] + " div") :
			$("#" + callbackArguments[0]);
		scriptString = "<script>" + callbackArguments[1] + "</script>";
		$selectorElement.append(scriptString);
		var callback = callbackArguments[2];
		if (callback)
			callback();
	}
}

/**
 * It Handles the scenario where a component generates cookies belong to two or more Groups.
 * 
 * @param methodArguments {Object} It contains all the arguments required to pass to Optanon.InsertHtml while calling it
 */
function handleMultiGroup(methodArguments){
	if(!methodArguments){
			var callerArguments = handleMultiGroup.caller.arguments;
			methodArguments = callerArguments[callerArguments.length - 1];
	}
	if(methodArguments.groupID instanceof Array && methodArguments.groupID.length > 1){
		var group = methodArguments.groupID.pop();
		Optanon.InsertHtml('', '', handleMultiGroup, null, group , methodArguments);
	} else{
		Optanon.InsertHtml(methodArguments.htmlString, methodArguments.selectorID, methodArguments.callback, methodArguments.options, methodArguments.groupID,
			methodArguments.callbackArguments);
	}	
}

$(document).ready(function() {
	/**
	 * Handle event on cookie accept button on custom cookie consent to put 
	 * 'pwc-cookie-accept' cookie.
	 */
	$('#cookieWrapper #acceptCookie').click(function() {
		var pageTerritory = $("#pageTerritory").val();
		var pwcAcceptCookieName = (typeof _satellite !== 'undefined' ? pwcCookiePrefix : 'pwc-cookie-accept-') + pageTerritory;
		var cookieAttributes = {};
		cookieAttributes.expires = 365;
		Cookies.set(pwcAcceptCookieName, 'true', cookieAttributes);
		$('#cookieWrapper').hide();
	})

});

$(document).ready(function() {
	$('input.control-check').on('change', function() {
    	$('input.control-check').not(this).prop('checked', false);

    	if($(this).prop('checked') && $(this).hasClass('marketingconsent-no'))
           $(this).parent().siblings('.marketingconsent-tooltip').addClass('active');
        else
		   $(this).parent().siblings('.marketingconsent-tooltip').removeClass('active');
    });  
});
$(document).ready(function() { 
    $('.pwc-tooltip__close').click(function(e) {
        e.preventDefault();
      $(this).parent().removeClass('active');
    });
    $(document).on('mouseup', function () {
      $('.marketingconsent-tooltip').removeClass('active');
    });

});
var progressIndicator = (function() {
	'use strict';

	var DISPLAY_CHAR_COUNT = 78, EXPANDED_HEADER_HEIGHT = $("#menuBarWrapper")
			.height() || 127;

	function initProgIndicator(sections, progIndTitle) {
		var progressIndicatorMarkup = $('<div id="progressIndicator" class="progress-indicator"><button role="menu" aria-label="open in-page navigation" class="progress-indicator__toggle prog-ind--is-open" aria-expanded="true"><div class="progress-indicator__toggle--bg-upper"></div><div class="progress-indicator__toggle--bg-lower"></div></button></div>');
		var progressIndicatorWrapper = $(
				'<div class="progress-indicator__wrapper"></div>').appendTo(
				progressIndicatorMarkup);
		var progressIndicatorList = $(
				'<ul class="nav progress-indicator__list" role="tablist"><li id="progressIndicatorHeading" class="progress-indicator__list-item progress-indicator__title" role="tab">'
						+ progIndTitle + "</li></ul>").appendTo(
				progressIndicatorWrapper);

		$(sections[0]).each(function (i, item) {
			var section = $("section[id=" + item.id + "]");
			var renderedTitle = item.title.substring(0, DISPLAY_CHAR_COUNT);
			if (item.title.length > DISPLAY_CHAR_COUNT) {
				renderedTitle += "&hellip;";
			}
			if (section.length) {
				$('<li class="progress-indicator__list-item" role="tab"><a href="#'
					+ item.id
					+ '" class="progress-indicator__link"><span>'
					+ renderedTitle
					+ "</span></a></li>").appendTo(
						progressIndicatorList);
			}

			// Make each section programmatically focusable, but
			// remove their focus state styling
			section.attr("tabIndex", "-1");
			section.addClass("progress-indicator__focusable");
		});

		var firstContent = $('section').not('#explore').first().parent();
		firstContent.prepend(progressIndicatorMarkup); // Position of Progress
		// indicator before
		// first content section

		var progIndEl = document.querySelector("#progressIndicator");
		var progIndBtn = document.querySelector(".progress-indicator__toggle");
		var progIndAnchorLinks = document.querySelectorAll(".progress-indicator__link");

		function setHeightToggleBar(isMobile) {
			if (!isMobile) {
				// Set height of yellow vertical bar to match height of second
				// <li>
				$(".progress-indicator__toggle--bg-lower").css(
						"height",
						$(".progress-indicator__list > li:nth-child(2)")
								.height()
								+ 2 + "px");
			} else {
				$(".progress-indicator__toggle--bg-lower").css("height", "0px");
			}
		}
		setHeightToggleBar();

		if (document.querySelector(".bottom-kick")
				|| document.querySelector(".bottom-fixed-bar")) {
			progIndEl.classList.add("bar-is-present");
		}

		//show progress indicator
		function showProgressIndicator() {
			progIndEl.classList.add("expanded");
			progIndBtn.setAttribute("aria-expanded", "true");
			progIndBtn.classList.add("prog-ind--is-open");
			progIndBtn.classList.remove("prog-ind--is-closed");
			progIndAnchorLinks.forEach(link => link.setAttribute("tabindex", "0"));
			progIndBtn.setAttribute('aria-label', "close in-page navigation");
		}

		//hide progress indicator
		function hideProgressIndicator() {
			progIndEl.classList.remove("expanded");
			progIndBtn.setAttribute("aria-expanded", "false");
			progIndBtn.classList.remove("prog-ind--is-open");
			progIndBtn.classList.add("prog-ind--is-closed");
			progIndAnchorLinks.forEach(link => link.setAttribute("tabindex", "-1"));
			progIndBtn.setAttribute('aria-label', "open in-page navigation");
		}

		var largeDesktopQuery = window.matchMedia("(min-width: 1770px)");
		var smallDesktopQuery = window
				.matchMedia("(min-width: 768px) and (max-width: 1769px)");
		var mobileQuery = window.matchMedia("(max-width: 768px)");
		var isMobile;
		var isSmallDesktop;
		var isLargeDesktop;

		// Listen for future changes
		largeDesktopQuery.addListener(widthChangeLargeDesktop);
		smallDesktopQuery.addListener(widthChangeSmallDesktop);
		mobileQuery.addListener(widthChangeMobile);
		// Run on page load
		widthChangeLargeDesktop(largeDesktopQuery);
		widthChangeSmallDesktop(smallDesktopQuery);
		widthChangeMobile(mobileQuery);

		function widthChangeLargeDesktop(mq) {
			if (mq.matches) {
				isLargeDesktop = true;
				showProgressIndicator();
				setHeightToggleBar();
				setTimeout(function() {
					hideProgressIndicator();
				}, 3000);
			} else {
				isLargeDesktop = false;
			}
		}

		function widthChangeSmallDesktop(mq) {
			if (mq.matches) {
				isSmallDesktop = true;
				showProgressIndicator();
				setHeightToggleBar();
				setTimeout(function() {
					hideProgressIndicator();
				}, 3000);
			} else {
				isSmallDesktop = false;
			}
		}

		function widthChangeMobile(mq) {
			if (mq.matches) {
				isMobile = true;
				hideProgressIndicator();
				setHeightToggleBar(true);
			} else {
				setHeightToggleBar();
				isMobile = false;
				if (document.body.style.overflow === "hidden") {
					document.body.style.overflow = "auto";
				}
			}
		}

		function scrollProgressIndicatorList($prodInd, $targetLi) {
			var $prodIndList = $prodInd.find('.progress-indicator__wrapper');
			var listScrollTop = $prodIndList.scrollTop();
			var targetLiTop = $targetLi.position().top;
			var targetLiBottom = $targetLi.position().top
					+ $targetLi.outerHeight();

			// Check if target link is beyond the bottom of the visible scroll
			// area
			if (targetLiBottom > $prodIndList.outerHeight()) {
				$targetLi[0].scrollIntoView();
			}

			// Check if target link is above the top of the visible scroll area
			if (targetLiTop < 0) {
				$targetLi[0].scrollIntoView();
			}
		}

		document.querySelector(".progress-indicator__toggle").addEventListener("click", function (e) {
			var isExpanded = progIndBtn.getAttribute("aria-expanded") === "true";
			if (isExpanded) {
				hideProgressIndicator();
			} else {
				showProgressIndicator();
				//Enabling this focus feature for devices for small desktop and above
				if (e.pointerType !== "mouse" && window.innerWidth >= 992 && e.pointerType !== "touch" && progIndAnchorLinks.length > 0) {
					progIndAnchorLinks[0].focus(); //after expanding the prog ind, focus goes on the first 'link'
				}
			}
			if (isMobile) {
				// We have to set overflow as an inline style
				// because Bottom kick uses an inline style too
				document.body.style.overflow === "hidden" ? (document.body.style.overflow = "auto")
					: (document.body.style.overflow = "hidden");
			}
		});

		progressIndicatorList.on("click", "a", function(e) {
			e.preventDefault();

			var target = $(this).attr("href");

			if (target.indexOf("#") !== 0) {
				target = target.substr(target.indexOf("#"));
			}

			var targetY = $(target).position().top;

			// The first item on the page has targetY of EXPANDED_HEADER_HEIGHT.
			// Scrollspy has an offset of EXPANDED_HEADER_HEIGHT, so for it to
			// work we need to
			// go to the top of the page.
			if (targetY <= EXPANDED_HEADER_HEIGHT) {
				targetY = 0;
			}

			// Change the hash in the browser URL (does not navigate to section)
			history.pushState(null, null, target);

			$("html, body").stop().animate(
					{
						scrollTop : targetY
					},
					1000,
					function() {
						if (targetY !== 0) {
							var menuBarEl = document.querySelector("#menuBarWrapper");
							if(menuBarEl && menuBarEl.classList){
								menuBarEl.classList
										.remove("slide--reset");
								menuBarEl.classList
										.add("slide--up");
							}
						}
						$(target).focus();
					});

			if (isMobile) {
				hideProgressIndicator();
				document.querySelector("body").style.overflow = "auto";
			} else if (isSmallDesktop || isLargeDesktop) {
				hideProgressIndicator();
			}
		});

		//Scroll on page load

		var val = window.location.href;

		var myString = val.substr(val.indexOf("#") + 1);

		$(window).on('load', function() {
			if(myString.length){

				setTimeout(function() {
					// console.log("This is target Y", $('#' + myString).offset().top);
					var targetY = $('#' + DOMPurify.sanitize(myString)).offset().top;
					$("html, body").animate(
						{
							scrollTop : targetY
						},
					1000);
				}, 500);
			}
		});

		$("body").scrollspy({
			target : "#progressIndicator",
			offset : EXPANDED_HEADER_HEIGHT
		});

		// Check for progress indicator link becoming highlighted
		$('#progressIndicator').on('activate.bs.scrollspy', function(e) {
			var $progInd = $(e.currentTarget);
			var $targetLi = $(e.target);
			scrollProgressIndicatorList($progInd, $targetLi);
		});

		function isShiftTabPressed(e) {
			return (e.key === 'Tab' && e.shiftKey);
		}

		function isTabPressed(e) {
			return (e.key === 'Tab');
		}

		let breadCrumbsEle;
		let breadCrumbsLastChild;
		let headerActiveEle;
		const lastProgIndLink = progIndAnchorLinks[progIndAnchorLinks.length - 1];

		var firstFocusableSectionEle;
		var heroSocialShare = document.querySelector('.social-share-rebrand');

		var getTheContentSection = 'section:not(.hidden, #header) ';
		var getOneTrustBannerSection = '#onetrust-banner-sdk ';
		var getSocialIcons = '#socialfollow ';
		var getFooterSection = '#footer ';

		var oneTrustVisibileLinksArray = [];

		//this func returns the 'links array' from the passed 'section el' string
		function getVisibleLinks(sectionElString) {
			let linksArray = Array.from(document.querySelectorAll(sectionElString + 'a[href]' + ', ' + sectionElString + 'button' + ', ' + sectionElString + '[tabindex="0"]'));
			let visibleLinksArray = [];

			for (let i = 0; i < linksArray.length; i++) {
				if (linksArray[i].checkVisibility() === true) {
					visibleLinksArray.push(linksArray[i])
				}
			}
			return visibleLinksArray;
		}

		setTimeout(function () {
			if ($('.slimnav-v2-breadcrumbs a').length > 0) { //if breadcrumbs on the page
				breadCrumbsEle = $('.slimnav-v2-breadcrumbs a');
				breadCrumbsLastChild = breadCrumbsEle[breadCrumbsEle.length - 1];
				headerActiveEle = breadCrumbsLastChild;
			} else {
				headerActiveEle = $('button.search-hide.levelOneLink');
			}
			if (heroSocialShare !== null && !heroSocialShare.disabled && heroSocialShare.checkVisibility()) { //if 'share' icon on the hero page
				firstFocusableSectionEle = heroSocialShare;
			} else {
				var sectionLinksArray = getVisibleLinks(getTheContentSection); //getting all section links array
				oneTrustVisibileLinksArray = getVisibleLinks(getOneTrustBannerSection); //getting all oneTrust links array
				var socialIconsVisibleLinksArray = getVisibleLinks(getSocialIcons); //getting all social section links array
				var footerVisibleLinksArray = getVisibleLinks(getFooterSection); //getting all footer section links array

				if (sectionLinksArray.length !== 0) {
					firstFocusableSectionEle = sectionLinksArray[0];
				}
				else if (socialIconsVisibleLinksArray.length !== 0) {
					firstFocusableSectionEle = socialIconsVisibleLinksArray[0];
				}
				else if (footerVisibleLinksArray.length !== 0) {
					firstFocusableSectionEle = footerVisibleLinksArray[0];
				}
				else if (oneTrustVisibileLinksArray.length !== 0) {
					firstFocusableSectionEle = oneTrustVisibileLinksArray[0];
				}
				else {
					firstFocusableSectionEle = $('#skipToContent')[0]; //'skip to content' link
				}
			}
		}, 1000);

		//keyup on body
		$('body').on('keyup', function (e) {
			$($('.slim-navigation .nav-primary a.levelOneLink').last()).on('keydown', function (e) { //keydown on last main primary menu
				if (!isShiftTabPressed(e)) {
					if (isTabPressed(e)) {
						e.preventDefault();
						$('button.search-hide.levelOneLink').focus(); //focus on search button
					}
				}
			});

			$('button.search-hide.levelOneLink').on('keydown', function (e) { //keydown on search button keydown
				if (isShiftTabPressed(e)) {
					e.preventDefault();
					$($('.slim-navigation .nav-primary a.levelOneLink').last()).focus(); //focus on last main primary menu
				}
			});

			$(headerActiveEle).on('keydown', function (e) { //keydown on 'search button' or 'last breadcrumb el'
				if (!isShiftTabPressed(e)) {
					if (isTabPressed(e)) {
						e.preventDefault();
						$(progIndBtn).focus(); //focus on prog ind button
					}
				}
			});

			$(firstFocusableSectionEle).on('keydown', function (e) { //keydown on first focusable link on the page
				if (progIndBtn.classList.contains("prog-ind--is-closed")) {
					if (isShiftTabPressed(e)) {
						e.preventDefault();
						$(progIndBtn).focus(); //focus on prog ind button
					}
				}
				else if (isShiftTabPressed(e)) {
					e.preventDefault();
					$(lastProgIndLink).focus(); //focus on last prog ind link
				}
			});

			$(progIndBtn).on('keydown', function (e) { //keydown on prog ind button
				if (progIndBtn.classList.contains("prog-ind--is-open")) { //if prog ind is in open state
					if (isShiftTabPressed(e)) {
						e.preventDefault();
						$(lastProgIndLink).focus(); //focus on last prog ind link
					}
				}
			});
		});

		$(lastProgIndLink).on('keydown', function (e) { //keydown on last prog ind link
			if (!isShiftTabPressed(e)) {
				if (isTabPressed(e)) {
					e.preventDefault();
					$(progIndBtn).focus(); //focus on prog ind button
				}
			}
		});

		$(progIndBtn).on('keydown', function (e) { //keydown on prog ind button
			if (progIndBtn.classList.contains("prog-ind--is-closed")) { //if prog ind is in closed state
				if (isShiftTabPressed(e)) {
					e.preventDefault();
					$(headerActiveEle).focus(); //focus on 'search button' or 'last breadcrumb el'
				} else if (isTabPressed(e)) {
					e.preventDefault();
					$(firstFocusableSectionEle).focus(); //focus on first focusable link on the page
				} 
			}
		});
	}

	function dottedProgIndicator(sections, progIndTitle) {
		var progressIndicatorMarkup = $('<div class="dot-prog-ind ' + sections[1] + '"><button role="menu" tabindex="2" aria-label="open in-page navigation" class="toggle_button animate-me" aria-expanded="false"></button></div>');
		var progressIndicatorWrapper = $(
				'<nav class="dotted-indicator-menu"></nav>').appendTo(
				progressIndicatorMarkup);
		var progressIndicatorList = $(
				'<ul role="tablist"><li id="dottedProgressIndicatorHeading" class="dotted-indicator__title" aria-label="Title" role="tab"><h2>'
						+ progIndTitle + "</h2></li></ul>").appendTo(
				progressIndicatorWrapper);

		$(sections[0])
				.each(
						function(i, item) {
							//Get the id of all the elements inside the section array
							var section = $("#" + item.id );
							
							//ellipsis for desktop
							if (window.innerWidth >= 992) {
								var renderedTitle = item.title
								var dottedListEl;
								
								setTimeout(function() {
                                    dottedListEl = document.querySelectorAll('.dot-prog-ind nav ul span');
                                    dottedListEl?.forEach(function (item) {

                                        const originalText = item.innerText;
                                        const lineHeight = parseInt(item.style.lineHeight);
                                        const maxHeight = lineHeight * 2;

                                        item.style.height = `${maxHeight}px`;
                                        item.style.overflow = 'hidden';
                                        item.style.display = 'block';

                                        if (item.scrollHeight > maxHeight) {
                                            let trimmedText = originalText;
                                            while (item.scrollHeight > maxHeight && trimmedText.length > 0) {
                                                trimmedText = trimmedText.substring(0, trimmedText.lastIndexOf(' '));
                                                item.innerText = `${trimmedText}…`;
                                            }
                                        }
                                        item.style.height = '';
                                        item.style.overflow = '';
                                    })
                                }, 500);
								
								if (section.length) {
									$(
										'<li class="animate-me" role="tab"><i></i><a tabindex="-1" aria-description="unselected" href="#'
												+ item.id
												+ '"aria-label="' + renderedTitle + '">'
												+ '<span style="line-height: 17px">'
												+ renderedTitle
												+ '</span>'
												+ "</a></li>").appendTo(
										progressIndicatorList);
								}
							} else {
								//Mobile device title used without ellipsis
								var renderedTitle = item.title

								if (section.length) {
									$(
										'<li class="animate-me" role="tab"><i></i><a tabindex="-1" aria-description="unselected" href="#'
												+ item.id
												+ '"aria-label="' + renderedTitle + '">'
												+ '<span>'
												+ renderedTitle
												+ '</span>'
												+ "</a></li>").appendTo(
										progressIndicatorList);
								}
							}


							// Make each section programmatically focusable, but
							// remove their focus state styling
							section.attr("tabIndex", "-1");
							section.addClass("progress-indicator__focusable");
						});

		var firstContent = $('section').not('#explore').first().parent();
		firstContent.prepend(progressIndicatorMarkup); // Position of Progress
		// indicator before
		// first content section
		
		(function(w,d, j){
			// private variables
			var __cache = {
				$titleComponent: j('.hero-card-wrapper, .title-icls'),
				$navHeight: j('.dotted-indicator-menu'),
				$section: j(sections[0]),
				$htmlBody: j('html, body'),
				$body: j('body'),
				$progIndEl: j('.dotted-progress-indicator.dot-prog-ind'),
				$progIndBtn: j('.dotted-progress-indicator .toggle_button'),
				$menuList: j('.dotted-progress-indicator nav ul li'),
				$menuListAnimate: j('.dotted-progress-indicator .animate-me'),
				$menuCheckbox: j('.dotted-progress-indicator li i'),
				$menuLabel: j('.dotted-progress-indicator li a')
			};
		
			localStorage.setItem("animateFlag",1);
		
			var currentSelectedSection;

			var __scrollOnClick = function(elem) {
				var $el = j(elem);
				var id;
		
				if(!$el.attr('href')) {
					var iconEleId = $el.siblings("a")[0];
					id = j(iconEleId).attr('href');
				} else {
					id = $el.attr('href');
				}

				currentSelectedSection = id;
				history.pushState(null, null, id);
		
				__cache.$htmlBody.animate({
					scrollTop: (j(id).offset().top) + 1
				}, 500);

				return false;
			}
			
			function setFocusOnSection(e) {
				// Focus on the progress indicator selected section on click as progress indicator closes
				e.preventDefault();
				let firstEl = document.querySelector(currentSelectedSection) !== null ? document.querySelector(currentSelectedSection) : null;
				if (firstEl !== null) {
					firstEl.setAttribute('tabindex', '0');
					firstEl.focus({preventScroll: true});
					firstEl.removeAttribute('tabindex');
				}
			}
		
			//Manage active state depending on section offset on menu
			var __dottedActiveState = function(e, firstLoad) {
				var cur_pos = !firstLoad ? e.scrollTop() : e.scrollTop() + 1;
					
				__cache.$section.each(function(i, item) {
					var sectionId = j("#" + item.id)[0];
					

					var top = (j(sectionId).offset().top);

					// Checking if the section id is chapter heading and increasing the bottom of it for active state to be sequential
					if (j('#' + sectionId.id).prop("tagName") == "DIV") {
						var bottom = top + j(sectionId).outerHeight() + 51;
					} else {
						var bottom = top + j(sectionId).outerHeight();
					}
					
					//Here the window top matches the top of the section id
					if (cur_pos >= top && cur_pos <= bottom) {
						__cache.$navHeight.find('li').removeClass('active');
						__cache.$navHeight.find('a[href="#'+sectionId.id+'"]').parent().addClass('active');
						__cache.$navHeight.find('li a').attr('aria-description', 'unselected');

						//Updating the aria selected state for links
						if (__cache.$navHeight.find('a[href="#'+sectionId.id+'"]').parent().hasClass('active')) {
							__cache.$navHeight.find('a[href="#'+sectionId.id+'"]').attr('aria-description', 'selected');
						}
					}
				});
			}
		
			var __scrolingSection = {
				bindEvent: function(){
					__dottedActiveState(j(w), true);
		
					if (w.innerWidth >= 992) {
						//functionality for devices above tablet screen resolution
			
						__cache.$progIndEl.css("display", "flex");
			
						if(localStorage.getItem("animateFlag") == 1){
							var menuListArrayItems = __cache.$menuListAnimate.toArray();
							var checkInterval;
				
							function manageOpacity() {
								var isMenuLiHasOpacity = __cache.$menuListAnimate.css("opacity") == "1";
					
								if (isMenuLiHasOpacity) {
									setTimeout(function(clr) {
										__cache.$progIndEl.removeClass("expanded");
										__cache.$progIndBtn.attr('aria-expanded', 'false');
										clearInterval(clr);
									}, 3000, checkInterval);
									__cache.$progIndEl.addClass("expanded");
									__cache.$progIndBtn.attr('aria-expanded', 'true');
								}
							}
			
							menuListArrayItems.forEach(function(value, key) {
								var self = j(value);
				
								setTimeout(function(){
									self.animate({
										opacity: 1
									})
								}, (200 * key))
							});
			
							checkInterval = setTimeout(function() {
								manageOpacity();
							}, (200 * menuListArrayItems.length));

							localStorage.setItem("animateFlag",2);
						}

						j(w).on('scroll', function () {
							//Active state manage for Dotted progress indicator on scroll
							__dottedActiveState(j(this));
						});
				
						//On Label click
						__cache.$menuLabel.on('click', function(e){
							e.preventDefault();
							__scrollOnClick(j(this));
							setFocusOnSection(e);
							//Update the state of progress indicator as the menu items are clicked and menu is closed
							__cache.$progIndEl.removeClass("expanded");
							__cache.$progIndBtn.attr('aria-expanded', 'false');
						})
				
						// On Checkbox click
						__cache.$menuCheckbox.on('click', function(e){
							e.preventDefault();
							__scrollOnClick(j(this));
							setFocusOnSection(e)
							//Update the state of progress indicator as the menu items are clicked and menu is closed
							__cache.$progIndEl.removeClass("expanded");
							__cache.$progIndBtn.attr('aria-expanded', 'false');
						})
				
						//Open the progress indicator menu on checkbox hover
						__cache.$menuCheckbox.mouseenter(function(e){
							__cache.$progIndEl.addClass('expanded');
							__cache.$progIndBtn.attr('aria-expanded', 'true');
						})
				
						//Close the progress indicator menu after hoverout from menu
						__cache.$progIndEl.mouseleave(function(e){
							__cache.$progIndEl.removeClass('expanded');
							__cache.$progIndBtn.attr('aria-expanded', 'false');
						})
				
						//Checkbox hover
						__cache.$menuCheckbox.hover(function(){
							//Mouse hover on checkbox
							j(this).parent().addClass('checkboxhover');
						}, function(){
						//Mouse hover out on checkbox
							j(this).parent().removeClass('checkboxhover');
						})
				
						//Label hover
						__cache.$menuLabel.hover(function(){
							//Mouse hover on checkbox
							j(this).parent().addClass('labelhover');
						}, function(){
							//Mouse hover out on checkbox
							j(this).parent().removeClass('labelhover');
						})
					} else {
						// For Tablet and mobile device
			
						__cache.$progIndBtn.on('click', function(e){
							var isExpanded = __cache.$progIndEl.hasClass('expanded');
			
							if(isExpanded) {
								//hide the Dotted progress indicator
								__cache.$progIndEl.removeClass('expanded');
								__cache.$progIndBtn.attr('aria-expanded', 'false');
								__cache.$body.css("overflow", "auto");
				
							} else {
								//show the dotted progress indicator
								__cache.$progIndEl.addClass('expanded');
								__cache.$progIndBtn.attr('aria-expanded', 'true');
								__cache.$body.css("overflow", "hidden");
							}
						})
			
						j(w).on('scroll', function () {
							//Active state manage for Dotted progress indicator on scroll
							__dottedActiveState(j(this));
						})
			
						//On label click
						__cache.$menuLabel.on('click', function(e){
							e.preventDefault();
							__scrollOnClick(j(this));
							__cache.$progIndEl.removeClass('expanded');
							__cache.$progIndBtn.attr('aria-expanded', 'false');
							__cache.$body.css("overflow", "auto");
						})
					}
		
					//Keyboard Navigation Accessibility
			
					var getCurActiveEle;
					var breadCrumbsEle;
					var breadCrumbsSecondLastChild;
					var breadCrumbsLastChild;
					var dottedProgIndRendered = __cache.$progIndEl.length;
					var progIndButtonFocus;
					var contentSkipLink = d.getElementById('skipToContent');
					var footerSkipLink = d.getElementById('skipToFooter');
					var logoUrl = d.getElementById('logoUrl');
					var dotProInd = d.getElementsByClassName("dotted-progress-indicator")[0];
					var progIndButton = d.querySelector('.dotted-progress-indicator .toggle_button');
					var progIndList = d.querySelectorAll('.dotted-progress-indicator .animate-me a');
					var firstEle = progIndList[0];
					var lastEle = progIndList[(progIndList.length - 1)];
					var secondLastEle = progIndList[progIndList.length - 2];
					var firstFocusableSectionEle;
					var heroSocialShare = d.querySelector('.social-share-rebrand');
					var getTheContentSection = 'section:not(.hidden, #header) ';
					var getOneTrustBannerSection = '#onetrust-banner-sdk ';
					var sectionLinksArray = [];
					var oneTrustVisibleLinksArray = [];

					//Check for Shift+Tab key pressed
					function isShiftTabPressed(e) {
						return (e.key === 'Tab' && e.shiftKey);
					}
					
					//Check for Tab key pressed
					function isTabPressed(e) {
						return (e.key === 'Tab');
					}

					//Check for Enter key pressed 
					function isEnterPressed(e) {
						return (e.key === 'Enter');
					}

					//Finding the available visible links from the section
					function getVisibleLinks(sectionElString) {
						//Converting the node list to Array in JS
						var linksArray = Array.from(d.querySelectorAll(sectionElString + 'a[href]' + ', ' +  sectionElString + 'button' + ', ' + sectionElString + '[tabindex="0"]'));
						
						var visibleLinksArray = [];

						for(let i = 0; i<linksArray.length; i++) {
							//Check if the given button is visible to the user or not 
							if(linksArray[i].checkVisibility() === true) {
								visibleLinksArray.push(linksArray[i]);
							}
						}
						return visibleLinksArray;
					}

					//Get the breadcumbs links in an array
					setTimeout(function() {
						if(d.querySelectorAll('.slimnav-v2-breadcrumbs a') !== null) {
							breadCrumbsEle = d.querySelectorAll('.slimnav-v2-breadcrumbs a');
							breadCrumbsSecondLastChild = breadCrumbsEle.length > 2 ? breadCrumbsEle[breadCrumbsEle.length - 2] : breadCrumbsEle[0];
							breadCrumbsLastChild = breadCrumbsEle[breadCrumbsEle.length - 1];
						}
						
						//Focus on the first available button after the progress Indicator focus
						if (heroSocialShare !== null && !heroSocialShare.disabled && heroSocialShare.checkVisibility()) {
							//Focus on the hero social share button if its visible on page
							firstFocusableSectionEle = heroSocialShare;
						} else {
							sectionLinksArray = getVisibleLinks(getTheContentSection);
							oneTrustVisibleLinksArray = getVisibleLinks(getOneTrustBannerSection);
	
							if (sectionLinksArray.length !== 0) {
								//Focus on the first element from the content section
								firstFocusableSectionEle = sectionLinksArray[0];
							} else if (oneTrustVisibleLinksArray.length !== 0) {
								//Focus on the cookie first clickable button
								firstFocusableSectionEle = oneTrustVisibleLinksArray[0];
							} else {
								//Else focus on the first element on top of the header 
								firstFocusableSectionEle = contentSkipLink;
							}
						}
					}, 1000);


					//Get the current focus element on tab
					d.addEventListener('focusin', function(event){
						
						//Check if the progress indicator menu button has focus or not
						progIndButtonFocus = __cache.$progIndBtn.is(":focus");
						//Get the document active element
						getCurActiveEle = (getCurActiveEle = d.activeElement);

						d.body.onkeyup = function(ev) {

							//Check if the Dotted progress Indicator is open or not
							var isDotProgIndOpen = dotProInd.classList.contains("expanded");

							var headerActiveEle;
	
							//Checking the last header element to be either from header search or breadcrumb
							if (breadCrumbsEle !== undefined && breadCrumbsEle.length > 0) {
								//Assigning the headerActiveEle to breadcrumb last child
								headerActiveEle = breadCrumbsLastChild;
							} 
							else {
								var searchHideEle = d.querySelector('.nav-search button.search-hide');
								//Assigning the headerActiveEle to searchHide if there is no breadcrumb
								headerActiveEle = searchHideEle;
							}

							//Check if the progress indicator is rendered in the page and tab key is pressed
							if (dottedProgIndRendered === 1 && isTabPressed(ev)) {

								//Redirect the skip links focus to the pwc icon on tabbing
								if(getCurActiveEle === footerSkipLink) {
									footerSkipLink.onkeydown = function (event) {
										if (isShiftTabPressed(event)) {
											//focus on the contentSkipLinks on backward tabbing Shift+Tab
											event.preventDefault();
											//focus on the previous link on shift tab
											contentSkipLink.focus();
										} else if (isTabPressed(event)) {
											event.preventDefault();
											//focus on the the pwc logo on tab
											logoUrl.focus();
										}
									}
								}

								//Redirect focus back to the skip links from the logo url
								if (getCurActiveEle === logoUrl) {
									logoUrl.onkeydown = function (event) {
										if (isShiftTabPressed(event)) {
											//focus on the previous link on shift tab
											event.preventDefault();
											footerSkipLink.focus();
										}
									}
								}
				
								//Execute the code If the document current active element matches the last header element
								if (getCurActiveEle === headerActiveEle) {
									//Keyup on last element to bring the focus to Menu icon button of dotted progress indicator
									headerActiveEle.onkeydown = function (event) {
										if (isShiftTabPressed(event)) {
											//Code for shift+Tab which will come before tab key if condition.
											event.preventDefault();
											j(breadCrumbsSecondLastChild).focus();

										} else if (isTabPressed(event)) {
											//If tab is pressed on the last header element then bring the focus on the progress indicator button
											event.preventDefault();
											progIndButton.focus();
										}
									}
								}
							}
						
							//Check if the focus is on the progInd button and dotProgIndMenu is closed 
							if (progIndButtonFocus === true && isDotProgIndOpen === false) {
								//Keypress on the dotted progress indicator
								progIndButton.onkeydown =  function(event) {
									//Opening the dotted progress indicator by pressing 'enter' on the progIndButton
									if (isEnterPressed(event)) {
										__cache.$progIndEl.addClass('expanded');
										__cache.$progIndBtn.attr('aria-expanded', 'true');
										__cache.$progIndBtn.attr('aria-label', 'close in-page navigation');
										//Focus on the first element in prog indicator when menu opens up
										if (progIndList.length > 0) {
											firstEle.focus();
										}
									} else if (isShiftTabPressed(event)) {
										//Code for shift+Tab which will come before tab key if condition.
										event.preventDefault();
										j(breadCrumbsLastChild).focus();
									} else if (isTabPressed(event)) {
										//Tab on the progIndButton
										event.preventDefault();

										//focus on the first element of the section after Dotted progress indicator
										firstFocusableSectionEle.focus();
									}
								}
							} else if (progIndButtonFocus === true && isDotProgIndOpen === true) {
								//Check if the focus is on the progInd button and dotProgIndMenu is open 
								//Keypress on the dotted progress indicator
								progIndButton.onkeydown =  function(event) {
									if (isShiftTabPressed(event)) {
										//Code for shift+Tab which will come before tab key if condition.
										event.preventDefault();
										if (progIndList.length > 0) {
											lastEle.focus();
										}
									} else if (isTabPressed(event)) {
										//ProgIndMenu is open and focus on the first element of the Menu on 'Tab'
										event.preventDefault();

										//focus on first element inside the dotProgIndMenu
										if (progIndList.length > 0) {
											firstEle.focus();
										}
									} else if (isEnterPressed(event)) {
										//ProgIndMenu is open and on 'Enter' key press closing the dotted progress indicator 
										__cache.$progIndEl.removeClass('expanded');
										__cache.$progIndBtn.attr('aria-expanded', 'false');
										__cache.$progIndBtn.attr('aria-label', 'open in-page navigation');
									}
								}
							}
			
							//Traversing through the progress indicator
							function getProgIndList(value) {
								for (let i = 0; i < progIndList.length; i++) {
									progIndList[i].tabIndex = value;
								}
							}
						
							//Check if the prog ind has expanded class i.e. it is open
							if (isDotProgIndOpen === true && (progIndList.length > 0)) {
								//Setting the tabindex of the dotted progress indicator inner elements to 2 on progInd open state
								getProgIndList(0);

								//Check if the first element of prog ind list has focus
								if (getCurActiveEle === firstEle) {
									firstEle.onkeydown = (function(event) {
										if (isShiftTabPressed(event)) {
											event.preventDefault();
											//Focus on progIndButton on shift + tab
											progIndButton.focus();
										}
									})
								}

								//Check if the last element of prog ind list has focus
								if (getCurActiveEle === lastEle) {
									//Keyup on last ele of prog ind list
									lastEle.onkeydown = (function(event) {
										if (isShiftTabPressed(event)) {
											//Code for shift+Tab which will come before tab key if condition.
											event.preventDefault();
											if (secondLastEle !== undefined) {
												secondLastEle.focus();
											} else {
												progIndButton.focus();
											}
										} else if (isTabPressed(event)) {
											event.preventDefault();

											//Focusing on the progIndButton on 'Tab' from the last element of the progress indicator
											progIndButton.focus();
										}
									});
								}
								
							} else {
								//Setting the tabindex of the dotted progress indicator inner elements to -1 to remove focus on progInd closed state
								getProgIndList(-1);
							}

							//Moving the focus from firstFocusableSectionEle to the progress indicator icon
							if (getCurActiveEle === firstFocusableSectionEle) {
								firstFocusableSectionEle.onkeydown = (function(event) {
									if (isShiftTabPressed(event)) {
										// code for shift tab from the first focusable section element
										event.preventDefault();
										//Focus on the progress indicator button
										progIndButton.focus();
									}
								})
							}
						}
					})
				},
				init: function(){
					this.bindEvent();
				}
			};
		
			__scrolingSection.init();
		
		})(window, document, $);
	}

	function init(config) {
		var validSections, progIndTitle;

		if (config && typeof config.sections !== "undefined"
				&& config.sections.length > 0) {
			progIndTitle = config && config.title ? config.title : "Index";
			validSections = config.sections
			if (validSections != undefined && (validSections[1] === "progress-indicator-default" || validSections[1] === "")) {
				initProgIndicator(validSections, progIndTitle);
			} else if (validSections[1] === "dotted-progress-indicator") {
				setTimeout(function() {
					dottedProgIndicator(validSections, progIndTitle)
				}, 1500);
			} else {
				throw new Error("No sections provided to Progress indicator.");
			}
		}

	}

	return {
		init : init
	};
})();


/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function(window, document) {
'use strict';


// Exits early if all IntersectionObserver and IntersectionObserverEntry
// features are natively supported.
if ('IntersectionObserver' in window &&
    'IntersectionObserverEntry' in window &&
    'intersectionRatio' in IntersectionObserverEntry.prototype) {

  // Minimal polyfill for Edge 15's lack of `isIntersecting`
  // See: https://github.com/WICG/IntersectionObserver/issues/211
  if (!('isIntersecting' in IntersectionObserverEntry.prototype)) {
    Object.defineProperty(IntersectionObserverEntry.prototype,
      'isIntersecting', {
      get: function () {
        return this.intersectionRatio > 0;
      }
    });
  }
  return;
}


/**
 * An IntersectionObserver registry. This registry exists to hold a strong
 * reference to IntersectionObserver instances currently observering a target
 * element. Without this registry, instances without another reference may be
 * garbage collected.
 */
var registry = [];


/**
 * Creates the global IntersectionObserverEntry constructor.
 * https://wicg.github.io/IntersectionObserver/#intersection-observer-entry
 * @param {Object} entry A dictionary of instance properties.
 * @constructor
 */
function IntersectionObserverEntry(entry) {
  this.time = entry.time;
  this.target = entry.target;
  this.rootBounds = entry.rootBounds;
  this.boundingClientRect = entry.boundingClientRect;
  this.intersectionRect = entry.intersectionRect || getEmptyRect();
  this.isIntersecting = !!entry.intersectionRect;

  // Calculates the intersection ratio.
  var targetRect = this.boundingClientRect;
  var targetArea = targetRect.width * targetRect.height;
  var intersectionRect = this.intersectionRect;
  var intersectionArea = intersectionRect.width * intersectionRect.height;

  // Sets intersection ratio.
  if (targetArea) {
    this.intersectionRatio = intersectionArea / targetArea;
  } else {
    // If area is zero and is intersecting, sets to 1, otherwise to 0
    this.intersectionRatio = this.isIntersecting ? 1 : 0;
  }
}


/**
 * Creates the global IntersectionObserver constructor.
 * https://wicg.github.io/IntersectionObserver/#intersection-observer-interface
 * @param {Function} callback The function to be invoked after intersection
 *     changes have queued. The function is not invoked if the queue has
 *     been emptied by calling the `takeRecords` method.
 * @param {Object=} opt_options Optional configuration options.
 * @constructor
 */
function IntersectionObserver(callback, opt_options) {

  var options = opt_options || {};

  if (typeof callback != 'function') {
    throw new Error('callback must be a function');
  }

  if (options.root && options.root.nodeType != 1) {
    throw new Error('root must be an Element');
  }

  // Binds and throttles `this._checkForIntersections`.
  this._checkForIntersections = throttle(
      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);

  // Private properties.
  this._callback = callback;
  this._observationTargets = [];
  this._queuedEntries = [];
  this._rootMarginValues = this._parseRootMargin(options.rootMargin);

  // Public properties.
  this.thresholds = this._initThresholds(options.threshold);
  this.root = options.root || null;
  this.rootMargin = this._rootMarginValues.map(function(margin) {
    return margin.value + margin.unit;
  }).join(' ');
}


/**
 * The minimum interval within which the document will be checked for
 * intersection changes.
 */
IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;


/**
 * The frequency in which the polyfill polls for intersection changes.
 * this can be updated on a per instance basis and must be set prior to
 * calling `observe` on the first target.
 */
IntersectionObserver.prototype.POLL_INTERVAL = null;


/**
 * Starts observing a target element for intersection changes based on
 * the thresholds values.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.observe = function(target) {
  // If the target is already being observed, do nothing.
  if (this._observationTargets.some(function(item) {
    return item.element == target;
  })) {
    return;
  }

  if (!(target && target.nodeType == 1)) {
    throw new Error('target must be an Element');
  }

  this._registerInstance();
  this._observationTargets.push({element: target, entry: null});
  this._monitorIntersections();
};


/**
 * Stops observing a target element for intersection changes.
 * @param {Element} target The DOM element to observe.
 */
IntersectionObserver.prototype.unobserve = function(target) {
  this._observationTargets =
      this._observationTargets.filter(function(item) {

    return item.element != target;
  });
  if (!this._observationTargets.length) {
    this._unmonitorIntersections();
    this._unregisterInstance();
  }
};


/**
 * Stops observing all target elements for intersection changes.
 */
IntersectionObserver.prototype.disconnect = function() {
  this._observationTargets = [];
  this._unmonitorIntersections();
  this._unregisterInstance();
};


/**
 * Returns any queue entries that have not yet been reported to the
 * callback and clears the queue. This can be used in conjunction with the
 * callback to obtain the absolute most up-to-date intersection information.
 * @return {Array} The currently queued entries.
 */
IntersectionObserver.prototype.takeRecords = function() {
  var records = this._queuedEntries.slice();
  this._queuedEntries = [];
  return records;
};


/**
 * Accepts the threshold value from the user configuration object and
 * returns a sorted array of unique threshold values. If a value is not
 * between 0 and 1 and error is thrown.
 * @private
 * @param {Array|number=} opt_threshold An optional threshold value or
 *     a list of threshold values, defaulting to [0].
 * @return {Array} A sorted list of unique and valid threshold values.
 */
IntersectionObserver.prototype._initThresholds = function(opt_threshold) {
  var threshold = opt_threshold || [0];
  if (!Array.isArray(threshold)) threshold = [threshold];

  return threshold.sort().filter(function(t, i, a) {
    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {
      throw new Error('threshold must be a number between 0 and 1 inclusively');
    }
    return t !== a[i - 1];
  });
};


/**
 * Accepts the rootMargin value from the user configuration object
 * and returns an array of the four margin values as an object containing
 * the value and unit properties. If any of the values are not properly
 * formatted or use a unit other than px or %, and error is thrown.
 * @private
 * @param {string=} opt_rootMargin An optional rootMargin value,
 *     defaulting to '0px'.
 * @return {Array<Object>} An array of margin objects with the keys
 *     value and unit.
 */
IntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {
  var marginString = opt_rootMargin || '0px';
  var margins = marginString.split(/\s+/).map(function(margin) {
    var parts = /^(-?\d*\.?\d+)(px|%)$/.exec(margin);
    if (!parts) {
      throw new Error('rootMargin must be specified in pixels or percent');
    }
    return {value: parseFloat(parts[1]), unit: parts[2]};
  });

  // Handles shorthand.
  margins[1] = margins[1] || margins[0];
  margins[2] = margins[2] || margins[0];
  margins[3] = margins[3] || margins[1];

  return margins;
};


/**
 * Starts polling for intersection changes if the polling is not already
 * happening, and if the page's visibilty state is visible.
 * @private
 */
IntersectionObserver.prototype._monitorIntersections = function() {
  if (!this._monitoringIntersections) {
    this._monitoringIntersections = true;

    this._checkForIntersections();

    // If a poll interval is set, use polling instead of listening to
    // resize and scroll events or DOM mutations.
    if (this.POLL_INTERVAL) {
      this._monitoringInterval = setInterval(
          this._checkForIntersections, this.POLL_INTERVAL);
    }
    else {
      addEvent(window, 'resize', this._checkForIntersections, true);
      addEvent(document, 'scroll', this._checkForIntersections, true);

      if ('MutationObserver' in window) {
        this._domObserver = new MutationObserver(this._checkForIntersections);
        this._domObserver.observe(document, {
          attributes: true,
          childList: true,
          characterData: true,
          subtree: true
        });
      }
    }
  }
};


/**
 * Stops polling for intersection changes.
 * @private
 */
IntersectionObserver.prototype._unmonitorIntersections = function() {
  if (this._monitoringIntersections) {
    this._monitoringIntersections = false;

    clearInterval(this._monitoringInterval);
    this._monitoringInterval = null;

    removeEvent(window, 'resize', this._checkForIntersections, true);
    removeEvent(document, 'scroll', this._checkForIntersections, true);

    if (this._domObserver) {
      this._domObserver.disconnect();
      this._domObserver = null;
    }
  }
};


/**
 * Scans each observation target for intersection changes and adds them
 * to the internal entries queue. If new entries are found, it
 * schedules the callback to be invoked.
 * @private
 */
IntersectionObserver.prototype._checkForIntersections = function() {
  var rootIsInDom = this._rootIsInDom();
  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();

  this._observationTargets.forEach(function(item) {
    var target = item.element;
    var targetRect = getBoundingClientRect(target);
    var rootContainsTarget = this._rootContainsTarget(target);
    var oldEntry = item.entry;
    var intersectionRect = rootIsInDom && rootContainsTarget &&
        this._computeTargetAndRootIntersection(target, rootRect);

    var newEntry = item.entry = new IntersectionObserverEntry({
      time: now(),
      target: target,
      boundingClientRect: targetRect,
      rootBounds: rootRect,
      intersectionRect: intersectionRect
    });

    if (!oldEntry) {
      this._queuedEntries.push(newEntry);
    } else if (rootIsInDom && rootContainsTarget) {
      // If the new entry intersection ratio has crossed any of the
      // thresholds, add a new entry.
      if (this._hasCrossedThreshold(oldEntry, newEntry)) {
        this._queuedEntries.push(newEntry);
      }
    } else {
      // If the root is not in the DOM or target is not contained within
      // root but the previous entry for this target had an intersection,
      // add a new record indicating removal.
      if (oldEntry && oldEntry.isIntersecting) {
        this._queuedEntries.push(newEntry);
      }
    }
  }, this);

  if (this._queuedEntries.length) {
    this._callback(this.takeRecords(), this);
  }
};


/**
 * Accepts a target and root rect computes the intersection between then
 * following the algorithm in the spec.
 * TODO(philipwalton): at this time clip-path is not considered.
 * https://wicg.github.io/IntersectionObserver/#calculate-intersection-rect-algo
 * @param {Element} target The target DOM element
 * @param {Object} rootRect The bounding rect of the root after being
 *     expanded by the rootMargin value.
 * @return {?Object} The final intersection rect object or undefined if no
 *     intersection is found.
 * @private
 */
IntersectionObserver.prototype._computeTargetAndRootIntersection =
    function(target, rootRect) {

  // If the element isn't displayed, an intersection can't happen.
  if (window.getComputedStyle(target).display == 'none') return;

  var targetRect = getBoundingClientRect(target);
  var intersectionRect = targetRect;
  var parent = getParentNode(target);
  var atRoot = false;

  while (!atRoot) {
    var parentRect = null;
    var parentComputedStyle = parent.nodeType == 1 ?
        window.getComputedStyle(parent) : {};

    // If the parent isn't displayed, an intersection can't happen.
    if (parentComputedStyle.display == 'none') return;

    if (parent == this.root || parent == document) {
      atRoot = true;
      parentRect = rootRect;
    } else {
      // If the element has a non-visible overflow, and it's not the <body>
      // or <html> element, update the intersection rect.
      // Note: <body> and <html> cannot be clipped to a rect that's not also
      // the document rect, so no need to compute a new intersection.
      if (parent != document.body &&
          parent != document.documentElement &&
          parentComputedStyle.overflow != 'visible') {
        parentRect = getBoundingClientRect(parent);
      }
    }

    // If either of the above conditionals set a new parentRect,
    // calculate new intersection data.
    if (parentRect) {
      intersectionRect = computeRectIntersection(parentRect, intersectionRect);

      if (!intersectionRect) break;
    }
    parent = getParentNode(parent);
  }
  return intersectionRect;
};


/**
 * Returns the root rect after being expanded by the rootMargin value.
 * @return {Object} The expanded root rect.
 * @private
 */
IntersectionObserver.prototype._getRootRect = function() {
  var rootRect;
  if (this.root) {
    rootRect = getBoundingClientRect(this.root);
  } else {
    // Use <html>/<body> instead of window since scroll bars affect size.
    var html = document.documentElement;
    var body = document.body;
    rootRect = {
      top: 0,
      left: 0,
      right: html.clientWidth || body.clientWidth,
      width: html.clientWidth || body.clientWidth,
      bottom: html.clientHeight || body.clientHeight,
      height: html.clientHeight || body.clientHeight
    };
  }
  return this._expandRectByRootMargin(rootRect);
};


/**
 * Accepts a rect and expands it by the rootMargin value.
 * @param {Object} rect The rect object to expand.
 * @return {Object} The expanded rect.
 * @private
 */
IntersectionObserver.prototype._expandRectByRootMargin = function(rect) {
  var margins = this._rootMarginValues.map(function(margin, i) {
    return margin.unit == 'px' ? margin.value :
        margin.value * (i % 2 ? rect.width : rect.height) / 100;
  });
  var newRect = {
    top: rect.top - margins[0],
    right: rect.right + margins[1],
    bottom: rect.bottom + margins[2],
    left: rect.left - margins[3]
  };
  newRect.width = newRect.right - newRect.left;
  newRect.height = newRect.bottom - newRect.top;

  return newRect;
};


/**
 * Accepts an old and new entry and returns true if at least one of the
 * threshold values has been crossed.
 * @param {?IntersectionObserverEntry} oldEntry The previous entry for a
 *    particular target element or null if no previous entry exists.
 * @param {IntersectionObserverEntry} newEntry The current entry for a
 *    particular target element.
 * @return {boolean} Returns true if a any threshold has been crossed.
 * @private
 */
IntersectionObserver.prototype._hasCrossedThreshold =
    function(oldEntry, newEntry) {

  // To make comparing easier, an entry that has a ratio of 0
  // but does not actually intersect is given a value of -1
  var oldRatio = oldEntry && oldEntry.isIntersecting ?
      oldEntry.intersectionRatio || 0 : -1;
  var newRatio = newEntry.isIntersecting ?
      newEntry.intersectionRatio || 0 : -1;

  // Ignore unchanged ratios
  if (oldRatio === newRatio) return;

  for (var i = 0; i < this.thresholds.length; i++) {
    var threshold = this.thresholds[i];

    // Return true if an entry matches a threshold or if the new ratio
    // and the old ratio are on the opposite sides of a threshold.
    if (threshold == oldRatio || threshold == newRatio ||
        threshold < oldRatio !== threshold < newRatio) {
      return true;
    }
  }
};


/**
 * Returns whether or not the root element is an element and is in the DOM.
 * @return {boolean} True if the root element is an element and is in the DOM.
 * @private
 */
IntersectionObserver.prototype._rootIsInDom = function() {
  return !this.root || containsDeep(document, this.root);
};


/**
 * Returns whether or not the target element is a child of root.
 * @param {Element} target The target element to check.
 * @return {boolean} True if the target element is a child of root.
 * @private
 */
IntersectionObserver.prototype._rootContainsTarget = function(target) {
  return containsDeep(this.root || document, target);
};


/**
 * Adds the instance to the global IntersectionObserver registry if it isn't
 * already present.
 * @private
 */
IntersectionObserver.prototype._registerInstance = function() {
  if (registry.indexOf(this) < 0) {
    registry.push(this);
  }
};


/**
 * Removes the instance from the global IntersectionObserver registry.
 * @private
 */
IntersectionObserver.prototype._unregisterInstance = function() {
  var index = registry.indexOf(this);
  if (index != -1) registry.splice(index, 1);
};


/**
 * Returns the result of the performance.now() method or null in browsers
 * that don't support the API.
 * @return {number} The elapsed time since the page was requested.
 */
function now() {
  return window.performance && performance.now && performance.now();
}


/**
 * Throttles a function and delays its executiong, so it's only called at most
 * once within a given time period.
 * @param {Function} fn The function to throttle.
 * @param {number} timeout The amount of time that must pass before the
 *     function can be called again.
 * @return {Function} The throttled function.
 */
function throttle(fn, timeout) {
  var timer = null;
  return function () {
    if (!timer) {
      timer = setTimeout(function() {
        fn();
        timer = null;
      }, timeout);
    }
  };
}


/**
 * Adds an event handler to a DOM node ensuring cross-browser compatibility.
 * @param {Node} node The DOM node to add the event handler to.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to add.
 * @param {boolean} opt_useCapture Optionally adds the even to the capture
 *     phase. Note: this only works in modern browsers.
 */
function addEvent(node, event, fn, opt_useCapture) {
  if (typeof node.addEventListener == 'function') {
    node.addEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.attachEvent == 'function') {
    node.attachEvent('on' + event, fn);
  }
}


/**
 * Removes a previously added event handler from a DOM node.
 * @param {Node} node The DOM node to remove the event handler from.
 * @param {string} event The event name.
 * @param {Function} fn The event handler to remove.
 * @param {boolean} opt_useCapture If the event handler was added with this
 *     flag set to true, it should be set to true here in order to remove it.
 */
function removeEvent(node, event, fn, opt_useCapture) {
  if (typeof node.removeEventListener == 'function') {
    node.removeEventListener(event, fn, opt_useCapture || false);
  }
  else if (typeof node.detatchEvent == 'function') {
    node.detatchEvent('on' + event, fn);
  }
}


/**
 * Returns the intersection between two rect objects.
 * @param {Object} rect1 The first rect.
 * @param {Object} rect2 The second rect.
 * @return {?Object} The intersection rect or undefined if no intersection
 *     is found.
 */
function computeRectIntersection(rect1, rect2) {
  var top = Math.max(rect1.top, rect2.top);
  var bottom = Math.min(rect1.bottom, rect2.bottom);
  var left = Math.max(rect1.left, rect2.left);
  var right = Math.min(rect1.right, rect2.right);
  var width = right - left;
  var height = bottom - top;

  return (width >= 0 && height >= 0) && {
    top: top,
    bottom: bottom,
    left: left,
    right: right,
    width: width,
    height: height
  };
}


/**
 * Shims the native getBoundingClientRect for compatibility with older IE.
 * @param {Element} el The element whose bounding rect to get.
 * @return {Object} The (possibly shimmed) rect of the element.
 */
function getBoundingClientRect(el) {
  var rect;

  try {
    rect = el.getBoundingClientRect();
  } catch (err) {
    // Ignore Windows 7 IE11 "Unspecified error"
    // https://github.com/WICG/IntersectionObserver/pull/205
  }

  if (!rect) return getEmptyRect();

  // Older IE
  if (!(rect.width && rect.height)) {
    rect = {
      top: rect.top,
      right: rect.right,
      bottom: rect.bottom,
      left: rect.left,
      width: rect.right - rect.left,
      height: rect.bottom - rect.top
    };
  }
  return rect;
}


/**
 * Returns an empty rect object. An empty rect is returned when an element
 * is not in the DOM.
 * @return {Object} The empty rect.
 */
function getEmptyRect() {
  return {
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    width: 0,
    height: 0
  };
}

/**
 * Checks to see if a parent element contains a child elemnt (including inside
 * shadow DOM).
 * @param {Node} parent The parent element.
 * @param {Node} child The child element.
 * @return {boolean} True if the parent node contains the child node.
 */
function containsDeep(parent, child) {
  var node = child;
  while (node) {
    if (node == parent) return true;

    node = getParentNode(node);
  }
  return false;
}


/**
 * Gets the parent node of an element or its host element if the parent node
 * is a shadow root.
 * @param {Node} node The node whose parent to get.
 * @return {Node|null} The parent node or null if no parent exists.
 */
function getParentNode(node) {
  var parent = node.parentNode;

  if (parent && parent.nodeType == 11 && parent.host) {
    // If the parent is a shadow root, return the host element.
    return parent.host;
  }
  return parent;
}


// Exposes the constructors globally.
window.IntersectionObserver = IntersectionObserver;
window.IntersectionObserverEntry = IntersectionObserverEntry;

}(window, document));

let bottomKickParent = document.querySelector('.bottom-kick');

if (typeof(bottomKickParent) !== 'undefined' && bottomKickParent !== null) {
    let bottomKickPositionTop = bottomKickParent.getBoundingClientRect().top + window.pageYOffset;
    let bottomKickContainer = document.querySelector('.bottom-kick-container');
    window.addEventListener("scroll", fastScrollCheck, false);

    function fastScrollCheck() {
        if (window.pageYOffset >= bottomKickPositionTop) {
            bottomKickContainer.classList.remove('pinned');
        }
    }
}

if (!String.prototype.startsWith) {
    Object.defineProperty(String.prototype, 'startsWith', {
        value: function(search, rawPos) {
            var pos = rawPos > 0 ? rawPos|0 : 0;
            return this.substring(pos, pos + search.length) === search;
        }
    });
}
if (!Element.prototype.matches) {
	  Element.prototype.matches =
	    Element.prototype.msMatchesSelector ||
	    Element.prototype.webkitMatchesSelector;
	}

	if (!Element.prototype.closest) {
	  Element.prototype.closest = function(s) {
	    var el = this;

	    do {
	      if (Element.prototype.matches.call(el, s)) return el;
	      el = el.parentElement || el.parentNode;
	    } while (el !== null && el.nodeType === 1);
	    return null;
	  };
	}
	
var bottomKick = function(settings) {
    var getHeroPercent = function() {
        if(window.location.pathname && window.location.pathname.startsWith("/content/experience-fragments/")) {
            return 0;
        }
        var heroSection = $('.sectionpar').first();
        var heroPos = heroSection.offset().top + heroSection.height() ;
        return heroPos / $(document).height() * 100;
    };

    const scrollPositions = {
        afterHero: getHeroPercent(),
        scroll25: 25,
        scroll50: 50
    };

    if (typeof settings === 'undefined') {
        settings = {
            delay: 1000,
            pageloadDelay: 3000,
            scrollPosition: scrollPositions.afterHero
        }
    }
    
        var bottomKick = document.querySelector('.bottom-kick-container'),
            bottomKickParent = document.querySelector('.bottom-kick'),
            bottomKickBar = document.querySelector('.bottom-kick__bar'),
            bottomKickButtonWrapper = document.querySelector('.bottom-kick__bar-wrapper'),
            bottomKickButton = document.querySelector('.bottom-kick__btn-wrapper'),
            bottomKickButtonArrow = document.querySelector('.bottom-kick__btn-arrow'),
            bottomKickContent = document.querySelector('.bottom-kick__content'),
            bottomKickOverlay = document.querySelector('.bottom-kick__overlay'),
            bottomKickLabel = document.querySelector('.bottom-kick__bar-label'),
            bottomKickBodyElement = document.querySelector('body'),
            bottomKickHideButton = document.getElementById('bottom-kick__btn-hide'),
            bottomKickSection = document.querySelector('.bottom-kick-container').closest('section');

        bottomKickHideButton.addEventListener('click', hideBottomKick);
    
        // Calculate height of Bottom kick elements
        var bottomKickContentHeight = bottomKickContent.getBoundingClientRect().height,
            bottomKickBarHeight = bottomKickBar.getBoundingClientRect().height;

        var expanded = false,
            pinned = false,
            hidden = false;

        // Scroll behaviour
        function handler(entries, observer) {
            if(!expanded) {
            entries.forEach(function(entry) {
                // Calculate bottom kick position on page
                var bottomKickPositionTop = bottomKickParent.getBoundingClientRect().top + window.pageYOffset;

                // Bottom kick is fixed at the bottom of the screen
                if (entry.intersectionRatio >= 1 || (window.pageYOffset >= bottomKickPositionTop)) {
                    pinned = false;
                    bottomKick.classList.remove('pinned');

                    if (window.innerWidth <= 768) {
                        bottomKickButton.classList.add('bottom-kick__btn-wrapper--hidden');
                    } else {
                        if (bottomKickButton.classList.contains('bottom-kick__btn-wrapper--unrotate')) {
                            bottomKickButton.classList.remove('bottom-kick__btn-wrapper--unrotate');
                        }
                        bottomKickButton.classList.add('bottom-kick__btn-wrapper--rotate');
                        bottomKickButton.setAttribute('title', 'Message notifying user the expand/collapse functionality is now removed');
                    }
                    
                    bottomKick.style.bottom = 0;
                    bottomKick.style.top = '-' + bottomKickBarHeight + 'px';

                    expanded = false;

                    bottomKickButtonWrapper.disabled = true;

                    bottomKickParent.style.height = bottomKickBarHeight;

                    bottomKickParent.style.marginTop = bottomKickBarHeight + 'px';
                    //bottomKickParent.parentElement.style.marginBottom = (bottomKickContentHeight + bottomKickBarHeight) + 'px';
                    bottomKickSection.style.marginBottom = bottomKickContentHeight + 'px';
                    bottomKickOverlay.classList.remove('bottom-kick__overlay-show');

                    bottomKickOverlay.removeEventListener('click', toggleBottomKick);
                    bottomKickButtonWrapper.removeEventListener('click', toggleBottomKick);

                // Bottom kick is part of the page flow
                } else {
                    pinned = true;
                    bottomKick.classList.add('pinned');

                    bottomKick.style.bottom = 0;
                    bottomKick.style.top = 'auto';


                    if (window.innerWidth <= 768) {
                        bottomKickButton.classList.remove('bottom-kick__btn-wrapper--hidden');
                    } else {
                        if (bottomKickButton.classList.contains('bottom-kick__btn-wrapper--rotate')) {
                            bottomKickButton.classList.add('bottom-kick__btn-wrapper--unrotate');
                        }
                        bottomKickButton.classList.remove('bottom-kick__btn-wrapper--rotate');
                        bottomKickButton.removeAttribute('title');
                    }

                    bottomKickButtonWrapper.disabled = false
                    
                    bottomKickOverlay.addEventListener('click', toggleBottomKick);
                    bottomKickButtonWrapper.addEventListener('click', toggleBottomKick);
                    
                    if (!expanded) {
                        calculateContent(bottomKickContentHeight);
                    } 
                    else {
                        bottomKickParent.style.height = (bottomKickContentHeight + bottomKickBarHeight) + 'px';
                    }

                }
            });
        }
        }

        var observerOptions = {
            threshold: [0, 1] 
        }

        var observer = new IntersectionObserver(handler, observerOptions);
        observer.observe(bottomKickParent);

        // Show/hide behaviour of bar
        function toggleBottomKick() {
            if (!expanded) {

                bottomKick.classList.add('expanded');
                bottomKickParent.classList.add('bottom-kick--open');
                if (bottomKickParent.classList.contains('bottom-kick--closed')) {
                    bottomKickParent.classList.remove('bottom-kick--closed');
                }
                expanded = true;
                hidden = false;

                calculateExpand(bottomKickContentHeight);

                bottomKickOverlay.classList.add('bottom-kick__overlay-show');
                bottomKickButtonArrow.classList.add('bottom-kick__btn-arrow--rotate');

                bottomKickBodyElement.style.overflow = 'hidden';

            } else {
                expanded = false;                
                
                bottomKick.classList.remove('expanded');
                bottomKickParent.classList.add('bottom-kick--closed');
                if (bottomKickParent.classList.contains('bottom-kick--open')) {
                    bottomKickParent.classList.remove('bottom-kick--open');
                }
                bottomKick.removeAttribute("style");

                calculateContent(bottomKickContentHeight);

                bottomKickOverlay.classList.remove('bottom-kick__overlay-show');
                bottomKickButtonArrow.classList.remove('bottom-kick__btn-arrow--rotate');
                
                bottomKickBodyElement.style.overflow = 'auto';


            }
        }

        function hideBottomKick(){
            hidden = true;
            expanded = true;
            toggleBottomKick();
        }

        function calculateContent() {
            var hideOffset = hidden ? 52 : 0;
            bottomKickContentHeight = bottomKickContent.getBoundingClientRect().height + hideOffset;
            bottomKick.style.bottom =  -bottomKickContentHeight + 'px';
        }

        function calculateExpand(bottomKickContentHeight) {
            bottomKick.style.webkitTransform = 'translate3d(0, -' + bottomKickContentHeight + 'px, 0)';
            bottomKick.style.transform = 'translate3d(0, -' + bottomKickContentHeight + 'px, 0)';
        }

        function calculateUnpinned(bottomKickBarHeight) {
            bottomKickContentHeight = bottomKickContent.getBoundingClientRect().height;
            bottomKick.style.bottom = 0;
            bottomKick.style.top = -bottomKickBarHeight + 'px';

            bottomKickParent.style.marginTop = bottomKickBarHeight + 'px';
            //bottomKickParent.parentElement.style.marginBottom = (bottomKickContentHeight + bottomKickBarHeight) + 'px';
            bottomKickSection.style.marginBottom = bottomKickContentHeight + 'px';
        }

        var rafTimer;
        function debounceResize() {
            cancelAnimationFrame(rafTimer);
            rafTimer = requestAnimationFrame(function() {

                bottomKickContentHeight = bottomKickContent.scrollHeight > bottomKickContent.getBoundingClientRect().height ? bottomKickContent.scrollHeight : bottomKickContent.getBoundingClientRect().height;
                bottomKickBarHeight = bottomKickBar.getBoundingClientRect().height;

                if (!pinned) {
                    calculateUnpinned(bottomKickBarHeight, bottomKickContentHeight);
                } else {
                    if (!expanded) {
                        calculateContent(bottomKickContentHeight);                 
                    } else {
                        calculateContent(bottomKickContentHeight);  
                        bottomKick.style.webkitTransform = 'translate3d(0, -' + bottomKickContentHeight + 'px, 0)';
                        bottomKick.style.transform = 'translate3d(0, -' + bottomKickContentHeight + 'px, 0)';
                    }
                }

            });
        }

        // Delay showing the Bottom kick:
        // a) after the user has started scrolling, after a certain no. of secs have elapsed (scrollDelay)
        // b) OR after a certain no. of secs have elapsed since the page has loaded (pageloadDelay)

        // var scrollDelay = typeof settings.delay === 'number' ? settings.delay : 1000;
        // var pageloadDelay = typeof settings.pageloadDelay === 'number' ? settings.pageloadDelay : 3000;
        var scrollDelay = settings.delay;
        var pageloadDelay = settings.pageloadDelay;
        var scrollPosition = scrollPositions[settings.scrollPosition];

        var pageLoadTimeOut;

        window.addEventListener('scroll', showBottomKickOnScroll, false);

        function showBottomKickOnScroll() {
            //window.removeEventListener('scroll', showBottomKickOnScroll, false);
            var top = (window.pageYOffset || document.documentElement.scrollTop);
            var docHeight = $(document).height();

            if (top / docHeight * 100 >= scrollPosition){
                window.removeEventListener('scroll', showBottomKickOnScroll, false);
                animateBottomKickIn();
            }
//            clearTimeout(pageLoadTimeOut)
//            setTimeout(function() {
//                animateBottomKickIn();
//            }, scrollDelay);
        }

        function animateBottomKickIn() {
            var rafAnim = window.requestAnimationFrame(function() {
                document.querySelector('.bottom-kick__wrapper').classList.remove('bottom-kick--invisible');
            })
        }

        function handleVisibilityChange() {
            if (scrollPosition >= 0) return; //When scroll % is enabled page load Delay is not used.

            if (!document.hidden) {
                pageLoadTimeOut = setTimeout(function() {
                    window.removeEventListener('scroll', showBottomKickOnScroll, false);
                    animateBottomKickIn();
                }, pageloadDelay);
            }
        }
        // if document isn't hidden, start the timer to show the Bottom kick:
        handleVisibilityChange();
        // if document goes from being hidden to shown:
        document.addEventListener('visibilitychange', handleVisibilityChange, false);
        
        // Recalculate sizes on browser resize or orientation change
        window.addEventListener('resize', debounceResize, false);
        window.addEventListener('orientationchange', debounceResize, false);


        // On pageload the Bottom kick shows for a brief second while the JavaScript runs
        // calculations. To avoid this, on pageload it is set to opacity 0 (when pinned) with the
        // class name '.bottom-kick--hide'.
        // This setTimeout ensures that the Bottom kick is set to opacity 1 only after all the
        // calculations have been run.
        setTimeout(function() {
            bottomKick.classList.remove('bottom-kick--hide');
        }, 100)

};
var updateBottomKickMargin = function(){
    const bottomKickSection = document.getElementById('bottom-kick');
    bottomKickSection.style.marginBottom = bottomKickSection.querySelector('.bottom-kick__content')?.getBoundingClientRect().height + 'px'; 
};
window.addEventListener('load', function () {
    const bottomKickSection = document.getElementById('bottom-kick');
    if(bottomKickSection){
        const subtmitBtn= bottomKickSection.getElementsByClassName("mod-form-submit");
        if(subtmitBtn && subtmitBtn[0])
            subtmitBtn[0].addEventListener("click", updateBottomKickMargin);
    }
});
window.formStartEvent = true;
$(document).ready(function(){    
    var onlineFormStart = function() {		
        $(this).closest('form').find('input').off('focus', onlineFormStart);
        $(this).closest('form').find('select').off('change', onlineFormStart);
        $(this).closest('form').find('textarea').off('focus', onlineFormStart);
        $(this).closest('form').find('input:radio,input:checkbox').off('change', onlineFormStart);
        var formHeading = $(this).closest('form').find('.form-heading ').text();		
        createObject('form.formName',formHeading);		
	}	

    var onlineFormClick = function() {		
        var fieldId = $(this).attr('id');		
        var fieldName = fieldId.substr(0, fieldId.indexOf('_'));
        if(this.type == 'checkbox' || this.type == 'file' || this.type == 'radio' || $(this).is('select')){
            fieldName = fieldId.substr(fieldId.lastIndexOf('_')+1);
        }
        if(formStartEvent){
            createObject('form.events','start');        
            formStartEvent = false;
        }else{
            createObject('form.events','');
        }
        createObject('form.formField',fieldName);
        if($(this).parents("section#bottom-kick-isection").length > 0)
            createObject("form.formType","bottom-kick");
        else
            createObject("form.formType","online");

    }	
    $('.pwcFormLongform input,.pwcFormLongform select,.pwcFormLongform textarea').on('focus', onlineFormStart);
    $('.pwcFormLongform select').on('change', onlineFormStart);
	$('.pwcFormLongform input:radio,.pwcFormLongform input:checkbox,.pwcFormLongform select').on('change', onlineFormClick);
    $('.pwcFormLongform input:text,.pwcFormLongform textarea').on('focus', onlineFormClick);

});

/*******************************************************************************
 * Copyright 2018 Adobe Systems Incorporated
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "tabs";

    var keyCodes = {
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" +  NS + '-is="' + IS + '"]',
        active: {
            tab: "active",
            tabpanel: "cmp-tabs__tabpanel--active"
        }
    };
    
    /**
     * Tabs Configuration
     *
     * @typedef {Object} TabsConfig Represents a Tabs configuration
     * @property {HTMLElement} element The HTMLElement representing the Tabs
     * @property {Object} options The Tabs options
     */

    /**
     * Tabs
     *
     * @class Tabs
     * @classdesc An interactive Tabs component for navigating a list of tabs
     * @param {TabsConfig} config The Tabs configuration
     */
    function Tabs(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Tabs
         *
         * @private
         * @param {TabsConfig} config The Tabs configuration
         */
        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            cacheElements(config.element);
            that._active = getActiveIndex(that._elements["tab"]);

            if (that._elements.tabpanel) {
                refreshActive();
                bindEvents();
            }

            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Tabs component
                 * - if so, route the "navigate" operation to enact a navigation of the Tabs based on index data
                 */
                new window.Granite.author.MessageChannel("cqauthor", window).subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-tabs" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Returns the index of the active tab, if no tab is active returns 0
         *
         * @param {Array} tabs Tab elements
         * @returns {Number} Index of the active tab, 0 if none is active
         */
        function getActiveIndex(tabs) {
            if (tabs) {
				if($(that._elements.self).hasClass("summaryexplorerv2")){
					selectors.active.tab = "cmp-tabs__tab--active";
				}
				else{
					selectors.active.tab = "active";
				}
                for (var i = 0; i < tabs.length; i++) {
                    if (tabs[i].classList.contains(selectors.active.tab)) {
                        return i;
                    }
                }
            }
            return 0;
        }

        /**
         * Caches the Tabs elements as defined via the {@code data-tabs-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Tabs wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
            //Polyfill for IE (some IE versions does not suppoert .closest method)
                if (!Element.prototype.matches) {
                    Element.prototype.matches = Element.prototype.msMatchesSelector || 
                    Element.prototype.webkitMatchesSelector;
                    }
                    if (!Element.prototype.closest) {
                        Element.prototype.closest = function(s) {
                            var el = this;
                            do {
                                if (Element.prototype.matches.call(el, s)) return el;
                                el = el.parentElement || el.parentNode;
                                } while (el !== null && el.nodeType === 1);
                                return null;
                                };
                                }
            // Polyfill for IE END
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own tab elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Binds Tabs event handling
         *
         * @private
         */
        function bindEvents() {
            var tabs = that._elements["tab"];
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    (function(index) {
                        tabs[i].addEventListener("click", function(event) {
                            navigateAndFocusTab(index);
                        });
                        tabs[i].addEventListener("keydown", function(event) {
                            onKeyDown(event);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles tab keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["tab"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusTab(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusTab(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusTab(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusTab(lastIndex);
                    break;
                default:
                    return;
            }
        }

        /**
         * Refreshes the tab markup based on the current {@code Tabs#_active} index
         *
         * @private
         */
        function refreshActive() {
            var tabpanels = that._elements["tabpanel"];
            var tabs = that._elements["tab"];
			if($(that._elements.self).hasClass("summaryexplorerv2")){
					selectors.active.tab = "cmp-tabs__tab--active";
				}
				else{
					selectors.active.tab = "active";
				}
            if (tabpanels) {
                if (Array.isArray(tabpanels)) {
                    for (var i = 0; i < tabpanels.length; i++) {
                        if (i === parseInt(that._active)) {
                            tabpanels[i].classList.add(selectors.active.tabpanel);
                            tabpanels[i].removeAttribute("aria-hidden");
                            refreshIndexList(tabpanels[i]);
                            tabs[i].classList.add(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", true);
                            tabs[i].setAttribute("tabindex", "0");

                            tabpanels[i].classList.add("active");
                            resizeCollection(tabpanels[i]);
                        } else {
                            tabpanels[i].classList.remove(selectors.active.tabpanel);
                            tabpanels[i].setAttribute("aria-hidden", true);
                            tabs[i].classList.remove(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", false);
                            tabs[i].setAttribute("tabindex", "-1");

                            tabpanels[i].classList.remove("active");
                        }
                    }
                } else {
                    // only one tab
                    tabpanels.classList.add(selectors.active.tabpanel);
                    tabs.classList.add(selectors.active.tab);

                    tabpanels.classList.add("active");
                }
            }
        }

        function resizeCollection(tabPanel) {
            const isCollectionExist = tabPanel && tabPanel.querySelector(".collection-v2") || tabPanel.querySelector(".collection-v3");
            if (isCollectionExist) {
                window.dispatchEvent(new Event('resize'));
            }
        }
        
        function refreshIndexList(activetabPanel){
            if(activetabPanel && $(activetabPanel) && $(activetabPanel).find(' .link-index__content')){
    			$(activetabPanel).find(' .link-index__content').isotope('layout');
            }
        }

        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Navigates to the tab at the provided index
         *
         * @private
         * @param {Number} index The index of the tab to navigate to
         */
        function navigate(index) {
            that._active = index;
            refreshActive();
        }

        /**
         * Navigates to the item at the provided index and ensures the active tab gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         */
        function navigateAndFocusTab(index) {
            navigate(index);
            focusWithoutScroll(that._elements["tab"][index]);
        }
    }

    /**
     * Reads options data from the Tabs wrapper element, defined via {@code data-cmp-*} data attributes
     *
     * @private
     * @param {HTMLElement} element The Tabs element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Tabs components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Tabs({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Tabs({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

}());

function getSizes(divisionNumber) {
    var itemSizeInt = $('.summary-explorerv2__tabs-column').outerWidth();
    for (var i = 0; i < $('.summary-explorerv2__tabs-column').length; i++) {
        var itemsLength = $($('.summary-explorerv2__tabs-column')[i]).find('.cmp-tabs__tab').length;
        var itemSize = itemSizeInt / divisionNumber;
        var menuSize = itemsLength * itemSize;
        $($('.summary-explorerv2__link-listing')[i]).width(menuSize);
        $($('.summary-explorerv2__tabs-column')[i]).find('.cmp-tabs__tab').outerWidth(itemSize);
    }
}

if (window.matchMedia("(max-width: 767px)").matches) {
    getSizes(2);
}

if (window.matchMedia("(min-width : 768px) and (max-width: 1199px)").matches) {
    getSizes(4);
}
$(document).ready(function() {
    $('.cm-form-text-mod__text ,.cm-form-text-mod__textarea').bind('blur', function (event) {
		 if(this.dataset){
			 onlineformValidation(this,this.dataset.cmpConstraintRequired,this.dataset.cmpConstraintMsg,this.dataset.cmpConstraintType);
		 }
	})
    $("form").each(function() {
        updateForm(this);
    }); 
    $(".mod-form-cancel").click(function(e){
        e.preventDefault();
        history.back();
    });
    
    $(".mod-form-reset").click(function(e){
    	var form = e.target.closest('form');
    	var captchaDiv= $(form).find(".mod-googleCaptcha");
    	var response= $(form).find(".g-recaptcha-response");
    	
    	if (captchaDiv && captchaDiv.length &&  
            response && response.length )
    	{
    		grecaptcha.reset();
    	}
    	location.reload();
    });
    

    function updateForm(form) {
        if (form) {
            var xfid = $(form).data('xf');
            if (xfid && xfid.length) {
                var formpicker = $('[data-xfid="' + xfid + '"]');
                if (formpicker.length) {
                    var startPath = formpicker.data('formstartpath');
                    var id = formpicker.data('formid');
                    var action = formpicker.data('action');
                    var formName = formpicker.data('formname');
                    var formType = formpicker.data('onlineformtype');
                    var locale = formpicker.data('locale');
                    var thankustyle = formpicker.data('thankustyle');
                    var eventLocation = formpicker.data('eventlocation');
                    var eventStartDate = formpicker.data('eventstartdate');
                    var sendViaApi = formpicker.data('sendviaapi');
                    var eventType = formpicker.data('eventtype');
                    if(eventType === "eventForm" && eventLocation !== "" && eventStartDate !== "" && eventLocation !== undefined && eventStartDate !== undefined ){
                           $(form).find(".mod-form-xf-eventLocation").html("<strong>Location: </strong>" + eventLocation);
                           $(form).find(".mod-form-xf-eventStartDate").html("<strong>Date: </strong>" + eventStartDate);
                           $(form).find(".mod-form-xf-eventLocation").removeClass('hidden');
                           $(form).find(".mod-form-xf-eventStartDate").removeClass('hidden');
                    }
                    
                    //BK default message
					var thankustyleT = formpicker.data("thankustyle-t"),
                        thankustyleB = formpicker.data("thankustyle-b"),
                        thankustyleR = formpicker.data("thankustyle-r"),
                        thankustyleF = formpicker.data("thankustyle-f"),
                        thankustyleD = formpicker.data("thankustyle-d");
                    if ("bottomKick" === formType && !thankustyleD) {
                        $(form).find(".mod__formack_t").text(thankustyleT);
                        $(form).find(".mod__formack_f").text(thankustyleF);
                        $(form).find(".mod__formack_b").html(thankustyleB + "<strong>" + thankustyleR + " " + "<span class=\"modreferenceId\">\"refID\"</span></strong>");
                    }
                    
                    var formheading = formpicker.data('formheading');
                    var formintro = formpicker.data('formintro');
                    $(form).find(".mod-form-xf-heading").text(formheading);
                    $(form).find(".mod-form-xf-intro").text(formintro);

                    if ($(form).find("input[name=\\:formStartPath]").length) {
                        $(form).find("input[name=\\:formStartPath]").val(startPath);
                    }
                    if ($(form).find("input[name=\\:formid]").length) {
                        $(form).find("input[name=\\:formid]").val(id);
                    }
                    if ($(form).find("input[name=formName]").length) {
                        $(form).find("input[name=formName]").val(formName);
                    }
                    if ($(form).find("input[name=\\:formstart]").length) {
                        $(form).find("input[name=\\:formstart]").val(startPath);
                    }
                    if ($(form).find("input[name=formstart]").length) {
                        $(form).find("input[name=formstart]").val(startPath);
                    }
                    if ($(form).find("input[name=locale]").length) {
                        $(form).find("input[name=locale]").val(locale);
                    }
                    if ($(form).find("input[name=formType]").length) {
                        $(form).find("input[name=formType]").val(formType);
                    }
                    if ($(form).find("input[name=sendViaApi]").length) {
                        $(form).find("input[name=sendViaApi]").val(sendViaApi);
                    }
                    if ($(form).find("input[name=pwcFormFieldOrder]").length) {
                        $(form).find("input[name=pwcFormFieldOrder]").val(getElementOrder(form,id));
                    }
                    $(form).attr("action", action + ".html");
                    $(form).attr("id", id);
                    $(form).attr("name", id);
                    
                    if(1 === $(form).find(".flex-item.flex__item_c div.cmp-container").length){
                    	$(form).find(".flex-item.flex__item_c div.cmp-container").addClass("formPar");
                    }
                    
                    try {
                    	if($(form).closest(".bottom-kick__content")){
                    		$(form).find(".dropdownLongform, .countryDropdownLongform, .textLongform, .radioLongform, .jobFunctionDropdown, .jobRoleDropdown, .checkboxLongformSingle, .checkboxLongform").addClass("section");
                    	}
					} catch (e) {
					}
					
                    $(form).find(".mod-form-submit").on("click", function(e){
						var cdpEnabled = $(this).hasClass("cdpEnabled") ? true : false;
                        var toBeFocused;
                        var isFirst = false;
                        checkcaptcha(form);
                        if(!validateFileUploadSize(form)){
                        	return false;
                        }

                        $(form).find(".pwc-forms__field .form-control,input[type='checkbox'],input[type='radio']").each(function(){
                            var required = $(this).attr("aria-required");
                            if(undefined === required){
                            	required = $(this).attr("required");
                            	if("required" === required){
                            		required = "true";
                            	}
                            }
                            if (required == " ") {
                                return false;
                            }
                            if(($(this).closest(".pwc-forms__field") && "true" === required && !$(this).closest(".pwc-forms__field").hasClass("has-success"))){
                                $(this).blur();
                                if(!isFirst){
                                    toBeFocused = $(this);
                                    isFirst = true;
                                }
                            }
                        })
                        if(!isValidAemCaptcha(form)){
                        	var captchaError=$(form).find(".form_row.form-group").attr('data-error');
                        	$(form).find(".form_row.form-group p").remove();
                            $(form).find(".form_row.form-group label").after('<p class="help-block" id="visitor-captcha_rightcolHelp" style="display: block;"><strong> Error: '+captchaError+'</strong> </p>');
                            $(form).find(".form_row.form-group").addClass("has-error");

                            return false;
                        }

                        if(toBeFocused != undefined && toBeFocused){
                            $(toBeFocused).first().focus();
                        }
                        if($(form).find(".pwc-forms__field") && $(form).find(".pwc-forms__field").hasClass("has-error")) {
                        // do nothing
                        }
                        else {
							if(currentPageTerritory === "us" || currentPageTerritory === "mx"){
								if(typeof window.doCustomSubmit === "function"){
									window.doCustomSubmit();
								}
							}
							if(cdpEnabled){
								$('.form-control.cdpAttribute').each(function(){
									var cdpKey = $(this).attr("data-cdp-attribute");
									var cdpValue = $(this).val();
									if(cdpValue){
										createObject(cdpKey,cdpValue);
									}
								});
							}
                            if(thankustyle === "inline"){
                                 formSubmit($(form),action,formpicker);
                             }
                            else {
                                 $(form).submit();
                            }
                        }
                    });
                }
            }
        }
    }

    function validateFileUploadSize(form){
    	var uploadValidateCheck = true;
    	if(form){
    		var allUploads = $(form).find("input[type=file]");
            var errorElemId;
    		if(allUploads){
    			allUploads.each(function(){
    	            var uploadElem = $(this);
    	            if(uploadElem[0].files[0] && uploadElem[0].files[0].size > 10240000){
    	                errorElemId = $(this).attr('id');
    	                uploadValidateCheck = false;
    	                return false;
    	            }
    	        });
	    	if(uploadValidateCheck == false){
	    	    $("#"+errorElemId).focus();
	    	    return false
	         }
    		}
    	}
    	return uploadValidateCheck;
    }

    function formSubmit(form,pagePath,formpicker){
    	 var selectorData = $("#"+form.attr('id'))[0];
         trimEmailFieldValue(form);
         var formData = new FormData(selectorData);
         if (formData.has("email")){
            const email = formData.get("email")?.trim();
            formData.delete("email");
            formData.append("email", email);
         }
		 formData.append("formid",formpicker.data('formid'));
         formData.append("pagePath",encodeURI(pagePath));
		 formData.append("eventType",formpicker.data('eventtype'));
       $.ajax({
             type: "POST",
             url: form.attr('action'),
             data: formData,
             contentType: false,
             processData: false
         }).done(function(data){
          showHide(formpicker,data);
         }).fail(function(err){
        	 showError(formpicker);
         });
     }

     function trimEmailFieldValue(form) {
        const emails = form.find('input[data-cmp-constraint-type*=email]');
        if (emails.length) {
            emails.each(function() {
                var emailValue = $(this).val();
                $(this).val(emailValue.trim());
            });
        }
     }

    function showHide(formpicker,data){
    	if(data && undefined != data.refID && data.refID != ""){
    		var ack = $(formpicker).parent().find(".modreferenceId");
    		var thanks = $(formpicker).parent().find(".mod-thankyou");
    		var toShow = $(formpicker).parent().find(".refid");
    		var toHide = $(formpicker).parent().find(".mod-onlineformstart");
    		if(ack && toShow && toHide){
    			$(ack).text(data.refID);
    			$(toShow).removeClass("hidden");
    			$(thanks).removeClass("hidden");
    			$(toHide).addClass("hidden");
    			$('html, body').animate({
    				scrollTop: toShow.offset().top-100
    			}, 2000);
    		}
    	}else{
    		showError(formpicker);
    	}
    }

    function showError(formpicker){
    	var ack = $(formpicker).parent().find(".mod-form-error");
    	if(ack){
    		$(ack).removeClass("hidden");
    		$('html, body').animate({
    			scrollTop: ack.offset().top-100
    		}, 2000);
    	}

}

    function getElementOrder (form,id){
     var onlineForm = $('#'+id);
        var fields = $(form).find(":input:not(input[type=button],input[type=submit],input[type=reset],button,input[name=':cq:captcha']):visible", onlineForm);
        var hiddenInput = $(form).find(".mod__hidden_i");
        var fieldNames = [];
        fields.each(function(){
       fieldNames.push($(this).attr('name'));
        });
        if(undefined != hiddenInput && hiddenInput.length > 0){
        	hiddenInput.each(function(){
            fieldNames.push($(this).attr('name'));
           });
        }
        return fieldNames.join();
    }

    function checkcaptcha (form){
    	var captchaDiv= $(form).find(".mod-googleCaptcha");
    	var response= $(form).find(".g-recaptcha-response");
    	var helpBlock = $(form).find('.captcha_rightcolHelp');
    	var key =  $(form).find('.mod-googlecaptchakey');
    	
    	if (captchaDiv && captchaDiv.length &&  
            response && response.length && response.val().length==0)
    	{
    		captchaDiv.removeClass("has-success");
    		captchaDiv.addClass('has-error');

    		if(helpBlock) helpBlock.css('display','block');
    		if(key)   key.addClass('form-control form-control--textarea-wrapper g-recaptcha');
    	}
    	if (captchaDiv && captchaDiv.length &&  
    			response  && response.length && response.val().length>0){
    		captchaDiv.removeClass("has-error");
    		captchaDiv.addClass('has-success');

    		if(helpBlock) helpBlock.css('display','none');
    		if(key)   key.addClass('form-control form-control--textarea-wrapper g-recaptcha');
    	}
    }
    
    function isValidAemCaptcha(form) {
        var isValid = true;
       var captchaKey = $(form).find(".mod-captcha-key");
        if (captchaKey.length > 0) {
            var data = {
                captchatry: $(form).find(".form_captcha_input input").val().trim(),
                captchakey: $(form).find(".mod-captcha-key").val().trim()
            };

            $.ajax({
                type: "GET",
                url: "/bin/validateAemCaptcha",
                data: data,
                async: false,
                dataType: "text",
                success: function (result, textStatus) {
                    if (result == 'invalid') {
                        isValid = false;
                    }
                },
                error: function (xhr, status, error) {
                }
            });
        }
        return isValid;
    }
});
$(function() {
    if(typeof $('.slimheader-v2') !== 'undefined' && $('.slimheader-v2').length > 0) {
        slimnav2.init();
    }
});

function windowWidth() {
    var winWidth = window.innerWidth
    || document.documentElement.clientWidth
    || document.body.clientWidth;

    return winWidth;
}

var slimnav2 = (function() {
    "use strict";

    var _checkPass = false;
    var _timer = 10;
    var _rtime;
    var _navItemLimit;
    var _parentEl;
    var _isFocused;
    var _breadCrumbs = {};
    var _resize;

    //Main Nav elems
    var _slideEl = {},
    _navLevel2 = {},
    _navLevel3 = {};
    var _activeNavPrimary;

    // init ----------------------------------------------------
    var initialize = function() {
        _parentEl = $('.headerv2-container');
        _resize = setResize();
        _slideEl = $('.slimheader-sublevel-slide'),
        _navLevel2 = $('.slimnav-level2'),
        _navLevel3 = $('.slimnav-level3');

        _setActiveNav();
        _breadcrumbInit();
        _handlers();
        _cookieConsentWrapperHandler();
    }

        // esc key mega menu close
        window.onkeydown = function( event ) {
            if ( event.keyCode == 27 ) {
                 _parentEl.removeClass('headerv2--dark');
                 _slideEl.removeClass('active');
                 $('.slim-navigation .nav-primary a').addClass('no-before');
            }
        };


    var _cookieConsentWrapperHandler = function(){
        if($('#cookieWrapper').length)
        $('#skipNav').detach().insertAfter('#cookieWrapper'); // Make sure cookie banner comes before skip-content
        else
            $('#skipNav').detach().prependTo('body'); // Make sure skip elements are first thing in the body.

        var firstContentId = $('body section').not('#explore').not('#header').attr("id"); // Explore component to be ignored.
        $("#skipToContent").attr('href', '#' + firstContentId);

        if($('#footerlinks').length)
            $('#skipToFooter').attr('href', '#footerlinks');
        else if($('#pgFooter').length)
            $('#skipToFooter').attr('href', '#pgFooter');
        else
            $('#skipToFooter').attr('href', '#');
    }

    //Need to be remove coming fron navigationv2js
    var _breadcrumbInit = function() {
        if($('.slimnav-breadcrumb').length > 0) {
            _breadCrumbs = $('.slimnav-v2-breadcrumbs a');

            setTimeout(function() {
                _resize.breadcrumbResize();
                $('.slimnav-breadcrumb').addClass('is-visible');
            }, 300);

            $('.slimnav-v2-bc-toggle').on('click', function() {
                $('.slimnav-breadcrumb').toggleClass('breadcrumbs-show-all');
                _resize.breadcrumbResize();
            });
        }
    }


    var _setActiveNav = function() {
        $('.nav-primary a').each(function() {
        	if($(this).attr('link-href') === $('link[rel="canonical"]').attr('href')) {
                $(this).addClass('is-active');
                _activeNavPrimary = $(this);
            }
        });

        $('.slimheader-sublevel-slide nav a').each(function() {
        	if($(this).attr('link-href') === $('link[rel="canonical"]').attr('href')) {
                $(this).addClass('is-active');
            }
        });
    }

    //utilities
    $.fn._overflown=function(){var e=this[0];return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;}

    var _resizeend = function() {
        if (new Date() - _rtime < _timer) {
            setTimeout(_resizeend, _timer);
        } else {
            _checkPass = false;
        }
    }

    // open Level2 nav ---------------------------------------------
     var _navLevelTwo = function() {
        _navLevel3.removeClass('is-active');
        _navLevel2.addClass('is-active');
        _parentEl.addClass('headerv2--dark');
        _parentEl.css('margin-bottom', $('.slimnav-breadcrumb').outerHeight() + 'px')
        $('html').addClass('disable-scroll-mobile');
        var curLevel = _parentEl.attr('data-current-level');

        if(windowWidth() < 992) {
            if(curLevel === "3") {
                _slideEl.addClass('active');
                _slideEl.attr('data-nav-level', "2");
                _parentEl.attr('data-current-level', "2");
                _slideEl.addClass('subnav-fade');
                $('.slim-navigation .nav-primary a').removeClass('no-before');
            } else {
                _slideEl.attr('data-nav-level', "2");
                _parentEl.attr('data-current-level', "2");
            }

            setTimeout(function() {
                if(curLevel === "1") {
                    _slideEl.addClass('active');
                    _slideEl.addClass('subnav-fade');
                    $('.slim-navigation .nav-primary a').removeClass('no-before');
                }
            }, 200);
        } else {
            _slideEl.addClass('active');
            _slideEl.attr('data-nav-level', "2");
            _parentEl.attr('data-current-level', "2");
            _slideEl.addClass('subnav-fade');
            $('.slim-navigation .nav-primary a').removeClass('no-before');
        }

        setTimeout(function() {
            _slideEl.find('.slide-bg').addClass('fade-in');
            $('.show-subnav .slimheader-slide-nav.is-active').addClass('lv2-fade-mobile');
        }, 250);

        _resize.setNavSize();
    }

    // --------------------- handle resize -------------------------
    var setResize = function() {
        return {
            navItemLim : function() {
                if($('.nav-primary').hasClass('search-hidden') == false) {
                    var lim = 0;
                    var index;
                    var tabIndex;
                    var moreIndex;
                    var winWidth = windowWidth();

                    var widthAdjust = 0;
                    var availableWidth = $('.slim-navigation').outerWidth() - ($('.slim-logo').width() + $('.nav-search').width());
                    var navItemWidths = 0;

                    if(winWidth > 1440) {
                        widthAdjust = 120;
                    } else if(winWidth >= 992 && winWidth <= 1440) {
                        widthAdjust = 100;
                    }

                    $('.nav-primary').css('max-width', availableWidth + 'px');

                    availableWidth = availableWidth - widthAdjust;

                    $('.nav-primary > a').each(function(i, el) {
                        index = i + 1;
                        $(el).attr('data-nav-index', index);
                    });

                    $('.nav-primary > a').each(function(i, el) {
                        if((navItemWidths + $(this).outerWidth(true)) < availableWidth) {
                            navItemWidths = navItemWidths + $(this).outerWidth(true);
                            lim = lim + 1;
                        } else {
                            return false;
                        }
                    });

                    lim = lim > 8 ? 8 : lim;

                    // add/remove/clone nav options on screen resize
                    $('.nav-more-dropdown a').remove();

                    $('.slimheader-v2 .nav-primary > a').each(function(i, el) {
                        index = i + 1;
                        tabIndex = parseInt($('.nav-primary').attr('data-tab-index-start')) + index;

                        if(index > lim) {
                            tabIndex = tabIndex + 1;

                            if($('.nav-more-dropdown a[data-nav-index="' + index + '"]').length < 1) {
                                $(el).attr('tabindex', tabIndex);
                                $(el).clone().appendTo('.nav-more-dropdown');
                                $('.nav-more').css('display', 'block');
                            }
                            $('.nav-more').css('display', '');
                            $(el).addClass('is-hidden');
                        } else {
                            moreIndex = tabIndex + 1;
                            $('.nav-more-dropdown a[data-nav-index="' + index + '"]').remove();
                            $(el).hasClass('is-hidden') === true ? $(el).removeClass('is-hidden') : "";
                            $(el).attr('tabindex', tabIndex);
                            $('.nav-more').css('display', 'none');
                        }
                    });

                    $('.nav-more').attr('tabindex', moreIndex);

                    $('.nav-more-dropdown a').each(function() {
                        moreIndex = moreIndex + 1;
                        $(this).attr('tabindex', moreIndex);
                    });

                    return lim;
                }
            },
            setNavSize : function() {
            	var userAgent = navigator.userAgent || navigator.vendor || window.opera;
                if (/android/i.test(userAgent)) {
                     $('.sublevel-navs').addClass('isAndroidDevice');
                     $('.sublevel-navs').removeClass('isIosDevice');
                }

                if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
                     $('.sublevel-navs').addClass('isIosDevice');
                     $('.sublevel-navs').removeClass('isAndroidDevice');
                }

                if($('.headerv2--dark--mobile').length > 0 && windowWidth() < 992) {
                    var calcHeight = $(window).outerHeight() - $('.slimheader-v2').outerHeight();

                    $('html').addClass('disable-scroll-mobile');
                    $('.slim-navigation').css('height', calcHeight + 'px').css('opacity', 1);

                    return false;
                }

                if($('.headerv2-container.is-search').length <= 0) {
                    var targetNav = $('.show-subnav .is-active.slimnav-level2, .show-subnav .is-active.slimnav-level3 .slimheader-slide-nav.is-active');

                    var navCount = 0;
                    var noFeatured = $(targetNav).parents('.sublevel-navs').find('.slim-featured').length <= 0 ? true : false;

                    if(noFeatured === true) {
                        targetNav.addClass('no-featured');

                        if(targetNav.hasClass('slimheader-slide-nav') === true) {
                            targetNav.parents('.slimnav-level3').addClass('no-featured');
                        }
                    }

                    navCount = $('.slide-nav-contain > nav > a', targetNav).length;

                    if(navCount <= 6) {
                        $('.slide-nav-contain > nav', targetNav).addClass('col-nowrap');
                    }

                    //60 for additional bottom pad
                    var setNavHeight = $('.show-subnav').outerHeight() + 60;
                    if(setNavHeight < 475) {
                        setNavHeight = 475;
                    }

                    $('.show-subnav')
                        .parents('.slimheader-sublevel-slide.active')
                        .css('height', setNavHeight + 'px');

                    return false;
                } else {
                    $('.slimheader-sublevel-slide').css('height', $('.sublevel-search-container').innerHeight() + 'px');
                }
            },
            breadcrumbResize : function() {
                if($('.slimnav-v2-breadcrumbs').length > 0) {
                    if($('.slimnav-v2-breadcrumbs')._overflown() === true) {
                        for(var i = 0; i <= $('.slimnav-v2-breadcrumbs a').length; i++) {
                            $(_breadCrumbs[i]).addClass('bc-hidden');
                            $(_breadCrumbs[i]).attr("tabindex", "-1");

                            if($('.slimnav-v2-breadcrumbs')._overflown() === false) {
                                break;
                            }
                        }
                    } else {
                        for(i = $('.slimnav-v2-breadcrumbs a').length; i >= 0; i--) {
                            $(_breadCrumbs[i]).removeClass('bc-hidden');
                            $(_breadCrumbs[i]).attr("tabindex", "");

                            if($('.slimnav-v2-breadcrumbs')._overflown() === true) {
                                $(_breadCrumbs[i]).addClass('bc-hidden');
                                $(_breadCrumbs[i]).attr("tabindex", "-1");
                                break;
                            }
                        }
                    }
                }

                $('.slimnav-v2-breadcrumbs .bc-hidden').length <= 0 && $('.breadcrumbs-show-all').length <= 0 ? $('.slimnav-v2-bc-toggle').addClass('is-hidden') : $('.slimnav-v2-bc-toggle').removeClass('is-hidden');
            }
        }
    }

    //open search - public function
    var openSearch = function() {
        $('.slimnav-v2-breadcrumbs a').attr('tabindex', '-1');
        $('.slimnav-v2-bc-toggle').attr('tabindex', '-1');

        $('.search-hide').addClass('search-hidden');
        _navLevelTwo();

        var searchHeight = 0;
        if($('.slim-search-results .slim-search-result').length > 0) {
            setTimeout(function() {
            	$('.slimheader-sublevel-slide').css('height', 'auto');
        	}, 50);
        } else {
            //min height 400px
            searchHeight = 400;
			setTimeout(function() {
            	$('.slimheader-sublevel-slide').css('height', searchHeight + 'px');
        	}, 50);
        }

        _slideEl.attr('data-nav-level', 'search');
        _parentEl.addClass('is-search');
        $('.slim-hamburger-ico').addClass('open');
    }

    var _closeSlimNav = function() {
        $('.slim-navigation').scrollTop(0);
        $('.slimnav-v2-breadcrumbs a').attr('tabindex', '');
	$('.slimnav-v2-bc-toggle').attr('tabindex', '');

        $('.slim-navigation').css('height', '').css('opacity', '');

        _navLevel3.removeClass('is-active');
        _slideEl.removeClass('active');
        _navLevel2.removeClass('is-active');

        $('html').removeClass('disable-scroll-mobile');
        _parentEl.attr('data-current-level', '');
        _slideEl.attr('data-nav-level', "");
        _parentEl.removeClass('headerv2--dark').removeClass('headerv2--dark--mobile');
        $('.slimheader-sublevel-slide').css('height', '');
        $('.show-subnav').removeClass('show-subnav');
        _parentEl.css('margin-bottom', '');

        _slideEl.find('.slide-bg').removeClass('fade-in');
        $('.slimheader-slide-nav').removeClass('lv2-fade lv3-fade is-active');

        _parentEl.removeClass('is-search');
        $('.search-hide').removeClass('search-hidden');
    }

    //--------------------------- attach handlers ------------------------------------
    var _handlers = function() {
        _navItemLimit = _resize.navItemLim();

        setTimeout(function() {
            _navItemLimit = _resize.navItemLim();
            $('.slim-navigation').css('opacity', '');
        }, 50);

        $(window).on('keyup', function(e) {
            e.preventDefault();
            if(_isFocused > 0 && e.keyCode === 9 && e.shiftKey === false) {
                $('.nav-more').addClass('nav-more--show-dropdown');
                $('.nav-more-dropdown a:first').focus();
            }
            _isFocused = $('.nav-more:focus').length;
        });

        $('.nav-more-dropdown').on('keydown', 'a:last', function(e) {
            if(e.keyCode === 9 && e.shiftKey === false){
                $('.nav-more').removeClass('nav-more--show-dropdown');
                $('.nav-more-dropdown').removeClass('show-more');
                $('.nav-more').removeClass('show-underline');
            }
           
        });
        $('.nav-more').on('click', function (e) {
            $('.nav-more-dropdown').removeClass('show-more');
            $('.nav-more').removeClass('show-underline');
        });

        $(window).on("resize", function(e) {
            _rtime = new Date();
            if(_checkPass === false) {
                setTimeout(function() {
                    _resize.breadcrumbResize();
                    _resize.setNavSize();
                }, 100);

                if(_navItemLimit !== _resize.navItemLim()) {
                    _navItemLimit = _resize.navItemLim();
                } else if(windowWidth() < 992 && _navItemLimit === 0) {
                    setTimeout(function() {
                        _navItemLimit = _resize.navItemLim();
                    }, 150);
                }

                _checkPass = true;
                setTimeout(_resizeend, _timer);
            }
        });

        $(window).on("orientationchange", function(e) {
            setTimeout(function() {
                _resize.setNavSize();
                _resize.breadcrumbResize();

                if(_navItemLimit !== _resize.navItemLim()) {
                    _navItemLimit = _resize.navItemLim();
                }
            }, 10);
        });

        var currentActiveLevelOneLink;
        $('.nav-primary, .nav-more-dropdown').on('touchend keydown click', '> a', function(e) {
            if (e.type === "keydown" && e.keyCode !== 9) {
                e.stopPropagation();
                e.preventDefault();
            }
            //$('.nav-primary > a').removeClass('nav-is-open');
            //$(this).addClass('nav-is-open');
            $('.slide-nav-contain').scrollTop(0);
            if (e.type === "keydown" && e.keyCode === 13) {
                handleEnterKeypress($(this));
            }

            var xButton = document.querySelector('.show-subnav .slimheader-close');
            if ($(this).hasClass('is-active')) {
                var submenuContainer1 = $('.slimheader-sublevel-slide');
                if (submenuContainer1.hasClass('active')) {
                    if (e.shiftKey && e.keyCode === 9) {
                        e.preventDefault();
                        xButton.focus();
                        if($(this).parent().hasClass('show-more')){
                            $(this).parent().removeClass('show-more');
                            $('.nav-more').removeClass('show-underline');
                        }
                    } else if (e.type === "keydown" && e.keyCode === 9) {
                        var levelThreeLinks = $('.show-subnav .slimnav-level3.is-active .slimheader-slide-nav.is-active');
                        if ($(levelThreeLinks).length === 0) { // if page l1 or l2
                            e.preventDefault();
                            var eleId = $('.show-subnav').attr('id');
                            $('#' + eleId).find('.sublevel-title-container > a').focus(); //test-one
                            if($(this).parent().hasClass('show-more')){
                                $(this).parent().removeClass('show-more')
                                $('.nav-more').removeClass('show-underline');
                            }
                        }

                        if ($(levelThreeLinks).length > 0) { // if page l1 or l2
                            e.preventDefault();
                            if($(this).parent().hasClass('show-more')){
                                $(this).parent().removeClass('show-more');
                                $('.nav-more').removeClass('show-underline');
                            }
                        }
                    }
                }
            }

            currentActiveLevelOneLink = this;
            if (($(this).attr('data-has-subnav') === "true") && ((e.type === "click") || (e.type === "touchend") || (e.type === "keydown" && e.keyCode === 13))) {
                e.preventDefault();
                if($('.headerv2--dark').length > 0 && windowWidth() >= 992 && $(this).hasClass('is-active')) {
                    $('.nav-primary > a, .nav-more-dropdown > a').removeClass('is-active');

                    if(typeof _activeNavPrimary !== 'undefined' && _activeNavPrimary.length > 0) {
                        _activeNavPrimary.addClass('is-active');
                    }

                    _closeSlimNav();
                    _navItemLimit = _resize.navItemLim();
                } else {
                    $('.lv2-fade, .lvl-fade-mobile, .lv3-fade').removeClass('lv2-fade lvl-fade-mobile lv3-fade')
                    $('.nav-primary > a, .nav-more-dropdown > a').removeClass('is-active');

                    var that = this;
                    setTimeout(function() {
                        $(that).addClass('is-active');
                        $('.slide-nav-contain').scrollTop(0);
                        // if(windowWidth() >= 992) {
                        //     _parentEl.removeClass('headerv2--dark--mobile').attr('data-current-level', '');
                        // }

                        var levelId = $(that).attr('aria-controls');
                        $('.sublevel-container').removeClass('show-subnav');
                        $('#' + levelId).addClass('show-subnav');
                        $('.slimnav-v2-breadcrumbs a').attr('tabindex', '-1')
                        $('.slimnav-v2-bc-toggle').attr('tabindex', '-1');
                        _navLevelTwo();
                    }, 100);
                }
            } else if (($(this).attr('data-has-subnav') === "false") && (e.type === "keydown" && e.keyCode === 13)) {
                e.preventDefault();
                this.click();
            }
        });

        $('.nav-more').on('touchend keydown', function(e) {
            if ((e.type === "keydown" && e.keyCode === 13) || e.type === "click") {
                $(this).find('.nav-more-dropdown').toggleClass('show-more');
                $('.nav-more').toggleClass('show-underline');
                $(this).find('.nav-more-dropdown > a:first').focus();
            }
        });
        $('.nav-more').on('keydown', function(e){
            if(e.keyCode==9 && e.shiftKey==true && !e.target.classList.contains('levelOneLink')){
                $(this).find('.nav-more-dropdown').removeClass('show-more');
                $('.nav-more').removeClass('show-underline');
            }
        });
        $('.nav-primary ').on('click', function(e){
            if(!e.target.classList.contains('nav-more-dropdown')  && !e.target.classList.contains('nav-more')){
                $(this).find('.nav-more-dropdown').removeClass('show-more');
                $('.nav-more').removeClass('show-underline');
            }
        });

        var submenuContainer1 = $('.sublevel-container');
        if (submenuContainer1.hasClass('show-subnav')) {
            $('.show-subnav').on('keydown', function (e) {
                setTimeout(function () {
                    var keydownElement;
                    var allFeatureItems = $('.show-subnav .slim-featured .slim-featured-item a');
                    var levelTwoLinks = $('.show-subnav .slimnav-level2.slimheader-slide-nav.is-active');
                    var levelThreeLinks = $('.show-subnav .slimnav-level3.is-active .slimheader-slide-nav.is-active');
                    var lastLevelLinkItem;
                    if (levelThreeLinks.length > 0) {
                        lastLevelLinkItem = $(levelThreeLinks).find('nav')[0].lastElementChild;

                        $('#' + eleId).find('.sublevel-title-container > a').on('keydown', function (e) {
                            if (e.shiftKey && e.keyCode === 9) {
                                e.preventDefault();
                                e.stopPropagation();
                                $('#' + eleId).find('.slimheader-breadcrumb > a').focus(); //L2 nav 'back' link

                            }
                        });

                        $('#' + eleId).find('.slimheader-breadcrumb > a').on('keydown', function (e) {
                            if (e.shiftKey && e.keyCode === 9) {
                                e.preventDefault();
                                $(currentActiveLevelOneLink).parent('.nav-more-dropdown').addClass('show-more');
                                $('.nav-more').addClass('show-underline');
                                $(currentActiveLevelOneLink).focus();
                            }
                        });

                        $(currentActiveLevelOneLink).on('keydown', function (e) {
                            if (submenuContainer1.hasClass('show-subnav')) {
                                if (e.keyCode === 9) {
                                    e.preventDefault();
                                    $('#' + eleId).find('.slimheader-breadcrumb > a').focus();
                                }
                            }
                        });
                    } else if (levelTwoLinks.length > 0) {
                        lastLevelLinkItem = $(levelTwoLinks).find('nav')[0].lastElementChild;
                    }

                    var lastFeaturedItem = allFeatureItems[allFeatureItems.length - 1];
                    if (levelTwoLinks.hasClass('no-featured') || levelThreeLinks.hasClass('no-featured')) {
                        keydownElement = lastLevelLinkItem;
                    } else {
                        keydownElement = lastFeaturedItem;
                    }

                    $('.show-subnav .slimheader-close').on('keydown', function (e) {
                        if (e.shiftKey && e.keyCode === 9) {
                            e.preventDefault();
                            keydownElement.focus();
                        } else if (e.keyCode === 9) { //tab keypress
                            e.preventDefault();
                            const levelThreeLinks = $('.slimnav-level3.is-active .slimheader-slide-nav.is-active');
                            if (!levelThreeLinks || levelThreeLinks.length == 0) {
                                $(currentActiveLevelOneLink).parent('.nav-more-dropdown').addClass('show-more');
                                $('.nav-more').addClass('show-underline');
                                $(currentActiveLevelOneLink).focus();
                            } else {
                                levelThreeLinks?.find('.slimheader-breadcrumb > a').focus();
                            }
                        }
                        if (e.keyCode === 13) {
                            $(currentActiveLevelOneLink).parent('.nav-more-dropdown').addClass('show-more');
                            $('.nav-more').addClass('show-underline');
                            $(currentActiveLevelOneLink).focus();
                            _closeSlimNav();
                        }
                    });
                }, 10);

                var eleId = $('.show-subnav').attr('id'); //from l2 to l1
                $('#' + eleId).find('a.lv2-label').on('keydown', function (e) {
                    if (e.shiftKey && e.keyCode === 9) {
                        e.preventDefault();
                        var levelThreeLinks = $('.show-subnav .slimnav-level3.is-active .slimheader-slide-nav.is-active');
                        if($(currentActiveLevelOneLink).parent('.nav-more-dropdown').length > 0 && levelThreeLinks.length == 0){
                            $(currentActiveLevelOneLink).parent('.nav-more-dropdown').addClass('show-more');
                            $('.nav-more').addClass('show-underline');
                            $(currentActiveLevelOneLink).focus();
                        }else {
                            $(currentActiveLevelOneLink).focus();
                        }
                    }
                });


                var levelTwoLinks = $('.show-subnav .levelTwoLink.has-lv3');
                $(levelTwoLinks).on('keydown', function (e) {
                    if (e.keyCode === 13) {
                        setTimeout(function () {
                            var eleId = $('.slimheader-slide-nav.is-active').attr('id');
                            $('#' + eleId).find('.sublevel-title-container > a').focus();
                        }, 300);
                    }
                });
            });
        }

        function handleEnterKeypress(elem) {
            var _ = $;
            setTimeout(function () {
                if(_(elem).parent().hasClass('show-more')){
                    _(elem).parent().toggleClass('show-more');
                    $('.nav-more').toggleClass('show-underline');
                }
                var submenuContainer1 = $('.sublevel-container');
                if (submenuContainer1.hasClass('show-subnav')) {
                    var eleId = $('.show-subnav').attr('id');
                    $('#' + eleId).find('.sublevel-title-container > a').focus();
                }
            }, 300);
        }

        //close nav & search
        function closeNavSearch(e) {
            e.preventDefault();
            e.stopPropagation();
            $('.slide-nav-contain').scrollTop(0);
            var ariaExpClose = $('.nav-search > button').attr('aria-expanded');
            if (ariaExpClose === "true") {
                ariaExpClose = "false"
            } else {
                ariaExpClose = "true"
            }
            $('.nav-search > button').attr('aria-expanded',ariaExpClose);
            $('.nav-primary > a, .nav-more-dropdown > a').removeClass('is-active');
            if(typeof _activeNavPrimary !== 'undefined' && _activeNavPrimary.length > 0) {
                _activeNavPrimary.addClass('is-active');
            }
            $('#slim-hamburger').removeClass('open');
            _closeSlimNav();
            _navItemLimit = _resize.navItemLim();
        }
        $('.slimheader-close, .slide-bg, #close-search').on('click touchend', function (e) {
            $('.nav-primary').find('.levelOneLink.is-active').focus();
            closeNavSearch(e);
        });
        $(document).keydown(function (e) {
            if (e.key === "Escape") {
                $('.nav-primary').find('.levelOneLink.is-active').focus();
                closeNavSearch(e);
            }
        });

        //return to top level
        $('.slimnav-mobile-header > p').on('click', function() {
            $('.slimheader-sublevel-slide').addClass('subnav-fadeout');
            $('.slide-nav-contain').scrollTop(0);
            // $(_parentEl).addClass('headerv2--dark headerv2--dark--mobile').attr('data-current-level', '1');
            $('.slimheader-slide-nav').removeClass('lv2-fade-mobile');
            setTimeout(function() {
                $('.slimheader-sublevel-slide').removeClass('subnav-fade').removeClass('subnav-fadeout');

                _navLevel3.removeClass('is-active');
                _slideEl.removeClass('active');
                _navLevel2.removeClass('is-active');

                $('#slim-hamburger').addClass('open');
                var calcHeight = $(window).outerHeight() - $('.slimheader-v2').outerHeight();

                _slideEl.attr('data-nav-level', "1");
                _parentEl.attr('data-current-level', "1");

                $('html').addClass('disable-scroll-mobile');
                $('.slim-navigation').css('height', calcHeight + 'px').css('opacity', 1);
            }, 250);
        });

        var lastLevel2ActiveLink;
        //access level 3 nav options
        $('.has-lv3').on('click', function(e) {
            lastLevel2ActiveLink = this;
            e.preventDefault();


            $($(this).parents('.slimheader-slide-nav')[0]).addClass('lv2-fade');
            $('.slim-navigation').css('opacity', '');
            $('.slimnav-level3').scrollTop(0);
            var delay = 1;
            var levelId = '#' + $(this).attr('aria-controls');

            if(windowWidth() >= 992) {
                delay = 250;
            } else {
                delay = 120;
            }

            setTimeout(function() {
                $('.slimheader-slide-nav').removeClass('is-active');
                $('.slimheader-slide-nav').scrollTop(0);
                $(levelId).addClass('is-active');

                _navLevel2.removeClass('is-active');
                _navLevel3.addClass('is-active');
                _slideEl.attr('data-nav-level', "3");
                _parentEl.attr('data-current-level', "3");

                _resize.setNavSize();
            }, delay);
            setTimeout(function() {
                $(levelId).addClass('lv3-fade');
                var selectedTitle = $(levelId).find('.sublevel-title-container > a.lv2-label');
                $(selectedTitle).focus();
            }, delay + 1)
        });

        //Search Button
        $('.nav-search > button, .mobile-search-btn').on('click', function(){
            var ariaExp = $(this).attr('aria-expanded');
            if (ariaExp === "false") {
                ariaExp = "true"
            } else {
                ariaExp = "false"
            }
            $(this).attr('aria-expanded', ariaExp);
            openSearch();            
            $('.nav-more-dropdown').removeClass('show-more');
            $('.nav-more').removeClass('show-underline');
        });

        //slimnav mobile go-back-breadcrumb
        $('.slimheader-breadcrumb a').on('click', function(e) {
            e.preventDefault();
            $('.slimheader-slide-nav').removeClass('lv3-fade');
            setTimeout(function() {
                _navLevelTwo();
                $('.slimheader-slide-nav').removeClass('lv2-fade is-active');
                $(lastLevel2ActiveLink).focus();
            }, 250);
        });

        // ------------------------ Mobile Navigation ----------------------------
        $('#slim-hamburger').on('click touchend', function(e){
            e.stopPropagation();
            e.preventDefault();
            $('.slim-navigation').scrollTop(0);
            if($(this).hasClass('open')) {
                $('.slim-hamburger-ico').removeClass('open');
                _closeSlimNav();
            } else {
                $('.slimnav-v2-breadcrumbs a').attr('tabindex', '-1');
                $('.slimnav-v2-bc-toggle').attr('tabindex', '-1');

                $(this).addClass('open');
                var calcHeight = $(window).outerHeight() - $('.slimheader-v2').outerHeight();

                _slideEl.attr('data-nav-level', "1");
                _parentEl.attr('data-current-level', "1");
                $(_parentEl).addClass('headerv2--dark headerv2--dark--mobile');
                $('html').addClass('disable-scroll-mobile');
                $('.slim-navigation').css('height', calcHeight + 'px').css('opacity', 1);
            }
        });


        $('.lo-backsplash').on('click', function() {
            $('.option-country').removeClass('option-country--open');
            $('.option-language').removeClass('option-language--open');
            $('.lo-backsplash').removeClass('lo-backsplash--show');
        });

    }

    return {
        init: initialize,
        searchOpen: openSearch
    }
})();
$('<style type="text/css">.autocomplete-items{position:absolute;left:auto;right:10px;z-index:1000;background:#f0f0f0;-moz-background-clip:padding;-mozwebkit-background-clip:padding;background-clip:padding-box;overflow-y:auto;max-height:100vh}#search-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:950;opacity:.5;background-color:#000}.autocomplete-items li{border:1px solid #ccc;background:#fff!important;width:100%;padding:14px;cursor:pointer;border-bottom:0}.autocomplete-items li:hover{background:#e5e5e5!important}.autocomplete-items .thumb div{width:100px;height:100px;display:inline-block}.autocomplete-items .thumb{float:left;margin-right:10px;height:100px;width:100px;display:inline-block}.autocomplete-items .thumb div{max-width:100%;background-repeat:no-repeat;background-position:center;background-size:cover}.autocomplete-items a,.autocomplete-items a:hover{width:100%!important;height:auto!important;font:bold 16px "PwC Helvetica Neue",Arial,Sans-Serif!important}.autocomplete-items .abstract{display:table;font-size:1rem;font-weight:400}.autocomplete-items .active{background:#e5e5e5!important}.autocomplete-items .close-search{cursor:pointer;padding:15px;display:flex;justify-content:center;background:#f0f0f0;margin-bottom:16em;}.autocomplete-items .close-search i{width:22px;height:22px;background:url(/etc/clientlibs/pwc/rebrand-clientlibs/components-colors/images/slimheader/close-icon.svg) center no-repeat;background-size:100%}.autocomplete-items .make-search{width:100%;border:1px solid #aaa;cursor:pointer;padding:15px;display:flex;justify-content:center;background:#2d2d2d}.autocomplete-items .make-search i{width:42px;height:22px;background:url(/etc/designs/pwcdigital/clientlib/css/img/icons/search.svg) center no-repeat;background-size:100%}@media (max-width:767px){.autocomplete-items{width:100vw;height:100vh;right:0;left:0;border:0}}</style>').appendTo($('head'));
$( document ).ready(function() {
    	var currentPage = $('input[class="currentPagePath"]').val() ? $('input[class="currentPagePath"]').val() : "";
    	var splitPath = currentPage!= "" ? currentPage.split('/') : "";
        var pwcLang = splitPath != "" ? splitPath[4] : "";
        var pwcGeo = splitPath != "" ? splitPath[3] : "";
		if(currentPage.indexOf('/content/pwc/userReg') != -1 || currentPage.indexOf('/content/pwc/global/forms/')!= -1 || currentPage.indexOf('/content/pwc/global/access-control')!= -1){
            var parentPagePath = $.urlParam('parentPagePath') != false && $.urlParam('parentPagePath') != null ? $.urlParam('parentPagePath') + '' : $.urlParam('referrerUrl') + '';
            parentPagePath = parentPagePath != false ? parentPagePath.split('/') :  "";
            pwcLang = parentPagePath != "" ? parentPagePath[4] : "";
            pwcGeo = parentPagePath != "" ? parentPagePath[3] : "";
        }
    	$('input[name="pwcLang"]').val(pwcLang);
    	$('input[name="pwcGeo"]').val(pwcGeo);
});

(function (w) {
    if (typeof w.URLSearch === 'undefined') {
        w.URLSearch = function (searchString) {
            var self = this;
            self.searchString = searchString;
            self.get = function (name) {
                var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(self.searchString)
                if (results == null) {
                    return null
                }
                else {
                    return decodeURI(results[1]) || 0
                }
            };
            self.calculate = function(key, value) {
                query = self.searchString || window.location.search;
                var q = query + "&";
                var re = new RegExp("[?|&]" + key + "=.*?&");
                if (!re.test(q))
                    q += key + "=" + encodeURI(value);
                else
                    q = q.replace(re, "&" + key + "=" + encodeURIComponent(value) + "&");
                q = q.trimStart("&").trimEnd("&");
                self.searchString = q[0]=="?" ? q : q = "?" + q;
                return self.searchString;
            };
            self.set = function(key, value) {
                var newurl = window.location.origin + window.location.pathname + self.calculate(key, value);
                window.history.pushState({path:newurl},'',newurl);
            }
        }
        String.prototype.trimEnd = function(c) {
            if (c)        
                return this.replace(new RegExp(c.escapeRegExp() + "*$"), '');
            return this.replace(/\s+$/, '');
        }
        String.prototype.trimStart = function(c) {
            if (c)
                return this.replace(new RegExp("^" + c.escapeRegExp() + "*"), '');
            return this.replace(/^\s+/, '');
        }
        
        String.prototype.escapeRegExp = function() {
            return this.replace(/[.*+?^${}()|[\]\/\\]/g, "\\$0");
        };
    }
})(window)

$(function() {
    $('.view-all-search, #slimSearchForm input[type="submit"]').on('click', function(e) {        e.preventDefault();
        var searchVal = $("#slimSearch").val();
        if(searchVal && searchVal.trim()){
            $("#slimSearchForm").submit();
        }
    });
});

var liveParams = new URLSearch(location.search)
$('#searchField').attr('autocomplete', 'off');
var autocompleteTimeout = null;
var autocompleteXHR = null;
var currentFocus;
/*liveParams.calculate('tp', 'json');
if($('input[name="pwcGeo"]') && "" != $('input[name="pwcGeo"]').val()){
	liveParams.calculate('pwcGeo', $('input[name="pwcGeo"]').val() ? $('input[name="pwcGeo"]').val().split(' ')[0] : "");
}
if($('input[name="pwcLang"]') && "" != $('input[name="pwcLang"]').val()){
	liveParams.calculate('pwcLang', $('input[name="pwcLang"]').val()?  $('input[name="pwcLang"]').val() : "");
}
liveParams.calculate('pwcHideLevel', $('input[name="pwcHideLevel"]').val() ? $('input[name="pwcHideLevel"]').val() : "");
liveParams.calculate('pwcSiteSection', $('input[name="pwcSiteSection"]').val() ? $('input[name="pwcSiteSection"]').val() : "");*/

$.urlParam = function (name) {
    var results = new RegExp('[\?&]' + name + '=([^&#]*)')
                      .exec(window.location.search);

    return (results !== null) ? results[1] || 0 : false;
}

$('#searchField, #slimSearch').on('input focus keydown', function(e) {
    if (autocompleteTimeout) {
		clearTimeout(autocompleteTimeout)
    }
    if (e.target.value.length >= 3) {
        var keyCode = e.keyCode || e.which; 

        if(keyCode === 9 || keyCode === 27) {
            return true;
        }

        if($('.slim-search-results').length) {
            $('.view-all-search').addClass('is-hidden');
            $('.slim-search-results .slim-search-result').remove();
            $('.search-loading').addClass('is-loading');
            $('.slim-search-no-results').addClass('is-hidden');
        }

        var moreIndex = 0;

        autocompleteTimeout = setTimeout(function() {

        if (autocompleteXHR)
            autocompleteXHR.abort()

			var queryParams = "";
			var query = e.target.value.trim().replace(/ /g, '+');
            queryParams = queryParams + "?q="+query;
            var currentPagePath = $('input[class="currentPagePath"]').val() ? $('input[class="currentPagePath"]').val() : "";
            var splitPath = currentPagePath != "" ? currentPagePath.split('/') : "";
            var pwcLang = splitPath != "" ? splitPath[4] : "";
            var pwcGeo = splitPath != "" ? splitPath[3] : "";
            if(currentPagePath.indexOf('/content/pwc/userReg') != -1 || currentPagePath.indexOf('/content/pwc/global/forms/')!= -1 || currentPagePath.indexOf('/content/pwc/global/access-control')!= -1){
                var parentPagePath = $.urlParam('parentPagePath') != false && $.urlParam('parentPagePath') != null ? $.urlParam('parentPagePath') + '' : $.urlParam('referrerUrl') + '';
                parentPagePath = parentPagePath != false && parentPagePath !=null ? parentPagePath.split('/') : "";
            	pwcLang = parentPagePath != "" ? parentPagePath[4] : "";
            	pwcGeo = parentPagePath != "" ? parentPagePath[3] : "";
            }
            queryParams = pwcLang != "" ? queryParams+"&pwcLang="+pwcLang : queryParams;
            queryParams = pwcGeo != "" ? queryParams+"&pwcGeo="+pwcGeo : queryParams;
            var pwcSiteSection_ss = $('input[name="pwcSiteSection"]').val() ? $('input[name="pwcSiteSection"]').val() : "" ;
            queryParams = pwcSiteSection_ss != "" ? queryParams+"&fq=pwcSiteSection_ss:"+pwcSiteSection_ss : queryParams;
            var pagePath = $('input[class="currentPagePath"]').val() ? $('input[class="currentPagePath"]').val() : "";
            queryParams = pagePath != "" ? queryParams+"&currentPagePath="+pagePath : queryParams;
 			var url = '/bin/dpe/query.typeahead.html'+queryParams;   
        autocompleteXHR = $.ajax({
                url: url,
                success: function(data) {
                    showData(data);
                }
            });
    }, 150)
    } else {
        $("#autocomplete-list").remove()
        $('#search-overlay').remove()

        $('.view-all-search').addClass('is-hidden');
        $('.slim-search-results .slim-search-result').remove();
        $('.search-loading').removeClass('is-loading');
        $('.slim-search-no-results').addClass('is-hidden');
        slimnav2.searchOpen();
    }
});

function showData(data) {
	$('.slim-search-results .slim-search-result').remove();
    currentFocus = -1;
	$("#autocomplete-list").remove();
	if(data){
    data = JSON.parse(data);
    if (data.response.docs.length) {
        if ($('.slim-search-results').length) {
			$('.slim-search-no-results').addClass('is-hidden');
            $('.search-loading').removeClass('is-loading');
			var docs = data.response.docs;
            docs = docs.reverse();
            docs.forEach(function(el, i) {
				var abstractText = '';
				var image = '';
                if (i < 3) {
                    if (el.description) {
                        abstractText = el.description;
                        if (abstractText && abstractText.length > 147)
                            abstractText = abstractText.substring(0, 147) + '...'
                        abstractText = "<p>" + abstractText + "</p>"
                    }
                    if (el.og_image) {
                        image = '<img src="' + el.og_image + '">';
                    }

                    var index = i + 1;
                    var b = "<a href='" + el.url + "' class='slim-search-result'>" +
                        image +
                        "<div class='search-item-body'>" +
                        image +
                        "<h4>" + el.pwcTitle + "</h4>" +
                        "<p>" + abstractText + "</p></div>" +
                        "</a>";

                    $('.slim-search-results').prepend(DOMPurify.sanitize(b));
					$('.view-all-search').removeClass('is-hidden');
                }
                moreIndex = i + 1;
            });

            if (moreIndex >= 3) {
                $('.slim-search-results a:visible:last').css('margin-bottom', 'auto');
                $('.view-all-search').removeClass('is-hidden');
                $('.slim-search-results a').css('margin-bottom', '');
            } else {
                $('.slim-search-results a:visible:last').css('margin-bottom', 'auto');
            }
            slimnav2.searchOpen();
        }
    } else {
			$('.view-all-search').addClass('is-hidden');
			$('.slim-search-results .slim-search-result').remove();
			$('.search-loading').removeClass('is-loading');
			$('.slim-search-no-results').removeClass('is-hidden');
			//$("#autocomplete-list").remove()
			//$('#search-overlay').remove()
			slimnav2.searchOpen();
		}
	}else {
        $('.view-all-search').addClass('is-hidden');
        $('.slim-search-results .slim-search-result').remove();
        $('.search-loading').removeClass('is-loading');
        $('.slim-search-no-results').removeClass('is-hidden');
        //$("#autocomplete-list").remove()
        //$('#search-overlay').remove()
        slimnav2.searchOpen();
    }
}

/*execute a function presses a key on the keyboard:*/
$('#searchField').on('keydown', function(e) {
    var x = $("#autocomplete-list")
    if (x) {
        x = x.find("li")
        if (e.keyCode == 40 && currentFocus < x.length - 1) {
            currentFocus = currentFocus + 1;
        } else if (e.keyCode == 38 && currentFocus > -1) {
            currentFocus = currentFocus - 1;
        } else if (e.keyCode == 13 && currentFocus > -1) {
            e.preventDefault();
            $("#autocomplete-list .active a").mousedown(); // safari workaround
            $("#autocomplete-list .active a")[0].click();
        }
        x.removeClass('active')
        if (currentFocus > -1) {
            x.eq(currentFocus).addClass('active')
        }
    }
});

$(document).mouseup(function(e) {
    if (!$("#autocomplete-list").is(e.target) && $("#autocomplete-list").has(e.target).length === 0 && !$('#searchField').is(e.target))
    {
        $("#autocomplete-list").remove()
        $('#search-overlay').remove()
    }
});

$(document).scroll(function() {
    if ($('#menuBarWrapper').hasClass("slide--up"))
    {
        $("#autocomplete-list").remove()
        $('#search-overlay').remove()
    }
});
$(function () {
  $("#heroShareToggleBtn").on("click", function (e) {
    $(this).next("#heroSharePopup").toggleClass("active");
    $(this).next().find(".share-popup-box__action-btn").removeClass("active");
  });

  $("#heroShareCloseBtn").on("click", function (e) {
    $(this).parent("#heroSharePopup").removeClass("active");
    $(this).next().find(".share-popup-box__action-btn").removeClass("active");
  });
  $("#heroShareCopyLinkBtn").on("click", function (e) {
    window.navigator.clipboard.writeText(window.location.href);
    $(this).addClass("active");
  });
});

$(document).ready(function() {
    var WRAPPER = 'div.crosspage-menuwrap',
        MENU_SELECTOR = 'ul#crosspagenav-menu',
        SUB_MENU_SELECTOR = '#crosspagenav-submenu',
        MORE_BTN_SELECTER = '#crosspage-morebtn',
        MORE_BTN_WIDTH = $('#crosspage-morebtn').width()

    var elemWidth,
        fitCount,
        itemsWidth = 0,
        $menu = $(MENU_SELECTOR),
        $collectedSet

    $menu.children().each(function() {
        itemsWidth += $(this).outerWidth(true)
    })
    setHighlight();
    if ($(window).width() >= 992) {
        setMenuWidth()
        collect()
        $(window).resize(collect)
    } else {
        $('.crosspage-menuwrap-mobile > .crosspage-menu-title').on('click', function(e) {
            $(this).toggleClass('active');
            $('#crosspagenav-menu-mobile').toggleClass('mobile-active');
        });
    }

    function collect() {
        elemWidth = getMenuWidth()
        if (elemWidth > itemsWidth) { // hiding more button if all items are fitted well in container
            $(MORE_BTN_SELECTER).addClass('hide');
        }
        $menu.children().css({
            display: 'block',
            width: 'auto'
        })

        fitCount = getFitCount(elemWidth) - 1
        $collectedSet = $menu.children(':gt(' + fitCount + ')')
        $(SUB_MENU_SELECTOR).empty().append($collectedSet.clone())
        $collectedSet.css({
            display: 'none',
            width: '0'
        })
        setMenuWidth()
    }

    function getMenuWidth() {
        return $(WRAPPER).width() - MORE_BTN_WIDTH
    }

    function setMenuWidth() {
        var menuWidth = getMenuWidth()
        if (itemsWidth < menuWidth) {
            $(MENU_SELECTOR).width(Math.ceil(itemsWidth + 5) + 'px')
        } else {
            var exactW = getExactElemsWidth() + 5;
            $(MENU_SELECTOR).width(Math.ceil(exactW) + 'px')
        }
    }

    function getExactElemsWidth() {
        var w = 0
        $menu.children().each(function() {
            if ($(this).css('display') == 'block') {
                w += $(this).outerWidth(true)
            }
        })
        return w
    }

    function getFitCount(elemWidth) {
        var count = 0,
            width = 0
        $menu.children().each(function() {
            width += $(this).outerWidth(true)
            count++
            if (width >= elemWidth) {
                count--
                return false
            }
        })
        return count
    }

    function setHighlight() {
        var link = window.location.href;
        $(MENU_SELECTOR + ' li > a').each(function(ele, i) {
            if (link.includes($(this).attr('href'))) {
                $(this).addClass('active');
            }
        })
    }
})

$.fn.isInViewport = function() {
    var elementTop = $(this).offset().top;
    var elementBottom = elementTop + $(this).outerHeight();

    var viewportTop = $(window).scrollTop();
    var viewportBottom = viewportTop + $(window).height();

    return elementBottom > viewportTop && elementTop < viewportBottom;
};

$(window).on("scroll", function() {
    if ($('#header > div').isInViewport()) {
        $('#crosspage-morebtn > li.dropdown').removeClass('open');
        $('.crosspage-menuwrap-mobile > .crosspage-menu-title').removeClass('active');
        $('#crosspagenav-menu-mobile').removeClass('mobile-active');
    }
});
/*******************************************************************************
 * Copyright 2019 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var containerUtils = window.CQ && window.CQ.CoreComponents && window.CQ.CoreComponents.container && window.CQ.CoreComponents.container.utils ? window.CQ.CoreComponents.container.utils : undefined;
    if (!containerUtils) {
        // eslint-disable-next-line no-console
        console.warn("Accordion: container utilities at window.CQ.CoreComponents.container.utils are not available. This can lead to missing features. Ensure the core.wcm.components.commons.site.container client library is included on the page.");
    }
    var dataLayerEnabled;
    var dataLayer;
    var delay = 100;

    var NS = "cmp";
    var IS = "accordion";

    var keyCodes = {
        ENTER: 13,
        SPACE: 32,
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]'
    };

    var cssClasses = {
        button: {
            disabled: "cmp-accordion__button--disabled",
            expanded: "cmp-accordion__button--expanded"
        },
        panel: {
            hidden: "cmp-accordion__panel--hidden",
            expanded: "cmp-accordion__panel--expanded"
        }
    };

    var dataAttributes = {
        item: {
            expanded: "data-cmp-expanded"
        }
    };

    var properties = {
        /**
         * Determines whether a single accordion item is forced to be expanded at a time.
         * Expanding one item will collapse all others.
         *
         * @memberof Accordion
         * @type {Boolean}
         * @default false
         */
        "singleExpansion": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        }
    };

    /**
     * Accordion Configuration.
     *
     * @typedef {Object} AccordionConfig Represents an Accordion configuration
     * @property {HTMLElement} element The HTMLElement representing the Accordion
     * @property {Object} options The Accordion options
     */

    /**
     * Accordion.
     *
     * @class Accordion
     * @classdesc An interactive Accordion component for toggling panels of related content
     * @param {AccordionConfig} config The Accordion configuration
     */
    function Accordion(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Accordion.
         *
         * @private
         * @param {AccordionConfig} config The Accordion configuration
         */
        function init(config) {
            that._config = config;

            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            if (that._elements["item"]) {
                // ensures multiple element types are arrays.
                that._elements["item"] = Array.isArray(that._elements["item"]) ? that._elements["item"] : [that._elements["item"]];
                that._elements["button"] = Array.isArray(that._elements["button"]) ? that._elements["button"] : [that._elements["button"]];
                that._elements["panel"] = Array.isArray(that._elements["panel"]) ? that._elements["panel"] : [that._elements["panel"]];

                if (that._properties.singleExpansion) {
                    var expandedItems = getExpandedItems();
                    // multiple expanded items annotated, display the last item open.
                    if (expandedItems.length > 1) {
                        toggle(expandedItems.length - 1);
                    }
                }

                refreshItems();
                bindEvents();
                scrollToDeepLinkIdInAccordion();
            }
            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Accordion component
                 * - if so, route the "navigate" operation to enact a navigation of the Accordion based on index data
                 */
                window.CQ.CoreComponents.MESSAGE_CHANNEL = window.CQ.CoreComponents.MESSAGE_CHANNEL || new window.Granite.author.MessageChannel("cqauthor", window);
                window.CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-accordion" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            // switch to single expansion mode when navigating in edit mode.
                            var singleExpansion = that._properties.singleExpansion;
                            that._properties.singleExpansion = true;
                            toggle(message.data.index);

                            // revert to the configured state.
                            that._properties.singleExpansion = singleExpansion;
                        }
                    }
                });
            }
        }

        /**
         * Displays the panel containing the element that corresponds to the deep link in the URI fragment
         * and scrolls the browser to this element.
         */
        function scrollToDeepLinkIdInAccordion() {
            if (containerUtils) {
                var deepLinkItemIdx = containerUtils.getDeepLinkItemIdx(that, "item", "item");
                if (deepLinkItemIdx > -1) {
                    var deepLinkItem = that._elements["item"][deepLinkItemIdx];
                    if (deepLinkItem && !deepLinkItem.hasAttribute(dataAttributes.item.expanded)) {
                        // if single expansion: close all accordion items
                        if (that._properties.singleExpansion) {
                            for (var j = 0; j < that._elements["item"].length; j++) {
                                if (that._elements["item"][j].hasAttribute(dataAttributes.item.expanded)) {
                                    setItemExpanded(that._elements["item"][j], false, true);
                                }
                            }
                        }
                        // expand the accordion item containing the deep link
                        setItemExpanded(deepLinkItem, true, true);
                    }
                    var hashId = window.location.hash.substring(1);
                    if (hashId) {
                        var hashItem = document.querySelector("[id='" + hashId + "']");
                        if (hashItem) {
                            hashItem.scrollIntoView();
                        }
                    }
                }
            }
        }

        /**
         * Caches the Accordion elements as defined via the {@code data-accordion-hook="ELEMENT_NAME"} markup API.
         *
         * @private
         * @param {HTMLElement} wrapper The Accordion wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own accordion elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Sets up properties for the Accordion based on the passed options.
         *
         * @private
         * @param {Object} options The Accordion options
         */
        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    var value = null;

                    if (options && options[key] != null) {
                        value = options[key];

                        // transform the provided option
                        if (property && typeof property.transform === "function") {
                            value = property.transform(value);
                        }
                    }

                    if (value === null) {
                        // value still null, take the property default
                        value = properties[key]["default"];
                    }

                    that._properties[key] = value;
                }
            }
        }

        /**
         * Binds Accordion event handling.
         *
         * @private
         */
        function bindEvents() {
            window.addEventListener("hashchange", scrollToDeepLinkIdInAccordion, false);
            var buttons = that._elements["button"];
            if (buttons) {
                for (var i = 0; i < buttons.length; i++) {
                    (function(index) {
                        buttons[i].addEventListener("click", function(event) {
                            toggle(index);
                            focusButton(index);
                        });
                        buttons[i].addEventListener("keydown", function(event) {
                            onButtonKeyDown(event, index);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles button keydown events.
         *
         * @private
         * @param {Object} event The keydown event
         * @param {Number} index The index of the button triggering the event
         */
        function onButtonKeyDown(event, index) {
            var lastIndex = that._elements["button"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        focusButton(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        focusButton(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    focusButton(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    focusButton(lastIndex);
                    break;
                case keyCodes.ENTER:
                case keyCodes.SPACE:
                    event.preventDefault();
                    toggle(index);
                    focusButton(index);
                    break;
                default:
                    return;
            }
        }

        /**
         * General handler for toggle of an item.
         *
         * @private
         * @param {Number} index The index of the item to toggle
         */
        function toggle(index) {
            var item = that._elements["item"][index];
            if (item) {
                if (that._properties.singleExpansion) {
                    // ensure only a single item is expanded if single expansion is enabled.
                    for (var i = 0; i < that._elements["item"].length; i++) {
                        if (that._elements["item"][i] !== item) {
                            var expanded = getItemExpanded(that._elements["item"][i]);
                            if (expanded) {
                                setItemExpanded(that._elements["item"][i], false);
                            }
                        }
                    }
                }
                setItemExpanded(item, !getItemExpanded(item));

                if (dataLayerEnabled) {
                    var accordionId = that._elements.self.id;
                    var expandedItems = getExpandedItems()
                        .map(function(item) {
                            return getDataLayerId(item);
                        });

                    var uploadPayload = { component: {} };
                    uploadPayload.component[accordionId] = { shownItems: expandedItems };

                    var removePayload = { component: {} };
                    removePayload.component[accordionId] = { shownItems: undefined };

                    dataLayer.push(removePayload);
                    dataLayer.push(uploadPayload);
                }
            }
        }

        /**
         * Sets an item's expanded state based on the provided flag and refreshes its internals.
         *
         * @private
         * @param {HTMLElement} item The item to mark as expanded, or not expanded
         * @param {Boolean} expanded true to mark the item expanded, false otherwise
         * @param {Boolean} keepHash true to keep the hash in the URL, false to update it
         */
        function setItemExpanded(item, expanded, keepHash) {
            if (expanded) {
                item.setAttribute(dataAttributes.item.expanded, "");
                var index = that._elements["item"].indexOf(item);
                if (!keepHash && containerUtils) {
                    containerUtils.updateUrlHash(that, "item", index);
                }
                if (dataLayerEnabled) {
                    dataLayer.push({
                        event: "cmp:show",
                        eventInfo: {
                            path: "component." + getDataLayerId(item)
                        }
                    });
                }

            } else {
                item.removeAttribute(dataAttributes.item.expanded);
                if (!keepHash && containerUtils) {
                    containerUtils.removeUrlHash();
                }
                if (dataLayerEnabled) {
                    dataLayer.push({
                        event: "cmp:hide",
                        eventInfo: {
                            path: "component." + getDataLayerId(item)
                        }
                    });
                }
            }
            refreshItem(item);
        }

        /**
         * Gets an item's expanded state.
         *
         * @private
         * @param {HTMLElement} item The item for checking its expanded state
         * @returns {Boolean} true if the item is expanded, false otherwise
         */
        function getItemExpanded(item) {
            return item && item.dataset && item.dataset["cmpExpanded"] !== undefined;
        }

        /**
         * Refreshes an item based on its expanded state.
         *
         * @private
         * @param {HTMLElement} item The item to refresh
         */
        function refreshItem(item) {
            var expanded = getItemExpanded(item);
            if (expanded) {
                expandItem(item);
            } else {
                collapseItem(item);
            }
        }

        /**
         * Refreshes all items based on their expanded state.
         *
         * @private
         */
        function refreshItems() {
            for (var i = 0; i < that._elements["item"].length; i++) {
                refreshItem(that._elements["item"][i]);
            }
        }

        /**
         * Returns all expanded items.
         *
         * @private
         * @returns {HTMLElement[]} The expanded items
         */
        function getExpandedItems() {
            var expandedItems = [];

            for (var i = 0; i < that._elements["item"].length; i++) {
                var item = that._elements["item"][i];
                var expanded = getItemExpanded(item);
                if (expanded) {
                    expandedItems.push(item);
                }
            }

            return expandedItems;
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as expanded
         */
        function expandItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                var btnOffset = button.getBoundingClientRect();
                if(btnOffset.top <= 0){
                    button.scrollIntoView();
                }
                button.classList.add(cssClasses.button.expanded);
                // used to fix some known screen readers issues in reading the correct state of the 'aria-expanded' attribute
                // e.g. https://bugs.webkit.org/show_bug.cgi?id=210934
                setTimeout(function() {
                    button.setAttribute("aria-expanded", true);
                }, delay);
                panel.classList.add(cssClasses.panel.expanded);
                panel.classList.remove(cssClasses.panel.hidden);
                panel.setAttribute("aria-hidden", false);
            }
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is not expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as not expanded
         */
        function collapseItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                button.classList.remove(cssClasses.button.expanded);
                // used to fix some known screen readers issues in reading the correct state of the 'aria-expanded' attribute
                // e.g. https://bugs.webkit.org/show_bug.cgi?id=210934
                setTimeout(function() {
                    button.setAttribute("aria-expanded", false);
                }, delay);
                var accordionClasses = ""+panel.classList;
                if(accordionClasses.indexOf("cmp-accordion__edit") == -1){
                    panel.classList.remove(cssClasses.panel.expanded);
                    panel.classList.add(cssClasses.panel.hidden);
                	panel.setAttribute("aria-hidden", true);
                }
            }
        }

        /**
         * Focuses the button at the provided index.
         *
         * @private
         * @param {Number} index The index of the button to focus
         */
        function focusButton(index) {
            var button = that._elements["button"][index];
            button.focus();
        }
    }

    /**
     * Reads options data from the Accordion wrapper element, defined via {@code data-cmp-*} data attributes.
     *
     * @private
     * @param {HTMLElement} element The Accordion element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (Object.prototype.hasOwnProperty.call(data, key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Parses the dataLayer string and returns the ID
     *
     * @private
     * @param {HTMLElement} item the accordion item
     * @returns {String} dataLayerId or undefined
     */
    function getDataLayerId(item) {
        if (item) {
            if (item.dataset.cmpDataLayer) {
                return Object.keys(JSON.parse(item.dataset.cmpDataLayer))[0];
            } else {
                return item.id;
            }
        }
        return null;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Accordion components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        dataLayerEnabled = document.body.hasAttribute("data-cmp-data-layer-enabled");
        dataLayer = (dataLayerEnabled) ? window.adobeDataLayer = window.adobeDataLayer || [] : undefined;

        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Accordion({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Accordion({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

    if (containerUtils) {
        window.addEventListener("load", containerUtils.scrollToAnchor, false);
    }

}());
$(document).ready(function() {
    setTimeout(function() {
        adjustStatChars();
    }, 0);

    //Stats 2nd rendition content height manage for source and author and spacing fix for multiple components 

    var winWidth = $(window).width()
    $('div.stats').each(function (index, element) {
        var prevElement = $(element).prev().children(':first')
        if (prevElement && $(prevElement).hasClass('statbar2-container')) {
            $(element)
                .find('.statbar2-container')
                .css({ paddingTop: '40px', marginTop: '-' + $(prevElement).css("marginBottom") })
        }

        var stats = $(element).find('.statbar-col > p')

        if (winWidth >= 768 && winWidth < 1200) {
            if (stats.length == 4) {
                var maxHeight = 0, prevEle
                $(stats).each(function (index, c) {
                    var contentHeight = $(c).height()
                    if (maxHeight < contentHeight) {
                        maxHeight = contentHeight
                    }
    
                    if (index == 1 || index == 3) {
                        $(prevEle).css('height', maxHeight + 'px')
                        $(c).css('height', maxHeight + 'px')
                        maxHeight = 0
                    }
                    prevEle = c
                })
            } else {
                setStatsDescHeight(element, stats)
            }
        } else if (winWidth >= 1200) {
            setStatsDescHeight(element, stats)
        }
    })

});

$(window).load(function() {
    //re-invoking this function in any case to make sure the adjustment, document.ready doesn't work
    adjustStatChars();
});

function adjustStatChars() {
    var SCREEN_SIZE = $(window).width();
    $('.statbar-5050-wrapper').each(function (index, element) {
        var statLeft = $(element).find('.stat-left')
        var padLeft = parseInt($(statLeft).css('paddingLeft'))
        var padRight = parseInt($(statLeft).css('paddingRight'))
        var scrollWidth = $(statLeft).prop('scrollWidth') - (padLeft + padRight)
        var statLeftWidth = $(statLeft).width()
        if (scrollWidth > statLeftWidth) {
            // change the font to next small option available
            var currentFontSize = parseInt($(statLeft).css('fontSize'))
            if (SCREEN_SIZE >= 1400) {
                // large desktop
                switch (currentFontSize) {
                    case 220:
                        $(statLeft).css('fontSize', '180px')
                        break
                    case 180:
                        $(statLeft).css('fontSize', '120px')
                        break
                    case 120:
                        $(statLeft).css('fontSize', '95px')
                        break
                    default:
                        break
                }
            } else if (SCREEN_SIZE >= 1200) {
                // medium desktop
                switch (currentFontSize) {
                    case 220:
                        $(statLeft).css('fontSize', '180px')
                        break
                    case 180:
                        $(statLeft).css('fontSize', '160px')
                        break
                    case 160:
                        $(statLeft).css('fontSize', '124px')
                        break
                    case 124:
                        $(statLeft).css('fontSize', '100px')
                        break
                    case 100:
                        $(statLeft).css('fontSize', '80px')
                        break
                    default:
                        break
                }
            } else {
                // small desktop and mobile device
                switch (currentFontSize) {
                    case 70:
                        $(statLeft).css('fontSize', '60px')
                        break
                    default:
                        break
                }
            }
        }
    });
}

function setStatsDescHeight(statContainer, stats) {
    var maxContentHeight = 0
    $(stats).each(function (index, c) {
        var contentHeight = $(c).height()
        if (maxContentHeight < contentHeight) {
            maxContentHeight = contentHeight
        }
    })

    $(statContainer)
        .find('.statbar-col > p')
        .css('height', maxContentHeight + 'px')
}
$(document).ready(function () {
    adjustAlignment();
    setTimeout(function () {
        adjustAlignment();
    }, 2000)
})

function adjustAlignment() {
    var SCREEN_SIZE = $(window).width();
    if (SCREEN_SIZE < 992) {
        $('div.case-study-overview').each(function (i, cmp) {
            $(cmp).find('div.case-study__items').not('.case-study__image').css('justify-content', 'center')
        })
    } else {
        $('div.case-study-overview').each(function (i, cmp) {
            var maxHeight = 0,
                imageContainerHeight = 0
            $(cmp).find('div.case-study__items').each(function (index, item) {
                if ($(item).hasClass('case-study__image')) {
                    imageContainerHeight = $(item).outerHeight(true)
                } else {
                    var totalHeights = 0
                    $(item).children().each(function (childIndex, childItem) {
                        totalHeights += $(childItem).outerHeight(true)
                    })
                    if (maxHeight < totalHeights) {
                        maxHeight = totalHeights
                    }
                }
            });

            var padTop = 0

            if (maxHeight < imageContainerHeight) {
                padTop = (imageContainerHeight - maxHeight) / 2
                $(cmp).find('div.case-study__items').not('.case-study__image').css('padding-top', padTop + 'px')
            } else {

            }
        })
    }
}

$(document).ready(function() {
    var authorBottom= $('.author-bottom'),
        itemsWrapper = $('.author-bottom__card-wrapper'),
        contributorsWrapper = $('.author-bottom__contributors-wrapper'),
        ctaBtn = $('.author-bottom__loadMoreCta > a');

    // Make author to full width when contributor item is not authored.
    authorBottom.toArray().forEach(function (v,k){
        var contributorLength = $(v).find('.author-bottom__right-container').find('.author-bottom__contributors').length;
        if(!contributorLength){
            $(v).addClass('full-width');
        }
    });

    // Show the initial set of items after author load
    itemsWrapper.toArray().forEach(function (value, key){
        // Change this to the number of items you want to load more
        $(value).data('visibleitems', 3);
        var authorCount = $(value).find('.author-bottom__card').length;
        $(value).find('.author-bottom__card').slice(3, authorCount).hide();
    });

    // Show the initial set of items after contributor load
    contributorsWrapper.toArray().forEach(function (value, key){
        // Change this to the number of items you want to load more
        $(value).data('visibleitems', 3);
        var contributorsCount = $(value).find('.author-bottom__contributors').length;
        $(value).find('.author-bottom__contributors').slice(3, contributorsCount).hide();
    });


    // Bind event on view more/view less button
    ctaBtn.on('click', function() {
        var moretext = $(this).data().moretext,
            lesstext = $(this).data().lesstext,
            counter = 3,
            $closestCardItem = $(this).parent().siblings().find('.author-bottom__left-container').find('.author-bottom__card-wrapper'),
            $closestContributorsItem = $(this).parent().siblings().find('.author-bottom__right-container').find('.author-bottom__contributors-wrapper'),
            cardLength = $closestCardItem.find('.author-bottom__card').length,
            $contributorsLength = $closestContributorsItem.find('.author-bottom__contributors').length,
            counterPeakValLength = 0,
            itemLength = 0;

        if(cardLength > $contributorsLength){
            counterPeakValLength = parseInt($closestCardItem.data().visibleitems);
            itemLength = cardLength;
        }else{
            counterPeakValLength = parseInt($closestContributorsItem.data().visibleitems);
            itemLength = counterPeakValLength;
        }


        if($(this).text()  === moretext){
            // Change this to the number of items you want to load more
            counter = counter + counterPeakValLength;
            $closestCardItem.data('visibleitems', counter);
            $closestCardItem.find('.author-bottom__card').slice(0, counter).show('slow', function (){
                $(this).css("display", "flex");
            });


            $closestContributorsItem.data('visibleitems', counter);
            $closestContributorsItem.find('.author-bottom__contributors').slice(0, counter).show("slow");

            if (counter >= itemLength) {
                $(this).text(lesstext);
            }
        }
        else {
            // Change this to the number of items you want to load less
            counter = counterPeakValLength - counter ;
            $closestCardItem.data('visibleitems', counter);
            $closestContributorsItem.data('visibleitems', counter);
            $closestCardItem.find('.author-bottom__card').slice(counter).hide("slow");

            $closestContributorsItem.find('.author-bottom__contributors').slice(counter).hide("slow");

            if (counter <= 3) {
                $(this).text(moretext);
            }
        }
    });
});

$(document).ready(function () {
        const bioGlanceContainer = document.querySelector('.bio-glance-container');
        if(bioGlanceContainer!=null || bioGlanceContainer!= undefined){
            const bioGlanceContentContainer = bioGlanceContainer.querySelector("#bio-glance-content-container");
            const glanceContentDivList= bioGlanceContentContainer?.querySelectorAll(".bio-glance-content");
            if(glanceContentDivList?.length === 0 ){
                bioGlanceContainer.style.display="none";
            }
            if (window.innerWidth >= 768) {
            let [glanceFirstContentDiv , glanceSecondContentDiv , glanceThirdContentDiv , glanceFourthContentDiv] = glanceContentDivList
            if(glanceContentDivList?.length > 2){
                const firstDivContentHeight = glanceFirstContentDiv.clientHeight +  parseInt(getComputedStyle(glanceFirstContentDiv).marginBottom);
                const secondDivContentHeight =  glanceSecondContentDiv.clientHeight +  parseInt(getComputedStyle(glanceSecondContentDiv).marginBottom)
                if(firstDivContentHeight > secondDivContentHeight && glanceFourthContentDiv){
                    glanceFourthContentDiv.style.marginTop = ` -${firstDivContentHeight - secondDivContentHeight}px`;
                } else if(secondDivContentHeight > firstDivContentHeight && glanceThirdContentDiv){
                    glanceThirdContentDiv.style.marginTop = ` -${secondDivContentHeight - firstDivContentHeight}px`;
                }

            } else if(glanceContentDivList?.length === 1){
                bioGlanceContentContainer.classList.add("single-glance-content")
            }
        }
    }
});

PwC.ns("PwC.components.peopleContactscollection.listeners");

PwC.components.peopleContactscollection.listeners = {
    peoplePaginateListAjax: function (path, link, container) {
        $.ajaxSetup({
            xhrFields: { withCredentials: true }
        });

        $.ajax(path + ".dynamic.html?" + link).done(function (data) {
            var $newItems = $($CQ(data).find(".people-contact-collection-cards-container"));
            $(container).find(".people-component-list-container").append($newItems);
            init(container);
        });
    }
};

// init function for contact collection all functions are defined in inside init function
function init(container) {
    let hoverElement = null;
    function setAreaOffouce(tag, element) {
        const tagContainer = element?.querySelector('.people-contact-collection-tag-container');
      
        if (tagContainer) {
            var maxWidth = tagContainer?.offsetWidth;
            var totalWidth = 38;
            var remainingTags = [];
            var tagsArray = tag;

            tagContainer.innerHTML = "";
            tagContainer.removeAttribute('style')
            tagsArray.forEach(function (e) {
                var tagElement = document.createElement('p');
                tagElement.textContent = e;

                tagContainer.appendChild(tagElement);
                if (tagContainer?.offsetHeight > 40) {
                    var tagWidth = tagElement.offsetWidth;
                    totalWidth += tagWidth + 15;
                    if (totalWidth > maxWidth) {
                        tagElement.style.display = 'none';
                        remainingTags.push(e);
                    }
                }
            });

            if (tagContainer?.offsetHeight > 38 && (element.parentElement.className.includes("people-contact-collection-cards-container-reduced") && element.querySelector(".people-contact-collection-card-no-thubmail"))) {
                tagContainer.style.height = "66px";
            }
            const tags = tagContainer?.querySelectorAll('p')

            tags?.forEach(elemt => {
                elemt.className = "peolpe-area-tags"
            })

            if (remainingTags?.length > 0 && tagContainer) {
                var showMoreElement = document.createElement('p');
                showMoreElement.textContent = '+' + remainingTags.length;
                showMoreElement.className = "peolpe-area-tags";
                tagContainer.appendChild(showMoreElement);
            }
        }
    }

    // onhover card caluclute the short bio height
    function onHoverOfCard(element, test) {
        if (!element.className.includes(hoverElement)) {
            hoverElement = element.className
            if (element?.querySelector('.people-contact-collection-short-bio')) {
                const peopleContactCollectionShortBio = element?.querySelector('.people-contact-collection-short-bio');
                if (element.type !== "mouseleave") {
                    const peopleContactCollectioninfoHeight = element?.querySelector('.people-contact-collection-info')?.getBoundingClientRect().height || 0;
                    const peopleContactCollectionShortBioHeight = peopleContactCollectionShortBio?.getBoundingClientRect().height || 0;
                    const peopleContactCollectionBottomContainerHeight = element?.querySelector('.people-component-collection-bottom-container')?.getBoundingClientRect().height || 0;
                    let calDescriptionHeight = peopleContactCollectioninfoHeight + peopleContactCollectionBottomContainerHeight;
                    calDescriptionHeight = element?.getBoundingClientRect().height - calDescriptionHeight;
                    calDescriptionHeight = peopleContactCollectionShortBioHeight + calDescriptionHeight;
                    var peopleContactCollectionShortBioEle = peopleContactCollectionShortBio.querySelector("p");
                    var lineHeight = parseInt(window.getComputedStyle(peopleContactCollectionShortBioEle).getPropertyValue("line-Height"), 10);
                    var lines = calDescriptionHeight / lineHeight;
                    peopleContactCollectionShortBioEle.style["-webkit-line-clamp"] = Math.round(lines);
                    peopleContactCollectionShortBioEle.style["line-clamp"] = Math.round(lines);
                }
            }
            element.classList.add("people-card-hover")
        } else if (test === false) {
            hoverElement = null;
            const peopleContactCollectionShortBio = element?.querySelector('.people-contact-collection-short-bio')
            if (peopleContactCollectionShortBio) {
                var peopleContactCollectionShortBioEle = peopleContactCollectionShortBio.querySelector("p");
                peopleContactCollectionShortBioEle.removeAttribute('style');
            }
            element.classList.remove("people-card-hover")
        }
    }
    // show number of area of fouces
    function equalizeTags(cards) {
        cards.forEach(card => {
            const areaOfFouces = card?.querySelector('.people-contact-collection-tag-container')?.getAttribute('data-modale-tag');
            if (areaOfFouces) {
                setAreaOffouce(areaOfFouces?.split(','), card);
            }
        });
    }
    // Calulate the card height and set the height of the card  
    function equalizeHeights(cards) {
        const maxHeight = Math.max(...cards.map(card => card?.getBoundingClientRect().height));
        cards.forEach(card => card.style.height = `${maxHeight}px`);
    }

    // Calulate the social icon container height and set the height of the container  
    function equalizeHeightsOfSoical(cards) {
        const cardArray = Array.isArray(cards) ? cards : Array.from(cards);
        const maxHeight = Math.max(...cardArray.map(card => {
            const element = card.querySelector(".people-contact-collection-link-container-border");
            return element ? element?.getBoundingClientRect().height : 0;
        }));

        cardArray.forEach(card => {
            const element = card.querySelector(".people-contact-collection-link-container-border");
            if (element) {
                element.style.height = `${maxHeight}px`;
            }
        });
    }

    const peopleContactCard = container.querySelectorAll('.people-contact-collection-cards-container');
    const peopleCard = container.querySelectorAll('.people-contact-collection-cards-container > .people-contact-collection-card ');
    // main card functionality
    function mainEqualize() {
        peopleCard.forEach(element => {
            if (element.parentElement.className.includes("people-contact-collection-cards-container-hover")) {
                element.addEventListener('mouseover', () => {
                    onHoverOfCard(element);
                });
                element.addEventListener('mouseleave', () => onHoverOfCard(element, false));
            }
        });
        
        // spilting the card in 4 card in each row 
        const chunks = [];
        let chunkSize = 0;
        let chunkIndex = 0;
        for (let i = 0; i < peopleContactCard.length; i++) {
            const item = peopleContactCard[i];
            if (!chunks[chunkIndex]) {
                chunks[chunkIndex] = [];
            }
            chunks[chunkIndex].push(item);
            chunkSize++;

            if((window.innerWidth < 768) && chunkSize === 1){
                chunkSize = 0;
                chunkIndex++;
            }else if ((window.innerWidth > 767 && window.innerWidth < 1200) && chunkSize === 3) {
                chunkSize = 0;
                chunkIndex++;       
            } else if (chunkSize === 4) {
                chunkSize = 0;
                chunkIndex++;
            }
        }

        chunks.forEach(function (elem) {
            const cards = elem;
            equalizeTags(cards);
            equalizeHeightsOfSoical(cards);
            equalizeHeights(cards);
        });
    }
    mainEqualize();
};

$(document).ready(function () {
    // Multiply People collection loop 
    const peopleComponentsList = document.querySelectorAll(".contactscollection");
    peopleComponentsList?.forEach(function (mainElment) {
        mainElment.classList.add("peoplecontactscollection");
        if (!mainElment.parentElement.parentElement.className.includes('fullwidth')) {
            mainElment.querySelector(".container").style.width = "100%";
            mainElment.querySelector(".container").style.padding = "0px";
        }
        init(mainElment);
    })
});

</script>

</body>
</html>
