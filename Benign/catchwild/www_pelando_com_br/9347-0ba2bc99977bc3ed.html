<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9347-0ba2bc99977bc3ed.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9347],{38665:function(n,e,t){t.d(e,{fu:function(){return S},no:function(){return p},U:function(){return h},Dj:function(){return v}});var r=t(74634),o=t(37099);let a="@search",i={GetMostFrequentSearch:"".concat(a,"/GET_MOST_FRAQUENT_SEARCH"),FederatedSearch:"".concat(a,"/FEDERATED_SEARCH"),SearchSuggestions:"".concat(a,"/SEARCH_SUGGESTIONS"),MostSearchedProducts:"".concat(a,"/MOST_SEARCHED_PRODUCTS"),GetSearchTermsSuggestions:"".concat(a,"/GET_SEARCH_TERMS_SUGGESTIONS"),GetBlackFridayTermsSuggestions:"".concat(a,"/GET_BLACK_FRIDAY_TERMS_SUGGESTIONS")};var u=t(25943),d=t(1779),l=t(61989),c=t(89992);let s="\n  fragment FacetsFragment on Facet {\n    type\n    field\n    name\n    options {\n      ...RangeFacetOptionFragment\n      ...TextFacetOptionFragment\n    }\n  }\n\n  ".concat("\n  fragment TextFacetOptionFragment on TextFacetOption {\n    values {\n      count\n      value\n    }\n  }\n","\n  ").concat("\n  fragment RangeFacetOptionFragment on RangeFacetOption {\n    from\n    to\n  }\n","\n"),g="\n  fragment FederatedSearchReturnOffersFragment on FederatedSearchV1ReturnOffers {\n    searchId\n    context\n    edges {\n      id\n      discountFixed\n      discountPercentage\n      freeShipping\n      image {\n        id\n        url(height: 238)\n      }\n      price\n      sourceUrl\n      status\n      temperature\n      kind\n      isTracked\n      couponCode\n      commentCount\n      timestamps {\n        ...DealTimestampsFragment\n      }\n      title\n      store {\n        name\n        slug\n        url\n        image {\n          id\n          url(height: 238)\n        }\n      }\n\n    ...CashbackFragmentOffer\n    }\n    pageInfo {\n      ...PageInfoFragment\n    }\n    facets {\n      ...FacetsFragment\n    }\n    total\n  }\n  \n   ".concat(d.e,"\n"),m="\n  query FederatedSearch($input: [federatedSearchV1Input!]!) {\n    public {\n      federatedSearchV1(input: $input) {\n        rules {\n          mainContext\n        }\n        searches {\n          ...FederatedSearchReturnOffersFragment\n          ...FederatedSearchReturnProductsFragment\n          ...FederatedSearchReturnStoresFragment\n          ...FederatedSearchReturnSuggestionsFragment\n        }\n      }\n    }\n  }\n  ".concat(s,"\n  ").concat(g,"\n  ").concat("\n  fragment FederatedSearchReturnProductsFragment on FederatedSearchV1ReturnProducts {\n    searchId\n    indexSource\n    context\n    edges {\n      id\n      title\n      categoryId\n      image {\n        id\n        url\n      }\n      indexSource\n      currentMinPrice\n      totalStoresCount\n      nominalModel\n      minPriceStore {\n        name\n      }\n      rangePercentageMessage {\n        status\n      }\n    }\n    pageInfo {\n      ...PageInfoFragment\n    }\n    facets {\n      ...FacetsFragment\n    }\n    total\n  }\n","\n  ").concat("\n  fragment FederatedSearchReturnStoresFragment on FederatedSearchV1ReturnStores {\n    searchId\n    context\n    edges {\n      id\n      name\n      slug\n      couponsCount\n      offersCount\n      productsCount\n      image {\n        id\n        url(width: 64)\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    total\n  }\n","\n  ").concat("\n  fragment FederatedSearchReturnSuggestionsFragment on FederatedSearchV1ReturnSuggestions {\n    context\n    edges {\n      suggestion\n    }\n  }\n","\n  ").concat(l.m,"\n  ").concat(c.G6,"\n");var f=t(48309);let S=(0,r.Z)({id:i.FederatedSearch,query:m,method:o.Tt.Get,transform:n=>n.public.federatedSearchV1,cacheTransform:u.dS}),v=(0,r.Z)({id:i.SearchSuggestions,query:m,method:o.Tt.Get,transform:n=>n.public.federatedSearchV1.searches,cacheTransform:(n,e)=>{var t,r;let{data:o,loading:a}=n;return a?{products:(null==e?void 0:e.products)||[],suggestions:(null==e?void 0:e.suggestions)||[],loading:a}:{products:(null==o?void 0:null===(t=o.find(n=>n.context===f.cx.Product))||void 0===t?void 0:t.edges)||[],suggestions:(null==o?void 0:null===(r=o.find(n=>n.context===f.cx.Suggestion))||void 0===r?void 0:r.edges)||[],loading:a}}}),h=(0,r.Z)({id:i.MostSearchedProducts,query:"\n  query MostSearchedProducts {\n    public {\n      mostSearchedProductsV1 {\n        id\n        title\n        categoryId\n        image {\n          id\n          url(width: 144)\n        }\n        indexSource\n        currentMinPrice\n        totalStoresCount\n        minPriceStore {\n          name\n        }\n        rangePercentageMessage {\n          status\n        }\n      }\n    }\n  }\n",method:o.Tt.Get,transform:n=>n.public.mostSearchedProductsV1}),p=(0,r.Z)({id:i.GetMostFrequentSearch,query:"\n  query MostFrequentSearchesQuery {\n    public {\n      mostFrequentSearches\n    }\n  }\n",method:o.Tt.Get,transform:n=>n.public.mostFrequentSearches,cacheTransform:(n,e)=>{let{data:t}=n;return{frequentSearches:t||(null==e?void 0:e.frequentSearches)||[]}}});(0,r.Z)({id:i.GetSearchTermsSuggestions,query:"\nquery GetSearchTermsSuggestions($text: String!, $limit: Int) {\n  public {\n    searchTermsSuggestions(text: $text, limit: $limit) {\n      suggestions {\n        keyword\n        faq {\n          data {\n            question\n            answer\n          }\n        }\n      }\n      shouldIndexSearch\n    }\n  }\n}\n",method:o.Tt.Get,transform:n=>n.public.searchTermsSuggestions}),(0,r.Z)({id:i.GetBlackFridayTermsSuggestions,query:"\nquery GetSearchTermsSuggestions($text: String!, $limit: Int) {\n  public {\n    searchTermsSuggestions(text: $text, limit: $limit) {\n      suggestions {\n        keyword\n        pathUrl\n      }\n    }\n  }\n}\n",method:o.Tt.Get,transform:n=>n.public.searchTermsSuggestions})},22307:function(n,e,t){t.d(e,{Sh:function(){return l},sb:function(){return c}});var r=t(91186),o=t(62161),a=t(79795),i=t(38665),u=t(48309);let d=n=>i.Dj.request({input:[{context:u.cx.Suggestion,limit:4,query:n},{context:u.cx.Product,limit:4,query:n}]}),l=()=>{let n=new r.x;return{getSearchSuggestions:e=>n.next(e),debouncedRequestAndCache$:n.pipe((0,o.b)(400),(0,a.w)(d),(0,a.w)(()=>i.Dj.cache$))}},c=()=>{i.Dj.cache$.next({products:[],suggestions:[],loading:!1})}},25943:function(n,e,t){t.d(e,{SM:function(){return d},dS:function(){return g}});var r=t(4735),o=t(48309),a=t(75156),i=t(7455);let u=n=>{var e;let{loading:t,current:a,filters:i,facets:u,facetsToIgnoreUpdate:d}=n;if(t)return null==a?void 0:a.facets;if(!(0,r.aj)())return(null==a?void 0:a.facets)||u;let l=null==i?void 0:i.find(n=>n.field===o.xc),c=(null==i?void 0:i.length)||0,s=null==a?void 0:null===(e=a.initialFacets)||void 0===e?void 0:e.find(n=>n.field===o.xc),g=!!(null==u?void 0:u.length),m=(u||[]).map(n=>{var e;return(null==d?void 0:d.includes(n.field))&&(null==a?void 0:null===(e=a.facets)||void 0===e?void 0:e.find(e=>e.field===n.field))||n}).map(n=>n.field===o.xc&&1===c&&l&&s?s:n);return g?m:null==a?void 0:a.facets},d=n=>{if(null==n?void 0:n.loading)return;let e=[o.cx.Product,o.cx.Deal,o.cx.Store],t={[o.cx.Product]:!!(null==n?void 0:n.products.total),[o.cx.Deal]:!!(null==n?void 0:n.deals.total),[o.cx.Store]:!!(null==n?void 0:n.stores.total)},r=e.filter(n=>t[n]);return(null==n?void 0:n.mainContext)||r[0]||o.cx.Product},l=n=>{let{current:e,data:t,input:r,loading:u}=n,d=!!r;if(e&&!d)return e;let l=(0,i.zm)({current:e,incomming:t,input:r}),c=!!(null==r?void 0:r.after);return(0,a.I)(o.cx.Deal,(null==t?void 0:t.searchId)||""),{currentTerm:(null==r?void 0:r.query)||"",loading:u&&!c,paginationLoading:u&&c,pageInfo:null==t?void 0:t.pageInfo,edges:l,facets:(null==e?void 0:e.facets)||(null==t?void 0:t.facets),total:(u?null==e?void 0:e.total:null==t?void 0:t.total)||0,originalEdges:(null==t?void 0:t.edges)||[],searchId:(null==t?void 0:t.searchId)||""}},c=n=>{let{current:e,data:t,input:r,loading:d,facetsToIgnoreUpdate:l}=n,c=!!r;if(e&&!c)return e;let s=(0,i.zm)({current:e,input:r,incomming:t}),g=(null==e?void 0:e.currentTerm)||"",m=(null==r?void 0:r.query)===g,f=!!(null==r?void 0:r.after),S=m?u({loading:d,current:e,facets:null==t?void 0:t.facets,filters:null==r?void 0:r.filters,facetsToIgnoreUpdate:l}):null==t?void 0:t.facets,v=(null==e?void 0:e.initialFacets)?null==e?void 0:e.initialFacets:null==t?void 0:t.facets;return(0,a.I)(o.cx.Product,(null==t?void 0:t.searchId)||""),{indexSource:null==t?void 0:t.indexSource,currentTerm:(null==r?void 0:r.query)||"",loading:d&&!f,paginationLoading:d&&f,pageInfo:null==t?void 0:t.pageInfo,edges:s,facets:S,total:(d?null==e?void 0:e.total:null==t?void 0:t.total)||0,originalEdges:(null==t?void 0:t.edges)||[],searchId:(null==t?void 0:t.searchId)||"",initialFacets:v}},s=n=>{let{current:e,data:t,input:r,loading:u}=n,d=!!r;if(e&&!d)return e;let l=(0,i.zm)({current:e,incomming:t,input:r}),c=!!(null==r?void 0:r.after);return(0,a.I)(o.cx.Store,(null==t?void 0:t.searchId)||""),{currentTerm:(null==r?void 0:r.query)||"",loading:u&&!c,paginationLoading:u&&c,pageInfo:null==t?void 0:t.pageInfo,edges:l,total:(u?null==e?void 0:e.total:null==t?void 0:t.total)||0,originalEdges:(null==t?void 0:t.edges)||[],searchId:(null==t?void 0:t.searchId)||""}};function g(n,e){var t,r,a,u,d,g;let m=(0,i.O_)(null===(t=n.data)||void 0===t?void 0:t.searches),f=(0,i.vu)(null===(r=n.variables)||void 0===r?void 0:r.input);return{deals:l({current:null==e?void 0:e.deals,data:m[o.cx.Deal],input:f[o.cx.Deal],loading:n.loading}),products:c({current:null==e?void 0:e.products,data:m[o.cx.Product],input:f[o.cx.Product],loading:n.loading,facetsToIgnoreUpdate:null===(a=n.variables)||void 0===a?void 0:a.facetsToIgnoreUpdate}),stores:s({current:null==e?void 0:e.stores,data:m[o.cx.Store],input:f[o.cx.Store],loading:n.loading}),currentTerm:null===(u=n.variables)||void 0===u?void 0:u.input[0].query,mainContext:null===(g=n.data)||void 0===g?void 0:null===(d=g.rules)||void 0===d?void 0:d.mainContext,loading:n.loading}}},23706:function(n,e,t){var r,o;t.d(e,{a:function(){return r}}),(o=r||(r={})).RECENTS="recents",o.MOST_SEARCHED="most_searched",o.STORES="stores",o.PRODUCTS="products",o.AUTOCOMPLETE="autocomplete"},96717:function(n,e,t){t.d(e,{R:function(){return i}});var r=t(67294),o=t(38665),a=t(26);let i=()=>{let{frequentSearches:n=[]}=(0,a.C)(o.no.cache$)||{},e=n.length>0;return(0,r.useEffect)(()=>{e||o.no.requestAsPromise()},[e]),{frequentSearches:n}}},56292:function(n,e,t){t.d(e,{d:function(){return g}});var r=t(67294),o=t(98504),a=t(22307),i=t(26),u=t(95035);let d=n=>n.map(n=>{let{id:e,image:t,title:r}=n;return{id:e,image:t.url,name:r,url:(0,u.$h)(e,r)}}),l=(n,e)=>n.map(n=>{let{suggestion:t}=n;return{suggestion:t,url:(0,o.T)({keyword:t,searchType:e})}}),{debouncedRequestAndCache$:c,getSearchSuggestions:s}=(0,a.Sh)();function g(n){let{suggestions:e,products:t,loading:o}=(0,i.C)(c)||{loading:!0};return{suggestions:(0,r.useMemo)(()=>l(e||[],n),[e,n]),products:(0,r.useMemo)(()=>d(t||[]),[t]),getSuggestions:(0,r.useCallback)(s,[]),loading:o}}}}]);
//# sourceMappingURL=9347-0ba2bc99977bc3ed.js.map
</script>

</body>
</html>
