<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicTest.min.html</title>
</head>
<body>

<script>
(function(q) {
    var b = function() {};
    b.__name__ = !0;
    b.main = function() {
        window.addEventListener("DOMContentLoaded", function() {
            b.div = window.document.getElementById("audio-div");
            b.canvas = window.document.getElementById("audio-canvas");
            null == b.canvas && (b.canvas = window.document.createElement("canvas"), b.canvas.id = "audio-canvas", b.div.appendChild(b.canvas));
            b.canvas.width = b.div.clientWidth;
            b.canvas.height = b.div.clientHeight;
            b.userMediaInfoDisplay = window.document.getElementById("audio-info");
            null == b.userMediaInfoDisplay &&
            (b.userMediaInfoDisplay = window.document.createElement("p"), b.userMediaInfoDisplay.id = "audio-info", b.userMediaInfoDisplay.style.font = '12pt ".SFNSText-Regular", "San Francisco", "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", "Open Sans", sans-serif', b.userMediaInfoDisplay.style.textAlign = "center", b.userMediaInfoDisplay.style.padding = "8px", b.userMediaInfoDisplay.style.position = "absolute", b.userMediaInfoDisplay.style.top = "45%", b.userMediaInfoDisplay.style.width = "100%", b.userMediaInfoDisplay.style.color =
                "#111111", b.userMediaInfoDisplay.style.display = "none", b.div.appendChild(b.userMediaInfoDisplay));
            b.userMediaInfoDisplay.innerHTML = "Waiting for microphone...";
            b.btnStart = window.document.getElementById("audio-start");
            b.btnStart.style.width = "100%";
            b.btnStart.style.height = "100%";
            b.btnStart.style.position = "absolute";
            b.btnStart.style.display = "block";
            b.btnStart.addEventListener("click", function() {
                b.btnStart.style.display = "none";
                b.userMediaInfoDisplay.style.display = "block";
                b.canvas.width = b.div.clientWidth;
                b.canvas.height = b.div.clientHeight;
                navigator.mediaDevices.getUserMedia({
                    audio: !0
                }).then(b.onGetUserMedia, b.onGetUserMediaFailed)
            });
            b.ctx = b.canvas.getContext("2d")
        })
    };
    b.onGetUserMediaFailed = function(a) {
        window.console.log("Getting user media failed: " + n.string(a));
        b.userMediaInfoDisplay.innerHTML = "NotFoundError" == a.name ? "<strong>We can't find your microphone</strong> - that most probably means that it's either not connected, broken, or you don't have the proper webcam drivers (see below)" : "Microphone not authorized. Please check your media permissions settings."
    };
    b.onGetUserMedia = function(a) {
		console.log("!**************************!")
        b.canvas.width = b.div.clientWidth;
        b.canvas.height = b.div.clientHeight;
        b.userMediaInfoDisplay.style.display = "none";
        b.actx = new AudioContext;
        b.analyser = b.actx.createAnalyser();
        b.source = b.actx.createMediaStreamSource(a);
        b.source.connect(b.analyser);
        b.visualize(a)
    };
    b.visualize = function(a) {
        b.ctx.clearRect(0, 0, b.canvas.width, b.canvas.height);
        var d = .5 * b.canvas.height,
            c = b.canvas.width / b.analyser.frequencyBinCount;
        var m = .5 * b.canvas.height;
        var e = new w(b.analyser.frequencyBinCount),
            f = null;
        f = function() {
            window.requestAnimationFrame(f);
            b.analyser.getFloatTimeDomainData(e);
            b.ctx.fillStyle = "white";
            b.ctx.fillRect(0, 0, b.canvas.width, b.canvas.height);
            b.ctx.lineWidth = 1;
            b.ctx.strokeStyle = "black";
            b.ctx.beginPath();
            for (var a = 0, h = e.length; a < h;) {
                var g = a++;
                b.ctx.lineTo(g * c, e[g] * m + d)
            }
            b.ctx.stroke()
        };
        f()
    };
    Math.__name__ = !0;
    var n = function() {};
    n.__name__ = !0;
    n.string = function(a) {
        return f.__string_rec(a, "")
    };
    var p = function() {};
    p.__name__ = !0;
    p.i32ToFloat = function(a) {
        var d = a >>> 23 & 255,
            c = a & 8388607;
        return 0 ==
        c && 0 == d ? 0 : (1 - (a >>> 31 << 1)) * (1 + Math.pow(2, -23) * c) * Math.pow(2, d - 127)
    };
    p.floatToI32 = function(a) {
        if (0 == a) return 0;
        var d = 0 > a ? -a : a,
            c = Math.floor(Math.log(d) / .6931471805599453); - 127 > c ? c = -127 : 128 < c && (c = 128);
        d = Math.round(8388608 * (d / Math.pow(2, c) - 1));
        8388608 == d && 128 > c && (d = 0, ++c);
        return (0 > a ? -2147483648 : 0) | c + 127 << 23 | d
    };
    var h = function(a) {
        Error.call(this);
        this.val = a;
        this.message = String(a);
        Error.captureStackTrace && Error.captureStackTrace(this, h)
    };
    h.__name__ = !0;
    h.wrap = function(a) {
        return a instanceof Error ? a : new h(a)
    };
    h.__super__ = Error;
    h.prototype = function(a, d) {
        function c() {}
        c.prototype = a;
        a = new c;
        for (var b in d) a[b] = d[b];
        d.toString !== Object.prototype.toString && (a.toString = d.toString);
        return a
    }(Error.prototype, {
        __class__: h
    });
    var f = function() {};
    f.__name__ = !0;
    f.getClass = function(a) {
        if (a instanceof Array && null == a.__enum__) return Array;
        var d = a.__class__;
        if (null != d) return d;
        a = f.__nativeClassName(a);
        return null != a ? f.__resolveNativeClass(a) : null
    };
    f.__string_rec = function(a, d) {
        if (null == a) return "null";
        if (5 <= d.length) return "<...>";
        var c = typeof a;
        "function" == c && (a.__name__ || a.__ename__) && (c = "object");
        switch (c) {
            case "function":
                return "<function>";
            case "object":
                if (a instanceof Array) {
                    if (a.__enum__) {
                        if (2 == a.length) return a[0];
                        c = a[0] + "(";
                        d += "\t";
                        for (var b = 2, e = a.length; b < e;) {
                            var g = b++;
                            c = 2 != g ? c + ("," + f.__string_rec(a[g], d)) : c + f.__string_rec(a[g], d)
                        }
                        return c + ")"
                    }
                    c = a.length;
                    b = "[";
                    d += "\t";
                    for (e = 0; e < c;) g = e++, b += (0 < g ? "," : "") + f.__string_rec(a[g], d);
                    return b + "]"
                }
                try {
                    b = a.toString
                } catch (B) {
                    return "???"
                }
                if (null != b && b != Object.toString && "function" ==
                    typeof b && (c = a.toString(), "[object Object]" != c)) return c;
                c = null;
                b = "{\n";
                d += "\t";
                e = null != a.hasOwnProperty;
                for (c in a) e && !a.hasOwnProperty(c) || "prototype" == c || "__class__" == c || "__super__" == c || "__interfaces__" == c || "__properties__" == c || (2 != b.length && (b += ", \n"), b += d + c + " : " + f.__string_rec(a[c], d));
                d = d.substring(1);
                return b + ("\n" + d + "}");
            case "string":
                return a;
            default:
                return String(a)
        }
    };
    f.__interfLoop = function(a, d) {
        if (null == a) return !1;
        if (a == d) return !0;
        var b = a.__interfaces__;
        if (null != b)
            for (var m = 0, e = b.length; m <
            e;) {
                var g = m++;
                g = b[g];
                if (g == d || f.__interfLoop(g, d)) return !0
            }
        return f.__interfLoop(a.__super__, d)
    };
    f.__instanceof = function(a, d) {
        if (null == d) return !1;
        switch (d) {
            case Array:
                return a instanceof Array ? null == a.__enum__ : !1;
            case t:
                return "boolean" == typeof a;
            case x:
                return !0;
            case u:
                return "number" == typeof a;
            case y:
                return "number" == typeof a ? (a | 0) === a : !1;
            case String:
                return "string" == typeof a;
            default:
                if (null != a)
                    if ("function" == typeof d) {
                        if (a instanceof d || f.__interfLoop(f.getClass(a), d)) return !0
                    } else {
                        if ("object" == typeof d &&
                            f.__isNativeObj(d) && a instanceof d) return !0
                    }
                else return !1;
                return d == z && null != a.__name__ || d == A && null != a.__ename__ ? !0 : a.__enum__ == d
        }
    };
    f.__nativeClassName = function(a) {
        a = f.__toStr.call(a).slice(8, -1);
        return "Object" == a || "Function" == a || "Math" == a || "JSON" == a ? null : a
    };
    f.__isNativeObj = function(a) {
        return null != f.__nativeClassName(a)
    };
    f.__resolveNativeClass = function(a) {
        return q[a]
    };
    var g = function(a) {
        if (a instanceof Array && null == a.__enum__) this.a = a, this.byteLength = a.length;
        else {
            this.a = [];
            for (var d = 0; d < a;) {
                var b =
                    d++;
                this.a[b] = 0
            }
            this.byteLength = a
        }
    };
    g.__name__ = !0;
    g.sliceImpl = function(a, d) {
        a = new v(this, a, null == d ? null : d - a);
        d = new r(a.byteLength);
        (new v(d)).set(a);
        return d
    };
    g.prototype = {
        slice: function(a, d) {
            return new g(this.a.slice(a, d))
        },
        __class__: g
    };
    var l = function() {};
    l.__name__ = !0;
    l._new = function(a, d, b) {
        if ("number" == typeof a) {
            var c = [];
            for (d = 0; d < a;) {
                var e = d++;
                c[e] = 0
            }
            c.byteLength = c.length << 2;
            c.byteOffset = 0;
            a = [];
            d = 0;
            for (e = c.length << 2; d < e;) d++, a.push(0);
            c.buffer = new g(a)
        } else if (f.__instanceof(a, g)) {
            null == d && (d =
                0);
            null == b && (b = a.byteLength - d >> 2);
            c = [];
            for (e = 0; e < b;) {
                e++;
                var k = a.a[d++] | a.a[d++] << 8 | a.a[d++] << 16 | a.a[d++] << 24;
                c.push(p.i32ToFloat(k))
            }
            c.byteLength = c.length << 2;
            c.byteOffset = d;
            c.buffer = a
        } else if (a instanceof Array && null == a.__enum__) {
            c = a.slice();
            a = [];
            for (d = 0; d < c.length;) e = c[d], ++d, e = p.floatToI32(e), a.push(e & 255), a.push(e >> 8 & 255), a.push(e >> 16 & 255), a.push(e >>> 24);
            c.byteLength = c.length << 2;
            c.byteOffset = 0;
            c.buffer = new g(a)
        } else throw new h("TODO " + n.string(a));
        c.subarray = l._subarray;
        c.set = l._set;
        return c
    };
    l._set = function(a, d) {
        if (f.__instanceof(a.buffer, g)) {
            if (a.byteLength + d > this.byteLength) throw new h("set() outside of range");
            for (var b = 0, m = a.byteLength; b < m;) {
                var e = b++;
                this[e + d] = a[e]
            }
        } else if (a instanceof Array && null == a.__enum__) {
            if (a.length + d > this.byteLength) throw new h("set() outside of range");
            b = 0;
            for (m = a.length; b < m;) e = b++, this[e + d] = a[e]
        } else throw new h("TODO");
    };
    l._subarray = function(a, b) {
        b = l._new(this.slice(a, b));
        b.byteOffset = 4 * a;
        return b
    };
    var k = function() {};
    k.__name__ = !0;
    k._new = function(a, b,
                      c) {
        if ("number" == typeof a) {
            c = [];
            for (b = 0; b < a;) {
                var d = b++;
                c[d] = 0
            }
            c.byteLength = c.length;
            c.byteOffset = 0;
            c.buffer = new g(c)
        } else if (f.__instanceof(a, g)) null == b && (b = 0), null == c && (c = a.byteLength - b), c = 0 == b ? a.a : a.a.slice(b, b + c), c.byteLength = c.length, c.byteOffset = b, c.buffer = a;
        else if (a instanceof Array && null == a.__enum__) c = a.slice(), c.byteLength = c.length, c.byteOffset = 0, c.buffer = new g(c);
        else throw new h("TODO " + n.string(a));
        c.subarray = k._subarray;
        c.set = k._set;
        return c
    };
    k._set = function(a, b) {
        if (f.__instanceof(a.buffer,
            g)) {
            if (a.byteLength + b > this.byteLength) throw new h("set() outside of range");
            for (var c = 0, d = a.byteLength; c < d;) {
                var e = c++;
                this[e + b] = a[e]
            }
        } else if (a instanceof Array && null == a.__enum__) {
            if (a.length + b > this.byteLength) throw new h("set() outside of range");
            c = 0;
            for (d = a.length; c < d;) e = c++, this[e + b] = a[e]
        } else throw new h("TODO");
    };
    k._subarray = function(a, b) {
        b = k._new(this.slice(a, b));
        b.byteOffset = a;
        return b
    };
    String.prototype.__class__ = String;
    String.__name__ = !0;
    Array.__name__ = !0;
    var y = {
            __name__: ["Int"]
        },
        x = {
            __name__: ["Dynamic"]
        },
        u = Number;
    u.__name__ = ["Float"];
    var t = Boolean;
    t.__ename__ = ["Bool"];
    var z = {
            __name__: ["Class"]
        },
        A = {},
        r = q.ArrayBuffer || g;
    null == r.prototype.slice && (r.prototype.slice = g.sliceImpl);
    var w = q.Float32Array || l._new,
        v = q.Uint8Array || k._new;
    f.__toStr = {}.toString;
    l.BYTES_PER_ELEMENT = 4;
    k.BYTES_PER_ELEMENT = 1;
    b.main()
})("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this);
</script>

</body>
</html>
