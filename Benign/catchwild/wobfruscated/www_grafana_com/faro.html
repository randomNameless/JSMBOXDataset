<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>faro.html</title>
</head>
<body>
<script>(()=>{var bo=Object.create;var Xi=Object.defineProperty;var vo=Object.getOwnPropertyDescriptor;var ho=Object.getOwnPropertyNames;var Eo=Object.getPrototypeOf,xo=Object.prototype.hasOwnProperty;var rt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var So=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ho(t))!xo.call(e,o)&&o!==i&&Xi(e,o,{get:()=>t[o],enumerable:!(n=vo(t,o))||n.enumerable});return e};var Ji=(e,t,i)=>(i=e!=null?bo(Eo(e)):{},So(t||!e||!e.__esModule?Xi(i,"default",{value:e,enumerable:!0}):i,e));var Qi=rt((Tr,Jt)=>{function Co(e,t){var i,n,o,s,l,u,f,p,r,a;for(i=e.length&3,n=e.length-i,o=t,l=3432918353,f=461845907,a=0;a<n;)r=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,++a,r=(r&65535)*l+(((r>>>16)*l&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(r&65535)*f+(((r>>>16)*f&65535)<<16)&4294967295,o^=r,o=o<<13|o>>>19,s=(o&65535)*5+(((o>>>16)*5&65535)<<16)&4294967295,o=(s&65535)+27492+(((s>>>16)+58964&65535)<<16);switch(r=0,i){case 3:r^=(e.charCodeAt(a+2)&255)<<16;case 2:r^=(e.charCodeAt(a+1)&255)<<8;case 1:r^=e.charCodeAt(a)&255,r=(r&65535)*l+(((r>>>16)*l&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(r&65535)*f+(((r>>>16)*f&65535)<<16)&4294967295,o^=r}return o^=e.length,o^=o>>>16,o=(o&65535)*2246822507+(((o>>>16)*2246822507&65535)<<16)&4294967295,o^=o>>>13,o=(o&65535)*3266489909+(((o>>>16)*3266489909&65535)<<16)&4294967295,o^=o>>>16,o>>>0}typeof Jt<"u"&&(Jt.exports=Co)});var en=rt((yr,Zt)=>{function Po(e,t){for(var i=e.length,n=t^i,o=0,s;i>=4;)s=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),n=(n&65535)*1540483477+(((n>>>16)*1540483477&65535)<<16)^s,i-=4,++o;switch(i){case 3:n^=(e.charCodeAt(o+2)&255)<<16;case 2:n^=(e.charCodeAt(o+1)&255)<<8;case 1:n^=e.charCodeAt(o)&255,n=(n&65535)*1540483477+(((n>>>16)*1540483477&65535)<<16)}return n^=n>>>13,n=(n&65535)*1540483477+(((n>>>16)*1540483477&65535)<<16),n^=n>>>15,n>>>0}typeof Zt!==void 0&&(Zt.exports=Po)});var nn=rt((Or,vt)=>{var tn=Qi(),Fo=en();vt.exports=tn;vt.exports.murmur3=tn;vt.exports.murmur2=Fo});var ln=rt((Ve,Nt)=>{(function(e,t){"use strict";var i="1.0.37",n="",o="?",s="function",l="undefined",u="object",f="string",p="major",r="model",a="name",c="type",d="vendor",m="version",O="architecture",N="console",b="mobile",E="tablet",k="smarttv",ee="wearable",Se="embedded",I=500,h="Amazon",A="Apple",j="ASUS",te="BlackBerry",le="Browser",Je="Chrome",fo="Edge",Ze="Firefox",Qe="Google",Bi="Huawei",zt="LG",Gt="Microsoft",Vi="Motorola",et="Opera",tt="Samsung",zi="Sharp",it="Sony",Kt="Xiaomi",Ht="Zebra",Gi="Facebook",Ki="Chromium OS",Hi="Mac OS",po=function(x,w){var v={};for(var y in x)w[y]&&w[y].length%2===0?v[y]=w[y].concat(x[y]):v[y]=x[y];return v},nt=function(x){for(var w={},v=0;v<x.length;v++)w[x[v].toUpperCase()]=x[v];return w},$i=function(x,w){return typeof x===f?Le(w).indexOf(Le(x))!==-1:!1},Le=function(x){return x.toLowerCase()},mo=function(x){return typeof x===f?x.replace(/[^\d\.]/g,n).split(".")[0]:t},$t=function(x,w){if(typeof x===f)return x=x.replace(/^\s\s*/,n),typeof w===l?x:x.substring(0,I)},je=function(x,w){for(var v=0,y,ie,H,S,g,$;v<w.length&&!g;){var Wt=w[v],Yi=w[v+1];for(y=ie=0;y<Wt.length&&!g&&Wt[y];)if(g=Wt[y++].exec(x),g)for(H=0;H<Yi.length;H++)$=g[++ie],S=Yi[H],typeof S===u&&S.length>0?S.length===2?typeof S[1]==s?this[S[0]]=S[1].call(this,$):this[S[0]]=S[1]:S.length===3?typeof S[1]===s&&!(S[1].exec&&S[1].test)?this[S[0]]=$?S[1].call(this,$,S[2]):t:this[S[0]]=$?$.replace(S[1],S[2]):t:S.length===4&&(this[S[0]]=$?S[3].call(this,$.replace(S[1],S[2])):t):this[S]=$||t;v+=2}},qt=function(x,w){for(var v in w)if(typeof w[v]===u&&w[v].length>0){for(var y=0;y<w[v].length;y++)if($i(w[v][y],x))return v===o?t:v}else if($i(w[v],x))return v===o?t:v;return x},go={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},qi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Wi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,m],[/opios[\/ ]+([\w\.]+)/i],[m,[a,et+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[a,et]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[a,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[a,"UC"+le]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[a,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[a,"Smart Lenovo "+le]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+le],m],[/\bfocus\/([\w\.]+)/i],[m,[a,Ze+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[a,et+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[a,et+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[a,"MIUI "+le]],[/fxios\/([-\w\.]+)/i],[m,[a,Ze]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+le]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+le],m],[/samsungbrowser\/([\w\.]+)/i],[m,[a,tt+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[a,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[a,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[a,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,Gi],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[a,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[a,Je+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,Je+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[a,"Android "+le]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[m,qt,go]],[/(webkit|khtml)\/([\w\.]+)/i],[a,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[a,Ze+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,m],[/(cobalt)\/([\w\.]+)/i],[a,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,Le]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,n,Le]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,Le]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[r,[d,tt],[c,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[r,[d,tt],[c,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[r,[d,A],[c,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[r,[d,A],[c,E]],[/(macintosh);/i],[r,[d,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[r,[d,zi],[c,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[r,[d,Bi],[c,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[r,[d,Bi],[c,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[r,/_/g," "],[d,Kt],[c,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[r,/_/g," "],[d,Kt],[c,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[r,[d,"OPPO"],[c,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[r,[d,"Vivo"],[c,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[r,[d,"Realme"],[c,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[r,[d,Vi],[c,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[r,[d,Vi],[c,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[r,[d,zt],[c,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[r,[d,zt],[c,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[r,[d,"Lenovo"],[c,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[r,/_/g," "],[d,"Nokia"],[c,b]],[/(pixel c)\b/i],[r,[d,Qe],[c,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[r,[d,Qe],[c,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[r,[d,it],[c,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[r,"Xperia Tablet"],[d,it],[c,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[r,[d,"OnePlus"],[c,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[r,[d,h],[c,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[r,/(.+)/g,"Fire Phone $1"],[d,h],[c,b]],[/(playbook);[-\w\),; ]+(rim)/i],[r,d,[c,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[r,[d,te],[c,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[r,[d,j],[c,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[r,[d,j],[c,b]],[/(nexus 9)/i],[r,[d,"HTC"],[c,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[r,/_/g," "],[c,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[r,[d,"Acer"],[c,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[r,[d,"Meizu"],[c,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[r,[d,"Ulefone"],[c,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,r,[c,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,r,[c,E]],[/(surface duo)/i],[r,[d,Gt],[c,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[r,[d,"Fairphone"],[c,b]],[/(u304aa)/i],[r,[d,"AT&T"],[c,b]],[/\bsie-(\w*)/i],[r,[d,"Siemens"],[c,b]],[/\b(rct\w+) b/i],[r,[d,"RCA"],[c,E]],[/\b(venue[\d ]{2,7}) b/i],[r,[d,"Dell"],[c,E]],[/\b(q(?:mv|ta)\w+) b/i],[r,[d,"Verizon"],[c,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[r,[d,"Barnes & Noble"],[c,E]],[/\b(tm\d{3}\w+) b/i],[r,[d,"NuVision"],[c,E]],[/\b(k88) b/i],[r,[d,"ZTE"],[c,E]],[/\b(nx\d{3}j) b/i],[r,[d,"ZTE"],[c,b]],[/\b(gen\d{3}) b.+49h/i],[r,[d,"Swiss"],[c,b]],[/\b(zur\d{3}) b/i],[r,[d,"Swiss"],[c,E]],[/\b((zeki)?tb.*\b) b/i],[r,[d,"Zeki"],[c,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],r,[c,E]],[/\b(ns-?\w{0,9}) b/i],[r,[d,"Insignia"],[c,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[r,[d,"NextBook"],[c,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],r,[c,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],r,[c,b]],[/\b(ph-1) /i],[r,[d,"Essential"],[c,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[r,[d,"Envizen"],[c,E]],[/\b(trio[-\w\. ]+) b/i],[r,[d,"MachSpeed"],[c,E]],[/\btu_(1491) b/i],[r,[d,"Rotor"],[c,E]],[/(shield[\w ]+) b/i],[r,[d,"Nvidia"],[c,E]],[/(sprint) (\w+)/i],[d,r,[c,b]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[d,Gt],[c,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[r,[d,Ht],[c,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[r,[d,Ht],[c,b]],[/smart-tv.+(samsung)/i],[d,[c,k]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[d,tt],[c,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,zt],[c,k]],[/(apple) ?tv/i],[d,[r,A+" TV"],[c,k]],[/crkey/i],[[r,Je+"cast"],[d,Qe],[c,k]],[/droid.+aft(\w+)( bui|\))/i],[r,[d,h],[c,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[r,[d,zi],[c,k]],[/(bravia[\w ]+)( bui|\))/i],[r,[d,it],[c,k]],[/(mitv-\w{5}) bui/i],[r,[d,Kt],[c,k]],[/Hbbtv.*(technisat) (.*);/i],[d,r,[c,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,$t],[r,$t],[c,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,r,[c,N]],[/droid.+; (shield) bui/i],[r,[d,"Nvidia"],[c,N]],[/(playstation [345portablevi]+)/i],[r,[d,it],[c,N]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[r,[d,Gt],[c,N]],[/((pebble))app/i],[d,r,[c,ee]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[r,[d,A],[c,ee]],[/droid.+; (glass) \d/i],[r,[d,Qe],[c,ee]],[/droid.+; (wt63?0{2,3})\)/i],[r,[d,Ht],[c,ee]],[/(quest( 2| pro)?)/i],[r,[d,Gi],[c,ee]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[c,Se]],[/(aeobc)\b/i],[r,[d,h],[c,Se]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[r,[c,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[r,[c,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,b]],[/(android[-\w\. ]{0,9});.+buil/i],[r,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[a,fo+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[a,[m,qt,qi]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,qt,qi],[a,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,Hi],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,m],[/\(bb(10);/i],[m,[a,te]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[a,Ze+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[a,Je+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,Ki],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,m],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,m]]},L=function(x,w){if(typeof x===u&&(w=x,x=t),!(this instanceof L))return new L(x,w).getResult();var v=typeof e!==l&&e.navigator?e.navigator:t,y=x||(v&&v.userAgent?v.userAgent:n),ie=v&&v.userAgentData?v.userAgentData:t,H=w?po(Wi,w):Wi,S=v&&v.userAgent==y;return this.getBrowser=function(){var g={};return g[a]=t,g[m]=t,je.call(g,y,H.browser),g[p]=mo(g[m]),S&&v&&v.brave&&typeof v.brave.isBrave==s&&(g[a]="Brave"),g},this.getCPU=function(){var g={};return g[O]=t,je.call(g,y,H.cpu),g},this.getDevice=function(){var g={};return g[d]=t,g[r]=t,g[c]=t,je.call(g,y,H.device),S&&!g[c]&&ie&&ie.mobile&&(g[c]=b),S&&g[r]=="Macintosh"&&v&&typeof v.standalone!==l&&v.maxTouchPoints&&v.maxTouchPoints>2&&(g[r]="iPad",g[c]=E),g},this.getEngine=function(){var g={};return g[a]=t,g[m]=t,je.call(g,y,H.engine),g},this.getOS=function(){var g={};return g[a]=t,g[m]=t,je.call(g,y,H.os),S&&!g[a]&&ie&&ie.platform!="Unknown"&&(g[a]=ie.platform.replace(/chrome os/i,Ki).replace(/macos/i,Hi)),g},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(g){return y=typeof g===f&&g.length>I?$t(g,I):g,this},this.setUA(y),this};L.VERSION=i,L.BROWSER=nt([a,m,p]),L.CPU=nt([O]),L.DEVICE=nt([r,d,c,N,b,k,E,ee,Se]),L.ENGINE=L.OS=nt([a,m]),typeof Ve!==l?(typeof Nt!==l&&Nt.exports&&(Ve=Nt.exports=L),Ve.UAParser=L):typeof define===s&&define.amd?define(function(){return L}):typeof e!==l&&(e.UAParser=L);var we=typeof e!==l&&(e.jQuery||e.Zepto);if(we&&!we.ua){var ot=new L;we.ua=ot.getResult(),we.ua.get=function(){return ot.getUA()},we.ua.set=function(x){ot.setUA(x);var w=ot.getResult();for(var v in w)we.ua[v]=w[v]}}})(typeof window=="object"?window:Ve)});function z(e,t){return typeof e===t}function Ie(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function st(e,t){try{return e instanceof t}catch{return!1}}var G=e=>z(e,"null"),Te=e=>z(e,"string"),at=e=>z(e,"number")&&!isNaN(e)||z(e,"bigint");var q=e=>!G(e)&&z(e,"object"),De=e=>z(e,"function"),Ue=e=>Ie(e,"Array");var lt=e=>!q(e)&&!De(e),Yt=typeof Event<"u",ct=e=>Yt&&st(e,Event),Xt=typeof Error<"u",ut=e=>Xt&&st(e,Error),dt=e=>Ie(e,"ErrorEvent"),ft=e=>Ie(e,"DOMError"),pt=e=>Ie(e,"DOMException");function D(e,t){if(e===t)return!0;if(z(e,"number")&&isNaN(e))return z(t,"number")&&isNaN(t);let i=Ue(e),n=Ue(t);if(i!==n)return!1;if(i&&n){let l=e.length;if(l!==t.length)return!1;for(let u=l;u--!==0;)if(!D(e[u],t[u]))return!1;return!0}let o=q(e),s=q(t);if(o!==s)return!1;if(e&&t&&o&&s){let l=Object.keys(e),u=Object.keys(t),f=l.length,p=u.length;if(f!==p)return!1;for(let r of l)if(!u.includes(r))return!1;for(let r of l)if(!D(e[r],t[r]))return!1;return!0}return!1}function W(){return new Date().toISOString()}var P;(function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"})(P||(P={}));var mt=P.LOG,gt=[P.TRACE,P.DEBUG,P.INFO,P.LOG,P.WARN,P.ERROR];function F(){}function bt(e){let{size:t,concurrency:i}=e,n=[],o=0,s=()=>{if(o<i&&n.length){let{producer:u,resolve:f,reject:p}=n.shift();o++,u().then(r=>{o--,s(),f(r)},r=>{o--,s(),p(r)})}};return{add:u=>{if(n.length+o>=t)throw new Error("Task buffer full");return new Promise((f,p)=>{n.push({producer:u,resolve:f,reject:p}),s()})}}}var Zi="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function Y(e=10){return Array.from(Array(e)).map(()=>Zi[Math.floor(Math.random()*Zi.length)]).join("")}function ne(){return Date.now()}var on=Ji(nn()),Lo=250,jo=50,ht=class{constructor(t,i){var n,o;this.signalBuffer=[],this.itemLimit=(n=i?.itemLimit)!==null&&n!==void 0?n:jo,this.sendTimeout=(o=i?.sendTimeout)!==null&&o!==void 0?o:Lo,this.paused=i?.paused||!1,this.sendFn=t,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush()})}addItem(t){this.paused||(this.signalBuffer.push(t),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(t){let i=new Map;return t.forEach(n=>{let o=(0,on.murmur3)(JSON.stringify(n.meta)),s=i.get(o);s===void 0?s=[n]:s=[...s,n],i.set(o,s)}),Array.from(i.values())}flush(){if(this.paused||this.signalBuffer.length===0)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}};var T;(function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"})(T||(T={}));var Et={[T.EXCEPTION]:"exceptions",[T.LOG]:"logs",[T.MEASUREMENT]:"measurements",[T.TRACE]:"traces",[T.EVENT]:"events"};function Do(e,t){return e.some(i=>Te(i)?t.includes(i):!!t.match(i))}function Uo(e){return t=>{if(t.type===T.EXCEPTION&&t.payload){let i=t.payload,n=`${i.type}: ${i.value}`;if(Do(e,n))return null}return t}}function Qt(e,t,i,n){var o;t.debug("Initializing transports");let s=[],l=i.paused,u=[],f=(...I)=>{t.debug("Adding transports"),I.forEach(h=>{if(t.debug(`Adding "${h.name}" transport`),s.some(j=>j===h)){t.warn(`Transport ${h.name} is already added`);return}h.unpatchedConsole=e,h.internalLogger=t,h.config=i,h.metas=n,s.push(h)})},p=(...I)=>{t.debug(`Adding beforeSendHooks
`,u),I.forEach(h=>{h&&u.push(h)})},r=(...I)=>{t.debug(`Adding ignoreErrorsPatterns
`,I),I.forEach(h=>{h&&u.push(Uo(h))})},a=I=>{let h=I;for(let A of u){let j=h.map(A).filter(Boolean);if(j.length===0)return[];h=j}return h},c=I=>{let h=a(I);if(h.length!==0)for(let A of s)t.debug(`Transporting item using ${A.name}
`,h),A.isBatched()&&A.send(h)},d=I=>{var h,A;if(!((h=i.batching)===null||h===void 0)&&h.enabled&&s.every(te=>te.isBatched()))return;let[j]=a([I]);if(j!==void 0)for(let te of s)t.debug(`Transporting item using ${te.name}
`,j),te.isBatched()?!((A=i.batching)===null||A===void 0)&&A.enabled||te.send([j]):te.send(j)},m;return!((o=i.batching)===null||o===void 0)&&o.enabled&&(m=new ht(c,{sendTimeout:i.batching.sendTimeout,itemLimit:i.batching.itemLimit,paused:l})),{add:f,addBeforeSendHooks:p,addIgnoreErrorsPatterns:r,getBeforeSendHooks:()=>[...u],execute:I=>{var h;l||(!((h=i.batching)===null||h===void 0)&&h.enabled&&m?.addItem(I),d(I))},isPaused:()=>l,pause:()=>{t.debug("Pausing transports"),m?.pause(),l=!0},remove:(...I)=>{t.debug("Removing transports"),I.forEach(h=>{t.debug(`Removing "${h.name}" transport`);let A=s.indexOf(h);if(A===-1){t.warn(`Transport "${h.name}" is not added`);return}s.splice(A,1)})},removeBeforeSendHooks:(...I)=>{u.filter(h=>!I.includes(h))},get transports(){return[...s]},unpause:()=>{t.debug("Unpausing transports"),m?.start(),l=!1}}}var K;(function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"})(K||(K={}));var Bo="Faro",ce={debug:F,error:F,info:F,prefix:Bo,warn:F},ye=K.ERROR;var X=Object.assign({},console);var xt=X;function ei(e){var t;return xt=(t=e.unpatchedConsole)!==null&&t!==void 0?t:xt,xt}function Oe(e=X,t=ye){let i=ce;return t>K.OFF&&(i.error=t>=K.ERROR?function(...n){e.error(`${i.prefix}
`,...n)}:F,i.warn=t>=K.WARN?function(...n){e.warn(`${i.prefix}
`,...n)}:F,i.info=t>=K.INFO?function(...n){e.info(`${i.prefix}
`,...n)}:F,i.debug=t>=K.VERBOSE?function(...n){e.debug(`${i.prefix}
`,...n)}:F),i}var ti=ce;function ii(e,t){return ti=Oe(e,t.internalLoggerLevel),ti}var ue=class{constructor(){this.unpatchedConsole=X,this.internalLogger=ce,this.config={},this.metas={}}logDebug(...t){this.internalLogger.debug(`${this.name}
`,...t)}logInfo(...t){this.internalLogger.info(`${this.name}
`,...t)}logWarn(...t){this.internalLogger.warn(`${this.name}
`,...t)}logError(...t){this.internalLogger.error(`${this.name}
`,...t)}};var _e=class extends ue{isBatched(){return!1}getIgnoreUrls(){return[]}};function ni(e){e.transports.add(...e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend),e.transports.addIgnoreErrorsPatterns(e.config.ignoreErrors)}function Vo(e,t){var i,n;if(t===void 0)return e;if(e===void 0)return{resourceSpans:t};let o=(i=e.resourceSpans)===null||i===void 0?void 0:i[0];if(o===void 0)return e;let s=o?.scopeSpans||[],l=((n=t?.[0])===null||n===void 0?void 0:n.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},o),{scopeSpans:[...s,...l]})]})}function St(e){let t={meta:{}};return e[0]!==void 0&&(t.meta=e[0].meta),e.forEach(i=>{switch(i.type){case T.LOG:case T.EVENT:case T.EXCEPTION:case T.MEASUREMENT:let n=Et[i.type],o=t[n];t=Object.assign(Object.assign({},t),{[n]:o===void 0?[i.payload]:[...o,i.payload]});break;case T.TRACE:t=Object.assign(Object.assign({},t),{traces:Vo(t.traces,i.payload.resourceSpans)});break}}),t}function oi(e,t,i,n,o,s){let l=null;return{pushEvent:(f,p,r,{skipDedupe:a}={})=>{try{let c={meta:n.value,payload:{name:f,domain:r??i.eventDomain,attributes:p,timestamp:W(),trace:s.getTraceContext()},type:T.EVENT},d={name:c.payload.name,attributes:c.payload.attributes,domain:c.payload.domain};if(!a&&i.dedupe&&!G(l)&&D(d,l)){t.debug(`Skipping event push because it is the same as the last one
`,c.payload);return}l=d,t.debug(`Pushing event
`,c),o.execute(c)}catch(c){t.error("Error pushing event",c)}}}}var de="Error";var oe;function ri(e,t,i,n,o,s){var l;t.debug("Initializing exceptions API");let u=null;oe=(l=i.parseStacktrace)!==null&&l!==void 0?l:oe;let f=a=>{t.debug("Changing stacktrace parser"),oe=a??oe},p=()=>oe,r=(a,{skipDedupe:c,stackFrames:d,type:m,context:O}={})=>{m=m||a.name||de;let N={meta:n.value,payload:{type:m,value:a.message,timestamp:W(),trace:s.getTraceContext(),context:O??{}},type:T.EXCEPTION};d=d??(a.stack?oe?.(a).frames:void 0),d?.length&&(N.payload.stacktrace={frames:d});let b={type:N.payload.type,value:N.payload.value,stackTrace:N.payload.stacktrace,context:N.payload.context};if(!c&&i.dedupe&&!G(u)&&D(b,u)){t.debug(`Skipping error push because it is the same as the last one
`,N.payload);return}u=b,t.debug(`Pushing exception
`,N),o.execute(N)};return f(i.parseStacktrace),{changeStacktraceParser:f,getStacktraceParser:p,pushError:r}}function si(e,t,i,n,o,s){t.debug("Initializing logs API");let l=null;return{pushLog:(f,{context:p,level:r,skipDedupe:a}={})=>{try{let c={type:T.LOG,payload:{message:f.map(m=>{try{return String(m)}catch{return""}}).join(" "),level:r??mt,context:p??{},timestamp:W(),trace:s.getTraceContext()},meta:n.value},d={message:c.payload.message,level:c.payload.level,context:c.payload.context};if(!a&&i.dedupe&&!G(l)&&D(d,l)){t.debug(`Skipping log push because it is the same as the last one
`,c.payload);return}l=d,t.debug(`Pushing log
`,c),o.execute(c)}catch(c){t.error(`Error pushing log
`,c)}}}}function ai(e,t,i,n,o,s){t.debug("Initializing measurements API");let l=null;return{pushMeasurement:(f,{skipDedupe:p,context:r}={})=>{var a;try{let c={type:T.MEASUREMENT,payload:Object.assign(Object.assign({},f),{trace:s.getTraceContext(),timestamp:(a=f.timestamp)!==null&&a!==void 0?a:W(),context:r??{}}),meta:n.value},d={type:c.payload.type,values:c.payload.values,context:c.payload.context};if(!p&&i.dedupe&&!G(l)&&D(d,l)){t.debug(`Skipping measurement push because it is the same as the last one
`,c.payload);return}l=d,t.debug(`Pushing measurement
`,c),o.execute(c)}catch(c){t.error(`Error pushing measurement
`,c)}}}}function li(e,t,i,n,o){t.debug("Initializing meta API");let s,l,u,f=d=>{l&&n.remove(l),l={user:d},n.add(l)},p=d=>{s&&n.remove(s),s={session:d},n.add(s)};return{setUser:f,resetUser:f,setSession:p,resetSession:p,getSession:()=>n.value.session,setView:d=>{var m;if(((m=u?.view)===null||m===void 0?void 0:m.name)===d?.name)return;let O=u;u={view:d},n.add(u),O&&n.remove(O)},getView:()=>n.value.view}}function ci(e,t,i,n,o){t.debug("Initializing traces API");let s;return{getOTEL:()=>s,getTraceContext:()=>{let a=s?.trace.getSpanContext(s.context.active());return a?{trace_id:a.traceId,span_id:a.spanId}:void 0},initOTEL:(a,c)=>{t.debug("Initializing OpenTelemetry"),s={trace:a,context:c}},isOTELInitialized:()=>!!s,pushTraces:a=>{try{let c={type:T.TRACE,payload:a,meta:n.value};t.debug(`Pushing trace
`,c),o.execute(c)}catch(c){t.error(`Error pushing trace
`,c)}}}}function ui(e,t,i,n,o){t.debug("Initializing API");let s=ci(e,t,i,n,o);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s),ri(e,t,i,n,o,s)),li(e,t,i,n,o)),si(e,t,i,n,o,s)),ai(e,t,i,n,o,s)),oi(e,t,i,n,o,s))}var fe=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:void 0;var R=class extends ue{constructor(){super(...arguments),this.api={},this.transports={}}};function di(e,t,i,n,o,s){t.debug("Initializing instrumentations");let l=[];return{add:(...p)=>{t.debug("Adding instrumentations"),p.forEach(r=>{if(t.debug(`Adding "${r.name}" instrumentation`),l.some(c=>c.name===r.name)){t.warn(`Instrumentation ${r.name} is already added`);return}r.unpatchedConsole=e,r.internalLogger=t,r.config=i,r.metas=n,r.transports=o,r.api=s,l.push(r),r.initialize()})},get instrumentations(){return[...l]},remove:(...p)=>{t.debug("Removing instrumentations"),p.forEach(r=>{var a,c;t.debug(`Removing "${r.name}" instrumentation`);let d=l.reduce((m,O,N)=>m===null&&O.name===r.name?N:null,null);if(!d){t.warn(`Instrumentation "${r.name}" is not added`);return}(c=(a=l[d]).destroy)===null||c===void 0||c.call(a),l.splice(d,1)})}}}function fi(e){e.instrumentations.add(...e.config.instrumentations)}function pi(e,t,i){let n=[],o=[],s=()=>n.reduce((a,c)=>Object.assign(a,De(c)?c():c),{}),l=()=>{if(o.length){let a=s();o.forEach(c=>c(a))}};return{add:(...a)=>{t.debug(`Adding metas
`,a),n.push(...a),l()},remove:(...a)=>{t.debug(`Removing metas
`,a),n=n.filter(c=>!a.includes(c)),l()},addListener:a=>{t.debug(`Adding metas listener
`,a),o.push(a)},removeListener:a=>{t.debug(`Removing metas listener
`,a),o=o.filter(c=>c!==a)},get value(){return s()}}}var M="1.3.6";function mi(e){var t,i;let n={sdk:{version:M}},o=(t=e.config.sessionTracking)===null||t===void 0?void 0:t.session;o&&e.api.setSession(o),e.config.app&&(n.app=e.config.app),e.config.user&&(n.user=e.config.user),e.config.view&&(n.view=e.config.view),e.metas.add(n,...(i=e.config.metas)!==null&&i!==void 0?i:[])}var wt="_faroInternal";function rn(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in fe){e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);return}Object.defineProperty(fe,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}function It(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(fe,wt,{configurable:!1,enumerable:!1,writable:!1,value:e}))}function Tt(){return wt in fe}var _={};function gi(e,t,i,n,o,s,l){return t.debug("Initializing Faro"),_={api:s,config:i,instrumentations:l,internalLogger:t,metas:n,pause:o.pause,transports:o,unpatchedConsole:e,unpause:o.unpause},It(_),rn(_),_}function bi(e){let t=ei(e),i=ii(t,e);if(Tt()&&!e.isolate){i.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');return}i.debug("Initializing");let n=pi(t,i,e),o=Qt(t,i,e,n),s=ui(t,i,e,n,o),l=di(t,i,e,n,o,s),u=gi(t,i,e,n,o,s,l);return mi(u),ni(u),fi(u),u}var yt="faro",Ot={enabled:!0,sendTimeout:250,itemLimit:50};var sn="view_changed",Be="session_start",_t="session_resume",an="session_extend";var cn=Ji(ln()),vi=()=>{let e=new cn.UAParser,{name:t,version:i}=e.getBrowser(),{name:n,version:o}=e.getOS(),s=e.getUA(),l=navigator.language,u=navigator.userAgent.includes("Mobi"),f=r(),p="unknown";return{browser:{name:t??p,version:i??p,os:`${n??p} ${o??p}`,userAgent:s??p,language:l??p,mobile:u,brands:f??p}};function r(){if(!(!t||!i)&&"userAgentData"in navigator)return navigator.userAgentData.brands}};var hi=()=>({page:{url:location.href}});var Ei=[vi,hi];function At(e){var t,i,n,o;return{id:(o=(n=(i=(t=_.config)===null||t===void 0?void 0:t.sessionTracking)===null||i===void 0?void 0:i.generateSessionId)===null||n===void 0?void 0:n.call(i))!==null&&o!==void 0?o:Y(),attributes:e}}var kt={name:"default"};var U={session:"sessionStorage",local:"localStorage"};function xi(e){var t;try{let i;i=window[e];let n="__faro_storage_test__";return i.setItem(n,n),i.removeItem(n),!0}catch(i){return(t=_.internalLogger)===null||t===void 0||t.info(`Web storage of type ${e} is not available. Reason: ${i}`),!1}}function pe(e,t){return Si(t)?window[t].getItem(e):null}function me(e,t,i){if(Si(i))try{window[i].setItem(e,t)}catch{}}function ze(e,t){Si(t)&&window[t].removeItem(e)}var un=xi(U.local),dn=xi(U.session);function Si(e){return e===U.local?un:e===U.session?dn:!1}function Ge(e,t){let i=!1,n,o=()=>{if(n==null){i=!1;return}e(...n),n=null,setTimeout(o,t)};return(...s)=>{if(i){n=s;return}e(...s),i=!0,setTimeout(o,t)}}function J(){var e,t,i;let o=_.config.sessionTracking,s=(i=(t=(e=o?.sampler)===null||e===void 0?void 0:e.call(o,{metas:_.metas.value}))!==null&&t!==void 0?t:o?.samplingRate)!==null&&i!==void 0?i:1;return typeof s!="number"&&(s=0),Math.random()<s}var Z="com.grafana.faro.session";var Mt={enabled:!0,persistent:!1,maxSessionPersistenceTime:96e4};function ge({sessionId:e,isSampled:t=!0}={}){var i,n;let o=ne(),s=(n=(i=_.config)===null||i===void 0?void 0:i.sessionTracking)===null||n===void 0?void 0:n.generateSessionId;return e==null&&(e=typeof s=="function"?s():Y()),{sessionId:e,lastActivity:o,started:o,isSampled:t}}function wi(e){if(e==null)return!1;let t=ne();return t-e.started<144e5?t-e.lastActivity<9e5:!1}function Rt({fetchUserSession:e,storeUserSession:t}){return function(){var n,o,s,l;if(!e||!t)return;let u=e();if(wi(u))t(Object.assign(Object.assign({},u),{lastActivity:ne()}));else{let f=Ke(ge({isSampled:J()}),u);t(f),(n=_.api)===null||n===void 0||n.setSession(f.sessionMeta),(s=(o=_.config.sessionTracking)===null||o===void 0?void 0:o.onSessionChange)===null||s===void 0||s.call(o,(l=u?.sessionMeta)!==null&&l!==void 0?l:null,f.sessionMeta)}}}function Ke(e,t){var i,n,o,s;return Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign(Object.assign({},(n=(i=_.config.sessionTracking)===null||i===void 0?void 0:i.session)===null||n===void 0?void 0:n.attributes),(s=(o=_.metas.value.session)===null||o===void 0?void 0:o.attributes)!==null&&s!==void 0?s:{}),t!=null?{previousSession:t.sessionId}:{}),{isSampled:e.isSampled.toString()})}})}var re=class e{constructor(){this.updateSession=Ge(()=>this.updateUserSession(),1e3),this.updateUserSession=Rt({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}static removeUserSession(){ze(Z,e.storageTypeLocal)}static storeUserSession(t){me(Z,JSON.stringify(t),e.storageTypeLocal)}static fetchUserSession(){let t=pe(Z,e.storageTypeLocal);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),_.metas.addListener(function(i){let n=i.session,o=e.fetchUserSession();if(n&&n.id!==o?.sessionId){let s=Ke(ge({sessionId:n.id,isSampled:J()}),o);e.storeUserSession(s),_.api.setSession(s.sessionMeta)}})}};re.storageTypeLocal=U.local;var be=class e{constructor(){this.updateSession=Ge(()=>this.updateUserSession(),1e3),this.updateUserSession=Rt({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}static removeUserSession(){ze(Z,e.storageTypeSession)}static storeUserSession(t){me(Z,JSON.stringify(t),e.storageTypeSession)}static fetchUserSession(){let t=pe(Z,e.storageTypeSession);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),_.metas.addListener(function(i){let n=i.session,o=e.fetchUserSession();if(n&&n.id!==o?.sessionId){let s=Ke(ge({sessionId:n.id,isSampled:J()}),o);e.storeUserSession(s),_.api.setSession(s.sessionMeta)}})}};be.storageTypeSession=U.session;var Ne=class extends R{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=M}sendSessionStartEvent(t){var i,n;let o=t.session;if(o&&o.id!==((i=this.notifiedSession)===null||i===void 0?void 0:i.id)){if(this.notifiedSession&&this.notifiedSession.id===((n=o.attributes)===null||n===void 0?void 0:n.previousSession)){this.api.pushEvent(an,{},void 0,{skipDedupe:!0}),this.notifiedSession=o;return}this.notifiedSession=o,this.api.pushEvent(Be,{},void 0,{skipDedupe:!0})}}createInitialSessionMeta(t){var i,n,o;let l=(t.persistent?re:be).fetchUserSession();if(t.persistent&&t.maxSessionPersistenceTime&&l){let a=ne();l.lastActivity<a-t.maxSessionPersistenceTime&&(re.removeUserSession(),l=null)}let u=(i=t.session)===null||i===void 0?void 0:i.id,f=(n=t.session)===null||n===void 0?void 0:n.attributes,p;return wi(l)?(u=l?.sessionId,f=Object.assign(Object.assign(Object.assign({},f),(o=l?.sessionMeta)===null||o===void 0?void 0:o.attributes),{isSampled:(l.isSampled||!1).toString()}),p=_t):(u=u??At().id,p=Be),{sessionMeta:{id:u,attributes:Object.assign({isSampled:J().toString()},f)},lifecycleType:p}}registerBeforeSendHook(t){var i;let{updateSession:n}=new t;(i=this.transports)===null||i===void 0||i.addBeforeSendHooks(o=>{var s,l,u;n();let f=(s=o.meta.session)===null||s===void 0?void 0:s.attributes;if(f&&f?.isSampled==="true"){let p;"structuredClone"in window?p=structuredClone(o):p=JSON.parse(JSON.stringify(o));let r=(l=p.meta.session)===null||l===void 0?void 0:l.attributes;return r==null||delete r.isSampled,Object.keys(r??{}).length===0&&((u=p.meta.session)===null||u===void 0||delete u.attributes),p}return null})}initialize(){var t,i;this.logDebug("init session instrumentation");let n=this.config.sessionTracking;if(n?.enabled){let o=!((t=this.config.sessionTracking)===null||t===void 0)&&t.persistent?re:be;this.registerBeforeSendHook(o);let{sessionMeta:s,lifecycleType:l}=this.createInitialSessionMeta(n);o.storeUserSession(Object.assign(Object.assign({},ge({sessionId:s.id,isSampled:((i=s.attributes)===null||i===void 0?void 0:i.isSampled)==="true"})),{sessionMeta:s})),this.notifiedSession=s,this.api.setSession(s),l===Be&&this.api.pushEvent(Be,{},void 0,{skipDedupe:!0}),l===_t&&this.api.pushEvent(_t,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}};var ve=class e extends R{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=M}initialize(){this.logDebug(`Initializing
`,this.options),gt.filter(t=>{var i;return!((i=this.options.disabledLevels)!==null&&i!==void 0?i:e.defaultDisabledLevels).includes(t)}).forEach(t=>{console[t]=(...i)=>{try{this.api.pushLog(i,{level:t})}catch(n){this.logError(n)}finally{this.unpatchedConsole[t](...i)}}})}};ve.defaultDisabledLevels=[P.DEBUG,P.TRACE,P.LOG];var mn="Non-Error promise rejection captured with value:",gn="UnhandledRejection",bn="DOMError",vn="DOMException",hn="Non-Error exception captured with keys:",En="?",xn=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;var Ii=`
`,Sn="eval",wn="?",Ti="@",In=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tn=/\((\S*)(?::(\d+))(?::(\d+))\)/,yn="eval",yi="address at ",On=yi.length,_n=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Nn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,An=" > eval",Oi="safari-extension",_i="safari-web-extension",kn=/Minified React error #\d+;/i;function he(e,t,i,n){let o={filename:e||document.location.href,function:t||wn};return i!==void 0&&(o.lineno=i),n!==void 0&&(o.colno=n),o}function $e(e,t){let i=e?.includes(Oi),n=!i&&e?.includes(_i);return!i&&!n?[e,t]:[e?.includes(Ti)?e.split(Ti)[0]:e,i?`${Oi}:${t}`:`${_i}:${t}`]}function se(e){let t=[];e.stacktrace?t=e.stacktrace.split(Ii).filter((n,o)=>o%2===0):e.stack&&(t=e.stack.split(Ii));let i=t.reduce((n,o,s)=>{let l,u,f,p,r;if(l=In.exec(o)){if(u=l[1],f=l[2],p=l[3],r=l[4],f?.startsWith(yn)){let a=Tn.exec(f);a&&(f=a[1],p=a[2],r=a[3])}f=f?.startsWith(yi)?f.substring(On):f,[u,f]=$e(u,f)}else if(l=_n.exec(o)){if(u=l[1],f=l[3],p=l[4],r=l[5],f&&f.includes(An)){let a=Nn.exec(f);a&&(u=u||Sn,f=a[1],p=a[2])}else s===0&&!r&&at(e.columnNumber)&&(r=String(e.columnNumber+1));[u,f]=$e(u,f)}return(f||u)&&n.push(he(f,u,p?Number(p):void 0,r?Number(r):void 0)),n},[]);return kn.test(e.message)?i.slice(1):i}function qe(e){return{frames:se(e)}}function Ct(e){let t,i,n=[],o,s;if(dt(e)&&e.error)t=e.error.message,i=e.error.name,n=se(e.error);else if((o=ft(e))||pt(e)){let{name:l,message:u}=e;i=l??(o?bn:vn),t=u?`${i}: ${u}`:i}else ut(e)?(t=e.message,n=se(e)):(q(e)||(s=ct(e)))&&(i=s?e.constructor.name:void 0,t=`${hn} ${Object.keys(e)}`);return[t,i,n]}function Mn(e){var t,i;let n=e.match(xn),o=(t=n?.[1])!==null&&t!==void 0?t:de;return[(i=n?.[2])!==null&&i!==void 0?i:e,o]}function Rn(e){let t=window.onerror;window.onerror=(...i)=>{try{let[n,o,s,l,u]=i,f,p,r=[],a=Te(n),c=he(o,En,s,l);u||!a?([f,p,r]=Ct(u??n),r.length===0&&(r=[c])):a&&([f,p]=Mn(n),r=[c]),f&&e.pushError(new Error(f),{type:p,stackFrames:r})}finally{t?.apply(window,i)}}}function Cn(e){window.addEventListener("unhandledrejection",t=>{var i,n;let o=t;o.reason?o=t.reason:!((i=t.detail)===null||i===void 0)&&i.reason&&(o=(n=t.detail)===null||n===void 0?void 0:n.reason);let s,l,u=[];lt(o)?(s=`${mn} ${String(o)}`,l=gn):[s,l,u]=Ct(o),s&&e.pushError(new Error(s),{type:l,stackFrames:u})})}var Ae=class extends R{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=M}initialize(){this.logDebug("Initializing"),Rn(this.api),Cn(this.api)}};var ke=class extends R{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=M}sendViewChangedEvent(t){var i,n,o;let s=t.view;s&&s.name!==((i=this.notifiedView)===null||i===void 0?void 0:i.name)&&(this.api.pushEvent(sn,{fromView:(o=(n=this.notifiedView)===null||n===void 0?void 0:n.name)!==null&&o!==void 0?o:"",toView:s.name},void 0,{skipDedupe:!0}),this.notifiedView=s)}initialize(){this.sendViewChangedEvent(this.metas.value),this.metas.addListener(this.sendViewChangedEvent.bind(this))}};var ae,Ye,Hn,Ft,Mi,$n=-1,Ee=function(e){addEventListener("pageshow",function(t){t.persisted&&($n=t.timeStamp,e(t))},!0)},Ri=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},jt=function(){var e=Ri();return e&&e.activationStart||0},B=function(e,t){var i=Ri(),n="navigate";return $n>=0?n="back-forward-cache":i&&(document.prerendering||jt()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Re=function(e,t,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver(function(o){Promise.resolve().then(function(){t(o.getEntries())})});return n.observe(Object.assign({type:e,buffered:!0},i||{})),n}}catch{}},V=function(e,t,i,n){var o,s;return function(l){t.value>=0&&(l||n)&&((s=t.value-(o||0))||o===void 0)&&(o=t.value,t.delta=s,t.rating=function(u,f){return u>f[1]?"poor":u>f[0]?"needs-improvement":"good"}(t.value,i),e(t))}},Ci=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Dt=function(e){var t=function(i){i.type!=="pagehide"&&document.visibilityState!=="hidden"||e(i)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Pi=function(e){var t=!1;return function(i){t||(e(i),t=!0)}},Me=-1,Pn=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Lt=function(e){document.visibilityState==="hidden"&&Me>-1&&(Me=e.type==="visibilitychange"?e.timeStamp:0,Ho())},Fn=function(){addEventListener("visibilitychange",Lt,!0),addEventListener("prerenderingchange",Lt,!0)},Ho=function(){removeEventListener("visibilitychange",Lt,!0),removeEventListener("prerenderingchange",Lt,!0)},Fi=function(){return Me<0&&(Me=Pn(),Fn(),Ee(function(){setTimeout(function(){Me=Pn(),Fn()},0)})),{get firstHiddenTime(){return Me}}},Xe=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},Ln=[1800,3e3],Li=function(e,t){t=t||{},Xe(function(){var i,n=Fi(),o=B("FCP"),s=Re("paint",function(l){l.forEach(function(u){u.name==="first-contentful-paint"&&(s.disconnect(),u.startTime<n.firstHiddenTime&&(o.value=Math.max(u.startTime-jt(),0),o.entries.push(u),i(!0)))})});s&&(i=V(e,o,Ln,t.reportAllChanges),Ee(function(l){o=B("FCP"),i=V(e,o,Ln,t.reportAllChanges),Ci(function(){o.value=performance.now()-l.timeStamp,i(!0)})}))})},jn=[.1,.25],qn=function(e,t){t=t||{},Li(Pi(function(){var i,n=B("CLS",0),o=0,s=[],l=function(f){f.forEach(function(p){if(!p.hadRecentInput){var r=s[0],a=s[s.length-1];o&&p.startTime-a.startTime<1e3&&p.startTime-r.startTime<5e3?(o+=p.value,s.push(p)):(o=p.value,s=[p])}}),o>n.value&&(n.value=o,n.entries=s,i())},u=Re("layout-shift",l);u&&(i=V(e,n,jn,t.reportAllChanges),Dt(function(){l(u.takeRecords()),i(!0)}),Ee(function(){o=0,n=B("CLS",0),i=V(e,n,jn,t.reportAllChanges),Ci(function(){return i()})}),setTimeout(i,0))}))},We={passive:!0,capture:!0},$o=new Date,Dn=function(e,t){ae||(ae=t,Ye=e,Hn=new Date,Yn(removeEventListener),Wn())},Wn=function(){if(Ye>=0&&Ye<Hn-$o){var e={entryType:"first-input",name:ae.type,target:ae.target,cancelable:ae.cancelable,startTime:ae.timeStamp,processingStart:ae.timeStamp+Ye};Ft.forEach(function(t){t(e)}),Ft=[]}},qo=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(i,n){var o=function(){Dn(i,n),l()},s=function(){l()},l=function(){removeEventListener("pointerup",o,We),removeEventListener("pointercancel",s,We)};addEventListener("pointerup",o,We),addEventListener("pointercancel",s,We)}(t,e):Dn(t,e)}},Yn=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,qo,We)})},Un=[100,300],Xn=function(e,t){t=t||{},Xe(function(){var i,n=Fi(),o=B("FID"),s=function(f){f.startTime<n.firstHiddenTime&&(o.value=f.processingStart-f.startTime,o.entries.push(f),i(!0))},l=function(f){f.forEach(s)},u=Re("first-input",l);i=V(e,o,Un,t.reportAllChanges),u&&Dt(Pi(function(){l(u.takeRecords()),u.disconnect()})),u&&Ee(function(){var f;o=B("FID"),i=V(e,o,Un,t.reportAllChanges),Ft=[],Ye=-1,ae=null,Yn(addEventListener),f=s,Ft.push(f),Wn()})})},Jn=0,Ni=1/0,Pt=0,Wo=function(e){e.forEach(function(t){t.interactionId&&(Ni=Math.min(Ni,t.interactionId),Pt=Math.max(Pt,t.interactionId),Jn=Pt?(Pt-Ni)/7+1:0)})},Zn=function(){return Mi?Jn:performance.interactionCount||0},Yo=function(){"interactionCount"in performance||Mi||(Mi=Re("event",Wo,{type:"event",buffered:!0,durationThreshold:0}))},Bn=[200,500],Qn=0,Vn=function(){return Zn()-Qn},Q=[],Ai={},zn=function(e){var t=Q[Q.length-1],i=Ai[e.interactionId];if(i||Q.length<10||e.duration>t.latency){if(i)i.entries.push(e),i.latency=Math.max(i.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};Ai[n.id]=n,Q.push(n)}Q.sort(function(o,s){return s.latency-o.latency}),Q.splice(10).forEach(function(o){delete Ai[o.id]})}},eo=function(e,t){t=t||{},Xe(function(){var i;Yo();var n,o=B("INP"),s=function(u){u.forEach(function(r){r.interactionId&&zn(r),r.entryType==="first-input"&&!Q.some(function(a){return a.entries.some(function(c){return r.duration===c.duration&&r.startTime===c.startTime})})&&zn(r)});var f,p=(f=Math.min(Q.length-1,Math.floor(Vn()/50)),Q[f]);p&&p.latency!==o.value&&(o.value=p.latency,o.entries=p.entries,n())},l=Re("event",s,{durationThreshold:(i=t.durationThreshold)!==null&&i!==void 0?i:40});n=V(e,o,Bn,t.reportAllChanges),l&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&l.observe({type:"first-input",buffered:!0}),Dt(function(){s(l.takeRecords()),o.value<0&&Vn()>0&&(o.value=0,o.entries=[]),n(!0)}),Ee(function(){Q=[],Qn=Zn(),o=B("INP"),n=V(e,o,Bn,t.reportAllChanges)}))})},Gn=[2500,4e3],ki={},to=function(e,t){t=t||{},Xe(function(){var i,n=Fi(),o=B("LCP"),s=function(f){var p=f[f.length-1];p&&p.startTime<n.firstHiddenTime&&(o.value=Math.max(p.startTime-jt(),0),o.entries=[p],i())},l=Re("largest-contentful-paint",s);if(l){i=V(e,o,Gn,t.reportAllChanges);var u=Pi(function(){ki[o.id]||(s(l.takeRecords()),l.disconnect(),ki[o.id]=!0,i(!0))});["keydown","click"].forEach(function(f){addEventListener(f,function(){return setTimeout(u,0)},!0)}),Dt(u),Ee(function(f){o=B("LCP"),i=V(e,o,Gn,t.reportAllChanges),Ci(function(){o.value=performance.now()-f.timeStamp,ki[o.id]=!0,i(!0)})})}})},Kn=[800,1800],Xo=function e(t){document.prerendering?Xe(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},io=function(e,t){t=t||{};var i=B("TTFB"),n=V(e,i,Kn,t.reportAllChanges);Xo(function(){var o=Ri();if(o){var s=o.responseStart;if(s<=0||s>performance.now())return;i.value=Math.max(s-jt(),0),i.entries=[o],n(!0),Ee(function(){i=B("TTFB",0),(n=V(e,i,Kn,t.reportAllChanges))(!0)})}})};var xe=class e extends R{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=M}initialize(){this.logDebug("Initializing"),Object.entries(e.mapping).forEach(([t,i])=>{i(n=>{this.api.pushMeasurement({type:"web-vitals",values:{[t]:n.value}})})})}};xe.mapping={cls:qn,fcp:Li,fid:Xn,inp:eo,lcp:to,ttfb:io};var ji="com.grafana.faro.lastNavigationId",no="navigation",oo="resource";function ro(){return"PerformanceObserver"in window}function Ut(e=[],t){return e.some(i=>t.match(i)!=null)}function so(e){if(document.readyState==="complete")e();else{let t=()=>{document.readyState==="complete"&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}function Bt(e){let{connectEnd:t,connectStart:i,decodedBodySize:n,domainLookupEnd:o,domainLookupStart:s,encodedBodySize:l,fetchStart:u,initiatorType:f,name:p,nextHopProtocol:r,redirectEnd:a,redirectStart:c,renderBlockingStatus:d,requestStart:m,responseEnd:O,responseStart:N,responseStatus:b,secureConnectionStart:E,transferSize:k,workerStart:ee}=e;return{name:p,tcpHandshakeTime:C(t-i),dnsLookupTime:C(o-s),tlsNegotiationTime:C(m-E),redirectTime:C(a-c),requestTime:C(N-m),fetchTime:C(O-u),serviceWorkerTime:C(u-ee),decodedBodySize:C(n),encodedBodySize:C(l),cacheHitStatus:Se(),renderBlockingStatus:C(d),protocol:r,initiatorType:f};function Se(){let I="fullLoad";return k===0?n>0&&(I="cache"):b!=null?b===304&&(I="conditionalFetch"):l>0&&k<l&&(I="conditionalFetch"),I}}function ao(e){let{activationStart:t,domComplete:i,domContentLoadedEventEnd:n,domContentLoadedEventStart:o,domInteractive:s,duration:l,fetchStart:u,loadEventEnd:f,loadEventStart:p,responseStart:r,type:a}=e;return{visibilityState:document.visibilityState,totalNavigationTime:C(l),pageLoadTime:C(i-u),domProcessingTime:C(i-s),domContentLoadHandlerTime:C(n-o),onLoadTime:C(f-p),ttfb:C(Math.max(r-(t??0),0)),type:a}}function C(e){return e==null?"unknown":typeof e=="number"?Math.round(e).toString():e.toString()}function lo(e,t){let i,n=new Promise(s=>{i=s});return new PerformanceObserver(s=>{var l;let[u]=s.getEntries();if(u==null||Ut(t,u.name))return;let f=(l=pe(ji,U.session))!==null&&l!==void 0?l:"unknown",p=Object.assign(Object.assign(Object.assign({},Bt(u.toJSON())),ao(u.toJSON())),{faroNavigationId:Y(),faroPreviousNavigationId:f});me(ji,p.faroNavigationId,U.session),e("faro.performance.navigation",p),i(p)}).observe({type:no,buffered:!0}),n}function co(e,t,i){new PerformanceObserver(o=>{let s=o.getEntries();for(let l of s){if(Ut(i,l.name))return;let u=Object.assign(Object.assign({},Bt(l.toJSON())),{faroNavigationId:e,faroResourceId:Y()});t("faro.performance.resource",u)}}).observe({type:oo,buffered:!0})}var Jo=function(e,t,i,n){function o(s){return s instanceof i?s:new i(function(l){l(s)})}return new(i||(i=Promise))(function(s,l){function u(r){try{p(n.next(r))}catch(a){l(a)}}function f(r){try{p(n.throw(r))}catch(a){l(a)}}function p(r){r.done?s(r.value):o(r.value).then(u,f)}p((n=n.apply(e,t||[])).next())})},Ce=class extends R{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=M}initialize(){if(!ro()){this.logDebug("performance observer not supported. Disable performance instrumentation.");return}so(()=>Jo(this,void 0,void 0,function*(){let t=this.api.pushEvent,i=this.getIgnoreUrls(),{faroNavigationId:n}=yield lo(t,i);n!=null&&co(n,t,i)}))}getIgnoreUrls(){var t;return(t=this.transports.transports)===null||t===void 0?void 0:t.flatMap(i=>i.getIgnoreUrls())}};function Pe(e={}){let t=[new Ae,new xe,new Ne,new ke];return e.enablePerformanceInstrumentation===!0&&t.unshift(new Ce),e.captureConsole!==!1&&t.push(new ve({disabledLevels:e.captureConsoleDisabledLevels})),t}var uo="browser";var Di=()=>({k6:{isK6Browser:!0}});var Zo=function(e,t,i,n){function o(s){return s instanceof i?s:new i(function(l){l(s)})}return new(i||(i=Promise))(function(s,l){function u(r){try{p(n.next(r))}catch(a){l(a)}}function f(r){try{p(n.throw(r))}catch(a){l(a)}}function p(r){r.done?s(r.value):o(r.value).then(u,f)}p((n=n.apply(e,t||[])).next())})},Qo=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]]);return i},er=30,tr=5,ir=5e3,nr=6e4,or=429,Fe=class extends _e{constructor(t){var i,n,o,s;super(),this.options=t,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=M,this.disabledUntil=new Date,this.rateLimitBackoffMs=(i=t.defaultRateLimitBackoffMs)!==null&&i!==void 0?i:ir,this.getNow=(n=t.getNow)!==null&&n!==void 0?n:()=>Date.now(),this.promiseBuffer=bt({size:(o=t.bufferSize)!==null&&o!==void 0?o:er,concurrency:(s=t.concurrency)!==null&&s!==void 0?s:tr})}send(t){return Zo(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{let i=JSON.stringify(St(t)),{url:n,requestOptions:o,apiKey:s}=this.options,l=o??{},{headers:u}=l,f=Qo(l,["headers"]),p,r=this.metas.value.session;return r!=null&&(p=r.id),fetch(n,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},u??{}),s?{"x-api-key":s}:{}),p?{"x-faro-session-id":p}:{}),body:i,keepalive:i.length<=nr},f??{})).then(a=>(a.status===or&&(this.disabledUntil=this.getRetryAfterDate(a),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),a.text().catch(F),a)).catch(a=>{this.logError(`Failed sending payload to the receiver
`,JSON.parse(i),a)})})}catch(i){this.logError(i)}})}getIgnoreUrls(){return[this.options.url]}isBatched(){return!0}getRetryAfterDate(t){let i=this.getNow(),n=t.headers.get("Retry-After");if(n){let o=Number(n);if(!isNaN(o))return new Date(o*1e3+i);let s=Date.parse(n);if(!isNaN(s))return new Date(s)}return new Date(i+this.rateLimitBackoffMs)}};function Vt(e){var t,i,n,o,s,l,u,f,p;let r=[],a=Oe(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&a.error('if "transports" is defined, "url" and "apiKey" should not be defined'),r.push(...e.transports)):e.url?r.push(new Fe({url:e.url,apiKey:e.apiKey})):a.error('either "url" or "transports" must be defined');function c(){let m=Ei;return e.metas&&m.push(...e.metas),q(window.k6)?[...m,Di]:m}return{app:e.app,batching:Object.assign(Object.assign({},Ot),e.batching),dedupe:(t=e.dedupe)!==null&&t!==void 0?t:!0,globalObjectKey:e.globalObjectKey||yt,instrumentations:(i=e.instrumentations)!==null&&i!==void 0?i:Pe(),internalLoggerLevel:(n=e.internalLoggerLevel)!==null&&n!==void 0?n:ye,isolate:(o=e.isolate)!==null&&o!==void 0?o:!1,metas:c(),parseStacktrace:qe,paused:(s=e.paused)!==null&&s!==void 0?s:!1,preventGlobalExposure:(l=e.preventGlobalExposure)!==null&&l!==void 0?l:!1,transports:r,unpatchedConsole:(u=e.unpatchedConsole)!==null&&u!==void 0?u:X,beforeSend:e.beforeSend,eventDomain:(f=e.eventDomain)!==null&&f!==void 0?f:uo,ignoreErrors:e.ignoreErrors,sessionTracking:Object.assign(Object.assign({},Mt),e.sessionTracking),user:e.user,view:(p=e.view)!==null&&p!==void 0?p:kt}}function Ui(e){let t=Vt(e);if(t)return bi(t)}{let e=Ui({url:"/connect/af1fca71911a9641ebdffddb56889e97",app:{name:"grafana-website",version:"12cc522c6ab4f00d5ed41c6a7e9414466fcd88b5",environment:"master"},instrumentations:[...Pe()]})}})();</script>
</body>
</html>
