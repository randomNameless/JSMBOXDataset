<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>player.10ed6d923564bb306b6b.html</title>
</head>
<body>

<script>
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3c50cffb-69eb-4b98-9a2e-f541ae1c4d2e",e._sentryDebugIdIdentifier="sentry-dbid-3c50cffb-69eb-4b98-9a2e-f541ae1c4d2e")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"6.76.0"},(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1088],{19989:function(e,t,i){i.d(t,{A:function(){return g}});var o=i(96540),n=i(49924),s=i(27724),a=i(58382),r=i(38538),l=i(34191),d=i(65315),u=i(25146);function c(){u.A.isActive&&!u.A.isPlayingMidroll&&u.A.pause()}function p(){u.A.isActive&&u.A.reset()}function g(){const e=(0,r.A)(a.I5),t=(0,r.A)(a.yw),i=(0,r.A)(a.K),g=(0,n.d4)(d._e),b=(0,n.d4)(d.mL),m=(0,n.d4)(d.qC),v=(0,n.d4)(d.Ar),h=m||v,y=(0,o.useCallback)((e=>{null!=e&&e.isMidrollEnabled&&g&&!h&&(u.A.isPaused?u.A.resume():(u.A.isNewGuideId(b)&&u.A.reset(),u.A.scheduleNextMidroll(b)))}),[g,b,h]);return(0,l.A)((()=>{var o,n,a;if(!e)return;const{paused:r,stopped:l}=(null===(o=s.g.instance)||void 0===o?void 0:o.events)||{};return null===(n=s.g.instance)||void 0===n||n.on(r,c),null===(a=s.g.instance)||void 0===a||a.on(l,p),u.A.init({midrollBreaksPerSession:t,midrollIntervalSeconds:i}),()=>{var e,t;null===(e=s.g.instance)||void 0===e||e.off(r,c),null===(t=s.g.instance)||void 0===t||t.off(l,p),u.A.reset()}})),(0,o.useEffect)((()=>{var t,i;if(!e)return;const{playing:o}=(null===(t=s.g.instance)||void 0===t?void 0:t.events)||{};return null===(i=s.g.instance)||void 0===i||i.on(o,y),()=>{var e;null===(e=s.g.instance)||void 0===e||e.off(o,y)}}),[e,y]),(0,o.useEffect)((()=>{var t,i,o,n;if(!e||!u.A.isActive||h)return;const{playing:a,paused:r,stopped:l}=(null===(t=s.g.instance)||void 0===t?void 0:t.events)||{};return u.A.resume(),null===(i=s.g.instance)||void 0===i||i.on(a,y),null===(o=s.g.instance)||void 0===o||o.on(r,c),null===(n=s.g.instance)||void 0===n||n.on(l,p),()=>{var e,t,i;u.A.pause(),null===(e=s.g.instance)||void 0===e||e.off(a,y),null===(t=s.g.instance)||void 0===t||t.off(r,c),null===(i=s.g.instance)||void 0===i||i.off(l,p)}}),[e,h,y]),null}},14993:function(e,t,i){i.r(t),i.d(t,{mapDispatchToProps:function(){return U},mapStateToProps:function(){return F}}),i(16280),i(9920),i(98992),i(3949),i(67348),i(35644);var o=i(22213),n=i(5556),s=i.n(n),a=i(96540),r=i(49924),l=i(82960),d=i(69876),u=i(56264),c=i(66088),p=i(27724),g=i(15448),b=i(51864),m=i(1543),v=i(85853),h=i(19681),y=i(97908),f=i(44611),P=i(91968),A=i(92588),I=i(88791),S=i(13512),w=i(22120),E=i(65315),R=i(44059),_=i(55144),C=i(91300),x=i(19989),k=i(10537),T=i(7658),M=i(74848);function L(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function q(e,t,i){return e.set(j(e,t),i),i}function B(e,t){return e.get(j(e,t))}function j(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var N=new WeakMap,O=new WeakMap;class D extends a.Component{constructor(e,t){super(e,t),L(this,N,void 0),L(this,O,!1),this.eventMap={},this.onStopped=()=>{var e;null===(e=B(N,this))||void 0===e||e.clear()},this.onPaused=()=>{var e;B(O,this)||null===(e=B(N,this))||void 0===e||e.pause()},this.onError=e=>{var t;const{actions:i}=this.props;i.reportPlayerError(null==e?void 0:e.context),i.logClientError(e),null===(t=B(N,this))||void 0===t||t.clear()},this.onPlaying=e=>{var t;const{actions:i,qualifiedTuneSeconds:n}=this.props;i.playing(e),B(O,this)||e.isBoostTransition||(null!==(t=B(N,this))&&void 0!==t&&t.isPaused||q(N,this,new o.CustomTimer((()=>{q(O,this,!0),i.qualifiedTune()}),1e3*n)),B(N,this).start())},this.onNextTune=e=>{var t;const{actions:i,history:o}=this.props;null!==(t=p.g.instance)&&void 0!==t&&t.listenId||i.setListenId(),i.nextTune(e,o)},this.onMediaEnded=e=>{var t;const{actions:i}=this.props;if(null!=e&&e.isBoostTransition){if((null==e?void 0:e.transitionStreamName)===d.N6.intro)return i.endIntro();if((null==e?void 0:e.transitionStreamName)===d.N6.outro)return i.endOutro()}i.setListenId(!0),i.mediaEnded(),null===(t=B(N,this))||void 0===t||t.clear()},this.nextPlayButtonRef=(0,a.createRef)(),this.state={isReady:!1},(0,_.A)()||this.init()}componentDidMount(){this.deregisterHistoryListener=this.props.history.listen((async e=>{var t;const{locationPathname:i}=this.state;i&&i===e.pathname||(await p.g.readyPromise,null===(t=p.g.instance)||void 0===t||t.scheduleDestroyPreloads(),this.setState({locationPathname:e.pathname}))}))}componentDidUpdate(e,t){const{actions:i,autoPlayReady:o,listenId:n,isAutoPlayEnabled:s,routeProps:a,isDiscord:r}=this.props,{isReady:l}=this.state;if(!t.isReady&&l){var d;const e=null==a||null===(d=a.guideContext)||void 0===d?void 0:d.guideId,t=(0,R.S9)(e);!s||t||r||i.primePlayerForAutoPlay(),this.registerListeners(),i.setTunerReady()}if(e.autoPlayReady||!o){var u;e.listenId!==n&&(null===(u=p.g.instance)||void 0===u||u.setListenId(n))}else{const{actions:e,labels:t}=h.A;i.logFeatureActivity(e.autoPlay,t.showMiniPlayer)}}componentWillUnmount(){var e;null===(e=this.deregisterHistoryListener)||void 0===e||e.call(this),(0,_.A)()||this.removeListeners()}async init(){i(69702);const e=document.createElement("div");e.id="player",document.body.appendChild(e);const{timeout:t,retryLimit:o,maxPreloadStreams:n,introMp3Url:s,outroMp3Url:a,introCap:r,outroCap:l,shoutcastExtraTimeout:d,isInstreamLoggingEnabled:u,isHowlerEnabled:c,abTestIds:g,apiClient:b,actions:m,forceHttpsStreams:v,blockRejectedStreamsPlaybackMap:h,periodicIntervalSeconds:y,initialPeriodicIntervalSeconds:f,initialPeriodicIntervalRepeat:A,isWebMediaPlayerEnabled:I,isIcyMetadataEnabled:S}=this.props,{getLocalizedText:w}=this.context,E={timeout:t,retryLimit:o,maxPreloadStreams:n,boostConfig:{introMp3Url:s,outroMp3Url:a,introCap:r,outroCap:l,introTitle:w(P.xU),outroTitle:w(P.cS)},shoutcastExtraTimeout:d,isInstreamLoggingEnabled:u,isHowlerEnabled:c,abTestIds:g,forceHttpsStreams:v,blockRejectedStreamsPlaybackMap:h,hasNativeHlsSupport:!1,resources:{fetchHlsJsLibrary:()=>i.e(9135).then(i.bind(i,64945)).then((e=>e.default))},listenTimeConfig:{periodicIntervalSeconds:y,initialPeriodicIntervalSeconds:f,initialPeriodicIntervalRepeat:A},isWebMediaPlayerEnabled:I,isIcyMetadataEnabled:S};await p.g.init(b,e,E);const{events:R}=p.g.instance||{};this.eventMap={[R.meta]:m.meta,[R.connecting]:m.connecting,[R.loading]:m.loading,[R.paused]:this.onPaused,[R.stopped]:this.onStopped,[R.playing]:this.onPlaying,[R.nowPlayingChanged]:m.nowPlayingChanged,[R.mediaEnded]:this.onMediaEnded,[R.streamFailed]:m.streamFailed,[R.stationFailed]:m.stationFailed,[R.waiting]:m.waiting,[R.htmlStreamLoaded]:m.htmlStreamLoaded,[R.evaluateStreamStart]:m.evaluateStreamStart,[R.positionChanged]:m.positionChanged,[R.nextTune]:this.onNextTune,[R.instreamAd]:this.onInstreamAd,[R.error]:this.onError,[R.playerSelected]:m.playerSelected,[R.attemptingPlayback]:m.clearPlayerNameList,[R.initiateIntro]:m.initiateIntro,[R.initiateOutro]:m.initiateOutro,[R.endIntro]:m.endIntro,[R.endOutro]:m.endOutro},this.setState({isReady:!0})}onInstreamAd(e){var t;null===(t=c.S.instance)||void 0===t||t.handleInstreamAds(e)}registerListeners(){Object.keys(this.eventMap).forEach((e=>{var t;const i=this.eventMap[e];null===(t=p.g.instance)||void 0===t||t.on(e,i)}))}removeListeners(){Object.keys(this.eventMap).forEach((e=>{var t;const i=this.eventMap[e];null===(t=p.g.instance)||void 0===t||t.off(e,i)}))}render(){const{breakpoint:e,showPlayer:t,isUserSubscribed:i,isMobile:o,isDiscord:n,routeProps:s}=this.props;return t?(0,M.jsxs)(M.Fragment,{children:[!i&&(0,M.jsx)(x.A,{}),!(o&&s.hidePlayerOnMobile)&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(T.A,{breakpoint:e,nextPlayButtonRef:this.nextPlayButtonRef}),(0,M.jsx)(k.Ay,{breakpoint:e,disablePreroll:s.disablePreroll,nextPlayButtonRef:this.nextPlayButtonRef,isDiscord:n})]})]}):null}}D.propTypes={qualifiedTuneSeconds:s().number,timeout:s().number.isRequired,retryLimit:s().number.isRequired,maxPreloadStreams:s().number.isRequired,shoutcastExtraTimeout:s().number.isRequired,isInstreamLoggingEnabled:s().bool.isRequired,isAutoPlayEnabled:s().bool.isRequired,isHowlerEnabled:s().bool,abTestIds:s().string,actions:s().object.isRequired,breakpoint:s().number.isRequired,routeProps:s().object.isRequired,showPlayer:s().bool.isRequired,apiClient:s().object,history:s().object.isRequired,autoPlayReady:s().bool,isUserSubscribed:s().bool.isRequired,isMobile:s().bool.isRequired,introMp3Url:s().string.isRequired,outroMp3Url:s().string.isRequired,introCap:s().number.isRequired,outroCap:s().number.isRequired,isDiscord:s().bool.isRequired,forceHttpsStreams:s().bool,blockRejectedStreamsPlaybackMap:s().object,periodicIntervalSeconds:s().number,initialPeriodicIntervalSeconds:s().number,initialPeriodicIntervalRepeat:s().number,isWebMediaPlayerEnabled:s().bool,isIcyMetadataEnabled:s().bool},D.contextType=A.d;const F=e=>({qualifiedTuneSeconds:(0,S.Ik)(e,u.Q4,60),autoPlayReady:(0,E.pb)(e),timeout:(0,S.Ik)(e,u.zm),retryLimit:(0,S.Ik)(e,u.A_),maxPreloadStreams:(0,S.Ik)(e,f.ZJ,0),shoutcastExtraTimeout:(0,S.Ik)(e,u.Op),isInstreamLoggingEnabled:(0,S.Ik)(e,u.wD),isAutoPlayEnabled:(0,S.Ik)(e,u.gR),isHowlerEnabled:(0,S.Ik)(e,f.Iq),abTestIds:(0,S.Ik)(e,y.o),showPlayer:(0,C.A)(e),isUserSubscribed:(0,w.wA)(e),isMobile:(0,I.H6)(e),listenId:(0,E.l9)(e),introMp3Url:(0,S.gN)(e),outroMp3Url:(0,S.vm)(e),introCap:(0,S.Uv)(e),outroCap:(0,S.FU)(e),forceHttpsStreams:(0,S.Ik)(e,f.UZ),blockRejectedStreamsPlaybackMap:(0,S.Ik)(e,f.Sq),periodicIntervalSeconds:(0,S.Ik)(e,f.PH),initialPeriodicIntervalSeconds:(0,S.Ik)(e,f.uG),initialPeriodicIntervalRepeat:(0,S.Ik)(e,f.k9),isWebMediaPlayerEnabled:(0,S.Ik)(e,u.cj),isIcyMetadataEnabled:(0,S.Ik)(e,u.CR)}),U=e=>({actions:(0,l.bindActionCreators)({logFeatureActivity:g.Y5,primePlayerForAutoPlay:b.primePlayerForAutoPlay,logClientError:g.cJ,endIntro:b.endIntro,endOutro:b.endOutro,playing:v.he,connecting:v.jI,loading:v.Lq,nowPlayingChanged:v.lK,mediaEnded:v.$n,streamFailed:v.GI,stationFailed:v.Mo,waiting:v.eg,qualifiedTune:v.fG,htmlStreamLoaded:v.oA,nextTune:v.K9,evaluateStreamStart:v.nH,positionChanged:v.YS,meta:v.Ie,playerSelected:v.j7,clearPlayerNameList:v.Qn,setListenId:v.xY,initiateIntro:v._K,initiateOutro:v.RS,setTunerReady:v.gv,reportPlayerError:m.qE},e)});t.default=(0,r.Ng)(F,U)(D)},7658:function(e,t,i){var o=i(34164),n=i(62193),s=i.n(n),a=i(5556),r=i.n(a),l=i(96540),d=i(49924),u=i(15448),c=i(51864),p=i(76831),g=i(98319),b=i(72020),m=i(51608),v=i(53680),h=i(91968),y=i(46360),f=i(21654),P=i(68023),A=i(14872),I=i(2688),S=i(92588),w=i(13512),E=i(65315),R=i(15202),_=i(84920),C=i(8531),x=i(43153),k=i(69503),T=i(74848);function M({breakpoint:e,isNowPlaying:t,nextPlayButtonRef:i}){const[n,a]=(0,l.useState)(!1),[r,M]=(0,l.useState)({}),L=(0,d.d4)(w.Cq),q=(0,d.d4)(E.WB),B=(0,d.d4)(E.xB),j=(0,d.d4)(E.TQ),N=(0,d.d4)(E.u3),O=(0,d.d4)(E.aS),D=(0,d.d4)(E.qC),F=(0,l.useRef)(),U=(0,f.A)({playBoostStation:c.playBoostStation,setBoostTooltip:c.setBoostTooltip,logBoostFeatureAction:u.SK,logBoostOptInAction:u.gV,logBoostOptOutAction:u.xw}),[H]=(0,I.l)(),W=(0,C.oo)(e),z=(0,_.$)(W),K=(0,x.Ri)(v.boostTooltipDisplayCount.name),J=(0,A.A)(j),G=e=>{const t=e||U.logBoostOptOutAction;U.setBoostTooltip(!1),t(m.A.labels.tooltip),(0,x.TV)(v.boostTooltipDisplayCount.name,null,1)},Y=(0,l.useCallback)((()=>{var e;const{left:t}=(null==i||null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect())||{};return{left:t-(z/2-(z-215))+"px",right:0}}),[z,i]);(0,P.W)(F,(()=>{B&&G()})),(0,l.useEffect)((()=>{const{left:e,right:t}=Y()||{};return M(W?{left:e}:{right:t})}),[Y,B,H,W]),(0,l.useEffect)((()=>{n||a(N===y.M.playing)}),[N,n]),(0,l.useEffect)((()=>{if(j!==J)return a(!1);L&&!B&&!K&&!s()(q)&&!D&&!O&&n&&(U.logBoostFeatureAction(m.A.actions.show,m.A.labels.tooltip),U.setBoostTooltip(!0))}),[U,q,D,O,L,j,n,J,B,K]);const{getLocalizedText:Q}=(0,l.useContext)(S.d);return(0,T.jsxs)(p.A,{id:"boostIntroPopover",isOpen:B,className:(0,o.A)(k.A.popoverContainer,t?k.A.nowPlayingPositioning:k.A.playerPositioning),contentClassName:k.A.popoverContent,styleOverride:r,handleCloseClick:()=>G(),popoverRef:F,showCornerClose:!0,children:[(0,T.jsx)("img",{className:k.A.switchLogo,src:(0,R.A)("assets/img/shared/switch-logo.svg")}),(0,T.jsx)("div",{className:k.A.tooltipText,children:Q(h.nd)}),(0,T.jsx)(g.A,{id:"boostOptIn",className:k.A.dialogCtaButton,label:Q(h.Jp),onClick:()=>{G(U.logBoostOptInAction),U.playBoostStation()}}),(0,T.jsx)(b.A,{id:"boostOptOut",className:k.A.dialogCtaButton,label:Q(h.eF),onClick:()=>G()})]})}M.propTypes={nextPlayButtonRef:r().object.isRequired,breakpoint:r().number.isRequired,isNowPlaying:r().bool},t.A=M},72020:function(e,t,i){var o=i(34164),n=i(5556),s=i.n(n),a=i(56016),r=i(24398),l=i(74848);const d=({className:e,...t})=>(0,l.jsx)(a.A,{className:(0,o.A)(e,r.A.naked),...t});d.propTypes={className:s().string},t.A=d},87430:function(e,t,i){var o=i(5556),n=i.n(o),s=i(74848);const a=({className:e,style:t,viewBox:i,height:o,width:n,fill:a,dataTestId:r})=>(0,s.jsx)("svg",{width:n,height:o,viewBox:i,style:t,className:e,"data-testid":r,fill:"none",children:(0,s.jsx)("path",{d:"M19 13L13.3991 19L11 16.43",stroke:a,strokeWidth:"1.5",strokeMiterlimit:"10"})});a.propTypes={dataTestId:n().string,className:n().string,viewBox:n().string.isRequired,height:n().string.isRequired,width:n().string.isRequired,fill:n().string.isRequired},t.A=a},91968:function(e,t,i){i.d(t,{Jp:function(){return n},cS:function(){return r},eF:function(){return s},nd:function(){return o},xU:function(){return a}});const o="boost.intro.tooltip",n="boost.tooltip.opt.in.btn",s="boost.tooltip.opt.out.btn",a="boost.audio.intro.player.title",r="boost.audio.outro.player.title"},2688:function(e,t,i){i.d(t,{l:function(){return n}});var o=i(96540);function n(){const[e,t]=(0,o.useState)([0,0]);return(0,o.useLayoutEffect)((()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e}},69503:function(e,t){t.A={popoverContainer:"boost-intro-popover-module__popoverContainer___YmMko",playerPositioning:"boost-intro-popover-module__playerPositioning___EKFje",nowPlayingPositioning:"boost-intro-popover-module__nowPlayingPositioning___zGP38",popoverContent:"boost-intro-popover-module__popoverContent___PdHMS",switchLogo:"boost-intro-popover-module__switchLogo___DksAk",tooltipText:"boost-intro-popover-module__tooltipText___r9mzF",dialogCtaButton:"boost-intro-popover-module__dialogCtaButton___J4kAd"}}}]);
//# sourceMappingURL=player.10ed6d923564bb306b6b.js.map
</script>

</body>
</html>
