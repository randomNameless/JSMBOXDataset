<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bmwusa-api-service.html</title>
</head>
<body>

<script>
/*! BMWUSA Vite Build 1731603678170 */
const l={config:{apiUrl:null,legacyApiUrl:null,legacyDealerLocator:!1,subscriptionString:"ApiService"},setSubscriptions(){PubSub.subscribe(this.config.subscriptionString,(i,t)=>{const o=i.replace(l.config.subscriptionString+".","").split("."),e=o[0],a=o[1];l[e]&&l[e][a]&&l[e][a](t),console.log(i,t)})},init(){this.config.apiUrl=document.body.dataset.apiUrl?document.body.dataset.apiUrl+"/bin/dealerLocatorServlet":"https://bmwusa-awsint-u11.int.bmwusa.us-east-1.aws.bmw.cloud/bin/dealerLocatorServlet",this.config.legacyDealerLocator=document.body.dataset.legacyDealerLocator||!1,this.config.legacyApiUrl="/bin/services/",this.setSubscriptions()},get(i,t,o){const e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return e.open("GET",i),e.onreadystatechange=()=>{e.readyState==4&&e.status==200&&t?t(JSON.parse(e.response)):o&&e.readyState==4&&o(e.response)},e.send(),e},UserLocation:{getUserLocation({zipCode:i,lat:t,lng:o,onSuccess:e=null,onError:a=null}={}){let n=l.config.apiUrl+"userlocation/";i?n+=i:t&&o&&(n+=t+"/"+o),l.get(n,e,a)}},DealerLocator:{getMaco({zipCode:i,onSuccess:t=null,onError:o=null}={}){const e=l.config.apiUrl+"maco/"+i;l.get(e,t,o)},getDealers({zipCode:i,radius:t,page:o,macoCode:e=null,serviceType:a=null,onSuccess:n=null,onError:r=null}={}){let c;l.config.legacyDealerLocator?(c=l.config.legacyApiUrl,c+=a?"forms-dealers":"dealersdetails",c+="?zipCode="+i,o&&(c+="&page="+o),e&&(c+="&macoCode="+e),t&&(c+="&radius="+t),a&&(c+="&serviceType="+a)):(c=l.config.apiUrl+i,t&&(c+="/"+t),a&&(c+="/"+a)),l.get(c,n,r)},getDealersByMaco({zipCode:i,macoCode:t,onSuccess:o=null,onError:e=null}={}){let a;l.config.legacyDealerLocator?a=l.config.legacyApiUrl+"maco?zipCode="+i+"&macoCode="+t:a=l.config.apiUrl+"maco/"+t+"/"+i,l.get(a,o,e)},getDealersByCenterId({centerId:i,locationId:t,onSuccess:o=null,onError:e=null}={}){const a=l.config.apiUrl+"center/"+i+"/"+t;l.get(a,o,e)},getDealersByLocation({stateCode:i,city:t,radius:o,onSuccess:e=null,onError:a=null}={}){let n;l.config.legacyDealerLocator?n=l.config.legacyApiUrl+"dealersdetails?stateCode="+zipCode+"&city="+macoCode:n=l.config.apiUrl+"geo/"+i+"/"+o+"?city="+t,l.get(n,e,a)},getDealersByCoordinates({lat:i,lng:t,radius:o,onSuccess:e=null,onError:a=null}={}){const n=l.config.apiUrl+"geo/"+o+"?lat="+i+"&lon="+t;l.get(n,e,a)}}};try{l.init()}catch(i){console.error("Failed to initialize ApiService",i)}

</script>

</body>
</html>
