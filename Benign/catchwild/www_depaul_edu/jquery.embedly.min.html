<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery.embedly.min.html</title>
</head>
<body>

<script>
!function($){var defaults={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20,urlRe:null},urlRe=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,none=function(obj){return null===obj||void 0===obj},batch=function(list,split){var batches=[],current=[];return $.each(list,function(i,obj){current.push(obj),current.length===split&&(batches.push(current),current=[])}),0!==current.length&&batches.push(current),batches},listify=function(obj){return none(obj)?[]:$.isArray(obj)?obj:[obj]},zip=function(arrays){return $.map(arrays[0],function(_,i){return[$.map(arrays,function(array){return array[i]})]})},Keeper=function(len,each,after){this.init(len,each,after)};Keeper.prototype={init:function(urls){this.urls=urls,this.count=0,this.results={},this._deferred=$.Deferred()},notify:function(result){if(this.results[result.original_url]=result,this.count++,this._deferred.notify.apply(this._deferred,[result]),this.count===this.urls.length){var self=this,results=$.map(this.urls,function(url){return self.results[url]});this._deferred.resolve(results)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}},window.Keeper=Keeper;var API=function(){};API.prototype={defaults:{},log:function(level,message){none(window.console)||none(window.console[level])||window.console[level].apply(window.console,[message])},build:function(method,urls,options){var secure=(options=none(options)?{}:options).secure;none(secure)&&(secure="https:"===window.location.protocol);var base=(secure?"https":"http")+"://api.embed.ly/"+("objectify"===method?"2/":"1/")+method,query=none(options.query)?{}:options.query;return query.key=options.key,base+="?"+$.param(query),base+="&urls="+$.map(urls,encodeURIComponent).join(",")},ajax:function(method,urls,options){if(options=$.extend({},defaults,$.embedly.defaults,"object"==typeof options&&options),none(options.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;urls=listify(urls);var valid,keeper=new Keeper(urls),valid_urls=[],rejects=[];$.each(urls,function(i,url){valid=!1,urlRe.test(url)&&(valid=!0,null!==options.urlRe&&options.urlRe.test&&!options.urlRe.test(url)&&(valid=!1)),!0===valid?valid_urls.push(url):rejects.push({url:url,original_url:url,error:!0,invalid:!0,type:"error",error_message:'Invalid URL "'+url+'"'})});var batches=batch(valid_urls,options.batch),self=this;return $.each(batches,function(i,batch){$.ajax({url:self.build(method,batch,options),dataType:"jsonp",success:function(data){$.each(zip([batch,data]),function(i,obj){var result=obj[1];result.original_url=obj[0],result.invalid=!1,keeper.notify(result)})}})}),rejects.length&&setTimeout(function(){$.each(rejects,function(i,reject){keeper.notify(reject)})},1),keeper._deferred},oembed:function(urls,options){return this.ajax("oembed",urls,options)},preview:function(urls,options){return this.ajax("preview",urls,options)},objectify:function(urls,options){return this.ajax("objectify",urls,options)},extract:function(urls,options){return this.ajax("extract",urls,options)}};var ImageAPI=function(){};ImageAPI.prototype={build:function(method,url,options){var secure=(options=$.extend({},$.embedly.defaults,"object"==typeof options&&options)).secure;none(secure)&&(secure="https:"===window.location.protocol);var base=(secure?"https":"http")+"://i.embed.ly/"+("display"===method?"1/":"1/display/")+method,query=none(options.query)?{}:options.query;return query.key=options.key,base+="?"+$.param(query),base+="&url="+encodeURIComponent(url)},display:function(url,options){return this.build("display",url,options)},resize:function(url,options){return this.build("resize",url,options)},fill:function(url,options){return this.build("fill",url,options)},crop:function(url,options){return this.build("crop",url,options)}};var Embedly=function(element,url,options){this.init(element,url,options)};Embedly.prototype={init:function(elem,original_url,options){this.elem=elem,this.$elem=$(elem),this.original_url=original_url,this.options=options,this.loaded=$.Deferred();var self=this;this.loaded.done(function(){self.$elem.trigger("loaded",[self])}),this.$elem.trigger("initialized",[this])},progress:function(obj){$.extend(this,obj),this.options.display?this.options.display.apply(this.elem,[this,this.elem]):"oembed"===this.options.endpoint&&this.display(),this.loaded.resolve(this)},imageStyle:function(){var units,style=[];return this.options.addImageStyles&&(this.options.query.maxwidth&&(units=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",style.push("max-width: "+this.options.query.maxwidth+units)),this.options.query.maxheight&&(units=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",style.push("max-height: "+this.options.query.maxheight+units))),style.join(";")},display:function(){if("error"===this.type)return!1;this.style=this.imageStyle();var html;"photo"===this.type?(html="<a href='"+this.original_url+"' target='_blank'>",html+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+"' /></a>"):"video"===this.type||"rich"===this.type?html=this.html:(this.title=this.title||this.url,html=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",html+="<a href='"+this.original_url+"'>"+this.title+"</a>",html+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",html+=this.description?'<div class="description">'+this.description+"</div>":""),this.options.wrapElement&&(html="<"+this.options.wrapElement+' class="'+this.options.className+'">'+html+"</"+this.options.wrapElement+">"),this.code=html,"replace"===this.options.method?this.$elem.replaceWith(this.code):"after"===this.options.method?this.$elem.after(this.code):"afterParent"===this.options.method?this.$elem.parent().after(this.code):"replaceParent"===this.options.method&&this.$elem.parent().replaceWith(this.code),this.$elem.trigger("displayed",[this])}},$.embedly=new API,$.embedly.display=new ImageAPI,$.fn.embedly=function(options){if(void 0===options||"object"==typeof options){if(options=$.extend({},defaults,$.embedly.defaults,"object"==typeof options&&options),none(options.key))return $.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each($.noop);var nodes={},create=function(elem){if(!$.data($(elem),"embedly")){var url=$(elem).attr("href"),node=new Embedly(elem,url,options);$.data(elem,"embedly",node),nodes.hasOwnProperty(url)?nodes[url].push(node):nodes[url]=[node]}},elems=this.each(function(){none($(this).attr("href"))?$(this).find("a").each(function(){none($(this).attr("href"))||create(this)}):create(this)}),deferred=$.embedly.ajax(options.endpoint,$.map(nodes,function(value,key){return key}),options).progress(function(obj){$.each(nodes[obj.original_url],function(i,node){node.progress(obj)})});return options.progress&&deferred.progress(options.progress),options.done&&deferred.done(options.done),elems}},$.expr[":"].embedly=function(elem){return!none($(elem).data("embedly"))},$.fn.display=function(endpoint,options){if(none(endpoint)&&(endpoint="display"),void 0===options||"object"==typeof options){if(options=$.extend({},defaults,$.embedly.defaults,"object"==typeof options&&options),none(options.key))return $.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly/display"),this.each($.noop);var create=function(elem){var $elem=$(elem);if(!$elem.data("display")){var url=$elem.data("src")||$elem.attr("href"),data={original_url:url,url:$.embedly.display.build(endpoint,url,options)};$elem.data("display",data),$elem.trigger("initialized",[elem]);var html="<img src='"+data.url+"' />";$elem.is("a")?$elem.append(html):$elem.replaceWith(html)}},doCreate=function(elem){return!none($(elem).data("src"))||!none($(elem).attr("href"))};return this.each(function(){doCreate(this)?create(this):$(this).find("img,a").each(function(){doCreate(this)&&create(this)})})}},$.expr[":"].display=function(elem){return!none($(elem).data("display"))}}(jQuery,window);
</script>

</body>
</html>
