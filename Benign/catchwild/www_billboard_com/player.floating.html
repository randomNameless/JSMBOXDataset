<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>player.floating.html</title>
</head>
<body>

<script>
"use strict";(self.cnx_webpack_global_elements_545253=self.cnx_webpack_global_elements_545253||[]).push([["floating"],{9537:(t,i,s)=>{s.r(i),s.d(i,{FloatingModule:()=>m});var h=s(8671),e=s(8243),n=s(6716),r=s(6288),o=s(4463),a=s(822);var l=s(2411),c=s(5965);class g{constructor(t,i,s,h){this.mi=t,this.xU=i,this.tU=s,this.nt=h,this.C3=!1,this.nF=null,this.TF=null,this.pE=new n.x,this.MV=new n.x,this.ZA=new n.x,this.Sz=new n.x,this.QM=new n.x,this.AU=()=>{if(!this.C3||!this.UR)return;const t=!!this.UR;this.NR(t)},this.hj=t=>{if(this.W$(t.propertyName))switch(this.nF){case 0:this.transitionState=null,this.MV.next();break;case 1:this.transitionState=null,this.ON();break;case 2:this.transitionState=null,this.mW(c.jG.FadeInBase,c.jG.FadeIn),this.QM.next()}}}get isInFloating(){return this.C3}get transitionState(){return this.nF}set transitionState(t){2===this.nF&&this.mW(c.jG.FadeInBase,c.jG.FadeIn),this.nF=t}updateSettings(t){if((0,a.$K)(null==t?void 0:t.scrollPosition)&&(this.mi.setScrollPosition(t.scrollPosition),this.mi.setExtraHeight(this.mi.isPinnedFloating?0:this.mi.cachedExtraHeight),this.isInFloating)){this.bX(),this.mG();const t=!!this.UR;this.NR(t)}(0,a.$K)(null==t?void 0:t.floatingWidth)&&(this.mi.floatingWidth=t.floatingWidth),(0,a.$K)(null==t?void 0:t.floatingGutterX)&&(this.mi.gutterX=t.floatingGutterX),(0,a.$K)(null==t?void 0:t.floatingGutterY)&&(this.mi.gutterY=t.floatingGutterY)}updateWidth(t){this.mi.floatingWidth=t}start(){this.xU.addEventListener("transitionend",this.hj),this.mi.hasFloatingTransition||this.yG("cnx-float-instant-transition")}destroy(){this.xU.removeEventListener("transitionend",this.hj),this.UR&&this.VK()}enterToFloating(){this.dQ()&&this.vY(),this.C3=!0,this.transitionState=0,this.yG("cnx-float"),this.mG(),this.forceFloatingElementSizeUpdate();const t=this.BZ(),i=this.S1();this.pE.next(),this.Q1({x:i,y:t.y},!1),(0,r.Tp)(this.xU);this.Q1(t,!0),this.mi.hasFloatingTransition||(this.transitionState=null,this.MV.next())}exitFromFloating(t=!0,i=!1){if(i)return void this.ON();t&&(this.transitionState=1),this.dQ()&&this.VK(),this.ZA.next();const{y:s}=this.BZ(),h=this.S1();this.Q1({y:s,x:h},t),t||this.ON()}setFloatingAnchorElement(t){this.UR=t,this.mi.floatingWidth=this.UR.clientWidth}forceFloatingElementPositionUpdate(){this.NR(!1)}forceFloatingElementSizeUpdate(){if(this.C3){this.tU!==l.Y.SMARTPHONE&&(this.xU.style.width=`${this.mi.floatingWidth}px`);const t=this.xU.getBoundingClientRect().width;this.xU.style.height=this.mi.getHeight(t)}}onEnterStart(){return this.pE.asObservable()}onEnterStop(){return this.MV.asObservable()}onExitStart(){return this.ZA.asObservable()}onExitStop(){return this.Sz.asObservable()}onFadeInStop(){return this.QM.asObservable()}yG(...t){(0,r.cn)(this.xU,...t)}mW(...t){(0,r.IV)(this.xU,...t)}mG(){this.dQ()||(this.mi.isPositionedLeft?this.yG("cnx-float-position-left"):this.yG("cnx-float-position-right"),this.mi.isPositionedTop?this.yG("cnx-float-position-top"):this.yG("cnx-float-position-bottom"))}bX(){this.mW("cnx-float-position-left","cnx-float-position-right","cnx-float-position-top","cnx-float-position-bottom")}vY(){this.nt.addEventListenerOnGlobal("scroll",this.AU)}VK(){this.nt.removeEventListenerOnGlobal("scroll",this.AU)}NR(t){const i=this.BZ();this.Q1(i,t)}b2(){var t,i;if(this.UR){const s=null===(t=this.UR)||void 0===t?void 0:t.getBoundingClientRect().top;return this.mi.appendLocation===h.vL.ABOVE?s-this.xU.offsetHeight-this.mi.floatingYAxisPadding:this.mi.appendLocation===h.vL.BELOW?s+(null===(i=this.UR)||void 0===i?void 0:i.offsetHeight)+this.mi.floatingYAxisPadding:s}return NaN}dQ(){return this.mi.floatingPosition===h.tz.ELEMENT}W$(t){switch(this.nF){case 0:case 1:if("transform"===t&&this.mi.hasFloatingTransition)return!0;break;case 2:if("opacity"===t)return!0}return!1}ON(){this.C3=!1,this.mW("cnx-float","cnx-float-transition"),this.bX(),this.f3(),this.transitionState=2,this.yG(c.jG.FadeInBase),(0,r.Tp)(this.xU),this.yG(c.jG.FadeIn),this.Sz.next()}f3(){this.xU.style.top="",this.xU.style.bottom="",this.xU.style.left="",this.xU.style.right="",this.xU.style.width="",this.xU.style.height="",this.xU.style.transform="",this.TF&&this.nt.cancelRequestAnimationFrame(this.TF)}Q1({x:t,y:i},s){this.X4(s);const h=()=>{this.xU.style.transform=`translate(${t}px, ${i}px)`};s?(this.TF&&this.nt.cancelRequestAnimationFrame(this.TF),this.TF=null,this.TF=this.nt.requestAnimationFrameHelper((()=>{h()}))):h()}X4(t){this.mi.hasFloatingTransition&&(t?this.yG("cnx-float-transition"):this.mW("cnx-float-transition"))}BZ(){let t,i;if(this.dQ()&&this.UR){this.Q4();const s=this.mi.isPositionedLeft?this.mi.gutterX:-this.mi.gutterX;t=this.nt.getElementCoordinates(this.UR).clientX+s;const h=this.b2();return i=h<this.mi.gutterY?this.mi.gutterY:h,{x:t,y:i}}return t=this.mi.isPositionedLeft?this.mi.gutterX:-this.mi.gutterX,i=this.mi.isPositionedTop?this.mi.gutterY:-this.mi.gutterY,{x:t,y:i}}S1(){const t=(this.mi.floatingWidth||1e3)+20,i=this.nt.getViewportWidth();return this.mi.isPositionedLeft?-t:i+t}Q4(){if(this.UR){const t=2;this.nt.getElementCoordinates(this.UR).clientX<this.nt.getBodyDimensions().width/t?(this.mi.isPositionedLeft=!0,this.mi.isPositionedRight=!1):(this.mi.isPositionedLeft=!1,this.mi.isPositionedRight=!0)}}}class u{constructor(){this.m5=({floatingContainer:t,floatingBreakpoint:i})=>(0,r.LT)(t).innerWidth>=i,this.t6=({wasSessionInView:t})=>t,this.i6=({isPlayerContainerInView:t})=>t,this.s6=({isInFloating:t})=>t,this.h6=({isFloatingOnPageElement:t,floatingAnchorElement:i})=>!t||!(!i||i&&0===i.clientWidth),this.e6=({isPageInFocus:t})=>!!t,this.n6=({isPlaybackPausedByUserInteraction:t})=>t,this.r6={3:this.m5,0:this.t6,1:this.i6,2:this.s6,4:this.h6,5:this.e6,6:this.n6}}canEnterFloating(t){return this.o6(t,"enter")}canExitFloating(t){return this.o6(t,"exit")}o6(t,i){const s="enter"===i?this.a6:this.l6;return Object.keys(s).every((i=>s[i]===this.r6[i](t)))}}class d extends u{constructor(){super(...arguments),this.a6={3:!0,2:!1,5:!0,1:!1,4:!0,0:!0,6:!1},this.l6={2:!0,1:!0}}}class F extends u{constructor(){super(...arguments),this.a6={3:!0,4:!0,2:!1},this.l6={}}canExitFloating(){return!1}}class p extends u{constructor(){super(...arguments),this.a6={3:!0,2:!1,1:!1,4:!0,5:!0},this.l6={2:!0,1:!0}}}class S extends u{constructor(){super(...arguments),this.a6={},this.l6={2:!0}}canEnterFloating(){return!1}}class x extends u{constructor(){super(...arguments),this.a6={3:!0,2:!1,1:!1,4:!0,5:!0,6:!1},this.l6={2:!0,1:!0}}}class E{constructor(t){this.c6={[h.v3.PLAYER_FLOATING_MODE_OFF]:new S,[h.v3.ON_PAGE_LOAD]:new x,[h.v3.AFTER_IN_VIEW]:new d,[h.v3.ALWAYS]:new F,ForceEnter:new p},this.g6=t,this.u6=this.c6[this.g6]}getStrategy(){return this.g6}setStrategy(t){this.g6=t,this.u6=this.c6[this.g6]}canEnterFloating(t){return this.u6.canEnterFloating(t)}canExitFloating(t){return this.u6.canExitFloating(t)}}class _{constructor(t,i,s,h,e,n,r=0){this.ls=t,this.IK=i,this.xU=s,this.mi=h,this.tU=e,this.nt=n,this.d6=r,this.F6=!1,this.p6=[],this.S6=new g(this.mi.floatingHelperSettings,s,e,n),this.x6=new E(this.mi.floatingMode),this.E6={isPlayerContainerInView:!1,wasSessionInView:!1,isPlaybackPausedByUserInteraction:!1}}get isInFloating(){return this.S6.isInFloating}_6(t){this.E6=Object.assign(Object.assign({},this.E6),t)}f6(){return Object.assign(Object.assign({},this.E6),{isInFloating:this.S6.isInFloating,floatingContainer:this.xU,floatingBreakpoint:this.d6,isFloatingOnPageElement:this.mi.floatingPosition===h.tz.ELEMENT,isPageInFocus:this.ls.isPageInFocus,floatingAnchorElement:this.UR})}v6(){const t=this.f6();this.x6.canEnterFloating(t)&&(this.w6(),this.S6.enterToFloating()),"ForceEnter"===this.x6.getStrategy()&&this.x6.setStrategy(h.v3.ON_PAGE_LOAD)}m6(t=!0,i=!1){const s=this.f6();this.x6.canExitFloating(s)&&this.S6.exitFromFloating(t,i)}dQ(){return this.mi.floatingPosition===h.tz.ELEMENT}b6(){this.UR=this.nt.querySelector(this.mi.pageElement),this.UR&&(this.y6&&clearInterval(this.y6),this.S6.updateWidth(this.UR.clientWidth),this.LK(),this.IK.on(this.UR,(()=>this.I6())),this.S6.setFloatingAnchorElement(this.UR))}P6(){this.y6=setInterval((()=>{this.b6()}),500),this.b6()}yG(...t){(0,r.cn)(this.xU,...t)}mW(...t){(0,r.IV)(this.xU,...t)}w6(){this.mW("cnx-pinned"),this.mW("cnx-pinned-top-floating"),this.mW("cnx-pinned-bottom-floating"),this.mi.isPinnedPlayerFloating&&(this.yG("cnx-pinned"),this.yG(this.mi.floatingScrollPosition===h.T.PINNED_TOP?"cnx-pinned-top-floating":"cnx-pinned-bottom-floating"))}I6(){this.dQ()&&this.UR&&this.S6.updateWidth(this.UR.clientWidth),this.LK(),this.S6.isInFloating&&!this.F6&&this.S6.forceFloatingElementPositionUpdate()}C6(){const t=this.nt.getGlobalClosestTop().topFrame;this.IK.on(this.xU,(()=>this.LK())),this.IK.on(t.document.body,(()=>this.I6())),t.addEventListener("resize",(()=>this.I6()))}V6(){const t=this.nt.getGlobalClosestTop().topFrame;this.IK.off(this.xU,(()=>this.LK())),this.IK.off(t.document.body,(()=>this.I6())),t.removeEventListener("resize",(()=>this.I6())),this.UR&&this.y6&&clearInterval(this.y6)}k6(t){(0,a.$K)(null==t?void 0:t.scrollPosition)&&(this.mi.setScrollPosition(t.scrollPosition),this.w6()),this.S6.updateSettings(t)}S0(){return this.mi.getFloatingSettings()}O6(){this.p6.push(this.S6.onEnterStart().subscribe((()=>{this.F6=!1,this.A6()})),this.S6.onEnterStop().subscribe((()=>this.z6())),this.S6.onExitStart().subscribe((()=>{this.F6=!0,this.M6()})),this.S6.onExitStop().subscribe((()=>this.B6())),this.S6.onFadeInStop().subscribe((()=>this.QM())))}H6(){(0,o.i)(this.p6)}}class f extends _{constructor(t,i,s,h,e,r,o=0){super(t,i,s,h,e,r,o),this.U6=!0,this.R6=new n.x}get onFloatingEnterStop(){return this.R6.asObservable()}isFloatingModeEnabled(){return!0}start(){this.yG("cnx-always-floating"),this.w6(),this.S6.start(),this.O6(),this.C6(),this.dQ()&&this.P6(),this.v6()}setFloatingSettings(t){this.k6(t),this.start()}getFloatingSettings(){return this.S0()}A6(){this._6({wasSessionInView:!0})}z6(){this.R6.next()}M6(){}B6(){}QM(){}LK(){this.S6.isInFloating&&this.S6.forceFloatingElementSizeUpdate()}}const v=.5;class w extends _{constructor(t,i,s,h,e,r,o,a=0){var l;super(i,s,h,e,r,o,a),this.iw=t,this.j6=!1,this.T6=!1,this.L6=new n.x,this.R6=new n.x,this.N6=new n.x,this.D6=new n.x,this.YQ=t=>{if(t){this._6({isPlayerContainerInView:!0,wasSessionInView:!0});const t=this.W6&&!this.j6;this.m6(t)}t||(this._6({isPlayerContainerInView:!1}),this.v6())},this.W6=null!==(l=e.floatingHelperSettings.hasFloatingTransition)&&void 0!==l&&l}get onFloatingEnterStart(){return this.L6.asObservable()}get onFloatingEnterStop(){return this.R6.asObservable()}get onFloatingExitStart(){return this.N6.asObservable()}get onFloatingExitStop(){return this.D6.asObservable()}isFloatingModeEnabled(){return this.x6.getStrategy()!==h.v3.PLAYER_FLOATING_MODE_OFF&&(!this.T6&&((this.x6.getStrategy()===h.v3.ALWAYS||!this.E6.isPlaybackPausedByUserInteraction)&&(this.x6.getStrategy()!==h.v3.AFTER_IN_VIEW||!1!==this.E6.wasSessionInView)))}enableFloatingMode(){const t=this.x6.getStrategy();this.x6.setStrategy("ForceEnter"),this.T6=!1,t===h.v3.PLAYER_FLOATING_MODE_OFF?this.start():this.YQ(this.iw.check({element:this.xU.parentElement,threshold:v}))}disableFloatingMode(){this.destroy()}setFloatingSettings(t){this.k6(t),this.YQ(this.iw.check({element:this.xU.parentElement,threshold:v}))}getFloatingSettings(){return this.S0()}start(){this.x6.getStrategy()!==h.v3.PLAYER_FLOATING_MODE_OFF&&(this.w6(),this.S6.start(),this.O6(),this.C6(),this.dQ()&&this.P6(),this.X6(),this.YQ(this.iw.check({element:this.xU.parentElement,threshold:v})))}destroy(){this.x6.setStrategy(h.v3.PLAYER_FLOATING_MODE_OFF),this.S6.isInFloating?(this.T6=!0,this.m6(!1,!0)):(this.q6(),this.G6())}fullscreenStateChange(t){this.j6=t,t?this.q6():this.X6(),this.YQ(this.iw.check({element:this.xU.parentElement,threshold:v}))}setSessionInView(){this._6({wasSessionInView:!0})}setPlaybackPausedByUserInteraction(t){this._6({isPlaybackPausedByUserInteraction:t})}A6(){this.L6.next()}z6(){this.R6.next()}M6(){this.N6.next()}B6(){}QM(){this.D6.next(),this.T6&&(this.x6.setStrategy(h.v3.PLAYER_FLOATING_MODE_OFF),this.q6(),this.G6())}LK(){this.S6.isInFloating&&this.S6.forceFloatingElementSizeUpdate(),this.YQ(this.iw.check({element:this.xU.parentElement,threshold:v}))}X6(){this.xU.parentElement&&this.iw.on(this.xU.parentElement,this.YQ,{threshold:v})}q6(){this.xU.parentElement&&this.iw.off(this.xU.parentElement,this.YQ)}G6(){this.S6.destroy(),this.H6(),this.V6()}}class m{constructor(t,i,s,e,n,r,o,a=0){if(this.mi=t,this.tU=r,this.ls=o,t.floatingMode===h.v3.ALWAYS)this.J6=new f(o,s,n,t,r,i,a);else{const h=new w(e,o,s,n,t,r,i,a);this.J6=h}}get isInFloating(){return this.J6.isInFloating}get onFloatingEnterStop(){return this.J6.onFloatingEnterStop}get onFloatingEnterStart(){return this.J6.onFloatingEnterStart}get onFloatingExitStart(){return this.J6.onFloatingExitStart}get onFloatingExitStop(){return this.J6.onFloatingExitStop}start(){this.K6()&&this.J6.start()}destroy(t=!1){var i,s;null===(s=(i=this.J6).destroy)||void 0===s||s.call(i,t)}fullscreenStateChange(t){var i,s;null===(s=(i=this.J6).fullscreenStateChange)||void 0===s||s.call(i,t)}enableFloatingMode(){var t,i;null===(i=(t=this.J6).enableFloatingMode)||void 0===i||i.call(t)}disableFloatingMode(){var t,i;null===(i=(t=this.J6).disableFloatingMode)||void 0===i||i.call(t)}isFloatingModeEnabled(){return this.J6.isFloatingModeEnabled()}setFloatingSettings(t){this.J6.setFloatingSettings(t)}getFloatingSettings(){return this.J6.getFloatingSettings()}setSessionInView(){var t,i;null===(i=(t=this.J6).setSessionInView)||void 0===i||i.call(t)}setPlaybackPausedByUserInteraction(t){var i,s;null===(s=(i=this.J6).setPlaybackPausedByUserInteraction)||void 0===s||s.call(i,t)}checkFloatingViewability(t){const i=this.ls.isPageInFocus;return!(t||!this.J6.isInFloating||!i)||t}canFloat(){return this.K6()&&this.mi.floatingMode!==h.v3.PLAYER_FLOATING_MODE_OFF}K6(){return(0,e.d3)(this.tU,this.mi.floatingDeviceMode)}}}}]);
</script>

</body>
</html>
