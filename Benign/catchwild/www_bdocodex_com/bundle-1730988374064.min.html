<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bundle-1730988374064.min.html</title>
</head>
<body>

<script>
/*!
  * Bootstrap v5.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e(t.Popper)}(this,(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;const e=Object.create(null);if(t)for(const n in t)if("default"!==n){const i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const n=e(t),i="transitionend",o=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},s=t=>{const e=o(t);return e&&document.querySelector(e)?e:null},r=t=>{const e=o(t);return e?document.querySelector(e):null},a=t=>{t.dispatchEvent(new Event(i))},l=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),c=t=>l(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,u=(t,e,n)=>{Object.keys(n).forEach((i=>{const o=n[i],s=e[i],r=s&&l(s)?"element":(t=>null==t?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase())(s);if(!new RegExp(o).test(r))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${o}".`)}))},h=t=>!(!l(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),d=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),p=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p(t.parentNode):null},f=()=>{},m=t=>{t.offsetHeight},_=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},g=[],v=()=>"rtl"===document.documentElement.dir,y=t=>{var e;e=()=>{const e=_();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}},"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",(()=>{g.forEach((t=>t()))})),g.push(e)):e()},b=t=>{"function"==typeof t&&t()},w=(t,e,n=!0)=>{if(!n)return void b(t);const o=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),o=Number.parseFloat(n);return i||o?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let s=!1;const r=({target:n})=>{n===e&&(s=!0,e.removeEventListener(i,r),b(t))};e.addEventListener(i,r),setTimeout((()=>{s||a(e)}),o)},x=(t,e,n,i)=>{let o=t.indexOf(e);if(-1===o)return t[!n&&i?t.length-1:0];const s=t.length;return o+=n?1:-1,i&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))]},k=/[^.]*(?=\..*)\.|.*/,S=/\..*/,T=/::\d+$/,C={};let L=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},A=/^(mouseenter|mouseleave)/i,$=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function E(t,e){return e&&`${e}::${L++}`||t.uidEvent||L++}function D(t){const e=E(t);return t.uidEvent=e,C[e]=C[e]||{},C[e]}function I(t,e,n=null){const i=Object.keys(t);for(let o=0,s=i.length;o<s;o++){const s=t[i[o]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function M(t,e,n){const i="string"==typeof e,o=i?n:e;let s=j(t);return $.has(s)||(s=t),[i,o,s]}function O(t,e,n,i,o){if("string"!=typeof e||!t)return;if(n||(n=i,i=null),A.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):n=t(n)}const[s,r,a]=M(e,n,i),l=D(t),c=l[a]||(l[a]={}),u=I(c,r,s?n:null);if(u)return void(u.oneOff=u.oneOff&&o);const h=E(r,e.replace(k,"")),d=s?function(t,e,n){return function i(o){const s=t.querySelectorAll(e);for(let{target:r}=o;r&&r!==this;r=r.parentNode)for(let a=s.length;a--;)if(s[a]===r)return o.delegateTarget=r,i.oneOff&&B.off(t,o.type,e,n),n.apply(r,[o]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&B.off(t,i.type,e),e.apply(t,[i])}}(t,n);d.delegationSelector=s?n:null,d.originalHandler=r,d.oneOff=o,d.uidEvent=h,c[h]=d,t.addEventListener(a,d,s)}function N(t,e,n,i,o){const s=I(e[n],i,o);s&&(t.removeEventListener(n,s,Boolean(o)),delete e[n][s.uidEvent])}function j(t){return t=t.replace(S,""),P[t]||t}const B={on(t,e,n,i){O(t,e,n,i,!1)},one(t,e,n,i){O(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[o,s,r]=M(e,n,i),a=r!==e,l=D(t),c=e.startsWith(".");if(void 0!==s){if(!l||!l[r])return;return void N(t,l,r,s,o?n:null)}c&&Object.keys(l).forEach((n=>{!function(t,e,n,i){const o=e[n]||{};Object.keys(o).forEach((s=>{if(s.includes(i)){const i=o[s];N(t,e,n,i.originalHandler,i.delegationSelector)}}))}(t,l,n,e.slice(1))}));const u=l[r]||{};Object.keys(u).forEach((n=>{const i=n.replace(T,"");if(!a||e.includes(i)){const e=u[n];N(t,l,r,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=_(),o=j(e),s=e!==o,r=$.has(o);let a,l=!0,c=!0,u=!1,h=null;return s&&i&&(a=i.Event(e,n),i(t).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented()),r?(h=document.createEvent("HTMLEvents"),h.initEvent(o,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(h,t,{get:()=>n[t]})})),u&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==a&&a.preventDefault(),h}},F=new Map,z={set(t,e,n){F.has(t)||F.set(t,new Map);const i=F.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>F.has(t)&&F.get(t).get(e)||null,remove(t,e){if(!F.has(t))return;const n=F.get(t);n.delete(e),0===n.size&&F.delete(t)}};class R{constructor(t){(t=c(t))&&(this._element=t,z.set(this._element,this.constructor.DATA_KEY,this))}dispose(){z.remove(this._element,this.constructor.DATA_KEY),B.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){w(t,e,n)}static getInstance(t){return z.get(c(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const H=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;B.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),d(this))return;const o=r(this)||this.closest(`.${i}`);t.getOrCreateInstance(o)[e]()}))};class q extends R{static get NAME(){return"alert"}close(){if(B.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),B.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=q.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H(q,"close"),y(q);const W='[data-bs-toggle="button"]';class U extends R{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=U.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function Z(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function V(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}B.on(document,"click.bs.button.data-api",W,(t=>{t.preventDefault();const e=t.target.closest(W);U.getOrCreateInstance(e).toggle()})),y(U);const K={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${V(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${V(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=Z(t.dataset[n])})),e},getDataAttribute:(t,e)=>Z(t.getAttribute(`data-bs-${V(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},G={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!d(t)&&h(t)))}},J="carousel",X={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Q="next",tt="prev",et="left",nt="right",it={ArrowLeft:nt,ArrowRight:et},ot="slid.bs.carousel",st="active",rt=".active.carousel-item";class at extends R{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=G.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return X}static get NAME(){return J}next(){this._slide(Q)}nextWhenVisible(){!document.hidden&&h(this._element)&&this.next()}prev(){this._slide(tt)}pause(t){t||(this._isPaused=!0),G.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(a(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=G.findOne(rt,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void B.one(this._element,ot,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?Q:tt;this._slide(n,this._items[t])}_getConfig(t){return t={...X,...K.getDataAttributes(this._element),..."object"==typeof t?t:{}},u(J,t,Y),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?nt:et)}_addEventListeners(){this._config.keyboard&&B.on(this._element,"keydown.bs.carousel",(t=>this._keydown(t))),"hover"===this._config.pause&&(B.on(this._element,"mouseenter.bs.carousel",(t=>this.pause(t))),B.on(this._element,"mouseleave.bs.carousel",(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},i=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),500+this._config.interval))};G.find(".carousel-item img",this._element).forEach((t=>{B.on(t,"dragstart.bs.carousel",(t=>t.preventDefault()))})),this._pointerEvent?(B.on(this._element,"pointerdown.bs.carousel",(t=>e(t))),B.on(this._element,"pointerup.bs.carousel",(t=>i(t))),this._element.classList.add("pointer-event")):(B.on(this._element,"touchstart.bs.carousel",(t=>e(t))),B.on(this._element,"touchmove.bs.carousel",(t=>n(t))),B.on(this._element,"touchend.bs.carousel",(t=>i(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=it[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?G.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Q;return x(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),i=this._getItemIndex(G.findOne(rt,this._element));return B.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=G.findOne(".active",this._indicatorsElement);e.classList.remove(st),e.removeAttribute("aria-current");const n=G.find("[data-bs-target]",this._indicatorsElement);for(let e=0;e<n.length;e++)if(Number.parseInt(n[e].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[e].classList.add(st),n[e].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||G.findOne(rt,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),i=G.findOne(rt,this._element),o=this._getItemIndex(i),s=e||this._getItemByOrder(n,i),r=this._getItemIndex(s),a=Boolean(this._interval),l=n===Q,c=l?"carousel-item-start":"carousel-item-end",u=l?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(n);if(s&&s.classList.contains(st))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(s,h).defaultPrevented)return;if(!i||!s)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;const d=()=>{B.trigger(this._element,ot,{relatedTarget:s,direction:h,from:o,to:r})};if(this._element.classList.contains("slide")){s.classList.add(u),m(s),i.classList.add(c),s.classList.add(c);const t=()=>{s.classList.remove(c,u),s.classList.add(st),i.classList.remove(st,u,c),this._isSliding=!1,setTimeout(d,0)};this._queueCallback(t,i,!0)}else i.classList.remove(st),s.classList.add(st),this._isSliding=!1,d();a&&this.cycle()}_directionToOrder(t){return[nt,et].includes(t)?v()?t===et?tt:Q:t===et?Q:tt:t}_orderToDirection(t){return[Q,tt].includes(t)?v()?t===tt?et:nt:t===tt?nt:et:t}static carouselInterface(t,e){const n=at.getOrCreateInstance(t,e);let{_config:i}=n;"object"==typeof e&&(i={...i,...e});const o="string"==typeof e?e:i.slide;if("number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new TypeError(`No method named "${o}"`);n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){at.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=r(this);if(!e||!e.classList.contains("carousel"))return;const n={...K.getDataAttributes(e),...K.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),at.carouselInterface(e,n),i&&at.getInstance(e).to(i),t.preventDefault()}}B.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",at.dataApiClickHandler),B.on(window,"load.bs.carousel.data-api",(()=>{const t=G.find('[data-bs-ride="carousel"]');for(let e=0,n=t.length;e<n;e++)at.carouselInterface(t[e],at.getInstance(t[e]))})),y(at);const lt="collapse",ct="bs.collapse",ut={toggle:!0,parent:null},ht={toggle:"boolean",parent:"(null|element)"},dt="show",pt="collapse",ft="collapsing",mt="collapsed",_t=":scope .collapse .collapse",gt='[data-bs-toggle="collapse"]';class vt extends R{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=G.find(gt);for(let t=0,e=n.length;t<e;t++){const e=n[t],i=s(e),o=G.find(i).filter((t=>t===this._element));null!==i&&o.length&&(this._selector=i,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ut}static get NAME(){return lt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=G.find(_t,this._config.parent);e=G.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((e=>!t.includes(e)))}const n=G.findOne(this._selector);if(e.length){const i=e.find((t=>n!==t));if(t=i?vt.getInstance(i):null,t&&t._isTransitioning)return}if(B.trigger(this._element,"show.bs.collapse").defaultPrevented)return;e.forEach((e=>{n!==e&&vt.getOrCreateInstance(e,{toggle:!1}).hide(),t||z.set(e,ct,null)}));const i=this._getDimension();this._element.classList.remove(pt),this._element.classList.add(ft),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(pt,dt),this._element.style[i]="",B.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[i]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(B.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,m(this._element),this._element.classList.add(ft),this._element.classList.remove(pt,dt);const e=this._triggerArray.length;for(let t=0;t<e;t++){const e=this._triggerArray[t],n=r(e);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(pt),B.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(dt)}_getConfig(t){return(t={...ut,...K.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=c(t.parent),u(lt,t,ht),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=G.find(_t,this._config.parent);G.find(gt,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=r(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(mt):t.classList.add(mt),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=vt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}B.on(document,"click.bs.collapse.data-api",gt,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=s(this);G.find(e).forEach((t=>{vt.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),y(vt);const yt="dropdown",bt="Escape",wt="Space",xt="ArrowUp",kt="ArrowDown",St=new RegExp("ArrowUp|ArrowDown|Escape"),Tt="click.bs.dropdown.data-api",Ct="keydown.bs.dropdown.data-api",Lt="show",Pt='[data-bs-toggle="dropdown"]',At=".dropdown-menu",$t=v()?"top-end":"top-start",Et=v()?"top-start":"top-end",Dt=v()?"bottom-end":"bottom-start",It=v()?"bottom-start":"bottom-end",Mt=v()?"left-start":"right-start",Ot=v()?"right-start":"left-start",Nt={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},jt={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Bt extends R{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Nt}static get DefaultType(){return jt}static get NAME(){return yt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(B.trigger(this._element,"show.bs.dropdown",t).defaultPrevented)return;const e=Bt.getParentFromElement(this._element);this._inNavbar?K.setDataAttribute(this._menu,"popper","none"):this._createPopper(e),"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((t=>B.on(t,"mouseover",f))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Lt),this._element.classList.add(Lt),B.trigger(this._element,"shown.bs.dropdown",t)}hide(){if(d(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){B.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>B.off(t,"mouseover",f))),this._popper&&this._popper.destroy(),this._menu.classList.remove(Lt),this._element.classList.remove(Lt),this._element.setAttribute("aria-expanded","false"),K.removeDataAttribute(this._menu,"popper"),B.trigger(this._element,"hidden.bs.dropdown",t))}_getConfig(t){if(t={...this.constructor.Default,...K.getDataAttributes(this._element),...t},u(yt,t,this.constructor.DefaultType),"object"==typeof t.reference&&!l(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${yt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:l(this._config.reference)?e=c(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const i=this._getPopperConfig(),o=i.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=n.createPopper(e,this._menu,i),o&&K.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(Lt)}_getMenuElement(){return G.next(this._element,At)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return Mt;if(t.classList.contains("dropstart"))return Ot;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Et:$t:e?It:Dt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=G.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(h);n.length&&x(n,e,t===kt,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=Bt.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=G.find(Pt);for(let n=0,i=e.length;n<i;n++){const i=Bt.getInstance(e[n]);if(!i||!1===i._config.autoClose)continue;if(!i._isShown())continue;const o={relatedTarget:i._element};if(t){const e=t.composedPath(),n=e.includes(i._menu);if(e.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n)continue;if(i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(o.clickEvent=t)}i._completeHide(o)}}static getParentFromElement(t){return r(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===wt||t.key!==bt&&(t.key!==kt&&t.key!==xt||t.target.closest(At)):!St.test(t.key))return;const e=this.classList.contains(Lt);if(!e&&t.key===bt)return;if(t.preventDefault(),t.stopPropagation(),d(this))return;const n=this.matches(Pt)?this:G.prev(this,Pt)[0],i=Bt.getOrCreateInstance(n);if(t.key!==bt)return t.key===xt||t.key===kt?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==wt||Bt.clearMenus());i.hide()}}B.on(document,Ct,Pt,Bt.dataApiKeydownHandler),B.on(document,Ct,At,Bt.dataApiKeydownHandler),B.on(document,Tt,Bt.clearMenus),B.on(document,"keyup.bs.dropdown.data-api",Bt.clearMenus),B.on(document,Tt,Pt,(function(t){t.preventDefault(),Bt.getOrCreateInstance(this).toggle()})),y(Bt);const Ft=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zt=".sticky-top";class Rt{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(Ft,"paddingRight",(e=>e+t)),this._setElementAttributes(zt,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const o=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(o))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Ft,"paddingRight"),this._resetElementAttributes(zt,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&K.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=K.getDataAttribute(t,e);void 0===n?t.style.removeProperty(e):(K.removeDataAttribute(t,e),t.style[e]=n)}))}_applyManipulationCallback(t,e){l(t)?e(t):G.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Ht={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},qt={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Wt="backdrop",Ut="show",Zt="mousedown.bs.backdrop";class Vt{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&m(this._getElement()),this._getElement().classList.add(Ut),this._emulateAnimation((()=>{b(t)}))):b(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(Ut),this._emulateAnimation((()=>{this.dispose(),b(t)}))):b(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...Ht,..."object"==typeof t?t:{}}).rootElement=c(t.rootElement),u(Wt,t,qt),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),B.on(this._getElement(),Zt,(()=>{b(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(B.off(this._element,Zt),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){w(t,this._getElement(),this._config.isAnimated)}}const Kt={trapElement:null,autofocus:!0},Gt={trapElement:"element",autofocus:"boolean"},Jt=".bs.focustrap",Xt="backward";class Yt{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),B.off(document,Jt),B.on(document,"focusin.bs.focustrap",(t=>this._handleFocusin(t))),B.on(document,"keydown.tab.bs.focustrap",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,B.off(document,Jt))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const i=G.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===Xt?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Xt:"forward")}_getConfig(t){return t={...Kt,..."object"==typeof t?t:{}},u("focustrap",t,Gt),t}}const Qt="modal",te=".bs.modal",ee="Escape",ne={backdrop:!0,keyboard:!0,focus:!0},ie={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},oe="hidden.bs.modal",se="show.bs.modal",re="resize.bs.modal",ae="click.dismiss.bs.modal",le="keydown.dismiss.bs.modal",ce="mousedown.dismiss.bs.modal",ue="modal-open",he="show",de="modal-static";class pe extends R{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=G.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Rt}static get Default(){return ne}static get NAME(){return Qt}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;B.trigger(this._element,se,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(ue),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),B.on(this._dialog,ce,(()=>{B.one(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;if(B.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(he),B.off(this._element,ae),B.off(this._dialog,ce),this._queueCallback((()=>this._hideModal()),this._element,t)}dispose(){[window,this._dialog].forEach((t=>B.off(t,te))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Yt({trapElement:this._element})}_getConfig(t){return t={...ne,...K.getDataAttributes(this._element),..."object"==typeof t?t:{}},u(Qt,t,ie),t}_showElement(t){const e=this._isAnimated(),n=G.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&m(this._element),this._element.classList.add(he);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,B.trigger(this._element,"shown.bs.modal",{relatedTarget:t})}),this._dialog,e)}_setEscapeEvent(){this._isShown?B.on(this._element,le,(t=>{this._config.keyboard&&t.key===ee?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==ee||this._triggerBackdropTransition()})):B.off(this._element,le)}_setResizeEvent(){this._isShown?B.on(window,re,(()=>this._adjustDialog())):B.off(window,re)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ue),this._resetAdjustments(),this._scrollBar.reset(),B.trigger(this._element,oe)}))}_showBackdrop(t){B.on(this._element,ae,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(B.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:t,scrollHeight:e,style:n}=this._element,i=e>document.documentElement.clientHeight;!i&&"hidden"===n.overflowY||t.contains(de)||(i||(n.overflowY="hidden"),t.add(de),this._queueCallback((()=>{t.remove(de),i||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!v()||n&&!t&&v())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!v()||!n&&t&&v())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=pe.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}B.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){const e=r(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),B.one(e,se,(t=>{t.defaultPrevented||B.one(e,oe,(()=>{h(this)&&this.focus()}))}));const n=G.findOne(".modal.show");n&&pe.getInstance(n).hide();pe.getOrCreateInstance(e).toggle(this)})),H(pe),y(pe);const fe="offcanvas",me={backdrop:!0,keyboard:!0,scroll:!1},_e={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},ge="show",ve=".offcanvas.show",ye="hidden.bs.offcanvas";class be extends R{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return fe}static get Default(){return me}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;if(B.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Rt).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ge);this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),B.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})}),this._element,!0)}hide(){if(!this._isShown)return;if(B.trigger(this._element,"hide.bs.offcanvas").defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(ge),this._backdrop.hide();this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Rt).reset(),B.trigger(this._element,ye)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...me,...K.getDataAttributes(this._element),..."object"==typeof t?t:{}},u(fe,t,_e),t}_initializeBackDrop(){return new Vt({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new Yt({trapElement:this._element})}_addEventListeners(){B.on(this._element,"keydown.dismiss.bs.offcanvas",(t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=be.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}B.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(t){const e=r(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),d(this))return;B.one(e,ye,(()=>{h(this)&&this.focus()}));const n=G.findOne(ve);n&&n!==e&&be.getInstance(n).hide();be.getOrCreateInstance(e).toggle(this)})),B.on(window,"load.bs.offcanvas.data-api",(()=>G.find(ve).forEach((t=>be.getOrCreateInstance(t).show())))),H(be),y(be);const we=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ke=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Se=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!we.has(n)||Boolean(xe.test(t.nodeValue)||ke.test(t.nodeValue));const i=e.filter((t=>t instanceof RegExp));for(let t=0,e=i.length;t<e;t++)if(i[t].test(n))return!0;return!1},Te={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ce(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(let t=0,n=o.length;t<n;t++){const n=o[t],i=n.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){n.remove();continue}const s=[].concat(...n.attributes),r=[].concat(e["*"]||[],e[i]||[]);s.forEach((t=>{Se(t,r)||n.removeAttribute(t.nodeName)}))}return i.body.innerHTML}const Le="tooltip",Pe=new Set(["sanitize","allowList","sanitizeFn"]),Ae={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},$e={AUTO:"auto",TOP:"top",RIGHT:v()?"left":"right",BOTTOM:"bottom",LEFT:v()?"right":"left"},Ee={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Te,popperConfig:null},De={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ie="fade",Me="show",Oe="show",Ne="out",je=".tooltip-inner",Be=".modal",Fe="hide.bs.modal",ze="hover",Re="focus";class He extends R{constructor(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return Ee}static get NAME(){return Le}static get Event(){return De}static get DefaultType(){return Ae}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(Me))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),B.off(this._element.closest(Be),Fe,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=B.trigger(this._element,this.constructor.Event.SHOW),e=p(this._element),i=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!i)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(je).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const o=this.getTipElement(),s=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME);o.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&o.classList.add(Ie);const r="function"==typeof this._config.placement?this._config.placement.call(this,o,this._element):this._config.placement,a=this._getAttachment(r);this._addAttachmentClass(a);const{container:l}=this._config;z.set(o,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(o),B.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=n.createPopper(this._element,o,this._getPopperConfig(a)),o.classList.add(Me);const c=this._resolvePossibleFunction(this._config.customClass);c&&o.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{B.on(t,"mouseover",f)}));const u=this.tip.classList.contains(Ie);this._queueCallback((()=>{const t=this._hoverState;this._hoverState=null,B.trigger(this._element,this.constructor.Event.SHOWN),t===Ne&&this._leave(null,this)}),this.tip,u)}hide(){if(!this._popper)return;const t=this.getTipElement();if(B.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(Me),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>B.off(t,"mouseover",f))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const e=this.tip.classList.contains(Ie);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==Oe&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),B.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Ie,Me),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),je)}_sanitizeAndSetContent(t,e,n){const i=G.findOne(n,t);e||!i?this.setElementContent(i,e):i.remove()}setElementContent(t,e){if(null!==t)return l(e)?(e=c(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=Ce(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return $e[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((t=>{if("click"===t)B.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===ze?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===ze?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;B.on(this._element,e,this._config.selector,(t=>this._enter(t))),B.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},B.on(this._element.closest(Be),Fe,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?Re:ze]=!0),e.getTipElement().classList.contains(Me)||e._hoverState===Oe?e._hoverState=Oe:(clearTimeout(e._timeout),e._hoverState=Oe,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===Oe&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?Re:ze]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Ne,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===Ne&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=K.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{Pe.has(t)&&delete e[t]})),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:c(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u(Le,t,this.constructor.DefaultType),t.sanitize&&(t.template=Ce(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=He.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}y(He);const qe={...He.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},We={...He.DefaultType,content:"(string|element|function)"},Ue={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Ze extends He{static get Default(){return qe}static get NAME(){return"popover"}static get Event(){return Ue}static get DefaultType(){return We}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each((function(){const e=Ze.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}y(Ze);const Ve="scrollspy",Ke=".bs.scrollspy",Ge={offset:10,method:"auto",target:""},Je={offset:"number",method:"string",target:"(string|element)"},Xe="dropdown-item",Ye="active",Qe=".nav-link",tn=".nav-link, .list-group-item, .dropdown-item",en="position";class nn extends R{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,B.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return Ge}static get NAME(){return Ve}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":en,e="auto"===this._config.method?t:this._config.method,n=e===en?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();G.find(tn,this._config.target).map((t=>{const i=s(t),o=i?G.findOne(i):null;if(o){const t=o.getBoundingClientRect();if(t.width||t.height)return[K[e](o).top+n,i]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){B.off(this._scrollElement,Ke),super.dispose()}_getConfig(t){return(t={...Ge,...K.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=c(t.target)||document.documentElement,u(Ve,t,Je),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;){this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}}_activate(t){this._activeTarget=t,this._clear();const e=tn.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),n=G.findOne(e.join(","),this._config.target);n.classList.add(Ye),n.classList.contains(Xe)?G.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Ye):G.parents(n,".nav, .list-group").forEach((t=>{G.prev(t,".nav-link, .list-group-item").forEach((t=>t.classList.add(Ye))),G.prev(t,".nav-item").forEach((t=>{G.children(t,Qe).forEach((t=>t.classList.add(Ye)))}))})),B.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})}_clear(){G.find(tn,this._config.target).filter((t=>t.classList.contains(Ye))).forEach((t=>t.classList.remove(Ye)))}static jQueryInterface(t){return this.each((function(){const e=nn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}B.on(window,"load.bs.scrollspy.data-api",(()=>{G.find('[data-bs-spy="scroll"]').forEach((t=>new nn(t)))})),y(nn);const on="active",sn="fade",rn="show",an=".active",ln=":scope > li > .active";class cn extends R{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(on))return;let t;const e=r(this._element),n=this._element.closest(".nav, .list-group");if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?ln:an;t=G.find(e,n),t=t[t.length-1]}const i=t?B.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(B.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,n);const o=()=>{B.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),B.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};e?this._activate(e,e.parentNode,o):o()}_activate(t,e,n){const i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?G.children(e,an):G.find(ln,e))[0],o=n&&i&&i.classList.contains(sn),s=()=>this._transitionComplete(t,i,n);i&&o?(i.classList.remove(rn),this._queueCallback(s,t,!0)):s()}_transitionComplete(t,e,n){if(e){e.classList.remove(on);const t=G.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove(on),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(on),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),m(t),t.classList.contains(sn)&&t.classList.add(rn);let i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&G.find(".dropdown-toggle",e).forEach((t=>t.classList.add(on))),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=cn.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}B.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),d(this))return;cn.getOrCreateInstance(this).show()})),y(cn);const un="toast",hn="hide",dn="show",pn="showing",fn={animation:"boolean",autohide:"boolean",delay:"number"},mn={animation:!0,autohide:!0,delay:5e3};class _n extends R{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return fn}static get Default(){return mn}static get NAME(){return un}show(){if(B.trigger(this._element,"show.bs.toast").defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(hn),m(this._element),this._element.classList.add(dn),this._element.classList.add(pn),this._queueCallback((()=>{this._element.classList.remove(pn),B.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this._element.classList.contains(dn))return;if(B.trigger(this._element,"hide.bs.toast").defaultPrevented)return;this._element.classList.add(pn),this._queueCallback((()=>{this._element.classList.add(hn),this._element.classList.remove(pn),this._element.classList.remove(dn),B.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this._element.classList.contains(dn)&&this._element.classList.remove(dn),super.dispose()}_getConfig(t){return t={...mn,...K.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},u(un,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){B.on(this._element,"mouseover.bs.toast",(t=>this._onInteraction(t,!0))),B.on(this._element,"mouseout.bs.toast",(t=>this._onInteraction(t,!1))),B.on(this._element,"focusin.bs.toast",(t=>this._onInteraction(t,!0))),B.on(this._element,"focusout.bs.toast",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=_n.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}H(_n),y(_n);return{Alert:q,Button:U,Carousel:at,Collapse:vt,Dropdown:Bt,Modal:pe,Offcanvas:be,Popover:Ze,ScrollSpy:nn,Tab:cn,Toast:_n,Tooltip:He}})),
/*!
 * SmartMenus jQuery Plugin - v1.1.1 - July 23, 2020
 * http://www.smartmenus.org/
 *
 * Copyright Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}((function($){var menuTrees=[],mouse=!1,touchEvents="ontouchstart"in window,mouseDetectionEnabled=!1,requestAnimationFrame=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||function(t){clearTimeout(t)},canAnimate=!!$.fn.animate;function initMouseDetection(t){var e=".smartmenus_mouse";if(mouseDetectionEnabled||t)mouseDetectionEnabled&&t&&($(document).off(e),mouseDetectionEnabled=!1);else{var n=!0,i=null,o={mousemove:function(t){var e={x:t.pageX,y:t.pageY,timeStamp:(new Date).getTime()};if(i){var o=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y);if((o>0||s>0)&&o<=4&&s<=4&&e.timeStamp-i.timeStamp<=300&&(mouse=!0,n)){var r=$(t.target).closest("a");r.is("a")&&$.each(menuTrees,(function(){if($.contains(this.$root[0],r[0]))return this.itemEnter({currentTarget:r[0]}),!1})),n=!1}}i=e}};o[touchEvents?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut"]=function(t){isTouchEvent(t.originalEvent)&&(mouse=!1)},$(document).on(getEventsNS(o,e)),mouseDetectionEnabled=!0}}function isTouchEvent(t){return!/^(4|mouse)$/.test(t.pointerType)}function getEventsNS(t,e){e||(e="");var n={};for(var i in t)n[i.split(" ").join(e+" ")+e]=t[i];return n}return $.SmartMenus=function(t,e){this.$root=$(t),this.opts=e,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in t.style||"webkitPerspective"in t.style,this.wasCollapsible=!1,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,(function(){this.menuHideAll()}))},destroy:function(){for(;menuTrees.length;)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(t){var e=this;if(!t){menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var n=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).on(getEventsNS({"mouseover focusin":$.proxy(this.rootOver,this),"mouseout focusout":$.proxy(this.rootOut,this),keydown:$.proxy(this.rootKeyDown,this)},n)).on(getEventsNS({mouseenter:$.proxy(this.itemEnter,this),mouseleave:$.proxy(this.itemLeave,this),mousedown:$.proxy(this.itemDown,this),focus:$.proxy(this.itemFocus,this),blur:$.proxy(this.itemBlur,this),click:$.proxy(this.itemClick,this)},n),"a"),n+=this.rootId,this.opts.hideOnClick&&$(document).on(getEventsNS({touchstart:$.proxy(this.docTouchStart,this),touchmove:$.proxy(this.docTouchMove,this),touchend:$.proxy(this.docTouchEnd,this),click:$.proxy(this.docClick,this)},n)),$(window).on(getEventsNS({"resize orientationchange":$.proxy(this.winResize,this)},n)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()}if(this.$firstSub=this.$root.find("ul").each((function(){e.menuInit($(this))})).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var i=/(index|default)\.[^#\?\/]*/i,o=window.location.href.replace(i,""),s=o.replace(/#.*/,"");this.$root.find("a:not(.mega-menu a)").each((function(){var t=this.href.replace(i,""),n=$(this);t!=o&&t!=s||(n.addClass("current"),e.opts.markCurrentTree&&n.parentsUntil("[data-smartmenus-id]","ul").each((function(){$(this).dataSM("parent-a").addClass("current")})))}))}this.wasCollapsible=this.isCollapsible()},destroy:function(t){if(!t){var e=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").off(e),e+=this.rootId,$(document).off(e),$(window).off(e),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var n=this;this.$root.find("ul").each((function(){var t=$(this);t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.dataSM("shown-before")&&((n.opts.subMenusMinWidth||n.opts.subMenusMaxWidth)&&t.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(t.attr("id")||"").indexOf(n.accessIdPrefix)&&t.removeAttr("id")})).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each((function(){var t=$(this);0==t.attr("id").indexOf(n.accessIdPrefix)&&t.removeAttr("id")})).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),t||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1))},disable:function(t){if(!this.disabled){if(this.menuHideAll(),!t&&!this.opts.isPopup&&this.$root.is(":visible")){var e=this.$root.offset();this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:e.top,left:e.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(t){this.$touchScrollingSub?this.$touchScrollingSub=null:(this.visibleSubMenus.length&&!$.contains(this.$root[0],t.target)||$(t.target).closest("a").length)&&this.menuHideAll()},docTouchEnd:function(t){if(this.lastTouch){if(this.visibleSubMenus.length&&(void 0===this.lastTouch.x2||this.lastTouch.x1==this.lastTouch.x2)&&(void 0===this.lastTouch.y2||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!$.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(t){for(var e=$(t).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");return e[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var n;"none"==t.css("display")&&(n={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var i=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),o=i&&(e?i.height||i.bottom-i.top:i.width||i.right-i.left);return o||0===o||(o=e?t[0].offsetHeight:t[0].offsetWidth),n&&t.hide().css(n),o},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",n=document.documentElement["client"+e],i=window["inner"+e];return i&&(n=Math.min(n,i)),n},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"inline"!=this.$firstLink.css("display")},isFixed:function(){var t="fixed"==this.$root.css("position");return t||this.$root.parentsUntil("body").each((function(){if("fixed"==$(this).css("position"))return t=!0,!1})),t},isLinkInMegaMenu:function(t){return $(this.getClosestMenu(t[0])).hasClass("mega-menu")},isTouchMode:function(){return!mouse||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(t,e){var n=t.closest("ul"),i=n.dataSM("level");if(i>1&&(!this.activatedItems[i-2]||this.activatedItems[i-2][0]!=n.dataSM("parent-a")[0])){var o=this;$(n.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(n).each((function(){o.itemActivate($(this).dataSM("parent-a"))}))}if(this.isCollapsible()&&!e||this.menuHideSubMenus(this.activatedItems[i-1]&&this.activatedItems[i-1][0]==t[0]?i:i-1),this.activatedItems[i-1]=t,!1!==this.$root.triggerHandler("activate.smapi",t[0])){var s=t.dataSM("sub");s&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(s)}},itemBlur:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&this.$root.triggerHandler("blur.smapi",e[0])},itemClick:function(t){var e=$(t.currentTarget);if(this.handleItemEvents(e)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==e.closest("ul")[0])return this.$touchScrollingSub=null,t.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",e[0]))return!1;var n=e.dataSM("sub"),i=!!n&&2==n.dataSM("level");if(n){var o=$(t.target).is(".sub-arrow"),s=this.isCollapsible(),r=/toggle$/.test(this.opts.collapsibleBehavior),a=/link$/.test(this.opts.collapsibleBehavior),l=/^accordion/.test(this.opts.collapsibleBehavior);if(n.is(":visible")){if(!s&&this.opts.showOnClick&&i)return this.menuHide(n),this.clickActivated=!1,this.focusActivated=!1,!1;if(s&&(r||o))return this.itemActivate(e,l),this.menuHide(n),!1}else if((!a||!s||o)&&(!s&&this.opts.showOnClick&&i&&(this.clickActivated=!0),this.itemActivate(e,l),n.is(":visible")))return this.focusActivated=!0,!1}return!(!s&&this.opts.showOnClick&&i||e.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",e[0]))&&void 0}},itemDown:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&e.dataSM("mousedown",!0)},itemEnter:function(t){var e=$(t.currentTarget);if(this.handleItemEvents(e)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var n=this;this.showTimeout=setTimeout((function(){n.itemActivate(e)}),this.opts.showOnClick&&1==e.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",e[0])}},itemFocus:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&(!this.focusActivated||this.isTouchMode()&&e.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==e[0]||this.itemActivate(e,!0),this.$root.triggerHandler("focus.smapi",e[0]))},itemLeave:function(t){var e=$(t.currentTarget);this.handleItemEvents(e)&&(this.isTouchMode()||(e[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),e.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",e[0]))},menuHide:function(t){if(!1!==this.$root.triggerHandler("beforehide.smapi",t[0])&&(canAnimate&&t.stop(!0,!0),"none"!=t.css("display"))){var e=function(){t.css("z-index","")};this.isCollapsible()?canAnimate&&this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,e):t.hide(this.opts.collapsibleHideDuration,e):canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,t,e):t.hide(this.opts.hideDuration,e),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).off(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),t.attr({"aria-expanded":"false","aria-hidden":"true"});var n=t.dataSM("level");this.activatedItems.splice(n-1,1),this.visibleSubMenus.splice($.inArray(t,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",t[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;e>=t;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(canAnimate&&this.$root.stop(!0,!0),this.$root.is(":visible")&&(canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration))),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;e>=t;e--){var n=this.activatedItems[e].dataSM("sub");n&&this.menuHide(n)}},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,n=t[0];(n=n.parentNode.parentNode)!=this.$root[0];)e++;var i=t.prevAll("a").eq(-1);i.length||(i=t.prevAll().find("a").eq(-1)),i.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",i).dataSM("level",e).parent().dataSM("sub",t);var o=i.attr("id")||this.accessIdPrefix+ ++this.idInc,s=t.attr("id")||this.accessIdPrefix+ ++this.idInc;i.attr({id:o,"aria-haspopup":"true","aria-controls":s,"aria-expanded":"false"}),t.attr({id:s,role:"group","aria-hidden":"true","aria-labelledby":o,"aria-expanded":"false"}),this.opts.subIndicators&&i[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(t){var e,n,i=t.dataSM("parent-a"),o=i.closest("li"),s=o.parent(),r=t.dataSM("level"),a=this.getWidth(t),l=this.getHeight(t),c=i.offset(),u=c.left,h=c.top,d=this.getWidth(i),p=this.getHeight(i),f=$(window),m=f.scrollLeft(),_=f.scrollTop(),g=this.getViewportWidth(),v=this.getViewportHeight(),y=s.parent().is("[data-sm-horizontal-sub]")||2==r&&!s.hasClass("sm-vertical"),b=this.opts.rightToLeftSubMenus&&!o.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&o.is("[data-sm-reverse]"),w=2==r?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,x=2==r?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(y?(e=b?d-a-w:w,n=this.opts.bottomToTopSubMenus?-l-x:p+x):(e=b?w-a:d-w,n=this.opts.bottomToTopSubMenus?p-x-l:x),this.opts.keepInViewport){var k=u+e,S=h+n;if(b&&k<m?e=y?m-k+e:d-w:!b&&k+a>m+g&&(e=y?m+g-a-k+e:w-a),y||(l<v&&S+l>_+v?n+=_+v-l-S:(l>=v||S<_)&&(n+=_-S)),y&&(S+l>_+v+.49||S<_)||!y&&l>v+.49){var T=this;t.dataSM("scroll-arrows")||t.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).on({mouseenter:function(){t.dataSM("scroll").up=$(this).hasClass("scroll-up"),T.menuScroll(t)},mouseleave:function(e){T.menuScrollStop(t),T.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(t));var C=".smartmenus_scroll";if(t.dataSM("scroll",{y:this.cssTransforms3d?0:n-p,step:1,itemH:p,subH:l,arrowDownH:this.getHeight(t.dataSM("scroll-arrows").eq(1))}).on(getEventsNS({mouseover:function(e){T.menuScrollOver(t,e)},mouseout:function(e){T.menuScrollOut(t,e)},"mousewheel DOMMouseScroll":function(e){T.menuScrollMousewheel(t,e)}},C)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:e+(parseInt(t.css("border-left-width"))||0),width:a-(parseInt(t.css("border-left-width"))||0)-(parseInt(t.css("border-right-width"))||0),zIndex:t.css("z-index")}).eq(y&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()){var L={};L[touchEvents?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp"]=function(e){T.menuScrollTouch(t,e)},t.css({"touch-action":"none","-ms-touch-action":"none"}).on(getEventsNS(L,C))}}}t.css({top:"auto",left:"0",marginLeft:e,marginTop:n-p})},menuScroll:function(t,e,n){var i,o=t.dataSM("scroll"),s=t.dataSM("scroll-arrows"),r=o.up?o.upEnd:o.downEnd;if(!e&&o.momentum){if(o.momentum*=.92,(i=o.momentum)<.5)return void this.menuScrollStop(t)}else i=n||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(o.step));var a=t.dataSM("level");if(this.activatedItems[a-1]&&this.activatedItems[a-1].dataSM("sub")&&this.activatedItems[a-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(a-1),o.y=o.up&&r<=o.y||!o.up&&r>=o.y?o.y:Math.abs(r-o.y)>i?o.y+(o.up?i:-i):r,t.css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+o.y+"px, 0)",transform:"translate3d(0, "+o.y+"px, 0)"}:{marginTop:o.y}),mouse&&(o.up&&o.y>o.downEnd||!o.up&&o.y<o.upEnd)&&s.eq(o.up?1:0).show(),o.y==r)mouse&&s.eq(o.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&o.step<this.opts.scrollStep&&(o.step+=.2);var l=this;this.scrollTimeout=requestAnimationFrame((function(){l.menuScroll(t)}))}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){var n=((e=e.originalEvent).wheelDelta||-e.detail)>0;t.dataSM("scroll-arrows").eq(n?0:1).is(":visible")&&(t.dataSM("scroll").up=n,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(t,e){mouse&&(/^scroll-(up|down)/.test((e.relatedTarget||"").className)||(t[0]==e.relatedTarget||$.contains(t[0],e.relatedTarget))&&this.getClosestMenu(e.relatedTarget)==t[0]||t.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(t,e){if(mouse&&!/^scroll-(up|down)/.test(e.target.className)&&this.getClosestMenu(e.target)==t[0]){this.menuScrollRefreshData(t);var n=t.dataSM("scroll"),i=$(window).scrollTop()-t.dataSM("parent-a").offset().top-n.itemH;t.dataSM("scroll-arrows").eq(0).css("margin-top",i).end().eq(1).css("margin-top",i+this.getViewportHeight()-n.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(t){var e=t.dataSM("scroll"),n=$(window).scrollTop()-t.dataSM("parent-a").offset().top-e.itemH;this.cssTransforms3d&&(n=-(parseFloat(t.css("margin-top"))-n)),$.extend(e,{upEnd:n,downEnd:n+this.getViewportHeight()-e.subH})},menuScrollStop:function(t){if(this.scrollTimeout)return cancelAnimationFrame(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0},menuScrollTouch:function(t,e){if(isTouchEvent(e=e.originalEvent)){var n=this.getTouchPoint(e);if(this.getClosestMenu(n.target)==t[0]){var i=t.dataSM("scroll");if(/(start|down)$/i.test(e.type))this.menuScrollStop(t)?(e.preventDefault(),this.$touchScrollingSub=t):this.$touchScrollingSub=null,this.menuScrollRefreshData(t),$.extend(i,{touchStartY:n.pageY,touchStartTime:e.timeStamp});else if(/move$/i.test(e.type)){var o=void 0!==i.touchY?i.touchY:i.touchStartY;if(void 0!==o&&o!=n.pageY){this.$touchScrollingSub=t;var s=o<n.pageY;void 0!==i.up&&i.up!=s&&$.extend(i,{touchStartY:n.pageY,touchStartTime:e.timeStamp}),$.extend(i,{up:s,touchY:n.pageY}),this.menuScroll(t,!0,Math.abs(n.pageY-o))}e.preventDefault()}else void 0!==i.touchY&&((i.momentum=15*Math.pow(Math.abs(n.pageY-i.touchStartY)/(e.timeStamp-i.touchStartTime),2))&&(this.menuScrollStop(t),this.menuScroll(t),e.preventDefault()),delete i.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",t[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",t[0])&&(t.dataSM("shown-before",!0),canAnimate&&t.stop(!0,!0),!t.is(":visible"))){var e=t.dataSM("parent-a"),n=this.isCollapsible();if((this.opts.keepHighlighted||n)&&e.addClass("highlighted"),n)t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var i=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),i>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t)}var o=function(){t.css("overflow","")};n?canAnimate&&this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,o):t.show(this.opts.collapsibleShowDuration,o):canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,t,o):t.show(this.opts.showDuration,o),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0),canAnimate&&this.$root.stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e});var n=this,i=function(){n.$root.css("overflow","")};canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,this.$root,i):this.$root.show(this.opts.showDuration,i),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(t){if(this.handleEvents())switch(t.keyCode){case 27:var e=this.activatedItems[0];if(e)this.menuHideAll(),e[0].focus(),(n=e.dataSM("sub"))&&this.menuHide(n);break;case 32:var n,i=$(t.target);if(i.is("a")&&this.handleItemEvents(i))(n=i.dataSM("sub"))&&!n.is(":visible")&&(this.itemClick({currentTarget:t.target}),t.preventDefault())}},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout((function(){e.menuHideAll()}),this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==t.type){var e=this.isCollapsible();this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e}}else if(this.$disableOverlay){var n=this.$root.offset();this.$disableOverlay.css({top:n.top,left:n.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),$.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},$.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},$.fn.smartmenus=function(options){if("string"==typeof options){var args=arguments,method=options;return Array.prototype.shift.call(args),this.each((function(){var t=$(this).data("smartmenus");t&&t[method]&&t[method].apply(t,args)}))}return this.each((function(){var dataOpts=$(this).data("sm-options")||null;if(dataOpts&&"object"!=typeof dataOpts)try{dataOpts=eval("("+dataOpts+")")}catch(t){dataOpts=null,alert('ERROR\n\nSmartMenus jQuery init:\nInvalid "data-sm-options" attribute value syntax.')}new $.SmartMenus(this,$.extend({},$.fn.smartmenus.defaults,options,dataOpts))}))},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"append",subIndicatorsText:"",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,collapsibleBehavior:"default"},$})),function(t){"function"==typeof define&&define.amd?define(["jquery","smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){return t.extend(t.SmartMenus.Bootstrap={},{keydownFix:!1,init:function(){var e=t("ul.navbar-nav:not([data-sm-skip])");e.each((function(){var e=t(this),n=e.data("smartmenus");if(!n){var i,o=e.is("[data-sm-skip-collapsible-behavior]"),s=e.hasClass("ml-auto")||e.prevAll(".mr-auto").length>0;function r(){e.find("a.current").each((function(){var e=t(this);(e.hasClass("dropdown-item")?e:e.parent()).addClass("active")})),e.find("a.has-submenu").each((function(){var e=t(this);e.is('[data-toggle="dropdown"]')&&e.dataSM("bs-data-toggle-dropdown",!0).removeAttr("data-toggle"),!o&&e.hasClass("dropdown-toggle")&&e.dataSM("bs-dropdown-toggle",!0).removeClass("dropdown-toggle")}))}function a(t){var o=n.getViewportWidth();(o!=i||t)&&(n.isCollapsible()?e.addClass("sm-collapsible"):e.removeClass("sm-collapsible"),i=o)}e.smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-9,subIndicators:!o,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:s,bottomToTopSubMenus:e.closest(".fixed-bottom").length>0,bootstrapHighlightClasses:"bg-light"}).on({"show.smapi":function(e,i){var o=t(i),s=o.dataSM("scroll-arrows");s&&s.css("background-color",o.css("background-color")),o.parent().addClass("show"),n.opts.keepHighlighted&&o.dataSM("level")>2&&o.prevAll("a").addClass(n.opts.bootstrapHighlightClasses)},"hide.smapi":function(e,i){var o=t(i);o.parent().removeClass("show"),n.opts.keepHighlighted&&o.dataSM("level")>2&&o.prevAll("a").removeClass(n.opts.bootstrapHighlightClasses)}}),n=e.data("smartmenus"),r(),n.refresh=function(){t.SmartMenus.prototype.refresh.call(this),r(),a(!0)},n.destroy=function(n){e.find("a.current").each((function(){var e=t(this);(e.hasClass("active")?e:e.parent()).removeClass("active")})),e.find("a.has-submenu").each((function(){var e=t(this);e.dataSM("bs-dropdown-toggle")&&e.addClass("dropdown-toggle").removeDataSM("bs-dropdown-toggle"),e.dataSM("bs-data-toggle-dropdown")&&e.attr("data-toggle","dropdown").removeDataSM("bs-data-toggle-dropdown")})),t.SmartMenus.prototype.destroy.call(this,n)},o&&(n.opts.collapsibleBehavior="toggle"),a(),t(window).on("resize.smartmenus"+n.rootId,a)}})),e.length&&!t.SmartMenus.Bootstrap.keydownFix&&(t(document).off("keydown.bs.dropdown.data-api",".dropdown-menu"),t.fn.dropdown&&t.fn.dropdown.Constructor&&"function"==typeof t.fn.dropdown.Constructor._dataApiKeydownHandler&&t(document).on("keydown.bs.dropdown.data-api",".dropdown-menu.show",t.fn.dropdown.Constructor._dataApiKeydownHandler),t.SmartMenus.Bootstrap.keydownFix=!0)}}),t(t.SmartMenus.Bootstrap.init),t})),function(t,e,n){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}((function(i){"use strict";var o,s,r,a,l,c=!0,u=!1,h=null,d="y",p="width",f="height",m="top",_="left",g="bottom",v="right",y="center",b={},w="qtip",x="data-hasqtip",k="data-qtip-id",S=["ui-widget","ui-tooltip"],T="."+w,C="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),L=w+"-fixed",P=w+"-default",A=w+"-focus",$=w+"-hover",E=w+"-disabled",D="_replacedByqTip",I="oldtitle",M=function(){for(var t=4,n=e.createElement("div");(n.innerHTML="\x3c!--[if gt IE "+t+"]><i></i><![endif]--\x3e")&&n.getElementsByTagName("i")[0];t+=1);return t>4?t:NaN}(),O=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||u;function N(t,e,n,o){this.id=n,this.target=t,this.tooltip=h,this.elements={target:t},this._id=w+"-"+n,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:i(),disabled:u,attr:o,onTooltip:u,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=u}function j(t){return t===h||"object"!==i.type(t)}function B(t){return!(i.isFunction(t)||t&&t.attr||t.length||"object"===i.type(t)&&(t.jquery||t.then))}function F(t){var e,n,o,s;return j(t)?u:(j(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(j(e=t.content)||e.jquery||e.done?e=t.content={text:n=B(e)?u:e}:n=e.text,"ajax"in e&&(o=e.ajax,s=o&&o.once!==u,delete e.ajax,e.text=function(t,e){var r=n||i(this).attr(e.options.content.attr)||"Loading...",a=i.ajax(i.extend({},o,{context:e})).then(o.success,h,o.error).then((function(t){return t&&s&&e.set("content.text",t),t}),(function(t,n,i){e.destroyed||0===t.status||e.set("content.text",n+": "+i)}));return s?r:(e.set("content.text",r),a)}),"title"in e&&(i.isPlainObject(e.title)&&(e.button=e.title.button,e.title=e.title.text),B(e.title||u)&&(e.title=u))),"position"in t&&j(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&j(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===c?{ready:c}:{event:t.show}),"hide"in t&&j(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&j(t.style)&&(t.style={classes:t.style}),i.each(b,(function(){this.sanitize&&this.sanitize(t)})),t)}function z(t,e){for(var n,i=0,o=t,s=e.split(".");o=o[s[i++]];)i<s.length&&(n=o);return[n||t,s.pop()]}function R(t,e){var n,i,o;for(n in this.checks)for(i in this.checks[n])(o=new RegExp(i,"i").exec(t))&&(e.push(o),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,e))}(s=N.prototype)._when=function(t){return i.when.apply(i,t)},s.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,n=this.options,s=this.cache,r=this.elements,a=n.content.text,l=n.content.title,h=n.content.button,d=n.position,p=(this._id,[]);return i.attr(this.target[0],"aria-describedby",this._id),s.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=r.tooltip=i("<div/>",{id:this._id,class:[w,P,n.style.classes,s.posClass].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":u,"aria-describedby":this._id+"-content","aria-hidden":c}).toggleClass(E,this.disabled).attr(k,this.id).data(w,this).appendTo(d.container).append(r.content=i("<div />",{class:w+"-content",id:this._id+"-content","aria-atomic":c})),this.rendered=-1,this.positioning=c,l&&(this._createTitle(),i.isFunction(l)||p.push(this._updateTitle(l,u))),h&&this._createButton(),i.isFunction(a)||p.push(this._updateContent(a,u)),this.rendered=c,this._setWidget(),i.each(b,(function(t){var n;"render"===this.initialize&&(n=this(e))&&(e.plugins[t]=n)})),this._unassignEvents(),this._assignEvents(),this._when(p).then((function(){e._trigger("render"),e.positioning=u,e.hiddenDuringWait||!n.show.ready&&!t||e.toggle(c,s.event,u),e.hiddenDuringWait=u})),o.api[this.id]=this,this},s.destroy=function(t){if(this.destroyed)return this.target;function e(){if(!this.destroyed){this.destroyed=c;var t,e=this.target,n=e.attr(I);for(t in this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,(function(t){this.destroy&&this.destroy()})),this.timers)clearTimeout(this.timers[t]);e.removeData(w).removeAttr(k).removeAttr(x).removeAttr("aria-describedby"),this.options.suppress&&n&&e.attr("title",n).removeAttr(I),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=h,delete o.api[this.id]}}return t===c&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",i.proxy(e,this)),!this.triggering&&this.hide()),this.target},a=s.checks={builtin:{"^id$":function(t,e,n,s){var r=n===c?o.nextid:n,a=w+"-"+r;r!==u&&r.length>0&&!i("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=s},"^prerender":function(t,e,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,n){this._updateContent(n)},"^content.attr$":function(t,e,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(t,e,n){if(!n)return this._removeTitle();n&&!this.elements.title&&this._createTitle(),this._updateTitle(n)},"^content.button$":function(t,e,n){this._updateButton(n)},"^content.title.(text|button)$":function(t,e,n){this.set("content."+e,n)},"^position.(my|at)$":function(t,e,n){"string"==typeof n&&(this.position[e]=t[e]=new r(n,"at"===e))},"^position.container$":function(t,e,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(t,e,n){n&&(!this.rendered&&this.render(c)||this.toggle(c))},"^style.classes$":function(t,e,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(t,e,n){this.rendered&&this.tooltip.css(e,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,n){this.rendered&&this.tooltip.toggleClass(P,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+e,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},s.get=function(t){if(this.destroyed)return this;var e=z(this.options,t.toLowerCase()),n=e[0][e[1]];return n.precedance?n.string():n};var H=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,q=/^prerender|show\.ready/i;s.set=function(t,e){if(this.destroyed)return this;var n,o=this.rendered,s=u,r=this.options;this.checks;return"string"==typeof t?(n=t,(t={})[n]=e):t=i.extend({},t),i.each(t,(function(e,n){if(o&&q.test(e))delete t[e];else{var a,l=z(r,e.toLowerCase());a=l[0][l[1]],l[0][l[1]]=n&&n.nodeType?i(n):n,s=H.test(e)||s,t[e]=[l[0],l[1],n,a]}})),F(r),this.positioning=c,i.each(t,i.proxy(R,this)),this.positioning=u,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===r.position.target?h:this.cache.event),this},s._update=function(t,e,n){var o=this,s=this.cache;return this.rendered&&t?(i.isFunction(t)&&(t=t.call(this.elements.target,s.event,this)||""),i.isFunction(t.then)?(s.waiting=c,t.then((function(t){return s.waiting=u,o._update(t,e)}),h,(function(t){return o._update(t,e)}))):t===u||!t&&""!==t?u:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then((function(t){o.rendered&&o.tooltip[0].offsetWidth>0&&o.reposition(s.event,!t.length)})))):u},s._waitForContent=function(t){var e=this.cache;return e.waiting=c,(i.fn.imagesLoaded?t.imagesLoaded():i.Deferred().resolve([])).done((function(){e.waiting=u})).promise()},s._updateContent=function(t,e){this._update(t,this.elements.content,e)},s._updateTitle=function(t,e){this._update(t,this.elements.title,e)===u&&this._removeTitle(u)},s._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=i("<div />",{class:w+"-titlebar "+(this.options.style.widget?U("header"):"")}).append(t.title=i("<div />",{id:e,class:w+"-title","aria-atomic":c})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",(function(t){i(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))})).delegate(".qtip-close","mouseover mouseout",(function(t){i(this).toggleClass("ui-state-hover","mouseover"===t.type)})),this.options.content.button&&this._createButton()},s._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=h,t!==u&&this.reposition())},s._createPosClass=function(t){return w+"-pos-"+(t||this.options.position.my).abbrev()},s.reposition=function(n,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=c;var s,r,a,l,h=this.cache,d=this.tooltip,p=this.options.position,f=p.target,w=p.my,x=p.at,k=p.viewport,S=p.container,T=p.adjust,C=T.method.split(" "),L=d.outerWidth(u),P=d.outerHeight(u),A=0,$=0,E=d.css("position"),D={left:0,top:0},I=d[0].offsetWidth>0,N=n&&"scroll"===n.type,j=i(t),B=S[0].ownerDocument,F=this.mouse;if(i.isArray(f)&&2===f.length)x={x:_,y:m},D={left:f[0],top:f[1]};else if("mouse"===f)x={x:_,y:m},(!T.mouse||this.options.hide.distance)&&h.origin&&h.origin.pageX?n=h.origin:!n||n&&("resize"===n.type||"scroll"===n.type)?n=h.event:F&&F.pageX&&(n=F),"static"!==E&&(D=S.offset()),B.body.offsetWidth!==(t.innerWidth||B.documentElement.clientWidth)&&(r=i(e.body).offset()),D={left:n.pageX-D.left+(r&&r.left||0),top:n.pageY-D.top+(r&&r.top||0)},T.mouse&&N&&F&&(D.left-=(F.scrollX||0)-j.scrollLeft(),D.top-=(F.scrollY||0)-j.scrollTop());else{if("event"===f?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?h.target=i(n.target):n.target||(h.target=this.elements.target):"event"!==f&&(h.target=i(f.jquery?f:this.elements.target)),f=h.target,0===(f=i(f).eq(0)).length)return this;f[0]===e||f[0]===t?(A=O?t.innerWidth:f.width(),$=O?t.innerHeight:f.height(),f[0]===t&&(D={top:(k||f).scrollTop(),left:(k||f).scrollLeft()})):b.imagemap&&f.is("area")?s=b.imagemap(this,f,x,b.viewport?C:u):b.svg&&f&&f[0].ownerSVGElement?s=b.svg(this,f,x,b.viewport?C:u):(A=f.outerWidth(u),$=f.outerHeight(u),D=f.offset()),s&&(A=s.width,$=s.height,r=s.offset,D=s.position),D=this.reposition.offset(f,D,S),(O>3.1&&O<4.1||O>=4.3&&O<4.33||!O&&"fixed"===E)&&(D.left-=j.scrollLeft(),D.top-=j.scrollTop()),(!s||s&&s.adjustable!==u)&&(D.left+=x.x===v?A:x.x===y?A/2:0,D.top+=x.y===g?$:x.y===y?$/2:0)}return D.left+=T.x+(w.x===v?-L:w.x===y?-L/2:0),D.top+=T.y+(w.y===g?-P:w.y===y?-P/2:0),b.viewport?(a=D.adjusted=b.viewport(this,D,p,A,$,L,P),r&&a.left&&(D.left+=r.left),r&&a.top&&(D.top+=r.top),a.my&&(this.position.my=a.my)):D.adjusted={left:0,top:0},h.posClass!==(l=this._createPosClass(this.position.my))&&d.removeClass(h.posClass).addClass(h.posClass=l),this._trigger("move",[D,k.elem||k],n)?(delete D.adjusted,o===u||!I||isNaN(D.left)||isNaN(D.top)||"mouse"===f||!i.isFunction(p.effect)?d.css(D):i.isFunction(p.effect)&&(p.effect.call(d,this,i.extend({},D)),d.queue((function(t){i(this).css({opacity:"",height:""}),M&&this.style.removeAttribute("filter"),t()}))),this.positioning=u,this):this},s.reposition.offset=function(t,n,o){if(!o[0])return n;var s,r,a,l,c=i(t[0].ownerDocument),u=!!M&&"CSS1Compat"!==e.compatMode,h=o[0];function d(t,e){n.left+=e*t.scrollLeft(),n.top+=e*t.scrollTop()}do{"static"!==(r=i.css(h,"position"))&&("fixed"===r?(a=h.getBoundingClientRect(),d(c,-1)):((a=i(h).position()).left+=parseFloat(i.css(h,"borderLeftWidth"))||0,a.top+=parseFloat(i.css(h,"borderTopWidth"))||0),n.left-=a.left+(parseFloat(i.css(h,"marginLeft"))||0),n.top-=a.top+(parseFloat(i.css(h,"marginTop"))||0),s||"hidden"===(l=i.css(h,"overflow"))||"visible"===l||(s=i(h)))}while(h=h.offsetParent);return s&&(s[0]!==c[0]||u)&&d(s,1),n};var W=(r=s.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,y).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var n=t.charAt(0);this.precedance="t"===n||"b"===n?d:"x"}).prototype;function U(t){return S.concat("").join(t?"-"+t+" ":" ")}function Z(t,e){if(e>0)return setTimeout(i.proxy(t,this),e);t.call(this)}function V(t){this.tooltip.hasClass(E)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=Z.call(this,(function(){this.toggle(c,t)}),this.options.show.delay))}function K(t){if(!this.tooltip.hasClass(E)&&!this.destroyed){var e=i(t.relatedTarget),n=e.closest(T)[0]===this.tooltip[0],o=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(n||o))try{t.preventDefault(),t.stopImmediatePropagation()}catch(t){}else this.timers.hide=Z.call(this,(function(){this.toggle(u,t)}),this.options.hide.delay,this)}}function G(t){!this.tooltip.hasClass(E)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=Z.call(this,(function(){this.hide(t)}),this.options.hide.inactive))}function J(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function X(t,n,s){i(e.body).delegate(t,(n.split?n:n.join("."+w+" "))+"."+w,(function(){var t=o.api[i.attr(this,k)];t&&!t.disabled&&s.apply(t,arguments)}))}function Y(t,n,s){var a,l,d,p,f,m=i(e.body),_=t[0]===e?m:t,g=t.metadata?t.metadata(s.metadata):h,v="html5"===s.metadata.type&&g?g[s.metadata.name]:h,y=t.data(s.metadata.name||"qtipopts");try{y="string"==typeof y?i.parseJSON(y):y}catch(t){}if(l=(p=i.extend(c,{},o.defaults,s,"object"==typeof y?F(y):h,F(v||g))).position,p.id=n,"boolean"==typeof p.content.text){if(d=t.attr(p.content.attr),p.content.attr===u||!d)return u;p.content.text=d}if(l.container.length||(l.container=m),l.target===u&&(l.target=_),p.show.target===u&&(p.show.target=_),p.show.solo===c&&(p.show.solo=l.container.closest("body")),p.hide.target===u&&(p.hide.target=_),p.position.viewport===c&&(p.position.viewport=l.container),l.container=l.container.eq(0),l.at=new r(l.at,c),l.my=new r(l.my),t.data(w))if(p.overwrite)t.qtip("destroy",!0);else if(p.overwrite===u)return u;return t.attr(x,n),p.suppress&&(f=t.attr("title"))&&t.removeAttr("title").attr(I,f).attr("title",""),a=new N(t,p,n,!!d),t.data(w,a),a}W.invert=function(t,e){this[t]=this[t]===_?v:this[t]===v?_:e||this[t]},W.string=function(t){var e=this.x,n=this.y,i=e!==n?"center"===e||"center"!==n&&(this.precedance===d||this.forceY)?[n,e]:[e,n]:[e];return!1!==t?i.join(" "):i},W.abbrev=function(){var t=this.string(!1);return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},W.clone=function(){return new r(this.string(),this.forceY)},s.toggle=function(t,n){var o=this.cache,s=this.options,r=this.tooltip;if(n){if(/over|enter/.test(n.type)&&o.event&&/out|leave/.test(o.event.type)&&s.show.target.add(n.target).length===s.show.target.length&&r.has(n.relatedTarget).length)return this;o.event=i.event.fix(n)}if(this.waiting&&!t&&(this.hiddenDuringWait=c),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var a,d,p,f=t?"show":"hide",m=this.options[f],_=(this.options[t?"hide":"show"],this.options.position),g=this.options.content,v=this.tooltip.css("width"),y=this.tooltip.is(":visible"),b=t||1===m.target.length,x=!n||m.target.length<2||o.target[0]===n.target;return(typeof t).search("boolean|number")&&(t=!y),d=(a=!r.is(":animated")&&y===t&&x)?h:!!this._trigger(f,[90]),this.destroyed?this:(d!==u&&t&&this.focus(n),!d||a||(i.attr(r[0],"aria-hidden",!t),t?(this.mouse&&(o.origin=i.event.fix(this.mouse)),i.isFunction(g.text)&&this._updateContent(g.text,u),i.isFunction(g.title)&&this._updateTitle(g.title,u),!l&&"mouse"===_.target&&_.adjust.mouse&&(i(e).bind("mousemove."+w,this._storeMouse),l=c),v||r.css("width",r.outerWidth(u)),this.reposition(n,arguments[2]),v||r.css("width",""),m.solo&&("string"==typeof m.solo?i(m.solo):i(T,m.solo)).not(r).not(m.target).qtip("hide",i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,l&&!i(T+'[tracking="true"]:visible',m.solo).not(r).length&&(i(e).unbind("mousemove."+w),l=u),this.blur(n)),p=i.proxy((function(){t?(M&&r[0].style.removeAttribute("filter"),r.css("overflow",""),"string"==typeof m.autofocus&&i(this.options.show.autofocus,r).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):r.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")}),this),m.effect===u||b===u?(r[f](),p()):i.isFunction(m.effect)?(r.stop(1,1),m.effect.call(r,this),r.queue("fx",(function(t){p(),t()}))):r.fadeTo(90,t?1:0,p),t&&m.target.trigger("qtip-"+this.id+"-inactive")),this)},s.show=function(t){return this.toggle(c,t)},s.hide=function(t){return this.toggle(u,t)},s.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=i(T),n=this.tooltip,s=parseInt(n[0].style.zIndex,10),r=o.zindex+e.length;return n.hasClass(A)||this._trigger("focus",[r],t)&&(s!==r&&(e.each((function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)})),e.filter("."+A).qtip("blur",t)),n.addClass(A)[0].style.zIndex=r),this},s.blur=function(t){return!this.rendered||this.destroyed||(this.tooltip.removeClass(A),this._trigger("blur",[this.tooltip.css("zIndex")],t)),this},s.disable=function(t){return this.destroyed||("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(E):this.disabled):"boolean"!=typeof t&&(t=c),this.rendered&&this.tooltip.toggleClass(E,t).attr("aria-disabled",t),this.disabled=!!t),this},s.enable=function(){return this.disable(u)},s._createButton=function(){var t=this,e=this.elements,n=e.tooltip,o=this.options.content.button,s="string"==typeof o?o:"Close tooltip";e.button&&e.button.remove(),o.jquery?e.button=o:e.button=i("<a />",{class:"qtip-close "+(this.options.style.widget?"":w+"-icon"),title:s,"aria-label":s}).prepend(i("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||n).attr("role","button").click((function(e){return n.hasClass(E)||t.hide(e),u}))},s._updateButton=function(t){if(!this.rendered)return u;var e=this.elements.button;t?this._createButton():e.remove()},s._setWidget=function(){var t=this.options.style.widget,e=this.elements,n=e.tooltip,i=n.hasClass(E);n.removeClass(E),E=t?"ui-state-disabled":"qtip-disabled",n.toggleClass(E,i),n.toggleClass("ui-helper-reset "+U(),t).toggleClass(P,this.options.style.def&&!t),e.content&&e.content.toggleClass(U("content"),t),e.titlebar&&e.titlebar.toggleClass(U("header"),t),e.button&&e.button.toggleClass(w+"-icon",!t)},s._storeMouse=function(t){return(this.mouse=i.event.fix(t)).type="mousemove",this},s._bind=function(t,e,n,o,s){if(t&&n&&e.length){var r="."+this._id+(o?"-"+o:"");return i(t).bind((e.split?e:e.join(r+" "))+r,i.proxy(n,s||this)),this}},s._unbind=function(t,e){return t&&i(t).unbind("."+this._id+(e?"-"+e:"")),this},s._trigger=function(t,e,n){var o=i.Event("tooltip"+t);return o.originalEvent=n&&i.extend({},n)||this.cache.event||h,this.triggering=t,this.tooltip.trigger(o,[this].concat(e||[])),this.triggering=u,!o.isDefaultPrevented()},s._bindEvents=function(t,e,n,o,s,r){var a=n.filter(o).add(o.filter(n)),l=[];a.length&&(i.each(e,(function(e,n){var o=i.inArray(n,t);o>-1&&l.push(t.splice(o,1)[0])})),l.length&&(this._bind(a,l,(function(t){(!!this.rendered&&this.tooltip[0].offsetWidth>0?r:s).call(this,t)})),n=n.not(a),o=o.not(a))),this._bind(n,t,s),this._bind(o,e,r)},s._assignInitialEvents=function(t){var e=this.options,n=e.show.target,o=e.hide.target,s=e.show.event?i.trim(""+e.show.event).split(" "):[],r=e.hide.event?i.trim(""+e.hide.event).split(" "):[];function a(t){if(this.disabled||this.destroyed)return u;this.cache.event=t&&i.event.fix(t),this.cache.target=t&&i(t.target),clearTimeout(this.timers.show),this.timers.show=Z.call(this,(function(){this.render("object"==typeof t||e.show.ready)}),e.prerender?0:e.show.delay)}this._bind(this.elements.target,["remove","removeqtip"],(function(t){this.destroy(!0)}),"destroy"),/mouse(over|enter)/i.test(e.show.event)&&!/mouse(out|leave)/i.test(e.hide.event)&&r.push("mouseleave"),this._bind(n,"mousemove",(function(t){this._storeMouse(t),this.cache.onTarget=c})),this._bindEvents(s,r,n,o,a,(function(){if(!this.timers)return u;clearTimeout(this.timers.show)})),(e.show.ready||e.prerender)&&a.call(this,t)},s._assignEvents=function(){var n=this,s=this.options,r=s.position,a=this.tooltip,l=s.show.target,c=s.hide.target,h=r.container,d=r.viewport,p=i(e),f=(i(e.body),i(t)),m=s.show.event?i.trim(""+s.show.event).split(" "):[],_=s.hide.event?i.trim(""+s.hide.event).split(" "):[];i.each(s.events,(function(t,e){n._bind(a,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,a)})),/mouse(out|leave)/i.test(s.hide.event)&&"window"===s.hide.leave&&this._bind(p,["mouseout","blur"],(function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)})),s.hide.fixed?c=c.add(a.addClass(L)):/mouse(over|enter)/i.test(s.show.event)&&this._bind(c,"mouseleave",(function(){clearTimeout(this.timers.show)})),(""+s.hide.event).indexOf("unfocus")>-1&&this._bind(h.closest("html"),["mousedown","touchstart"],(function(t){var e=i(t.target),n=this.rendered&&!this.tooltip.hasClass(E)&&this.tooltip[0].offsetWidth>0,o=e.parents(T).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||o||this.target.has(e[0]).length||!n||this.hide(t)})),"number"==typeof s.hide.inactive&&(this._bind(l,"qtip-"+this.id+"-inactive",G,"inactive"),this._bind(c.add(a),o.inactiveEvents,G)),this._bindEvents(m,_,l,c,V,K),this._bind(l.add(a),"mousemove",(function(t){if("number"==typeof s.hide.distance){var e=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(t.pageX-e.pageX)>=n||i(t.pageY-e.pageY)>=n)&&this.hide(t)}this._storeMouse(t)})),"mouse"===r.target&&r.adjust.mouse&&(s.hide.event&&this._bind(l,["mouseenter","mouseleave"],(function(t){if(!this.cache)return u;this.cache.onTarget="mouseenter"===t.type})),this._bind(p,"mousemove",(function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(E)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}))),(r.adjust.resize||d.length)&&this._bind(i.event.special.resize?d:f,"resize",J),r.adjust.scroll&&this._bind(f.add(r.container),"scroll",J)},s._unassignEvents=function(){var n=this.options,o=n.show.target,s=n.hide.target,r=i.grep([this.elements.target[0],this.rendered&&this.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],t,e],(function(t){return"object"==typeof t}));o&&o.toArray&&(r=r.concat(o.toArray())),s&&s.toArray&&(r=r.concat(s.toArray())),this._unbind(r)._unbind(r,"destroy")._unbind(r,"inactive")},i((function(){X(T,["mouseenter","mouseleave"],(function(t){var e="mouseenter"===t.type,n=i(t.currentTarget),o=i(t.relatedTarget||t.target),s=this.options;e?(this.focus(t),n.hasClass(L)&&!n.hasClass(E)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(t),n.toggleClass($,e)})),X("["+k+"]",C,G)})),o=i.fn.qtip=function(t,e,s){var r=(""+t).toLowerCase(),a=h,l=i.makeArray(arguments).slice(1),d=l[l.length-1],p=this[0]?i.data(this[0],w):h;return!arguments.length&&p||"api"===r?p:"string"==typeof t?(this.each((function(){var t=i.data(this,w);if(!t)return c;if(d&&d.timeStamp&&(t.cache.event=d),!e||"option"!==r&&"options"!==r)t[r]&&t[r].apply(t,l);else{if(s===n&&!i.isPlainObject(e))return a=t.get(e),u;t.set(e,s)}})),a!==h?a:this):"object"!=typeof t&&arguments.length?void 0:(p=F(i.extend(c,{},t)),this.each((function(t){var e,n;if(n=!(n=i.isArray(p.id)?p.id[t]:p.id)||n===u||n.length<1||o.api[n]?o.nextid++:n,(e=Y(i(this),n,p))===u)return c;o.api[n]=e,i.each(b,(function(){"initialize"===this.initialize&&this(e)})),e._assignInitialEvents(d)})))},i.qtip=N,o.api={},i.each({attr:function(t,e){if(this.length){var n=this[0],o="title",s=i.data(n,"qtip");if(t===o&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?i.attr(n,I):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",e),this.attr(I,e))}return i.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(t){i([]);var e=i.fn.clone_replacedByqTip.apply(this,arguments);return t||e.filter("[oldtitle]").attr("title",(function(){return i.attr(this,I)})).removeAttr(I),e}},(function(t,e){if(!e||i.fn[t+D])return c;var n=i.fn[t+D]=i.fn[t];i.fn[t]=function(){return e.apply(this,arguments)||n.apply(this,arguments)}})),i.ui||(i.cleanData_replacedByqTip=i.cleanData,i.cleanData=function(t){for(var e,n=0;(e=i(t[n])).length;n++)if(e.attr(x))try{e.triggerHandler("removeqtip")}catch(t){}i.cleanData_replacedByqTip.apply(this,arguments)}),o.version="2.2.1",o.nextid=0,o.inactiveEvents=C,o.zindex=15e3,o.defaults={prerender:u,id:u,overwrite:c,suppress:c,content:{text:c,attr:"title",title:u,button:u},position:{my:"top left",at:"bottom right",target:u,container:u,viewport:u,adjust:{x:0,y:0,mouse:c,scroll:c,resize:c,method:"flipinvert flipinvert"},effect:function(t,e,n){i(this).animate(e,{duration:200,queue:u})}},show:{target:u,event:"mouseenter",effect:c,delay:90,solo:u,ready:u,autofocus:u},hide:{target:u,event:"mouseleave",effect:c,delay:0,fixed:u,inactive:u,leave:"window",distance:u},style:{classes:"",widget:u,width:u,height:u,def:c},events:{render:h,move:h,show:h,hide:h,toggle:h,visible:h,hidden:h,focus:h,blur:h}},b.viewport=function(n,i,o,s,r,a,l){var c,h,b,w,x,k,S,T,C=o.target,L=n.elements.tooltip,P=o.my,A=o.at,$=o.adjust,E=$.method.split(" "),D=E[0],I=E[1]||E[0],M=o.viewport,O=o.container,N=(n.cache,{left:0,top:0});if(!M.jquery||C[0]===t||C[0]===e.body||"none"===$.method)return N;function j(t,e,n,o,s,r,a,l,c){var u=i[s],d=P[t],f=A[t],m="shift"===n,_=d===s?c:d===r?-c:-c/2,g=f===s?l:f===r?-l:-l/2,v=S[s]+T[s]-(w?0:b[s]),C=v-u,L=u+c-(a===p?x:k)-v,$=_-(P.precedance===t||d===P[e]?g:0)-(f===y?l/2:0);return m?($=(d===s?1:-1)*_,i[s]+=C>0?C:L>0?-L:0,i[s]=Math.max(-b[s]+T[s],u-$,Math.min(Math.max(-b[s]+T[s]+(a===p?x:k),u+$),i[s],"center"===d?u-_:1e9))):(o*="flipinvert"===n?2:0,C>0&&(d!==s||L>0)?(i[s]-=$+o,h.invert(t,s)):L>0&&(d!==r||C>0)&&(i[s]-=(d===y?-$:$)+o,h.invert(t,r)),i[s]<S&&-i[s]>L&&(i[s]=u,h=P.clone())),i[s]-u}return b=O.offset()||N,w="static"===O.css("position"),c="fixed"===L.css("position"),x=M[0]===t?M.width():M.outerWidth(u),k=M[0]===t?M.height():M.outerHeight(u),S={left:c?0:M.scrollLeft(),top:c?0:M.scrollTop()},T=M[0]!==t&&M.offset()||N,"shift"===D&&"shift"===I||(h=P.clone()),N={left:"none"!==D?j("x",d,D,$.x,_,v,p,s,a):0,top:"none"!==I?j(d,"x",I,$.y,m,g,f,r,l):0,my:h}};function Q(t,e){this._ns="ie6",this.init(this.qtip=t)}i.extend(Q.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=i(t).scrollTop()+"px")},init:function(n){var o=n.tooltip;i("select, object").length<1&&(this.bgiframe=n.elements.bgiframe=i('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(o),n._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:w+"-rcontainer"}).appendTo(e.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(t,["scroll","resize"],this._scroll,this._ns,this),n._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t,e,n=this.qtip.tooltip,i={height:n.outerHeight(u),width:n.outerWidth(u)},o=this.qtip.plugins.tip,s=this.qtip.elements.tip;e={left:-(e=parseInt(n.css("borderLeftWidth"),10)||0),top:-e},o&&s&&(e[(t="x"===o.corner.precedance?[p,_]:[f,m])[1]]-=s[t[0]]()),this.bgiframe.css(e).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t,e,n,i,o=this.qtip.tooltip,s=this.qtip.options.style,r=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&o.css(f,s.height),s.width?o.css(p,s.width):(o.css(p,"").appendTo(this.redrawContainer),(e=o.width())%2<1&&(e+=1),t=((n=o.css("maxWidth")||"")+(i=o.css("minWidth")||"")).indexOf("%")>-1?r.width()/100:0,e=(n=(n.indexOf("%")>-1?t:1)*parseInt(n,10)||e)+(i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0)?Math.min(Math.max(e,i),n):e,o.css(p,Math.round(e)).appendTo(r)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),(b.ie6=function(t){return 6===M?new Q(t):u}).initialize="render",a.ie6={"^content|style$":function(){this.redraw()}}}))}(window,document),
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],(function(n){return t.Bloodhound=e(n)})):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,(function(t,e){return n(e,t)}))},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,(function(t,o){if(!(i=n.call(null,o,t,e)))return!1})),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,(function(t,o){if(i=n.call(null,o,t,e))return!1})),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,o;return function(){var s,r,a=this,l=arguments;return s=function(){i=null,n||(o=t.apply(a,l))},r=n&&!i,clearTimeout(i),i=setTimeout(s,e),r&&(o=t.apply(a,l)),o}},throttle:function(t,e){var n,i,o,s,r,a;return r=0,a=function(){r=new Date,o=null,s=t.apply(n,i)},function(){var l=new Date,c=e-(l-r);return n=this,i=arguments,c<=0?(clearTimeout(o),o=null,r=l,s=t.apply(n,i)):o||(o=setTimeout(a,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}};function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var o=[];return e.each(n,(function(n){o=o.concat(t(e.toStr(i[n])))})),o}}}}(),o=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new o(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),s=function(){"use strict";var n;try{(n=window.localStorage).setItem("~~~","!"),n.removeItem("~~~")}catch(t){n=null}function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||n,!this.ls&&this._noop()}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,n,i){return e.isNumber(i)?this._safeSet(this._ttlKey(t),s(o()+i)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),s(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,i,o=[],s=n.length;for(e=0;e<s;e++)(i=n.key(e)).match(t)&&o.push(i.replace(t,""));return o}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=r(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&o()>n)}}),i;function o(){return(new Date).getTime()}function s(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}}(),r=function(){"use strict";var n=0,i={},s=6,r=new o(10);function a(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new o(0):r}return a.setMaxPendingRequests=function(t){s=t},a.resetCache=function(){r.reset()},e.mixin(a.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){var o,r,a=this;function l(t){e(null,t),a._cache.set(o,t)}function c(){e(!0)}function u(){n--,delete i[o],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)}o=this._fingerprint(t),this.cancelled||o!==this.lastReq||((r=i[o])?r.done(l).fail(c):n<s?(n++,i[o]=this._send(t).done(l).fail(c).always(u)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var o,s;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},s=this._fingerprint(n),this.cancelled=!1,this.lastReq=s,(o=this._cache.get(s))?i(null,o):this._get(n,i)},cancel:function(){this.cancelled=!0}}),a}(),a=window.SearchIndex=function(){"use strict";function n(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,(function(t){var s,r;n.datums[s=n.identify(t)]=t,r=i(n.datumTokenizer(t)),e.each(r,(function(t){var e,i,r;for(e=n.trie,i=t.split("");r=i.shift();)(e=e.c[r]||(e.c[r]=o())).i.push(s)}))}))},get:function(t){var n=this;return e.map(t,(function(t){return n.datums[t]}))},search:function(t){var n,o,s=this;return n=i(this.queryTokenizer(t)),e.each(n,(function(t){var e,n,i,r;if(o&&0===o.length)return!1;for(e=s.trie,n=t.split("");e&&(i=n.shift());)e=e.c[i];if(!e||0!==n.length)return o=[],!1;r=e.i.slice(0),o=o?function(t,e){var n=0,i=0,o=[];t=t.sort(),e=e.sort();var s=t.length,r=e.length;for(;n<s&&i<r;)t[n]<e[i]?n++:(t[n]>e[i]||(o.push(t[n]),n++),i++);return o}(o,r):r})),o?e.map(function(t){for(var e={},n=[],i=0,o=t.length;i<o;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(o),(function(t){return s.datums[t]})):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n;function i(t){return t=e.filter(t,(function(t){return!!t})),t=e.map(t,(function(t){return t.toLowerCase()}))}function o(){var t={i:[],c:{}};return t}}(),l=function(){"use strict";var t;function n(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}return t={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(t.data,e,this.ttl),this.storage.set(t.protocol,location.protocol,this.ttl),this.storage.set(t.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,n={};return this.cache?(n.data=this.storage.get(t.data),n.protocol=this.storage.get(t.protocol),n.thumbprint=this.storage.get(t.thumbprint),e=n.thumbprint!==this.thumbprint||n.protocol!==location.protocol,n.data&&!e?n.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail((function(){t(!0)})).done((function(e){t(null,n.transform(e))})))},clear:function(){return this.storage.clear(),this}}),n}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var n,i=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,(function(t,n){e(t?[]:i.transform(n))}))},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";return function(o){var s,r;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(o=e.mixin(s,o||{})).datumTokenizer&&t.error("datumTokenizer is required"),!o.queryTokenizer&&t.error("queryTokenizer is required"),r=o.sorter,o.sorter=r?function(t){return t.sort(r)}:e.identity,o.local=e.isFunction(o.local)?o.local():o.local,o.prefetch=function(o){var s;if(!o)return null;return s={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},o=e.isString(o)?{url:o}:o,!(o=e.mixin(s,o)).url&&t.error("prefetch requires url to be set"),o.transform=o.filter||o.transform,o.cacheKey=o.cacheKey||o.url,o.thumbprint=n+o.thumbprint,o.transport=o.transport?i(o.transport):t.ajax,o}(o.prefetch),o.remote=function(n){var o;if(!n)return;return o={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(o,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=function(t){var e,n,i;if(e=t.prepare,n=t.replace,i=t.wildcard,e)return e;e=n?o:t.wildcard?s:r;return e;function o(t,e){return e.url=n(e.url,t),e}function s(t,e){return e.url=e.url.replace(i,encodeURIComponent(t)),e}function r(t,e){return e}}(n),n.limiter=function(t){var n,i,o;n=t.limiter,i=t.rateLimitBy,o=t.rateLimitWait,n||(n=/^throttle$/i.test(i)?r(o):s(o));return n;function s(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}}(n),n.transport=n.transport?i(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}(o.remote),o};function i(n){return function(i){var o=t.Deferred();return n(i,(function(t){e.defer((function(){o.resolve(t)}))}),(function(t){e.defer((function(){o.reject(t)}))})),o}}}(),h=function(){"use strict";var n;function o(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}return n=window&&window.Bloodhound,o.noConflict=function(){return window&&(window.Bloodhound=n),o},o.tokenizers=i,e.mixin(o.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,n,i){return t.search(e,n,i)}:function(e,n){return t.search(e,n)}},_loadPrefetch:function(){var e,n,i=this;return e=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),e.resolve()):this.prefetch.fromNetwork((function(t,n){if(t)return e.reject();i.add(n),i.prefetch.store(i.index.serialize()),e.resolve()})):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done((function(){t.add(t.local)})),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){var o,s=this;return o=this.sorter(this.index.search(t)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,(function(t){var n=[];e.each(t,(function(t){!e.some(o,(function(e){return s.identify(t)===s.identify(e)}))&&n.push(t)})),i&&i(n)})):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),o}();return h})),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,(function(t,e){return n(e,t)}))},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,(function(t,o){if(!(i=n.call(null,o,t,e)))return!1})),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,(function(t,o){if(i=n.call(null,o,t,e))return!1})),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,o;return function(){var s,r,a=this,l=arguments;return s=function(){i=null,n||(o=t.apply(a,l))},r=n&&!i,clearTimeout(i),i=setTimeout(s,e),r&&(o=t.apply(a,l)),o}},throttle:function(t,e){var n,i,o,s,r,a;return r=0,a=function(){r=new Date,o=null,s=t.apply(n,i)},function(){var l=new Date,c=e-(l-r);return n=this,i=arguments,c<=0?(clearTimeout(o),o=null,r=l,s=t.apply(n,i)):o||(o=setTimeout(a,c)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";var t={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(s){var r,a;return a=e.mixin({},t,s),{css:(r={css:o(),classes:a,html:n(a),selectors:i(a)}).css,html:r.html,classes:r.classes,selectors:r.selectors,mixin:function(t){e.mixin(t,r)}}};function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,(function(t,e){n[e]="."+t})),n}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}}(),i=function(){"use strict";var n;function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return"typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,n){var i;return i=t.Event("typeahead:"+e),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";var t=/\s+/,e=function(){var t;t=window.setImmediate?function(t){setImmediate((function(){t()}))}:function(t){setTimeout((function(){t()}),0)};return t}();return{onSync:function(t,e,i){return n.call(this,"sync",t,e,i)},onAsync:function(t,e,i){return n.call(this,"async",t,e,i)},off:function(e){var n;if(!this._callbacks)return this;e=e.split(t);for(;n=e.shift();)delete this._callbacks[n];return this},trigger:function(n){var o,s,r,a,l;if(!this._callbacks)return this;n=n.split(t),r=[].slice.call(arguments,1);for(;(o=n.shift())&&(s=this._callbacks[o]);)a=i(s.sync,this,[o].concat(r)),l=i(s.async,this,[o].concat(r)),a()&&e(l);return this}};function n(e,n,i,o){var s;if(!i)return this;for(n=n.split(t),i=o?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(i,o):i,this._callbacks=this._callbacks||{};s=n.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(i);return this}function i(t,e,n){return function(){for(var i,o=0,s=t.length;!i&&o<s;o+=1)i=!1===t[o].apply(e,n);return!i}}}(),s=function(t){"use strict";var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){var o;(i=e.mixin({},n,i)).node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],o=function(t,n,i){for(var o,s=[],r=0,a=t.length;r<a;r++)s.push(e.escapeRegExChars(t[r]));return o=i?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",n?new RegExp(o):new RegExp(o,"i")}(i.pattern,i.caseSensitive,i.wordsOnly),function t(e,n){for(var i,o=0;o<e.childNodes.length;o++)3===(i=e.childNodes[o]).nodeType?o+=n(i)?1:0:t(i,n)}(i.node,(function(e){var n,s,r;(n=o.exec(e.data))&&(r=t.createElement(i.tagName),i.className&&(r.className=i.className),(s=e.splitText(n.index)).splitText(n[0].length),r.appendChild(s.cloneNode(!0)),e.parentNode.replaceChild(r,s));return!!n})))}}(window.document),r=function(){"use strict";var n;function i(n,i){var o;(n=n||{}).input||t.error("input is missing"),i.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(o=this.$input,t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:o.css("font-family"),fontSize:o.css("font-size"),fontStyle:o.css("font-style"),fontVariant:o.css("font-variant"),fontWeight:o.css("font-weight"),wordSpacing:o.css("word-spacing"),letterSpacing:o.css("letter-spacing"),textIndent:o.css("text-indent"),textRendering:o.css("text-rendering"),textTransform:o.css("text-transform")}).insertAfter(o)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}return n={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=n[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;if("tab"===t)n=!s(e);else n=!0;return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,o,s,r;s=t,r=this.query,o=!!(n=i.normalizeQuery(s)===i.normalizeQuery(r))&&this.query.length!==t.length,this.query=t,e||n?!e&&o&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,o,s,r=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),o=e.bind(this._onKeydown,this),s=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",o),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(t){n[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))})),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i;function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),a=function(){"use strict";var n,i;function r(n,o){var s;(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&(s=n.name,!/^[_a-zA-Z0-9-]+$/.test(s))&&t.error("invalid dataset name: "+n.name),o.mixin(this),this.highlight=!!n.highlight,this.name=n.name||i(),this.limit=n.limit||5,this.displayFn=function(t){return t=t||e.stringify,e.isFunction(t)?t:n;function n(e){return e[t]}}(n.display||n.displayKey),this.templates=function(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||o};function o(e){return t("<div>").text(i(e))}}(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return n={val:"tt-selectable-display",obj:"tt-selectable-object"},i=e.getIdGenerator(),r.extractData=function(e){var i=t(e);return i.data(n.obj)?{val:i.data(n.val)||"",obj:i.data(n.obj)||null}:null},e.mixin(r.prototype,o,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,o){var r,a=this;return r=document.createDocumentFragment(),e.each(o,(function(e){var o,s;s=a._injectQuery(i,e),o=t(a.templates.suggestion(s)).data(n.obj,e).data(n.val,a.displayFn(e)).addClass(a.classes.suggestion+" "+a.classes.selectable),r.appendChild(o[0])})),this.highlight&&s({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){var n=this,i=!1,o=!1,s=0;function r(t){o||(o=!0,t=(t||[]).slice(0,n.limit),s=t.length,n._overwrite(e,t),s<n.limit&&n.async&&n.trigger("asyncRequested",e))}this.cancel(),this.cancel=function(){i=!0,n.cancel=t.noop,n.async&&n.trigger("asyncCanceled",e)},this.source(e,r,(function(o){o=o||[],!i&&s<n.limit&&(n.cancel=t.noop,s+=o.length,n._append(e,o.slice(0,n.limit-s)),n.async&&n.trigger("asyncReceived",e))})),!o&&r([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),r}(),l=function(){"use strict";function n(n,i){var o=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,(function(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new a(e,i)}))}return e.mixin(n.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,(function(t){return t.isEmpty()}))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,o;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):o<n&&this.$node.scrollTop(i+(n-o))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,(function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)})),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,(function(e){e.update(t)}))),n},empty:function(){e.each(this.datasets,(function(t){t.clear()})),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,(function(t){t.destroy()}))}}),n}(),c=function(){"use strict";var t=l.prototype;function n(){l.apply(this,[].slice.call(arguments,0))}return e.mixin(n.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),n}(),u=function(){"use strict";function n(n,o){var s,r,a,l,c,u,h,d,p,f,m;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),o.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=i(this,"activate","open","_onFocused"),r=i(this,"deactivate","_onBlurred"),a=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),h=i(this,"isActive","open","_onDownKeyed"),d=i(this,"isActive","isOpen","_onLeftKeyed"),p=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",r,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",(function(t){var o,s,r;o=document.activeElement,s=i.is(o),r=i.has(o).length>0,e.isMsie()&&(s||r)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer((function(){n.focus()})))})),i.on("mousedown.tt",(function(t){t.preventDefault()}))},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,o,s,a;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(o=r.normalizeQuery(i),s=e.escapeRegExChars(o),(a=new RegExp("^(?:"+s+")(.+$)","i").exec(n.val))&&this.input.setHint(i+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),o=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n;function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,(function(e){return t[e].apply(t,i)}))}}}();!function(){"use strict";var o,s,a;function h(e,n){e.each((function(){var e,i=t(this);(e=i.data(s.typeahead))&&n(e,i)}))}function d(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css((n=t,{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1});var n}function p(t,e){t.data(s.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function f(n){var i;return(i=e.isJQuery(n)||e.isElement(n)?t(n).first():[]).length?i:null}o=t.fn.typeahead,s={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},a={initialize:function(o,a){var h;return a=e.isArray(a)?a:[].slice.call(arguments,1),h=n((o=o||{}).classNames),this.each(m);function m(){var n,m,_,g,v,y,b,w,x,k,S;e.each(a,(function(t){t.highlight=!!o.highlight})),n=t(this),m=t(h.html.wrapper),_=f(o.hint),g=f(o.menu),v=!1!==o.hint&&!_,y=!1!==o.menu&&!g,v&&(_=d(n,h)),y&&(g=t(h.html.menu).css(h.css.menu)),_&&_.val(""),n=p(n,h),(v||y)&&(m.css(h.css.wrapper),n.css(v?h.css.input:h.css.inputWithNoHint),n.wrap(m).parent().prepend(v?_:null).append(y?g:null)),S=y?c:l,b=new i({el:n}),w=new r({hint:_,input:n},h),x=new S({node:g,datasets:a},h),k=new u({input:w,menu:x,eventBus:b,minLength:o.minLength},h),n.data(s.www,h),n.data(s.typeahead,k)}},isEnabled:function(){var t;return h(this.first(),(function(e){t=e.isEnabled()})),t},enable:function(){return h(this,(function(t){t.enable()})),this},disable:function(){return h(this,(function(t){t.disable()})),this},isActive:function(){var t;return h(this.first(),(function(e){t=e.isActive()})),t},activate:function(){return h(this,(function(t){t.activate()})),this},deactivate:function(){return h(this,(function(t){t.deactivate()})),this},isOpen:function(){var t;return h(this.first(),(function(e){t=e.isOpen()})),t},open:function(){return h(this,(function(t){t.open()})),this},close:function(){return h(this,(function(t){t.close()})),this},select:function(e){var n=!1,i=t(e);return h(this.first(),(function(t){n=t.select(i)})),n},autocomplete:function(e){var n=!1,i=t(e);return h(this.first(),(function(t){n=t.autocomplete(i)})),n},moveCursor:function(t){var e=!1;return h(this.first(),(function(n){e=n.moveCursor(t)})),e},val:function(t){var e;return arguments.length?(h(this,(function(e){e.setVal(t)})),this):(h(this.first(),(function(t){e=t.getVal()})),e)},destroy:function(){return h(this,(function(t,n){!function(t){var n,i;n=t.data(s.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(s.attrs),(function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)})),t.removeData(s.typeahead).removeData(s.www).removeData(s.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}(n),t.destroy()})),this}},t.fn.typeahead=function(t){return a[t]?a[t].apply(this,[].slice.call(arguments,1)):a.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=o,this}}()})),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=d();return t.compile=function(e,n){return l.compile(e,n,t)},t.precompile=function(e,n){return l.precompile(e,n,t)},t.AST=r.default,t.Compiler=l.Compiler,t.JavaScriptCompiler=c.default,t.Parser=a.parser,t.parse=a.parse,t.parseWithoutProcessing=a.parseWithoutProcessing,t}var o=n(1).default;e.__esModule=!0;var s=o(n(2)),r=o(n(45)),a=n(46),l=n(51),c=o(n(52)),u=o(n(49)),h=o(n(44)),d=s.default.create,p=i();p.create=i,h.default(p),p.Visitor=u.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var t=new r.HandlebarsEnvironment;return c.extend(t,r),t.SafeString=a.default,t.Exception=l.default,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var o=n(3).default,s=n(1).default;e.__esModule=!0;var r=o(n(4)),a=s(n(37)),l=s(n(6)),c=o(n(5)),u=o(n(38)),h=s(n(44)),d=i();d.create=i,h.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var o=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=i;var s=n(5),r=o(n(6)),a=n(10),l=n(30),c=o(n(32)),u=n(33);e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var h="[object Object]";i.prototype={constructor:i,logger:c.default,log:c.default.log,registerHelper:function(t,e){if(s.toString.call(t)===h){if(e)throw new r.default("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===h)s.extend(this.partials,t);else{if(void 0===e)throw new r.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===h){if(e)throw new r.default("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var d=c.default.log;e.log=d,e.createFrame=s.createFrame,e.logger=c.default},function(t,e){"use strict";function n(t){return o[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}e.__esModule=!0,e.extend=i,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return r.test(t)?t.replace(s,n):t},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=i({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,r=/[&<>"'`=]/,a=Object.prototype.toString;e.toString=a;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c},function(t,e,n){"use strict";function i(t,e){var n=e&&e.loc,r=void 0,a=void 0,l=void 0,c=void 0;n&&(r=n.start.line,a=n.end.line,l=n.start.column,c=n.end.column,t+=" - "+r+":"+l);for(var u=Error.prototype.constructor.call(this,t),h=0;h<s.length;h++)this[s[h]]=u[s[h]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=r,this.endLineNumber=a,o?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=l,this.endColumn=c))}catch(t){}}var o=n(7).default;e.__esModule=!0;var s=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];i.prototype=new Error,e.default=i,t.exports=e.default},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),s.default(t),r.default(t),a.default(t),l.default(t),c.default(t),u.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=i(n(11)),s=i(n(12)),r=i(n(25)),a=i(n(26)),l=i(n(27)),c=i(n(28)),u=i(n(29))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var o=n.inverse,s=n.fn;if(!0===e)return s(this);if(!1===e||null==e)return o(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var r=i.createFrame(n.data);r.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:r}}return s(e,n)}))},t.exports=e.default},function(t,e,n){(function(i){"use strict";var o=n(13).default,s=n(1).default;e.__esModule=!0;var r=n(5),a=s(n(6));e.default=function(t){t.registerHelper("each",(function(t,e){function n(e,n,i){h&&(h.key=e,h.index=n,h.first=0===n,h.last=!!i,d&&(h.contextPath=d+e)),u+=s(t[e],{data:h,blockParams:r.blockParams([t[e],e],[d+e,null])})}if(!e)throw new a.default("Must pass iterator to #each");var s=e.fn,l=e.inverse,c=0,u="",h=void 0,d=void 0;if(e.data&&e.ids&&(d=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(h=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var p=t.length;c<p;c++)c in t&&n(c,c,c===t.length-1);else if(i.Symbol&&t[i.Symbol.iterator]){for(var f=[],m=t[i.Symbol.iterator](),_=m.next();!_.done;_=m.next())f.push(_.value);for(p=(t=f).length;c<p;c++)n(c,c,c===t.length-1)}else!function(){var e=void 0;o(t).forEach((function(t){void 0!==e&&n(e,c-1),e=t,c++})),void 0!==e&&n(e,c-1,!0)}();return 0===c&&(u=l(this)),u}))},t.exports=e.default}).call(e,function(){return this}())},function(t,e,n){t.exports={default:n(14),__esModule:!0}},function(t,e,n){n(15),t.exports=n(21).Object.keys},function(t,e,n){var i=n(16);n(18)("keys",(function(t){return function(e){return t(i(e))}}))},function(t,e,n){var i=n(17);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(19),o=n(21),s=n(24);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*s((function(){n(1)})),"Object",r)}},function(t,e,n){var i=n(20),o=n(21),s=n(22),r="prototype",a=function(t,e,n){var l,c,u,h=t&a.F,d=t&a.G,p=t&a.S,f=t&a.P,m=t&a.B,_=t&a.W,g=d?o:o[e]||(o[e]={}),v=d?i:p?i[e]:(i[e]||{})[r];for(l in d&&(n=e),n)(c=!h&&v&&l in v)&&l in g||(u=c?v[l]:n[l],g[l]=d&&"function"!=typeof v[l]?n[l]:m&&c?s(u,i):_&&v[l]==u?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[r]=t[r],e}(u):f&&"function"==typeof u?s(Function.call,u):u,f&&((g[r]||(g[r]={}))[l]=u))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(23);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var o=i(n(6));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var o=n(5),s=i(n(6));e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var o=n(5),s=i(n(6));e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:o.blockParams([t],[i&&i.contextPath])})}))},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var o=i(n(31))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,o){var s=t;return e.partials||(e.partials={},s=function(o,s){var r=n.partials;n.partials=i.extend({},r,e.partials);var a=t(o,s);return n.partials=r,a}),e.partials[o.args[0]]=o.fn,s}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];console[e].apply(console,i)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==c[t]&&(c[t]=!0,l.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}var o=n(34).default,s=n(13).default,r=n(3).default;e.__esModule=!0,e.createProtoAccessControl=function(t){var e=o(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=o(null);return n.__proto__=!1,{properties:{whitelist:a.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:a.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return i("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){s(c).forEach((function(t){delete c[t]}))};var a=n(36),l=r(n(32)),c=o(null)},function(t,e,n){t.exports={default:n(35),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){"use strict";var i=n(34).default;e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.extend.apply(void 0,[i(null)].concat(e))};var o=n(5)},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n,i,o,s,a){function l(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(r=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||i,s&&[o.blockParams].concat(s),r)}return(l=r(n,l,t,a,i,s)).program=e,l.depth=a?a.length:0,l.blockParams=o||0,l}function o(){return""}function s(t,e){return e&&"root"in e||((e=e?p.createFrame(e):{}).root=t),e}function r(t,e,n,i,o,s){if(t.decorator){var r={};e=t.decorator(e,r,n,i&&i[0],o,s,i),h.extend(e,r)}return e}var a=n(39).default,l=n(13).default,c=n(3).default,u=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=p.COMPILER_REVISION;if(!(e>=p.LAST_COMPATIBLE_COMPILER_REVISION&&e<=p.COMPILER_REVISION)){if(e<p.LAST_COMPATIBLE_COMPILER_REVISION){var i=p.REVISION_CHANGES[n],o=p.REVISION_CHANGES[e];throw new d.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new d.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){function n(e){function i(e){return""+t.main(c,e,c.helpers,c.partials,a,u,l)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;n._setup(o),!o.partial&&t.useData&&(a=s(e,a));var l=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(l=o.depths?e!=o.depths[0]?[e].concat(o.depths):o.depths:[e]),(i=r(t.main,i,c,o.depths||[],a,u))(e,o)}if(!e)throw new d.default("No environment passed to template");if(!t||!t.main)throw new d.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o=t.compiler&&7===t.compiler[0],c={strict:function(t,e,n){if(!t||!(e in t))throw new d.default('"'+e+'" not defined in '+t,{loc:n});return c.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||_.resultIsAllowed(n,c.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++){if(null!=(t[i]&&c.lookupProperty(t[i],e)))return t[i][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:h.escapeExpression,invokePartial:function(n,i,o){o.hash&&(i=h.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,o);var s=h.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),r=e.VM.invokePartial.call(this,n,i,s);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),r=o.partials[o.name](i,s)),null!=r){if(o.indent){for(var a=r.split("\n"),l=0,c=a.length;l<c&&(a[l]||l+1!==c);l++)a[l]=o.indent+a[l];r=a.join("\n")}return r}throw new d.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,o,s){var r=this.programs[t],a=this.fn(t);return e||s||o||n?r=i(this,t,a,e,n,o,s):r||(r=this.programs[t]=i(this,t,a)),r},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=h.extend({},e,t)),n},nullContext:a({}),noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(n){if(n.partial)c.protoAccessControl=n.protoAccessControl,c.helpers=n.helpers,c.partials=n.partials,c.decorators=n.decorators,c.hooks=n.hooks;else{var i=h.extend({},e.helpers,n.helpers);(function(t,e){l(t).forEach((function(n){var i=t[n];t[n]=function(t,e){var n=e.lookupProperty;return m.wrapHelper(t,(function(t){return h.extend({lookupProperty:n},t)}))}(i,e)}))})(i,c),c.helpers=i,t.usePartial&&(c.partials=c.mergeIfNeeded(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(c.decorators=h.extend({},e.decorators,n.decorators)),c.hooks={},c.protoAccessControl=_.createProtoAccessControl(n);var s=n.allowCallsToHelperMissing||o;f.moveHelperToHooks(c,"helperMissing",s),f.moveHelperToHooks(c,"blockHelperMissing",s)}},n._child=function(e,n,o,s){if(t.useBlockParams&&!o)throw new d.default("must pass block params");if(t.useDepths&&!s)throw new d.default("must pass parent depths");return i(c,e,t[e],n,0,o,s)},n},e.wrapProgram=i,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;if(n.fn&&n.fn!==o&&function(){n.data=p.createFrame(n.data);var t=n.fn;s=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=p.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=h.extend({},n.partials,t.partials))}(),void 0===t&&s&&(t=s),void 0===t)throw new d.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=o;var h=c(n(5)),d=u(n(6)),p=n(4),f=n(10),m=n(43),_=n(33)},function(t,e,n){t.exports={default:n(40),__esModule:!0}},function(t,e,n){n(41),t.exports=n(21).Object.seal},function(t,e,n){var i=n(42);n(18)("seal",(function(t){return function(e){return t&&i(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return"Program"===t.type?t:(r.default.yy=u,u.locInfo=function(t){return new u.SourceLocation(e&&e.srcName,t)},r.default.parse(t))}var o=n(1).default,s=n(3).default;e.__esModule=!0,e.parseWithoutProcessing=i,e.parse=function(t,e){var n=i(t,e);return new a.default(e).accept(n)};var r=o(n(47)),a=o(n(48)),l=s(n(50)),c=n(5);e.parser=r.default;var u={};c.extend(u,l)},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,o,s,r){var a=s.length-1;switch(o){case 1:return s[a-1];case 2:this.$=i.prepareProgram(s[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=s[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(s[a]),strip:i.stripFlags(s[a],s[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[a],value:s[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(s[a-2],s[a-1],s[a],this._$);break;case 12:this.$={path:s[a-3],params:s[a-2],hash:s[a-1]};break;case 13:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!1,this._$);break;case 14:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!0,this._$);break;case 15:this.$={open:s[a-5],path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 16:case 17:this.$={path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 18:this.$={strip:i.stripFlags(s[a-1],s[a-1]),program:s[a]};break;case 19:var l=i.prepareBlock(s[a-2],s[a-1],s[a],s[a],!1,this._$),c=i.prepareProgram([l],s[a-1].loc);c.chained=!0,this.$={strip:s[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:s[a-1],strip:i.stripFlags(s[a-2],s[a])};break;case 22:case 23:this.$=i.prepareMustache(s[a-3],s[a-2],s[a-1],s[a-4],i.stripFlags(s[a-4],s[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[a-3],params:s[a-2],hash:s[a-1],indent:"",strip:i.stripFlags(s[a-4],s[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(s[a-2],s[a-1],s[a],this._$);break;case 26:this.$={path:s[a-3],params:s[a-2],hash:s[a-1],strip:i.stripFlags(s[a-4],s[a])};break;case 29:this.$={type:"SubExpression",path:s[a-3],params:s[a-2],hash:s[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(s[a-2]),value:s[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(s[a-1]);break;case 35:this.$={type:"StringLiteral",value:s[a],original:s[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[a]),original:Number(s[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[a],original:"true"===s[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 42:this.$=i.preparePath(!0,s[a],this._$);break;case 43:this.$=i.preparePath(!1,s[a],this._$);break;case 44:s[a-2].push({part:i.id(s[a]),original:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 45:this.$=[{part:i.id(s[a]),original:s[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:s[a-1].push(s[a]);break;case 98:case 100:this.$=[s[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=n.lexer.lex()||1)&&(t=n.symbols_[t]||t),t}var n=this,i=[0],o=[null],s=[],r=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;s.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,_,g,v,y,b,w,x={};;){if(m=i[i.length-1],this.defaultActions[m]?_=this.defaultActions[m]:(null!=p||(p=e()),_=r[m]&&r[m][p]),void 0===_||!_.length||!_[0]){var k="";if(!u){for(v in w=[],r[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:w})}}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(_[0]){case 1:i.push(p),o.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(_[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[_[1]][1],x.$=o[o.length-y],x._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),void 0!==(g=this.performAction.call(x,a,c,l,this.yy,_[1],o,s)))return g;y&&(i=i.slice(0,-1*y*2),o=o.slice(0,-1*y),s=s.slice(0,-1*y)),i.push(this.productions_[_[1]][0]),o.push(x.$),s.push(x._$),b=r[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,i,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),r=0;r<s.length&&(!(n=this._input.match(this.rules[s[r]]))||e&&!(n[0].length>e[0].length)||(e=n,i=r,this.options.flex));r++);return e?((o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,i){function o(t,n){return e.yytext=e.yytext.substring(t,e.yyleng-n+t)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function o(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],o=t[e-2];return i?"ContentStatement"===i.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function s(t,e,n){void 0===e&&(e=-1);var i=t[e+1],o=t[e+2];return i?"ContentStatement"===i.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function r(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var o=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==o}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var o=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==o,i.leftStripped}}var l=n(1).default;e.__esModule=!0;var c=l(n(49));i.prototype=new c.default,i.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,l=0,c=i.length;l<c;l++){var u=i[l],h=this.accept(u);if(h){var d=o(i,l,n),p=s(i,l,n),f=h.openStandalone&&d,m=h.closeStandalone&&p,_=h.inlineStandalone&&d&&p;h.close&&r(i,l,!0),h.open&&a(i,l,!0),e&&_&&(r(i,l),a(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),e&&f&&(r((u.program||u.inverse).body),a(i,l)),e&&m&&(r(i,l),a((u.inverse||u.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:s(e.body),closeStandalone:o((i||e).body)};if(t.openStrip.close&&r(e.body,null,!0),n){var u=t.inverseStrip;u.open&&a(e.body,null,!0),u.close&&r(i.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&o(e.body)&&s(i.body)&&(a(e.body),r(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){this.parents=[]}function o(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function s(t){o.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function r(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=n(1).default;e.__esModule=!0;var l=a(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:s,DecoratorBlock:s,PartialStatement:r,PartialBlockStatement:function(t){r.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new s.default(t.path.original+" doesn't match "+e,n)}}var o=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",o=[],r=0,a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(i+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new s.default("Invalid path: "+i,{loc:n});".."===c&&r++}}return{type:"PathExpression",data:t,depth:r,parts:o,original:i,loc:n}},e.prepareMustache=function(t,e,n,i,o,s){var r=i.charAt(3)||i.charAt(2),a="{"!==r&&"&"!==r;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:o,loc:this.locInfo(s)}},e.prepareRawBlock=function(t,e,n,o){i(t,n);var s={type:"Program",body:e,strip:{},loc:o=this.locInfo(o)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}},e.prepareBlock=function(t,e,n,o,r,a){o&&o.path&&i(t,o);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new s.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),u=n.strip,c=n.program}return r&&(r=c,c=e,e=r),{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:o&&o.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,o){return i(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(o)}};var s=o(n(6))},function(t,e,n){"use strict";function i(){}function o(t,e){if(t===e)return!0;if(c.isArray(t)&&c.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!o(t[n],e[n]))return!1;return!0}}function s(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var r=n(34).default,a=n(1).default;e.__esModule=!0,e.Compiler=i,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),o=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(o,e)},e.compile=function(t,e,n){function i(){var i=n.parse(t,e),o=(new n.Compiler).compile(i,e),s=(new n.JavaScriptCompiler).compile(o,e,void 0,!0);return n.template(s)}function o(t,e){return s||(s=i()),s.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new l.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=c.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var s=void 0;return o._setup=function(t){return s||(s=i()),s._setup(t)},o._child=function(t,e,n,o){return s||(s=i()),s._child(t,e,n,o)},o};var l=a(n(6)),c=n(5),u=a(n(45)),h=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],s=t.opcodes[n];if(i.opcode!==s.opcode||!o(i.args,s.args))return!1}e=this.children.length;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=c.extend(r(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){s(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new l.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",o,i,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,o=i.parts[0],s=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",o,s)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),o=t.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new l.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,u.default.helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=u.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=u.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&u.default.helpers.helperExpression(t),o=!n&&(i||e);if(o&&!i){var s=t.path.parts[0],r=this.options;r.knownHelpers[s]?i=!0:r.knownHelpersOnly&&(o=!1)}return i?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||u.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),o},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],o=i&&c.indexOf(i,t);if(i&&o>=0)return[e,o]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function o(){}var s=n(13).default,r=n(1).default;e.__esModule=!0;var a=n(4),l=r(n(6)),c=n(5),u=r(n(53));o.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return c.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,s=void 0,r=void 0,a=void 0,c=void 0;for(a=0,c=o.length;a<c;a++)s=o[a],this.source.currentLocation=s.loc,r=r||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=r,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(a=0,c=p.length;a<c;a++)p[a]&&(h[a]=p[a],f[a]&&(h[a+"_d"]=f[a],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(t){var e=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var o=0;s(this.aliases).forEach((function(t){var i=e.aliases[t];i.children&&i.referenceCount>1&&(n+=", alias"+ ++o+"="+t,i.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var r=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths");var a=this.mergeSource(n);return t?(r.push(a),Function.apply(this,r)):this.source.wrap(["function(",r.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,o=void 0,s=void 0,r=void 0;return this.source.each((function(t){t.appendToBuffer?(s?t.prepend("  + "):s=t,r=t):(s&&(o?s.prepend("buffer += "):i=!0,r.add(";"),s=r=void 0),o=!0,e||(n=!1))})),n?s?(s.prepend("return "),r.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var o=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,o){var s=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,i){var o=e.popStack(),s=0,r=n.length;for(t&&r--;s<r;s++)o=e.nameLookup(o,n[s],i);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(n[s]),", ",JSON.stringify(e.source.currentLocation)," )"]:o}(this.options.strict&&o,this,e,t));else for(var r=e.length;n<r;n++)this.replaceStack((function(o){var r=s.nameLookup(o,e[n],t);return i?[" && ",r]:[" != null ? ",r," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),o=this.setupHelper(t,e),s=[];n&&s.push(o.name),s.push(i),this.options.strict||s.push(this.aliasable("container.hooks.helperMissing"));var r=["(",this.itemsSeparatedBy(s,"||"),")"],a=this.source.functionCall(r,"call",o.callParams);this.push(a)},itemsSeparatedBy:function(t,e){var n=[];n.push(t[0]);for(var i=1;i<t.length;i++)n.push(e,t[i]);return n},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],o=this.setupParams(e,1,i);t&&(e=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),i.push(o),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var s=this.hash;n&&(s.contexts[t]=n),i&&(s.types[t]=i),o&&(s.ids[t]=o),s.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var n=t.children,i=void 0,o=void 0,s=0,r=n.length;s<r;s++){i=n[s],o=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=o.compile(i,e,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return i}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,o=void 0,s=void 0;if(!this.isInline())throw new l.default("replaceStack on non-inline");var r=this.popStack(!0);if(r instanceof i)e=["(",n=[r.value]],s=!0;else{o=!0;var a=this.incrStack();e=["((",this.push(a)," = ",r,")"],n=this.topStack()}var c=t.call(this,n);s||this.popStack(),o&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var o=t[e];if(o instanceof i)this.compileStack.push(o);else{var s=this.incrStack();this.pushSource([s," = ",o,";"]),this.compileStack.push(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new l.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(t,e,n){var i={},o=[],s=[],r=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(r[h]=this.popStack()),this.stringParams&&(s[h]=this.popStack(),o[h]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(r)),this.stringParams&&(i.types=this.source.generateArray(s),i.contexts=this.source.generateArray(o)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var o=this.setupParams(t,e,n);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),i?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=o.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if(r.isArray(t)){for(var i=[],o=0,s=t.length;o<s;o++)i.push(e.wrap(t[o],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}var s=n(13).default;e.__esModule=!0;var r=n(5),a=void 0;a||(a=function(t,e,n,i){this.src="",i&&this.add(i)},a.prototype={add:function(t){r.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof a?t:(t=i(t,this,e),new a(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,n=[];s(t).forEach((function(o){var s=i(t[o],e);"undefined"!==s&&n.push([e.quotedString(o),":",s])}));var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),n=0,o=t.length;n<o;n++)n&&e.add(","),e.add(i(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=o,t.exports=e.default}])}));var comments_divs=$('.comments .comment_block[data-pid="0"]'),map;function add_comment_handlers(){$(".sort_rating").click((function(){sort_by_rating($(this),"rating"),$(".sort_date").removeClass("comments_sorted"),$(this).addClass("comments_sorted")})),$(".sort_date").click((function(){sort_by_rating($(this),"date"),$(".sort_rating").removeClass("comments_sorted"),$(this).addClass("comments_sorted")}))}function sort_by_rating(t,e){var n=8673,i=t.attr("data-dir"),o=comments_divs.sort((function(t,n){return 1==i?1*$(t).data(e)>1*$(n).data(e)?-1:1*$(t).data(e)<1*$(n).data(e)?1:0:1*$(t).data(e)<1*$(n).data(e)?-1:1*$(t).data(e)>1*$(n).data(e)?1:0}));1==(i^=1)&&(n=8675),t.attr("data-dir",i),t.find(".direction").html("&#"+n+";"),$(".comments").html(o),add_button_handlers()}function add_button_handlers(){add_delete_action(),add_edit_action(),add_reply_action(),add_vote_action()}function filter_comments(t){1==$(t).is(":checked")?$('.comment_block[data-lang!="'+lang+'"]').each((function(){$(this).hide()})):$(".comment_block").each((function(){$(this).show()}))}
/*! DataTables 1.13.1
 * ©2008-2022 SpryMedia Ltd - datatables.net/license
 */
/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.13.1
 * @author      SpryMedia Ltd
 * @contact     www.datatables.net
 * @copyright   SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */$(document).ready((function(){add_comment_handlers(),$(".sort_rating").click()})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:window.DataTable=t(jQuery,window,document)}((function(t,e,n,i){"use strict";var o,s,r,a,l=function(e,n){if(this instanceof l)return t(e).DataTable(n);n=e,this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new s(t?le(this[o.iApiIndex]):this)},this.fnAddData=function(e,n){var o=this.api(!0),s=Array.isArray(e)&&(Array.isArray(e[0])||t.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(n===i||n)&&o.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],o=n.oScroll;t===i||t?e.draw(!1):""===o.sX&&""===o.sY||qt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var o=this.api(!0),s=o.rows(t),r=s.settings()[0],a=r.aoData[s[0][0]];return s.remove(),e&&e.call(this,r,a),(n===i||n)&&o.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,o,s,r){var a=this.api(!0);null===e||e===i?a.search(t,n,o,r):a.column(e).search(t,n,o,r),a.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==o||"th"==o?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();if("TR"==n)return e.row(t).index();if("TD"==n||"TH"==n){var i=e.cell(t).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){var o=this.api(!0).column(t).visible(e);(n===i||n)&&o.columns.adjust().draw()},this.fnSettings=function(){return le(this[o.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,o,s){var r=this.api(!0);return n===i||null===n?r.row(e).data(t):r.cell(e,n).data(t),(s===i||s)&&r.columns.adjust(),(o===i||o)&&r.draw(),0},this.fnVersionCheck=o.fnVersionCheck;var r=this,a=n===i,c=this.length;for(var u in a&&(n={}),this.oApi=this.internal=o.internal,l.ext.internal)u&&(this[u]=Ze(u));return this.each((function(){var e,o=c>1?he({},n,!0):n,s=0,u=this.getAttribute("id"),h=!1,d=l.defaults,p=t(this);if("table"==this.nodeName.toLowerCase()){D(d),I(d.column),A(d,d,!0),A(d.column,d.column,!0),A(d,t.extend(o,p.data()),!0);var f=l.settings;for(s=0,e=f.length;s<e;s++){var m=f[s];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){var _=o.bRetrieve!==i?o.bRetrieve:d.bRetrieve,g=o.bDestroy!==i?o.bDestroy:d.bDestroy;if(a||_)return m.oInstance;if(g){m.oInstance.fnDestroy();break}return void ce(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){f.splice(s,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+l.ext._unique++,this.id=u);var v=t.extend(!0,{},l.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:u,sTableId:u});v.nTable=this,v.oApi=r.internal,v.oInit=o,f.push(v),v.oInstance=1===r.length?r:p.dataTable(),D(o),$(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=Array.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=he(t.extend(!0,{},d),o),ue(v.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ue(v,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ue(v.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ue(v.oLanguage,o,"fnInfoCallback"),pe(v,"aoDrawCallback",o.fnDrawCallback,"user"),pe(v,"aoServerParams",o.fnServerParams,"user"),pe(v,"aoStateSaveParams",o.fnStateSaveParams,"user"),pe(v,"aoStateLoadParams",o.fnStateLoadParams,"user"),pe(v,"aoStateLoaded",o.fnStateLoaded,"user"),pe(v,"aoRowCallback",o.fnRowCallback,"user"),pe(v,"aoRowCreatedCallback",o.fnCreatedRow,"user"),pe(v,"aoHeaderCallback",o.fnHeaderCallback,"user"),pe(v,"aoFooterCallback",o.fnFooterCallback,"user"),pe(v,"aoInitComplete",o.fnInitComplete,"user"),pe(v,"aoPreDrawCallback",o.fnPreDrawCallback,"user"),v.rowIdFn=Y(o.rowId),M(v);var y=v.oClasses;if(t.extend(y,l.ext.classes,o.oClasses),p.addClass(y.sTable),v.iInitDisplayStart===i&&(v.iInitDisplayStart=o.iDisplayStart,v._iDisplayStart=o.iDisplayStart),null!==o.iDeferLoading){v.bDeferLoading=!0;var b=Array.isArray(o.iDeferLoading);v._iRecordsDisplay=b?o.iDeferLoading[0]:o.iDeferLoading,v._iRecordsTotal=b?o.iDeferLoading[1]:o.iDeferLoading}var w=v.oLanguage;t.extend(!0,w,o.oLanguage),w.sUrl?(t.ajax({dataType:"json",url:w.sUrl,success:function(e){A(d.oLanguage,e),$(e),t.extend(!0,w,e,v.oInit.oLanguage),fe(v,null,"i18n",[v]),Mt(v)},error:function(){Mt(v)}}),h=!0):fe(v,null,"i18n",[v]),null===o.asStripeClasses&&(v.asStripeClasses=[y.sStripeOdd,y.sStripeEven]);var x=v.asStripeClasses,k=p.children("tbody").find("tr").eq(0);-1!==t.inArray(!0,t.map(x,(function(t,e){return k.hasClass(t)})))&&(t("tbody tr",this).removeClass(x.join(" ")),v.asDestroyStripes=x.slice());var S,T=[],C=this.getElementsByTagName("thead");if(0!==C.length&&(dt(v.aoHeader,C[0]),T=pt(v)),null===o.aoColumns)for(S=[],s=0,e=T.length;s<e;s++)S.push(null);else S=o.aoColumns;for(s=0,e=S.length;s<e;s++)N(v,T?T[s]:null);if(W(v,o.aoColumnDefs,S,(function(t,e){j(v,t,e)})),k.length){var L=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(k[0]).children("th, td").each((function(t,e){var n=v.aoColumns[t];if(n||ce(v,0,"Incorrect column count",18),n.mData===t){var o=L(e,"sort")||L(e,"order"),s=L(e,"filter")||L(e,"search");null===o&&null===s||(n.mData={_:t+".display",sort:null!==o?t+".@data-"+o:i,type:null!==o?t+".@data-"+o:i,filter:null!==s?t+".@data-"+s:i},j(v,t))}}))}var P=v.oFeatures,E=function(){if(o.aaSorting===i){var n=v.aaSorting;for(s=0,e=n.length;s<e;s++)n[s][1]=v.aoColumns[s].asSorting[0]}ie(v),P.bSort&&pe(v,"aoDrawCallback",(function(){if(v.bSorted){var e=Yt(v),n={};t.each(e,(function(t,e){n[e.src]=e.dir})),fe(v,null,"order",[v,e,n]),te(v)}})),pe(v,"aoDrawCallback",(function(){(v.bSorted||"ssp"===ge(v)||P.bDeferRender)&&ie(v)}),"sc");var r=p.children("caption").each((function(){this._captionSide=t(this).css("caption-side")})),a=p.children("thead");0===a.length&&(a=t("<thead/>").appendTo(p)),v.nTHead=a[0];var l=p.children("tbody");0===l.length&&(l=t("<tbody/>").insertAfter(a)),v.nTBody=l[0];var c=p.children("tfoot");if(0===c.length&&r.length>0&&(""!==v.oScroll.sX||""!==v.oScroll.sY)&&(c=t("<tfoot/>").appendTo(p)),0===c.length||0===c.children().length?p.addClass(y.sNoFooter):c.length>0&&(v.nTFoot=c[0],dt(v.aoFooter,v.nTFoot)),o.aaData)for(s=0;s<o.aaData.length;s++)U(v,o.aaData[s]);else(v.bDeferLoading||"dom"==ge(v))&&Z(v,t(v.nTBody).children("tr"));v.aiDisplay=v.aiDisplayMaster.slice(),v.bInitialised=!0,!1===h&&Mt(v)};pe(v,"aoDrawCallback",se,"state_save"),o.bStateSave?(P.bStateSave=!0,re(v,o,E)):E()}else ce(null,0,"Non-table node initialisation ("+this.nodeName+")",2)})),r=null,this},c={},u=/[\r\n\u2028]/g,h=/<.*?>/g,d=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,p=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/['\u00A0,$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,m=function(t){return!t||!0===t||"-"===t},_=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},g=function(t,e){return c[e]||(c[e]=new RegExp(Tt(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(c[e],"."):t},v=function(t,e,n){var i="string"==typeof t;return!!m(t)||(e&&i&&(t=g(t,e)),n&&i&&(t=t.replace(f,"")),!isNaN(parseFloat(t))&&isFinite(t))},y=function(t,e,n){if(m(t))return!0;var i=function(t){return m(t)||"string"==typeof t}(t);return i&&!!v(S(t),e,n)||null},b=function(t,e,n){var o=[],s=0,r=t.length;if(n!==i)for(;s<r;s++)t[s]&&t[s][e]&&o.push(t[s][e][n]);else for(;s<r;s++)t[s]&&o.push(t[s][e]);return o},w=function(t,e,n,o){var s=[],r=0,a=e.length;if(o!==i)for(;r<a;r++)t[e[r]][n]&&s.push(t[e[r]][n][o]);else for(;r<a;r++)s.push(t[e[r]][n]);return s},x=function(t,e){var n,o=[];e===i?(e=0,n=t):(n=e,e=t);for(var s=e;s<n;s++)o.push(s);return o},k=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},S=function(t){return t.replace(h,"")},T=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),n=e[0],i=1,o=e.length;i<o;i++){if(e[i]===n)return!1;n=e[i]}return!0}(t))return t.slice();var e,n,i,o=[],s=t.length,r=0;t:for(n=0;n<s;n++){for(e=t[n],i=0;i<r;i++)if(o[i]===e)continue t;o.push(e),r++}return o},C=function(t,e){if(Array.isArray(e))for(var n=0;n<e.length;n++)C(t,e[n]);else t.push(e);return t},L=function(t,e){return e===i&&(e=0),-1!==this.indexOf(t,e)};function P(e){var n,i,o={};t.each(e,(function(t,s){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),o[i]=t,"o"===n[1]&&P(e[t]))})),e._hungarianMap=o}function A(e,n,o){var s;e._hungarianMap||P(e),t.each(n,(function(r,a){(s=e._hungarianMap[r])===i||!o&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[r]),A(e[s],n[s],o)):n[s]=n[r])}))}function $(t){var e=l.defaults.oLanguage,n=e.sDecimal;if(n&&Ne(n),t){var i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&ue(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&ue(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var o=t.sDecimal;o&&n!==o&&Ne(o)}}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.includes||(Array.prototype.includes=L),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=L),l.util={throttle:function(t,e){var n,o,s=e!==i?e:200;return function(){var e=this,r=+new Date,a=arguments;n&&r<n+s?(clearTimeout(o),o=setTimeout((function(){n=i,t.apply(e,a)}),s)):(n=r,t.apply(e,a))}},escapeRegex:function(t){return t.replace(p,"\\$1")},set:function(e){if(t.isPlainObject(e))return l.util.set(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){t[e]=n};var n=function(t,e,o){for(var s,r,a,l,c,u=X(o),h=u[u.length-1],d=0,p=u.length-1;d<p;d++){if("__proto__"===u[d]||"constructor"===u[d])throw new Error("Cannot set prototype values");if(r=u[d].match(G),a=u[d].match(J),r){if(u[d]=u[d].replace(G,""),t[u[d]]=[],(s=u.slice()).splice(0,d+1),c=s.join("."),Array.isArray(e))for(var f=0,m=e.length;f<m;f++)n(l={},e[f],c),t[u[d]].push(l);else t[u[d]]=e;return}a&&(u[d]=u[d].replace(J,""),t=t[u[d]](e)),null!==t[u[d]]&&t[u[d]]!==i||(t[u[d]]={}),t=t[u[d]]}h.match(J)?t=t[h.replace(J,"")](e):t[h.replace(G,"")]=e};return function(t,i){return n(t,i,e)}},get:function(e){if(t.isPlainObject(e)){var n={};return t.each(e,(function(t,e){e&&(n[t]=l.util.get(e))})),function(t,e,o,s){var r=n[e]||n._;return r!==i?r(t,e,o,s):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,i,o){return e(t,n,i,o)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,n){return t[e]};var o=function(t,e,n){var s,r,a,l;if(""!==n)for(var c=X(n),u=0,h=c.length;u<h;u++){if(s=c[u].match(G),r=c[u].match(J),s){if(c[u]=c[u].replace(G,""),""!==c[u]&&(t=t[c[u]]),a=[],c.splice(0,u+1),l=c.join("."),Array.isArray(t))for(var d=0,p=t.length;d<p;d++)a.push(o(t[d],e,l));var f=s[0].substring(1,s[0].length-1);t=""===f?a:a.join(f);break}if(r)c[u]=c[u].replace(J,""),t=t[c[u]]();else{if(null===t||t[c[u]]===i)return i;t=t[c[u]]}}return t};return function(t,n){return o(t,n,e)}}};var E=function(t,e,n){t[e]!==i&&(t[n]=t[e])};function D(t){E(t,"ordering","bSort"),E(t,"orderMulti","bSortMulti"),E(t,"orderClasses","bSortClasses"),E(t,"orderCellsTop","bSortCellsTop"),E(t,"order","aaSorting"),E(t,"orderFixed","aaSortingFixed"),E(t,"paging","bPaginate"),E(t,"pagingType","sPaginationType"),E(t,"pageLength","iDisplayLength"),E(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&A(l.models.oSearch,e[n])}function I(t){E(t,"orderable","bSortable"),E(t,"orderData","aDataSort"),E(t,"orderSequence","asSorting"),E(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||Array.isArray(e)||(t.aDataSort=[e])}function M(n){if(!l.__browser){var i={};l.__browser=i;var o=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),s=o.children(),r=s.children();i.barWidth=s[0].offsetWidth-s[0].clientWidth,i.bScrollOversize=100===r[0].offsetWidth&&100!==s[0].clientWidth,i.bScrollbarLeft=1!==Math.round(r.offset().left),i.bBounding=!!o[0].getBoundingClientRect().width,o.remove()}t.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function O(t,e,n,o,s,r){var a,l=o,c=!1;for(n!==i&&(a=n,c=!0);l!==s;)t.hasOwnProperty(l)&&(a=c?e(a,t[l],l,t):t[l],c=!0,l+=r);return a}function N(e,i){var o=l.defaults.column,s=e.aoColumns.length,r=t.extend({},l.models.oColumn,o,{nTh:i||n.createElement("th"),sTitle:o.sTitle?o.sTitle:i?i.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[s],mData:o.mData?o.mData:s,idx:s});e.aoColumns.push(r);var a=e.aoPreSearchCols;a[s]=t.extend({},l.models.oSearch,a[s]),j(e,s,t(i).data())}function j(e,n,o){var s=e.aoColumns[n],r=e.oClasses,a=t(s.nTh);if(!s.sWidthOrig){s.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(s.sWidthOrig=c[1])}if(o!==i&&null!==o){I(o),A(l.defaults.column,o,!0),o.mDataProp===i||o.mData||(o.mData=o.mDataProp),o.sType&&(s._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),o.sClass&&a.addClass(o.sClass);var u=s.sClass;t.extend(s,o),ue(s,o,"sWidth","sWidthOrig"),u!==s.sClass&&(s.sClass=u+" "+s.sClass),o.iDataSort!==i&&(s.aDataSort=[o.iDataSort]),ue(s,o,"aDataSort")}var h=s.mData,d=Y(h),p=s.mRender?Y(s.mRender):null,f=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};s._bAttrSrc=t.isPlainObject(h)&&(f(h.sort)||f(h.type)||f(h.filter)),s._setter=null,s.fnGetData=function(t,e,n){var o=d(t,e,i,n);return p&&e?p(o,e,t,n):o},s.fnSetData=function(t,e,n){return Q(h)(t,e,n)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(s.bSortable=!1,a.addClass(r.sSortableNone));var m=-1!==t.inArray("asc",s.asSorting),_=-1!==t.inArray("desc",s.asSorting);s.bSortable&&(m||_)?m&&!_?(s.sSortingClass=r.sSortableAsc,s.sSortingClassJUI=r.sSortJUIAscAllowed):!m&&_?(s.sSortingClass=r.sSortableDesc,s.sSortingClassJUI=r.sSortJUIDescAllowed):(s.sSortingClass=r.sSortable,s.sSortingClassJUI=r.sSortJUI):(s.sSortingClass=r.sSortableNone,s.sSortingClassJUI="")}function B(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;Zt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}var o=t.oScroll;""===o.sY&&""===o.sX||qt(t),fe(t,null,"column-sizing",[t])}function F(t,e){var n=H(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function z(e,n){var i=H(e,"bVisible"),o=t.inArray(n,i);return-1!==o?o:null}function R(e){var n=0;return t.each(e.aoColumns,(function(e,i){i.bVisible&&"none"!==t(i.nTh).css("display")&&n++})),n}function H(e,n){var i=[];return t.map(e.aoColumns,(function(t,e){t[n]&&i.push(e)})),i}function q(t){var e,n,o,s,r,a,c,u,h,d=t.aoColumns,p=t.aoData,f=l.ext.type.detect;for(e=0,n=d.length;e<n;e++)if(h=[],!(c=d[e]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(o=0,s=f.length;o<s;o++){for(r=0,a=p.length;r<a&&(h[r]===i&&(h[r]=V(t,r,e,"type")),(u=f[o](h[r],t))||o===f.length-1)&&("html"!==u||m(h[r]));r++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function W(e,n,o,s){var r,a,l,c,u,h,d,p=e.aoColumns;if(n)for(r=n.length-1;r>=0;r--){var f=(d=n[r]).target!==i?d.target:d.targets!==i?d.targets:d.aTargets;for(Array.isArray(f)||(f=[f]),l=0,c=f.length;l<c;l++)if("number"==typeof f[l]&&f[l]>=0){for(;p.length<=f[l];)N(e);s(f[l],d)}else if("number"==typeof f[l]&&f[l]<0)s(p.length+f[l],d);else if("string"==typeof f[l])for(u=0,h=p.length;u<h;u++)("_all"==f[l]||t(p[u].nTh).hasClass(f[l]))&&s(u,d)}if(o)for(r=0,a=o.length;r<a;r++)s(r,o[r])}function U(e,n,o,s){var r=e.aoData.length,a=t.extend(!0,{},l.models.oRow,{src:o?"dom":"data",idx:r});a._aData=n,e.aoData.push(a);for(var c=e.aoColumns,u=0,h=c.length;u<h;u++)c[u].sType=null;e.aiDisplayMaster.push(r);var d=e.rowIdFn(n);return d!==i&&(e.aIds[d]=a),!o&&e.oFeatures.bDeferRender||st(e,r,o,s),r}function Z(e,n){var i;return n instanceof t||(n=t(n)),n.map((function(t,n){return i=ot(e,n),U(e,i.data,n,i.cells)}))}function V(t,e,n,o){"search"===o?o="filter":"order"===o&&(o="sort");var s=t.iDraw,r=t.aoColumns[n],a=t.aoData[e]._aData,c=r.sDefaultContent,u=r.fnGetData(a,o,{settings:t,row:e,col:n});if(u===i)return t.iDrawError!=s&&null===c&&(ce(t,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=s),c;if(u!==a&&null!==u||null===c||o===i){if("function"==typeof u)return u.call(a)}else u=c;if(null===u&&"display"===o)return"";if("filter"===o){var h=l.ext.type.search;h[r.sType]&&(u=h[r.sType](u))}return u}function K(t,e,n,i){var o=t.aoColumns[n],s=t.aoData[e]._aData;o.fnSetData(s,i,{settings:t,row:e,col:n})}var G=/\[.*?\]$/,J=/\(\)$/;function X(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],(function(t){return t.replace(/\\\./g,".")}))}var Y=l.util.get,Q=l.util.set;function tt(t){return b(t.aoData,"_aData")}function et(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function nt(t,e,n){for(var o=-1,s=0,r=t.length;s<r;s++)t[s]==e?o=s:t[s]>e&&t[s]--;-1!=o&&n===i&&t.splice(o,1)}function it(t,e,n,o){var s,r,a=t.aoData[e],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=V(t,e,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var c=a.anCells;if(c)if(o!==i)l(c[o],o);else for(s=0,r=c.length;s<r;s++)l(c[s],s)}else a._aData=ot(t,a,o,o===i?i:a._aData).data;a._aSortData=null,a._aFilterData=null;var u=t.aoColumns;if(o!==i)u[o].sType=null;else{for(s=0,r=u.length;s<r;s++)u[s].sType=null;rt(t,a)}}function ot(t,e,n,o){var s,r,a,l=[],c=e.firstChild,u=0,h=t.aoColumns,d=t._rowReadObject;o=o!==i?o:d?{}:[];var p=function(t,e){if("string"==typeof t){var n=t.indexOf("@");if(-1!==n){var i=t.substring(n+1);Q(t)(o,e.getAttribute(i))}}},f=function(t){n!==i&&n!==u||(r=h[u],a=t.innerHTML.trim(),r&&r._bAttrSrc?(Q(r.mData._)(o,a),p(r.mData.sort,t),p(r.mData.type,t),p(r.mData.filter,t)):d?(r._setter||(r._setter=Q(r.mData)),r._setter(o,a)):o[u]=a);u++};if(c)for(;c;)"TD"!=(s=c.nodeName.toUpperCase())&&"TH"!=s||(f(c),l.push(c)),c=c.nextSibling;else for(var m=0,_=(l=e.anCells).length;m<_;m++)f(l[m]);var g=e.firstChild?e:e.nTr;if(g){var v=g.getAttribute("id");v&&Q(t.rowId)(o,v)}return{data:o,cells:l}}function st(e,i,o,s){var r,a,l,c,u,h,d=e.aoData[i],p=d._aData,f=[];if(null===d.nTr){for(r=o||n.createElement("tr"),d.nTr=r,d.anCells=f,r._DT_RowIndex=i,rt(e,d),c=0,u=e.aoColumns.length;c<u;c++)l=e.aoColumns[c],(a=(h=!o)?n.createElement(l.sCellType):s[c])||ce(e,0,"Incorrect column count",18),a._DT_CellIndex={row:i,column:c},f.push(a),!h&&(!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display")||(a.innerHTML=V(e,i,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!o?r.appendChild(a):!l.bVisible&&o&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,V(e,i,c),p,i,c);fe(e,"aoRowCreatedCallback",null,[r,p,i,f])}}function rt(e,n){var i=n.nTr,o=n._aData;if(i){var s=e.rowIdFn(o);if(s&&(i.id=s),o.DT_RowClass){var r=o.DT_RowClass.split(" ");n.__rowc=n.__rowc?T(n.__rowc.concat(r)):r,t(i).removeClass(n.__rowc.join(" ")).addClass(o.DT_RowClass)}o.DT_RowAttr&&t(i).attr(o.DT_RowAttr),o.DT_RowData&&t(i).data(o.DT_RowData)}}function at(e){var n,i,o,s,r,a=e.nTHead,l=e.nTFoot,c=0===t("th, td",a).length,u=e.oClasses,h=e.aoColumns;for(c&&(s=t("<tr/>").appendTo(a)),n=0,i=h.length;n<i;n++)r=h[n],o=t(r.nTh).addClass(r.sClass),c&&o.appendTo(s),e.oFeatures.bSort&&(o.addClass(r.sSortingClass),!1!==r.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),ne(e,r.nTh,n))),r.sTitle!=o[0].innerHTML&&o.html(r.sTitle),_e(e,"header")(e,o,r,u);if(c&&dt(e.aoHeader,a),t(a).children("tr").children("th, td").addClass(u.sHeaderTH),t(l).children("tr").children("th, td").addClass(u.sFooterTH),null!==l){var d=e.aoFooter[0];for(n=0,i=d.length;n<i;n++)(r=h[n])?(r.nTf=d[n].cell,r.sClass&&t(r.nTf).addClass(r.sClass)):ce(e,0,"Incorrect column count",18)}}function lt(e,n,o){var s,r,a,l,c,u,h,d,p,f=[],m=[],_=e.aoColumns.length;if(n){for(o===i&&(o=!1),s=0,r=n.length;s<r;s++){for(f[s]=n[s].slice(),f[s].nTr=n[s].nTr,a=_-1;a>=0;a--)e.aoColumns[a].bVisible||o||f[s].splice(a,1);m.push([])}for(s=0,r=f.length;s<r;s++){if(h=f[s].nTr)for(;u=h.firstChild;)h.removeChild(u);for(a=0,l=f[s].length;a<l;a++)if(d=1,p=1,m[s][a]===i){for(h.appendChild(f[s][a].cell),m[s][a]=1;f[s+d]!==i&&f[s][a].cell==f[s+d][a].cell;)m[s+d][a]=1,d++;for(;f[s][a+p]!==i&&f[s][a].cell==f[s][a+p].cell;){for(c=0;c<d;c++)m[s+c][a+p]=1;p++}t(f[s][a].cell).attr("rowspan",d).attr("colspan",p)}}}}function ct(e,n){!function(t){var e="ssp"==ge(t),n=t.iInitDisplayStart;n!==i&&-1!==n&&(t._iDisplayStart=e?n:n>=t.fnRecordsDisplay()?0:n,t.iInitDisplayStart=-1)}(e);var o=fe(e,"aoPreDrawCallback","preDraw",[e]);if(-1===t.inArray(!1,o)){var s=[],r=0,a=e.asStripeClasses,l=a.length,c=e.oLanguage,u="ssp"==ge(e),h=e.aiDisplay,d=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDrawing=!0,e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Rt(e,!1);else if(u){if(!e.bDestroying&&!n)return void mt(e)}else e.iDraw++;if(0!==h.length)for(var f=u?0:d,m=u?e.aoData.length:p,_=f;_<m;_++){var g=h[_],v=e.aoData[g];null===v.nTr&&st(e,g);var y=v.nTr;if(0!==l){var b=a[r%l];v._sRowStripe!=b&&(t(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}fe(e,"aoRowCallback",null,[y,v._aData,r,_,g]),s.push(y),r++}else{var w=c.sZeroRecords;1==e.iDraw&&"ajax"==ge(e)?w=c.sLoadingRecords:c.sEmptyTable&&0===e.fnRecordsTotal()&&(w=c.sEmptyTable),s[0]=t("<tr/>",{class:l?a[0]:""}).append(t("<td />",{valign:"top",colSpan:R(e),class:e.oClasses.sRowEmpty}).html(w))[0]}fe(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],tt(e),d,p,h]),fe(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],tt(e),d,p,h]);var x=t(e.nTBody);x.children().detach(),x.append(t(s)),fe(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Rt(e,!1)}function ut(t,e){var n=t.oFeatures,i=n.bSort,o=n.bFilter;i&&Qt(t),o?bt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,ct(t),t._drawHold=!1}function ht(e){var n=e.oClasses,i=t(e.nTable),o=t("<div/>").insertBefore(i),s=e.oFeatures,r=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=o[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,c,u,h,d,p,f=e.sDom.split(""),m=0;m<f.length;m++){if(a=null,"<"==(c=f[m])){if(u=t("<div/>")[0],"'"==(h=f[m+1])||'"'==h){for(d="",p=2;f[m+p]!=h;)d+=f[m+p],p++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")){var _=d.split(".");u.id=_[0].substr(1,_[0].length-1),u.className=_[1]}else"#"==d.charAt(0)?u.id=d.substr(1,d.length-1):u.className=d;m+=p}r.append(u),r=t(u)}else if(">"==c)r=r.parent();else if("l"==c&&s.bPaginate&&s.bLengthChange)a=jt(e);else if("f"==c&&s.bFilter)a=yt(e);else if("r"==c&&s.bProcessing)a=zt(e);else if("t"==c)a=Ht(e);else if("i"==c&&s.bInfo)a=Et(e);else if("p"==c&&s.bPaginate)a=Bt(e);else if(0!==l.ext.feature.length)for(var g=l.ext.feature,v=0,y=g.length;v<y;v++)if(c==g[v].cFeature){a=g[v].fnInit(e);break}if(a){var b=e.aanFeatures;b[c]||(b[c]=[]),b[c].push(a),r.append(a)}}o.replaceWith(r),e.nHolding=null}function dt(e,n){var i,o,s,r,a,l,c,u,h,d,p=t(n).children("tr"),f=function(t,e,n){for(var i=t[e];i[n];)n++;return n};for(e.splice(0,e.length),s=0,l=p.length;s<l;s++)e.push([]);for(s=0,l=p.length;s<l;s++)for(0,o=(i=p[s]).firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase())for(u=(u=1*o.getAttribute("colspan"))&&0!==u&&1!==u?u:1,h=(h=1*o.getAttribute("rowspan"))&&0!==h&&1!==h?h:1,c=f(e,s,0),d=1===u,a=0;a<u;a++)for(r=0;r<h;r++)e[s+r][c+a]={cell:o,unique:d},e[s+r].nTr=i;o=o.nextSibling}}function pt(t,e,n){var i=[];n||(n=t.aoHeader,e&&dt(n=[],e));for(var o=0,s=n.length;o<s;o++)for(var r=0,a=n[o].length;r<a;r++)!n[o][r].unique||i[r]&&t.bSortCellsTop||(i[r]=n[o][r].cell);return i}function ft(e,n,i){if(fe(e,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var o={},s=/(.*?)\[\]$/;t.each(n,(function(t,e){var n=e.name.match(s);if(n){var i=n[0];o[i]||(o[i]=[]),o[i].push(e.value)}else o[e.name]=e.value})),n=o}var r,a=e.ajax,l=e.oInstance,c=function(t){var n=e.jqXHR?e.jqXHR.status:null;(null===t||"number"==typeof n&&204==n)&&vt(e,t={},[]);var o=t.error||t.sError;o&&ce(e,0,o),e.json=t,fe(e,null,"xhr",[e,t,e.jqXHR]),i(t)};if(t.isPlainObject(a)&&a.data){var u="function"==typeof(r=a.data)?r(n,e):r;n="function"==typeof r&&u?u:t.extend(!0,n,u),delete a.data}var h={data:n,success:c,dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,i,o){var s=fe(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==i?ce(e,0,"Invalid JSON response",1):4===n.readyState&&ce(e,0,"Ajax error",7)),Rt(e,!1)}};e.oAjaxData=n,fe(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,(function(t,e){return{name:e,value:t}})),c,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(h,{url:a||e.sAjaxSource})):"function"==typeof a?e.jqXHR=a.call(l,n,c,e):(e.jqXHR=t.ajax(t.extend(h,a)),a.data=r)}function mt(t){t.iDraw++,Rt(t,!0),ft(t,_t(t),(function(e){gt(t,e)}))}function _t(e){var n,i,o,s,r=e.aoColumns,a=r.length,c=e.oFeatures,u=e.oPreviousSearch,h=e.aoPreSearchCols,d=[],p=Yt(e),f=e._iDisplayStart,m=!1!==c.bPaginate?e._iDisplayLength:-1,_=function(t,e){d.push({name:t,value:e})};_("sEcho",e.iDraw),_("iColumns",a),_("sColumns",b(r,"sName").join(",")),_("iDisplayStart",f),_("iDisplayLength",m);var g={draw:e.iDraw,columns:[],order:[],start:f,length:m,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<a;n++)o=r[n],s=h[n],i="function"==typeof o.mData?"function":o.mData,g.columns.push({data:i,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),_("mDataProp_"+n,i),c.bFilter&&(_("sSearch_"+n,s.sSearch),_("bRegex_"+n,s.bRegex),_("bSearchable_"+n,o.bSearchable)),c.bSort&&_("bSortable_"+n,o.bSortable);c.bFilter&&(_("sSearch",u.sSearch),_("bRegex",u.bRegex)),c.bSort&&(t.each(p,(function(t,e){g.order.push({column:e.col,dir:e.dir}),_("iSortCol_"+t,e.col),_("sSortDir_"+t,e.dir)})),_("iSortingCols",p.length));var v=l.ext.legacy.ajax;return null===v?e.sAjaxSource?d:g:v?d:g}function gt(t,e){var n=function(t,n){return e[t]!==i?e[t]:e[n]},o=vt(t,e),s=n("sEcho","draw"),r=n("iTotalRecords","recordsTotal"),a=n("iTotalDisplayRecords","recordsFiltered");if(s!==i){if(1*s<t.iDraw)return;t.iDraw=1*s}o||(o=[]),et(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(a,10);for(var l=0,c=o.length;l<c;l++)U(t,o[l]);t.aiDisplay=t.aiDisplayMaster.slice(),ct(t,!0),t._bInitComplete||Ot(t,e),Rt(t,!1)}function vt(e,n,o){var s=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;if(!o)return"data"===s?n.aaData||n[s]:""!==s?Y(s)(n):n;Q(s)(n,o)}function yt(e){var i=e.oClasses,o=e.sTableId,s=e.oLanguage,r=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=s.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=t("<div/>",{id:a.f?null:o+"_filter",class:i.sFilter}).append(t("<label/>").append(c)),h=function(t){a.f;var n=this.value?this.value:"";r.return&&"Enter"!==t.key||n!=r.sSearch&&(bt(e,{sSearch:n,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive,return:r.return}),e._iDisplayStart=0,ct(e))},d=null!==e.searchDelay?e.searchDelay:"ssp"===ge(e)?400:0,p=t("input",u).val(r.sSearch).attr("placeholder",s.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",d?Vt(h,d):h).on("mouseup",(function(t){setTimeout((function(){h.call(p[0],t)}),10)})).on("keypress.DT",(function(t){if(13==t.keyCode)return!1})).attr("aria-controls",o);return t(e.nTable).on("search.dt.DT",(function(t,i){if(e===i)try{p[0]!==n.activeElement&&p.val(r.sSearch)}catch(t){}})),u[0]}function bt(t,e,n){var o=t.oPreviousSearch,s=t.aoPreSearchCols,r=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive,o.return=t.return},a=function(t){return t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex};if(q(t),"ssp"!=ge(t)){kt(t,e.sSearch,n,a(e),e.bSmart,e.bCaseInsensitive,e.return),r(e);for(var l=0;l<s.length;l++)xt(t,s[l].sSearch,l,a(s[l]),s[l].bSmart,s[l].bCaseInsensitive);wt(t)}else r(e);t.bFiltered=!0,fe(t,null,"search",[t])}function wt(e){for(var n,i,o=l.ext.search,s=e.aiDisplay,r=0,a=o.length;r<a;r++){for(var c=[],u=0,h=s.length;u<h;u++)i=s[u],n=e.aoData[i],o[r](e,n._aFilterData,i,n._aData,u)&&c.push(i);s.length=0,t.merge(s,c)}}function xt(t,e,n,i,o,s){if(""!==e){for(var r,a=[],l=t.aiDisplay,c=St(e,i,o,s),u=0;u<l.length;u++)r=t.aoData[l[u]]._aFilterData[n],c.test(r)&&a.push(l[u]);t.aiDisplay=a}}function kt(t,e,n,i,o,s){var r,a,c,u=St(e,i,o,s),h=t.oPreviousSearch.sSearch,d=t.aiDisplayMaster,p=[];if(0!==l.ext.search.length&&(n=!0),a=Pt(t),e.length<=0)t.aiDisplay=d.slice();else{for((a||n||i||h.length>e.length||0!==e.indexOf(h)||t.bSorted)&&(t.aiDisplay=d.slice()),r=t.aiDisplay,c=0;c<r.length;c++)u.test(t.aoData[r[c]]._sFilterRow)&&p.push(r[c]);t.aiDisplay=p}}function St(e,n,i,o){if(e=n?e:Tt(e),i){var s=t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],(function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}));e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,o?"i":"")}var Tt=l.util.escapeRegex,Ct=t("<div>")[0],Lt=Ct.textContent!==i;function Pt(t){var e,n,i,o,s,r,a,l=t.aoColumns,c=!1;for(e=0,i=t.aoData.length;e<i;e++)if(!(a=t.aoData[e])._aFilterData){for(s=[],n=0,o=l.length;n<o;n++)l[n].bSearchable?(null===(r=V(t,e,n,"filter"))&&(r=""),"string"!=typeof r&&r.toString&&(r=r.toString())):r="",r.indexOf&&-1!==r.indexOf("&")&&(Ct.innerHTML=r,r=Lt?Ct.textContent:Ct.innerText),r.replace&&(r=r.replace(/[\r\n\u2028]/g,"")),s.push(r);a._aFilterData=s,a._sFilterRow=s.join("  "),c=!0}return c}function At(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function $t(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Et(e){var n=e.sTableId,i=e.aanFeatures.i,o=t("<div/>",{class:e.oClasses.sInfo,id:i?null:n+"_info"});return i||(e.aoDrawCallback.push({fn:Dt,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),o[0]}function Dt(e){var n=e.aanFeatures.i;if(0!==n.length){var i=e.oLanguage,o=e._iDisplayStart+1,s=e.fnDisplayEnd(),r=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?i.sInfo:i.sInfoEmpty;a!==r&&(l+=" "+i.sInfoFiltered),l=It(e,l+=i.sInfoPostFix);var c=i.fnInfoCallback;null!==c&&(l=c.call(e.oInstance,e,o,s,r,a,l)),t(n).html(l)}}function It(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,o=t._iDisplayLength,s=t.fnRecordsDisplay(),r=-1===o;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,s)).replace(/_PAGE_/g,n.call(t,r?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(t,r?1:Math.ceil(s/o)))}function Mt(t){var e,n,i,o=t.iInitDisplayStart,s=t.aoColumns,r=t.oFeatures,a=t.bDeferLoading;if(t.bInitialised){for(ht(t),at(t),lt(t,t.aoHeader),lt(t,t.aoFooter),Rt(t,!0),r.bAutoWidth&&Zt(t),e=0,n=s.length;e<n;e++)(i=s[e]).sWidth&&(i.nTh.style.width=Xt(i.sWidth));fe(t,null,"preInit",[t]),ut(t);var l=ge(t);("ssp"!=l||a)&&("ajax"==l?ft(t,[],(function(n){var i=vt(t,n);for(e=0;e<i.length;e++)U(t,i[e]);t.iInitDisplayStart=o,ut(t),Rt(t,!1),Ot(t,n)})):(Rt(t,!1),Ot(t)))}else setTimeout((function(){Mt(t)}),200)}function Ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&B(t),fe(t,null,"plugin-init",[t,e]),fe(t,"aoInitComplete","init",[t,e])}function Nt(t,e){var n=parseInt(e,10);t._iDisplayLength=n,me(t),fe(t,null,"length",[t,n])}function jt(e){for(var n=e.oClasses,i=e.sTableId,o=e.aLengthMenu,s=Array.isArray(o[0]),r=s?o[0]:o,a=s?o[1]:o,l=t("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),c=0,u=r.length;c<u;c++)l[0][c]=new Option("number"==typeof a[c]?e.fnFormatNumber(a[c]):a[c],r[c]);var h=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(h[0].id=i+"_length"),h.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),t("select",h).val(e._iDisplayLength).on("change.DT",(function(n){Nt(e,t(this).val()),ct(e)})),t(e.nTable).on("length.dt.DT",(function(n,i,o){e===i&&t("select",h).val(o)})),h[0]}function Bt(e){var n=e.sPaginationType,i=l.ext.pager[n],o="function"==typeof i,s=function(t){ct(t)},r=t("<div/>").addClass(e.oClasses.sPaging+n)[0],a=e.aanFeatures;return o||i.fnInit(e,r,s),a.p||(r.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(o){var e,n,r=t._iDisplayStart,l=t._iDisplayLength,c=t.fnRecordsDisplay(),u=-1===l,h=u?0:Math.ceil(r/l),d=u?1:Math.ceil(c/l),p=i(h,d);for(e=0,n=a.p.length;e<n;e++)_e(t,"pageButton")(t,a.p[e],e,p,h,d)}else i.fnUpdate(t,s)},sName:"pagination"})),r}function Ft(t,e,n){var i=t._iDisplayStart,o=t._iDisplayLength,s=t.fnRecordsDisplay();0===s||-1===o?i=0:"number"==typeof e?(i=e*o)>s&&(i=0):"first"==e?i=0:"previous"==e?(i=o>=0?i-o:0)<0&&(i=0):"next"==e?i+o<s&&(i+=o):"last"==e?i=Math.floor((s-1)/o)*o:ce(t,0,"Unknown paging action: "+e,5);var r=t._iDisplayStart!==i;return t._iDisplayStart=i,r?(fe(t,null,"page",[t]),n&&ct(t)):fe(t,null,"page-nc",[t]),r}function zt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(e.nTable)[0]}function Rt(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),fe(e,null,"processing",[e,n])}function Ht(e){var n=t(e.nTable),i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var o=i.sX,s=i.sY,r=e.oClasses,a=n.children("caption"),l=a.length?a[0]._captionSide:null,c=t(n[0].cloneNode(!1)),u=t(n[0].cloneNode(!1)),h=n.children("tfoot"),d="<div/>",p=function(t){return t?Xt(t):null};h.length||(h=null);var f=t(d,{class:r.sScrollWrapper}).append(t(d,{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?p(o):"100%"}).append(t(d,{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(n.children("thead"))))).append(t(d,{class:r.sScrollBody}).css({position:"relative",overflow:"auto",width:p(o)}).append(n));h&&f.append(t(d,{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:o?p(o):"100%"}).append(t(d,{class:r.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(n.children("tfoot")))));var m=f.children(),_=m[0],g=m[1],v=h?m[2]:null;return o&&t(g).on("scroll.DT",(function(t){var e=this.scrollLeft;_.scrollLeft=e,h&&(v.scrollLeft=e)})),t(g).css("max-height",s),i.bCollapse||t(g).css("height",s),e.nScrollHead=_,e.nScrollBody=g,e.nScrollFoot=v,e.aoDrawCallback.push({fn:qt,sName:"scrolling"}),f[0]}function qt(n){var o,s,r,a,l,c,u,h,d,p=n.oScroll,f=p.sX,m=p.sXInner,_=p.sY,g=p.iBarWidth,v=t(n.nScrollHead),y=v[0].style,w=v.children("div"),x=w[0].style,k=w.children("table"),S=n.nScrollBody,T=t(S),C=S.style,L=t(n.nScrollFoot).children("div"),P=L.children("table"),A=t(n.nTHead),$=t(n.nTable),E=$[0],D=E.style,I=n.nTFoot?t(n.nTFoot):null,M=n.oBrowser,O=M.bScrollOversize,N=(b(n.aoColumns,"nTh"),[]),j=[],z=[],R=[],H=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},q=S.scrollHeight>S.clientHeight;if(n.scrollBarVis!==q&&n.scrollBarVis!==i)return n.scrollBarVis=q,void B(n);n.scrollBarVis=q,$.children("thead, tfoot").remove(),I&&(c=I.clone().prependTo($),s=I.find("tr"),a=c.find("tr"),c.find("[id]").removeAttr("id")),l=A.clone().prependTo($),o=A.find("tr"),r=l.find("tr"),l.find("th, td").removeAttr("tabindex"),l.find("[id]").removeAttr("id"),f||(C.width="100%",v[0].style.width="100%"),t.each(pt(n,l),(function(t,e){u=F(n,t),e.style.width=n.aoColumns[u].sWidth})),I&&Wt((function(t){t.style.width=""}),a),d=$.outerWidth(),""===f?(D.width="100%",O&&($.find("tbody").height()>S.offsetHeight||"scroll"==T.css("overflow-y"))&&(D.width=Xt($.outerWidth()-g)),d=$.outerWidth()):""!==m&&(D.width=Xt(m),d=$.outerWidth()),Wt(H,r),Wt((function(n){var i=e.getComputedStyle?e.getComputedStyle(n).width:Xt(t(n).width());z.push(n.innerHTML),N.push(i)}),r),Wt((function(t,e){t.style.width=N[e]}),o),t(r).css("height",0),I&&(Wt(H,a),Wt((function(e){R.push(e.innerHTML),j.push(Xt(t(e).css("width")))}),a),Wt((function(t,e){t.style.width=j[e]}),s),t(a).height(0)),Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+z[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=N[e]}),r),I&&Wt((function(t,e){t.innerHTML='<div class="dataTables_sizing">'+R[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=j[e]}),a),Math.round($.outerWidth())<Math.round(d)?(h=S.scrollHeight>S.offsetHeight||"scroll"==T.css("overflow-y")?d+g:d,O&&(S.scrollHeight>S.offsetHeight||"scroll"==T.css("overflow-y"))&&(D.width=Xt(h-g)),""!==f&&""===m||ce(n,1,"Possible column misalignment",6)):h="100%",C.width=Xt(h),y.width=Xt(h),I&&(n.nScrollFoot.style.width=Xt(h)),_||O&&(C.height=Xt(E.offsetHeight+g));var W=$.outerWidth();k[0].style.width=Xt(W),x.width=Xt(W);var U=$.height()>S.clientHeight||"scroll"==T.css("overflow-y"),Z="padding"+(M.bScrollbarLeft?"Left":"Right");x[Z]=U?g+"px":"0px",I&&(P[0].style.width=Xt(W),L[0].style.width=Xt(W),L[0].style[Z]=U?g+"px":"0px"),$.children("colgroup").insertBefore($.children("thead")),T.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(S.scrollTop=0)}function Wt(t,e,n){for(var i,o,s=0,r=0,a=e.length;r<a;){for(i=e[r].firstChild,o=n?n[r].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,s):t(i,s),s++),i=i.nextSibling,o=n?o.nextSibling:null;r++}}var Ut=/<.*?>/g;function Zt(n){var i,o,s,r=n.nTable,a=n.aoColumns,l=n.oScroll,c=l.sY,u=l.sX,h=l.sXInner,d=a.length,p=H(n,"bVisible"),f=t("th",n.nTHead),m=r.getAttribute("width"),_=r.parentNode,g=!1,v=n.oBrowser,y=v.bScrollOversize,b=r.style.width;for(b&&-1!==b.indexOf("%")&&(m=b),i=0;i<p.length;i++)null!==(o=a[p[i]]).sWidth&&(o.sWidth=Kt(o.sWidthOrig,_),g=!0);if(y||!g&&!u&&!c&&d==R(n)&&d==f.length)for(i=0;i<d;i++){var w=F(n,i);null!==w&&(a[w].sWidth=Xt(f.eq(i).width()))}else{var x=t(r).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var k=t("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),f=pt(n,x.find("thead")[0]),i=0;i<p.length;i++)o=a[p[i]],f[i].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?Xt(o.sWidthOrig):"",o.sWidthOrig&&u&&t(f[i]).append(t("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<p.length;i++)o=a[s=p[i]],t(Gt(n,s)).clone(!1).append(o.sContentPadding).appendTo(k);t("[name]",x).removeAttr("name");var S=t("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(_);u&&h?x.width(h):u?(x.css("width","auto"),x.removeAttr("width"),x.width()<_.clientWidth&&m&&x.width(_.clientWidth)):c?x.width(_.clientWidth):m&&x.width(m);var T=0;for(i=0;i<p.length;i++){var C=t(f[i]),L=C.outerWidth()-C.width(),P=v.bBounding?Math.ceil(f[i].getBoundingClientRect().width):C.outerWidth();T+=P,a[p[i]].sWidth=Xt(P-L)}r.style.width=Xt(T),S.remove()}if(m&&(r.style.width=Xt(m)),(m||u)&&!n._reszEvt){var A=function(){t(e).on("resize.DT-"+n.sInstance,Vt((function(){B(n)})))};y?setTimeout(A,1e3):A(),n._reszEvt=!0}}var Vt=l.util.throttle;function Kt(e,i){if(!e)return 0;var o=t("<div/>").css("width",Xt(e)).appendTo(i||n.body),s=o[0].offsetWidth;return o.remove(),s}function Gt(e,n){var i=Jt(e,n);if(i<0)return null;var o=e.aoData[i];return o.nTr?o.anCells[n]:t("<td/>").html(V(e,i,n,"display"))[0]}function Jt(t,e){for(var n,i=-1,o=-1,s=0,r=t.aoData.length;s<r;s++)(n=(n=(n=V(t,s,e,"display")+"").replace(Ut,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,o=s);return o}function Xt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Yt(e){var n,o,s,r,a,c,u,h=[],d=e.aoColumns,p=e.aaSortingFixed,f=t.isPlainObject(p),m=[],_=function(e){e.length&&!Array.isArray(e[0])?m.push(e):t.merge(m,e)};for(Array.isArray(p)&&_(p),f&&p.pre&&_(p.pre),_(e.aaSorting),f&&p.post&&_(p.post),n=0;n<m.length;n++)for(o=0,s=(r=d[u=m[n][0]].aDataSort).length;o<s;o++)c=d[a=r[o]].sType||"string",m[n]._idx===i&&(m[n]._idx=t.inArray(m[n][1],d[a].asSorting)),h.push({src:u,col:a,dir:m[n][1],index:m[n]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return h}function Qt(t){var e,n,i,o,s,r=[],a=l.ext.type.order,c=t.aoData,u=(t.aoColumns,0),h=t.aiDisplayMaster;for(q(t),e=0,n=(s=Yt(t)).length;e<n;e++)(o=s[e]).formatter&&u++,oe(t,o.col);if("ssp"!=ge(t)&&0!==s.length){for(e=0,i=h.length;e<i;e++)r[h[e]]=e;u===s.length?h.sort((function(t,e){var n,i,o,a,l,u=s.length,h=c[t]._aSortData,d=c[e]._aSortData;for(o=0;o<u;o++)if(0!==(a=(n=h[(l=s[o]).col])<(i=d[l.col])?-1:n>i?1:0))return"asc"===l.dir?a:-a;return(n=r[t])<(i=r[e])?-1:n>i?1:0})):h.sort((function(t,e){var n,i,o,l,u,h=s.length,d=c[t]._aSortData,p=c[e]._aSortData;for(o=0;o<h;o++)if(n=d[(u=s[o]).col],i=p[u.col],0!==(l=(a[u.type+"-"+u.dir]||a["string-"+u.dir])(n,i)))return l;return(n=r[t])<(i=r[e])?-1:n>i?1:0}))}t.bSorted=!0}function te(t){for(var e,n,i=t.aoColumns,o=Yt(t),s=t.oLanguage.oAria,r=0,a=i.length;r<a;r++){var l=i[r],c=l.asSorting,u=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),h=l.nTh;h.removeAttribute("aria-sort"),l.bSortable?(o.length>0&&o[0].col==r?(h.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=c[o[0].index+1]||c[0]):n=c[0],e=u+("asc"===n?s.sSortAscending:s.sSortDescending)):e=u,h.setAttribute("aria-label",e)}}function ee(e,n,o,s){var r,a=e.aoColumns[n],l=e.aaSorting,c=a.asSorting,u=function(e,n){var o=e._idx;return o===i&&(o=t.inArray(e[1],c)),o+1<c.length?o+1:n?null:0};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),o&&e.oFeatures.bSortMulti){var h=t.inArray(n,b(l,"0"));-1!==h?(null===(r=u(l[h],!0))&&1===l.length&&(r=0),null===r?l.splice(h,1):(l[h][1]=c[r],l[h]._idx=r)):(l.push([n,c[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(r=u(l[0]),l.length=1,l[0][1]=c[r],l[0]._idx=r):(l.length=0,l.push([n,c[0]]),l[0]._idx=0);ut(e),"function"==typeof s&&s(e)}function ne(t,e,n,i){var o=t.aoColumns[n];de(e,{},(function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(Rt(t,!0),setTimeout((function(){ee(t,n,e.shiftKey,i),"ssp"!==ge(t)&&Rt(t,!1)}),0)):ee(t,n,e.shiftKey,i))}))}function ie(e){var n,i,o,s=e.aLastSort,r=e.oClasses.sSortColumn,a=Yt(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=s.length;n<i;n++)o=s[n].src,t(b(e.aoData,"anCells",o)).removeClass(r+(n<2?n+1:3));for(n=0,i=a.length;n<i;n++)o=a[n].src,t(b(e.aoData,"anCells",o)).addClass(r+(n<2?n+1:3))}e.aLastSort=a}function oe(t,e){var n,i,o,s=t.aoColumns[e],r=l.ext.order[s.sSortDataType];r&&(n=r.call(t.oInstance,t,e,z(t,e)));for(var a=l.ext.type.order[s.sType+"-pre"],c=0,u=t.aoData.length;c<u;c++)(i=t.aoData[c])._aSortData||(i._aSortData=[]),i._aSortData[e]&&!r||(o=r?n[c]:V(t,c,e,"sort"),i._aSortData[e]=a?a(o):o)}function se(e){if(!e._bLoadingState){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:At(e.oPreviousSearch),columns:t.map(e.aoColumns,(function(t,n){return{visible:t.bVisible,search:At(e.aoPreSearchCols[n])}}))};e.oSavedState=n,fe(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oFeatures.bStateSave&&!e.bDestroying&&e.fnStateSaveCallback.call(e.oInstance,e,n)}}function re(t,e,n){if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t,(function(e){ae(t,e,n)}));return o!==i&&ae(t,o,n),!0}n()}function ae(e,n,o){var s,r,a=e.aoColumns;e._bLoadingState=!0;var c=e._bInitComplete?new l.Api(e):null;if(!n||!n.time)return e._bLoadingState=!1,void o();var u=fe(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1!==t.inArray(!1,u))return e._bLoadingState=!1,void o();var h=e.iStateDuration;if(h>0&&n.time<+new Date-1e3*h)return e._bLoadingState=!1,void o();if(n.columns&&a.length!==n.columns.length)return e._bLoadingState=!1,void o();if(e.oLoadedState=t.extend(!0,{},n),n.length!==i&&(c?c.page.len(n.length):e._iDisplayLength=n.length),n.start!==i&&(null===c?(e._iDisplayStart=n.start,e.iInitDisplayStart=n.start):Ft(e,n.start/e._iDisplayLength)),n.order!==i&&(e.aaSorting=[],t.each(n.order,(function(t,n){e.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)}))),n.search!==i&&t.extend(e.oPreviousSearch,$t(n.search)),n.columns){for(s=0,r=n.columns.length;s<r;s++){var d=n.columns[s];d.visible!==i&&(c?c.column(s).visible(d.visible,!1):a[s].bVisible=d.visible),d.search!==i&&t.extend(e.aoPreSearchCols[s],$t(d.search))}c&&c.columns.adjust()}e._bLoadingState=!1,fe(e,"aoStateLoaded","stateLoaded",[e,n]),o()}function le(e){var n=l.settings,i=t.inArray(e,b(n,"nTable"));return-1!==i?n[i]:null}function ce(t,n,i,o){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,o&&(i+=". For more information about this error, please see http://datatables.net/tn/"+o),n)e.console&&console.log&&console.log(i);else{var s=l.ext,r=s.sErrMode||s.errMode;if(t&&fe(t,null,"error",[t,o,i]),"alert"==r)alert(i);else{if("throw"==r)throw new Error(i);"function"==typeof r&&r(t,o,i)}}}function ue(e,n,o,s){Array.isArray(o)?t.each(o,(function(t,i){Array.isArray(i)?ue(e,n,i[0],i[1]):ue(e,n,i)})):(s===i&&(s=o),n[o]!==i&&(e[s]=n[o]))}function he(e,n,i){var o;for(var s in n)n.hasOwnProperty(s)&&(o=n[s],t.isPlainObject(o)?(t.isPlainObject(e[s])||(e[s]={}),t.extend(!0,e[s],o)):i&&"data"!==s&&"aaData"!==s&&Array.isArray(o)?e[s]=o.slice():e[s]=o);return e}function de(e,n,i){t(e).on("click.DT",n,(function(n){t(e).trigger("blur"),i(n)})).on("keypress.DT",n,(function(t){13===t.which&&(t.preventDefault(),i(t))})).on("selectstart.DT",(function(){return!1}))}function pe(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function fe(e,n,i,o){var s=[];if(n&&(s=t.map(e[n].slice().reverse(),(function(t,n){return t.fn.apply(e.oInstance,o)}))),null!==i){var r=t.Event(i+".dt");t(e.nTable).trigger(r,o),s.push(r.result)}return s}function me(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||e<0)&&(e=0),t._iDisplayStart=e}function _e(e,n){var i=e.renderer,o=l.ext.renderer[n];return t.isPlainObject(i)&&i[n]?o[i[n]]||o._:"string"==typeof i&&o[i]||o._}function ge(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var ve=[],ye=Array.prototype;s=function(e,n){if(!(this instanceof s))return new s(e,n);var i=[],o=function(e){var n=function(e){var n,i,o=l.settings,s=t.map(o,(function(t,e){return t.nTable}));return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=t.inArray(e,s))?[o[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=t(e):e instanceof t&&(i=e),i?i.map((function(e){return-1!==(n=t.inArray(this,s))?o[n]:null})).toArray():void 0):[]}(e);n&&i.push.apply(i,n)};if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)o(e[r]);else o(e);this.context=T(i),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},s.extend(this,this,ve)},l.Api=s,t.extend(s.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new s(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new s(this.context,e)},flatten:function(){var t=[];return new s(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,o){var r,a,l,c,u,h,d,p,f=[],m=this.context,_=this.selector;for("string"==typeof t&&(o=n,n=e,e=t,t=!1),a=0,l=m.length;a<l;a++){var g=new s(m[a]);if("table"===e)(r=n.call(g,m[a],a))!==i&&f.push(r);else if("columns"===e||"rows"===e)(r=n.call(g,m[a],this[a],a))!==i&&f.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(d=this[a],"column-rows"===e&&(h=Te(m[a],_.opts)),c=0,u=d.length;c<u;c++)p=d[c],(r="cell"===e?n.call(g,m[a],p.row,p.column,a,c):n.call(g,m[a],p,a,c,h))!==i&&f.push(r)}if(f.length||o){var v=new s(m,t?f.concat.apply([],f):f),y=v.selector;return y.rows=_.rows,y.cols=_.cols,y.opts=_.opts,v}return this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new s(this.context,e)},pluck:function(t){let e=l.util.get(t);return this.map((function(t){return e(t)}))},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return O(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return O(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new s(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new s(this.context,T(this))},unshift:ye.unshift}),s.extend=function(t,e,n){if(n.length&&e&&(e instanceof s||e.__dt_wrapper)){var i,o,r,a=function(t,e,n){return function(){var i=e.apply(t,arguments);return s.extend(i,i,n.methodExt),i}};for(i=0,o=n.length;i<o;i++)e[(r=n[i]).name]="function"===r.type?a(t,r.val,r):"object"===r.type?{}:r.val,e[r.name].__dt_wrapper=!0,s.extend(t,e[r.name],r.propExt)}},s.register=r=function(e,n){if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)s.register(e[i],n);else{var r,a,l,c,u=e.split("."),h=ve,d=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].name===e)return t[n];return null};for(r=0,a=u.length;r<a;r++){var p=d(h,l=(c=-1!==u[r].indexOf("()"))?u[r].replace("()",""):u[r]);p||(p={name:l,val:{},methodExt:[],propExt:[],type:"object"},h.push(p)),r===a-1?(p.val=n,p.type="function"==typeof n?"function":t.isPlainObject(n)?"object":"other"):h=c?p.methodExt:p.propExt}}},s.registerPlural=a=function(t,e,n){s.register(t,n),s.register(e,(function(){var t=n.apply(this,arguments);return t===this?this:t instanceof s?t.length?Array.isArray(t[0])?new s(t.context,t[0]):t[0]:i:t}))};var be=function(e,n){if(Array.isArray(e))return t.map(e,(function(t){return be(t,n)}));if("number"==typeof e)return[n[e]];var i=t.map(n,(function(t,e){return t.nTable}));return t(i).filter(e).map((function(e){var o=t.inArray(this,i);return n[o]})).toArray()};r("tables()",(function(t){return t!==i&&null!==t?new s(be(t,this.context)):this})),r("table()",(function(t){var e=this.tables(t),n=e.context;return n.length?new s(n[0]):e})),a("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(t){return t.nTable}),1)})),a("tables().body()","table().body()",(function(){return this.iterator("table",(function(t){return t.nTBody}),1)})),a("tables().header()","table().header()",(function(){return this.iterator("table",(function(t){return t.nTHead}),1)})),a("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(t){return t.nTFoot}),1)})),a("tables().containers()","table().container()",(function(){return this.iterator("table",(function(t){return t.nTableWrapper}),1)})),r("draw()",(function(t){return this.iterator("table",(function(e){"page"===t?ct(e):("string"==typeof t&&(t="full-hold"!==t),ut(e,!1===t))}))})),r("page()",(function(t){return t===i?this.page.info().page:this.iterator("table",(function(e){Ft(e,t)}))})),r("page.info()",(function(t){if(0===this.context.length)return i;var e=this.context[0],n=e._iDisplayStart,o=e.oFeatures.bPaginate?e._iDisplayLength:-1,s=e.fnRecordsDisplay(),r=-1===o;return{page:r?0:Math.floor(n/o),pages:r?1:Math.ceil(s/o),start:n,end:e.fnDisplayEnd(),length:o,recordsTotal:e.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===ge(e)}})),r("page.len()",(function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",(function(e){Nt(e,t)}))}));var we=function(t,e,n){if(n){var i=new s(t);i.one("draw",(function(){n(i.ajax.json())}))}if("ssp"==ge(t))ut(t,e);else{Rt(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),ft(t,[],(function(n){et(t);for(var i=vt(t,n),o=0,s=i.length;o<s;o++)U(t,i[o]);ut(t,e),Rt(t,!1)}))}};r("ajax.json()",(function(){var t=this.context;if(t.length>0)return t[0].json})),r("ajax.params()",(function(){var t=this.context;if(t.length>0)return t[0].oAjaxData})),r("ajax.reload()",(function(t,e){return this.iterator("table",(function(n){we(n,!1===e,t)}))})),r("ajax.url()",(function(e){var n=this.context;return e===i?0===n.length?i:(n=n[0]).ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",(function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e}))})),r("ajax.url().load()",(function(t,e){return this.iterator("table",(function(n){we(n,!1===e,t)}))}));var xe=function(t,e,n,s,r){var a,l,c,u,h,d,p=[],f=typeof e;for(e&&"string"!==f&&"function"!==f&&e.length!==i||(e=[e]),c=0,u=e.length;c<u;c++)for(h=0,d=(l=e[c]&&e[c].split&&!e[c].match(/[\[\(:]/)?e[c].split(","):[e[c]]).length;h<d;h++)(a=n("string"==typeof l[h]?l[h].trim():l[h]))&&a.length&&(p=p.concat(a));var m=o.selector[t];if(m.length)for(c=0,u=m.length;c<u;c++)p=m[c](s,r,p);return T(p)},ke=function(e){return e||(e={}),e.filter&&e.search===i&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},Se=function(t){for(var e=0,n=t.length;e<n;e++)if(t[e].length>0)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Te=function(e,n){var i,o=[],s=e.aiDisplay,r=e.aiDisplayMaster,a=n.search,l=n.order,c=n.page;if("ssp"==ge(e))return"removed"===a?[]:x(0,r.length);if("current"==c)for(h=e._iDisplayStart,d=e.fnDisplayEnd();h<d;h++)o.push(s[h]);else if("current"==l||"applied"==l){if("none"==a)o=r.slice();else if("applied"==a)o=s.slice();else if("removed"==a){for(var u={},h=0,d=s.length;h<d;h++)u[s[h]]=null;o=t.map(r,(function(t){return u.hasOwnProperty(t)?null:t}))}}else if("index"==l||"original"==l)for(h=0,d=e.aoData.length;h<d;h++)("none"==a||-1===(i=t.inArray(h,s))&&"removed"==a||i>=0&&"applied"==a)&&o.push(h);return o};r("rows()",(function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=ke(n);var o=this.iterator("table",(function(o){return function(e,n,o){var s;return xe("row",n,(function(n){var r=_(n),a=e.aoData;if(null!==r&&!o)return[r];if(s||(s=Te(e,o)),null!==r&&-1!==t.inArray(r,s))return[r];if(null===n||n===i||""===n)return s;if("function"==typeof n)return t.map(s,(function(t){var e=a[t];return n(t,e._aData,e.nTr)?t:null}));if(n.nodeName){var l=n._DT_RowIndex,c=n._DT_CellIndex;if(l!==i)return a[l]&&a[l].nTr===n?[l]:[];if(c)return a[c.row]&&a[c.row].nTr===n.parentNode?[c.row]:[];var u=t(n).closest("*[data-dt-row]");return u.length?[u.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var h=e.aIds[n.replace(/^#/,"")];if(h!==i)return[h.idx]}var d=k(w(e.aoData,s,"nTr"));return t(d).filter(n).map((function(){return this._DT_RowIndex})).toArray()}),e,o)}(o,e,n)}),1);return o.selector.rows=e,o.selector.opts=n,o})),r("rows().nodes()",(function(){return this.iterator("row",(function(t,e){return t.aoData[e].nTr||i}),1)})),r("rows().data()",(function(){return this.iterator(!0,"rows",(function(t,e){return w(t.aoData,e,"_aData")}),1)})),a("rows().cache()","row().cache()",(function(t){return this.iterator("row",(function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData}),1)})),a("rows().invalidate()","row().invalidate()",(function(t){return this.iterator("row",(function(e,n){it(e,n,t)}))})),a("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(t,e){return e}),1)})),a("rows().ids()","row().id()",(function(t){for(var e=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,a=this[i].length;r<a;r++){var l=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);e.push((!0===t?"#":"")+l)}return new s(n,e)})),a("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(e,n,o){var s,r,a,l,c,u,h=e.aoData,d=h[n];for(h.splice(n,1),s=0,r=h.length;s<r;s++)if(u=(c=h[s]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=s),null!==u)for(a=0,l=u.length;a<l;a++)u[a]._DT_CellIndex.row=s;nt(e.aiDisplayMaster,n),nt(e.aiDisplay,n),nt(t[o],n,!1),e._iRecordsDisplay>0&&e._iRecordsDisplay--,me(e);var p=e.rowIdFn(d._aData);p!==i&&delete e.aIds[p]})),this.iterator("table",(function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e})),this})),r("rows.add()",(function(e){var n=this.iterator("table",(function(t){var n,i,o,s=[];for(i=0,o=e.length;i<o;i++)(n=e[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?s.push(Z(t,n)[0]):s.push(U(t,n));return s}),1),i=this.rows(-1);return i.pop(),t.merge(i,n),i})),r("row()",(function(t,e){return Se(this.rows(t,e))})),r("row().data()",(function(t){var e=this.context;if(t===i)return e.length&&this.length?e[0].aoData[this[0]]._aData:i;var n=e[0].aoData[this[0]];return n._aData=t,Array.isArray(t)&&n.nTr&&n.nTr.id&&Q(e[0].rowId)(t,n.nTr.id),it(e[0],this[0],"data"),this})),r("row().node()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null})),r("row.add()",(function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",(function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?Z(t,e)[0]:U(t,e)}));return this.row(n[0])})),t(n).on("plugin-init.dt",(function(e,n){var i=new s(n);const o="on-plugin-init",r=`stateSaveParams.${o}`,a=`destroy.${o}`;i.on(r,(function(t,e,n){for(var i=e.rowIdFn,o=e.aoData,s=[],r=0;r<o.length;r++)o[r]._detailsShow&&s.push("#"+i(o[r]._aData));n.childRows=s})),i.on(a,(function(){i.off(`${r} ${a}`)}));var l=i.state.loaded();l&&l.childRows&&i.rows(t.map(l.childRows,(function(t){return t.replace(/:/g,"\\:")}))).every((function(){fe(n,null,"requestChild",[this])}))}));var Ce=l.util.throttle((function(t){se(t[0])}),500),Le=function(e,n){var o=e.context;if(o.length){var s=o[0].aoData[n!==i?n:e[0]];s&&s._details&&(s._details.remove(),s._detailsShow=i,s._details=i,t(s.nTr).removeClass("dt-hasChild"),Ce(o))}},Pe=function(e,n){var i=e.context;if(i.length&&e.length){var o=i[0].aoData[e[0]];o._details&&(o._detailsShow=n,n?(o._details.insertAfter(o.nTr),t(o.nTr).addClass("dt-hasChild")):(o._details.detach(),t(o.nTr).removeClass("dt-hasChild")),fe(i[0],null,"childRow",[n,e.row(e[0])]),Ae(i[0]),Ce(i))}},Ae=function(t){var e=new s(t),n=".dt.DT_details",i="draw"+n,o="column-sizing"+n,r="destroy"+n,a=t.aoData;e.off(i+" "+o+" "+r),b(a,"_details").length>0&&(e.on(i,(function(n,i){t===i&&e.rows({page:"current"}).eq(0).each((function(t){var e=a[t];e._detailsShow&&e._details.insertAfter(e.nTr)}))})),e.on(o,(function(e,n,i,o){if(t===n)for(var s,r=R(n),l=0,c=a.length;l<c;l++)(s=a[l])._details&&s._details.children("td[colspan]").attr("colspan",r)})),e.on(r,(function(n,i){if(t===i)for(var o=0,s=a.length;o<s;o++)a[o]._details&&Le(e,o)})))},$e="row().child()";r($e,(function(e,n){var o=this.context;return e===i?o.length&&this.length?o[0].aoData[this[0]]._details:i:(!0===e?this.child.show():!1===e?Le(this):o.length&&this.length&&function(e,n,i,o){var s=[],r=function(n,i){if(Array.isArray(n)||n instanceof t)for(var o=0,a=n.length;o<a;o++)r(n[o],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())s.push(n);else{var l=t("<tr><td></td></tr>").addClass(i);t("td",l).addClass(i).html(n)[0].colSpan=R(e),s.push(l[0])}};r(i,o),n._details&&n._details.detach(),n._details=t(s),n._detailsShow&&n._details.insertAfter(n.nTr)}(o[0],o[0].aoData[this[0]],e,n),this)})),r(["row().child.show()",$e+".show()"],(function(t){return Pe(this,!0),this})),r(["row().child.hide()",$e+".hide()"],(function(){return Pe(this,!1),this})),r(["row().child.remove()",$e+".remove()"],(function(){return Le(this),this})),r("row().child.isShown()",(function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1}));var Ee=/^([^:]+):(name|visIdx|visible)$/,De=function(t,e,n,i,o){for(var s=[],r=0,a=o.length;r<a;r++)s.push(V(t,o[r],e));return s};r("columns()",(function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=ke(n);var o=this.iterator("table",(function(i){return function(e,n,i){var o=e.aoColumns,s=b(o,"sName"),r=b(o,"nTh");return xe("column",n,(function(n){var a=_(n);if(""===n)return x(o.length);if(null!==a)return[a>=0?a:o.length+a];if("function"==typeof n){var l=Te(e,i);return t.map(o,(function(t,i){return n(i,De(e,i,0,0,l),r[i])?i:null}))}var c="string"==typeof n?n.match(Ee):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var h=t.map(o,(function(t,e){return t.bVisible?e:null}));return[h[h.length+u]]}return[F(e,u)];case"name":return t.map(s,(function(t,e){return t===c[1]?e:null}));default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var d=t(r).filter(n).map((function(){return t.inArray(this,r)})).toArray();if(d.length||!n.nodeName)return d;var p=t(n).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]}),e,i)}(i,e,n)}),1);return o.selector.cols=e,o.selector.opts=n,o})),a("columns().header()","column().header()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTh}),1)})),a("columns().footer()","column().footer()",(function(t,e){return this.iterator("column",(function(t,e){return t.aoColumns[e].nTf}),1)})),a("columns().data()","column().data()",(function(){return this.iterator("column-rows",De,1)})),a("columns().dataSrc()","column().dataSrc()",(function(){return this.iterator("column",(function(t,e){return t.aoColumns[e].mData}),1)})),a("columns().cache()","column().cache()",(function(t){return this.iterator("column-rows",(function(e,n,i,o,s){return w(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",n)}),1)})),a("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(t,e,n,i,o){return w(t.aoData,o,"anCells",e)}),1)})),a("columns().visible()","column().visible()",(function(e,n){var o=this,s=this.iterator("column",(function(n,o){if(e===i)return n.aoColumns[o].bVisible;!function(e,n,o){var s,r,a,l,c=e.aoColumns,u=c[n],h=e.aoData;if(o===i)return u.bVisible;if(u.bVisible!==o){if(o){var d=t.inArray(!0,b(c,"bVisible"),n+1);for(r=0,a=h.length;r<a;r++)l=h[r].nTr,s=h[r].anCells,l&&l.insertBefore(s[n],s[d]||null)}else t(b(e.aoData,"anCells",n)).detach();u.bVisible=o}}(n,o,e)}));return e!==i&&this.iterator("table",(function(s){lt(s,s.aoHeader),lt(s,s.aoFooter),s.aiDisplay.length||t(s.nTBody).find("td[colspan]").attr("colspan",R(s)),se(s),o.iterator("column",(function(t,i){fe(t,null,"column-visibility",[t,i,e,n])})),(n===i||n)&&o.columns.adjust()})),s})),a("columns().indexes()","column().index()",(function(t){return this.iterator("column",(function(e,n){return"visible"===t?z(e,n):n}),1)})),r("columns.adjust()",(function(){return this.iterator("table",(function(t){B(t)}),1)})),r("column.index()",(function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return F(n,e);if("fromData"===t||"toVisible"===t)return z(n,e)}})),r("column()",(function(t,e){return Se(this.columns(t,e))}));r("cells()",(function(e,n,o){if(t.isPlainObject(e)&&(e.row===i?(o=e,e=null):(o=n,n=null)),t.isPlainObject(n)&&(o=n,n=null),null===n||n===i)return this.iterator("table",(function(n){return function(e,n,o){var s,r,a,l,c,u,h,d=e.aoData,p=Te(e,o),f=k(w(d,p,"anCells")),m=t(C([],f)),_=e.aoColumns.length;return xe("cell",n,(function(n){var o="function"==typeof n;if(null===n||n===i||o){for(r=[],a=0,l=p.length;a<l;a++)for(s=p[a],c=0;c<_;c++)u={row:s,column:c},o?(h=d[s],n(u,V(e,s,c),h.anCells?h.anCells[c]:null)&&r.push(u)):r.push(u);return r}if(t.isPlainObject(n))return n.column!==i&&n.row!==i&&-1!==t.inArray(n.row,p)?[n]:[];var f=m.filter(n).map((function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}})).toArray();return f.length||!n.nodeName?f:(h=t(n).closest("*[data-dt-row]")).length?[{row:h.data("dt-row"),column:h.data("dt-column")}]:[]}),e,o)}(n,e,ke(o))}));var s,r,a,l,c=o?{page:o.page,order:o.order,search:o.search}:{},u=this.columns(n,c),h=this.rows(e,c),d=this.iterator("table",(function(t,e){var n=[];for(s=0,r=h[e].length;s<r;s++)for(a=0,l=u[e].length;a<l;a++)n.push({row:h[e][s],column:u[e][a]});return n}),1),p=o&&o.selected?this.cells(d,o):d;return t.extend(p.selector,{cols:n,rows:e,opts:o}),p})),a("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(t,e,n){var o=t.aoData[e];return o&&o.anCells?o.anCells[n]:i}),1)})),r("cells().data()",(function(){return this.iterator("cell",(function(t,e,n){return V(t,e,n)}),1)})),a("cells().cache()","cell().cache()",(function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",(function(e,n,i){return e.aoData[n][t][i]}),1)})),a("cells().render()","cell().render()",(function(t){return this.iterator("cell",(function(e,n,i){return V(e,n,i,t)}),1)})),a("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(t,e,n){return{row:e,column:n,columnVisible:z(t,n)}}),1)})),a("cells().invalidate()","cell().invalidate()",(function(t){return this.iterator("cell",(function(e,n,i){it(e,n,t,i)}))})),r("cell()",(function(t,e,n){return Se(this.cells(t,e,n))})),r("cell().data()",(function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?V(e[0],n[0].row,n[0].column):i:(K(e[0],n[0].row,n[0].column,t),it(e[0],n[0].row,"data",n[0].column),this)})),r("order()",(function(t,e){var n=this.context;return t===i?0!==n.length?n[0].aaSorting:i:("number"==typeof t?t=[[t,e]]:t.length&&!Array.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),r("order.listener()",(function(t,e,n){return this.iterator("table",(function(i){ne(i,t,e,n)}))})),r("order.fixed()",(function(e){if(!e){var n=this.context,o=n.length?n[0].aaSortingFixed:i;return Array.isArray(o)?{pre:o}:o}return this.iterator("table",(function(n){n.aaSortingFixed=t.extend(!0,{},e)}))})),r(["columns().order()","column().order()"],(function(e){var n=this;return this.iterator("table",(function(i,o){var s=[];t.each(n[o],(function(t,n){s.push([n,e])})),i.aaSorting=s}))})),r("search()",(function(e,n,o,s){var r=this.context;return e===i?0!==r.length?r[0].oPreviousSearch.sSearch:i:this.iterator("table",(function(i){i.oFeatures.bFilter&&bt(i,t.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===s||s}),1)}))})),a("columns().search()","column().search()",(function(e,n,o,s){return this.iterator("column",(function(r,a){var l=r.aoPreSearchCols;if(e===i)return l[a].sSearch;r.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===s||s}),bt(r,r.oPreviousSearch,1))}))})),r("state()",(function(){return this.context.length?this.context[0].oSavedState:null})),r("state.clear()",(function(){return this.iterator("table",(function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})}))})),r("state.loaded()",(function(){return this.context.length?this.context[0].oLoadedState:null})),r("state.save()",(function(){return this.iterator("table",(function(t){se(t)}))})),l.versionCheck=l.fnVersionCheck=function(t){for(var e,n,i=l.version.split("."),o=t.split("."),s=0,r=o.length;s<r;s++)if((e=parseInt(i[s],10)||0)!==(n=parseInt(o[s],10)||0))return e>n;return!0},l.isDataTable=l.fnIsDataTable=function(e){var n=t(e).get(0),i=!1;return e instanceof l.Api||(t.each(l.settings,(function(e,o){var s=o.nScrollHead?t("table",o.nScrollHead)[0]:null,r=o.nScrollFoot?t("table",o.nScrollFoot)[0]:null;o.nTable!==n&&s!==n&&r!==n||(i=!0)})),i)},l.tables=l.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var i=t.map(l.settings,(function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable}));return n?new s(i):i},l.camelToHungarian=A,r("$()",(function(e,n){var i=this.rows(n).nodes(),o=t(i);return t([].concat(o.filter(e).toArray(),o.find(e).toArray()))})),t.each(["on","one","off"],(function(e,n){r(n+"()",(function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),(function(t){return t.match(/\.dt\b/)?t:t+".dt"})).join(" ");var i=t(this.tables().nodes());return i[n].apply(i,e),this}))})),r("clear()",(function(){return this.iterator("table",(function(t){et(t)}))})),r("settings()",(function(){return new s(this.context,this.context)})),r("init()",(function(){var t=this.context;return t.length?t[0].oInit:null})),r("data()",(function(){return this.iterator("table",(function(t){return b(t.aoData,"_aData")})).flatten()})),r("destroy()",(function(n){return n=n||!1,this.iterator("table",(function(i){var o,r=i.oClasses,a=i.nTable,c=i.nTBody,u=i.nTHead,h=i.nTFoot,d=t(a),p=t(c),f=t(i.nTableWrapper),m=t.map(i.aoData,(function(t){return t.nTr}));i.bDestroying=!0,fe(i,"aoDestroyCallback","destroy",[i]),n||new s(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+i.sInstance),a!=u.parentNode&&(d.children("thead").detach(),d.append(u)),h&&a!=h.parentNode&&(d.children("tfoot").detach(),d.append(h)),i.aaSorting=[],i.aaSortingFixed=[],ie(i),t(m).removeClass(i.asStripeClasses.join(" ")),t("th, td",u).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),p.children().detach(),p.append(m);var _=i.nTableWrapper.parentNode,g=n?"remove":"detach";d[g](),f[g](),!n&&_&&(_.insertBefore(a,i.nTableReinsertBefore),d.css("width",i.sDestroyWidth).removeClass(r.sTable),(o=i.asDestroyStripes.length)&&p.children().each((function(e){t(this).addClass(i.asDestroyStripes[e%o])})));var v=t.inArray(i,l.settings);-1!==v&&l.settings.splice(v,1)}))})),t.each(["column","row","cell"],(function(t,e){r(e+"s().every()",(function(t){var n=this.selector.opts,o=this;return this.iterator(e,(function(s,r,a,l,c){t.call(o[e](r,"cell"===e?a:n,"cell"===e?n:i),r,a,l,c)}))}))})),r("i18n()",(function(e,n,o){var s=this.context[0],r=Y(e)(s.oLanguage);return r===i&&(r=n),o!==i&&t.isPlainObject(r)&&(r=r[o]!==i?r[o]:r._),r.replace("%d",o)})),l.version="1.13.1",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},P(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},P(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ge(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ge(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,o=this.oFeatures,s=o.bPaginate;return o.bServerSide?!1===s||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!s||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=o={buttons:{},classes:{},build:"bs5/dt-1.13.1/b-2.3.3/b-colvis-2.3.3",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},t.extend(o,{afnFiltering:o.search,aTypes:o.type.detect,ofnSearch:o.type.search,oSort:o.type.order,afnSortData:o.order,aoFeatures:o.feature,oApi:o.internal,oStdClasses:o.classes,oPagination:o.pager}),t.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ie=l.ext.pager;function Me(t,e){var n=[],i=Ie.numbers_length,o=Math.floor(i/2);return e<=i?n=x(0,e):t<=o?((n=x(0,i-2)).push("ellipsis"),n.push(e-1)):t>=e-1-o?((n=x(e-(i-2),e)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=x(t-o+2,t+o-1)).push("ellipsis"),n.push(e-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}t.extend(Ie,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Me(t,e)]},simple_numbers:function(t,e){return["previous",Me(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Me(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Me(t,e),"last"]},_numbers:Me,numbers_length:7}),t.extend(!0,l.ext.renderer,{pageButton:{_:function(e,o,s,r,a,l){var c,u,h,d=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=function(n,i){var o,r,h,_,g=d.sPageButtonDisabled,v=function(t){Ft(e,t.data.action,!0)};for(o=0,r=i.length;o<r;o++)if(h=i[o],Array.isArray(h)){var y=t("<"+(h.DT_el||"div")+"/>").appendTo(n);m(y,h)}else{switch(c=null,u=h,_=e.iTabIndex,h){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,0===a&&(_=-1,u+=" "+g);break;case"previous":c=p.sPrevious,0===a&&(_=-1,u+=" "+g);break;case"next":c=p.sNext,0!==l&&a!==l-1||(_=-1,u+=" "+g);break;case"last":c=p.sLast,0!==l&&a!==l-1||(_=-1,u+=" "+g);break;default:c=e.fnFormatNumber(h+1),u=a===h?d.sPageButtonActive:""}null!==c&&de(t("<a>",{class:d.sPageButton+" "+u,"aria-controls":e.sTableId,"aria-label":f[h],"data-dt-idx":h,tabindex:_,id:0===s&&"string"==typeof h?e.sTableId+"_"+h:null}).html(c).appendTo(n),{action:h},v)}};try{h=t(o).find(n.activeElement).data("dt-idx")}catch(t){}m(t(o).empty(),r),h!==i&&t(o).find("[data-dt-idx="+h+"]").trigger("focus")}}}),t.extend(l.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return v(t,n)?"num"+n:null},function(t,e){if(t&&!(t instanceof Date)&&!d.test(t))return null;var n=Date.parse(t);return null!==n&&!isNaN(n)||m(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return v(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return y(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return y(t,n,!0)?"html-num-fmt"+n:null},function(t,e){return m(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(l.ext.type.search,{html:function(t){return m(t)?t:"string"==typeof t?t.replace(u," ").replace(h,""):""},string:function(t){return m(t)?t:"string"==typeof t?t.replace(u," "):t}});var Oe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=g(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-1/0};function Ne(e){t.each({num:function(t){return Oe(t,e)},"num-fmt":function(t){return Oe(t,e,f)},"html-num":function(t){return Oe(t,e,h)},"html-num-fmt":function(t){return Oe(t,e,h,f)}},(function(t,n){o.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(o.type.search[t+e]=o.type.search.html)}))}t.extend(o.type.order,{"date-pre":function(t){var e=Date.parse(t);return isNaN(e)?-1/0:e},"html-pre":function(t){return m(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return m(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Ne(""),t.extend(!0,l.ext.renderer,{header:{_:function(e,n,i,o){t(e.nTable).on("order.dt.DT",(function(t,s,r,a){if(e===s){var l=i.idx;n.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[l]?o.sSortAsc:"desc"==a[l]?o.sSortDesc:i.sSortingClass)}}))},jqueryui:function(e,n,i,o){t("<div/>").addClass(o.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(o.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",(function(t,s,r,a){if(e===s){var l=i.idx;n.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[l]?o.sSortAsc:"desc"==a[l]?o.sSortDesc:i.sSortingClass),n.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==a[l]?o.sSortJUIAsc:"desc"==a[l]?o.sSortJUIDesc:i.sSortingClassJUI)}}))}}});var je=function(t){return Array.isArray(t)&&(t=t.join(",")),"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Be(t,n,i,o,s){return e.moment?t[n](s):e.luxon?t[i](s):o?t[o](s):t}var Fe=!1;function ze(t,n,i){var o;if(e.moment){if(!(o=e.moment.utc(t,n,i,!0)).isValid())return null}else if(e.luxon){if(!(o=n&&"string"==typeof t?e.luxon.DateTime.fromFormat(t,n):e.luxon.DateTime.fromISO(t)).isValid)return null;o.setLocale(i)}else n?(Fe||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),Fe=!0):o=new Date(t);return o}function Re(t){return function(e,n,o,s){0===arguments.length?(o="en",n=null,e=null):1===arguments.length?(o="en",n=e,e=null):2===arguments.length&&(o=n,n=e,e=null);var r="datetime-"+n;return l.ext.type.order[r]||(l.ext.type.detect.unshift((function(t){return t===r&&r})),l.ext.type.order[r+"-asc"]=function(t,e){var n=t.valueOf(),i=e.valueOf();return n===i?0:n<i?-1:1},l.ext.type.order[r+"-desc"]=function(t,e){var n=t.valueOf(),i=e.valueOf();return n===i?0:n>i?-1:1}),function(a,l){if(null===a||a===i)if("--now"===s){var c=new Date;a=new Date(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()))}else a="";if("type"===l)return r;if(""===a)return"sort"!==l?"":ze("0000-01-01 00:00:00",null,o);if(null!==n&&e===n&&"sort"!==l&&"type"!==l&&!(a instanceof Date))return a;var u=ze(a,e,o);if(null===u)return a;if("sort"===l)return u;var h=null===n?Be(u,"toDate","toJSDate","")[t]():Be(u,"format","toFormat","toISOString",n);return"display"===l?je(h):h}}}var He=",",qe=".";if(Intl)try{for(var We=(new Intl.NumberFormat).formatToParts(100000.1),Ue=0;Ue<We.length;Ue++)"group"===We[Ue].type?He=We[Ue].value:"decimal"===We[Ue].type&&(qe=We[Ue].value)}catch(t){}function Ze(t){return function(){var e=[le(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[t].apply(this,e)}}return l.datetime=function(t,e){var n="datetime-detect-"+t;e||(e="en"),l.ext.type.order[n]||(l.ext.type.detect.unshift((function(i){var o=ze(i,t,e);return!(""!==i&&!o)&&n})),l.ext.type.order[n+"-pre"]=function(n){return ze(n,t,e)||0})},l.render={date:Re("toLocaleDateString"),datetime:Re("toLocaleString"),time:Re("toLocaleTimeString"),number:function(t,e,n,o,s){return null!==t&&t!==i||(t=He),null!==e&&e!==i||(e=qe),{display:function(i){if("number"!=typeof i&&"string"!=typeof i)return i;if(""===i||null===i)return i;var r=i<0?"-":"",a=parseFloat(i);if(isNaN(a))return je(i);a=a.toFixed(n),i=Math.abs(a);var l=parseInt(i,10),c=n?e+(i-l).toFixed(n).substring(2):"";return 0===l&&0===parseFloat(c)&&(r=""),r+(o||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+c+(s||"")}}},text:function(){return{display:je,filter:je}}},t.extend(l.ext.internal,{_fnExternApiFunc:Ze,_fnBuildAjax:ft,_fnAjaxUpdate:mt,_fnAjaxParameters:_t,_fnAjaxUpdateDraw:gt,_fnAjaxDataSrc:vt,_fnAddColumn:N,_fnColumnOptions:j,_fnAdjustColumnSizing:B,_fnVisibleToColumnIndex:F,_fnColumnIndexToVisible:z,_fnVisbleColumns:R,_fnGetColumns:H,_fnColumnTypes:q,_fnApplyColumnDefs:W,_fnHungarianMap:P,_fnCamelToHungarian:A,_fnLanguageCompat:$,_fnBrowserDetect:M,_fnAddData:U,_fnAddTr:Z,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,n,i){return t.inArray(i,e.aoData[n].anCells)},_fnGetCellData:V,_fnSetCellData:K,_fnSplitObjNotation:X,_fnGetObjectDataFn:Y,_fnSetObjectDataFn:Q,_fnGetDataMaster:tt,_fnClearTable:et,_fnDeleteIndex:nt,_fnInvalidate:it,_fnGetRowElements:ot,_fnCreateTr:st,_fnBuildHead:at,_fnDrawHead:lt,_fnDraw:ct,_fnReDraw:ut,_fnAddOptionsHtml:ht,_fnDetectHeader:dt,_fnGetUniqueThs:pt,_fnFeatureHtmlFilter:yt,_fnFilterComplete:bt,_fnFilterCustom:wt,_fnFilterColumn:xt,_fnFilter:kt,_fnFilterCreateSearch:St,_fnEscapeRegex:Tt,_fnFilterData:Pt,_fnFeatureHtmlInfo:Et,_fnUpdateInfo:Dt,_fnInfoMacros:It,_fnInitialise:Mt,_fnInitComplete:Ot,_fnLengthChange:Nt,_fnFeatureHtmlLength:jt,_fnFeatureHtmlPaginate:Bt,_fnPageChange:Ft,_fnFeatureHtmlProcessing:zt,_fnProcessingDisplay:Rt,_fnFeatureHtmlTable:Ht,_fnScrollDraw:qt,_fnApplyToChildren:Wt,_fnCalculateColumnWidths:Zt,_fnThrottle:Vt,_fnConvertToWidth:Kt,_fnGetWidestNode:Gt,_fnGetMaxLenString:Jt,_fnStringToCss:Xt,_fnSortFlatten:Yt,_fnSort:Qt,_fnSortAria:te,_fnSortListener:ee,_fnSortAttachListener:ne,_fnSortingClasses:ie,_fnSortData:oe,_fnSaveState:se,_fnLoadState:re,_fnImplementState:ae,_fnSettingsFromNode:le,_fnLog:ce,_fnMap:ue,_fnBindAction:de,_fnCallbackReg:pe,_fnCallbackFire:fe,_fnLengthOverflow:me,_fnRenderer:_e,_fnDataSource:ge,_fnRowAttributes:rt,_fnExtend:he,_fnCalculateEnd:function(){}}),t.fn.dataTable=l,l.$=t,t.fn.dataTableSettings=l.settings,t.fn.dataTableExt=l.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(l,(function(e,n){t.fn.DataTable[e]=n})),l})),
/*! DataTables Bootstrap 5 integration
 * 2020 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}((function(t,e,n,i){"use strict";var o=t.fn.dataTable;return t.extend(!0,o.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row dt-row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),t.extend(o.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap5",sFilterInput:"form-control form-control-sm",sLengthSelect:"form-select form-select-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),o.ext.renderer.pageButton.bootstrap=function(e,s,r,a,l,c){var u,h,d,p=new o.Api(e),f=e.oClasses,m=e.oLanguage.oPaginate,_=e.oLanguage.oAria.paginate||{},g=function(n,i){var o,s,a,d,v=function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||p.page()==e.data.action||p.page(e.data.action).draw("page")};for(o=0,s=i.length;o<s;o++)if(d=i[o],Array.isArray(d))g(n,d);else{switch(u="",h="",d){case"ellipsis":u="&#x2026;",h="disabled";break;case"first":u=m.sFirst,h=d+(l>0?"":" disabled");break;case"previous":u=m.sPrevious,h=d+(l>0?"":" disabled");break;case"next":u=m.sNext,h=d+(l<c-1?"":" disabled");break;case"last":u=m.sLast,h=d+(l<c-1?"":" disabled");break;default:u=d+1,h=l===d?"active":""}u&&(a=t("<li>",{class:f.sPageButton+" "+h,id:0===r&&"string"==typeof d?e.sTableId+"_"+d:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":_[d],"data-dt-idx":d,tabindex:e.iTabIndex,class:"page-link"}).html(u)).appendTo(n),e.oApi._fnBindAction(a,{action:d},v))}},v=t(s);try{d=v.find(n.activeElement).data("dt-idx")}catch(t){}var y=v.children("ul.pagination");y.length?y.empty():y=v.html("<ul/>").children("ul").addClass("pagination"),g(y,a),d!==i&&v.find("[data-dt-idx="+d+"]").trigger("focus")},o})),
/*! Buttons for DataTables 2.3.3
 * ©2016-2022 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}((function(t,e,n,i){"use strict";var o=t.fn.dataTable,s=0,r=0,a=o.ext.buttons;function l(e,n,i){t.fn.animate?e.stop().fadeIn(n,i):(e.css("display","block"),i&&i.call(e))}function c(e,n,i){t.fn.animate?e.stop().fadeOut(n,i):(e.css("display","none"),i&&i.call(e))}var u,h=function(e,n){if(!(this instanceof h))return function(t){return new h(t,e).container()};void 0===n&&(n={}),!0===n&&(n={}),Array.isArray(n)&&(n={buttons:n}),this.c=t.extend(!0,{},h.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new o.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+s++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(h.prototype,{action:function(t,e){var n=this._nodeToButton(t);return e===i?n.conf.action:(n.conf.action=e,this)},active:function(e,n){var o=this._nodeToButton(e),s=this.c.dom.button.active,r=t(o.node);return n===i?r.hasClass(s):(r.toggleClass(s,n===i||n),this)},add:function(t,e,n){var o=this.s.buttons;if("string"==typeof e){for(var s=e.split("-"),r=this.s,a=0,l=s.length-1;a<l;a++)r=r.buttons[1*s[a]];o=r.buttons,e=1*s[s.length-1]}return this._expandButton(o,t,t!==i?t.split:i,(t===i||t.split===i||0===t.split.length)&&r!==i,!1,e),n!==i&&!0!==n||this._draw(),this},collectionRebuild:function(t,e){var n=this._nodeToButton(t);if(e!==i){var o;for(o=n.buttons.length-1;o>=0;o--)this.remove(n.buttons[o].node);for(o=0;o<e.length;o++){var s=e[o];this._expandButton(n.buttons,s,s!==i&&s.config!==i&&s.config.split!==i,!0,s.parentConf!==i&&s.parentConf.split!==i,o,s.parentConf)}}this._draw(n.collection,n.buttons)},container:function(){return this.dom.container},disable:function(e){var n=this._nodeToButton(e);return t(n.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,n,i=this.s.buttons.slice();for(e=0,n=i.length;e<n;e++)this.remove(i[e].node);this.dom.container.remove();var o=this.s.dt.settings()[0];for(e=0,n=o.length;e<n;e++)if(o.inst===this){o.splice(e,1);break}return this},enable:function(e,n){if(!1===n)return this.disable(e);var i=this._nodeToButton(e);return t(i.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),this},index:function(t,e,n){e||(e="",n=this.s.buttons);for(var i=0,o=n.length;i<o;i++){var s=n[i].buttons;if(n[i].node===t)return e+i;if(s&&s.length){var r=this.index(t,i+"-",s);if(null!==r)return r}}return null},name:function(){return this.c.name},node:function(e){if(!e)return this.dom.container;var n=this._nodeToButton(e);return t(n.node)},processing:function(e,n){var o=this.s.dt,s=this._nodeToButton(e);return n===i?t(s.node).hasClass("processing"):(t(s.node).toggleClass("processing",n),t(o.table().node()).triggerHandler("buttons-processing.dt",[n,o.button(e),o,t(e),s.conf]),this)},remove:function(e){var n=this._nodeToButton(e),i=this._nodeToHost(e),o=this.s.dt;if(n.buttons.length)for(var s=n.buttons.length-1;s>=0;s--)this.remove(n.buttons[s].node);n.conf.destroying=!0,n.conf.destroy&&n.conf.destroy.call(o.button(e),o,t(e),n.conf),this._removeKey(n.conf),t(n.node).remove();var r=t.inArray(n,i);return i.splice(r,1),this},text:function(e,n){var o=this._nodeToButton(e),s=this.c.dom.collection.buttonLiner,r=o.inCollection&&s&&s.tag?s.tag:this.c.dom.buttonLiner.tag,a=this.s.dt,l=t(o.node),c=function(t){return"function"==typeof t?t(a,l,o.conf):t};return n===i?c(o.conf.text):(o.conf.text=n,r?l.children(r).eq(0).filter(":not(.dt-down-arrow)").html(c(n)):l.html(c(n)),this)},_constructor:function(){var e=this,i=this.s.dt,o=i.settings()[0],s=this.c.buttons;o._buttons||(o._buttons=[]),o._buttons.push({inst:this,name:this.c.name});for(var r=0,a=s.length;r<a;r++)this.add(s[r]);i.on("destroy",(function(t,n){n===o&&e.destroy()})),t("body").on("keyup."+this.s.namespace,(function(t){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(i)&&e._keypress(i,t)}}))},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,i=e.length;n<i;n++)t.append(e[n].inserter),t.append(" "),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(e,n,o,s,r,a,l){var c=this.s.dt,u=!1,h=Array.isArray(n)?n:[n];n===i&&(h=Array.isArray(o)?o:[o]),n!==i&&n.split!==i&&(u=!0);for(var d=0,p=h.length;d<p;d++){var f=this._resolveExtends(h[d]);if(f)if(u=!(f.config===i||!f.config.split),Array.isArray(f))this._expandButton(e,f,m!==i&&m.conf!==i?m.conf.split:i,s,l!==i&&l.split!==i,a,l);else{var m=this._buildButton(f,s,f.split!==i||f.config!==i&&f.config.split!==i,r);if(m){if(a!==i&&null!==a?(e.splice(a,0,m),a++):e.push(m),m.conf.buttons||m.conf.split){if(m.collection=t("<"+(u?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>"),m.conf._collection=m.collection,m.conf.split)for(var _=0;_<m.conf.split.length;_++)"object"==typeof m.conf.split[_]&&(m.conf.split[_].parent=l,m.conf.split[_].collectionLayout===i&&(m.conf.split[_].collectionLayout=m.conf.collectionLayout),m.conf.split[_].dropup===i&&(m.conf.split[_].dropup=m.conf.dropup),m.conf.split[_].fade===i&&(m.conf.split[_].fade=m.conf.fade));else t(m.node).append(t('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"</span>"));this._expandButton(m.buttons,m.conf.buttons,m.conf.split,!u,u,a,m.conf)}m.conf.parent=l,f.init&&f.init.call(c.button(m.node),c,t(m.node),f)}}}},_buildButton:function(e,n,o,s){var l,c=this.c.dom.button,u=this.c.dom.buttonLiner,h=this.c.dom.collection,d=(this.c.dom.split,this.c.dom.splitCollection),p=this.c.dom.splitDropdownButton,f=this.s.dt,m=function(t){return"function"==typeof t?t(f,l,e):t};if(e.spacer){var _=t("<span></span>").addClass("dt-button-spacer "+e.style+" "+c.spacerClass).html(m(e.text));return{conf:e,node:_,inserter:_,buttons:[],inCollection:n,isSplit:o,inSplit:s,collection:null}}if(!o&&s&&d?c=p:!o&&n&&h.button&&(c=h.button),!o&&s&&d.buttonLiner?u=d.buttonLiner:!o&&n&&h.buttonLiner&&(u=h.buttonLiner),e.available&&!e.available(f,e)&&!e.hasOwnProperty("html"))return!1;if(e.hasOwnProperty("html"))l=t(e.html);else{var g=function(e,n,i,o){o.action.call(n.button(i),e,n,i,o),t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,o])},v=e.tag||c.tag,y=e.clickBlurs===i||e.clickBlurs;if(l=t("<"+v+"/>").addClass(c.className).addClass(s?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",(function(t){t.preventDefault(),!l.hasClass(c.disabled)&&e.action&&g(t,f,l,e),y&&l.trigger("blur")})).on("keypress.dtb",(function(t){13===t.keyCode&&(t.preventDefault(),!l.hasClass(c.disabled)&&e.action&&g(t,f,l,e))})),"a"===v.toLowerCase()&&l.attr("href","#"),"button"===v.toLowerCase()&&l.attr("type","button"),u.tag){var b=t("<"+u.tag+"/>").html(m(e.text)).addClass(u.className);"a"===u.tag.toLowerCase()&&b.attr("href","#"),l.append(b)}else l.html(m(e.text));!1===e.enabled&&l.addClass(c.disabled),e.className&&l.addClass(e.className),e.titleAttr&&l.attr("title",m(e.titleAttr)),e.attr&&l.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+r++),e.config!==i&&e.config.split&&(e.split=e.config.split)}var w,x,k=this.c.dom.buttonContainer;if(w=k&&k.tag?t("<"+k.tag+"/>").addClass(k.className).append(l):l,this._addKey(e),this.c.buttonCreated&&(w=this.c.buttonCreated(e,w)),o){(x=t("<div/>").addClass(this.c.dom.splitWrapper.className)).append(l);var S=t.extend(e,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:!1,attr:{"aria-haspopup":"dialog","aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass});this._addKey(S);var T=function(e,n,i,o){a.split.action.call(n.button(x),e,n,i,o),t(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,o]),i.attr("aria-expanded",!0)},C=t('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"</span></button>").on("click.dtb",(function(t){t.preventDefault(),t.stopPropagation(),C.hasClass(c.disabled)||T(t,f,C,S),y&&C.trigger("blur")})).on("keypress.dtb",(function(t){13===t.keyCode&&(t.preventDefault(),C.hasClass(c.disabled)||T(t,f,C,S))}));0===e.split.length&&C.addClass("dtb-hide-drop"),x.append(C).attr(S.attr)}return{conf:e,node:o?x.get(0):l.get(0),inserter:o?x:w,buttons:[],inCollection:n,isSplit:o,inSplit:s,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e[n];if(e[n].buttons.length){var o=this._nodeToButton(t,e[n].buttons);if(o)return o}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var n=0,i=e.length;n<i;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var o=this._nodeToHost(t,e[n].buttons);if(o)return o}}},_keypress:function(e,n){if(!n._buttonsHandled){var i=function(i,o){if(i.key)if(i.key===e)n._buttonsHandled=!0,t(o).click();else if(t.isPlainObject(i.key)){if(i.key.key!==e)return;if(i.key.shiftKey&&!n.shiftKey)return;if(i.key.altKey&&!n.altKey)return;if(i.key.ctrlKey&&!n.ctrlKey)return;if(i.key.metaKey&&!n.metaKey)return;n._buttonsHandled=!0,t(o).click()}},o=function(t){for(var e=0,n=t.length;e<n;e++)i(t[e].conf,t[e].node),t[e].buttons.length&&o(t[e].buttons)};o(this.s.buttons)}},_removeKey:function(e){if(e.key){var n=t.isPlainObject(e.key)?e.key.key:e.key,i=this.s.listenKeys.split(""),o=t.inArray(n,i);i.splice(o,1),this.s.listenKeys=i.join("")}},_resolveExtends:function(e){var n,o,s=this,r=this.s.dt,l=function(n){for(var o=0;!t.isPlainObject(n)&&!Array.isArray(n);){if(n===i)return;if("function"==typeof n){if(!(n=n.call(s,r,e)))return!1}else if("string"==typeof n){if(!a[n])return{html:n};n=a[n]}if(++o>30)throw"Buttons: Too many iterations"}return Array.isArray(n)?n:t.extend({},n)};for(e=l(e);e&&e.extend;){if(!a[e.extend])throw"Cannot extend unknown button type: "+e.extend;var c=l(a[e.extend]);if(Array.isArray(c))return c;if(!c)return!1;var u=c.className;e.config!==i&&c.config!==i&&(e.config=t.extend({},c.config,e.config)),e=t.extend({},c,e),u&&e.className!==u&&(e.className=u+" "+e.className);var h=e.postfixButtons;if(h){for(e.buttons||(e.buttons=[]),n=0,o=h.length;n<o;n++)e.buttons.push(h[n]);e.postfixButtons=null}var d=e.prefixButtons;if(d){for(e.buttons||(e.buttons=[]),n=0,o=d.length;n<o;n++)e.buttons.splice(n,0,d[n]);e.prefixButtons=null}e.extend=c.extend}return e},_popover:function(i,o,s,r){var a=o,u=this.c,d=!1,p=t.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,contentClassName:u.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:u.dom.collection.tag},s),f=o.node(),m=function(){d=!0,c(t(".dt-button-collection"),p.fade,(function(){t(this).detach()})),t(a.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),t("div.dt-button-background").off("click.dtb-collection"),h.background(!1,p.backgroundClassName,p.fade,f),t(e).off("resize.resize.dtb-collection"),t("body").off(".dtb-collection"),a.off("buttons-action.b-internal"),a.off("destroy")};if(!1!==i){var _=t(a.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());_.length&&(f.closest("div.dt-button-collection").length&&(f=_.eq(0)),m());var g=t(".dt-button",i).length,v="";3===g?v="dtb-b3":2===g?v="dtb-b2":1===g&&(v="dtb-b1");var y=t("<div/>").addClass("dt-button-collection").addClass(p.collectionLayout).addClass(p.splitAlignClass).addClass(v).css("display","none").attr({"aria-modal":!0,role:"dialog"});i=t(i).addClass(p.contentClassName).attr("role","menu").appendTo(y),f.attr("aria-expanded","true"),f.parents("body")[0]!==n.body&&(f=n.body.lastChild),p.popoverTitle?y.prepend('<div class="dt-button-collection-title">'+p.popoverTitle+"</div>"):p.collectionTitle&&y.prepend('<div class="dt-button-collection-title">'+p.collectionTitle+"</div>"),p.closeButton&&y.prepend('<div class="dtb-popover-close">x</div>').addClass("dtb-collection-closeable"),l(y.insertAfter(f),p.fade);var b=t(o.table().container()),w=y.css("position");if("container"!==p.span&&"dt-container"!==p.align||(f=f.parent(),y.css("width",b.width())),"absolute"===w){var x=t(f[0].offsetParent),k=f.position(),S=f.offset(),T=x.offset(),C=x.position(),L=e.getComputedStyle(x[0]);T.height=x.outerHeight(),T.width=x.width()+parseFloat(L.paddingLeft),T.right=T.left+T.width,T.bottom=T.top+T.height;var P=k.top+f.outerHeight(),A=k.left;y.css({top:P,left:A}),L=e.getComputedStyle(y[0]);var $=y.offset();$.height=y.outerHeight(),$.width=y.outerWidth(),$.right=$.left+$.width,$.bottom=$.top+$.height,$.marginTop=parseFloat(L.marginTop),$.marginBottom=parseFloat(L.marginBottom),p.dropup&&(P=k.top-$.height-$.marginTop-$.marginBottom),("button-right"===p.align||y.hasClass(p.rightAlignClassName))&&(A=k.left-$.width+f.outerWidth()),"dt-container"!==p.align&&"container"!==p.align||(A<k.left&&(A=-k.left),A+$.width>T.width&&(A=T.width-$.width)),C.left+A+$.width>t(e).width()&&(A=t(e).width()-$.width-C.left),S.left+A<0&&(A=-S.left),C.top+P+$.height>t(e).height()+t(e).scrollTop()&&(P=k.top-$.height-$.marginTop-$.marginBottom),C.top+P<t(e).scrollTop()&&(P=k.top+f.outerHeight()),y.css({top:P,left:A})}else{w=function(){var n=t(e).height()/2,i=y.height()/2;i>n&&(i=n),y.css("marginTop",-1*i)};w(),t(e).on("resize.dtb-collection",(function(){w()}))}p.background&&h.background(!0,p.backgroundClassName,p.fade,p.backgroundHost||f),t("div.dt-button-background").on("click.dtb-collection",(function(){})),p.autoClose&&setTimeout((function(){a.on("buttons-action.b-internal",(function(t,e,n,i){i[0]!==f[0]&&m()}))}),0),t(y).trigger("buttons-popover.dt"),a.on("destroy",m),setTimeout((function(){d=!1,t("body").on("click.dtb-collection",(function(e){if(!d){var n=t.fn.addBack?"addBack":"andSelf",o=t(e.target).parent()[0];(!t(e.target).parents()[n]().filter(i).length&&!t(o).hasClass("dt-buttons")||t(e.target).hasClass("dt-button-background"))&&m()}})).on("keyup.dtb-collection",(function(t){27===t.keyCode&&m()})).on("keydown.dtb-collection",(function(e){var o=t("a, button",i),s=n.activeElement;9===e.keyCode&&(-1===o.index(s)?(o.first().focus(),e.preventDefault()):e.shiftKey?s===o[0]&&(o.last().focus(),e.preventDefault()):s===o.last()[0]&&(o.first().focus(),e.preventDefault()))}))}),0)}else m()}}),h.background=function(e,o,s,r){s===i&&(s=400),r||(r=n.body),e?l(t("<div/>").addClass(o).css("display","none").insertAfter(r),s):c(t("div."+o),s,(function(){t(this).removeClass(o).remove()}))},h.instanceSelector=function(e,n){if(e===i||null===e)return t.map(n,(function(t){return t.inst}));var o=[],s=t.map(n,(function(t){return t.name})),r=function(e){if(Array.isArray(e))for(var i=0,a=e.length;i<a;i++)r(e[i]);else if("string"==typeof e)if(-1!==e.indexOf(","))r(e.split(","));else{var l=t.inArray(e.trim(),s);-1!==l&&o.push(n[l].inst)}else"number"==typeof e?o.push(n[e].inst):"object"==typeof e&&o.push(e)};return r(e),o},h.buttonSelector=function(e,n){for(var o=[],s=function(t,e,n){for(var o,r,a=0,l=e.length;a<l;a++)(o=e[a])&&(r=n!==i?n+a:a+"",t.push({node:o.node,name:o.conf.name,idx:r}),o.buttons&&s(t,o.buttons,r+"-"))},r=function(e,n){var a,l,c=[];s(c,n.s.buttons);var u=t.map(c,(function(t){return t.node}));if(Array.isArray(e)||e instanceof t)for(a=0,l=e.length;a<l;a++)r(e[a],n);else if(null===e||e===i||"*"===e)for(a=0,l=c.length;a<l;a++)o.push({inst:n,node:c[a].node});else if("number"==typeof e)n.s.buttons[e]&&o.push({inst:n,node:n.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(",")){var h=e.split(",");for(a=0,l=h.length;a<l;a++)r(h[a].trim(),n)}else if(e.match(/^\d+(\-\d+)*$/)){var d=t.map(c,(function(t){return t.idx}));o.push({inst:n,node:c[t.inArray(e,d)].node})}else if(-1!==e.indexOf(":name")){var p=e.replace(":name","");for(a=0,l=c.length;a<l;a++)c[a].name===p&&o.push({inst:n,node:c[a].node})}else t(u).filter(e).each((function(){o.push({inst:n,node:this})}));else if("object"==typeof e&&e.nodeName){var f=t.inArray(e,u);-1!==f&&o.push({inst:n,node:u[f]})}},a=0,l=e.length;a<l;a++){var c=e[a];r(n,c)}return o},h.stripData=function(t,e){return"string"!=typeof t||(t=(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),e&&!e.stripHtml||(t=t.replace(/<[^>]*>/g,"")),e&&!e.trim||(t=t.replace(/^\s+|\s+$/g,"")),e&&!e.stripNewlines||(t=t.replace(/\n/g," ")),e&&!e.decodeEntities||(_.innerHTML=t,t=_.value)),t},h.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}},h.version="2.3.3",t.extend(a,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(t,e,n){e.attr("aria-expanded",!1)},action:function(e,n,i,o){o._collection.parents("body").length?this.popover(!1,o):this.popover(o._collection,o),"keypress"===e.type&&t("a, button",o._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(t,e,n){return e.attr("aria-expanded",!1)},action:function(t,e,n,i){this.popover(i._collection,i)},attr:{"aria-haspopup":"dialog"}},copy:function(t,e){if(a.copyHtml5)return"copyHtml5"},csv:function(t,e){if(a.csvHtml5&&a.csvHtml5.available(t,e))return"csvHtml5"},excel:function(t,e){if(a.excelHtml5&&a.excelHtml5.available(t,e))return"excelHtml5"},pdf:function(t,e){if(a.pdfHtml5&&a.pdfHtml5.available(t,e))return"pdfHtml5"},pageLength:function(e){var n=e.settings()[0].aLengthMenu,i=[],o=[];if(Array.isArray(n[0]))i=n[0],o=n[1];else for(var s=0;s<n.length;s++){var r=n[s];t.isPlainObject(r)?(i.push(r.value),o.push(r.label)):(i.push(r),o.push(r))}return{extend:"collection",text:function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())},className:"buttons-page-length",autoClose:!0,buttons:t.map(i,(function(t,e){return{text:o[e],className:"button-page-length",action:function(e,n){n.page.len(t).draw()},init:function(e,n,i){var o=this,s=function(){o.active(e.page.len()===t)};e.on("length.dt"+i.namespace,s),s()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}})),init:function(t,e,n){var i=this;t.on("length.dt"+n.namespace,(function(){i.text(n.text)}))},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(t){return t.i18n("buttons.spacer","")}}}),o.Api.register("buttons()",(function(t,e){e===i&&(e=t,t=i),this.selector.buttonGroup=t;var n=this.iterator(!0,"table",(function(n){if(n._buttons)return h.buttonSelector(h.instanceSelector(t,n._buttons),e)}),!0);return n._groupSelector=t,n})),o.Api.register("button()",(function(t,e){var n=this.buttons(t,e);return n.length>1&&n.splice(1,n.length),n})),o.Api.registerPlural("buttons().active()","button().active()",(function(t){return t===i?this.map((function(t){return t.inst.active(t.node)})):this.each((function(e){e.inst.active(e.node,t)}))})),o.Api.registerPlural("buttons().action()","button().action()",(function(t){return t===i?this.map((function(t){return t.inst.action(t.node)})):this.each((function(e){e.inst.action(e.node,t)}))})),o.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",(function(t){return this.each((function(e){for(var n=0;n<t.length;n++)"object"==typeof t[n]&&(t[n].parentConf=e);e.inst.collectionRebuild(e.node,t)}))})),o.Api.register(["buttons().enable()","button().enable()"],(function(t){return this.each((function(e){e.inst.enable(e.node,t)}))})),o.Api.register(["buttons().disable()","button().disable()"],(function(){return this.each((function(t){t.inst.disable(t.node)}))})),o.Api.register("button().index()",(function(){var t=null;return this.each((function(e){var n=e.inst.index(e.node);null!==n&&(t=n)})),t})),o.Api.registerPlural("buttons().nodes()","button().node()",(function(){var e=t();return t(this.each((function(t){e=e.add(t.inst.node(t.node))}))),e})),o.Api.registerPlural("buttons().processing()","button().processing()",(function(t){return t===i?this.map((function(t){return t.inst.processing(t.node)})):this.each((function(e){e.inst.processing(e.node,t)}))})),o.Api.registerPlural("buttons().text()","button().text()",(function(t){return t===i?this.map((function(t){return t.inst.text(t.node)})):this.each((function(e){e.inst.text(e.node,t)}))})),o.Api.registerPlural("buttons().trigger()","button().trigger()",(function(){return this.each((function(t){t.inst.node(t.node).trigger("click")}))})),o.Api.register("button().popover()",(function(t,e){return this.map((function(n){return n.inst._popover(t,this.button(this[0].node),e)}))})),o.Api.register("buttons().containers()",(function(){var e=t(),n=this._groupSelector;return this.iterator(!0,"table",(function(t){if(t._buttons)for(var i=h.instanceSelector(n,t._buttons),o=0,s=i.length;o<s;o++)e=e.add(i[o].container())})),e})),o.Api.register("buttons().container()",(function(){return this.containers().eq(0)})),o.Api.register("button().add()",(function(t,e,n){var i=this.context;if(i.length){var o=h.instanceSelector(this._groupSelector,i[0]._buttons);o.length&&o[0].add(e,t,n)}return this.button(this._groupSelector,t)})),o.Api.register("buttons().destroy()",(function(){return this.pluck("inst").unique().each((function(t){t.destroy()})),this})),o.Api.registerPlural("buttons().remove()","buttons().remove()",(function(){return this.each((function(t){t.inst.remove(t.node)})),this})),o.Api.register("buttons.info()",(function(e,n,o){var s=this;return!1===e?(this.off("destroy.btn-info"),c(t("#datatables_buttons_info"),400,(function(){t(this).remove()})),clearTimeout(u),u=null,this):(u&&clearTimeout(u),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),e=e?"<h2>"+e+"</h2>":"",l(t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e).append(t("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body")),o!==i&&0!==o&&(u=setTimeout((function(){s.buttons.info(!1)}),o)),this.on("destroy.btn-info",(function(){s.buttons.info(!1)})),this)})),o.Api.register("buttons.exportData()",(function(t){if(this.context.length)return g(new o.Api(this.context[0]),t)})),o.Api.register("buttons.exportInfo()",(function(t){return t||(t={}),{filename:d(t),title:f(t),messageTop:m(this,t.message||t.messageTop,"top"),messageBottom:m(this,t.messageBottom,"bottom")}}));var d=function(e){var n="*"===e.filename&&"*"!==e.title&&e.title!==i&&null!==e.title&&""!==e.title?e.title:e.filename;if("function"==typeof n&&(n=n()),n===i||null===n)return null;-1!==n.indexOf("*")&&(n=n.replace("*",t("head > title").text()).trim()),n=n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var o=p(e.extension);return o||(o=""),n+o},p=function(t){return null===t||t===i?null:"function"==typeof t?t():t},f=function(e){var n=p(e.title);return null===n?null:-1!==n.indexOf("*")?n.replace("*",t("head > title").text()||"Exported data"):n},m=function(e,n,i){var o=p(n);if(null===o)return null;var s=t("caption",e.table().container()).eq(0);return"*"===o?s.css("caption-side")!==i?null:s.length?s.text():"":o},_=t("<textarea/>")[0],g=function(e,n){var o=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return h.stripData(t,o)},footer:function(t){return h.stripData(t,o)},body:function(t){return h.stripData(t,o)}},customizeData:null},n),s=e.columns(o.columns).indexes().map((function(t){var n=e.column(t).header();return o.format.header(n.innerHTML,t,n)})).toArray(),r=e.table().footer()?e.columns(o.columns).indexes().map((function(t){var n=e.column(t).footer();return o.format.footer(n?n.innerHTML:"",t,n)})).toArray():null,a=t.extend({},o.modifier);e.select&&"function"==typeof e.select.info&&a.selected===i&&e.rows(o.rows,t.extend({selected:!0},a)).any()&&t.extend(a,{selected:!0});for(var l=e.rows(o.rows,a).indexes().toArray(),c=e.cells(l,o.columns),u=c.render(o.orthogonal).toArray(),d=c.nodes().toArray(),p=s.length,f=[],m=0,_=0,g=p>0?u.length/p:0;_<g;_++){for(var v=[p],y=0;y<p;y++)v[y]=o.format.body(u[m],_,y,d[m]),m++;f[_]=v}var b={header:s,footer:r,body:f};return o.customizeData&&o.customizeData(b),b};function v(t,e){var n=new o.Api(t),i=e||(n.init().buttons||o.defaults.buttons);return new h(n,i).container()}return t.fn.dataTable.Buttons=h,t.fn.DataTable.Buttons=h,t(n).on("init.dt plugin-init.dt",(function(t,e){if("dt"===t.namespace){var n=e.oInit.buttons||o.defaults.buttons;n&&!e._buttons&&new h(e,n).container()}})),o.ext.feature.push({fnInit:v,cFeature:"B"}),o.ext.features&&o.ext.features.register("buttons",v),o})),
/*! Bootstrap integration for DataTables' Buttons
 * ©2016 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs5","datatables.net-buttons"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net-bs5")(e,n),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}((function(t,e,n,i){"use strict";var o=t.fn.dataTable;return t.extend(!0,o.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary"},collection:{tag:"div",className:"dropdown-menu",closeButton:!1,button:{tag:"a",className:"dt-button dropdown-item",active:"active",disabled:"disabled"}},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper btn-group",closeButton:!1},splitDropdown:{tag:"button",text:"",className:"btn btn-secondary dt-btn-split-drop dropdown-toggle dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button btn btn-secondary",closeButton:!1}},buttonCreated:function(e,n){return e.buttons?t('<div class="btn-group"/>').append(n):n}}),o.ext.buttons.collection.className+=" dropdown-toggle",o.ext.buttons.collection.rightAlignClassName="dropdown-menu-right",o})),
/*!
 * Column visibility buttons for Buttons and DataTables.
 * 2016 SpryMedia Ltd - datatables.net/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n.fn.dataTable||require("datatables.net")(e,n),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}((function(t,e,n,i){"use strict";var o=t.fn.dataTable;return t.extend(o.ext.buttons,{colvis:function(t,e){var n=null,i={extend:"collection",init:function(t,e){n=e},text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}]};return t.on("column-reorder.dt"+e.namespace,(function(i,o,s){t.button(null,t.button(null,n).node()).collectionRebuild([{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}])})),i},columnsToggle:function(t,e){return t.columns(e.columns).indexes().map((function(t){return{extend:"columnToggle",columns:t,columnText:e.columnText}})).toArray()},columnToggle:function(t,e){return{extend:"columnVisibility",columns:e.columns,columnText:e.columnText}},columnsVisibility:function(t,e){return t.columns(e.columns).indexes().map((function(t){return{extend:"columnVisibility",columns:t,visibility:e.visibility,columnText:e.columnText}})).toArray()},columnVisibility:{columns:i,text:function(t,e,n){return n._columnText(t,n)},className:"buttons-columnVisibility",action:function(t,e,n,o){var s=e.columns(o.columns),r=s.visible();s.visible(o.visibility!==i?o.visibility:!(r.length&&r[0]))},init:function(t,e,n){var i=this;e.attr("data-cv-idx",n.columns),t.on("column-visibility.dt"+n.namespace,(function(e,o){o.bDestroying||o.nTable!=t.settings()[0].nTable||i.active(t.column(n.columns).visible())})).on("column-reorder.dt"+n.namespace,(function(e,o,s){n.destroying||1===t.columns(n.columns).count()&&(i.text(n._columnText(t,n)),i.active(t.column(n.columns).visible()))})),this.active(t.column(n.columns).visible())},destroy:function(t,e,n){t.off("column-visibility.dt"+n.namespace).off("column-reorder.dt"+n.namespace)},_columnText:function(t,e){var n=t.column(e.columns).index(),i=t.settings()[0].aoColumns[n].sTitle;return i||(i=t.column(n).header().innerHTML),i=i.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),e.columnText?e.columnText(t,n,i):i}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,e,n){n._visOriginal=t.columns().indexes().map((function(e){return t.column(e).visible()})).toArray()},action:function(t,e,n,i){e.columns().every((function(t){var n=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(t,"toOriginal"):t;this.visible(i._visOriginal[n])}))}},colvisGroup:{className:"buttons-colvisGroup",action:function(t,e,n,i){e.columns(i.show).visible(!0,!1),e.columns(i.hide).visible(!1,!1),e.columns.adjust()},show:[],hide:[]}}),o})),
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,(function(t){"use strict";function e(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var o=0;function s(t){return t._leaflet_id=t._leaflet_id||++o,t._leaflet_id}function r(t,e,n){var i,o,s,r;return r=function(){i=!1,o&&(s.apply(n,o),o=!1)},s=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(r,e),i=!0)},s}function a(t,e,n){var i=e[1],o=e[0],s=i-o;return t===i&&n?t:((t-o)%s+s)%s+o}function l(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return u(t).split(/\s+/)}function d(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function p(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_-]+) *\}/g;function m(t,e){return t.replace(f,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function g(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var x=window.requestAnimationFrame||y("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||y("CancelAnimationFrame")||y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(!n||x!==w)return x.call(window,i(t,e));t.call(e)}function T(t){t&&k.call(window,t)}var C={extend:e,create:n,bind:i,lastId:o,stamp:s,throttle:r,wrapNum:a,falseFn:l,formatNum:c,trim:u,splitWords:h,setOptions:d,getParamString:p,template:m,isArray:_,indexOf:g,emptyImageUrl:v,requestFn:x,cancelFn:k,requestAnimFrame:S,cancelAnimFrame:T};function P(){}P.extend=function(t){var i=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,s=n(o);for(var r in s.constructor=i,i.prototype=s,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(i[r]=this[r]);return t.statics&&(e(i,t.statics),delete t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),e.apply(null,[s].concat(t.includes)),delete t.includes),s.options&&(t.options=e(n(s.options),t.options)),e(s,t),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=s._initHooks.length;t<e;t++)s._initHooks[t].call(this)}},i},P.include=function(t){return e(this.prototype,t),this},P.mergeOptions=function(t){return e(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,s=(t=h(t)).length;o<s;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,s=(t=h(t)).length;o<s;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},s=i,r=0,a=s.length;r<a;r++)if(s[r].fn===e&&s[r].ctx===n)return;s.push(o)},_off:function(t,e,n){var i,o,s;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,s=i.length;o<s;o++){var r=i[o];if(r.ctx===n&&r.fn===e)return r.fn=l,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,s=i.length;o<s;o++)i[o].fn=l;delete this._events[t]}},fire:function(t,n,i){if(!this.listens(t,i))return this;var o=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var l=s[r];l.fn.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var o in t)this.once(o,t[o],e);return this}var s=i((function(){this.off(t,e,n).off(t,s,n)}),this);return this.on(t,e,n).on(t,s,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var $=P.extend(A);function E(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function I(t,e,n){return t instanceof E?t:_(t)?new E(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,e,n)}function M(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function O(t,e){return!t||t instanceof M?t:new M(t,e)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof N?t:new N(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function F(t,e,n){return t instanceof B?t:_(t)&&"object"!=typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(I(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(I(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=I(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=I(t)).x===this.x&&t.y===this.y},contains:function(t){return t=I(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},M.prototype={extend:function(t){return t=I(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof E?I(t):O(t))instanceof M?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=O(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>=e.x&&i.x<=n.x,r=o.y>=e.y&&i.y<=n.y;return s&&r},overlaps:function(t){t=O(t);var e=this.min,n=this.max,i=t.min,o=t.max,s=o.x>e.x&&i.x<n.x,r=o.y>e.y&&i.y<n.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},N.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof N))return t?this.extend(F(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new N(new B(e.lat-i,e.lng-o),new B(n.lat+i,n.lng+o))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof B||"lat"in t?F(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof N?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&i.lat<=n.lat,r=o.lng>=e.lng&&i.lng<=n.lng;return s&&r},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>e.lat&&i.lat<n.lat,r=o.lng>e.lng&&i.lng<n.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=F(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,F(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var z,R={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new M(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?a(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?a(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var s=t.getSouthWest(),r=t.getNorthEast();return new N(new B(s.lat-i,s.lng-o),new B(r.lat-i,r.lng-o))}},H=e({},R,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,s=Math.sin((e.lat-t.lat)*n/2),r=Math.sin((e.lng-t.lng)*n/2),a=s*s+Math.cos(i)*Math.cos(o)*r*r,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new E(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(z=q*Math.PI,new M([-z,-z],[z,z]))};function U(t,e,n,i){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Z(t,e,n,i){return new U(t,e,n,i)}U.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new E((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var V=e({},H,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return Z(t,.5,-t,.5)}()}),K=e({},V,{code:"EPSG:900913"});function G(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,i,o,s,r,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,s=(r=t[n]).length;i<s;i++)l+=(i?"L":"M")+(a=r[i]).x+" "+a.y;l+=e?Pt?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,Y="ActiveXObject"in window,Q=Y&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=$t("webkit"),nt=$t("android"),it=$t("android 2")||$t("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=nt&&$t("Google")&&ot<537&&!("AudioNode"in window),rt=!!window.opera,at=!tt&&$t("chrome"),lt=$t("gecko")&&!et&&!rt&&!Y,ct=!at&&$t("safari"),ut=$t("phantom"),ht="OTransition"in X,dt=0===navigator.platform.indexOf("Win"),pt=Y&&"transition"in X,ft="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mt="MozPerspective"in X,_t=!window.L_DISABLE_3D&&(pt||ft||mt)&&!ht&&!ut,gt="undefined"!=typeof orientation||$t("mobile"),vt=gt&&et,yt=gt&&ft,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),xt=!window.L_NO_TOUCH&&(wt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),kt=gt&&rt,St=gt&&lt,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),Lt=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!G("svg").createSVGRect),At=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function $t(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Et={ie:Y,ielt9:Q,edge:tt,webkit:et,android:nt,android23:it,androidStock:st,opera:rt,chrome:at,gecko:lt,safari:ct,phantom:ut,opera12:ht,win:dt,ie3d:pt,webkit3d:ft,gecko3d:mt,any3d:_t,mobile:gt,mobileWebkit:vt,mobileWebkit3d:yt,msPointer:bt,pointer:wt,touch:xt,mobileOpera:kt,mobileGecko:St,retina:Tt,passiveEvents:Ct,canvas:Lt,svg:Pt,vml:At},Dt=bt?"MSPointerDown":"pointerdown",It=bt?"MSPointerMove":"pointermove",Mt=bt?"MSPointerUp":"pointerup",Ot=bt?"MSPointerCancel":"pointercancel",Nt={},jt=!1;function Bt(t,e,n,o){return"touchstart"===e?function(t,e,n){var o=i((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Oe(t),Ht(t,e)}));t["_leaflet_touchstart"+n]=o,t.addEventListener(Dt,o,!1),jt||(document.addEventListener(Dt,Ft,!0),document.addEventListener(It,zt,!0),document.addEventListener(Mt,Rt,!0),document.addEventListener(Ot,Rt,!0),jt=!0)}(t,n,o):"touchmove"===e?function(t,e,n){var i=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Ht(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(It,i,!1)}(t,n,o):"touchend"===e&&function(t,e,n){var i=function(t){Ht(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Mt,i,!1),t.addEventListener(Ot,i,!1)}(t,n,o),this}function Ft(t){Nt[t.pointerId]=t}function zt(t){Nt[t.pointerId]&&(Nt[t.pointerId]=t)}function Rt(t){delete Nt[t.pointerId]}function Ht(t,e){for(var n in t.touches=[],Nt)t.touches.push(Nt[n]);t.changedTouches=[t],e(t)}var qt=bt?"MSPointerDown":wt?"pointerdown":"touchstart",Wt=bt?"MSPointerUp":wt?"pointerup":"touchend",Ut="_leaflet_";var Zt,Vt,Kt,Gt,Jt,Xt=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yt=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qt="webkitTransition"===Yt||"OTransition"===Yt?Yt+"End":"transitionend";function te(t){return"string"==typeof t?document.getElementById(t):t}function ee(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ne(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ie(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function re(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ae(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=he(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function le(t,e){if(void 0!==t.classList)for(var n=h(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!ae(t,e)){var s=he(t);ue(t,(s?s+" ":"")+e)}}function ce(t,e){void 0!==t.classList?t.classList.remove(e):ue(t,u((" "+he(t)+" ").replace(" "+e+" "," ")))}function ue(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function he(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function fe(t,e,n){var i=e||new E(0,0);t.style[Xt]=(pt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function me(t,e){t._leaflet_pos=e,_t?fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function _e(t){return t._leaflet_pos||new E(0,0)}if("onselectstart"in document)Zt=function(){Te(window,"selectstart",Oe)},Vt=function(){Le(window,"selectstart",Oe)};else{var ge=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zt=function(){if(ge){var t=document.documentElement.style;Kt=t[ge],t[ge]="none"}},Vt=function(){ge&&(document.documentElement.style[ge]=Kt,Kt=void 0)}}function ve(){Te(window,"dragstart",Oe)}function ye(){Le(window,"dragstart",Oe)}function be(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(we(),Gt=t,Jt=t.style.outline,t.style.outline="none",Te(window,"keydown",we))}function we(){Gt&&(Gt.style.outline=Jt,Gt=void 0,Jt=void 0,Le(window,"keydown",we))}function xe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function ke(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Se={TRANSFORM:Xt,TRANSITION:Yt,TRANSITION_END:Qt,get:te,getStyle:ee,create:ne,remove:ie,empty:oe,toFront:se,toBack:re,hasClass:ae,addClass:le,removeClass:ce,setClass:ue,getClass:he,setOpacity:de,testProp:pe,setTransform:fe,setPosition:me,getPosition:_e,disableTextSelection:Zt,enableTextSelection:Vt,disableImageDrag:ve,enableImageDrag:ye,preventOutline:be,restoreOutline:we,getSizedParentNode:xe,getScale:ke};function Te(t,e,n,i){if("object"==typeof e)for(var o in e)$e(t,o,e[o],n);else for(var s=0,r=(e=h(e)).length;s<r;s++)$e(t,e[s],n,i);return this}var Ce="_leaflet_events";function Le(t,e,n,i){if("object"==typeof e)for(var o in e)Ee(t,o,e[o],n);else if(e)for(var s=0,r=(e=h(e)).length;s<r;s++)Ee(t,e[s],n,i);else{for(var a in t[Ce])Ee(t,a,t[Ce][a]);delete t[Ce]}return this}function Pe(){if(wt)return!(tt||ct)}var Ae={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $e(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):"");if(t[Ce]&&t[Ce][o])return this;var r=function(e){return n.call(i||t,e||window.event)},a=r;wt&&0===e.indexOf("touch")?Bt(t,e,r,o):xt&&"dblclick"===e&&!Pe()?function(t,e,n){var i,o,s=!1;function r(t){if(wt){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(i||e);o=t.touches?t.touches[0]:t,s=n>0&&n<=250,i=e}function a(t){if(s&&!o.cancelBubble){if(wt){if("mouse"===t.pointerType)return;var n,r,a={};for(r in o)n=o[r],a[r]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",o.button=0,e(o),i=null}}t[Ut+qt+n]=r,t[Ut+Wt+n]=a,t[Ut+"dblclick"+n]=e,t.addEventListener(qt,r,!!Ct&&{passive:!1}),t.addEventListener(Wt,a,!!Ct&&{passive:!1}),t.addEventListener("dblclick",e,!1)}(t,r,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ae[e]||e,r,!!Ct&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,qe(t,e)&&a(e)},t.addEventListener(Ae[e],r,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[Ce]=t[Ce]||{},t[Ce][o]=r}function Ee(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):""),r=t[Ce]&&t[Ce][o];if(!r)return this;wt&&0===e.indexOf("touch")?function(t,e,n){var i=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Dt,i,!1):"touchmove"===e?t.removeEventListener(It,i,!1):"touchend"===e&&(t.removeEventListener(Mt,i,!1),t.removeEventListener(Ot,i,!1))}(t,e,o):xt&&"dblclick"===e&&!Pe()?function(t,e){var n=t[Ut+qt+e],i=t[Ut+Wt+e],o=t[Ut+"dblclick"+e];t.removeEventListener(qt,n,!!Ct&&{passive:!1}),t.removeEventListener(Wt,i,!!Ct&&{passive:!1}),t.removeEventListener("dblclick",o,!1)}(t,o):"removeEventListener"in t?t.removeEventListener(Ae[e]||e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[Ce][o]=null}function De(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,He(t),this}function Ie(t){return $e(t,"wheel",De),this}function Me(t){return Te(t,"mousedown touchstart dblclick",De),$e(t,"click",Re),this}function Oe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ne(t){return Oe(t),De(t),this}function je(t,e){if(!e)return new E(t.clientX,t.clientY);var n=ke(e),i=n.boundingClientRect;return new E((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Be=dt&&at?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Fe(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Be:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var ze={};function Re(t){ze[t.type]=!0}function He(t){var e=ze[t.type];return ze[t.type]=!1,e}function qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var We={on:Te,off:Le,stopPropagation:De,disableScrollPropagation:Ie,disableClickPropagation:Me,preventDefault:Oe,stop:Ne,getMousePosition:je,getWheelDelta:Fe,fakeStop:Re,skipped:He,isExternalTarget:qe,addListener:Te,removeListener:Le},Ue=$.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=_e(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),me(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=$.extend({options:{crs:V,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yt&&_t&&!kt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Qt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if((n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(F(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i)&&(void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(_t?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),s=(t instanceof E?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),r=this.containerPointToLatLng(o.add(s));return this.setView(r,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=I(e.paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var s=i.subtract(n).divideBy(2),r=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=I(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ue,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){le(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!_t)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),s=this.getSize(),r=this._zoom;t=F(t),e=void 0===e?r:e;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(r,e),c=o.distanceTo(i)||1,u=1.42,h=2.0164;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*c*c)/(2*(t?l:a)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function _(t){return a*(f(m)*(p(e=m+u*t)/f(e))-p(m))/h;var e}var g=Date.now(),v=(d(1)-m)/u,y=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),function n(){var s=(Date.now()-g)/y,l=function(t){return 1-Math.pow(1-t,1.5)}(s)*v;s<=1?(this._flyToFrame=S(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(_(l)/c)),r),this.getScaleZoom(a/function(t){return a*(f(m)/f(m+u*t))}(l),r),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=j(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=I((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=I(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),s=this.project(o),r=this.project(t),a=this.getPixelBounds(),l=a.getSize().divideBy(2),c=O([a.min.add(n),a.max.subtract(i)]);if(!c.contains(r)){this._enforcingBounds=!0;var u=s.subtract(r),h=I(r.x+u.x,r.y+u.y);(r.x<c.min.x||r.x>c.max.x)&&(h.x=s.x-u.x,u.x>0?h.x+=l.x-n.x:h.x-=l.x-i.x),(r.y<c.min.y||r.y>c.max.y)&&(h.y=s.y-u.y,u.y>0?h.y+=l.y-n.y:h.y-=l.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),o=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var s={latlng:e,bounds:n,timestamp:t.timestamp};for(var r in t.coords)"number"==typeof t.coords[r]&&(s[r]=t.coords[r]);this.fire("locationfound",s)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ie(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ne("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new N(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=I(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=O(this.project(a,i),this.project(r,i)).getSize(),u=_t?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(s,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(I(t),e)},layerPointToLatLng:function(t){var e=I(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(F(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return I(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return I(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(I(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=te(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Te(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t,le(t,"leaflet-container"+(xt?" leaflet-touch":"")+(Tt?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ee(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(t.markerPane,"leaflet-zoom-hide"),le(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){me(this._mapPane,new E(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Le:Te;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),_t&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!qe(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!qe(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!He(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||be(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var o=e({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n))).length){var s=i[0];"contextmenu"===n&&s.listens(n,!0)&&Oe(t);var r={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=s.getLatLng&&(!s._radius||s._radius<=10);r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(n,r,!0),r.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==g(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return _e(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return O([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),s=new M(i.subtract(o),i.add(o)),r=this._getBoundsOffset(s,n,e);return r.round().equals([0,0])?t:this.unproject(i.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new M(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=O(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),s=i.max.subtract(t.max);return new E(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=_t?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=Xt,n=this._proxy.style[e];fe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o))&&(S((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),S((function(){this._moveEnd(!0)}),this))}});var Ve=P.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return le(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ke=function(t){return new Ve(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ne("div",e+"control-container",this._container);function i(i,o){var s=e+i+" "+e+o;t[i+o]=ne("div",s,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ie(this._controlCorners[t]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ge=Ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ve.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ne("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Me(e),Ie(e);var i=this._section=ne("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Te(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ne("a",t+"-toggle",e);o.href="#",o.title="Layers",xt?(Te(o,"click",Ne),Te(o,"click",this.expand,this)):Te(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ne("div",t+"-base",i),this._separator=ne("div",t+"-separator",i),this._overlaysList=ne("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oe(this._baseLayersList),oe(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Te(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])||this._map.addLayer(i[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Ve.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ne("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var s=ne("a",n,i);return s.innerHTML=t,s.href="#",s.title=e,s.setAttribute("role","button"),s.setAttribute("aria-label",e),Me(s),Te(s,"click",Ne),Te(s,"click",o,this),Te(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ce(this._zoomInButton,e),ce(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&le(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&le(this._zoomInButton,e)}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))}));var Xe=Ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ne("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ne("div",e,n)),t.imperial&&(this._iScale=ne("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Ye=Ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ne("div","leaflet-control-attribution"),Me(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook((function(){this.options.attributionControl&&(new Ye).addTo(this)}));Ve.Layers=Ge,Ve.Zoom=Je,Ve.Scale=Xe,Ve.Attribution=Ye,Ke.layers=function(t,e,n){return new Ge(t,e,n)},Ke.zoom=function(t){return new Je(t)},Ke.scale=function(t){return new Xe(t)},Ke.attribution=function(t){return new Ye(t)};var Qe=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var tn,en={Events:A},nn=xt?"touchstart mousedown":"mousedown",on={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},rn=$.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){d(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Te(this._dragStartTarget,nn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(),Le(this._dragStartTarget,nn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ae(this._element,"leaflet-zoom-anim")&&!(rn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(rn._dragging=this,this._preventOutline&&be(this._element),ve(),Zt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=xe(this._element);this._startPoint=new E(e.clientX,e.clientY),this._parentScale=ke(n),Te(document,sn[t.type],this._onMove,this),Te(document,on[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new E(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Oe(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=_e(this._element).subtract(n),le(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,T(this._animRequest),this._lastEvent=t,this._animRequest=S(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Le(document,sn[t],this._onMove,this),Le(document,on[t],this._onUp,this);ye(),Vt(),this._moved&&this._moving&&(T(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,rn._dragging=!1}});function an(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){for(var n=[t[0]],i=1,o=0,s=t.length;i<s;i++)pn(t[i],t[o])>e&&(n.push(t[i]),o=i);o<s-1&&n.push(t[s-1]);return n}(t,n),t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,cn(t,i,e,0,n-1);var o,s=[];for(o=0;o<n;o++)i[o]&&s.push(t[o]);return s}(t,n),t}function ln(t,e,n){return Math.sqrt(fn(t,e,n,!0))}function cn(t,e,n,i,o){var s,r,a,l=0;for(r=i+1;r<=o-1;r++)(a=fn(t[r],t[i],t[o],!0))>l&&(s=r,l=a);l>n&&(e[s]=1,cn(t,e,n,i,s),cn(t,e,n,s,o))}function un(t,e,n,i,o){var s,r,a,l=i?tn:dn(t,n),c=dn(e,n);for(tn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=dn(r=hn(t,e,s=l||c,n,o),n),s===l?(t=r,l=a):(e=r,c=a)}}function hn(t,e,n,i,o){var s,r,a=e.x-t.x,l=e.y-t.y,c=i.min,u=i.max;return 8&n?(s=t.x+a*(u.y-t.y)/l,r=u.y):4&n?(s=t.x+a*(c.y-t.y)/l,r=c.y):2&n?(s=u.x,r=t.y+l*(u.x-t.x)/a):1&n&&(s=c.x,r=t.y+l*(c.x-t.x)/a),new E(s,r,o)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function fn(t,e,n,i){var o,s=e.x,r=e.y,a=n.x-s,l=n.y-r,c=a*a+l*l;return c>0&&((o=((t.x-s)*a+(t.y-r)*l)/c)>1?(s=n.x,r=n.y):o>0&&(s+=a*o,r+=l*o)),a=t.x-s,l=t.y-r,i?a*a+l*l:new E(s,r)}function mn(t){return!_(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function _n(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(t)}var gn={simplify:an,pointToSegmentDistance:ln,closestPointOnSegment:function(t,e,n){return fn(t,e,n)},clipSegment:un,_getEdgeIntersection:hn,_getBitCode:dn,_sqClosestPointOnSegment:fn,isFlat:mn,_flat:_n};function vn(t,e,n){var i,o,s,r,a,l,c,u,h,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=dn(t[o],e);for(r=0;r<4;r++){for(u=d[r],i=[],o=0,s=(c=t.length)-1;o<c;s=o++)a=t[o],l=t[s],a._code&u?l._code&u||((h=hn(l,a,u,e,n))._code=dn(h,e),i.push(h)):(l._code&u&&((h=hn(l,a,u,e,n))._code=dn(h,e),i.push(h)),i.push(a));t=i}return t}var yn={clipPolygon:vn},bn={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new M([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=s*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-r)/(1+r),s/2);return i=-n*Math.log(Math.max(a,1e-10)),new E(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),r=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(r),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=s*Math.sin(a),e=Math.pow((1-e)/(1+e),s/2),a+=c=Math.PI/2-2*Math.atan(r*e)-a;return new B(a*n,t.x*n/i)}},xn={LonLat:bn,Mercator:wn,SphericalMercator:W},kn=e({},H,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return Z(t,.5,-t,.5)}()}),Sn=e({},H,{code:"EPSG:4326",projection:bn,transformation:Z(1/180,1,-1/180,.5)}),Tn=e({},R,{projection:bn,transformation:Z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});R.Earth=H,R.EPSG3395=kn,R.EPSG3857=V,R.EPSG900913=K,R.EPSG4326=Sn,R.Simple=Tn;var Cn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?_(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ln=Cn.extend({initialize:function(t,e){var n,i;if(d(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Pn=Ln.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ln.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ln.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new N;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),An=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=I(i),s=I("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),s&&(t.style.marginLeft=-s.x+"px",t.style.marginTop=-s.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Tt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var $n=An.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return $n.imagePath||($n.imagePath=this._detectIconPath()),(this.options.imagePath||$n.imagePath)+An.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ne("div","leaflet-default-icon-path",document.body),e=ee(t,"background-image")||ee(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),En=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new rn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=_e(e._icon),r=n.getPixelBounds(),a=n.getPixelOrigin(),l=O(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!l.contains(s)){var c=I((Math.max(l.max.x,s.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=_e(e._icon),o=e._map.layerPointToLatLng(i);n&&me(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=Cn.extend({options:{icon:new $n,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),le(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(le(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),En)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new En(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var In=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Mn=In.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return In.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var On=Mn.extend({initialize:function(t,n,i){if("number"==typeof n&&(n=e({},i,{radius:n})),d(this,n),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:In.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var o=Math.PI/180,s=this._mRadius/H.R/o,r=n.project([e+s,t]),a=n.project([e-s,t]),l=r.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(s*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=s/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-r.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var Nn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,s=fn,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],c=1,u=l.length;c<u;c++){var h=s(t,e=l[c-1],n=l[c],!0);h<i&&(i=h,o=s(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,s,r,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<l-1;t++)if(o=a[t],s=a[t+1],(i+=n=o.distanceTo(s))>e)return r=(i-e)/n,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new N,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=mn(t),i=0,o=t.length;i<o;i++)n?(e[i]=F(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new E(t,t);this._pxBounds=new M([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,s=t[0]instanceof B,r=t.length;if(s){for(o=[],i=0;i<r;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<r;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,s,r,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,s=(a=this._rings[e]).length;n<s-1;n++)(r=un(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(r[0]),r[1]===a[n+1]&&n!==s-2||(l[i].push(r[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=an(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,s,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,s=this._parts.length;n<s;n++)for(i=0,o=(r=(a=this._parts[n]).length)-1;i<r;o=i++)if((e||0!==i)&&ln(t,a[o],a[i])<=l)return!0;return!1}});Nn._flat=_n;var jn=Nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,s,r,a,l,c=this._rings[0],u=c.length;if(!u)return null;for(s=r=a=0,t=0,e=u-1;t<u;e=t++)n=c[t],i=c[e],o=n.y*i.x-i.y*n.x,r+=(n.x+i.x)*o,a+=(n.y+i.y)*o,s+=3*o;return l=0===s?c[0]:[r/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=Nn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Nn.prototype._setLatLngs.call(this,t),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new E(e,e);if(t=new M(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,s=this._rings.length;o<s;o++)(i=vn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,s,r,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(l=(e=this._parts[o]).length)-1;s<l;r=s++)n=e[s],i=e[r],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Nn.prototype._containsPoint.call(this,t,!0)}});var Bn=Pn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=_(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=Fn(t,s);return r?(r.feature=Zn(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Fn(t,e){var n,i,o,s,r="Feature"===t.type?t.geometry:t,a=r?r.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Rn;if(!a&&!r)return null;switch(r.type){case"Point":return zn(c,t,n=u(a),e);case"MultiPoint":for(o=0,s=a.length;o<s;o++)n=u(a[o]),l.push(zn(c,t,n,e));return new Pn(l);case"LineString":case"MultiLineString":return i=Hn(a,"LineString"===r.type?0:1,u),new Nn(i,e);case"Polygon":case"MultiPolygon":return i=Hn(a,"Polygon"===r.type?1:2,u),new jn(i,e);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var h=Fn({geometry:r.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Pn(l);default:throw new Error("Invalid GeoJSON object.")}}function zn(t,e,n,i){return t?t(e,n):new Dn(n,i&&i.markersInheritOptions&&i)}function Rn(t){return new B(t[1],t[0],t[2])}function Hn(t,e,n){for(var i,o=[],s=0,r=t.length;s<r;s++)i=e?Hn(t[s],e-1,n):(n||Rn)(t[s]),o.push(i);return o}function qn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Wn(t,e,n,i){for(var o=[],s=0,r=t.length;s<r;s++)o.push(e?Wn(t[s],e-1,n,i):qn(t[s],i));return!e&&n&&o.push(o[0]),o}function Un(t,n){return t.feature?e({},t.feature,{geometry:n}):Zn(n)}function Zn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Vn={toGeoJSON:function(t){return Un(this,{type:"Point",coordinates:qn(this.getLatLng(),t)})}};function Kn(t,e){return new Bn(t,e)}Dn.include(Vn),On.include(Vn),Mn.include(Vn),Nn.include({toGeoJSON:function(t){var e=!mn(this._latlngs);return Un(this,{type:(e?"Multi":"")+"LineString",coordinates:Wn(this._latlngs,e?1:0,!1,t)})}}),jn.include({toGeoJSON:function(t){var e=!mn(this._latlngs),n=e&&!mn(this._latlngs[0]),i=Wn(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Un(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Ln.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Un(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var s=Zn(o);"FeatureCollection"===s.type?i.push.apply(i,s.features):i.push(s)}}})),n?Un(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Gn=Kn,Jn=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&re(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ne("img");le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fe(this._image,n,e)},_reset:function(){var t=this._image,e=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();me(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Xn=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ne("video");if(le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],s=0;s<n.length;s++)o.push(n[s].src);this._url=n.length>0?o:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var r=0;r<this._url.length;r++){var a=ne("source");a.src=this._url[r],e.appendChild(a)}}}});var Yn=Jn.extend({_initImage:function(){var t=this._image=this._url;le(t,"leaflet-image-layer"),this._zoomAnimated&&le(t,"leaflet-zoom-animated"),this.options.className&&le(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});var Qn=Cn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){d(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(i(ie,void 0,this._container),200)):ie(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&re(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Cn||(n=e,e=t),e instanceof Pn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?me(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),ti=Qn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Qn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",De))},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",De))},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ne("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ne("div",t+"-content-wrapper",e);if(this._contentNode=ne("div",t+"-content",n),Me(e),Ie(this._contentNode),Te(e,"contextmenu",De),this._tipContainer=ne("div",t+"-tip-container",e),this._tip=ne("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ne("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",Te(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",le(t,s)):ce(t,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();me(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ee(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new E(this._containerLeft,-n-this._containerBottom);o._add(_e(this._container));var s=t.layerPointToContainerPoint(o),r=I(this.options.autoPanPadding),a=I(this.options.autoPanPaddingTopLeft||r),l=I(this.options.autoPanPaddingBottomRight||r),c=t.getSize(),u=0,h=0;s.x+i+l.x>c.x&&(u=s.x+i-c.x+l.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+n+l.y>c.y&&(h=s.y+n-c.y+l.y),s.y-h-a.y<0&&(h=s.y-a.y),(u||h)&&t.fire("autopanstart").panBy([u,h])}},_onCloseButtonClick:function(t){this._close(),Ne(t)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,e,n){return t instanceof ti||(t=new ti(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Cn.include({bindPopup:function(t,e){return t instanceof ti?(d(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new ti(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ne(t),e instanceof In?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ei=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Qn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Qn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Qn.prototype.getEvents.call(this);return xt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ne("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,s=i.latLngToContainerPoint(i.getCenter()),r=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,u=I(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):r.x<s.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(I(e,n,!0)).add(u).add(h),ce(o,"leaflet-tooltip-right"),ce(o,"leaflet-tooltip-left"),ce(o,"leaflet-tooltip-top"),ce(o,"leaflet-tooltip-bottom"),le(o,"leaflet-tooltip-"+a),me(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ze.include({openTooltip:function(t,e,n){return t instanceof ei||(t=new ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Cn.include({bindTooltip:function(t,e){return t instanceof ei?(d(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new ei(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),xt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(le(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ce(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ni=An.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(oe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=I(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});An.Default=$n;var ii=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ie(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,s=n.length;o<s;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){de(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var s=Math.min(1,(t-o.loaded)/200);de(o.el,s),s<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ie(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ie(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),s=Math.floor(e/2),r=n-1,a=new E(+o,+s);a.z=+r;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>i&&this._retainParent(o,s,r,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var s=2*e;s<2*e+2;s++){var r=new E(o,s);r.z=n+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,s,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var s=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();_t?fe(t.el,o,i):me(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),s=e.getSize().divideBy(2*i);return new M(o.subtract(s),o.add(s))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),s=o.getCenter(),r=[],a=this.options.keepBuffer,l=new M(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new E(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var p=new E(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:r.push(p)}}if(r.sort((function(t,e){return t.distanceTo(s)-e.distanceTo(s)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<r.length;d++)this._addTile(r[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new N(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new E(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ie(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){le(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&de(t,this.options.opacity),nt&&!it&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&S(i(this._tileReady,this,t,null,s)),me(s,n),this._tiles[o]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(de(n.el,0),T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(le(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new E(this._wrapX?a(t.x,this._wrapX):t.x,this._wrapY?a(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new M(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var oi=ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&Tt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Te(n,"load",i(this._tileOnLoad,this,e,n)),Te(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n={r:Tt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return m(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=v,ie(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",v),ii.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==v))return ii.prototype._tileReady.call(this,t,e,n)}});function si(t,e){return new oi(t,e)}var ri=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var o in n)o in this.options||(i[o]=n[o]);var s=(n=d(this,n)).detectRetina&&Tt?2:1,r=this.getTileSize();i.width=r.x*s,i.height=r.y*s,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=O(n.project(e[0]),n.project(e[1])),o=i.min,s=i.max,r=(this._wmsVersion>=1.3&&this._crs===Sn?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),a=oi.prototype.getTileUrl.call(this,t);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});oi.WMS=ri,si.wms=function(t,e){return new ri(t,e)};var ai=Cn.extend({options:{padding:.1,tolerance:0},initialize:function(t){d(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=_e(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),r=this._map.project(t,e).subtract(s),a=o.multiplyBy(-n).add(i).add(o).subtract(r);_t?fe(this._container,a,n):me(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new M(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),li=ai.extend({getEvents:function(){var t=ai.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,ie(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ai.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Tt?2:1;me(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Tt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=r[n].length;i<o;i++)s=r[n][i],l[i?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(Re(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ce(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,s=this._drawFirst;s;s=s.next)(n=s.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(le(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ci(t){return Lt?new li(t):null}var ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),hi={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ui("shape");le(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ui("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ie(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=ui("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=_(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=ui("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){re(t._container)}},di=At?ui:G,pi=ai.extend({getEvents:function(){var t=ai.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ai.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),me(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=di("path");t.options.className&&le(e,t.options.className),t.options.interactive&&le(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ie(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){re(t._path)}});function fi(t){return Pt||At?new pi(t):null}At&&pi.include(hi),Ze.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ci(t)||fi(t)}});var mi=jn.extend({initialize:function(t,e){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=di,pi.pointsToPath=J,Bn.geometryToLayer=Fn,Bn.coordsToLatLng=Rn,Bn.coordsToLatLngs=Hn,Bn.latLngToCoords=qn,Bn.latLngsToCoords=Wn,Bn.getFeature=Un,Bn.asFeature=Zn,Ze.mergeOptions({boxZoom:!0});var _i=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Zt(),ve(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new M(this._point,this._startPoint),n=e.getSize();me(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ie(this._box),ce(this._container,"leaflet-crosshair")),Vt(),ye(),Le(document,{contextmenu:Ne,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ze.addInitHook("addHandler","boxZoom",_i),Ze.mergeOptions({doubleClickZoom:!0});var gi=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ze.addInitHook("addHandler","doubleClickZoom",gi),Ze.mergeOptions({dragging:!0,inertia:!it,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vi=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new rn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,s=(i+e+n)%t-e-n,r=Math.abs(o+n)<Math.abs(s+n)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=n.easeLinearity,a=o.multiplyBy(r/s),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*r),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),S((function(){e.panBy(d,{duration:h,easeLinearity:r,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ze.addInitHook("addHandler","dragging",vi),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yi=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=I(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ne(t)}}});Ze.addInitHook("addHandler","keyboard",yi),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bi=Qe.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),o),Ne(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,s=n?Math.ceil(o/n)*n:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}});Ze.addInitHook("addHandler","scrollWheelZoom",bi),Ze.mergeOptions({tap:!0,tapTolerance:15});var wi=Qe.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Oe(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new E(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&le(n,"leaflet-active"),this._holdTimeout=setTimeout(i((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Te(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Le(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ce(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new E(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!xt||wt&&!ct||Ze.addInitHook("addHandler","tap",wi),Ze.mergeOptions({touchZoom:xt&&!it,bounceAtZoomLimits:!0});var xi=Qe.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend",this._onTouchEnd,this),Oe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),s=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(a,this,!0),Oe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ze.addInitHook("addHandler","touchZoom",xi),Ze.BoxZoom=_i,Ze.DoubleClickZoom=gi,Ze.Drag=vi,Ze.Keyboard=yi,Ze.ScrollWheelZoom=bi,Ze.Tap=wi,Ze.TouchZoom=xi,t.version="1.7.1",t.Control=Ve,t.control=Ke,t.Browser=Et,t.Evented=$,t.Mixin=en,t.Util=C,t.Class=P,t.Handler=Qe,t.extend=e,t.bind=i,t.stamp=s,t.setOptions=d,t.DomEvent=We,t.DomUtil=Se,t.PosAnimation=Ue,t.Draggable=rn,t.LineUtil=gn,t.PolyUtil=yn,t.Point=E,t.point=I,t.Bounds=M,t.bounds=O,t.Transformation=U,t.transformation=Z,t.Projection=xn,t.LatLng=B,t.latLng=F,t.LatLngBounds=N,t.latLngBounds=j,t.CRS=R,t.GeoJSON=Bn,t.geoJSON=Kn,t.geoJson=Gn,t.Layer=Cn,t.LayerGroup=Ln,t.layerGroup=function(t,e){return new Ln(t,e)},t.FeatureGroup=Pn,t.featureGroup=function(t,e){return new Pn(t,e)},t.ImageOverlay=Jn,t.imageOverlay=function(t,e,n){return new Jn(t,e,n)},t.VideoOverlay=Xn,t.videoOverlay=function(t,e,n){return new Xn(t,e,n)},t.SVGOverlay=Yn,t.svgOverlay=function(t,e,n){return new Yn(t,e,n)},t.DivOverlay=Qn,t.Popup=ti,t.popup=function(t,e){return new ti(t,e)},t.Tooltip=ei,t.tooltip=function(t,e){return new ei(t,e)},t.Icon=An,t.icon=function(t){return new An(t)},t.DivIcon=ni,t.divIcon=function(t){return new ni(t)},t.Marker=Dn,t.marker=function(t,e){return new Dn(t,e)},t.TileLayer=oi,t.tileLayer=si,t.GridLayer=ii,t.gridLayer=function(t){return new ii(t)},t.SVG=pi,t.svg=fi,t.Renderer=ai,t.Canvas=li,t.canvas=ci,t.Path=In,t.CircleMarker=Mn,t.circleMarker=function(t,e){return new Mn(t,e)},t.Circle=On,t.circle=function(t,e,n){return new On(t,e,n)},t.Polyline=Nn,t.polyline=function(t,e){return new Nn(t,e)},t.Polygon=jn,t.polygon=function(t,e){return new jn(t,e)},t.Rectangle=mi,t.rectangle=function(t,e){return new mi(t,e)},t.Map=Ze,t.map=function(t,e){return new Ze(t,e)};var ki=window.L;t.noConflict=function(){return window.L=ki,this},window.L=t})),function(){L.Control.FullScreen=L.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},onAdd:function(t){var e,n="leaflet-control-zoom-fullscreen",i="";return e=t.zoomControl&&!this.options.forceSeparateButton?t.zoomControl._container:L.DomUtil.create("div","leaflet-bar"),this.options.content?i=this.options.content:n+=" fullscreen-icon",this._createButton(this.options.title,n,i,e,this.toggleFullScreen,this),this._map.on("enterFullscreen exitFullscreen",this._toggleTitle,this),e},_createButton:function(e,n,i,o,s,r){return this.link=L.DomUtil.create("a",n,o),this.link.href="#",this.link.title=e,this.link.innerHTML=i,L.DomEvent.addListener(this.link,"click",L.DomEvent.stopPropagation).addListener(this.link,"click",L.DomEvent.preventDefault).addListener(this.link,"click",s,r),L.DomEvent.addListener(o,t.fullScreenEventName,L.DomEvent.stopPropagation).addListener(o,t.fullScreenEventName,L.DomEvent.preventDefault).addListener(o,t.fullScreenEventName,this._handleEscKey,r),L.DomEvent.addListener(document,t.fullScreenEventName,L.DomEvent.stopPropagation).addListener(document,t.fullScreenEventName,L.DomEvent.preventDefault).addListener(document,t.fullScreenEventName,this._handleEscKey,r),this.link},toggleFullScreen:function(){var e=this._map;e._exitFired=!1,e._isFullscreen?(t.supportsFullScreen&&!this.options.forcePseudoFullscreen?t.cancelFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:e._container):L.DomUtil.removeClass(e._container,"leaflet-pseudo-fullscreen"),e.invalidateSize(),e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1):(t.supportsFullScreen&&!this.options.forcePseudoFullscreen?t.requestFullScreen(this.options.fullscreenElement?this.options.fullscreenElement:e._container):L.DomUtil.addClass(e._container,"leaflet-pseudo-fullscreen"),e.invalidateSize(),e.fire("enterFullscreen"),e._isFullscreen=!0)},_toggleTitle:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel},_handleEscKey:function(){var e=this._map;t.isFullScreen(e)||e._exitFired||(e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1)}}),L.Map.addInitHook((function(){this.options.fullscreenControl&&(this.fullscreenControl=L.control.fullscreen(this.options.fullscreenControlOptions),this.addControl(this.fullscreenControl))})),L.control.fullscreen=function(t){return new L.Control.FullScreen(t)};var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},e="webkit moz o ms khtml".split(" ");if(void 0!==document.exitFullscreen)t.supportsFullScreen=!0;else{for(var n=0,i=e.length;n<i;n++)if(t.prefix=e[n],void 0!==document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}void 0!==document.msExitFullscreen&&(t.prefix="ms",t.supportsFullScreen=!0)}t.supportsFullScreen&&("ms"===t.prefix?t.fullScreenEventName="MSFullscreenChange":t.fullScreenEventName=t.prefix+"fullscreenchange",t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;case"ms":return document.msFullscreenElement;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(t){switch(this.prefix){case"":return t.requestFullscreen();case"ms":return t.msRequestFullscreen();default:return t[this.prefix+"RequestFullScreen"]()}},t.cancelFullScreen=function(){switch(this.prefix){case"":return document.exitFullscreen();case"ms":return document.msExitFullscreen();default:return document[this.prefix+"CancelFullScreen"]()}}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each((function(){var e=jQuery(this);t.supportsFullScreen&&t.requestFullScreen(e)}))}),window.fullScreenApi=t}(),L.Control.GroupedLayers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,exclusiveGroups:[],groupCheckboxes:!1},initialize:function(t,e,n){var i,o;for(i in L.Util.setOptions(this,n),this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._groupList=[],this._domGroups=[],t)this._addLayer(t[i],i);for(i in e)for(o in e[i])this._addLayer(e[i][o],o,i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e,n){return this._addLayer(t,e,n,!0),this._update(),this},removeLayer:function(t){var e=L.Util.stamp(t),n=this._getLayer(e);return n&&delete this._layers[this._layers.indexOf(n)],this._update(),this},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&L.stamp(this._layers[e].layer)===t)return this._layers[e]},_initLayout:function(){var t="leaflet-control-layers",e=this._container=L.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),L.Browser.touch?L.DomEvent.on(e,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(e),L.DomEvent.on(e,"wheel",L.DomEvent.stopPropagation));var n=this._form=L.DomUtil.create("form",t+"-list");if(this.options.collapsed){L.Browser.android||L.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=L.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",L.Browser.touch?L.DomEvent.on(i,"click",L.DomEvent.stop).on(i,"click",this._expand,this):L.DomEvent.on(i,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=L.DomUtil.create("div",t+"-base",n),this._separator=L.DomUtil.create("div",t+"-separator",n),this._overlaysList=L.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n,i){L.Util.stamp(t);var o={layer:t,name:e,overlay:i};this._layers.push(o),n=n||"";var s=this._indexOf(this._groupList,n);-1===s&&(s=this._groupList.push(n)-1);var r=-1!==this._indexOf(this.options.exclusiveGroups,n);o.group={name:n,id:s,exclusive:r},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0;for(var t,e=!1,n=!1,i=0;i<this._layers.length;i++)t=this._layers[i],this._addItem(t),n=n||t.overlay,e=e||!t.overlay;this._separator.style.display=n&&e?"":"none"}},_onLayerChange:function(t){var e,n=this._getLayer(L.Util.stamp(t.layer));n&&(this._handlingClick||this._update(),(e=n.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null)&&this._map.fire(e,n))},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';e&&(n+=' checked="checked"'),n+="/>";var i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n,i,o=document.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?t.group.exclusive?(i="leaflet-exclusive-group-layer-"+t.group.id,e=this._createRadioElement(i,s)):((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=s):e=this._createRadioElement("leaflet-base-layers",s),e.layerId=L.Util.stamp(t.layer),e.groupID=t.group.id,L.DomEvent.on(e,"click",this._onInputClick,this);var r=document.createElement("span");if(r.innerHTML=" "+t.name,o.appendChild(e),o.appendChild(r),t.overlay){n=this._overlaysList;var a=this._domGroups[t.group.id];if(!a){(a=document.createElement("div")).className="leaflet-control-layers-group",a.id="leaflet-control-layers-group-"+t.group.id;var l=document.createElement("label");if(l.className="leaflet-control-layers-group-label",""!==t.group.name&&!t.group.exclusive&&this.options.groupCheckboxes){var c=document.createElement("input");c.type="checkbox",c.className="leaflet-control-layers-group-selector",c.groupID=t.group.id,c.legend=this,L.DomEvent.on(c,"click",this._onGroupInputClick,c),l.appendChild(c)}var u=document.createElement("span");u.className="leaflet-control-layers-group-name",u.innerHTML=t.group.name,l.appendChild(u),a.appendChild(l),n.appendChild(a),this._domGroups[t.group.id]=a}n=a}else n=this._baseLayersList;return n.appendChild(o),o},_onGroupInputClick:function(){var t,e,n,i=this.legend;i._handlingClick=!0;var o=i._form.getElementsByTagName("input"),s=o.length;for(t=0;t<s;t++)(e=o[t]).groupID===this.groupID&&"leaflet-control-layers-selector"===e.className&&(e.checked=this.checked,n=i._getLayer(e.layerId),e.checked&&!i._map.hasLayer(n.layer)?i._map.addLayer(n.layer):!e.checked&&i._map.hasLayer(n.layer)&&i._map.removeLayer(n.layer));i._handlingClick=!1},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=i.length;for(this._handlingClick=!0,t=0;t<o;t++)"leaflet-control-layers-selector"===(e=i[t]).className&&(n=this._getLayer(e.layerId),e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer));this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");var t=this._map._size.y-4*this._container.offsetTop;t<this._form.clientHeight&&(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")},_indexOf:function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}}),L.control.groupedLayers=function(t,e,n){return new L.Control.GroupedLayers(t,e,n)},L.Control.MousePosition=L.Control.extend({options:{position:"bottomleft",separator:" : ",emptyString:"Unavailable",lngFirst:!1,numDigits:5,lngFormatter:void 0,latFormatter:void 0,prefix:""},onAdd:function(t){return this._container=L.DomUtil.create("div","leaflet-control-mouseposition"),L.DomEvent.disableClickPropagation(this._container),t.on("mousemove",this._onMouseMove,this),this._container.innerHTML=this.options.emptyString,this._container},onRemove:function(t){t.off("mousemove",this._onMouseMove)},_onMouseMove:function(t){var e=map.project(t.latlng,map.getMaxZoom());e.x=25*(e.x-68600),e.y=25*(e.y-72208)*-1;var n=this.options.lngFormatter?this.options.lngFormatter(t.latlng.lng):L.Util.formatNum(t.latlng.lng,this.options.numDigits),i=this.options.latFormatter?this.options.latFormatter(t.latlng.lat):L.Util.formatNum(t.latlng.lat,this.options.numDigits),o=(this.options.lngFirst?this.options.separator:this.options.separator,this.options.prefix+" X:"+Math.round(e.x)+" Y:"+Math.round(e.y));this._container.innerHTML=o}}),L.Map.mergeOptions({positionControl:!1}),L.Map.addInitHook((function(){this.options.positionControl&&(this.positionControl=new L.Control.MousePosition,this.addControl(this.positionControl))})),L.control.mousePosition=function(t){return new L.Control.MousePosition(t)},L.Control.Sidebar=L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,options:{autopan:!1,closeButton:!0,container:null,position:"left"},initialize:function(t,e){return"string"==typeof t&&(console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now"),t={container:t}),"object"==typeof t&&t.id&&(console.warn("this syntax is deprecated. please use L.control.sidebar({ container }) now"),t.container=t.id),this._tabitems=[],this._panes=[],this._closeButtons=[],L.setOptions(this,t),L.setOptions(this,e),this},onAdd:function(t){var e,n,i,o,s;for((s=this._container)||(s=this._container||"string"==typeof this.options.container?L.DomUtil.get(this.options.container):this.options.container),s||(s=L.DomUtil.create("div","leaflet-sidebar collapsed"),"string"==typeof this.options.container&&(s.id=this.options.container)),this._paneContainer=s.querySelector("div.leaflet-sidebar-content"),null===this._paneContainer&&(this._paneContainer=L.DomUtil.create("div","leaflet-sidebar-content",s)),i=s.querySelectorAll("ul.leaflet-sidebar-tabs, div.leaflet-sidebar-tabs > ul"),this._tabContainerTop=i[0]||null,this._tabContainerBottom=i[1]||null,null===this._tabContainerTop&&((o=L.DomUtil.create("div","leaflet-sidebar-tabs",s)).setAttribute("role","tablist"),this._tabContainerTop=L.DomUtil.create("ul","",o)),null===this._tabContainerBottom&&(o=this._tabContainerTop.parentNode,this._tabContainerBottom=L.DomUtil.create("ul","",o)),e=0;e<this._tabContainerTop.children.length;e++)(n=this._tabContainerTop.children[e])._sidebar=this,n._id=n.querySelector("a").hash.slice(1),this._tabitems.push(n);for(e=0;e<this._tabContainerBottom.children.length;e++)(n=this._tabContainerBottom.children[e])._sidebar=this,n._id=n.querySelector("a").hash.slice(1),this._tabitems.push(n);for(e=0;e<this._paneContainer.children.length;e++)if("DIV"===(n=this._paneContainer.children[e]).tagName&&L.DomUtil.hasClass(n,"leaflet-sidebar-pane")){this._panes.push(n);var r=n.querySelectorAll(".leaflet-sidebar-close");r.length&&(this._closeButtons.push(r[r.length-1]),this._closeClick(r[r.length-1],"on"))}for(e=0;e<this._tabitems.length;e++)this._tabClick(this._tabitems[e],"on");return s},onRemove:function(t){for(var e=0;e<this._tabitems.length;e++)this._tabClick(this._tabitems[e],"off");for(e=0;e<this._closeButtons.length;e++)this._closeClick(this._closeButtons[e],"off");return this._tabitems=[],this._panes=[],this._closeButtons=[],this},addTo:function(t){return this.onRemove(),this._map=t,this._container=this.onAdd(t),L.DomUtil.addClass(this._container,"leaflet-control"),L.DomUtil.addClass(this._container,"leaflet-sidebar-"+this.getPosition()),L.Browser.touch&&L.DomUtil.addClass(this._container,"leaflet-touch"),L.DomEvent.disableScrollPropagation(this._container),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.on(this._container,"contextmenu",L.DomEvent.stopPropagation),t._container.insertBefore(this._container,t._container.firstChild),this},removeFrom:function(t){return console.warn("removeFrom() has been deprecated, please use remove() instead as support for this function will be ending soon."),this._map._container.removeChild(this._container),this.onRemove(t),this},open:function(t){var e,n,i;if(i=this._getTab(t),L.DomUtil.hasClass(i,"disabled"))return this;for(e=0;e<this._panes.length;e++)(n=this._panes[e]).id===t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");for(e=0;e<this._tabitems.length;e++)(n=this._tabitems[e]).querySelector("a").hash==="#"+t?L.DomUtil.addClass(n,"active"):L.DomUtil.hasClass(n,"active")&&L.DomUtil.removeClass(n,"active");return this.fire("content",{id:t}),L.DomUtil.hasClass(this._container,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._container,"collapsed"),this.options.autopan&&this._panMap("open")),this},close:function(){var t;for(t=0;t<this._tabitems.length;t++){var e=this._tabitems[t];L.DomUtil.hasClass(e,"active")&&L.DomUtil.removeClass(e,"active")}return L.DomUtil.hasClass(this._container,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._container,"collapsed"),this.options.autopan&&this._panMap("close")),this},addPanel:function(t){var e,n,i,o,s;return n=L.DomUtil.create("li",t.disabled?"disabled":""),(i=L.DomUtil.create("a","",n)).href="#"+t.id,i.setAttribute("role","tab"),i.innerHTML=t.tab,n._sidebar=this,n._id=t.id,n._button=t.button,t.title&&"<"!==t.title[0]&&(n.title=t.title),"bottom"===t.position?this._tabContainerBottom.appendChild(n):this._tabContainerTop.appendChild(n),this._tabitems.push(n),t.pane&&("string"==typeof t.pane?(e=L.DomUtil.create("DIV","leaflet-sidebar-pane",this._paneContainer),s="",t.title&&(s+='<h1 class="leaflet-sidebar-header">'+t.title),this.options.closeButton&&(s+='<span class="leaflet-sidebar-close"><i class="fa fa-caret-'+this.options.position+'"></i></span>'),t.title&&(s+="</h1>"),e.innerHTML=s+t.pane):(e=t.pane,this._paneContainer.appendChild(e)),e.id=t.id,this._panes.push(e),(o=e.querySelectorAll(".leaflet-sidebar-close")).length&&(this._closeButtons.push(o[o.length-1]),this._closeClick(o[o.length-1],"on"))),this._tabClick(n,"on"),this},removePanel:function(t){var e,n,i,o,s;for(e=0;e<this._tabitems.length;e++)if(this._tabitems[e]._id===t){i=this._tabitems[e],this._tabClick(i,"off"),i.remove(),this._tabitems.splice(e,1);break}for(e=0;e<this._panes.length;e++)if(this._panes[e].id===t){for(s=(o=this._panes[e]).querySelectorAll(".leaflet-sidebar-close"),n=0;n<s.length;n++)this._closeClick(s[n],"off");o.remove(),this._panes.splice(e,1);break}return this},enablePanel:function(t){var e=this._getTab(t);return L.DomUtil.removeClass(e,"disabled"),this},disablePanel:function(t){var e=this._getTab(t);return L.DomUtil.addClass(e,"disabled"),this},onTabClick:function(t){L.DomUtil.hasClass(this,"active")?this._sidebar.close():L.DomUtil.hasClass(this,"disabled")||("string"==typeof this._button?window.location.href=this._button:"function"==typeof this._button?this._button(t):this._sidebar.open(this.querySelector("a").hash.slice(1)))},_tabClick:function(t,e){var n=t.querySelector("a");n.hasAttribute("href")&&"#"===n.getAttribute("href")[0]&&("on"===e?L.DomEvent.on(t.querySelector("a"),"click",L.DomEvent.preventDefault,t).on(t.querySelector("a"),"click",this.onTabClick,t):L.DomEvent.off(t.querySelector("a"),"click",this.onTabClick,t))},onCloseClick:function(){this.close()},_closeClick:function(t,e){"on"===e?L.DomEvent.on(t,"click",this.onCloseClick,this):L.DomEvent.off(t,"click",this.onCloseClick)},_getTab:function(t){for(var e=0;e<this._tabitems.length;e++)if(this._tabitems[e]._id===t)return this._tabitems[e];throw Error('tab "'+t+'" not found')},_panMap:function(t){var e=Number.parseInt(L.DomUtil.getStyle(this._container,"max-width"))/2;("open"===t&&"left"===this.options.position||"close"===t&&"right"===this.options.position)&&(e*=-1),this._map.panBy([e,0],{duration:.5})}}),L.control.sidebar=function(t,e){return new L.Control.Sidebar(t,e)},L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[12,12],color:"red"},initialize:function(t){L.setOptions(this,t);var e="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random());this.options.className=this.options.className+" leaflet-pulsing-icon "+e;var n="."+e;n+="."+e+":after{box-shadow: 0 0 4px 6px "+this.options.color+";}";var i=document.createElement("style");i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(i),L.DivIcon.prototype.initialize.call(this,t)}}),L.icon.pulse=function(t){return new L.Icon.Pulse(t)};var user_markers_layer=new L.FeatureGroup,common_markers_layer=new L.layerGroup,markers_array=null,user_markers_array=[],nodes,polyline,tile_main,layerControl,all_markers=[],knowledge_markers=[],selected_nodes=new L.FeatureGroup,myRenderer=L.canvas({padding:.5}),custom_markers=new L.layerGroup;function init_map(){map=L.map("main",{minZoom:1,maxZoom:9,touchZoom:!0,crs:L.CRS.Simple,attributionControl:!1,fullscreenControl:!0,fullscreenControlOptions:{position:"topleft"}}).setView([-148,140],3),tile_main=L.tileLayer("/zonemap/main/{z}/{x}/{y}.webp",{tms:!1,noWrap:!0,bounds:[[-240,0],[0,240]]}).addTo(map),map.on("zoomend ",(function(t){update_layer_visibility(t.target._zoom)})),L.control.mousePosition().addTo(map),load_markers(),$('a[data-toggle="tab"]').on("shown.bs.tab",(function(t){map.invalidateSize(!1)})),setup_user_markers()}function load_markers(){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"get_markers",atype:get_action(),l:lang}}).then((function(t){1==t.result&&(markers_array=t.data,print_markers())}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function delete_marker(t){user_id>1&&$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"delete_marker",marker_id:t,l:lang}}).then((function(t){t.result}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function update_layers(t,e){var n=null,i=0;for(var o in t)for(var s in t[o]){var r=null;if(t[o][s].coords=JSON.parse(t[o][s].coords),1==t[o][s].marker_type?n=(r=new L.polyline(t[o][s].coords,{title:t[o][s].description})).getBounds().getCenter():2==t[o][s].marker_type?n=(r=new L.polygon(t[o][s].coords,{title:t[o][s].description})).getBounds().getCenter():3==t[o][s].marker_type?n=(r=new L.rectangle(t[o][s].coords,{title:t[o][s].description})).getBounds().getCenter():4==t[o][s].marker_type?(r=new L.circle(t[o][s].coords[0],JSON.parse(t[o][s].coords[1]),{title:t[o][s].description}),n=L.latLng(t[o][s].coords[0],t[o][s].coords[1])):5==t[o][s].marker_type&&(r=new L.marker(t[o][s].coords,{riseOnHover:!0,title:t[o][s].description}),n=L.latLng(t[o][s].coords[0],t[o][s].coords[1])),null!=r){var a=t[o][s].description;if(null==a&&(a="Marker"),1==e)common_markers_layer.addLayer(r),r.bindTooltip(a,{sticky:!1,direction:"top",permanent:!0,className:"common_tooltip"}),r.on("add",(function(t){t.target.openTooltip()}));else{user_markers_layer.addLayer(r);var l=user_markers_layer.getLayerId(r);r.bindPopup(get_popup_text(l,a)).bindTooltip(a,{sticky:!0,direction:"top"}),user_markers_array[l]=t[o][s]}}i++}1==e&&null!=n&&i<4&&map.setView(n,5)}function get_marker_coords(t,e){var n=[];if(1==e)for(key in t._latlngs)n.push([t._latlngs[key].lat,t._latlngs[key].lng]);else if(2==e)for(key in t._latlngs[0])n.push([t._latlngs[0][key].lat,t._latlngs[0][key].lng]);else 3==e?n.push([t._bounds._northEast.lat,t._bounds._northEast.lng],[t._bounds._southWest.lat,t._bounds._southWest.lng]):4==e?n.push([t._latlng.lat,t._latlng.lng],t._mRadius):5==e&&n.push(t._latlng.lat,t._latlng.lng);return n}function get_popup_text(t,e){var n='<div class="center_text"><span class="medium_title2">'+msg_marker_description+'</span><br><textarea class="marker_description" id="description_'+t+'">'+e+'</textarea><br><button data-layer_id="'+t+'" class="btn btn-info btn-xs save_description_button" type="button">'+msg_save+'</button> <button data-layer_id="'+t+'" class="btn btn-success btn-xs link_button" type="button" title="'+msg_link+'"><i class="bi bi-paperclip"></i></button>';return 1==user_status&&(n+='<hr><div class="input-group smallertext"><select class="form-control object_type_input" data-layer_id="'+t+'"><option value="0"></option><option value="1">ZONE</option><option value="2">NPC</option></select><input type="text" class="form-control input-sm object_id_input" data-layer_id="'+t+'" name="counter" size="10" maxlength="10"></div>'),n+="</div>"}function update_layer_visibility(t){for(var e in all_markers){var n=layerControl._layers[0].layer.getLayerId(all_markers[e]),i="";markers_array.nodes[e][5]>0&&(i=" ("+markers_array.nodes[e][5]+")");var o=L.divIcon({className:"marker_icon_block",html:'<img src="/images/node_icons/icon_node_'+markers_array.nodes[e][2]+'.webp" class="marker_icon"><div class="marker_title">'+markers_array.nodes[e][1]+i+"</div>",iconSize:[30,34],iconAnchor:[15,15],popupAnchor:[0,-15],labelAnchor:[15,0]}),s=L.icon({iconUrl:"/images/node_icons/icon_node_"+markers_array.nodes[e][2]+".webp",iconSize:[25,27],iconAnchor:[15,15],popupAnchor:[0,-15],labelAnchor:[15,0]});(t>4||2==markers_array.nodes[e][2])&&(s=o);for(var r=0;r<3;r++)if(layerControl._layers[r].layer.hasLayer(all_markers[e])){layerControl._layers[r].layer._layers[n].setIcon(s);break}}}function print_markers(){var t=[];all_markers=[];var e,n=new L.layerGroup,i=new L.layerGroup,o=new L.layerGroup,s=new L.layerGroup,r=new L.layerGroup;for(var a in markers_array.nodes){var l=map.unproject(markers_array.nodes[a][0],map.getMaxZoom());L.latLng(l);var c="";markers_array.nodes[a][5]>0&&(c=" ("+markers_array.nodes[a][5]+")");var u=L.divIcon({className:"marker_icon_block",html:'<img src="/images/node_icons/icon_node_'+markers_array.nodes[a][2]+'.webp" class="marker_icon"><div class="marker_title">'+markers_array.nodes[a][1]+c+"</div>",iconSize:[30,34],iconAnchor:[15,15],popupAnchor:[0,-15],labelAnchor:[15,0]}),h=L.icon({iconUrl:"/images/node_icons/icon_node_"+markers_array.nodes[a][2]+".webp",iconSize:[25,27],iconAnchor:[15,15],popupAnchor:[0,-15],labelAnchor:[15,0]});2==markers_array.nodes[a][2]&&(h=u),e=new L.Marker(l,{icon:h,riseOnHover:!0}),2==markers_array.nodes[a][2]&&e.setZIndexOffset(900),e.bindTooltip("ID: "+markers_array.nodes[a][4]+"<br>"+markers_array.nodes[a][1]+c+markers_array.nodes[a][6],{sticky:!1,direction:"top",permanent:!1,className:"marker_tooltip"}),1==markers_array.nodes[a][3]?1==markers_array.nodes[a][2]||2==markers_array.nodes[a][2]?n.addLayer(e):i.addLayer(e):o.addLayer(e),all_markers[a]=e,t.push({name:markers_array.nodes[a][1],icon:"icon_node_"+markers_array.nodes[a][2]+".webp",icon_path:"images/node_icons",object_type:markers_array.msgs[5],data_type:1,id:a})}for(var d in markers_array.products)t.push({name:markers_array.products[d].data[1],icon:markers_array.products[d].data[0],icon_path:"items",object_type:markers_array.msgs[6],data_type:2,id:d});if("worldmap"==get_action()&&void 0!==markers_array.knowledge)for(let t in markers_array.knowledge){let e=map.unproject(markers_array.knowledge[t][0],map.getMaxZoom()),n="",i=!0,o="red",s="";for(let e in markers_array.knowledge[t][1]){let o="red",r=markers_array.knowledge[t][1][e],a=r[2];void 0!==sk&&void 0!==sk[a]&&1==sk[a][0]?o="#2c8ffd":i=!1,n+=s+'<div style="width:10px;height:10px;background-color:'+o+';display:inline-block;"></div> '+markers_array.msgs[8]+": "+r[3]+" ("+r[2]+")<br>"+r[4]+"<br>NPC: "+r[1]+" ("+r[0]+") "+markers_array.msgs[9]+": "+r[5],""==s&&(s='<hr class="tooltiphr">')}i&&(o="#2c8ffd");let a=new L.circleMarker(e,{radius:5,color:o,fillColor:o,fillOpacity:.5,riseOnHover:!0,renderer:myRenderer});a.bindTooltip(n,{sticky:!1,direction:"top",permanent:!1,riseOnHover:!0,className:"marker_tooltip_dark"}),r.addLayer(a)}var p=[];for(a=0;a<markers_array.plinks.length;a++){var f=[map.unproject(markers_array.plinks[a][0],map.getMaxZoom()),map.unproject(markers_array.plinks[a][1],map.getMaxZoom())];p.push(f)}var m=L.polyline(p,{color:"green"});for(o.addLayer(m),p=[],a=0;a<markers_array.links.length;a++)f=[map.unproject(markers_array.links[a][0],map.getMaxZoom()),map.unproject(markers_array.links[a][1],map.getMaxZoom())],p.push(f);s=L.polyline(p,{color:"cyan"});var _={};_[markers_array.msgs[1]]=n,_[markers_array.msgs[2]]=i,_[markers_array.msgs[3]]=o,_[markers_array.msgs[4]]=s,"worldmap"==get_action()&&(_[markers_array.msgs[7]]=r);var g={};g[markers_array.msgs[0]]=_,layerControl=L.control.groupedLayers(null,g,{collapsed:!1}),map.addControl(layerControl),$(".leaflet-control-layers-selector:checkbox")[0].click(),$(".leaflet-control-layers-selector:checkbox")[1].click(),sidebar=L.control.sidebar({autopan:!1,closeButton:!0,container:"wm-sidebar",position:"left"}).addTo(map),$("#wm-sidebar").show();var v=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,local:t,limit:1/0});v.initialize(),$(".typeahead-map").typeahead({classNames:{open:"wm-open",menu:"wm-menu",query:"wm-query",cursor:"wm-cursor",suggestion:"wm-suggestion"},hint:!0,highlight:!0,minLength:2},{name:"matched-links",displayKey:"name",limit:1/0,source:v.ttAdapter(),templates:{empty:null,suggestion:Handlebars.compile('<p><img src="/{{icon_path}}/{{icon}}" class="image-text" alt="icon" width="30px" height="30px"> <span class="">{{name}}</span><span class="object_type">{{object_type}}</span></p>')}}),$(".typeahead-map").on("typeahead:selected",(function(t,e){select_markers(e)}))}function toggle_knowledge_marker(t){let e=markers_array.knowledge[1*this.knowledge_idx],n=e[3];if(t.originalEvent.altKey)window.open("/"+lang+"/theme/"+n+"/");else{let t="red";void 0!==sk&&(void 0===sk[n]?(sk[n]=[1,0],t="#2c8ffd"):(delete sk[n],t="red"),this.setTooltipContent('<div style="width:10px;height:10px;background-color:'+t+';display:inline-block;"></div> Знание: '+e[4]+" ("+e[3]+")<br>"+e[5]+"<br>NPC: "+e[2]+" ("+e[1]+")"),this.setStyle({color:t}),this.setStyle({fillColor:t})),delay((function(){save_knowledge()}),1e3)}}function filter_markers(t,e){var n=t.split(" "),i=!0;for(var o in layerControl._layers[0].layer._layers)if(t.length>=2){var s=layerControl._layers[0].layer._layers[o]._tooltip._content.toLowerCase();for(var r in n)null!=s&&s.search(n[r].toLowerCase())>-1||(i=!1);i&&console.log(s)}}function select_markers(t){var e;selected_nodes.clearLayers();var n=L.icon.pulse({iconSize:[20,20],color:"red"});if(1==t.data_type){layerControl._layers[0].layer.getLayerId(all_markers[t.id]);e=L.marker(all_markers[t.id]._latlng,{icon:n}),selected_nodes.addLayer(e)}else if(2==t.data_type)for(var i in markers_array.products[t.id].nodes)e=L.marker(all_markers[markers_array.products[t.id].nodes[i]]._latlng,{icon:n}).addTo(map),selected_nodes.addLayer(e);selected_nodes.addTo(map),map.fitBounds(selected_nodes.getBounds())}function setup_user_markers(){map.addLayer(custom_markers),map.on("click",(function(t){if(t.originalEvent.ctrlKey){console.log(t.latlng);var e=new L.Marker(t.latlng).on("click",markerOnClick);custom_markers.addLayer(e);var n=0;for(var i in custom_markers._layers)n++;n+="",e.bindTooltip(n,{sticky:!0,direction:"top",permanent:!0,offset:[1,-30]}),update_url_markers()}})),display_user_markers()}function markerOnClick(t){t.originalEvent.ctrlKey&&(custom_markers.removeLayer(this._leaflet_id),update_url_markers())}function markerOnClickMobile(t){custom_markers.removeLayer(this._leaflet_id),update_url_markers()}function get_markers(){var t="",e="";for(var n in custom_markers._layers){var i=map.project(custom_markers._layers[n]._latlng,map.getMaxZoom());i.x=25*(i.x-68600),i.y=25*(i.y-72208)*-1,t+=e+i.x+","+i.y,""==e&&(e="|")}return t}function update_url_markers(){window.history.replaceState({},"","#"+get_markers())}function display_user_markers(){var t=window.location.hash.replace(/[^0-9\-\,\.\|]/gm,"").replace("#","").split("|");for(var e in t){var n=t[e].split(",");if(2===n.length){var i=L.point(68600+n[0]/25,72208+-1*n[1]/25),o=map.unproject(i,map.getMaxZoom()),s=new L.Marker(o).on("click",markerOnClick),r=1*e+1+"";s.bindTooltip(r,{sticky:!0,direction:"top",permanent:!0,offset:[1,-30]}),custom_markers.addLayer(s)}}}$.fn.slideFadeToggle=function(t,e){return this.animate({opacity:"toggle",height:"toggle"},"fast",t,e)},function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}((function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,i=t(n);if(!i.is("[type=submit],[type=image]")){var o=i.closest("[type=submit]");if(0===o.length)return;n=o[0]}var s=this;if(s.clk=n,"image"==n.type)if(void 0!==e.offsetX)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var r=i.offset();s.clk_x=e.pageX-r.left,s.clk_y=e.pageY-r.top}else s.clk_x=e.pageX-n.offsetLeft,s.clk_y=e.pageY-n.offsetTop;setTimeout((function(){s.clk=s.clk_x=s.clk_y=null}),100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var o={};o.fileapi=void 0!==t("<input type='file'/>").get(0).files,o.formdata=void 0!==window.FormData;var s=!!t.fn.prop;t.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){function o(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){i("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){i("cannot get iframe.contentDocument: "+n),e=t.document}return e}function a(){var e=c.attr2("target"),n=c.attr2("action"),s=c.attr("enctype")||c.attr("encoding")||"multipart/form-data";k.setAttribute("target",m),(!r||/post/i.test(r))&&k.setAttribute("method","POST"),n!=d.url&&k.setAttribute("action",d.url),d.skipEncodingOverride||r&&!/post/i.test(r)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout((function(){w=!0,l(T)}),d.timeout));var a=[];try{if(d.extraData)for(var u in d.extraData)d.extraData.hasOwnProperty(u)&&(t.isPlainObject(d.extraData[u])&&d.extraData[u].hasOwnProperty("name")&&d.extraData[u].hasOwnProperty("value")?a.push(t('<input type="hidden" name="'+d.extraData[u].name+'">').val(d.extraData[u].value).appendTo(k)[0]):a.push(t('<input type="hidden" name="'+u+'">').val(d.extraData[u]).appendTo(k)[0]));d.iframeTarget||_.appendTo("body"),g.attachEvent?g.attachEvent("onload",l):g.addEventListener("load",l,!1),setTimeout((function t(){try{var e=o(g).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(t){i("Server abort: ",t," (",t.name,")"),l(C),x&&clearTimeout(x),x=void 0}}),15);try{k.submit()}catch(t){document.createElement("form").submit.apply(k)}}finally{k.setAttribute("action",n),k.setAttribute("enctype",s),e?k.setAttribute("target",e):c.removeAttr("target"),t(a).remove()}}function l(e){if(!v.aborted&&!E){if(($=o(g))||(i("cannot access response document"),e=C),e===T&&v)return v.abort("timeout"),void S.reject(v,"timeout");if(e==C&&v)return v.abort("server abort"),void S.reject(v,"error","server abort");if($&&$.location.href!=d.iframeSrc||w){g.detachEvent?g.detachEvent("onload",l):g.removeEventListener("load",l,!1);var n,s="success";try{if(w)throw"timeout";var r="xml"==d.dataType||$.XMLDocument||t.isXMLDoc($);if(i("isXml="+r),!r&&window.opera&&(null===$.body||!$.body.innerHTML)&&--D)return i("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var a=$.body?$.body:$.documentElement;v.responseText=a?a.innerHTML:null,v.responseXML=$.XMLDocument?$.XMLDocument:$,r&&(d.dataType="xml"),v.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},a&&(v.status=Number(a.getAttribute("status"))||v.status,v.statusText=a.getAttribute("statusText")||v.statusText);var c=(d.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||d.textarea){var h=$.getElementsByTagName("textarea")[0];if(h)v.responseText=h.value,v.status=Number(h.getAttribute("status"))||v.status,v.statusText=h.getAttribute("statusText")||v.statusText;else if(u){var p=$.getElementsByTagName("pre")[0],m=$.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:m&&(v.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=I(v.responseText));try{A=O(v,c,d)}catch(t){s="parsererror",v.error=n=t||s}}catch(t){i("error caught: ",t),s="error",v.error=n=t||s}v.aborted&&(i("upload aborted"),s=null),v.status&&(s=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===s?(d.success&&d.success.call(d.context,A,"success",v),S.resolve(v.responseText,"success",v),f&&t.event.trigger("ajaxSuccess",[v,d])):s&&(void 0===n&&(n=v.statusText),d.error&&d.error.call(d.context,v,s,n),S.reject(v,"error",n),f&&t.event.trigger("ajaxError",[v,d,n])),f&&t.event.trigger("ajaxComplete",[v,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,v,s),E=!0,d.timeout&&clearTimeout(x),setTimeout((function(){d.iframeTarget?_.attr("src",d.iframeSrc):_.remove(),v.responseXML=null}),100)}}}var u,h,d,f,m,_,g,v,y,b,w,x,k=c[0],S=t.Deferred();if(S.abort=function(t){v.abort(t)},n)for(h=0;h<p.length;h++)u=t(p[h]),s?u.prop("disabled",!1):u.removeAttr("disabled");if((d=t.extend(!0,{},t.ajaxSettings,e)).context=d.context||d,m="jqFormIO"+(new Date).getTime(),d.iframeTarget?(b=(_=t(d.iframeTarget)).attr2("name"))?m=b:_.attr2("name",m):(_=t('<iframe name="'+m+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),g=_[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(t){}_.attr("src",d.iframeSrc),v.error=n,d.error&&d.error.call(d.context,v,n,e),f&&t.event.trigger("ajaxError",[v,d,n]),d.complete&&d.complete.call(d.context,v,n)}},(f=d.global)&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[v,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,v,d))return d.global&&t.active--,S.reject(),S;if(v.aborted)return S.reject(),S;(y=k.clk)&&((b=y.name)&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=y.value,"image"==y.type&&(d.extraData[b+".x"]=k.clk_x,d.extraData[b+".y"]=k.clk_y)));var T=1,C=2,L=t("meta[name=csrf-token]").attr("content"),P=t("meta[name=csrf-param]").attr("content");P&&L&&(d.extraData=d.extraData||{},d.extraData[P]=L),d.forceSync?a():setTimeout(a,10);var A,$,E,D=50,I=t.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},M=t.parseJSON||function(t){return window.eval("("+t+")")},O=function(e,n,i){var o=e.getResponseHeader("content-type")||"",s="xml"===n||!n&&o.indexOf("xml")>=0,r=s?e.responseXML:e.responseText;return s&&"parsererror"===r.documentElement.nodeName&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(r=i.dataFilter(r,n)),"string"==typeof r&&("json"===n||!n&&o.indexOf("json")>=0?r=M(r):("script"===n||!n&&o.indexOf("javascript")>=0)&&t.globalEval(r)),r};return S}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var r,a,l,c=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),r=e.type||this.attr2("method"),(l=(l="string"==typeof(a=e.url||this.attr2("action"))?t.trim(a):"")||window.location.href||"")&&(l=(l.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:l,success:t.ajaxSettings.success,type:r||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var u={};if(this.trigger("form-pre-serialize",[this,e,u]),u.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=e.traditional;void 0===h&&(h=t.ajaxSettings.traditional);var d,p=[],f=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,d=t.param(e.data,h)),e.beforeSubmit&&!1===e.beforeSubmit(f,this,e))return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,e,u]),u.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(f,h);d&&(m=m?m+"&"+d:d),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var _=[];if(e.resetForm&&_.push((function(){c.resetForm()})),e.clearForm&&_.push((function(){c.clearForm(e.includeHidden)})),!e.dataType&&e.target){var g=e.success||function(){};_.push((function(n){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](n).each(g,arguments)}))}else e.success&&_.push(e.success);if(e.success=function(t,n,i){for(var o=e.context||this,s=0,r=_.length;r>s;s++)_[s].apply(o,[t,n,i||c,c])},e.error){var v=e.error;e.error=function(t,n,i){var o=e.context||this;v.apply(o,[t,n,i,c])}}if(e.complete){var y=e.complete;e.complete=function(t,n){var i=e.context||this;y.apply(i,[t,n,c])}}var b=t("input[type=file]:enabled",this).filter((function(){return""!==t(this).val()})).length>0,w="multipart/form-data",x=c.attr("enctype")==w||c.attr("encoding")==w,k=o.fileapi&&o.formdata;i("fileAPI :"+k);var S,T=(b||x)&&!k;!1!==e.iframe&&(e.iframe||T)?e.closeKeepAlive?t.get(e.closeKeepAlive,(function(){S=n(f)})):S=n(f):S=(b||x)&&k?function(n){for(var i=new FormData,o=0;o<n.length;o++)i.append(n[o].name,n[o].value);if(e.extraData){var s=function(n){var i,o,s=t.param(n,e.traditional).split("&"),r=s.length,a=[];for(i=0;r>i;i++)s[i]=s[i].replace(/\+/g," "),o=s[i].split("="),a.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return a}(e.extraData);for(o=0;o<s.length;o++)s[o]&&i.append(s[o][0],s[o][1])}e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:r||"POST"});e.uploadProgress&&(a.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",(function(t){var n=0,i=t.loaded||t.position,o=t.total;t.lengthComputable&&(n=Math.ceil(i/o*100)),e.uploadProgress(t,i,o,n)}),!1),n}),a.data=null;var l=a.beforeSend;return a.beforeSend=function(t,n){n.data=e.formData?e.formData:i,l&&l.call(this,t,n)},t.ajax(a)}(f):t.ajax(e),c.removeData("jqxhr").data("jqxhr",S);for(var C=0;C<p.length;C++)p[C]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(o){if((o=o||{}).delegation=o.delegation&&t.isFunction(t.fn.on),!o.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),t((function(){t(s.s,s.c).ajaxForm(o)})),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return o.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,o,e).on("click.form-plugin",this.selector,o,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",o,e).bind("click.form-plugin",o,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var i=[];if(0===this.length)return i;var s,r,a,l,c,u,h,d,p=this[0],f=this.attr("id"),m=e?p.getElementsByTagName("*"):p.elements;if(m&&(m=t(m).get()),f&&((s=t(":input[form="+f+"]").get()).length&&(m=(m||[]).concat(s))),!m||!m.length)return i;for(r=0,h=m.length;h>r;r++)if((l=(u=m[r]).name)&&!u.disabled)if(e&&p.clk&&"image"==u.type)p.clk==u&&(i.push({name:l,value:t(u).val(),type:u.type}),i.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}));else if((c=t.fieldValue(u,!0))&&c.constructor==Array)for(n&&n.push(u),a=0,d=c.length;d>a;a++)i.push({name:l,value:c[a]});else if(o.fileapi&&"file"==u.type){n&&n.push(u);var _=u.files;if(_.length)for(a=0;a<_.length;a++)i.push({name:l,value:_[a],type:u.type});else i.push({name:l,value:"",type:u.type})}else null!=c&&(n&&n.push(u),i.push({name:l,value:c,type:u.type,required:u.required}));if(!e&&p.clk){var g=t(p.clk),v=g[0];(l=v.name)&&!v.disabled&&"image"==v.type&&(i.push({name:l,value:g.val()}),i.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each((function(){var i=this.name;if(i){var o=t.fieldValue(this,e);if(o&&o.constructor==Array)for(var s=0,r=o.length;r>s;s++)n.push({name:i,value:o[s]});else null!=o&&n.push({name:this.name,value:o})}})),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,o=this.length;o>i;i++){var s=this[i],r=t.fieldValue(s,e);null==r||r.constructor==Array&&!r.length||(r.constructor==Array?t.merge(n,r):n.push(r))}return n},t.fieldValue=function(e,n){var i=e.name,o=e.type,s=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||e.disabled||"reset"==o||"button"==o||("checkbox"==o||"radio"==o)&&!e.checked||("submit"==o||"image"==o)&&e.form&&e.form.clk!=e||"select"==s&&-1==e.selectedIndex))return null;if("select"==s){var r=e.selectedIndex;if(0>r)return null;for(var a=[],l=e.options,c="select-one"==o,u=c?r+1:l.length,h=c?r:0;u>h;h++){var d=l[h];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return p;a.push(p)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each((function(){t("input,select,textarea",this).clearFields(e)}))},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var i=this.type,o=this.tagName.toLowerCase();n.test(i)||"textarea"==o?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==o?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(i)||"string"==typeof e&&t(this).is(e))&&(this.value="")}))},t.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each((function(){this.disabled=!t}))},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each((function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var i=t(this).parent("select");e&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=e}}))},t.fn.ajaxSubmit.debug=!1})),
/*!
 * jQuery Upload File Plugin
 * version: 3.1.8
 * @requires jQuery v1.5 or later & form plugin
 * Copyright (c) 2013 Ravishanker Kusuma
 * http://hayageek.com/
 */
function(t){null==t.fn.ajaxForm&&t.getScript("http://malsup.github.io/jquery.form.js");var e={};e.fileapi=void 0!==t("<input type='file'/>").get(0).files,e.formdata=void 0!==window.FormData,t.fn.uploadFile=function(n){function i(){d.afterUploadAll&&!_&&(_=!0,function t(){0!=f.sCounter&&f.sCounter+f.fCounter==f.tCounter?(d.afterUploadAll(f),_=!1):window.setTimeout(t,100)}())}function o(t){var e="",n=t/1024;parseInt(n)>1024?e=(n/1024).toFixed(2)+" MB":e=n.toFixed(2)+" KB";return e}function s(e){var n,i,o=[],s=(o="string"==jQuery.type(e)?e.split("&"):t.param(e).split("&")).length,r=[];for(n=0;n<s;n++)o[n]=o[n].replace(/\+/g," "),i=o[n].split("="),r.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return r}function r(e,n,i){for(var r=0;r<i.length;r++)if(a(n,e,i[r].name))if(-1!=e.maxFileSize&&i[r].size>e.maxFileSize)e.showError&&t("<div style='color:red;'><b>"+i[r].name+"</b> "+e.sizeErrorStr+o(e.maxFileSize)+"</div>").appendTo(n.errorLog);else if(-1!=e.maxFileCount&&n.selectedFiles>=e.maxFileCount)e.showError&&t("<div style='color:red;'><b>"+i[r].name+"</b> "+e.maxFileCountErrorStr+e.maxFileCount+"</div>").appendTo(n.errorLog);else{n.selectedFiles++;var l=e,c=new FormData,d=e.fileName.replace("[]","");c.append(d,i[r]);var p=e.formData;if(p)for(var f=s(p),m=0;m<f.length;m++)f[m]&&c.append(f[m][0],f[m][1]);l.fileData=c;var _=new u(n,e),g="";g=e.showFileCounter?n.fileCounter+e.fileCounterStyle+i[r].name:i[r].name,_.filename.html(g);var v=t("<form style='display:block; position:absolute;left: 150px;' class='"+n.formGroup+"' method='"+e.method+"' action='"+e.url+"' enctype='"+e.enctype+"'></form>");v.appendTo("body");var y=[];y.push(i[r].name),h(v,l,_,y,n,i[r]),n.fileCounter++}else e.showError&&t("<div style='color:red;'><b>"+i[r].name+"</b> "+e.extErrorStr+e.allowedTypes+"</div>").appendTo(n.errorLog)}function a(t,e,n){var i=e.allowedTypes.toLowerCase().split(","),o=n.split(".").pop().toLowerCase();return!("*"!=e.allowedTypes&&jQuery.inArray(o,i)<0)}function l(e,n){if(e.showFileCounter){var i=t(".ajax-file-upload-filename").length;n.fileCounter=i+1,t(".ajax-file-upload-filename").each((function(n,o){var s=t(this).html().split(e.fileCounterStyle),r=(parseInt(s[0]),i+e.fileCounterStyle+s[1]);t(this).html(r),i--}))}}function c(n,i,o,s){var d="ajax-upload-id-"+(new Date).getTime(),p=t("<form method='"+o.method+"' action='"+o.url+"' enctype='"+o.enctype+"'></form>"),f="<input type='file' id='"+d+"' name='"+o.fileName+"' accept='"+o.acceptFiles+"'/>";o.multiple&&(o.fileName.indexOf("[]")!=o.fileName.length-2&&(o.fileName+="[]"),f="<input type='file' id='"+d+"' name='"+o.fileName+"' accept='"+o.acceptFiles+"' multiple/>");var m=t(f).appendTo(p);m.change((function(){n.errorLog.html("");o.allowedTypes.toLowerCase().split(",");var d=[];if(this.files){for(v=0;v<this.files.length;v++)d.push(this.files[v].name);if(0==o.onSelect(this.files))return}else{var f=t(this).val(),m=[];if(d.push(f),!a(0,o,f))return void(o.showError&&t("<div style='color:red;'><b>"+f+"</b> "+o.extErrorStr+o.allowedTypes+"</div>").appendTo(n.errorLog));if(m.push({name:f,size:"NA"}),0==o.onSelect(m))return}if(l(o,n),s.unbind("click"),p.hide(),c(n,i,o,s),p.addClass(i),e.fileapi&&e.formdata){p.removeClass(i);var _=this.files;r(o,n,_)}else{for(var g="",v=0;v<d.length;v++)o.showFileCounter?g+=n.fileCounter+o.fileCounterStyle+d[v]+"<br>":g+=d[v]+"<br>",n.fileCounter++;if(-1!=o.maxFileCount&&n.selectedFiles+d.length>o.maxFileCount)return void(o.showError&&t("<div style='color:red;'><b>"+g+"</b> "+o.maxFileCountErrorStr+o.maxFileCount+"</div>").appendTo(n.errorLog));n.selectedFiles+=d.length;var y=new u(n,o);y.filename.html(g),h(p,o,y,d,n,null)}})),o.nestedForms?(p.css({margin:0,padding:0}),s.css({position:"relative",overflow:"hidden",cursor:"default"}),m.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),p.appendTo(s)):(p.appendTo(t("body")),p.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?s.attr("for",d):s.click((function(){m.click()})))}function u(e,n){return this.statusbar=t("<div class='ajax-file-upload-statusbar'></div>").width(n.statusBarWidth),this.preview=t("<img class='ajax-file-upload-preview'></img>").width(n.previewWidth).height(n.previewHeight).appendTo(this.statusbar).hide(),this.filename=t("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=t("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=t("<div class='ajax-file-upload-bar "+e.formGroup+"'></div>").appendTo(this.progressDiv),this.abort=t("<div class='ajax-file-upload-red ajax-file-upload-abort "+e.formGroup+"'>"+n.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=t("<div class='ajax-file-upload-red ajax-file-upload-cancel "+e.formGroup+"'>"+n.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=t("<div class='ajax-file-upload-green'>"+n.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=t("<div class='ajax-file-upload-green'>"+n.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=t("<div class='ajax-file-upload-red'>"+n.deletelStr+"</div>").appendTo(this.statusbar).hide(),n.showQueueDiv?t("#"+n.showQueueDiv).append(this.statusbar):e.errorLog.after(this.statusbar),this}function h(n,o,r,a,c,u){var h={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:o.method,data:o.formData,formData:o.fileData,dataType:o.returnType,beforeSubmit:function(t,e,u){if(0!=o.onSubmit.call(this,a)){var h=o.dynamicFormData();if(h){var d=s(h);if(d)for(var p=0;p<d.length;p++)d[p]&&(null!=o.fileData?u.formData.append(d[p][0],d[p][1]):u.data[d[p][0]]=d[p][1])}return c.tCounter+=a.length,i(),!0}return r.statusbar.append("<div style='color:red;'>"+o.uploadErrorStr+"</div>"),r.cancel.show(),n.remove(),r.cancel.click((function(){r.statusbar.remove(),o.onCancel.call(c,a,r),c.selectedFiles-=a.length,l(o,c)})),!1},beforeSend:function(t,n){r.progressDiv.show(),r.cancel.hide(),r.done.hide(),o.showAbort&&(r.abort.show(),r.abort.click((function(){t.abort(),c.selectedFiles-=a.length}))),e.formdata?r.progressbar.width("1%"):r.progressbar.width("5%")},uploadProgress:function(t,e,n,i){i>98&&(i=98);var s=i+"%";i>1&&r.progressbar.width(s),o.showProgress&&(r.progressbar.html(s),r.progressbar.css("text-align","center"))},success:function(e,i,s){if("json"==o.returnType&&"object"==t.type(e)&&e.hasOwnProperty(o.customErrorKeyStr)){r.abort.hide();var u=e[o.customErrorKeyStr];return o.onError.call(this,a,200,u,r),o.showStatusAfterError?(r.progressDiv.hide(),r.statusbar.append("<span style='color:red;'>ERROR: "+u+"</span>")):(r.statusbar.hide(),r.statusbar.remove()),c.selectedFiles-=a.length,n.remove(),void(c.fCounter+=a.length)}c.responses.push(e),r.progressbar.width("100%"),o.showProgress&&(r.progressbar.html("100%"),r.progressbar.css("text-align","center")),r.abort.hide(),o.onSuccess.call(this,a,e,s,r),o.showStatusAfterSuccess?(o.showDone?(r.done.show(),r.done.click((function(){r.statusbar.hide("slow"),r.statusbar.remove()}))):r.done.hide(),o.showDelete?(r.del.show(),r.del.click((function(){r.statusbar.hide().remove(),o.deleteCallback&&o.deleteCallback.call(this,e,r),c.selectedFiles-=a.length,l(o,c)}))):r.del.hide()):(r.statusbar.hide("slow"),r.statusbar.remove()),o.showDownload&&(r.download.show(),r.download.click((function(){o.downloadCallback&&o.downloadCallback(e)}))),n.remove(),c.sCounter+=a.length},error:function(t,e,i){r.abort.hide(),"abort"==t.statusText?(r.statusbar.hide("slow").remove(),l(o,c)):(o.onError.call(this,a,e,i,r),o.showStatusAfterError?(r.progressDiv.hide(),r.statusbar.append("<span style='color:red;'>ERROR: "+i+"</span>")):(r.statusbar.hide(),r.statusbar.remove()),c.selectedFiles-=a.length),n.remove(),c.fCounter+=a.length}};o.showPreview&&null!=u&&"image"==u.type.toLowerCase().split("/").shift()&&function(t,e){if(t){e.show();var n=new FileReader;n.onload=function(t){e.attr("src",t.target.result)},n.readAsDataURL(t)}}(u,r.preview),o.autoSubmit?n.ajaxSubmit(h):(o.showCancel&&(r.cancel.show(),r.cancel.click((function(){n.remove(),r.statusbar.remove(),o.onCancel.call(c,a,r),c.selectedFiles-=a.length,l(o,c)}))),n.ajaxForm(h))}var d=t.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:{},dynamicFormData:function(){return{}},maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!0,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(t){},onSelect:function(t){return!0},onSubmit:function(t,e){},onSuccess:function(t,e,n,i){},onError:function(t,e,n,i){},onCancel:function(t,e){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag & Drop Files</b></span>",abortStr:"Abort",cancelStr:"Cancel",deletelStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag & Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:500,dragdropWidth:500,showPreview:!1,previewHeight:"auto",previewWidth:"100%"},n);this.fileCounter=1,this.selectedFiles=0,this.fCounter=0,this.sCounter=0,this.tCounter=0;var p="ajax-file-upload-"+(new Date).getTime();this.formGroup=p,this.hide(),this.errorLog=t("<div></div>"),this.after(this.errorLog),this.responses=[],e.formdata||(d.dragDrop=!1),e.formdata||(d.multiple=!1);var f=this,m=t("<div>"+t(this).html()+"</div>");t(m).addClass(d.uploadButtonClass),function e(){if(t.fn.ajaxForm){if(d.dragDrop){var n=t('<div class="ajax-upload-dragdrop" style="vertical-align:top;"></div>').width(d.dragdropWidth);t(f).before(n),t(n).append(m),t(n).append(t(d.dragDropStr)),function(e,n,i){i.on("dragenter",(function(e){e.stopPropagation(),e.preventDefault(),t(this).css("border","2px solid #A5A5C7")})),i.on("dragover",(function(t){t.stopPropagation(),t.preventDefault()})),i.on("drop",(function(i){t(this).css("border","2px dotted #A5A5C7"),i.preventDefault(),e.errorLog.html("");var o=i.originalEvent.dataTransfer.files;!n.multiple&&o.length>1?n.showError&&t("<div style='color:red;'>"+n.multiDragErrorStr+"</div>").appendTo(e.errorLog):0!=n.onSelect(o)&&r(n,e,o)})),t(document).on("dragenter",(function(t){t.stopPropagation(),t.preventDefault()})),t(document).on("dragover",(function(t){t.stopPropagation(),t.preventDefault(),i.css("border","2px dotted #A5A5C7")})),t(document).on("drop",(function(t){t.stopPropagation(),t.preventDefault(),i.css("border","2px dotted #A5A5C7")}))}(f,d,n)}else t(f).before(m);d.onLoad.call(this,f),c(f,p,d,m)}else window.setTimeout(e,10)}(),this.startUpload=function(){t("."+this.formGroup).each((function(e,n){t(this).is("form")&&t(this).submit()}))},this.getFileCount=function(){return f.selectedFiles},this.stopUpload=function(){t(".ajax-file-upload-abort").each((function(e,n){t(this).hasClass(f.formGroup)&&t(this).click()}))},this.cancelAll=function(){t(".ajax-file-upload-cancel").each((function(e,n){t(this).hasClass(f.formGroup)&&t(this).click()}))},this.update=function(e){d=t.extend(d,e)},this.createProgress=function(t){var e=new u(this,d);e.progressDiv.show(),e.progressbar.width("100%"),e.filename.html(f.fileCounter+d.fileCounterStyle+t),f.fileCounter++,f.selectedFiles++,d.showDownload&&(e.download.show(),e.download.click((function(){d.downloadCallback&&d.downloadCallback.call(f,[t])}))),e.del.show(),e.del.click((function(){e.statusbar.hide().remove();var n=[t];d.deleteCallback&&d.deleteCallback.call(this,n,e),f.selectedFiles-=1,l(d,f)}))},this.getResponses=function(){return this.responses};var _=!1;return this}}(jQuery)
/*!
 * Fotorama 4.5.1 | http://fotorama.io/license/
 */,function(t,e,n,i,o){"use strict";function s(){}function r(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function a(t,e){var n={};return Rt?n.transform="translate3d("+(t+(e?.001:0))+"px,0,0)":n.left=t,n}function l(t){return{"transition-duration":t+"ms"}}function c(t,e){return+String(t).replace(e||"px","")||o}function u(t,e){return function(t){return/%$/.test(t)&&c(t,"%")}(t)/100*e||c(t)}function h(t){return(!!c(t)||!!c(t,"%"))&&t}function d(t,e,n,i){return(t-(i||0))*(e+(n||0))}function p(t,e,n,i){var o,s=t.data();s&&(s.onEndFn=function(){o||(o=!0,clearTimeout(s.tT),n())},s.tProp=e,clearTimeout(s.tT),s.tT=setTimeout((function(){s.onEndFn()}),1.5*i),function(t){var e=t.data();e.tEnd||(t[0].addEventListener({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[kt.prefixed("transition")],(function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),!1),e.tEnd=!0)}(t))}function f(t,e,n){if(t.length){var i=t.data();Rt?(t.css(l(0)),i.onEndFn=s,clearTimeout(i.tT)):t.stop();var o=m(e,(function(){return function(t){return Rt?+function(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}(t.css("transform")):+t.css("left").replace("px","")}(t)}));return t.css(a(o,n)),o}}function m(){for(var t,e=0,n=arguments.length;n>e&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function _(t,e){return Math.round(t+(e-t)/1.5)}function g(){return g.p=g.p||("https:"===n.protocol?"https://":"http://"),g.p}function v(t){var n=e.createElement("a");return n.href=t,n}function y(t,e){if("string"!=typeof t)return t;var n,i;if((t=v(t)).host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var o=n.indexOf("&");-1!==o&&(n=n.substring(0,o)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!e||(n=t.href,i="custom"),!!n&&{id:n,type:i,s:t.search.replace(/^\?/,"")}}function b(t,e,n){var o,s,r=t.video;return"youtube"===r.type?(o=(s=g()+"img.youtube.com/vi/"+r.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===r.type?i.ajax({url:g()+"vimeo.com/api/v2/video/"+r.id+".json",dataType:"jsonp",success:function(i){t.thumbsReady=!0,w(e,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:o,thumb:s}}function w(t,e,n,o){for(var s=0,r=t.length;r>s;s++){var a=t[s];if(a.i===n&&a.thumbsReady){var l={videoReady:!0};l[Yt]=l[te]=l[Qt]=!1,o.splice(s,1,i.extend({},a,l,e));break}}}function x(t){function e(t,e,n){var o=n.thumb&&n.img!==n.thumb,s=c(n.width||t.attr("width")),r=c(n.height||t.attr("height"));i.extend(n,{width:s,height:r,thumbratio:O(n.thumbratio||c(n.thumbwidth||e&&e.attr("width")||o||s)/c(n.thumbheight||e&&e.attr("height")||o||r))})}var n=[];return t.children().each((function(){var t=i(this),o=M(i.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))!function(t,n,o){var s=t.children("img").eq(0),r=t.attr("href"),a=t.attr("src"),l=s.attr("src"),c=n.video,u=!!o&&y(r,!0===c);u?r=!1:u=c,e(t,s,i.extend(n,{video:u,img:n.img||r||a||l,thumb:n.thumb||l||a||r}))}(t,o,!0);else{if(t.is(":empty"))return;e(t,null,i.extend(o,{html:this,_html:t.html()}))}n.push(o)})),n}function k(t){return!i.contains(e.documentElement,t)}function S(t,e,n){t()?e():setTimeout((function(){S(t,e)}),n||100)}function T(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function C(t,e,n){var i=t.data(),o=i.measures;if(o&&(!i.l||i.l.W!==o.width||i.l.H!==o.height||i.l.r!==o.ratio||i.l.w!==e.w||i.l.h!==e.h||i.l.m!==n)){var s=o.width,a=o.height,l=e.w/e.h,c=o.ratio>=l,u="scaledown"===n,h="contain"===n,d="cover"===n;c&&(u||h)||!c&&d?a=(s=r(e.w,0,u?s:1/0))/o.ratio:(c&&d||!c&&(u||h))&&(s=(a=r(e.h,0,u?a:1/0))*o.ratio),t.css({width:Math.ceil(s),height:Math.ceil(a),marginLeft:Math.floor(-s/2),marginTop:Math.floor(-a/2)}),i.l={W:o.width,H:o.height,r:o.ratio,w:e.w,h:e.h,m:n}}return!0}function L(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function P(t,e,n,i){if(!n)return!1;if(!isNaN(t))return t-(i?0:1);for(var o,s=0,r=e.length;r>s;s++){if(e[s].id===t){o=s;break}}return o}function A(t,e,n){n=n||{},t.each((function(){var t,o=i(this),r=o.data();r.clickOn||(r.clickOn=!0,i.extend(R(o,{onStart:function(e){t=e,(n.onStart||s).call(this,e)},onMove:n.onMove||s,onTouchEnd:n.onTouchEnd||s,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))}))}function $(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function E(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),i=t[e];t[e]=t[n],t[n]=i}return t}function D(t){return"[object Array]"==Object.prototype.toString.call(t)&&i.map(t,(function(t){return i.extend({},t)}))}function I(t,e){jt.scrollLeft(t).scrollTop(e)}function M(t){if(t){var e={};return i.each(t,(function(t,n){e[t.toLowerCase()]=n})),e}}function O(t){if(t){var e=+t;return isNaN(e)?+(e=t.split("/"))[0]/+e[1]||o:e}}function N(t,e){t.preventDefault(),e&&t.stopPropagation()}function j(t){return t?">":"<"}function B(t,e){var n=t.data(),o=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||s)()};void 0!==e.overPos&&e.overPos!==e.pos&&(o=e.overPos,r=function(){B(t,i.extend({},e,{overPos:e.pos,time:Math.max(Jt,e.time/2)}))});var c=i.extend(a(o,e._001),e.width&&{width:e.width});n.sliding=!0,Rt?(t.css(i.extend(l(e.time),c)),e.time>10?p(t,"transform",r,e.time):r()):t.stop().animate(c,e.time,ee,r)}function F(t,e,n,o,r,a){var l=void 0!==a;if(l||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){t=t||i(t),e=e||i(e);var c=t[0],u=e[0],h="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(l||r.shift())&&r.shift();t&&F.apply(this,t),(o.onEnd||s)(!!t)}},p=o.time/(a||1);n.removeClass(ct+" "+lt),t.stop().addClass(ct),e.stop().addClass(lt),h&&u&&t.fadeTo(0,0),t.fadeTo(h?p:0,1,h&&d),e.fadeTo(p,0,d),c&&h||u||d()}}function z(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=i.now()}function R(n,o){function r(t){return d=i(t.target),b.checked=m=_=v=!1,u||b.flow||t.touches&&t.touches.length>1||t.which>1||It&&It.type!==t.type&&Ot||(m=o.select&&d.is(o.select,y))?m:(f="touchstart"===t.type,_=d.is("a, a *",y),p=b.control,g=b.noMove||b.noSwipe||p?16:b.snap?0:4,z(t),h=It=t,Mt=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(o.onStart||s).call(y,t,{control:p,$target:d}),u=b.flow=!0,void((!f||b.go)&&N(t)))}function a(t){if(t.touches&&t.touches.length>1||Vt&&!t.isPrimary||Mt!==t.type||!u)return u&&l(),void(o.onTouchEnd||s)();z(t);var e=Math.abs(t._x-h._x),n=Math.abs(t._y-h._y),i=e-n,r=(b.go||b.x||i>=0)&&!b.noSwipe,a=0>i;f&&!b.checked?(u=r)&&N(t):(N(t),(o.onMove||s).call(y,t,{touch:f})),!v&&Math.sqrt(Math.pow(e,2)+Math.pow(n,2))>g&&(v=!0),b.checked=b.checked||r||a}function l(t){(o.onTouchEnd||s)();var e=u;b.control=u=!1,e&&(b.flow=!1),!e||_&&!b.checked||(t&&N(t),Ot=!0,clearTimeout(Nt),Nt=setTimeout((function(){Ot=!1}),1e3),(o.onEnd||s).call(y,{moved:v,$target:d,control:p,touch:f,startEvent:h,aborted:!t||"MSPointerCancel"===t.type}))}function c(){b.flow&&setTimeout((function(){b.flow=!1}),Gt)}var u,h,d,p,f,m,_,g,v,y=n[0],b={};return Vt?(y[Zt]("MSPointerDown",r,!1),e[Zt]("MSPointerMove",a,!1),e[Zt]("MSPointerCancel",l,!1),e[Zt]("MSPointerUp",l,!1)):(y[Zt]&&(y[Zt]("touchstart",r,!1),y[Zt]("touchmove",a,!1),y[Zt]("touchend",l,!1),e[Zt]("touchstart",(function(){b.flow||setTimeout((function(){b.flow=!0}),10)}),!1),e[Zt]("touchend",c,!1),e[Zt]("touchcancel",c,!1),t[Zt]("scroll",c,!1)),n.on("mousedown",r),Bt.on("mousemove",a).on("mouseup",l)),n.on("click","a",(function(t){b.checked&&N(t)})),b}function H(t,e){function n(n,i){x=!0,o=l=n._x,p=n._now,d=[[p,o]],c=u=T.noMove||i?0:f(t,(e.getPos||s)(),e._001),(e.onStart||s).call(k,n)}var o,l,c,u,h,d,p,m,g,v,y,b,w,x,k=t[0],S=t.data(),T={};return T=i.extend(R(e.$wrap,{onStart:function(t,e){g=T.min,v=T.max,y=T.snap,b=t.altKey,x=w=!1,e.control||S.sliding||n(t)},onMove:function(i,r){T.noSwipe||(x||n(i),l=i._x,d.push([i._now,l]),h=L(u=c-(o-l),g,v),g>=u?u=_(u,g):u>=v&&(u=_(u,v)),T.noMove||(t.css(a(u,e._001)),w||(w=!0,r.touch||Vt||t.addClass(gt)),(e.onMove||s).call(k,i,{pos:u,edge:h})))},onTouchEnd:e.onTouchEnd,onEnd:function(o){if(!T.noSwipe||!o.moved){x||n(o.startEvent,!0),o.touch||Vt||t.removeClass(gt);for(var a,h,p,f,_,w,S,C,L,P=(m=i.now())-Gt,A=null,$=Jt,E=e.friction,D=d.length-1;D>=0;D--){if(a=d[D][0],h=Math.abs(a-P),null===A||p>h)A=a,f=d[D][1];else if(A===P||h>p)break;p=h}S=r(u,g,v);var I=f-l,M=I>=0,O=m-A,N=O>Gt,j=!N&&u!==c&&S===u;y&&(S=r(Math[j?M?"floor":"ceil":"round"](u/y)*y,g,v),g=v=S),j&&(y||S===u)&&(L=-I/O,$*=r(Math.abs(L),e.timeLow,e.timeHigh),_=Math.round(u+L*$/E),y||(S=_),(!M&&_>v||M&&g>_)&&(w=M?g:v,y||(S=w),C=r(S+.03*(C=_-w),w-50,w+50),$=Math.abs((u-C)/(L/E)))),$*=b?10:1,(e.onEnd||s).call(k,i.extend(o,{moved:o.moved||N&&y,pos:u,newPos:S,overPos:C,time:$}))}},select:e.select}),T)}function q(t,e){var n,o,r,a=t[0],l={prevent:{}};return a[Zt]&&a[Zt](Kt,(function(t){var a=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,u=Math.abs(c)>Math.abs(a),h=j(0>c),d=o===h,p=i.now(),f=Gt>p-r;o=h,r=p,u&&l.ok&&(!l.prevent[h]||n)&&(N(t,!0),n&&d&&f||(e.shift&&(n=!0,clearTimeout(l.t),l.t=setTimeout((function(){n=!1}),Xt)),(e.onEnd||s)(t,e.shift?h:c)))}),!1),l}function W(){i.each(i.Fotorama.instances,(function(t,e){e.index=t}))}function U(t){i.Fotorama.instances.push(t),W()}function Z(t){i.Fotorama.instances.splice(t.index,1),W()}var V="fotorama",K="fullscreen",G=V+"__wrap",J=G+"--video",X=G+"--only-active",Y=V+"__stage",Q=Y+"__frame",tt=V+"__grab",et=V+"__arr",nt=et+"--disabled",it=V+"__nav",ot=it+"--dots",st=it+"--thumbs",rt=it+"__frame",at=V+"__fade",lt=at+"-front",ct=at+"-rear",ut="fotorama__shadows",ht=V+"__active",dt=V+"__select",pt=V+"--fullscreen",ft=V+"__error",mt=V+"__loading",_t=V+"__loaded",gt=V+"__grabbing",vt=V+"__img",yt=V+"__thumb",bt=V+"__video",wt=bt+"-play",xt=i&&i.fn.jquery.split(".");if(!xt||xt[0]<1||1==xt[0]&&xt[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var kt=function(t,e,n){function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var s=t[i];if(!o(s,"-")&&f[s]!==n)return"pfx"!=e||s}return!1}function r(t,e,o){for(var s in t){var r=e[t[s]];if(r!==n)return!1===o?t[s]:i(r,"function")?r.bind(o||e):r}return!1}function a(t,e,n){var o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+g.join(o+" ")+o).split(" ");return i(e,"string")||i(e,"undefined")?s(a,e):r(a=(t+" "+v.join(o+" ")+o).split(" "),e,n)}var l,c,u={},h=e.documentElement,d="modernizr",p=e.createElement(d),f=p.style,m=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",g=_.split(" "),v=_.toLowerCase().split(" "),y={},b=[],w=b.slice,x={}.hasOwnProperty;for(var k in c=i(x,"undefined")||i(x.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return x.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=w.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var s=new o,r=e.apply(s,n.concat(w.call(arguments)));return Object(r)===r?r:s}return e.apply(t,n.concat(w.call(arguments)))};return i}),y.csstransforms3d=function(){return!!a("perspective")},y)c(y,k)&&(l=k.toLowerCase(),u[l]=y[k](),b.push((u[l]?"":"no-")+l));return u.addTest=function(t,e){if("object"==typeof t)for(var i in t)c(t,i)&&u.addTest(i,t[i]);else{if(t=t.toLowerCase(),u[t]!==n)return u;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),u[t]=e}return u},function(t){f.cssText=t}(""),p=null,u._version="2.6.2",u._prefixes=m,u._domPrefixes=v,u._cssomPrefixes=g,u.testProp=function(t){return s([t])},u.testAllProps=a,u.testStyles=function(t,n,i,o){var s,r,a,l,c=e.createElement("div"),u=e.body,p=u||e.createElement("body");if(parseInt(i,10))for(;i--;)(a=e.createElement("div")).id=o?o[i]:d+(i+1),c.appendChild(a);return s=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),c.id=d,(u?c:p).innerHTML+=s,p.appendChild(c),u||(p.style.background="",p.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(p)),r=n(c,t),u?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),h.style.overflow=l),!!r},u.prefixed=function(t,e,n){return e?a(t,e,n):a(t,"pfx")},u}(0,e),St={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},Tt="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)St.ok=!0;else for(var Ct=0,Lt=Tt.length;Lt>Ct;Ct++)if(St.prefix=Tt[Ct],void 0!==e[St.prefix+"CancelFullScreen"]){St.ok=!0;break}St.ok&&(St.event=St.prefix+"fullscreenchange",St.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},St.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},St.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Pt,At={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},$t={top:"auto",left:"auto",className:""};!function(t,e){Pt=e()}(0,(function(){function t(t,n){var i,o=e.createElement(t||"div");for(i in n)o[i]=n[i];return o}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,n,i){var o=["opacity",e,~~(100*t),n,i].join("-"),s=.01+n/i*100,r=Math.max(1-(1-t)/e*(100-s),t),a=h.substring(0,h.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[o]||(f.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+r+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}100%{opacity:"+r+"}}",f.cssRules.length),p[o]=1),o}function s(t,e){var n,i,s=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<d.length;i++)if(s[n=d[i]+e]!==o)return n;return s[e]!==o?e:void 0}function r(t,e){for(var n in e)t.style[s(t,n)||n]=e[n];return t}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]===o&&(t[i]=n[i])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function c(t,e){return"string"==typeof t?t:t[e%t.length]}function u(t){return void 0===this?new u(t):void(this.opts=a(t||{},u.defaults,m))}var h,d=["webkit","Moz","ms","O"],p={},f=function(){var i=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},a(u.prototype,{spin:function(e){this.stop();var n,i,o=this,s=o.opts,a=o.el=r(t(0,{className:s.className}),{position:s.position,width:0,zIndex:s.zIndex}),c=s.radius+s.length+s.width;if(e&&(e.insertBefore(a,e.firstChild||null),i=l(e),n=l(a),r(a,{left:("auto"==s.left?i.x-n.x+(e.offsetWidth>>1):parseInt(s.left,10)+c)+"px",top:("auto"==s.top?i.y-n.y+(e.offsetHeight>>1):parseInt(s.top,10)+c)+"px"})),a.setAttribute("role","progressbar"),o.lines(a,o.opts),!h){var u,d=0,p=(s.lines-1)*(1-s.direction)/2,f=s.fps,m=f/s.speed,_=(1-s.opacity)/(m*s.trail/100),g=m/s.lines;!function t(){d++;for(var e=0;e<s.lines;e++)u=Math.max(1-(d+(s.lines-e)*g)%m*_,s.opacity),o.opacity(a,e*s.direction+p,u,s);o.timeout=o.el&&setTimeout(t,~~(1e3/f))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=o),this},lines:function(e,o){function s(e,n){return r(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var a,l=0,u=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)a=r(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:h&&i(o.opacity,o.trail,u+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&n(a,r(s("#000","0 0 4px #000"),{top:"2px"})),n(e,n(a,s(c(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var _=r(t("group"),{behavior:"url(#default#VML)"});return!s(_,"transform")&&_.adj?function(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}f.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(t,i){function o(){return r(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function s(t,s,a){n(d,n(r(o(),{rotation:360/i.lines*t+"deg",left:~~s}),n(r(e("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),e("fill",{color:c(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}var a,l=i.length+i.width,u=2*l,h=2*-(i.width+i.length)+"px",d=r(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(a=1;a<=i.lines;a++)s(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)s(a);return n(t,d)},u.prototype.opacity=function(t,e,n,i){var o=t.firstChild;i=i.shadow&&i.lines||0,o&&e+i<o.childNodes.length&&((o=(o=(o=o.childNodes[e+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n))}}():h=s(_,"animation"),u}));var Et,Dt,It,Mt,Ot,Nt,jt=i(t),Bt=i(e),Ft="quirks"===n.hash.replace("#",""),zt=kt.csstransforms3d,Rt=zt&&!Ft,Ht=zt||"CSS1Compat"===e.compatMode,qt=St.ok,Wt=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ut=!Rt||Wt,Zt="addEventListener",Vt=navigator.msPointerEnabled,Kt="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==o?"mousewheel":"DOMMouseScroll",Gt=250,Jt=300,Xt=1400,Yt="$stageFrame",Qt="$navDotFrame",te="$navThumbFrame",ee=function(t){var e="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[e]){var n=function(t,e){var n=[null,null],i=[null,null],o=[null,null],s=function(s,r){return o[r]=3*t[r],i[r]=3*(e[r]-t[r])-o[r],n[r]=1-o[r]-i[r],s*(o[r]+s*(i[r]+s*n[r]))},r=function(t){return o[0]+t*(2*i[0]+3*n[0]*t)};return function(t){return s(function(t){for(var e,n=t,i=0;++i<14&&(e=s(n,0)-t,!(Math.abs(e)<.001));)n-=e/r(n);return n}(t),1)}};i.easing[e]=function(e,i,o,s,r){return s*n([t[0],t[1]],[t[2],t[3]])(i/r)+o}}return e}([.1,0,.25,1]),ne={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,allowfullscreen:!1,fit:"contain",transition:"slide",clicktransition:null,transitionduration:Jt,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},ie={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};jQuery.Fotorama=function(t,o){function s(t){return Ve[t]||sn.fullScreen}function p(e){e!==p.f&&(e?(t.html("").addClass(V+" "+an).append(pn).before(hn).before(dn),U(sn)):(pn.detach(),hn.detach(),dn.detach(),t.html(un.urtext).removeClass(an),Z(sn)),function(t){var e="keydown."+V,n="keydown."+V+rn,i="resize."+V+rn;t?(Bt.on(n,(function(t){var e,n;Te&&27===t.keyCode?(e=!0,de(Te,!0,!0)):(sn.fullScreen||o.keyboard&&!sn.index)&&(27===t.keyCode?(e=!0,sn.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&s("space")||37===t.keyCode&&s("left")||38===t.keyCode&&s("up")?n="<":32===t.keyCode&&s("space")||39===t.keyCode&&s("right")||40===t.keyCode&&s("down")?n=">":36===t.keyCode&&s("home")?n="<<":35===t.keyCode&&s("end")&&(n=">>")),(e||n)&&N(t),n&&sn.show({index:n,slow:t.altKey,user:!0})})),sn.index||Bt.off(e).on(e,"textarea, input, select",(function(t){!Dt.hasClass(K)&&t.stopPropagation()})),jt.on(i,sn.resize)):(Bt.off(n),jt.off(i))}(e),p.f=e)}function _(){we=sn.data=we||D(o.data)||x(t),xe=sn.size=we.length,!be.ok&&o.shuffle&&E(we),i.each(we,(function(t,e){if(!e.i){e.i=cn++;var n=y(e.video,!0);if(n){var i={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:i=b(e,we,sn),w(we,{img:i.img,thumb:i.thumb},e.i,sn)}}})),En=R(En),xe&&p(!0)}function g(){var t=2>xe||Te;In.noMove=t||ze,In.noSwipe=t||!o.swipe,!We&&mn.toggleClass(tt,!In.noMove&&!In.noSwipe),Vt&&pn.toggleClass("fotorama__wrap--pan-y",!In.noSwipe)}function v(t){!0===t&&(t=""),o.autoplay=Math.max(+t||5e3,1.5*qe)}function z(t){return 0>t?(xe+t%xe)%xe:t>=xe?t%xe:t}function R(t){return r(t,0,xe-1)}function W(t){return Me?z(t):R(t)}function at(t){return!!(t>0||Me)&&t-1}function lt(t){return!!(xe-1>t||Me)&&t+1}function ct(t,e,n){if("number"==typeof t){t=new Array(t);var o=!0}return i.each(t,(function(t,i){if(o&&(i=t),"number"==typeof i){var s=we[z(i)];if(s){var r="$"+e+"Frame",a=s[r];n.call(this,t,i,s,a,r,a&&a.data())}}}))}function gt(t,e,n,i){(!Ke||"*"===Ke&&i===Ie)&&(t=h(o.width)||h(t)||500,e=h(o.height)||h(e)||333,sn.resize({width:t,ratio:o.ratio||n||t/e},0,i===Ie||"*"))}function bt(t,e,n,s,r){ct(t,e,(function(t,a,l,c,u,h){function d(t){var e=z(a);se(t,{index:e,src:b,frame:we[e]})}function p(){g.remove(),i.Fotorama.cache[b]="error",l.html&&"stage"===e||!w||w===b?(!b||l.html||m?"stage"===e&&(c.trigger("f:load").removeClass(mt+" "+ft).addClass(_t),d("load"),gt()):(c.trigger("f:error").removeClass(mt).addClass(ft),d("error")),h.state="error",!(xe>1&&we[a]===l)||l.html||l.deleted||l.video||m||(l.deleted=!0,sn.splice(a,1))):(l[y]=b=w,bt([a],e,n,s,!0))}function f(){var t=10;S((function(){return!en||!t--&&!Ut}),(function(){i.Fotorama.measures[b]=v.measures=i.Fotorama.measures[b]||{width:_.width,height:_.height,ratio:_.width/_.height},gt(v.measures.width,v.measures.height,v.measures.ratio,a),g.off("load error").addClass(vt+(m?" fotorama__img--full":"")).prependTo(c),C(g,n||Dn,s||l.fit||o.fit),i.Fotorama.cache[b]=h.state="loaded",setTimeout((function(){c.trigger("f:load").removeClass(mt+" "+ft).addClass(_t+" "+(m?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===e&&d("load")}),5)}))}if(c){var m=sn.fullScreen&&l.full&&l.full!==l.img&&!h.$full&&"stage"===e;if(!h.$img||r||m){var _=new Image,g=i(_),v=g.data();h[m?"$full":"$img"]=g;var y="stage"===e?m?"full":"img":"thumb",b=l[y],w=m?null:l["stage"===e?"thumb":"img"];if("navThumb"===e&&(c=h.$wrap),!b)return void p();i.Fotorama.cache[b]?function t(){"error"===i.Fotorama.cache[b]?p():"loaded"===i.Fotorama.cache[b]?setTimeout(f,0):setTimeout(t,100)}():(i.Fotorama.cache[b]="*",g.on("load",f).on("error",p)),h.state="",_.src=b}}}))}function xt(){$n.detach(),Se&&Se.stop()}function kt(){var t=sn.activeFrame[Yt];t&&!t.data().state&&(function(t){$n.append(Se.spin().el).appendTo(t)}(t),t.on("f:load f:error",(function(){t.off("f:load f:error"),xt()})))}function Tt(t,e){ct(t,e,(function(t,n,s,r,a,l){r||((l=(r=s[a]=pn[a].clone()).data()).data=s,"stage"===e?(s.html&&i('<div class="fotorama__html"></div>').append(s._html?i(s.html).removeAttr("id").html(s._html):s.html).appendTo(r),o.captions&&s.caption&&i($("fotorama__caption",$("fotorama__caption__wrap",s.caption))).appendTo(r),s.video&&r.addClass("fotorama__stage__frame--video").append(Pn.clone()),_n=_n.add(r)):"navDot"===e?kn=kn.add(r):"navThumb"===e&&(l.$wrap=r.children(":first"),Sn=Sn.add(r),s.video&&r.append(Pn.clone())))}))}function Ct(t,e,n){return t&&t.length&&C(t,e,n)}function Lt(t){ct(t,"stage",(function(t,e,n,s,r,a){if(s){Bn[Yt][z(e)]=s.css(i.extend({left:ze?0:d(e,Dn.w,o.margin,Pe)},ze&&l(0))),k(s[0])&&(s.appendTo(mn),de(n.$video));var c=n.fit||o.fit;Ct(a.$img,Dn,c),Ct(a.$full,Dn,c)}}))}function It(t,e){if("thumbs"===Oe&&!isNaN(t)){var n=-t,o=-t+Dn.nw;Sn.each((function(){var t=i(this).data(),s=t.eq,r={h:He},a="cover";r.w=t.w,t.l+t.w<n||t.l>o||Ct(t.$img,r,a)||e&&bt([s],"navThumb",r,a)}))}}function Mt(t,e,n){if(!Mt[n]){var s="nav"===n&&Ne,r=0;e.append(t.filter((function(){for(var t,e=i(this),n=e.data(),o=0,s=we.length;s>o;o++)if(n.data===we[o]){t=!0,n.eq=o;break}return t||e.remove()&&!1})).sort((function(t,e){return i(t).data().eq-i(e).data().eq})).each((function(){if(s){var t=i(this),e=t.data(),n=Math.round(He*e.data.thumbratio)||Re;e.l=r,e.w=n,t.css({width:n}),r+=n+o.thumbmargin}}))),Mt[n]=!0}}function Ot(t){return t-Fn>Dn.w/3}function Nt(t){return!(Me||En+t&&En-xe+t||Te)}function Ft(){gn.toggleClass(nt,Nt(0)),vn.toggleClass(nt,Nt(1))}function zt(){Mn.ok&&(Mn.prevent={"<":Nt(0),">":Nt(1)})}function Wt(t){var e,n,i=t.data();return Ne?(e=i.l,n=i.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*o.thumbmargin,max:-e+Dn.w-n-10*o.thumbmargin}}function Zt(t){var e=sn.activeFrame[on].data();B(Tn,{time:.9*t,pos:e.l,width:e.w-2*o.thumbborderwidth})}function Kt(t){var e=we[t.guessIndex][on];if(e){var n=On.min!==On.max,i=n&&Wt(sn.activeFrame[on]),o=n&&(t.keep&&Kt.l?Kt.l:r((t.coo||Dn.nw/2)-Wt(e).c,i.min,i.max)),s=n&&r(o,On.min,On.max),a=.9*t.time;B(xn,{time:a,pos:s||0,onEnd:function(){It(s,!0)}}),he(wn,L(s,On.min,On.max)),Kt.l=o}}function Xt(t){for(var e=jn[t];e.length;)e.shift().removeClass(ht)}function ee(t){var e=Bn[t];i.each(Le,(function(t,n){delete e[z(n)]})),i.each(e,(function(t,n){delete e[t],n.detach()}))}function ne(t){Pe=Ae=En;var e=sn.activeFrame[Yt];e&&(Xt(Yt),jn[Yt].push(e.addClass(ht)),t||sn.show.onEnd(!0),f(mn,0,!0),ee(Yt),Lt(Le),In.min=Me?-1/0:-d(xe-1,Dn.w,o.margin,Pe),In.max=Me?1/0:-d(0,Dn.w,o.margin,Pe),In.snap=Dn.w+o.margin,On.min=Math.min(0,Dn.nw-xn.width()),On.max=0,xn.toggleClass(tt,!(On.noMove=On.min===On.max)))}function oe(t,e){t&&i.each(e,(function(e,n){n&&i.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:O(t.ratio)})}))}function se(e,n){t.trigger(V+":"+e,[sn,n])}function re(){clearTimeout(ae.t),en=1,o.stopautoplayontouch?sn.stopAutoplay():Ye=!0}function ae(){o.stopautoplayontouch||(le(),ce()),ae.t=setTimeout((function(){en=0}),Jt+Gt)}function le(){Ye=!(!Te&&!Qe)}function ce(){if(clearTimeout(ce.t),o.autoplay&&!Ye){sn.autoplay||(sn.autoplay=!0,se("startautoplay"));var t=En,e=sn.activeFrame[Yt].data();S((function(){return e.state||t!==En}),(function(){ce.t=setTimeout((function(){Ye||t!==En||sn.show(Me?j(!Ze):z(En+(Ze?-1:1)))}),o.autoplay)}))}else sn.autoplay&&(sn.autoplay=!1,se("stopautoplay"))}function ue(){sn.fullScreen&&(sn.fullScreen=!1,qt&&St.cancel(ln),Dt.removeClass(K),Et.removeClass(K),t.removeClass(pt).insertAfter(dn),Dn=i.extend({},tn),de(Te,!0,!0),_e("x",!1),sn.resize(),bt(Le,"stage"),I(Je,Ge),se("fullscreenexit"))}function he(t,e){Ue&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),e&&!Te&&t.addClass(e.replace(/^|\s/g," "+ut+"--")))}function de(t,e,n){e&&(pn.removeClass(J),Te=!1,g()),t&&t!==Te&&(t.remove(),se("unloadvideo")),n&&(le(),ce())}function pe(t){pn.toggleClass("fotorama__wrap--no-controls",t)}function fe(t){if(!In.flow){var e=t?t.pageX:fe.x,n=e&&!Nt(Ot(e))&&o.click;fe.p===n||!ze&&o.swipe||!fn.toggleClass("fotorama__pointer",n)||(fe.p=n,fe.x=e)}}function me(t){clearTimeout(me.t),o.clicktransition&&o.clicktransition!==o.transition?(We=o.transition,sn.setOptions({transition:o.clicktransition}),me.t=setTimeout((function(){sn.show(t)}),10)):sn.show(t)}function _e(t,e){In[t]=On[t]=e}function ge(t,e){me({index:i(this).data().eq,slow:t.altKey,user:!0,coo:t._x-wn.offset().left,time:e})}function ve(){if(_(),function(){function t(t,n){e[t?"add":"remove"].push(n)}sn.options=o=M(o),ze="crossfade"===o.transition||"dissolve"===o.transition,Me=o.loop&&(xe>2||ze)&&(!We||"slide"!==We),qe=+o.transitionduration||Jt,Ze="rtl"===o.direction,Ve=i.extend({},o.keyboard&&ie,o.keyboard);var e={add:[],remove:[]};xe>1?(Oe=o.nav,je="top"===o.navposition,e.remove.push(dt),yn.toggle(!!o.arrows)):(Oe=!1,yn.hide()),xt(),Se=new Pt(i.extend(At,o.spinner,$t,{direction:Ze?-1:1})),Ft(),zt(),o.autoplay&&v(o.autoplay),Re=c(o.thumbwidth)||64,He=c(o.thumbheight)||64,Mn.ok=Nn.ok=o.trackpad&&!Ut,g(),oe(o,[Dn]),(Ne="thumbs"===Oe)?(Tt(xe,"navThumb"),ke=Sn,on=te,function(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}(hn,i.Fotorama.jst.style({w:Re,h:He,b:o.thumbborderwidth,m:o.thumbmargin,s:rn,q:!Ht})),wn.addClass(st).removeClass(ot)):"dots"===Oe?(Tt(xe,"navDot"),ke=kn,on=Qt,wn.addClass(ot).removeClass(st)):(Oe=!1,wn.removeClass(st+" "+ot)),Oe&&(je?bn.insertBefore(fn):bn.insertAfter(fn),Mt.nav=!1,Mt(ke,xn,"nav")),(Be=o.allowfullscreen)?(Cn.appendTo(fn),Fe=qt&&"native"===Be):(Cn.detach(),Fe=!1),t(ze,"fotorama__wrap--fade"),t(!ze,"fotorama__wrap--slide"),t(!o.captions,"fotorama__wrap--no-captions"),t(Ze,"fotorama__wrap--rtl"),t("always"!==o.arrows,"fotorama__wrap--toggle-arrows"),t(!(Ue=o.shadows&&!Ut),"fotorama__wrap--no-shadows"),pn.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),i.extend({},o)}(),!ve.i){ve.i=!0;var t=o.startindex;(t||o.hash&&n.hash)&&(Ie=P(t||n.hash.replace(/^#/,""),we,0===sn.index||t,t)),En=Pe=Ae=$e=Ie=W(Ie)||0}if(xe){if(ye())return;Te&&de(Te,!0),Le=[],ee(Yt),sn.show({index:En,time:0,reset:ve.ok}),sn.resize()}else sn.destroy();ve.ok=!0}function ye(){return!ye.f===Ze?(ye.f=Ze,En=xe-1-En,sn.reverse(),!0):void 0}function be(){be.ok||(be.ok=!0,se("ready"))}Et=Et||i("html"),Dt=Dt||i("body");var we,xe,ke,Se,Te,Ce,Le,Pe,Ae,$e,Ee,De,Ie,Me,Oe,Ne,je,Be,Fe,ze,Re,He,qe,We,Ue,Ze,Ve,Ke,Ge,Je,Xe,Ye,Qe,tn,en,nn,on,sn=this,rn=i.now(),an=V+rn,ln=t[0],cn=1,un=t.data(),hn=i("<style></style>"),dn=i($("fotorama--hidden")),pn=i($(G)),fn=i($(Y)).appendTo(pn),mn=(fn[0],i($("fotorama__stage__shaft")).appendTo(fn)),_n=i(),gn=i($(et+" fotorama__arr--prev")),vn=i($(et+" fotorama__arr--next")),yn=gn.add(vn).appendTo(fn),bn=i($("fotorama__nav-wrap")),wn=i($(it)).appendTo(bn),xn=i($("fotorama__nav__shaft")).appendTo(wn),kn=i(),Sn=i(),Tn=(mn.data(),xn.data(),i($("fotorama__thumb-border")).appendTo(xn)),Cn=i($("fotorama__fullscreen-icon")),Ln=Cn[0],Pn=i($(wt)),An=i($("fotorama__video-close")).appendTo(fn)[0],$n=i($("fotorama__spinner")),En=!1,Dn={},In={},Mn={},On={},Nn={},jn={},Bn={},Fn=0,zn=[];pn[Yt]=i($(Q)),pn[te]=i($(rt+" fotorama__nav__frame--thumb",$(yt))),pn[Qt]=i($(rt+" fotorama__nav__frame--dot",$("fotorama__dot"))),jn[Yt]=[],jn[te]=[],jn[Qt]=[],Bn[Yt]={},pn.addClass(Rt?"fotorama__wrap--css3":"fotorama__wrap--css2"),un.fotorama=this,sn.startAutoplay=function(t){return sn.autoplay||(Ye=Qe=!1,v(t||o.autoplay),ce()),this},sn.stopAutoplay=function(){return sn.autoplay&&(Ye=Qe=!0,ce()),this},sn.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Ae+1:"<"===e?Ae-1:"<<"===e?0:">>"===e?xe-1:e,e=void 0===(e=isNaN(e)?P(e,we,!0):e)?En||0:e,sn.activeIndex=En=W(e),Ee=at(En),De=lt(En),Le=[En,Ee,De],Ae=Me?e:En;var n=Math.abs($e-Ae),i=m(t.time,(function(){return Math.min(qe*(1+(n-1)/12),2*qe)})),s=t.overPos;t.slow&&(i*=10),sn.activeFrame=Ce=we[En],de(Te,Ce.i!==we[z(Pe)].i),Tt(Le,"stage"),Lt(Ut?[Ae]:[Ae,at(Ae),lt(Ae)]),_e("go",!0),t.reset||se("show",{user:t.user,time:i}),Ye=!0;var a=sn.show.onEnd=function(e){if(!a.ok){if(a.ok=!0,e||ne(!0),!t.reset&&(se("showend",{user:t.user}),!e&&We&&We!==o.transition))return sn.setOptions({transition:We}),void(We=!1);kt(),bt(Le,"stage"),_e("go",!1),zt(),fe(),le(),ce()}};ze?F(Ce[Yt],En!==$e?we[$e][Yt]:null,_n,{time:i,method:o.transition,onEnd:a},zn):B(mn,{pos:-d(Ae,Dn.w,o.margin,Pe),overPos:s,time:i,onEnd:a,_001:!0});if(Ft(),Oe){Xt(on),jn[on].push(sn.activeFrame[on].addClass(ht));var l=R(En+r(Ae-$e,-1,1));Kt({time:i,coo:l!==En&&t.coo,guessIndex:void 0!==t.coo?l:En,keep:t.reset}),Ne&&Zt(i)}return Xe=void 0!==$e&&$e!==En,$e=En,o.hash&&Xe&&!sn.eq&&T(Ce.id||En+1),this},sn.requestFullScreen=function(){return Be&&!sn.fullScreen&&(Ge=jt.scrollTop(),Je=jt.scrollLeft(),I(0,0),_e("x",!0),tn=i.extend({},Dn),t.addClass(pt).appendTo(Dt.addClass(K)),Et.addClass(K),de(Te,!0,!0),sn.fullScreen=!0,Fe&&St.request(ln),sn.resize(),bt(Le,"stage"),kt(),se("fullscreenenter")),this},sn.cancelFullScreen=function(){return Fe&&St.is()?St.cancel(e):ue(),this},e.addEventListener&&e.addEventListener(St.event,(function(){!we||St.is()||Te||ue()}),!1),sn.resize=function(t){if(!we)return this;oe(sn.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:M(t),[Dn,sn.fullScreen||o]);var e=arguments[1]||0,n=arguments[2],i=Dn.width,s=Dn.height,a=Dn.ratio,l=jt.height()-(Oe?wn.height():0);return h(i)&&(pn.addClass(X).css({width:i,minWidth:Dn.minwidth||0,maxWidth:Dn.maxwidth||99999}),i=Dn.W=Dn.w=pn.width(),Dn.nw=Oe&&u(o.navwidth,i)||i,o.glimpse&&(Dn.w-=Math.round(2*(u(o.glimpse,i)||0))),mn.css({width:Dn.w,marginLeft:(Dn.W-Dn.w)/2}),(s=(s=u(s,l))||a&&i/a)&&(i=Math.round(i),s=Dn.h=Math.round(r(s,u(Dn.minheight,l),u(Dn.maxheight,l))),fn.stop().animate({width:i,height:s},e,(function(){pn.removeClass(X)})),ne(),Oe&&(wn.stop().animate({width:Dn.nw},e),Kt({guessIndex:En,time:e,keep:!0}),Ne&&Mt.nav&&Zt(e)),Ke=n||!0,be())),Fn=fn.offset().left,this},sn.setOptions=function(t){return i.extend(o,t),ve(),this},sn.shuffle=function(){return we&&E(we)&&ve(),this},sn.destroy=function(){return sn.cancelFullScreen(),sn.stopAutoplay(),we=sn.data=null,p(),Le=[],ee(Yt),this},sn.playVideo=function(){var t=sn.activeFrame,e=t.video,n=En;return"object"==typeof e&&t.videoReady&&(Fe&&sn.fullScreen&&sn.cancelFullScreen(),S((function(){return!St.is()||n!==En}),(function(){n===En&&(t.$video=t.$video||i(i.Fotorama.jst.video(e)),t.$video.appendTo(t[Yt]),pn.addClass(J),Te=t.$video,g(),se("loadvideo"))}))),this},sn.stopVideo=function(){return de(Te,!0,!0),this},fn.on("mousemove",fe),In=H(mn,{onStart:re,onMove:function(t,e){he(fn,e.edge)},onTouchEnd:ae,onEnd:function(t){he(fn);var e=(Vt&&!nn||t.touch)&&o.arrows&&"always"!==o.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=function(t,e,n,i){return-Math.round(t/(e+(n||0))-(i||0))}(t.newPos,Dn.w,o.margin,Pe);sn.show({index:n,time:ze?qe:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t,e){var n=t.target;i(n).hasClass(wt)?sn.playVideo():n===Ln?sn[(sn.fullScreen?"cancel":"request")+"FullScreen"]():Te?n===An&&de(Te,!0,!0):e?pe():o.click&&me({index:t.shiftKey||j(Ot(t._x)),slow:t.altKey,user:!0})}(t.startEvent,e)},_001:!0,timeLow:1,timeHigh:1,friction:2,select:"."+dt+", ."+dt+" *",$wrap:fn}),On=H(xn,{onStart:re,onMove:function(t,e){he(wn,e.edge)},onTouchEnd:ae,onEnd:function(t){function e(){Kt.l=t.newPos,le(),ce(),It(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(Ye=!0,B(xn,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),It(t.newPos),Ue&&he(wn,L(t.newPos,On.min,On.max))):e();else{var n=t.$target.closest("."+rt,xn)[0];n&&ge.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:wn}),Mn=q(fn,{shift:!0,onEnd:function(t,e){re(),ae(),sn.show({index:e,slow:t.altKey})}}),Nn=q(wn,{onEnd:function(t,e){re(),ae();var n=f(xn)+.25*e;xn.css(a(r(n,On.min,On.max))),Ue&&he(wn,L(n,On.min,On.max)),Nn.prevent={"<":n>=On.max,">":n<=On.min},clearTimeout(Nn.t),Nn.t=setTimeout((function(){It(n,!0)}),Gt),It(n)}}),pn.hover((function(){setTimeout((function(){en||pe(!(nn=!0))}),0)}),(function(){nn&&pe(!(nn=!1))})),A(yn,(function(t){N(t),me({index:yn.index(this)?">":"<",slow:t.altKey,user:!0})}),{onStart:function(){re(),In.control=!0},onTouchEnd:ae}),i.each("load push pop shift unshift reverse sort splice".split(" "),(function(t,e){sn[e]=function(){return we=we||[],"load"!==e?Array.prototype[e].apply(we,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(we=D(arguments[0])),ve(),sn}})),ve()},i.fn.fotorama=function(e){return this.each((function(){var n=this,o=i(this),s=o.data(),r=s.fotorama;r?r.setOptions(e):S((function(){return!function(t){return 0===t.offsetWidth&&0===t.offsetHeight}(n)}),(function(){s.urtext=o.html(),new i.Fotorama(o,i.extend({},ne,t.fotoramaDefaults,e,s))}))}))},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},(i=i||{}).Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(t){var e;return""+".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},i.Fotorama.jst.video=function(t){var e="",n=Array.prototype.join;return e+='<div class="fotorama__video"><iframe src="',function(){e+=n.call(arguments,"")}(("youtube"==t.type?"http://youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?"http://player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),e+='" frameborder="0" allowfullscreen></iframe></div>'},i((function(){i("."+V+':not([data-auto="false"])').fotorama()}))}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,extraSettings),options.root||$("script").each((function(t,e){miuScript=$(e).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])}));var uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},matched=uaMatch(navigator.userAgent),browser={};return matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.each((function(){var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init();function localize(t,e){return e?t.replace(/("|')~\//g,"$1"+options.root):t.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),!0===options.resizeHandle&&!0!==browser.safari&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",(function(t){var e,n,i=$$.height(),o=t.clientY;e=function(t){return $$.css("height",Math.max(20,t.clientY+i-o)+"px"),!1},n=function(t){return $("html").unbind("mousemove.markItUp",e).unbind("mouseup.markItUp",n),!1},$("html").bind("mousemove.markItUp",e).bind("mouseup.markItUp",n)})),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",(function(t,e){!1!==e.target&&get(),textarea===$.markItUp.focused&&markup(e)})),$$.bind("focus.markItUp",(function(){$.markItUp.focused=this})),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,(function(){var button=this,t="",title,li,j;if(title=button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",(function(){return!1})).bind("click.markItUp",(function(t){t.preventDefault()})).bind("focusin.markItUp",(function(){$$.focus()})).bind("mouseup",(function(){return button.call&&eval(button.call)(),setTimeout((function(){markup(button)}),1),!1})).bind("mouseenter.markItUp",(function(){$("> ul",this).show(),$(document).one("click",(function(){$("ul ul",header).hide()}))})).bind("mouseleave.markItUp",(function(){$("> ul",this).hide()})).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}})),levels.pop(),ul}function magicMarkups(t){return t?t=(t=(t=t.toString()).replace(/\(\!\(([\s\S]*?)\)\!\)/g,(function(t,e){var n=e.split("|!|");return!0===altKey?void 0!==n[1]?n[1]:n[0]:void 0===n[1]?"":n[0]}))).replace(/\[\!\[([\s\S]*?)\]\!\]/g,(function(t,e){var n=e.split(":!:");return!0!==abort&&(value=prompt(n[0],n[1]?n[1]:""),null===value&&(abort=!0),value)})):""}function prepare(t){return $.isFunction(t)&&(t=t(hash)),magicMarkups(t)}function build(t){var e=prepare(clicked.openWith),n=prepare(clicked.placeHolder),i=prepare(clicked.replaceWith),o=prepare(clicked.closeWith),s=prepare(clicked.openBlockWith),r=prepare(clicked.closeBlockWith),a=clicked.multiline;if(""!==i)block=e+i+o;else if(""===selection&&""!==n)block=e+n+o;else{var l=[t=t||selection],c=[];!0===a&&(l=t.split(/\r?\n/));for(var u=0;u<l.length;u++){var h;line=l[u],(h=line.match(/ *$/))?c.push(e+line.replace(/ *$/g,"")+o+h):c.push(e+line+o)}block=c.join("\n")}return block=s+block+r,{block:block,openBlockWith:s,openWith:e,replaceWith:i,placeHolder:n,closeWith:o,closeBlockWith:r}}function markup(t){var e,n,i,o;if(hash=clicked=t,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),!0===ctrlKey&&!0===shiftKey){for(lines=selection.split(/\r?\n/),n=0,i=lines.length,o=0;o<i;o++)""!==$.trim(lines[o])?($.extend(hash,{line:++n,selection:lines[o]}),lines[o]=build(lines[o]).block):lines[o]="";string={block:lines.join("\n")},start=caretPosition,e=string.block.length+(browser.opera?i-1:0)}else!0===ctrlKey?(string=build(selection),start=caretPosition+string.openWith.length,e=string.block.length-string.openWith.length-string.closeWith.length,e-=string.block.match(/ $/)?1:0,e-=fixIeBug(string.block)):!0===shiftKey?(string=build(selection),start=caretPosition,e=string.block.length,e-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,e=0,start-=fixIeBug(string.block));""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openBlockWith.length+string.openWith.length,e=string.block.length-string.openBlockWith.length-string.openWith.length-string.closeWith.length-string.closeBlockWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&!1===abort?(insert(string.block),set(start,e)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(!0===ctrlKey&&!0===shiftKey||!0===t.multiline)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(t){return browser.opera?t.length-t.replace(/\n*/g,"").length:0}function fixIeBug(t){return browser.msie?t.length-t.replace(/\r*/g,"").length:0}function insert(t){document.selection?document.selection.createRange().text=t:textarea.value=textarea.value.substring(0,caretPosition)+t+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(t,e){if(textarea.createTextRange){if(browser.opera&&browser.version>=9.5&&0==e)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",t),range.moveEnd("character",e),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(t,t+e);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,browser.msie){var t=document.selection.createRange(),e=t.duplicate();for(e.moveToElementText(textarea),caretPosition=-1;e.inRange(t);)e.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload((function(){previewWindow.close()}))):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):!0===altKey&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){writeInPreview(localize(options.previewParser($$.val()),1))}else""!==options.previewParserPath?$.ajax({type:"POST",dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(t){writeInPreview(localize(t,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(t){writeInPreview(localize(t,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(t){if(options.previewInElement)$(options.previewInElement).html(t);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(t){sp=0}previewWindow.document.open(),previewWindow.document.write(t),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(t){if(shiftKey=t.shiftKey,altKey=t.altKey,ctrlKey=(!t.altKey||!t.ctrlKey)&&(t.ctrlKey||t.metaKey),"keydown"===t.type){if(!0===ctrlKey&&(li=$('a[accesskey="'+(13==t.keyCode?"\\n":String.fromCharCode(t.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout((function(){li.triggerHandler("mouseup")}),1),!1;if(13===t.keyCode||10===t.keyCode)return!0===ctrlKey?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):!0===shiftKey?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===t.keyCode)return 1!=shiftKey&&1!=ctrlKey&&1!=altKey&&(-1!==caretOffset?(get(),set(caretOffset=$$.val().length-caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault))}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$),$$.data("markItUp",null)}}))},$.fn.markItUpRemove=function(){return this.each((function(){$(this).markItUp("remove")}))},$.markItUp=function(t){var e={target:!1};if($.extend(e,t),e.target)return $(e.target).each((function(){$(this).focus(),$(this).trigger("insertion",[e])}));$("textarea").trigger("insertion",[e])}}(jQuery),mySettings={previewParserPath:"/markitup/parsers/markitup.bbcode-parser.php",markupSet:[{name:"Bold",key:"B",openWith:"[b]",closeWith:"[/b]"},{name:"Italic",key:"I",openWith:"[i]",closeWith:"[/i]"},{name:"Underline",key:"U",openWith:"[u]",closeWith:"[/u]"},{separator:"---------------"},{name:"Picture",key:"P",replaceWith:"[img][![Url]!][/img]"},{name:"Link",key:"L",openWith:"[url=[![Url]!]]",closeWith:"[/url]",placeHolder:"Your text to link here..."},{separator:"---------------"},{name:"Size",key:"S",openWith:"[size=[![Text size]!]]",closeWith:"[/size]",dropMenu:[{name:"Big",openWith:"[size=200]",closeWith:"[/size]"},{name:"Normal",openWith:"[size=100]",closeWith:"[/size]"},{name:"Small",openWith:"[size=50]",closeWith:"[/size]"}]},{separator:"---------------"},{name:"Bulleted list",openWith:"[list]\n",closeWith:"\n[/list]"},{name:"Numeric list",openWith:"[list=[![Starting number]!]]\n",closeWith:"\n[/list]"},{name:"List item",openWith:"[*] "},{separator:"---------------"},{name:"Quotes",openWith:"[quote]",closeWith:"[/quote]"},{name:"Code",openWith:"[code]",closeWith:"[/code]"},{separator:"---------------"},{name:"Clean",className:"clean",replaceWith:function(t){return t.selection.replace(/\[(.*?)\]/g,"")}},{name:"Preview",className:"preview",call:"preview"}]},function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Push=e()}(this,(function(){"use strict";var t={errors:{incompatible:"".concat("PushError:"," Push.js is incompatible with browser."),invalid_plugin:"".concat("PushError:"," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),invalid_title:"".concat("PushError:"," title of notification must be a string"),permission_denied:"".concat("PushError:"," permission request declined"),sw_notification_error:"".concat("PushError:"," could not show a ServiceWorker notification due to the following reason: "),sw_registration_error:"".concat("PushError:"," could not register the ServiceWorker due to the following reason: "),unknown_interface:"".concat("PushError:"," unable to create notification: unknown interface")}};function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var c=function(){function t(e){n(this,t),this._win=e,this.GRANTED="granted",this.DEFAULT="default",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return o(t,[{key:"request",value:function(t,e){return arguments.length>0?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(t,e){var n,i=this,o=this.get(),s=!1,r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i._win.Notification.permission;s||(s=!0,void 0===n&&i._win.webkitNotifications&&(n=i._win.webkitNotifications.checkPermission()),n===i.GRANTED||0===n?t&&t():e&&e())};o!==this.DEFAULT?r(o):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(r):this._win.Notification&&this._win.Notification.requestPermission?(n=this._win.Notification.requestPermission(r))&&n.then&&n.then(r).catch((function(){e&&e()})):t&&t()}},{key:"_requestAsPromise",value:function(){var t=this,e=this.get(),n=e!==this.DEFAULT,i=this._win.Notification&&this._win.Notification.requestPermission,o=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise((function(s,r){var a,l=!1,c=function(e){l||(l=!0,function(e){return e===t.GRANTED||0===e}(e)?s():r())};n?c(e):o?t._win.webkitNotifications.requestPermission((function(t){c(t)})):i?(a=t._win.Notification.requestPermission(c))&&a.then&&a.then(c).catch(r):s()}))}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),t}(),u=function(){function t(){n(this,t)}return o(t,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isNull",value:function(t){return null===obj}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"isFunction",value:function(t){return t&&"[object Function]"==={}.toString.call(t)}},{key:"isObject",value:function(t){return"object"===e(t)}},{key:"objectMerge",value:function(t,e){for(var n in e)t.hasOwnProperty(n)&&this.isObject(t[n])&&this.isObject(e[n])?this.objectMerge(t[n],e[n]):t[n]=e[n]}}]),t}(),h=function t(e){n(this,t),this._win=e},d=function(t){function e(){return n(this,e),l(this,r(e).apply(this,arguments))}return s(e,h),o(e,[{key:"isSupported",value:function(){return void 0!==this._win.Notification}},{key:"create",value:function(t,e){return new this._win.Notification(t,{icon:u.isString(e.icon)||u.isUndefined(e.icon)||u.isNull(e.icon)?e.icon:e.icon.x32,body:e.body,tag:e.tag,requireInteraction:e.requireInteraction})}},{key:"close",value:function(t){t.close()}}]),e}(),p=function(e){function i(){return n(this,i),l(this,r(i).apply(this,arguments))}return s(i,h),o(i,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},{key:"getFunctionBody",value:function(t){var e=t.toString().match(/function[^{]+{([\s\S]*)}$/);return null!=e&&e.length>1?e[1]:null}},{key:"create",value:function(e,n,i,o,s){var r=this;this._win.navigator.serviceWorker.register(o),this._win.navigator.serviceWorker.ready.then((function(o){var a={id:e,link:i.link,origin:document.location.href,onClick:u.isFunction(i.onClick)?r.getFunctionBody(i.onClick):"",onClose:u.isFunction(i.onClose)?r.getFunctionBody(i.onClose):""};void 0!==i.data&&null!==i.data&&(a=Object.assign(a,i.data)),o.showNotification(n,{icon:i.icon,body:i.body,vibrate:i.vibrate,tag:i.tag,data:a,requireInteraction:i.requireInteraction,silent:i.silent}).then((function(){o.getNotifications().then((function(t){o.active.postMessage(""),s(t)}))})).catch((function(e){throw new Error(t.errors.sw_notification_error+e.message)}))})).catch((function(e){throw new Error(t.errors.sw_registration_error+e.message)}))}},{key:"close",value:function(){}}]),i}(),f=function(t){function e(){return n(this,e),l(this,r(e).apply(this,arguments))}return s(e,h),o(e,[{key:"isSupported",value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(t,e){var n=this._win.navigator.mozNotification.createNotification(t,e.body,e.icon);return n.show(),n}}]),e}(),m=function(t){function e(){return n(this,e),l(this,r(e).apply(this,arguments))}return s(e,h),o(e,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(t,e){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(u.isString(e.icon)||u.isUndefined(e.icon)?e.icon:e.icon.x16,t),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),e}(),_=function(t){function e(){return n(this,e),l(this,r(e).apply(this,arguments))}return s(e,h),o(e,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(t,e){var n=this._win.webkitNotifications.createNotification(e.icon,t,e.body);return n.show(),n}},{key:"close",value:function(t){t.cancel()}}]),e}();return new(function(){function e(t){n(this,e),this._currentId=0,this._notifications={},this._win=t,this.Permission=new c(t),this._agents={desktop:new d(t),chrome:new p(t),firefox:new f(t),ms:new m(t),webkit:new _(t)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(t){}}}return o(e,[{key:"_closeNotification",value:function(e){var n=!0,i=this._notifications[e];if(void 0!==i){if(n=this._removeNotification(e),this._agents.desktop.isSupported())this._agents.desktop.close(i);else if(this._agents.webkit.isSupported())this._agents.webkit.close(i);else{if(!this._agents.ms.isSupported())throw n=!1,new Error(t.errors.unknown_interface);this._agents.ms.close()}return n}return!1}},{key:"_addNotification",value:function(t){var e=this._currentId;return this._notifications[e]=t,this._currentId++,e}},{key:"_removeNotification",value:function(t){var e=!1;return this._notifications.hasOwnProperty(t)&&(delete this._notifications[t],e=!0),e}},{key:"_prepareNotification",value:function(t,e){var n,i=this;return n={get:function(){return i._notifications[t]},close:function(){i._closeNotification(t)}},e.timeout&&setTimeout((function(){n.close()}),e.timeout),n}},{key:"_serviceWorkerCallback",value:function(t,e,n){var i=this,o=this._addNotification(t[t.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",(function(t){var e=JSON.parse(t.data);"close"===e.action&&Number.isInteger(e.id)&&i._removeNotification(e.id)})),n(this._prepareNotification(o,e))),n(null)}},{key:"_createCallback",value:function(t,e,n){var i,o=this,s=null;if(e=e||{},i=function(t){o._removeNotification(t),u.isFunction(e.onClose)&&e.onClose.call(o,s)},this._agents.desktop.isSupported())try{s=this._agents.desktop.create(t,e)}catch(i){var r=this._currentId,a=this.config().serviceWorker;this._agents.chrome.isSupported()&&this._agents.chrome.create(r,t,e,a,(function(t){return o._serviceWorkerCallback(t,e,n)}))}else this._agents.webkit.isSupported()?s=this._agents.webkit.create(t,e):this._agents.firefox.isSupported()?this._agents.firefox.create(t,e):this._agents.ms.isSupported()?s=this._agents.ms.create(t,e):(e.title=t,this.config().fallback(e));if(null!==s){var l=this._addNotification(s),c=this._prepareNotification(l,e);u.isFunction(e.onShow)&&s.addEventListener("show",e.onShow),u.isFunction(e.onError)&&s.addEventListener("error",e.onError),u.isFunction(e.onClick)&&s.addEventListener("click",e.onClick),s.addEventListener("close",(function(){i(l)})),s.addEventListener("cancel",(function(){i(l)})),n(c)}n(null)}},{key:"create",value:function(e,n){var i,o=this;if(!u.isString(e))throw new Error(t.errors.invalid_title);return i=this.Permission.has()?function(t,i){try{o._createCallback(e,n,t)}catch(t){i(t)}}:function(i,s){o.Permission.request().then((function(){o._createCallback(e,n,i)})).catch((function(){s(t.errors.permission_denied)}))},new Promise(i)}},{key:"count",value:function(){var t,e=0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&e++;return e}},{key:"close",value:function(t){var e;for(e in this._notifications)if(this._notifications.hasOwnProperty(e)&&this._notifications[e].tag===t)return this._closeNotification(e)}},{key:"clear",value:function(){var t,e=!0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&(e=e&&this._closeNotification(t));return e}},{key:"supported",value:function(){var t=!1;for(var e in this._agents)this._agents.hasOwnProperty(e)&&(t=t||this._agents[e].isSupported());return t}},{key:"config",value:function(t){return(void 0!==t||null!==t&&u.isObject(t))&&u.objectMerge(this._configuration,t),this._configuration}},{key:"extend",value:function(e){var n,i={}.hasOwnProperty;if(!i.call(e,"plugin"))throw new Error(t.errors.invalid_plugin);for(var o in i.call(e,"config")&&u.isObject(e.config)&&null!==e.config&&this.config(e.config),n=new(0,e.plugin)(this.config()))i.call(n,o)&&u.isFunction(n[o])&&(this[o]=n[o])}}]),e}())("undefined"!=typeof window?window:global)})),
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var t=this||e;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var n=this||e;if(t=parseFloat(t),n.ctx||c(),void 0!==t&&t>=0&&t<=1){if(n._volume=t,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t,e.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var o=n._howls[i]._getSoundIds(),s=0;s<o.length;s++){var r=n._howls[i]._soundById(o[s]);r&&r._node&&(r._node.volume=r._volume*t)}return n}return n._volume},mute:function(t){var n=this||e;n.ctx||c(),n._muted=t,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(t?0:n._volume,e.ctx.currentTime);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var o=n._howls[i]._getSoundIds(),s=0;s<o.length;s++){var r=n._howls[i]._soundById(o[s]);r&&r._node&&(r._node.muted=!!t||r._muted)}return n},stop:function(){for(var t=this||e,n=0;n<t._howls.length;n++)t._howls[n].stop();return t},unload:function(){for(var t=this||e,n=t._howls.length-1;n>=0;n--)t._howls[n].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||e)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||e;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||e,n=null;try{n="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!n||"function"!=typeof n.canPlayType)return t;var i=n.canPlayType("audio/mpeg;").replace(/^no$/,""),o=t._navigator?t._navigator.userAgent:"",s=o.match(/OPR\/([0-6]+)/g),r=s&&parseInt(s[0].split("/")[1],10)<33,a=-1!==o.indexOf("Safari")&&-1===o.indexOf("Chrome"),l=o.match(/Version\/(.*?) /),c=a&&l&&parseInt(l[1],10)<15;return t._codecs={mp3:!(r||!i&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||e;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function(e){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,t._releaseHtml5Audio(i)}catch(e){t.noAudio=!0;break}for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var s=t._howls[o]._getSoundIds(),r=0;r<s.length;r++){var a=t._howls[o]._soundById(s[r]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var l=t.ctx.createBufferSource();l.buffer=t._scratchBuffer,l.connect(t.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),l.onended=function(){l.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),t}},_obtainHtml5Audio:function(){var t=this||e;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var n=(new Audio).play();return n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)&&n.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var n=this||e;return t._unlocked&&n._html5AudioPool.push(t),n},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&e.usingWebAudio){for(var n=0;n<t._howls.length;n++)if(t._howls[n]._webAudio)for(var i=0;i<t._howls[n]._sounds.length;i++)if(!t._howls[n]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&e.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var e=new t,n=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};n.prototype={init:function(t){var n=this;return e.ctx||c(),n._autoplay=t.autoplay||!1,n._format="string"!=typeof t.format?t.format:[t.format],n._html5=t.html5||!1,n._muted=t.mute||!1,n._loop=t.loop||!1,n._pool=t.pool||5,n._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,n._rate=t.rate||1,n._sprite=t.sprite||{},n._src="string"!=typeof t.src?t.src:[t.src],n._volume=void 0!==t.volume?t.volume:1,n._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=t.onend?[{fn:t.onend}]:[],n._onfade=t.onfade?[{fn:t.onfade}]:[],n._onload=t.onload?[{fn:t.onload}]:[],n._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],n._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],n._onpause=t.onpause?[{fn:t.onpause}]:[],n._onplay=t.onplay?[{fn:t.onplay}]:[],n._onstop=t.onstop?[{fn:t.onstop}]:[],n._onmute=t.onmute?[{fn:t.onmute}]:[],n._onvolume=t.onvolume?[{fn:t.onvolume}]:[],n._onrate=t.onrate?[{fn:t.onrate}]:[],n._onseek=t.onseek?[{fn:t.onseek}]:[],n._onunlock=t.onunlock?[{fn:t.onunlock}]:[],n._onresume=[],n._webAudio=e.usingWebAudio&&!n._html5,void 0!==e.ctx&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&"none"!==n._preload&&n.load(),n},load:function(){var t=this,n=null;if(e.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var o=0;o<t._src.length;o++){var r,a;if(t._format&&t._format[o])r=t._format[o];else{if("string"!=typeof(a=t._src[o])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(a))||(r=/\.([^.]+)$/.exec(a.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&e.codecs(r)){n=t._src[o];break}}if(n)return t._src=n,t._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new i(t),t._webAudio&&s(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,n){var i=this,o=null;if("number"==typeof t)o=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if(void 0===t&&(t="__default",!i._playLock)){for(var s=0,r=0;r<i._sounds.length;r++)i._sounds[r]._paused&&!i._sounds[r]._ended&&(s++,o=i._sounds[r]._id);1===s?t=null:o=null}}var a=o?i._soundById(o):i._inactiveSound();if(!a)return null;if(o&&!t&&(t=a._sprite||"__default"),"loaded"!==i._state){a._sprite=t,a._ended=!1;var l=a._id;return i._queue.push({event:"play",action:function(){i.play(l)}}),l}if(o&&!a._paused)return n||i._loadQueue("play"),a._id;i._webAudio&&e._autoResume();var c=Math.max(0,a._seek>0?a._seek:i._sprite[t][0]/1e3),u=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-c),h=1e3*u/Math.abs(a._rate),d=i._sprite[t][0]/1e3,p=(i._sprite[t][0]+i._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var f=function(){a._paused=!1,a._seek=c,a._start=d,a._stop=p,a._loop=!(!a._loop&&!i._sprite[t][2])};if(!(c>=p)){var m=a._node;if(i._webAudio){var _=function(){i._playLock=!1,f(),i._refreshBuffer(a);var t=a._muted||i._muted?0:a._volume;m.gain.setValueAtTime(t,e.ctx.currentTime),a._playStart=e.ctx.currentTime,void 0===m.bufferSource.start?a._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,u):a._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,u),h!==1/0&&(i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),h)),n||setTimeout((function(){i._emit("play",a._id),i._loadQueue()}),0)};"running"===e.state&&"interrupted"!==e.ctx.state?_():(i._playLock=!0,i.once("resume",_),i._clearTimer(a._id))}else{var g=function(){m.currentTime=c,m.muted=a._muted||i._muted||e._muted||m.muted,m.volume=a._volume*e.volume(),m.playbackRate=a._rate;try{var o=m.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(i._playLock=!0,f(),o.then((function(){i._playLock=!1,m._unlocked=!0,n?i._loadQueue():i._emit("play",a._id)})).catch((function(){i._playLock=!1,i._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):n||(i._playLock=!1,f(),i._emit("play",a._id)),m.playbackRate=a._rate,m.paused)return void i._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?i._endTimers[a._id]=setTimeout(i._ended.bind(i,a),h):(i._endTimers[a._id]=function(){i._ended(a),m.removeEventListener("ended",i._endTimers[a._id],!1)},m.addEventListener("ended",i._endTimers[a._id],!1))}catch(t){i._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=i._src,m.load());var v=window&&window.ejecta||!m.readyState&&e._navigator.isCocoonJS;if(m.readyState>=3||v)g();else{i._playLock=!0,i._state="loading";var y=function(){i._state="loaded",g(),m.removeEventListener(e._canPlayEvent,y,!1)};m.addEventListener(e._canPlayEvent,y,!1),i._clearTimer(a._id)}}return a._id}i._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),i=0;i<n.length;i++){e._clearTimer(n[i]);var o=e._soundById(n[i]);if(o&&!o._paused&&(o._seek=e.seek(n[i]),o._rateSeek=0,o._paused=!0,e._stopFade(n[i]),o._node))if(e._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),e._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||e._emit("pause",o?o._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var i=n._getSoundIds(t),o=0;o<i.length;o++){n._clearTimer(i[o]);var s=n._soundById(i[o]);s&&(s._seek=s._start||0,s._rateSeek=0,s._paused=!0,s._ended=!0,n._stopFade(i[o]),s._node&&(n._webAudio?s._node.bufferSource&&(void 0===s._node.bufferSource.stop?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),n._cleanBuffer(s._node)):isNaN(s._node.duration)&&s._node.duration!==1/0||(s._node.currentTime=s._start||0,s._node.pause(),s._node.duration===1/0&&n._clearSound(s._node))),e||n._emit("stop",s._id))}return n},mute:function(t,n){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(t,n)}}),i;if(void 0===n){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var o=i._getSoundIds(n),s=0;s<o.length;s++){var r=i._soundById(o[s]);r&&(r._muted=t,r._interval&&i._stopFade(r._id),i._webAudio&&r._node?r._node.gain.setValueAtTime(t?0:r._volume,e.ctx.currentTime):r._node&&(r._node.muted=!!e._muted||t),i._emit("mute",r._id))}return i},volume:function(){var t,n,i,o=this,s=arguments;if(0===s.length)return o._volume;if(1===s.length||2===s.length&&void 0===s[1]){var r=o._getSoundIds(),a=r.indexOf(s[0]);a>=0?n=parseInt(s[0],10):t=parseFloat(s[0])}else s.length>=2&&(t=parseFloat(s[0]),n=parseInt(s[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(i=n?o._soundById(n):o._sounds[0])?i._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,s)}}),o;void 0===n&&(o._volume=t),n=o._getSoundIds(n);for(var l=0;l<n.length;l++)(i=o._soundById(n[l]))&&(i._volume=t,s[2]||o._stopFade(n[l]),o._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,e.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*e.volume()),o._emit("volume",i._id));return o},fade:function(t,n,i,o){var s=this;if("loaded"!==s._state||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(t,n,i,o)}}),s;t=Math.min(Math.max(0,parseFloat(t)),1),n=Math.min(Math.max(0,parseFloat(n)),1),i=parseFloat(i),s.volume(t,o);for(var r=s._getSoundIds(o),a=0;a<r.length;a++){var l=s._soundById(r[a]);if(l){if(o||s._stopFade(r[a]),s._webAudio&&!l._muted){var c=e.ctx.currentTime,u=c+i/1e3;l._volume=t,l._node.gain.setValueAtTime(t,c),l._node.gain.linearRampToValueAtTime(n,u)}s._startFadeInterval(l,t,n,i,r[a],void 0===o)}}return s},_startFadeInterval:function(t,e,n,i,o,s){var r=this,a=e,l=n-e,c=Math.abs(l/.01),u=Math.max(4,c>0?i/c:i),h=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var o=(Date.now()-h)/i;h=Date.now(),a+=l*o,a=Math.round(100*a)/100,a=l<0?Math.max(n,a):Math.min(n,a),r._webAudio?t._volume=a:r.volume(a,t._id,!0),s&&(r._volume=a),(n<e&&a<=n||n>e&&a>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,r.volume(n,t._id),r._emit("fade",t._id))}),u)},_stopFade:function(t){var n=this,i=n._soundById(t);return i&&i._interval&&(n._webAudio&&i._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(i._interval),i._interval=null,n.volume(i._fadeTo,t),i._fadeTo=null,n._emit("fade",t)),n},loop:function(){var t,e,n,i=this,o=arguments;if(0===o.length)return i._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=i._soundById(parseInt(o[0],10)))&&n._loop;t=o[0],i._loop=t}else 2===o.length&&(t=o[0],e=parseInt(o[1],10));for(var s=i._getSoundIds(e),r=0;r<s.length;r++)(n=i._soundById(s[r]))&&(n._loop=t,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,i.playing(s[r])&&(i.pause(s[r],!0),i.play(s[r],!0)))));return i},rate:function(){var t,n,i,o=this,s=arguments;if(0===s.length)n=o._sounds[0]._id;else if(1===s.length){var r=o._getSoundIds(),a=r.indexOf(s[0]);a>=0?n=parseInt(s[0],10):t=parseFloat(s[0])}else 2===s.length&&(t=parseFloat(s[0]),n=parseInt(s[1],10));if("number"!=typeof t)return(i=o._soundById(n))?i._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,s)}}),o;void 0===n&&(o._rate=t),n=o._getSoundIds(n);for(var l=0;l<n.length;l++)if(i=o._soundById(n[l])){o.playing(n[l])&&(i._rateSeek=o.seek(n[l]),i._playStart=o._webAudio?e.ctx.currentTime:i._playStart),i._rate=t,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,e.ctx.currentTime):i._node&&(i._node.playbackRate=t);var c=o.seek(n[l]),u=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-c,h=1e3*u/Math.abs(i._rate);!o._endTimers[n[l]]&&i._paused||(o._clearTimer(n[l]),o._endTimers[n[l]]=setTimeout(o._ended.bind(o,i),h)),o._emit("rate",i._id)}return o},seek:function(){var t,n,i=this,o=arguments;if(0===o.length)i._sounds.length&&(n=i._sounds[0]._id);else if(1===o.length){var s=i._getSoundIds(),r=s.indexOf(o[0]);r>=0?n=parseInt(o[0],10):i._sounds.length&&(n=i._sounds[0]._id,t=parseFloat(o[0]))}else 2===o.length&&(t=parseFloat(o[0]),n=parseInt(o[1],10));if(void 0===n)return 0;if("number"==typeof t&&("loaded"!==i._state||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,o)}}),i;var a=i._soundById(n);if(a){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var l=i.playing(n)?e.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+l*Math.abs(a._rate))}return a._node.currentTime}var u=i.playing(n);u&&i.pause(n,!0),a._seek=t,a._ended=!1,i._clearTimer(n),i._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var h=function(){u&&i.play(n,!0),i._emit("seek",n)};if(u&&!i._webAudio){var d=function(){i._playLock?setTimeout(d,0):h()};setTimeout(d,0)}else h()}return i},playing:function(t){var e=this;if("number"==typeof t){var n=e._soundById(t);return!!n&&!n._paused}for(var i=0;i<e._sounds.length;i++)if(!e._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this,n=e._duration,i=e._soundById(t);return i&&(n=e._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var t=this,n=t._sounds,i=0;i<n.length;i++)n[i]._paused||t.stop(n[i]._id),t._webAudio||(t._clearSound(n[i]._node),n[i]._node.removeEventListener("error",n[i]._errorFn,!1),n[i]._node.removeEventListener(e._canPlayEvent,n[i]._loadFn,!1),n[i]._node.removeEventListener("ended",n[i]._endFn,!1),e._releaseHtml5Audio(n[i]._node)),delete n[i]._node,t._clearTimer(n[i]._id);var s=e._howls.indexOf(t);s>=0&&e._howls.splice(s,1);var r=!0;for(i=0;i<e._howls.length;i++)if(e._howls[i]._src===t._src||t._src.indexOf(e._howls[i]._src)>=0){r=!1;break}return o&&r&&delete o[t._src],e.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,i){var o=this["_on"+t];return"function"==typeof e&&o.push(i?{id:n,fn:e,once:i}:{id:n,fn:e}),this},off:function(t,e,n){var i=this,o=i["_on"+t],s=0;if("number"==typeof e&&(n=e,e=null),e||n)for(s=0;s<o.length;s++){var r=n===o[s].id;if(e===o[s].fn&&r||!e&&r){o.splice(s,1);break}}else if(t)i["_on"+t]=[];else{var a=Object.keys(i);for(s=0;s<a.length;s++)0===a[s].indexOf("_on")&&Array.isArray(i[a[s]])&&(i[a[s]]=[])}return i},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var i=this,o=i["_on"+t],s=o.length-1;s>=0;s--)o[s].id&&o[s].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(i,o[s].fn),0),o[s].once&&i.off(t,o[s].fn,o[s].id));return i._loadQueue(t),i},_loadQueue:function(t){var e=this;if(e._queue.length>0){var n=e._queue[0];n.event===t&&(e._queue.shift(),e._loadQueue()),t||n.action()}return e},_ended:function(t){var n=this,i=t._sprite;if(!n._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(n._ended.bind(n,t),100),n;var o=!(!t._loop&&!n._sprite[i][2]);if(n._emit("end",t._id),!n._webAudio&&o&&n.stop(t._id,!0).play(t._id),n._webAudio&&o){n._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=e.ctx.currentTime;var s=1e3*(t._stop-t._start)/Math.abs(t._rate);n._endTimers[t._id]=setTimeout(n._ended.bind(n,t),s)}return n._webAudio&&!o&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,n._clearTimer(t._id),n._cleanBuffer(t._node),e._autoSuspend()),n._webAudio||o||n.stop(t._id,!0),n},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var n=e._soundById(t);n&&n._node&&n._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,n=0;n<e._sounds.length;n++)if(t===e._sounds[n]._id)return e._sounds[n];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new i(t)},_drain:function(){var t=this,e=t._pool,n=0,i=0;if(!(t._sounds.length<e)){for(i=0;i<t._sounds.length;i++)t._sounds[i]._ended&&n++;for(i=t._sounds.length-1;i>=0;i--){if(n<=e)return;t._sounds[i]._ended&&(t._webAudio&&t._sounds[i]._node&&t._sounds[i]._node.disconnect(0),t._sounds.splice(i,1),n--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=e.ctx.createBufferSource(),t._node.bufferSource.buffer=o[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,e.ctx.currentTime),this},_cleanBuffer:function(t){var n=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(e._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),n))try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(t){this._parent=t,this.init()};i.prototype={init:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,n._sounds.push(t),t.create(),t},create:function(){var t=this,n=t._parent,i=e._muted||t._muted||t._parent._muted?0:t._volume;return n._webAudio?(t._node=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),t._node.gain.setValueAtTime(i,e.ctx.currentTime),t._node.paused=!0,t._node.connect(e.masterGain)):e.noAudio||(t._node=e._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(e._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=n._src,t._node.preload=!0===n._preload?"auto":n._preload,t._node.volume=i*e.volume(),t._node.load()),t},reset:function(){var t=this,n=t._parent;return t._muted=n._muted,t._loop=n._loop,t._volume=n._volume,t._rate=n._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++e._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,n=t._parent;n._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),t._node.removeEventListener(e._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var o={},s=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void l(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),i=new Uint8Array(n.length),s=0;s<n.length;++s)i[s]=n.charCodeAt(s);a(i.buffer,t)}else{var c=new XMLHttpRequest;c.open(t._xhr.method,e,!0),c.withCredentials=t._xhr.withCredentials,c.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){c.setRequestHeader(e,t._xhr.headers[e])})),c.onload=function(){var e=(c.status+"")[0];"0"===e||"2"===e||"3"===e?a(c.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+c.status+".")},c.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},r(c)}},r=function(t){try{t.send()}catch(e){t.onerror()}},a=function(t,n){var i=function(){n._emit("loaderror",null,"Decoding audio data failed.")},s=function(t){t&&n._sounds.length>0?(o[n._src]=t,l(n,t)):i()};"undefined"!=typeof Promise&&1===e.ctx.decodeAudioData.length?e.ctx.decodeAudioData(t).then(s).catch(i):e.ctx.decodeAudioData(t,s,i)},l=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){if(e.usingWebAudio){try{"undefined"!=typeof AudioContext?e.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(t){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),n=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=n?parseInt(n[1],10):null;if(t&&i&&i<9){var o=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!o&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};"function"==typeof define&&define.amd&&define([],(function(){return{Howler:e,Howl:n}})),"undefined"!=typeof exports&&(exports.Howler=e,exports.Howl=n),"undefined"!=typeof global?(global.HowlerGlobal=t,global.Howler=e,global.Howl=n,global.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=n,window.Sound=i)}();var tooltipCache={},prev_bs,filter_array=[],effects_filter_array=[],gear_effects_filter_array=[],favorites=[],fav_loaded=!1,sk={},sck={},curtaint_pending=!1,titles_array=[];function init_knowledge(){if("undefined"!=typeof categories)for(let t in categories)if(categories[t][1]>0){let e=1*t;void 0===category_tree[categories[e][1]]&&(category_tree[categories[e][1]]=[]),category_tree[categories[e][1]].push(e)}add_knowledge_pm_handler(),add_knowledge_category_handler(),$("#search_knowledge").on("click",(function(){filter_knowledge2($("#knowledge_filter").val())})),$("#reset_knowledge_tree").on("click",(function(){$("#knowledge_filter").val(""),$("#knowledge_search_results").html("")})),$("#knowledge_filter").keyup((function(t){"Enter"==t.key&&filter_knowledge2($("#knowledge_filter").val())})),load_knowledge2()}function add_knowledge_pm_handler(){$('.theme_name[data-state="0"]').each((function(){$(this).on("click",(function(){$(this).children(".en_plus, .en_minus").toggleClass("en_plus").toggleClass("en_minus")})),$(this).attr("data-state",1)}))}function add_knowledge_category_handler(){$(".knowledge_content").on("show.bs.collapse",(function(t){if(t.stopPropagation(),0==1*$(this).attr("data-state")){let t="";$(this).attr("data-state",1);let e=1*$(this).data("tcid");if(void 0!==category_tree[e])for(let n in category_tree[e]){let i=category_tree[e][n],o="";categories[i][3]>0&&(o=" "+kn_msgs[0].replace("{increaseWp}",categories[i][3]),categories[i][4]>categories[i][2]&&(categories[i][4]=categories[i][2]),0==categories[i][6]&&(o+=" | "+kn_msgs[1]+": "+categories[i][4]+"/"+categories[i][2]));let s="",r="square",a="",l="";void 0!==sck[i]&&1==sck[i]&&(r="check-square",a=" faded_kn",l=" active"),t+='<div class="stretch knowledge_entry" data-tcid="'+i+'"><span data-tcid="'+i+'"><span class="pointer theme_name collapsed'+a+'" data-state="0" data-bs-toggle="collapse" href="#theme_'+i+'" aria-expanded="false" aria-controls="theme_'+i+'" data-ep="0" data-tcid="'+i+'"><div class="en_plus"></div> <b>'+categories[i][0]+"</b>"+o+"</span>"+s+"</span>",t+=' <button class="btn btn-gradient btn-success btn-sm knowledge_category_mark_button'+l+'" type="button" data-tcid="'+i+'" data-state="0"><svg class="bi" width="12" height="12" fill="white"><use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#'+r+'"/></svg></button>',t+='<div class="collapse knowledge_content" id="theme_'+i+'" data-tcid="'+i+'" data-state="0"></div>',t+="</div>"}if(void 0!==entry_tree[e])for(let n in entry_tree[e])t+=print_knowledge_entry(entry_tree[e][n]);$("#theme_"+e).html(t),$(".theme_entry:not(data-hasqtip)").each((function(){$(this).qtip(qtip_options())})),add_knowledge_pm_handler(),add_knowledge_category_handler(),add_knowledge_mark_button_handler(),add_knowledge_category_mark_button_handler()}}))}function add_knowledge_mark_button_handler(){$('.knowledge_mark_button[data-state="0"]').each((function(){$(this).on("click",(function(){var t=$(this).data("tid");$('.knowledge_mark_button[data-tid="'+t+'"]').each((function(){toggle_knowledge(this)}))})),$(this).attr("data-state",1)})),$('.knowledge_grade_selector[data-state="0"]').each((function(){$(this).change((function(){set_knowledge_grade(this)})),$(this).attr("data-state",1)}))}function set_knowledge_grade(t){var e=$(t).data("tid"),n=1*$(t).prev().hasClass("active"),i=$(t).val(),o=$(t).prop("selectedIndex");$(t)[0].className=$(t)[0][o].className,$(t).addClass("knowledge_grade_selector"),void 0!==sk[e]&&void 0!==sk[e][0]&&(sk[e][1]=[i]),sk[e]=[n,i],delay((function(){save_knowledge()}),1e3)}function add_knowledge_category_mark_button_handler(){$('.knowledge_category_mark_button[data-state="0"]').each((function(){$(this).on("click",(function(){toggle_knowledge_category(this)})),$(this).attr("data-state",1)}))}function toggle_knowledge_category(t){var e=$(t).data("tcid");void 0!==e&&($(t).hasClass("active")?(console.log("removing category "+e),toggle_knowledge_category_selection(t,e,0),mark_knowledge_category_content(e,0),delete sck[e]):(console.log("adding category "+e),toggle_knowledge_category_selection(t,e,1),mark_knowledge_category_content(e,1),sck[e]=1)),update_knowledge_counter2(),delay((function(){save_knowledge2()}),1e3)}function mark_knowledge_category_content(t,e){for(let n in category_tree[t]){let i=category_tree[t][n];e?sck[i]=1:delete sck[i],toggle_knowledge_category_selection($('.knowledge_category_mark_button[data-tid="'+i+'"]'),i,e),mark_knowledge_category_entires(i,e)}mark_knowledge_category_entires(t,e)}function mark_knowledge_category_entires(t,e){for(let n in entry_tree[t]){let i=entry_tree[t][n],o=$('.knowledge_mark_button[data-tid="'+i+'"]');e?(void 0!==sk[i]&&void 0!==sk[i][0]?sk[i][0]=1:sk[i]=[1,0],toggle_knowledge_selection(o,i,1)):(toggle_knowledge_selection(o,i,0),delete sk[i])}}function toggle_knowledge_selection(t,e,n){n?($(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('a[data-tid="'+e+'"]').addClass("faded_kn")):($(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('a[data-tid="'+e+'"]').removeClass("faded_kn"))}function toggle_knowledge_category_selection(t,e,n){n?($(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('.theme_name[data-tcid="'+e+'"]').addClass("faded_kn")):($(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('.theme_name[data-tcid="'+e+'"]').removeClass("faded_kn"))}function toggle_knowledge(t){var e=$(t).data("tid");if(void 0!==e){var n=1*$(t).next().val();if((null==n||isNaN(n))&&(n=0),$(t).hasClass("active")){if(toggle_knowledge_selection(t,e,0),$(t).next().val(0).change(),delete sk[e],void 0!==sck[entries[e][0]]){delete sck[entries[e][0]],toggle_knowledge_category_selection($('.knowledge_category_mark_button[data-tid="'+entries[e][0]+'"]'),entries[e][0],0)}}else{toggle_knowledge_selection(t,e,1),void 0!==sk[e]&&void 0!==sk[e][0]&&(sk[e][0]=1),sk[e]=[1,n];let i=entries[e][0],o=0;for(let t in entry_tree[i]){let e=entry_tree[i][t];(void 0!==sk[e]&&void 0!==sk[e][0]&&1==sk[e][0]||void 0!==sk[e]&&1==sk[e])&&o++}if(o==categories[i][2]){sck[i]=1,toggle_knowledge_category_selection($('.knowledge_category_mark_button[data-tid="'+i+'"]'),i,1)}}update_knowledge_counter2(),delay((function(){save_knowledge2()}),1e3)}}function print_knowledge_entry(t){let e="",n="";void 0!==hints[entries[t][3]]&&(n=" ("+hints[entries[t][3]]+")");let i="",o=["Grade","C","B","A","A+","S"];if(1==categories[entries[t][0]][7]&&15e3!=entries[t][0]){i='<select class="knowledge_grade_selector" data-tid="'+t+'" data-state="0">';for(let e=0;e<o.length;e++){let n="";void 0!==sk[t]&&void 0!==sk[t][1]&&sk[t][1]==e&&(n=" selected"),i+='<option class="knowledge_grade_'+e+'" value="'+e+'"'+n+">"+o[e]+"</option>"}i+="</select>"}let s="square",r="",a="";return void 0!==sk[t]&&void 0!==sk[t][0]&&1==sk[t][0]&&(s="check-square",r=" faded_kn",a=" active"),e+='<div><a href="/'+lang+"/theme/"+t+'/" class="item_grade_0 theme_entry'+r+'" data-tid="'+t+'" data-id="theme--'+t+'" target="_blank"><img src="/items/'+icons[entries[t][1]]+'" width="40px" height="40px" alt="icon">'+entries[t][2]+n+'</a><button class="btn btn-gradient btn-success btn-sm knowledge_mark_button ms-1'+a+'" type="button" data-tid="'+t+'" data-state="0"><svg class="bi" width="12" height="12" fill="white"><use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#'+s+'"/></svg></button> '+i+"</div>",e}function set_mount_data(t){var e=$("#mount_level"),n=e.html(),i=e.data("max_level");"-"==$(t).data("action")?n>1&&n--:n<i&&n++,e.html(n),$("#mount_exp").html(mount_data[n].exp),$("#mount_hp").html(mount_data[n].hp),$("#mount_stamina").html(mount_data[n].stamina),$("#mount_weight").html(mount_data[n].weight),$("#mount_speed").html(mount_data[n].speed),$("#mount_acceleration").html(mount_data[n].acceleration),$("#mount_cornering").html(mount_data[n].cornering),$("#mount_brake").html(mount_data[n].brake)}function set_sailor_data(t){var e=$("#sailor_level"),n=1*e.html(),i=e.data("max_level");"-"==$(t).data("action")?n>1&&n--:n<i&&n++,e.html(n),void 0===sailor_data[n+1]?$("#exp").html("-"):$("#exp").html(sailor_data[n+1].exp),$("#hp").html(sailor_data[n].hp),$("#sta").html(sailor_data[n].sta),$("#wit").html(sailor_data[n].wit),$("#awa").html(sailor_data[n].awa),$("#arm").html(sailor_data[n].arm),$("#pat").html(sailor_data[n].pat),$("#str").html(sailor_data[n].str),$("#con").html(sailor_data[n].con),$("#view").html(sailor_data[n].view)}function set_pet_data(t){var e=$("#pet_level"),n=e.html(),i=e.data("max_level");"-"==$(t).data("action")?n>1&&n--:n<i&&n++,e.html(n),$("#skill_0").html(pet_skill_0[n]),$("#skill_1").html(pet_skill_1[n]),$("#pet_exp").html(pet_exp[n])}function add_price_handler_old(){$(".material_price").each((function(){$(this).unbind("keyup"),$(this).keyup((function(){$(this).attr("data-price",$(this).val()),$("#craft_counter").keyup()}))}))}function add_price_handler(){$(".material_price").each((function(){$(this).unbind("keyup"),$(this).keyup((function(){var t=$(this).val(),e=$(this).data("item_id"),n=$(this);delay((function(){user_id>1&&save_price(e,t),$(n).attr("data-price",t),update_total_price()}),500)}))})),$(".check_rid").each((function(){$(this).unbind("change"),$(this).change((function(){update_total_price()}))}))}function calculate_price(t){var e=$(t).parent().parent().parent().children(".counter_value").text();if(null!=e&&e.length>0){var n=e*$(t).attr("data-price");if(0!=n){var i=$("#total_price"),o=1*i.attr("data-price")+n;i.attr("data-price",o);var s=i.attr("data-price"),r=$("#products_per_craft").val().replace(",",".");r>0&&(s=cut_number(s/r,1)),$(i).text(number_format(s,","))}}}function calculate_price_old(t){var e=$(t).parent().parent().parent().children(".counter_value").html();if(null!=e&&e.length>0){var n=$(t).attr("data-price");$(t).attr("data-total_price",e*n);var i=$("#total_price");i.val(1*i.val()+1*$(t).attr("data-total_price"))}}function get_bs(){var t=check_bs();prev_bs!=t&&(prev_bs=t,update_bs(t))}function check_bs(){var t=$(window).width();return t<760?"sm":t>=760&&t<970?"md":"lg"}function update_bs(t){var e,n,i;console.log("Updating bs"),"sm"==t?(e="\x3c!-- SM--\x3e<script type=\"text/javascript\">MonkeyBroker.adPlacement({sizes:['1'],el:top_slot});<\/script>",n="\x3c!-- SM--\x3e<script type=\"text/javascript\">MonkeyBroker.adPlacement({sizes:['1'],el:bottom_slot});<\/script>",i="\x3c!--SM-EMPTY--\x3e"):"md"==t?(e='\x3c!--MD--\x3e<script type="text/javascript">MonkeyBroker.adPlacement({sizes:[5],el:top_slot});<\/script>',n='\x3c!--MD--\x3e<script type="text/javascript">MonkeyBroker.adPlacement({sizes:[5],el:bottom_slot});<\/script>',i="\x3c!--MD-EMPTY--\x3e"):"lg"==t&&(e='\x3c!--LG--\x3e<script type="text/javascript">MonkeyBroker.adPlacement({sizes:[35,33,5],el:top_slot});<\/script>',n='\x3c!--LG--\x3e<script type="text/javascript">MonkeyBroker.adPlacement({sizes:[35,33,5],el:bottom_slot});<\/script>',i="\x3c!--LG--\x3e<script type=\"text/javascript\">MonkeyBroker.adPlacement({sizes:['300x600','300x250','160x600','Stacked 300x250'],el:right_slot});<\/script>"),$("#top_slot").html(e),$("#bottom_slot").html(n),$("#right_slot").html(i)}function qtip_options(){return{show:{event:"mouseenter"},overwrite:!1,style:{classes:"qtip-transparent"},content:{text:function(t,e){var n=$(this).attr(e.options.content.attr);$(this).data("ct")&&(r="comment_tip",$(this).qtip("api").set("style.classes",r));var i=$(this).attr("data-id"),o=$(this).data("quest_group");if(i){var s=i+$(this).data("quest_group")+$(this).data("spawn_id")+$(this).data("enchant")+lang;if(tooltipCache[s])return tooltipCache[s];$.ajax({url:"/tip.php",type:"GET",data:{id:i,quest_group:o,spawn_id:$(this).data("spawn_id"),grade:$(this).data("grade"),enchant:$(this).data("enchant"),tiptype:$(this).data("tiptype"),l:lang,nf:"on"}}).then((function(t){tooltipCache[s]=t,e.set("content.text",t)}),(function(t,n,i){e.set("content.text",n+": "+i)})),n=n?n+" (Loading...)":"Loading..."}else{var r="qtip-bootstrap";$(this).qtip("api").set("style.classes",r),$(this).qtip("api").set("position.adjust.x",12),$(this).qtip("api").set("position.adjust.y",12),$(this).qtip("api").set("style.tip.corner",!1)}return n}},position:{target:"mouse",effect:!1,adjust:{method:"shift",x:5,y:5},viewport:$(window)},events:{hide:function(t,e){var n=$(this).find("video").get(0);void 0!==n&&n.pause()},show:function(t,e){var n=$(this).find("video").get(0);void 0!==n&&n.play()}}}}function get_datatable(t,e,n,i,o){var s="simple_numbers";is_mobile()&&(s="simple",!0,responsive=!1);var r=$("#"+t).DataTable({ajax:{url:e,cache:!0},columns:JSON.parse(n),order:JSON.parse(o),deferRender:!0,scrollX:!0,autoWidth:!0,pagingType:s,stateSave:!0,lengthMenu:[10,25,50,100,150,200],pageLength:entries_per_page,dom:'<<"inlinediv"l><"inlinediv ms-2 column_select_button"B><"inlinediv float-end"f>><<"inlinediv"i><"inlinediv float-end"p>>rt<<"inlinediv"l><"inlinediv float-end"f>><<"inlinediv"i><"inlinediv float-end"p>>',buttons:[{text:reset_settings_msg,action:function(t,e,n,i){e.state.clear(),window.location.reload()}}],language:{url:"/lang/datatables_"+lang+".txt"},rowCallback:function(e,n,o){customFnRowCallback(e,n,o,i,r,t)},searchDelay:350}).on("mouseenter",".qtooltip",(function(t){$(this).qtip($.extend(!0,qtip_options(),{show:{ready:!0}}),t)})).on("click","[data-group_id]",(function(t){$("#"+$(this).data("group_id")).toggle(),$(this).children(".plus_minus").toggleClass("toggle-open")})).on("click",".title_fav_checkbox",(function(t){save_title_status(this)})).on("click",".list_checkbox",(function(t){favorite_recipe(this,r)})).on("click",".unsub_button",(function(t){unsubscribe(this)})).on("xhr.dt",(function(t,e,n,i){if(null!=n&&null!=favorites&&(n.aaData.length>0&&"recipes"==get_action()))for(var o=0,s=n.aaData.length;o<s;o++)n.aaData[o][0]in favorites&&1==favorites[n.aaData[o][0]].state&&(n.aaData[o][12]=1)}));$.fn.dataTable.util.throttle((function(t){r.draw()}),300);return $(".dt_qfilter").keyup((function(){this.value;delay((function(){r.draw()}),500)})),$(".dt_qfilter").change((function(){this.value;delay((function(){r.draw()}),500)})),$(".material_icon").click((function(){var t=$(this).attr("data-state"),e=$(this).data("item_id");if(t^=1,$(this).attr("data-state",t),$(this).toggleClass("effect_selected"),1==t)filter_array.push(e);else{var n=$.inArray(e,filter_array);n>-1&&filter_array.splice(n,1)}r.draw()})),$(".product_effect").click((function(){var t=$(this).attr("data-state"),e=$(this).data("effect_group_id");if(t^=1,$(this).attr("data-state",t),$(this).toggleClass("effect_selected"),1==t)effects_filter_array.push(e);else{var n=$.inArray(e,effects_filter_array);n>-1&&effects_filter_array.splice(n,1)}r.draw()})),$(".gear_effect").click((function(){var t=$(this).attr("data-state"),e=$(this).data("effect_group_id");if(t^=1,$(this).attr("data-state",t),$(this).toggleClass("effect_selected"),1==t)gear_effects_filter_array.push(e);else{var n=$.inArray(e,gear_effects_filter_array);n>-1&&gear_effects_filter_array.splice(n,1)}r.draw()})),$("#"+t+"_min").length&&$("#"+t+"_max").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=$("#"+t.sTableId+"_min").val(),o=$("#"+t.sTableId+"_max").val(),s=$("#"+t.sTableId+"_min").data("col"),r="-"==e[s]?0:1*e[s];return""==i&&""==o||(""==i&&r<=o||(i<=r&&""==o||i<=r&&r<=o))})),$("#"+t+"_class_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=["_warrior","_ranger","_sorcerer","_giant","_tamer","_blademaster","_valkyrie","_wizard","_witch","_ninja","_blademasterwomen","_kunoichi","_darkelf","_striker","_mystic","_lahn","_archer","_shai","_guardian","_hashashin","_nova","_sage","_corsair","_drakania","_woosa","_maegu","_scholar","_dosa"],o=JSON.parse(e[$("#"+t.sTableId+"_warrior").data("col")]),s=!1,r=!1;if($.inArray(255,o)>-1||0==o.length)s=!0;else for(var a=0;a<i.length;a++){var l=$("#"+t.sTableId+i[a]);if(l.length&&l.is(":checked")){r=!0;var c=l.data("class_id");$.inArray(c,o)>-1&&(s=!0)}}return!1===r&&(s=!0),s})),$("#"+t+"_equip_type_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=["_all_gear","_weapon","_subweapon","_awakening","_helm","_body","_gloves","_boots","_costume"],s=JSON.parse(i[$("#"+t.sTableId+"_weapon").data("col")].sort_value),r=0;r<o.length;r++){var a=$("#"+t.sTableId+o[r]);if(a.length&&a.is(":checked"))if(a.data("slot_id")==s)return!0}return!1})),$("#"+t+"_skill_type_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[1],s=JSON.parse(i[$("#"+t.sTableId+"_skill_type_1").data("col")]),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_skill_type_"+o[l]);if(c.length&&c.is(":checked"))a=!0,c.data("skill_type")==s&&(r=!0)}return!1===a&&(r=!0),r})),$("#"+t+"_misc_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[0,1],s=JSON.parse(i[$("#"+t.sTableId+"_misc_filters").data("col")]),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_misc_"+o[l]);if(c.length&&c.is(":checked"))a=!0,1===s[1*c.data("misc_id")]&&(r=!0)}return!1===a&&(r=!0),r})),$("#"+t+"_search_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],s=JSON.parse(i[$("#"+t.sTableId+"_object_1").data("col")].sort_value),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_object_"+o[l]);if(c.length&&c.is(":checked"))a=!0,c.data("object_id")==s&&(r=!0)}return!1===a&&(r=!0),r})),$("#"+t+"_trade_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){var o=i[$("#"+t.sTableId+"_trade_skill").data("col")].sort_value,s=!1,r=$("#"+t.sTableId+"_trade_skill");r.length&&(o<=r.val()&&(s=!0));return s})),$("#"+t+"_quest_rewards_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=["_exp","_inventory","_intimacy","_skill_exp","_skill_point","_life_exp","_enchantment","_cp","_gold"],s=JSON.parse(e[$("#"+t.sTableId+"_exp").data("col")]),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+o[l]);if(c.length&&c.is(":checked")){a=!0;var u=c.data("reward_type");-1!=$.inArray(u,s)&&(r=!0)}}return!1===a&&(r=!0),r})),$("#"+t+"_quest_zone_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=["_zone_0","_zone_1","_zone_2","_zone_3","_zone_4","_zone_5","_zone_6","_zone_7","_zone_8","_zone_9","_zone_10","_zone_11","_zone_12","_zone_13","_zone_14"],s=JSON.parse(i[$("#"+t.sTableId+"_zone_0").data("col")].sort_value),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+o[l]);if(c.length&&c.is(":checked"))a=!0,c.data("zone")==s&&(r=!0)}return!1===a&&(r=!0),r})),$("#"+t+"_gqreqs_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){if($("#"+t.sTableId+"_gqreqs_min").length&&$("#"+t.sTableId+"_gqreqs_max").length){var o=$("#"+t.sTableId+"_gqreqs_min").val(),s=$("#"+t.sTableId+"_gqreqs_max").val(),r=JSON.parse(i[$("#"+t.sTableId+"_gqreqs_min").data("col")].sort_value),a="-"==r?0:1*r;return""==o&&""==s||(""==o&&a<=s||(o<=a&&""==s||o<=a&&a<=s))}return!0})),$("#"+t+"_quests_skill_exp_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){if($("#"+t.sTableId+"_quests_skill_exp_min").length&&$("#"+t.sTableId+"_quests_skill_exp_max").length){var o=$("#"+t.sTableId+"_quests_skill_exp_min").val(),s=$("#"+t.sTableId+"_quests_skill_exp_max").val(),r=($("#"+t.sTableId+"_quests_skill_exp_min").data("col"),JSON.parse(i[$("#"+t.sTableId+"_quests_skill_exp_min").data("col")].sort_value)),a="-"==r?0:1*r;return""==o&&""==s||(""==o&&a<=s||(o<=a&&""==s||o<=a&&a<=s))}return!0})),$("#"+t+"_quests_exp_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){if($("#"+t.sTableId+"_quests_exp_min").length&&$("#"+t.sTableId+"_quests_exp_max").length){var o=$("#"+t.sTableId+"_quests_exp_min").val(),s=$("#"+t.sTableId+"_quests_exp_max").val(),r=($("#"+t.sTableId+"_quests_exp_min").data("col"),JSON.parse(i[$("#"+t.sTableId+"_quests_exp_min").data("col")].sort_value)),a="-"==r?0:1*r;return""==o&&""==s||(""==o&&a<=s||(o<=a&&""==s||o<=a&&a<=s))}return!0})),$("#"+t+"_quest_type_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=["_type_0","_type_1","_type_2","_type_3","_type_4","_type_5"],s=JSON.parse(i[$("#"+t.sTableId+"_type_0").data("col")]),r=!1,a=!1,l=0;l<o.length;l++){var c=$("#"+t.sTableId+o[l]);if(c.length&&c.is(":checked"))a=!0,c.data("type")==s&&(r=!0)}return!1===a&&(r=!0),r})),$("#"+t+"_gatherable_type_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=["_gatherable_type_2","_gatherable_type_4","_gatherable_type_6","_gatherable_type_7"],s=JSON.parse(i[$("#"+t.sTableId+"_gatherable_type_2").data("col")].sort_value),r=!0,a=0;a<o.length;a++){var l=$("#"+t.sTableId+o[a]);if(l.length&&l.is(":checked"))l.data("gatherable_type")!=s&&(r=!1)}return r})),$("#"+t+"_grade_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){for(var i=[0,1,2,3,4,5],o=JSON.parse(e[$("#"+t.sTableId+"_grade_0").data("col")]),s=!1,r=!0,a=0;a<i.length;a++){var l=$("#"+t.sTableId+"_grade_"+i[a]);if(l.length&&l.is(":checked"))r=!1,l.data("grade_id")==o&&(s=!0)}return r&&(s=!0),s})),$("#"+t+"_fish_category").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[0,1,2,3,4],s=JSON.parse(i[$("#"+t.sTableId+"_fish_category_0").data("col")].sort_value),r=!1,a=!0,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_fish_category_"+o[l]);if(c.length&&c.is(":checked"))a=!1,c.data("category")==s&&(r=!0)}return a&&(r=!0),r})),$("#"+t+"_material_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=JSON.parse(e[9]),o=!0;if("undefined"!=filter_array.length)for(var s=0;s<filter_array.length;s++)-1==$.inArray(filter_array[s],i)&&(o=!1);return o})),$("#"+t+"_gear_effect_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=$("#"+t.sTableId+"_gear_effect_filters");if(i.length){var o=i.data("col"),s=JSON.parse(e[o]),r=!0;if("undefined"!=gear_effects_filter_array.length)for(var a=0;a<gear_effects_filter_array.length;a++)-1==$.inArray(gear_effects_filter_array[a],s)&&(r=!1);return r}return!0})),$("#"+t+"_product_effect_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=JSON.parse(e[10]),o=!0;if("undefined"!=effects_filter_array.length)for(var s=0;s<effects_filter_array.length;s++)-1==$.inArray(effects_filter_array[s],i)&&(o=!1);return o})),1==sdte&&($.fn.dataTable.ext.errMode="none"),$("#"+t+"_gems_effects_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=1*$("#"+t.sTableId+"_gems_effects_filters").data("col"),o=JSON.parse(e[i]),s=!0;if(void 0!==effects_filter_array.length)for(var r=0;r<effects_filter_array.length;r++)-1==$.inArray(effects_filter_array[r],o)&&(s=!1);return s})),$("#"+t+"_lightstones_effects_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=1*$("#"+t.sTableId+"_lightstones_effects_filters").data("col"),o=JSON.parse(e[i]),s=!0;if(void 0!==effects_filter_array.length)for(var r=0;r<effects_filter_array.length;r++)-1==$.inArray(effects_filter_array[r],o)&&(s=!1);return s})),$("#"+t+"_furniture_effects_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=JSON.parse(e[5]),o=!0;if("undefined"!=effects_filter_array.length)for(var s=0;s<effects_filter_array.length;s++)-1==$.inArray(effects_filter_array[s],i)&&(o=!1);return o})),$("#"+t+"_consumables_effects_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n){var i=JSON.parse(e[4]),o=!0;if("undefined"!=effects_filter_array.length)for(var s=0;s<effects_filter_array.length;s++)-1==$.inArray(effects_filter_array[s],i)&&(o=!1);return o})),$("#"+t+"_craft_level_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[0,1,2,3,4,5,6],s=JSON.parse(i[$("#"+t.sTableId+"_craft_level_0").data("col")].sort_value),r=0;r<o.length;r++){var a=$("#"+t.sTableId+"_craft_level_"+o[r]);if(a.length&&!a.is(":checked")){var l=a.data("level");if(s>l-10&&s<=l)return!1}}return!0})),$("#"+t+"_titles_types_filters").length&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[1,2],s=JSON.parse(i[0]),r=!1,a=!0,l=0;l<o.length;l++){var c=$("#"+t.sTableId+"_title_type_"+o[l]);c.length&&c.is(":checked")&&(a=!1,(1==o[l]&&-1!=$.inArray(s,titles_array)||2==o[l]&&-1==$.inArray(s,titles_array))&&(r=!0))}return a&&(r=!0),r})),$("#"+t+"_recipe_type_filters").length>0&&$.fn.dataTable.ext.search.push((function(t,e,n,i){for(var o=[0,1,2,3,"fav"],s=e[$("#"+t.sTableId+"_recipe_type_0").data("col")],r=e[$("#"+t.sTableId+"_recipe_type_fav").data("col")],a=!1,l=!0,c=0;c<o.length;c++){var u=$("#"+t.sTableId+"_recipe_type_"+o[c]);if(u.length&&u.is(":checked")){l=!1;var h=u.data("type");"fav"==o[c]?r==h&&(a=!0):s==h&&(a=!0)}}return l&&(a=!0),a})),r}function customFnRowCallback(t,e,n,i,o,s){$.each(JSON.parse(i),(function(n,i){if(""!==e[i]){var o=$("td:eq("+i+")",t).html();null!=o&&(o=(o=o.replace(/\[/g,"<")).replace(/\]/g,">"),$("td:eq("+i+")",t).html(o))}}));var r=get_action();if("recipes"==r&&$(favorites).length>0)$("#"+s+"_recipe_type_filters").length>0&&e[0]in favorites&&1==favorites[e[0]].state&&(o.cell($("td:eq(2)",t).parent().closest("tr"),12).data(1),a=(a=$("td:eq(2)",t).html()).replace('name="fav_recipe_'+e[0]+'"','name="fav_recipe_'+e[0]+'" checked'),$("td:eq(2)",t).html(a));else if("titles"==r&&$(titles_array).length>0){var a;if($.inArray(e[0],titles_array)>-1)a=(a=$("td:eq(2)",t).html()).replace('name="fav_title_'+e[0]+'"','name="fav_title_'+e[0]+'" checked'),$("td:eq(2)",t).html(a)}return t}function get_sub_materials(t,e,n){$.ajax({url:"/ajax.php",dataType:"json",type:"GET",data:{a:"sub_material",recipe_id:t,recipe_type:e,l:lang}}).then((function(t){1==t.result&&($(n).find(".sub_materials_content").html(t.data),set_toggle_event(),add_price_handler(),set_price_button_handlers(),get_real_material_prices(!0))}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function get_sub_materials_old(t,e,n,i){$.ajax({url:"/ajax.php",dataType:"json",type:"GET",data:{a:"sub_material",recipe_id:t,recipe_type:e,recipe_name:n,l:lang}}).then((function(t){1==t.result&&($(i).find(".sub_materials_content").html(t.data),set_toggle_event(),add_price_handler())}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function set_stats(t){"undefined"!=typeof enchantment_array&&(set_stat_value("damage",t),set_stat_value("defense",t),set_stat_value("evasion",t),set_stat_value("hevasion",t),set_stat_value("accuracy",t),set_stat_value("dreduction",t),set_stat_value("hdreduction",t),set_stat_value("durability",t),set_stat_value("description",t),set_stat_value("edescription",t),set_stat_value("enchant_item_counter",t),set_stat_value("enchant_chance",t),set_enchant_item("enchant_item",t),set_stat_value("pe_dura_dec",t),set_stat_value("fail_dura_dec",t),set_stat_value("cron_value",t),set_stat_value("cron_tvalue",t),set_pe_item("pe_item",t))}function set_cstats(){var t="",e=0,n=0,i="",o=$("#en_value").html(),s=$("#cen_value").html();if("undefined"!=typeof caphras_data&&o>=18&&void 0!==caphras_data[o][s]){var r=0,a=0,l=0;for(var c in caphras_data[o][s].stats)if(caphras_data[o][s].stats[c]>0){var u=caphras_data[o][s].stats[c];"evasion"==c&&void 0!==caphras_data[o][s].stats[c]&&void 0!==caphras_data[o][s].stats.hevasion&&caphras_data[o][s].stats.hevasion>0&&(u=caphras_data[o][s].stats[c]+" (+"+caphras_data[o][s].stats.hevasion+")"),"defense"==c&&void 0!==caphras_data[o][s].stats[c]&&void 0!==caphras_data[o][s].stats.hdefense&&caphras_data[o][s].stats.hdefense>0&&(u=caphras_data[o][s].stats[c]+" (+"+caphras_data[o][s].stats.hdefense+")"),"hevasion"!=c&&"hdefense"!=c&&("evasion"==c&&(r+=1*caphras_data[o][s].stats[c]),"defense"==c&&(a+=1*caphras_data[o][s].stats[c]),"damage"==c&&(l+=1*caphras_data[o][s].stats[c]),t+=i+caphras_data.stats_names[c]+": "+u,""==i&&(i="<br>"))}var h=r+a,d=$("#defense");d.html(1*d.attr("data-value")+h);var p=$("#damage"),f=p.attr("data-value").split("~");p.html(1*f[0]+l+" ~ "+(1*f[1]+l)),e=number_format(caphras_data[o][s].count,","),n=number_format(caphras_data[o][s].tcount,",")}$("#caphras_enhancement_bonus").html(t),$("#caphras_value").html(e),$("#caphras_tvalue").html(n)}function set_cstats_old(){var t="",e=0,n=0,i="",o=$("#en_value").html(),s=$("#cen_value").html();if("undefined"!=typeof caphras_data&&o>=18&&null!=caphras_data[o][s]){for(var r in caphras_data[o][s].stats)caphras_data[o][s].stats[r]>0&&(t+=i+caphras_data.stats_names[r]+" "+caphras_data[o][s].stats[r],""==i&&(i="<br>"));e=number_format(caphras_data[o][s].count,","),n=number_format(caphras_data[o][s].tcount,",")}$("#caphras_enhancement_bonus").html(t),$("#caphras_value").html(e),$("#caphras_tvalue").html(n)}function set_worker_stats(t){set_stat_value("work_speed",t),set_stat_value("move_speed",t),set_stat_value("luck",t),set_stat_value("nextlvexp",t),set_stat_value("sell_price",t),set_stat_value("upgrade_chance",t)}function set_stat_value(t,e){if(void 0!==enchantment_array[e][t]){if("hevasion"==t||"hdreduction"==t){var n="(+"+enchantment_array[e][t]+")";$("#"+t).html(n).attr("data-value",enchantment_array[e][t])}else $("#"+t).html(enchantment_array[e][t]).attr("data-value",enchantment_array[e][t]);0!=enchantment_array[e][t]&&$("#"+t).parent().removeClass("hide_me").parent().removeClass("hide_me")}}function set_enchant_item(t,e){if(enchantment_array[e].need_enchant_item_id>0){$("#enchant_item_block").removeClass("hide_me");var n=enchantment_array[e].need_enchant_item_icon;n=n.replace(".dds",".webp").toLowerCase();var i='<div class="iconset_wrapper_medium inlinediv"><a href="/'+lang+"/item/"+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip" data-id="item--'+enchantment_array[e].need_enchant_item_id+'" data-enchant="0"><div class="icon_wrapper"><img src="/items/'+n+'" alt="icon" class="list_icon_medium"></div></a></div> - <a href="/'+lang+"/item/"+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip item_grade_0" data-id="item--'+enchantment_array[e].need_enchant_item_id+'">'+enchantment_array[e].need_enchant_item_name+"</a>";$("#"+t).html(i),$(".qtooltip").each((function(){$(this).qtip(qtip_options())}))}else $("#enchant_item_block").addClass("hide_me")}function set_pe_item(t,e){if(enchantment_array[e].pe_item_counter>0){$("#pe_block").removeClass("hide_me"),$("#pe_dura_dec_block").removeClass("hide_me");var n=enchantment_array[e].need_enchant_item_icon;n=n.replace(".dds",".webp").toLowerCase();var i='<div class="iconset_wrapper_medium inlinediv"><a href="/'+lang+"/item/"+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip" data-id="item--'+enchantment_array[e].need_enchant_item_id+'" data-enchant="0"><div class="icon_wrapper"><img src="/items/'+n+'" alt="icon" class="list_icon_medium"></div></a></div> - <a href="/'+lang+"/item/"+enchantment_array[e].need_enchant_item_id+'/" class="qtooltip item_grade_0" data-id="item--'+enchantment_array[e].need_enchant_item_id+'">'+enchantment_array[e].need_enchant_item_name+"</a> x "+enchantment_array[e].pe_item_counter;$("#"+t).html(i),$(".qtooltip").each((function(){$(this).qtip(qtip_options())}))}else $("#"+t).html(enchantment_array.na),$("#pe_dura_dec").html(0)}function set_toggle_event_old(){$(".toggle-image").each((function(){$(this).unbind("click"),$(this).click((function(){$(this).siblings(".content").toggle(),$(this).toggleClass("toggle-open"),$(this).siblings().each((function(){$(this).html().length<5&&get_sub_materials($(this).data("id"),$(this).data("type"),$(this).data("name"),$(this))})),$(this).siblings(".sub_materials").toggle()}))})),$(".qtooltip").each((function(){$(this).qtip(qtip_options())})),$("#craft_counter").keyup()}function set_toggle_event(){$(".toggle-image").each((function(){$(this).unbind("click"),$(this).click((function(){$(this).toggleClass("toggle-open"),$(this).siblings(".sub_materials").each((function(){get_sub_materials($(this).data("id"),$(this).data("type"),this)})),$(this).siblings(".sub_materials").toggle()}))})),$(".toggle .qtooltip").each((function(){$(this).data("qtip")||$(this).qtip(qtip_options())})),$("#craft_counter").keyup()}function fadeout2(){$(".test").hover((function(){$(this).stop().animate({opacity:"0.5"},"fast")}),(function(){$(this).stop().animate({opacity:"1"},"fast")}))}function loading_handler(){var t=$("#loading");$(document).ajaxStart((function(){t.modal("show")})).ajaxStop((function(){t.modal("hide")}))}function linktip(){$('.comment_body a[href*="//bdocodex.com/"]').each((function(){var t=this.pathname.replace(/(^\/|\/$)/g,"").split("/");$(t).length>=3&&("item"!=t[1]&&"npc"!=t[1]&&"quest"!=t[1]&&"recipe"!=t[1]&&"design"!=t[1]&&"title"!=t[1]&&"theme"!=t[1]&&"skill"!=t[1]&&"buff"!=t[1]&&"itemset"!=t[1]&&"sskill"!=t[1]&&"guildquest"!=t[1]&&"house"!=t[1]&&"pet"!=t[1]&&"mount"!=t[1]&&"article"!=t[1]||("quest"==t[1]&&3 in t?($(this).attr("data-id",t[1]+"--"+t[3].replace(/[^0-9]/,"")),$(this).attr("data-quest_group",t[2].replace(/[^0-9]/,""))):$(this).attr("data-id",t[1]+"--"+t[2].replace(/[^0-9]/,"")),$(this).qtip(qtip_options())))}))}function fade_effect(t,e){1==e?$(t).stop().animate({opacity:"1"},"fast"):-1==e?$(t).stop().animate({opacity:"0.1"},"fast"):$(t).stop().animate({opacity:"0.4"},"fast")}function filter_knowledge2(t){if(t.length>=3){let e="";for(let n in entries){let i=entries[n][2],o="";if(void 0!==hints[entries[n][3]]&&(o=hints[entries[n][3]]),null!=i&&i.toLowerCase().search(t.toLowerCase())>-1||null!=o&&o.toLowerCase().search(t.toLowerCase())>-1||n.toString().search(t.toLowerCase())>-1){if(e+='<div class="mb-2">',void 0!==categories[entries[n][0]]){let t=[];t.push(categories[entries[n][0]][0]);let i=categories[entries[n][0]][1];for(;0!=i;)t.push(categories[i][0]),i=categories[i][1];let o="",s="";for(let e=t.length;e>0;e--)o+=s+t[e-1],""==s&&(s=" / ");e+='<div class="smallertext">'+o+"</div>"}e+=print_knowledge_entry(n),e+="</div>"}}$("#knowledge_search_results").html(e),add_knowledge_mark_button_handler()}}function filter_knowledge(t){if(prev_query!=t){if(t.length>=3)for(var e in $(".selected_line").each((function(){$(this).removeClass("selected_line")})),knowledge_array){var n=knowledge_array[e].name,i=knowledge_array[e].subname;if(null!=n&&n.toLowerCase().search(t.toLowerCase())>-1||null!=i&&i.toLowerCase().search(t.toLowerCase())>-1){var o=$('[data-id="theme--'+knowledge_array[e].id+'"]');o.addClass("selected_line"),o.parents(".knowledge_entry").children(":first-child").find(".collapsed").click()}}prev_query=t}}function save_price(t,e){$.post("/ajax.php",{a:"save_price",item_id:t,item_price:e,l:lang,token:security_token}).done((function(t){1==(t=JSON.parse(t)).result||alert(t.error)}))}$(document).ready((function(){$("#comment_text").markItUp(mySettings),$("#emoticons a").click((function(){return emoticon=$(this).attr("title"),$.markItUp({replaceWith:emoticon}),!1})),linktip(),$("#dialoglink").click((function(){$("#loginblock").dialog({dialogClass:"login",height:190,width:270,modal:!0})})),$("#subscribe_button").click((function(){process_subscription(this)})),$("#unsub_all_button").click((function(){unsubscribe_all(this)})),$(".save_settings_button").click((function(){save_user_settings()})),$(".user_filter").click((function(){save_ui_settings(this)})),$(".selectall").on("click",(function(){$(this).select()})),$("#show_3d_viewer").on("click",(function(){$("#3d_viewer_frame").toggleClass("viewer_frame"),$("#canvas").toggleClass("hide_me"),$(this).hide(),start_viewer()}));const t=get_action();"recipe"!==t&&"mrecipe"!==t&&"design"!==t||(get_recipe_hash(),set_recipe_hash_handler(),set_recipe_handler(),set_price_button_handlers(),get_real_material_prices(!1),$("#price_region").change((function(){update_real_material_prices(!0)}))),$(".toggle_text").click((function(){$("#"+$(this).data("target_id")).toggle()})),$(".qtooltip").each((function(){$(this).qtip(qtip_options())})),get_title_statuses(),$(".copy").on("click",(function(){copy_to_clipboard($("#"+$(this).data("cid")).val())}));var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/ac.php?l="+lang+"&term=%QUERY",wildcard:"%QUERY"},limit:1/0});if(e.initialize(),$(".typeahead").typeahead({hint:!0,highlight:!0,minLength:2},{name:"matched-links",displayKey:"name",limit:1/0,source:e.ttAdapter(),templates:{empty:null,suggestion:Handlebars.compile('<div class="qtooltip" data-id="{{link_type}}--{{value}}" data-quest_group="{{quest_group}}"><div class="search_icon me-1"><img src="/{{icon_path}}/{{icon}}" class="image-text grade_frame_{{grade}}" alt="icon" width="35px" height="35px">{{{subicon}}}</div> <span class="item_grade_{{grade}}">{{name}}</span><span class="object_type">{{object_type}}</span></div>')}}),$(".typeahead").bind("typeahead:render",(function(t,e,n,i){$(".qtooltip.tt-suggestion").each((function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(this).qtip(qtip_options())}))})),$(".typeahead").on("typeahead:selected",(function(t,e){window.open(e.link)})),$(".typeahead").on("keydown",(function(t){13==t.keyCode&&document.querySelector('[role="search"]').submit()})),$(".toggler").click((function(){$("#"+$(this).data("group_id")).toggle(),$(this).children(".plus_minus").toggleClass("toggle-open")})),$(".enh_plus").on("click",(function(){var t=$("#cen_value").html(),e=$("#en_value").html();if(e<$("#en_value").data("maxenchant")){++e>=18&&$(".cenh_minus, .cenh_plus").prop("disabled",!1),$("#en_value").html(e);var n="+"+e+": ";16==e?n=pri:17==e?n=duo:18==e?n=tri:19==e?n=tet:20==e&&(n=pen),$("#enchantment_value").html(n+" "),set_stats(e),set_cstats(),update_hash(e,t),"undefined"!=typeof real_item_prices&&void 0!==real_item_prices.prices&&print_real_price(real_item_prices.prices)}})),$(".enh_max").on("click",(function(){var t=$("#cen_value").html(),e=$("#en_value").html(),n=$("#en_value").data("maxenchant");if(e<n){(e=n)>=18&&$(".cenh_minus, .cenh_plus").prop("disabled",!1),$("#en_value").html(e);var i="+"+e+": ";16==e?i=pri:17==e?i=duo:18==e?i=tri:19==e?i=tet:20==e&&(i=pen),$("#enchantment_value").html(i+" "),set_stats(e),set_cstats(),update_hash(e,t),"undefined"!=typeof real_item_prices&&void 0!==real_item_prices.prices&&print_real_price(real_item_prices.prices)}})),$(".enh_minus").on("click",(function(){var t=$("#cen_value").html(),e=$("#en_value").html();if(e>0){--e<18&&$(".cenh_minus, .cenh_plus").prop("disabled",!0),$("#en_value").html(e);var n="+"+e+": ";16==e?n=pri:17==e?n=duo:18==e?n=tri:19==e?n=tet:20==e&&(n=pen),$("#enchantment_value").html(n+" "),e>0?$("#enchantment_value").html(n+" "):$("#enchantment_value").html(""),set_stats(e),set_cstats(),update_hash(e,t),"undefined"!=typeof real_item_prices&&void 0!==real_item_prices.prices&&print_real_price(real_item_prices.prices)}})),$(".cenh_plus").on("click",(function(){var t=$("#en_value").html(),e=$("#cen_value").html();e<$("#cen_value").data("maxenchant")&&(e++,$("#cen_value").html(e),set_cstats(),update_hash(t,e))})),$(".cenh_minus").on("click",(function(){var t=$("#en_value").html(),e=$("#cen_value").html();e>0&&(e--,$("#cen_value").html(e),set_cstats(),update_hash(t,e))})),$(".button_plus").on("click",(function(){var t=$("#worker_level").html();t<$("#worker_level").data("max_level")&&(t++,$("#worker_level").html(t),set_worker_stats(t))})),$(".button_minus").on("click",(function(){var t=$("#worker_level").html();$("#worker_level").data("max_level");t>0&&(t--,$("#worker_level").html(t),set_worker_stats(t))})),add_price_handler(),$("#craft_counter").keyup((function(){var t=$(this).val();$(".counter_value").each((function(){var e=$(this).parent().parent().parent().parent().children(".counter_value").html(),n=$(this).data("material"),i=$(this).data("product");if($(this).text(n*t),null!=e&&e.length>0){var o=Math.ceil(e/i);$(this).text(n*o)}})),update_total_price()})),$("#market_price").keyup((function(){update_total_price()})),$("#products_per_craft").keyup((function(){update_total_price()})),set_toggle_event(),$(".lv_minus,.lv_plus").on("click",(function(){"mount"==$(this).data("type")?set_mount_data(this):"sailor"==$(this).data("type")?set_sailor_data(this):set_pet_data(this)})),"knowledge-old"==get_action()&&($(".theme_name").on("click",(function(){$(this).children(".en_plus, .en_minus").toggleClass("en_plus").toggleClass("en_minus"),$(this).toggleClass("knowledge_highlight")})),$("#knowledge_filter").keyup((function(){var t=this.value;delay((function(){filter_knowledge(t)}),500)})),load_knowledge(),add_knowledge_category_handlers(),$(".knowledge_content").on("show.bs.collapse",(function(t){t.stopPropagation(),$(this).find(".knowledge_category_mark_button").each((function(){var t=$(this).data("tcid");t in sck&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+t+'"]').addClass("faded_kn"))}));var e=$("#base_"+t.currentTarget.id),n=e.html();if(null!=n&&n.indexOf("|*lbr*|")>=0){var i=n.replace(/\|\*lbr\*\|/g,"<").replace(/\|\*rbr\*\|/g,">");e.html(i),$("#base_"+t.currentTarget.id+" .theme_entry").qtip(qtip_options()),add_knowledge_buttons_handlers(e),$(e).find(".knowledge_mark_button").each((function(){var t=$(this).data("tid");t in sk&&((1==sk[t]||void 0!==sk[t][0]&&1==sk[t][0])&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('a[data-tid="'+t+'"]').addClass("faded_kn"),$('span[data-tid="'+t+'"]').addClass("faded_kn")),void 0!==sk[t][1]&&$(this).next().val(sk[t][1]).change())}))}})),$("#reset_knowledge_tree").on("click",(function(){$("#knowledge_filter").val(""),$(".en_minus").each((function(){$(this).click()}))}))),get_hash(),$(".show_all_languages").change((function(){filter_comments(this)})),$("#tax_checkbox").change((function(){$(this).prop("checked")&&($("#tax_premium_checkbox").prop("checked",!1),localStorage.setItem("tax_premium_checkbox",0)),update_total_price();var t=$(this).prop("checked")?1:0;localStorage.setItem("tax_checkbox",t)})),$("#tax_premium_checkbox").change((function(){$(this).prop("checked")&&($("#tax_checkbox").prop("checked",!1),localStorage.setItem("tax_checkbox",0)),update_total_price();var t=$(this).prop("checked")?1:0;localStorage.setItem("tax_premium_checkbox",t)})),$("#tax_checkbox").length>0){var n=localStorage.getItem("tax_checkbox");if(null!==n){var i=1*n==1;$("#tax_checkbox").prop("checked",i)}var o=localStorage.getItem("tax_premium_checkbox");if(null!==o){i=1*o==1;$("#tax_premium_checkbox").prop("checked",i)}}var s=null;if($(".enhancement_level").each((function(){$(this).click((function(t){t.stopPropagation()})).change((function(){var t=1*$(this).prop("selectedIndex");if(s!==t){var e=$(this).data("col");gear_table.data().each((function(n){var i,o=JSON.parse(n[e]),s=o.length-1;i=t>o.length-1?o[o.length-1]:o[t];var r=t;s<t&&(r=s);var a=0;r>-1&&(a=16==r?pri:17==r?duo:18==r?tri:19==r?tet:20==r?pen:0==r?"":"+"+r+":",n[2]=n[2].replace(/data-enchant="[0-9]{1,2}"/,'data-enchant="'+r+'"'),n[2]=n[2].replace(/<span>.*<\/span>/g,"<span>"+a+" </span>")),n[4]=i.dm,n[5]=i.df,n[6]=i.ac,n[7]=i.ev,n[8]=i.dr})),gear_table.rows().invalidate(),gear_table.order([[10,"desc"],[2,"asc"]]).draw(),s=t}}))})),get_real_price(),null!==typeof document.querySelector("#twitch-embed")&&"undefined"!=typeof init_twitch){var r=document.createElement("script");r.onload=function(){init_twitch()},r.async=!0,r.src="https://player.twitch.tv/js/embed/v1.js",document.body.appendChild(r)}"knowledge"!=get_action()&&"knowledge2"!=get_action()||init_knowledge(),"worldmap"==get_action()&&load_knowledge2()}));var delay=function(){var t=0;return function(e,n){clearTimeout(t),t=setTimeout(e,n)}}();function process_subscription(t){var e=$(t).attr("data-action");$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"subscription",sub_a:e,object_type_id:$(t).data("object_type_id"),object_id:$(t).data("object_id"),title:$(t).data("title"),token:security_token}}).then((function(t){1==t.result?(0==(e^=1)?$("#subscribe_button").html(subscribe_msg).removeClass("btn-default").addClass("btn-success"):$("#subscribe_button").html(unsubscribe_msg).removeClass("btn-success").addClass("btn-default"),$("#subscribe_button").attr("data-action",e)):alert(t.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function favorite_recipe(t,e){var n=$(t).data("recipe_id"),i=0;$(t).children("input").is(":checked")&&(i=1),e.cell($(t).parent().closest("tr"),12).data(i),$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"favorite",recipe_id:n,state:i,token:security_token}}).then((function(t){1==t.result||alert(t.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function unsubscribe(t){var e=$(t).attr("data-id");$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"unsubscribe",sub_id:e,token:security_token}}).then((function(e){1==e.result?$(t).closest("tr").remove():alert(e.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function unsubscribe_all(t){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"unsubscribe_all",token:security_token}}).then((function(e){1==e.result?$("#"+$(t).data("name")).empty():alert(e.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function save_user_settings(){var t=$("#enable_email_notification"),e=0;t.length&&t.is(":checked")&&(e=1);var n=$("#subscribe_by_default"),i=0;n.length&&n.is(":checked")&&(i=1);var o=$("#show_en_titles"),s=0;o.length&&o.is(":checked")&&(s=1);var r=$("#entries_per_page").val();$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"save_user_settings",enable_notification:e,subscribe_by_default:i,entries_per_page:r,show_en_titles:s,token:security_token}}).then((function(t){1==t.result?$("#popup_message").show("clip").delay(3e3).hide("clip"):alert(t.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function get_hash(){var t=$("#enchantment_array").html();if(null!=t&&null!=(t=jQuery.parseJSON(t)).max_enchant){var e=window.location.hash.replace("#","").split("|"),n=1*e[0],i=1*e[2];if(n>0){if(n<=t.max_enchant){$("#en_value").html(n);var o="+"+n+":";16==n?o=pri:17==n?o=duo:18==n?o=tri:19==n?o=tet:20==n&&(o=pen),$("#enchantment_value").html(o+" "),window.history.replaceState({},"","#"+n+"|"+e[1]+"|"+i);var s=$("#item_name").text();$("#bbcode").val("[url="+window.location.href+"]"+s+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+s+"</a>"),set_stats(n),n>=18&&($(".cenh_minus, .cenh_plus").prop("disabled",!1),set_cstats())}i>0&&($("#cen_value").html(i),set_cstats())}if(e.length>1)get_enchant_items(e[1])}}function get_enchant_items(t){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"enchant_items",data:t}}).then((function(t){1==t.result&&set_enchant_slots(t.data)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function set_enchant_slots(t){for(var e in t=JSON.parse(t)){var n='- <a href="/'+lang+"/item/"+t[e].item_id+'/" class="qtooltip item_grade_'+t[e].item_grade+'" data-id="item--'+t[e].item_id+'">'+t[e].item_name+"</a>",i=$('.stone_socket[data-state="0"]').first();i.length&&(i.attr("data-state",1),i.html(n))}$('.stone_socket[data-state="1"] .qtooltip').each((function(){$(this).qtip(qtip_options())}))}function update_hash(t,e){var n=window.location.hash.replace("#","").split("|");void 0!==n[1]?window.history.replaceState({},"","#"+t+"|"+n[1]+"|"+e):window.history.replaceState({},"","#"+t);var i=$("#item_name").text();$("#bbcode").val("[url="+window.location.href+"]"+i+"[/url]"),$("#htmllink").val('<a href="'+window.location.href+'">'+i+"</a>")}function save_ui_settings(t){var e=$(t).data("bs-target"),n=$(t).attr("data-state"),i=(n^=1)?"up":"down";$(t).find(".collapse_marker").html('<span class="collapse_marker"><svg class="bi" width="12" height="12" fill="white"><use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#caret-'+i+'-fill"/></svg>'),$(t).attr("data-state",n),$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"update_ui_settings",name:e,state:n,token:security_token}}).then((function(t){t.result}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function load_favorites(){$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"load_favorites",token:security_token}}).then((function(t){1==t.result&&(favorites=JSON.parse(t.data))}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}function update_total_price(){$("#total_price").text(0).attr("data-price",0);var t=!1;$(".set_container").length&&(t=!0),$(".material_price").each((function(){var e=$(this).parents(".set_container").data("set_id"),n=$('.check_set_id[data-set_id="'+e+'"]').prop("checked");if(!t||t&&n){var i=$(this).data("item_id"),o=!1,s=$('.check_rid[data-pid="'+i+'"]');if(s.each((function(){s.prop("checked")&&(o=!0)})),!o){var r=$(this).data("rid"),a=$('.check_rid[data-rid="'+r+'"]');a.length>0?a.prop("checked")&&calculate_price(this):calculate_price(this)}}}));var e=1*$("#craft_counter").data("rid"),n=0;$('.material_weight[data-rid="'+e+'"]').each((function(){var t=1*$(this).parent().parent().parent().find('.counter_value[data-rid="'+e+'"]').text(),i=1*cut_number($(this).data("weight")*t*1,2);$(this).text(i+" LT"),n+=i})),$("#total_weight").text(number_format(cut_number(n,2),",")+" LT");var i=1*$("#total_price").attr("data-price"),o=1*$("#market_price").val();void 0===o&&(o=0);var s=$("#tax_premium_checkbox"),r=$("#tax_checkbox"),a=1,l=$("#products_per_craft").val().replace(",",".");s.prop("checked")&&(a=.845),r.prop("checked")&&(a=.65);var c=o*$("#craft_counter").val()*l*a-i;$("#profit").text(number_format(cut_number(c,2),",")),c<0?$("#profit").addClass("profit_border_negative"):$("#profit").removeClass("profit_border_negative")}function cut_number(t,e){var n=String(t).indexOf(".");return n>0&&(t=e>0?String(t).substr(0,n+e+1):String(t).substr(0,n)),t}function number_format(t,e){return void 0===e&&(e=","),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function get_remaining_time_old(t,e){var n=t.split(":"),i=new Date,o=i.getFullYear(),s=i.getMonth()+1,r=i.getDate(),a=(i.getHours(),i.getMinutes(),i.getSeconds(),i.getTimezoneOffset(),(t=new Date(o+"-"+s+"-"+r+"T"+n[0]+":"+n[1]+":00"+e).getTime())-Date.parse(new Date)),l=Math.floor(a/1e3%60),c=Math.floor(a/1e3/60%60),u=Math.floor(a/36e5%24);return{total:a,days:Math.floor(a/864e5),hours:u,minutes:c,seconds:l}}function get_remaining_time(t){var e=t-Date.parse(new Date),n=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),o=Math.floor(e/36e5%24);return{total:1*e,days:Math.floor(e/864e5),hours:o,minutes:i,seconds:n}}function mark_boss_cell(t,e){t+=1,$("#boss_timers_table td").removeClass("current_boss"),$("#boss_timers_table tr:eq("+t+") td:eq("+e+")").addClass("current_boss")}function init_timer(t){var e=$(t),n=get_next_boss();function i(){var t=get_remaining_time(n),i="";if(t.days>0&&(i+=t.days+" "),i+=("0"+t.hours).slice(-2)+":"+("0"+t.minutes).slice(-2)+":"+("0"+t.seconds).slice(-2),e.text(i),t.total==6e4*timer_alert_period){var o=!1,s=$(".current_boss").data("id").toString().split(",");for(var r in s)1==boss_alerts[s[r]]&&(o=!0);if(o&&1==timer_alert)(a=$("#sound_notification_1").val())>0&&play_track(a);o&&1==show_notifications&&push_notification(timer_alert_period)}if(t.total==6e4*timer_alert_period2){o=!1,s=$(".current_boss").data("id").toString().split(",");for(var r in s)1==boss_alerts[s[r]]&&(o=!0);if(o&&1==timer_alert)(a=$("#sound_notification_2").val())>0&&play_track(a);o&&1==show_notifications&&push_notification(timer_alert_period2)}if(t.total==6e4*timer_alert_period3){var a;o=!1,s=$(".current_boss").data("id").toString().split(",");for(var r in s)1==boss_alerts[s[r]]&&(o=!0);if(o&&1==timer_alert)(a=$("#sound_notification_3").val())>0&&play_track(a);o&&1==show_notifications&&push_notification(timer_alert_period3)}t.total<=0&&(t=get_remaining_time(n=get_next_boss()))}i(),next_boss_timer=setInterval(i,1e3)}function print_timers(){var t=new Date,e=t.getTimezoneOffset()/60*-1,n=t.getDay();0==n&&(n=7);var i=boss_spawns[boss_zone].zone,o=e-1*boss_spawns[boss_zone].zone;e!=boss_spawns[boss_zone].zone&&1==use_local_time&&(i=e);var s='<table class="reward_table" id="boss_timers_table" border="1px" width="100%">';s+="<tr><th>"+days[0]+" UTC"+(i<0?"":"+")+i+"</th>";for(var r=1;r<8;r++)s+='<th class="time_header">'+days[r]+"</th>";for(var a in s+="</tr>",boss_spawns[boss_zone].time){var l=a;if(0!=o&&1==use_local_time){var c=a.split(":"),u=1*c[0]+1*o,h="";if(u<0)0==(d=n)&&(d=7),u=24+u,h="<br>("+days[d]+")";else if(u>=24){var d;u-=24,8==(d=n+1)&&(d=1),h="<br>("+days[d]+")"}l=("0"+u).slice(-2)+":"+c[1]+h}s+='<tr><td class="time_cell">'+l+"</td>";for(var p=1;p<8;p++)s+='<td data-id="'+boss_spawns[boss_zone].time[a][p]+'">'+get_npc_icon(boss_spawns[boss_zone].time[a][p],!1)+"</td>";s+="</tr>"}s+="</table>",$("#timer_table").fadeOut(100,(function(){$(this).html(s).fadeIn(500),$("#zone_tag").html(boss_zone.toUpperCase()),init_timer("#timer")}))}function get_npc_icon(t,e){var n="";if(null!=t){var i=t.split(","),o="";for(var s in i)n+=e?'<div class="inlinediv'+o+'"><img src="'+boss_data[i[s]].icon+'" class="quest_icon" alt="icon"><div>'+boss_data[i[s]].name+"</div></div>":'<div class="item_grade_'+boss_data[i[s]].g+'">'+boss_data[i[s]].name+"</div>",""==o&&(o=" column_shift")}return n}function get_next_boss(){var t=new Date,e=t.getHours(),n=t.getDate(),i=t.getFullYear(),o=t.getMonth()+1,s=t.getDay(),r=t.getSeconds();0==s&&(s=7);var a=t.getMinutes(),l=60*t.getTimezoneOffset(),c="",u=0,h=3600*e+60*a+r,d=0,p=0;for((h=h+3600*boss_spawns[boss_zone].zone+l)>86400&&(h-=86400,7==s?s=1:s++,d+=864e5),h<0&&(h=86400-Math.abs(h),1==s?s=7:s--,d-=864e5);u<20&&""==c;){for(var f in boss_spawns[boss_zone].time){var m=f.split(":");if(3600*m[0]+60*m[1]>=h&&null!=boss_spawns[boss_zone].time[f][s]){c=f;break}p++}""==c&&(7==s?s=1:s++,h=0,p=0,d+=864e5),u++}var _=c.split(":"),g=boss_spawns[boss_zone].zone;g=g>=0?"+"+("0"+g).slice(-2)+":00":"-"+("0"+Math.abs(g)).slice(-2)+":00";var v=new Date(i+"-"+("0"+o).slice(-2)+"-"+("0"+n).slice(-2)+"T"+_[0]+":"+_[1]+":00"+g).getTime()+d;mark_boss_cell(p,s);var y=get_npc_icon(boss_spawns[boss_zone].time[c][s],!0);return $("#timer_pane").html(y),v}function set_cookie(t,e,n){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="; expires="+i.toGMTString()}else o="";document.cookie=t+"="+e+o+"; path=/; SameSite=Strict"}function get_cookie(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null}function init_boss_timers(){$(".zone_button").each((function(){$(this).click((function(){boss_zone=$(this).data("zone"),clearInterval(next_boss_timer),print_timers(),set_cookie("bdo_boss_zone",boss_zone,360)}))})),$(".play_sound").click((function(){var t=$("#sound_notification_"+$(this).data("id")).val();t>0&&play_track(t)})),$(".test_notification").click((function(){push_notification(1)})),$("#notification_volume").change((function(){var t=$(this).val();Howler.volume(t/100),set_cookie("bdo_boss_timer_alert_volume",t,360)}));var t=get_cookie("bdo_boss_zone");null!==t&&(boss_zone=t),update_notification_settings(),$('.zone_button[data-zone="'+boss_zone+'"]').click()}function push_notification(t){var e=$(".current_boss").data("id").toString().split(","),n="",i="";for(var o in e)1==boss_alerts[e[o]]&&(n+=i+boss_data[e[o]].name),""==i&&(i=" "+msgs.and+" ");var s="";s=(s=e.length>1?msgs.ntp.replace("%1",t):msgs.nt.replace("%1",t)).replace("%2",n),Push.create("BDO Codex Bost Timer",{body:s,timeout:18e4,onClick:function(){this.close()}})}function update_notification_settings(){var t=get_cookie("bdo_boss_timer_alert");null!==t?timer_alert=1*t:set_cookie("bdo_boss_timer_alert",timer_alert,360);var e=get_cookie("bdo_boss_timer_alert_period");null!==e?timer_alert_period=e:set_cookie("bdo_boss_timer_alert_period",timer_alert_period,360);var n=get_cookie("bdo_boss_timer_alert_period2");null!==n?timer_alert_period2=n:set_cookie("bdo_boss_timer_alert_period2",timer_alert_period2,360);var i=get_cookie("bdo_boss_timer_alert_period3");null!==i?timer_alert_period3=i:set_cookie("bdo_boss_timer_alert_period3",timer_alert_period3,360);var o=get_cookie("bdo_boss_timer_local_time");null!==o?use_local_time=1*o:set_cookie("bdo_boss_timer_local_time",use_local_time,360);var s=get_cookie("bdo_boss_push_notification");null!==s?show_notifications=1*s:set_cookie("bdo_boss_push_notification",show_notifications,360);for(var r=1;r<4;r++){var a=get_cookie("timer_alert_track_"+r);null!=a&&$("#sound_notification_"+r).val(a)}$("#use_local_time").prop("checked",use_local_time?1:0),$("#show_notifications").prop("checked",show_notifications?1:0),$("#sound_notification").prop("checked",timer_alert?1:0),$("#timer_alert_period").val(timer_alert_period),$("#timer_alert_period2").val(timer_alert_period2),$("#timer_alert_period3").val(timer_alert_period3);var l=get_cookie("bdo_boss_timer_alert_volume");for(var c in null!==l?$("#notification_volume").val(1*l).trigger("change"):set_cookie("bdo_boss_timer_alert_volume",$("#notification_volume").val(),360),boss_alerts){var u=get_cookie("bdo_boss_alert_"+c);null!==u?boss_alerts[c]=1*u:set_cookie("bdo_boss_alert_"+c,boss_alerts[c],360),$('.boss_selection[data-id="'+c+'"]').prop("checked",boss_alerts[c]?1:0)}$("#use_local_time").change((function(){$(this).prop("checked")?use_local_time=1:use_local_time=0,set_cookie("bdo_boss_timer_local_time",use_local_time,360),$('.zone_button[data-zone="'+boss_zone+'"]').click()})),$("#sound_notification").change((function(){$(this).prop("checked")?timer_alert=1:timer_alert=0,set_cookie("bdo_boss_timer_alert",timer_alert,360)})),$("#show_notifications").change((function(){$(this).prop("checked")?show_notifications=1:show_notifications=0,set_cookie("bdo_boss_push_notification",show_notifications,360)})),$(".boss_selection").change((function(){var t=1*$(this).data("id");$(this).prop("checked")?boss_alerts[t]=1:boss_alerts[t]=0,set_cookie("bdo_boss_alert_"+t,boss_alerts[t],360)})),$("#timer_alert_period").keyup((function(){timer_alert_period=$(this).val(),set_cookie("bdo_boss_timer_alert_period",timer_alert_period,360)})),$("#timer_alert_period2").keyup((function(){timer_alert_period2=$(this).val(),set_cookie("bdo_boss_timer_alert_period2",timer_alert_period2,360)})),$("#timer_alert_period3").keyup((function(){timer_alert_period3=$(this).val(),set_cookie("bdo_boss_timer_alert_period3",timer_alert_period3,360)}));for(var h=1;h<4;h++)$("#sound_notification_"+h).change((function(){var t=1*$(this).val();set_cookie("timer_alert_track_"+$(this).data("id"),t,360)}))}function get_url_param(t){return new URL(window.location.href).searchParams.get(t)}function play_track(t){alarms[t-1].play()}function play_track_old(t){alarms[t-1].play().then((function(){console.log("Playback finished.")}),(function(e){console.log("Playback failed. Retrying..."),alarms[t-1].play()}))}function add_knowledge_buttons_handlers(t){$(t).find(".knowledge_mark_button").each((function(){$(this).off("click").click((function(){toggle_theme(this)}))})),$(".knowledge_grade_selector").each((function(){$(this).off("change").change((function(){set_select_style($(this))}))}))}function add_knowledge_category_handlers(){"knowledge"==get_action()&&$(".knowledge_category_mark_button").each((function(){$(this).off("click").click((function(){var t=$(this).data("tcid"),e=1;$(this).hasClass("active")&&(e=0),$('.knowledge_entry[data-tcid="'+t+'"]').find(".knowledge_mark_button, .knowledge_category_mark_button").each((function(){1==e?mark_theme(this):unmark_theme(this)}))}))}))}function toggle_theme(t){var e=$(t).data("tid");if(void 0!==e){var n=1*$(t).next().val();(null==n||isNaN(n))&&(n=0),$(t).hasClass("active")?($(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('a[data-tid="'+e+'"]').removeClass("faded_kn"),$(t).next().val(0).change(),delete sk[e]):($(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('a[data-tid="'+e+'"]').addClass("faded_kn"),void 0!==sk[e]&&void 0!==sk[e][0]&&(sk[e][0]=1),sk[e]=[1,n])}else{var i=$(t).data("tcid");$(t).hasClass("active")?($(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('span[data-tcid="'+i+'"]').removeClass("faded_kn"),delete sck[i]):($(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+i+'"]').addClass("faded_kn"),sck[i]=1)}delay((function(){save_knowledge()}),1e3)}function mark_theme(t){var e=$(t).data("tid");if(void 0!==e){var n=1*$(t).next().val();(null==n||isNaN(n))&&(n=0),$(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('a[data-tid="'+e+'"]').addClass("faded_kn"),void 0!==sk[e]&&void 0!==sk[e][0]&&(sk[e][0]=1),sk[e]=[1,n]}else{var i=$(t).data("tcid");$(t).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+i+'"]').addClass("faded_kn"),sck[i]=1}delay((function(){save_knowledge()}),1e3)}function unmark_theme(t){var e=$(t).data("tid");if(void 0!==e)$(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('a[data-tid="'+e+'"]').removeClass("faded_kn"),delete sk[e];else{var n=$(t).data("tcid");$(t).removeClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#square"/>'),$('span[data-tcid="'+n+'"]').removeClass("faded_kn"),delete sck[n]}delay((function(){save_knowledge()}),1e3)}function save_knowledge(){"undefined"!=typeof user_id&&user_id>1?$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"save_user_knowledge",sk:JSON.stringify(sk),sck:JSON.stringify(sck),token:security_token}}).then((function(t){1==t.result?console.log("Saved to server!"):alert(t.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)})):localStorage&&(localStorage.setItem("MarkedThemes",JSON.stringify(sk)),localStorage.setItem("MarkedThemeCategories",JSON.stringify(sck)),console.log("Saved!")),update_knowledge_counter()}function save_knowledge2(){"undefined"!=typeof user_id&&user_id>1?$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"save_user_knowledge",sk:JSON.stringify(sk),sck:JSON.stringify(sck),token:security_token}}).then((function(t){1==t.result?console.log("Saved to server!"):alert(t.error)}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)})):localStorage&&(localStorage.setItem("MarkedThemes",JSON.stringify(sk)),localStorage.setItem("MarkedThemeCategories",JSON.stringify(sck)),console.log("Saved!"))}function load_knowledge(){if("knowledge"==get_action()){if("undefined"!=typeof user_id&&user_id>1)$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"load_user_knowledge",token:security_token}}).then((function(t){if(1==t.result){if(Object.keys(t.data).length>0&&(sk=JSON.parse(t.data.sk),sck=JSON.parse(t.data.sck)),0==Object.keys(sk).length&&localStorage){if(null!=localStorage.getItem("MarkedThemes"))for(var e in sk=JSON.parse(localStorage.getItem("MarkedThemes")))void 0===sk[e][0]&&(sk[e]=[sk[e],0]);null!=localStorage.getItem("MarkedThemeCategories")&&(sck=JSON.parse(localStorage.getItem("MarkedThemeCategories")))}$(".knowledge_category_mark_button").each((function(){var t=$(this).data("tcid");t in sck&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+t+'"]').addClass("faded_kn"))})),update_knowledge_counter(),console.log("Loaded from server!")}}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}));else if(localStorage){if(null!=localStorage.getItem("MarkedThemes"))for(var t in sk=JSON.parse(localStorage.getItem("MarkedThemes")))void 0===sk[t][0]&&(sk[t]=[sk[t],0]);null!=localStorage.getItem("MarkedThemeCategories")&&(sck=JSON.parse(localStorage.getItem("MarkedThemeCategories")))}$(".knowledge_category_mark_button").each((function(){var t=$(this).data("tcid");t in sck&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+t+'"]').addClass("faded_kn"))})),update_knowledge_counter()}}function load_knowledge2(){if("undefined"!=typeof user_id&&user_id>1)$.ajax({url:"/ajax.php?l="+lang,dataType:"json",type:"POST",data:{a:"load_user_knowledge",token:security_token}}).then((function(t){if(1==t.result){if(Object.keys(t.data).length>0&&(sk=JSON.parse(t.data.sk),sck=JSON.parse(t.data.sck)),0==Object.keys(sk).length&&localStorage){if(null!=localStorage.getItem("MarkedThemes"))for(var e in sk=JSON.parse(localStorage.getItem("MarkedThemes")))void 0===sk[e][0]&&(sk[e]=[sk[e],0]);null!=localStorage.getItem("MarkedThemeCategories")&&(sck=JSON.parse(localStorage.getItem("MarkedThemeCategories")))}$(".knowledge_category_mark_button").each((function(){var t=$(this).data("tcid");t in sck&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+t+'"]').addClass("faded_kn"))})),update_knowledge_counter2(),console.log("Loaded from server!")}}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}));else if(localStorage){if(null!=localStorage.getItem("MarkedThemes"))for(var t in sk=JSON.parse(localStorage.getItem("MarkedThemes")))void 0===sk[t][0]&&(sk[t]=[sk[t],0]);null!=localStorage.getItem("MarkedThemeCategories")&&(sck=JSON.parse(localStorage.getItem("MarkedThemeCategories")))}$(".knowledge_category_mark_button").each((function(){var t=$(this).data("tcid");t in sck&&($(this).addClass("active").find(".bi").html('<use xlink:href="/bootstrap-icons/bootstrap-icons-custom.svg#check-square"/>'),$('span[data-tcid="'+t+'"]').addClass("faded_kn"))})),update_knowledge_counter2()}function update_knowledge_counter2(){if("undefined"!=typeof entries){let t=Object.keys(sk).length;$("#obtained_knowledge").html(t);let e=Object.keys(entries).length;$("#total_knowledge").html(number_format(e));let n=cut_number(t/(e/100),2);$("#obtained_knowledge_percent").html(n)}}function update_knowledge_counter(){var t=Object.keys(sk).length;$("#obtained_knowledge").html(t);var e=$(".knowledge_mark_button").length;$("#total_knowledge").html(e);var n=cut_number(t/(e/100),2);$("#obtained_knowledge_percent").html(n)}function get_action(){var t=$(location).attr("href").replace(/(^\/|\/$)/g,"").split("/");return $(t).length>=4?t[4]:null}function get_real_price(){"undefined"!=typeof real_item_prices&&(void 0===real_item_prices.prices&&void 0!==real_item_prices.token&&void 0!==real_item_prices.id?$.ajax({url:"/ajax.php",dataType:"json",type:"POST",data:{a:"real_price",token:real_item_prices.token,id:real_item_prices.id,l:lang}}).then((function(t){1==t.result&&(real_item_prices.prices=t.data,print_real_price(t.data))}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)})):print_real_price(real_item_prices.prices))}function print_real_price(t){var e=0;$("#en_value").length>0&&(e=1*$("#en_value").html());var n='<hr class="tooltiphr">'+ingame_price_msg+":<br>";for(var i in t){if(void 0!==t[i][e])n+=i+": "+number_format(t[i][e][0],",")+' <span class="float-end">'+instock_msg+": "+t[i][e][1]+"</span>";else{for(;e>0&&void 0===t[i][e];)e--;void 0!==t[i][e]&&(n+=i+": "+number_format(t[i][e][0],",")+' <span class="float-end">'+instock_msg+": "+t[i][e][1]+"</span>")}n+="<br>"}$("#real_price").html(n)}function set_select_style(t){var e=$(t).prev().data("tid"),n=1*$(t).prev().hasClass("active"),i=$(t).val(),o=$(t).prop("selectedIndex");$(t)[0].className=$(t)[0][o].className,$(t).addClass("knowledge_grade_selector"),void 0!==sk[e]&&void 0!==sk[e][0]&&(sk[e][1]=[i]),sk[e]=[n,i],delay((function(){save_knowledge()}),1e3)}function is_mobile(){return isMobile=/android|ipad|iphone|ipod|samsung|webos|iemobile|opera mini|blackberry/i.test(navigator.userAgent)}function get_action(){var t=window.location.pathname.split("/");return void 0!==t[2]?t[2]:null}function copy_to_clipboard(t){navigator.clipboard.writeText(t)}function get_recipe_hash(){var t;(t=(t=window.location.hash.replace("#","")).replace(/[^0-9]/gm,"")).length>0&&$("#craft_counter").val(t)}function set_recipe_hash_handler(){$("#craft_counter").change((function(){const t=$(this).val();t.length>0&&window.history.replaceState({},"","#"+t)}))}function set_recipe_handler(){$(".material_market_price").change((function(){const t=$(this).data("item_id"),e=$(this).data("rid");$('.material_price[data-rid="'+e+'"][data-item_id="'+t+'"]').val($(this).val())})),$(".product_market_price").change((function(){$("#market_price").val($(this).val())}))}function get_real_material_prices(t){if("undefined"!=typeof real_materials_prices&&(t||void 0===real_materials_prices.prices&&void 0!==real_materials_prices.token)){var e=[];$(".material_market_price").each((function(){1*$(this).attr("data-state")==0&&e.push(1*$(this).data("item_id"))})),$(".product_market_price").each((function(){1*$(this).attr("data-state")==0&&e.push(1*$(this).data("item_id"))})),$.ajax({url:"/ajax.php",dataType:"json",type:"POST",data:{a:"materials_prices",token:real_materials_prices.token,materials:e,l:lang}}).then((function(t){1==t.result&&(real_materials_prices.prices=t.data,update_real_material_prices())}),(function(t,e,n){console.log("STATUS: "+e+" ERROR: "+n)}))}}function update_real_material_prices(t){if(void 0!==real_materials_prices.prices)for(var e in real_materials_prices.prices){var n=null;if("ru"===lang)n="RU";else if("id"===lang)n="SEA";else if("jp"===lang)n="JP";else if("kr"===lang)n="KR";else if("sp"===lang||"pt"===lang)n="SA";else if("tr"===lang)n="MENA";else if("th"===lang)n="TH";else if("tw"===lang||"cn"===lang)n="TW";else if("de"===lang||"es"===lang||"fr"===lang||"us"===lang){var i=$("#price_region").val();n="NA"===i?"NA":"EU"===i?"EU":"NAC"===i?"NA Console":"EUC"===i?"EU Console":"NA"}else"gl"===lang&&(n="GL");var o=0;if(void 0!==real_materials_prices.prices[e][n]){null!==n&&(o=real_materials_prices.prices[e][n][0][0]);var s=t?"":'[data-state="0"]';$(".material_market_price"+s+'[data-item_id="'+e+'"]').val(o).attr("data-state",1),$(".product_market_price"+s+'[data-item_id="'+e+'"]').val(o).attr("data-state",1)}}}function set_price_button_handlers(){$('.copy_real_price[data-state="0"]').each((function(){$(this).click((function(){var t=$(this).data("item_id");$('.price_field[data-item_id="'+t+'"]').val($('.product_market_price[data-item_id="'+t+'"], .material_market_price[data-item_id="'+t+'"]').val()).keyup()})),$(this).attr("data-state",1)})),$('.copy_base_price[data-state="0"]').each((function(){$(this).click((function(){var t=$(this).data("item_id");$('.price_field[data-item_id="'+t+'"]').val($('.price_field[data-item_id="'+t+'"]').data("base-price")).keyup(),$(this).attr("data-state",1)}))}))}function save_title_status(t){if("undefined"!=typeof localStorage){var e=$(t).data("title_id"),n=$.inArray(e,titles_array);n>-1?titles_array.splice(n,1):titles_array.push(e),localStorage.setItem("titles_array",JSON.stringify(titles_array))}}function set_title_status(t){$(t).data("title_id")in titles_array&&$(t).prop("checked",!0)}function get_title_statuses(){if("undefined"!=typeof localStorage){const e=localStorage.getItem("titles_array");if(null!==e){var t=e.replace(/[^0-9\{\}\-:\,\"\]\[]/gm,"");titles_array=JSON.parse(t)}}}function get_action(){var t=window.location.pathname.split("/");return void 0!==t[2]?t[2]:null}
//# sourceMappingURL=bundle-1730988374064.min.js.map
</script>

</body>
</html>
