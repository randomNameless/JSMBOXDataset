<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rubiconBidAdapter-js.e7cb7a9c9d140ec5.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["4067"],{97690:function(e,t,r){r.d(t,{c:function(){return c}});var n=r(60340),i=r(86547),o=r(92618),a=["user.keywords"].concat(i.Iq.flatMap(function(e){return["keywords","content.keywords"].map(function(t){return"".concat(e,".").concat(t)})}));function d(){for(var e=new Set,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.filter(function(e){return e}).flatMap(function(e){return Array.isArray(e)?e:e.split(",")}).map(function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}).filter(function(e){return e}).forEach(function(t){return e.add(t)}),Array.from(e.keys())}function c(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return d.apply(void 0,(0,n.Z)(a.map(function(t){return(0,o.Z)(e,t)})).concat(r))}},39399:function(e,t,r){r.d(t,{X:()=>x});var n=r("12586"),i=r("36621"),o=r("4511"),a=r("7055"),d=r("92618"),c=r("12827"),s=r("5850"),u=r("51765"),p=(0,i.Z)((0,i.Z)((0,i.Z)({},s.Mk,"banner"),s.B5,"native"),s.pX,"video"),l=r("66872"),f=r("39724"),v=r("67007"),m=r("94329"),b=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},a.Z,{extPrebid:{fn:function(e,t){var r;(0,v.N)(e,"ext.prebid",(0,c.Ee)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(r=e.ext)||void 0===r?void 0:r.prebid)),f.vc.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t;(0,v.N)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,m.R)().version},null===(t=e.ext)||void 0===t||null===(t=t.prebid)||void 0===t?void 0:t.channel))}},extPrebidAliases:{fn:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.am,o=void 0===i?l.ZP:i;if(o.aliasRegistry[t.bidderCode]){var a=o.bidderRegistry[t.bidderCode];if(!a||!a.getSpec().skipPbsAliasing){(0,v.N)(e,"ext.prebid.aliases.".concat(t.bidderCode),o.aliasRegistry[t.bidderCode]);var d,c=f.vc.getConfig("gvlMapping.".concat(t.bidderCode))||(null==a||null===(d=a.getSpec)||void 0===d?void 0:d.call(a).gvlid);c&&(0,v.N)(e,"ext.prebid.aliasgvlids.".concat(t.bidderCode),c)}}}}}),a.DZ,{params:{fn:function(e,t){var r=t.params;r&&(0,v.N)(e,"ext.prebid.bidder.".concat(t.bidder),r)}},adUnitCode:{fn:function(e,t){var r=t.adUnitCode;r&&(0,v.N)(e,"ext.prebid.adunitcode",r)}}}),a.Px,{mediaType:{fn:function(e,t,r){var n,i=r.mediaType;!i&&(i=u.e.hasOwnProperty(t.mtype)?u.e[t.mtype]:null===(n=t.ext)||void 0===n||null===(n=n.prebid)||void 0===n?void 0:n.type,!p.hasOwnProperty(i)&&(i=s.Mk)),e.mediaType=i},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===s.pX){var r=(0,d.Z)(t,"ext.prebid.cache.vastXml")||{},n=r.cacheId,i=r.url;if(!n||!i){var o=(0,d.Z)(t,"ext.prebid.targeting")||{},a=o.hb_uuid,c=o.hb_cache_host,u=o.hb_cache_path;a&&c&&u&&(n=a,i="https://".concat(c).concat(u,"?uuid=").concat(a))}n&&i&&Object.assign(e,{videoCacheKey:n,vastUrl:i})}},priority:-10},bidderCode:{fn:function(e,t,r){var n;e.bidderCode=r.seatbid.seat,e.adapterCode=(0,d.Z)(t,"ext.prebid.meta.adaptercode")||(null===(n=r.bidRequest)||void 0===n?void 0:n.bidder)||e.bidderCode}},pbsBidId:{fn:function(e,t){var r=(0,d.Z)(t,"ext.prebid.bidid");(0,c.d8)(r)&&(e.pbsBidId=r)}},adserverTargeting:{fn:function(e,t){var r=(0,d.Z)(t,"ext.prebid.targeting");(0,c.PO)(r)&&(e.adserverTargeting=r)}},extPrebidMeta:{fn:function(e,t){e.meta=(0,c.Ee)({},(0,d.Z)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn:function(e,t){var r=(0,d.Z)(t,"ext.prebid.events.win");(0,c.d8)(r)&&(e.pbsWurl=r)}}}),a.YC,{serverSideStats:{fn:function(e,t,r){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach(function(e){var n=(0,o.Z)(e,2),i=n[0],a=n[1],c=(0,d.Z)(t,"ext.".concat(i,".").concat(r.bidderRequest.bidderCode));c&&(r.bidderRequest[a]=c,r.bidRequests.forEach(function(e){return e[a]=c}))})}}}),g=r("6021"),x=(0,c.HP)(function(){return(0,n.F)((0,g.T)(),b,(0,a.fP)(a.md))})},29678:function(e,t,r){r.d(t,{A:function(){return n}});function n(e,t,r){var n,i={};return e&&("boolean"==typeof e.gdprApplies&&(i.gdpr=Number(e.gdprApplies)),"string"==typeof e.consentString&&(i.gdpr_consent=e.consentString)),t&&(i.us_privacy=encodeURIComponent(t)),null!=r&&r.gppString&&(i.gpp=r.gppString,i.gpp_sid=null===(n=r.applicableSections)||void 0===n?void 0:n.toString()),i}},65620:function(e,t,r){r.r(t),r.d(t,{classifiedAsVideo:function(){return I},converter:function(){return C},determineRubiconVideoSizeId:function(){return z},encodeParam:function(){return X},getPriceGranularity:function(){return q},hasValidSupplyChainParams:function(){return M},hasValidVideoParams:function(){return U},masSizeOrdering:function(){return E},resetImpIdMap:function(){return P},resetRubiConf:function(){return N},resetUserSync:function(){return F},spec:function(){return A}});var n=r(60340),i=r(36621),o=r(4511),a=r(39864),d=r(94329),c=r(6021),s=r(39399),u=r(14615),p=r(39724),l=r(5850),f=r(31232),v=r(8755),m=r(12827),b=r(67007),g=r(92618),x=r(97690),y=r(29678);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=p.vc.getConfig("rubicon")||{};p.vc.getConfig("rubicon",function(e){(0,m.Ee)(j,e.rubicon)});var k={},Z={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450",680:"970x570",682:"300x240",684:"970x550",686:"300x210",688:"300x220",690:"970x170"};(0,m.yi)(Z,function(e,t){return Z[e]=t});var C=(0,c.x)({request:function(e,t,r,i){var o,c=i.bidRequests,s=e(t,r,i);s.cur=["USD"],s.test=p.vc.getConfig("debug")?1:0,(0,b.N)(s,"ext.prebid.cache",{vastxml:{returnCreative:!0===j.returnVast}}),(0,b.N)(s,"ext.prebid.bidders",{rubicon:{integration:j.int_type||"pbjs"}}),(0,b.N)(s,"ext.prebid.targeting.pricegranularity",q(p.vc));var u=(0,d.R)().installedModules;return u&&(!u.length||-1!==u.indexOf("rubiconAnalyticsAdapter"))&&(0,b.N)(s,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,r){var i,o={},a=x.c.apply(void 0,[r].concat((0,n.Z)(t.map(function(e){return e.params.keywords}))));t.forEach(function(t){var r,n={user:{ext:{data:_({},t.params.visitor)}},site:{ext:{data:_({},t.params.inventory)}}},i=e.imp.find(function(e){var t;return null===(t=e.ext)||void 0===t||null===(t=t.prebid)||void 0===t||null===(t=t.bidder)||void 0===t||null===(t=t.rubicon)||void 0===t||null===(t=t.video)||void 0===t?void 0:t.language});i&&(n.site.content={language:null===(r=i.ext)||void 0===r||null===(r=r.prebid)||void 0===r||null===(r=r.bidder)||void 0===r||null===(r=r.rubicon)||void 0===r||null===(r=r.video)||void 0===r?void 0:r.language}),o=(0,m.Ee)(o,t.ortb2||{},n);var a=p.vc.getConfig("user.id");o.user.id=o.user.id||a}),(0,m.Ee)(e,o),a&&a.length&&(0,b.N)(e,"site.keywords",a.join(",")),null==e||null===(i=e.ext)||void 0===i||null===(i=i.prebid)||void 0===i||delete i.storedrequest}(s,c,r.ortb2),null==s||null===(o=s.ext)||void 0===o||null===(o=o.prebid)||void 0===o||delete o.storedrequest,!0===j.disableFloors&&delete s.ext.prebid.floors,c.filter(function(e){return"object"===(0,a.Z)(e.floorData)}).length>0&&(s.ext.prebid.floors={enabled:!1}),s},imp:function(e,t,r){var n,i=T(t);if(!i.includes(l.Mk)||1!=i.length){var o=e(t,r);return o.id=t.adUnitCode,delete o.banner,"atf"===t.params.position&&o.video&&(o.video.pos=1),"btf"===t.params.position&&o.video&&(o.video.pos=3),null===(n=o.ext)||void 0===n||null===(n=n.prebid)||void 0===n||delete n.storedrequest,!0===t.params.bidonmultiformat&&i.length>1&&(0,b.N)(o,"ext.prebid.bidder.rubicon.formats",i),function(e,t){if("USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur),!t.bidfloor){var r=parseFloat((0,g.Z)(e,"params.floor"));!isNaN(r)&&(t.bidfloor=r,t.bidfloorcur="USD")}}(t,o),o.id=k[o.id]?o.id+k[o.id]++:(k[o.id]=2,o.id),o}},bidResponse:function(e,t,r){var n,i=e(t,r);i.meta.mediaType=(0,g.Z)(t,"ext.prebid.type");var a=r.bidRequest,d=(null===(n=a.mediaTypes.video)||void 0===n?void 0:n.context)==="outstream"?S(a,l.pX):[void 0,void 0],c=(0,o.Z)(d,2),s=c[0],u=c[1];return i.width=t.w||s||i.playerWidth||0,i.height=t.h||u||i.playerHeight||0,i.mediaType===l.pX&&"outstream"===a.mediaTypes.video.context&&(i.renderer=function(e){var t=v.Th.install({id:e.adId,url:j.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:j.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(O)}catch(e){(0,m.yN)("Prebid Error calling setRender on renderer",e)}return t}(i)),(0,g.Z)(t,"ext.bidder.rp.advid")&&(0,b.N)(i,"meta.advertiserId",t.ext.bidder.rp.advid),i},context:{netRevenue:!1!==j.netRevenue,ttl:360},processors:s.X}),A={code:"rubicon",gvlid:52,supportedMediaTypes:[l.Mk,l.pX,l.B5],isBidRequestValid:function(e){var t=!0;if("object"!==(0,a.Z)(e.params))return!1;for(var r=0,n=["accountId","siteId","zoneId"];r<n.length;r++)if(e.params[n[r]]=parseInt(e.params[n[r]]),isNaN(e.params[n[r]]))return(0,m.H)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=T(e,!0);if(!i.length)return!1;i.includes(l.pX)&&(t=U(e));var o=[l.Mk,l.B5].filter(function(e){return i.includes(e)}).length>0;return o?t&&o:t},buildRequests:function(e,t){var r,n=[],i=[];if((r=e.filter(function(e){var t=T(e)||[],r=t.length,n=e.params||{},i=n.bidonmultiformat,o=n.video;return 1===r&&(t.includes(l.pX)||t.includes(l.B5))||2===r&&!t.includes(l.Mk)||o&&t.includes(l.pX)||i&&(t.includes(l.pX)||t.includes(l.B5))}))&&r.length){var o=C.toORTB({bidRequests:r,bidderRequest:t});P(),i.push({method:"POST",url:"https://".concat(j.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:o,bidRequest:r})}var a=e.filter(function(e){var t=T(e)||[],r=e.params||{},n=r.bidonmultiformat,i=r.video;return t.includes(l.Mk)&&(1===t.length||n||!n&&!i||!n&&i&&!t.includes(l.pX))});if(!0!==j.singleRequest)n=i.concat(a.map(function(e){var r=A.createSlotParams(e,t);return{method:"GET",url:"https://".concat(j.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:A.getOrderedParams(r).reduce(function(e,t){var n=r[t];return(0,m.d8)(n)&&""!==n||(0,m.hj)(n)?"".concat(e).concat(X(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}));else{var d=a.reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{});n=i.concat(Object.keys(d).reduce(function(e,r){return(function(e,t){return e.map(function(r,n){return n%t==0?e.slice(n,n+t):null}).filter(function(e){return e})})(d[r],10).forEach(function(r){var n=A.combineSlotUrlParams(r.map(function(e){return A.createSlotParams(e,t)}));e.push({method:"GET",url:"https://".concat(j.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:A.getOrderedParams(n).reduce(function(e,t){var r=n[t];return(0,m.d8)(r)&&""!==r||(0,m.hj)(r)?"".concat(e).concat(X(t,r),"&"):e},"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})}),e},[]))}return n},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(function(e){return -1===i.indexOf(e)}))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce(function(t,r,n){return Object.keys(r).forEach(function(i){!t.hasOwnProperty(i)&&(t[i]=Array(e.length)),t[i].splice(n,1,r[i])}),t},{}),r=RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach(function(e){var n=t[e].join(";"),i=n.match(r);t[e]=i?i[1]:n}),t},createSlotParams:function(e,t){e.startTime=new Date().getTime();var r,n,i,d,c,s,u,v=e.params,b=S(e,"banner"),x=v.latLong||[],y=(0,o.Z)(x,2),h=y[0],k=y[1],Z={account_id:v.accountId,site_id:v.siteId,zone_id:v.zoneId,size_id:b[0],alt_size_ids:b.slice(1).join(",")||void 0,rp_floor:(v.floor=parseFloat(v.floor))>=.01?v.floor:void 0,rp_secure:"1",tk_flint:"".concat(j.int_type||"pbjs_lite","_v9.18.0"),"x_source.tid":null===(r=t.ortb2)||void 0===r||null===(r=r.source)||void 0===r?void 0:r.tid,"x_imp.ext.tid":null===(n=e.ortb2Imp)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.tid,l_pb_bid_id:e.bidId,o_cdep:null===(i=e.ortb2)||void 0===i||null===(i=i.device)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.cdep,p_screen_res:function(){return[window.screen.width,window.screen.height].join("x")}(),tk_user_key:v.userId,"p_geo.latitude":isNaN(parseFloat(h))?void 0:parseFloat(h).toFixed(4),"p_geo.longitude":isNaN(parseFloat(k))?void 0:parseFloat(k).toFixed(4),"tg_fl.eid":e.code,rf:function(e,t){var r;return r=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?r.replace(/^http:/i,"https:"):r}(e,t)};if("function"==typeof e.getFloor&&!j.disableFloors){try{s=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,m.H)("Rubicon: getFloor threw an error: ",e)}Z.rp_hard_floor="object"!==(0,a.Z)(s)||"USD"!==s.currency||isNaN(parseInt(s.floor))?void 0:s.floor}!0===v.bidonmultiformat&&(0,g.Z)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(Z.p_formats=Object.keys(e.mediaTypes).join(","));var C={1:"atf",3:"btf"}[(0,g.Z)(e,"mediaTypes.banner.pos")]||"";Z.p_pos="atf"===v.position||"btf"===v.position?v.position:C;var O=p.vc.getConfig("user.id");return O&&(Z.ppuid=O),null!=e&&null!==(d=e.ortb2Imp)&&void 0!==d&&null!==(d=d.ext)&&void 0!==d&&d.ae&&(Z.o_ae=1),function(e,t){if(!1!==j.readTopics){var r,n,i,o,a=[1,2,5,6,7,507].concat((null===(r=j.sendSiteSegtax)||void 0===r?void 0:r.map(function(e){return Number(e)}))||[]),d=[4,508].concat((null===(n=j.sendUserSegtax)||void 0===n?void 0:n.map(function(e){return Number(e)}))||[]),c=(null===(i=e.ortb2)||void 0===i||null===(i=i.user)||void 0===i?void 0:i.data)||[],s=(null===(o=e.ortb2)||void 0===o||null===(o=o.site)||void 0===o||null===(o=o.content)||void 0===o?void 0:o.data)||[];c.forEach(R(t,"v",d)),s.forEach(R(t,"i",a))}}(t,Z),e.userIdAsEids&&e.userIdAsEids.forEach(function(e){try{if("adserver.org"===e.source)Z.tpid_tdid=e.uids[0].id,Z["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)Z["tpid_liveintent.com"]=e.uids[0].id,Z["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(Z["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)Z.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)Z["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{var t="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");Z["eid_".concat(e.source)]=t}if(!Z.ppuid){var r=(0,f.sE)(e.uids,function(e){return e.ext&&"ppuid"===e.ext.stype});r&&r.id&&(Z.ppuid=r.id)}}catch(t){(0,m.yN)("Rubicon: error reading eid:",e,t)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(Z.gdpr=Number(t.gdprConsent.gdprApplies)),Z.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(Z.us_privacy=encodeURIComponent(t.uspConsent)),null!==(c=t.gppConsent)&&void 0!==c&&c.gppString&&(Z.gpp=t.gppConsent.gppString,Z.gpp_sid=null===(u=t.gppConsent)||void 0===u||null===(u=u.applicableSections)||void 0===u?void 0:u.toString()),Z.rp_maxbids=t.bidLimit||1,function(e,t,r){var n={user:{ext:{data:_({},e.params.visitor)}},site:{ext:{data:_({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=(0,m.kJ)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var i=(0,m.Ee)({},e.ortb2||{},n),d=(0,g.Z)(e.ortb2Imp,"ext")||{},c=(0,g.Z)(e.ortb2Imp,"ext.data")||{},s=(0,g.Z)(e,"ortb2Imp.ext.gpid"),u=(0,g.Z)(i,"regs.ext.dsa"),p={user:[4],site:[1,2,5,6]},f={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},v=function(e,t,r){if("data"===t&&Array.isArray(e))return e.filter(function(e){return e.segment&&(0,g.Z)(e,"ext.segtax")&&p[r]&&-1!==p[r].indexOf((0,g.Z)(e,"ext.segtax"))}).map(function(e){var t=e.segment.filter(function(e){return e.id}).reduce(function(e,t){return e.push(t.id),e},[]);if(t.length>0)return t.toString()}).toString();if("object"!==(0,a.Z)(e)||!!Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter(function(e){if("object"!==(0,a.Z)(e)&&void 0!==e)return e.toString();(0,m.yN)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")}).toString():e.toString()}},b=function(e,t,n){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=v(e,n,t),a=f[n]&&i?"".concat(f[n]):"data"===n?"".concat(f[t],"iab"):"".concat(f[t]).concat(n);r[a]=r[a]?r[a].concat(",",o):o};if(t===l.Mk){["site","user"].forEach(function(e){Object.keys(i[e]).forEach(function(t){"site"===e&&"content"===t&&i[e][t].data?b(i[e][t].data,e,"data"):"ext"!==t?b(i[e][t],e,t):i[e][t].data&&Object.keys(i[e].ext.data).forEach(function(t){b(i[e].ext.data[t],e,t,!1)})})}),Object.keys(c).forEach(function(e){"adserver"!==e?b(c[e],"site",e):"gam"===c[e].name&&b(c[e].adslot,name,e)}),s&&(r.p_gpid=s),u&&Object.keys(u).length&&(0,m.ei)(u,["dsainfo",function(e){return r.dsainfo=e},"dsarequired",function(e){return r.dsarequired=e},"pubrender",function(e){return r.dsapubrender=e},"datatopub",function(e){return r.dsadatatopubs=e},"transparency",function(e){Array.isArray(e)&&e.length&&(r.dsatransparency=e.reduce(function(e,t){var r=t.domain||"";if(!r)return e;var n=t.dsaparams||t.params;return Array.isArray(n)&&0!==n.length?(e&&(e+="~~"),e+"".concat(r,"~").concat(n.join("_"))):e},""))}]),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"];var x=(0,g.Z)(i,"device.sua");x&&!1!==j.chEnabled&&(0,m.ei)(x,["architecture",function(e){return r.m_ch_arch=e},"bitness",function(e){return r.m_ch_bitness=e},"browsers",function(e){if(Array.isArray(e)){var t,n,i=e.reduce(function(e,t){var r,n,i;return e[0].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(r=t.version)||void 0===r?void 0:r[0],'"')),e[1].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(n=t.version)||void 0===n||null===(i=n.join)||void 0===i?void 0:i.call(n,"."),'"')),e},[[],[]]),a=(0,o.Z)(i,2),d=a[0],c=a[1];r.m_ch_ua=null==d||null===(t=d.join)||void 0===t?void 0:t.call(d,","),r.m_ch_full_ver=null==c||null===(n=c.join)||void 0===n?void 0:n.call(c,",")}},"mobile",function(e){return r.m_ch_mobile="?".concat(e)},"model",function(e){return r.m_ch_model=e},"platform",function(e){var t,n;r.m_ch_platform=null==e?void 0:e.brand,r.m_ch_platform_ver=null==e||null===(t=e.version)||void 0===t||null===(n=t.join)||void 0===n?void 0:n.call(t,".")}])}else Object.keys(d).length&&(0,m.Ee)(r.imp[0].ext,d),s&&(r.imp[0].ext.gpid=s),(0,m.Ee)(r,i)}(e,l.Mk,Z),!0===p.vc.getConfig("coppa")&&(Z.coppa=1),e.schain&&M(e.schain)&&(Z.rp_schain=A.serializeSupplyChain(e.schain)),Z},serializeSupplyChain:function(e){if(!M(e))return"";var t=e.ver,r=e.complete,n=e.nodes;return"".concat(t,",").concat(r,"!").concat(A.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map(function(e){return t.map(function(t){return encodeURIComponent(e[t]||"")}).join(",")}).join("!")},interpretResponse:function(e,t){e=e.body;var r,n,i=t.data;if(!e||"object"!==(0,a.Z)(e))return[];if(e.seatbid){var d=(0,g.Z)(e,"ext.errors.rubicon");return Array.isArray(d)&&d.length>0&&(0,m.yN)("Rubicon: Error in video response"),C.fromORTB({request:i,response:e}).bids}var c=e.ads,s=0,u=t.bidRequest;if("object"===(0,a.Z)(u)&&!Array.isArray(u)&&T(u).includes(l.pX)&&"object"===(0,a.Z)(c)&&(c=c[u.adUnitCode]),!Array.isArray(c)||c.length<1)return[];var p=c.reduce(function(t,r,i){if(r.impression_id&&n===r.impression_id?s++:n=r.impression_id,"ok"!==r.status)return t;var d=Array.isArray(u)?u[i-s]:u;if(d&&"object"===(0,a.Z)(d)){var c={requestId:d.bidId,currency:"USD",creativeId:r.creative_id||"".concat(r.network||"","-").concat(r.advertiser||""),cpm:r.cpm||0,dealId:r.deal,ttl:360,netRevenue:!1!==j.netRevenue,rubicon:{advertiserId:r.advertiser,networkId:r.network},meta:{advertiserId:r.advertiser,networkId:r.network,mediaType:l.Mk}};if(r.creative_type&&(c.mediaType=r.creative_type),r.dsa&&Object.keys(r.dsa).length&&(c.meta.dsa=r.dsa),r.adomain&&(c.meta.advertiserDomains=Array.isArray(r.adomain)?r.adomain:[r.adomain]),r.creative_type===l.pX)c.width=d.params.video.playerWidth,c.height=d.params.video.playerHeight,c.vastUrl=r.creative_depot_url,c.impression_id=r.impression_id,c.videoCacheKey=r.impression_id;else{c.ad=function(e,t){return"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(t,"'>\n<script type='text/javascript'>").concat(e,"<\/script>\n</div>\n</body>\n</html>")}(r.script,r.impression_id);var p=Z[r.size_id].split("x").map(function(e){return Number(e)}),f=(0,o.Z)(p,2);c.width=f[0],c.height=f[1]}c.rubiconTargeting=(Array.isArray(r.targeting)?r.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:d.adUnitCode}),t.push(c)}else(0,m.H)("Rubicon: bidRequest undefined at index position:".concat(i),u,e);return t},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)}),f=null===(r=e.component_auction_config)||void 0===r?void 0:r.map(function(e){return{config:e,bidId:e.bidId}});return f?{bids:p,paapi:f}:p},getUserSyncs:function(e,t,r,n,i){if(!B&&e.iframeEnabled){var o=(0,y.A)(r,n,i);return o=Object.keys(o).length?"?".concat((0,m.Yp)(o)):"",B=!0,{type:"iframe",url:"https://".concat(j.syncHost||"eus",".rubiconproject.com/usync.html")+o}}}};function O(e){var t,r,n,i=document.getElementById(e.adUnitCode);(t=i.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),(n=(r=i.querySelector("script[id^='sas_script']"))&&r.nextSibling)&&"iframe"===n.localName&&n.style.setProperty("display","none");var o=_(_({},{align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0}),e.renderer.getConfig());e.renderer.push(function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:i,align:o.align,position:o.position},closeButton:o.closeButton,label:o.label,collapse:o.collapse})})}function S(e,t){var r=e.params;if(t===l.pX){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray((0,g.Z)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var i=[];return Array.isArray(r.sizes)?i=r.sizes:void 0!==(0,g.Z)(e,"mediaTypes.banner.sizes")?i=w(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?i=w(e.sizes):(0,m.yN)("Rubicon: no sizes are setup or found"),E(i)}function R(e,t,r){return function(n){var i,o,a=Number(null===(i=n.ext)||void 0===i?void 0:i.segtax);r.includes(a)&&(e["tg_".concat(t,".tax").concat(a)]=null===(o=n.segment)||void 0===o?void 0:o.map(function(e){return e.id}).join(","))}}function w(e){return(0,m.sF)(e).reduce(function(e,t){var r=parseInt(Z[t],10);return r&&e.push(r),e},[])}function I(e){var t=void 0!==(0,g.Z)(e,"mediaTypes.".concat(l.pX)),r=void 0!==(0,g.Z)(e,"mediaTypes.".concat(l.Mk)),n=void 0!==(0,g.Z)(e,"params.bidonmultiformat"),i="object"!==(0,a.Z)((0,g.Z)(e,"params.video"));return!!t&&!!n||(r&&i&&(t=!1),t&&i&&(0,b.N)(e,"params.video",{}),t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[];if(I(e)){if(-1===["outstream","instream"].indexOf((0,g.Z)(e,"mediaTypes.".concat(l.pX,".context"))))return t&&(0,m.H)("Rubicon: mediaTypes.video.context must be outstream or instream"),r;if(S(e,l.pX).length<2)return t&&(0,m.H)("Rubicon: could not determine the playerSize of the video"),r;t&&(0,m.ji)("Rubicon: making video request for adUnit",e.adUnitCode),r.push(l.pX)}if(void 0!==(0,g.Z)(e,"mediaTypes.".concat(l.B5))&&r.push(l.B5),void 0!==(0,g.Z)(e,"mediaTypes.".concat(l.Mk))){if(0===S(e,l.Mk).length)return t&&(0,m.H)("Rubicon: could not determine the sizes for banner request"),r;t&&(0,m.ji)("Rubicon: making banner request for adUnit",e.adUnitCode),r.push(l.Mk)}return r}var N=function(){return j={}},P=function(){return k={}};function E(e){var t=[15,2,9];return e.sort(function(e,r){var n=t.indexOf(e),i=t.indexOf(r);if(n>-1||i>-1)return -1===n?1:-1===i?-1:n-i;return e-r})}function z(e){var t=parseInt((0,g.Z)(e,"params.video.size_id"));return isNaN(t)?"outstream"===(0,g.Z)(e,"mediaTypes.".concat(l.pX,".context"))?203:201:t}function q(e){return{ranges:({low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets})[e.getConfig("priceGranularity")]}}function U(e){var t=!0,r=Object.prototype.toString.call([]),n={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0)};return Object.keys(n).forEach(function(r){Object.prototype.toString.call((0,g.Z)(e,"mediaTypes.video."+r))!==n[r]&&(t=!1,(0,m.H)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+n[r]))}),t}function M(e){var t=!1,r=["asi","sid","hp"];return e.nodes?(!(t=e.nodes.reduce(function(e,t){return e?r.every(function(e){return t.hasOwnProperty(e)}):e},!0))&&(0,m.H)("Rubicon: required schain params missing"),t):t}function X(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var B=!1;function F(){B=!1}(0,u.dX)(A),(0,d.z)("rubiconBidAdapter")},67007:function(e,t,r){r.d(t,{N:function(){return n}});function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,a=t.length,d=e;o<a&&"__proto__"!=(i=""+t[o++])&&"constructor"!==i&&"prototype"!==i;){;d=d[i]=o===a?r:typeof(n=d[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}}}}]);
//# sourceMappingURL=rubiconBidAdapter-js.e7cb7a9c9d140ec5.js.map
</script>

</body>
</html>
