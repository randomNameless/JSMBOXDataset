<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>search.lc-3feaf2c045e204605d66fff20ed8f9a0-lc.min.html</title>
</head>
<body>

<script>
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(e,t,r){"use strict";var n=r(3),o="object"==typeof self&&self&&self.Object===Object&&self,a=n.a||o||Function("return this")();t.a=a},function(e,t){e.exports=tcom.core},function(e,t,r){"use strict";(function(e){var n=r(0),o=r(8),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a?n.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||o.a;t.a=s}).call(this,r(7)(e))},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(11))},function(e,t){e.exports=tcom.libs.axios},function(e,t){e.exports=tcom.libs.lodash},function(e,t,r){"use strict";(function(e){var n=r(3),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.a.process,c=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();t.a=c}).call(this,r(7)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,t,r){},,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t);r(9);var n=r(4),o=r.n(n),a=Array.isArray,i=r(0),c=i.a.Symbol,s=Object.prototype,l=s.hasOwnProperty,u=s.toString,d=c?c.toStringTag:void 0;var h=function(e){var t=l.call(e,d),r=e[d];try{e[d]=void 0;var n=!0}catch(e){}var o=u.call(e);return n&&(t?e[d]=r:delete e[d]),o},m=Object.prototype.toString;var p=function(e){return m.call(e)},f=c?c.toStringTag:void 0;var g=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?h(e):p(e)};var v=function(e){return null!=e&&"object"==typeof e};var y=function(e){return"symbol"==typeof e||v(e)&&"[object Symbol]"==g(e)},b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;var L=function(e,t){if(a(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!y(e))||(_.test(e)||!b.test(e)||null!=t&&e in Object(t))};var S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var w,C=function(e){if(!S(e))return!1;var t=g(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},E=i.a["__core-js_shared__"],A=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"";var k=function(e){return!!A&&A in e},T=Function.prototype.toString;var x=function(e){if(null!=e){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""},j=/^\[object .+?Constructor\]$/,O=Function.prototype,P=Object.prototype,M=O.toString,q=P.hasOwnProperty,D=RegExp("^"+M.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var R=function(e){return!(!S(e)||k(e))&&(C(e)?D:j).test(x(e))};var F=function(e,t){return null==e?void 0:e[t]};var N=function(e,t){var r=F(e,t);return R(r)?r:void 0},H=N(Object,"create");var G=function(){this.__data__=H?H(null):{},this.size=0};var I=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},B=Object.prototype.hasOwnProperty;var z=function(e){var t=this.__data__;if(H){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return B.call(t,e)?t[e]:void 0},U=Object.prototype.hasOwnProperty;var $=function(e){var t=this.__data__;return H?void 0!==t[e]:U.call(t,e)};var Q=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this};function V(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}V.prototype.clear=G,V.prototype.delete=I,V.prototype.get=z,V.prototype.has=$,V.prototype.set=Q;var Y=V;var W=function(){this.__data__=[],this.size=0};var K=function(e,t){return e===t||e!=e&&t!=t};var J=function(e,t){for(var r=e.length;r--;)if(K(e[r][0],t))return r;return-1},X=Array.prototype.splice;var Z=function(e){var t=this.__data__,r=J(t,e);return!(r<0)&&(r==t.length-1?t.pop():X.call(t,r,1),--this.size,!0)};var ee=function(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]};var te=function(e){return J(this.__data__,e)>-1};var re=function(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ne.prototype.clear=W,ne.prototype.delete=Z,ne.prototype.get=ee,ne.prototype.has=te,ne.prototype.set=re;var oe=ne,ae=N(i.a,"Map");var ie=function(){this.size=0,this.__data__={hash:new Y,map:new(ae||oe),string:new Y}};var ce=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var se=function(e,t){var r=e.__data__;return ce(t)?r["string"==typeof t?"string":"hash"]:r.map};var le=function(e){var t=se(this,e).delete(e);return this.size-=t?1:0,t};var ue=function(e){return se(this,e).get(e)};var de=function(e){return se(this,e).has(e)};var he=function(e,t){var r=se(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}me.prototype.clear=ie,me.prototype.delete=le,me.prototype.get=ue,me.prototype.has=de,me.prototype.set=he;var pe=me;function fe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(fe.Cache||pe),r}fe.Cache=pe;var ge=fe;var ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/\\(\\)?/g,be=function(e){var t=ge(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ve,(function(e,r,n,o){t.push(n?o.replace(ye,"$1"):r||e)})),t}));var _e=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},Le=c?c.prototype:void 0,Se=Le?Le.toString:void 0;var we=function e(t){if("string"==typeof t)return t;if(a(t))return _e(t,e)+"";if(y(t))return Se?Se.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var Ce=function(e){return null==e?"":we(e)};var Ee=function(e,t){return a(e)?e:L(e,t)?[e]:be(Ce(e))};var Ae=function(e){if("string"==typeof e||y(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var ke=function(e,t){for(var r=0,n=(t=Ee(t,e)).length;null!=e&&r<n;)e=e[Ae(t[r++])];return r&&r==n?e:void 0};var Te=function(e,t,r){var n=null==e?void 0:ke(e,t);return void 0===n?r:n},xe=function(){return window.innerWidth>=1024},je=function(e,t){var r={source:t.engineType||"personal"};return""===e?Promise.resolve([]):new Promise((function(n,a){o.a.get(Pe(t).autocomplete.url,{headers:r,params:{query:e}}).then((function(e){200===e.status?n(Te(e.data.data,"results",[])):a(new Error("Error Querying"))})).catch((function(){a(new Error("Error Querying"))}))}))},Oe=function(e,t){var r={"Content-Type":"application/json",source:t.engineType||"personal"},n={q:e.query,filters:{page:{}},fetch_fields:{page:[]},per_page:e.perpage||5,page:e.pagination||1};e.dateFrom&&e.dateTo?(n.filters.page.date_published={from:e.dateFrom,to:e.dateTo,type:"range"},n.filters.page.page_type="media-release",n.fetch_fields.page.push("date_published"),n.sort_field={page:"date_published"},n.sort_direction={page:"desc"}):(n.filters.page.consumer_type=e.consumerType||"personal",n.filters.page.category=e.category||null);var a=JSON.stringify(n);return new Promise((function(e,n){o.a.post(Pe(t).recommendation.url,a,{headers:r}).then((function(t){200===t.status?e(Te(t,"data.data")):n(new Error("Error Querying"))})).catch((function(e){n(e)}))}))},Pe=function(e){return{autocomplete:{url:"staging"===e.searchEnv?"https://slot2.org002.t-dev.corp.telstra.com/presentation/v1/tcom/search/suggestions":"https://tapi.telstra.com/presentation/v1/tcom/search/suggestions"},recommendation:{url:"staging"===e.searchEnv?"https://slot2.org002.t-dev.corp.telstra.com/presentation/v1/tcom/search/results":"https://tapi.telstra.com/presentation/v1/tcom/search/results"}}},Me=r(1),qe=function(e){return e[e.searchPageLoad=0]="searchPageLoad",e[e.searchTakeMeTo=1]="searchTakeMeTo",e[e.searchChoiceChipFilter=2]="searchChoiceChipFilter",e[e.searchShowMore=3]="searchShowMore",e[e.searchClick=4]="searchClick",e[e.searchInternal=5]="searchInternal",e}({}),De=function(e,t){switch(e){case qe.searchInternal:Re();break;case qe.searchPageLoad:!function(e){var t=(window.digitalData=window.digitalData||{},window.digitalData);t.page=t.page||{},t.page.search=e,Re()}(t);break;case qe.searchTakeMeTo:!function(e){Re();var t={eventAction:"click",eventType:"clickSearchQuickLinks",eventCategory:e.eventCategory||"",eventName:e.eventName||""};Me.digitalData.pushTrackEvent(t)}(t);break;case qe.searchChoiceChipFilter:!function(e){var t={eventAction:"click",eventType:"clickSearchFilters",eventCategory:"clickSearchFilters",eventName:e};Me.digitalData.pushTrackEvent(t)}(t);break;case qe.searchClick:!function(e){var t={eventAction:"click",eventType:"clickSearchResults",eventCategory:e.eventCategory||"",eventName:e.eventName||""};Me.digitalData.pushTrackEvent(t)}(t);break;case qe.searchShowMore:!function(e){var t={eventAction:"click",eventType:"clickTrack",eventCategory:"buttonClick",eventName:e};Me.digitalData.pushTrackEvent(t)}(t)}};function Re(){var e={eventAction:"internalSearch",eventType:"",eventCategory:"",eventName:""};Me.digitalData.pushTrackEvent(e)}var Fe=function(){return i.a.Date.now()},Ne=/\s/;var He=function(e){for(var t=e.length;t--&&Ne.test(e.charAt(t)););return t},Ge=/^\s+/;var Ie=function(e){return e?e.slice(0,He(e)+1).replace(Ge,""):e},Be=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Ue=/^0o[0-7]+$/i,$e=parseInt;var Qe=function(e){if("number"==typeof e)return e;if(y(e))return NaN;if(S(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=S(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ie(e);var r=ze.test(e);return r||Ue.test(e)?$e(e.slice(2),r?2:8):Be.test(e)?NaN:+e},Ve=Math.max,Ye=Math.min;var We=function(e,t,r){var n,o,a,i,c,s,l=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var r=n,a=o;return n=o=void 0,l=t,i=e.apply(a,r)}function p(e){return l=e,c=setTimeout(g,t),u?m(e):i}function f(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-l>=a}function g(){var e=Fe();if(f(e))return v(e);c=setTimeout(g,function(e){var r=t-(e-s);return d?Ye(r,a-(e-l)):r}(e))}function v(e){return c=void 0,h&&n?m(e):(n=o=void 0,i)}function y(){var e=Fe(),r=f(e);if(n=arguments,o=this,s=e,r){if(void 0===c)return p(s);if(d)return clearTimeout(c),c=setTimeout(g,t),m(s)}return void 0===c&&(c=setTimeout(g,t)),i}return t=Qe(t)||0,S(r)&&(u=!!r.leading,a=(d="maxWait"in r)?Ve(Qe(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),y.cancel=function(){void 0!==c&&clearTimeout(c),l=0,n=s=o=c=void 0},y.flush=function(){return void 0===c?i:v(Fe())},y};function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Je=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new x(n||[]);return o(i,"_invoke",{value:E(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="executing",p="completed",f={};function g(){}function v(){}function y(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(j([])));L&&L!==r&&n.call(L,i)&&(b=L);var S=y.prototype=g.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Ke(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=A(c,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?p:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=p,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ke(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},w(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}function Xe(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function et(e,t,r){return(t=tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){var t=function(e,t){if("object"!=Ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ke(t)?t:t+""}var rt=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),et(this,"model",void 0),et(this,"handleEscape",(function(e){"Escape"===e.key&&(n.closeSearchView(),n.model.globalMenuSearchButton.focus())})),et(this,"handleHideTabKey",(function(e){e?n.model.globalPageArea.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]:not([data-filters-segment])').forEach((function(e){"-1"!==e.getAttribute("tabindex")&&(e.setAttribute("data-tcom-lego-search-focusables","true"),e.setAttribute("tabindex","-1"))})):n.model.globalPageArea.querySelectorAll("[data-tcom-lego-search-focusables]").forEach((function(e){e.removeAttribute("data-tcom-lego-search-focusables"),e.removeAttribute("tabindex")}))})),et(this,"handleSignInButton",(function(){var e=document.querySelector("[data-tcom-login-option]");["click","keypress"].forEach((function(t){e.addEventListener(t,(function(){xe()&&n.closeSearchView()}))}))})),et(this,"handleOverflowClick",(function(){n.closeSearchView(),n.dispatchGlobalModalEvent(!1),n.model.currentFocus&&n.model.currentFocus.focus()})),et(this,"getGlobalHeader",(function(){return document.querySelector("[data-tcom-global-header]")}));var o=t.dataset.tcomLegoSearchAttrCollection||"personal",a=t.dataset.tcomLegoSearchAttrMinChar||"4",i=t.dataset.tcomLegoSearchAttrAutoCount||"6",c=t.dataset.tcomLegoSearchAttrRecommendationCount||"3",s=t.dataset.tcomLegoSearchAttrTitleCutoff||"60",l=t.dataset.tcomLegoSearchAttrDescriptionCutoff||"150",u=t.dataset.tcomLegoSearchAttrSearchDelay||"500",d=t.dataset.tcomLegoSearchAttrSearchPage,h=t.dataset.tcomLegoSearchAttrEngineType,m=r.querySelector(".tcom-global-navigation__menu-option__anchor"),p=t.querySelector("#tcom-lego-search-main-input"),f=t.querySelector("[data-tcom-lego-search-popular-area]"),g=t.querySelector("[data-tcom-lego-search-results-area]"),v=t.querySelector("[data-tcom-lego-search-aria-polite]"),y=t.querySelector("[data-tcom-lego-search-pasted-value]"),b=t.querySelector("#tcom-lego-search-results"),_=t.querySelector("[data-tcom-lego-search-no-results]"),L=t.querySelector("[data-tcom-lego-search-recommendation-area]"),S=document.querySelectorAll("[data-tcom-mega-menu],[data-tcom-mega-menu-right]"),w=document.querySelector(".search.contentBase"),C=document.querySelector("body > .page"),E=document.querySelector(".tcom-lego-search__page-overlay");this.model={settingsSearchCollection:o,settingsMinChar:Number(a)||4,settingsAutoCompleteCount:Number(i)||6,settingsRecommendationCount:Number(c)||3,settingsTitleCutoff:Number(s)||60,settingsDescriptionCutoff:Number(l)||150,settingsSearchDelay:Number(u)||500,settingsSearchRedirect:d?d.replace("/content/tcom",""):"https://www.telstra.com.au/search",settingsEngineType:h,inputfield:p,popularArea:f,searchResultsArea:g,autoCompleteResultsArea:b,autoCompleteNoResultsArea:_,recommendationResultsArea:L,searchContainer:t,searchAriaPolite:v,searchPastedValue:y,pageAreaOverlay:E,globalPageArea:C,globalContentBase:w,globalMenuSearchButton:m,globalMegamenuList:S,searchOpen:!1},this.handleEscape.bind(this),this.setupEvents()}return function(e,t,r){return t&&Ze(e.prototype,t),r&&Ze(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"setupEvents",value:function(){var e=this;this.model.globalMenuSearchButton.addEventListener("click",(function(t){t.preventDefault(),e.handleOpenClose()})),this.model.globalMenuSearchButton.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.handleOpenClose())})),document.querySelectorAll("[data-mega-menu-mobile-tcom-search-button]").forEach((function(t){t.classList.remove("tcom-mega-menu__hidden-mobile"),t.addEventListener("click",(function(t){t.preventDefault(),e.dispatchGlobalModalEvent(!1),e.handleOpenClose()})),t.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.dispatchGlobalModalEvent(!1),e.handleOpenClose())}))})),this.handleSignInButton(),document.addEventListener("DOMTcomModalClosed",(function(){e.closeSearchView()})),document.addEventListener("DOMTcomModalOpened",(function(){e.model.globalContentBase.classList.remove("tcom-lego-search__global__contentbase--show"),e.model.searchContainer.classList.add("d-none"),e.model.searchOpen=!1})),this.model.searchContainer.querySelector("[data-tcom-lego-search-close]").addEventListener("click",(function(){e.closeSearchView(),e.model.globalMenuSearchButton.focus()}));var t=this.model.searchContainer.querySelector(".tcom-lego-search__input__icon--close"),r=this.model.searchContainer.querySelector(".tcom-lego-search__input__icon--search"),n=function(){setTimeout((function(){e.model.searchResultsArea.classList.add("d-none"),e.model.autoCompleteResultsArea.classList.add("d-none"),e.model.popularArea.classList.remove("d-none")}),500)};t.addEventListener("click",(function(){e.model.inputfield.value="",t.classList.add("d-none"),r.classList.remove("d-none"),e.model.inputfield.focus(),n()}));var o=We((function(){e.performAPISearch(e.model.inputfield.value)}),this.model.settingsSearchDelay,{leading:!0,maxWait:this.model.settingsSearchDelay});this.model.inputfield.addEventListener("keyup",(function(a){if(""===e.model.inputfield.value?(t.classList.add("d-none"),r.classList.remove("d-none")):(t.classList.remove("d-none"),r.classList.add("d-none")),"Backspace"===a.key&&!e.model.inputfield.value.length)return t.classList.add("d-none"),r.classList.remove("d-none"),void n();if(!(a.shiftKey||"Control"===a.key||"Meta"===a.key||"Backspace"===a.key||e.model.inputfield.value.length<e.model.settingsMinChar)){var i=e.model.inputfield.value.replace(/(!|@|#|\$|%|\^|&|\*)/gm,"");"Enter"===a.key&&i.trim().length>e.model.settingsMinChar?window.location.href="".concat(e.model.settingsSearchRedirect,"?query=").concat(i,"&area=").concat(e.model.settingsSearchCollection):o()}})),this.model.inputfield.addEventListener("paste",(function(){e.model.searchPastedValue.innerText=e.model.inputfield.value}))}},{key:"performAPISearch",value:(t=Je().mark((function e(t){var r,n,o=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.replace(/(!|@|#|\$|%|\^|&|\*)/gm,""),n={engineType:this.model.settingsEngineType},!(r.trim().length<this.model.settingsMinChar)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Promise.all([je(r,n).then((function(e){e&&e.length?o.displayAutoComplete(e,r):o.displayAutoCompleteNoResults()})),Oe({query:r,bodyCutoff:this.model.settingsDescriptionCutoff,titleCutoff:this.model.settingsTitleCutoff,consumerType:this.model.settingsSearchCollection},n).then((function(e){e&&e.records&&e.records.page.length&&!(e instanceof Error)?o.displaySearchRecommendation(e):o.model.recommendationResultsArea.classList.add("d-none")}))]);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,this,[[4,9]])})),r=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){Xe(a,n,o,i,c,"next",e)}function c(e){Xe(a,n,o,i,c,"throw",e)}i(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"displayAutoCompleteNoResults",value:function(){this.model.popularArea.classList.add("d-none"),this.model.searchResultsArea.classList.remove("d-none"),this.model.autoCompleteResultsArea.classList.add("d-none"),this.model.autoCompleteNoResultsArea.classList.remove("d-none"),this.model.searchAriaPolite.innerHTML="No results found"}},{key:"displayAutoComplete",value:function(e,t){var r=this,n=function(e,t){return'\n      <div class="tcom-lego-search__autocomplete__result">\n      <svg class="able-icon tcom-icon-24 tcom-lego-search__autocomplete__icon" aria-hidden="true" focusable="false">\n        <use href="/content/dam/tcom/able/able-sprites.svg?v18#Search" />\n      </svg>\n      <a class="tcom-lego-search__autocomplete__anchor" target="_self" href="'.concat(r.model.settingsSearchRedirect,"?query=").concat(e,"&area=").concat(r.model.settingsSearchCollection,'">\n      ').concat(t,"\n      </a>\n      </div>\n      ")};this.model.inputfield.ariaExpanded="true";var o=this.model.searchResultsArea.querySelector("[data-tcom-lego-search-auto-list]");o.innerHTML="",e.forEach((function(e,a){if(e.keyword&&e.keyword.raw&&a<r.model.settingsAutoCompleteCount){var i=document.createElement("li");i.innerHTML=function(e){var r=e.toUpperCase(),o=t.toUpperCase(),a=r.indexOf(o);if(!o||-1===a)return n(e,e);var i=o.length,c="".concat(e.substr(0,a),"<strong>").concat(e.substr(a,i),"</strong>").concat(e.substr(a+i));return n(e,c)}(e.keyword.raw),o.appendChild(i),i.className="tcom-lego-search__autocomplete__li",i.setAttribute("id","tcom-search-auto-complete-".concat(a))}})),this.model.popularArea.classList.add("d-none"),this.model.autoCompleteNoResultsArea.classList.add("d-none"),this.model.searchResultsArea.classList.remove("d-none"),this.model.autoCompleteResultsArea.classList.remove("d-none"),this.model.searchAriaPolite.innerHTML="".concat(this.model.settingsRecommendationCount||e.length," results found")}},{key:"provisionRecommendationLinks",value:function(e){var t=this;e.querySelectorAll("a").forEach((function(e){e.addEventListener("click",(function(r){r.preventDefault(),De(qe.searchTakeMeTo,{eventCategory:t.model.inputfield.value||"",eventName:e.innerText||""}),window.location.href=e.href})),e.addEventListener("keyup",(function(r){r.preventDefault(),"Enter"!==r.key&&" "!==r.key||(De(qe.searchTakeMeTo,{eventCategory:t.model.inputfield.value||"",eventName:e.innerText||""}),window.location.href=e.href)}))}))}},{key:"displaySearchRecommendation",value:function(e){var t=this;if(e.records.page.length){var r=this.model.recommendationResultsArea.querySelector("[data-tcom-lego-search-recommendation-list]");r.innerHTML="",e.records.page.forEach((function(e,n){if(n<t.model.settingsRecommendationCount){var o,a,i,c=document.createElement("li");c.innerHTML=(e.category,s=e.image||"/etc/designs/tcom-aem-search-lego/assets/no-product-available.svg",l=(null===(o=e.highlight)||void 0===o?void 0:o.title)||e.title||"",u=(null===(a=e.highlight)||void 0===a?void 0:a.description)||(null===(i=e.highlight)||void 0===i?void 0:i.body)||e.description||e.body||"",d=e.url||"#",h=s.includes("telstra.com.au")||s.includes("no-product-available")?'<img src="'.concat(s,'" class="tcom-lego-search__recommendation__image" />'):'<svg class="able-icon tcom-icon-32" aria-hidden="true" focusable="false">\n      <use href="/content/dam/tcom/able/able-sprites.svg?v18#'.concat(s,'" />\n    </svg>'),'\n        <div class="tcom-lego-search__recommendation__container">\n          <div class="tcom-lego-search__recommendation__image-container">\n          '.concat(h,'\n          </div>\n          <div class="tcom-lego-search__recommendation__label tcom-able__text-base">\n            <div class="tcom-lego-search__inline-link tcom-lego-search__spacing--half"><a href="').concat(d,'">').concat(l,'</a></div>\n            <div class="tcom-able__text-base tcom-lego-search__recommendation_body">').concat(u,"</div>\n          </div>\n        </div>\n      ")),c.setAttribute("id","tcom-search-recommendation-".concat(n)),r.appendChild(c)}var s,l,u,d,h})),this.model.recommendationResultsArea.classList.remove("d-none"),this.provisionRecommendationLinks(r)}}},{key:"handleOpenClose",value:function(){this.model.searchOpen?this.closeSearchView():this.openSearchView()}},{key:"openSearchView",value:function(){var e,t=this;this.dispatchGlobalModalEvent(!1),Array.prototype.forEach.call(this.model.globalMegamenuList,(function(e){e.classList.remove("tcom-global-header-modal--show")})),this.model.currentFocus=document.activeElement,this.model.scrollTop=window.scrollY,document.body.classList.add("body-tcom-global-header-modal-opened");var r=this.getGlobalHeader();this.model.searchOpen=!0,this.showHideBodyContent(!1),this.handleHideTabKey(!0),this.model.globalMenuSearchButton.ariaExpanded="true",xe()?document.body.classList.add("tcom-lego-search__global__body--show"):(r.classList.add("tcom-global-header--hide-menu"),document.body.classList.add("body-tcom-global-header-mobile-modal-opened")),this.model.globalPageArea.classList.add("tcom-lego-search__global__page--show"),this.model.globalPageArea.setAttribute("aria-hidden","true"),null===(e=document.querySelector("[data-tcom-mega-menu-close-button-mobile]"))||void 0===e||e.classList.add("d-none");var n=document.querySelector(".skipToMain");null==n||n.setAttribute("aria-hidden","true"),this.model.pageAreaOverlay.classList.remove("d-none"),this.model.globalPageArea.classList.remove("hide-element-important"),this.model.globalContentBase.classList.add("tcom-lego-search__global__contentbase--show"),setTimeout((function(){var e=r.clientHeight;t.model.globalContentBase.style.top="".concat(e,"px")}),0),r.classList.add("tcom-global-header--menu-opened"),this.model.searchContainer.classList.remove("d-none"),this.model.inputfield.focus(),document.addEventListener("keydown",this.handleEscape),this.model.pageAreaOverlay.addEventListener("click",this.handleOverflowClick)}},{key:"closeSearchView",value:function(){var e;Array.prototype.forEach.call(this.model.globalMegamenuList,(function(e){e.classList.remove("tcom-global-header-modal--show")})),this.model.inputfield.value="",this.model.searchAriaPolite.innerHTML="",this.model.inputfield.removeAttribute("aria-expanded"),this.model.globalContentBase.removeAttribute("style"),document.body.classList.remove("body-tcom-global-header-modal-opened"),document.body.classList.remove("body-tcom-global-header-mobile-modal-opened"),document.body.classList.remove("tcom-lego-search__global__body--show");var t=this.getGlobalHeader();t.classList.remove("tcom-global-header--menu-opened"),t.classList.remove("tcom-global-header--hide-menu"),this.model.globalMenuSearchButton.ariaExpanded="false",this.model.searchContainer.classList.add("d-none"),this.model.searchContainer.classList.remove("tcom-lego-search-global-header-modal--condensed"),this.model.globalPageArea.classList.remove("tcom-lego-search__global__page--show"),this.model.globalPageArea.removeAttribute("aria-hidden"),null===(e=document.querySelector("[data-tcom-mega-menu-close-button-mobile]"))||void 0===e||e.classList.remove("d-none");var r=document.querySelector(".skipToMain");null==r||r.removeAttribute("aria-hidden"),this.model.pageAreaOverlay.classList.add("d-none"),this.model.globalContentBase.classList.remove("tcom-lego-search__global__contentbase--show"),this.showHideBodyContent(!0),this.handleHideTabKey(!1),this.model.searchOpen=!1,this.model.searchResultsArea.classList.add("d-none"),this.model.autoCompleteResultsArea.classList.add("d-none"),this.model.recommendationResultsArea.classList.add("d-none"),this.model.popularArea.classList.remove("d-none"),this.model.scrollTop&&window.scrollTo(0,this.model.scrollTop),this.model.scrollTop=void 0,document.removeEventListener("keyup",this.handleEscape),this.model.pageAreaOverlay.removeEventListener("click",this.handleOverflowClick)}},{key:"showHideBodyContent",value:function(e){var t,r=document.querySelectorAll("body > *");Array.prototype.forEach.call(r,(function(r){t||r.querySelector("[data-tcom-global-header]")&&(t=r);r===t||r.classList.contains("page")||(e?r.classList.remove("hide-element-important"):r.classList.add("hide-element-important"))}))}},{key:"dispatchGlobalModalEvent",value:function(e){var t=new Event(e?"DOMTcomModalOpened":"DOMTcomModalClosed");document.dispatchEvent(t)}}],[{key:"init",value:function(){var t=document.querySelector("[data-tcom-lego-search]"),r=document.querySelector("[data-tcom-lego-search-menu-button]");t&&r&&(e.instance=new e(t,r))}}]);var t,r}();et(rt,"instance",void 0);var nt=r(5),ot=r.n(nt);var at=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var it=function(e){return this.__data__.has(e)};function ct(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new pe;++t<r;)this.add(e[t])}ct.prototype.add=ct.prototype.push=at,ct.prototype.has=it;var st=ct;var lt=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1};var ut=function(e){return e!=e};var dt=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1};var ht=function(e,t,r){return t==t?dt(e,t,r):lt(e,ut,r)};var mt=function(e,t){return!!(null==e?0:e.length)&&ht(e,t,0)>-1};var pt=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1};var ft=function(e,t){return e.has(t)},gt=N(i.a,"Set");var vt=function(){};var yt=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},bt=gt&&1/yt(new gt([,-0]))[1]==1/0?function(e){return new gt(e)}:vt;var _t=function(e,t,r){var n=-1,o=mt,a=e.length,i=!0,c=[],s=c;if(r)i=!1,o=pt;else if(a>=200){var l=t?null:bt(e);if(l)return yt(l);i=!1,o=ft,s=new st}else s=t?[]:c;e:for(;++n<a;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,i&&d==d){for(var h=s.length;h--;)if(s[h]===d)continue e;t&&s.push(d),c.push(u)}else o(s,d,r)||(s!==c&&s.push(d),c.push(u))}return c};var Lt=function(e){return e&&e.length?_t(e):[]};var St=function(){this.__data__=new oe,this.size=0};var wt=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ct=function(e){return this.__data__.get(e)};var Et=function(e){return this.__data__.has(e)};var At=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!ae||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pe(n)}return r.set(e,t),this.size=r.size,this};function kt(e){var t=this.__data__=new oe(e);this.size=t.size}kt.prototype.clear=St,kt.prototype.delete=wt,kt.prototype.get=Ct,kt.prototype.has=Et,kt.prototype.set=At;var Tt=kt;var xt=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var jt=function(e,t,r,n,o,a){var i=1&r,c=e.length,s=t.length;if(c!=s&&!(i&&s>c))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,m=2&r?new st:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var p=e[d],f=t[d];if(n)var g=i?n(f,p,d,t,e,a):n(p,f,d,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(m){if(!xt(t,(function(e,t){if(!ft(m,t)&&(p===e||o(p,e,r,n,a)))return m.push(t)}))){h=!1;break}}else if(p!==f&&!o(p,f,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h},Ot=i.a.Uint8Array;var Pt=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Mt=c?c.prototype:void 0,qt=Mt?Mt.valueOf:void 0;var Dt=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ot(e),new Ot(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return K(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Pt;case"[object Set]":var s=1&n;if(c||(c=yt),e.size!=t.size&&!s)return!1;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var u=jt(c(e),c(t),n,o,a,i);return i.delete(e),u;case"[object Symbol]":if(qt)return qt.call(e)==qt.call(t)}return!1};var Rt=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e};var Ft=function(e,t,r){var n=t(e);return a(e)?n:Rt(n,r(e))};var Nt=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a};var Ht=function(){return[]},Gt=Object.prototype.propertyIsEnumerable,It=Object.getOwnPropertySymbols,Bt=It?function(e){return null==e?[]:(e=Object(e),Nt(It(e),(function(t){return Gt.call(e,t)})))}:Ht;var zt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Ut=function(e){return v(e)&&"[object Arguments]"==g(e)},$t=Object.prototype,Qt=$t.hasOwnProperty,Vt=$t.propertyIsEnumerable,Yt=Ut(function(){return arguments}())?Ut:function(e){return v(e)&&Qt.call(e,"callee")&&!Vt.call(e,"callee")},Wt=r(2),Kt=/^(?:0|[1-9]\d*)$/;var Jt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Kt.test(e))&&e>-1&&e%1==0&&e<t};var Xt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var er=function(e){return v(e)&&Xt(e.length)&&!!Zt[g(e)]};var tr=function(e){return function(t){return e(t)}},rr=r(6),nr=rr.a&&rr.a.isTypedArray,or=nr?tr(nr):er,ar=Object.prototype.hasOwnProperty;var ir=function(e,t){var r=a(e),n=!r&&Yt(e),o=!r&&!n&&Object(Wt.a)(e),i=!r&&!n&&!o&&or(e),c=r||n||o||i,s=c?zt(e.length,String):[],l=s.length;for(var u in e)!t&&!ar.call(e,u)||c&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Jt(u,l))||s.push(u);return s},cr=Object.prototype;var sr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||cr)};var lr=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ur=Object.prototype.hasOwnProperty;var dr=function(e){if(!sr(e))return lr(e);var t=[];for(var r in Object(e))ur.call(e,r)&&"constructor"!=r&&t.push(r);return t};var hr=function(e){return null!=e&&Xt(e.length)&&!C(e)};var mr=function(e){return hr(e)?ir(e):dr(e)};var pr=function(e){return Ft(e,mr,Bt)},fr=Object.prototype.hasOwnProperty;var gr=function(e,t,r,n,o,a){var i=1&r,c=pr(e),s=c.length;if(s!=pr(t).length&&!i)return!1;for(var l=s;l--;){var u=c[l];if(!(i?u in t:fr.call(t,u)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var m=!0;a.set(e,t),a.set(t,e);for(var p=i;++l<s;){var f=e[u=c[l]],g=t[u];if(n)var v=i?n(g,f,u,t,e,a):n(f,g,u,e,t,a);if(!(void 0===v?f===g||o(f,g,r,n,a):v)){m=!1;break}p||(p="constructor"==u)}if(m&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(m=!1)}return a.delete(e),a.delete(t),m},vr=N(i.a,"DataView"),yr=N(i.a,"Promise"),br=N(i.a,"WeakMap"),_r=x(vr),Lr=x(ae),Sr=x(yr),wr=x(gt),Cr=x(br),Er=g;(vr&&"[object DataView]"!=Er(new vr(new ArrayBuffer(1)))||ae&&"[object Map]"!=Er(new ae)||yr&&"[object Promise]"!=Er(yr.resolve())||gt&&"[object Set]"!=Er(new gt)||br&&"[object WeakMap]"!=Er(new br))&&(Er=function(e){var t=g(e),r="[object Object]"==t?e.constructor:void 0,n=r?x(r):"";if(n)switch(n){case _r:return"[object DataView]";case Lr:return"[object Map]";case Sr:return"[object Promise]";case wr:return"[object Set]";case Cr:return"[object WeakMap]"}return t});var Ar=Er,kr=Object.prototype.hasOwnProperty;var Tr=function(e,t,r,n,o,i){var c=a(e),s=a(t),l=c?"[object Array]":Ar(e),u=s?"[object Array]":Ar(t),d="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),m=l==u;if(m&&Object(Wt.a)(e)){if(!Object(Wt.a)(t))return!1;c=!0,d=!1}if(m&&!d)return i||(i=new Tt),c||or(e)?jt(e,t,r,n,o,i):Dt(e,t,l,r,n,o,i);if(!(1&r)){var p=d&&kr.call(e,"__wrapped__"),f=h&&kr.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,v=f?t.value():t;return i||(i=new Tt),o(g,v,r,n,i)}}return!!m&&(i||(i=new Tt),gr(e,t,r,n,o,i))};var xr=function e(t,r,n,o,a){return t===r||(null==t||null==r||!v(t)&&!v(r)?t!=t&&r!=r:Tr(t,r,n,o,e,a))};var jr=function(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var c=r[o];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var s=(c=r[o])[0],l=e[s],u=c[1];if(i&&c[2]){if(void 0===l&&!(s in e))return!1}else{var d=new Tt;if(n)var h=n(l,u,s,e,t,d);if(!(void 0===h?xr(u,l,3,n,d):h))return!1}}return!0};var Or=function(e){return e==e&&!S(e)};var Pr=function(e){for(var t=mr(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Or(o)]}return t};var Mr=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var qr=function(e){var t=Pr(e);return 1==t.length&&t[0][2]?Mr(t[0][0],t[0][1]):function(r){return r===e||jr(r,e,t)}};var Dr=function(e,t){return null!=e&&t in Object(e)};var Rr=function(e,t,r){for(var n=-1,o=(t=Ee(t,e)).length,i=!1;++n<o;){var c=Ae(t[n]);if(!(i=null!=e&&r(e,c)))break;e=e[c]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Xt(o)&&Jt(c,o)&&(a(e)||Yt(e))};var Fr=function(e,t){return null!=e&&Rr(e,t,Dr)};var Nr=function(e,t){return L(e)&&Or(t)?Mr(Ae(e),t):function(r){var n=Te(r,e);return void 0===n&&n===t?Fr(r,e):xr(t,n,3)}};var Hr=function(e){return e};var Gr=function(e){return function(t){return null==t?void 0:t[e]}};var Ir=function(e){return function(t){return ke(t,e)}};var Br=function(e){return L(e)?Gr(Ae(e)):Ir(e)};var zr=function(e){return"function"==typeof e?e:null==e?Hr:"object"==typeof e?a(e)?Nr(e[0],e[1]):qr(e):Br(e)};var Ur=function(e){return function(t,r,n){var o=Object(t);if(!hr(t)){var a=zr(r,3);t=mr(t),r=function(e){return a(o[e],e,o)}}var i=e(t,r,n);return i>-1?o[a?t[i]:i]:void 0}};var $r=function(e){return e?(e=Qe(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var Qr=function(e){var t=$r(e),r=t%1;return t==t?r?t-r:t:0},Vr=Math.max;var Yr=Ur((function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:Qr(r);return o<0&&(o=Vr(n+o,0)),lt(e,zr(t,3),o)}));var Wr=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),c=i.length;c--;){var s=i[e?c:++o];if(!1===r(a[s],s,a))break}return t}}();var Kr=function(e,t){return function(r,n){if(null==r)return r;if(!hr(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}((function(e,t){return e&&Wr(e,t,mr)}));var Jr=function(e,t){var r=[];return Kr(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r};var Xr=function(e,t){return(a(e)?Nt:Jr)(e,zr(t,3))};function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */en=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new x(n||[]);return o(i,"_invoke",{value:E(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="executing",p="completed",f={};function g(){}function v(){}function y(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(j([])));L&&L!==r&&n.call(L,i)&&(b=L);var S=y.prototype=g.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Zr(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=A(c,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?p:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=p,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Zr(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},w(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}function tn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function rn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){tn(a,n,o,i,c,"next",e)}function c(e){tn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function nn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,an(n.key),n)}}function on(e,t,r){return(t=an(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function an(e){var t=function(e,t){if("object"!=Zr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zr(t)?t:t+""}var cn=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),on(this,"model",void 0),on(this,"generateListDiv",(function(e){var t=document.createElement("div");return t.className="tcom-lego-search-page-tab__content__list",e.forEach((function(e,n){var o=document.createElement("div");o.className=0===n?"tcom-lego-search-page__surface":"tcom-lego-search-page__list",1===e._score&&o.classList.add("tcom-lego-search-page__list--highlighted"),o.innerHTML=r.generateList(e,n),t.appendChild(o)})),t})),on(this,"generateCategoryDiv",(function(e,t){var n=document.createElement("div");n.className="tcom-lego-search-page__other-container";var o=e?'<span class="sr-only">Page '.concat(r.model.pagination,"</span>"):"";return n.innerHTML="\n      <".concat(r.model.settingsCatLevel,' class="tcom-lego-search-page__font--headingb tcom-lego-search-page__spacing--24" tabindex="-1">\n      ').concat(t,"\n      ").concat(o,"\n      </").concat(r.model.settingsCatLevel,">"),n}));var n=t.querySelector("[data-tcom-lego-search-page-results-container]"),o=n.querySelector("[data-tcom-lego-search-page-choice-chips]"),a=n.querySelector("[data-tcom-lego-search-page-products-container]"),i=n.querySelector("#tcom-lego-search-tab-control-1"),c=n.querySelector("#tcom-lego-search-tab-control-2"),s=n.querySelector("[data-tcom-lego-search-page-other-category-container]"),l=t.querySelector("[data-tcom-lego-search-page-attr-other-filter]"),u=t.querySelector("#tcom-lego-search-page-main-input"),d=t.querySelector("[data-tcom-lego-search-pagination-container]"),h=t.querySelector("[data-tcom-lego-search-page-aria-polite]"),m=t.querySelector("[data-tcom-lego-search-page-loading-container]"),p=t.querySelector("[data-tcom-lego-search-page-error-container]"),f=t.querySelector("[data-tcom-lego-search-page-content-grid]"),g=t.querySelector("[data-tcom-lego-search-page-tab-controller]"),v=t.querySelector("[data-tcom-lego-search-page-content-list]"),y=t.querySelector("[data-tcom-lego-search-page-content-list-mobile]"),b=t.querySelector("[data-tcom-lego-search-page-auto-container]"),_=b.querySelector("[data-tcom-lego-search-page-other-suggestions]"),L=t.dataset.tcomLegoSearchPageAttrSearchDelay||"500",S=t.dataset.tcomLegoSearchPageAttrAutoCount||"6",w=t.dataset.tcomLegoSearchpageAttrShowMore||"Show me all results in",C=t.dataset.tcomLegoSearchPageAttrMinChar||"3",E=t.dataset.tcomLegoSearchPageAttrCatLevel||"h2",A=t.dataset.tcomLegoSearchPageAttrProdLevel||"h3",k=t.dataset.tcomLegoSearchPageAttrEngineType||"default",T=t.dataset.tcomLegoSearchPageAttrSearchEnv||"production",x=t.querySelector("[data-tcom-lego-search-page-media-release]"),j=t.querySelector("[data-tcom-lego-search-page-media-release-cta]"),O=t.querySelector("#tcom-search-media-release-from-year"),P=t.querySelector("#tcom-search-media-release-from-month"),M=t.querySelector("#tcom-search-media-release-to-year"),q=t.querySelector("#tcom-search-media-release-to-month");this.model={globalSearchContainer:t,inputField:u,searchAriaPolite:h,searchResultsContainer:n,choiceChipsContainer:o,contentGrid:f,contentList:v,contentListMobile:y,tabController:g,searchProductsContainer:a,searchGridContainer:i,searchListContainer:c,searchOtherCatContainer:s,searchFilterContainer:l,paginationContainer:d,loadingContainer:m,errorContainer:p,otherSuggestionsContainer:b,otherSuggestionsUl:_,settingsSearchDelay:Number(L)||500,settingsSearchAutoCount:Number(S)||6,settingsMinChar:Number(C)||3,settingsShowMore:w,settingsCatLevel:E,settingsProdLevel:A,settingsEngineType:k,settingsSearchEnv:T,tabControllerIsGrid:!0,pagination:1,mediaReleaseContainer:x,mediaReleaseCTA:j,mediaReleaseSelectFromMonth:P,mediaReleaseSelectToMonth:q,mediaReleaseSelectFromYear:O,mediaReleaseSelectToYear:M},this.handleAutoSearch(),this.setupEvents(),this.addButtonListener.bind(this),this.handlePaginationClick.bind(this)}return t=e,r=[{key:"setupEvents",value:function(){this.setupMediaRelease(),this.setupInput(),this.setupGridList(),this.handlePaginationClick(),this.handleShowMeMoreProducts()}},{key:"setupMediaRelease",value:function(){var e=this;if(this.model.mediaReleaseContainer&&this.model.mediaReleaseCTA&&this.model.mediaReleaseSelectFromMonth&&this.model.mediaReleaseSelectFromYear&&this.model.mediaReleaseSelectToMonth&&this.model.mediaReleaseSelectToYear){var t=this.model.mediaReleaseContainer.dataset.tcomLegoSearchPageMediaRelease||"2014";[this.model.mediaReleaseSelectFromYear,this.model.mediaReleaseSelectToYear].forEach((function(e){for(var r=(new Date).getFullYear(),n=Number(t);n<=r;n++){var o=document.createElement("option");o.value=n.toString(),o.textContent=n.toString(),n===r&&o.setAttribute("selected",""),e.appendChild(o)}})),this.model.mediaReleaseSelectToMonth.selectedIndex=(new Date).getMonth(),this.model.choiceChipsCategory=["Media releases"],this.model.mediaReleaseCTA.addEventListener("click",(function(){e.model.pagination=1,e.performShowMoreSearch({query:e.model.autoSearchQuery||e.model.inputField.value||"",dateFrom:e.getFromDate(),dateTo:e.getToDate(),fromPagination:!1,perpage:21})})),this.performShowMoreSearch({query:this.model.autoSearchQuery||this.model.inputField.value||"",dateFrom:this.getFromDate(),dateTo:this.getToDate(),fromPagination:!1,perpage:21})}}},{key:"getFromDate",value:function(){var e=this.model.mediaReleaseSelectFromMonth.selectedIndex,t=this.model.mediaReleaseSelectFromYear.selectedIndex;return"".concat(this.model.mediaReleaseSelectFromYear.options[t].value,"-").concat(this.model.mediaReleaseSelectFromMonth.options[e].value,"-01")}},{key:"getToDate",value:function(){var e=this.model.mediaReleaseSelectToMonth.options[this.model.mediaReleaseSelectToMonth.selectedIndex].value,t=this.model.mediaReleaseSelectToYear.options[this.model.mediaReleaseSelectToYear.selectedIndex].value;return"".concat(t,"-").concat(e,"-").concat(this.getLastDayOfMonth(t,e))}},{key:"getLastDayOfMonth",value:function(e,t){return new Date(Number(e),Number(t),0).getDate().toString()}},{key:"getMediaReleaseDateFormatted",value:function(e){return new Date(e).toLocaleDateString("en-AU",{day:"2-digit",month:"short",year:"2-digit"})}},{key:"showLoading",value:function(e){e?(this.model.loadingContainer.classList.remove("d-none"),this.model.searchResultsContainer.classList.add("tcom-lego-search-page__result__container--loading")):(this.model.loadingContainer.classList.add("d-none"),this.model.searchResultsContainer.classList.remove("tcom-lego-search-page__result__container--loading"))}},{key:"handleAutoSearch",value:function(){var t=new URLSearchParams(window.location.search),r=Array.from(t).some((function(t){return t[1]!==e.jsEscape(t[1])})),n=t.get("query"),o=t.get("area");if(n&&o&&!r){this.model.autoSearchArea=o.trim(),this.model.autoSearchQuery=n.trim(),this.model.inputField.value=n.trim();var a=this.model.globalSearchContainer.querySelector(".tcom-lego-search-page__input__icon--search"),i=this.model.globalSearchContainer.querySelector(".tcom-lego-search-page__input__icon--close");a.classList.add("d-none"),i.classList.remove("d-none"),this.performSearch({query:this.model.autoSearchQuery,consumerType:this.model.autoSearchArea||this.model.settingsEngineType,perpage:21})}}},{key:"performSearch",value:(a=rn(en().mark((function e(t){var r,n=this;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading(!0),r={engineType:this.model.autoSearchArea||this.model.settingsEngineType,searchEnv:this.model.settingsSearchEnv},e.prev=2,e.next=5,Promise.all([Oe(t,r).then((function(e){e.records.page.length?(n.model.errorContainer.classList.add("d-none"),n.displayChoiceChips(e.records.page),n.displayRecommendations({recommendations:e.records.page,pagination:!0,fromPagination:t.fromPagination}),n.handleResultClickDigitalData(),n.handlePageLoadDigitalData(e,t.category),n.handlePagination(e.info.page.total_result_count)):(n.handlePagination(0),n.model.searchOtherCatContainer.innerHTML="",n.model.errorContainer.classList.remove("d-none"),n.model.choiceChipsContainer.classList.add("d-none"),n.model.searchProductsContainer.classList.add("d-none"))})),je(t.query,r).then((function(e){e.length&&n.displayOtherSuggestions(e)}))]);case 5:return e.prev=5,this.model.pagination=1,this.showLoading(!1),this.handleOtherSearchFilter(),this.model.searchResultsContainer.classList.remove("d-none"),this.model.globalSearchContainer.querySelector("[data-tcom-lego-search-page-auto-list]").classList.add("d-none"),this.handleShowMoreButton(),e.finish(5);case 14:case"end":return e.stop()}}),e,this,[[2,,5,14]])}))),function(e){return a.apply(this,arguments)})},{key:"performShowMoreSearch",value:(o=rn(en().mark((function e(t){var r,n,o;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.showLoading(!0),r={engineType:this.model.autoSearchArea||this.model.settingsEngineType,searchEnv:this.model.settingsSearchEnv},e.prev=2,e.next=5,Oe(t,r);case 5:(n=e.sent).records.page.length?(this.model.errorContainer.classList.add("d-none"),this.model.otherSuggestionsContainer.classList.add("d-none"),"Products"===t.category?(this.handleDisplayProducts({recommendations:n.records.page,pagination:!0,fromPagination:t.fromPagination}),this.model.searchProductsContainer.classList.remove("d-none"),this.model.searchOtherCatContainer.classList.add("d-none"),this.model.searchOtherCatContainer.innerHTML=""):t.category?(o=Xr(n.records.page,{category:t.category}),this.model.searchGridContainer.innerHTML="",this.model.searchListContainer.innerHTML="",this.model.searchProductsContainer.classList.add("d-none"),this.model.searchOtherCatContainer.classList.remove("d-none"),this.handleDisplayOtherCats({categoryArray:o,fromPagination:t.fromPagination})):this.displayRecommendations({recommendations:n.records.page,pagination:!0,fromPagination:t.fromPagination}),this.handlePageLoadDigitalData(n,t.category),this.handleResultClickDigitalData(),this.handlePagination(n.info.page.total_result_count),"media-release"===this.model.settingsEngineType&&this.model.searchResultsContainer.classList.remove("d-none")):(this.handlePagination(0),this.model.searchOtherCatContainer.innerHTML="",this.model.errorContainer.classList.remove("d-none"),this.model.choiceChipsContainer.classList.add("d-none"),this.model.searchProductsContainer.classList.add("d-none"));case 7:return e.prev=7,this.showLoading(!1),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[2,,7,10]])}))),function(e){return o.apply(this,arguments)})},{key:"handleOtherSearchFilter",value:function(){var e,t=this,r=null===(e=this.model.searchFilterContainer)||void 0===e?void 0:e.dataset.tcomLegoSearchPageAttrOtherFilter;if(r){this.model.searchFilterContainer.classList.remove("d-none");var n=function(e,r,n,o){var a,i=t.model.inputField.value.replace(/(!|@|>|<|"|'|#|\$|%|\^|&|\*)/gm,"")||(null===(a=t.model.autoSearchQuery)||void 0===a?void 0:a.replace(/(!|@|>|<|"|'|#|\$|%|\^|&|\*)/gm,""));if(t.model.searchFilterContainer.innerHTML="\n      ".concat(o.trim(),' <a href="').concat(r[0].trim().replace("/content/tcom",""),"?query=").concat(i,"&area=").concat(n[0],'">').concat(e[0],"</a>"),e[1]){var c="?query=".concat(i,"&area=").concat(n[1]);t.model.searchFilterContainer.innerHTML="".concat(t.model.searchFilterContainer.innerHTML,' or <a href="').concat(r[1].trim().replace("/content/tcom","")).concat(c,'">').concat(e[1],"</a>")}};try{var o=JSON.parse(r),a=this.model.autoSearchArea||o.current,i=""!==o.enterprise;switch(a){case"personal":n(i?["Business","Enterprise"]:["Business"],i?[o.business,o.enterprise]:[o.business],i?["small-business","enterprise"]:["small-business"],o.label);break;case"small-business":n(i?["Personal","Enterprise"]:["Personal"],i?[o.personal,o.enterprise]:[o.personal],i?["personal","enterprise"]:["personal"],o.label);break;case"enterprise":n(["Personal","Business"],[o.personal,o.business],["personal","small-business"],o.label);break;default:this.model.searchFilterContainer.classList.add("d-none")}}catch(e){}}else{var c;null===(c=this.model.searchFilterContainer)||void 0===c||c.classList.add("d-none")}}},{key:"handlePagination",value:function(e){var t=this.model.paginationContainer.querySelectorAll("[data-tcom-lego-search-pagination]"),r=[];t.forEach((function(e){var t=e.dataset.tcomLegoSearchPagination||"";r.push({element:e,page:Number(t)||t})})),r.forEach((function(e){e.element.classList.remove("tcom-lego-search-page__pagination__button--selected"),e.element.classList.remove("tcom-lego-search-page__pagination__chevron--hidden"),e.element.classList.remove("d-none"),e.element.removeAttribute("tabindex"),e.element.removeAttribute("aria-current"),e.element.removeAttribute("aria-disabled"),e.element.removeAttribute("aria-hidden")}));var n=Yr(r,{page:"next"}),o=Yr(r,{page:"prev"}),a=Yr(r,{page:this.model.pagination}),i=Yr(r,{page:3});a&&(a.element.classList.add("tcom-lego-search-page__pagination__button--selected"),a.element.setAttribute("aria-current","page"),a.element.setAttribute("aria-disabled","true")),1===this.model.pagination&&o&&(o.element.classList.add("tcom-lego-search-page__pagination__chevron--hidden"),o.element.setAttribute("tabindex","-1"),o.element.setAttribute("aria-hidden","true")),3===this.model.pagination&&n&&(n.element.classList.add("tcom-lego-search-page__pagination__chevron--hidden"),n.element.setAttribute("tabindex","-1"),n.element.setAttribute("aria-hidden","true")),e<22?this.model.paginationContainer.classList.add("d-none"):e<43&&(i.element.classList.add("d-none"),2===this.model.pagination&&(n.element.classList.add("tcom-lego-search-page__pagination__chevron--hidden"),n.element.setAttribute("tabindex","-1"),n.element.setAttribute("aria-hidden","true")))}},{key:"handlePaginationClick",value:function(){var e=this;this.model.paginationContainer.querySelectorAll("[data-tcom-lego-search-pagination]").forEach((function(t){t.addEventListener("click",(function(){var r=t.dataset.tcomLegoSearchPagination;r==="".concat(e.model.pagination)||"prev"===r&&1===e.model.pagination||"next"===r&&3===e.model.pagination||("prev"===r?e.model.pagination-=1:"next"===r?e.model.pagination+=1:e.model.pagination=Number(r)||1,"media-release"===e.model.settingsEngineType?e.performShowMoreSearch({query:e.model.autoSearchQuery||e.model.inputField.value,pagination:e.model.pagination,dateFrom:e.getFromDate(),dateTo:e.getToDate(),perpage:21,fromPagination:!0}):e.performShowMoreSearch({query:e.model.autoSearchQuery||e.model.inputField.value,pagination:e.model.pagination,consumerType:e.model.autoSearchArea||e.model.settingsEngineType,category:e.model.category,perpage:21,fromPagination:!0}),e.model.searchResultsContainer.scrollIntoView())}))}))}},{key:"handleShowMeMoreProducts",value:function(){var e=this;this.model.searchProductsContainer.querySelector("[data-tcom-lego-search-page-show-more-button]").addEventListener("click",(function(t){e.performShowMoreSearch({query:e.model.autoSearchQuery||e.model.inputField.value,category:"Products",consumerType:e.model.autoSearchArea||e.model.settingsEngineType,perpage:21}),e.model.category="Products",e.model.choiceChipsContainer.querySelectorAll("[data-tcom-lego-search-page-show-more-button]").forEach((function(e){e.classList.remove("tcom-lego-search-page__cchips--active"),e.removeAttribute("aria-current"),e.hasAttribute("data-tcom-lego-search-page-cchips")&&"Products"===e.dataset.tcomLegoSearchPageShowMoreButton&&(e.classList.add("tcom-lego-search-page__cchips--active"),e.setAttribute("aria-current","true"))})),e.handleShowMoreDigitalData(t)}))}},{key:"handleShowMoreButton",value:function(){var e=this,t=this.model.searchResultsContainer.querySelectorAll("[data-tcom-lego-search-page-show-more-button]");t.forEach((function(r){("Products"!==r.getAttribute("data-tcom-lego-search-page-show-more-button")||r.hasAttribute("data-tcom-lego-search-page-cchips"))&&r.addEventListener("click",(function(r){e.addButtonListener(r,t),e.handleShowMoreDigitalData(r)}))}))}},{key:"addButtonListener",value:function(e,t){var r=e.target;if(!r.classList.contains("tcom-lego-search-page__cchips--active")){var n=r.dataset.tcomLegoSearchPageShowMoreButton;t.forEach((function(e){e.classList.remove("tcom-lego-search-page__cchips--active"),e.removeAttribute("aria-current"),e.hasAttribute("data-tcom-lego-search-page-cchips")&&e.dataset.tcomLegoSearchPageShowMoreButton===n&&(e.classList.add("tcom-lego-search-page__cchips--active"),e.setAttribute("aria-current","true"))})),"all"===n?(this.performSearch({query:this.model.autoSearchQuery||this.model.inputField.value,consumerType:this.model.autoSearchArea||this.model.settingsEngineType,perpage:21}),this.model.category=void 0):"media-release"===this.model.settingsEngineType?(this.performShowMoreSearch({query:this.model.autoSearchQuery||this.model.inputField.value,dateFrom:this.getFromDate(),dateTo:this.getToDate(),perpage:21}),this.model.category=n):(this.performShowMoreSearch({query:this.model.autoSearchQuery||this.model.inputField.value,consumerType:this.model.autoSearchArea||this.model.settingsEngineType,category:n,perpage:21}),this.model.category=n),this.model.pagination=1}}},{key:"displayChoiceChips",value:function(t){var r=this,n=[];if(Yr(t,{category:"Products"})&&n.push("Products"),t.forEach((function(e){e.category&&"Products"!==e.category&&n.push(e.category)})),n=Lt(n),this.model.choiceChipsContainer.innerHTML="",this.model.choiceChipsCategory=n,!n.length||1===n.length)return this.model.choiceChipsContainer.innerHTML="",void this.model.choiceChipsContainer.classList.add("d-none");var o=document.createElement("li"),a=document.createElement("button");a.className="tcom-lego-search-page__font--label tcom-lego-search-page__cchips tcom-lego-search-page__cchips--active",a.type="button",a.innerText=e.ALL_RESULTS_HEADING,a.setAttribute("data-tcom-lego-search-page-show-more-button","all"),a.setAttribute("aria-current","true"),a.setAttribute("data-tcom-lego-search-page-cchips",""),o.appendChild(a),this.model.choiceChipsContainer.appendChild(o),n.forEach((function(e){var t=document.createElement("li"),n=document.createElement("button");n.type="button",n.innerText=e,n.setAttribute("data-tcom-lego-search-page-show-more-button",e),n.setAttribute("data-tcom-lego-search-page-cchips",""),n.className="tcom-lego-search-page__font--label tcom-lego-search-page__cchips",t.appendChild(n),r.model.choiceChipsContainer.appendChild(t)})),this.model.choiceChipsContainer.classList.remove("d-none")}},{key:"displayRecommendations",value:function(t){if(this.model.searchGridContainer.innerHTML="",this.model.searchListContainer.innerHTML="",this.model.searchOtherCatContainer.innerHTML="",this.model.contentListMobile.innerHTML="",this.model.tabController.classList.add("d-none"),this.model.searchProductsContainer.classList.add("d-none"),this.model.searchOtherCatContainer.classList.remove("d-none"),t.recommendations.length){var r=this.generateCategoryDiv(!!t.fromPagination,e.ALL_RESULTS_HEADING);r.appendChild(this.generateListDiv(t.recommendations)),t.pagination?this.model.paginationContainer.classList.remove("d-none"):this.model.paginationContainer.classList.add("d-none"),this.model.searchOtherCatContainer.appendChild(r)}this.model.searchOtherCatContainer.classList.remove("d-none");var n=this.model.searchOtherCatContainer.querySelector(".tcom-lego-search-page__font--headingb");null==n||n.focus()}},{key:"handleDisplayOtherCats",value:function(e){if(this.model.searchOtherCatContainer.innerHTML="",e.categoryArray.length&&e.categoryArray[0].category){var t=this.generateCategoryDiv(!!e.fromPagination,e.categoryArray[0].category);t.appendChild(this.generateListDiv(e.categoryArray)),this.model.paginationContainer.classList.remove("d-none"),this.model.searchOtherCatContainer.appendChild(t)}this.model.searchOtherCatContainer.classList.remove("d-none");var r=this.model.searchOtherCatContainer.querySelector(".tcom-lego-search-page__font--headingb");null==r||r.focus()}},{key:"addRecommendation",value:function(e,t){var r,n,o,a,i,c=document.createElement("li");c.className=0===t?"tcom-lego-search-page__surface":"tcom-lego-search-page__grid tcom-able__corner-radius--soft","special offer"===(null===(r=e.info)||void 0===r?void 0:r.toLowerCase())&&0!==t&&c.classList.add("tcom-lego-search-page__grid--offer");var s=ot.a.capitalize((null===(n=e.highlight)||void 0===n?void 0:n.description)||(null===(o=e.highlight)||void 0===o?void 0:o.body)||e.description||e.body),l=0===t&&1===this.model.pagination?'<span class="tcom-lego-search-page__lozenge--featured tcom-lego-search-page__spacing--half"><span aria-hidden="true">Top result</span> </span>':"",u="special offer"===(null===(a=e.info)||void 0===a?void 0:a.toLowerCase())?'<span class="tcom-lego-search-page__lozenge--featured tcom-lego-search-page__spacing--half"><span aria-hidden="true">Special offer</span> </span>':"";c.innerHTML="\n    ".concat(l,"\n    ").concat(u,'\n    <img aria-hidden="true" src="').concat(e.image&&e.image.includes("http")?e.image:"/etc/designs/tcom-aem-search-lego/assets/no-product-available.svg",'" class="tcom-lego-search-page__grid__image" />\n    <').concat(this.model.settingsProdLevel,' class="tcom-lego-search-page__font--headingd tcom-lego-search-page__spacing--half"><a href="').concat(e.url,'" class="tcom-lego-search-page__grid__link" data-tcom-lego-search-page-results-url="').concat(e.category,'">\n    ').concat(0===t&&1===this.model.pagination?'<span class="sr-only">Top result</span>':"","\n    ").concat("special offer"===(null===(i=e.info)||void 0===i?void 0:i.toLowerCase())?'<span class="sr-only">Special offer</span>':"","\n    ").concat(e.title,"</a></").concat(this.model.settingsProdLevel,">\n    ").concat(e.date_published?'<div class="tcom-able__text-fine-print">'.concat(this.getMediaReleaseDateFormatted(e.date_published),"</div>"):"",'\n    <p class="tcom-lego-search-page__font--base tcom-lego-search-page__font--cutoff">').concat(s).concat(s.length>=100?"...":"","</p>\n    "),this.model.contentGrid.appendChild(c);var d=document.createElement("li");d.className=0===t?"tcom-lego-search-page__surface":"tcom-lego-search-page__list",1===e._score&&d.classList.add("tcom-lego-search-page__list--highlighted"),d.innerHTML=this.generateList(e,t,!0),this.model.contentList.appendChild(d.cloneNode(!0)),this.model.contentListMobile.appendChild(d.cloneNode(!0))}},{key:"handleDisplayProducts",value:function(e){var t=this;this.model.tabController.classList.remove("d-none"),this.model.contentGrid.innerHTML="",this.model.contentList.innerHTML="",this.model.contentListMobile.innerHTML="";var r=this.model.searchProductsContainer.querySelector(".tcom-lego-search-page__showmore__buttton");e.pagination?(r.classList.add("d-none"),this.model.paginationContainer.classList.remove("d-none")):(r.classList.remove("d-none"),this.model.paginationContainer.classList.add("d-none")),e.recommendations.forEach((function(e,r){t.addRecommendation(e,r)})),this.model.searchProductsContainer.classList.remove("d-none");var n=this.model.searchProductsContainer.querySelector(".tcom-lego-search-page__font--headingb");if(!e.fromPagination&&e.pagination&&1===this.model.pagination||e.fromPagination)n.innerHTML='Products<span class="sr-only">Page '.concat(this.model.pagination,"</span>");else{var o=null==n?void 0:n.querySelector("span");o&&n.removeChild(o)}null==n||n.focus()}},{key:"generateList",value:function(e,t,r){var n,o,a,i,c,s,l=ot.a.capitalize((null===(n=e.highlight)||void 0===n?void 0:n.description)||(null===(o=e.highlight)||void 0===o?void 0:o.body)||e.description||e.body),u=0===t&&1===this.model.pagination&&"media-release"!==this.model.settingsEngineType?'<span class="tcom-lego-search-page__lozenge--featured tcom-lego-search-page__spacing--16"><span aria-hidden="true">Top result</span> </span>':"",d="special offer"===(null===(a=e.info)||void 0===a?void 0:a.toLowerCase())?'<span class="tcom-lego-search-page__lozenge--featured tcom-lego-search-page__spacing--16"><span aria-hidden="true">Special offer</span> </span>':"";return"\n    ".concat(u,"\n    ").concat(d,'\n    <div class="tcom-lego-search-page__list__content">\n      ').concat((s=e.image,s?s.includes("http")?'<img aria-hidden="true" src="'.concat(s,'" class="tcom-lego-search-page__list__image" />'):'<svg class="able-icon tcom-icon-32 tcom-lego-search-page__list__svg" aria-hidden="true" focusable="false">\n  <use href="/content/dam/tcom/able/able-sprites.svg?v18#'.concat(s,'" />\n</svg>'):'<img aria-hidden="true" src="/etc/designs/tcom-aem-search-lego/assets/no-product-available.svg" class="tcom-lego-search-page__list__image">'),"\n      <div>\n        <").concat(this.model.settingsProdLevel,' class="tcom-lego-search-page__spacing--nomargin tcom-lego-search-page__spacing--half tcom-lego-search__inline-link').concat(r?" tcom-lego-search-page__spacing--top8":"",'">\n        <a data-tcom-lego-search-page-results-url="').concat(e.category,'" href="').concat(e.url,'" class="tcom-able__text-base-big">\n        ').concat(0===t&&1===this.model.pagination?'<span class="sr-only">Top result</span>':"","\n        ").concat("special offer"===(null===(i=e.info)||void 0===i?void 0:i.toLowerCase())?'<span class="sr-only">Special offer</span>':"","\n    ").concat((null===(c=e.highlight)||void 0===c?void 0:c.title)||e.title,"</a></").concat(this.model.settingsProdLevel,">\n    ").concat(e.date_published?'<div class="tcom-able__text-fine-print">'.concat(this.getMediaReleaseDateFormatted(e.date_published),"</div>"):"",'\n        <p class="tcom-lego-search-page__font--base tcom-lego-search-page__font--cutoff">').concat(l).concat(l.length>=100?"...":"","</p>\n      </div>\n    </div>\n    ")}},{key:"displayOtherSuggestions",value:function(e){var t=this;"media-release"!==this.model.settingsEngineType&&(this.model.otherSuggestionsUl.innerHTML="",e.forEach((function(e,r){if(e&&e.keyword&&e.keyword.raw&&r<t.model.settingsSearchAutoCount){var n=document.createElement("li");n.innerHTML=function(e){var r,n;return'\n        <div class="tcom-lego-search-page__auto__result">\n          <svg class="able-icon tcom-icon-24 tcom-lego-search-page__auto__icon" aria-hidden="true" focusable="false">\n            <use href="/content/dam/tcom/able/able-sprites.svg?v18#Search"></use>\n          </svg>\n          <a class="tcom-lego-search-page__auto__anchor" target="_self"\n            href="https://www.telstra.com.au/search?query='.concat(null===(r=e.keyword)||void 0===r?void 0:r.raw,"&area=").concat(t.model.autoSearchArea||"personal",'">\n            <strong>').concat(null===(n=e.keyword)||void 0===n?void 0:n.raw,"</strong>\n          </a>\n        </div>\n      ")}(e),n.className="tcom-lego-search-page__auto__li",t.model.otherSuggestionsUl.appendChild(n)}})),this.model.otherSuggestionsContainer.classList.remove("d-none"))}},{key:"setupGridList",value:function(){var e=this,t=this.model.globalSearchContainer.querySelector("#tcom-lego-search-tab-1"),r=this.model.globalSearchContainer.querySelector("#tcom-lego-search-tab-2");t&&r&&([t,r].forEach((function(n){n.addEventListener("click",(function(){e.handleGridList(t,r,n===t)}))})),[t,r].forEach((function(n){n.addEventListener("keyup",(function(o){"ArrowRight"!==o.key&&"ArrowLeft"!==o.key||e.handleGridList(t,r,n!==t)}))})))}},{key:"handleGridList",value:function(e,t,r){r?(this.model.contentGrid.classList.remove("d-none"),this.model.contentList.classList.add("d-none"),e.classList.add("tcom-lego-search-page-tabs__tab--selected"),t.classList.remove("tcom-lego-search-page-tabs__tab--selected"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),t.setAttribute("aria-selected","false"),t.removeAttribute("tabindex"),e.focus(),this.model.tabControllerIsGrid=!0):(this.model.contentList.classList.remove("d-none"),this.model.contentGrid.classList.add("d-none"),t.classList.add("tcom-lego-search-page-tabs__tab--selected"),e.classList.remove("tcom-lego-search-page-tabs__tab--selected"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),e.setAttribute("aria-selected","false"),e.removeAttribute("tabindex"),t.focus(),this.model.tabControllerIsGrid=!1)}},{key:"setupInput",value:function(){var e,t=this,r=this.model.globalSearchContainer.querySelector("[data-tcom-lego-search-page-auto-list]"),n=We((function(){e&&"media-release"!==t.model.settingsEngineType&&t.autoCompleteEvent(e,r)}),this.model.settingsSearchDelay,{leading:!0,maxWait:this.model.settingsSearchDelay}),o=this.model.inputField,a=this.model.globalSearchContainer.querySelector(".tcom-lego-search-page__input__icon--search"),i=this.model.globalSearchContainer.querySelector(".tcom-lego-search-page__input__icon--close");function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(i.classList.add("d-none"),a.classList.remove("d-none"),o.focus()):(i.classList.remove("d-none"),a.classList.add("d-none")),o.value=t?"":o.value,o.setAttribute("aria-expanded","false"),o.removeAttribute("aria-activedescendant"),o.removeAttribute("readonly"),r.classList.add("d-none"),e.updateScreenReaderContainer("")}o.addEventListener("keyup",(function(c){""===o.value?(i.classList.add("d-none"),a.classList.remove("d-none")):(i.classList.remove("d-none"),a.classList.add("d-none")),e=c,"ArrowDown"!==c.key&&"ArrowUp"!==c.key&&"Enter"!==c.key||"media-release"===t.model.settingsEngineType?t.model.loadingContainer.classList.contains("d-none")&&n():t.autoCompleteEvent(e,r)})),i.addEventListener("click",(function(){c(t,!0)})),window.addEventListener("click",(function(e){"http://example.org"===e.origin&&e.target!==t.model.inputField&&(e.target.classList.contains("tcom-lego-search-page__input")||r.classList.contains("d-none")||c(t))}),!1)}},{key:"autoCompleteEvent",value:function(e,t){var r=this,n=e.currentTarget,o=t,a=o.querySelectorAll(".tcom-lego-search-page__autocomplete__suggestions");if(["Escape","Tab","ArrowLeft","ArrowRight"].includes(e.key))return o.innerHTML="",n.removeAttribute("aria-activedescendant"),o.removeAttribute("data-current-selected-index"),n.setAttribute("aria-expanded","false"),void this.updateScreenReaderContainer("");var i=function(e){o.innerHTML="",r.model.autoSearchQuery=e||n.value||r.model.inputField.value,r.model.autoSearchQuery=r.model.autoSearchQuery.replace(/(!|@|#|\$|%|\^|&|\*)/gm,""),"media-release"===r.model.settingsEngineType?r.performSearch({query:r.model.autoSearchArea||"",dateFrom:r.getFromDate(),dateTo:r.getToDate()}):r.performSearch({query:r.model.autoSearchQuery,consumerType:r.model.autoSearchArea||r.model.settingsEngineType,perpage:21})},c=function(e){var t,r=e.currentTarget;n.value=r.innerHTML,(t=o.querySelector(".tcom-lego-search-page__autocomplete__suggestions--active"))&&(t.classList.remove("tcom-lego-search-page__autocomplete__suggestions--active"),o.dataset.currentSelectedIndex="-1")};if("Enter"!==e.key){if(o.removeAttribute("tabindex"),"ArrowDown"===e.key&&a.length){o.dataset.currentSelectedIndex=o.dataset.currentSelectedIndex||"-1";var s=parseInt(o.dataset.currentSelectedIndex,10);return s<a.length-1?(s>=0&&(a[s].classList.remove("tcom-lego-search-page__autocomplete__suggestions--active"),a[s].removeAttribute("aria-selected")),s+1<a.length-1?(o.dataset.currentSelectedIndex=(s+1).toString(),s+=1):(o.dataset.currentSelectedIndex=(a.length-1).toString(),s=a.length-1)):(a[s].classList.remove("tcom-lego-search-page__autocomplete__suggestions--active"),a[s].removeAttribute("aria-selected"),o.dataset.currentSelectedIndex=(0).toString(),s=0),a[s].classList.add("tcom-lego-search-page__autocomplete__suggestions--active"),a[s].setAttribute("aria-selected","true"),n.value=a[s].innerHTML,a[s].focus(),void n.setAttribute("aria-activedescendant",a[s].id)}if("ArrowUp"===e.key&&a.length){o.dataset.currentSelectedIndex=o.dataset.currentSelectedIndex||"-1";var l=parseInt(o.dataset.currentSelectedIndex,10);l<=a.length-1&&(l>=0&&(a[l].classList.remove("tcom-lego-search-page__autocomplete__suggestions--active"),a[l].removeAttribute("aria-selected")),l-1>=0?(o.dataset.currentSelectedIndex=(l-1).toString(),l-=1):(l=a.length-1,o.dataset.currentSelectedIndex=l.toString()),a[l].classList.add("tcom-lego-search-page__autocomplete__suggestions--active"),a[l].setAttribute("aria-selected","true"),n.value=a[l].innerHTML,n.setAttribute("aria-activedescendant",a[l].id),a[l].focus())}else if(!n||!n.value||n.value.length<this.model.settingsMinChar||n.value.length<2)o.innerHTML="";else{var u={engineType:this.model.settingsEngineType,searchEnv:this.model.settingsSearchEnv};je(n.value,u).then((function(e){e.length&&(o.innerHTML="",n.setAttribute("aria-expanded","true"),e.forEach((function(e,t){if(e.keyword&&e.keyword.raw&&t<r.model.settingsSearchAutoCount){var n=document.createElement("li");n.innerHTML=e.keyword.raw,o.appendChild(n),n.className="tcom-lego-search-page__autocomplete__suggestions",n.setAttribute("id","lego-search-page-search-autocomplete-".concat(t)),n.setAttribute("role","option"),n.addEventListener("click",(function(){var t;i(null===(t=e.keyword)||void 0===t?void 0:t.raw)})),n.addEventListener("mousemove",c)}})),o.classList.remove("d-none"),r.updateScreenReaderContainer("".concat(r.model.settingsSearchAutoCount||e.length," results found")))}))}}else{var d=o.querySelector(".tcom-lego-search-page__autocomplete__suggestions--active");if(n&&n.focus(),!n||!n.value||""===n.value)return;var h=d?d.innerText:n.value;if(""===h.replace(/(!|@|#|\$|%|\^|&|\*)/gm,""))return;i(h)}}},{key:"updateScreenReaderContainer",value:function(e){this.model.searchAriaPolite.innerHTML=e}},{key:"handleShowMoreDigitalData",value:function(e){var t=e.target;t&&t.hasAttribute("data-tcom-lego-search-page-show-more-button")&&(De(qe.searchInternal),t.hasAttribute("data-tcom-lego-search-page-cchips")?De(qe.searchChoiceChipFilter,t.innerText):De(qe.searchShowMore,t.innerText))}},{key:"handlePageLoadDigitalData",value:function(e,t){var r={};r.query=this.model.inputField.value||this.model.autoSearchQuery||"",r.area=this.model.autoSearchArea||this.model.settingsEngineType,r.filter=t||"all",r.resultCount=e.record_count,r.item=[],e.records.page.forEach((function(e){var t;null===(t=r.item)||void 0===t||t.push({destination:e.url,imageName:e.image,title:e.title,description:e.description})})),De(qe.searchPageLoad,r)}},{key:"handleResultClickDigitalData",value:function(){this.model.searchResultsContainer.querySelectorAll("[data-tcom-lego-search-page-results-url]").forEach((function(e){var t,r,n={eventCategory:e.dataset.tcomLegoSearchPageResultsUrl||"",eventName:(null===(t=e.innerText)||void 0===t?void 0:t.trim())||(null===(r=e.textContent)||void 0===r?void 0:r.trim())};e.addEventListener("click",(function(t){t.preventDefault(),De(qe.searchClick,n),window.location.href=e.href})),e.addEventListener("keyup",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),De(qe.searchClick,n),window.location.href=e.href)}))}))}}],n=[{key:"init",value:function(){var t=document.querySelector("[data-tcom-lego-search-page]");t&&(e.instance=new e(t))}},{key:"jsEscape",value:function(e){return String(e).replace(/[^\w. -]/gi,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}}],r&&nn(t.prototype,r),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n,o,a}();function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ln=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new x(n||[]);return o(i,"_invoke",{value:E(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",m="executing",p="completed",f={};function g(){}function v(){}function y(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,L=_&&_(_(j([])));L&&L!==r&&n.call(L,i)&&(b=L);var S=y.prototype=g.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==sn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function E(t,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=A(c,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?p:"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=p,n.method="throw",n.arg=l.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,f;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(sn(t)+" is not iterable")}return v.prototype=y,o(S,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},w(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(S),l(S,s,"Generator"),l(S,i,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}function un(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function dn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){un(a,n,o,i,c,"next",e)}function c(e){un(a,n,o,i,c,"throw",e)}i(void 0)}))}}on(cn,"instance",void 0),on(cn,"ALL_RESULTS_HEADING","All results");var hn=function(){var e=document.querySelector("[data-tcom-support-search-wrapper]"),t=document.querySelector("[data-tcom-support-search-icon]"),r=document.querySelector("[data-tcom-support-close-icon]"),n=document.querySelector("[data-tcom-search-background]");if(n){var o=n.querySelector("[data-tcom-support-search-suggestions]"),a=n.querySelector("[data-tcom-support-search-page-aria-polite]"),i=n.querySelector("[data-tcom-support-search-auto-complete-area]"),c=n.querySelector("[data-tcom-support-search-recommendations-area]"),s=n.querySelector("[data-tcom-support-search-no-results]"),l=n.querySelector("[data-tcom-support-search-input]"),u=n.querySelector("[data-tcom-support-search-pasted-value]"),d=document.querySelector(".tcom-lego-supportSearch__page-overlay");if(l&&o&&e){var h=n.dataset.tcomSupportSearchAttrSearchPage,m={variation:n.dataset.tcomSearchVariation||"wide",settingsMinChar:4,settingsAutoCompleteCount:5,settingsRecommendationCount:3,settingsTitleCutoff:60,settingsDescriptionCutoff:150,settingsSearchDelay:500,settingsSearchRedirect:h?h.replace("/content/tcom",""):"https://www.telstra.com.au/support/search"},p=function(e){l.value="",f(),e&&l.focus()},f=function(){""===l.value?function(){(t.classList.remove("d-none"),r.classList.add("d-none"),a.classList.add("d-none"),null==d||d.classList.add("d-none"),null==d||d.removeEventListener("click",(function(){p(!1)})),o.classList.add("d-none"),n.classList.remove("tcom-supportHeader__search-modal-background--visible"),e.classList.contains("tcom-supportHeader__search-wrapper--article"))&&(e.classList.remove("tcom-supportHeader__search-wrapper-article--expanded"),document.querySelector("[data-tcom-support-article-header]").classList.remove("tcom-supportHeader__article-text-block--expanded"));e.classList.contains("tcom-supportHeader__search-wrapper--category")&&(e.classList.remove("tcom-supportHeader__search-wrapper-category--expanded"),document.querySelector(".tcom-supportHeader__category-text-block").classList.remove("tcom-supportHeader__category-text-block--expanded"))}():function(){(t.classList.add("d-none"),r.classList.remove("d-none"),null==d||d.classList.remove("d-none"),null==d||d.addEventListener("click",(function(){p(!1)})),"slim"===m.variation&&n.classList.remove("tcom-supportHeader__search-modal-background--loading"),o.classList.remove("d-none"),n.classList.add("tcom-supportHeader__search-modal-background--visible"),e.classList.contains("tcom-supportHeader__search-wrapper--article"))&&(e.classList.add("tcom-supportHeader__search-wrapper-article--expanded"),document.querySelector("[data-tcom-support-article-header]").classList.add("tcom-supportHeader__article-text-block--expanded"));e.classList.contains("tcom-supportHeader__search-wrapper--category")&&(e.classList.add("tcom-supportHeader__search-wrapper-category--expanded"),document.querySelector(".tcom-supportHeader__category-text-block").classList.add("tcom-supportHeader__category-text-block--expanded"))}()};r.addEventListener("click",(function(){p(!0)})),l.addEventListener("input",f);var g=function(){o.classList.remove("d-none"),i.classList.add("d-none"),s.classList.remove("d-none"),a.classList.remove("d-none"),a.innerHTML="No results found"},v=function(){return document.querySelector("[data-tcom-search-background]").querySelector("[data-tcom-support-search-input]")},y=function(e,t){var r=function(e,t){return'\n      <div class="tcom-lego-search__autocomplete__result">\n        <svg class="able-icon tcom-icon-24 tcom-lego-search__autocomplete__icon tcom-supportHeader__autocomplete__icon" aria-hidden="true" focusable="false">\n          <use href="/content/dam/tcom/able/able-sprites.svg?v18#Search" />\n        </svg>\n        <a class="tcom-lego-search__autocomplete__anchor" target="_self" href="'.concat(m.settingsSearchRedirect,"?query=").concat(e,'&area=support">\n          ').concat(t,"\n        </a>\n      </div>\n      ")};""!==(l=v()).value&&(l.ariaExpanded="true",i.innerHTML="",e.forEach((function(e,n){if(e.keyword&&e.keyword.raw&&n<m.settingsAutoCompleteCount){var o=document.createElement("li");o.innerHTML=function(e){var n=e.toUpperCase(),o=t.toUpperCase(),a=n.indexOf(o);if(!o||-1===a)return r(e,e);var i=o.length,c="".concat(e.substr(0,a),"<strong>").concat(e.substr(a,i),"</strong>").concat(e.substr(a+i));return r(e,c)}(e.keyword.raw),i.appendChild(o),o.className="tcom-lego-search__autocomplete__li tcom-lego-search__autocomplete__listitem",o.setAttribute("id","tcom-search-auto-complete-".concat(n))}})),s.classList.add("d-none"),o.classList.remove("d-none"),i.classList.remove("d-none"),a.innerHTML="".concat(m.settingsRecommendationCount||e.length," results found"))},b=function(e){if(e.records.page.length){var t=c.querySelector("ul");t.innerHTML="",e.records.page.forEach((function(e,r){if(r<m.settingsRecommendationCount){var n,o=document.createElement("li");o.className="tcom-supportHeader__search-modal-listitem tcom-lego-search__recommendation__label",o.innerHTML=(a=(null===(n=e.highlight)||void 0===n?void 0:n.title)||e.title||"",i=e.url||"#",'\n        <div class="tcom-lego-search__inline-link tcom-lego-search__spacing--half">\n          <a href="'.concat(i,'">').concat(a,"</a>\n        </div>\n      ")),o.setAttribute("id","tcom-search-recommendation-".concat(r)),t.appendChild(o)}var a,i})),c.classList.remove("d-none");var r=t.querySelectorAll("a");l=v(),r.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),De(qe.searchTakeMeTo,{eventCategory:l.value||"",eventName:e.innerText||""}),window.location.href=e.href})),e.addEventListener("keyup",(function(t){t.preventDefault(),"Enter"!==t.key&&" "!==t.key||(De(qe.searchTakeMeTo,{eventCategory:l.value||"",eventName:e.innerText||""}),window.location.href=e.href)}))}))}},_=We((function(){!function(e){L.apply(this,arguments)}(l.value)}),m.settingsSearchDelay,{leading:!0,maxWait:m.settingsSearchDelay});l.addEventListener("keyup",(function(e){if(!(e.shiftKey||"Control"===e.key||"Meta"===e.key||"Backspace"===e.key||l.value.length<m.settingsMinChar)){var t=l.value.replace(/(!|@|#|\$|%|\^|&|\*)/gm,"");"Enter"===e.key&&t.trim().length>m.settingsMinChar?window.location.href="".concat(m.settingsSearchRedirect,"?query=").concat(t,"&area=support"):_()}})),l.addEventListener("paste",(function(){u.innerText=l.value}))}}function L(){return(L=dn(ln().mark((function e(t){var r,o;return ln().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.replace(/(!|@|#|\$|%|\^|&|\*)/gm,""),o={engineType:"support"},!(r.trim().length<1)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Promise.all([je(r,o).then((function(e){e&&e.length?y(e,r):g()})),Oe({query:r,bodyCutoff:m.settingsDescriptionCutoff,titleCutoff:m.settingsTitleCutoff},o).then((function(e){e&&e.records&&e.records.page.length&&!(e instanceof Error)?b(e):c.classList.add("d-none")}))]);case 7:"wide"===m.variation&&n.classList.remove("tcom-supportHeader__search-modal-background--loading"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}};document.addEventListener("DOMContentLoaded",(function(){rt.init(),cn.init(),hn()}))}]);
</script>

</body>
</html>
