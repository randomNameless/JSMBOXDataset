<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>client.bundle.60838819e9c9479db907.html</title>
</head>
<body>

<script>
!function(e){function t(t){for(var n,r,i=t[0],a=t[1],c=0,u=[];c<i.length;c++)r=i[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={0:0},o={0:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{24:1,25:1,26:1,27:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var o=({1:"emoji-picker",2:"localization-ar",3:"localization-cs",4:"localization-da",5:"localization-de",6:"localization-en",7:"localization-es",8:"localization-et",9:"localization-fi",10:"localization-fr",11:"localization-is",12:"localization-it",13:"localization-lt",14:"localization-lv",15:"localization-nl",16:"localization-no",17:"localization-pl",18:"localization-pt",19:"localization-sk",20:"localization-sv",21:"localization-zh",23:"webrtc-shim",24:"widget-answers",25:"widget-app",26:"widget-formbuilder",27:"widget-online"}[e]||e)+".bd3e24e251bf4c01439a.css",a=i.p+o,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=(d=c[u]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===o||s===a))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){var d;if((s=(d=f[u]).getAttribute("data-href"))===o||s===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],l.parentNode.removeChild(l),n(i)},l.href=a,document.getElementsByTagName("head")[0].appendChild(l)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({1:"emoji-picker",2:"localization-ar",3:"localization-cs",4:"localization-da",5:"localization-de",6:"localization-en",7:"localization-es",8:"localization-et",9:"localization-fi",10:"localization-fr",11:"localization-is",12:"localization-it",13:"localization-lt",14:"localization-lv",15:"localization-nl",16:"localization-no",17:"localization-pl",18:"localization-pt",19:"localization-sk",20:"localization-sv",21:"localization-zh",23:"webrtc-shim",24:"widget-answers",25:"widget-app",26:"widget-formbuilder",27:"widget-online"}[e]||e)+"."+{1:"53957b705327fe2f9353",2:"fd10b6ec8bacf5a79e65",3:"29d8f1d7d292caca114b",4:"8a960bae6730f4fd99d4",5:"2b35db0195d84caf56e5",6:"87ac7d84a61463a484e1",7:"95e824c8552101475a14",8:"8eda2e88aea7b7b42055",9:"2c45806527d4a0971ca0",10:"c42ddcaf3406c527d04d",11:"c0c4eee4284261d81b86",12:"296b90d2591d27eb70a2",13:"c6a89b13039063945a7d",14:"3fad4811cbaf207d5086",15:"78bd39b840f12119b9d5",16:"230b568fb602d14e2b94",17:"528dfd779d8de9a1c68b",18:"30d0ca011c199003629b",19:"38216219909cea5959d3",20:"9df2b749424b863d7193",21:"265494c1ebd97dd44459",23:"8b871533a96fe4f86117",24:"660771aba9f37acc37db",25:"44eb6dffcf885e1b209c",26:"4c78aefc51ac4c03563e",27:"d0caff62ed0ca3b60c3c"}[e]+".js"}(e);var s=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=c;i(i.s=368)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(91),o=n(38),i=function(e){if(window.xprops){var t=window.xprops[e];if(t)return t;Object(r.a)("zoid-utils")&&console.log("Property ".concat(e," does not exist on window.xprops"))}else Object(r.a)("zoid-utils")&&console.log("window.xprops not existing ".concat(e," will not be executed"))},a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(window.xprops){var i=window.xprops[e];if(i){var a=i.apply(null,t);a.catch((function(t){console.error("Error calling ".concat(e),t),Object(o.c)(t)}))}else Object(r.a)("zoid-utils")&&console.log("Method ".concat(e," does not exist on window.xprops"))}else Object(r.a)("zoid-utils")&&console.log("window.xprops not existing ".concat(e," will not be executed"))},c=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(window.xprops){var r=window.xprops[e];return r?r.apply(null,t):Promise.reject(new Error("Method ".concat(e," does not exist on window.xprops")))}return Promise.reject(new Error("window.xprops not existing ".concat(e," will not be executed")))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return f}));var r="https://wss.imbox.io",o="https://triggers-v3.imbox.io/",i="https://triggers.imbox.io/trigger-prechatform",a="https://apiv2.imbox.io/",c="https://upload.imbox.io/",u="prod",s="1d65d54",f=6e4},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r=n(301),o=n.n(r),i=n(88),a=n(21),c=n(259),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s={en:c};var f=new o.a(s,{logsEnabled:!1,loadLanguage:function(e){null===a.a||void 0===a.a||a.a.dispatch(Object(i.b)(!0)),function(e){switch(e){case"ar":case"arc":return n.e(2).then(n.t.bind(null,696,3));case"fa":case"he":case"yi":case"ur":case"en":return n.e(6).then(n.t.bind(null,259,3));case"no":return n.e(16).then(n.t.bind(null,697,3));case"sv":return n.e(20).then(n.t.bind(null,698,3));case"fi":return n.e(9).then(n.t.bind(null,699,3));case"da":return n.e(4).then(n.t.bind(null,700,3));case"lt":return n.e(13).then(n.t.bind(null,701,3));case"de":return n.e(5).then(n.t.bind(null,702,3));case"fr":return n.e(10).then(n.t.bind(null,703,3));case"et":return n.e(8).then(n.t.bind(null,704,3));case"cs":return n.e(3).then(n.t.bind(null,705,3));case"pl":return n.e(17).then(n.t.bind(null,706,3));case"sk":return n.e(19).then(n.t.bind(null,707,3));case"es":return n.e(7).then(n.t.bind(null,708,3));case"nl":return n.e(15).then(n.t.bind(null,709,3));case"it":return n.e(12).then(n.t.bind(null,710,3));case"pt":return n.e(18).then(n.t.bind(null,711,3));case"lv":return n.e(14).then(n.t.bind(null,712,3));case"is":return n.e(11).then(n.t.bind(null,713,3));case"zh":return n.e(21).then(n.t.bind(null,714,3));default:return Promise.reject(new Error("unsupported language ".concat(e)))}}(e).then((function(t){var n,r=t.default,o=f.getContent();f.setContent(u(u({},o),((n={})[e]=u(u({},r),o[e]),n)),!1),f.setLanguage(e,!1),null===a.a||void 0===a.a||a.a.dispatch(Object(i.b)(!1))})).catch((function(){null===a.a||void 0===a.a||a.a.dispatch(Object(i.b)(!1))}))}})},function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e){return"undefined"!=typeof Event&&g(e,Event)}function d(e){return"undefined"!=typeof Element&&g(e,Element)}function l(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return s(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return g}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(){function e(){}return Object.defineProperty(e,"Type",{get:function(){return{HIST:"hist",BOT_MESSAGE:"botMessage",BOT_MESSAGES:"botMessages",MESSAGE:"message"}},enumerable:!1,configurable:!0}),e.register=function(e,t,n,r,o,i,a,c,u,s,f,d){return{header:"register",sid:""+e,visitorUuid:r,channel:n,salt:n,agentID:""+t,_hits:""+o,_cur:i,_rhd:c,_qMode:a?"1":"2",version:"2",releaseTag:f,language:s,userMediaDevices:u,trace:d}},e.botRegister=function(e,t,n,r,o,i,a,c,u){return{header:"botRegister",sid:""+e,visitorUuid:r,channel:n,salt:n,botId:t,_hits:""+o,_cur:i,_rhd:c,_qMode:a?"1":"2",version:"2",userMediaDevices:{audio:!0,video:!0},trace:u}},e.message=function(e,t,n,r,o){return{header:"message",sid:""+e,agentID:""+t,visitorUuid:n,channel:r,msga:o,_hits:"0",hash:(new Date).getMilliseconds()}},e.botMessage=function(e,t,n,r,o){return{header:"botMessage",sid:""+e,botId:t,visitorUuid:n,channel:r,msga:o,_hits:"0",hash:(new Date).getMilliseconds()}},e.typing=function(e,t,n,r,o){return{header:"typing",sid:""+e,agentID:""+t,visitorUuid:n,channel:r,msga:o}},e.typingStopped=function(e,t,n){return{header:"typingStopped",sid:""+e,agentID:""+t,channel:n,msga:"stopped"}},e.activity=function(e,t,n,o){var i={header:"activity",sid:""+e,channel:n,agentIdChangeHistory:o};return"bot"===t.type?r(r({},i),{botId:t.botId}):r(r({},i),{agentID:""+t.agentId})},e.botFile=function(e,t,n,r,o,i,a){return{header:"botFile",userId:e,botId:t,visitorUuid:n,channel:r,fileExtension:o,fileUrl:i,originalFileName:a}},e.file=function(e,t,n,r,o,i,a,c){return{header:"sendFile",sid:""+e,agentID:t.toString(),visitorUuid:n,channel:r,ex:o,fn:i,f:a,fnO:c}},e.insertCard=function(e,t,n,o,i){var a={header:"insertCard",sid:""+e,channel:n,dataID:o,dataName:i};return"bot"===t.type?r(r({},a),{botId:t.botId}):r(r({},a),{agentID:""+t.agentId})},e.setExternalContactId=function(e,t,n){return{header:"setExternalContactId",userId:e,channel:t,id:n}},e.insertItem=function(e,t,n,o,i,a,c){var u={header:"insertItem",sid:""+e,channel:n,dataID:o,dataName:i,dataPic:a,dataPrice:c};return"bot"===t.type?r(r({},u),{botId:t.botId}):r(r({},u),{agentID:""+t.agentId})},e.removeItem=function(e,t,n,o){var i={header:"removeItem",sid:""+e,channel:n,dataID:o};return"bot"===t.type?r(r({},i),{botId:t.botId}):r(r({},i),{agentID:""+t.agentId})},e.setCartItems=function(e,t,n,o){var i={header:"setCartItems",sid:""+e,channel:n,items:o};return"bot"===t.type?r(r({},i),{botId:t.botId}):r(r({},i),{agentID:""+t.agentId})},e.displayName=function(e,t,n,o){var i={header:"displayName",sid:""+e,channel:n,dataName:o};return"bot"===t.type?r(r({},i),{botId:t.botId}):r(r({},i),{agentID:""+t.agentId})},e.rateConversation=function(e,t,n,r){return{header:"rateConversation",sid:""+e,agentID:""+t,channel:n,rating:r}},e.rateBotConversation=function(e,t,n,r){return{header:"rateBotConversation",sid:e.toString(),botId:t.toString(),channel:n,rating:r}},e.lastReadMessage=function(e,t,n,r,o){return{header:"lastReadMessage",sid:""+e,agentID:""+t,visitorUuid:n,channel:r,messageId:o}},e.webRtcCallAction=function(e,t,n,r){return{header:"webRtcCallAction",userId:""+e,agentId:""+t,channel:n,action:r}},e.webrtcRequestOffer=function(e,t,n){return{header:"webRtcCallAction",userId:""+e,agentId:""+t,channel:n,action:"requestOffer"}},e.webRtcAnswer=function(e,t,n,r){return{header:"webRtcAnswer",userId:""+e,agentId:""+t,channel:n,answer:r}},e.webRtcIce=function(e,t,n,r){return{header:"webRtcIce",userId:""+e,agentId:""+t,channel:n,ice:r}},e.webRtcHangup=function(e,t,n){return{header:"webRtcHangUp",userId:""+e,agentId:""+t,channel:n}},e.webRtcOffer=function(e,t,n,r,o){return{header:"webRtcOffer",userId:""+e,agentId:""+t,channel:n,callType:r,offer:o}},e.webRtcStats=function(e,t,n,r){return{header:"webRtcStats",userId:""+e,agentId:""+t,channel:n,stats:r}},e.bankidInitiated=function(e,t,n,r,o,i){return{header:"bankidInitiated",sid:""+e,userId:e,channel:t,agentId:n,botId:r,visitorUuid:o,messageId:i}},e.closeConversation=function(e,t,n,o){var i={header:"closeConversation",sid:""+e,visitorUuid:n,channel:o};return"bot"===t.type?r(r({},i),{botId:t.botId}):r(r({},i),{agentID:""+t.agentId})},e.chatFormSubmit=function(e,t,n,r,o){return{header:"chatFormSubmit",sid:String(e),agentId:t,visitorUuid:n,channel:r,formId:o}},e.botChatFormSubmit=function(e,t,n,r,o){return{header:"botChatFormSubmit",sid:String(e),botId:t,visitorUuid:n,channel:r,formId:o}},e}()},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"n",(function(){return m})),n.d(t,"l",(function(){return w})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return O}));var r=n(13),o=n.n(r),i=n(3),a=n(6),c=n(8),u=n(22),s=function(){return{type:"CLEAR_MESSAGES"}},f=function(e){return{type:"ADD_MESSAGE",message:e}},d=function(e){return{type:"ADD_MESSAGES",payload:e}},l=function(e){return{type:"REPLACE_MESSAGE",message:e}},p=function(){return{type:"REMOVE_MESSAGES"}},h=function(e){return function(t,n,r){var o,i=r.conn,a=n().widget.userId,u=n().widget.channelId,s=n().widget.visitorUuid,f=n().activeConversation.conversationType,d=-1e4*Math.random();if(t({type:"SEND_MESSAGE_FETCH",message:e,id:d}),"bot"===f){var l=n().activeConversation.botId;o=i.rpc(c.a.botMessage(a,l,s,u,e))}else{var p=n().activeConversation.agentId;o=i.rpc(c.a.message(a,Number(p),s,u,e))}return o.then((function(e){t({type:"SEND_MESSAGE_SUCCESS",payload:e,myLastMessageId:e.id,id:d})})).catch((function(){t({type:"SEND_MESSAGE_FAILED",id:d})})),o}},g=function(e){return function(t){t({type:"UPDATE_MESSAGE_LIST_HEIGHT",messageListHeight:e})}},v=function(e){return function(t,n,r){var o=r.conn;if("bot"!==n().activeConversation.conversationType){var i=n().widget.userId,a=n().activeConversation.agentId,u=n().widget.channelId,s=n().widget.visitorUuid;t({type:"SEND_TYPING_FETCH"}),o.send(c.a.typing(i,Number(a),s,u,e))}}},y=function(){return function(e,t,n){var r=n.conn;if("bot"!==t().activeConversation.conversationType){var o=t().widget.userId,i=t().activeConversation.agentId,a=t().widget.channelId;e({type:"SEND_TYPING_STOPPED_FETCH"}),r.send(c.a.typingStopped(o,Number(i),a))}}},m=function(e){return function(t,n,r){var s=r.conn,d=n(),p=d.widget,h=d.activeConversation,g=p.userId,v=p.channelId,y=p.visitorUuid,m=h.conversationType,w=h.botId,b=h.agentId,_="bot"===m,E=new FormData;E.append("uploadfile",e);var O=new u.b;O.fileName=e.name,O.fromType="visitor",O.link="",t(f(O));var S=function(){var e=new u.a;return e.id=O.id,e.code="ERR_FILE_UPLOAD",e.body=a.b.fileUploadError,e},I="".concat(i.c,"upload")+"?userId=".concat(g)+"&channel=".concat(v)+"&visitorUuid=".concat(y);o.a.post(I,E).then((function(e){e.data.success?s.rpc(_?c.a.botFile(g,w,y,v,e.data.fileExt,e.data.file,e.data.orgName):c.a.file(g,Number(b),y,v,e.data.fileExt,e.data.file,e.data.fileName,e.data.orgName)).then((function(n){var r=new u.b;r.id=O.id,r.sourceId=n.id,r.fileName=e.data.orgName,r.fromType="visitor",r.link=e.data.file,t(l(r))})).catch((function(e){console.warn("Could not send file to agent",e),t(l(S()))})):t(l(S()))})).catch((function(e){console.warn("Something went wrong when uploading file",e),t(l(S()))}))}},w=function(e){return{type:"UPDATE_GREETING_MESSAGE",opts:e}},b=function(e){return{type:"REMOVE_SYSTEM_MESSAGE_BY_TYPE",systemMessageType:e}},_=function(e){return function(t,n,r){var o=r.conn,i=n().widget.userId,a=n().activeConversation.agentId,u=n().activeConversation.botId,s=n().widget.channelId;"bot"===n().activeConversation.conversationType?o.send(c.a.rateBotConversation(i,u,s,e)):o.send(c.a.rateConversation(i,Number(a),s,e)),t({type:"SEND_RATING",channelId:s,rating:e})}},E=function(e){return function(t,n,r){var o=r.conn,i=n().activeConversation;if(i.myLastMessageId!==e&&null!=i.agentId){var a=Number(i.agentId);if(!Number.isNaN(a)){t({type:"LAST_READ_MESSAGE",messageId:e});var u=n().widget,s=u.channelId,f=u.visitorUuid,d=u.userId;o.send(c.a.lastReadMessage(d,a,f,s,e))}}}},O=function(e){return function(t,n,r){var o=r.conn,i=n().widget.userId,a=n().widget.channelId,u=n().widget.visitorUuid;if("bot"===n().activeConversation.conversationType){var s=Number(n().activeConversation.botId);return o.rpc(c.a.botChatFormSubmit(i,s,u,a,e))}var f=Number(n().activeConversation.agentId);return o.rpc(c.a.chatFormSubmit(i,f,u,a,e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v}));var r=n(124),o=n.n(r),i=n(2);function a(e,t){var n=new Error(t);return n.name=e,n}function c(e,t,n){var r=e.scrollTop,o=t-r,i=0,a=function(){var t,c,u,s=(t=i+=2,c=r,u=o,(t/=n/2)<1?u/2*t*t+c:-u/2*(--t*(t-2)-1)+c);e.scrollTop=s,i<n&&setTimeout(a,2)};a()}function u(e,t,n){Object(i.b)("getCookie",e).then((function(r){Object(i.a)("setCookie",e,t,n(r&&r[t]))}))}function s(e){return e.replace(/(<a).((?!target="_parent").)(.*?>)/gi,'$1 target="_blank" $2$3')}function f(e,t,n){return e.some((function(e){return t(e)}))?e.map((function(e){return t(e)?n(e):e})):e}function d(e){switch(e.type){case"answers":return"answers-".concat(e.assignAnswers);case"form":return"form-".concat(e.customForm);case"chat":return"online";case"bot":return"bot";default:return e.type}}function l(){return Object(i.b)("getMetadata").then((function(e){return!e.url||"https://"!==e.url.substr(0,8)&&"http://localhost"!==e.url.substr(0,16)?Promise.resolve({audio:!1,video:!1}):new Promise((function(e,t){var n=!1;setTimeout((function(){n||e({audio:!1,video:!1})}),2e3),o.a.load((function(){n=!0;var t=o.a.isWebRTCSupported&&o.a.hasMicrophone,r=o.a.isWebRTCSupported&&o.a.hasWebcam;e({audio:t,video:r})}))}))}))}function p(e,t){return t>1?e+"s":e}function h(e){if(e<60){var t=Math.floor(e%60);return r="".concat(t," ").concat(p("sec",t))}if(e/60<60){var n=Math.floor(e/60),r="".concat(n," ").concat(p("min",n)),o=Math.floor(e-60*n);return o>0&&(r+=" ".concat(o," ").concat(p("sec",o))),r}if(e/60*60){var i=Math.floor(e/3600),a=(r="".concat(i," ").concat(p("hr",i)),Math.floor(e/60-60*i));a>0&&(r+=" ".concat(a," ").concat(p("min",a)));var c=Math.floor(e-3600*i-60*a);return c>0&&(r+=" ".concat(c," ").concat(p("sec",c))),r}}function g(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function v(){return/Android/i.test(navigator.userAgent)&&/Chrome/i.test(navigator.userAgent)}},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return p}));var r=n(147),o=(n(77),{});function i(){return Object(r.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function a(){var e=i(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function c(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function u(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function s(e){var t=i();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),o}function f(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}function l(){try{return document.location.href}catch(e){return""}}function p(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}}).call(this,n(61))},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return h}));var r=n(48),o=n(125),i=n(20),a=function(e){return e.hub},c=Object(r.a)([function(e){return e.hub},function(e){return e.widget}],(function(e,t){var n=t.hiddenServices;return e.filter((function(e){return!n.some((function(t){return t===e.type}))}))})),u=function(e){var t=e.navigation.activeStackId;if(t)return e.hub.find((function(e){return e.id===t}))},s=Object(r.a)([a,function(e){return e.notification}],(function(e,t){return e.find((function(e){return"answers"===t.type?e.type===t.type&&e.assignAnswers===t.formId:e.type===t.type}))})),f=Object(r.a)([a,i.f],(function(e,t){var n=e.find((function(e){return e.id===t.activeStackId}));return n&&Number(n.answersWidgetID)})),d=(Object(r.a)([a,i.f],(function(e,t){var n=e.find((function(e){return e.id===t.activeStackId}));return n&&Number(n.customFormWidgetID)})),Object(r.a)([a,i.f],(function(e,t){var n=e.find((function(e){return e.id===t.activeStackId}));return n&&Number(n.assignAnswers)}))),l=Object(r.a)([a,i.f],(function(e,t){var n=e.find((function(e){return e.id===t.activeStackId}));return n&&Number(n.customForm)})),p=Object(r.a)([a,i.f],(function(e,t){var n,r=e.find((function(e){return e.id===t.activeStackId}));return null!==(n=r&&r.faqAPIVersion)&&void 0!==n?n:0})),h=Object(r.a)([a,i.f,o.a,function(e){return e.localization.language}],(function(e,t,n,r){var o,i,a=e.find((function(e){return e.id===t.activeStackId})),c=n(a.assignAnswers);return null!==(i=null!==(o=null!=c?c:a&&a.languageCode)&&void 0!==o?o:r)&&void 0!==i?i:"en"}))},function(e,t,n){e.exports=n(374)},,,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(48),o=function(e){return e.navigation},i=function(e){return e.navigation.activeStackId},a=Object(r.a)([o],(function(e){var t=e.navigationStacks[e.activeStackId];return t&&void 0!==t.currentIndex&&t.history[t.currentIndex]&&t.history[t.currentIndex].params})),c=function(e){return e.navigation.navigationStacks[e.navigation.activeStackId]},u=Object(r.a)([o],(function(e){var t=e.navigationStacks[e.activeStackId];return t&&void 0!==t.currentIndex&&t.history[t.currentIndex]})),s=Object(r.a)([o],(function(e){var t=e.navigationStacks[e.activeStackId];return t&&void 0!==t.currentIndex&&t.history?t.history.slice(0,t.currentIndex+1):[]}));Object(r.a)([o],(function(e){var t=e.navigationStacks[e.activeStackId];return t&&t.currentIndex}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Gn}));var r=n(63),o=n(106),i=n(38),a=n(260),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var g=n(360),v=n.n(g);function y(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var m=y();m.withExtraArgument=y;var w=m;n(478);var b=function(e,t){t.subscribe((function(){return!0}),(function(t,n){var r;n||e.dispatch({type:(r=t.type,"SOCKET_"+r),payload:t})}))},_=n(10),E=n(91),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},I=function(){function e(){this.subscribers=[]}return e.prototype.publish=function(e){for(var t=S([],this.subscribers,!0),n=0;n<t.length;n++)if(t[n].filter(e)){var r=1===t[n].priority;t[n].callback(e,r)}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=999);var r=this.generateSubscribeId();return this.subscribers.push({id:r,filter:e,callback:t,priority:n}),this.subscribers=this.subscribers.sort((function(e,t){return e.priority-t.priority})),r},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t.id!==e}))},e.prototype.generateSubscribeId=function(){var e;do{e=Math.floor(1e3*Math.random())}while(this.subscribers.some((function(t){return t.id===e})));return e},e}();function C(e){return"".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds(),".").concat(e.getMilliseconds())}var T=new(function(){function e(){this.socket=null,this.pubsub=new I,this.subscribers=[],this.connected=!1,this.instanceId=0}return e.prototype.createPrimus=function(){return new Promise((function(e,t){if("undefined"!=typeof Primus)return e();var n=document.createElement("script");n.onload=function(){e()},n.onerror=function(){t(new Error("primus could not download"))},n.src="".concat("https://widget.imbox.io","/primus.js"),document.getElementsByTagName("head")[0].appendChild(n)}))},e.prototype.setupConnection=function(e){var t=this;return new Promise((function(n,r){if(t.socket)r(new Error("Only allowed to have one socket open at a time"));else{t.pubsub.publish(t.generateMessage("socket:opening"));t.socket=new Primus(e,{strategy:["online","disconnect","timeout"],reconnect:{max:6e3}}),t.socket.once("error",(function(e){r(Object(_.a)("WS_FAIL_CONNECT",JSON.stringify(e)))})),t.socket.once("open",(function(){t.socket.on("open",(function(){t.connected=!0,t.pubsub.publish(t.generateMessage("socket:open"))})),t.socket.on("reconnected",(function(){t.pubsub.publish(t.generateMessage("socket:reconnected"))})),t.socket.on("error",(function(e){console.warn(e)})),t.socket.on("disconnection",(function(){t.pubsub.publish(t.generateMessage("socket:disconnection"))})),t.socket.on("reconnect",(function(){t.pubsub.publish(t.generateMessage("socket:reconnect"))})),t.socket.on("end",(function(){t.connected=!1,t.pubsub.publish(t.generateMessage("socket:end"))})),t.pubsub.publish(t.generateMessage("socket:initial-open")),n()})),t.socket.on("data",(function(e){var n=e;Object(E.a)("connection")&&(console.group&&console.group("Received from socket @ "+C(new Date)),console.log(n),console.groupEnd&&console.groupEnd()),t.pubsub.publish(n)}))}}))},e.prototype.connect=function(e,t){var n=this;return this.instanceId=t,t&&(e="".concat(e,"?instanceId=").concat(t)),this.createPrimus().then((function(){return n.setupConnection(e)}))},e.prototype.isConnected=function(){return this.connected},e.prototype.isOpen=function(){return this.socket&&this.socket.readyState===Primus.OPEN},e.prototype.hasBeenSetup=function(){return!!this.socket},e.prototype.getBufferSize=function(){return this.socket&&this.socket.buffer&&this.socket.buffer.length},e.prototype.disconnect=function(){this.instanceId=0,null!==this.socket&&(this.socket.destroy(),this.socket=null)},e.prototype.subscribe=function(e,t){return this.pubsub.subscribe(e,t)},e.prototype.unsubscribe=function(e){this.pubsub.unsubscribe(e)},e.prototype.subscribeType=function(e,t){return this.pubsub.subscribe((function(t){return Array.isArray(e)?e.some((function(e){return t.type===e})):t.type===e}),t)},e.prototype.send=function(e){this.validateMessage(e)?this.sendMsg(e):Object(i.c)(new Error("Trying to send invalid message"+JSON.stringify(e)))},e.prototype.rpc=function(e){if(this.validateMessage(e)){var t=this.generateAckId();return this._rpc(O(O({},e),{hash:t}),(function(e){return e.hash===t}))}return Object(i.c)(new Error("Trying to send invalid message"+JSON.stringify(e))),Promise.reject(new Error("Invalid message: "+JSON.stringify(e)))},e.prototype.customRpc=function(e,t){return this.validateMessage(e)?this._rpc(e,t):(Object(i.c)(new Error("Trying to send invalid message"+JSON.stringify(e))),Promise.reject(new Error("Invalid message: "+JSON.stringify(e))))},e.prototype.generateAckId=function(){return Math.floor(1e3*Math.random())},e.prototype.sendMsg=function(e){null===this.socket?console.warn("Trying to send on a closed socket"):(Object(E.a)("connection")&&(console.group&&console.group("Send to socket @ "+C(new Date)),console.log(e),console.groupEnd&&console.groupEnd()),this.socket.write(e))},e.prototype.waitUntilReceived=function(e,t,n,r){var o=this;return void 0===r&&(r=1e4),new Promise((function(i,a){var c=0,u=setTimeout((function(){o.pubsub.unsubscribe(c);var e=n?new Error(n):new Error("Timeout");a(e)}),r),s=o.combineCond(e,t);c=o.pubsub.subscribe(s,(function(e){return clearTimeout(u),o.pubsub.unsubscribe(c),t(e)?a(e):i(e),!0}),1)}))},e.prototype.combineCond=function(e,t){return function(n){return e(n)||t(n)}},e.prototype._rpc=function(e,t){var n=this,r=function(e){var t=!1===e.success&&"E_AUTH_FAIL"===e.code;return t&&n.pubsub.publish(n.generateMessage("E_AUTH_FAILED","Got invalid token from server")),t};e.reqId&&(r=this.combineCond(r,(function(t){return t.statusCode>299&&t.reqId===e.reqId})));var o="Timeout waiting for response to ".concat(e.header),i=this.waitUntilReceived(t,r,o);return this.sendMsg(e),i},e.prototype.generateMessage=function(e,t){return{type:e,msg:t}},e.prototype.validateMessage=function(e){var t=!(void 0===e.sid&&void 0===e.userId||"undefined"===e.sid&&"undefined"===e.userId),n=void 0!==e.channel;return t&&n},e}()),A=n(3),j=function(e){return{type:"LIVE_MESSAGE",payload:{liveMessage:e}}},x=n(6);var N=n(20),k=n(13),P=n.n(k);function R(e,t,n){var r=Object(N.b)(n()),o=n().hub.find((function(e){return e.type===r.module}));if(o){var i=void 0,a=void 0;"form"===r.module?i=o.customForm:"answers"===r.module?i=o.assignAnswers:"online"===r.module&&(a=Number(o.agentID)),t(function(e,t,n,r){return function(o,i,a){a.conn;var c=i().widget.userId,u=i().widget.channelId,s=i().widget.visitorUuid,f=i().host.url,d=i().host.deviceType,l=A.a+"message/widgetAnalytics/".concat(c,"/").concat(u);o({type:"TRACK_WIDGET_ACTION_FETCH"});var p="online"===t.type?"chat":"form"===t.type?"forms":t.type;P.a.post(l,{agent_id:n,form_id:r,hub_item:p,hub_item_text:t.name,actionType:e,url:f,device:d,uid:s}).then((function(){o({type:"TRACK_WIDGET_ACTION_SUCCESS"})}),(function(e){o({type:"TRACK_WIDGET_ACTION_FAILED",reason:e})}))}}(e,o,a,i))}}function D(e,t,n){var r,o=Object(N.b)(n()),i=n().hub.find((function(e){return e.type===o.module}));if(i){"form"===o.module?i.customForm:"answers"===o.module?i.assignAnswers:"online"===o.module&&Number(i.agentID),t((r=i,function(e,t,n){n.conn;var o=t().widget.userId,i=t().widget.channelId;t().widget.visitorUuid,t().host.url,t().host.deviceType,A.a,"message/proactive/".concat(o,"/").concat(i),e({type:"TRACK_WIDGET_PROACTIVE_ACTION_FETCH"}),"online"===r.type||"form"===r.type||r.type}))}}var L=n(196),M=n(88),U=n(9),F=n(24),W=n(32),B=n(76),z=n(28),H=n(22),G=n(2),q=n(189),V=n(8),Y=n(122),K=n(36),J=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Q=function(){function e(e,t,n){this.listeners={},this.conn=e,this.dispatch=t,this.getState=n,this.setupPromises()}return e.prototype.setupPromises=function(){var e=this;this.doAfterRegister=new Promise((function(t){var n=e.conn.subscribe((function(e){return"hist"===e.type}),(function(){e.conn.unsubscribe(n),t()}))})),this.doAfterTriggerResultListenerId&&this.removeListener(this.doAfterTriggerResultListenerId),this.doAfterTriggerResult=new Promise((function(t){e.doAfterTriggerResultListenerId=e.registerListener("triggerResult",(function(){t()}))})),this.doAfterTriggerDoneListenerId&&this.removeListener(this.doAfterTriggerDoneListenerId),this.doAfterTriggerDone=new Promise((function(t){e.doAfterTriggerDoneListenerId=e.registerListener("triggerDone",(function(){t()}))}))},e.prototype.handle=function(e,t){switch(e){case"toggle":this.toggle();break;case"close":this.close();break;case"openChat":this.openChat();break;case"openForm":this.openForm(t[0]&&""+t[0]);break;case"openFAQ":this.openFAQ(t[0]&&""+t[0]);break;case"openFAQCategory":this.openFAQCategory(t[2]&&""+t[2],t[0]&&""+t[0],t[1]&&""+t[1]);break;case"openFAQArticle":this.openFAQArticle(t[1]&&""+t[1],t[0]&&""+t[0]);break;case"showLauncher":this.showLauncher();break;case"hideLauncher":this.hideLauncher();break;case"hideWidget":this.hideWidget();break;case"hideService":this.hideService(t[0]);break;case"showService":this.showService(t[0]);break;case"setLanguage":this.setLanguage(t[0]);break;case"setDisableSound":this.disableSound();break;case"setGreeting":this.setGreeting(t[0]);break;case"insertCard":this.insertCard(t);break;case"setExternalContactId":this.setExternalContactId(t[0]);break;case"insertItem":this.insertItem(t);break;case"removeItem":this.removeItem(t[0]);break;case"setCartItems":this.setCartItems(t[0]);break;case"changeName":this.changeName(t);break;case"getAgent":this.getAgent(t);break;case"insertTrans":this.insertTrans({transactionId:t[0],affiliation:t[1],price:t[2],productName:t[3],custom1:t[4],custom2:t[5]});break;case"getOnlineStatus":case"onContactSubmit":case"onChatTrigg":case"onChatStart":case"registerChatStatusListener":case"onBotChatEnded":case"onChatEnded":case"onToggle":case"onNavigation":this.registerListener(e,t[0]);break;case"reset":this.reset(t);break;case"start":this.start(t);break;case"visibilityChange":this.visibilityChange(t);break;case"historyApi":this.historyApi(t);break;case"setFormValue":this.setFormValue(t[0]);break;default:console.warn("Unrecognized method "+e)}},e.prototype.publish=function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(n){n&&"function"==typeof n.callback&&Promise.resolve(n.callback(t)).catch((function(t){console.warn("Error calling API method "+e,t)}))}))},e.prototype.toggle=function(){this.doAfterTriggerDone.then((function(){Object(G.a)("toggleWidget","widget","api")})).catch((function(e){return console.warn(e)}))},e.prototype.close=function(){Object(G.a)("closeWidget","api")},e.prototype.openChat=function(){var e=this;this.doAfterRegister.then((function(){e.getState().hub.some((function(e){return"online"===e.type||"bot"===e.type}))&&(e.dispatch(Object(W.a)()),e.dispatch(Object(F.b)("online")),e.dispatch({type:"OPEN_WIDGET",reason:"api"}))}),(function(){}))},e.prototype.openForm=function(e){var t=this;this.doAfterTriggerDone.then((function(){var n,r=t.getState().hub;r&&((n=e?r.find((function(t){return t.customForm===e})):r.sort((function(e,t){return e.order-t.order})).find((function(e){return"form"===e.type})))&&(t.dispatch(Object(W.a)()),t.dispatch(Object(F.b)(Object(_.b)(n))),t.dispatch({type:"OPEN_WIDGET",reason:"api"})))}),(function(){}))},e.prototype.openFAQ=function(e){var t=this;this.doAfterTriggerDone.then((function(){var n,r=t.getState().hub;r&&((n=e?r.find((function(t){var n;return(null===(n=t.assignAnswers)||void 0===n?void 0:n.toString())===e})):r.sort((function(e,t){return e.order-t.order})).find((function(e){return"answers"===e.type})))&&(t.dispatch(Object(W.a)()),t.dispatch(Object(F.b)(Object(_.b)(n))),t.dispatch({type:"OPEN_WIDGET",reason:"api"})))}),(function(){}))},e.prototype.openFAQCategory=function(e,t,n){var r=this;this.doAfterTriggerDone.then((function(){var o,i=r.getState().hub;i&&((o=e?i.find((function(t){var n;return(null===(n=t.assignAnswers)||void 0===n?void 0:n.toString())===e})):i.sort((function(e,t){return e.order-t.order})).find((function(e){return"answers"===e.type})))&&(r.dispatch(Object(W.a)()),r.dispatch(Object(F.b)(Object(_.b)(o))),r.dispatch(Object(L.h)(Number(o.answersWidgetID),Number(o.assignAnswers),Number(t),n)),r.dispatch({type:"OPEN_WIDGET",reason:"api"})))}),(function(){}))},e.prototype.openFAQArticle=function(e,t){var n=this;this.doAfterTriggerDone.then((function(){var r,o=n.getState().hub;o&&((r=e?o.find((function(t){var n;return(null===(n=t.assignAnswers)||void 0===n?void 0:n.toString())===e})):o.sort((function(e,t){return e.order-t.order})).find((function(e){return"answers"===e.type})))&&(n.dispatch(Object(W.a)()),n.dispatch(Object(F.b)(Object(_.b)(r))),n.dispatch(Object(L.g)(Number(r.answersWidgetID),Number(r.assignAnswers),Number(t))),n.dispatch({type:"OPEN_WIDGET",reason:"api"})))}),(function(){}))},e.prototype.showLauncher=function(){var e=this;this.doAfterTriggerDone.then((function(){e.dispatch(Object(z.i)(!0)),Object(G.a)("showLauncher")})).catch((function(e){return console.warn(e)}))},e.prototype.hideLauncher=function(){this.dispatch(Object(z.i)(!1)),Object(G.a)("hideLauncher")},e.prototype.hideWidget=function(){this.doAfterTriggerDone.then((function(){Object(G.a)("hideWidget")})).catch((function(e){return console.warn(e)}))},e.prototype.hideService=function(e){switch(e){case"chat":this.dispatch(Object(z.a)("online")),this.dispatch(Object(z.a)("bot"));break;case"faq":this.dispatch(Object(z.a)("answers"));break;case"form":this.dispatch(Object(z.a)("form"));break;default:console.error("Bad service name for hideService, allowed: chat, faq, form")}},e.prototype.showService=function(e){switch(e){case"chat":this.dispatch(Object(z.j)("online")),this.dispatch(Object(z.j)("bot"));break;case"faq":this.dispatch(Object(z.j)("answers"));break;case"form":this.dispatch(Object(z.j)("form"));break;default:console.error("Bad service name for showService, allowed: chat, faq, form")}},e.prototype.setLanguage=function(e){var t=this;this.doAfterTriggerDone.then((function(){t.dispatch(Object(M.a)(e,!0))})).catch((function(e){return console.warn(e)}))},e.prototype.disableSound=function(){this.dispatch({type:"DISABLE_SOUND"})},e.prototype.setGreeting=function(e){var t=this;this.doAfterRegister.then((function(){var n=t.getState().activeConversation,r=n.agentName,o=n.agentPicture,i=Object(H.g)({agentName:r,agentPicture:o,text:e,options:void 0}),a=t.getState().messages.some((function(e){return"greetingMessage"===e.type})),c=t.getState().messages.some((function(e){return"message"===e.type&&"visitor"===e.fromType}));a?a&&!c&&t.dispatch(Object(U.l)(i)):t.dispatch(Object(U.a)(i))})).catch((function(e){return console.warn(e)}))},e.prototype.insertCard=function(e){var t=this;this.doAfterRegister.then((function(){var n,r=t.getState().widget.userId,o=t.getState().activeConversation.conversationType,i=t.getState().activeConversation.agentId,a=t.getState().activeConversation.botId;if("human"===o){if(!i)return;n={type:"agent",agentId:Number(i)}}else{if(!a)return;n={type:"bot",botId:Number(a)}}var c=t.getState().widget.channelId;t.conn.send(V.a.insertCard(r,n,c,e[0],e[1]))})).catch((function(e){return console.warn(e)}))},e.prototype.setExternalContactId=function(e){return J(this,void 0,void 0,(function(){var t,n,r,o;return $(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.doAfterRegister];case 1:return i.sent(),[3,3];case 2:return t=i.sent(),console.warn(t),[3,3];case 3:return n=this.getState().widget,r=n.userId,o=n.channelId,this.conn.send(V.a.setExternalContactId(r,o,e)),[2]}}))}))},e.prototype.insertItem=function(e){var t=this;this.doAfterRegister.then((function(){var n,r=t.getState().widget.userId,o=t.getState().activeConversation.conversationType,i=t.getState().activeConversation.agentId,a=t.getState().activeConversation.botId;if("human"===o){if(!i)return;n={type:"agent",agentId:Number(i)}}else{if(!a)return;n={type:"bot",botId:Number(a)}}if(e[0]){var c=t.getState().widget.channelId;t.conn.send(V.a.insertItem(r,n,c,e[0],e[1],e[2],e[3]))}else console.warn("invalid insertItem id:",e[0])})).catch((function(e){return console.warn(e)}))},e.prototype.removeItem=function(e){var t=this;this.doAfterRegister.then((function(){var n,r=t.getState().widget.userId,o=t.getState().activeConversation.conversationType,i=t.getState().activeConversation.agentId,a=t.getState().activeConversation.botId;if("human"===o){if(!i)return;n={type:"agent",agentId:Number(i)}}else{if(!a)return;n={type:"bot",botId:Number(a)}}var c=t.getState().widget.channelId;t.conn.send(V.a.removeItem(r,n,c,e))})).catch((function(e){return console.warn(e)}))},e.prototype.setCartItems=function(e){var t=this;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n++){var o=r[n];if("object"!=typeof o)return void console.error("Error in setCartItems: items must be an object");if(!o.id||!o.name)return void console.error("Error in setCartItems: all items must have properties id, name")}this.doAfterRegister.then((function(){var n,r=t.getState().widget.userId,o=t.getState().activeConversation.conversationType,i=t.getState().activeConversation.agentId,a=t.getState().activeConversation.botId;if("human"===o){if(!i)return;n={type:"agent",agentId:Number(i)}}else{if(!a)return;n={type:"bot",botId:Number(a)}}var c=t.getState().widget.channelId;t.conn.send(V.a.setCartItems(r,n,c,e))})).catch((function(e){return console.warn(e)}))}else console.error("Error in setCartItems: items must be an array")},e.prototype.changeName=function(e){var t=this;this.doAfterRegister.then((function(){var n,r=t.getState().widget.userId,o=t.getState().activeConversation.conversationType,i=t.getState().activeConversation.agentId,a=t.getState().activeConversation.botId;if("human"===o){if(!i)return;n={type:"agent",agentId:Number(i)}}else{if(!a)return;n={type:"bot",botId:Number(a)}}var c=t.getState().widget.channelId;t.conn.send(V.a.displayName(r,n,c,e[0]))})).catch((function(e){return console.warn(e)}))},e.prototype.getAgent=function(e){var t=e[0];"function"==typeof t&&t(this.getState().activeConversation.agentName)},e.prototype.insertTrans=function(e){var t=this;this.doAfterTriggerResult.then((function(){return Object(G.b)("getCookie","imbox")})).then((function(n){if(n){var r=Date.now()-2592e6,o=n.answersSeenAt&&n.answersSeenAt>r,i=n.chatSeenAt&&n.chatSeenAt>r,a=n.chatStartedAt&&n.chatStartedAt>r,c=a?Number(n.chattedWith):0;t.dispatch(function(e,t,n,r,o,i,a,c){return function(u,s){return new Promise((function(f,d){var l=s().widget.userId,p=s().widget.channelId,h=s().host.url;if(!c.transactionId)return d(new Error("Cannot insert a transaction without a transaction ID"));var g={channelId:p,userId:l,chattedWith:r,currentUrl:h,data:c,hasHadChat:Boolean(e),hasSeenChat:Boolean(n),hasSeenFAQ:Boolean(t),chatStartedAt:o,chatSeenAt:i,answersSeenAt:a},v="".concat(A.a,"api/insertEcommerce");u({type:"INSERT_TRANSACTION_FETCH"}),fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then((function(e){u({type:"INSERT_TRANSACTION_SUCCESS"}),f(e)})).catch((function(e){u({type:"INSERT_TRANSACTION_FAILED",payload:e.message}),d(new Error("Error inserting transaction, url: ".concat(v,". Reason: ").concat(e.message)))}))}))}}(a,o,i,isNaN(c)?0:c,n.chatStartedAt&&new Date(n.chatStartedAt).toISOString(),n.chatSeenAt&&new Date(n.chatSeenAt).toISOString(),n.answersSeenAt&&new Date(n.answersSeenAt).toISOString(),e))}})).catch((function(e){console.warn(e)}))},e.prototype.reset=function(e){this.dispatch({type:"RESTART",reason:e[0]}),Object(G.a)("hideAll"),this.setupPromises()},e.prototype.start=function(e){var t=this;Object(G.b)("waitUntilConnected","launcher",A.d).then((function(){var n=new K.a;return t.dispatch(Object(B.a)(n,"api",e[0]))})).catch((function(e){return console.warn(e)}))},e.prototype.visibilityChange=function(e){this.dispatch({type:"VISIBILITY_CHANGE",visibility:e[0]})},e.prototype.historyApi=function(e){Object(Y.a)().disableHistoryHooks||("success"===this.getState().widget.triggerStatus?this.reset(e):console.debug("Blocked API call history API since trigger is already running"))},e.prototype.generateSubscribeId=function(){var e,t=this;do{e=Math.floor(1e4*Math.random())}while(Object.keys(this.listeners).some((function(n){return t.listeners[n].some((function(t){return t.id===e}))})));return e},e.prototype.registerListener=function(e,t){var n=this.generateSubscribeId();return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].length>=100?(console.error(new Error("Maximum registered listeners (100) for ".concat(e," reached."))),-1):(this.listeners[e].push({id:n,callback:t}),n)},e.prototype.removeListener=function(e){for(var t in this.listeners)this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter((function(t){return t.id!==e})))},e.prototype.setFormValue=function(e){this.dispatch(Object(q.b)(e))},e}(),X=n(12),Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var ee=n(86),te=n.n(ee),ne=n(146),re=n(190),oe=n(92),ie=n(262),ae=n(55),ce=function(e){return function(t,n,r){var o=r.conn,i=n().activeConversation.isActive,a=n().activeConversation.isClosed,c=n().activeConversation.conversationType,u=n().widget.shouldPoll,s=n().widget.userId,f=n().navigation.activeStackId;"bot"!==c&&u&&!a&&(i?t(Object(B.a)(e,"retriggerAfterActivity",void 0,{resetFromVisibility:!0,isPolling:!0})).then((function(r){if(r.trigger){t({type:"SET_TRIGGER_HASH",payload:r.trigger.hash});var i=r.trigger.hub,a="online"===f||"bot"===f?f:"online",c=i&&i.find((function(e){return e.type===a}));if(e.push("trigger.uid-".concat(r.trigger.imboxUid)),e.push("trigger.channelId-".concat(r.trigger.channelId)),r.trigger.instanceId!==o.instanceId&&o.disconnect(),c)Object(re.a)(c,r.trigger,e).then((function(e){return t(e)})).then((function(){t(function(e,t){return function(n,r,o){o.conn;if(!r().messages.some((function(e){return"message"===e.type&&"visitor"===e.fromType}))){var i=Object(H.g)({agentName:e.agentName,agentPicture:e.agentPicture,text:t.trigger.greetingMessage.text,options:t.trigger.greetingMessage.options});n(Object(U.l)(i))}var a=r().notification.isOpen,c="online"===r().notification.type,u=function(e,t){return t.trigger.notifications&&t.trigger.notifications.find((function(t){return t.id===e.notificationId}))}(r().notification,t);if(a&&c&&u){i=x.b.formatString(u.message,{agentName:e.agentName});n(Object(W.d)(i))}}}(c,r)),r&&s!==r.trigger.userId&&(t(Object(U.d)()),r.trigger.consent&&(x.b.setContent(te()(x.a,r.trigger.consent.localization||{})),t(Object(z.g)(r.trigger.consent.id)),t(Object(ie.b)())),r.trigger.companyName&&t(Object(z.f)(r.trigger.companyName)))})).catch((function(e){console.error("Could not reconnect after visibility change",e);var r=n().widget.chatOfflineForm;t(ue(x.b.agentOffline,r)),t(Object(oe.a)())}));else{var u=n().widget.chatOfflineForm;t(ue(x.b.agentOffline,u)),t(Object(oe.a)())}}}),(function(){var e=n().widget.chatOfflineForm;t(ue(x.b.agentOffline,e)),t(Object(oe.a)())})):t(Object(oe.a)()))}};function ue(e,t){return function(n,r,o){o.conn;var i=r().activeConversation.isActive,a=r().messages.some((function(e){return"unavailable"===e.systemMessageType})),c=r().widget.hasOpenedOnce;i&&(n(Object(ae.b)()),n(se()),n(Object(U.g)("reconnected")),!a&&c&&n(fe(t,e)))}}function se(){return function(e,t,n){n.conn;if(t().widget.hasOpenedOnce)e(function(e){return{type:"DISABLE_HUB_ITEM",hubItemType:e}}("online"));else if(e({type:"REMOVE_HUB_ITEM",hubItemType:"online"}),"online"===Object(N.a)(t())){var r=Object(X.e)(t()).sort((function(e,t){return e.order-t.order}));r[0]&&e(Object(F.b)(Object(_.b)(r[0])))}e(Object(oe.a)())}}function fe(e,t){return function(n,r,o){var i;o.conn;e?((i=new H.e).systemMessageType="unavailable",i.formId=Number(e),n(Object(U.a)(i))):((i=new H.f).systemMessageType="unavailable",i.text=t,n(Object(U.a)(i)))}}var de=function(e){return{type:"SET_AGENT_IS_TYPING",payload:e}},le=function(e){return{type:"ADD_TO_QUEUE",payload:e}},pe=n(191),he=function(e){return function(t,n,r){r.conn;return Object(pe.a)(Object(G.c)("userId"),n().widget.visitorUuid,n().widget.inActiveConversation,n().activeConversation.agentId,n().widget.hash,e,{})}},ge=n(195),ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ye=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},me=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},we=0,be=0,_e=0;function Ee(e,t){we&&clearInterval(we),we=window.setInterval((function(){if(t.isOpen()){var n=e().widget,r=n.userId,o=n.channelId,i=e().activeConversation.conversationType,a=e().activeConversation.agentIdChangeHistory,c={type:"agent",agentId:Number(e().activeConversation.agentId)};"bot"===i&&(c={type:"bot",botId:e().activeConversation.botId}),t.send(V.a.activity(r,c,o,a))}}),2e4)}function Oe(e){setTimeout((function(){e({type:"SET_SHOW_AGENT_TYPING",showAgentTyping:!0})}),3e3)}function Se(e,t){var n=t().widget.onNoResponse.formId,r=t().messages.some((function(e){return e.id>0&&"message"===e.type&&"agent"===e.fromType})),o=t().activeConversation.isClosed;if(!r&&!o){var i=new H.e;i.systemMessageType="noresponse",i.formId=Number(n),e(Object(U.a)(i))}}function Ie(e,t){t({type:"SET_HUB_BADGE",hubItemType:"online",badgeCount:e}),Object(G.a)("setBadgeCount",e)}function Ce(e){return"bot"!==e().activeConversation.conversationType}function Te(e,t){if(e&&"form"===e.type)(n=new H.e).formId=Number(e.customForm),t(Object(U.a)(n));else if(e&&"rating"===e.type){(n=new H.d).ratingType=e.ratingType,n.text=e.text,t(Object(U.a)(n))}else{var n;(n=new H.d).ratingType="emoji",n.text=x.b.defaultRatingText,t(Object(U.a)(n))}}function Ae(e){if(!e)return null;for(var t=["message","bankid","file"],n=e.length-1;n>=0;n--)if(-1!==t.indexOf(e[n].type))return e[n];return null}function je(e,t,n,r){return ye(this,void 0,void 0,(function(){var o,i,a,c,u,s,f,d,l,p,h,g,v;return me(this,(function(y){switch(y.label){case 0:switch(e.type){case"CHAT_CONNECTED":return[3,1];case"BOT_CONNECTED":return[3,2];case"SOCKET_socket:end":return[3,3];case"SOCKET_transfer":return[3,4];case"SOCKET_botMessage":return[3,7];case"SOCKET_botMessages":return[3,8];case"SOCKET_closeConversationResponse":return[3,9];case"SOCKET_chatEnded":return[3,10];case"SOCKET_redirect":return[3,11];case"SOCKET_ban":return[3,12];case"SOCKET_allAgentsAway":case"SOCKET_away":return[3,13];case"SOCKET_slotsFull":return[3,14];case"SOCKET_offline":return[3,15];case"CHAT_FAIL_CONNECT":return[3,16];case"VISIBILITY_CHANGE":return[3,17];case"SOCKET_socket:reconnected":return[3,18];case"RESTART":case"RESET":return[3,19]}return[3,20];case 1:return n().widget.onNoResponse&&!be&&Object(G.b)("getSessionData","onNoResponse").then((function(e){if(e){var r=e.timerEnd;if(e.channelId===Object(ge.a)(n())){var o=Math.max(new Date(r).getTime()-(new Date).getTime(),0);be=window.setTimeout((function(){Se(t,n)}),o)}}})).catch((function(e){console.warn(e)})),o=n().activeConversation.isActive,i=n().widget.hasOpenedOnce,(g=new H.f).systemMessageType="reconnected",g.text=x.b.formatString(x.b.agentReconnected,{agentName:e.agentName}),o?(a=n().messages.find((function(e){return"reconnected"===e.systemMessageType})),c=a&&a.text===g.text,t(Object(U.g)("unavailable")),a&&!c&&(t(Object(U.g)("reconnected")),t(Object(U.a)(g)))):(t(Object(ae.c)()),i&&(t(Object(U.g)("unavailable")),t(Object(U.a)(g)))),Object(G.b)("setSessionData","active-service","chat-online").catch(console.warn),function(e,t,n,r){var o=t.agentName,i=t.agentPicture,a=n().hub.find((function(t){return t.type===e}));if(a){var c=void 0,u=void 0;if(a.greetingMessage)c=a.greetingMessage;else{var s=n().widget.greetingMessage;c=s.text,u=s.options}if(c){var f=Object(H.g)({agentName:o,agentPicture:i,text:c,options:u}),d=n().messages.some((function(e){return"greetingMessage"===e.type}));n().messages.some((function(e){return"message"===e.type&&"visitor"===e.fromType}))||(d?d&&r(Object(U.l)(f)):r(Object(U.a)(f)))}}}("online",{agentName:e.agentName,agentPicture:e.agentPicture},n,t),[3,20];case 2:return Object(G.b)("setSessionData","active-service","chat-bot").catch(console.warn),[3,20];case 3:return clearInterval(we),[3,20];case 4:return(u=n().messageQueue.queue).length>0&&(clearTimeout(_e),_e=0,t(Object(U.b)(u)),t({type:"CLEAR_QUEUE"}),t(de(!1))),(g=new H.f).text=x.b.formatString(x.b.onlineTransfer,{agentName:e.payload.newAgentName}),t(Object(U.a)(g)),"bot"===n().activeConversation.conversationType&&Ee(n,r),e.payload.isExternal?[4,t(he(new K.a)).then((function(e){e.trigger&&(e.trigger.consent&&(x.b.setContent(te()(x.a,e.trigger.consent.localization||{})),t(Object(z.g)(e.trigger.consent.id))),e.trigger.companyName&&t(Object(z.f)(e.trigger.companyName)),e.trigger.instanceId!==r.instanceId&&(t({type:"SET_INSTANCE_ID",payload:{instanceId:e.trigger.instanceId}}),t({type:"RECONNECT_SOCKET"})),t(Object(z.h)(e.trigger.onNoResponse)),t(Object(z.c)(e.trigger.onChatEnd)),t(Object(z.b)(e.trigger.chatAwayForm)),t(Object(z.d)(e.trigger.chatOfflineForm)),t(Object(z.e)(e.trigger.chatSlotsFullForm)))}))]:[3,6];case 5:y.sent(),y.label=6;case 6:return[3,20];case 7:return t(le(Object(H.j)(e.payload))),[3,20];case 8:return e.payload.messages.map((function(n){return t(le(Object(H.j)(ve(ve({},e.payload),n))))})),[3,20];case 9:return s=n().widget.onChatEnd,n().activeConversation.isClosed||(t(Object(ae.b)()),t(Object(ne.b)(!0,!0)),t(Object(U.f)()),Te(s,t)),clearInterval(we),[3,20];case 10:return s=n().widget.onChatEnd,f=n().activeConversation.agentName,n().activeConversation.isClosed||(t(Object(ae.b)()),t(Object(ne.b)(!0,!1)),(g=new H.f).text=x.b.formatString(x.b.chatEnd,{agentName:f}),t(Object(U.a)(g)),Te(s,t)),clearInterval(we),[3,20];case 11:return(d=e.payload.location)&&Object(G.a)("redirect",d),[3,20];case 12:return Object(G.a)("ban"),t(Object(ae.d)()),[3,20];case 13:return Ce(n)&&(l=n().widget.chatAwayForm,function(e,t,n,r,o){var i=n().messages.some((function(e){return"message"===e.type&&"visitor"===e.fromType})),a=n().activeConversation.isActive,c=n().messages.some((function(e){return"unavailable"===e.systemMessageType})),u=n().widget.hasOpenedOnce;!i&&a&&(r(Object(ae.b)()),r(se()),clearInterval(we),r(Object(U.g)("reconnected")),!c&&u&&r(fe(t,e)))}(x.b.agentAway,l,n,t)),[3,20];case 14:return Ce(n)&&(p=n().widget.chatSlotsFullForm,t(ue(x.b.agentSlotsFull,p))),[3,20];case 15:return clearInterval(we),Ce(n)&&(h=n().widget.chatOfflineForm,t(ue(x.b.agentOffline,h))),[3,20];case 16:return"offline"===e.payload.reason&&((g=new H.f).systemMessageType="unavailable",g.text=x.b.agentOffline,t(Object(U.a)(g))),[3,20];case 17:return"visible"===e.visibility&&((v=new K.a).push((new Date).toISOString()),v.push("visibilityChange"),t(ce(v))),[3,20];case 18:return(v=new K.a).push((new Date).toISOString()),v.push("socket:reconnected"),t(ce(v)),[3,20];case 19:return r.disconnect(),[3,20];case 20:return[2]}}))}))}function xe(e,t,n,r){var o,i;switch(e.type){case"CHAT_CONNECTED":Ee(n,r);break;case"OPEN_WIDGET":var a=(f=Object(N.b)(n()))&&"online"===f.module,c=(g=n().messages)[g.length-1];if(a){Ie(0,t),c&&c.sourceId&&Object(G.a)("setSessionData","read",c.sourceId);var u=null===(o=Ae(g))||void 0===o?void 0:o.sourceId,s=n().activeConversation.lastReadMessage;u&&u!==s&&t(Object(U.e)(u))}break;case"BOT_CONNECTED":Ee(n,r);break;case"NAVIGATE_TO":case"NAVIGATE_BACK":case"NAVIGATE_TO_INDEX":case"REPLACE_NAVIGATION":case"CHANGE_NAVIGATION_STACK":case"SOCKET_hist":var f=Object(N.b)(n()),d=n().widget.isOpen;if(f&&"online"===f.module&&d){Ie(0,t);u=null===(i=Ae(g=n().messages))||void 0===i?void 0:i.sourceId,s=n().activeConversation.lastReadMessage;u&&u!==s&&t(Object(U.e)(u)),u&&Object(G.a)("setSessionData","read",u)}"SOCKET_hist"===e.type&&function(e,t,n){var r=t().widget.isOpen,o=Object(N.b)(t()),i=o&&"online"===o.module,a=t().messages,c=a[a.length-1];r&&i?(Ie(0,e),c&&c.sourceId&&Object(G.a)("setSessionData","read",c.sourceId)):Object(G.b)("getSessionData","read").then((function(n){var r=n||0,o=t().messages,i=t().activeConversation,a=i&&i.agentName;o&&Ie(o.filter((function(e){return e.id>r&&e.from===a})).length,e)}))}(t,n);break;case"SEND_MESSAGE_SUCCESS":if(!be){var l=n().widget.onNoResponse,p=1===n().messages.filter((function(e){return"visitor"===e.fromType})).length;if(l&&p){var h=1e3*Number(l.time);Object(G.a)("setSessionData","onNoResponse",{timerEnd:(new Date).getTime()+h,channelId:Object(ge.a)(n())}),be=window.setTimeout((function(){Se(t,n)}),h)}}Oe(t);break;case"SEND_TYPING_STOPPED_FETCH":Oe(t);break;case"SOCKET_bankidRequest":case"SOCKET_sendSurvey":case"SOCKET_sendFile":case"SOCKET_"+V.a.Type.MESSAGE:var g,v=Object(N.b)(n()),y=n().widget.isOpen,m=(a=v&&"online"===v.module,n().hub.find((function(e){return"online"===e.type}))),w=m&&m.badgeCount||0;c=Ae(g=n().messages);if(y&&a&&!document.hidden&&c&&c.sourceId&&t(Object(U.e)(c.sourceId)),y&&a)c&&c.sourceId&&Object(G.a)("setSessionData","read",c.sourceId);else Ie(w+1,t);break;case"ADD_TO_QUEUE":var b=function(e){0===_e&&(_e=window.setTimeout((function(){var n=e().messageQueue.queue[0];(_e=0,n)&&(t(Object(U.a)(n)),t({type:"REMOVE_FROM_QUEUE"}),t(de(!1)),e().messageQueue.queue.length>1&&(t(de(!0)),b(e)))}),1e3*Math.random()+500))};b(n);break;case"ADD_MESSAGES":case"ADD_MESSAGE":!function(e,t){var n=t().widget.isOpen,r="online"===Object(N.b)(t()).module,o=t().hub.find((function(e){return"online"===e.type})),i=o&&o.badgeCount||0,a=t().messages,c=a[a.length-1];!a.some((function(e){return"visitor"===e.fromType}))||n&&r?c&&c.sourceId&&Object(G.a)("setSessionData","read",c.sourceId):Ie(i+1,e)}(t,n)}}var Ne=n(120),ke=n(130),Pe=0,Re=0;var De=n(87);var Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Me=n(149),Ue=n(148),Fe=n.n(Ue),We=function(){return(We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Be(e){Object(_.g)(Me.a,"interaction",(function(t){var n,r;return t?We(We({},t),((n={})[e]=(new Date).getTime(),n)):((r={})[e]=(new Date).getTime(),r)}))}var ze=n(193),He=n.n(ze),Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qe=["CHANGE_NAVIGATION_STACK","REPLACE_NAVIGATION","NAVIGATE_TO","NAVIGATE_TO_AT","NAVIGATE_BACK","NAVIGATE_TO_INDEX","OPEN_WIDGET","CLOSE","SOCKET_showForm","SOCKET_showAnswers","ANSWERS_SEARCH_SUCCESS","UPDATE_SEARCH_TERM","ADD_PENDING_MESSAGE","CLEAR_ALL_PENDING_MESSAGES","SHOW_CONSENT","ACCEPT_CONSENT_SUCCESS","OPEN_NOTIFICATION_ONLINE","OPEN_NOTIFICATION_ANSWERS","SEND_MESSAGE_SUCCESS","SOCKET_offline","SOCKET_allAgentsAway","SOCKET_chatEnded","SOCKET_closeConversationResponse","SOCKET_transfer","SOCKET_conversationClaimed","CLEAR_CONSENT","HIDE_NOTIFICATION","FEEDBACK_VOTE","SET_FORM_VALUE"],Ve=["CHANGE_AUDIO_INPUT_DEVICE_ID","CHANGE_AUDIO_OUTPUT_DEVICE_ID","CHANGE_VIDEO_INPUT_DEVICE_ID","WEBRTC_TOGGLE_MUTE"];function Ye(e){return e?Ge(Ge({},e),{navigationStacks:Object.keys(e.navigationStacks).reduce((function(t,n){var r,o=e.navigationStacks[n],i=o.currentIndex,a=o.history.filter((function(e){return"formThankYou"!==e.name})).filter((function(e){return"onlineInCall"!==e.name}));return o.currentIndex+1>=a.length&&(i=a.length-1),Ge(Ge({},t),((r={})[n]=Ge(Ge({},o),{currentIndex:i,history:a}),r))}),{})}):e}function Ke(e){return e?Object.keys(e).reduce((function(t,n){var r;return Ge(Ge({},t),((r={})[n]={status:"none",search:e[n].search,searchResultId:e[n].searchResultId,result:{results:[],search:e[n].result&&e[n].result.search}},r))}),{}):e}var Je={};function $e(e){var t=e.play();t&&t.then&&t.catch((function(e){console.warn("could not play sound")}))}function Qe(e){Je[e]?$e(Je[e]):(Je[e]=function(e){var t=new Audio;try{t.canPlayType&&t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")?t.src="https://files.imbox.io/app/static/".concat(e,".ogg"):t.canPlayType&&t.canPlayType("audio/mpeg;").replace(/no/,"")?t.src="https://files.imbox.io/app/static/".concat(e,".mp3"):t.canPlayType&&t.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")?t.src="https://files.imbox.io/app/static/".concat(e,".m4a"):t.src="https://files.imbox.io/app/static/".concat(e,".mp3")}catch(e){console.warn(e)}return t}(e),Je[e].addEventListener("canplaythrough",(function(){$e(Je[e])})))}var Xe=new(function(){function e(){this.timeoutHandler=0}return e.prototype.startPolling=function(e,t){0===this.timeoutHandler&&this.poll(e,t)},e.prototype.stopPolling=function(){clearTimeout(this.timeoutHandler),this.timeoutHandler=0},e.prototype.poll=function(e,t){var n=this,r="interval-".concat(e,"-poll-").concat((new Date).toISOString());this.timeoutHandler=window.setTimeout((function(){r+="-callback-".concat((new Date).toISOString(),"-").concat(n.timeoutHandler),Promise.resolve(t(r)).then((function(){n.poll(e,t)}),(function(){n.poll(e,t)}))}),e)},e}());var Ze=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function et(e){var t={remoteAddress:"NA",remoteType:"",bytesReceived:0,bytesSent:0},n=[];return e.forEach((function(e){"remote-candidate"===e.type&&n.push(e)})),e.forEach((function(e){if("candidate-pair"===e.type&&!0===e.nominated){var r=n.find((function(t){return t.id===e.remoteCandidateId}));t.remoteAddress=null==r?void 0:r.address,t.remoteType=null==r?void 0:r.candidateType,t.bytesReceived=e.bytesReceived,t.bytesSent=e.bytesSent}})),e.forEach((function(e){"googCandidatePair"===e.type&&"true"===e.googActiveConnection&&(t.remoteAddress=e.googRemoteAddress,t.bytesReceived=Number(e.bytesReceived),t.bytesSent=Number(e.bytesSent))})),t}var tt=function(){function e(){this.subscribers=[]}return e.prototype.publish=function(e,t){for(var n=Ze([],this.subscribers,!0),r=0;r<n.length;r++)n[r].name===e&&n[r].callback(t)},e.prototype.subscribe=function(e,t){var n=this.generateSubscribeId();return this.subscribers.push({id:n,name:e,callback:t}),n},e.prototype.unsubscribe=function(e){this.subscribers=this.subscribers.filter((function(t){return t.id!==e}))},e.prototype.generateSubscribeId=function(){var e;do{e=Math.floor(1e3*Math.random())}while(this.subscribers.some((function(t){return t.id===e})));return e},e}(),nt=new(function(){function e(){this.configuration={},this.pubsub=new tt,this.statsIntervalHandler=0,this.iceQueues={}}return e.prototype.initConfiguration=function(e){this.configuration=e},e.prototype.handleAgentOffer=function(e,t,n,r,o,i,a){return this.setupPeerConnectionByAnswering(e,t,n,r,o,i,a)},e.prototype.handleNewOffer=function(e,t){var r=this;return n.e(23).then(n.bind(null,837)).then((function(n){var o=n.default;n.getUserMedia;r.PeerConnection=o;var i=function(e){r.pubsub.publish("errorAnswer",{reason:e})};r.peerConnection||(r.peerConnection=new r.PeerConnection(r.configuration),r.setupPeerConnectionListeners(e)),r.peerConnection.handleOffer(t,(function(e){if(e)return console.error(e),void i("Could not connect");r.peerConnection.answer((function(e,t){if(e)return console.error(e),void i("Could not connect");r.pubsub.publish("answerCreated",{answer:t})}))}))}))},e.prototype.replaceCurrentTrackByType=function(e,t,n,r,o){var i=this;this.getStream(e,t,n,r,o,this.getUserMedia,(function(t,n){if(t)return console.error(t),void i.pubsub.publish("errorReplaceCurrentTracks",{reason:"Could not find local devices"});if(i.pubsub.publish("ownStreamConnected",{stream:n}),i.peerConnection)if("video"===e){var r=n.getVideoTracks()[0];(o=i.peerConnection.getSenders().find((function(e){return e.track.kind===(null==r?void 0:r.kind)})))&&o.replaceTrack(r)}else{var o,a=n.getAudioTracks()[0];(o=i.peerConnection.getSenders().find((function(e){return e.track.kind===(null==a?void 0:a.kind)})))&&o.replaceTrack(a)}}))},e.prototype.handleAgentAnswer=function(e){this.peerConnection?this.peerConnection.handleAnswer(e):console.warn("Cannot handle agent answer since we're not calling the agent")},e.prototype.handleAgentIce=function(e){this.peerConnection&&this.peerConnection.hasSetRemoteDescription?this.peerConnection.processIce(e):this.addToIceQueue(e)},e.prototype.clear=function(){this.clearAllConnections()},e.prototype.hangup=function(){this.pubsub.publish("hangup",{}),this.clearAllConnections()},e.prototype.receivedHangup=function(){this.clearAllConnections()},e.prototype.isInCall=function(){return!!this.peerConnection},e.prototype.on=function(e,t){return this.pubsub.subscribe(e,t)},e.prototype.off=function(e){this.pubsub.unsubscribe(e)},e.prototype.clearAllConnections=function(){this.peerConnection&&(clearInterval(this.statsIntervalHandler),this.peerConnection.close(),this.peerConnection=null)},e.prototype.addToIceQueue=function(e){this.iceQueues[1]||(this.iceQueues[1]=[]),this.iceQueues[1].push(e)},e.prototype.getIceQueue=function(){return this.iceQueues[1]?this.iceQueues[1]:[]},e.prototype.setupPeerConnectionListeners=function(e){var t=this;this.peerConnection.on("iceConnectionStateChange",(function(n){"disconnected"===n.target.iceConnectionState&&setTimeout((function(){t.pubsub.publish("connection",{callType:e,event:"disconnected"})}),5e3)})),this.peerConnection.on("ice",(function(n){t.pubsub.publish("ice",{callType:e,candidate:n})})),this.peerConnection.on("addStream",(function(n){t.pubsub.publish("addStream",{callType:e,stream:n.stream})})),this.peerConnection.on("removeStream",(function(e){})),this.peerConnection.on("close",(function(){}))},e.prototype.setupPeerConnectionByAnswering=function(e,t,r,o,i,a,c){var u=this;return n.e(23).then(n.bind(null,837)).then((function(t){var n=t.default,s=t.getUserMedia;u.PeerConnection=n,u.getUserMedia=s,u.peerConnection||(u.peerConnection=new u.PeerConnection(u.configuration),u.setupPeerConnectionListeners(r),clearInterval(u.statsIntervalHandler),u.statsIntervalHandler=window.setInterval((function(){u.peerConnection.getStats(null).then((function(e){u.pubsub.publish("stats",{stats:et(e)})}))}),15e3));var f=function(e){u.pubsub.publish("errorAnswer",{reason:e})};u.getStream(r,o,i,a,c,s,(function(t,n){if(t)return console.error(t),void f("Could not find local devices");u.pubsub.publish("ownStreamConnected",{stream:n}),u.peerConnection.handleOffer(e,(function(e){if(e)return console.error(e),void f("Could not connect");u.peerConnection.addStream(n),u.peerConnection.answer((function(e,t){if(e)return console.error(e),void f("Could not connect");u.pubsub.publish("answerCreated",{answer:t});for(var n=u.getIceQueue();n.length;)u.peerConnection.processIce(n.shift());u.peerConnection.hasSetRemoteDescription=!0}))}))}))}))},e.prototype.getStream=function(e,t,n,r,o,i,a){var c=this,u=this.buildConstraints(e,t,n,r);i(u,"video"===e?function(e,u){!e&&o&&u.getAudioTracks().forEach((function(e){e.enabled=!1}));e&&"NotFoundError"===e.name?i(c.buildConstraints("voice",t,n,r),a):a(e,u)}:function(e,t){!e&&o&&t.getAudioTracks().forEach((function(e){e.enabled=!1}));a(e,t)})},e.prototype.buildConstraints=function(e,t,n,r){var o={video:!0,audio:!0};return"voice"===e&&(o={audio:!0,video:!1}),t&&!n?o.audio={deviceId:[t,"default"]}:!t&&n?o.audio={deviceId:["default",n]}:t&&n&&(o.audio={deviceId:[t,n]}),r&&o.video&&(o.video={deviceId:{exact:r}}),o},e}()),rt=n(222),ot=function(){return(ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function it(e){return ot(ot({},e),{iceServers:e.iceServers.map((function(e){var t=e;return t.urls=[e.url],delete t.url,t}))})}var at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ct={liveMessage:""},ut=function(e,t){switch(void 0===e&&(e=ct),t.type){case"LIVE_MESSAGE":return at(at({},e),{liveMessage:t.payload.liveMessage});default:return e}},st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ft=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},dt={status:"none",hasConnected:!1,isActive:!1,isClosed:!1,isClosedByMe:!1,showAgentTyping:!0,visitorMessage:"",lastReadMessage:1,agentIdChangeHistory:[]},lt=function(e,t){switch(void 0===e&&(e=dt),t.type){case"CHAT_CONNECTED":return st(st({},e),{agentId:t.agentId,agentName:t.agentName,agentPicture:t.agentPicture,agentDepartment:t.agentDepartment,conversationType:"human",isActive:!0,status:"success",agentIdChangeHistory:ft(ft([],e.agentIdChangeHistory,!0),[{oldAgentId:e.agentId,newAgentId:t.agentId,reduxActionName:"CHAT_CONNECTED",trace:t.trace}],!1)});case"BOT_CONNECTED":return st(st({},e),{botId:t.botId,agentName:t.agentName,agentPicture:t.agentPicture,conversationType:"bot",isActive:!0,status:"success"});case"CHAT_FAIL_CONNECT":return"offline"===t.payload.reason?st(st({},e),{agentId:t.payload.agentId,agentName:t.payload.agentName,agentPicture:t.payload.agentPicture,agentDepartment:t.payload.agentDepartment,conversationType:"human",status:"success",isActive:!1,agentIdChangeHistory:ft(ft([],e.agentIdChangeHistory,!0),[{oldAgentId:e.agentId,newAgentId:t.agentId,reduxActionName:"CHAT_CONNECTED",trace:t.trace}],!1)}):st(st({},e),{status:"failed"});case"BOT_FAIL_CONNECT":return st(st({},e),{status:"failed"});case"CHAT_FETCH_CONNECT":case"BOT_FETCH_CONNECT":return st(st({},e),{status:"connecting"});case"SOCKET_typing":return st(st({},e),{agentIsTyping:!0});case"SOCKET_stopTyping":return st(st({},e),{agentIsTyping:!1});case"SOCKET_message":case"SOCKET_typingStopped":case"SOCKET_showForm":case"SOCKET_showAnswers":return st(st({},e),{agentIsTyping:!1});case"SOCKET_transfer":return st(st({},e),{agentIsTyping:!1,agentId:t.payload.newAgentID,botId:void 0,agentName:t.payload.newAgentName,agentPicture:t.payload.newAgentPic,agentDepartment:t.payload.newAgentDep,conversationType:"human",agentIdChangeHistory:ft(ft([],e.agentIdChangeHistory,!0),[{oldAgentId:e.agentId,newAgentId:t.agentId,reduxActionName:"CHAT_CONNECTED",trace:""}],!1)});case"SOCKET_conversationClaimed":return st(st({},e),{agentIsTyping:!1,agentId:t.payload.agentId,agentName:t.payload.agentName,agentPicture:t.payload.agentPicture,agentDepartment:t.payload.agentDepartment,conversationType:"human",agentIdChangeHistory:ft(ft([],e.agentIdChangeHistory,!0),[{oldAgentId:e.agentId,newAgentId:t.payload.agentId,reduxActionName:"CHAT_CONNECTED",trace:""}],!1)});case"DISABLE_CONVERSATION":return st(st({},e),{isActive:!1});case"ENABLE_CONVERSATION":return st(st({},e),{isActive:!0});case"SET_ACTIVE_CONVERSATION_CLOSED":return st(st({},e),{isClosed:t.closed,isClosedByMe:t.isClosedByMe});case"SEND_TYPING_FETCH":return e.showAgentTyping?st(st({},e),{showAgentTyping:!1}):e;case"SET_SHOW_AGENT_TYPING":return st(st({},e),{showAgentTyping:t.showAgentTyping});case"SAVE_EDITOR_CONTENT":return st(st({},e),{visitorMessage:t.content});case"LAST_READ_MESSAGE":return st(st({},e),{lastReadMessage:t.messageId});case"SEND_MESSAGE_SUCCESS":return st(st({},e),{myLastMessageId:t.myLastMessageId});case"SET_AGENT_IS_TYPING":return st(st({},e),{agentIsTyping:t.payload});default:return e}},pt=function(){return(pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ht={},gt=function(e,t){var n,r,o,i;switch(void 0===e&&(e=ht),t.type){case"ANSWERS_ARTICLE_DETAILS_FETCH":return pt(pt({},e),((n={})[t.answersId]=pt(pt({},e[t.answersId]),{status:"fetching"}),n));case"ANSWERS_ARTICLE_DETAILS_SUCCESS":return pt(pt({},e),((r={})[t.answersId]=pt(pt({},e[t.answersId]),{status:"success",article:t.data}),r));case"ANSWERS_ARTICLE_DETAILS_FAILED":return pt(pt({},e),((o={})[t.answersId]=pt(pt({},e[t.answersId]),{status:"failed"}),o));case"ANSWERS_ARTICLE_DETAILS_NOT_FOUND":return pt(pt({},e),((i={})[t.answersId]=pt(pt({},e[t.answersId]),{status:"not_found"}),i));default:return e}},vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yt={},mt=function(e,t){var n,r,o,i;switch(void 0===e&&(e=yt),t.type){case"ANSWERS_ARTICLES_FETCH":return vt(vt({},e),((n={})[t.answersId]=vt(vt({},e[t.answersId]),{status:"fetching"}),n));case"ANSWERS_ARTICLES_SUCCESS":return vt(vt({},e),((r={})[t.answersId]=vt(vt({},e[t.answersId]),{status:"success",articles:t.allArticles,orphans:null!==(o=t.orphans)&&void 0!==o?o:[],sections:null!==(i=t.sections)&&void 0!==i?i:[],category:t.category}),r));default:return e}},wt=n(250),bt={show:!1,type:"none"},_t=function(){return(_t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Et=function(e,t){switch(void 0===e&&(e={}),t.type){case"SOCKET_socket:reconnected":return _t(_t({},e),{status:"reconnected",presentationStatus:"reconnected"});case"SOCKET_socket:open":return _t(_t({},e),{status:"open",presentationStatus:"open"});case"SOCKET_socket:opening":return _t(_t({},e),{status:"opening",presentationStatus:"opening"});case"SOCKET_socket:end":return _t(_t({},e),{status:"end"});case"connectionStatus":return _t(_t({},e),{presentationStatus:t.status});default:return e}},Ot=function(){return(Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},St={showConsent:!1,hasShownConsent:!1,status:"none"},It=function(e,t){switch(void 0===e&&(e=St),t.type){case"INITIAL_CONSENT":return t.state;case"SHOW_CONSENT":return Ot(Ot({},e),{showConsent:!0});case"ACCEPT_CONSENT_FETCH":return Ot(Ot({},e),{status:"fetch"});case"ACCEPT_CONSENT_SUCCESS":return Ot(Ot({},e),{status:"success",showConsent:!1,hasShownConsent:!0});case"ACCEPT_CONSENT_FAILED":return Ot(Ot({},e),{status:"failed"});case"HAS_SHOWN_CONSENT":return Ot(Ot({},e),{hasShownConsent:!0});case"HIDE_CONSENT":return Ot(Ot({},e),{showConsent:!1,status:"none"});case"SOCKET_transfer":return t.payload.isExternal?St:e;case"CLEAR_CONSENT":return St;default:return e}},Ct=function(){return(Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tt={},At=function(e,t){var n;switch(void 0===e&&(e=Tt),t.type){case"SEND_RATING":return Ct(Ct({},e),((n={})[t.channelId]=t.rating,n));default:return e}},jt=function(){return(jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xt={widget:"",launcher:""},Nt=function(e,t){switch(void 0===e&&(e=xt),t.type){case"SET_CUSTOM_STYLES":return jt(jt({},e),t.payload);default:return e}},kt=n(251),Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Rt={},Dt=function(e,t){var n;switch(void 0===e&&(e=Rt),t.type){case kt.b:return t.feedbackVotes?t.feedbackVotes:e;case kt.a:return Pt(Pt({},e),((n={})[String(t.payload.articleId)]={vote:t.payload.vote},n));default:return e}},Lt={hasOpenedManually:!1},Mt=function(e,t){switch(void 0===e&&(e=Lt),t.type){case"OPEN_WIDGET":return{hasOpenedManually:!0};default:return e}},Ut=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ft=[],Wt=function(){return(Wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bt={},zt=function(e,t){var n,r,o,i;switch(void 0===e&&(e=Bt),t.type){case"SET_FORM_VALUES":var a="".concat(t.instanceId,":").concat(t.formId);return Wt(Wt({},e),((n={})[a]=t.values,n));case"SET_FORM_VALUE":a="".concat(t.instanceId,":").concat(t.formId);return Wt(Wt({},e),((r={})[a]=Wt(Wt({},e[a]),((o={})[t.id]=t.value,o)),r));case"FORM_SUBMIT_SUCCESS":a="".concat(t.instanceId,":").concat(t.formId);return Wt(Wt({},e),((i={})[a]={},i));case"INITIAL_STATE":return t.formValues?t.formValues:e;default:return e}},Ht=n(361),Gt=n.n(Ht),qt=function(){return(qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vt={},Yt=function(e,t){var n,r,o;switch(void 0===e&&(e=Vt),t.type){case"FORM_SUBMIT_SUCCESS":return qt(qt({},e),((n={})[t.formId]=qt(qt({},e[t.formId]),{thankyouText:t.thankyouText}),n));case"FORM_FETCH":return qt(qt({},e),((r={})[t.formId]=qt(qt({},e[t.formId]),{status:"fetching"}),r));case"FORM_SUCCESS":return qt(qt({},e),((o={})[t.formId]=qt(qt({},e[t.formId]),{status:"success",form:t.data,versionId:t.versionId,faqAPIVersion:t.faqAPIVersion,languageCode:t.languageCode}),o));case"FORM_FAILED":return Gt()(e,(function(e,n){return n===""+t.formId}));default:return e}},Kt={url:""},Jt=function(e,t){switch(void 0===e&&(e=Kt),t.type){case"TRIGGER_RESULT":return{url:t.metadata.url,deviceType:t.metadata.deviceType,referrer:t.metadata.referrer,language:t.metadata.language};default:return e}},$t=n(362),Qt=n.n($t),Xt=function(){return(Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Zt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},en=[];var tn=function(e,t){switch(void 0===e&&(e=en),t.type){case"OPEN_HUB":return t.items;case"ADD_HUB_ITEMS":return(n=Qt()(Zt(Zt([],e,!0),t.items,!0),"id")).find((function(e){return"online"===e.type}))?n.filter((function(e){return"form"!==e.type||!e.isConnectedToChat})):n;case"REMOVE_HUB_ITEM":return e.filter((function(e){return e.type!==t.hubItemType}));case"DISABLE_HUB_ITEM":return Object(_.j)(e,(function(e){return e.type===t.hubItemType}),(function(e){return Xt(Xt({},e),{disabled:!0})}));case"SET_HUB_BADGE":return Object(_.j)(e,(function(e){return e.type===t.hubItemType}),(function(e){return Xt(Xt({},e),{badgeCount:t.badgeCount})}));case"CHANGE_NAVIGATION_STACK":return"online"===t.stackId?Object(_.j)(e,(function(e){return"online"===e.type}),(function(e){return Xt(Xt({},e),{badgeCount:0})})):e;case"CHAT_CONNECTED":return Object(_.j)(e,(function(e){return"online"===e.type}),(function(e){return Xt(Xt({},e),{disabled:!1})}));case"SOCKET_transfer":return Object(_.j)(e,(function(e){return"bot"===e.type}),(function(e){return Xt(Xt({},e),{id:"online",type:"online",agentID:t.payload.newAgentID,agentName:t.payload.newAgentName,agentPicture:t.payload.newAgentPic})}));default:return e}var n},nn=function(){return(nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rn={language:void 0,loadingLanguageTexts:!1,rtl:!1},on=function(e,t){switch(void 0===e&&(e=rn),t.type){case"SET_LANGUAGE":return nn(nn({},e),{language:t.payload.language});case"SET_LOADING_LANGUAGE_FILE":return nn(nn({},e),{loadingLanguageTexts:t.payload.value});default:return e}},an=function(){return(an=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},cn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},un={queue:[]},sn=function(e,t){switch(void 0===e&&(e=un),t.type){case"ADD_TO_QUEUE":return an(an({},e),{queue:cn(cn([],e.queue,!0),[t.payload],!1)});case"REMOVE_FROM_QUEUE":return an(an({},e),{queue:e.queue.slice(1,e.queue.length)});case"CLEAR_QUEUE":return un;default:return e}},fn=n(363),dn=n.n(fn),ln=function(){return(ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},hn=[],gn=function(e,t){switch(void 0===e&&(e=hn),t.type){case"SOCKET_"+V.a.Type.HIST:return dn()(e,t.payload.data.map((function(e){return Object(H.j)(e)})).filter((function(e){return!!e})),(function(e){return e.sourceId||e.id}));case"SOCKET_bankidRequest":case"SOCKET_sendSurvey":case"SOCKET_sendFile":case"SOCKET_"+V.a.Type.MESSAGE:return pn(pn([],e,!0),[Object(H.j)(t.payload)],!1);case"BANKID_INITIATED_SUCCESS":return Object(_.j)(e,(function(e){return e.id===t.payload.messageId}),(function(e){return ln(ln({},e),{status:t.payload.status,autoStartToken:t.payload.autoStartToken,qrDataURL:t.payload.qrDataURL,hintCode:t.payload.hintCode})}));case"BANKID_INITIATED_FAILED":return Object(_.j)(e,(function(e){return e.id===t.payload.messageId}),(function(e){return ln(ln({},e),{status:t.payload.status})}));case"SOCKET_bankidResult":return Object(_.j)(e,(function(e){return e.id===t.payload.messageId}),(function(e){return ln(ln({},e),{status:t.payload.status,text:Object(H.h)(t.payload.text)})}));case"SOCKET_bankidUpdate":return Object(_.j)(e,(function(e){return e.id===t.payload.messageId}),(function(e){var n,r;return ln(ln({},e),{qrDataURL:null!==(n=t.payload.qrDataURL)&&void 0!==n?n:e.qrDataURL,hintCode:null!==(r=t.payload.hintCode)&&void 0!==r?r:e.hintCode})}));case"SEND_MESSAGE_FETCH":var n=new H.c;return n.id=t.id,n.fromType="visitor",n.body=t.message,n.type="message",n.timestamp=new Date,pn(pn([],e,!0),[n],!1);case"SEND_MESSAGE_SUCCESS":return e.map((function(e){return e.id===t.id?ln(ln({},e),{sourceId:t.payload.id}):e}));case"ADD_MESSAGE":return pn(pn([],e,!0),[t.message],!1);case"ADD_MESSAGES":return pn(pn([],e,!0),t.payload,!0);case"REPLACE_MESSAGE":return e.map((function(e){return e.id===t.message.id?t.message:e}));case"UPDATE_GREETING_MESSAGE":return Object(_.j)(e,(function(e){return"greetingMessage"===e.type}),(function(e){return ln(ln({},e),t.opts)}));case"REMOVE_SYSTEM_MESSAGE_BY_TYPE":return e.some((function(e){return e.systemMessageType===t.systemMessageType}))?e.filter((function(e){return e.systemMessageType!==t.systemMessageType})):e;case"CLEAR_MESSAGES":return[];case"SOCKET_decoratedMessage":return e.map((function(e){return e.id===t.payload.source_id?ln(ln({},e),{metadata:Object(H.i)(t.payload.decoration)}):e}));case"SOCKET_transfer":return t.payload.isExternal?e.filter((function(e){return"system"===e.type})):e;case"REMOVE_MESSAGES":return hn;default:return e}},vn=n(42),yn=function(){return(yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mn={isOpen:!1},wn=function(e,t){switch(void 0===e&&(e=mn),t.type){case"INITIAL_STATE":return t.notification?t.notification:e;case"OPEN_NOTIFICATION_ANSWERS":return yn(yn({},e),{notificationId:t.notificationId,formId:t.formId,isOpen:!0,type:"answers",userId:t.userId,message:t.message});case"OPEN_NOTIFICATION_ONLINE":return yn(yn({},e),{isOpen:!0,notificationId:t.notificationId,type:"online",message:t.message,department:t.department});case"UPDATE_NOTIFICATION_MESSAGE":return yn(yn({},e),{message:t.message});case"HIDE_NOTIFICATION":return yn(yn({},e),{isOpen:!1});default:return e}},bn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},_n=function(e,t){switch(void 0===e&&(e=[]),t.type){case"ADD_PENDING_MESSAGE":return bn(bn([],e,!0),[t.message],!1);case"INITIAL_STATE":return t.pendingMessages?t.pendingMessages:e;case"CLEAR_ALL_PENDING_MESSAGES":return[];default:return e}},En=function(){return(En=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},On={},Sn=function(e,t){var n,r;switch(void 0===e&&(e=On),t.type){case"ANSWERS_POPULAR_QUESTIONS_FETCH":var o="".concat(t.categoryId).concat(t.numberOfItems);return En(En({},e),((n={})[o]={status:"fetching"},n));case"ANSWERS_POPULAR_QUESTIONS_SUCCESS":o="".concat(t.categoryId).concat(t.numberOfItems);return En(En({},e),((r={})[o]={status:"success",popularQuestions:Object.keys(t.data).map((function(e){return t.data[e]})).map((function(e){return{id:e.id,categoryId:e.cat,text:e.qSub,userId:e.sid}}))},r));default:return e}},In=function(){return(In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Cn={};function Tn(e){var t=e.highlight&&e.highlight.content_text,n=e._source.content_text;return t||(n?n.replace("\n","").substr(0,120):"")}var An,jn=function(e,t){var n,r,o,i;switch(void 0===e&&(e=Cn),t.type){case"INITIAL_STATE":return t.search?In(In({},e),t.search):e;case"UPDATE_SEARCH_TERM":return In(In({},e),((n={})[t.answersId]=In(In({},e[t.answersId]),{search:t.search}),n));case"ANSWERS_SEARCH_FETCH":return In(In({},e),((r={})[t.answersId]=In(In({},e[t.answersId]),{status:"fetching"}),r));case"ANSWERS_SEARCH_SUCCESS":return In(In({},e),((o={})[t.answersId]=In(In({},e[t.answersId]),{status:"success",searchResultId:t.data.id,result:{results:t.data.json.map((function(e){return{highlight:Tn(e),articleId:e._source.id,articleTitle:e.highlight&&e.highlight.title&&e.highlight.title[0]||e._source.title,categoryId:e._source.category_id,categoryName:e._source.category_name}})),suggest:(i=t.data.suggest,i&&i.length>0&&i[0]&&i[0].options&&i[0].options.length>0&&i[0].options[0].text),search:t.search}}),o));default:return e}},xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Nn={status:"none",agentId:0,agentName:"",agentPicture:"",answerType:null,startedAt:null,answerMedia:null,audioInputDeviceId:null,audioOutputDeviceId:null,videoInputDeviceId:null,isMuted:!1},kn=function(){return(kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Rn={},Dn=function(e,t){var n,r,o;switch(void 0===e&&(e=Rn),t.type){case"ANSWERS_SUGGEST_FETCH":return kn(kn({},e),((n={})[t.answersId]=kn(kn({},e[t.answersId]),{status:"fetching"}),n));case"ANSWERS_SUGGEST_SUCCESS":var i=t.data&&t.data.docsuggest||[];return kn(kn({},e),((r={})[t.answersId]=kn(kn({},e[t.answersId]),{status:"success",suggestions:i.reduce((function(e,t){return Pn(Pn([],e,!0),t.options,!0)}),[]).map((function(e){return{text:e.text,articleId:e.payload.id}}))}),r));case"CLEAR_SUGGESTIONS":return kn(kn({},e),((o={})[t.answersId]=kn(kn({},e[t.answersId]),{status:"none",suggestions:[]}),o));default:return e}},Ln=function(){return(Ln=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Mn=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Un={userId:void 0,agentId:void 0,token:void 0,host:{},isOpen:!1,hasOpenedOnce:!1,openReason:void 0,messageListHeight:80,onChatEnd:void 0,soundEnabled:!0,inActiveConversation:!1,showLauncherOnTrigger:!0,triggerStatus:"none",inTransition:!1,enableCloseConversation:!1,instanceId:void 0,greetingMessage:{text:""},hiddenServices:[],hash:""},Fn=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+u.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},c=0;c<a.length;c++){var u=a[c],s=n[u],d=e[u],l=s(d,t);if(void 0===l){var p=f(u,t);throw new Error(p)}o[u]=l,r=r||l!==d}return r?o:e}}({messages:gn,activeConversation:lt,widget:function(e,t){switch(void 0===e&&(e=Un),t.type){case"INITIAL_STATE":return t.widget?Ln(Ln(Ln({},e),t.widget),{hasOpenedOnce:t.widget.isOpen}):e;case"TRIGGER_RESULT":return Ln(Ln({},e),{userId:t.userId,agentId:t.agentId,visitorUuid:t.visitorUuid,token:t.token,channelId:t.channelId,host:{url:t.metadata.url,deviceType:t.metadata.deviceType,referrer:t.metadata.referrer},onChatEnd:t.onChatEnd,chatAwayForm:t.chatAwayForm,chatOfflineForm:t.chatOfflineForm,chatSlotsFullForm:t.chatSlotsFullForm,onNoResponse:t.onNoResponse,noSearchResult:t.noSearchResult,companyName:t.companyName,consentId:t.consentId,shouldPoll:t.shouldPoll,enableCloseConversation:t.enableCloseConversation,instanceId:t.instanceId,greetingMessage:t.greetingMessage,hash:t.hash});case"OPEN_WIDGET":return Ln(Ln({},e),{isOpen:!0,hasOpenedOnce:!0,openReason:t.reason});case"FORCE_OPEN_WIDGET":case"OPEN_NOTIFICATION_ANSWERS":case"OPEN_NOTIFICATION_ONLINE":return Ln(Ln({},e),{isOpen:!0,hasOpenedOnce:!0});case"CLOSE":return Ln(Ln({},e),{isOpen:!1});case"UPDATE_MESSAGE_LIST_HEIGHT":return e.messageListHeight===t.messageListHeight?e:Ln(Ln({},e),{messageListHeight:t.messageListHeight});case"DISABLE_SOUND":return Ln(Ln({},e),{soundEnabled:!1});case"SEND_MESSAGE_SUCCESS":return Ln(Ln({},e),{inActiveConversation:!0});case"SOCKET_offline":case"SOCKET_allAgentsAway":case"SOCKET_closeConversationResponse":case"SOCKET_chatEnded":return Ln(Ln({},e),{inActiveConversation:!1});case"SET_SHOW_LAUNCHER_ON_TRIGGER":return Ln(Ln({},e),{showLauncherOnTrigger:t.showLauncherOnTrigger});case"SOCKET_transfer":return t.payload.isExternal?Ln(Ln({},e),{userId:Number(t.payload.newAgentUserId),channelId:t.payload.newChannel}):e;case"TRIGGER_FETCH":return Ln(Ln({},e),{triggerStatus:"fetch"});case"TRIGGER_SUCCESS":return Ln(Ln({},e),{triggerStatus:"success"});case"TRIGGER_FAILED":return Ln(Ln({},e),{triggerStatus:"failed"});case"SET_CONSENT_ID":return Ln(Ln({},e),{consentId:t.payload.consentId});case"SET_COMPANY_NAME":return Ln(Ln({},e),{companyName:t.payload.companyName});case"SET_TRANSITION":return Ln(Ln({},e),{inTransition:t.payload});case"SET_INSTANCE_ID":return Ln(Ln({},e),{instanceId:t.payload.instanceId});case"SET_NO_RESPONSE_FORM":return Ln(Ln({},e),{onNoResponse:t.payload});case"SET_CHAT_AWAY_FORM":return Ln(Ln({},e),{chatAwayForm:t.payload});case"SET_CHAT_OFFLINE_FORM":return Ln(Ln({},e),{chatOfflineForm:t.payload});case"SET_CHAT_SLOTS_FULL_FORM":return Ln(Ln({},e),{chatSlotsFullForm:t.payload});case"SET_CHAT_END_FORM":return Ln(Ln({},e),{onChatEnd:t.payload});case"HIDE_SERVICE":return Ln(Ln({},e),{hiddenServices:Mn(Mn([],e.hiddenServices,!0),[t.payload.serviceName],!1)});case"SHOW_SERVICE":return Ln(Ln({},e),{hiddenServices:e.hiddenServices.filter((function(e){return e!==t.payload.serviceName}))});case"SET_TRIGGER_HASH":return Ln(Ln({},e),{hash:t.payload});default:return e}},stream:function(e,t){switch(void 0===e&&(e=Nn),t.type){case"INITIAL_STATE":return t.stream?xn(xn({},e),{audioInputDeviceId:t.stream.audioInputDeviceId,audioOutputDeviceId:t.stream.audioOutputDeviceId,videoInputDeviceId:t.stream.videoInputDeviceId,isMuted:t.stream.isMuted}):e;case"WEBRTC_INCOMING_CALL":return{status:"incoming",agentId:t.agentId,agentName:t.agentName,agentPicture:t.agentPicture,callType:t.callType,answerType:t.callType,isMuted:!1};case"WEBRTC_ANSWER_ACCEPT_FETCH":return xn(xn({},e),{status:"answering",answerType:t.payload.answerType});case"WEBRTC_ANSWER_REJECT":return xn(xn({},e),{status:"none"});case"WEBRTC_OWN_STREAM_CONNECTED":return xn(xn({},e),{ownStream:t.stream});case"WEBRTC_STREAM_CONNECTED":return xn(xn({},e),{status:"incall",callType:t.callType,stream:t.stream,startedAt:new Date});case"WEBRTC_TOGGLE_MUTE":return xn(xn({},e),{isMuted:!e.isMuted});case"SOCKET_ongoingCall":return"none"===e.status&&"ongoing"===t.payload.ongoingCall.status?xn(xn({},e),{status:"setting_up",callType:t.payload.ongoingCall.callType}):xn(xn({},e),{callType:t.payload.ongoingCall.callType});case"SOCKET_webRtcHangUp":case"WEBRTC_HANGUP":return xn(xn({},Nn),{audioInputDeviceId:e.audioInputDeviceId,audioOutputDeviceId:e.audioOutputDeviceId,videoInputDeviceId:e.videoInputDeviceId});case"WEBRTC_ERROR":return xn(xn({},e),{status:"error",reason:t.reason});case"CHANGE_AUDIO_INPUT_DEVICE_ID":return xn(xn({},e),{audioInputDeviceId:t.deviceId});case"CHANGE_AUDIO_OUTPUT_DEVICE_ID":return xn(xn({},e),{audioOutputDeviceId:t.deviceId});case"CHANGE_VIDEO_INPUT_DEVICE_ID":return xn(xn({},e),{videoInputDeviceId:t.deviceId});case"WEBRTC_RESET_STATE":return xn(xn({},Nn),{audioInputDeviceId:e.audioInputDeviceId,audioOutputDeviceId:e.audioOutputDeviceId,videoInputDeviceId:e.videoInputDeviceId});default:return e}},forms:Yt,navigation:vn.b,articles:mt,articleDetails:gt,popularQuestions:Sn,search:jn,suggest:Dn,forceOpen:Mt,notification:wn,host:Jt,connection:Et,hub:tn,consent:It,pendingMessages:_n,formValues:zt,conversationRating:At,localization:on,customStyles:Nt,a11y:ut,feedbackVotes:Dt,branding:function(e,t){switch(void 0===e&&(e=bt),t.type){case wt.b:return{show:!0,type:t.payload};case wt.a:return{show:!1,type:"none"};default:return e}},formPrefillValues:function(e,t){switch(void 0===e&&(e=Ft),t.type){case"SET_FORM_PREFILL_VALUE":return Ut(Ut([],e,!0),[t.payload],!1);case"REMOVE_FORM_PREFILL_VALUE":return e.filter((function(e){return e.formId===t.payload.formId&&e.id===t.payload.id}));default:return e}},messageQueue:sn}),Wn=function(){return function(e,t){return"RESET"===t.type||"RESTART"===t.type?Fn({},t):Fn(e,t)}},Bn=function(){return(Bn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},zn=[w.withExtraArgument({conn:T}),(An=T,function(e){var t=new Q(An,e.dispatch,e.getState);return Object(G.a)("registerApiCallHandler",Object(G.c)("userId"),(function(e,n){return t.handle(e,n)})),function(n){return function(r){!function(e,t,n,r){switch(e.type){case"TRIGGER_RESULT_NO_AGENTS":r.publish("getOnlineStatus",0);break;case"ADD_HUB_ITEMS":e.items.find((function(e){return"online"===e.type||"bot"===e.type}))&&r.publish("onChatTrigg");break;case"SEND_MESSAGE_SUCCESS":var o=n().messages.filter((function(e){return"visitor"===e.fromType})),i=o&&1===o.length,a=n().activeConversation.agentId;i&&(Object(G.a)("setCookie","imbox","chatStartedAt",Date.now()),Object(G.a)("setCookie","imbox","chattedWith",a),r.publish("onChatStart"));break;case"BOT_CONNECTED":case"CHAT_CONNECTED":r.publish("registerChatStatusListener",{isOnline:!0}),r.publish("getOnlineStatus","1"),Object(G.a)("setCookie","imbox","chatSeenAt",Date.now());break;case"NAVIGATE_TO":"answers"===e.module&&"answers"!==e.name&&Object(G.a)("setCookie","imbox","answersSeenAt",Date.now());break;case"SOCKET_transfer":Object(G.a)("setCookie","imbox","chattedWith",parseInt(e.payload.newAgentID));break;case"SOCKET_conversationClaimed":Object(G.a)("setCookie","imbox","chattedWith",parseInt(e.payload.agentId));break;case"SOCKET_away":case"SOCKET_offline":case"SOCKET_allAgentsAway":case"SOCKET_slotsFull":r.publish("registerChatStatusListener",{isOnline:!1}),r.publish("getOnlineStatus","0");break;case"FORM_SUBMIT_SUCCESS":"form"===Object(N.b)(n()).module&&r.publish("onContactSubmit");break;case"SOCKET_botEvent":e.payload.data&&"chatEnd"===e.payload.data.name&&r.publish("onBotChatEnded",e.payload.data.data);break;case"SOCKET_closeConversationResponse":case"SOCKET_chatEnded":r.publish("onChatEnded");break;case"CLOSE":n().notification.isOpen||r.publish("onToggle",{isOpen:!1});break;case"OPEN_WIDGET":n().notification.isOpen||r.publish("onToggle",{isOpen:!0})}}(r,e.dispatch,e.getState,t);var o=n(r);return o.then((function(){!function(e,t,n,r){var o;switch(e.type){case"TRIGGER_RESULT":r.publish("triggerResult",e);break;case"ADD_HUB_ITEMS":r.publish("triggerDone");break;case"CHANGE_NAVIGATION_STACK":case"NAVIGATE_TO":case"NAVIGATE_TO_AT":case"NAVIGATE_TO_INDEX":case"NAVIGATE_MULTIPLE_TO":case"MERGE_NAVIGATION_STACK":case"NAVIGATE_BACK":var i=Object(X.a)(n()),a=Object(N.e)(n()),c={},u=null!==(o=null==i?void 0:i.type)&&void 0!==o?o:"";"answers"===u?(u="faq",c=Z(Z({faqId:a.formId||a.answersId},a.categoryId&&{categoryId:Number(a.categoryId)}),a.articleId&&{articleId:a.articleId})):"form"===u?c={formId:Number(a.formId)}:"online"===u&&(u="chat",c={agentId:i.agentID}),r.publish("onNavigation",{service:u,data:c})}}(r,e.dispatch,e.getState,t)})),o}}}),function(e){return function(t){return nt.on("ice",(function(n){var r=t.getState().widget.userId,o=t.getState().activeConversation.agentId,i=t.getState().widget.channelId;e.send(V.a.webRtcIce(r,o,i,n.candidate))})),nt.on("addStream",(function(e){t.dispatch({type:"WEBRTC_STREAM_CONNECTED",id:e.id,callType:e.callType,stream:e.stream})})),nt.on("error",(function(e){t.dispatch({type:"WEBRTC_ERROR",reason:e.reason})})),nt.on("errorAnswer",(function(n){var r=t.getState().widget.userId,o=t.getState().activeConversation.agentId,i=t.getState().widget.channelId;t.dispatch({type:"WEBRTC_ERROR",reason:n.reason}),e.send(V.a.webRtcCallAction(r,o,i,"reject"))})),nt.on("ownStreamConnected",(function(e){t.dispatch({type:"WEBRTC_OWN_STREAM_CONNECTED",stream:e.stream})})),nt.on("offerCreated",(function(n){var r=t.getState().widget.userId,o=t.getState().activeConversation.agentId,i=t.getState().widget.channelId;e.send(V.a.webRtcOffer(r,o,i,n.callType,n.offer))})),nt.on("answerCreated",(function(n){var r=t.getState().widget.userId,o=t.getState().activeConversation.agentId,i=t.getState().widget.channelId;e.send(V.a.webRtcAnswer(r,o,i,n.answer))})),nt.on("hangup",(function(n){var r=t.getState().widget.userId,o=t.getState().activeConversation.agentId,i=t.getState().widget.channelId;e.send(V.a.webRtcHangup(r,o,i))})),nt.on("stats",(function(n){var r=n.stats,o=t.getState().widget.userId,i=t.getState().activeConversation.agentId,a=t.getState().widget.channelId;e.send(V.a.webRtcStats(o,i,a,r))})),function(n){return function(r){!function(e,t,n,r){switch(e.type){case"SOCKET_webRtcCall":nt.isInCall()?console.warn("Is already in call, cannot accept another call"):(nt.initConfiguration(it(e.payload.configuration)),t({type:"WEBRTC_INCOMING_CALL",agentId:e.payload.from.id,agentName:e.payload.from.name,agentPicture:e.payload.from.picture,callType:e.payload.callType}));break;case"SOCKET_webRtcOffer":"incall"===(i=n().stream.status)?nt.handleNewOffer(n().stream.answerType,e.payload.offer):"none"!==i&&nt.handleAgentOffer(e.payload.offer,n().stream.callType,n().stream.answerType||n().stream.callType,n().stream.audioInputDeviceId,n().stream.audioOutputDeviceId,n().stream.videoInputDeviceId,n().stream.isMuted).catch((function(e){nt.hangup(),t({type:"WEBRTC_ERROR",reason:"could not load packages"})}));break;case"SOCKET_webRtcIce":nt.handleAgentIce(e.payload.ice);break;case"WEBRTC_TOGGLE_MUTE":if(o=n().stream.ownStream)o.getAudioTracks().forEach((function(e){e.enabled=n().stream.isMuted}));break;case"WEBRTC_HANGUP":nt.hangup(),(o=n().stream.ownStream)&&o.getTracks().forEach((function(e){return e.stop()}));break;case"WEBRTC_ANSWER_REJECT":nt.clear();break;case"SOCKET_webRtcHangUp":var o;Object(rt.b)()&&Object(rt.a)(),nt.receivedHangup(),(o=n().stream.ownStream)&&o.getTracks().forEach((function(e){return e.stop()}));break;case"SOCKET_ongoingCall":var i=n().stream.status,a=e.payload.ongoingCall.status;"none"===i&&("ongoing"===a?(nt.initConfiguration(it(e.payload.configuration)),r.send(V.a.webrtcRequestOffer(n().widget.userId,e.payload.ongoingCall.agentId,n().widget.channelId))):"calling"===a&&(nt.initConfiguration(it(e.payload.configuration)),t({type:"WEBRTC_INCOMING_CALL",agentId:e.payload.ongoingCall.agentId,agentName:e.payload.ongoingCall.agentName,agentPicture:e.payload.ongoingCall.agentPicture,callType:e.payload.ongoingCall.callType})));break;case"SOCKET_webRtcAnswer":nt.handleAgentAnswer(e.payload.answer);break;case"CHANGE_AUDIO_INPUT_DEVICE_ID":nt.replaceCurrentTrackByType("voice",e.deviceId,n().stream.audioOutputDeviceId,n().stream.videoInputDeviceId,n().stream.isMuted);break;case"CHANGE_AUDIO_OUTPUT_DEVICE_ID":nt.replaceCurrentTrackByType("voice",n().stream.audioInputDeviceId,e.deviceId,n().stream.videoInputDeviceId,n().stream.isMuted);break;case"CHANGE_VIDEO_INPUT_DEVICE_ID":nt.replaceCurrentTrackByType("video",n().stream.audioInputDeviceId,n().stream.audioOutputDeviceId,e.deviceId,n().stream.isMuted)}}(r,t.dispatch,t.getState,e);var o=n(r);return function(e,t,n,r){switch(e.type){case"WEBRTC_STREAM_CONNECTED":"video"===e.callType&&t(Object(F.c)("online","onlineInCall",{}));break;case"SOCKET_webRtcHangUp":case"WEBRTC_HANGUP":"onlineInCall"===Object(N.b)(n()).name&&t(Object(F.a)())}}(r,t.dispatch,t.getState),o}}}}(T),function(e){return function(t){return function(n){return function(r){return je(r,t.dispatch,t.getState,e).then((function(){var o=n(r);return xe(r,t.dispatch,t.getState,e),o})).catch((function(e){console.warn("Error in chat middleware",e)}))}}}}(T),function(e){return function(t){return function(n){return function(r){return function(e,t,n,r){switch(e.type){case"SOCKET_socket:end":Re=window.setTimeout((function(){t({type:"connectionStatus",status:"end"})}),1e4);break;case"SOCKET_socket:initial-open":clearTimeout(Re),clearTimeout(Pe);break;case"SOCKET_socket:open":(o=new K.a).push((new Date).toISOString()),o.push("socketOpen"),clearTimeout(Re),clearTimeout(Pe);break;case"RECONNECT_SOCKET":Object(G.b)("getMetadata").then((function(e){r.disconnect();var o=new K.a;o.push((new Date).toISOString()),o.push("reconnect-socket");var i=n().widget,a=i.userId,c=i.visitorUuid,u=i.channelId,s=i.instanceId,f=n().activeConversation,d=f.agentId,l=f.agentName,p=f.agentPicture,h=f.agentDepartment;t(Object(ke.b)({userId:a,agentId:Number(d),agentName:l,agentPicture:p,agentDepartment:h,channelId:u,visitorUuid:c,instanceId:s,metadata:e},o))}));break;case"SOCKET_socket:reconnect":Pe=window.setTimeout((function(){t({type:"connectionStatus",status:"reconnect"})}),5e3);break;case"SOCKET_reregister":var o;(o=new K.a).push((new Date).toISOString()),o.push("reregister"),e.payload.instanceId!==r.instanceId&&r.disconnect(),t(ce(o));break;case"CHANGE_NAVIGATION_STACK":Object(G.b)("getSessionData","active-service").then((function(o){var i="chat-bot"===o&&"online"===e.stackId,a="chat-online"===o&&"bot"===e.stackId,c=n().widget.inActiveConversation;(i||a)&&Object(G.b)("getMetadata").then((function(o){var i=n().widget,u=i.userId,s=i.channelId,f=i.visitorUuid,d=i.instanceId,l=n().hub.find((function(t){return t.id===e.stackId}));if(l){(a&&c?t(Object(U.h)(String(x.b.formatString(x.b.changedConversation,{agentName:l.agentName})))):Promise.resolve()).then((function(){return Object(G.b)("setSessionData","active-service","chat-".concat(l.id))})).then((function(){var e=n().messages.filter((function(e){return e.sourceId}));if(e.length>0){var t=e[e.length-1].sourceId;return Object(G.b)("setSessionData","conversation-end-message-id",t)}})).then((function(){t(Object(U.d)()),r.disconnect();var n=new K.a;n.push((new Date).toISOString()),n.push("change-navigation-stack");var i=l,a=i.agentName,c=i.department,p=i.agentPicture;return"bot"===e.stackId?t(Object(Ne.a)({userId:u,botId:Number(l.agentID),agentName:a,agentDepartment:c,agentPicture:p,channelId:s,visitorUuid:f,metadata:o,instanceId:d},n)):t(Object(ke.b)({userId:u,agentId:Number(l.agentID),agentName:a,agentDepartment:c,agentPicture:p,channelId:s,visitorUuid:f,metadata:o,instanceId:d},n))}))}}))})).catch(console.warn)}}(r,t.dispatch,t.getState,e),n(r)}}}}(T),function(e){return function(t){return function(n){return function(e,t,n){switch(e.type){case"TRIGGER_START_POLLING":Xe.startPolling(1e4,(function(e){var r=new K.a;t(Object(B.a)(r,"polling-".concat(e),{showLauncher:n().widget.showLauncherOnTrigger},{isPolling:!0}))}));break;case"TRIGGER_STOP_POLLING":case"SOCKET_ban":case"OPEN_CHAT":Xe.stopPolling();break;case"RESTART":var r=!0;if(Object(Y.a)().manualTrigger&&(r="none"!==n().widget.triggerStatus),Xe.stopPolling(),r){var o={showLauncher:n().widget.showLauncherOnTrigger},i=new K.a;t(Object(B.a)(i,"reset",o,{resetFromVisibility:e.reason&&"visibility"===e.reason})).catch((function(e){return console.warn(e)}))}break;case"OPEN_WIDGET":Object(G.a)("setSessionData","hasOpenedOnce",!0);break;case"VISIBILITY_CHANGE":"hidden"===e.visibility&&Xe.stopPolling()}}(n,e.dispatch,e.getState),t(n)}}},function(e){return function(t){return function(n){return function(e,t,n){switch(e.type){case"CLOSE":var r=n().notification;"launcher"===e.origin&&r.isOpen&&t(Object(W.b)("closeFromLauncher"));break;case"PRE_HIDE_NOTIFICATION":r=n().notification;var o="close"===e.reason||"closeFromLauncher"===e.reason;if(r&&o){var i=r.type;"online"===i&&(i="chat"),t(Object(W.c)(r.notificationId,i,"closed")),Be(r.notificationId)}r&&"startChat"===e.reason&&(t(Object(W.c)(r.notificationId,"chat","clicked")),Be(r.notificationId)),r&&"answersSearch"===e.reason&&(t(Object(W.c)(r.notificationId,"answers","clicked")),Be(r.notificationId)),"close"===e.reason||"agentAway"===e.reason?t(Object(ae.a)("widget")).then((function(){t(Object(W.a)())})):t(Object(W.a)());break;case"SOCKET_closeConversationResponse":case"SOCKET_chatEnded":(r=n().notification)&&"online"===r.type&&(c=r.notificationId,Object(_.g)(Me.a,"interaction",(function(e){return e?Fe()(e,c):e})));break;case"SOCKET_away":case"SOCKET_offline":case"SOCKET_allAgentsAway":case"SOCKET_slotsFull":(r=n().notification)&&"online"===r.type&&r.isOpen&&(Be(r.notificationId),t(Object(W.b)("agentAway")),t(Object(ae.a)()));break;case"OPEN_NOTIFICATION_ANSWERS":t(Object(W.c)(e.notificationId,"answers","view"));break;case"OPEN_NOTIFICATION_ONLINE":t(Object(W.c)(e.notificationId,"chat","view"));break;case"OPEN_WIDGET":var a=e.proactiveId;a&&Be(a)}var c}(n,e.dispatch,e.getState),t(n)}}},function(e){return function(t){return function(n){return function(e,t,n){var r=n().widget.soundEnabled;switch(e.type){case"SOCKET_"+V.a.Type.MESSAGE:r&&Qe("1_1");break;case"ADD_MESSAGES":case"ADD_MESSAGE":var o=n().messages.some((function(e){return"message"===e.type&&"visitor"===e.fromType}));r&&o&&Qe("1_1")}}(n,e.dispatch,e.getState),t(n)}}},function(e){return function(t){return function(n){var r=t(n);return function(e,t,n){var r=[];-1!==qe.indexOf(e.type)&&r.push({key:"widget",value:He()(n().widget,["isOpen","inActiveConversation"])},{key:"navigation",value:Ye(n().navigation)},{key:"pendingMessages",value:n().pendingMessages},{key:"consent",value:He()(n().consent,["showConsent"])},{key:"notification",value:n().notification},{key:"search",value:Ke(n().search)},{key:"feedbackVotes",value:n().feedbackVotes},{key:"formValues",value:n().formValues});-1!==Ve.indexOf(e.type)&&r.push({key:"stream",value:He()(n().stream,["audioInputDeviceId","audioOutputDeviceId","videoInputDeviceId","isMuted"])});r.length>0&&Object(G.b)("multiSetSessionData",r).catch((function(e){console.warn("Could not set session state",e)}))}(n,e.dispatch,e.getState),r}}},function(e){return function(t){return function(n){var r=t(n);return function(e,t,n){switch(e.type){case"NAVIGATE_TO":case"NAVIGATE_MULTIPLE_TO":case"NAVIGATE_BACK":case"NAVIGATE_TO_INDEX":case"REPLACE_NAVIGATION":case"OPEN_CHAT":case"CLOSE":case"CHANGE_NAVIGATION_STACK":case"HIDE_NOTIFICATION":n().widget.isOpen&&Object(G.a)("setWidgetUIState",Object(De.a)(n));break;case"OPEN_WIDGET":var r=Object(De.a)(n);"proactive"===e.reason&&(r="widget-proactive"),Object(G.a)("openWidget",r,e.reason);break;case"REMOVE_HUB_ITEM":0===Object(X.e)(n()).length&&Object(G.a)("hideAll")}}(n,e.dispatch,e.getState),r}}},function(e){return function(t){return function(n){return function(e,t,n){switch(e.type){case"SET_LANGUAGE":n().localization.language&&!e.payload.override||x.b.setLanguage(e.payload.language)}}(n,e.dispatch,e.getState),t(n)}}},function(e){return function(t){return function(n){!function(e,t,n){switch(e.type){case"CLOSE":n().notification.isOpen||R("closed",t,n)}}(n,e.dispatch,e.getState);var r=t(n);return function(e,t,n){switch(e.type){case"PRE_HIDE_NOTIFICATION":"startChat"!==(r=e.reason)&&"answersSearch"!==r||R("opened",t,n);break;case"OPEN_WIDGET":var r;"proactive"===(r=e.reason)?D("view",t,n):"launcher"===r&&R("opened",t,n);break;case"CLOSE":"proactive"===n().widget.openReason&&D("closed",t,n);break;case"CHANGE_NAVIGATION_STACK":R("opened",t,n);break;case"SEND_MESSAGE_SUCCESS":var o=n().messages.filter((function(e){return"visitor"===e.type}));o&&o.length;D("clicked",t,n);break;case"NAVIGATE_TO":"answers"===e.module&&"answers"!==e.name&&D("clicked",t,n);break;case"FORM_SUBMIT_SUCCESS":"online"!==Object(N.b)(n()).module&&D("clicked",t,n)}}(n,e.dispatch,e.getState),r}}},function(e){return function(t){return function(n){var r=t(n);return function(e,t,n){var r;switch(e.type){case"ADD_HUB_ITEMS":var o=n().navigation;(a=n().hub).some((function(e){return e.id===o.activeStackId}))||t(Object(F.b)(Object(_.b)(a[0])));break;case"HIDE_SERVICE":var i=n().navigation,a=Object(X.i)(n());if(0===(null===(r=String(i.activeStackId))||void 0===r?void 0:r.indexOf(e.payload.serviceName))){var c=a.filter((function(t){return t.type!==e.payload.serviceName}));c.length>0?t(Object(F.b)(Object(_.b)(c[0]))):(console.warn("Could not change widget navigation since no other services exists"),console.warn("Using hideService when only one service is visible is undefined behavior. Make sure to only use hideServie when multiple services are visible."))}}}(n,e.dispatch,e.getState),r}}},function(e){return function(t){return function(n){var r=t(n);return function(e,t,n){switch(e.type){case"SOCKET_message":var r=n().messages[n().messages.length-1].body,o=x.b.formatString(x.b.a11yAgentNewMessage,{message:r});t(j(o));break;case"ADD_MESSAGE":e.message.text&&t(j(e.message.text));break;case"SET_LANGUAGE":var i=document.querySelector("html");i&&i.setAttribute("lang",e.payload.language)}}(n,e.dispatch,e.getState),r}}},function(e){return function(e){return function(t){if("SOCKET_hist"!==t.type)return e(t);Object(G.b)("getSessionData","conversation-end-message-id").then((function(n){var r;if(n)return e(Le(Le({},t),{payload:Le(Le({},t.payload),{data:null===(r=t.payload.data)||void 0===r?void 0:r.filter((function(e){return e.id>n}))})}));e(t)})).catch((function(n){console.warn(n),e(t)}))}}}];r.e({dsn:"https://5fece4d33af54aafa796e774e4b2343d@glitchtip.imbox.io/3",release:A.f,ignoreErrors:[/SecurityError: SecurityError$/,/Object Not Found Matching Id:\d+, MethodName:\w+, ParamCount:\d+/],allowUrls:[/.*imbox.*/],beforeSend:function(e){var t,n;if(e.exception&&e.exception.values){var r=e.exception.values[0];if(r.stacktrace&&r.stacktrace.frames)for(var o=0,i=r.stacktrace.frames;o<i.length;o++){var a=i[o];if(a.filename&&a.filename.startsWith("chrome-extension://"))return null}}var c=null!==(n=null===(t=e.request)||void 0===t?void 0:t.headers["User-Agent"])&&void 0!==n?n:"";if(c.includes("facebookexternalhit")||c.includes("facebookcatalog")||c.includes("meta-externalagent")||c.includes("meta-externalfetcher"))return null;if(c.includes("AdsBot-Google"))return null;if(c.includes("uptime.com"))return null;if(e.request&&e.request.url){var u=new URL(e.request.url);if(!/.*imbox.*/.test(u.hostname))return null}return e}}),zn.push(v()(o,{actionTransformer:function(e){switch(e.type){case"SEND_MESSAGE_FETCH":return Bn(Bn({},e),{message:"[hidden]"});case"SEND_MESSAGE_SUCCESS":case"SOCKET_message":return Bn(Bn({},e),{payload:Bn(Bn({},e.payload),{msg:"[hidden]"})});default:return e}},stateTransformer:function(e){return i.e((function(t){var n,r,o,i,a;if(t.setUser({widgetId:null===(n=null==e?void 0:e.widget)||void 0===n?void 0:n.userId,channel:null===(r=null==e?void 0:e.widget)||void 0===r?void 0:r.channelId}),t.setTag("widget",null===(o=null==e?void 0:e.widget)||void 0===o?void 0:o.userId),t.setTag("inActiveConversation",(null===(i=null==e?void 0:e.widget)||void 0===i?void 0:i.inActiveConversation)?"true":"false"),null===(a=null==e?void 0:e.host)||void 0===a?void 0:a.url)try{var c=new URL(e.host.url);t.setTag("host",c.origin)}catch(e){}})),Bn(Bn({},e),{messages:e.messages.map((function(e){return e.body?Bn(Bn({},e),{body:"[hidden]"}):e}))})}}));var Hn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return p({},n,{dispatch:r=h.apply(void 0,i)(n.dispatch)})}}}.apply(void 0,zn),Gn=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,c=n,f=[],d=f,l=!1;function p(){d===f&&(d=f.slice())}function h(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function v(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,c=i(c,e)}finally{l=!1}for(var t=f=d,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,v({type:u.REPLACE})}function m(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[a.a]=function(){return this},e}return v({type:u.INIT}),(o={dispatch:v,subscribe:g,getState:h,replaceReducer:y})[a.a]=m,o}(Wn(),{},Hn);b(Gn,T)},function(e,t,n){"use strict";n.d(t,"h",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"g",(function(){return _}));var r,o=n(6),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){this.id=-2e3,this.type="greetingMessage",this.fromType="agent"},c=function(){this.id=1e3*Math.random(),this.sourceId=this.id,this.type="system",this.systemMessageType="general"},u=function(){this.id=1e3*Math.random(),this.type="form",this.submitType="api"},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.systemMessageType="general",t}return i(t,e),t}(u),f=function(){this.id=1e3*Math.random(),this.type="rating"},d=function(){this.id=1e3*Math.random(),this.type="file"},l=function(){this.id=1e3*Math.random(),this.type="error",this.fromType="agent"},p=function(){},h=function(){},g=function(e){var t=o.b.getLanguage();return"sv"!==t&&(t="en"),e&&e[t]},v=function(e,t){var n=new p;return n.id=e.messageId||t,n.sourceId=n.id,n.type="bankid",n.fromType="agent",n.action=e.action,n.text=g(e.text),n.status=e.status,n.hintCode=e.hintCode,n.expire=e.expire,n.autoStartToken=e.autoStartToken,n.qrDataURL=e.qrDataURL,n.timestamp=e.timestamp,n.branding=e.branding,n},y=function(e){var t;return e.card&&"photo"===e.card.type?{name:e.card.provider_name,link:e.card.provider_url||e.urls&&e.urls[0],shortdesc:e.card.title,desc:e.card.description,favico:e.card.favicon_url,image:e.card.url,type:"unfurl"}:e.card&&"video"===e.card.type?{name:e.card.provider_name,link:e.urls[0],shortdesc:e.card.title,desc:e.card.description,favico:e.card.favicon_url,html:e.card.html,type:"unfurl"}:e.originalText?null:e.card?{name:e.card.provider_name,link:null!==(t=e.card.url)&&void 0!==t?t:e.card.provider_url,shortdesc:e.card.title,desc:e.card.description,favico:e.card.favicon_url,type:"unfurl"}:e.isAI?{isAI:e.isAI}:null};function m(e,t){var n=new d;return n.id=-1e4*Math.random(),n.sourceId=t,n.fileName=e.link,n.link=e.fileName,n.fromType="agent",n}function w(e){var t=new u;if(t.formId=e.id||e.surveyId,e.msgBody&&"string"==typeof e.msgBody)try{var n=JSON.parse(e.msgBody);t.formId=n.id}catch(e){console.error(e)}return t}function b(e){if(!e)return null;if("sendFile"===e.msgFrom)return m("string"==typeof e.msgBody?JSON.parse(e.msgBody):e.msgBody,e.id);if("userFile"===e.msgFrom)return function(e,t){var n=new d;return n.id=t,n.sourceId=t,n.fileName=e.link,n.link=e.fileName,n.fromType="visitor",n}("string"==typeof e.msgBody?JSON.parse(e.msgBody):e.msgBody,e.id);if("sendSurvey"===e.msgFrom)return w(e);if("sendSurvey"===e.type)return w(e);if("sendFile"===e.type)return m(e,e.id);if("bankid"===e.msgFrom){var t=e.msgBody;if("string"==typeof t)try{t=JSON.parse(e.msgBody)}catch(e){}return v(t,e.id)}if("bankidRequest"===e.type||"bankid"===e.type)return v(e);var n;"message"===e.type||"botMessage"===e.type||"botMessages"===e.type?n="agent":"messageAck"===e.type||"response"===e.type?n="visitor":"visitor"!==e.type&&"agent"!==e.type||(n=e.type);var r=e.msgBody||e.msg,o=e.metadata;return e.decoration&&(o=y(e.decoration),e.decoration.originalText&&(r=e.decoration.originalText)),{id:e.id,sourceId:e.id,from:e.msgFrom||e.name,body:r,type:"message",fromType:n,picture:e.picture,options:e.options,timestamp:e.timestamp?new Date(e.timestamp):new Date,metadata:o}}function _(e){var t=e.agentName,n=e.text,r=e.options,i=e.agentPicture,c=new a;return c.from=t,c.fromType="agent",c.body=o.b.formatString(n,{agentName:t}),c.options=r,c.picture=i,c}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(){return{type:"NAVIGATE_BACK"}},o=function(e,t,n){return{type:"NAVIGATE_TO",module:e,name:t,params:n}},i=function(e){return{type:"NAVIGATE_TO_INDEX",index:e}},a=function(e,t,n,r){return{type:"NAVIGATE_TO_AT",module:e,name:t,params:n,index:r}},c=function(e){return{type:"CHANGE_NAVIGATION_STACK",stackId:e}}},,,,function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return l}));var r=function(e){return{type:"SET_SHOW_LAUNCHER_ON_TRIGGER",showLauncherOnTrigger:e}},o=function(e){return{type:"SET_CONSENT_ID",payload:{consentId:e}}},i=function(e){return{type:"SET_COMPANY_NAME",payload:{companyName:e}}},a=function(e){return{type:"SET_NO_RESPONSE_FORM",payload:e}},c=function(e){return{type:"SET_CHAT_AWAY_FORM",payload:e}},u=function(e){return{type:"SET_CHAT_OFFLINE_FORM",payload:e}},s=function(e){return{type:"SET_CHAT_SLOTS_FULL_FORM",payload:e}},f=function(e){return{type:"SET_CHAT_END_FORM",payload:e}},d=function(e){return{type:"HIDE_SERVICE",payload:{serviceName:e}}},l=function(e){return{type:"SHOW_SERVICE",payload:{serviceName:e}}}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return m}));var r=n(0),o=n(151),i=n(7),a=n(359),c=n(65),u=n(77);function s(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function f(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if(Object(i.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(Object(i.f)(e)){var a=e,c={};c.type=a.type;try{c.target=Object(i.c)(a.target)?Object(o.a)(a.target):Object.prototype.toString.call(a.target)}catch(e){c.target="<unknown>"}try{c.currentTarget=Object(i.c)(a.currentTarget)?Object(o.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){c.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(i.g)(e,CustomEvent)&&(c.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(c[r]=a);return c}return e}function l(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function p(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=v(e,t);return l(r)>n?p(e,t-1,n):r}function h(t,n){return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(i.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(c.a)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function g(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a.a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=h(e);return Object(i.i)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=h(t,e);if(Object(i.i)(o))return o;var c=d(t),u=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(u[s]=g(s,c[s],n-1,r));return r.unmemoize(t),u}function v(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return g(e,n,t)})))}catch(e){return"**non-serializable**"}}function y(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(u.d)(n[0],t);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Object(u.d)(o,t)}return""}function m(e){var t,n;if(Object(i.h)(e)){var o=e,a={};try{for(var c=Object(r.f)(Object.keys(o)),u=c.next();!u.done;u=c.next()){var s=u.value;void 0!==o[s]&&(a[s]=m(o[s]))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(m):e}}).call(this,n(61))},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(3),o=n(13),i=n.n(o),a=function(e){return{type:"PRE_HIDE_NOTIFICATION",reason:e}},c=function(){return{type:"HIDE_NOTIFICATION"}},u=function(e){return{type:"UPDATE_NOTIFICATION_MESSAGE",message:e}},s=function(e,t,n){return function(o,a,c){c.conn;var u=a().widget.userId,s=a().activeConversation.agentId,f=a().widget.channelId,d=a().widget.visitorUuid,l=a().host.url,p=a().host.deviceType,h=r.a+"message/notification/".concat(u,"/").concat(f);o({type:"TRACK_NOTIFICATION_VIEW_FETCH"}),i.a.post(h,{agent_id:s,uid:d,notification_id:e,type:t,url:l,device:p,actionType:n}).then((function(){o({type:"TRACK_NOTIFICATION_VIEW_SUCCESS"})}),(function(e){o({type:"TRACK_NOTIFICATION_VIEW_FAILED",reason:e})}))}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var r=n(0),o=n(11),i=n(693),a=n(49),c=n(147),u=n(123),s=n(715),f=n(29),d=function(){function e(e){this.errors=0,this.sid=Object(o.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=s.a.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(o.i)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===s.a.Ok?this.update({status:s.a.Exited}):this.update()},e.prototype.toJSON=function(){return Object(f.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(f.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),l=function(){function e(e,t,n){void 0===t&&(t=new u.a),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=u.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Object(o.i)(),i=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,Object(r.a)(Object(r.a)({},i),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(o.i)(),a=n;if(!n){var c=void 0;try{throw new Error(e)}catch(e){c=e}a={originalException:e,syntheticException:c}}return this._invokeClient("captureMessage",e,t,Object(r.a)(Object(r.a)({},a),{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(o.i)();return this._invokeClient("captureEvent",e,Object(r.a)(Object(r.a)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,c=n.client;if(a&&c){var u=c.getOptions&&c.getOptions()||{},s=u.beforeBreadcrumb,f=void 0===s?null:s,d=u.maxBreadcrumbs,l=void 0===d?100:d;if(!(l<=0)){var p=Object(i.a)(),h=Object(r.a)({timestamp:p},e),g=f?Object(o.c)((function(){return f(h,t)})):h;null!==g&&a.addBreadcrumb(g,Math.min(l,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=h(this);try{e(this)}finally{h(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return a.a.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,o=t.client,i=o&&o.getOptions()||{},a=i.release,c=i.environment,u=new d(Object(r.a)(Object(r.a)({release:a,environment:c},n&&{user:n.getUser()}),e));return n&&n.setSession(u),u},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.getStackTop(),a=i.scope,c=i.client;c&&c[e]&&(t=c)[e].apply(t,Object(r.e)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=p(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[e])return o.extensions[e].apply(this,t);a.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function p(){var e=Object(o.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function h(e){var t=p(),n=y(t);return m(t,e),n}function g(){var e=p();return v(e)&&!y(e).isOlderThan(3)||m(e,new l),Object(c.b)()?function(e){try{var t=(r=p().__SENTRY__)&&r.extensions&&r.extensions.domain&&r.extensions.domain.active;if(!t)return y(e);if(!v(t)||y(t).isOlderThan(3)){var n=y(e).getStackTop();m(t,new l(n.client,u.a.clone(n.scope)))}return y(t)}catch(t){return y(e)}var r}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new l),e.__SENTRY__.hub}function m(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.trace=[]}return e.prototype.push=function(e){return this.trace.push(e),this},e.prototype.toString=function(){return JSON.stringify(this.trace)},e}()},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return m}));var r=n(0),o=n(34);function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object(o.b)();if(i&&i[e])return i[e].apply(i,Object(r.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function a(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return i("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function c(e,t){var n;try{throw new Error(e)}catch(e){n=e}var o="string"!=typeof t?{captureContext:t}:void 0;return i("captureMessage",e,"string"==typeof t?t:void 0,Object(r.a)({originalException:e,syntheticException:n},o))}function u(e){return i("captureEvent",e)}function s(e){i("configureScope",e)}function f(e){i("addBreadcrumb",e)}function d(e,t){i("setContext",e,t)}function l(e){i("setExtras",e)}function p(e){i("setTags",e)}function h(e,t){i("setExtra",e,t)}function g(e,t){i("setTag",e,t)}function v(e){i("setUser",e)}function y(e){i("withScope",e)}function m(e,t){return i("startTransaction",Object(r.a)({},e),t)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,o={};n.r(o),n.d(o,"FunctionToString",(function(){return i})),n.d(o,"InboundFilters",(function(){return p}));var i=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return r.apply(n,e)}},e.id="FunctionToString",e}(),a=n(0),c=n(123),u=n(34),s=n(49),f=n(11),d=n(77),l=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],p=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){Object(c.b)((function(t){var n=Object(u.b)();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},a=r._mergeOptions(i);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(s.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(f.d)(e)),!0):this._isIgnoredError(e,t)?(s.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(f.d)(e)),!0):this._isDeniedUrl(e,t)?(s.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(s.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(f.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(d.a)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return Object(d.a)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return Object(d.a)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(a.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(a.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(a.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],l),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,o=t.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(t){return s.a.error("Cannot extract message for event "+Object(f.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return s.a.error("Cannot extract url for event "+Object(f.d)(e)),null}},e.id="InboundFilters",e}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d}));var r=n(192),o=n.n(r),i=n(86),a=n.n(i),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s={activeStackId:null,navigationStacks:{}};function f(){return{history:[],currentIndex:-1}}function d(e,t,n,r){var i=e.history[e.currentIndex];if(i&&i.module===t&&i.name===n&&o()(i.params,r))return e;var a=void 0!==e.currentIndex?e.history.slice(0,e.currentIndex+1):e.history;return c(c({},e),{currentIndex:a.length,history:u(u([],a,!0),[{module:t,name:n,params:r}],!1)})}function l(e,t,n,r,i){var a=e.history[e.currentIndex];if(a&&a.module===n&&a.name===r&&o()(a.params,i))return e;var s=e.history.slice(0,t+1);return c(c({},e),{currentIndex:s.length,history:u(u([],s,!0),[{module:n,name:r,params:i}],!1)})}function p(e,t,n,r,i){var a=e.history[e.currentIndex];if(a&&a.module===n&&a.name===r&&o()(a.params,i))return e;var u=e.history.slice(0,t+1);u.splice(t,1,{module:n,name:r,params:i});var s=e.currentIndex<u.length?e.currentIndex:t;return c(c({},e),{currentIndex:s,history:u})}function h(e,t,n,r){return{currentIndex:0,history:[{module:t,name:n,params:r}]}}t.b=function(e,t){var n,r,o,i,f,g,v,y,m,w,b,_;switch(void 0===e&&(e=s),t.type){case"INITIAL_STATE":return t.navigation&&t.navigation.navigationStacks?t.navigation:e;case"CHANGE_NAVIGATION_STACK":return!!e.navigationStacks[t.stackId]?c(c({},e),{activeStackId:t.stackId}):e;case"MERGE_NAVIGATION_STACK":return c(c({},e),{activeStackId:e.activeStackId||t.navigation.activeStackId,navigationStacks:a()({},t.navigation.navigationStacks,e.navigationStacks)});case"NAVIGATE_TO":var E=e.navigationStacks[e.activeStackId];return c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(n={},n[e.activeStackId]=d(E,t.module,t.name,t.params),n))});case"NAVIGATE_MULTIPLE_TO":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(r={},r[e.activeStackId]=t.items.reduce((function(e,t){return d(e,t.module,t.name,t.params)}),E),r))}):e;case"NAVIGATE_BACK":return(E=e.navigationStacks[e.activeStackId])&&(O=E.currentIndex-1)>=0?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(o={},o[e.activeStackId]=c(c({},e.navigationStacks[e.activeStackId]),{currentIndex:O}),o))}):e;case"INSERT_AT_BEGINNING":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(i={},i[e.activeStackId]=c(c({},e.navigationStacks[e.activeStackId]),{history:u([{module:t.module,name:t.name,params:t.params}],e.navigationStacks[e.activeStackId].history,!0)}),i))}):e;case"NAVIGATE_TO_AT":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(f={},f[e.activeStackId]=l(E,t.index,t.module,t.name,t.params),f))}):e;case"NAVIGATE_TO_INDEX":return(E=e.navigationStacks[e.activeStackId])?E.currentIndex===t.index?e:c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(g={},g[e.activeStackId]=c(c({},E),{currentIndex:t.index}),g))}):e;case"REPLACE_AT_MODULE":if(E=e.navigationStacks[e.activeStackId]){var O;return-1!==(O=function(e,t){for(var n=0;n<e.length;n++)if(e[n].module===t)return n;return-1}(E.history,t.module))?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(v={},v[e.activeStackId]=p(E,O,t.module,t.name,t.params),v))}):e}return e;case"REPLACE_NAVIGATION":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(y={},y[e.activeStackId]=h(0,t.module,t.name,t.params),y))}):e;case"REPLACE_LAST":if(E=e.navigationStacks[e.activeStackId]){var S=E.history.length-1;return c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(m={},m[e.activeStackId]=p(E,S,t.module,t.name,t.params),m))})}return e;case"OPEN_CHAT":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(w={},w[e.activeStackId]=d(E,"online","online",{}),w))}):e;case"SOCKET_showForm":return(E=e.navigationStacks[e.activeStackId])?c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(b={},b[e.activeStackId]=d(E,"form","form",{userId:Number(t.payload.userId),formId:t.payload.formId}),b))}):e;case"SOCKET_showAnswers":if(E=e.navigationStacks[e.activeStackId]){var I=void 0;return I=t.payload.answersArticleId?d(E,"answers","answersArticleDetails",{userId:t.payload.answersUserId||Number(t.payload.userId),answersId:t.payload.answersId,articleId:t.payload.answersArticleId}):d(E,"answers","answers",{userId:t.payload.answersUserId||Number(t.payload.userId),answersId:t.payload.answersId}),c(c({},e),{navigationStacks:c(c({},e.navigationStacks),(_={},_[e.activeStackId]=I,_))})}return e;case"SOCKET_transfer":if("bot"===e.activeStackId){var C=Object.entries(e.navigationStacks).reduce((function(e,t){var n,r=t[0],o=t[1];return c(c({},e),"bot"===r?{online:o}:((n={})[r]=o,n))}),{});return c(c({},e),{activeStackId:"online",navigationStacks:C})}return e;default:return e}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return l}));var r=n(0),o=n(38),i=n(253),a=n(11),c=n(49),u=0;function s(){return u>0}function f(){u+=1,setTimeout((function(){u-=1}))}function d(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var i=function(){var i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var c=i.map((function(e){return d(e,t)}));return e.handleEvent?e.handleEvent.apply(this,c):e.apply(this,c)}catch(e){throw f(),Object(o.m)((function(n){n.addEventProcessor((function(e){var n=Object(r.a)({},e);return t.mechanism&&(Object(a.b)(n,void 0,void 0),Object(a.a)(n,t.mechanism)),n.extra=Object(r.a)(Object(r.a)({},n.extra),{arguments:i}),n})),Object(o.c)(e)})),e}};try{for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=e[c])}catch(e){}e.prototype=e.prototype||{},i.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:i}),Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(e){}return i}function l(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new i.a(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else c.a.error("Missing dsn option in showReportDialog call");else c.a.error("Missing eventId option in showReportDialog call")}},,,,function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=0,c=r.pop(),u=i(r),s=e.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(n)),f=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return s.apply(null,e)}));return f.resultFunc=c,f.dependencies=u,f.recomputations=function(){return a},f.resetRecomputations=function(){return a=0},f}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(11),o=Object(r.e)(),i="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.log(i+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.warn(i+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(r.c)((function(){o.console.error(i+"[Error]: "+e.join(" "))}))},e}();o.__SENTRY__=o.__SENTRY__||{};var c=o.__SENTRY__.logger||(o.__SENTRY__.logger=new a)},function(e,t,n){"use strict";var r=n(265),o=n(375),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:s,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)s(arguments[r],n);return t},extend:function(e,t,n){return s(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c}));var r=n(2),o=function(e){return function(e,t,n){n.conn;return Object(r.b)("closeWidget")}},i=function(){return{type:"DISABLE_CONVERSATION"}},a=function(){return{type:"ENABLE_CONVERSATION"}},c=function(){return{type:"RESET"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,o=n(7);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var i=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&(Object(o.m)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,a){e.resolve(t).then((function(e){i[a]=e,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void o(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void o(e)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var o,i;return n.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?r(o):e(o)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},,function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(42),o=n(10),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e){var t=e.navigationStacks[e.activeStackId];return t&&void 0!==t.currentIndex&&t.history&&t.history[t.currentIndex]&&t.history[t.currentIndex].module||""}function c(e){var t=e.navigationStacks[e.activeStackId];return t&&void 0!==t.currentIndex&&t.history&&t.history[t.currentIndex]&&t.history[t.currentIndex].name||""}function u(e){return"answers"===e.type?{userId:e.answersWidgetID,formId:e.assignAnswers}:"form"===e.type?{userId:e.customFormWidgetID,formId:e.customForm}:{}}function s(e,t,n){if(!e)return null;var r=e.sort((function(e,t){return e.order-t.order})),i=e.filter((function(e){return!t.some((function(t){return t===e.type}))})),a=r;return i.length>0&&(a=i),n&&a.some((function(e){return Object(o.b)(e)===n}))?n:a[0]&&Object(o.b)(a[0])}function f(e,t){var n=e,o=t;return o.initialCategoryId&&(n=Object(r.d)(n,"answers","answersArticleList",{userId:o.answersWidgetID,answersId:o.assignAnswers,categoryId:o.initialCategoryId,categoryName:""})),o.initialCategoryId&&o.initialArticleId&&(n=Object(r.d)(n,"answers","answersArticleDetails",{userId:o.answersWidgetID,answersId:o.assignAnswers,categoryId:o.initialCategoryId,articleId:o.initialArticleId})),n}function d(e){var t,n=u(e),o="bot"===e.type?"online":e.type;return(t={})[e.id]=Object(r.d)(Object(r.a)(),o,o,n),t}function l(e,t,n){if(!t)return r.c;if(!e||!e.navigationStacks)return function(e,t){var n,o=1===e.length,a=e.length>1;if(o){var c=e[0],d="bot"===c.type?"online":c.type,l=u(c),p=r.c,h=Object(r.d)(Object(r.a)(),d,d,l);return"answers"===d&&(h=f(h,c)),i(i({},p),{activeStackId:c.id,navigationStacks:(n={},n[c.id]=h,n)})}if(a){p=r.c;return i(i({},p),{activeStackId:s(e,t),navigationStacks:e.reduce((function(e,t){var n,o=u(t),a="bot"===t.type?"online":t.type,c=Object(r.d)(Object(r.a)(),a,a,o);return"answers"===a&&(c=f(c,t)),i(i({},e),((n={})[t.id]=c,n))}),{})})}}(t,n().widget.hiddenServices);var o=i(i({},e),{activeStackId:s(t,n().widget.hiddenServices,e.activeStackId),navigationStacks:t.reduce((function(t,n){var o,a=e.navigationStacks[n.id];if(a){var c=a.history[0].module,s=a.history[0].params;if("answers"===c){var l=n.answersWidgetID,p=n.assignAnswers;if(s.userId!==l||s.formId!==p)return i(i({},t),d(n));if(n.initialCategoryId)return i(i({},t),function(e){var t,n=u(e),o=e.type;return(t={})[e.id]=f(Object(r.d)(Object(r.a)(),o,o,n),e),t}(n))}else if(a.history[0]&&"form"===a.history[0].module){l=n.customFormWidgetID,p=n.customForm;if(s.customFormWidgetID!==l||s.customForm!==p)return i(i({},t),d(n))}return i(i({},t),((o={})[n.id]=a,o))}return i(i({},t),d(n))}),{})});return o.navigationStacks[o.activeStackId]?o:i(i({},o),{activeStackId:s(t,n().widget.hiddenServices)})}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(273),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return E})),n.d(t,"i",(function(){return O}));var r=n(41),o=n(258),i=n(34),a=n(11),c=n(56),u=n(188),s=n(44),f=n(252),d=n(254),l=n(255),p=n(256),h=n(257),g=[new r.a.InboundFilters,new r.a.FunctionToString,new f.a,new d.a,new l.a,new p.a,new h.a];function v(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=g),void 0===e.release){var t=Object(a.e)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),Object(o.a)(u.a,e),e.autoSessionTracking&&function(){var e=Object(a.e)(),t=Object(i.b)(),n="complete"===document.readyState,r=!1,o=function(){r&&n&&t.endSession()},c=function(){n=!0,o(),e.removeEventListener("load",c)};t.startSession(),n||e.addEventListener("load",c);try{var u=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),r=!0,o())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),u.observe({type:"paint",buffered:!0})}catch(e){r=!0,o()}}()}function y(e){void 0===e&&(e={}),e.eventId||(e.eventId=Object(i.b)().lastEventId());var t=Object(i.b)().getClient();t&&t.showReportDialog(e)}function m(){return Object(i.b)().lastEventId()}function w(){}function b(e){e()}function _(e){var t=Object(i.b)().getClient();return t?t.flush(e):c.a.reject(!1)}function E(e){var t=Object(i.b)().getClient();return t?t.close(e):c.a.reject(!1)}function O(e){return Object(s.c)(e)()}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var i=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,o(r,n.prototype),r}return Object(r.b)(t,e),t}(Error)},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n(0),o=n(152),i=n(11),a=n(56),c=n(7),u=n(104),s=n(90);function f(e,t,n){var r=l(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(i.a)(r,{handled:!0,type:"generic"}),r.level=o.a.Error,n&&n.event_id&&(r.event_id=n.event_id),a.a.resolve(r)}function d(e,t,n,r){void 0===n&&(n=o.a.Info);var i=p(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),a.a.resolve(i)}function l(e,t,n){var o;if(void 0===n&&(n={}),Object(c.e)(e)&&e.error)return e=e.error,o=Object(u.b)(Object(s.a)(e));if(Object(c.a)(e)||Object(c.b)(e)){var a=e,f=a.name||(Object(c.a)(a)?"DOMError":"DOMException"),d=a.message?f+": "+a.message:f;return o=p(d,t,n),Object(i.b)(o,d),"code"in a&&(o.tags=Object(r.a)(Object(r.a)({},o.tags),{"DOMException.code":""+a.code})),o}if(Object(c.d)(e))return o=Object(u.b)(Object(s.a)(e));if(Object(c.h)(e)||Object(c.f)(e)){var l=e;return o=Object(u.a)(l,t,n.rejection),Object(i.a)(o,{synthetic:!0}),o}return o=p(e,t,n),Object(i.b)(o,""+e,void 0),Object(i.a)(o,{synthetic:!0}),o}function p(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=Object(s.a)(t),i=Object(u.d)(o.stack);r.stacktrace={frames:i}}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(28),o=n(191),i=n(2),a=n(59),c=n(38),u=n(24),s=n(149),f=n(10),d=n(20),l=n(190),p=n(87),h=["online","bot"];function g(e,t,n){return(n.showLauncher?Object(i.b)("showLauncher"):Promise.resolve()).then((function(){return e?Object(i.b)("openWidget",t):Promise.resolve()})).catch((function(e){console.warn("Could not call showLauncher/openWidget",e)}))}function v(e,t,n,r,o,i){i.push("handleWidgetAction");var v=null==e?void 0:e.filter((function(e){return-1!==h.indexOf(e.type)})),y=1===e.length,m=Object(a.a)(r().navigation),w=r().widget.isOpen;if(n({type:"ADD_HUB_ITEMS",items:e}),1===(null==v?void 0:v.length)){var b=v[0];Object(l.a)(b,t.trigger,i).then((function(e){return n(e)})).then((function(e){"BOT_FAIL_CONNECT"!==e&&"CHAT_FAIL_CONNECT"!==e&&n({type:"TRIGGER_STOP_POLLING"});var t=r().widget.isOpen,i=Object(d.a)(r());return t&&!i&&n(Object(u.b)(Object(f.b)(b))),g(w,Object(p.a)(r),o)})).catch((function(e){console.error("Could not connect and show widget",e),c.c(e,{extra:{tracer:i.toString()}})}))}else(null==v?void 0:v.length)>1&&n({type:"TRIGGER_STOP_POLLING"});1===(null==v?void 0:v.length)&&y||1===(null==v?void 0:v.length)&&w&&"online"===m||g(w,Object(p.a)(r),o).catch((function(e){console.warn(e)})),w||Object(s.b)(e,t,n,r)}function y(e,t){var n,r=!!e.trigger.hub,o=e.trigger.language,a=e.trigger.launcherTitle,c=e.trigger.launcherIcon,u=!1;if(3===e.trigger.apiVersion){u=e.trigger.hideLauncherIcon;var s=e.trigger.useAgentPictureLauncherIcon;if(n=e.trigger.launcherIconSize,r)(f=e.trigger.hub.find((function(e){return"online"===e.type||"bot"===e.type})))&&s&&f.agentPicture&&(c=f.agentPicture,n=void 0)}else{var f,d=e.trigger.launcherIconOnline;if(r)(f=e.trigger.hub.find((function(e){return"online"===e.type||"bot"===e.type})))&&d?c=d:!c&&f&&!d&&f.agentPicture&&(c=f.agentPicture)}return Object(i.b)("setLauncherSettings",{position:e.trigger.widgetPosition,icon:c,iconSize:n,title:a,isOpen:t,hideIcon:u,language:o})}var m,w=n(86),b=n.n(w),_=n(6),E=n(88),O=n(310),S=n(92),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function C(e,t){var n=e.widgetStyles,r=e.launcherStyles,o=[];return n&&(Object(O.a)(n),t(function(e){return{type:"SET_CUSTOM_STYLES",payload:{widget:e}}}(n))),r&&(t({type:"SET_CUSTOM_STYLES",payload:{launcher:r}}),o.push(Object(i.b)("rpc","launcher","addStyles",[r]))),e.outerStyles&&o.push(Object(i.b)("addCustomOuterStyles",e.outerStyles)),o.length>0?Promise.all(o):Promise.resolve()}function T(e,t,n){var r=Object(i.b)("getSessionData","consent"),o=Object(i.b)("getCookie","imboxConsent");return Promise.all([r,o]).then((function(r){var o=r[0],i=r[1];o?n({type:"INITIAL_CONSENT",state:I(I({},o),{hasShownConsent:i&&i["approved:".concat(t)]&&i["approved:".concat(t)].channelId===e})}):i&&i["approved:".concat(t)]&&i["approved:".concat(t)].channelId===e&&n({type:"HAS_SHOWN_CONSENT"})}))}function A(e,t,n,r,o){return!(!e||n||!r)&&(o!==m.NoMatchingHubItemSessionNotificationWasOpen&&(o!==m.NoTriggerNotification||!t))}function j(e,t,n,r,o){o.push("handleFirstTrigger"),Object(i.a)("setCookie","imbox","imboxUid",e.trigger.imboxUid);var c=e.trigger.hub,u=(!c||!c.some((function(e){return"online"===e.type||"bot"===e.type})))&&e.trigger.shouldPoll;u&&t({type:"TRIGGER_RESULT_NO_AGENTS"}),u&&t(Object(S.a)());var s=!!c;!function(e,t){if((t.localization||t.consent.localization)&&_.b.setContent(b()(_.a,t.localization||{},t.consent.localization||{})),t.language)e(Object(E.a)(t.language,!1));else{var n=document.querySelector("html");n&&n.setAttribute("lang",_.b.getLanguage())}}(t,e.trigger),e.trigger.a11yMode?document.body.classList.remove("no-focus-outline"):document.body.classList.add("no-focus-outline");var f=Object(i.b)("multiGetSessionData",["widget","navigation","search","notification","pendingMessages","stream","feedbackVotes","formValues"]),d=e.trigger.launcherIcon;e.trigger.launcherTitle;if(s){var l=s&&1===e.trigger.hub.length&&("online"===e.trigger.hub[0].type||"bot"===e.trigger.hub[0].type);!d&&l&&c[0].agentPicture&&(d=c[0].agentPicture)}return Promise.all([f,C(e.trigger,t),T(e.trigger.channelId,e.trigger.userId,t)]).then((function(i){var u,f,d=i[0],l=d[0],p=d[1],h=d[2],g=d[3],w=d[4],b=d[5],E=d[6],O=d[7],S=!!l,C=l,T=function(e,t,n){if(!e)return[m.NoSessionNotification,void 0];if(!n)return[m.NoHub,void 0];if(!t)return[m.NoTriggerNotification,void 0];var r=e.type,o=n.find((function(e){return e.type===r}));if(o){var i=t.find((function(t){return t.id===e.notificationId&&t.type===e.type}));if(i){var a=_.b.formatString(i.message,{agentName:o.agentName});return[m.UpdateSessionNotification,I(I({},e),{message:a})]}return[m.UseSessionNotification,e]}return e.isOpen?[m.NoMatchingHubItemSessionNotificationWasOpen,void 0]:[m.NoMatching,void 0]}(g,e.trigger.notifications,c),j=T[0],x=T[1];if(S){var N="mobile"===e.metadata.deviceType;f=!!(C=I(I({},C),{userId:e.trigger.userId,agentId:e.trigger.agentId,channelId:e.trigger.channelId,token:e.trigger.token,isOpen:A(l.isOpen,null!==(u=null==g?void 0:g.isOpen)&&void 0!==u&&u,N,(null==c?void 0:c.length)>0,j),inActiveConversation:l.inActiveConversation})).isOpen}else f=!1;return t({type:"INITIAL_STATE",navigation:Object(a.c)(p,c,n),widget:C,search:h,notification:x,pendingMessages:w,stream:b,feedbackVotes:E,formValues:O}),y(e,f).then((function(){return s?v(c,e,t,n,r,o):Promise.resolve()})).catch((function(e){console.warn(e)}))})).catch((function(i){return console.warn(i),y(e,!1).then((function(){return s?v(e.trigger.hub,e,t,n,r,o):Promise.resolve()}))})).catch((function(e){console.warn(e)}))}function x(e,t,n,r,o){o.push("handleTriggerResult");var i=!n().widget.userId;return t({type:"TRIGGER_RESULT",userId:e.trigger.userId,agentId:e.trigger.agentId,visitorUuid:e.trigger.imboxUid,channelId:e.trigger.channelId,token:e.trigger.token,metadata:e.metadata,onChatEnd:e.trigger.onChatEnd,chatAwayForm:e.trigger.chatAwayForm,chatOfflineForm:e.trigger.chatOfflineForm,chatSlotsFullForm:e.trigger.chatSlotsFullForm,onNoResponse:e.trigger.onNoResponse,noSearchResult:e.trigger.noSearchResult,companyName:e.trigger.companyName,consentId:e.trigger.consent&&e.trigger.consent.id,shouldPoll:e.trigger.shouldPoll,enableCloseConversation:e.trigger.enableCloseConversation,instanceId:e.trigger.instanceId,greetingMessage:e.trigger.greetingMessage,hash:e.trigger.hash}),i?j(e,t,n,r,o):function(e,t,n,r,o){return o.push("handleContinuedTrigger"),e.trigger.hub?(t({type:"MERGE_NAVIGATION_STACK",navigation:Object(a.c)(n().navigation,e.trigger.hub,n)}),y(e,n().widget.isOpen).then((function(){return v(e.trigger.hub,e,t,n,r,o)}))):Promise.resolve()}(e,t,n,r,o)}!function(e){e[e.UseSessionNotification=0]="UseSessionNotification",e[e.UpdateSessionNotification=1]="UpdateSessionNotification",e[e.NoSessionNotification=2]="NoSessionNotification",e[e.NoHub=3]="NoHub",e[e.NoTriggerNotification=4]="NoTriggerNotification",e[e.NoMatching=5]="NoMatching",e[e.NoMatchingHubItemSessionNotificationWasOpen=6]="NoMatchingHubItemSessionNotificationWasOpen"}(m||(m={}));var N=function(e,t,n,a){return function(c,u,s){var f=s.conn;c({type:"TRIGGER_FETCH"});var d=function(e){return{showLauncher:null==e||"boolean"!=typeof e.showLauncher||e.showLauncher}}(n);d.showLauncher||c(Object(r.i)(!1));var l=Object(o.a)(Object(i.c)("userId"),u().widget.visitorUuid,u().widget.inActiveConversation,u().activeConversation.agentId,t.includes("polling")?u().widget.hash:"",e,a).then((function(n){return e.push((new Date).toISOString()),e.push(t),e.push("connection-".concat(f.hasBeenSetup(),"-size-").concat(f.getBufferSize())),e.push("primusStateIsOpen-".concat(f.isOpen())),n.trigger?(e.push("trigger.uid-".concat(n.trigger.imboxUid)),e.push("trigger.channelId-".concat(n.trigger.channelId)),x(n,c,u,d,e.push("startTrigger")).then((function(){return c({type:"TRIGGER_SUCCESS"}),n}))):(e.push("trigger.no-content-204"),c({type:"TRIGGER_SUCCESS"}),n)}));return l.catch((function(e){console.warn("Error startTrigger:",e),c({type:"TRIGGER_FAILED"})})),l}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(7);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function c(e,t){return!!Object(r.k)(e)&&(Object(r.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},,,,,,,,,function(e,t,n){var r=n(468),o=n(473)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59);function o(e){var t=Object(r.a)(e().navigation),n=Object(r.b)(e().navigation),o=e().notification;return o&&o.isOpen?"notification":"online"===t&&"onlineInCall"===n?"call-fullscreen":"widget"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e,t){return{type:"SET_LANGUAGE",payload:{language:e,override:t}}},o=function(e){return{type:"SET_LOADING_LANGUAGE_FILE",payload:{value:e}}}},function(e,t,n){var r=n(479)("jsonp");e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});t||(t={});var a,c,u=t.prefix||"__jp",s=t.name||u+o++,f=t.param||"callback",d=null!=t.timeout?t.timeout:6e4,l=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;d&&(c=setTimeout((function(){h(),n&&n(new Error("Timeout"))}),d));function h(){a.parentNode&&a.parentNode.removeChild(a),window[s]=i,c&&clearTimeout(c)}return window[s]=function(e){r("jsonp got",e),h(),n&&n(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+f+"="+l(s)).replace("?&","?"),r('jsonp req "%s"',e),(a=document.createElement("script")).src=e,p.parentNode.insertBefore(a,p),function(){window[s]&&h()}};var o=0;function i(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=/Minified React error #\d+;/i;function f(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:s.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),a=[],c=0;c<i.length;c+=2){var u=null;(t=r.exec(i[c]))?u={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(i[c]))&&(u={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),u&&(!u.func&&u.line&&(u.func="?"),a.push(u))}if(!a.length)return null;return{message:l(e),name:e.name,stack:a}}(e))return d(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,s=[],f=e.stack.split("\n"),d=0;d<f.length;++d){if(n=o.exec(f[d])){var p=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:p?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(f[d]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=i.exec(f[d])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==d||n[5]||void 0===e.columnNumber||(s[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),s.push(r)}if(!s.length)return null;return{message:l(e),name:e.name,stack:s}}(e))return d(t,n)}catch(e){}return{message:l(e),name:e&&e.name,stack:[],failed:!0}}function d(e,t){try{return Object(r.a)(Object(r.a)({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function l(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return{type:"TRIGGER_START_POLLING"}}},function(e,t,n){var r=n(401),o=n(406);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="sentry.javascript.browser",o="5.30.0"},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(0);function o(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function i(e,t){var n=e.tags||{},o=n.__sentry_samplingMethod,i=n.__sentry_sampleRate,a=Object(r.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=a;var c="transaction"===e.type,u={body:JSON.stringify(e),type:e.type||"event",url:c?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(c){var s=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:o,rate:i}]})+"\n"+u.body;u.body=s}return u}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(7),o=n(29),i=n(90);function a(e){var t=s(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function c(e,t,n){var a={exception:{values:[{type:Object(r.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(o.b)(e)}]},extra:{__serialized__:Object(o.e)(e)}};if(t){var c=s(Object(i.a)(t).stack);a.stacktrace={frames:c}}return a}function u(e){return{exception:{values:[a(e)]}}}function s(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,o=n(0),i=n(7),a=n(49),c=n(11),u=n(29),s=n(65),f=n(194),d=Object(c.e)(),l={},p={};function h(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in d.console&&Object(u.c)(d.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];v("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",E("click",v.bind(null,"dom")),!1),d.document.addEventListener("keypress",O(v.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=d[e]&&d[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(u.c)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&Object(u.c)(n,"handleEvent",(function(e){return function(t){return E("click",v.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&Object(u.c)(n,"handleEvent",(function(e){return function(t){return O(v.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&E("click",v.bind(null,"dom"),!0)(this),"keypress"===t&&O(v.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),Object(u.c)(t,"removeEventListener",(function(e){return function(t,n,r){try{e.call(this,t,n.__sentry_wrapped__,r)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=[],t=[],n=XMLHttpRequest.prototype;Object(u.c)(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=this,c=r[1];a.__sentry_xhr__={method:Object(i.k)(r[0])?r[0].toUpperCase():r[0],url:r[1]},Object(i.k)(c)&&"POST"===a.__sentry_xhr__.method&&c.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var s=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(e){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var o=t.splice(n)[0];a.__sentry_xhr__&&void 0!==o[0]&&(a.__sentry_xhr__.body=o[0])}}catch(e){}v("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?Object(u.c)(a,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(a,t)}})):a.addEventListener("readystatechange",s),n.apply(a,r)}})),Object(u.c)(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.push(this),t.push(r),v("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!Object(f.c)())return;Object(u.c)(d,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:y(t),url:m(t)},startTimestamp:Date.now()};return v("fetch",Object(o.a)({},r)),e.apply(d,t).then((function(e){return v("fetch",Object(o.a)(Object(o.a)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw v("fetch",Object(o.a)(Object(o.a)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!Object(f.b)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t.length>2?t[2]:void 0;if(o){var i=r,a=String(o);r=a,v("history",{from:i,to:a})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=d.location.href,i=r;if(r=o,v("history",{from:i,to:o}),e)return e.apply(this,t)},Object(u.c)(d.history,"pushState",t),Object(u.c)(d.history,"replaceState",t)}();break;case"error":S=d.onerror,d.onerror=function(e,t,n,r,o){return v("error",{column:r,error:o,line:n,msg:e,url:t}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":I=d.onunhandledrejection,d.onunhandledrejection=function(e){return v("unhandledrejection",e),!I||I.apply(this,arguments)};break;default:a.a.warn("unknown instrumentation type:",e)}}function g(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(l[e.type]=l[e.type]||[],l[e.type].push(e.callback),h(e.type))}function v(e,t){var n,r;if(e&&l[e])try{for(var i=Object(o.f)(l[e]||[]),c=i.next();!c.done;c=i.next()){var u=c.value;try{u(t)}catch(t){a.a.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(s.a)(u)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function y(e){return void 0===e&&(e=[]),"Request"in d&&Object(i.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function m(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in d&&Object(i.g)(e[0],Request)?e[0].url:String(e[0])}var w,b,_=0;function E(e,t,n){return void 0===n&&(n=!1),function(r){w=void 0,r&&b!==r&&(b=r,_&&clearTimeout(_),n?_=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function O(e){return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(w||E("input",e)(t),clearTimeout(w),w=setTimeout((function(){w=void 0}),1e3))}}var S=null;var I=null},function(e,t,n){"use strict";n.r(t),n.d(t,"Severity",(function(){return o.a})),n.d(t,"Status",(function(){return i.a})),n.d(t,"addGlobalEventProcessor",(function(){return a.b})),n.d(t,"addBreadcrumb",(function(){return c.a})),n.d(t,"captureException",(function(){return c.c})),n.d(t,"captureEvent",(function(){return c.b})),n.d(t,"captureMessage",(function(){return c.d})),n.d(t,"configureScope",(function(){return c.e})),n.d(t,"getHubFromCarrier",(function(){return u.c})),n.d(t,"getCurrentHub",(function(){return u.b})),n.d(t,"Hub",(function(){return u.a})),n.d(t,"makeMain",(function(){return u.d})),n.d(t,"Scope",(function(){return a.a})),n.d(t,"startTransaction",(function(){return c.l})),n.d(t,"setContext",(function(){return c.f})),n.d(t,"setExtra",(function(){return c.g})),n.d(t,"setExtras",(function(){return c.h})),n.d(t,"setTag",(function(){return c.i})),n.d(t,"setTags",(function(){return c.j})),n.d(t,"setUser",(function(){return c.k})),n.d(t,"withScope",(function(){return c.m})),n.d(t,"BrowserClient",(function(){return s.a})),n.d(t,"injectReportDialog",(function(){return f.a})),n.d(t,"eventFromException",(function(){return d.a})),n.d(t,"eventFromMessage",(function(){return d.b})),n.d(t,"defaultIntegrations",(function(){return l.b})),n.d(t,"forceLoad",(function(){return l.d})),n.d(t,"init",(function(){return l.e})),n.d(t,"lastEventId",(function(){return l.f})),n.d(t,"onLoad",(function(){return l.g})),n.d(t,"showReportDialog",(function(){return l.h})),n.d(t,"flush",(function(){return l.c})),n.d(t,"close",(function(){return l.a})),n.d(t,"wrap",(function(){return l.i})),n.d(t,"SDK_NAME",(function(){return p.a})),n.d(t,"SDK_VERSION",(function(){return p.b})),n.d(t,"Integrations",(function(){return b})),n.d(t,"Transports",(function(){return y}));var r=n(0),o=n(152),i=n(695),a=n(123),c=n(38),u=n(34),s=n(188),f=n(44),d=n(75),l=n(63),p=n(102),h=n(41),g=n(11),v=n(187),y=n(223),m={},w=Object(g.e)();w.Sentry&&w.Sentry.Integrations&&(m=w.Sentry.Integrations);var b=Object(r.a)(Object(r.a)(Object(r.a)({},m),h.a),v)},function(e,t,n){var r=n(108),o=n(402),i=n(403),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(62).Symbol;e.exports=r},function(e,t,n){var r=n(206),o=n(207);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var c=-1,u=t.length;++c<u;){var s=t[c],f=i?i(n[s],e[s],s,n,e):void 0;void 0===f&&(f=e[s]),a?o(n,s,f):r(n,s,f)}return n}},function(e,t,n){var r=n(58),o=n(218),i=n(447),a=n(450);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(199);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(3),o=n(8),i=n(9),a=function(e,t){var n=e.userId,o=e.botId,i=e.agentName,a=e.agentPicture,u=e.agentDepartment,s=e.channelId,f=e.visitorUuid,d=e.instanceId,l=e.metadata;return t.push("connectBot-".concat(d)),function(e,p,h){var g=h.conn;return e({type:"BOT_FETCH_CONNECT"}),function(e,t,n,o,i,a,u,s){s.push("openConnection"),a.instanceId!==u&&a.disconnect();return a.hasBeenSetup()?a.isOpen()?c(e,t,n,o,i,a,s):Promise.reject(new Error("Socket isn't in opened state, won't send register")):a.connect(r.g,u).then((function(){return c(e,t,n,o,i,a,s)}))}(n,o,s,f,l,g,d,t).then((function(){return e({type:"BOT_CONNECTED",botId:o,agentName:i,agentPicture:a,agentDepartment:u}),"BOT_CONNECTED"})).catch((function(t){return e({type:"BOT_FAIL_CONNECT",reason:t}),"BOT_FAIL_CONNECT"}))}};function c(e,t,n,r,i,a,c){return c.push("registerToService"),a.rpc(o.a.botRegister(e,t,n,r,0,i.url,!1,i.referrer,c.toString()))}var u=function(e){return function(t,n,r){r.conn;return"sendMessage"===e.action||"openLink"===e.action?t(Object(i.h)(e.text)):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=n(253),i=n(695),a=n(66),c=n(56),u=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):c.a.reject(new a.a("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new c.a((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);c.a.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),s=n(49),f=n(11),d=function(){function e(e){this.options=e,this._buffer=new u(30),this._rateLimits={},this._api=new o.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new a.a("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,o=e.resolve,a=e.reject,c=i.a.fromHttpCode(n.status);this._handleRateLimit(r)&&s.a.warn("Too many requests, backing off until: "+this._disabledUntil(t)),c!==i.a.Success?a(n):o({status:c})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,o,i,a=Date.now(),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c){try{for(var s=Object(r.f)(c.trim().split(",")),d=s.next();!d.done;d=s.next()){var l=d.value.split(":",2),p=parseInt(l[0],10),h=1e3*(isNaN(p)?60:p);try{for(var g=(o=void 0,Object(r.f)(l[1].split(";"))),v=g.next();!v.done;v=g.next()){var y=v.value;this._rateLimits[y||"all"]=new Date(a+h)}}catch(e){o={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}return!!u&&(this._rateLimits.all=new Date(a+Object(f.g)(a,u)),!0)},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(){var e=Object(r.c)("settings");return{manualTrigger:void 0!==e&&"boolean"==typeof e.manualTrigger&&e.manualTrigger,disableHistoryHooks:void 0!==e&&"boolean"==typeof e.disableHistoryHooks&&!0===e.disableHistoryHooks,showLauncher:void 0===e||"boolean"!=typeof e.showLauncher||e.showLauncher}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var r=n(0),o=n(7),i=n(693),a=n(56),c=n(11),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=Object(r.e)(t._breadcrumbs),n._tags=Object(r.a)({},t._tags),n._extra=Object(r.a)({},t._extra),n._contexts=Object(r.a)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=Object(r.e)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=Object(r.a)(Object(r.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=Object(r.a)(Object(r.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(r.a)(Object(r.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=Object(r.a)(Object(r.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(r.a)(Object(r.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,o=this.getSpan();return(null===(e=o)||void 0===e?void 0:e.transaction)?null===(t=o)||void 0===t?void 0:t.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=Object(r.a)(Object(r.a)({},this._tags),t._tags),this._extra=Object(r.a)(Object(r.a)({},this._extra),t._extra),this._contexts=Object(r.a)(Object(r.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):Object(o.h)(t)&&(t=t,this._tags=Object(r.a)(Object(r.a)({},this._tags),t.tags),this._extra=Object(r.a)(Object(r.a)({},this._extra),t.extra),this._contexts=Object(r.a)(Object(r.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=Object(r.a)({timestamp:Object(i.a)()},e);return this._breadcrumbs=void 0!==t&&t>=0?Object(r.e)(this._breadcrumbs,[n]).slice(-t):Object(r.e)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(r.a)(Object(r.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(r.a)(Object(r.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(r.a)(Object(r.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(r.a)(Object(r.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(r.a)({trace:this._span.getTraceContext()},e.contexts);var o=null===(n=this._span.transaction)||void 0===n?void 0:n.name;o&&(e.tags=Object(r.a)({transaction:o},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(r.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(r.e)(s(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,i){var c=this;return void 0===i&&(i=0),new a.a((function(a,u){var s=e[i];if(null===t||"function"!=typeof s)a(t);else{var f=s(Object(r.a)({},t),n);Object(o.m)(f)?f.then((function(t){return c._notifyEventProcessors(e,t,n,i+1).then(a)})).then(null,u):c._notifyEventProcessors(e,f,n,i+1).then(a).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function s(){var e=Object(c.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function f(e){s().push(e)}},function(e,t,n){"use strict";(function(n,r){var o;!function(){var i,a="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(O="object"==typeof n&&"object"==typeof n.versions&&n.versions.node&&!n.browser){var c=n.versions.node.toString().replace("v","");a="Nodejs/"+c+" (NodeOS) AppleWebKit/"+c+" (KHTML, like Gecko) Nodejs/"+c+" Nodejs/"+c}i=void 0!==r?r:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==r&&(r.navigator={userAgent:a,getUserMedia:function(){}},i.window=r),"undefined"==typeof location&&(i.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(i.screen={width:0,height:0}));var u=window.navigator;void 0!==u?(void 0!==u.webkitGetUserMedia&&(u.getUserMedia=u.webkitGetUserMedia),void 0!==u.mozGetUserMedia&&(u.getUserMedia=u.mozGetUserMedia)):u={getUserMedia:function(){},userAgent:a};var s=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(u.userAgent||""),f=!(-1===u.userAgent.indexOf("Edge")||!u.msSaveOrOpenBlob&&!u.msSaveBlob),d=!!window.opera||u.userAgent.indexOf(" OPR/")>=0,l=void 0!==window.InstallTrigger,p=/^((?!chrome|android).)*safari/i.test(u.userAgent),h=!!window.chrome&&!d,g="undefined"!=typeof document&&!!document.documentMode&&!f;function v(e,t){var n=0,r=!1,o=window.setInterval((function(){e()&&(window.clearInterval(o),t(r)),n++>50&&(window.clearInterval(o),t(r=!0))}),10)}var y={Android:function(){return u.userAgent.match(/Android/i)},BlackBerry:function(){return u.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return u.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return u.userAgent.match(/Opera Mini/i)},Windows:function(){return u.userAgent.match(/IEMobile/i)},any:function(){return y.Android()||y.BlackBerry()||y.iOS()||y.Opera()||y.Windows()},getOsName:function(){var e="Unknown OS";return y.Android()&&(e="Android"),y.BlackBerry()&&(e="BlackBerry"),y.iOS()&&(e="iOS"),y.Opera()&&(e="Opera Mini"),y.Windows()&&(e="Windows"),e}};var m="Unknown OS",w="Unknown OS Version";var b,_,E=function(){for(var e,t=u.appVersion,n=u.userAgent,r="-",o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],i=0;e=o[i];i++)if(e.r.test(n)){r=e.s;break}var a="-";switch(/Windows/.test(r)&&(/Windows (.*)/.test(r)&&(a=/Windows (.*)/.exec(r)[1]),r="Windows"),r){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(n)&&(a=/Mac OS X (10[\.\_\d]+)/.exec(n)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(n)&&(a=/Android ([\.\_\d]+)/.exec(n)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(n)&&(a=(a=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))[1]+"."+a[2]+"."+(0|a[3]))}return{osName:r,osVersion:a}}();E&&E.osName&&"-"!=E.osName?(m=E.osName,w=E.osVersion):y.any()&&"Android"==(m=y.getOsName())&&(w=!!(_=(b=(b||u.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&_[1]);var O="object"==typeof n&&"object"==typeof n.versions&&n.versions.node;"Unknown OS"===m&&O&&(m="Nodejs",w=n.versions.node.toString().replace("v",""));var S=!1,I=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!S&&e in document.createElement("canvas")&&(S=!0),!I&&e in document.createElement("video")&&(I=!0))}));var C=[],T=[],A=[],j=[];u.mediaDevices&&u.mediaDevices.enumerateDevices&&(u.enumerateDevices=function(e){var t=u.mediaDevices.enumerateDevices();t&&t.then?u.mediaDevices.enumerateDevices().then(e).catch((function(){e([])})):e([])});var x=!1;("undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||u.mediaDevices&&u.mediaDevices.enumerateDevices)&&(x=!0);var N=!1,k=!1,P=!1,R=!1,D=!1;function L(e){if(x)if(!u.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(u.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!u.enumerateDevices&&u.enumerateDevices&&(u.enumerateDevices=u.enumerateDevices.bind(u)),u.enumerateDevices){C=[],T=[],A=[],j=[],N=!1,k=!1,P=!1,R=!1,D=!1;var t={};u.enumerateDevices((function(n){n.forEach((function(e){var n={};for(var r in e)try{"function"!=typeof e[r]&&(n[r]=e[r])}catch(e){}t[n.deviceId+n.label+n.kind]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||D||(D=!0),"audioinput"!==n.kind||R||(R=!0)):(n.isCustomLabel=!0,"videoinput"===n.kind?n.label="Camera "+(j.length+1):"audioinput"===n.kind?n.label="Microphone "+(T.length+1):"audiooutput"===n.kind?n.label="Speaker "+(A.length+1):n.label="Please invoke getUserMedia once.",void 0!==M&&M.browser.isChrome&&M.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(N=!0,-1===T.indexOf(n)&&T.push(n)),"audiooutput"===n.kind&&(k=!0,-1===A.indexOf(n)&&A.push(n)),"videoinput"===n.kind&&(P=!0,-1===j.indexOf(n)&&j.push(n)),C.push(n),t[n.deviceId+n.label+n.kind]=n)})),void 0!==M&&(M.MediaDevices=C,M.hasMicrophone=N,M.hasSpeakers=k,M.hasWebcam=P,M.isWebsiteHasWebcamPermissions=D,M.isWebsiteHasMicrophonePermissions=R,M.audioInputDevices=T,M.audioOutputDevices=A,M.videoInputDevices=j),e&&e()}))}else e&&e();else e&&e()}var M=window.DetectRTC||{};M.browser=function(){u.appVersion;var e,t,n,r=u.userAgent,o=u.appName,i=""+parseFloat(u.appVersion),a=parseInt(u.appVersion,10);if(d){o="Opera";try{a=(i=u.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){i="0.0.0.0",a=0}}else g?((t=r.indexOf("rv:"))>0?i=r.substring(t+3):(t=r.indexOf("MSIE"),i=r.substring(t+5)),o="IE"):h?(t=r.indexOf("Chrome"),o="Chrome",i=r.substring(t+7)):p?(t=r.indexOf("Safari"),o="Safari",i=r.substring(t+7),-1!==(t=r.indexOf("Version"))&&(i=r.substring(t+8)),-1!==u.userAgent.indexOf("Version/")&&(i=u.userAgent.split("Version/")[1].split(" ")[0])):l?(t=r.indexOf("Firefox"),o="Firefox",i=r.substring(t+8)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(o=r.substring(e,t),i=r.substring(t+1),o.toLowerCase()===o.toUpperCase()&&(o=u.appName));return f&&(o="Edge",i=u.userAgent.split("Edge/")[1]),-1!==(n=i.search(/[; \)]/))&&(i=i.substring(0,n)),a=parseInt(""+i,10),isNaN(a)&&(i=""+parseFloat(u.appVersion),a=parseInt(u.appVersion,10)),{fullVersion:i,version:a,name:o,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,(function(){t=!1}),(function(e){t=!0}));else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{(n=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){t=!0}void 0===t&&v((function(){return"done"===n.readyState}),(function(e){e||(t=!n.result)}))}else if(function(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}v((function(){return void 0!==t}),(function(n){e(t)}))}((function(e){M.browser.isPrivateBrowsing=!!e})),M.browser["is"+M.browser.name]=!0,M.osName=m,M.osVersion=w;"object"==typeof n&&"object"==typeof n.versions&&n.versions["node-webkit"];var U=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(e){U||e in window&&(U=!0)})),M.isWebRTCSupported=U,M.isORTCSupported="undefined"!=typeof RTCIceGatherer;var F=!1;((M.browser.isChrome&&M.browser.version>=35||M.browser.isFirefox&&M.browser.version>=34||M.browser.isEdge&&M.browser.version>=17||"Android"===M.osName&&M.browser.isChrome)&&(F=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(M.browser.isChrome||M.browser.isEdge||M.browser.isOpera)||M.browser.isFirefox)&&(F=!1);M.isScreenCapturingSupported=F;var W={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach((function(e){W.isSupported||e in window&&(W.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(W.isCreateMediaStreamSourceSupported=!0))})),M.isAudioContextSupported=W.isSupported,M.isCreateMediaStreamSourceSupported=W.isCreateMediaStreamSourceSupported;var B=!1;M.browser.isChrome&&M.browser.version>31&&(B=!0),M.isRtpDataChannelsSupported=B;var z=!1;(M.browser.isFirefox&&M.browser.version>28||M.browser.isChrome&&M.browser.version>25||M.browser.isOpera&&M.browser.version>=11)&&(z=!0),M.isSctpDataChannelsSupported=z,M.isMobileDevice=s;var H=!1;(u.getUserMedia||u.mediaDevices&&u.mediaDevices.getUserMedia)&&(H=!0),M.browser.isChrome&&M.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(H="Requires HTTPs"),"Nodejs"===M.osName&&(H=!1),M.isGetUserMediaSupported=H;var G,q,V,Y="";screen.width&&(Y+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));M.displayResolution=Y,M.displayAspectRatio=(G=screen.width,q=screen.height,V=function e(t,n){return 0==n?t:e(n,t%n)}(G,q),G/V/(q/V)).toFixed(2),M.isCanvasSupportsStreamCapturing=S,M.isVideoSupportsStreamCapturing=I,"Chrome"==M.browser.name&&M.browser.version>=53&&(M.isCanvasSupportsStreamCapturing||(M.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),M.isVideoSupportsStreamCapturing||(M.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),M.DetectLocalIPAddress=function(e,t){M.isWebRTCSupported&&function(e,t){if("undefined"==typeof document||"function"!=typeof document.getElementById)return;var n={},r=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!r){var o=document.getElementById("iframe");if(!o)return;var i=o.contentWindow;r=i.RTCPeerConnection||i.mozRTCPeerConnection||i.webkitRTCPeerConnection}if(!r)return;var a=null;"Chrome"===M.browser&&M.browser.version<58&&(a={optional:[{RtpDataChannels:!0}]});var c=new r({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},a);t&&(c.addStream?c.addStream(t):c.addTrack&&t.getTracks()[0]&&c.addTrack(t.getTracks()[0],t));function u(t){var r=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(t);if(r){var o=r[1];void 0===n[o]&&e(o),n[o]=!0}}if(c.onicecandidate=function(e){e.candidate&&u(e.candidate.candidate)},!t)try{c.createDataChannel("sctp",{})}catch(e){}M.isPromisesSupported?c.createOffer().then((function(e){c.setLocalDescription(e).then(s)})):c.createOffer((function(e){c.setLocalDescription(e,s,(function(){}))}),(function(){}));function s(){c.localDescription.sdp.split("\n").forEach((function(e){0===e.indexOf("a=candidate:")&&u(e)}))}}((function(t){t.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?e("Local: "+t):e("Public: "+t)}),t)},M.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,M.isWebSocketsBlocked=!M.isWebSocketsSupported,"Nodejs"===M.osName&&(M.isWebSocketsSupported=!0,M.isWebSocketsBlocked=!1),M.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,n=new WebSocket("wss://echo.websocket.org:443/");n.onopen=function(){M.isWebSocketsBlocked=!1,t=(new Date).getTime(),n.send("ping")},n.onmessage=function(){M.WebsocketLatency=(new Date).getTime()-t+"ms",e(),n.close(),n=null},n.onerror=function(){M.isWebSocketsBlocked=!0,e()}}catch(t){M.isWebSocketsBlocked=!0,e()}},M.load=function(e){L(e=e||function(){})},M.MediaDevices=void 0!==C?C:[],M.hasMicrophone=N,M.hasSpeakers=k,M.hasWebcam=P,M.isWebsiteHasWebcamPermissions=D,M.isWebsiteHasMicrophonePermissions=R,M.audioInputDevices=T,M.audioOutputDevices=A,M.videoInputDevices=j;var K=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(K=!0),M.isSetSinkIdSupported=K;var J=!1;M.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(J=!0):M.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(J=!0),M.isRTPSenderReplaceTracksSupported=J;var $=!1;M.browser.isFirefox&&M.browser.version>38&&($=!0),M.isRemoteStreamProcessingSupported=$;var Q=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(Q=!0),M.isApplyConstraintsSupported=Q;var X=!1;M.browser.isFirefox&&M.browser.version>=43&&(X=!0),M.isMultiMonitorScreenCapturingSupported=X,M.isPromisesSupported=!!("Promise"in window),M.version="1.3.6",void 0===M&&(window.DetectRTC={});var Z=window.MediaStream;void 0===Z&&"undefined"!=typeof webkitMediaStream&&(Z=webkitMediaStream),M.MediaStream=void 0!==Z&&"function"==typeof Z&&Object.keys(Z.prototype),"undefined"!=typeof MediaStreamTrack?M.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):M.MediaStreamTrack=!1;var ee=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;M.RTCPeerConnection=void 0!==ee&&Object.keys(ee.prototype),window.DetectRTC=M,e.exports=M,void 0===(o=function(){return M}.apply(t,[]))||(e.exports=o)}()}).call(this,n(126),n(61))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e,t){return e.forms[t]},o=function(e,t){var n;return null===(n=e.forms[t])||void 0===n?void 0:n.versionId},i=function(e){return function(t){var n;return null===(n=e.forms[t])||void 0===n?void 0:n.languageCode}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],f=!1,d=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):d=-1,s.length&&p())}function p(){if(!f){var e=c(l);f=!0;for(var t=s.length;t;){for(u=s,s=[];++d<t;)u&&u[d].run();d=-1,t=s.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||f||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(276),o=n(428),i=n(162);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v}));var r=n(89),o=n.n(r),i=n(3),a=n(6),c=n(8),u=n(36),s=n(10),f=n(2),d=n(120),l=function(e,t){var n=e.userId,r=e.agentId,o=e.agentName,a=e.agentPicture,c=e.agentDepartment,u=e.channelId,s=e.visitorUuid,f=e.instanceId,d=e.metadata;return t.push("connectChat-".concat(f)),function(e,l,h){var g=h.conn;return e({type:"CHAT_FETCH_CONNECT"}),function(e,t,n,r,o,a,c,u){u.push("openConnection"),a.instanceId!==c&&a.disconnect();return a.hasBeenSetup()?a.isOpen()?p(e,t,n,r,o,a,u):Promise.reject(new Error("Socket isn't in opened state, won't send register")):a.connect(i.g,c).then((function(){return p(e,t,n,r,o,a,u)}))}(n,r,u,s,d,g,f,t).then((function(){return e({type:"CHAT_CONNECTED",agentId:r,agentName:o,agentPicture:a,agentDepartment:c,trace:t.toString()}),"CHAT_CONNECTED"})).catch((function(n){return e({type:"CHAT_FAIL_CONNECT",payload:{agentId:r,agentName:o,agentPicture:a,agentDepartment:c,reason:null==n?void 0:n.reason,trace:t.toString()}}),"CHAT_FAIL_CONNECT"}))}};function p(e,t,n,r,o,u,f){return f.push("registerToService"),new Promise((function(d,l){e&&t&&n&&r?Object(s.d)().then((function(s){f.push("afterGetUserMediaDevices"),u.customRpc(c.a.register(e,t,n,r,0,o.url,!1,o.referrer,s,a.b.getLanguage(),i.f,f.toString()),(function(e){return"joined"===e.type||"offline"===e.type})).then((function(e){"joined"===e.type?d():l({reason:"offline"})})).catch((function(e){return l(e)}))})):l(new Error("Invalid parameters for register userId: ".concat(e,", agentId: ").concat(t)+", channelId: ".concat(n,", visitorUuid: ").concat(r)))}))}var h=function(e){return function(t,n,r){r.conn;return new Promise((function(r,a){var c=n().widget.userId,u=n().activeConversation.agentId,s=n().widget.channelId,f=e,d=i.a+"api/widget-email-conversation?userId="+c+"&name="+encodeURIComponent(f)+"&email="+encodeURIComponent(e)+"&channel="+encodeURIComponent(s)+"&agentId="+encodeURIComponent(""+u);t({type:"EMAIL_TRANSCRIPT_FETCH",name:f,email:e,channelId:s,agentId:u}),o()(d,{},(function(n,o){n?(t({type:"EMAIL_TRANSCRIPT_FAILED",name:f,email:e,channelId:s,agentId:u}),a(new Error("Error emailing conversation, url: ".concat(d,". Reason: ").concat(n&&n.message)))):(t({type:"EMAIL_TRANSCRIPT_SUCCESS",name:f,email:e,channelId:s,agentId:u}),r(o))}))}))}},g=function(){return function(e,t,n){var r=n.conn,o=t().widget,i=o.userId,a=o.visitorUuid,u=t().activeConversation.conversationType,s={type:"agent",agentId:Number(t().activeConversation.agentId)};"bot"===u&&(s={type:"bot",botId:t().activeConversation.botId});var f=t().widget.channelId,d=r.customRpc(c.a.closeConversation(i,s,a,f),(function(e){return"closeConversationResponse"===e.type}));return d.then((function(){e({type:"CLOSE_CONVERSATION_SUCCESS"})})).catch((function(e){return console.warn(e)})),d}},v=function(){return function(e,t,n){n.conn;var r=t().widget,o=r.userId,i=r.channelId,a=r.visitorUuid,c=r.instanceId,s=t().navigation.activeStackId,p=t().hub.find((function(e){return e.id===s}));Object(f.b)("getMetadata").then((function(t){if(p){var n=new u.a;n.push((new Date).toISOString()),n.push("connectToCurrentService");var r=p,f=r.agentName,h=r.department,g=r.agentPicture;e("bot"===s?Object(d.a)({userId:o,botId:Number(p.agentID),agentName:f,agentDepartment:h,agentPicture:g,channelId:i,visitorUuid:a,metadata:t,instanceId:c},n):l({userId:o,agentId:Number(p.agentID),agentName:f,agentDepartment:h,agentPicture:g,channelId:i,visitorUuid:a,metadata:t,instanceId:c},n))}}))}}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){return{type:"SAVE_EDITOR_CONTENT",content:e}},o=function(e,t){return{type:"SET_ACTIVE_CONVERSATION_CLOSED",closed:e,isClosedByMe:t}}},function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));n(7),n(29);function o(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function i(e,t){return e.require(t)}}).call(this,n(126),n(201)(e))},function(e,t,n){var r=n(202),o=n(390),i=n(446),a=n(110),c=n(109),u=n(454),s=n(290),f=n(216),d=s((function(e,t){var n={};if(null==e)return n;var s=!1;t=r(t,(function(t){return t=a(t,e),s||(s=t.length>1),t})),c(e,f(e),n),s&&(n=o(n,7,u));for(var d=t.length;d--;)i(n,t[d]);return n}));e.exports=d},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var r=n(24),o=n(87),i=n(59),a=n(10),c=n(2),u=n(6),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f="imboxInteraction";function d(e){var t=e.groupId,n=e.timer,r=e.closeTime,o=e.cookieName,i=e.condition,a=e.action;window.setTimeout((function(){Object(c.b)("getCookie",o).then((function(e){var n=e&&e.interaction&&e.interaction[t],o=new Date,c=new Date(n);c.setHours(c.getHours()+r),(!c.getTime()||o.getTime()>c.getTime())&&i()&&a()}))}),n)}function l(e){switch(e){case"online":return 1;case"bot":return 2;case"answers":return 3;case"forms":return 4;default:return 5}}function p(e,t,n){for(var r=0;r<e.length;r++){if((n&&"bot"===e[r].type?"online":e[r].type)===t)return e[r]}}function h(e,t,n,h){var g="mobile"===t.metadata.deviceType,v=Number(t.trigger.forceOpen),y=t.trigger.notifications,m=t.trigger.proaktiv;!g&&v?function(e,t,n){setTimeout((function(){var e=n().forceOpen.hasOpenedManually;Object(i.a)(n().navigation);e||Object(c.b)("openWidget",Object(o.a)(n)).then((function(){t({type:"FORCE_OPEN_WIDGET"})})).catch((function(e){console.warn("Could not open widget from trigger timers",e)}))}),1e3*e)}(v,n,h):!g&&m?function(e,t,n,o){var i=t.sort((function(e,t){return l(e.type)-l(t.type)})).map((function(t){return s(s({},t),{matchingHubItem:p(e.sort((function(e,t){return e.order-t.order})),t.type,!1)})})).filter((function(e){return e.matchingHubItem})),c=i.length>0&&i[0];if(c){d({groupId:c.id,timer:1e3*Number(c.time),closeTime:Number(c.closeTime),cookieName:f,condition:function(){var e=o().widget.isOpen,t=o().widget.inActiveConversation,n=o().hub.some((function(e){return e.type===c.matchingHubItem.type}));return!e&&!t&&n},action:function(){n(Object(r.b)(Object(a.b)(c.matchingHubItem))),n({type:"OPEN_WIDGET",reason:"proactive",proactiveId:c.id})}})}}(e,m,n,h):y&&function(e,t,n,r){var o=t.sort((function(e,t){return l(e.type)-l(t.type)})).map((function(t){return s(s({},t),{matchingHubItem:p(e.sort((function(e,t){return e.order-t.order})),t.type,!0)})})).filter((function(e){return e.matchingHubItem})),i=o.length>0&&o[0];if(i){d({groupId:i.id,timer:1e3*Number(i.time),closeTime:Number(i.closeTime),cookieName:f,condition:function(){var e=r().widget.isOpen,t=r().widget.inActiveConversation,n=r().hub.some((function(e){return e.type===i.matchingHubItem.type})),o=r().widget.hasOpenedOnce,a="online"!==i.matchingHubItem.type||r().activeConversation.isActive,c="bot"!==i.matchingHubItem.type||r().activeConversation.isActive;return!o&&!e&&!t&&n&&a&&c},action:function(){if("answers"===i.type)n({type:"OPEN_NOTIFICATION_ANSWERS",notificationId:i.id,userId:i.matchingHubItem.answersWidgetID,formId:i.matchingHubItem.assignAnswers,message:i.message}),Object(c.b)("openWidget","notification","timer").catch((function(e){n({type:"HIDE_NOTIFICATION"}),n({type:"CLOSE"}),console.warn("Could not open widget as notification",e)}));else if("online"===i.type){var e=u.b.formatString(i.message,{agentName:i.matchingHubItem.agentName});n({type:"OPEN_NOTIFICATION_ONLINE",notificationId:i.id,message:e,agentName:i.matchingHubItem.agentName,agentPicture:i.matchingHubItem.agentPicture,department:i.matchingHubItem.department}),Object(c.b)("openWidget","notification","timer").catch((function(e){n({type:"HIDE_NOTIFICATION"}),n({type:"CLOSE"}),console.warn("Could not open widget as notification",e)}))}}})}}(e,y,n,h)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e,t,n,r){return{type:"SET_FORM_VALUE",instanceId:e,formId:t,id:n,value:r}},o=function(e,t,n){return{type:"SET_FORM_PREFILL_VALUE",payload:{formId:e,id:t,value:n}}},i=function(e,t){return{type:"REMOVE_FORM_PREFILL_VALUE",payload:{formId:e,id:t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7);function o(e){try{for(var t=e,n=[],r=0,o=0,a=" > ".length,c=void 0;t&&r++<5&&!("html"===(c=i(t))||r>1&&o+n.length*a+c.length>=80);)n.push(c),o+=c.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function i(e){var t,n,o,i,a,c=e,u=[];if(!c||!c.tagName)return"";if(u.push(c.tagName.toLowerCase()),c.id&&u.push("#"+c.id),(t=c.className)&&Object(r.k)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)u.push("."+n[a]);var s=["type","name","title","alt"];for(a=0;a<s.length;a++)o=s[a],(i=c.getAttribute(o))&&u.push("["+o+'="'+i+'"]');return u.join("")}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(r||(r={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(r||(r={}))},function(e,t,n){var r=n(154),o=n(396),i=n(397),a=n(398),c=n(399),u=n(400);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=c,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(391),o=n(392),i=n(393),a=n(394),c=n(395);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(128);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(93)(Object,"create");e.exports=r},function(e,t,n){var r=n(415);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(276),o=n(425),i=n(162);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(422),o=n(67),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!c.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(62),o=n(423),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?r.Buffer:void 0,u=(c?c.isBuffer:void 0)||o;e.exports=u}).call(this,n(198)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(204),o=n(209);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(433),o=n(203),i=n(434),a=n(284),c=n(435),u=n(107),s=n(274),f=s(r),d=s(o),l=s(i),p=s(a),h=s(c),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||c&&"[object WeakMap]"!=g(new c))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case d:return"[object Map]";case l:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(110),o=n(111);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(486),o=n(489),i=n(219),a=n(58),c=n(491);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):c(e)}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(695),o=n(56),i=function(){function e(){}return e.prototype.sendEvent=function(e){return o.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:r.a.Skipped})},e.prototype.close=function(e){return o.a.resolve(!0)},e}()},function(e,t,n){"use strict";n.r(t);var r=n(255);n.d(t,"GlobalHandlers",(function(){return r.a}));var o=n(252);n.d(t,"TryCatch",(function(){return o.a}));var i=n(254);n.d(t,"Breadcrumbs",(function(){return i.a}));var a=n(256);n.d(t,"LinkedErrors",(function(){return a.a}));var c=n(257);n.d(t,"UserAgent",(function(){return c.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),o=n(357),i=n(11),a=n(49),c=n(309),u=n(152),s=n(194),f=n(75),d=n(307),l=n(308),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.eventFromException=function(e,t){return Object(f.a)(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=u.a.Info),Object(f.b)(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(r.a)(Object(r.a)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):Object(s.a)()?new d.a(t):new l.a(t)},t}(c.a),h=n(44),g=n(254),v=n(102),y=function(e){function t(t){return void 0===t&&(t={}),e.call(this,p,t)||this}return Object(r.b)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(i.e)().document&&(this._isEnabled()?Object(h.a)(Object(r.a)(Object(r.a)({},e),{dsn:e.dsn||this.getDsn()})):a.a.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,o){return t.platform=t.platform||"javascript",t.sdk=Object(r.a)(Object(r.a)({},t.sdk),{name:v.a,packages:Object(r.e)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:v.b}]),version:v.b}),e.prototype._prepareEvent.call(this,t,n,o)},t.prototype._sendEvent=function(t){var n=this.getIntegration(g.a);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(o.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(263),o=n(150);function i(e,t){return e[t]?[t]:function(e,t,n){for(var o=Object(r.b)(e,t),i=[],a=o.next();!a.done;){var c=a.value,u=c[0],s=c[1];n(s,u)&&i.push([s,u]),a=o.next()}return i}(e,"new-form",(function(e,n){return n.data.reference===t||e===t})).map((function(e){var t=e[0];e[1];return t}))}var a=function(e){return function(t,n){var r=n().forms;e.map((function(e){var t,n,o=e.id,a=e.value,c=e.formId,u=null!==(n=null===(t=r[c])||void 0===t?void 0:t.form)&&void 0!==n?n:{},s={type:Array.isArray(a)?"listValue":"textInput",value:a};return{formId:c,id:i(u,o),formValue:s,reference:o}})).forEach((function(e){var n=e.formId,r=e.id,i=e.formValue,a=e.reference;n&&r.length>0&&i?r.forEach((function(e){return t(Object(o.c)("form-".concat(n),n,e,i))})):t(Object(o.b)(n,a,i))}))}},c=function(e,t){return function(n,r){r().formPrefillValues.filter((function(t){return Number(t.formId)===Number(e)})).map((function(e){var n=e.id,r=e.value,o=e.formId;return i(t,n).map((function(e){return{formId:o,id:e,value:r}}))})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function(e){var t=e.formId,r=e.id,i=e.value;n(Object(o.c)("form-".concat(t),t,r,i)),n(Object(o.a)(t,r))}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(120),o=n(130),i=n(2);function a(e,t,n){return n.push("getActionForConnectingSocket"),Object(i.b)("getMetadata").then((function(i){var a,c=t.userId,u=t.channelId,s=t.imboxUid,f=t.instanceId;if("bot"===e.type){var d=parseInt(e.agentID),l=e.agentName,p=e.agentPicture,h=e.department;a=Object(r.a)({userId:c,botId:d,agentName:l,agentPicture:p,agentDepartment:h,channelId:u,visitorUuid:s,instanceId:f,metadata:i},n)}else{var g=parseInt(e.agentID);l=e.agentName,p=e.agentPicture,h=e.department;a=Object(o.b)({userId:c,agentId:g,agentName:l,agentPicture:p,agentDepartment:h,channelId:u,visitorUuid:s,instanceId:f,metadata:i},n)}return a}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n(38),o=n(2),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},c=n(13),u=n.n(c),s=n(3),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},l=n(148),p=n.n(l),h=n(10),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function v(e){switch(e.type){case"chat":case"bot":return 1;case"answers":return 2;case"form":return 3;default:return 4}}function y(e){if(e)return e.map((function(e){return"chat"===e.type?g(g({},e),{type:"online"}):e}))}function m(e){if(e)return e.map((function(e){return"chat"===e.type?g(g({},e),{type:"online"}):"forms"===e.type?g(g({},e),{type:"form"}):e}))}function w(e){try{return JSON.parse(e)}catch(e){return}}function b(e){var t=w(e.localization);if(t){var n=Object.keys(t);!t.en&&n.length>0&&(t.en=t[n[0]])}return{id:e.id,localization:t}}var _=/\$(\{[\s\S]*\})/;function E(e){var t=null,n=e&&e.match(_);return n&&(t=w(n[1]),e=e.replace(_,"").trim()),g({text:e},t)}var O=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};function I(e){try{return JSON.stringify(e)}catch(e){return console.warn(e),""}}function C(e){var t=e.userId,n=e.currentURL,c=e.deviceType,l=e.imboxuid,_=e.reqCount,T=e.skipTo,A=e.triggerToEmail,j=e.triggerToGroup,x=e.referrer,N=e.isUnique,k=e.isPolling,P=e.hasActiveChat,R=e.agentId,D=e.hash;return O(this,void 0,Promise,(function(){var e,O,L,M;return S(this,(function(S){switch(S.label){case 0:return e=function(e){var t=e.userId,n=e.currentURL,r=e.deviceType,o=e.imboxuid,i=e.reqCount,a=e.skipTo,c=e.triggerToEmail,u=e.triggerToGroup,s=e.referrer,f=e.isUnique,d=e.isPolling,l=e.hasActiveChat,p=e.agentId,h=e.hash;return"user_id="+t+"&currentURL="+encodeURIComponent(n)+"&channel=null&imboxuid="+(o||"")+"&deviceType="+r+"&reqCount="+i+"&referrer="+(s&&s.source||"")+"&skipTo="+(a?""+a:"")+"&emailArr="+I(c)+"&groupArr="+I(u)+"&isUnique="+(f?"1":"0")+"&isPolling="+(d?"1":"0")+"&dbgInActiveChat="+l+"&dbgAgentId="+p+"&hash="+h}({userId:t,currentURL:n,deviceType:c,imboxuid:l,reqCount:_,triggerToEmail:A,triggerToGroup:j,referrer:x,isUnique:N,skipTo:T,isPolling:k,hasActiveChat:P,agentId:R,hash:D}),[4,(H=e,f(void 0,void 0,Promise,(function(){var e;return d(this,(function(t){return e=s.h+"trigger?"+H,[2,u.a.get(e).then((function(e){return 204===e.status?null:e.data}))]}))})))];case 1:if(!(O=S.sent()))return[2,null];L=O.pageConditions&&"[]"!==O.pageConditions?O.pageConditions:O,S.label=2;case 2:return S.trys.push([2,4,,5]),[4,(z=L,i(void 0,void 0,void 0,(function(){return a(this,(function(e){return[2,Object(o.b)("runPageConditions",z)]}))})))];case 3:return"skip"===S.sent()?[2,C({userId:t,currentURL:n,deviceType:c,imboxuid:l,reqCount:_,skipTo:T,triggerToEmail:A,triggerToGroup:j,referrer:x,isUnique:N,isPolling:k,hasActiveChat:P,agentId:R,hash:D})]:[2,(U=O,{apiVersion:U.apiVersion,hub:(W=U.hub,B=U.departmentTriggers,W&&W.map((function(e){var t=Object(h.b)(e),n=void 0!==e.sortorder;return"chat"===e.type?g(g({},p()(e,"sortorder","groupid")),{id:t,groupId:e.groupid,type:"online",order:n?e.sortorder:v(e),department:B||e.department}):g(g({},p()(e,"sortorder","groupid")),{id:t,groupId:e.groupid,order:n?e.sortorder:v(e)})}))),userId:Number(U.qUserId),agentId:Number(U.agentID),hasActiveChat:"1"===U.hasActiveChat,hasClaimedWhenRouteAll:"1"===U.qclm,channelId:U.channel,imboxUid:U.imboxUid,polling:"1"===U.polling,widgetStyles:U.insideCss||"",launcherStyles:U.insideCss||"",outerStyles:U.outsideCss||"",widgetPosition:U.widgetPosition,launcherIcon:U.launcherImage,launcherIconSize:U.launcherImageSize,launcherIconOnline:U.launcherImageOnline,launcherTitle:U.launcherTitle,useAgentPictureLauncherIcon:U.useAgentPictureLauncherIcon,hideLauncherIcon:U.hideLauncherIcon,proactive:U.proactive,token:U.jwt,allowWebRTC:1===U.allowWebRTC,notifications:y(U.notification),proaktiv:m(U.proaktiv),greetingMessage:E(U.greetingMsg),localization:(F=U.localization,w(F)),onChatEnd:U.onChatEnd&&U.onChatEnd[0],chatAwayForm:U.chatAwayForm,chatOfflineForm:U.chatOfflineForm,chatSlotsFullForm:U.chatSlotsFullForm,onNoResponse:U.onNoResponse&&U.onNoResponse[0],shouldPoll:U.shouldPoll,noSearchResult:U.noSearchResult&&Number(U.noSearchResult),companyName:U.companyName,consent:b(U.consent),language:U.language,forceOpen:U.forceOpen,enableCloseConversation:1===U.endConversationFromWidget,instanceId:U.instanceId,a11yMode:U.a11yMode,hash:U.hash})];case 4:return M=S.sent(),r.c(M),[2,null];case 5:return[2]}var U,F,W,B,z,H}))}))}function T(e){return O(this,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i(void 0,void 0,Promise,(function(){return a(this,(function(e){return[2,Object(o.b)("getLocalStorage","imboxUid")]}))}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),e.push("failed-request-localstorage-imboxuid-error"),console.warn("Error when retriving localstorage imboxuid",t),[3,3];case 3:return[2,void 0]}}))}))}function A(e,t,n,o){return O(this,void 0,Promise,(function(){var i,a;return S(this,(function(c){switch(c.label){case 0:return i=null!=t?t:n,541!==e&&865!==e?[3,2]:[4,T(o)];case 1:(a=c.sent())===t&&a===n&&t===n||(r.c(new Error("UUID MISMATCH: Redux: ".concat(t," Cookie: ").concat(n," LocalStorage: ").concat(a," "))),i=null!=a?a:i),c.label=2;case 2:return[2,i]}}))}))}function j(e){return O(this,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i(void 0,void 0,Promise,(function(){return a(this,(function(e){return[2,Object(o.b)("getCookie","imbox")]}))}))];case 1:return[2,n.sent()];case 2:return t=n.sent(),e.push("failed-request-state-error"),console.warn("Error when requesting state, will use no state when requesting trigger",t),[3,3];case 3:return[2,void 0]}}))}))}function x(e){return O(this,void 0,void 0,(function(){var t;return S(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i(void 0,void 0,Promise,(function(){return a(this,(function(e){return[2,Object(o.b)("getMetadata")]}))}))];case 1:return[2,n.sent()];case 2:throw t=n.sent(),e.push("failed-get-metadata-error"),console.warn("Error when retriving metadata",t),new Error(t);case 3:return[2]}}))}))}function N(e,t,n,r,o,i,a){var c,u,s,f;return O(this,void 0,Promise,(function(){var d,l,p,h,g,v;return S(this,(function(y){switch(y.label){case 0:return[4,Promise.all([j(i),x(i)])];case 1:return d=y.sent(),l=d[0],p=d[1],[4,A(e,t,null==l?void 0:l.imboxUid,i)];case 2:return h=y.sent(),i.push("redux-uid-".concat(t)),i.push("cookie-uid-".concat(null==l?void 0:l.imboxUid)),g=null===(u=null===(c=null==p?void 0:p.trigger)||void 0===c?void 0:c.preferedAgentEmails)||void 0===u?void 0:u.map((function(e){return encodeURIComponent(e)})),v=null===(f=null===(s=null==p?void 0:p.trigger)||void 0===s?void 0:s.preferedAgentGroups)||void 0===f?void 0:f.map((function(e){return encodeURIComponent(e)})),[4,C({userId:e,currentURL:p.url,deviceType:a&&a.resetFromVisibility?"1":"2",imboxuid:h,reqCount:1,skipTo:null,triggerToEmail:g,triggerToGroup:v,referrer:p.referrer,isUnique:a&&a.isUnique,isPolling:a&&a.isPolling,hasActiveChat:n,agentId:null!=r?r:0,hash:o})];case 3:return[2,{trigger:y.sent(),state:l,metadata:p}]}}))}))}},function(e,t,n){var r=n(220);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(482),o=n(290)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(49),o=n(11);function i(){if(!("fetch"in Object(o.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if(!i())return!1;var e=Object(o.e)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var c=n.createElement("iframe");c.hidden=!0,n.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(t=a(c.contentWindow.fetch)),n.head.removeChild(c)}catch(e){r.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function u(){if(!i())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function s(){var e=Object(o.e)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u}));var r=function(e){return e.widget.noSearchResult},o=function(e){return e.widget.companyName},i=function(e){return e.widget.consentId},a=function(e){return e.widget.channelId},c=function(e){return e.widget.userId},u=function(e){return"mobile"===e.widget.host.deviceType}},function(e,t,n){"use strict";n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"m",(function(){return m})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return A})),n.d(t,"n",(function(){return j}));var r=n(13),o=n.n(r),i=n(89),a=n.n(i),c=n(3),u=n(12),s=n(20),f=n(261),d=n(24),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(e,t,n,r){return function(i,s,f){f.conn;return p(void 0,void 0,void 0,(function(){var f,d,l,p,g,v,y;return h(this,(function(h){switch(h.label){case 0:if(f=s(),d=Object(u.b)(f),i({type:"ANSWERS_POPULAR_QUESTIONS_FETCH",numberOfItems:n,categoryIds:r,answersId:t}),1!==d)return[3,5];l=Object(u.f)(f),p=Object(u.c)(f),g=new URLSearchParams({lang:l,faqId:String(p),limit:String(n)}),h.label=1;case 1:return h.trys.push([1,3,,4]),y="".concat(c.a,"api/v4/widget/faq/").concat(e,"/popular-articles?").concat(g),[4,o.a.get(y)];case 2:return v=h.sent(),i({type:"ANSWERS_POPULAR_QUESTIONS_SUCCESS",numberOfItems:n,categoryIds:r,data:v.data.map((function(e){return{id:e.faqArticleId,sid:e.userId,qSub:e.title,cat:e.categoryId,ranking:e.count}})),answersId:t}),[3,4];case 3:return h.sent(),i({type:"ANSWERS_POPULAR_QUESTIONS_FAILED",numberOfItems:n,categoryIds:r,answersId:t}),[3,4];case 4:return[3,6];case 5:y=c.a+"api/faq/"+e+"/popular-articles?limit="+n+"&categories="+decodeURIComponent(r),a()(y,{},(function(e,o){i(e?{type:"ANSWERS_POPULAR_QUESTIONS_FAILED",numberOfItems:n,categoryIds:r,answersId:t}:{type:"ANSWERS_POPULAR_QUESTIONS_SUCCESS",numberOfItems:n,categoryIds:r,data:o,answersId:t})})),h.label=6;case 6:return[2]}}))}))}},v=function(e,t,n){return function(r,i,s){s.conn;return p(void 0,void 0,void 0,(function(){var s,f,d,l,p,g,v,y,m,w,b;return h(this,(function(h){switch(h.label){case 0:if(s=i(),f=Object(u.b)(s),r({type:"ANSWERS_ARTICLES_FETCH",answersId:t}),1!==f)return[3,5];d=Object(u.f)(s),l=Object(u.c)(s),p=new URLSearchParams({lang:d,faqId:String(l)}),h.label=1;case 1:return h.trys.push([1,3,,4]),b="".concat(c.a,"api/v4/widget/faq/").concat(e,"/categories/").concat(n,"?").concat(p),[4,o.a.get(b)];case 2:return g=h.sent(),v=function(e){return{id:e.faqArticleId,categoryId:e.categoryId,text:e.title,userId:e.userId}},y=g.data.allArticles.map(v),m=g.data.orphans.map(v),w=g.data.sections.map((function(e){return{articles:e.articles.map(v),id:e.id,order:e.order,title:e.title}})),r({type:"ANSWERS_ARTICLES_SUCCESS",allArticles:y,orphans:m,sections:w,answersId:t,category:g.data.category}),[3,4];case 3:return h.sent(),r({type:"ANSWERS_ARTICLES_FAILED",answersId:t}),[3,4];case 4:return[3,6];case 5:b="".concat(c.a,"api/faq/").concat(e,"/categories/").concat(n,"/articles"),a()(b,{},(function(e,n){r(e?{type:"ANSWERS_ARTICLES_FAILED",answersId:t}:{type:"ANSWERS_ARTICLES_SUCCESS",allArticles:(n||[]).map((function(e){return{id:e.id,categoryId:e.cat,text:e.qSub,userId:e.sid}})),answersId:t})})),h.label=6;case 6:return[2]}}))}))}},y=function(e,t,n,r){return function(i,a,s){s.conn;return p(void 0,void 0,void 0,(function(){var s,d,l,p,g,v,y,m,w,b,_;return h(this,(function(h){switch(h.label){case 0:return s=a(),d=Object(u.f)(s),s.forms[t]?[3,2]:[4,i(Object(f.a)(e,void 0,t,"faq"))];case 1:l=h.sent(),d=l.languageCode,h.label=2;case 2:if(p=Object(u.b)(s),g=s.host,v=s.widget,i({type:"ANSWERS_ARTICLE_DETAILS_FETCH",answersId:t}),1!==p)return[3,7];y=Object(u.c)(s),m=new URLSearchParams({lang:d,categoryId:String(r),faqId:String(y),device:v.host.deviceType,isOpen:v.isOpen,pageUrl:g.url}),h.label=3;case 3:return h.trys.push([3,5,,6]),w="".concat(c.a,"api/v4/widget/faq/").concat(e,"/articles/").concat(n,"?").concat(m),[4,o.a.get(w)];case 4:return 404===(b=h.sent()).status?[2,i({type:"ANSWERS_ARTICLE_DETAILS_NOT_FOUND",answersId:t})]:(_={id:b.data.faqArticleId,sid:b.data.userId,qSub:b.data.title,qBod:b.data.content,ac:"0",status:b.data.status,help:"show"===b.data.showFeedback?"1":"0",helpText:"",helpYes:"",helpNo:"",wasHelpfulEmailForm:b.data.feedbackNoFormId,wasHelpfulPhoneForm:b.data.feedbackPhoneEnabled,wasHelpfulChatForm:b.data.feedbackChatEnabled,qCatId:b.data.categoryId,qCat:b.data.categoryTitle,agentName:b.data.authorName,agentPicture:b.data.authorPicture,department:null,visitorName:null,contactEmailBody:null,contactEmailSubject:null,contactEmailId:b.data.feedbackNoFormId,contactPhoneBody:b.data.feedbackPhoneNumber,contactPhoneSubject:null,contactChatBody:null,contactChatSubject:null,routeToGroup:null,articleVersion:"v2",articleLanguageCode:b.data.faqLanguageCode},i({type:"ANSWERS_ARTICLE_DETAILS_SUCCESS",data:_,answersId:t}),[3,6]);case 5:return h.sent(),i({type:"ANSWERS_ARTICLE_DETAILS_FAILED",answersId:t}),[3,6];case 6:return[3,8];case 7:o.a.get("".concat(c.a,"api/v3/faq/").concat(e,"/articles/").concat(n,"/view?")+new URLSearchParams({channel:v.channelId,url:g.url,deviceType:v.host.deviceType,isOpen:v.isOpen})).then((function(e){i({type:"ANSWERS_ARTICLE_DETAILS_SUCCESS",data:e.data,answersId:t})})).catch((function(e){404===e.response.status?i({type:"ANSWERS_ARTICLE_DETAILS_NOT_FOUND",answersId:t}):i({type:"ANSWERS_ARTICLE_DETAILS_FAILED",answersId:t})})),h.label=8;case 8:return[2]}}))}))}},m=function(e,t,n,r){return function(i,a,s){s.conn;return p(void 0,void 0,void 0,(function(){var s,f,d,l,p;return h(this,(function(h){switch(h.label){case 0:if(s=a(),f=Object(u.b)(s),i({type:"ANSWERS_ARTICLE_VOTE_FETCH",answersId:t}),1!==f)return[3,5];d=Object(u.f)(s),l=Object(u.c)(s),h.label=1;case 1:return h.trys.push([1,3,,4]),p="yes"===r?"voteyes":"voteno",[4,o.a.post("".concat(c.a,"api/v4/widget/faq/").concat(e,"/analytics/").concat(p),{faqId:l,articleId:n,lang:d,device:s.widget.host.deviceType,pageUrl:s.host.url})];case 2:return h.sent(),i({type:"ANSWERS_ARTICLE_VOTE_SUCCESS",answersId:t}),[3,4];case 3:return h.sent(),i({type:"ANSWERS_ARTICLE_VOTE_FAILED",answersId:t}),[3,4];case 4:return[3,6];case 5:o.a.post("".concat(c.a,"api/v3/faq/").concat(e,"/articles/").concat(n,"/vote"),{vote:r,url:s.host.url,deviceType:s.widget.host.deviceType}).then((function(){i({type:"ANSWERS_ARTICLE_VOTE_SUCCESS",answersId:t})})).catch((function(e){i({type:"ANSWERS_ARTICLE_VOTE_FAILED",answersId:t})})),h.label=6;case 6:return[2]}}))}))}},w=function(e,t,n,r){return function(i,a,s){s.conn;return p(void 0,void 0,void 0,(function(){var s,f,d,p,g,v,y,m,w;return h(this,(function(h){switch(h.label){case 0:if(s=a(),f=Object(u.b)(s),i({type:"ANSWERS_SEARCH_FETCH",search:n,answersId:t}),1!==f)return[3,5];d=Object(u.f)(s),p=Object(u.c)(s),g=new URLSearchParams({faqId:String(p),lang:d,q:n,url:s.host.url}),h.label=1;case 1:return h.trys.push([1,3,,4]),v="".concat(c.a,"api/v4/widget/faq/").concat(e,"/search?").concat(g),[4,o.a.get(v)];case 2:return y=h.sent(),m={id:y.data.id,suggest:y.data.suggest,json:y.data.articles.map((function(e){var t=e._source.category?e._source.category[0]:void 0;return e._source.category_id=null==t?void 0:t.id,e._source.category_name=null==t?void 0:t.title,e._source.content_text=null==t?void 0:t.title,e}))},i({type:"ANSWERS_SEARCH_SUCCESS",search:n,data:m,answersId:t}),[3,4];case 3:return h.sent(),i({type:"ANSWERS_SEARCH_FAILED",answersId:t}),[3,4];case 4:return[3,6];case 5:w=a(),o.a.get("".concat(c.a,"api/v3/faq/").concat(e,"/search?").concat(new URLSearchParams(l(l({q:n.slice(0,50)},r&&{searchId:r.toString()}),{channel:w.widget.channelId,url:w.host.url})))).then((function(e){i({type:"ANSWERS_SEARCH_SUCCESS",search:n,data:e.data,answersId:t})})).catch((function(e){i({type:"ANSWERS_SEARCH_FAILED",answersId:t})})),h.label=6;case 6:return[2]}}))}))}},b=function(e,t,n){return function(r,i,a){a.conn;return p(void 0,void 0,void 0,(function(){var a,s,f,d,l,p;return h(this,(function(h){switch(h.label){case 0:if(r({type:"ANSWERS_SUGGEST_FETCH",answersId:t}),a=i(),1!==Object(u.b)(a))return[3,5];s=Object(u.f)(a),f=Object(u.c)(a),d=new URLSearchParams({faqId:String(f),lang:s,q:n}),h.label=1;case 1:return h.trys.push([1,3,,4]),l="".concat(c.a,"api/v4/widget/faq/").concat(e,"/suggest-search?").concat(d),[4,o.a.get(l)];case 2:return p=h.sent(),r({type:"ANSWERS_SUGGEST_SUCCESS",data:{docsuggest:p.data.result},answersId:t}),[3,4];case 3:return h.sent(),r({type:"ANSWERS_SUGGEST_SUCCESS",data:[],answersId:t}),[3,4];case 4:return[3,6];case 5:o.a.get("".concat(c.a,"api/v3/faq/").concat(e,"/suggest-search?").concat(new URLSearchParams({q:n.slice(0,50)}))).then((function(e){r({type:"ANSWERS_SUGGEST_SUCCESS",data:e.data,answersId:t})})).catch((function(e){r({type:"ANSWERS_SUGGEST_SUCCESS",data:[],answersId:t})})),h.label=6;case 6:return[2]}}))}))}},_=function(e,t){return function(n,r,i){i.conn;return p(void 0,void 0,void 0,(function(){var n,i,a,s,f,d,l;return h(this,(function(p){switch(p.label){case 0:if(n=r(),i=n.widget,a=i.userId,s=i.channelId,1!==Object(u.b)(n))return[3,5];f=Object(u.f)(n),d=Object(u.c)(n),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,o.a.post("".concat(c.a,"api/v4/widget/faq/").concat(a,"/analytics/articleSuggestClicked"),{helpCenterId:d,articleId:t,lang:f,pageUrl:n.host.url,qstring:e})];case 2:return p.sent(),[3,4];case 3:return l=p.sent(),console.error(l),[3,4];case 4:return[3,6];case 5:o.a.post("".concat(c.a,"api/v3/faq/").concat(a,"/suggest-article-click"),{q:e,articleId:t,channel:s,url:n.host.url}).catch((function(e){console.error(e)})),p.label=6;case 6:return[2]}}))}))}},E=function(e,t){return function(n,r,i){i.conn;return p(void 0,void 0,void 0,(function(){var n,i,a,s,f;return h(this,(function(d){switch(d.label){case 0:if(n=r(),i=n.widget.userId,1!==Object(u.b)(n))return[3,5];a=Object(u.f)(n),s=Object(u.c)(n),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,o.a.post("".concat(c.a,"api/v4/widget/faq/").concat(i,"/analytics/articleSearchClicked"),{searchId:t,articleId:e,lang:a,helpCenterId:s})];case 2:return d.sent(),[3,4];case 3:return f=d.sent(),console.error(f),[3,4];case 4:return[3,6];case 5:o.a.post("".concat(c.a,"api/v3/faq/").concat(i,"/search-article-click"),{articleId:e,searchId:t}).catch((function(e){console.error(e)})),d.label=6;case 6:return[2]}}))}))}},O=function(e){return{type:"CLEAR_SUGGESTIONS",answersId:e}},S=function(e,t,n,r){return function(o,i){return o(Object(d.c)("answers","answersArticleList",{userId:e,answersId:t,categoryId:n,categoryName:r}))}},I=function(e,t,n,r){return function(o,i){return o(Object(d.c)("answers","answersArticleDetails",{userId:e,answersId:t,articleId:n,categoryId:r}))}},C=function(){return function(e,t,n){n.conn;var r=Object(s.d)(t());if(!r)return Promise.resolve();for(var o=-1,i=0;i<r.length;i++)if("answers"===r[i].module&&"answers"===r[i].name){o=i;break}return-1!==o?e(Object(d.e)(o)):void 0}};function T(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n;return-1}var A=function(){return function(e,t,n){n.conn;var r="answersSearchResults",o=Object(s.d)(t()),i=T(o,r),a=T(o,"answersArticleDetails"),c=-1;return-1!==i&&-1===a?c=i:-1===i&&-1!==a?c=a:-1!==i&&-1!==a&&(c=Math.min(i,a)),e(-1!==c?Object(d.d)("answers",r,{},c-1):Object(d.c)("answers",r,{}))}},j=function(e,t){return{type:"UPDATE_SEARCH_TERM",search:t,answersId:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(21),i=function(e){return{type:"SET_TRANSITION",payload:e}},a=new(function(){function e(){}return e.prototype.setRef=function(e,t,n){void 0===n&&(n=!1),e&&(this.ref!==e&&this.sizeType!==t?(this.ref=e,this.sizeType=t,o.a.dispatch(i(!0)),this.dimensionsUpdated(0,0,(function(){o.a.dispatch(i(!1))}),n)):(this.ref=e,this.sizeType=t,this.dimensionsUpdated(0,0,void 0,n)))},e.prototype.dimensionsUpdated=function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),o.a.getState().widget.isOpen||!1!==r?this.changeDimensions(e,t,n):n&&n()},e.prototype.changeDimensions=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),this.pollForDimensions(0,(function(o,i,a){if(o)return console.warn(o),void(n&&n());Object(r.b)("changeDimensions",e+i+"px",t+a+"px").then((function(){n&&n()})).catch((function(e){n&&n(),console.warn("changeDimensions failed",e)}))}))},e.prototype.pollForDimensions=function(e,t){var n=this,r=this.ref&&this.ref.clientWidth,o=this.ref&&this.ref.scrollHeight;if(r&&o)t(null,r,o);else if(e<50)setTimeout((function(){n.pollForDimensions(++e,t)}),2*e);else{var i=document.querySelector(".resizing-root"),a=i&&i.clientWidth,c=i&&i.scrollHeight;if(a&&c)t(null,a,c);else{var u=this.ref&&this.ref.className,s=i&&i.className;t(new Error("Maximum attempts to poll for dimensions reached. Tag: ".concat(u,", fallbackTag: ").concat(s)),null,null)}}},e}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(107),o=n(67);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"1d65d54"}}).call(this,n(61))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(93)(n(62),"Map");e.exports=r},function(e,t,n){var r=n(107),o=n(60);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(407),o=n(414),i=n(416),a=n(417),c=n(418);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(207),o=n(128),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(275);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(424),o=n(210),i=n(211),a=i&&i.isTypedArray,c=a?o(a):r;e.exports=c},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(273),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,c=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c}).call(this,n(198)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(431),o=n(280),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(277)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(283),o=n(281),i=n(129);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(285);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(58),o=n(199),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(461),o=n(67);e.exports=function e(t,n,i,a,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,c))}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},o=function(){return document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():void 0},i=function(){return r()?o():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():void 0}},function(e,t,n){"use strict";n.r(t);var r=n(121);n.d(t,"BaseTransport",(function(){return r.a}));var o=n(307);n.d(t,"FetchTransport",(function(){return o.a}));var i=n(308);n.d(t,"XHRTransport",(function(){return i.a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a}));var r="BRANDING_SHOW",o="BRANDING_HIDE",i=function(e){return{type:r,payload:e}},a=function(){return{type:o}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r="INITIAL_STATE",o="FEEDBACK_VOTE",i=function(e,t){return{type:o,payload:{articleId:e,vote:t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(11),i=n(29),a=n(65),c=n(44),u=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=function(){function e(t){this.name=e.id,this._options=Object(r.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(o.e)();(this._options.setTimeout&&Object(i.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(i.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(i.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(i.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:u).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=Object(c.c)(r,{mechanism:{data:{function:Object(a.a)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,Object(c.c)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(a.a)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(o.e)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(i.c)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Object(c.c)(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(a.a)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,Object(c.c)(r,{mechanism:{data:{function:"addEventListener",handler:Object(a.a)(r),target:e},handled:!0,type:"instrument"}}),o)}})),Object(i.c)(n,"removeEventListener",(function(e){return function(t,n,r){var o,i=n;try{var a=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(e){}return e.call(this,t,i,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(e){e in r&&"function"==typeof r[e]&&Object(i.c)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:Object(a.a)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=Object(a.a)(t.__sentry_original__)),Object(c.c)(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(694),o=n(29),i=function(){function e(e){this.dsn=e,this._dsnObject=new r.a(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(o.f)(e)},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(34),i=n(152),a=n(11),c=n(105),u=n(77),s=n(151),f=function(){function e(t){this.name=e.id,this._options=Object(r.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Object(o.b)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(a.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&Object(c.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,Object(r.e)(t))},type:"console"}),this._options.dom&&Object(c.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,Object(r.e)(t))},type:"dom"}),this._options.xhr&&Object(c.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,Object(r.e)(t))},type:"xhr"}),this._options.fetch&&Object(c.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,Object(r.e)(t))},type:"fetch"}),this._options.history&&Object(c.a)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,Object(r.e)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:i.a.fromString(e.level),message:Object(u.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(u.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(o.b)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(s.a)(e.event.target):Object(s.a)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(o.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,a=t.body;Object(o.b)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:a})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Object(o.b)().addBreadcrumb({category:"fetch",data:e.fetchData,level:i.a.Error,type:"http"},{data:e.error,input:e.args}):Object(o.b)().addBreadcrumb({category:"fetch",data:Object(r.a)(Object(r.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Object(a.e)(),n=e.from,r=e.to,i=Object(a.h)(t.location.href),c=Object(a.h)(n),u=Object(a.h)(r);c.path||(c=i),i.protocol===u.protocol&&i.host===u.host&&(r=u.relative),i.protocol===c.protocol&&i.host===c.host&&(n=c.relative),Object(o.b)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(34),i=n(152),a=n(49),c=n(105),u=n(7),s=n(11),f=n(75),d=n(44),l=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(r.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(a.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(a.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(Object(c.a)({callback:function(n){var r=n.error,i=Object(o.b)(),a=i.getIntegration(e),c=r&&!0===r.__sentry_own_request__;if(a&&!Object(d.b)()&&!c){var l=i.getClient(),p=Object(u.i)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(Object(f.c)(r,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(s.a)(p,{handled:!1,type:"onerror"}),i.captureEvent(p,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(Object(c.a)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var a=Object(o.b)(),c=a.getIntegration(e),l=r&&!0===r.__sentry_own_request__;if(!c||Object(d.b)()||l)return!0;var p=a.getClient(),h=Object(u.i)(r)?t._eventFromRejectionWithPrimitive(r):Object(f.c)(r,void 0,{attachStacktrace:p&&p.getOptions().attachStacktrace,rejection:!0});h.level=i.a.Error,Object(s.a)(h,{handled:!1,type:"onunhandledrejection"}),a.captureEvent(h,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=Object(u.e)(e)?e.message:e;if(Object(u.k)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var c={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(c,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,a=Object(u.k)(t)&&t.length>0?t:Object(s.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(123),i=n(34),a=n(7),c=n(104),u=n(90),s=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){Object(o.b)((function(t,n){var r=Object(i.b)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(a.g)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Object(r.e)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!Object(a.g)(e[t],Error)||n.length+1>=this._limit)return n;var o=Object(u.a)(e[t]),i=Object(c.c)(o);return this._walkErrorTree(e[t],t,Object(r.e)([i],n))},e.id="LinkedErrors",e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(123),i=n(34),a=n(11),c=Object(a.e)(),u=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Object(o.b)((function(t){var n,o,a;if(Object(i.b)().getIntegration(e)){if(!c.navigator&&!c.location&&!c.document)return t;var u=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(o=c.location)||void 0===o?void 0:o.href),s=(c.document||{}).referrer,f=(c.navigator||{}).userAgent,d=Object(r.a)(Object(r.a)(Object(r.a)({},null===(a=t.request)||void 0===a?void 0:a.headers),s&&{Referer:s}),f&&{"User-Agent":f}),l=Object(r.a)(Object(r.a)({},u&&{url:u}),{headers:d});return Object(r.a)(Object(r.a)({},t),{request:l})}return t}))},e.id="UserAgent",e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34),o=n(49);function i(e,t){!0===t.debug&&o.a.enable();var n=Object(r.b)(),i=new e(t);n.bindClient(i)}},function(e){e.exports=JSON.parse('{"contactFormHeader":"Contact","formUnknownError":"Something went wrong, please try again later.","emailTranscriptSend":"Send","emailTranscriptClose":"Close","emailTranscriptCancel":"Cancel","minimizeWindow":"Minimize window","headerSettingsMenu":"Settings","headerCallMenu":"Go to call","rateConversation":"Rate your conversation","rateConversationThankYou":"Thanks for your vote!","agentAway":"Unfortunately there\'s no agents available at the moment. Please try again later.","agentOffline":"Unfortunately there\'s no agents available at the moment. Please try again later.","agentSlotsFull":"Unfortunately there\'s no agents available at the moment. Please try again later.","agentReconnected":"{agentName} joined the conversation.","chatEnd":"{agentName} has ended the conversation","defaultRatingText":"Please rate your conversation","chatMessagePlaceholder":"Write to {agentName} here...","answersSearchPlaceholder":"Type your search word here","answersNotificationSearchPlaceholder":"Type your search word here","emailConversation":"Please provide your email address to receive a copy of this chat.","emailConversationSent":"Thank you, you will recieve the transcript shortly.","emailConversationNamePlaceholder":"Your name","emailConversationEmailPlaceholder":"Your email address","emailConversationNameValidationError":"Name is mandatory","emailConversationEmailValidationError":"Enter a valid email address","emailConversationSendButton":"Send","connectionEnd":"Cannot reconnect to service, please check your internet connection","connectionReconnect":"Reconnecting to service","answersBreadcrumbHome":"Start","answersBreadcrumbSearchResults":"Search results","answersSearchResultsFound":"Search results for","answersNoSearchResultsFound":"No results for \'{search}\'.","answersNoSearchResultsFoundDidYouMean":"Did you mean {suggestion}?","answersArticleDetails":"Article","answersDetailsCategory":"In category:","answersDetailsAuthor":"Written by:","answersVoteThankYou":"Thanks for your feedback!","answersBackToStart":"Search among articles","answersFeedbackTextYes":"Yes","answersFeedbackTextNo":"No","answersFeedbackYesThankYou":"Thank you for your feedback!","answersFeedbackNoThankYou":"Thank you for your feedback!","answersFeedbackPhoneText":"Call us","answersFeedbackChatText":"Chat with us","answersFeedbackTitle":"Was this article helpful?","defaultHubChatName":"Chat with us","defaultHubAnswersName":"FAQ","defaultHubFormName":"Contact us","searchNoResultChat":"Chat with me!","searchNoResultFeedbackFormTitle":"Send feedback","onlineTransfer":"You have been transferred to {agentName}","brandingText":"","brandingPageOnline":"<img src=\\"https://files.imbox.io/app/static/imbox_purple.png\\" alt=\\"ImBox\\" style=\\"max-width:110px\\"><p>This chat was created by ImBox, which offers all the tools needed to provide world-class service.</p>","brandingPageAnswers":"<img src=\\"https://files.imbox.io/app/static/imbox_purple.png\\" alt=\\"ImBox\\" style=\\"max-width:110px\\"><p>This FAQ was created by ImBox, which offers all the tools needed to provide world-class service.</p>","brandingPageVisitButton":"Read more about ImBox products","brandingPageOnlineBackButton":"Back to chat","brandingPageAnswersBackButton":"Back to FAQ","brandingLink":"https://imbox.se/","incomingCall":"wants to start a voice call...","incomingVideoCall":"wants to start a video call...","incomingCallAccept":"Accept","incomingCallReject":"Reject","incomingCallFooter":"No charge or software to install","callError":"Something went wrong ","callErrorCloseButton":"close","unmute":"Unmute","mute":"Mute","fullScreen":"Full screen","settings":"Settings","hangUp":"Hang up","callSettingsHeader":"Settings","videoDevicesHeader":"Camera","audioInputDevicesHeader":"Microphone","audioOutputDevicesHeader":"Speakers","fileUploadError":"An error occurred while uploading file, please try again","bankidPersonalNumber":"Personal number","bankidOpenThisDevice":"Open BankID on this device","bankidOpenThisDeviceFallback":"If your BankID app doesn\'t start you may need to open the app manually","bankidOpen":"Start your BankID app","bankidPersonalNumberPlaceholder":"YYYYMMDDSSSS","bankidPersonalNumberInvalidPersonalNumber":"Please enter a valid swedish personal number","bankidPersonalNumberWrongLength":"Please enter 12 digits","bankidSignFailed":"Identification failed","bankidSuccess":"Identification success","bankidButtonSign":"Identify","bankidImboxBranding":"BankID via ImBox","a11yAgentNewMessage":"New message from agent {message}","a11yHeaderClose":"Close","a11yHeaderBack":"Go back","a11yNotificationClose":"Close","a11yRadioThumbsUp":"Thumb up","a11yRadioThumbsDown":"Thumbs down","a11yChatSendMessage":"Send","a11yChatEmailConversation":"Email conversation","a11yFAQCategory":"FAQ category {categoryId}","a11yEmojiRating":"Select {number}","a11yStarsRating":"Select {number}","a11yChatUploadFile":"Upload file","closeConversationTooltip":"End conversation","closeConversationButton":"End conversation","endConversationDialogTitle":"Are you sure you want to end the conversation?","answersBreadcrumbArticle":"Article","customFormSubmitSuccess":"Your post has been submitted","endConversationDialogCancel":"Cancel","chatFailRegister":"Failed to connect, please try again.","answersDetailsFetchFailedHeader":"Something went wrong","answersDetailsFetchFailedContent":"An error occured when trying to fetch article, please try again.","answersDetailsNotFoundHeader":"Not found","answersDetailsNotFoundContent":"Article not found.","headerAgentDepartment":"{agentDepartment}","brandingPageForms":"<img src=\\"https://files.imbox.io/app/static/imbox_purple.png\\" alt=\\"ImBox\\" style=\\"max-width:110px\\"><p>This form was created by ImBox, which offers all the tools needed to provide world-class service.</p>","brandingPageFormsBackButton":"Return to the form","changeConversationTitle":"Changing conversations will close the current conversation","changeConversationCancel":"Cancel","changeConversationOk":"Change","incomingCallAcceptOnlyAudio":"Accept audio only","a11ySearch":"Search","a11yInsertEmoji":"Insert emoji","a11yTurnMicOff":"Turn mic off","a11yTurnMicOn":"Turn mic on","a11yEndCall":"End call","a11yToggleFullscreen":"Toggle fullscreen","a11yCallSettings":"Call settings","a11yRemove":"Remove","a11yShowMore":"Show more","emailConversationName":"Name","emailConversationEmail":"Email","changedConversation":"Changed conversation to {agentName}","a11yMessageFromAgent":"Message from agent","a11yMessageFromMe":"Message from me","videoCall":"Video call","a11yToggleChat":"Toggle chat","a11yToggleVideo":"Toggle video","openChat":"Open chat","openVideo":"Open video","a11yCloseSettings":"Close","bankidScanQR":"Start the BankID app on your phone or tablet and press \\"Scan QR code\\"","bankidStart":"Start identification","bankidTryAgain":"Try again","openMenu":"Open menu","a11yOpenMenu":"Open menu"}')},function(e,t,n){"use strict";(function(e,r){var o,i=n(364);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(61),n(201)(e))},function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return _})),n.d(t,"e",(function(){return E}));var r=n(13),o=n.n(r),i=n(89),a=n.n(i),c=n(3),u={"col-xs-12":1,"col-xs-6":2,"col-xs-3":4,"col-xs-4":3};var s=n(189),f=n(125),d=n(12),l=n(24),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h=o.a.CancelToken,g=["set-form-input","set-form-select","set-form-radio","set-form-checkbox","set-form-textarea","set-form-thumbs","set-form-stars","set-form-upload-files","form-rating","form-date-time","form-date","form-time"];function v(e,t){return Object.entries(t).reduce((function(t,n){var r,o,i=n[0],a=n[1],c=e[i];return c&&"string"==typeof a&&g.includes(c.variant)?p(p({},t),((r={})[i]=a,r)):c&&Array.isArray(a)?p(p({},t),((o={})[i]=a,o)):t}),{})}function y(e){var t=e.userId,n=e.formId,r=e.form,o=e.values,i=e.fileTokens,u=e.consentId,s=e.currentUrl,f=e.visitorUUid,d=e.language,l=e.articleId,p=e.articleVersion,h=e.articleLanguageCode;return new Promise((function(e,v){var y,m,w,b=function(e,t){return Object.entries(t).reduce((function(t,n){var r=n[0],o=n[1],i=e[r];return"string"==typeof i.variant&&g.includes(i.variant)?t.concat(o):Array.isArray(o)?t.concat(JSON.stringify(o)):t}),[])}(r,o),_=c.a+"api/nkiData?sid="+t+"&nid="+n+"&channel=null&curl="+s+"&data="+encodeURIComponent(JSON.stringify(b))+"&uid="+f;i&&(_+=(y="&",m="fileTokens",(w=i)&&w.length>0?y+w.map((function(e){return"".concat(m,"=").concat(encodeURIComponent(e))})).join("&"):"")),l&&(_+="&dataid="+l),p&&(_+="&articleVersion="+p),h&&(_+="&articleLanguageCode="+h),u&&(_+="&consentId="+u+"&lang="+d),a()(_,{},(function(t,n){if(t)return v(t);e(n)}))}))}var m=function(e,t,n,r,i,a,u,s){return function(d,l,p){p.conn;var h,g=encodeURIComponent(l().host.url),m=l().widget.visitorUuid,w=Object(f.b)(l(),n),b=l().host.language;return h=w.versionId?o.a.post(c.a+"api/submitForm",{userId:e,formId:n,data:v(w.form,a),fileTokens:s,consentId:u,curl:g,visitorUUid:m,language:b,versionId:w.versionId,channel:i,agentId:r}).then((function(e){return e.data})):y({userId:e,formId:n,form:w.form,values:a,fileTokens:s,consentId:u,currentUrl:g,visitorUUid:m,language:b}),d({type:"FORM_SUBMIT_FETCH",formId:n}),h.then((function(e){d({type:"FORM_SUBMIT_SUCCESS",thankyouText:e.msg,instanceId:t,formId:n})})).catch((function(e){d({type:"FORM_SUBMIT_FAILED",instanceId:t,formId:n})})),h}},w=function(e,t,n,r,i,a,u,s,d){return function(l,p,h){h.conn;var g,m=p().widget.visitorUuid,w=encodeURIComponent(p().host.url),b=p().host.language,_=Object(f.b)(p(),n);return g=_.versionId?o.a.post(c.a+"api/submitForm",{userId:e,formId:n,data:v(_.form,u),consentId:s,currentUrl:w,visitorUUid:m,language:b,versionId:_.versionId,articleId:r,articleVersion:i,articleLanguageCode:a,fileTokens:d}).then((function(e){return e.data})):y({userId:e,formId:String(n),form:_.form,values:u,consentId:s,currentUrl:w,visitorUUid:m,language:b,articleId:r,articleVersion:i,articleLanguageCode:a,fileTokens:d}),l({type:"FORM_SUBMIT_FETCH",formId:n}),g.then((function(e){l({type:"FORM_SUBMIT_SUCCESS",thankyouText:e.msg,instanceId:t,formId:n})})).catch((function(e){l({type:"FORM_SUBMIT_FAILED",instanceId:t,formId:n})})),g}},b=function(e){return Object(l.c)("form","formThankYou",{formId:e})},_=function(e,t,n,r){return void 0===r&&(r="form"),function(i,a,f){f.conn;return new Promise((function(f,d){var l=a().localization.language,h=new URLSearchParams(p({sid:String(e),aid:String(t),nid:String(n),channel:null,lang:l},"faq"===r?{isFAQ:String(!0)}:{})),g="".concat(c.a,"api/form?").concat(h);i({type:"FORM_FETCH",formId:n}),o.a.get(g).then((function(e){var t,o="form"===r?null!==(t=e.data.flow)&&void 0!==t?t:{}:function(e){for(var t={"new-form":{isRoot:!0,bottomChildren:[],rightChildren:[],variant:"new-form",data:{trigger:{}}}},n=0;n<e.length;n++){var r=e[n];"alert"===r.field_type?(t["new-form"].rightChildren.push(r.qid),t[r.qid]={variant:"set-form-alert",bottomChildren:[],rightChildren:[],data:{trigger:{blockPerRow:u[r.className],text:r.value,type:r.type.replace("alert-","")}}}):"articleLink"===r.field_type?(t["new-form"].rightChildren.push(r.qid),t[r.qid]={variant:r.field_type,bottomChildren:[],rightChildren:[],data:{trigger:{blockPerRow:r.className,label:r.label,articleId:r.articleId,icon:r.icon,iconHeight:r.iconHeight}}}):"categoryQuestions"===r.field_type?(t["new-form"].rightChildren.push(r.qid),t[r.qid]={variant:r.field_type,bottomChildren:[],rightChildren:[],data:{trigger:{blockPerRow:r.className,label:r.label,categoryId:r.categoryId,icon:r.icon,iconHeight:r.iconHeight}}}):"popularQuestions"===r.field_type?(t["new-form"].rightChildren.push(r.qid),t[r.qid]={variant:r.field_type,bottomChildren:[],rightChildren:[],data:{trigger:{blockPerRow:r.className,numbItems:r.numbItems}}}):"paragraph"===r.field_type&&(t["new-form"].rightChildren.push(r.qid),t[r.qid]={variant:"set-form-paragraph",bottomChildren:[],rightChildren:[],data:{trigger:{blockPerRow:u[r.className],paragraph:r.value}}})}return t}(e.data.form);i({type:"FORM_SUCCESS",formId:n,data:o,versionId:e.data.versionId,faqAPIVersion:e.data.faqAPIVersion,languageCode:e.data.languageCode}),i(Object(s.a)(n,e.data.form)),f(e.data)})).catch((function(e){i({type:"FORM_FAILED",formId:n,err:e}),d(e)}))}))}};var E=function(e,t,n,r){return function(i,a,u){u.conn;var s=new FormData;s.append("userId",a().widget.userId),s.append("visitorUuid",a().widget.visitorUuid),s.append("nkiId",""+Object(d.d)(a())),s.append("uploadfile",n,n.name);var f="".concat(c.c,"upload/nki"),l=null;return o.a.post(f,s,{onUploadProgress:function(n){r(e,t,Math.round(n.loaded/n.total*100),"",l)},cancelToken:new h((function(e){l=e}))}).then((function(n){return r(e,t,100,n.data.token,null),n.data.token}))}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(9),o=n(3),i=n(13),a=n.n(i),c=n(2),u=n(146),s=function(){return{type:"SHOW_CONSENT"}},f=function(e){return function(t,n,i){i.conn;var s=n(),f=s.widget,d=s.host,l=f.userId,p=f.visitorUuid,h=f.channelId,g=d.url,v=d.language;t({type:"ACCEPT_CONSENT_FETCH"}),a.a.post("".concat(o.a,"api/consent/").concat(l),{uid:p,channel:h,consentId:e,lang:v,url:g}).then((function(){var e=n().activeConversation.isActive,o=n().pendingMessages;if(e)Object(c.a)("setCookie","imboxConsent","approved:".concat(l),{channelId:h}),t({type:"ACCEPT_CONSENT_SUCCESS"}),o.forEach((function(e){t(Object(r.h)(e))})),t({type:"CLEAR_ALL_PENDING_MESSAGES"});else{var i=o&&o.length>0&&o[0];i&&t(Object(u.a)(i)),t({type:"HIDE_CONSENT"}),t({type:"CLEAR_ALL_PENDING_MESSAGES"})}})).catch((function(){t({type:"ACCEPT_CONSENT_FAILED"})}))}},d=function(){return{type:"CLEAR_CONSENT"}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function o(e,t){var n,o,i,a;return r(this,(function(r){switch(r.label){case 0:n=[t],r.label=1;case 1:return n.length>0?(o=n.shift(),[4,[i=e[o],o]]):[3,3];case 2:return(a=r.sent())?a.bottom?n=i.bottomChildren.concat(n):a.right&&(n=i.rightChildren.concat(n)):n=i.rightChildren.concat(i.bottomChildren,n),[3,1];case 3:return[2]}}))}function i(e,t){var n=e[t.refBlockKey];if(!n)return{right:!1,bottom:!0};return function(){switch(t.type){case"contains":return n.includes(t.value);case"equal":return n===t.value;case"notContains":return!n.includes(t.value);case"notEqual":return n!==t.value;case"regex":return new RegExp(t.value).test(n)}return!1}()?{right:!0,bottom:!1}:{right:!1,bottom:!0}}function a(e,t,n){var r=t.refBlockKey,o=e[r];if(o){var i=o.data.trigger;if(!n[r]&&i.defaultOption)return n[r]=i.defaultOption,n}return n}var c="new-form";function u(e,t,n){var r,u,s,f;if(void 0===t&&(t={}),e[c])for(var d,l,p,h,g,v=o(e,c),y=v.next();!y.done;){var m=y.value,w=m[0],b=m[1];if(["match-form-selection","match-form-input"].includes(w.variant)){var _=null;"match-form-selection"===w.variant?(d=a(e,w.data.trigger,t),l=null!==(u=null===(r=w.data)||void 0===r?void 0:r.trigger)&&void 0!==u?u:{},p=void 0,h=void 0,g=void 0,p=d[l.refBlockKey],h=l.refValue,_=(g=Array.isArray(p)?p.includes(h):p===h)&&"hide"===l.action?{right:!1,bottom:!0}:g||"hide"!==l.action?g?{right:!0,bottom:!1}:{right:!1,bottom:!0}:{right:!0,bottom:!1}):"match-form-input"===w.variant&&(_=i(t,null!==(f=null===(s=w.data)||void 0===s?void 0:s.trigger)&&void 0!==f?f:{})),y=v.next(_)}else[c].includes(w.variant)||n(w,b),y=v.next()}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(370),o=n(371),i=n(372);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=c(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?c(e,0):l(e,t);if("Buffer"===t.type&&i(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(f(t),e=c(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|p(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,a=1,c=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,c/=2,u/=2,n/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=n;i<c;i++)if(s(e,i)===s(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+u>c&&(n=c-u),i=n;i>=0;i--){for(var d=!0,l=0;l<u;l++)if(s(e,i+l)!==s(t,l)){d=!1;break}if(d)return i}return-1}function w(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;e[n+a]=c}return a}function b(e,t,n,r){return z(W(t,e.length-n),e,n,r)}function _(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return _(e,t,n,r)}function O(e,t,n,r){return z(B(t),e,n,r)}function S(e,t,n,r){return z(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,c,u,s=e[o],f=null,d=s>239?4:s>223?3:s>191?2:1;if(o+d<=n)switch(d){case 1:s<128&&(f=s);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&s)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&s)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],a=e[o+2],c=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&c)&&(u=(15&s)<<18|(63&i)<<12|(63&a)<<6|63&c)>65535&&u<1114112&&(f=u)}null===f?(f=65533,d=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return s(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?c(e,t):void 0!==n?"string"==typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),c=Math.min(i,a),s=this.slice(r,o),f=e.slice(t,n),d=0;d<c;++d)if(s[d]!==f[d]){i=s[d],a=f[d];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function x(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,i){return i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||k(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);k(this,e,t,n,o-1,-o)}var i=0,a=1,c=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===c&&0!==this[t+i-1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);k(this,e,t,n,o-1,-o)}var i=n-1,a=1,c=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===c&&0!==this[t+i+1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:W(new u(e,r).toString()),c=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(61))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(50);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(50),o=n(380),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={adapter:((void 0!==t&&"[object process]"===Object.prototype.toString.call(t)||"undefined"!=typeof XMLHttpRequest)&&(c=n(269)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u}).call(this,n(126))},function(e,t,n){"use strict";var r=n(50),o=n(381),i=n(266),a=n(383),c=n(384),u=n(270);e.exports=function(e){return new Promise((function(t,s){var f=e.data,d=e.headers;r.isFormData(f)&&delete d["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+h)}if(l.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in l?a(l.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:e,request:l};o(t,s,r),l=null}},l.onabort=function(){l&&(s(u("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){s(u("Network Error",e,null,l)),l=null},l.ontimeout=function(){s(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",l)),l=null},r.isStandardBrowserEnv()){var g=n(385),v=(e.withCredentials||c(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in l&&r.forEach(d,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete d[t]:l.setRequestHeader(t,e)})),e.withCredentials&&(l.withCredentials=!0),e.responseType)try{l.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){l&&(l.abort(),s(e),l=null)})),void 0===f&&(f=null),l.send(f)}))}},function(e,t,n){"use strict";var r=n(382);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(61))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(93),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(421),o=n(159),i=n(58),a=n(160),c=n(161),u=n(208),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),f=!n&&o(e),d=!n&&!f&&a(e),l=!n&&!f&&!d&&u(e),p=n||f||d||l,h=p?r(e.length,String):[],g=h.length;for(var v in e)!t&&!s.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,g))||h.push(v);return h}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(62),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(198)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(214),o=n(215),i=n(213),a=n(280),c=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=c},function(e,t,n){var r=n(283),o=n(213),i=n(158);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(214),o=n(58);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(93)(n(62),"Set");e.exports=r},function(e,t,n){var r=n(62).Uint8Array;e.exports=r},function(e,t,n){var r=n(217);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(441),o=n(215),i=n(212);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(107),o=n(215),i=n(67),a=Function.prototype,c=Object.prototype,u=a.toString,s=c.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},function(e,t,n){var r=n(455),o=n(292),i=n(293);e.exports=function(e){return i(o(e,void 0,r),e+"")}},function(e,t,n){var r=n(214),o=n(456);e.exports=function e(t,n,i,a,c){var u=-1,s=t.length;for(i||(i=o),c||(c=[]);++u<s;){var f=t[u];n>0&&i(f)?n>1?e(f,n-1,i,a,c):r(c,f):a||(c[c.length]=f)}return c}},function(e,t,n){var r=n(457),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),u=Array(c);++a<c;)u[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=n(u),r(e,this,s)}}},function(e,t,n){var r=n(458),o=n(460)(r);e.exports=o},function(e,t,n){var r=n(295),o=n(464),i=n(296);e.exports=function(e,t,n,a,c,u){var s=1&n,f=e.length,d=t.length;if(f!=d&&!(s&&d>f))return!1;var l=u.get(e),p=u.get(t);if(l&&p)return l==t&&p==e;var h=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<f;){var y=e[h],m=t[h];if(a)var w=s?a(m,y,h,t,e,u):a(y,m,h,e,t,u);if(void 0!==w){if(w)continue;g=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(y===e||c(y,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(y!==m&&!c(y,m,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){var r=n(205),o=n(462),i=n(463);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(207),o=n(128);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){var r=n(162),o=n(67);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(219),o=n(292),i=n(293);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(365)),i=a(n(476));function a(e){return e&&e.__esModule?e:{default:e}}var c=/(\{[\d|\w]+\})/;i.default.prototype.formatString=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!1,u=(e||"").split(c).filter((function(e){return!!e})).map((function(e,t){if(e.match(c)){var i=e.slice(1,-1),u=n[i];if(null==u){var s=n[0][i];if(void 0===s)return u;u=s}return o.default.isValidElement(u)?(a=!0,o.default.Children.toArray(u).map((function(e){return r({},e,{key:t.toString()})}))):u}return e}));return a?u:u.join("")},t.default=i.default},function(e,t,n){var r=n(164),o=n(483),i=n(110);e.exports=function(e,t,n){for(var a=-1,c=t.length,u={};++a<c;){var s=t[a],f=r(e,s);n(f,s)&&o(u,i(s,e),f)}return u}},function(e,t,n){var r=n(484),o=n(485);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t,n){var r=n(60);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(295),o=n(496),i=n(501),a=n(296),c=n(502),u=n(221);e.exports=function(e,t,n){var s=-1,f=o,d=e.length,l=!0,p=[],h=p;if(n)l=!1,f=i;else if(d>=200){var g=t?null:c(e);if(g)return u(g);l=!1,f=a,h=new r}else h=t?[]:p;e:for(;++s<d;){var v=e[s],y=t?t(v):v;if(v=n||0!==v?v:0,l&&y==y){for(var m=h.length;m--;)if(h[m]===y)continue e;t&&h.push(y),p.push(v)}else f(h,y,n)||(h!==p&&h.push(y),p.push(v))}return p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(103),i=n(11),a=n(194),c=n(56),u=n(121),s=Object(i.e)(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Object(o.a)(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(Object(o.b)(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:Object(a.d)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new c.a((function(t,o){s.fetch(e.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:i,resolve:t,reject:o})})).catch(o)})))},t}(u.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(103),i=n(56),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Object(o.a)(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(Object(o.b)(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new i.a((function(t,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:o,headers:i,resolve:t,reject:r})}},o.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(e.body)})))},t}(n(121).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(49),o=n(66),i=n(186),a=function(){function e(e){this._options=e,this._options.dsn||r.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new o.a("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new o.a("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){r.a.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){r.a.error("Error while sending session: "+e)})):r.a.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new i.a},e}()},function(e,t,n){"use strict";function r(e){var t=document.createElement("style");t.innerText=e,t.id="custom-styles",t.type="text/css";var n=document.querySelector("#custom-styles");n&&document.querySelector("head").removeChild(n),document.querySelector("head").appendChild(t)}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),o=n(123),i=n(715),a=n(694),c=n(7),u=n(49),s=n(56),f=n(11),d=n(693),l=n(29),p=n(77),h=n(66),g=n(34),v=[];function y(e){var t={};return function(e){var t=e.defaultIntegrations&&Object(r.e)(e.defaultIntegrations)||[],n=e.integrations,o=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),a=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===a.indexOf(e.name)&&(o.push(e),a.push(e.name))})),n.forEach((function(e){-1===a.indexOf(e.name)&&(o.push(e),a.push(e.name))}))}else"function"==typeof n?(o=n(t),o=Array.isArray(o)?o:[o]):o=Object(r.e)(t);var c=o.map((function(e){return e.name}));return-1!==c.indexOf("Debug")&&o.push.apply(o,Object(r.e)(o.splice(c.indexOf("Debug"),1))),o}(e).forEach((function(e){t[e.name]=e,function(e){-1===v.indexOf(e.name)&&(e.setupOnce(o.b,g.b),v.push(e.name),u.a.log("Integration installed: "+e.name))}(e)})),t}var m=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new a.a(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){o=e}))),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id,a=Object(c.i)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return o._captureEvent(e,n,r)})).then((function(e){i=e}))),i},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):u.a.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=y(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return u.a.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,o,a,c=!1,u=!1,s=t.exception&&t.exception.values;if(s){u=!0;try{for(var f=Object(r.f)(s),d=f.next();!d.done;d=f.next()){var l=d.value.mechanism;if(l&&!1===l.handled){c=!0;break}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}var p=t.user;if(!e.userAgent){var h=t.request?t.request.headers:{};for(var g in h)if("user-agent"===g.toLowerCase()){a=h[g];break}}e.update(Object(r.a)(Object(r.a)({},c&&{status:i.a.Crashed}),{user:p,userAgent:a,errors:e.errors+Number(u||c)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new s.a((function(n){var r=0,o=setInterval((function(){0==t._processing?(clearInterval(o),n(!0)):(r+=1,e&&r>=e&&(clearInterval(o),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var i=this,a=this.getOptions().normalizeDepth,c=void 0===a?3:a,u=Object(r.a)(Object(r.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(f.i)()),timestamp:e.timestamp||Object(d.a)()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var l=t;n&&n.captureContext&&(l=o.a.clone(l).update(n.captureContext));var p=s.a.resolve(u);return l&&(p=l.applyToEvent(u,n)),p.then((function(e){return"number"==typeof c&&c>0?i._normalizeEvent(e,c):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return Object(r.a)(Object(r.a)({},e),e.data&&{data:Object(l.d)(e.data,t)})}))}),e.user&&{user:Object(l.d)(e.user,t)}),e.contexts&&{contexts:Object(l.d)(e.contexts,t)}),e.extra&&{extra:Object(l.d)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,o=t.dist,i=t.maxValueLength,a=void 0===i?250:i;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=Object(p.d)(e.message,a));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=Object(p.d)(c.value,a));var u=e.request;u&&u.url&&(u.url=Object(p.d)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){u.a.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;if(!this._isEnabled())return s.a.reject(new h.a("SDK not enabled, will not send event."));var u="transaction"===e.type;return!u&&"number"==typeof a&&Math.random()>a?s.a.reject(new h.a("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new h.a("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||u||!i)return e;var n=i(e,t);if(void 0===n)throw new h.a("`beforeSend` method has to return `null` or a valid event.");return Object(c.m)(n)?n.then((function(e){return e}),(function(e){throw new h.a("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new h.a("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!u&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof h.a)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new h.a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}()},function(e,t,n){(function(t){t&&Object({NODE_ENV:"production",ZOID_FRAME_ONLY:!0,PRIMUS_PATH:"https://widget.imbox.io"})?(e.exports=n(369),e.exports.default=e.exports):(e.exports=n(373),e.exports.default=e.exports)}).call(this,n(126))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,n){!function(){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(n){t(e,n,r[n])}))}return e}var r=function(e){return e},o=function(){},i=function(){return!0},a=function(e){return e.type};e.exports=function(e){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.breadcrumbDataFromAction,s=void 0===u?o:u,f=c.breadcrumbMessageFromAction,d=void 0===f?a:f,l=c.actionTransformer,p=void 0===l?r:l,h=c.stateTransformer,g=void 0===h?r:h,v=c.breadcrumbCategory,y=void 0===v?"redux-action":v,m=c.filterBreadcrumbActions,w=void 0===m?i:m,b=c.getUserContext,_=c.getTags;return function(r){var o;return e.configureScope((function(e){e.addEventProcessor((function(e,i){var a=r.getState();if(e.extra=n({},e.extra,{lastAction:p(o),state:g(a)}),b&&(e.user=n({},e.user,b(a))),_){var c=_(a);Object.keys(c).forEach((function(r){e.tags=n({},e.tags,t({},r,c[r]))}))}return e}))})),function(t){return function(n){return w(n)&&e.addBreadcrumb({category:y,message:d(n),level:"info",data:s(n)}),o=n,t(n)}}}}}()},function(e,t,n){var r=n(165),o=n(494),i=n(495);e.exports=function(e,t){return i(e,o(r(t)))}},function(e,t,n){var r=n(165),o=n(306);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},function(e,t,n){var r=n(291),o=n(165),i=n(300),a=n(306),c=n(298),u=n(288),s=i((function(e){var t=u(e);return c(t)&&(t=void 0),a(r(e,1,c,!0),o(t,2))}));e.exports=s},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(475)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,u=a(e),s=1;s<arguments.length;s++){for(var f in n=Object(arguments[s]))o.call(n,f)&&(u[f]=n[f]);if(r){c=r(n);for(var d=0;d<c.length;d++)i.call(n,c[d])&&(u[c[d]]=n[c[d]])}}return u}},function(e,t,n){},function(e,t,n){n(200),e.exports=n(692)},function(e,t,n){(function(t){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return{}.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,n,r){"use strict";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}r.r(n),r.d(n,"PopupOpenError",(function(){return De})),r.d(n,"create",(function(){return ln})),r.d(n,"destroy",(function(){return gn})),r.d(n,"destroyComponents",(function(){return pn})),r.d(n,"destroyAll",(function(){return hn})),r.d(n,"PROP_TYPE",(function(){return qt})),r.d(n,"PROP_SERIALIZATION",(function(){return Vt})),r.d(n,"CONTEXT",(function(){return Yt})),r.d(n,"EVENT",(function(){return Kt}));var u,s=[],f=[],d=0;function l(){if(!d&&u){var e=u;u=null,e.resolve()}}function p(){d+=1}function h(){d-=1,l()}var g=function(){function e(e){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n,r,o=!1,i=!1,a=!1;p();try{e((function(e){a?t.resolve(e):(o=!0,n=e)}),(function(e){a?t.reject(e):(i=!0,r=e)}))}catch(e){return h(),void this.reject(e)}h(),a=!0,o?this.resolve(n):i&&this.reject(r)}}var t=e.prototype;return t.resolve=function(e){if(this.resolved||this.rejected)return this;if(c(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},t.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(c(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===s.indexOf(e)){s.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<f.length;n++)f[n](e,t)}}(e,t)}),1),this.dispatch(),this},t.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},t.dispatch=function(){var t=this.resolved,n=this.rejected,r=this.handlers;if(!this.dispatching&&(t||n)){this.dispatching=!0,p();for(var o=function(e,t){return e.then((function(e){t.resolve(e)}),(function(e){t.reject(e)}))},i=0;i<r.length;i++){var a=r[i],u=a.onSuccess,s=a.onError,f=a.promise,d=void 0;if(t)try{d=u?u(this.value):this.value}catch(e){f.reject(e);continue}else if(n){if(!s){f.reject(this.error);continue}try{d=s(this.error)}catch(e){f.reject(e);continue}}if(d instanceof e&&(d.resolved||d.rejected)){var l=d;l.resolved?f.resolve(l.value):f.reject(l.error),l.errorHandled=!0}else c(d)?d instanceof e&&(d.resolved||d.rejected)?d.resolved?f.resolve(d.value):f.reject(d.error):o(d,f):f.resolve(d)}r.length=0,this.dispatching=!1,h()}},t.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},t.catch=function(e){return this.then(void 0,e)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},t.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(t){return t instanceof e?t:c(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var n=new e,r=t.length,o=[].slice();if(!r)return n.resolve(o),n;for(var i=function(e,t,i){return t.then((function(t){o[e]=t,0==(r-=1)&&n.resolve(o)}),(function(e){i.reject(e)}))},a=0;a<t.length;a++){var u=t[a];if(u instanceof e){if(u.resolved){o[a]=u.value,r-=1;continue}}else if(!c(u)){o[a]=u,r-=1;continue}i(a,e.resolve(u),n)}return 0===r&&n.resolve(o),n},e.hash=function(t){var n={},r=[],o=function(e){if(t.hasOwnProperty(e)){var o=t[e];c(o)?r.push(o.then((function(t){n[e]=t}))):n[e]=o}};for(var i in t)o(i);return e.all(r).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return f.push(e),{cancel:function(){f.splice(f.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o;p();try{o=t.apply(n,r||[])}catch(t){return h(),e.reject(t)}return h(),e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||c(t)},e.flush=function(){return t=e,n=u=u||new t,l(),n;var t,n},e}();function v(e){return"[object RegExp]"==={}.toString.call(e)}var y={IFRAME:"iframe",POPUP:"popup"},m="Call was rejected by callee.\r\n";function w(e){return void 0===e&&(e=window),e.location.protocol}function b(e){if(void 0===e&&(e=window),e.mockDomain){var t=e.mockDomain.split("//")[0];if(t)return t}return w(e)}function _(e){return void 0===e&&(e=window),"about:"===b(e)}function E(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function O(e){if(void 0===e&&(e=window),e&&!E(e))try{return e.opener}catch(e){}}function S(e){try{return!0}catch(e){}return!1}function I(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=w(e);if(!n)throw new Error("Can not read window protocol");if("file:"===n)return"file://";if("about:"===n){var r=E(e);return r&&S()?I(r):"about://"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function C(e){void 0===e&&(e=window);var t=I(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}function T(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(_(e)&&S())return!0}catch(e){}try{if(function(e){return void 0===e&&(e=window),"mock:"===b(e)}(e)&&S())return!0}catch(e){}try{if(I(e)===I(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(_(e)&&S())return!0;if(C(window)===C(e))return!0}catch(e){}return!1}function A(e){if(!T(e))throw new Error("Expected window to be same domain");return e}function j(e,t){if(!e||!t)return!1;var n=E(t);return n?n===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function x(e){var t,n,r=[];try{t=e.frames}catch(n){t=e}try{n=t.length}catch(e){}if(0===n)return r;if(n){for(var o=0;o<n;o++){var i=void 0;try{i=t[o]}catch(e){continue}r.push(i)}return r}for(var a=0;a<100;a++){var c=void 0;try{c=t[a]}catch(e){return r}if(!c)return r;r.push(c)}return r}function N(e){for(var t=[],n=0,r=x(e);n<r.length;n++){var o=r[n];t.push(o);for(var i=0,a=N(o);i<a.length;i++)t.push(a[i])}return t}function k(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(E(e)===e)return e;try{if(j(window,e)&&window.top)return window.top}catch(e){}try{if(j(e,window)&&window.top)return window.top}catch(e){}for(var t=0,n=N(e);t<n.length;t++){var r=n[t];try{if(r.top)return r.top}catch(e){}if(E(r)===r)return r}}function P(e){var t=k(e);if(!t)throw new Error("Can not determine top window");var n=[].concat(N(t),[t]);return-1===n.indexOf(e)&&(n=[].concat(n,[e],N(e))),n}var R=[],D=[];function L(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==m}if(t&&T(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(R,e);if(-1!==n){var r=D[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var n=e;n.parentNode&&n.parentNode!==n;)n=n.parentNode;if(!n.host||!t.documentElement.contains(n.host))return!0}return!1}(r))return!0}return!1}function M(e,t){for(var n=x(e),r=0;r<n.length;r++){var o=n[r];try{if(T(o)&&o.name===t&&-1!==n.indexOf(o))return o}catch(e){}}try{if(-1!==n.indexOf(e.frames[t]))return e.frames[t]}catch(e){}try{if(-1!==n.indexOf(e[t]))return e[t]}catch(e){}}function U(e){return void 0===e&&(e=window),O(e=e||window)||E(e)||void 0}function F(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++)if(r===t[o])return!0;return!1}function W(e){void 0===e&&(e=window);for(var t=0,n=e;n;)(n=E(n))&&(t+=1);return t}function B(e,t){var n=k(e)||e,r=k(t)||t;try{if(n&&r)return n===r}catch(e){}var o=P(e),i=P(t);if(F(o,i))return!0;var a=O(n),c=O(r);return a&&F(P(a),i)||c&&F(P(c),o),!1}function z(e,t){if("string"==typeof e){if("string"==typeof t)return"*"===e||t===e;if(v(t))return!1;if(Array.isArray(t))return!1}return v(e)?v(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!v(t)&&e.some((function(e){return z(e,t)})))}function H(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):C()}function G(e,t,n,r){var o;return void 0===n&&(n=1e3),void 0===r&&(r=1/0),function i(){if(L(e))return o&&clearTimeout(o),t();r<=0?clearTimeout(o):(r-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}}function q(e){try{if(e===window)return!0}catch(e){if(e&&e.message===m)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===m)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function V(e){if(T(e))return A(e).frameElement;for(var t=0,n=document.querySelectorAll("iframe");t<n.length;t++){var r=n[t];if(r&&r.contentWindow&&r.contentWindow===e)return r}}function Y(e){if(function(e){return void 0===e&&(e=window),Boolean(E(e))}(e)){var t=V(e);if(t&&t.parentElement)return void t.parentElement.removeChild(t)}try{e.close()}catch(e){}}function K(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var J,$=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(q(r)&&L(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},t.isSafeToReadWrite=function(e){return!q(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=t:Object.defineProperty(e,r,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,c=K(i,e);-1===c?(i.push(e),a.push(t)):a[c]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return n&&n[0]===e?n[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=K(this.keys,e);if(-1!==r)return this.values[r]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=K(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return!(!n||n[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==K(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}();function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Z(e,t,n){return(Z=X()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function ee(e){var t="function"==typeof Map?new Map:void 0;return(ee=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Z(e,arguments,Q(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(e)}function te(e){var t=!1;try{(e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument)&&(t=!0)}catch(e){}return t}function ne(e){return e.name||e.__name__||e.displayName||"anonymous"}function re(e,t){try{delete e.name,e.name=t}catch(e){}return e.__name__=e.displayName=t,e}function oe(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/[=]/g,"");if(void 0!==t)return t.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function ie(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+oe((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function ae(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(J=J||new $,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t=J.get(e);return t||(t=typeof e+":"+ie(),J.set(e,t)),t}(t)+"]":te(t)?{}:t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function ce(){return{}}var ue=0,se=0;function fe(e,t){void 0===t&&(t={});var n,r,o=t.thisNamespace,i=void 0!==o&&o,a=t.time,c=ue;ue+=1;var u=function(){for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];var s,f;c<se&&(n=null,r=null,c=ue,ue+=1),s=i?(r=r||new $).getOrSet(this,ce):n=n||{};try{f=ae(o)}catch(t){return e.apply(this,arguments)}var d=s[f];if(d&&a&&Date.now()-d.time<a&&(delete s[f],d=null),d)return d.value;var l=Date.now(),p=e.apply(this,arguments);return s[f]={time:l,value:p},p};return u.reset=function(){n=null,r=null},re(u,(t.name||ne(e))+"::memoized")}function de(e){var t={};function n(){for(var n=arguments,r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var c=ae(i);return t.hasOwnProperty(c)||(t[c]=g.try((function(){return e.apply(r,n)})).finally((function(){delete t[c]}))),t[c]}return n.reset=function(){t={}},re(n,ne(e)+"::promiseMemoized")}function le(){}function pe(e){var t=!1;return re((function(){if(!t)return t=!0,e.apply(this,arguments)}),ne(e)+"::once")}function he(e,t){if(void 0===t&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+he(e,t+1)}}function ge(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function ve(e,t){if(!t)return e;if(Object.assign)return Object.assign(e,t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ye(e){return e}function me(e,t){var n;return function r(){n=setTimeout((function(){e(),r()}),t)}(),{cancel:function(){clearTimeout(n)}}}function we(e){return[].slice.call(e)}function be(e){return null!=e}function _e(e){return"[object RegExp]"==={}.toString.call(e)}function Ee(e,t,n){if(e.hasOwnProperty(t))return e[t];var r=n();return e[t]=r,r}function Oe(e){var t,n=[],r=!1,o={set:function(t,n){return r||(e[t]=n,o.register((function(){delete e[t]}))),n},register:function(e){var o=pe((function(){return e(t)}));return r?e(t):n.push(o),{cancel:function(){var e=n.indexOf(o);-1!==e&&n.splice(e,1)}}},all:function(e){t=e;var o=[];for(r=!0;n.length;){var i=n.shift();o.push(i())}return g.all(o).then(le)}};return o}function Se(e,t){if(null==t)throw new Error("Expected "+e+" to be present");return t}fe.clear=function(){se=ue},fe((function(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}));var Ie=function(e){function t(t){var n;return(n=e.call(this,t)||this).name=n.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),n.constructor):n.stack=new Error(t).stack,n}return i(t,e),t}(ee(Error));function Ce(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function Te(){return Boolean(document.body)&&"complete"===document.readyState}function Ae(){return Boolean(document.body)&&"interactive"===document.readyState}function je(e){return encodeURIComponent(e)}function xe(e){return function(t,n,r){void 0===r&&(r=[]);var o=t.__inline_memoize_cache__=t.__inline_memoize_cache__||{},i=ae(r);return o.hasOwnProperty(i)?o[i]:o[i]=function(){var t={};if(!e)return t;if(-1===e.indexOf("="))return t;for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n];(o=o.split("="))[0]&&o[1]&&(t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return t}.apply(void 0,r)}(xe,0,[e])}function Ne(e,t){return void 0===t&&(t={}),t&&Object.keys(t).length?(void 0===(n=a({},xe(e),t))&&(n={}),Object.keys(n).filter((function(e){return"string"==typeof n[e]||"boolean"==typeof n[e]})).map((function(e){var t=n[e];if("string"!=typeof t&&"boolean"!=typeof t)throw new TypeError("Invalid type for query");return je(e)+"="+je(t.toString())})).join("&")):e;var n}function ke(e,t){return void 0===t&&(t=document),te(e)?e:"string"==typeof e?t.querySelector(e):void 0}function Pe(e){return new g((function(t,n){var r=ge(e),o=ke(e);if(o)return t(o);if(Te())return n(new Error("Document is ready and element "+r+" does not exist"));var i=setInterval((function(){if(o=ke(e))t(o),clearInterval(i);else if(Te())return clearInterval(i),n(new Error("Document is ready and element "+r+" does not exist"))}),10)}))}fe((function(){return new g((function(e){if(Te()||Ae())return e();var t=setInterval((function(){if(Te()||Ae())return clearInterval(t),e()}),10)}))}));var Re,De=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(Ie);function Le(e){if((Re=Re||new $).has(e)){var t=Re.get(e);if(t)return t}var n=new g((function(t,n){e.addEventListener("load",(function(){!function(e){if(function(){for(var e=0;e<R.length;e++){var t=!1;try{t=R[e].closed}catch(e){}t&&(D.splice(e,1),R.splice(e,1))}}(),e&&e.contentWindow)try{R.push(e.contentWindow),D.push(e)}catch(e){}}(e),t(e)})),e.addEventListener("error",(function(r){e.contentWindow?t(e):n(r)}))}));return Re.set(e,n),n}function Me(e){return Le(e).then((function(e){if(!e.contentWindow)throw new Error("Could not find window in iframe");return e.contentWindow}))}function Ue(e,t){void 0===e&&(e={});var n=e.style||{},r=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),e=e.toLowerCase();var r,o,i,a=document.createElement(e);if(t.style&&ve(a.style,t.style),t.class&&(a.className=t.class.join(" ")),t.id&&a.setAttribute("id",t.id),t.attributes)for(var c=0,u=Object.keys(t.attributes);c<u.length;c++){var s=u[c];a.setAttribute(s,t.attributes[s])}if(t.styleSheet&&(r=a,o=t.styleSheet,void 0===i&&(i=window.document),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(i.createTextNode(o))),t.html){if("iframe"===e)throw new Error("Iframe html can not be written unless container provided and iframe in DOM");a.innerHTML=t.html}return a}("iframe",{attributes:a({allowTransparency:"true"},e.attributes||{}),style:a({backgroundColor:"transparent",border:"none"},n),html:e.html,class:e.class}),o=window.navigator.userAgent.match(/MSIE|Edge/i);return r.hasAttribute("id")||r.setAttribute("id",ie()),Le(r),t&&function(e,t){void 0===t&&(t=document);var n=ke(e,t);if(n)return n;throw new Error("Can not find element: "+ge(e))}(t).appendChild(r),(e.url||o)&&r.setAttribute("src",e.url||"about:blank"),r}function Fe(e,t,n){return e.addEventListener(t,n),{cancel:function(){e.removeEventListener(t,n)}}}function We(e){e.style.setProperty("display","")}function Be(e){e.style.setProperty("display","none","important")}function ze(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function He(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ge(e,t,n){var r=void 0===n?{}:n,o=r.width,i=void 0===o||o,a=r.height,c=void 0===a||a,u=r.interval,s=void 0===u?100:u,f=r.win,d=void 0===f?window:f,l=e.offsetWidth,p=e.offsetHeight,h=!1;t({width:l,height:p});var g,v,y=function(){if(!h&&function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)){var n=e.offsetWidth,r=e.offsetHeight;(i&&n!==l||c&&r!==p)&&t({width:n,height:r}),l=n,p=r}};return d.addEventListener("resize",y),void 0!==d.ResizeObserver?((g=new d.ResizeObserver(y)).observe(e),v=me(y,10*s)):void 0!==d.MutationObserver?((g=new d.MutationObserver(y)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),v=me(y,10*s)):v=me(y,s),{cancel:function(){h=!0,g.disconnect(),window.removeEventListener("resize",y),v.cancel()}}}function qe(e){for(;e.parentNode;)e=e.parentNode;return"[object ShadowRoot]"===e.toString()}var Ve="undefined"!=typeof document?document.currentScript:null,Ye=fe((function(){if(Ve)return Ve;if(Ve=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),n=t&&t[1];if(!n)return;for(var r=0,o=[].slice.call(document.getElementsByTagName("script")).reverse();r<o.length;r++){var i=o[r];if(i.src&&i.src===n)return i}}catch(e){}}())return Ve;throw new Error("Can not determine current script")})),Ke=ie();function Je(e){return function(e){if("number"==typeof e)return e;var t=e.match(/^([0-9]+)(px|%)$/);if(!t)throw new Error("Could not match css value from "+e);return parseInt(t[1],10)}(e)+"px"}function $e(e){return"number"==typeof e?Je(e):"string"==typeof(t=e)&&/^[0-9]+%$/.test(t)?e:Je(e);var t}function Qe(e){void 0===e&&(e=window);var t="__post_robot_11_0_0__";return e!==window?e[t]:e[t]=e[t]||{}}fe((function(){var e;try{e=Ye()}catch(e){return Ke}var t=e.getAttribute("data-uid");if(t&&"string"==typeof t)return t;if((t=e.getAttribute("data-uid-auto"))&&"string"==typeof t)return t;if(e.src){var n=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+n.slice(n.length-30)}else t=ie();return e.setAttribute("data-uid-auto",t),t}));var Xe=function(){return{}};function Ze(e,t){return void 0===e&&(e="store"),void 0===t&&(t=Xe),Ee(Qe(),e,(function(){var e=t();return{has:function(t){return e.hasOwnProperty(t)},get:function(t,n){return e.hasOwnProperty(t)?e[t]:n},set:function(t,n){return e[t]=n,n},del:function(t){delete e[t]},getOrSet:function(t,n){return Ee(e,t,n)},reset:function(){e=t()},keys:function(){return Object.keys(e)}}}))}var et,tt=function(){};function nt(){var e=Qe();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new tt,e.WINDOW_WILDCARD}function rt(e,t){return void 0===e&&(e="store"),void 0===t&&(t=Xe),Ze("windowStore").getOrSet(e,(function(){var n=new $,r=function(e){return n.getOrSet(e,t)};return{has:function(t){return r(t).hasOwnProperty(e)},get:function(t,n){var o=r(t);return o.hasOwnProperty(e)?o[e]:n},set:function(t,n){return r(t)[e]=n,n},del:function(t){delete r(t)[e]},getOrSet:function(t,n){return Ee(r(t),e,n)}}}))}function ot(){return Ze("instance").getOrSet("instanceID",ie)}function it(e,t){var n=t.domain,r=rt("helloPromises"),o=r.get(e);o&&o.resolve({domain:n});var i=g.resolve({domain:n});return r.set(e,i),i}function at(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:ot()},{domain:"*",timeout:-1}).then((function(t){var n=t.origin,r=t.data.instanceID;return it(e,{domain:n}),{win:e,domain:n,instanceID:r}}))}function ct(e,t){var n=t.send;return rt("windowInstanceIDPromises").getOrSet(e,(function(){return at(e,{send:n}).then((function(e){return e.instanceID}))}))}function ut(e){rt("knownWindows").set(e,!0)}function st(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function ft(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?"error":"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?"regex":"[object Date]"==={}.toString.call(e)?"date":"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function dt(e,t){return{__type__:e,__val__:t}}var lt,pt=((et={}).function=function(){},et.error=function(e){return dt("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},et.promise=function(){},et.regex=function(e){return dt("regex",e.source)},et.date=function(e){return dt("date",e.toJSON())},et.array=function(e){return e},et.object=function(e){return e},et.string=function(e){return e},et.number=function(e){return e},et.boolean=function(e){return e},et.null=function(e){return e},et[void 0]=function(e){return dt("undefined",e)},et),ht={},gt=((lt={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},lt.error=function(e){var t=e.stack,n=e.code,r=e.data,o=new Error(e.message);return o.code=n,r&&(o.data=r),o.stack=t+"\n\n"+o.stack,o},lt.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},lt.regex=function(e){return new RegExp(e)},lt.date=function(e){return new Date(e)},lt.array=function(e){return e},lt.object=function(e){return e},lt.string=function(e){return e},lt.number=function(e){return e},lt.boolean=function(e){return e},lt.null=function(e){return e},lt[void 0]=function(){},lt),vt={};function yt(){for(var e=Ze("idToProxyWindow"),t=0,n=e.keys();t<n.length;t++){var r=n[t];e.get(r).shouldClean()&&e.del(r)}}function mt(e,t){var n=t.send,r=t.id,o=void 0===r?ie():r,i=e.then((function(e){if(T(e))return A(e).name})),a=e.then((function(e){if(L(e))throw new Error("Window is closed, can not determine type");return O(e)?y.POPUP:y.IFRAME}));i.catch(le),a.catch(le);var c=function(){return e.then((function(e){if(!L(e))return T(e)?A(e).name:i}))};return{id:o,getType:function(){return a},getInstanceID:de((function(){return e.then((function(e){return ct(e,{send:n})}))})),close:function(){return e.then(Y)},getName:c,focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return L(e)}))},setLocation:function(t,n){return void 0===n&&(n={}),e.then((function(e){var r=window.location.protocol+"//"+window.location.host,o=n.method,i=void 0===o?"get":o,a=n.body;if(0===t.indexOf("/"))t=""+r+t;else if(!t.match(/^https?:\/\//)&&0!==t.indexOf(r))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(t));if("post"===i)return c().then((function(e){if(!e)throw new Error("Can not post to window without target name");!function(e){var t=e.url,n=e.target,r=e.body,o=e.method,i=void 0===o?"post":o,a=document.createElement("form");if(a.setAttribute("target",n),a.setAttribute("method",i),a.setAttribute("action",t),a.style.display="none",r)for(var c=0,u=Object.keys(r);c<u.length;c++){var s,f=u[c],d=document.createElement("input");d.setAttribute("name",f),d.setAttribute("value",null==(s=r[f])?void 0:s.toString()),a.appendChild(d)}Ce().appendChild(a),a.submit(),Ce().removeChild(a)}({url:t,target:e,method:i,body:a})}));if("get"!==i)throw new Error("Unsupported method: "+i);if(T(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(t)}catch(e){}e.location=t}))},setName:function(t){return e.then((function(e){var n=T(e),r=V(e);if(!n)throw new Error("Can not set name for cross-domain window: "+t);A(e).name=t,r&&r.setAttribute("name",t),i=g.resolve(t)}))}}}new g((function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval((function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)}),10)}));var wt=function(){function e(e){var t=e.send,n=e.win,r=e.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new g,this.serializedWindow=r||mt(this.actualWindowPromise,{send:t}),Ze("idToProxyWindow").set(this.getID(),this),n&&this.setWindow(n,{send:t})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then((function(e){return e===y.POPUP}))},t.setLocation=function(e,t){var n=this;return this.serializedWindow.setLocation(e,t).then((function(){return n}))},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(e){var t=this;return this.serializedWindow.setName(e).then((function(){return t}))},t.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},t.focus=function(){var e=this,t=this.isPopup(),n=this.getName(),r=g.hash({isPopup:t,name:n}).then((function(e){var t=e.name;e.isPopup&&t&&window.open("",t,"noopener")})),o=this.serializedWindow.focus();return g.all([r,o]).then((function(){return e}))},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(e,t){var n=t.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=mt(this.actualWindowPromise,{send:n,id:this.getID()}),rt("winToProxyWindow").set(e,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(e,t){var n=this,r=t.send;return g.try((function(){return n.actualWindow?e===n.actualWindow:g.hash({proxyInstanceID:n.getInstanceID(),knownWindowInstanceID:ct(e,{send:r})}).then((function(t){var o=t.proxyInstanceID===t.knownWindowInstanceID;return o&&n.setWindow(e,{send:r}),o}))}))},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return Boolean(this.actualWindow&&L(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,n){var r=n.send;return yt(),e.toProxyWindow(t,{send:r}).serialize()},e.deserialize=function(t,n){var r=n.send;return yt(),Ze("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:r})},e.isProxyWindow=function(e){return Boolean(e&&!q(e)&&e.isProxyWindow)},e.toProxyWindow=function(t,n){var r=n.send;if(yt(),e.isProxyWindow(t))return t;var o=t;return rt("winToProxyWindow").get(o)||new e({win:o,send:r})},e}();function bt(e,t,n,r,o){var i=rt("methodStore"),a=Ze("proxyWindowMethods");wt.isProxyWindow(r)?a.set(e,{val:t,name:n,domain:o,source:r}):(a.del(e),i.getOrSet(r,(function(){return{}}))[e]={domain:o,name:n,val:t,source:r})}function _t(e,t){var n=rt("methodStore"),r=Ze("proxyWindowMethods");return n.getOrSet(e,(function(){return{}}))[t]||r.get(t)}function Et(e,t,n,r,o){var i,a,c;a=(i={on:o.on,send:o.send}).on,c=i.send,Ze("builtinListeners").getOrSet("functionCalls",(function(){return a("postrobot_method",{domain:"*"},(function(e){var t=e.source,n=e.origin,r=e.data,o=r.id,i=r.name,a=_t(t,o);if(!a)throw new Error("Could not find method '"+i+"' with id: "+r.id+" in "+C(window));var u=a.source,s=a.domain,f=a.val;return g.try((function(){if(!z(s,n))throw new Error("Method '"+r.name+"' domain "+JSON.stringify(_e(a.domain)?a.domain.source:a.domain)+" does not match origin "+n+" in "+C(window));if(wt.isProxyWindow(u))return u.matchWindow(t,{send:c}).then((function(e){if(!e)throw new Error("Method call '"+r.name+"' failed - proxy window does not match source in "+C(window))}))})).then((function(){return f.apply({source:t,origin:n},r.args)}),(function(e){return g.try((function(){if(f.onError)return f.onError(e)})).then((function(){var t;throw e.stack&&(e.stack="Remote call to "+i+"("+(void 0===(t=r.args)&&(t=[]),we(t).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:o,name:i}}))}))}));var u=n.__id__||ie();e=wt.unwrap(e);var s=n.__name__||n.name||r;return"string"==typeof s&&"function"==typeof s.indexOf&&0===s.indexOf("anonymous::")&&(s=s.replace("anonymous::",r+"::")),wt.isProxyWindow(e)?(bt(u,n,s,e,t),e.awaitWindow().then((function(e){bt(u,n,s,e,t)}))):bt(u,n,s,e,t),dt("cross_domain_function",{id:u,name:s})}function Ot(e,t,n,r){var o,i=r.on,a=r.send;return function(e,t){void 0===t&&(t=ht);var n=JSON.stringify(e,(function(e){var n=this[e];if(st(this))return n;var r=ft(n);if(!r)return n;var o=t[r]||pt[r];return o?o(n,e):n}));return void 0===n?"undefined":n}(n,((o={}).promise=function(n,r){return function(e,t,n,r,o){return dt("cross_domain_zalgo_promise",{then:Et(e,t,(function(e,t){return n.then(e,t)}),r,{on:o.on,send:o.send})})}(e,t,n,r,{on:i,send:a})},o.function=function(n,r){return Et(e,t,n,r,{on:i,send:a})},o.object=function(e){return q(e)||wt.isProxyWindow(e)?dt("cross_domain_window",wt.serialize(e,{send:a})):e},o))}function St(e,t,n,r){var o,i=r.send;return function(e,t){if(void 0===t&&(t=vt),"undefined"!==e)return JSON.parse(e,(function(e,n){if(st(this))return n;var r,o;if(st(n)?(r=n.__type__,o=n.__val__):(r=ft(n),o=n),!r)return o;var i=t[r]||gt[r];return i?i(o,e):o}))}(n,((o={}).cross_domain_zalgo_promise=function(e){return function(e,t,n){return new g(n.then)}(0,0,e)},o.cross_domain_function=function(n){return function(e,t,n,r){var o=n.id,i=n.name,a=r.send,c=function(n){function r(){var c=arguments;return wt.toProxyWindow(e,{send:a}).awaitWindow().then((function(e){var u=_t(e,o);if(u&&u.val!==r)return u.val.apply({source:window,origin:C()},c);var s=[].slice.call(c);return n.fireAndForget?a(e,"postrobot_method",{id:o,name:i,args:s},{domain:t,fireAndForget:!0}):a(e,"postrobot_method",{id:o,name:i,args:s},{domain:t,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===n&&(n={}),r.__name__=i,r.__origin__=t,r.__source__=e,r.__id__=o,r.origin=t,r},u=c();return u.fireAndForget=c({fireAndForget:!0}),u}(e,t,n,{send:i})},o.cross_domain_window=function(e){return wt.deserialize(e,{send:i})},o))}var It={};function Ct(e,t,n,r){var o=r.on,i=r.send;return g.try((function(){var r=rt().getOrSet(e,(function(){return{}}));return r.buffer=r.buffer||[],r.buffer.push(n),r.flush=r.flush||g.flush().then((function(){if(L(e))throw new Error("Window is closed");var n,a=Ot(e,t,((n={}).__post_robot_11_0_0__=r.buffer||[],n),{on:o,send:i});delete r.buffer;for(var c=Object.keys(It),u=[],s=0;s<c.length;s++){var f=c[s];try{It[f](e,a,t)}catch(e){u.push(e)}}if(u.length===c.length)throw new Error("All post-robot messaging strategies failed:\n\n"+u.map((function(e,t){return t+". "+he(e)})).join("\n\n"))})),r.flush.then((function(){delete r.flush}))})).then(le)}function Tt(e){return Ze("responseListeners").get(e)}function At(e){Ze("responseListeners").del(e)}function jt(e){return Ze("erroredResponseListeners").has(e)}function xt(e){var t=e.name,n=e.win,r=e.domain,o=rt("requestListeners");if("*"===n&&(n=null),"*"===r&&(r=null),!t)throw new Error("Name required to get request listener");for(var i=0,a=[n,nt()];i<a.length;i++){var c=a[i];if(c){var u=o.get(c);if(u){var s=u[t];if(s){if(r&&"string"==typeof r){if(s[r])return s[r];if(s.__domain_regex__)for(var f=0,d=s.__domain_regex__;f<d.length;f++){var l=d[f],p=l.listener;if(z(l.regex,r))return p}}if(s["*"])return s["*"]}}}}}function Nt(e,t,n,r){var o=r.on,i=r.send,a=xt({name:n.name,win:e,domain:t}),c="postrobot_method"===n.name&&n.data&&"string"==typeof n.data.name?n.data.name+"()":n.name;function u(r,a,u){return g.flush().then((function(){if(!n.fireAndForget&&!L(e))try{return Ct(e,t,{id:ie(),origin:C(window),type:"postrobot_message_response",hash:n.hash,name:n.name,ack:r,data:a,error:u},{on:o,send:i})}catch(e){throw new Error("Send response message failed for "+c+" in "+C()+"\n\n"+he(e))}}))}return g.all([g.flush().then((function(){if(!n.fireAndForget&&!L(e))try{return Ct(e,t,{id:ie(),origin:C(window),type:"postrobot_message_ack",hash:n.hash,name:n.name},{on:o,send:i})}catch(e){throw new Error("Send ack message failed for "+c+" in "+C()+"\n\n"+he(e))}})),g.try((function(){if(!a)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return a.handler({source:e,origin:t,data:n.data})})).then((function(e){return u("success",e)}),(function(e){return u("error",null,e)}))]).then(le).catch((function(e){if(a&&a.handleError)return a.handleError(e);throw e}))}function kt(e,t,n){if(!jt(n.hash)){var r=Tt(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!z(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());if(e!==r.win)throw new Error("Ack source does not match registered window")}catch(e){r.promise.reject(e)}r.ack=!0}}function Pt(e,t,n){if(!jt(n.hash)){var r,o=Tt(n.hash);if(!o)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!z(o.domain,t))throw new Error("Response origin "+t+" does not match domain "+(r=o.domain,Array.isArray(r)?"("+r.join(" | ")+")":v(r)?"RegExp("+r.toString()+")":r.toString()));if(e!==o.win)throw new Error("Response source does not match registered window");At(n.hash),"error"===n.ack?o.promise.reject(n.error):"success"===n.ack&&o.promise.resolve({source:e,origin:t,data:n.data})}}function Rt(e,t){var n=t.on,r=t.send,o=Ze("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var i=e.source,a=e.origin,c=function(e,t,n,r){var o,i=r.on,a=r.send;try{o=St(t,n,e,{on:i,send:a})}catch(e){return}if(o&&"object"==typeof o&&null!==o){var c=o.__post_robot_11_0_0__;if(Array.isArray(c))return c}}(e.data,i,a,{on:n,send:r});if(c){ut(i);for(var u=0;u<c.length;u++){var s=c[u];if(o.has(s.id))return;if(o.set(s.id,!0),L(i)&&!s.fireAndForget)return;0===s.origin.indexOf("file:")&&(a="file://");try{"postrobot_message_request"===s.type?Nt(i,a,s,{on:n,send:r}):"postrobot_message_response"===s.type?Pt(i,a,s):"postrobot_message_ack"===s.type&&kt(i,a,s)}catch(e){setTimeout((function(){throw e}),0)}}}}function Dt(e,t,n){if(!e)throw new Error("Expected name");if("function"==typeof(t=t||{})&&(n=t,t={}),!n)throw new Error("Expected handler");var r=function e(t,n){var r=t.name,o=t.win,i=t.domain,a=rt("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(o&&"*"!==o&&wt.isProxyWindow(o)){var c=o.awaitWindow().then((function(t){return e({name:r,win:t,domain:i},n)}));return{cancel:function(){c.then((function(e){return e.cancel()}),le)}}}var u=o;if(Array.isArray(u)){for(var s=[],f=0,d=u;f<d.length;f++)s.push(e({name:r,domain:i,win:d[f]},n));return{cancel:function(){for(var e=0;e<s.length;e++)s[e].cancel()}}}if(Array.isArray(i)){for(var l=[],p=0,h=i;p<h.length;p++)l.push(e({name:r,win:u,domain:h[p]},n));return{cancel:function(){for(var e=0;e<l.length;e++)l[e].cancel()}}}var g=xt({name:r,win:u,domain:i});u&&"*"!==u||(u=nt());var v=(i=i||"*").toString();if(g)throw u&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(u===nt()?"wildcard":"specified")+" window"):u?new Error("Request listener already exists for "+r+" for "+(u===nt()?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var y,m,w=a.getOrSet(u,(function(){return{}})),b=Ee(w,r,(function(){return{}}));return _e(i)?(y=Ee(b,"__domain_regex__",(function(){return[]}))).push(m={regex:i,listener:n}):b[v]=n,{cancel:function(){delete b[v],m&&(y.splice(y.indexOf(m,1)),y.length||delete b.__domain_regex__),Object.keys(b).length||delete w[r],u&&!Object.keys(w).length&&a.del(u)}}}({name:e,win:t.window,domain:t.domain||"*"},{handler:n||t.handler,handleError:t.errorHandler||function(e){throw e}});return{cancel:function(){r.cancel()}}}It.postrobot_post_message=function(e,t,n){0===n.indexOf("file:")&&(n="*"),e.postMessage(t,n)},It.postrobot_global=function(e,t){if(!function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!T(e))throw new Error("Post message through global disabled between different domain windows");if(!1!==B(window,e))throw new Error("Can only use global to communicate between two different windows, not between frames");var n=Qe(e);if(!n)throw new Error("Can not find postRobot global on foreign window");n.receiveMessage({source:window,origin:C(),data:t})};var Lt=function e(t,n,r,o){var i=(o=o||{}).domain||"*",a=o.timeout||-1,c=o.timeout||5e3,u=o.fireAndForget||!1;return wt.toProxyWindow(t,{send:e}).awaitWindow().then((function(t){return g.try((function(){if(function(e,t,n){if(!e)throw new Error("Expected name");if(n&&"string"!=typeof n&&!Array.isArray(n)&&!_e(n))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(n)+" to be a string, array, or regex");if(L(t))throw new Error("Can not send "+e+". Target window is closed")}(n,t,i),function(e,t){var n=U(t);if(n)return n===e;if(t===e)return!1;if(k(t)===t)return!1;for(var r=0,o=x(e);r<o.length;r++)if(o[r]===t)return!0;return!1}(window,t))return function(e,t,n){void 0===t&&(t=5e3),void 0===n&&(n="Window");var r=function(e){return rt("helloPromises").getOrSet(e,(function(){return new g}))}(e);return-1!==t&&(r=r.timeout(t,new Error(n+" did not load after "+t+"ms"))),r}(t,c)})).then((function(n){return function(e,t,n,r){var o=r.send;return g.try((function(){return"string"==typeof t?t:g.try((function(){return n||at(e,{send:o}).then((function(e){return e.domain}))})).then((function(e){if(!z(t,t))throw new Error("Domain "+ge(t)+" does not match "+ge(t));return e}))}))}(t,i,(void 0===n?{}:n).domain,{send:e})})).then((function(o){var i=o,c="postrobot_method"===n&&r&&"string"==typeof r.name?r.name+"()":n,s=new g,f=n+"_"+ie();if(!u){var d={name:n,win:t,domain:i,promise:s};!function(e,t){Ze("responseListeners").set(e,t)}(f,d);var l=rt("requestPromises").getOrSet(t,(function(){return[]}));l.push(s),s.catch((function(){!function(e){Ze("erroredResponseListeners").set(e,!0)}(f),At(f)}));var p=function(e){return rt("knownWindows").get(e,!1)}(t)?1e4:2e3,h=a,v=p,y=h,m=me((function(){return L(t)?s.reject(new Error("Window closed for "+n+" before "+(d.ack?"response":"ack"))):d.cancelled?s.reject(new Error("Response listener was cancelled for "+n)):(v=Math.max(v-500,0),-1!==y&&(y=Math.max(y-500,0)),d.ack||0!==v?0===y?s.reject(new Error("No response for postMessage "+c+" in "+C()+" in "+h+"ms")):void 0:s.reject(new Error("No ack for postMessage "+c+" in "+C()+" in "+p+"ms")))}),500);s.finally((function(){m.cancel(),l.splice(l.indexOf(s,1))})).catch(le)}return Ct(t,i,{id:ie(),origin:C(window),type:"postrobot_message_request",hash:f,name:n,data:r,fireAndForget:u},{on:Dt,send:e}).then((function(){return u?s.resolve():s}),(function(e){throw new Error("Send request message failed for "+c+" in "+C()+"\n\n"+he(e))}))}))}))};function Mt(e){return wt.toProxyWindow(e,{send:Lt})}function Ut(e){if(!T(e))throw new Error("Can not get global for window on different domain");return e.__zoid_9_0_88__||(e.__zoid_9_0_88__={}),e.__zoid_9_0_88__}function Ft(e,t){try{return t(Ut(e))}catch(e){}}function Wt(e){return{get:function(){var t=this;return g.try((function(){if(t.source&&t.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e}))}}}function Bt(e){return oe(JSON.stringify(e))}function zt(e){var t=Ut(e);return t.references=t.references||{},t.references}function Ht(e){var t,n,r=e.data,o=e.metaData,i=e.sender,a=e.receiver,c=e.passByReference,u=void 0!==c&&c,s=e.basic,f=void 0!==s&&s,d=Mt(a.win),l=f?JSON.stringify(r):Ot(d,a.domain,r,{on:Dt,send:Lt}),p=u?(t=l,n=ie(),zt(window)[n]=t,{type:"uid",uid:n}):{type:"raw",val:l};return{serializedData:Bt({sender:{domain:i.domain},metaData:o,reference:p}),cleanReference:function(){var e,t;e=window,"uid"===(t=p).type&&delete zt(e)[t.uid]}}}function Gt(e){var n,r,o=e.sender,i=e.basic,a=void 0!==i&&i,c=function(e){return JSON.parse(function(e){if("function"==typeof atob)return decodeURIComponent([].map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));if(void 0!==t)return t.from(e,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(e))}(e.data),u=c.reference,s=c.metaData;n="function"==typeof o.win?o.win({metaData:s}):o.win,r="function"==typeof o.domain?o.domain({metaData:s}):"string"==typeof o.domain?o.domain:c.sender.domain;var f=function(e,t){if("raw"===t.type)return t.val;if("uid"===t.type)return zt(e)[t.uid];throw new Error("Unsupported ref type: "+t.type)}(n,u);return{data:a?JSON.parse(f):function(e,t,n){return St(e,t,n,{on:Dt,send:Lt})}(n,r,f),metaData:s,sender:{win:n,domain:r},reference:u}}var qt={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},Vt={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},Yt=y,Kt={RENDER:"zoid-render",RENDERED:"zoid-rendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function Jt(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function $t(e){if(!e)throw new Error("No window name");var t=e.split("__"),n=t[1],r=t[2],o=t[3];if("zoid"!==n)throw new Error("Window not rendered by zoid - got "+n);if(!r)throw new Error("Expected component name");if(!o)throw new Error("Expected serialized payload ref");return{name:r,serializedInitialPayload:o}}var Qt=fe((function(e){var t=Gt({data:$t(e).serializedInitialPayload,sender:{win:function(e){return function(e){if("opener"===e.type)return Se("opener",O(window));if("parent"===e.type&&"number"==typeof e.distance)return Se("parent",(t=window,void 0===(n=e.distance)&&(n=1),function(e,t){void 0===t&&(t=1);for(var n=e,r=0;r<t;r++){if(!n)return;n=E(n)}return n}(t,W(t)-n)));var t,n;if("global"===e.type&&e.uid&&"string"==typeof e.uid){var r=function(){var t=e.uid,n=U(window);if(!n)throw new Error("Can not find ancestor window");for(var r=0,o=P(n);r<o.length;r++){var i=o[r];if(T(i)){var a=Ft(i,(function(e){return e.windows&&e.windows[t]}));if(a)return{v:a}}}}();if("object"==typeof r)return r.v}else if("name"===e.type){var o=e.name;return Se("namedWindow",function(e,t){return M(e,t)||function e(t,n){var r=M(t,n);if(r)return r;for(var o=0,i=x(t);o<i.length;o++){var a=e(i[o],n);if(a)return a}}(k(e)||e,t)}(Se("ancestor",U(window)),o))}throw new Error("Unable to find "+e.type+" parent component window")}(e.metaData.windowRef)}}});return{parent:t.sender,payload:t.data,reference:t.reference}}));function Xt(){return Qt(window.name)}function Zt(e,t){if(void 0===t&&(t=window),e===E(t))return{type:"parent",distance:W(e)};if(e===O(t))return{type:"opener"};if(T(e)&&(r=e)!==k(r)){var n=A(e).name;if(n)return{type:"name",name:n}}var r}function en(e,t,n,r,o){if(!e.hasOwnProperty(n))return r;var i=e[n];return"function"==typeof i.childDecorate?i.childDecorate({value:r,uid:o.uid,tag:o.tag,close:o.close,focus:o.focus,onError:o.onError,onProps:o.onProps,resize:o.resize,getParent:o.getParent,getParentDomain:o.getParentDomain,show:o.show,hide:o.hide,export:o.export,getSiblings:o.getSiblings}):r}function tn(){return g.try((function(){window.focus()}))}function nn(){return g.try((function(){window.close()}))}var rn=function(){return le},on=function(e){return pe(e.value)};function an(e,t,n){for(var r=0,o=Object.keys(a({},e,t));r<o.length;r++){var i=o[r];n(i,t[i],e[i])}}function cn(e,t,n){var r={};return g.all(function(e,t,o){var i=[];return an(e,t,(function(e,t,o){var a=function(e,t,o){return g.resolve().then((function(){var i,a;if(null!=o&&t){var c=(i={},i.get=t.queryParam,i.post=t.bodyParam,i)[n],u=(a={},a.get=t.queryValue,a.post=t.bodyValue,a)[n];if(c)return g.hash({finalParam:g.try((function(){return"function"==typeof c?c({value:o}):"string"==typeof c?c:e})),finalValue:g.try((function(){return"function"==typeof u&&be(o)?u({value:o}):o}))}).then((function(n){var o,i=n.finalParam,a=n.finalValue;if("boolean"==typeof a)o=a.toString();else if("string"==typeof a)o=a.toString();else if("object"==typeof a&&null!==a){if(t.serialization===Vt.JSON)o=JSON.stringify(a);else if(t.serialization===Vt.BASE64)o=oe(JSON.stringify(a));else if(t.serialization===Vt.DOTIFY||!t.serialization){o=function e(t,n,r){for(var o in void 0===n&&(n=""),void 0===r&&(r={}),n=n?n+".":n,t)t.hasOwnProperty(o)&&null!=t[o]&&"function"!=typeof t[o]&&(t[o]&&Array.isArray(t[o])&&t[o].length&&t[o].every((function(e){return"object"!=typeof e}))?r[""+n+o+"[]"]=t[o].join(","):t[o]&&"object"==typeof t[o]?r=e(t[o],""+n+o,r):r[""+n+o]=t[o].toString());return r}(a,e);for(var c=0,u=Object.keys(o);c<u.length;c++){var s=u[c];r[s]=o[s]}return}}else"number"==typeof a&&(o=a.toString());r[i]=o}))}}))}(e,t,o);i.push(a)})),i}(t,e)).then((function(){return r}))}function un(e){var t,n,r,o,i,c,u,s,f=e.uid,d=e.options,l=e.overrides,p=void 0===l?{}:l,h=e.parentWin,v=void 0===h?window:h,y=d.propsDef,m=d.containerTemplate,w=d.prerenderTemplate,b=d.tag,_=d.name,E=d.attributes,O=d.dimensions,S=d.autoResize,I=d.url,j=d.domain,x=d.exports,N=new g,k=[],P=Oe(),R={},D={},M={visible:!0},F=p.event?p.event:(t={},n={},r={on:function(e,t){var r=n[e]=n[e]||[];r.push(t);var o=!1;return{cancel:function(){o||(o=!0,r.splice(r.indexOf(t),1))}}},once:function(e,t){var n=r.on(e,(function(){n.cancel(),t()}));return n},trigger:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=n[e],a=[];if(i)for(var c=function(e){var t=i[e];a.push(g.try((function(){return t.apply(void 0,r)})))},u=0;u<i.length;u++)c(u);return g.all(a).then(le)},triggerOnce:function(e){if(t[e])return g.resolve();t[e]=!0;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return r.trigger.apply(r,[e].concat(o))},reset:function(){n={}}}),q=p.props?p.props:{},V=p.onError,Y=p.getProxyContainer,K=p.show,J=p.hide,$=p.close,Q=p.renderContainer,X=p.getProxyWindow,Z=p.setProxyWin,ee=p.openFrame,te=p.openPrerenderFrame,ne=p.prerender,re=p.open,oe=p.openPrerender,ae=p.watchForUnload,ce=p.getInternalState,ue=p.setInternalState,se=function(){return g.try((function(){return p.resolveInitPromise?p.resolveInitPromise():N.resolve()}))},de=function(e){return g.try((function(){return p.rejectInitPromise?p.rejectInitPromise(e):N.reject(e)}))},ge=function(e){for(var t={},n=0,r=Object.keys(q);n<r.length;n++){var o=r[n],i=y[o];i&&!1===i.sendToChild||i&&i.sameDomain&&!z(e,C(window))||(t[o]=q[o])}return g.hash(t)},ye=function(){return g.try((function(){return ce?ce():M}))},_e=function(e){return g.try((function(){return ue?ue(e):M=a({},M,e)}))},Ee=function(){return X?X():g.try((function(){var e=q.window;if(e){var t=Mt(e);return P.register((function(){return e.close()})),t}return new wt({send:Lt})}))},Se=function(e){return Z?Z(e):g.try((function(){o=e}))},Ie=function(){return K?K():g.hash({setState:_e({visible:!0}),showElement:i?i.get().then(We):null}).then(le)},Ce=function(){return J?J():g.hash({setState:_e({visible:!1}),showElement:i?i.get().then(Be):null}).then(le)},Te=function(){return"function"==typeof I?I({props:q}):I},Ae=function(){return"function"==typeof E?E({props:q}):E},je=function(){return H(Te())},xe=function(e,t){var n=t.windowName;return ee?ee(e,{windowName:n}):g.try((function(){if(e===Yt.IFRAME)return Wt(Ue({attributes:a({name:n,title:_},Ae().iframe)}))}))},Re=function(e){return te?te(e):g.try((function(){if(e===Yt.IFRAME)return Wt(Ue({attributes:a({name:"__zoid_prerender_frame__"+_+"_"+ie()+"__",title:"prerender__"+_},Ae().iframe)}))}))},De=function(e,t,n){return oe?oe(e,t,n):g.try((function(){if(e===Yt.IFRAME){if(!n)throw new Error("Expected proxy frame to be passed");return n.get().then((function(e){return P.register((function(){return ze(e)})),Me(e).then((function(e){return A(e)})).then((function(e){return Mt(e)}))}))}throw new Error("No render context available for "+e)}))},Le=function(){return g.try((function(){if(o)return g.all([F.trigger(Kt.FOCUS),o.focus()]).then(le)}))},Ve=function(e,t,n,r){if(t===C(window))return{type:"global",uid:(o=Ut(window),o.windows=o.windows||{},o.windows[f]=window,P.register((function(){delete o.windows[f]})),f)};var o;if(e!==window)throw new Error("Can not construct cross-domain window reference for different target window");if(q.window){var i=r.getWindow();if(!i)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(U(i)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(n===Yt.POPUP)return{type:"opener"};if(n===Yt.IFRAME)return{type:"parent",distance:W(window)};throw new Error("Can not construct window reference for child")},Ye=function(e,t){return g.try((function(){u=e,c=t,se(),P.register((function(){return t.close.fireAndForget().catch(le)}))}))},Ke=function(e){var t=e.width,n=e.height;return g.try((function(){F.trigger(Kt.RESIZE,{width:t,height:n})}))},Je=function(e){return g.try((function(){return F.trigger(Kt.DESTROY)})).catch(le).then((function(){return P.all(e)})).then((function(){N.asyncReject(e||new Error("Component destroyed"))}))},$e=fe((function(e){return g.try((function(){if($){if(L($.__source__))return;return $()}return g.try((function(){return F.trigger(Kt.CLOSE)})).then((function(){return Je(e||new Error("Component closed"))}))}))})),Qe=function(e,t){var n=t.proxyWin,r=t.proxyFrame,o=t.windowName;return re?re(e,{proxyWin:n,proxyFrame:r,windowName:o}):g.try((function(){if(e===Yt.IFRAME){if(!r)throw new Error("Expected proxy frame to be passed");return r.get().then((function(e){return Me(e).then((function(t){return P.register((function(){return ze(e)})),P.register((function(){return function(e){for(var t=0,n=rt("requestPromises").get(e,[]);t<n.length;t++)n[t].reject(new Error("Window "+(L(e)?"closed":"cleaned up")+" before response")).catch(le)}(t)})),t}))}))}throw new Error("No render context available for "+e)})).then((function(e){return n.setWindow(e,{send:Lt}),n.setName(o).then((function(){return n}))}))},Xe=function(){return g.try((function(){var e=Fe(window,"unload",pe((function(){Je(new Error("Window navigated away"))}))),t=G(v,Je,3e3);if(P.register(t.cancel),P.register(e.cancel),ae)return ae()}))},Ze=function(e){var t=!1;return e.isClosed().then((function(n){return n?(t=!0,$e(new Error("Detected component window close"))):g.delay(200).then((function(){return e.isClosed()})).then((function(e){if(e)return t=!0,$e(new Error("Detected component window close"))}))})).then((function(){return t}))},et=function(e){return V?V(e):g.try((function(){if(-1===k.indexOf(e))return k.push(e),N.asyncReject(e),F.trigger(Kt.ERROR,e)}))},tt=new g,nt=function(e){return g.try((function(){tt.resolve(e)}))};Ye.onError=et;var ot=function(e,t){return e({uid:f,container:t.container,context:t.context,doc:t.doc,frame:t.frame,prerenderFrame:t.prerenderFrame,focus:Le,close:$e,state:R,props:q,tag:b,dimensions:"function"==typeof O?O({props:q}):O,event:F})},it=function(e,t){var n=t.context;return ne?ne(e,{context:n}):g.try((function(){if(w){var t=e.getWindow();if(t&&T(t)&&function(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(e){}return!1}(t)){var r=(t=A(t)).document,o=ot(w,{context:n,doc:r});if(o){if(o.ownerDocument!==r)throw new Error("Expected prerender template to have been created with document from child window");!function(e,t){var n=t.tagName.toLowerCase();if("html"!==n)throw new Error("Expected element to be html, got "+n);for(var r=e.document.documentElement,o=0,i=we(r.children);o<i.length;o++)r.removeChild(i[o]);for(var a=0,c=we(t.children);a<c.length;a++)r.appendChild(c[a])}(t,o);var i=S.width,a=void 0!==i&&i,c=S.height,u=void 0!==c&&c,s=S.element,f=void 0===s?"body":s;if((f=ke(f,r))&&(a||u)){var d=Ge(f,(function(e){Ke({width:a?e.width:void 0,height:u?e.height:void 0})}),{width:a,height:u,win:t});F.on(Kt.RENDERED,d.cancel)}}}}}))},at=function(e,t){var n=t.proxyFrame,r=t.proxyPrerenderFrame,o=t.context,a=t.rerender;return Q?Q(e,{proxyFrame:n,proxyPrerenderFrame:r,context:o,rerender:a}):g.hash({container:e.get(),frame:n?n.get():null,prerenderFrame:r?r.get():null,internalState:ye()}).then((function(e){var t=e.container,n=e.internalState.visible,r=ot(m,{context:o,container:t,frame:e.frame,prerenderFrame:e.prerenderFrame,doc:document});if(r){n||Be(r),function(e,t){e.appendChild(t)}(t,r);var c=function(e,t){t=pe(t);var n,r,o,i=!1,a=[],c=function(){i=!0;for(var e=0;e<a.length;e++)a[e].disconnect();n&&n.cancel(),o&&o.removeEventListener("unload",u),r&&ze(r)},u=function(){i||(t(),c())};if(He(e))return u(),{cancel:c};if(window.MutationObserver)for(var s=e.parentElement;s;){var f=new window.MutationObserver((function(){He(e)&&u()}));f.observe(s,{childList:!0}),a.push(f),s=s.parentElement}return(r=document.createElement("iframe")).setAttribute("name","__detect_close_"+ie()+"__"),r.style.display="none",Me(r).then((function(e){(o=A(e)).addEventListener("unload",u)})),e.appendChild(r),n=me((function(){He(e)&&u()}),1e3),{cancel:c}}(r,(function(){var e=new Error("Detected container element removed from DOM");return g.delay(1).then((function(){if(!He(r))return P.all(e),a().then(se,de);$e(e)}))}));return P.register((function(){return c.cancel()})),P.register((function(){return ze(r)})),i=Wt(r)}}))},ct=function(){return{state:R,event:F,close:$e,focus:Le,resize:Ke,onError:et,updateProps:st,show:Ie,hide:Ce}},ut=function(e){void 0===e&&(e={});var t=s,n=ct();ve(D,e),function(e,t,n,r,o){var i=r.state,a=r.close,c=r.focus,u=r.event,s=r.onError;an(n,e,(function(e,r,f){var d=!1,l=f;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return d?l:(d=!0,function(){if(!r)return l;var d=r.alias;if(d&&!be(f)&&be(n[d])&&(l=n[d]),r.value&&(l=r.value({props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),!r.default||be(l)||be(n[e])||(l=r.default({props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),be(l)){if(r.type===qt.ARRAY?!Array.isArray(l):typeof l!==r.type)throw new TypeError("Prop is not of type "+r.type+": "+e)}else if(!1!==r.required&&!be(n[e]))throw new Error('Expected prop "'+e+'" to be defined');return be(l)&&r.decorate&&(l=r.decorate({value:l,props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),l}())}})})),an(t,e,le)}(y,q,D,n,t)},st=function(e){return ut(e),N.then((function(){var e=c,t=o;if(e&&t&&u)return ge(u).then((function(n){return e.updateProps(n).catch((function(e){return Ze(t).then((function(t){if(!t)throw e}))}))}))}))},ft=function(e){return Y?Y(e):g.try((function(){return Pe(e)})).then((function(e){return qe(e)&&(e=function e(t){var n=function(e){var t=function(e){for(;e.parentNode;)e=e.parentNode;if(qe(e))return e}(e);if(t&&t.host)return t.host}(t);if(!n)throw new Error("Element is not in shadow dom");var r="shadow-slot-"+ie(),o=document.createElement("slot");o.setAttribute("name",r),t.appendChild(o);var i=document.createElement("div");return i.setAttribute("slot",r),n.appendChild(i),qe(n)?e(i):i}(e)),s=e,Wt(e)}))};return{init:function(){F.on(Kt.RENDER,(function(){return q.onRender()})),F.on(Kt.DISPLAY,(function(){return q.onDisplay()})),F.on(Kt.RENDERED,(function(){return q.onRendered()})),F.on(Kt.CLOSE,(function(){return q.onClose()})),F.on(Kt.DESTROY,(function(){return q.onDestroy()})),F.on(Kt.RESIZE,(function(){return q.onResize()})),F.on(Kt.FOCUS,(function(){return q.onFocus()})),F.on(Kt.PROPS,(function(e){return q.onProps(e)})),F.on(Kt.ERROR,(function(e){return q&&q.onError?q.onError(e):de(e).then((function(){setTimeout((function(){throw e}),1)}))})),P.register(F.reset)},render:function(e){var t=e.target,n=e.container,r=e.context,i=e.rerender;return g.try((function(){var e=je(),a=j||je();!function(e,t,n){if(e!==window){if(!B(window,e))throw new Error("Can only renderTo an adjacent frame");var r=C();if(!z(t,r)&&!T(e))throw new Error("Can not render remotely to "+t.toString()+" - can only render to "+r);if(n&&"string"!=typeof n)throw new Error("Container passed to renderTo must be a string selector, got "+typeof n+" }")}}(t,a,n);var c=g.try((function(){if(t!==window)return function(e,t){for(var n={},r=0,o=Object.keys(q);r<o.length;r++){var i=o[r],a=y[i];a&&a.allowDelegate&&(n[i]=q[i])}var c=Lt(t,"zoid_delegate_"+_,{uid:f,overrides:{props:n,event:F,close:$e,onError:et,getInternalState:ye,setInternalState:_e,resolveInitPromise:se,rejectInitPromise:de}}).then((function(e){var n=e.data.parent;return P.register((function(e){if(!L(t))return n.destroy(e)})),n.getDelegateOverrides()})).catch((function(e){throw new Error("Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n"+he(e))}));return Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.getProxyContainer.apply(e,t)}))},Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.renderContainer.apply(e,t)}))},K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.show.apply(e,t)}))},J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.hide.apply(e,t)}))},ae=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.watchForUnload.apply(e,t)}))},e===Yt.IFRAME&&(X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.getProxyWindow.apply(e,t)}))},ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openFrame.apply(e,t)}))},te=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openPrerenderFrame.apply(e,t)}))},ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.prerender.apply(e,t)}))},re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.open.apply(e,t)}))},oe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openPrerender.apply(e,t)}))}),c}(r,t)})),u=q.window,s=Xe(),l=cn(y,q,"post"),p=F.trigger(Kt.RENDER),h=ft(n),v=Ee(),m=h.then((function(){return ut()})),w=m.then((function(){return cn(y,q,"get").then((function(e){return function(e,t){var n,r,o=t.query||{},i=t.hash||{},a=e.split("#");r=a[1];var c=(n=a[0]).split("?");n=c[0];var u=Ne(c[1],o),s=Ne(r,i);return u&&(n=n+"?"+u),s&&(n=n+"#"+s),n}(function(e){if(0!==H(e).indexOf("mock:"))return e;throw new Error("Mock urls not supported out of test mode")}(Te()),{query:e})}))})),E=v.then((function(n){return function(e){var t=void 0===e?{}:e,n=t.proxyWin,r=t.initialChildDomain,o=t.childDomainMatch,i=t.target,a=void 0===i?window:i,c=t.context;return function(e){var t=void 0===e?{}:e,n=t.proxyWin,r=t.childDomainMatch,o=t.context;return ge(t.initialChildDomain).then((function(e){return{uid:f,context:o,tag:b,childDomainMatch:r,version:"9_0_88",props:e,exports:(t=n,{init:function(e){return Ye(this.origin,e)},close:$e,checkClose:function(){return Ze(t)},resize:Ke,onError:et,show:Ie,hide:Ce,export:nt})};var t}))}({proxyWin:n,initialChildDomain:r,childDomainMatch:o,context:c}).then((function(e){var t=Ht({data:e,metaData:{windowRef:Ve(a,r,c,n)},sender:{domain:C(window)},receiver:{win:n,domain:o},passByReference:r===C()}),i=t.serializedData;return P.register(t.cleanReference),i}))}({proxyWin:(o={proxyWin:n,initialChildDomain:e,childDomainMatch:a,target:t,context:r}).proxyWin,initialChildDomain:o.initialChildDomain,childDomainMatch:o.childDomainMatch,target:o.target,context:o.context}).then((function(e){return Jt({name:_,serializedPayload:e})}));var o})),O=E.then((function(e){return xe(r,{windowName:e})})),S=Re(r),I=g.hash({proxyContainer:h,proxyFrame:O,proxyPrerenderFrame:S}).then((function(e){return at(e.proxyContainer,{context:r,proxyFrame:e.proxyFrame,proxyPrerenderFrame:e.proxyPrerenderFrame,rerender:i})})).then((function(e){return e})),A=g.hash({windowName:E,proxyFrame:O,proxyWin:v}).then((function(e){var t=e.proxyWin;return u?t:Qe(r,{windowName:e.windowName,proxyWin:t,proxyFrame:e.proxyFrame})})),x=g.hash({proxyWin:A,proxyPrerenderFrame:S}).then((function(e){return De(r,e.proxyWin,e.proxyPrerenderFrame)})),k=A.then((function(e){return o=e,Se(e)})),R=g.hash({proxyPrerenderWin:x,state:k}).then((function(e){return it(e.proxyPrerenderWin,{context:r})})),D=g.hash({proxyWin:A,windowName:E}).then((function(e){if(u)return e.proxyWin.setName(e.windowName)})),M=g.hash({body:l}).then((function(e){return d.method?d.method:Object.keys(e.body).length?"post":"get"})),U=g.hash({proxyWin:A,windowUrl:w,body:l,method:M,windowName:D,prerender:R}).then((function(e){return e.proxyWin.setLocation(e.windowUrl,{method:e.method,body:e.body})})),W=A.then((function(e){!function e(t,n){var r=!1;return P.register((function(){r=!0})),g.delay(2e3).then((function(){return t.isClosed()})).then((function(o){if(!r)return o?$e(new Error("Detected "+n+" close")):e(t,n)}))}(e,r)})),G=g.hash({container:I,prerender:R}).then((function(){return F.trigger(Kt.DISPLAY)})),V=A.then((function(e){})),$=U.then((function(){return g.try((function(){var e=q.timeout;if(e)return N.timeout(e,new Error("Loading component timed out after "+e+" milliseconds"))}))})),Z=N.then((function(){return F.trigger(Kt.RENDERED)}));return g.hash({initPromise:N,buildUrlPromise:w,onRenderPromise:p,getProxyContainerPromise:h,openFramePromise:O,openPrerenderFramePromise:S,renderContainerPromise:I,openPromise:A,openPrerenderPromise:x,setStatePromise:k,prerenderPromise:R,loadUrlPromise:U,buildWindowNamePromise:E,setWindowNamePromise:D,watchForClosePromise:W,onDisplayPromise:G,openBridgePromise:V,runTimeoutPromise:$,onRenderedPromise:Z,delegatePromise:c,watchForUnloadPromise:s,finalSetPropsPromise:m})})).catch((function(e){return g.all([et(e),Je(e)]).then((function(){throw e}),(function(){throw e}))})).then(le)},destroy:Je,getProps:function(){return q},setProps:ut,export:nt,getHelpers:ct,getDelegateOverrides:function(){return g.try((function(){return{getProxyContainer:ft,show:Ie,hide:Ce,renderContainer:at,getProxyWindow:Ee,watchForUnload:Xe,openFrame:xe,openPrerenderFrame:Re,prerender:it,open:Qe,openPrerender:De,setProxyWin:Se}}))},getExports:function(){return x({getExports:function(){return tt}})}}}function sn(e){var t=e.uid,n=e.frame,r=e.prerenderFrame,o=e.doc,i=e.props,a=e.event,c=e.dimensions,u=c.width,s=c.height;if(n&&r){var f=o.createElement("div");f.setAttribute("id",t);var d=o.createElement("style");return i.cspNonce&&d.setAttribute("nonce",i.cspNonce),d.appendChild(o.createTextNode("\n            #"+t+" {\n                display: inline-block;\n                position: relative;\n                width: "+u+";\n                height: "+s+";\n            }\n\n            #"+t+" > iframe {\n                display: inline-block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                transition: opacity .2s ease-in-out;\n            }\n\n            #"+t+" > iframe.zoid-invisible {\n                opacity: 0;\n            }\n\n            #"+t+" > iframe.zoid-visible {\n                opacity: 1;\n        }\n        ")),f.appendChild(n),f.appendChild(r),f.appendChild(d),r.classList.add("zoid-visible"),n.classList.add("zoid-invisible"),a.on(Kt.RENDERED,(function(){r.classList.remove("zoid-visible"),r.classList.add("zoid-invisible"),n.classList.remove("zoid-invisible"),n.classList.add("zoid-visible"),setTimeout((function(){ze(r)}),1)})),a.on(Kt.RESIZE,(function(e){var t=e.width,n=e.height;"number"==typeof t&&(f.style.width=$e(t)),"number"==typeof n&&(f.style.height=$e(n))})),f}}var fn=Oe(),dn=Oe(),ln=function(e){var t,n,r,o;Qe().initialized||(Qe().initialized=!0,n=(t={on:Dt,send:Lt}).on,r=t.send,(o=Qe()).receiveMessage=o.receiveMessage||function(e){return Rt(e,{on:n,send:r})},function(e){var t=e.on,n=e.send;Ze().getOrSet("postMessageListener",(function(){return Fe(window,"message",(function(e){!function(e,t){var n=t.on,r=t.send;g.try((function(){var t=e.source||e.sourceElement,o=e.origin||e.originalEvent&&e.originalEvent.origin,i=e.data;if("null"===o&&(o="file://"),t){if(!o)throw new Error("Post message did not have origin domain");Rt({source:t,origin:o,data:i},{on:n,send:r})}}))}(e,{on:t,send:n})}))}))}({on:Dt,send:Lt}),function(e){var t=e.on,n=e.send;Ze("builtinListeners").getOrSet("helloListener",(function(){var e=t("postrobot_hello",{domain:"*"},(function(e){return it(e.source,{domain:e.origin}),{instanceID:ot()}})),r=U();return r&&at(r,{send:n}).catch((function(e){})),e}))}({on:Dt,send:Lt}));var i=function(e){var t,n,r=function(e){var t=e.tag,n=e.url,r=e.domain,o=e.bridgeUrl,i=e.props,c=void 0===i?{}:i,u=e.dimensions,s=void 0===u?{}:u,f=e.autoResize,d=void 0===f?{}:f,l=e.allowedParentDomains,p=void 0===l?"*":l,h=e.attributes,g=void 0===h?{}:h,v=e.defaultContext,y=void 0===v?Yt.IFRAME:v,m=e.containerTemplate,w=void 0===m?sn:m,b=e.prerenderTemplate,_=void 0===b?null:b,E=e.validate,O=e.eligible,S=void 0===O?function(){return{eligible:!0}}:O,I=e.logger,C=void 0===I?{info:le}:I,A=e.exports,j=void 0===A?le:A,x=e.method,N=e.children,k=void 0===N?function(){return{}}:N,P=t.replace(/-/g,"_"),R=a({},{window:{type:qt.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(e){var t=e.value;if(!q(t)&&!wt.isProxyWindow(t))throw new Error("Expected Window or ProxyWindow");if(q(t)){if(L(t))throw new Error("Window is closed");if(!T(t))throw new Error("Window is not same domain")}},decorate:function(e){return Mt(e.value)}},timeout:{type:qt.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:qt.STRING,required:!1},onDisplay:{type:qt.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:rn,decorate:on},onRendered:{type:qt.FUNCTION,required:!1,sendToChild:!1,default:rn,decorate:on},onRender:{type:qt.FUNCTION,required:!1,sendToChild:!1,default:rn,decorate:on},onClose:{type:qt.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:rn,decorate:on},onDestroy:{type:qt.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:rn,decorate:on},onResize:{type:qt.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:rn},onFocus:{type:qt.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:rn},close:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.close}},focus:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.focus}},resize:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.resize}},uid:{type:qt.STRING,required:!1,sendToChild:!1,childDecorate:function(e){return e.uid}},tag:{type:qt.STRING,required:!1,sendToChild:!1,childDecorate:function(e){return e.tag}},getParent:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParent}},getParentDomain:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParentDomain}},show:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.show}},hide:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.hide}},export:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.export}},onError:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.onError}},onProps:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.onProps}},getSiblings:{type:qt.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getSiblings}}},c);if(!w)throw new Error("Container template required");return{name:P,tag:t,url:n,domain:r,bridgeUrl:o,method:x,propsDef:R,dimensions:s,autoResize:d,allowedParentDomains:p,attributes:g,defaultContext:y,containerTemplate:w,prerenderTemplate:_,validate:E,logger:C,eligible:S,children:k,exports:"function"==typeof j?j:function(e){for(var t=e.getExports,n={},r=function(e,r){var o=r[e],i=j[o].type,a=t().then((function(e){return e[o]}));n[o]=i===qt.FUNCTION?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.then((function(e){return e.apply(void 0,t)}))}:a},o=0,i=Object.keys(j);o<i.length;o++)r(o,i);return n}}}(e),o=r.name,i=r.tag,c=r.defaultContext,u=r.eligible,s=r.children,f=Ut(window),d=[],l=function(){if(function(e){try{return $t(window.name).name===e}catch(e){}return!1}(o)){var e=Xt().payload;if(e.tag===i&&z(e.childDomainMatch,C()))return!0}return!1},p=fe((function(){if(l()){if(window.xprops)throw delete f.components[i],new Error("Can not register "+o+" as child - child already registered");var e=function(e){var t,n=e.tag,r=e.propsDef,o=e.autoResize,i=e.allowedParentDomains,a=[],c=Xt(),u=c.parent,s=c.payload,f=u.win,d=u.domain,l=new g,p=s.version,h=s.uid,v=s.exports,y=s.context,m=s.props;if("9_0_88"!==p)throw new Error("Parent window has zoid version "+p+", child window has version 9_0_88");var w=v.show,b=v.hide,_=v.close,E=v.onError,O=v.checkClose,S=v.export,I=v.resize,j=v.init,x=function(){return f},N=function(){return d},k=function(e){return a.push(e),{cancel:function(){a.splice(a.indexOf(e),1)}}},R=function(e){return I.fireAndForget({width:e.width,height:e.height})},D=function(e){return l.resolve(e),S(e)},L=function(e){var r=(void 0===e?{}:e).anyParent,o=[],i=t.parent;if(void 0===r&&(r=!i),!r&&!i)throw new Error("No parent found for "+n+" child");for(var a=0,c=P(window);a<c.length;a++){var u=c[a];if(T(u)){var s=A(u).xprops;if(s&&x()===s.getParent()){var f=s.parent;if(r||!i||f&&f.uid===i.uid){var d=Ft(u,(function(e){return e.exports}));o.push({props:s,exports:d})}}}}return o},M=function(e,o,i){void 0===i&&(i=!1);var c=function(e,t,n,r,o,i){void 0===i&&(i=!1);for(var a={},c=0,u=Object.keys(n);c<u.length;c++){var s=u[c],f=t[s];if(!f||!f.sameDomain||r===C(window)&&T(e)){var d=en(t,0,s,n[s],o);a[s]=d,f&&f.alias&&!a[f.alias]&&(a[f.alias]=d)}}if(!i)for(var l=0,p=Object.keys(t);l<p.length;l++){var h=p[l];n.hasOwnProperty(h)||(a[h]=en(t,0,h,void 0,o))}return a}(f,r,e,o,{tag:n,show:w,hide:b,close:_,focus:tn,onError:E,resize:R,getSiblings:L,onProps:k,getParent:x,getParentDomain:N,uid:h,export:D},i);t?ve(t,c):t=c;for(var u=0;u<a.length;u++)(0,a[u])(t)},U=function(e){return g.try((function(){return M(e,d,!0)}))};return{init:function(){return g.try((function(){return T(f)&&function(e){var t=e.componentName,n=e.parentComponentWindow,r=Gt({data:$t(window.name).serializedInitialPayload,sender:{win:n},basic:!0}),o=r.sender;if("uid"===r.reference.type||"global"===r.metaData.windowRef.type){var i=Ht({data:r.data,metaData:{windowRef:Zt(n)},sender:{domain:o.domain},receiver:{win:window,domain:C()},basic:!0});window.name=Jt({name:t,serializedPayload:i.serializedData})}}({componentName:e.name,parentComponentWindow:f}),Ut(window).exports=e.exports({getExports:function(){return l}}),function(e,t){if(!z(e,t))throw new Error("Can not be rendered by domain: "+t)}(i,d),ut(f),window.addEventListener("beforeunload",(function(){O.fireAndForget()})),window.addEventListener("unload",(function(){O.fireAndForget()})),G(f,(function(){nn()})),j({updateProps:U,close:nn})})).then((function(){return(e=o.width,t=void 0!==e&&e,n=o.height,r=void 0!==n&&n,i=o.element,Pe(void 0===i?"body":i).catch(le).then((function(e){return{width:t,height:r,element:e}}))).then((function(e){var t=e.width,n=e.height,r=e.element;r&&(t||n)&&y!==Yt.POPUP&&Ge(r,(function(e){R({width:t?e.width:void 0,height:n?e.height:void 0})}),{width:t,height:n})}));var e,t,n,r,i})).catch((function(e){E(e)}))},getProps:function(){return t||(M(m,d),t)}}}(r);return e.init(),e}}));if(p(),t=Dt("zoid_allow_delegate_"+o,(function(){return!0})),n=Dt("zoid_delegate_"+o,(function(e){var t=e.data;return{parent:un({uid:t.uid,options:r,overrides:t.overrides,parentWin:e.source})}})),dn.register(t.cancel),dn.register(n.cancel),f.components=f.components||{},f.components[i])throw new Error("Can not register multiple components with the same tag: "+i);return f.components[i]=!0,{init:function e(t){var n,f="zoid-"+i+"-"+ie(),l=t||{},p=u({props:l}),h=p.eligible,v=p.reason,y=l.onDestroy;l.onDestroy=function(){if(n&&h&&d.splice(d.indexOf(n),1),y)return y.apply(void 0,arguments)};var m=un({uid:f,options:r});m.init(),h?m.setProps(l):l.onDestroy&&l.onDestroy(),fn.register((function(e){return m.destroy(e||new Error("zoid destroyed all components"))}));var w=function(t){var n=(void 0===t?{}:t).decorate;return e((void 0===n?ye:n)(l))},b=function(e,t,r){return g.try((function(){if(!h){var t=new Error(v||o+" component is not eligible");return m.destroy(t).then((function(){throw t}))}if(!q(e))throw new Error("Must pass window to renderTo");return function(e,t){return g.try((function(){if(e.window)return Mt(e.window).getType();if(t){if(t!==Yt.IFRAME&&t!==Yt.POPUP)throw new Error("Unrecognized context: "+t);return t}return c}))}(l,r)})).then((function(o){if(t=function(e,t){if(t){if("string"!=typeof t&&!te(t))throw new TypeError("Expected string or element selector to be passed");return t}if(e===Yt.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(o,t),e!==window&&"string"!=typeof t)throw new Error("Must pass string element when rendering to another window");return m.render({target:e,container:t,context:o,rerender:function(){var o=w();return ve(n,o),o.renderTo(e,t,r)}})})).catch((function(e){return m.destroy(e).then((function(){throw e}))}))};return n=a({},m.getExports(),m.getHelpers(),function(){for(var e=s(),t={},n=function(n,r){var o=r[n],i=e[o];t[o]=function(e){var t=m.getProps(),n=a({},e,{parent:{uid:f,props:t,export:m.export}});return i(n)}},r=0,o=Object.keys(e);r<o.length;r++)n(r,o);return t}(),{isEligible:function(){return h},clone:w,render:function(e,t){return b(window,e,t)},renderTo:function(e,t,n){return b(e,t,n)}}),h&&d.push(n),n},instances:d,driver:function(e,t){throw new Error("Driver support not enabled")},isChild:l,canRenderTo:function(e){return Lt(e,"zoid_allow_delegate_"+o).then((function(e){return e.data})).catch((function(){return!1}))},registerChild:p}}(e),c=function(e){return i.init(e)};c.driver=function(e,t){return i.driver(e,t)},c.isChild=function(){return i.isChild()},c.canRenderTo=function(e){return i.canRenderTo(e)},c.instances=i.instances;var u=i.registerChild();return u&&(window.xprops=c.xprops=u.getProps()),c};function pn(e){var t=fn.all(e);return fn=Oe(),t}var hn=pn;function gn(e){var t;return hn(),delete window.__zoid_9_0_88__,function(){for(var e=Ze("responseListeners"),t=0,n=e.keys();t<n.length;t++){var r=n[t],o=e.get(r);o&&(o.cancelled=!0),e.del(r)}}(),(t=Ze().get("postMessageListener"))&&t.cancel(),delete window.__post_robot_11_0_0__,dn.all(e)}}])}).call(this,n(264).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=s(e),a=r[0],c=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),f=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===c&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===c&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,c=n-o;a<c;a+=16383)i.push(f(e,a,a+16383>c?c:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=a.length;c<u;++c)r[c]=a[c],o[a.charCodeAt(c)]=c;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,i,a=[],c=t;c<n;c+=3)o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,c=8*o-r-1,u=(1<<c)-1,s=u>>1,f=-7,d=n?o-1:0,l=n?-1:1,p=e[t+d];for(d+=l,i=p&(1<<-f)-1,p>>=-f,f+=c;f>0;i=256*i+e[t+d],d+=l,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+d],d+=l,f-=8);if(0===i)i=1-s;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=s}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,c,u,s=8*i-o-1,f=(1<<s)-1,d=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?l/u:l*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=f?(c=0,a=f):a+d>=1?(c=(t*u-1)*Math.pow(2,o),a+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&c,p+=h,c/=256,o-=8);for(a=a<<o|c,s+=o;s>0;e[n+p]=255&a,p+=h,a/=256,s-=8);e[n+p-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return{}.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,n,r){"use strict";function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}r.r(n),r.d(n,"PopupOpenError",(function(){return Ue})),r.d(n,"create",(function(){return Dn})),r.d(n,"destroy",(function(){return Un})),r.d(n,"destroyComponents",(function(){return Ln})),r.d(n,"destroyAll",(function(){return Mn})),r.d(n,"PROP_TYPE",(function(){return hn})),r.d(n,"PROP_SERIALIZATION",(function(){return gn})),r.d(n,"CONTEXT",(function(){return vn})),r.d(n,"EVENT",(function(){return yn}));var u,s=[],f=[],d=0;function l(){if(!d&&u){var e=u;u=null,e.resolve()}}function p(){d+=1}function h(){d-=1,l()}var g=function(){function e(e){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n,r,o=!1,i=!1,a=!1;p();try{e((function(e){a?t.resolve(e):(o=!0,n=e)}),(function(e){a?t.reject(e):(i=!0,r=e)}))}catch(e){return h(),void this.reject(e)}h(),a=!0,o?this.resolve(n):i&&this.reject(r)}}var t=e.prototype;return t.resolve=function(e){if(this.resolved||this.rejected)return this;if(c(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},t.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(c(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===s.indexOf(e)){s.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<f.length;n++)f[n](e,t)}}(e,t)}),1),this.dispatch(),this},t.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},t.dispatch=function(){var t=this.resolved,n=this.rejected,r=this.handlers;if(!this.dispatching&&(t||n)){this.dispatching=!0,p();for(var o=function(e,t){return e.then((function(e){t.resolve(e)}),(function(e){t.reject(e)}))},i=0;i<r.length;i++){var a=r[i],u=a.onSuccess,s=a.onError,f=a.promise,d=void 0;if(t)try{d=u?u(this.value):this.value}catch(e){f.reject(e);continue}else if(n){if(!s){f.reject(this.error);continue}try{d=s(this.error)}catch(e){f.reject(e);continue}}if(d instanceof e&&(d.resolved||d.rejected)){var l=d;l.resolved?f.resolve(l.value):f.reject(l.error),l.errorHandled=!0}else c(d)?d instanceof e&&(d.resolved||d.rejected)?d.resolved?f.resolve(d.value):f.reject(d.error):o(d,f):f.resolve(d)}r.length=0,this.dispatching=!1,h()}},t.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},t.catch=function(e){return this.then(void 0,e)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},t.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(t){return t instanceof e?t:c(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var n=new e,r=t.length,o=[].slice();if(!r)return n.resolve(o),n;for(var i=function(e,t,i){return t.then((function(t){o[e]=t,0==(r-=1)&&n.resolve(o)}),(function(e){i.reject(e)}))},a=0;a<t.length;a++){var u=t[a];if(u instanceof e){if(u.resolved){o[a]=u.value,r-=1;continue}}else if(!c(u)){o[a]=u,r-=1;continue}i(a,e.resolve(u),n)}return 0===r&&n.resolve(o),n},e.hash=function(t){var n={},r=[],o=function(e){if(t.hasOwnProperty(e)){var o=t[e];c(o)?r.push(o.then((function(t){n[e]=t}))):n[e]=o}};for(var i in t)o(i);return e.all(r).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return f.push(e),{cancel:function(){f.splice(f.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o;p();try{o=t.apply(n,r||[])}catch(t){return h(),e.reject(t)}return h(),e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||c(t)},e.flush=function(){return t=e,n=u=u||new t,l(),n;var t,n},e}();function v(e){return"[object RegExp]"==={}.toString.call(e)}var y={IFRAME:"iframe",POPUP:"popup"},m="Call was rejected by callee.\r\n";function w(e){return void 0===e&&(e=window),e.location.protocol}function b(e){if(void 0===e&&(e=window),e.mockDomain){var t=e.mockDomain.split("//")[0];if(t)return t}return w(e)}function _(e){return void 0===e&&(e=window),"about:"===b(e)}function E(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function O(e){if(void 0===e&&(e=window),e&&!E(e))try{return e.opener}catch(e){}}function S(e){try{return!0}catch(e){}return!1}function I(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=w(e);if(!n)throw new Error("Can not read window protocol");if("file:"===n)return"file://";if("about:"===n){var r=E(e);return r&&S()?I(r):"about://"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function C(e){void 0===e&&(e=window);var t=I(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}function T(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(_(e)&&S())return!0}catch(e){}try{if(function(e){return void 0===e&&(e=window),"mock:"===b(e)}(e)&&S())return!0}catch(e){}try{if(I(e)===I(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(_(e)&&S())return!0;if(C(window)===C(e))return!0}catch(e){}return!1}function A(e){if(!T(e))throw new Error("Expected window to be same domain");return e}function j(e,t){if(!e||!t)return!1;var n=E(t);return n?n===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function x(e){var t,n,r=[];try{t=e.frames}catch(n){t=e}try{n=t.length}catch(e){}if(0===n)return r;if(n){for(var o=0;o<n;o++){var i=void 0;try{i=t[o]}catch(e){continue}r.push(i)}return r}for(var a=0;a<100;a++){var c=void 0;try{c=t[a]}catch(e){return r}if(!c)return r;r.push(c)}return r}function N(e){for(var t=[],n=0,r=x(e);n<r.length;n++){var o=r[n];t.push(o);for(var i=0,a=N(o);i<a.length;i++)t.push(a[i])}return t}function k(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(E(e)===e)return e;try{if(j(window,e)&&window.top)return window.top}catch(e){}try{if(j(e,window)&&window.top)return window.top}catch(e){}for(var t=0,n=N(e);t<n.length;t++){var r=n[t];try{if(r.top)return r.top}catch(e){}if(E(r)===r)return r}}function P(e){var t=k(e);if(!t)throw new Error("Can not determine top window");var n=[].concat(N(t),[t]);return-1===n.indexOf(e)&&(n=[].concat(n,[e],N(e))),n}var R=[],D=[];function L(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==m}if(t&&T(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(R,e);if(-1!==n){var r=D[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var n=e;n.parentNode&&n.parentNode!==n;)n=n.parentNode;if(!n.host||!t.documentElement.contains(n.host))return!0}return!1}(r))return!0}return!1}function M(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function U(e,t){for(var n=x(e),r=0;r<n.length;r++){var o=n[r];try{if(T(o)&&o.name===t&&-1!==n.indexOf(o))return o}catch(e){}}try{if(-1!==n.indexOf(e.frames[t]))return e.frames[t]}catch(e){}try{if(-1!==n.indexOf(e[t]))return e[t]}catch(e){}}function F(e,t){return e===O(t)}function W(e){return void 0===e&&(e=window),O(e=e||window)||E(e)||void 0}function B(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++)if(r===t[o])return!0;return!1}function z(e){void 0===e&&(e=window);for(var t=0,n=e;n;)(n=E(n))&&(t+=1);return t}function H(e,t){var n=k(e)||e,r=k(t)||t;try{if(n&&r)return n===r}catch(e){}var o=P(e),i=P(t);if(B(o,i))return!0;var a=O(n),c=O(r);return a&&B(P(a),i)||c&&B(P(c),o),!1}function G(e,t){if("string"==typeof e){if("string"==typeof t)return"*"===e||t===e;if(v(t))return!1;if(Array.isArray(t))return!1}return v(e)?v(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!v(t)&&e.some((function(e){return G(e,t)})))}function q(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):C()}function V(e,t,n,r){var o;return void 0===n&&(n=1e3),void 0===r&&(r=1/0),function i(){if(L(e))return o&&clearTimeout(o),t();r<=0?clearTimeout(o):(r-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}}function Y(e){try{if(e===window)return!0}catch(e){if(e&&e.message===m)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===m)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===m)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function K(e){if(0!==q(e).indexOf("mock:"))return e;throw new Error("Mock urls not supported out of test mode")}function J(e){if(T(e))return A(e).frameElement;for(var t=0,n=document.querySelectorAll("iframe");t<n.length;t++){var r=n[t];if(r&&r.contentWindow&&r.contentWindow===e)return r}}function $(e){if(function(e){return void 0===e&&(e=window),Boolean(E(e))}(e)){var t=J(e);if(t&&t.parentElement)return void t.parentElement.removeChild(t)}try{e.close()}catch(e){}}function Q(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var X,Z=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(Y(r)&&L(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},t.isSafeToReadWrite=function(e){return!Y(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=t:Object.defineProperty(e,r,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,c=Q(i,e);-1===c?(i.push(e),a.push(t)):a[c]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return n&&n[0]===e?n[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=Q(this.keys,e);if(-1!==r)return this.values[r]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=Q(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return!(!n||n[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==Q(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}();function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ne(e,t,n){return(ne=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function re(e){var t="function"==typeof Map?new Map:void 0;return(re=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ne(e,arguments,ee(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)})(e)}function oe(e){var t=!1;try{(e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument)&&(t=!0)}catch(e){}return t}function ie(e){return e.name||e.__name__||e.displayName||"anonymous"}function ae(e,t){try{delete e.name,e.name=t}catch(e){}return e.__name__=e.displayName=t,e}function ce(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/[=]/g,"");if(void 0!==t)return t.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function ue(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+ce((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function se(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(X=X||new Z,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t=X.get(e);return t||(t=typeof e+":"+ue(),X.set(e,t)),t}(t)+"]":oe(t)?{}:t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function fe(){return{}}var de=0,le=0;function pe(e,t){void 0===t&&(t={});var n,r,o=t.thisNamespace,i=void 0!==o&&o,a=t.time,c=de;de+=1;var u=function(){for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];var s,f;c<le&&(n=null,r=null,c=de,de+=1),s=i?(r=r||new Z).getOrSet(this,fe):n=n||{};try{f=se(o)}catch(t){return e.apply(this,arguments)}var d=s[f];if(d&&a&&Date.now()-d.time<a&&(delete s[f],d=null),d)return d.value;var l=Date.now(),p=e.apply(this,arguments);return s[f]={time:l,value:p},p};return u.reset=function(){n=null,r=null},ae(u,(t.name||ie(e))+"::memoized")}function he(e){var t={};function n(){for(var n=arguments,r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var c=se(i);return t.hasOwnProperty(c)||(t[c]=g.try((function(){return e.apply(r,n)})).finally((function(){delete t[c]}))),t[c]}return n.reset=function(){t={}},ae(n,ie(e)+"::promiseMemoized")}function ge(){}function ve(e){var t=!1;return ae((function(){if(!t)return t=!0,e.apply(this,arguments)}),ie(e)+"::once")}function ye(e,t){if(void 0===t&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+ye(e,t+1)}}function me(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function we(e,t){if(!t)return e;if(Object.assign)return Object.assign(e,t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function be(e){return e}function _e(e,t){var n;return function r(){n=setTimeout((function(){e(),r()}),t)}(),{cancel:function(){clearTimeout(n)}}}function Ee(e){return[].slice.call(e)}function Oe(e){return null!=e}function Se(e){return"[object RegExp]"==={}.toString.call(e)}function Ie(e,t,n){if(e.hasOwnProperty(t))return e[t];var r=n();return e[t]=r,r}function Ce(e){var t,n=[],r=!1,o={set:function(t,n){return r||(e[t]=n,o.register((function(){delete e[t]}))),n},register:function(e){var o=ve((function(){return e(t)}));return r?e(t):n.push(o),{cancel:function(){var e=n.indexOf(o);-1!==e&&n.splice(e,1)}}},all:function(e){t=e;var o=[];for(r=!0;n.length;){var i=n.shift();o.push(i())}return g.all(o).then(ge)}};return o}function Te(e,t){if(null==t)throw new Error("Expected "+e+" to be present");return t}pe.clear=function(){le=de},pe((function(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}));var Ae=function(e){function t(t){var n;return(n=e.call(this,t)||this).name=n.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),n.constructor):n.stack=new Error(t).stack,n}return i(t,e),t}(re(Error));function je(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function xe(){return Boolean(document.body)&&"complete"===document.readyState}function Ne(){return Boolean(document.body)&&"interactive"===document.readyState}function ke(e){return encodeURIComponent(e)}function Pe(e){return function(t,n,r){void 0===r&&(r=[]);var o=t.__inline_memoize_cache__=t.__inline_memoize_cache__||{},i=se(r);return o.hasOwnProperty(i)?o[i]:o[i]=function(){var t={};if(!e)return t;if(-1===e.indexOf("="))return t;for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n];(o=o.split("="))[0]&&o[1]&&(t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return t}.apply(void 0,r)}(Pe,0,[e])}function Re(e,t){return void 0===t&&(t={}),t&&Object.keys(t).length?(void 0===(n=a({},Pe(e),t))&&(n={}),Object.keys(n).filter((function(e){return"string"==typeof n[e]||"boolean"==typeof n[e]})).map((function(e){var t=n[e];if("string"!=typeof t&&"boolean"!=typeof t)throw new TypeError("Invalid type for query");return ke(e)+"="+ke(t.toString())})).join("&")):e;var n}function De(e,t){return void 0===t&&(t=document),oe(e)?e:"string"==typeof e?t.querySelector(e):void 0}function Le(e){return new g((function(t,n){var r=me(e),o=De(e);if(o)return t(o);if(xe())return n(new Error("Document is ready and element "+r+" does not exist"));var i=setInterval((function(){if(o=De(e))t(o),clearInterval(i);else if(xe())return clearInterval(i),n(new Error("Document is ready and element "+r+" does not exist"))}),10)}))}pe((function(){return new g((function(e){if(xe()||Ne())return e();var t=setInterval((function(){if(xe()||Ne())return clearInterval(t),e()}),10)}))}));var Me,Ue=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(Ae);function Fe(e){if((Me=Me||new Z).has(e)){var t=Me.get(e);if(t)return t}var n=new g((function(t,n){e.addEventListener("load",(function(){!function(e){if(function(){for(var e=0;e<R.length;e++){var t=!1;try{t=R[e].closed}catch(e){}t&&(D.splice(e,1),R.splice(e,1))}}(),e&&e.contentWindow)try{R.push(e.contentWindow),D.push(e)}catch(e){}}(e),t(e)})),e.addEventListener("error",(function(r){e.contentWindow?t(e):n(r)}))}));return Me.set(e,n),n}function We(e){return Fe(e).then((function(e){if(!e.contentWindow)throw new Error("Could not find window in iframe");return e.contentWindow}))}function Be(e,t){void 0===e&&(e={});var n=e.style||{},r=function(e,t,n){void 0===e&&(e="div"),void 0===t&&(t={}),e=e.toLowerCase();var r,o,i,a=document.createElement(e);if(t.style&&we(a.style,t.style),t.class&&(a.className=t.class.join(" ")),t.id&&a.setAttribute("id",t.id),t.attributes)for(var c=0,u=Object.keys(t.attributes);c<u.length;c++){var s=u[c];a.setAttribute(s,t.attributes[s])}if(t.styleSheet&&(r=a,o=t.styleSheet,void 0===i&&(i=window.document),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(i.createTextNode(o))),t.html){if("iframe"===e)throw new Error("Iframe html can not be written unless container provided and iframe in DOM");a.innerHTML=t.html}return a}("iframe",{attributes:a({allowTransparency:"true"},e.attributes||{}),style:a({backgroundColor:"transparent",border:"none"},n),html:e.html,class:e.class}),o=window.navigator.userAgent.match(/MSIE|Edge/i);return r.hasAttribute("id")||r.setAttribute("id",ue()),Fe(r),t&&function(e,t){void 0===t&&(t=document);var n=De(e,t);if(n)return n;throw new Error("Can not find element: "+me(e))}(t).appendChild(r),(e.url||o)&&r.setAttribute("src",e.url||"about:blank"),r}function ze(e,t,n){return e.addEventListener(t,n),{cancel:function(){e.removeEventListener(t,n)}}}function He(e){e.style.setProperty("display","")}function Ge(e){e.style.setProperty("display","none","important")}function qe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ve(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function Ye(e,t,n){var r=void 0===n?{}:n,o=r.width,i=void 0===o||o,a=r.height,c=void 0===a||a,u=r.interval,s=void 0===u?100:u,f=r.win,d=void 0===f?window:f,l=e.offsetWidth,p=e.offsetHeight,h=!1;t({width:l,height:p});var g,v,y=function(){if(!h&&function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)){var n=e.offsetWidth,r=e.offsetHeight;(i&&n!==l||c&&r!==p)&&t({width:n,height:r}),l=n,p=r}};return d.addEventListener("resize",y),void 0!==d.ResizeObserver?((g=new d.ResizeObserver(y)).observe(e),v=_e(y,10*s)):void 0!==d.MutationObserver?((g=new d.MutationObserver(y)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),v=_e(y,10*s)):v=_e(y,s),{cancel:function(){h=!0,g.disconnect(),window.removeEventListener("resize",y),v.cancel()}}}function Ke(e){for(;e.parentNode;)e=e.parentNode;return"[object ShadowRoot]"===e.toString()}var Je="undefined"!=typeof document?document.currentScript:null,$e=pe((function(){if(Je)return Je;if(Je=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),n=t&&t[1];if(!n)return;for(var r=0,o=[].slice.call(document.getElementsByTagName("script")).reverse();r<o.length;r++){var i=o[r];if(i.src&&i.src===n)return i}}catch(e){}}())return Je;throw new Error("Can not determine current script")})),Qe=ue();function Xe(e){return"string"==typeof e&&/^[0-9]+%$/.test(e)}function Ze(e){if("number"==typeof e)return e;var t=e.match(/^([0-9]+)(px|%)$/);if(!t)throw new Error("Could not match css value from "+e);return parseInt(t[1],10)}function et(e){return Ze(e)+"px"}function tt(e){return"number"==typeof e?et(e):Xe(e)?e:et(e)}function nt(e,t){if("number"==typeof e)return e;if(Xe(e))return parseInt(t*Ze(e)/100,10);if("string"==typeof(n=e)&&/^[0-9]+px$/.test(n))return Ze(e);var n;throw new Error("Can not normalize dimension: "+e)}function rt(e){void 0===e&&(e=window);var t="__post_robot_11_0_0__";return e!==window?e[t]:e[t]=e[t]||{}}pe((function(){var e;try{e=$e()}catch(e){return Qe}var t=e.getAttribute("data-uid");if(t&&"string"==typeof t)return t;if((t=e.getAttribute("data-uid-auto"))&&"string"==typeof t)return t;if(e.src){var n=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+n.slice(n.length-30)}else t=ue();return e.setAttribute("data-uid-auto",t),t}));var ot=function(){return{}};function it(e,t){return void 0===e&&(e="store"),void 0===t&&(t=ot),Ie(rt(),e,(function(){var e=t();return{has:function(t){return e.hasOwnProperty(t)},get:function(t,n){return e.hasOwnProperty(t)?e[t]:n},set:function(t,n){return e[t]=n,n},del:function(t){delete e[t]},getOrSet:function(t,n){return Ie(e,t,n)},reset:function(){e=t()},keys:function(){return Object.keys(e)}}}))}var at,ct=function(){};function ut(){var e=rt();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new ct,e.WINDOW_WILDCARD}function st(e,t){return void 0===e&&(e="store"),void 0===t&&(t=ot),it("windowStore").getOrSet(e,(function(){var n=new Z,r=function(e){return n.getOrSet(e,t)};return{has:function(t){return r(t).hasOwnProperty(e)},get:function(t,n){var o=r(t);return o.hasOwnProperty(e)?o[e]:n},set:function(t,n){return r(t)[e]=n,n},del:function(t){delete r(t)[e]},getOrSet:function(t,n){return Ie(r(t),e,n)}}}))}function ft(){return it("instance").getOrSet("instanceID",ue)}function dt(e,t){var n=t.domain,r=st("helloPromises"),o=r.get(e);o&&o.resolve({domain:n});var i=g.resolve({domain:n});return r.set(e,i),i}function lt(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:ft()},{domain:"*",timeout:-1}).then((function(t){var n=t.origin,r=t.data.instanceID;return dt(e,{domain:n}),{win:e,domain:n,instanceID:r}}))}function pt(e,t){var n=t.send;return st("windowInstanceIDPromises").getOrSet(e,(function(){return lt(e,{send:n}).then((function(e){return e.instanceID}))}))}function ht(e,t,n){void 0===t&&(t=5e3),void 0===n&&(n="Window");var r=function(e){return st("helloPromises").getOrSet(e,(function(){return new g}))}(e);return-1!==t&&(r=r.timeout(t,new Error(n+" did not load after "+t+"ms"))),r}function gt(e){st("knownWindows").set(e,!0)}function vt(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function yt(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?"error":"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?"regex":"[object Date]"==={}.toString.call(e)?"date":"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function mt(e,t){return{__type__:e,__val__:t}}var wt,bt=((at={}).function=function(){},at.error=function(e){return mt("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},at.promise=function(){},at.regex=function(e){return mt("regex",e.source)},at.date=function(e){return mt("date",e.toJSON())},at.array=function(e){return e},at.object=function(e){return e},at.string=function(e){return e},at.number=function(e){return e},at.boolean=function(e){return e},at.null=function(e){return e},at[void 0]=function(e){return mt("undefined",e)},at),_t={},Et=((wt={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},wt.error=function(e){var t=e.stack,n=e.code,r=e.data,o=new Error(e.message);return o.code=n,r&&(o.data=r),o.stack=t+"\n\n"+o.stack,o},wt.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},wt.regex=function(e){return new RegExp(e)},wt.date=function(e){return new Date(e)},wt.array=function(e){return e},wt.object=function(e){return e},wt.string=function(e){return e},wt.number=function(e){return e},wt.boolean=function(e){return e},wt.null=function(e){return e},wt[void 0]=function(){},wt),Ot={};function St(){return!!M(window).match(/MSIE|trident|edge\/12|edge\/13/i)}function It(e){return!H(window,e)}function Ct(e,t){if(e){if(C()!==q(e))return!0}else if(t&&!T(t))return!0;return!1}function Tt(e){var t=e.win,n=e.domain;return!(!St()||n&&!Ct(n,t)||t&&!It(t))}function At(e){return"__postrobot_bridge___"+(e=e||q(e)).replace(/[^a-zA-Z0-9]+/g,"_")}function jt(){return Boolean(window.name&&window.name===At(C()))}var xt=new g((function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval((function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)}),10)}));function Nt(e){st("remoteWindowPromises").getOrSet(e,(function(){return new g}))}function kt(e){var t=st("remoteWindowPromises").get(e);if(!t)throw new Error("Remote window promise not found");return t}function Pt(e,t,n){kt(e).resolve((function(r,o,i){if(r!==e)throw new Error("Remote window does not match window");if(!G(o,t))throw new Error("Remote domain "+o+" does not match domain "+t);n.fireAndForget(i)}))}function Rt(e,t){kt(e).reject(t).catch(ge)}function Dt(e){for(var t=e.win,n=e.name,r=e.domain,o=it("popupWindowsByName"),i=st("popupWindowsByWin"),a=0,c=o.keys();a<c.length;a++){var u=c[a],s=o.get(u);s&&!L(s.win)||o.del(u)}if(L(t))return{win:t,name:n,domain:r};var f=i.getOrSet(t,(function(){return n?o.getOrSet(n,(function(){return{win:t,name:n}})):{win:t}}));if(f.win&&f.win!==t)throw new Error("Different window already linked for window: "+(n||"undefined"));return n&&(f.name=n,o.set(n,f)),r&&(f.domain=r,Nt(t)),i.set(t,f),f}function Lt(e){var t,n=e.on,r=e.send,o=e.receiveMessage;t=window.open,window.open=function(e,n,r,o){var i=t.call(this,K(e),n,r,o);return i?(Dt({win:i,name:n,domain:e?q(e):null}),i):i},function(e){var t=e.on,n=e.send,r=e.receiveMessage,o=it("popupWindowsByName");t("postrobot_open_tunnel",(function(e){var i=e.source,a=e.origin,c=e.data,u=it("bridges").get(a);if(!u)throw new Error("Can not find bridge promise for domain "+a);return u.then((function(e){if(i!==e)throw new Error("Message source does not matched registered bridge for domain "+a);if(!c.name)throw new Error("Register window expected to be passed window name");if(!c.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!o.has(c.name))throw new Error("Window with name "+c.name+" does not exist, or was not opened by this window");var u=function(){return o.get(c.name)};if(!u().domain)throw new Error("We do not have a registered domain for window "+c.name);if(u().domain!==a)throw new Error("Message origin "+a+" does not matched registered window origin "+(u().domain||"unknown"));return Pt(u().win,a,c.sendMessage),{sendMessage:function(e){if(window&&!window.closed&&u()){var o=u().domain;if(o)try{r({data:e,origin:o,source:u().win},{on:t,send:n})}catch(e){g.reject(e)}}}}}))}))}({on:n,send:r,receiveMessage:o}),function(e){var t=e.send;rt(window).openTunnelToParent=function(e){var n=e.name,r=e.source,o=e.canary,i=e.sendMessage,a=it("tunnelWindows"),c=E(window);if(!c)throw new Error("No parent window found to open tunnel to");var u=function(e){var t=e.name,n=e.source,r=e.canary,o=e.sendMessage;!function(){for(var e=it("tunnelWindows"),t=0,n=e.keys();t<n.length;t++){var r=n[t];L(e[r].source)&&e.del(r)}}();var i=ue();return it("tunnelWindows").set(i,{name:t,source:n,canary:r,sendMessage:o}),i}({name:n,source:r,canary:o,sendMessage:i});return t(c,"postrobot_open_tunnel",{name:n,sendMessage:function(){var e=a.get(u);if(e&&e.source&&!L(e.source)){try{e.canary()}catch(e){return}e.sendMessage.apply(this,arguments)}}},{domain:"*"})}}({send:r}),function(e){var t=e.on,n=e.send,r=e.receiveMessage;g.try((function(){var e,o=O(window);if(o&&Tt({win:o}))return Nt(o),(e=o,st("remoteBridgeAwaiters").getOrSet(e,(function(){return g.try((function(){var t=U(e,At(C()));if(t)return T(t)&&rt(A(t))?t:new g((function(e){var n,r;n=setInterval((function(){if(t&&T(t)&&rt(A(t)))return clearInterval(n),clearTimeout(r),e(t)}),100),r=setTimeout((function(){return clearInterval(n),e()}),2e3)}))}))}))).then((function(e){return e?window.name?rt(A(e)).openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(e){try{window}catch(e){return}if(window&&!window.closed)try{r({data:e,origin:this.origin,source:this.source},{on:t,send:n})}catch(e){g.reject(e)}}}).then((function(e){var t=e.source,n=e.origin,r=e.data;if(t!==o)throw new Error("Source does not match opener");Pt(t,n,r.sendMessage)})).catch((function(e){throw Rt(o,e),e})):Rt(o,new Error("Can not register with opener: window does not have a name")):Rt(o,new Error("Can not register with opener: no bridge found in opener"))}))}))}({on:n,send:r,receiveMessage:o})}function Mt(){for(var e=it("idToProxyWindow"),t=0,n=e.keys();t<n.length;t++){var r=n[t];e.get(r).shouldClean()&&e.del(r)}}function Ut(e,t){var n=t.send,r=t.id,o=void 0===r?ue():r,i=e.then((function(e){if(T(e))return A(e).name})),a=e.then((function(e){if(L(e))throw new Error("Window is closed, can not determine type");return O(e)?y.POPUP:y.IFRAME}));i.catch(ge),a.catch(ge);var c=function(){return e.then((function(e){if(!L(e))return T(e)?A(e).name:i}))};return{id:o,getType:function(){return a},getInstanceID:he((function(){return e.then((function(e){return pt(e,{send:n})}))})),close:function(){return e.then($)},getName:c,focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return L(e)}))},setLocation:function(t,n){return void 0===n&&(n={}),e.then((function(e){var r=window.location.protocol+"//"+window.location.host,o=n.method,i=void 0===o?"get":o,a=n.body;if(0===t.indexOf("/"))t=""+r+t;else if(!t.match(/^https?:\/\//)&&0!==t.indexOf(r))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(t));if("post"===i)return c().then((function(e){if(!e)throw new Error("Can not post to window without target name");!function(e){var t=e.url,n=e.target,r=e.body,o=e.method,i=void 0===o?"post":o,a=document.createElement("form");if(a.setAttribute("target",n),a.setAttribute("method",i),a.setAttribute("action",t),a.style.display="none",r)for(var c=0,u=Object.keys(r);c<u.length;c++){var s,f=u[c],d=document.createElement("input");d.setAttribute("name",f),d.setAttribute("value",null==(s=r[f])?void 0:s.toString()),a.appendChild(d)}je().appendChild(a),a.submit(),je().removeChild(a)}({url:t,target:e,method:i,body:a})}));if("get"!==i)throw new Error("Unsupported method: "+i);if(T(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(t)}catch(e){}e.location=t}))},setName:function(t){return e.then((function(e){Dt({win:e,name:t});var n=T(e),r=J(e);if(!n)throw new Error("Can not set name for cross-domain window: "+t);A(e).name=t,r&&r.setAttribute("name",t),i=g.resolve(t)}))}}}var Ft=function(){function e(e){var t=e.send,n=e.win,r=e.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new g,this.serializedWindow=r||Ut(this.actualWindowPromise,{send:t}),it("idToProxyWindow").set(this.getID(),this),n&&this.setWindow(n,{send:t})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then((function(e){return e===y.POPUP}))},t.setLocation=function(e,t){var n=this;return this.serializedWindow.setLocation(e,t).then((function(){return n}))},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(e){var t=this;return this.serializedWindow.setName(e).then((function(){return t}))},t.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},t.focus=function(){var e=this,t=this.isPopup(),n=this.getName(),r=g.hash({isPopup:t,name:n}).then((function(e){var t=e.name;e.isPopup&&t&&window.open("",t,"noopener")})),o=this.serializedWindow.focus();return g.all([r,o]).then((function(){return e}))},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(e,t){var n=t.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Ut(this.actualWindowPromise,{send:n,id:this.getID()}),st("winToProxyWindow").set(e,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(e,t){var n=this,r=t.send;return g.try((function(){return n.actualWindow?e===n.actualWindow:g.hash({proxyInstanceID:n.getInstanceID(),knownWindowInstanceID:pt(e,{send:r})}).then((function(t){var o=t.proxyInstanceID===t.knownWindowInstanceID;return o&&n.setWindow(e,{send:r}),o}))}))},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return Boolean(this.actualWindow&&L(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,n){var r=n.send;return Mt(),e.toProxyWindow(t,{send:r}).serialize()},e.deserialize=function(t,n){var r=n.send;return Mt(),it("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:r})},e.isProxyWindow=function(e){return Boolean(e&&!Y(e)&&e.isProxyWindow)},e.toProxyWindow=function(t,n){var r=n.send;if(Mt(),e.isProxyWindow(t))return t;var o=t;return st("winToProxyWindow").get(o)||new e({win:o,send:r})},e}();function Wt(e,t,n,r,o){var i=st("methodStore"),a=it("proxyWindowMethods");Ft.isProxyWindow(r)?a.set(e,{val:t,name:n,domain:o,source:r}):(a.del(e),i.getOrSet(r,(function(){return{}}))[e]={domain:o,name:n,val:t,source:r})}function Bt(e,t){var n=st("methodStore"),r=it("proxyWindowMethods");return n.getOrSet(e,(function(){return{}}))[t]||r.get(t)}function zt(e,t,n,r,o){var i,a,c;a=(i={on:o.on,send:o.send}).on,c=i.send,it("builtinListeners").getOrSet("functionCalls",(function(){return a("postrobot_method",{domain:"*"},(function(e){var t=e.source,n=e.origin,r=e.data,o=r.id,i=r.name,a=Bt(t,o);if(!a)throw new Error("Could not find method '"+i+"' with id: "+r.id+" in "+C(window));var u=a.source,s=a.domain,f=a.val;return g.try((function(){if(!G(s,n))throw new Error("Method '"+r.name+"' domain "+JSON.stringify(Se(a.domain)?a.domain.source:a.domain)+" does not match origin "+n+" in "+C(window));if(Ft.isProxyWindow(u))return u.matchWindow(t,{send:c}).then((function(e){if(!e)throw new Error("Method call '"+r.name+"' failed - proxy window does not match source in "+C(window))}))})).then((function(){return f.apply({source:t,origin:n},r.args)}),(function(e){return g.try((function(){if(f.onError)return f.onError(e)})).then((function(){var t;throw e.stack&&(e.stack="Remote call to "+i+"("+(void 0===(t=r.args)&&(t=[]),Ee(t).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:o,name:i}}))}))}));var u=n.__id__||ue();e=Ft.unwrap(e);var s=n.__name__||n.name||r;return"string"==typeof s&&"function"==typeof s.indexOf&&0===s.indexOf("anonymous::")&&(s=s.replace("anonymous::",r+"::")),Ft.isProxyWindow(e)?(Wt(u,n,s,e,t),e.awaitWindow().then((function(e){Wt(u,n,s,e,t)}))):Wt(u,n,s,e,t),mt("cross_domain_function",{id:u,name:s})}function Ht(e,t,n,r){var o,i=r.on,a=r.send;return function(e,t){void 0===t&&(t=_t);var n=JSON.stringify(e,(function(e){var n=this[e];if(vt(this))return n;var r=yt(n);if(!r)return n;var o=t[r]||bt[r];return o?o(n,e):n}));return void 0===n?"undefined":n}(n,((o={}).promise=function(n,r){return function(e,t,n,r,o){return mt("cross_domain_zalgo_promise",{then:zt(e,t,(function(e,t){return n.then(e,t)}),r,{on:o.on,send:o.send})})}(e,t,n,r,{on:i,send:a})},o.function=function(n,r){return zt(e,t,n,r,{on:i,send:a})},o.object=function(e){return Y(e)||Ft.isProxyWindow(e)?mt("cross_domain_window",Ft.serialize(e,{send:a})):e},o))}function Gt(e,t,n,r){var o,i=r.send;return function(e,t){if(void 0===t&&(t=Ot),"undefined"!==e)return JSON.parse(e,(function(e,n){if(vt(this))return n;var r,o;if(vt(n)?(r=n.__type__,o=n.__val__):(r=yt(n),o=n),!r)return o;var i=t[r]||Et[r];return i?i(o,e):o}))}(n,((o={}).cross_domain_zalgo_promise=function(e){return function(e,t,n){return new g(n.then)}(0,0,e)},o.cross_domain_function=function(n){return function(e,t,n,r){var o=n.id,i=n.name,a=r.send,c=function(n){function r(){var c=arguments;return Ft.toProxyWindow(e,{send:a}).awaitWindow().then((function(e){var u=Bt(e,o);if(u&&u.val!==r)return u.val.apply({source:window,origin:C()},c);var s=[].slice.call(c);return n.fireAndForget?a(e,"postrobot_method",{id:o,name:i,args:s},{domain:t,fireAndForget:!0}):a(e,"postrobot_method",{id:o,name:i,args:s},{domain:t,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===n&&(n={}),r.__name__=i,r.__origin__=t,r.__source__=e,r.__id__=o,r.origin=t,r},u=c();return u.fireAndForget=c({fireAndForget:!0}),u}(e,t,n,{send:i})},o.cross_domain_window=function(e){return Ft.deserialize(e,{send:i})},o))}var qt={};function Vt(e,t,n,r){var o=r.on,i=r.send;return g.try((function(){var r=st().getOrSet(e,(function(){return{}}));return r.buffer=r.buffer||[],r.buffer.push(n),r.flush=r.flush||g.flush().then((function(){if(L(e))throw new Error("Window is closed");var n,a=Ht(e,t,((n={}).__post_robot_11_0_0__=r.buffer||[],n),{on:o,send:i});delete r.buffer;for(var c=Object.keys(qt),u=[],s=0;s<c.length;s++){var f=c[s];try{qt[f](e,a,t)}catch(e){u.push(e)}}if(u.length===c.length)throw new Error("All post-robot messaging strategies failed:\n\n"+u.map((function(e,t){return t+". "+ye(e)})).join("\n\n"))})),r.flush.then((function(){delete r.flush}))})).then(ge)}function Yt(e){return it("responseListeners").get(e)}function Kt(e){it("responseListeners").del(e)}function Jt(e){return it("erroredResponseListeners").has(e)}function $t(e){var t=e.name,n=e.win,r=e.domain,o=st("requestListeners");if("*"===n&&(n=null),"*"===r&&(r=null),!t)throw new Error("Name required to get request listener");for(var i=0,a=[n,ut()];i<a.length;i++){var c=a[i];if(c){var u=o.get(c);if(u){var s=u[t];if(s){if(r&&"string"==typeof r){if(s[r])return s[r];if(s.__domain_regex__)for(var f=0,d=s.__domain_regex__;f<d.length;f++){var l=d[f],p=l.listener;if(G(l.regex,r))return p}}if(s["*"])return s["*"]}}}}}function Qt(e,t,n,r){var o=r.on,i=r.send,a=$t({name:n.name,win:e,domain:t}),c="postrobot_method"===n.name&&n.data&&"string"==typeof n.data.name?n.data.name+"()":n.name;function u(r,a,u){return g.flush().then((function(){if(!n.fireAndForget&&!L(e))try{return Vt(e,t,{id:ue(),origin:C(window),type:"postrobot_message_response",hash:n.hash,name:n.name,ack:r,data:a,error:u},{on:o,send:i})}catch(e){throw new Error("Send response message failed for "+c+" in "+C()+"\n\n"+ye(e))}}))}return g.all([g.flush().then((function(){if(!n.fireAndForget&&!L(e))try{return Vt(e,t,{id:ue(),origin:C(window),type:"postrobot_message_ack",hash:n.hash,name:n.name},{on:o,send:i})}catch(e){throw new Error("Send ack message failed for "+c+" in "+C()+"\n\n"+ye(e))}})),g.try((function(){if(!a)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return a.handler({source:e,origin:t,data:n.data})})).then((function(e){return u("success",e)}),(function(e){return u("error",null,e)}))]).then(ge).catch((function(e){if(a&&a.handleError)return a.handleError(e);throw e}))}function Xt(e,t,n){if(!Jt(n.hash)){var r=Yt(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!G(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());if(e!==r.win)throw new Error("Ack source does not match registered window")}catch(e){r.promise.reject(e)}r.ack=!0}}function Zt(e,t,n){if(!Jt(n.hash)){var r,o=Yt(n.hash);if(!o)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!G(o.domain,t))throw new Error("Response origin "+t+" does not match domain "+(r=o.domain,Array.isArray(r)?"("+r.join(" | ")+")":v(r)?"RegExp("+r.toString()+")":r.toString()));if(e!==o.win)throw new Error("Response source does not match registered window");Kt(n.hash),"error"===n.ack?o.promise.reject(n.error):"success"===n.ack&&o.promise.resolve({source:e,origin:t,data:n.data})}}function en(e,t){var n=t.on,r=t.send,o=it("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var i=e.source,a=e.origin,c=function(e,t,n,r){var o,i=r.on,a=r.send;try{o=Gt(t,n,e,{on:i,send:a})}catch(e){return}if(o&&"object"==typeof o&&null!==o){var c=o.__post_robot_11_0_0__;if(Array.isArray(c))return c}}(e.data,i,a,{on:n,send:r});if(c){gt(i);for(var u=0;u<c.length;u++){var s=c[u];if(o.has(s.id))return;if(o.set(s.id,!0),L(i)&&!s.fireAndForget)return;0===s.origin.indexOf("file:")&&(a="file://");try{"postrobot_message_request"===s.type?Qt(i,a,s,{on:n,send:r}):"postrobot_message_response"===s.type?Zt(i,a,s):"postrobot_message_ack"===s.type&&Xt(i,a,s)}catch(e){setTimeout((function(){throw e}),0)}}}}function tn(e,t,n){if(!e)throw new Error("Expected name");if("function"==typeof(t=t||{})&&(n=t,t={}),!n)throw new Error("Expected handler");var r=function e(t,n){var r=t.name,o=t.win,i=t.domain,a=st("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(o&&"*"!==o&&Ft.isProxyWindow(o)){var c=o.awaitWindow().then((function(t){return e({name:r,win:t,domain:i},n)}));return{cancel:function(){c.then((function(e){return e.cancel()}),ge)}}}var u=o;if(Array.isArray(u)){for(var s=[],f=0,d=u;f<d.length;f++)s.push(e({name:r,domain:i,win:d[f]},n));return{cancel:function(){for(var e=0;e<s.length;e++)s[e].cancel()}}}if(Array.isArray(i)){for(var l=[],p=0,h=i;p<h.length;p++)l.push(e({name:r,win:u,domain:h[p]},n));return{cancel:function(){for(var e=0;e<l.length;e++)l[e].cancel()}}}var g=$t({name:r,win:u,domain:i});u&&"*"!==u||(u=ut());var v=(i=i||"*").toString();if(g)throw u&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(u===ut()?"wildcard":"specified")+" window"):u?new Error("Request listener already exists for "+r+" for "+(u===ut()?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var y,m,w=a.getOrSet(u,(function(){return{}})),b=Ie(w,r,(function(){return{}}));return Se(i)?(y=Ie(b,"__domain_regex__",(function(){return[]}))).push(m={regex:i,listener:n}):b[v]=n,{cancel:function(){delete b[v],m&&(y.splice(y.indexOf(m,1)),y.length||delete b.__domain_regex__),Object.keys(b).length||delete w[r],u&&!Object.keys(w).length&&a.del(u)}}}({name:e,win:t.window,domain:t.domain||"*"},{handler:n||t.handler,handleError:t.errorHandler||function(e){throw e}});return{cancel:function(){r.cancel()}}}qt.postrobot_post_message=function(e,t,n){0===n.indexOf("file:")&&(n="*"),e.postMessage(t,n)},qt.postrobot_bridge=function(e,t,n){if(!St()&&!jt())throw new Error("Bridge not needed for browser");if(T(e))throw new Error("Post message through bridge disabled between same domain windows");if(!1!==H(window,e))throw new Error("Can only use bridge to communicate between two different windows, not between frames");!function(e,t,n){var r=F(window,e),o=F(e,window);if(!r&&!o)throw new Error("Can only send messages to and from parent and popup windows");kt(e).then((function(r){return r(e,t,n)}))}(e,n,t)},qt.postrobot_global=function(e,t){if(!M(window).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i))throw new Error("Global messaging not needed for browser");if(!T(e))throw new Error("Post message through global disabled between different domain windows");if(!1!==H(window,e))throw new Error("Can only use global to communicate between two different windows, not between frames");var n=rt(e);if(!n)throw new Error("Can not find postRobot global on foreign window");n.receiveMessage({source:window,origin:C(),data:t})};var nn,rn=function e(t,n,r,o){var i=(o=o||{}).domain||"*",a=o.timeout||-1,c=o.timeout||5e3,u=o.fireAndForget||!1;return Ft.toProxyWindow(t,{send:e}).awaitWindow().then((function(t){return g.try((function(){if(function(e,t,n){if(!e)throw new Error("Expected name");if(n&&"string"!=typeof n&&!Array.isArray(n)&&!Se(n))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(n)+" to be a string, array, or regex");if(L(t))throw new Error("Can not send "+e+". Target window is closed")}(n,t,i),function(e,t){var n=W(t);if(n)return n===e;if(t===e)return!1;if(k(t)===t)return!1;for(var r=0,o=x(e);r<o.length;r++)if(o[r]===t)return!0;return!1}(window,t))return ht(t,c)})).then((function(n){return function(e,t,n,r){var o=r.send;return g.try((function(){return"string"==typeof t?t:g.try((function(){return n||lt(e,{send:o}).then((function(e){return e.domain}))})).then((function(e){if(!G(t,t))throw new Error("Domain "+me(t)+" does not match "+me(t));return e}))}))}(t,i,(void 0===n?{}:n).domain,{send:e})})).then((function(o){var i=o,c="postrobot_method"===n&&r&&"string"==typeof r.name?r.name+"()":n,s=new g,f=n+"_"+ue();if(!u){var d={name:n,win:t,domain:i,promise:s};!function(e,t){it("responseListeners").set(e,t)}(f,d);var l=st("requestPromises").getOrSet(t,(function(){return[]}));l.push(s),s.catch((function(){!function(e){it("erroredResponseListeners").set(e,!0)}(f),Kt(f)}));var p=function(e){return st("knownWindows").get(e,!1)}(t)?1e4:2e3,h=a,v=p,y=h,m=_e((function(){return L(t)?s.reject(new Error("Window closed for "+n+" before "+(d.ack?"response":"ack"))):d.cancelled?s.reject(new Error("Response listener was cancelled for "+n)):(v=Math.max(v-500,0),-1!==y&&(y=Math.max(y-500,0)),d.ack||0!==v?0===y?s.reject(new Error("No response for postMessage "+c+" in "+C()+" in "+h+"ms")):void 0:s.reject(new Error("No ack for postMessage "+c+" in "+C()+" in "+p+"ms")))}),500);s.finally((function(){m.cancel(),l.splice(l.indexOf(s,1))})).catch(ge)}return Vt(t,i,{id:ue(),origin:C(window),type:"postrobot_message_request",hash:f,name:n,data:r,fireAndForget:u},{on:tn,send:e}).then((function(){return u?s.resolve():s}),(function(e){throw new Error("Send request message failed for "+c+" in "+C()+"\n\n"+ye(e))}))}))}))};function on(e){return Ft.toProxyWindow(e,{send:rn})}function an(e){for(var t=0,n=st("requestPromises").get(e,[]);t<n.length;t++)n[t].reject(new Error("Window "+(L(e)?"closed":"cleaned up")+" before response")).catch(ge)}function cn(e){if(!T(e))throw new Error("Can not get global for window on different domain");return e.__zoid_9_0_88__||(e.__zoid_9_0_88__={}),e.__zoid_9_0_88__}function un(e,t){try{return t(cn(e))}catch(e){}}function sn(e){return{get:function(){var t=this;return g.try((function(){if(t.source&&t.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e}))}}}function fn(e){return ce(JSON.stringify(e))}function dn(e){var t=cn(e);return t.references=t.references||{},t.references}function ln(e){var t,n,r=e.data,o=e.metaData,i=e.sender,a=e.receiver,c=e.passByReference,u=void 0!==c&&c,s=e.basic,f=void 0!==s&&s,d=on(a.win),l=f?JSON.stringify(r):Ht(d,a.domain,r,{on:tn,send:rn}),p=u?(t=l,n=ue(),dn(window)[n]=t,{type:"uid",uid:n}):{type:"raw",val:l};return{serializedData:fn({sender:{domain:i.domain},metaData:o,reference:p}),cleanReference:function(){var e,t;e=window,"uid"===(t=p).type&&delete dn(e)[t.uid]}}}function pn(e){var n,r,o=e.sender,i=e.basic,a=void 0!==i&&i,c=function(e){return JSON.parse(function(e){if("function"==typeof atob)return decodeURIComponent([].map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));if(void 0!==t)return t.from(e,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(e))}(e.data),u=c.reference,s=c.metaData;n="function"==typeof o.win?o.win({metaData:s}):o.win,r="function"==typeof o.domain?o.domain({metaData:s}):"string"==typeof o.domain?o.domain:c.sender.domain;var f=function(e,t){if("raw"===t.type)return t.val;if("uid"===t.type)return dn(e)[t.uid];throw new Error("Unsupported ref type: "+t.type)}(n,u);return{data:a?JSON.parse(f):function(e,t,n){return Gt(e,t,n,{on:tn,send:rn})}(n,r,f),metaData:s,sender:{win:n,domain:r},reference:u}}nn={setupBridge:Lt,openBridge:function(e,t){var n=it("bridges"),r=it("bridgeFrames");return t=t||q(e),n.getOrSet(t,(function(){return g.try((function(){if(C()===t)throw new Error("Can not open bridge on the same domain as current domain: "+t);var n=At(t);if(U(window,n))throw new Error("Frame with name "+n+" already exists on page");var o=function(e,t){var n=document.createElement("iframe");return n.setAttribute("name",e),n.setAttribute("id",e),n.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),n.setAttribute("frameborder","0"),n.setAttribute("border","0"),n.setAttribute("scrolling","no"),n.setAttribute("allowTransparency","true"),n.setAttribute("tabindex","-1"),n.setAttribute("hidden","true"),n.setAttribute("title",""),n.setAttribute("role","presentation"),n.src=t,n}(n,e);return r.set(t,o),xt.then((function(t){t.appendChild(o);var n=o.contentWindow;return new g((function(e,t){o.addEventListener("load",e),o.addEventListener("error",t)})).then((function(){return ht(n,5e3,"Bridge "+e)})).then((function(){return n}))}))}))}))},linkWindow:Dt,linkUrl:function(e,t){Dt({win:e,domain:q(t)})},isBridge:jt,needsBridge:Tt,needsBridgeForBrowser:St,hasBridge:function(e,t){return it("bridges").has(t||q(e))},needsBridgeForWin:It,needsBridgeForDomain:Ct,destroyBridges:function(){for(var e=it("bridges"),t=it("bridgeFrames"),n=0,r=t.keys();n<r.length;n++){var o=t.get(r[n]);o&&o.parentNode&&o.parentNode.removeChild(o)}t.reset(),e.reset()}};var hn={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number",ARRAY:"array"},gn={JSON:"json",DOTIFY:"dotify",BASE64:"base64"},vn=y,yn={RENDER:"zoid-render",RENDERED:"zoid-rendered",DISPLAY:"zoid-display",ERROR:"zoid-error",CLOSE:"zoid-close",DESTROY:"zoid-destroy",PROPS:"zoid-props",RESIZE:"zoid-resize",FOCUS:"zoid-focus"};function mn(e){return"__zoid__"+e.name+"__"+e.serializedPayload+"__"}function wn(e){if(!e)throw new Error("No window name");var t=e.split("__"),n=t[1],r=t[2],o=t[3];if("zoid"!==n)throw new Error("Window not rendered by zoid - got "+n);if(!r)throw new Error("Expected component name");if(!o)throw new Error("Expected serialized payload ref");return{name:r,serializedInitialPayload:o}}var bn=pe((function(e){var t=pn({data:wn(e).serializedInitialPayload,sender:{win:function(e){return function(e){if("opener"===e.type)return Te("opener",O(window));if("parent"===e.type&&"number"==typeof e.distance)return Te("parent",(t=window,void 0===(n=e.distance)&&(n=1),function(e,t){void 0===t&&(t=1);for(var n=e,r=0;r<t;r++){if(!n)return;n=E(n)}return n}(t,z(t)-n)));var t,n;if("global"===e.type&&e.uid&&"string"==typeof e.uid){var r=function(){var t=e.uid,n=W(window);if(!n)throw new Error("Can not find ancestor window");for(var r=0,o=P(n);r<o.length;r++){var i=o[r];if(T(i)){var a=un(i,(function(e){return e.windows&&e.windows[t]}));if(a)return{v:a}}}}();if("object"==typeof r)return r.v}else if("name"===e.type){var o=e.name;return Te("namedWindow",function(e,t){return U(e,t)||function e(t,n){var r=U(t,n);if(r)return r;for(var o=0,i=x(t);o<i.length;o++){var a=e(i[o],n);if(a)return a}}(k(e)||e,t)}(Te("ancestor",W(window)),o))}throw new Error("Unable to find "+e.type+" parent component window")}(e.metaData.windowRef)}}});return{parent:t.sender,payload:t.data,reference:t.reference}}));function _n(){return bn(window.name)}function En(e,t){if(void 0===t&&(t=window),e===E(t))return{type:"parent",distance:z(e)};if(e===O(t))return{type:"opener"};if(T(e)&&(r=e)!==k(r)){var n=A(e).name;if(n)return{type:"name",name:n}}var r}function On(e,t,n,r,o){if(!e.hasOwnProperty(n))return r;var i=e[n];return"function"==typeof i.childDecorate?i.childDecorate({value:r,uid:o.uid,tag:o.tag,close:o.close,focus:o.focus,onError:o.onError,onProps:o.onProps,resize:o.resize,getParent:o.getParent,getParentDomain:o.getParentDomain,show:o.show,hide:o.hide,export:o.export,getSiblings:o.getSiblings}):r}function Sn(){return g.try((function(){window.focus()}))}function In(){return g.try((function(){window.close()}))}var Cn=function(){return ge},Tn=function(e){return ve(e.value)};function An(e,t,n){for(var r=0,o=Object.keys(a({},e,t));r<o.length;r++){var i=o[r];n(i,t[i],e[i])}}function jn(e,t,n){var r={};return g.all(function(e,t,o){var i=[];return An(e,t,(function(e,t,o){var a=function(e,t,o){return g.resolve().then((function(){var i,a;if(null!=o&&t){var c=(i={},i.get=t.queryParam,i.post=t.bodyParam,i)[n],u=(a={},a.get=t.queryValue,a.post=t.bodyValue,a)[n];if(c)return g.hash({finalParam:g.try((function(){return"function"==typeof c?c({value:o}):"string"==typeof c?c:e})),finalValue:g.try((function(){return"function"==typeof u&&Oe(o)?u({value:o}):o}))}).then((function(n){var o,i=n.finalParam,a=n.finalValue;if("boolean"==typeof a)o=a.toString();else if("string"==typeof a)o=a.toString();else if("object"==typeof a&&null!==a){if(t.serialization===gn.JSON)o=JSON.stringify(a);else if(t.serialization===gn.BASE64)o=ce(JSON.stringify(a));else if(t.serialization===gn.DOTIFY||!t.serialization){o=function e(t,n,r){for(var o in void 0===n&&(n=""),void 0===r&&(r={}),n=n?n+".":n,t)t.hasOwnProperty(o)&&null!=t[o]&&"function"!=typeof t[o]&&(t[o]&&Array.isArray(t[o])&&t[o].length&&t[o].every((function(e){return"object"!=typeof e}))?r[""+n+o+"[]"]=t[o].join(","):t[o]&&"object"==typeof t[o]?r=e(t[o],""+n+o,r):r[""+n+o]=t[o].toString());return r}(a,e);for(var c=0,u=Object.keys(o);c<u.length;c++){var s=u[c];r[s]=o[s]}return}}else"number"==typeof a&&(o=a.toString());r[i]=o}))}}))}(e,t,o);i.push(a)})),i}(t,e)).then((function(){return r}))}function xn(e){var t,n,r,o,i,c,u,s,f=e.uid,d=e.options,l=e.overrides,p=void 0===l?{}:l,h=e.parentWin,v=void 0===h?window:h,y=d.propsDef,m=d.containerTemplate,w=d.prerenderTemplate,b=d.tag,_=d.name,E=d.attributes,O=d.dimensions,S=d.autoResize,I=d.url,j=d.domain,x=d.exports,N=new g,k=[],P=Ce(),R={},D={},M={visible:!0},U=p.event?p.event:(t={},n={},r={on:function(e,t){var r=n[e]=n[e]||[];r.push(t);var o=!1;return{cancel:function(){o||(o=!0,r.splice(r.indexOf(t),1))}}},once:function(e,t){var n=r.on(e,(function(){n.cancel(),t()}));return n},trigger:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i=n[e],a=[];if(i)for(var c=function(e){var t=i[e];a.push(g.try((function(){return t.apply(void 0,r)})))},u=0;u<i.length;u++)c(u);return g.all(a).then(ge)},triggerOnce:function(e){if(t[e])return g.resolve();t[e]=!0;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return r.trigger.apply(r,[e].concat(o))},reset:function(){n={}}}),F=p.props?p.props:{},B=p.onError,Y=p.getProxyContainer,J=p.show,Q=p.hide,X=p.close,Z=p.renderContainer,ee=p.getProxyWindow,te=p.setProxyWin,ne=p.openFrame,re=p.openPrerenderFrame,oe=p.prerender,ie=p.open,ae=p.openPrerender,ce=p.watchForUnload,se=p.getInternalState,fe=p.setInternalState,de=function(){return"function"==typeof O?O({props:F}):O},le=function(){return g.try((function(){return p.resolveInitPromise?p.resolveInitPromise():N.resolve()}))},he=function(e){return g.try((function(){return p.rejectInitPromise?p.rejectInitPromise(e):N.reject(e)}))},be=function(e){for(var t={},n=0,r=Object.keys(F);n<r.length;n++){var o=r[n],i=y[o];i&&!1===i.sendToChild||i&&i.sameDomain&&!G(e,C(window))||(t[o]=F[o])}return g.hash(t)},Se=function(){return g.try((function(){return se?se():M}))},Ie=function(e){return g.try((function(){return fe?fe(e):M=a({},M,e)}))},Te=function(){return ee?ee():g.try((function(){var e=F.window;if(e){var t=on(e);return P.register((function(){return e.close()})),t}return new Ft({send:rn})}))},Ae=function(e){return te?te(e):g.try((function(){o=e}))},je=function(){return J?J():g.hash({setState:Ie({visible:!0}),showElement:i?i.get().then(He):null}).then(ge)},xe=function(){return Q?Q():g.hash({setState:Ie({visible:!1}),showElement:i?i.get().then(Ge):null}).then(ge)},Ne=function(){return"function"==typeof I?I({props:F}):I},ke=function(){return"function"==typeof E?E({props:F}):E},Pe=function(){return q(Ne())},Me=function(e,t){var n=t.windowName;return ne?ne(e,{windowName:n}):g.try((function(){if(e===vn.IFRAME)return sn(Be({attributes:a({name:n,title:_},ke().iframe)}))}))},Fe=function(e){return re?re(e):g.try((function(){if(e===vn.IFRAME)return sn(Be({attributes:a({name:"__zoid_prerender_frame__"+_+"_"+ue()+"__",title:"prerender__"+_},ke().iframe)}))}))},Je=function(e,t,n){return ae?ae(e,t,n):g.try((function(){if(e===vn.IFRAME){if(!n)throw new Error("Expected proxy frame to be passed");return n.get().then((function(e){return P.register((function(){return qe(e)})),We(e).then((function(e){return A(e)})).then((function(e){return on(e)}))}))}if(e===vn.POPUP)return t;throw new Error("No render context available for "+e)}))},$e=function(){return g.try((function(){if(o)return g.all([U.trigger(yn.FOCUS),o.focus()]).then(ge)}))},Qe=function(e,t,n,r){if(t===C(window))return{type:"global",uid:(o=cn(window),o.windows=o.windows||{},o.windows[f]=window,P.register((function(){delete o.windows[f]})),f)};var o;if(e!==window)throw new Error("Can not construct cross-domain window reference for different target window");if(F.window){var i=r.getWindow();if(!i)throw new Error("Can not construct cross-domain window reference for lazy window prop");if(W(i)!==window)throw new Error("Can not construct cross-domain window reference for window prop with different ancestor")}if(n===vn.POPUP)return{type:"opener"};if(n===vn.IFRAME)return{type:"parent",distance:z(window)};throw new Error("Can not construct window reference for child")},Xe=function(e,t){return g.try((function(){u=e,c=t,le(),P.register((function(){return t.close.fireAndForget().catch(ge)}))}))},Ze=function(e){var t=e.width,n=e.height;return g.try((function(){U.trigger(yn.RESIZE,{width:t,height:n})}))},et=function(e){return g.try((function(){return U.trigger(yn.DESTROY)})).catch(ge).then((function(){return P.all(e)})).then((function(){N.asyncReject(e||new Error("Component destroyed"))}))},tt=pe((function(e){return g.try((function(){if(X){if(L(X.__source__))return;return X()}return g.try((function(){return U.trigger(yn.CLOSE)})).then((function(){return et(e||new Error("Component closed"))}))}))})),rt=function(e,t){var n=t.proxyWin,r=t.proxyFrame,o=t.windowName;return ie?ie(e,{proxyWin:n,proxyFrame:r,windowName:o}):g.try((function(){if(e===vn.IFRAME){if(!r)throw new Error("Expected proxy frame to be passed");return r.get().then((function(e){return We(e).then((function(t){return P.register((function(){return qe(e)})),P.register((function(){return an(t)})),t}))}))}if(e===vn.POPUP){var t=de(),n=t.width,i=void 0===n?"300px":n,c=t.height,u=void 0===c?"150px":c;i=nt(i,window.outerWidth),u=nt(u,window.outerWidth);var s=function(e,t){var n=(t=t||{}).closeOnUnload,r=void 0===n?1:n,o=t.name,i=void 0===o?"":o,c=t.width,u=t.height,s=0,f=0;c&&(window.outerWidth?f=Math.round((window.outerWidth-c)/2)+window.screenX:window.screen.width&&(f=Math.round((window.screen.width-c)/2))),u&&(window.outerHeight?s=Math.round((window.outerHeight-u)/2)+window.screenY:window.screen.height&&(s=Math.round((window.screen.height-u)/2))),delete t.closeOnUnload,delete t.name,c&&u&&(t=a({top:s,left:f,width:c,height:u,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},t));var d,l,p=Object.keys(t).map((function(e){if(null!=t[e])return e+"="+me(t[e])})).filter(Boolean).join(",");try{d=window.open("",i,p)}catch(l){throw new Ue("Can not open popup window - "+(l.stack||l.message))}if(L(d))throw new Ue("Can not open popup window - blocked");return r&&window.addEventListener("unload",(function(){return d.close()})),d}(0,a({name:o,width:i,height:u},ke().popup));return P.register((function(){return $(s)})),P.register((function(){return an(s)})),s}throw new Error("No render context available for "+e)})).then((function(e){return n.setWindow(e,{send:rn}),n.setName(o).then((function(){return n}))}))},ot=function(){return g.try((function(){var e=ze(window,"unload",ve((function(){et(new Error("Window navigated away"))}))),t=V(v,et,3e3);if(P.register(t.cancel),P.register(e.cancel),ce)return ce()}))},it=function(e){var t=!1;return e.isClosed().then((function(n){return n?(t=!0,tt(new Error("Detected component window close"))):g.delay(200).then((function(){return e.isClosed()})).then((function(e){if(e)return t=!0,tt(new Error("Detected component window close"))}))})).then((function(){return t}))},at=function(e){return B?B(e):g.try((function(){if(-1===k.indexOf(e))return k.push(e),N.asyncReject(e),U.trigger(yn.ERROR,e)}))},ct=new g,ut=function(e){return g.try((function(){ct.resolve(e)}))};Xe.onError=at;var st=function(e,t){return e({uid:f,container:t.container,context:t.context,doc:t.doc,frame:t.frame,prerenderFrame:t.prerenderFrame,focus:$e,close:tt,state:R,props:F,tag:b,dimensions:de(),event:U})},ft=function(e,t){var n=t.context;return oe?oe(e,{context:n}):g.try((function(){if(w){var t=e.getWindow();if(t&&T(t)&&function(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(e){}return!1}(t)){var r=(t=A(t)).document,o=st(w,{context:n,doc:r});if(o){if(o.ownerDocument!==r)throw new Error("Expected prerender template to have been created with document from child window");!function(e,t){var n=t.tagName.toLowerCase();if("html"!==n)throw new Error("Expected element to be html, got "+n);for(var r=e.document.documentElement,o=0,i=Ee(r.children);o<i.length;o++)r.removeChild(i[o]);for(var a=0,c=Ee(t.children);a<c.length;a++)r.appendChild(c[a])}(t,o);var i=S.width,a=void 0!==i&&i,c=S.height,u=void 0!==c&&c,s=S.element,f=void 0===s?"body":s;if((f=De(f,r))&&(a||u)){var d=Ye(f,(function(e){Ze({width:a?e.width:void 0,height:u?e.height:void 0})}),{width:a,height:u,win:t});U.on(yn.RENDERED,d.cancel)}}}}}))},dt=function(e,t){var n=t.proxyFrame,r=t.proxyPrerenderFrame,o=t.context,a=t.rerender;return Z?Z(e,{proxyFrame:n,proxyPrerenderFrame:r,context:o,rerender:a}):g.hash({container:e.get(),frame:n?n.get():null,prerenderFrame:r?r.get():null,internalState:Se()}).then((function(e){var t=e.container,n=e.internalState.visible,r=st(m,{context:o,container:t,frame:e.frame,prerenderFrame:e.prerenderFrame,doc:document});if(r){n||Ge(r),function(e,t){e.appendChild(t)}(t,r);var c=function(e,t){t=ve(t);var n,r,o,i=!1,a=[],c=function(){i=!0;for(var e=0;e<a.length;e++)a[e].disconnect();n&&n.cancel(),o&&o.removeEventListener("unload",u),r&&qe(r)},u=function(){i||(t(),c())};if(Ve(e))return u(),{cancel:c};if(window.MutationObserver)for(var s=e.parentElement;s;){var f=new window.MutationObserver((function(){Ve(e)&&u()}));f.observe(s,{childList:!0}),a.push(f),s=s.parentElement}return(r=document.createElement("iframe")).setAttribute("name","__detect_close_"+ue()+"__"),r.style.display="none",We(r).then((function(e){(o=A(e)).addEventListener("unload",u)})),e.appendChild(r),n=_e((function(){Ve(e)&&u()}),1e3),{cancel:c}}(r,(function(){var e=new Error("Detected container element removed from DOM");return g.delay(1).then((function(){if(!Ve(r))return P.all(e),a().then(le,he);tt(e)}))}));return P.register((function(){return c.cancel()})),P.register((function(){return qe(r)})),i=sn(r)}}))},lt=function(){return{state:R,event:U,close:tt,focus:$e,resize:Ze,onError:at,updateProps:ht,show:je,hide:xe}},pt=function(e){void 0===e&&(e={});var t=s,n=lt();we(D,e),function(e,t,n,r,o){var i=r.state,a=r.close,c=r.focus,u=r.event,s=r.onError;An(n,e,(function(e,r,f){var d=!1,l=f;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return d?l:(d=!0,function(){if(!r)return l;var d=r.alias;if(d&&!Oe(f)&&Oe(n[d])&&(l=n[d]),r.value&&(l=r.value({props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),!r.default||Oe(l)||Oe(n[e])||(l=r.default({props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),Oe(l)){if(r.type===hn.ARRAY?!Array.isArray(l):typeof l!==r.type)throw new TypeError("Prop is not of type "+r.type+": "+e)}else if(!1!==r.required&&!Oe(n[e]))throw new Error('Expected prop "'+e+'" to be defined');return Oe(l)&&r.decorate&&(l=r.decorate({value:l,props:t,state:i,close:a,focus:c,event:u,onError:s,container:o})),l}())}})})),An(t,e,ge)}(y,F,D,n,t)},ht=function(e){return pt(e),N.then((function(){var e=c,t=o;if(e&&t&&u)return be(u).then((function(n){return e.updateProps(n).catch((function(e){return it(t).then((function(t){if(!t)throw e}))}))}))}))},gt=function(e){return Y?Y(e):g.try((function(){return Le(e)})).then((function(e){return Ke(e)&&(e=function e(t){var n=function(e){var t=function(e){for(;e.parentNode;)e=e.parentNode;if(Ke(e))return e}(e);if(t&&t.host)return t.host}(t);if(!n)throw new Error("Element is not in shadow dom");var r="shadow-slot-"+ue(),o=document.createElement("slot");o.setAttribute("name",r),t.appendChild(o);var i=document.createElement("div");return i.setAttribute("slot",r),n.appendChild(i),Ke(n)?e(i):i}(e)),s=e,sn(e)}))};return{init:function(){U.on(yn.RENDER,(function(){return F.onRender()})),U.on(yn.DISPLAY,(function(){return F.onDisplay()})),U.on(yn.RENDERED,(function(){return F.onRendered()})),U.on(yn.CLOSE,(function(){return F.onClose()})),U.on(yn.DESTROY,(function(){return F.onDestroy()})),U.on(yn.RESIZE,(function(){return F.onResize()})),U.on(yn.FOCUS,(function(){return F.onFocus()})),U.on(yn.PROPS,(function(e){return F.onProps(e)})),U.on(yn.ERROR,(function(e){return F&&F.onError?F.onError(e):he(e).then((function(){setTimeout((function(){throw e}),1)}))})),P.register(U.reset)},render:function(e){var t=e.target,n=e.container,r=e.context,i=e.rerender;return g.try((function(){var e=Pe(),a=j||Pe();!function(e,t,n){if(e!==window){if(!H(window,e))throw new Error("Can only renderTo an adjacent frame");var r=C();if(!G(t,r)&&!T(e))throw new Error("Can not render remotely to "+t.toString()+" - can only render to "+r);if(n&&"string"!=typeof n)throw new Error("Container passed to renderTo must be a string selector, got "+typeof n+" }")}}(t,a,n);var c=g.try((function(){if(t!==window)return function(e,t){for(var n={},r=0,o=Object.keys(F);r<o.length;r++){var i=o[r],a=y[i];a&&a.allowDelegate&&(n[i]=F[i])}var c=rn(t,"zoid_delegate_"+_,{uid:f,overrides:{props:n,event:U,close:tt,onError:at,getInternalState:Se,setInternalState:Ie,resolveInitPromise:le,rejectInitPromise:he}}).then((function(e){var n=e.data.parent;return P.register((function(e){if(!L(t))return n.destroy(e)})),n.getDelegateOverrides()})).catch((function(e){throw new Error("Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n"+ye(e))}));return Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.getProxyContainer.apply(e,t)}))},Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.renderContainer.apply(e,t)}))},J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.show.apply(e,t)}))},Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.hide.apply(e,t)}))},ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.watchForUnload.apply(e,t)}))},e===vn.IFRAME?(ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.getProxyWindow.apply(e,t)}))},ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openFrame.apply(e,t)}))},re=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openPrerenderFrame.apply(e,t)}))},oe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.prerender.apply(e,t)}))},ie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.open.apply(e,t)}))},ae=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.openPrerender.apply(e,t)}))}):e===vn.POPUP&&(te=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.then((function(e){return e.setProxyWin.apply(e,t)}))}),c}(r,t)})),u=F.window,s=ot(),l=jn(y,F,"post"),p=U.trigger(yn.RENDER),h=gt(n),v=Te(),m=h.then((function(){return pt()})),w=m.then((function(){return jn(y,F,"get").then((function(e){return function(e,t){var n,r,o=t.query||{},i=t.hash||{},a=e.split("#");r=a[1];var c=(n=a[0]).split("?");n=c[0];var u=Re(c[1],o),s=Re(r,i);return u&&(n=n+"?"+u),s&&(n=n+"#"+s),n}(K(Ne()),{query:e})}))})),E=v.then((function(n){return function(e){var t=void 0===e?{}:e,n=t.proxyWin,r=t.initialChildDomain,o=t.childDomainMatch,i=t.target,a=void 0===i?window:i,c=t.context;return function(e){var t=void 0===e?{}:e,n=t.proxyWin,r=t.childDomainMatch,o=t.context;return be(t.initialChildDomain).then((function(e){return{uid:f,context:o,tag:b,childDomainMatch:r,version:"9_0_88",props:e,exports:(t=n,{init:function(e){return Xe(this.origin,e)},close:tt,checkClose:function(){return it(t)},resize:Ze,onError:at,show:je,hide:xe,export:ut})};var t}))}({proxyWin:n,initialChildDomain:r,childDomainMatch:o,context:c}).then((function(e){var t=ln({data:e,metaData:{windowRef:Qe(a,r,c,n)},sender:{domain:C(window)},receiver:{win:n,domain:o},passByReference:r===C()}),i=t.serializedData;return P.register(t.cleanReference),i}))}({proxyWin:(o={proxyWin:n,initialChildDomain:e,childDomainMatch:a,target:t,context:r}).proxyWin,initialChildDomain:o.initialChildDomain,childDomainMatch:o.childDomainMatch,target:o.target,context:o.context}).then((function(e){return mn({name:_,serializedPayload:e})}));var o})),O=E.then((function(e){return Me(r,{windowName:e})})),S=Fe(r),I=g.hash({proxyContainer:h,proxyFrame:O,proxyPrerenderFrame:S}).then((function(e){return dt(e.proxyContainer,{context:r,proxyFrame:e.proxyFrame,proxyPrerenderFrame:e.proxyPrerenderFrame,rerender:i})})).then((function(e){return e})),A=g.hash({windowName:E,proxyFrame:O,proxyWin:v}).then((function(e){var t=e.proxyWin;return u?t:rt(r,{windowName:e.windowName,proxyWin:t,proxyFrame:e.proxyFrame})})),x=g.hash({proxyWin:A,proxyPrerenderFrame:S}).then((function(e){return Je(r,e.proxyWin,e.proxyPrerenderFrame)})),k=A.then((function(e){return o=e,Ae(e)})),R=g.hash({proxyPrerenderWin:x,state:k}).then((function(e){return ft(e.proxyPrerenderWin,{context:r})})),D=g.hash({proxyWin:A,windowName:E}).then((function(e){if(u)return e.proxyWin.setName(e.windowName)})),M=g.hash({body:l}).then((function(e){return d.method?d.method:Object.keys(e.body).length?"post":"get"})),W=g.hash({proxyWin:A,windowUrl:w,body:l,method:M,windowName:D,prerender:R}).then((function(e){return e.proxyWin.setLocation(e.windowUrl,{method:e.method,body:e.body})})),B=A.then((function(e){!function e(t,n){var r=!1;return P.register((function(){r=!0})),g.delay(2e3).then((function(){return t.isClosed()})).then((function(o){if(!r)return o?tt(new Error("Detected "+n+" close")):e(t,n)}))}(e,r)})),z=g.hash({container:I,prerender:R}).then((function(){return U.trigger(yn.DISPLAY)})),V=A.then((function(t){return function(e,t,n){return g.try((function(){return e.awaitWindow()})).then((function(e){if(nn&&nn.needsBridge({win:e,domain:t})&&!nn.hasBridge(t,t)){var r="function"==typeof d.bridgeUrl?d.bridgeUrl({props:F}):d.bridgeUrl;if(!r)throw new Error("Bridge needed to render "+n);var o=q(r);return nn.linkUrl(e,t),nn.openBridge(K(r),o)}}))}(t,e,r)})),$=W.then((function(){return g.try((function(){var e=F.timeout;if(e)return N.timeout(e,new Error("Loading component timed out after "+e+" milliseconds"))}))})),X=N.then((function(){return U.trigger(yn.RENDERED)}));return g.hash({initPromise:N,buildUrlPromise:w,onRenderPromise:p,getProxyContainerPromise:h,openFramePromise:O,openPrerenderFramePromise:S,renderContainerPromise:I,openPromise:A,openPrerenderPromise:x,setStatePromise:k,prerenderPromise:R,loadUrlPromise:W,buildWindowNamePromise:E,setWindowNamePromise:D,watchForClosePromise:B,onDisplayPromise:z,openBridgePromise:V,runTimeoutPromise:$,onRenderedPromise:X,delegatePromise:c,watchForUnloadPromise:s,finalSetPropsPromise:m})})).catch((function(e){return g.all([at(e),et(e)]).then((function(){throw e}),(function(){throw e}))})).then(ge)},destroy:et,getProps:function(){return F},setProps:pt,export:ut,getHelpers:lt,getDelegateOverrides:function(){return g.try((function(){return{getProxyContainer:gt,show:je,hide:xe,renderContainer:dt,getProxyWindow:Te,watchForUnload:ot,openFrame:Me,openPrerenderFrame:Fe,prerender:ft,open:rt,openPrerender:Je,setProxyWin:Ae}}))},getExports:function(){return x({getExports:function(){return ct}})}}}function Nn(e){var t=e.uid,n=e.frame,r=e.prerenderFrame,o=e.doc,i=e.props,a=e.event,c=e.dimensions,u=c.width,s=c.height;if(n&&r){var f=o.createElement("div");f.setAttribute("id",t);var d=o.createElement("style");return i.cspNonce&&d.setAttribute("nonce",i.cspNonce),d.appendChild(o.createTextNode("\n            #"+t+" {\n                display: inline-block;\n                position: relative;\n                width: "+u+";\n                height: "+s+";\n            }\n\n            #"+t+" > iframe {\n                display: inline-block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                transition: opacity .2s ease-in-out;\n            }\n\n            #"+t+" > iframe.zoid-invisible {\n                opacity: 0;\n            }\n\n            #"+t+" > iframe.zoid-visible {\n                opacity: 1;\n        }\n        ")),f.appendChild(n),f.appendChild(r),f.appendChild(d),r.classList.add("zoid-visible"),n.classList.add("zoid-invisible"),a.on(yn.RENDERED,(function(){r.classList.remove("zoid-visible"),r.classList.add("zoid-invisible"),n.classList.remove("zoid-invisible"),n.classList.add("zoid-visible"),setTimeout((function(){qe(r)}),1)})),a.on(yn.RESIZE,(function(e){var t=e.width,n=e.height;"number"==typeof t&&(f.style.width=tt(t)),"number"==typeof n&&(f.style.height=tt(n))})),f}}function kn(e){var t=e.doc,n=e.props,r=t.createElement("html"),o=t.createElement("body"),i=t.createElement("style"),a=t.createElement("div");return a.classList.add("spinner"),n.cspNonce&&i.setAttribute("nonce",n.cspNonce),r.appendChild(o),o.appendChild(a),o.appendChild(i),i.appendChild(t.createTextNode("\n            html, body {\n                width: 100%;\n                height: 100%;\n            }\n\n            .spinner {\n                position: fixed;\n                max-height: 60vmin;\n                max-width: 60vmin;\n                height: 40px;\n                width: 40px;\n                top: 50%;\n                left: 50%;\n                box-sizing: border-box;\n                border: 3px solid rgba(0, 0, 0, .2);\n                border-top-color: rgba(33, 128, 192, 0.8);\n                border-radius: 100%;\n                animation: rotation .7s infinite linear;\n            }\n\n            @keyframes rotation {\n                from {\n                    transform: translateX(-50%) translateY(-50%) rotate(0deg);\n                }\n                to {\n                    transform: translateX(-50%) translateY(-50%) rotate(359deg);\n                }\n            }\n        ")),r}var Pn=Ce(),Rn=Ce(),Dn=function(e){var t,n,r,o;rt().initialized||(rt().initialized=!0,n=(t={on:tn,send:rn}).on,r=t.send,(o=rt()).receiveMessage=o.receiveMessage||function(e){return en(e,{on:n,send:r})},function(e){var t=e.on,n=e.send;it().getOrSet("postMessageListener",(function(){return ze(window,"message",(function(e){!function(e,t){var n=t.on,r=t.send;g.try((function(){var t=e.source||e.sourceElement,o=e.origin||e.originalEvent&&e.originalEvent.origin,i=e.data;if("null"===o&&(o="file://"),t){if(!o)throw new Error("Post message did not have origin domain");en({source:t,origin:o,data:i},{on:n,send:r})}}))}(e,{on:t,send:n})}))}))}({on:tn,send:rn}),Lt({on:tn,send:rn,receiveMessage:en}),function(e){var t=e.on,n=e.send;it("builtinListeners").getOrSet("helloListener",(function(){var e=t("postrobot_hello",{domain:"*"},(function(e){return dt(e.source,{domain:e.origin}),{instanceID:ft()}})),r=W();return r&&lt(r,{send:n}).catch((function(e){})),e}))}({on:tn,send:rn}));var i=function(e){var t,n,r=function(e){var t=e.tag,n=e.url,r=e.domain,o=e.bridgeUrl,i=e.props,c=void 0===i?{}:i,u=e.dimensions,s=void 0===u?{}:u,f=e.autoResize,d=void 0===f?{}:f,l=e.allowedParentDomains,p=void 0===l?"*":l,h=e.attributes,g=void 0===h?{}:h,v=e.defaultContext,y=void 0===v?vn.IFRAME:v,m=e.containerTemplate,w=void 0===m?Nn:m,b=e.prerenderTemplate,_=void 0===b?kn:b,E=e.validate,O=e.eligible,S=void 0===O?function(){return{eligible:!0}}:O,I=e.logger,C=void 0===I?{info:ge}:I,A=e.exports,j=void 0===A?ge:A,x=e.method,N=e.children,k=void 0===N?function(){return{}}:N,P=t.replace(/-/g,"_"),R=a({},{window:{type:hn.OBJECT,sendToChild:!1,required:!1,allowDelegate:!0,validate:function(e){var t=e.value;if(!Y(t)&&!Ft.isProxyWindow(t))throw new Error("Expected Window or ProxyWindow");if(Y(t)){if(L(t))throw new Error("Window is closed");if(!T(t))throw new Error("Window is not same domain")}},decorate:function(e){return on(e.value)}},timeout:{type:hn.NUMBER,required:!1,sendToChild:!1},cspNonce:{type:hn.STRING,required:!1},onDisplay:{type:hn.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Cn,decorate:Tn},onRendered:{type:hn.FUNCTION,required:!1,sendToChild:!1,default:Cn,decorate:Tn},onRender:{type:hn.FUNCTION,required:!1,sendToChild:!1,default:Cn,decorate:Tn},onClose:{type:hn.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Cn,decorate:Tn},onDestroy:{type:hn.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Cn,decorate:Tn},onResize:{type:hn.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Cn},onFocus:{type:hn.FUNCTION,required:!1,sendToChild:!1,allowDelegate:!0,default:Cn},close:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.close}},focus:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.focus}},resize:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.resize}},uid:{type:hn.STRING,required:!1,sendToChild:!1,childDecorate:function(e){return e.uid}},tag:{type:hn.STRING,required:!1,sendToChild:!1,childDecorate:function(e){return e.tag}},getParent:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParent}},getParentDomain:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParentDomain}},show:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.show}},hide:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.hide}},export:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.export}},onError:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.onError}},onProps:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.onProps}},getSiblings:{type:hn.FUNCTION,required:!1,sendToChild:!1,childDecorate:function(e){return e.getSiblings}}},c);if(!w)throw new Error("Container template required");return{name:P,tag:t,url:n,domain:r,bridgeUrl:o,method:x,propsDef:R,dimensions:s,autoResize:d,allowedParentDomains:p,attributes:g,defaultContext:y,containerTemplate:w,prerenderTemplate:_,validate:E,logger:C,eligible:S,children:k,exports:"function"==typeof j?j:function(e){for(var t=e.getExports,n={},r=function(e,r){var o=r[e],i=j[o].type,a=t().then((function(e){return e[o]}));n[o]=i===hn.FUNCTION?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.then((function(e){return e.apply(void 0,t)}))}:a},o=0,i=Object.keys(j);o<i.length;o++)r(o,i);return n}}}(e),o=r.name,i=r.tag,c=r.defaultContext,u=r.eligible,s=r.children,f=cn(window),d=[],l=function(){if(function(e){try{return wn(window.name).name===e}catch(e){}return!1}(o)){var e=_n().payload;if(e.tag===i&&G(e.childDomainMatch,C()))return!0}return!1},p=pe((function(){if(l()){if(window.xprops)throw delete f.components[i],new Error("Can not register "+o+" as child - child already registered");var e=function(e){var t,n=e.tag,r=e.propsDef,o=e.autoResize,i=e.allowedParentDomains,a=[],c=_n(),u=c.parent,s=c.payload,f=u.win,d=u.domain,l=new g,p=s.version,h=s.uid,v=s.exports,y=s.context,m=s.props;if("9_0_88"!==p)throw new Error("Parent window has zoid version "+p+", child window has version 9_0_88");var w=v.show,b=v.hide,_=v.close,E=v.onError,O=v.checkClose,S=v.export,I=v.resize,j=v.init,x=function(){return f},N=function(){return d},k=function(e){return a.push(e),{cancel:function(){a.splice(a.indexOf(e),1)}}},R=function(e){return I.fireAndForget({width:e.width,height:e.height})},D=function(e){return l.resolve(e),S(e)},L=function(e){var r=(void 0===e?{}:e).anyParent,o=[],i=t.parent;if(void 0===r&&(r=!i),!r&&!i)throw new Error("No parent found for "+n+" child");for(var a=0,c=P(window);a<c.length;a++){var u=c[a];if(T(u)){var s=A(u).xprops;if(s&&x()===s.getParent()){var f=s.parent;if(r||!i||f&&f.uid===i.uid){var d=un(u,(function(e){return e.exports}));o.push({props:s,exports:d})}}}}return o},M=function(e,o,i){void 0===i&&(i=!1);var c=function(e,t,n,r,o,i){void 0===i&&(i=!1);for(var a={},c=0,u=Object.keys(n);c<u.length;c++){var s=u[c],f=t[s];if(!f||!f.sameDomain||r===C(window)&&T(e)){var d=On(t,0,s,n[s],o);a[s]=d,f&&f.alias&&!a[f.alias]&&(a[f.alias]=d)}}if(!i)for(var l=0,p=Object.keys(t);l<p.length;l++){var h=p[l];n.hasOwnProperty(h)||(a[h]=On(t,0,h,void 0,o))}return a}(f,r,e,o,{tag:n,show:w,hide:b,close:_,focus:Sn,onError:E,resize:R,getSiblings:L,onProps:k,getParent:x,getParentDomain:N,uid:h,export:D},i);t?we(t,c):t=c;for(var u=0;u<a.length;u++)(0,a[u])(t)},U=function(e){return g.try((function(){return M(e,d,!0)}))};return{init:function(){return g.try((function(){return T(f)&&function(e){var t=e.componentName,n=e.parentComponentWindow,r=pn({data:wn(window.name).serializedInitialPayload,sender:{win:n},basic:!0}),o=r.sender;if("uid"===r.reference.type||"global"===r.metaData.windowRef.type){var i=ln({data:r.data,metaData:{windowRef:En(n)},sender:{domain:o.domain},receiver:{win:window,domain:C()},basic:!0});window.name=mn({name:t,serializedPayload:i.serializedData})}}({componentName:e.name,parentComponentWindow:f}),cn(window).exports=e.exports({getExports:function(){return l}}),function(e,t){if(!G(e,t))throw new Error("Can not be rendered by domain: "+t)}(i,d),gt(f),window.addEventListener("beforeunload",(function(){O.fireAndForget()})),window.addEventListener("unload",(function(){O.fireAndForget()})),V(f,(function(){In()})),j({updateProps:U,close:In})})).then((function(){return(e=o.width,t=void 0!==e&&e,n=o.height,r=void 0!==n&&n,i=o.element,Le(void 0===i?"body":i).catch(ge).then((function(e){return{width:t,height:r,element:e}}))).then((function(e){var t=e.width,n=e.height,r=e.element;r&&(t||n)&&y!==vn.POPUP&&Ye(r,(function(e){R({width:t?e.width:void 0,height:n?e.height:void 0})}),{width:t,height:n})}));var e,t,n,r,i})).catch((function(e){E(e)}))},getProps:function(){return t||(M(m,d),t)}}}(r);return e.init(),e}}));if(p(),t=tn("zoid_allow_delegate_"+o,(function(){return!0})),n=tn("zoid_delegate_"+o,(function(e){var t=e.data;return{parent:xn({uid:t.uid,options:r,overrides:t.overrides,parentWin:e.source})}})),Rn.register(t.cancel),Rn.register(n.cancel),f.components=f.components||{},f.components[i])throw new Error("Can not register multiple components with the same tag: "+i);return f.components[i]=!0,{init:function e(t){var n,f="zoid-"+i+"-"+ue(),l=t||{},p=u({props:l}),h=p.eligible,v=p.reason,y=l.onDestroy;l.onDestroy=function(){if(n&&h&&d.splice(d.indexOf(n),1),y)return y.apply(void 0,arguments)};var m=xn({uid:f,options:r});m.init(),h?m.setProps(l):l.onDestroy&&l.onDestroy(),Pn.register((function(e){return m.destroy(e||new Error("zoid destroyed all components"))}));var w=function(t){var n=(void 0===t?{}:t).decorate;return e((void 0===n?be:n)(l))},b=function(e,t,r){return g.try((function(){if(!h){var t=new Error(v||o+" component is not eligible");return m.destroy(t).then((function(){throw t}))}if(!Y(e))throw new Error("Must pass window to renderTo");return function(e,t){return g.try((function(){if(e.window)return on(e.window).getType();if(t){if(t!==vn.IFRAME&&t!==vn.POPUP)throw new Error("Unrecognized context: "+t);return t}return c}))}(l,r)})).then((function(o){if(t=function(e,t){if(t){if("string"!=typeof t&&!oe(t))throw new TypeError("Expected string or element selector to be passed");return t}if(e===vn.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(o,t),e!==window&&"string"!=typeof t)throw new Error("Must pass string element when rendering to another window");return m.render({target:e,container:t,context:o,rerender:function(){var o=w();return we(n,o),o.renderTo(e,t,r)}})})).catch((function(e){return m.destroy(e).then((function(){throw e}))}))};return n=a({},m.getExports(),m.getHelpers(),function(){for(var e=s(),t={},n=function(n,r){var o=r[n],i=e[o];t[o]=function(e){var t=m.getProps(),n=a({},e,{parent:{uid:f,props:t,export:m.export}});return i(n)}},r=0,o=Object.keys(e);r<o.length;r++)n(r,o);return t}(),{isEligible:function(){return h},clone:w,render:function(e,t){return b(window,e,t)},renderTo:function(e,t,n){return b(e,t,n)}}),h&&d.push(n),n},instances:d,driver:function(e,t){throw new Error("Driver support not enabled")},isChild:l,canRenderTo:function(e){return rn(e,"zoid_allow_delegate_"+o).then((function(e){return e.data})).catch((function(){return!1}))},registerChild:p}}(e),c=function(e){return i.init(e)};c.driver=function(e,t){return i.driver(e,t)},c.isChild=function(){return i.isChild()},c.canRenderTo=function(e){return i.canRenderTo(e)},c.instances=i.instances;var u=i.registerChild();return u&&(window.xprops=c.xprops=u.getProps()),c};function Ln(e){nn&&nn.destroyBridges();var t=Pn.all(e);return Pn=Ce(),t}var Mn=Ln;function Un(e){var t;return Mn(),delete window.__zoid_9_0_88__,function(){for(var e=it("responseListeners"),t=0,n=e.keys();t<n.length;t++){var r=n[t],o=e.get(r);o&&(o.cancelled=!0),e.del(r)}}(),(t=it().get("postMessageListener"))&&t.cancel(),delete window.__post_robot_11_0_0__,Rn.all(e)}}])}).call(this,n(264).Buffer)},function(e,t,n){"use strict";var r=n(50),o=n(265),i=n(376),a=n(271);function c(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=c(n(268));u.Axios=i,u.create=function(e){return c(a(u.defaults,e))},u.Cancel=n(272),u.CancelToken=n(388),u.isCancel=n(267),u.all=function(e){return Promise.all(e)},u.spread=n(389),e.exports=u,e.exports.default=u},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(50),o=n(266),i=n(377),a=n(378),c=n(271);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(50);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(50),o=n(379),i=n(267),a=n(268),c=n(386),u=n(387);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.baseURL&&!c(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(270);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(50),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(50);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(50);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(i)&&c.push("domain="+i),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(272);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r=n(153),o=n(419),i=n(206),a=n(420),c=n(427),u=n(278),s=n(279),f=n(430),d=n(432),l=n(282),p=n(216),h=n(163),g=n(436),v=n(437),y=n(287),m=n(58),w=n(160),b=n(442),_=n(60),E=n(444),O=n(158),S=n(129),I={};I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I["[object Function]"]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,C,T,A,j){var x,N=1&n,k=2&n,P=4&n;if(C&&(x=A?C(t,T,A,j):C(t)),void 0!==x)return x;if(!_(t))return t;var R=m(t);if(R){if(x=g(t),!N)return s(t,x)}else{var D=h(t),L="[object Function]"==D||"[object GeneratorFunction]"==D;if(w(t))return u(t,N);if("[object Object]"==D||"[object Arguments]"==D||L&&!A){if(x=k||L?{}:y(t),!N)return k?d(t,c(x,t)):f(t,a(x,t))}else{if(!I[D])return A?t:{};x=v(t,D,N)}}j||(j=new r);var M=j.get(t);if(M)return M;j.set(t,x),E(t)?t.forEach((function(r){x.add(e(r,n,C,r,t,j))})):b(t)&&t.forEach((function(r,o){x.set(o,e(r,n,C,o,t,j))}));var U=R?void 0:(P?k?p:l:k?S:O)(t);return o(U||t,(function(r,o){U&&(r=t[o=r]),i(x,o,e(r,n,C,o,t,j))})),x}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(155),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(155);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(155);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(155);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(154);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(154),o=n(203),i=n(205);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(204),o=n(404),i=n(60),a=n(274),c=/^\[object .+?Constructor\]$/,u=Function.prototype,s=Object.prototype,f=u.toString,d=s.hasOwnProperty,l=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?l:c).test(a(e))}},function(e,t,n){var r=n(108),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(405),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(62)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(408),o=n(154),i=n(203);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(409),o=n(410),i=n(411),a=n(412),c=n(413);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,e.exports=u},function(e,t,n){var r=n(156);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(156),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(156),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(156);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(157);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(157);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(157);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(157);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(109),o=n(158);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(107),o=n(67);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(107),o=n(209),i=n(67),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(212),o=n(426),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(277)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(109),o=n(129);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(60),o=n(212),i=n(429),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&a.call(e,c))&&n.push(c);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(109),o=n(213);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(109),o=n(281);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(93)(n(62),"DataView");e.exports=r},function(e,t,n){var r=n(93)(n(62),"Promise");e.exports=r},function(e,t,n){var r=n(93)(n(62),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(217),o=n(438),i=n(439),a=n(440),c=n(286);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return i(e);case"[object Set]":return new u;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(217);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(108),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(60),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(443),o=n(210),i=n(211),a=i&&i.isMap,c=a?o(a):r;e.exports=c},function(e,t,n){var r=n(163),o=n(67);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(445),o=n(210),i=n(211),a=i&&i.isSet,c=a?o(a):r;e.exports=c},function(e,t,n){var r=n(163),o=n(67);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(110),o=n(288),i=n(452),a=n(111);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[a(o(t))]}},function(e,t,n){var r=n(448),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(449);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(205);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(451);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(108),o=n(202),i=n(58),a=n(199),c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(164),o=n(453);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(289);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(291);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(108),o=n(159),i=n(58),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(459),o=n(275),i=n(219),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(153),o=n(294),i=n(465),a=n(467),c=n(163),u=n(58),s=n(160),f=n(208),d="[object Object]",l=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,g){var v=u(e),y=u(t),m=v?"[object Array]":c(e),w=y?"[object Array]":c(t),b=(m="[object Arguments]"==m?d:m)==d,_=(w="[object Arguments]"==w?d:w)==d,E=m==w;if(E&&s(e)){if(!s(t))return!1;v=!0,b=!1}if(E&&!b)return g||(g=new r),v||f(e)?o(e,t,n,p,h,g):i(e,t,m,n,p,h,g);if(!(1&n)){var O=b&&l.call(e,"__wrapped__"),S=_&&l.call(t,"__wrapped__");if(O||S){var I=O?e.value():e,C=S?t.value():t;return g||(g=new r),h(I,C,n,p,g)}}return!!E&&(g||(g=new r),a(e,t,n,p,h,g))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(108),o=n(285),i=n(128),a=n(294),c=n(466),u=n(221),s=r?r.prototype:void 0,f=s?s.valueOf:void 0;e.exports=function(e,t,n,r,s,d,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=c;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var g=l.get(e);if(g)return g==t;r|=2,l.set(e,t);var v=a(p(e),p(t),r,s,d,l);return l.delete(e),v;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(282),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,c){var u=1&n,s=r(e),f=s.length;if(f!=r(t).length&&!u)return!1;for(var d=f;d--;){var l=s[d];if(!(u?l in t:o.call(t,l)))return!1}var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var g=!0;c.set(e,t),c.set(t,e);for(var v=u;++d<f;){var y=e[l=s[d]],m=t[l];if(i)var w=u?i(m,y,l,t,e,c):i(y,m,l,e,t,c);if(!(void 0===w?y===m||a(y,m,n,i,c):w)){g=!1;break}v||(v="constructor"==l)}if(g&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(g=!1)}return c.delete(e),c.delete(t),g}},function(e,t,n){var r=n(153),o=n(297),i=n(469),a=n(471),c=n(60),u=n(129),s=n(299);e.exports=function e(t,n,f,d,l){t!==n&&i(n,(function(i,u){if(l||(l=new r),c(i))a(t,n,u,f,e,d,l);else{var p=d?d(s(t,u),i,u+"",t,n,l):void 0;void 0===p&&(p=i),o(t,u,p)}}),u)}},function(e,t,n){var r=n(470)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t,n){var r=n(297),o=n(278),i=n(286),a=n(279),c=n(287),u=n(159),s=n(58),f=n(298),d=n(160),l=n(204),p=n(60),h=n(289),g=n(208),v=n(299),y=n(472);e.exports=function(e,t,n,m,w,b,_){var E=v(e,n),O=v(t,n),S=_.get(O);if(S)r(e,n,S);else{var I=b?b(E,O,n+"",e,t,_):void 0,C=void 0===I;if(C){var T=s(O),A=!T&&d(O),j=!T&&!A&&g(O);I=O,T||A||j?s(E)?I=E:f(E)?I=a(E):A?(C=!1,I=o(O,!0)):j?(C=!1,I=i(O,!0)):I=[]:h(O)||u(O)?(I=E,u(E)?I=y(E):p(E)&&!l(E)||(I=c(O))):C=!1}C&&(_.set(O,I),w(I,O,m,b,_),_.delete(O)),r(e,n,I)}}},function(e,t,n){var r=n(109),o=n(129);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(300),o=n(474);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(n[0],n[1],c)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t}))}},function(e,t,n){var r=n(128),o=n(162),i=n(161),a=n(60);e.exports=function(e,t,n){if(!a(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&i(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(366),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,c=60110,u=60112;t.Suspense=60113;var s=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),c=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),s=d("react.memo"),f=d("react.lazy")}var l="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=m.prototype=new y;w.constructor=m,r(w,v.prototype),w.isPureReactComponent=!0;var b={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var s=Array(u),f=0;f<u;f++)s[f]=arguments[f+2];i.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:c,props:i,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var u=!1;if(null===e)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case i:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var s=0;s<e.length;s++){var f=r+C(c=e[s],s);u+=T(c,t,n,f,a)}else if("function"==typeof(f=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=l&&e[l]||e["@@iterator"])?e:null}(e)))for(e=f.call(e),s=0;!(c=e.next()).done;)u+=T(c=c.value,t,n,f=r+C(c,s++),a);else if("object"===c)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function j(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function N(){var e=x.current;if(null===e)throw Error(p(321));return e}var k={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var i=r({},e.props),a=e.key,c=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(f in t)_.call(t,f)&&!E.hasOwnProperty(f)&&(i[f]=void 0===t[f]&&void 0!==s?s[f]:t[f])}var f=arguments.length-2;if(1===f)i.children=n;else if(1<f){s=Array(f);for(var d=0;d<f;d++)s[d]=arguments[d+2];i.children=s}return{$$typeof:o,type:e.type,key:a,ref:c,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:c,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(477));var u=/(\{[\d|\w]+\})/,s=/(\$ref\{[\w|.]+\})/,f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._languageListeners=[],"function"==typeof n&&(n={customLanguageInterface:n}),this._opts=i({},{customLanguageInterface:c.getInterfaceLanguage,pseudo:!1,pseudoMultipleLanguages:!1,logsEnabled:!0},n),this._interfaceLanguage=this._opts.customLanguageInterface(),this._language=this._interfaceLanguage,this.setContent(t)}return a(e,[{key:"setContent",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Object.keys(e),i=o(r,1),a=i[0];this._defaultLanguage=a,this._defaultLanguageFirstLevelKeys=[],this._props=e,c.validateTranslationKeys(Object.keys(e[this._defaultLanguage])),Object.keys(this._props[this._defaultLanguage]).forEach((function(e){"string"==typeof t._props[t._defaultLanguage][e]&&t._defaultLanguageFirstLevelKeys.push(e)})),n&&this.setLanguage(this._interfaceLanguage),this._opts.pseudo&&this._pseudoAllValues(this._props)}},{key:"_pseudoAllValues",value:function(e){var t=this;Object.keys(e).forEach((function(n){if("object"===r(e[n]))t._pseudoAllValues(e[n]);else if("string"==typeof e[n]){if(0===e[n].indexOf("[")&&e[n].lastIndexOf("]")===e[n].length-1)return;for(var o=e[n].split(" "),i=0;i<o.length;i+=1)if(o[i].match(u));else if(o[i].match(s));else{var a=o[i].length;t._opts.pseudoMultipleLanguages&&(a=parseInt(1.4*a,10)),o[i]=c.randomPseudo(a)}e[n]="["+o.join(" ")+"]"}}))}},{key:"setLanguage",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c.getBestMatchingLanguage(e,this._props,n?this._opts.loadLanguage:null),o=Object.keys(this._props)[0];if(this._language=r,this._props[r]){for(var a=0;a<this._defaultLanguageFirstLevelKeys.length;a+=1)delete this[this._defaultLanguageFirstLevelKeys[a]];var u=i({},this._props[this._language]);Object.keys(u).forEach((function(e){t[e]=u[e]})),o!==this._language&&(u=this._props[o],this._fallbackValues(u,this))}this._runLanguageListeners(r)}},{key:"_fallbackValues",value:function(e,t){var n=this;Object.keys(e).forEach((function(r){Object.prototype.hasOwnProperty.call(e,r)&&!t[r]&&""!==t[r]?(t[r]=e[r],n._opts.logsEnabled&&console.log("  key '"+r+"' not found in localizedStrings for language "+n._language+" ")):"string"!=typeof t[r]&&n._fallbackValues(e[r],t[r])}))}},{key:"getLanguage",value:function(){return this._language}},{key:"getInterfaceLanguage",value:function(){return this._interfaceLanguage}},{key:"getAvailableLanguages",value:function(){var e=this;return this._availableLanguages||(this._availableLanguages=[],Object.keys(this._props).forEach((function(t){e._availableLanguages.push(t)}))),this._availableLanguages}},{key:"formatString",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e||"";"string"==typeof i&&(i=this.getString(e,null,!0)||i);var a=i.split(s).filter((function(e){return!!e})).map((function(n){if(n.match(s)){var r=n.slice(5,-1),o=t.getString(r);return o||(t._opts.logsEnabled&&console.log("No Localization ref found for '"+n+"' in string '"+e+"'"),"$ref(id:"+r+")")}return n})).join("");return a.split(u).filter((function(e){return!!e})).map((function(e){if(e.match(u)){var t=e.slice(1,-1),n=r[t];if(void 0===n){var o=r[0][t];if(void 0===o)return n;n=o}return n}return e})).join("")}},{key:"getString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var r=this._props[t||this._language],o=e.split("."),i=0;i<o.length;i+=1){if(void 0===r[o[i]])throw Error(o[i]);r=r[o[i]]}return r}catch(r){!n&&this._opts.logsEnabled&&console.log("No localization found for key '"+e+"' and language '"+t+"', failed on "+r.message)}return null}},{key:"getContent",value:function(){return this._props}},{key:"_runLanguageListeners",value:function(e){this._languageListeners.forEach((function(t){try{t(e)}catch(e){}}))}},{key:"addLanguageChangeListener",value:function(e){this._languageListeners.push(e)}},{key:"removeLanguageChangeListener",value:function(e){var t=this._languageListeners.filter((function(t){return t!==e}));t.length!==this._languageListeners.length?this._languageListeners=t:console.log("Language listener does not exist")}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterfaceLanguage=function(){if("undefined"==typeof navigator)return"en-US";var e=navigator;if(e){if(e.language)return e.language;if(e.languages&&e.languages[0])return e.languages[0];if(e.userLanguage)return e.userLanguage;if(e.browserLanguage)return e.browserLanguage}return"en-US"},t.getBestMatchingLanguage=function(e,t,n){"function"==typeof n&&n(e);if(t[e])return e;var r=e.indexOf("-"),o=r>=0?e.substring(0,r):e,i=t[o]?o:Object.keys(t)[0];"function"==typeof n&&n(o);return i},t.validateTranslationKeys=function(e){var t=["_interfaceLanguage","_language","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props"];e.forEach((function(e){if(-1!==t.indexOf(e))throw new Error(e+" cannot be used as a key. It is a reserved word.")}))},t.randomPseudo=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r+=1)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},function(e,t){var n=document.querySelector("body");n&&n.addEventListener("touchstart",(function(){}))},function(e,t,n){(function(r){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=Object({NODE_ENV:"production",ZOID_FRAME_ONLY:!0,PRIMUS_PATH:"https://widget.imbox.io"}).DEBUG),e}(t=e.exports=n(480)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(126))},function(e,t,n){var r;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),c=0;c<a.length;c++)a[c]=arguments[c];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var o=t.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(e,i),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var s=n.log||t.log||console.log.bind(console);s.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(481),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(c=e,i,"day")||a(c,o,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(302),o=n(303);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},function(e,t,n){var r=n(206),o=n(110),i=n(161),a=n(60),c=n(111);e.exports=function(e,t,n,u){if(!a(e))return e;for(var s=-1,f=(t=o(t,e)).length,d=f-1,l=e;null!=l&&++s<f;){var p=c(t[s]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(s!=d){var g=l[p];void 0===(h=u?u(g,p,l):void 0)&&(h=a(g)?g:i(t[s+1])?[]:{})}r(l,p,h),l=l[p]}return e}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(110),o=n(159),i=n(58),a=n(161),c=n(209),u=n(111);e.exports=function(e,t,n){for(var s=-1,f=(t=r(t,e)).length,d=!1;++s<f;){var l=u(t[s]);if(!(d=null!=e&&n(e,l)))break;e=e[l]}return d||++s!=f?d:!!(f=null==e?0:e.length)&&c(f)&&a(l,f)&&(i(e)||o(e))}},function(e,t,n){var r=n(487),o=n(488),i=n(305);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(153),o=n(220);e.exports=function(e,t,n,i){var a=n.length,c=a,u=!i;if(null==e)return!c;for(e=Object(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<c;){var f=(s=n[a])[0],d=e[f],l=s[1];if(u&&s[2]){if(void 0===d&&!(f in e))return!1}else{var p=new r;if(i)var h=i(d,l,f,e,t,p);if(!(void 0===h?o(l,d,3,i,p):h))return!1}}return!0}},function(e,t,n){var r=n(304),o=n(158);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(220),o=n(490),i=n(303),a=n(218),c=n(304),u=n(305),s=n(111);e.exports=function(e,t){return a(e)&&c(t)?u(s(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(164);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(492),o=n(493),i=n(218),a=n(111);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(164);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(202),o=n(165),i=n(302),a=n(216);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=o(t),i(e,n,(function(e,n){return t(e,n[0])}))}},function(e,t,n){var r=n(497);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(498),o=n(499),i=n(500);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(284),o=n(503),i=n(221),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(358),o=n(3);r.create({tag:"imbox-widget",url:function(e){switch(e.props.env){case"local":return"http://localhost:8060/index.".concat(o.f,".html");case"qa":return"".concat(location.protocol,"//").concat(location.host,"/widget/index.").concat(o.f,".html");case"dev":return"https://dev-widget.imbox.io/index.".concat(o.f,".html");default:return"https://widget.imbox.io/index.".concat(o.f,".html")}},defaultEnv:o.b});var i=n(32),a=n(76),c=n(197),u=n(122),s=n(36),f=n(2),d=n(21);function l(){return n.e(25).then(n.bind(null,861)).then((function(e){return e}))}var p=n(55);n(367),n(504);var h,g,v,y=Object(u.a)(),m=(v=function(e){d.a.dispatch(Object(p.a)())},{showLoadingState:function(){h||d.a.getState().notification.isOpen||(h=setTimeout((function(){document.getElementById("spinner-root").setAttribute("class",""),g=function(){var e=document.getElementById("widget-loading-close-button");return e.addEventListener("click",v),e.setAttribute("class",""),document.getElementById("root").appendChild(e),e}()}),150))},removeLoadingState:function(){clearTimeout(h),h=void 0,g&&g.removeEventListener("click",v)}}),w=!1;y.manualTrigger||Object(f.b)("waitUntilConnected","launcher",o.d).then((function(){var e=new s.a;return d.a.dispatch(Object(a.a)(e,"initial",{showLauncher:d.a.getState().widget.showLauncherOnTrigger}))})).catch((function(e){console.log("Cannot initialize widget",e)}));var b,_,E,O,S,I=(_=!1,E=function(){b&&(Object(f.a)("deregisterWidgetCallHandler",b),b=0)},Object(f.b)("registerWidgetCallHandler",(function(e){"onMouseenterLauncher"!==e||_||(_=!0,E(),C().catch((function(){})))})).then((function(e){b=e})).catch((function(e){console.warn("warn could not registerWidgetCallHandler ",e)})),{deregisterWidgetCallHandler:E}).deregisterWidgetCallHandler;function C(){var e,t,n,r,o;return I(),m.showLoadingState(),r=document.getElementById("root"),o=null!==(n=null===(t=null===(e=d.a.getState())||void 0===e?void 0:e.notification)||void 0===t?void 0:t.isOpen)&&void 0!==n&&n,c.a.setRef(r,o?"notification":"widget",!0),c.a.dimensionsUpdated(0,-.4,(function(){})),new Promise((function(e){l().then((function(t){var n=t.preloadHubItems;m.removeLoadingState(),e(n())})).catch((function(t){if(w)return e(!0);(function e(t,n){return void 0===n&&(n=0),8===n?(n=0,w=!1,Promise.reject(new Error("re fetched to many times"))):(w=!0,new Promise((function(r){setTimeout((function(){l().then((function(e){var n=e.preloadHubItems;t.removeLoadingState(),r(n())})).catch((function(){r(e(t,n+1))}))}),1e3)})))})(m).then(e).catch((function(){console.warn("could not load widget components",t),d.a.dispatch(close()),d.a.dispatch(Object(i.a)()),d.a.dispatch({type:"CLOSE"})}))}))}))}Object(f.b)("registerWidgetRPCHandler","widget",(function(e,t,n){"setOpenedState"===e?(t[0]?(d.a.dispatch({type:"OPEN_WIDGET",reason:t[1]}),C().catch((function(){}))):(d.a.dispatch({type:"CLOSE",origin:t[1]}),C().catch((function(){}))),n()):"open"===e?(d.a.dispatch({type:"OPEN_WIDGET"}),C().catch((function(){})),n()):"close"===e?(d.a.dispatch({type:"CLOSE"}),C().catch((function(){})),n()):"setScreenReaderMode"===e?(document.body.classList.remove("no-focus-outline"),n()):n()})).catch(console.error),O=function(){document.body.classList.remove("no-focus-outline")},S=function(e){9===e.keyCode&&(O&&O(),window.removeEventListener("keydown",S))},window.addEventListener("keydown",S)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(11),o=n(147),i={nowSeconds:function(){return Date.now()/1e3}};var a=Object(o.b)()?function(){try{return Object(o.a)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=Object(r.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),c=void 0===a?i:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=i.nowSeconds.bind(i);c.nowSeconds.bind(c),function(){var e=Object(r.e)().performance;if(e)e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()}).call(this,n(201)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(66),i=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,a=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=i.exec(e);if(!t)throw new o.a("Invalid Dsn");var n=Object(r.c)(t.slice(1),6),a=n[0],c=n[1],u=n[2],s=void 0===u?"":u,f=n[3],d=n[4],l=void 0===d?"":d,p="",h=n[5],g=h.split("/");if(g.length>1&&(p=g.slice(0,-1).join("/"),h=g.pop()),h){var v=h.match(/^\d+/);v&&(h=v[0])}this._fromComponents({host:f,pass:s,path:p,projectId:h,port:l,protocol:a,user:c})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new o.a("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new o.a("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new o.a("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new o.a("Invalid Dsn: Invalid port "+this.port)},e}()},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(r||(r={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(r||(r={}))},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={}))}]);
//# sourceMappingURL=client.bundle.60838819e9c9479db907.js.map
</script>

</body>
</html>
