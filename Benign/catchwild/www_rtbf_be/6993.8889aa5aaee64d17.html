<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6993.8889aa5aaee64d17.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6993],{66993:function(e,t,n){n.r(t),n.d(t,{Token:function(){return c}});var a=n(50154),i=n(2784),s=n(29813),o=n(91604),r=n(60982),c=i.memo(function(){var e=(0,a.Dv)(r.appRootAtom).isWebview,t=(0,a.Dv)(s.gigyaInstanceAtom),n=(0,a.Dv)(s.authenticationAtom),c=n.user,g=n.isAuthenticated,u=(0,o.v)(),l=u.getGigyaToken,y=u.getFreshGigyaUser;return(0,i.useEffect)(function(){if(t||e){var n=function(e){if(!(!e.origin||!e.origin.includes("rtbf.be")&&!e.origin.includes("auvio")||"string"==typeof e.data&&(e.data.includes("_xx_")||e.data.includes("cbdata")))){var t=e.data;try{var n,a,i="object"==typeof t?t:JSON.parse(t);if("externalPlayerVideoMessage"!==i.type)return;"getGigyaToken"===i.action?l().then(function(t){var n;i.token=t,i.action="gigyaTokenSuccess",i.type="externalPlayerVideoMessage",null===(n=e.source)||void 0===n||n.postMessage(JSON.stringify(i),"*")}).catch(function(){var t;i.action="gigyaTokenFailNotConnected",i.type="externalPlayerVideoMessage",null===(t=e.source)||void 0===t||t.postMessage(JSON.stringify(i),"*")}):"getGigyaUser"===i.action?(i.user=c,i.type="externalPlayerVideoMessage",i.action=g?"gigyaUserSuccess":"gigyaUserFailNotConnected",null===(n=e.source)||void 0===n||n.postMessage(JSON.stringify(i),"*")):"getFreshGigyaUser"===i.action&&(g?y().then(function(t){var n;i.user=t,i.action="gigyaUserSuccess",i.type="externalPlayerVideoMessage",null===(n=e.source)||void 0===n||n.postMessage(JSON.stringify(i),"*")}).catch(function(){var t;i.action="gigyaUserFailNotConnected",i.type="externalPlayerVideoMessage",null===(t=e.source)||void 0===t||t.postMessage(JSON.stringify(i),"*")}):(i.user=c,i.action="gigyaUserFailNotConnected",i.type="externalPlayerVideoMessage",null===(a=e.source)||void 0===a||a.postMessage(JSON.stringify(i),"*")))}catch(e){}}};return window.addEventListener("message",n,!1),function(){window.removeEventListener("message",n)}}},[t,c,g,e]),null})}}]);
</script>

</body>
</html>
