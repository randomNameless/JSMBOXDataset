<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cdtrk.html</title>
</head>
<body>

<script>
!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=1)}([function(t,e,o){"use strict";var n=Object.prototype.hasOwnProperty,s="~";function i(){}function r(t,e,o){this.fn=t,this.context=e,this.once=o||!1}function c(t,e,o,n,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,n||t,i),a=s?s+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],c]:t._events[a].push(c):(t._events[a]=c,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),l.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},l.prototype.listeners=function(t){var e=s?s+t:t,o=this._events[e];if(!o)return[];if(o.fn)return[o.fn];for(var n=0,i=o.length,r=new Array(i);n<i;n++)r[n]=o[n].fn;return r},l.prototype.listenerCount=function(t){var e=s?s+t:t,o=this._events[e];return o?o.fn?1:o.length:0},l.prototype.emit=function(t,e,o,n,i,r){var c=s?s+t:t;if(!this._events[c])return!1;var a,l,u=this._events[c],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,o),!0;case 4:return u.fn.call(u.context,e,o,n),!0;case 5:return u.fn.call(u.context,e,o,n,i),!0;case 6:return u.fn.call(u.context,e,o,n,i,r),!0}for(l=1,a=new Array(h-1);l<h;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var d,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,o);break;case 4:u[l].fn.call(u[l].context,e,o,n);break;default:if(!a)for(d=1,a=new Array(h-1);d<h;d++)a[d-1]=arguments[d];u[l].fn.apply(u[l].context,a)}}return!0},l.prototype.on=function(t,e,o){return c(this,t,e,o,!1)},l.prototype.once=function(t,e,o){return c(this,t,e,o,!0)},l.prototype.removeListener=function(t,e,o,n){var i=s?s+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var r=this._events[i];if(r.fn)r.fn!==e||n&&!r.once||o&&r.context!==o||a(this,i);else{for(var c=0,l=[],u=r.length;c<u;c++)(r[c].fn!==e||n&&!r[c].once||o&&r[c].context!==o)&&l.push(r[c]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&a(this,e)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l},function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return v}));var n=o(0),s=o.n(n);class i{}const r=new i;class c extends s.a{constructor(){super()}on(t,e,o,n){t&&("_"===t.charAt(0)?n instanceof i&&super.on(t,e,o):super.on(t,e,o))}emit(t,...e){super.emit.apply(this,[t,t,...e])}}const a=window.rCycle||"18.0.0";function l(t){return new Promise((function(e,o){t(e,o)}))}function u(){}function h(t,e){return d(t)&&d(e)&&Object.keys(e).forEach(o=>{t[o]?d(t[o])&&d(e[o])?h(t[o],e[o]):Object.assign(t,{[o]:e[o]}):Object.assign(t,{[o]:e[o]})}),t}function d(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}function p(){const t=location.host.split(":")[0].split(".").reverse().slice(0,2).reverse().join(".");return"localhost"===t?t:"."+t}class g{constructor(t,...e){this.cdp=t,this.onEvent=this.onEvent.bind(this),this.handleEvents=e,this.registerEvents()}emit(t,...e){this.cdp.emit.apply(this.cdp,[t,...e])}checkEligibility(){return Array.isArray(this.handleEvents)&&this.handleEvents.length}registerEvents(){this.checkEligibility()&&this.handleEvents.forEach((function(t){t&&"string"==typeof t&&(this.isPrivateEvent(t)?this.cdp.on(t,this.onEvent,this.cdp,r):this.cdp.on(t,this.onEvent,this.cdp))}),this)}isPrivateEvent(t){return"_"===t.charAt(0)}unregisterListeners(){this.checkEligibility()&&this.handleEvents.forEach((function(t){t&&"string"==typeof t&&this.cdp.off(t,this.onEvent,this.cdp)}),this)}onEvent(t,...e){let o=function(t){const e=this;let o=t.replace([e.isPrivateEvent(t)?"_cdp":"cdp"],"on");return"function"!=typeof e[o]?u:e[o]};try{o.call(this,t).apply(this,e)}catch(t){this.constructor.name}}}const f={INIT:"cdpInit",UUID_SUCCESS:"cdpUUIDReady",UUID_ERROR:"cdpUUIDError",SSO_SUCCESS:"cdpSSOSuccess",SSO_ERROR:"cdpSSOError",PPID_EXISTS:"cdpPPIDExists"};class m extends g{constructor(t,e){super(t);this.store=e}set(t,e){try{const o=this;let n=new Date;o.store.resetExpiry?n.setTime(n.getTime()+6e5):n.setTime(n.getTime()+63072e6);let s="expires="+n.toUTCString();const i="/";let r=p();r||(r=location.hostname);document.cookie=e+"="+t+";"+s+";domain="+r+";path="+i+"; Secure; SameSite=None"}catch(t){console.log("Error in setting cookie ",t.message)}}overrideCookieId(t,e){document.cookie="tg_id="+t+";expires="+new Date(e).toUTCString()+";domain="+p()+";path=/; Secure; SameSite=Strict"}get(t){try{if(!t)return"";const e=t+"=",o=decodeURIComponent(document.cookie);if(o){const t=o.split(";");for(let o=0;o<t.length;o++){let n=t[o];for(;" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(e))return n.substring(e.length,n.length)}}return""}catch(t){console.log("Error in getting cookie key ",t.message)}return""}deleteCookie(t){try{document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; Domain="+location.host}catch(t){}}}class S extends g{constructor(t,e){super(t);this.store=e}_checkIfLocalStorageThrows(){try{return localStorage.setItem("localStorage_support_test",!0),localStorage.removeItem("localStorage_support_test"),!1}catch(t){return!0}}_isLocalStorageValid(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}_isLocalStorageUsable(){return!this.store.GDPR_MODE&&this._isLocalStorageValid()&&(!this._checkIfLocalStorageThrows()||localStorage.length>0)}set(t,e){const o=this;try{o._isLocalStorageUsable()&&localStorage.setItem(e,t)}catch(t){console.log("Error in setting local storage key ",t.message)}}get(t){const e=this;try{if(e._isLocalStorageUsable())return localStorage.getItem("tg_id")}catch(t){console.log("Error in getting local storage key ",t.message)}return""}remove(t){try{this._isLocalStorageUsable()&&localStorage.removeItem(t)}catch(t){console.log("Error in removing local storage key ",t.message)}}getCohortTimestamp(){const t=this;try{if(t._isLocalStorageUsable())return localStorage.getItem("tg_cohort_ts")}catch(t){console.log("Error in getting local storage key ",t.message)}return""}getCohortIds(){const t=this;try{if(t._isLocalStorageUsable())return localStorage.getItem("cdp_audience")}catch(t){console.log("Error in getting local storage key ",t.message)}return""}}class _ extends g{constructor(t,e){super(t,f.INIT);this.store=e,this.cookie="",this.lsValue="",this.cookieTimestamp=0,this.cookies=new m(t,e),this.localStorage=new S(t,e),this.refreshTime=0}UUIDStatusNew(){const t=this,e=t.cookies.get("tg_ppid");t.getSSOID(),e?t.emit(f.PPID_EXISTS):(t.localStorage.remove("tg_cohort_ts"),t.localStorage.remove("cdp_audience"),t.setAnonymousId())}UUIDStatus(){}getTimeStamp(t){let e=0,o="",n=t.split("-");if(6===n.length&&(s=n[5],/^\d+$/.test(s))){const t=parseInt(n[5]);t&&(e=t,o=n.slice(0,5).join("-"))}var s;return{timeStamp:e,id:o}}getExpiryTimestamp(){var t=new Date,e=new Date(t);return e.setDate(t.getDate()+730),e.getTime()}checkIfExpired(t){return!!(t&&t<=(new Date).getTime())}setAnonymousId(){const t=function(){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?o:3&o|8).toString(16)}))}(),e=this.getExpiryTimestamp();this.emit(f.UUID_SUCCESS,{id:t,timeStamp:e})}getSSOID(){const t=this.cookies.get("ssoid");this.emit(f.SSO_SUCCESS,{ssoid:t})}setAllIds(){this.cookies.deleteCookie("tg_ppid"),this.cookies.deleteCookie("tg_uuid"),this.cookies.deleteCookie("tg_id"),this.cookies.deleteCookie("tg_ssoid"),this.localStorage.remove("tg_id"),this.setAnonymousId()}getCohort(t){const e=this,o=e.localStorage.getCohortTimestamp(),n=e.localStorage.getCohortIds(),s=parseInt(o),i=function(){const t=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"});return new Date(t).getTime()}(),r=a.split("."),c=parseInt(r[0]),l=parseInt(r[1]),u=parseInt(r[2]),h=function(t,e,o){const n=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"}),s=new Date(n);return s.setHours(t,e,o,0),s.getTime()}(c,l,u),d=function(t,e,o){const n=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kolkata"}),s=new Date(n);return s.setDate(s.getDate()+1),s.setHours(t,e,o,0),s.getTime()}(c,l,u);o&&n?i>s&&(e.getAudience(t),e.refreshTime=d):(e.getAudience(t),e.refreshTime=i>h?d:h)}getAudience(t){const e=this;fetch("https://insights.sociofyme.com/cdp/get-cohort?ppid="+t,{method:"GET",headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(t=>t.json()).then(t=>{t&&t.targeting&&t.targeting.cdp_audience&&(e.localStorage.set(t.targeting.cdp_audience.join(","),"cdp_audience"),e.localStorage.set(e.refreshTime,"tg_cohort_ts"))}).catch((function(t){}))}setCookieFromThirdParty(){const{state:{thirdPartyCookies:{tg_uuid:t="",tg_ppid:e=""}}}=this.store;e&&this.cookies.deleteCookie("tg_ppid"),t&&this.cookies.deleteCookie("tg_uuid"),this.cookies.set(t,"tg_uuid"),this.cookies.set(e,"tg_ppid")}}class y extends g{constructor(t){super(t,f.INIT,f.UUID_SUCCESS,f.SSO_SUCCESS,f.PPID_EXISTS);this.cookie="",this.localStorage="",this.state={},this.prepare(),this.resetExpiry=!1,this.idHandler=new _(t,this),this.cookieHandler()}prepare(){this.state={uuid:"",ssoid:"",ppid:"",thirdPartyCookies:{tg_ppid:"",tg_uuid:""}},window._tgcdp=this.state}thirdPartyCookieApi(){const t=this;t.resetExpiry=!1;const e=t.idHandler.cookies.get("tg_ppid");(function(t,e){return l((function(o,n){fetch(`https://insights.sociofyme.com/cdp-set-cookies?cdp_ppid=${t}&cdp_uuid=${e}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>{o(t)}).catch(t=>{n(t)})}))})(e,t.state.uuid).then(o=>{o&&(h(t.state.thirdPartyCookies,o),e!==o.tg_ppid&&(t.state.uuid=o.tg_uuid,t.state.ppid=o.tg_ppid,t.idHandler.localStorage.remove("tg_cohort_ts"),t.idHandler.localStorage.remove("cdp_audience"),t.idHandler.setCookieFromThirdParty(t)),t.setCohort(t.state.ppid))}).catch(o=>{t.resetExpiry=!0,t.idHandler.cookies.set(t.state.uuid,"tg_uuid"),t.idHandler.cookies.set(e,"tg_ppid")})}cookieHandler(){this.idHandler.UUIDStatusNew()}onUUIDReady(t){h(this.state,{uuid:t.id}),this.state.ppid=t.id;const{uuid:e,ssoid:o,ppid:n}=this.state;this.hashPPID(e)}hashPPID(t){const e=this;(async function(t){if(window.crypto&&window.crypto.subtle){const e=(new Date).getTime(),o=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-256",o),s=Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("");return console.log("PPID conversion time:: ",(new Date).getTime()-e),s}})(t).then(t=>{h(e.state,{ppid:t}),e.idHandler.cookies.set(t,"tg_ppid"),e.idHandler.cookies.set(e.state.uuid,"tg_uuid"),e.thirdPartyCookieApi()}).catch(t=>{e.emit(f.UUID_ERROR)})}setCohort(t){this.idHandler.getCohort(t)}onSSOSuccess(t){const e=this,o=t.ssoid;o&&(h(e.state,{ssoid:o}),e.idHandler.cookies.set(o,"tg_ssoid"))}userIdReset(){this.idHandler.setAllIds()}onPPIDExists(){this.state.ppid=this.idHandler.cookies.get("tg_ppid"),this.state.uuid=this.idHandler.cookies.get("tg_uuid"),this.setCohort(this.state.ppid)}}class v extends c{static get Events(){let t={};return Object.keys(f).forEach(e=>{"_"!==e.charAt(0)&&(t[e]=f[e])}),t}constructor(){super();this.store=new y(this)}getName(){return"Dhananjay"}userLoggedOut(){console.log("user logged out");const t=this;t.store&&t.store.userIdReset()}}window.cdpInstance=new v,window.cdpInstance.on("cdpInit",(function(t,e,o){})),window.cdpInstance.on("cdpUUIDReady",(function(t,e,o){})),window.cdpInstance.on("cdpSSOSuccess",(function(t,e,o){}))}]);
</script>

</body>
</html>
