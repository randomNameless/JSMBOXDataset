<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlib-global.min.ACSHASHcd5e5905f01ca3abee89f380bbe9693afb288ef0137d33830d6c7eb0da2a0601.html</title>
</head>
<body>

<script>
window.AncestryGlobal = window.AncestryGlobal || {};

// set breakpoints
window.AncestryGlobal.smallMobileBreakpointTop = 479;
window.AncestryGlobal.mobileBreakpointBottom = 480;
window.AncestryGlobal.mobileBreakpointTop = 767;
window.AncestryGlobal.tabletBreakpointBottom = 768;
window.AncestryGlobal.tabletBreakpointTop = 1005;
window.AncestryGlobal.desktopBreakpointBottom = 1006;

window.AncestryGlobal.debounce = function (func, time = 100) {
    let timer;
    return function (event) {
        if (timer) clearTimeout(timer);
        timer = setTimeout(func, time, event);
    };
};

window.AncestryGlobal.getQueryVariable = function (paramName, url) {
    var query = url;
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (pair[0] == paramName) {
            return pair[1];
        }
    }
    return (false);
};

window.AncestryGlobal.manageSpacerHeight = function (spacer) {
    if (!spacer) { return; }
    let windowWidth = window.innerWidth;
    let mobileHeight = spacer.getAttribute('data-mobile-height') || 'none';
    let tabletHeight = spacer.getAttribute('data-tablet-height') || 'none';
    let desktopHeight = spacer.getAttribute('data-desktop-height') || 'none';
    if (windowWidth < AncestryGlobal.tabletBreakpointBottom) {
        spacer.style.height = mobileHeight;
    }
    else if (windowWidth < AncestryGlobal.desktopBreakpointBottom) {
        spacer.style.height = tabletHeight;
    } else {
        spacer.style.height = desktopHeight;
    }
};

window.AncestryGlobal.manageSpacerDialogHeight = function (iframeDoc) {
    let spacers = iframeDoc.querySelectorAll('.cmp-spacer');
    let spacersLength = spacers.length;
    if (spacers && spacersLength) {
        for (let i = 0; i < spacersLength; i++) {
            AncestryGlobal.manageSpacerHeight(spacers[i]);
        }
    }
};

window.AncestryGlobal.manageListMaxWidths = function (list) {
    let width = window.innerWidth;
    let itemListItems = list.querySelector('.cmp-item-list__items');
    let mobileMax = itemListItems.getAttribute('data-mobile-max-width') || 'none';
    let tabletMax = itemListItems.getAttribute('data-tablet-max-width') || 'none';
    let desktopMax = itemListItems.getAttribute('data-desktop-max-width') || 'none';
    if (width < AncestryGlobal.tabletBreakpointBottom) {
        list.style.maxWidth = mobileMax;
    }
    else if (width < AncestryGlobal.desktopBreakpointBottom) {
        list.style.maxWidth = tabletMax;
    } else {
        list.style.maxWidth = desktopMax;
    }
};

window.AncestryGlobal.manageItemListOrientation = function (list) {
    let width = window.innerWidth;
    let itemList = list.querySelector('.cmp-item-list__items');
    let itemListItemWrappers = list.querySelectorAll('.cmp-item-list__item-wrapper');
    let itemListItems = list.querySelectorAll('.cmp-item-list__item');
    let centerTextClass = '';
    if (itemListItems && itemListItems.length > 0) {
        centerTextClass = itemListItems[0].getAttribute('data-center-mobile-text');
    }
    let alignToTopClass = '';
    if (itemListItemWrappers && itemListItemWrappers.length > 0) {
        alignToTopClass = itemListItemWrappers[0].getAttribute('data-align-to-top');
    }
    let columnBreakpoint = itemList.getAttribute('data-column-breakpoint') || window.AncestryGlobal.mobileBreakpointBottom;

    if (columnBreakpoint && width <= columnBreakpoint) {
        itemList.classList.add('display-column');
        itemList.classList.remove('flex-wrap__no-wrap');
        addClassToItems(itemListItems, centerTextClass);
        addClassToItems(itemListItemWrappers, 'center-item');
        removeClassFromItems(itemListItemWrappers, alignToTopClass);
    } else {
        itemList.classList.remove('display-column');
        removeClassFromItems(itemListItems, centerTextClass);
        removeClassFromItems(itemListItemWrappers, 'center-item');
        addClassToItems(itemListItemWrappers, alignToTopClass);
        if (columnBreakpoint != 0) {
            itemList.classList.add('flex-wrap__no-wrap');
        }
    }
};

function addClassToItems(items, classToAdd) {
    if (items) {
        for (let i = 0; i < items.length; i++) {
            items[i].classList.add(classToAdd);
        }
    }
}

function removeClassFromItems(items, classToRemove) {
    if (items) {
        for (let i = 0; i < items.length; i++) {
            items[i].classList.remove(classToRemove);
        }
    }
}

window.AncestryGlobal.manageListDialogMaxWidths = function (iframeDoc) {
    let lists = iframeDoc.querySelectorAll('.cmp-item-list');
    let listsLength = lists.length;
    if (lists && listsLength) {
        for (let i = 0; i < listsLength; i++) {
            AncestryGlobal.manageListMaxWidths(lists[i]);
        }
    }
};

let AdobeTargetLoaded = document.createEvent("Event");
AdobeTargetLoaded.initEvent("AdobeTargetLoaded", true, true);

let observer = new MutationObserver(function (mutations) {
    mutations.forEach(function (mutation) {
        if (mutation.type == 'childList') {
            window.document.dispatchEvent(AdobeTargetLoaded);
        }
    });
});

let config = {
    childList: true,
    subtree: true
};

let targeted = document.querySelectorAll('.target');
for (let i = 0; i < targeted.length; i++) {
    observer.observe(targeted[i], config);
}

document.addEventListener('DOMContentLoaded', function() {
   window.document.dispatchEvent(AdobeTargetLoaded);
}, false);

window.AncestryGlobal.getAncestryDomain= function (){
    let currHost = window.location.host,
    ancPos = currHost.indexOf("ancestry"),
    ancTopDomain = currHost.substring(ancPos);
    // This is handling if ancTopDomain is null or blank or for accessing AEM pages directly.
    if (!ancTopDomain || ancTopDomain === 'ancestry-prod2.adobecqms.net') {
        currHost = 'ancestry.com';
    } else if (ancTopDomain === 'ancestry-stage3.adobecqms.net') {
        currHost = 'ancestrystage.com';
    } else if (ancTopDomain === 'ancestry-dev2.adobecqms.net') {
        currHost = 'ancestrydev.com';
    }

    if (currHost.startsWith("www.")){
        currHost = currHost.replace("www.", "");
    }

    return currHost;
};

var QueryParam = {};
QueryParam.initEvents = () => {
    const metaDataEventEnabled = document.querySelector('meta[data-event-enabled="true"]');
    const boundElements = document.querySelectorAll('[data-event-enabled="true"]:not(meta)');
    if (!boundElements) {
        return false;
    }
    replaceTokensWithJson(metaDataEventEnabled, boundElements);
};

function replaceTokensWithJson(metaDataEventEnabled, boundElements) {
    const bindingsObjects = metaDataEventEnabled?.getAttribute('data-event-bindings');
    if (!bindingsObjects) {
            return false;
    }
    const bindingsObjectsJson = JSON.parse(bindingsObjects);
    const queryParamJson = new Map();
    const url = new URL(window.location.href);
    const queryParams = new Map();

    url.searchParams.forEach((value, key) => {
      queryParams.set(key, value);
    });

    for (let key in bindingsObjectsJson) {
        if (key === 'onPageLoad') {
            let triggerJsonArray = bindingsObjectsJson[key];
            for (let item of triggerJsonArray) {
                if (item.db__action === "addQueryParameter") {
                    const key = item.db__queryParamName;
                    queryParamJson.set(key, queryParams.get(key));
                }
            }
        }
    }

    if (queryParamJson.size > 0) {
        // Regular expression to match text starting with :: and ending with ::
        var bracketPlaceHolderRegex = /{{(.*?)( |%20|&nbsp;)place\((.*?)\)}}/g;
        var placeHolderRegex = /::([^::]+)( |%20|&nbsp;)place\((.*?)\)::/g;
        var bracketRegex = /{{(.*?)}}/g;
        var regex = /::(.*?)::/g;
        boundElements.forEach(function(bondElement) {
            var bracketPlaceHolderHtml = replaceTokensWithMap(bondElement.outerHTML, queryParamJson, bracketPlaceHolderRegex, true);
            var placeHolderHtml = replaceTokensWithMap(bracketPlaceHolderHtml, queryParamJson, placeHolderRegex, true);
            var bracketHtml = replaceTokensWithMap(placeHolderHtml, queryParamJson, bracketRegex, false);
            var finalHtml = replaceTokensWithMap(bracketHtml, queryParamJson, regex, false);
            bondElement.outerHTML = finalHtml;
        });
    }
}

function replaceTokensWithMap(html, replacementMap, regex, isPlaceholderRegex) {
    var replacedHtml = html.replace(regex, function(match, tokenKey, spaceKey, placeholderKey) {
        if (tokenKey && replacementMap.has(tokenKey)) {
            const value = replacementMap.get(tokenKey);
            if (value !== undefined) {
                return value;
            } else if (placeholderKey && isPlaceholderRegex) {
                return placeholderKey;
            } else if (!isPlaceholderRegex) {
                return "";
            }
        }
        return match;
    });
    return replacedHtml;
}

document.addEventListener("DOMContentLoaded", QueryParam.initEvents);
var ACOMGlobalEvents = {};
ACOMGlobalEvents.state = {};
ACOMGlobalEvents.initialized = false;
let containerCon = document.getElementById("moreArticlesCon");
let seeMoreBtn = document.getElementById("seeMoreBtn");


ACOMGlobalEvents.initEvents = () => {
	const metaDataEventEnabled = document.querySelector("meta[data-event-enabled=\"true\"]");
	const boundElements = document.querySelectorAll("[data-event-enabled=\"true\"]:not(meta)");
	if (!boundElements) {
		return false;
	}
	observerData(metaDataEventEnabled);
};


function observerData(metaDataEventEnabled) {
	let observer = new MutationObserver(mutationRecords => {
		mutationRecords.forEach(mutation => {
			// Only update if rerendered DOM has event data bound element affected
			if (mutation.target.parentNode && mutation.target.outerHTML && !!mutation.target.outerHTML.match(/data-event-enabled=\"true\"/g)) {
				const targetNode = mutation.target.getAttribute("data-event-enabled") === "true" ? mutation.target.parentNode : mutation.target;
				const eventBoudnElements = targetNode.querySelectorAll("[data-event-enabled=\"true\"]");
				eventBoudnElements.forEach((currentBoundElement) => {
					initElement(metaDataEventEnabled, currentBoundElement);
				});
			}
		});
	});

	observer.observe(document.body, {
		childList: true,
		subtree: true,
		characterDataOldValue: true,
	});
}

function parseTrigger(trigger) {
	switch (trigger) {
		case "onSelect":
		case "onDeselect":
		case "onChange":
			return "change";
		case "onClick":
			return "click";
		default:
			return trigger;
	}
}

/**
 * Fixes where the opening of a modal does not trigger the lazy loading of the image
 * @param element
 */

ACOMGlobalEvents.fixModalLazyLoad = (element) => {
	if (!element) {
		return;
	}
	if (element.getAttribute("data-lazy-load-fixed")) {
		return element;
	}
	let lazyLoads = element.querySelectorAll("[data-cmp-lazy]");
	if (lazyLoads) {
		lazyLoads.forEach(lazyLoad => {
			let widthsSring = lazyLoad.getAttribute("data-cmp-widths");
			let width = "";
			if (widthsSring) {
				width = Math.max.apply(null, widthsSring.split(",").map(Number)) || "";
			}
			let tempSrc = lazyLoad.getAttribute("data-cmp-src");
			let img = lazyLoad.querySelector("img");
			if (width !== "") {
				width = "." + width;
			}
			if (img) {
				img.setAttribute("src", tempSrc.replace("{.width}", width));
			}
		});
	}
	element.setAttribute("data-lazy-load-fixed", "true");
	return element;
};

function executeEvents(arr) {
	if (!arr) {
		return;
	}

	arr.forEach((event) => {
		const action = event.db__action;
		let variableName = (event.db__globalVariableName || "").replace(/::/g, "").trim();
		let variableValue = event.db__globalVariableValue || "";
		let queryParamName = event.db__queryParamName || "";

		while (variableValue !== replaceVariable(variableValue)) {
			variableValue = replaceVariable(variableValue);
		}

		let globalVariableObject = ACOMGlobalEvents.state[variableName] || {};
		let queryParams = globalVariableObject.queryParams || {};

		switch (action) {
			case "addQueryParameter":
				variableValues = window.location.href.split("?");
				var vars = [];
				if (variableValues[1]) {
					vars = variableValues[1].split("&");
				}
				vars.forEach((value) => {
					let paramKeyValues = value.split("=");
					if (queryParamName === paramKeyValues[0]) {
						queryParams[paramKeyValues[0]] = paramKeyValues[1] ?? "";
					}
				});
				variableValue = globalVariableObject["base"] || "";
				break;
			case "showContainer":
				let containerIdToShow = event["db__showContainerTargetId"];
				if (containerIdToShow) {
					let containerElement = document.getElementById(containerIdToShow.replace("#", ""));
					if (containerElement) {
						const containerWrapper = containerElement.closest(".cmp-container");
						if (containerWrapper) {
							containerWrapper.classList.remove("hidden");
						}
					}
				}
				queryParams = {};
				variableValue = globalVariableObject["base"] || "";
				break;
			case "hideContainer":
				let containerIdToHide = event["db__hideContainerTargetId"];
				if (containerIdToHide) {
					let containerElement = document.getElementById(containerIdToHide.replace("#", ""));
					if (containerElement) {
						const containerWrapper = containerElement.closest(".cmp-container");
						if (containerWrapper) {
							containerWrapper.classList.add("hidden");
						}
					}
				}
				queryParams = {};
				variableValue = globalVariableObject["base"] || "";
				break;
			case "addClass":
				let targetContainerID = event["db__targetID"];
				let classToAdd = event["db__targetClass"];
				if (targetContainerID) {
					let containerElement = document.getElementById(targetContainerID.replace("#", ""));
					if (containerElement) {
						containerElement.classList.add(classToAdd);
					}
				}
				queryParams = {};
				variableValue = globalVariableObject["base"] || "";
				break;
			case "removeClass":
				let targetID = event["db__targetID"];
				let classToRemove = event["db__targetClass"];
				if (targetID) {
					let container = document.getElementById(targetID.replace("#", ""));
					if (container) {
						container.classList.remove(classToRemove);
					}
				}
				queryParams = {};
				variableValue = globalVariableObject["base"] || "";
				break;
			case "toggleClass":
				let targetElementID = event["db__targetID"];
				let classToToggle = event["db__targetClass"];
				if (targetElementID) {
					let toggleContainer = document.getElementById(targetElementID.replace("#", ""));
					if (toggleContainer) {
						//toggleContainer.classList.toggle(classToToggle);
					}
				}
				queryParams = {};
				variableValue = globalVariableObject["base"] || "";
				break;
			default:

		}

		let valueObj = { base: variableValue, queryParams: queryParams };
		if (action == "addQueryParameter") {
			if (typeof (queryParams[variableName]) != "undefined") {
				updateGlobalVar(variableName, valueObj);
			}
		} else {
			updateGlobalVar(variableName, valueObj);
		}

	});
}

function checkIfOpen() {

	if (containerCon.classList.contains("noDisplay")) {
		containerCon.classList.remove("noDisplay");
		seeMoreBtn.innerHTML = "See less";
		seeMoreBtn.classList.remove("iconArrowSmallDownAfter");
		seeMoreBtn.classList.add("iconArrowSmallUpAfter");
		seeMoreBtn.ariaExpanded = "true";
	} else {
		containerCon.classList.add("noDisplay");
		seeMoreBtn.innerHTML = "See more";
		seeMoreBtn.classList.remove("iconArrowSmallUpAfter");
		seeMoreBtn.classList.add("iconArrowSmallDownAfter");
		seeMoreBtn.ariaExpanded = "false";
	}
}

if (seeMoreBtn !== null) {
	seeMoreBtn.addEventListener("click", checkIfOpen);
}

function updateGlobalVar(name, value) {
	ACOMGlobalEvents.state[name] = value;
}

function initElement(allBoundElement, currentBoundElement) {
	new Array(arguments.length).fill("").forEach((_, i) => {
		const bindingsObjects = arguments[i]?.getAttribute("data-event-bindings");
		if (!bindingsObjects) {
			return false;
		}
		const bindingsObjectsJson = JSON.parse(bindingsObjects);
		const type = arguments[i]?.getAttribute("type");

		for (let key in bindingsObjectsJson) {
			let trigger = parseTrigger(key);
			let triggerJsonArray = bindingsObjectsJson[key];
			if (!triggerJsonArray) {
				return false;
			}

			const {
				onSelect: onSelectEvents,
				onPageLoad: onPageLoadEvents,
				onChange: onChangeEvents,
				onClick: onClickEvents,
			} = bindingsObjectsJson;

			if (trigger === "onPageLoad") {
				executeEvents(onPageLoadEvents);
				updateDom(currentBoundElement);
			} else if (trigger === "mouseover") {
				let events = JSON.parse(currentBoundElement.getAttribute("data-event-bindings"));
				let onMouseOverEvents = events["mouseover"];
				const onMouseOverListener = (event) => {
					executeEvents(onMouseOverEvents);
				};
				if (currentBoundElement?.classList.contains("cmp-container__container-full-width-link") && currentBoundElement.childNodes.length) {
					currentBoundElement = currentBoundElement.querySelector(".cmp-container");
				}
				currentBoundElement.removeEventListener(trigger, onMouseOverListener);
				currentBoundElement.addEventListener(trigger, onMouseOverListener);
				let onMouseOutEvent = JSON.parse(JSON.stringify(events["mouseover"]));
				for (let i = 0; i < onMouseOutEvent.length; i++) {
					var array = onMouseOutEvent[i];
					let containerIdToShowHide = array["db__showContainerTargetId"];
					var action = array["db__action"];
					if (action === "hideContainer") {
						onMouseOutEvent[i].db__action = "showContainer";
						onMouseOutEvent[i].db__showContainerTargetId = containerIdToShowHide;
					} else {
						onMouseOutEvent[i].db__action = "hideContainer";
						onMouseOutEvent[i].db__hideContainerTargetId = containerIdToShowHide;
					}
				}
				updateDom(currentBoundElement);
			} else {
				const generalEventListener = (event) => {
					let events = JSON.parse(currentBoundElement.getAttribute("data-event-bindings"));

					let onSelectEvents = events["onSelect"];
					let onDeselectEvents = events["onDeselect"];
					let onChangeEvents = events["onChange"];
					let onClickEvents = events["onClick"];

					switch (type) {
						case "checkbox":
							if (currentBoundElement.checked) {
								executeEvents(onSelectEvents);
							} else {
								executeEvents(onDeselectEvents);
							}
							executeEvents(onChangeEvents);
							executeEvents(onClickEvents);
							break;
						case "radio":
							if (currentBoundElement.checked) {
								// trigger everything but onDeselect
								executeEvents(onChangeEvents);
								executeEvents(onClickEvents);
								executeEvents(onSelectEvents);
							}

							// trigger onDeselect of other radio buttons
							const radioName = currentBoundElement.getAttribute("name");
							let radios = document.querySelectorAll("[name=" + radioName + "]");
							radios = Array.prototype.slice.call(radios).filter(function(element) {
								return element !== currentBoundElement;
							});
							radios.forEach((radio) => {
								let radioEvents = JSON.parse(radio.getAttribute("data-event-bindings"));
								let radioOnDeselectEvents = radioEvents["onDeselect"];
								executeEvents(radioOnDeselectEvents);
							});
							break;
						default:
							executeEvents(onChangeEvents);
							executeEvents(onClickEvents);
							executeEvents(onSelectEvents);
							executeEvents(onDeselectEvents);
					}

					updateDom(currentBoundElement);
				};
				currentBoundElement.removeEventListener(trigger, generalEventListener);
				currentBoundElement.addEventListener(trigger, generalEventListener);
			}

			// run on page load for a checkbox or radio that is checked by default
			switch (type) {
				case "checkbox":
					if (allBoundElement.checked) {
						executeEvents(onSelectEvents);
						updateDom(currentBoundElement);
					}
					break;
				case "radio":
					if (allBoundElement.checked) {
						// trigger everything but onDeselect
						executeEvents(onChangeEvents);
						executeEvents(onClickEvents);
						executeEvents(onSelectEvents);
						updateDom(currentBoundElement);
					}
					break;
			}
		}
	});
}


function updateDom(boundElement) {
	const targetAttributesRaw = boundElement.getAttribute("data-event-target-attribute-values");
	if (!targetAttributesRaw) return;
	let targetAttributeObject = null;
	try {
		targetAttributeObject = JSON.parse(targetAttributesRaw);
	} catch (e) {
		console.debug("Could not parse data-event-target-attribute-values");
	}
	if (targetAttributeObject && targetAttributeObject.length) {
		for (let targetAtt of targetAttributeObject) {
			let targetAttValue;
			if (targetAtt == "href") {
				targetAttValue = boundElement.getAttribute(targetAtt);
			} else {
				targetAttValue = boundElement[targetAtt];
			}
			if (targetAtt && targetAttValue && (targetAttValue.includes("::") || targetAttValue.includes("{{"))) {
				let temp = "";
				while (targetAttValue !== temp) {
					temp = targetAttValue;
					targetAttValue = replaceVariable(targetAttValue);
				}
				boundElement[targetAtt] = targetAttValue;
			}
		}
	}
}

function processObject(name, type) {
	let processedKey;
	if (type === "bracket") {
		processedKey = name.replace(/ place\(.*\)/g, "").replace(/{{/g, "").replace(/}}/g, "").replace("&nbsp;", "").replace("%20", "").trim();
	} else {
		processedKey = name.replace(/place\(.*\)/g, "").replace(/::/g, "").replace("&nbsp;", "").replace("%20", "").trim();
	}
	let variableObj = ACOMGlobalEvents.state[processedKey];
	if (!variableObj) {
		const placeMatches = [...name.matchAll(/place\((.*)\)/gm)];
		let nameTmp = name;
		if (placeMatches.length) {
			placeMatches.forEach(matchArr => {
				if (matchArr[1]) {
					if (type === "bracket") {
						nameTmp = nameTmp.replaceAll(/{{(.*?place\((.*)\))}}/gm, matchArr[1]);
					} else {
						nameTmp = nameTmp.replaceAll(/::(.*?place\((.*)\))::/gm, matchArr[1]);
					}
				}
			});
			return nameTmp;
		} else {
			return "";
		}
	}
	// append query params to base if there are any
	let { base, queryParams } = variableObj;

	if (Object.keys(queryParams).length > 0) {
		let i = 0;
		for (let key in queryParams) {
			if (queryParams.hasOwnProperty(key)) {
				base = queryParams[key];
			}
		}
		if (base !== "" && base.endsWith("&")) {
			base = base.substring(0, base.length - 1);
		}
	}

	return base;
}

function replaceVariable(text) {
	const regex = /::(.*?)::/g;
	const regexBracket = /{{(.*?)}}/g;
	let processedBracketText = text.replace(regexBracket, (match) => processObject(match, "bracket"));
	let processedText = processedBracketText.replace(regex, (match) => processObject(match, ""));
	return processedText;
}

document.addEventListener("DOMContentLoaded", ACOMGlobalEvents.initEvents);

</script>

</body>
</html>
