<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chatmodal.html</title>
</head>
<body>

<script>
function createChatNotificationModal(chatModalData) {
	var chatModalBackground = document.getElementById("chatModalBackground");
	if (chatModalBackground) {
		chatModalBackground.remove();
	}

	var modalClose = document.createElement("div");
	modalClose.setAttribute("class", "modalClose");
	modalClose.innerText = '×';
	modalClose.onclick = function() {
		chatModalBackground.style.display = "none";
	}

	var modalTitle = document.createElement("div");
	modalTitle.setAttribute("class", "modalTitle");

	var modalTitleIcon = document.createElement("div");
	modalTitleIcon.setAttribute("class", "modalTitleIcon");
	var modalTitleIconFont = document.createElement("i");
	modalTitleIconFont.setAttribute("class", "fa fa-comment-dots");

	modalTitleIcon.appendChild(modalTitleIconFont);

	var modalTitleText = document.createElement("div");
	modalTitleText.setAttribute("class", "modalTitleText");
	modalTitleText.innerText = '交易對話通知';

	modalTitle.appendChild(modalTitleIcon);
	modalTitle.appendChild(modalTitleText);

	var modalContent = document.createElement("div");
	modalContent.setAttribute("class", "modalContent");

	var modalChatItem = document.createElement("div");
	modalChatItem.setAttribute("class", "modalChatItem");
	modalChatItem.innerText = chatModalData.title;

	var modalChatText = document.createElement("div");
	modalChatText.setAttribute("class", "modalChatText");
	modalChatText.innerText = chatModalData.message;

	modalContent.appendChild(modalChatItem);
	modalContent.appendChild(modalChatText);

	var modalButtonRow = document.createElement("div");
	modalButtonRow.setAttribute("class", "modalButtonRow");
	var modalButton = document.createElement("a");
	modalButton.setAttribute("class", "modalButton");
	modalButton.setAttribute("href", chatModalData.click_action);
	modalButton.innerText = "立即對話";
	modalButtonRow.appendChild(modalButton);

	var modalWrap = document.createElement("div");
	modalWrap.setAttribute("class", "modalWrap");
	modalWrap.appendChild(modalClose);
	modalWrap.appendChild(modalTitle);
	modalWrap.appendChild(modalContent);
	modalWrap.appendChild(modalButtonRow);

	var modal = document.createElement("div");
	modal.setAttribute("class", "chatModalBackground");
	modal.setAttribute("id", "chatModalBackground");
	modal.appendChild(modalWrap);

	document.body.appendChild(modal);
	var chatModalBackground = document.getElementById("chatModalBackground");
	chatModalBackground.style.display = "block";

	window.onclick = function(event) {
	  if (event.target == modal) {
		chatModalBackground.style.display = "none";
	  }
	}
}
</script>

</body>
</html>
