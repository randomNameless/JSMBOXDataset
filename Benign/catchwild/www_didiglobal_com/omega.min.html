<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>omega.min.html</title>
</head>
<body>

<script>
!function(){"use strict";var R="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}function c(t){try{return!!t()}catch(t){return!0}}function G(t){return z?W.createElement(t):{}}function D(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(e||"function"!=typeof(n=t.toString)||f(r=n.call(t)))throw TypeError("Can't convert object to primitive value");return r}function d(t,e){return X.call(t,e)}function v(t,e,n){var r,o,i,a=t&v.F,u=t&v.G,c=t&v.S,s=t&v.P,f=t&v.B,l=t&v.W,p=u?m:m[e]||(m[e]={}),h=p[$],g=u?y:c?y[e]:(y[e]||{})[$];for(r in n=u?e:n)(o=!a&&g&&void 0!==g[r])&&d(p,r)||(i=(o?g:n)[r],p[r]=u&&"function"!=typeof g[r]?n[r]:f&&o?_(i,y):l&&g[r]==i?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t[$]=r[$],t}(i):s&&"function"==typeof i?_(Function.call,i):i,s&&((p.virtual||(p.virtual={}))[r]=i,t&v.R&&h&&!h[r]&&Q(h,r,i)))}function U(t){return Z.call(t).slice(8,-1)}function F(t){return 0<t?it(ot(t),9007199254740991):0}function H(t){return pt[t]||(pt[t]=lt(t))}function B(t,e){var n,r=l(t),o=0,i=[];for(n in r)n!=gt&&d(r,n)&&i.push(n);for(;e.length>o;)!d(r,n=e[o++])||~ht(i,n)||i.push(n);return i}function K(t){return Object(et(t))}var V,y=t(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),m=t(function(t){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)}),i=(m.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),_=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},h=function(t){if(f(t))return t;throw TypeError(t+" is not an object!")},p=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),W=y.document,z=f(W)&&f(W.createElement),J=!p&&!c(function(){return 7!=Object.defineProperty(G("div"),"a",{get:function(){return 7}}).a}),q=Object.defineProperty,s={f:p?Object.defineProperty:function(t,e,n){if(h(t),e=D(e,!0),h(n),J)try{return q(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Q=p?function(t,e,n){return s.f(t,e,Y(1,n))}:function(t,e,n){return t[e]=n,t},X={}.hasOwnProperty,$="prototype",w=(v.F=1,v.G=2,v.S=4,v.P=8,v.B=16,v.W=32,v.U=64,v.R=128,v),Z={}.toString,tt=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==U(t)?t.split(""):Object(t)},et=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},l=function(t){return tt(et(t))},nt=Math.ceil,rt=Math.floor,ot=function(t){return isNaN(t=+t)?0:(0<t?rt:nt)(t)},it=Math.min,at=Math.max,ut=Math.min,ct=t(function(t){var e="__core-js_shared__",n=y[e]||(y[e]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:m.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),st=0,ft=Math.random(),lt=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++st+ft).toString(36))},pt=ct("keys"),ht=(V=!1,function(t,e,n){var r,o=l(t),i=F(o.length),a=(t=i,(n=ot(n=n))<0?at(n+t,0):ut(n,t));if(V&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((V||a in o)&&o[a]===e)return V||a||0;return!V&&-1}),gt=H("IE_PROTO"),dt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vt=Object.keys||function(t){return B(t,dt)},yt={f:Object.getOwnPropertySymbols},mt={f:{}.propertyIsEnumerable},_t=Object.assign,e=!_t||c(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=_t({},t)[n]||Object.keys(_t({},e)).join("")!=r})?function(t,e){for(var n=K(t),r=arguments.length,o=1,i=yt.f,a=mt.f;o<r;)for(var u,c=tt(arguments[o++]),s=i?vt(c).concat(i(c)):vt(c),f=s.length,l=0;l<f;)u=s[l++],p&&!a.call(c,u)||(n[u]=c[u]);return n}:_t;w(w.S+w.F,"Object",{assign:e});var wt=m.Object.assign,a=t(function(t){function e(){return t.exports=e=wt||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e.apply(this,arguments)}t.exports=e});var u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Et=(w(w.S+w.F*!p,"Object",{defineProperty:s.f}),m.Object),kt=function(t,e,n){return Et.defineProperty(t,e,n)};function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),kt(t,r.key,r)}}var g=function(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),t},bt=p?Object.defineProperties:function(t,e){h(t);for(var n,r=vt(e),o=r.length,i=0;i<o;)s.f(t,n=r[i++],e[n]);return t},Ct=(w(w.S+w.F*!p,"Object",{defineProperties:bt}),m.Object),xt=function(t,e){return Ct.defineProperties(t,e)},It=dt.concat("length","prototype"),St={f:Object.getOwnPropertyNames||function(t){return B(t,It)}},e=y.Reflect,Pt=e&&e.ownKeys||function(t){var e=St.f(h(t)),n=yt.f;return n?e.concat(n(t)):e},Nt=Object.getOwnPropertyDescriptor,At={f:p?Nt:function(t,e){if(t=l(t),e=D(e,!0),J)try{return Nt(t,e)}catch(t){}if(d(t,e))return Y(!mt.f.call(t,e),t[e])}};w(w.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r,o=l(t),i=At.f,a=Pt(o),u={},c=0;a.length>c;)void 0!==(r=i(o,n=a[c++]))&&(r=r,(n=n)in(e=u)?s.f(e,n,Y(0,r)):e[n]=r);return u}});function Tt(t,e){var n=(m.Object||{})[t]||Object[t],r={};r[t]=e(n),w(w.S+w.F*c(function(){n(1)}),"Object",r)}function Mt(t){var e=m.Symbol||(m.Symbol={});"_"==t.charAt(0)||t in e||Qt(e,t,{value:Yt.f(t)})}function Lt(){}function jt(t){var e=k[t]=re(o[he]);return e._k=t,e}function Rt(t,e){h(t);for(var n,r=Xt(e=l(e)),o=0,i=r.length;o<i;)we(t,n=r[o++],e[n]);return t}function Gt(t){var e=ge.call(this,t=D(t,!0));return!(this===O&&d(k,t)&&!d(ve,t))&&(!(e||!d(this,t)||!d(k,t)||d(this,E)&&this[E][t])||e)}function Dt(t,e){var n;if(t=l(t),e=D(e,!0),t!==O||!d(k,e)||d(ve,e))return!(n=ce(t,e))||!d(k,e)||d(t,E)&&t[E][e]||(n.enumerable=!0),n}function Ut(t){for(var e,n=fe(l(t)),r=[],o=0;n.length>o;)d(k,e=n[o++])||e==E||e==ue||r.push(e);return r}function Ft(t){for(var e,n=t===O,r=fe(n?ve:l(t)),o=[],i=0;r.length>i;)!d(k,e=r[i++])||n&&!d(O,e)||o.push(k[e]);return o}var Ht=m.Object.getOwnPropertyDescriptors,Bt=At.f,Kt=(Tt("getOwnPropertyDescriptor",function(){return function(t,e){return Bt(l(t),e)}}),m.Object),Vt=function(t,e){return Kt.getOwnPropertyDescriptor(t,e)},Wt=Q,e=t(function(t){function n(t){e(t,r,{value:{i:"O"+ ++o,w:{}}})}var r=lt("meta"),e=s.f,o=0,i=Object.isExtensible||function(){return!0},a=!c(function(){return i(Object.preventExtensions({}))}),u=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!f(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!d(t,r)){if(!i(t))return"F";if(!e)return"E";n(t)}return t[r].i},getWeak:function(t,e){if(!d(t,r)){if(!i(t))return!0;if(!e)return!1;n(t)}return t[r].w},onFreeze:function(t){return a&&u.NEED&&i(t)&&!d(t,r)&&n(t),t}}}),n=(e.KEY,e.NEED,e.fastKey,e.getWeak,e.onFreeze,t(function(t){var e=ct("wks"),n=y.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:lt)("Symbol."+t))}).store=e})),zt=s.f,Jt=n("toStringTag"),qt=function(t,e,n){t&&!d(t=n?t:t.prototype,Jt)&&zt(t,Jt,{configurable:!0,value:e})},Yt={f:n},Qt=s.f,Xt=function(t){var e=vt(t),n=yt.f;if(n)for(var r,o=n(t),i=mt.f,a=0;o.length>a;)i.call(t,r=o[a++])&&e.push(r);return e},$t=Array.isArray||function(t){return"Array"==U(t)},r=y.document,Zt=r&&r.documentElement,te=H("IE_PROTO"),ee="prototype",ne=function(){var t=G("iframe"),e=dt.length;for(t.style.display="none",Zt.appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ne=t.F;e--;)delete ne[ee][dt[e]];return ne()},re=Object.create||function(t,e){var n;return null!==t?(Lt[ee]=h(t),n=new Lt,Lt[ee]=null,n[te]=t):n=ne(),void 0===e?n:bt(n,e)},oe=St.f,ie={}.toString,ae="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r={f:function(t){if(!ae||"[object Window]"!=ie.call(t))return oe(l(t));try{return oe(t)}catch(t){return ae.slice()}}},ue=e.KEY,ce=At.f,se=s.f,fe=r.f,o=y.Symbol,le=y.JSON,pe=le&&le.stringify,he="prototype",E=n("_hidden"),e=n("toPrimitive"),ge={}.propertyIsEnumerable,de=ct("symbol-registry"),k=ct("symbols"),ve=ct("op-symbols"),O=Object[he],b="function"==typeof o&&!!yt.f,C=y.QObject,ye=!C||!C[he]||!C[he].findChild,me=p&&c(function(){return 7!=re(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=ce(O,e);r&&delete O[e],se(t,e,n),r&&t!==O&&se(O,e,r)}:se,_e=b&&"symbol"==typeof o.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof o},we=function(t,e,n){return t===O&&we(ve,e,n),h(t),e=D(e,!0),h(n),d(k,e)?(n.enumerable?(d(t,E)&&t[E][e]&&(t[E][e]=!1),n=re(n,{enumerable:Y(0,!1)})):(d(t,E)||se(t,E,Y(1,{})),t[E][e]=!0),me(t,e,n)):se(t,e,n)};b||(Wt((o=function(){if(this instanceof o)throw TypeError("Symbol is not a constructor!");var e=lt(0<arguments.length?arguments[0]:void 0),n=function(t){this===O&&n.call(ve,t),d(this,E)&&d(this[E],e)&&(this[E][e]=!1),me(this,e,Y(1,t))};return p&&ye&&me(O,e,{configurable:!0,set:n}),jt(e)})[he],"toString",function(){return this._k}),At.f=Dt,s.f=we,St.f=r.f=Ut,mt.f=Gt,yt.f=Ft,Yt.f=function(t){return jt(n(t))}),w(w.G+w.W+w.F*!b,{Symbol:o});for(var Ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ke=0;Ee.length>ke;)n(Ee[ke++]);for(var Oe=vt(n.store),be=0;Oe.length>be;)Mt(Oe[be++]);w(w.S+w.F*!b,"Symbol",{for:function(t){return d(de,t+="")?de[t]:de[t]=o(t)},keyFor:function(t){if(!_e(t))throw TypeError(t+" is not a symbol!");for(var e in de)if(de[e]===t)return e},useSetter:function(){ye=!0},useSimple:function(){ye=!1}}),w(w.S+w.F*!b,"Object",{create:function(t,e){return void 0===e?re(t):Rt(re(t),e)},defineProperty:we,defineProperties:Rt,getOwnPropertyDescriptor:Dt,getOwnPropertyNames:Ut,getOwnPropertySymbols:Ft});C=c(function(){yt.f(1)});w(w.S+w.F*C,"Object",{getOwnPropertySymbols:function(t){return yt.f(K(t))}}),le&&w(w.S+w.F*(!b||c(function(){var t=o();return"[null]"!=pe([t])||"{}"!=pe({a:t})||"{}"!=pe(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=e=r[1],(f(e)||void 0!==t)&&!_e(t))return $t(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!_e(e))return e}),r[1]=e,pe.apply(le,r)}}),o[he][e]||Q(o[he],e,o[he].valueOf),qt(o,"Symbol"),qt(Math,"Math",!0),qt(y.JSON,"JSON",!0);var Ce=m.Object.getOwnPropertySymbols;Tt("keys",function(){return function(t){return vt(K(t))}});var xe=m.Object.keys;for(var Ie,Se=function(t,e,n){return e in t?kt(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Pe={},Ne={},Ae=(Q(Ne,n("iterator"),function(){return this}),H("IE_PROTO")),Te=Object.prototype,Me=Object.getPrototypeOf||function(t){return t=K(t),d(t,Ae)?t[Ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Te:null},Le=n("iterator"),je=(!([].keys&&"next"in[].keys())),Re="values",Ge=function(){return this},r=function(t,e,n,r,o,i,a){function u(t){if(!je&&t in p)return p[t];switch(t){case"keys":case Re:return function(){return new n(this,t)}}return function(){return new n(this,t)}}l=e,(f=n).prototype=re(Ne,{next:Y(1,r)}),qt(f,l+" Iterator");var c,s,r=e+" Iterator",f=o==Re,l=!1,p=t.prototype,h=p[Le]||p["@@iterator"]||o&&p[o],g=h||u(o),d=o?f?u("entries"):g:void 0,v="Array"==e&&p.entries||h;if(v&&(v=Me(v.call(new t)))!==Object.prototype&&v.next&&qt(v,r,!0),f&&h&&h.name!==Re&&(l=!0,g=function(){return h.call(this)}),a&&(je||l||!p[Le])&&Q(p,Le,g),Pe[e]=g,Pe[r]=Ge,o)if(c={values:f?g:u(Re),keys:i?g:u("keys"),entries:d},a)for(s in c)s in p||Wt(p,s,c[s]);else w(w.P+w.F*(je||l),e,c);return c},De=(Ie=!0,function(t,e){var n,t=String(et(t)),e=ot(e),r=t.length;return e<0||r<=e?Ie?"":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?Ie?t.charAt(e):n:Ie?t.slice(e,e+2):r-56320+(n-55296<<10)+65536}),Ue=(r(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=De(t,e),this._i+=t.length,{value:t,done:!1})}),function(t,e){return{value:e,done:!!t}}),Fe=(r(Array,"Array",function(t,e){this._t=l(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ue(1)):Ue(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),Pe.Arguments=Pe.Array,n("toStringTag")),He="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Be=0;Be<He.length;Be++){var Ke=He[Be],Ve=y[Ke],Ve=Ve&&Ve.prototype;Ve&&!Ve[Fe]&&Q(Ve,Fe,Ke),Pe[Ke]=Pe.Array}var We=Yt.f("iterator");Mt("asyncIterator"),Mt("observable");function ze(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),tn))?e:en?U(t):"Object"==(e=U(t))&&"function"==typeof t.callee?"Arguments":e}function Je(t,e){return void 0===(t=h(t).constructor)||null==(t=h(t)[cn])?e:i(t)}function qe(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}function Ye(){var t,e=+this;pn.hasOwnProperty(e)&&(t=pn[e],delete pn[e],t())}function Qe(t){Ye.call(t.data)}var Xe,$e=m.Symbol,Ze=t(function(e){function n(t){return(n="function"==typeof $e&&"symbol"==typeof We?function(t){return typeof t}:function(t){return t&&"function"==typeof $e&&t.constructor===$e&&t!==$e.prototype?"symbol":typeof t})(t)}function r(t){return"function"==typeof $e&&"symbol"===n(We)?e.exports=r=function(t){return n(t)}:e.exports=r=function(t){return t&&"function"==typeof $e&&t.constructor===$e&&t!==$e.prototype?"symbol":n(t)},r(t)}e.exports=r}),tn=n("toStringTag"),en="Arguments"==U(function(){return arguments}()),nn=n("iterator"),rn=Array.prototype,on=n("iterator"),an=m.getIteratorMethod=function(t){if(null!=t)return t[on]||t["@@iterator"]||Pe[ze(t)]},un=t(function(t){var l={},p={},t=t.exports=function(t,e,n,r,o){var i,a,u,c,o=o?function(){return t}:an(t),s=_(n,r,e?2:1),f=0;if("function"!=typeof o)throw TypeError(t+" is not iterable!");if(void 0===(n=o)||Pe.Array!==n&&rn[nn]!==n){for(u=o.call(t);!(a=u.next()).done;)if((c=function(e,t,n,r){try{return r?t(h(n)[0],n[1]):t(n)}catch(t){r=e.return;throw void 0!==r&&h(r.call(e)),t}}(u,s,a.value,e))===l||c===p)return c}else for(i=F(t.length);f<i;f++)if((c=e?s(h(a=t[f])[0],a[1]):s(t[f]))===l||c===p)return c};t.BREAK=l,t.RETURN=p}),cn=n("species"),sn=y.process,C=y.setImmediate,b=y.clearImmediate,e=y.MessageChannel,fn=y.Dispatch,ln=0,pn={},hn="onreadystatechange",r=(C&&b||(C=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return pn[++ln]=function(){qe("function"==typeof t?t:Function(t),e)},Xe(ln),ln},b=function(t){delete pn[t]},"process"==U(sn)?Xe=function(t){sn.nextTick(_(Ye,t,1))}:fn&&fn.now?Xe=function(t){fn.now(_(Ye,t,1))}:e?(e=(r=new e).port2,r.port1.onmessage=Qe,Xe=_(e.postMessage,e,1)):y.addEventListener&&"function"==typeof postMessage&&!y.importScripts?(Xe=function(t){y.postMessage(t+"","*")},y.addEventListener("message",Qe,!1)):Xe=hn in G("script")?function(t){Zt.appendChild(G("script"))[hn]=function(){Zt.removeChild(this),Ye.call(t)}}:function(t){setTimeout(_(Ye,t,1),0)}),{set:C,clear:b}),gn=r.set,e=y.MutationObserver||y.WebKitMutationObserver,dn=y.process,C=y.Promise,vn="process"==U(dn);function yn(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}function mn(t,e){return h(t),f(e)&&e.constructor===t?e:((0,(t=_n.f(t)).resolve)(e),t.promise)}var _n={f:function(t){return new yn(t)}},wn=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},b=y.navigator,En=b&&b.userAgent||"",b=n("species"),kn=n("iterator"),On=!1;try{[7][kn]().return=function(){On=!0}}catch(t){}var bn,Cn,xn,In,Sn,Pn,Nn=r.set,An=(In=vn?function(){dn.nextTick(Tn)}:!e||y.navigator&&y.navigator.standalone?C&&C.resolve?(xn=C.resolve(void 0),function(){xn.then(Tn)}):function(){gn.call(y,Tn)}:(Sn=!0,Pn=document.createTextNode(""),new e(Tn).observe(Pn,{characterData:!0}),function(){Pn.data=Sn=!Sn}),function(t){t={fn:t,next:void 0};Cn&&(Cn.next=t),bn||(bn=t,In()),Cn=t});function Tn(){var t,e;for(vn&&(t=dn.domain)&&t.exit();bn;){e=bn.fn,bn=bn.next;try{e()}catch(t){throw bn?In():Cn=void 0,t}}Cn=void 0,t&&t.enter()}function Mn(){}var Ln,jn,Rn,Gn,Dn="Promise",Un=y.TypeError,Fn=y.process,r=Fn&&Fn.versions,Hn=r&&r.v8||"",x=y[Dn],Bn="process"==ze(Fn),Kn=jn=_n.f,C=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[n("species")]=function(t){t(Mn,Mn)};return(Bn||"function"==typeof PromiseRejectionEvent)&&t.then(Mn)instanceof e&&0!==Hn.indexOf("6.6")&&-1===En.indexOf("Chrome/66")}catch(t){}}(),Vn=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},Wn=function(l,n){var r;l._n||(l._n=!0,r=l._c,An(function(){for(var o,s=l._v,f=1==l._s,t=0,e=function(t){var e,n,r,o,i=f?t.ok:t.fail,a=t.resolve,u=t.reject,c=t.domain;try{i?(f||(2==l._h&&(o=l,Nn.call(y,function(){var t;Bn?Fn.emit("rejectionHandled",o):(t=y.onrejectionhandled)&&t({promise:o,reason:o._v})})),l._h=1),!0===i?e=s:(c&&c.enter(),e=i(s),c&&(c.exit(),r=!0)),e===t.promise?u(Un("Promise-chain cycle")):(n=Vn(e))?n.call(e,a,u):a(e)):u(s)}catch(t){c&&!r&&c.exit(),u(t)}};r.length>t;)e(r[t++]);l._c=[],l._n=!1,n&&!l._h&&(o=l,Nn.call(y,function(){var t,e,n=o._v,r=zn(o);if(r&&(t=wn(function(){Bn?Fn.emit("unhandledRejection",n,o):(e=y.onunhandledrejection)?e({promise:o,reason:n}):(e=y.console)&&e.error&&e.error("Unhandled promise rejection",n)}),o._h=Bn||zn(o)?2:1),o._a=void 0,r&&t.e)throw t.v}))}))},zn=function(t){return 1!==t._h&&0===(t._a||t._c).length},Jn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Wn(e,!0))},qn=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw Un("Promise can't be resolved itself");(n=Vn(t))?An(function(){var e={_w:r,_d:!1};try{n.call(t,_(qn,e,1),_(Jn,e,1))}catch(t){Jn.call(e,t)}}):(r._v=t,r._s=1,Wn(r,!1))}catch(t){Jn.call({_w:r,_d:!1},t)}}},e=(C||(x=function(t){var e=this,n=Dn,r="_h";if(!(e instanceof x)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");i(t),Ln.call(this);try{t(_(qn,this,1),_(Jn,this,1))}catch(t){Jn.call(this,t)}},(Ln=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:Q(t,r,e[r]);return t}(x.prototype,{then:function(t,e){var n=Kn(Je(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Bn?Fn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Wn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Rn=function(){var t=new Ln;this.promise=t,this.resolve=_(qn,t,1),this.reject=_(Jn,t,1)},_n.f=Kn=function(t){return t===x||t===Gn?new Rn:jn(t)}),w(w.G+w.W+w.F*!C,{Promise:x}),qt(x,Dn),Dn);e=("function"==typeof m[e]?m:y)[e],p&&e&&!e[b]&&s.f(e,b,{configurable:!0,get:function(){return this}}),Gn=m[Dn],w(w.S+w.F*!C,Dn,{reject:function(t){var e=Kn(this);return(0,e.reject)(t),e.promise}}),w(w.S+!0*w.F,Dn,{resolve:function(t){return mn(this===Gn?x:this,t)}}),w(w.S+w.F*!(C&&function(t,e){if(!e&&!On)return!1;var n=!1;try{var r=[7],o=r[kn]();o.next=function(){return{done:n=!0}},r[kn]=function(){return o},t(r)}catch(t){}return n}(function(t){x.all(t).catch(Mn)})),Dn,{all:function(t){var a=this,e=Kn(a),u=e.resolve,c=e.reject,n=wn(function(){var r=[],o=0,i=1;un(t,!1,function(t){var e=o++,n=!1;r.push(void 0),i++,a.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||u(r))},c)}),--i||u(r)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=Kn(e),r=n.reject,o=wn(function(){un(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}}),w(w.P+w.R,"Promise",{finally:function(e){var n=Je(this,m.Promise||y.Promise),t="function"==typeof e;return this.then(t?function(t){return mn(n,e()).then(function(){return t})}:e,t?function(t){return mn(n,e()).then(function(){throw t})}:e)}}),w(w.S,"Promise",{try:function(t){var e=_n.f(this),t=wn(t);return(t.e?e.reject:e.resolve)(t.v),e.promise}});var Yn,I=m.Promise;function Qn(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);3<i&&a&&Object.defineProperty(e,n,a)}function S(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Yn={},function(){var u,c,s,f,r,t,o,l,i,e="object"==typeof R?R:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=S(Yn);function p(t,e,n){var r=i.get(t);if(y(r)){if(!n)return;r=new o,i.set(t,r)}t=r.get(e);if(y(t)){if(!n)return;t=new o,r.set(e,t)}return t}function a(t,e,n){e=p(e,n,!1);return!y(e)&&!!e.has(t)}function h(t,e,n){e=p(e,n,!1);if(!y(e))return e.get(t)}function g(t,e,n,r){p(n,r,!0).set(t,e)}function d(t,e){var n=[],t=p(t,e,!1);if(y(t))return n;for(var r,o,i=function(t){var e=C(t,s);if(!O(e))throw new TypeError;e=e.call(t);if(_(e))return e;throw new TypeError}(t.keys()),a=0;;){var u=function(t){t=t.next();return!t.done&&t}(i);if(!u)return n.length=a,n;u=u.value;try{n[a]=u}catch(t){try{o=void 0,(o=(r=i).return)&&o.call(r)}finally{throw t}}a++}}function v(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function y(t){return void 0===t}function m(t){return null===t}function _(t){return"object"==typeof t?null!==t:"function"==typeof t}function w(t,e){switch(v(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var e=3===e?"string":5===e?"number":"default",n=C(t,c);if(void 0===n){var r=t;if("string"===(a="default"==e?"number":e)){a=r.toString;if(O(a))if(!_(i=a.call(r)))return i;var o=r.valueOf;if(O(o))if(!_(i=o.call(r)))return i}else{o=r.valueOf;if(O(o))if(!_(i=o.call(r)))return i;var i,a=r.toString;if(O(a))if(!_(i=a.call(r)))return i}throw new TypeError}o=n.call(t,e);if(_(o))throw new TypeError;return o}function E(t){t=w(t,3);return"symbol"==typeof t?t:""+t}function k(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function O(t){return"function"==typeof t}function b(t){return"function"==typeof t}function C(t,e){t=t[e];if(null!=t){if(O(t))return t;throw new TypeError}}function x(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===r)return e;if(e!==r)return e;var n=t.prototype,n=n&&Object.getPrototypeOf(n);if(null==n||n===Object.prototype)return e;n=n.constructor;return"function"!=typeof n||n===t?e:n}function I(t){return t.__=void 0,delete t.__,t}function S(n,r){return function(t,e){"function"!=typeof n[t]&&Object.defineProperty(n,t,{configurable:!0,writable:!0,value:e}),r&&r(t,e)}}void 0===e.Reflect?e.Reflect=Yn:n=S(e.Reflect,n),e=n,u=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,c=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",n="function"==typeof Object.create,t={__proto__:[]}instanceof Array,f={create:n?function(){return I(Object.create(null))}:t?function(){return I({__proto__:null})}:function(){return I({})},has:(n=!n&&!t)?function(t,e){return u.call(t,e)}:function(t,e){return e in t},get:n?function(t,e){return u.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},r=Object.getPrototypeOf(Function),t="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,o=t||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var o={},n=[],t=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[s]=function(){return this},t.prototype.next=function(){var t,e=this._index;return 0<=e&&e<this._keys.length?(t=this._selector(this._keys[e],this._values[e]),e+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:t,done:!1}):{value:void 0,done:!0}},t.prototype.throw=function(t){throw 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),t},t.prototype.return=function(t){return 0<=this._index&&(this._index=-1,this._keys=n,this._values=n),{value:t,done:!0}},t}();function e(){this._keys=[],this._values=[],this._cacheKey=o,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return 0<=this._find(t,!1)},e.prototype.get=function(t){t=this._find(t,!1);return 0<=t?this._values[t]:void 0},e.prototype.set=function(t,e){t=this._find(t,!0);return this._values[t]=e,this},e.prototype.delete=function(t){var e=this._find(t,!1);if(0<=e){for(var n=this._keys.length,r=e+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=o,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=o,this._cacheIndex=-2},e.prototype.keys=function(){return new t(this._keys,this._values,r)},e.prototype.values=function(){return new t(this._keys,this._values,i)},e.prototype.entries=function(){return new t(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[s]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e;function r(t,e){return t}function i(t,e){return e}function a(t,e){return[t,e]}}():Map,l=t||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new o}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[s]=function(){return this.keys()},t}():Set,i=new(t||"function"!=typeof WeakMap?function(){var o=16,e=f.create(),n=r();function t(){this._key=r()}return t.prototype.has=function(t){t=i(t,!1);return void 0!==t&&f.has(t,this._key)},t.prototype.get=function(t){t=i(t,!1);return void 0!==t?f.get(t,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){t=i(t,!1);return void 0!==t&&delete t[this._key]},t.prototype.clear=function(){this._key=r()},t;function r(){for(var t;t="@@WeakMap@@"+function(){for(var t=function(t){return"function"!=typeof Uint8Array?a(new Array(t),t):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t)}(o),e=(t[6]=79&t[6]|64,t[8]=191&t[8]|128,""),n=0;n<o;++n){var r=t[n];4!==n&&6!==n&&8!==n||(e+="-"),r<16&&(e+="0"),e+=r.toString(16).toLowerCase()}return e}(),f.has(e,t););return e[t]=!0,t}function i(t,e){if(!u.call(t,n)){if(!e)return;Object.defineProperty(t,n,{value:f.create()})}return t[n]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}}():WeakMap),e("decorate",function(t,e,n,r){{if(y(n)){if(!k(t))throw new TypeError;if(b(e))return function(t,e){for(var n=t.length-1;0<=n;--n){var r=(0,t[n])(e);if(!y(r)&&!m(r)){if(!b(r))throw new TypeError;e=r}}return e}(t,e);throw new TypeError}if(!k(t))throw new TypeError;if(!_(e))throw new TypeError;if(_(r)||y(r)||m(r))return m(r)&&(r=void 0),n=E(n),function(t,e,n,r){for(var o=t.length-1;0<=o;--o){var i=(0,t[o])(e,n,r);if(!y(i)&&!m(i)){if(!_(i))throw new TypeError;r=i}}return r}(t,e,n,r);throw new TypeError}}),e("metadata",function(n,r){return function(t,e){if(!_(t))throw new TypeError;if(!y(e)&&!function(t){switch(v(t)){case 3:case 4:return 1;default:return}}(e))throw new TypeError;g(n,r,t,e)}}),e("defineMetadata",function(t,e,n,r){if(!_(n))throw new TypeError;y(r)||(r=E(r));return g(t,e,n,r)}),e("hasMetadata",function(t,e,n){if(!_(e))throw new TypeError;y(n)||(n=E(n));return function t(e,n,r){var o=a(e,n,r);if(o)return!0;o=x(n);if(!m(o))return t(e,o,r);return!1}(t,e,n)}),e("hasOwnMetadata",function(t,e,n){if(!_(e))throw new TypeError;y(n)||(n=E(n));return a(t,e,n)}),e("getMetadata",function(t,e,n){if(!_(e))throw new TypeError;y(n)||(n=E(n));return function t(e,n,r){var o=a(e,n,r);if(o)return h(e,n,r);o=x(n);if(!m(o))return t(e,o,r);return}(t,e,n)}),e("getOwnMetadata",function(t,e,n){if(!_(e))throw new TypeError;y(n)||(n=E(n));return h(t,e,n)}),e("getMetadataKeys",function(t,e){if(!_(t))throw new TypeError;y(e)||(e=E(e));return function t(e,n){var r=d(e,n);e=x(e);if(null===e)return r;e=t(e,n);if(e.length<=0)return r;if(r.length<=0)return e;var o=new l;var i=[];for(var a=0,u=r;a<u.length;a++){var c=u[a];o.has(c)||(o.add(c),i.push(c))}for(var s=0,f=e;s<f.length;s++){c=f[s];o.has(c)||(o.add(c),i.push(c))}return i}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!_(t))throw new TypeError;y(e)||(e=E(e));return d(t,e)}),e("deleteMetadata",function(t,e,n){if(!_(e))throw new TypeError;y(n)||(n=E(n));var r=p(e,n,!1);if(y(r))return!1;if(!r.delete(t))return!1;if(0<r.size)return!0;t=i.get(e);return t.delete(n),0<t.size||i.delete(e),!0})}();var Xn=[].slice,$n={},Zn=Function.bind||function(a){var u=i(this),c=Xn.call(arguments,1),s=function(){var t=c.concat(Xn.call(arguments));if(this instanceof s){var e=u,n=t.length,r=t;if(!(n in $n)){for(var o=[],i=0;i<n;i++)o[i]="a["+i+"]";$n[n]=Function("F,a","return new F("+o.join(",")+")")}return $n[n](e,r)}return qe(u,t,a)};return f(u.prototype)&&(s.prototype=u.prototype),s},tr=(y.Reflect||{}).construct,er=c(function(){function t(){}return!(tr(function(){},[],t)instanceof t)}),nr=!c(function(){tr(function(){})});w(w.S+w.F*(er||nr),"Reflect",{construct:function(t,e){i(t),h(e);var n=arguments.length<3?t:i(arguments[2]);if(nr&&!er)return tr(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Zn.apply(t,r))}r=n.prototype,n=re(f(r)?r:Object.prototype),r=Function.apply.call(t,n,e);return f(r)?r:n}});function rr(t,e){if(h(t),!f(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var P=m.Reflect.construct,or=(w(w.S,"Object",{create:re}),m.Object),ir=function(t,e){return or.create(t,e)},r={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=_(Function.call,At.f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return rr(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:rr};w(w.S,"Object",{setPrototypeOf:r.set});var ar=m.Object.setPrototypeOf,ur=t(function(n){function r(t,e){return n.exports=r=ar||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r});var N=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ir(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ur(t,e)};var cr=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var A=function(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?cr(t):e};Tt("getPrototypeOf",function(){return function(t){return Me(K(t))}});var sr=m.Object.getPrototypeOf,T=t(function(e){function n(t){return e.exports=n=ar?sr:function(t){return t.__proto__||sr(t)},n(t)}e.exports=n}),M=function(){function t(){u(this,t)}return g(t,null,[{key:"isLoaded",value:function(){return window.performance&&window.performance.timing?!!window.performance.timing.loadEventEnd:"complete"===window.document.readyState}},{key:"isEmptyString",value:function(t){if(!t)return!1;var e=!0;return"[object String]"!==Object.prototype.toString.call(t)&&(e=!1),e=0===t.replace(/(^\s*)|(\s*$)/g,"").length?!1:e}},{key:"dispatchOmgLog",value:function(t){var e=document.createEvent("MessageEvent");e.initMessageEvent("omglog",!1,!1,t,"","",window),window.dispatchEvent(e)}},{key:"isDesktop",value:function(){return window.location&&"file:"===window.location.protocol}},{key:"getProtocol",value:function(){return"https://"}}]),t}(),fr=function(){function n(t,e){u(this,n),this.pluginConstrs=e,this.tracker=t}return g(n,[{key:"getPlugins",value:function(){var e=this;return this.plugins||(this.plugins=this.pluginConstrs.map(function(t){return new t(e.tracker)})),this.plugins}},{key:"getExtraPluginsUrl",value:function(){var t="tracker.didiglobal.com",e="tracker_global",n=(/global/.test(this.tracker.getContext().uploadHost||"")&&(t="tracker.didiglobal.com",e="tracker_global"),/omgup-ru\.didiglobal\.com/.test(this.tracker.getContext().uploadHost||"")&&(t="gift-de01-cdn.didiglobal.com",e="tracker_de"),/omgup-de\.didiglobal\.com/.test(this.tracker.getContext().uploadHost||"")&&(t="gift-de01-cdn.didiglobal.com",e="tracker_de"),"omgup.1meal.net"===this.tracker.getContext().uploadHost&&(t="falcon-static.1meal.net",e="falcon_public/tracker"),M.getProtocol());return"".concat(n).concat(t,"/static/").concat(e,"/2.5.33/").concat(this.getExtraPluginsUrlName())}},{key:"getExtraPluginsUrlName",value:function(){return"omega.default.extra.plugins.min.js"}}]),n}(),lr=m.JSON||(m.JSON={stringify:JSON.stringify}),pr=function(t){return lr.stringify.apply(lr,arguments)},hr=function(){function t(){u(this,t)}return g(t,[{key:"postMessage",value:function(t,e){window.webkit.messageHandlers[t].postMessage(e)}},{key:"setTelephone",value:function(t,e){this.postMessage("setTelephone",pr({tel:t}))}},{key:"setUserId",value:function(t){this.postMessage("setUserId",pr({userId:t}))}},{key:"setCityId",value:function(t){this.postMessage("setCityId",pr({cityId:t}))}},{key:"trackEventEx",value:function(t,e,n,r,o){this.postMessage("trackEventEx",pr({eventId:t,eventLabel:e,attrJson:n,sysJson:r,exJson:o}))}},{key:"getInfo",value:function(e){function n(t){t&&t.data&&t.data.oid&&(window.removeEventListener("message",n),e&&e(t.data))}this.postMessage("getInfo",pr({getInfo:function(t){window.postMessage(t.info,location.href)}.toString()}));return window.addEventListener("message",n),""}}]),t}(),gr=function(){function o(){u(this,o)}return g(o,null,[{key:"inEnv",value:function(){return!!window.OmegaSDK||o.inWKWebview()}},{key:"inWKWebview",value:function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getInfo}},{key:"getOmegaSDK",value:function(){var t=window.OmegaSDK;return t||(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.getInfo?new hr:void 0)}},{key:"fetchAppOmgId",value:function(t){return new I(function(e){var t=o.getOmegaSDK();if(t)if(o.inWKWebview())t.getInfo(function(t){t&&t.oid&&e(t.oid)});else try{var n,r=t.getInfo();!r||(n=JSON.parse(r))&&n.oid&&e(n.oid)}catch(t){}})}}]),o}();function dr(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var vr=function(){N(e,fr);var t=dr(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"validate",value:function(t){return this.context=t,!0===this.context.disableBridge?(gr.inEnv()&&this.syncNativeOid(),!1):gr.inEnv()}},{key:"syncNativeOid",value:function(e){var n=this.context;n&&(n.isInNative=!0),gr.fetchAppOmgId().then(function(t){a(n,{omgId:t,nativeDone:!0}),e&&e()})}},{key:"beforeDeliver",value:function(t){var e=this;return new I(function(t){e.context&&e.syncNativeOid(t)})}},{key:"getExtraPluginsUrlName",value:function(){return"omega.default.app.extra.plugins.min.js"}}]),e}(),yr=function(){function r(){u(this,r)}return g(r,null,[{key:"getByte2Hex",value:function(){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);return t}},{key:"bytesToUuid",value:function(t,e){var e=e||0,n=r.getByte2Hex();return[n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],"-",n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],n[t[e++]],n[t[+e]]].join("")}},{key:"v4",get:function(){for(var t=new Array(16),e=0,n=0;n<16;++n)0==(3&n)&&(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t[6]=15&t[6]|64,t[8]=63&t[8]|128,r.bytesToUuid(t)}}]),r}();function mr(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var _r="_OMGID",wr=function(){N(e,fr);var t=mr(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"validate",value:function(t){return this.context=t,!0}},{key:"getOmgIdFromCookie",value:function(){for(var t=document.cookie.split(";"),e=0,n=t.length;e<n;++e)if(0===t[e].trim().indexOf("".concat(_r,"=")))return t[e].split("=")[1].trim()}},{key:"beforeDeliver",value:function(t){var e;return this.context&&((e=(e=this.context.omgId)||(this.getOmgIdFromCookie()||this.getOidFromLocal()))||(e=yr.v4,this.context.useLocalOid?this.saveOidToLocal(e):this.saveOidToCookie(e)),a(this.context,{omgId:e})),I.resolve()}},{key:"getOidFromLocal",value:function(){var t=localStorage.getItem(_r);if(t)return t}},{key:"saveOidToLocal",value:function(t){localStorage.setItem(_r,t)}},{key:"saveOidToCookie",value:function(t){var e=new Date;e.setFullYear(e.getFullYear()+10),document.cookie="".concat(_r,"=").concat(t,"; expires=").concat(e,"; path=/")}}]),e}();function Er(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var kr=function(){N(e,fr);var t=Er(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"validate",value:function(t){return!!(this.context=t).unique}},{key:"getOmgIdFromCookie",value:function(){for(var t=document.cookie.split(";"),e=0,n=t.length;e<n;++e)if(0===t[e].trim().indexOf("".concat("_OMGID","=")))return t[e].split("=")[1].trim()}},{key:"beforeDeliver",value:function(e){this.context&&((t=this.context.omgId||this.getOmgIdFromCookie())||(t=yr.v4,(r=new Date).setFullYear(r.getFullYear()+10),document.cookie="".concat("_OMGID","=").concat(t,"; expires=").concat(r,"; path=/")),a(this.context,{omgId:t}));var t,n,r=new I(function(t){n=t}),o=e.setOpenId;return e.setOpenId=function(t){o.call(e,t),t&&n&&n()},r}}]),e}(),Or=function(){function o(){u(this,o)}return g(o,null,[{key:"reportCallbackName",value:function(t){var e=o.OMG_CALLBACK_OBJ_NAME,n="_cbk".concat((new Date).getTime()),r=(t="".concat(t,"&cbk=").concat(e,".").concat(n),this);return window[e]?window[e][n]=function(){delete window[e][n],r.reportCallback.apply(r,arguments)}:window[e]=Se({},n,function(){delete window[e][n],r.reportCallback.apply(r,arguments)}),t}},{key:"reportCallback",value:function(t){var e=o.OMG_EVENT_BLACKLIST_NAME;if(t&&t.eventid)for(var n in window[e]||(window[e]=[]),t.eventid)0===t.eventid[n]?window[e].indexOf(n)<0&&window[e].push(n):0<=(n=window[e].indexOf(n))&&window[e].splice(n,1)}}]),o}();Or.OMG_CALLBACK_OBJ_NAME="__OMG_CBKS__",Or.OMG_EVENT_BLACKLIST_NAME="__OMG_EVENT_BLACKLIST__",w(w.S,"Reflect",{get:function t(e,n){var r,o=arguments.length<3?e:arguments[2];return h(e)===o?e[n]:(r=At.f(e,n))?d(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:f(r=Me(e))?t(r,n,o):void 0}});var br=m.Reflect.get;var Cr,xr=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t},Ir=t(function(r){function o(t,e,n){return"undefined"!=typeof Reflect&&br?r.exports=o=br:r.exports=o=function(t,e,n){var t=xr(t,e);if(t)return t=Vt(t,e),t.get?t.get.call(n):t.value},o(t,e,n||t)}r.exports=o}),Sr=((e=Cr=Cr||{}).NORMAL="normal",e.BLOCKED="blocked",e.FAILED="failed",e.TIMEOUT="timeout",function(){function r(t,e,n){u(this,r),this.attrs=t,this.context=e,this.info=n}return g(r,[{key:"getVersion",value:function(){return{trackerVersion:this.getContext().version}}},{key:"getData",value:function(){var t=this.getContext(),e=t.appKey||t.productName,n=t.url||location.href;t&&t.modifyAppKey&&this.info&&this.info.appKey&&(e=this.info.appKey);try{t&&t.noUrlParam?n=n.split("?")[0]:t&&t.formatUrl&&(n=t.formatUrl(n))}catch(t){console.info("url解析异常",t)}return{eventId:this.getType(),timestamp:(new Date).getTime(),viewportId:t.viewportId,appName:t.appName,appVersion:t.appVersion,omgId:t.omgId,url:n,userAgent:t.userAgent,osType:t.osType,osVersion:t.osVersion,appKey:e,userName:t.userName,userId:t.userId,bizId:t.bizId,locale:t.locale,countyId:t.countyId,countryCallingCode:t.countryCallingCode,utcOffset:t.utcOffset,attrs:this.getAttrs(),from:this.getFrom()}}},{key:"getDataKeyMap",value:function(){return{eventId:"e",timestamp:"ts",viewportId:"uwid",version:"jv",appName:"an",appVersion:"av",omgId:"oid",url:"v",latitude:"lat",longitude:"lng",userAgent:"ua",osType:"ot",osVersion:"ov",appKey:"ak",userName:"un",userId:"uid",cityId:"cityid",telephone:"tel",bizId:"bizId",locale:"le",countyId:"coi",countryCallingCode:"dcc",utcOffset:"uo",from:"fr"}}},{key:"getAttrsKeyMap",value:function(){return{_label:"l",trackerVersion:"jv"}}},{key:"serialize2JsonStrWithoutAttrs",value:function(){try{var t,e=this.getData(),n={},r=this.getDataKeyMap();for(t in e)"attrs"===t||/Null|Undefined/.test(Object.prototype.toString.call(e[t]))||(n[r[t]||t]=e[t]);return pr(n)}catch(t){return M.dispatchOmgLog("serialize2JsonStrWithoutAttrs Error"),""}}},{key:"serialize",value:function(){var n=this;try{var r=this.getData(),t=xe(r).sort(),o=[],i=this.getDataKeyMap();return t.forEach(function(t){var e;"attrs"===t||/Null|Undefined/.test(Object.prototype.toString.call(r[t]))?"attrs"===t&&"{}"!==(e=n.serializeAttrs2JsonStr(r.attrs||{}))&&o.push("attrs=".concat(encodeURIComponent(e))):o.push("".concat(i[t]||t,"=").concat(encodeURIComponent(r[t])))}),o.join("&")}catch(t){return M.dispatchOmgLog("serialize Error"),""}}},{key:"serializeAttrs2JsonStr",value:function(t){try{var e,n,r={},o=this.getAttrsKeyMap();for(e in t)t.hasOwnProperty(e)&&(n=o[e]||e,/Object|Array/.test(Object.prototype.toString.call(t[e]))?r[n]=pr(t[e]):/String/.test(Object.prototype.toString.call(t[e]))||/Number/.test(Object.prototype.toString.call(t[e]))?r[n]=t[e]:/Boolean/.test(Object.prototype.toString.call(t[e]))&&(r[n]=0|t[e]));return pr(r)}catch(t){return M.dispatchOmgLog("serializeAttrs2JsonStr Error"),""}}},{key:"getContext",value:function(){return this.context}},{key:"getAttrs",value:function(){var t={},e=this.getContext();return e.openId&&(t._OMGPUID=e.openId),a(t,e.attrs||{},this.attrs,this.getVersion())}},{key:"getFrom",value:function(){var t=this.getContext();return M.isEmptyString(t.from)?"h5-".concat(t.from):"h5"}}]),r}());function Pr(e,t){var n,r=xe(e);return Ce&&(n=Ce(e),t&&(n=n.filter(function(t){return Vt(e,t).enumerable})),r.push.apply(r,n)),r}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach(function(t){Se(e,t,n[t])}):Ht?xt(e,Ht(n)):Pr(Object(n)).forEach(function(t){kt(e,t,Vt(n,t))})}return e}function Ar(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Tr=function(){N(i,Sr);var o=Ar(i);function i(t,e,n){u(this,i),t=o.call(this,t,e,n);var n=i.OMG_SEQUENCE_NAME_PREFIX,r=i.OMG_SEQUENCE_NAME_SUFFIX;return window["".concat(n).concat(e.viewportId).concat(r)]||(window["".concat(n).concat(e.viewportId).concat(r)]=0),t.sequence=window["".concat(n).concat(e.viewportId).concat(r)]++,t}return g(i,[{key:"getData",value:function(){return Nr(Nr({},Ir(T(i.prototype),"getData",this).call(this)),{},{sequence:this.sequence})}},{key:"getDataKeyMap",value:function(){return Nr(Nr({},Ir(T(i.prototype),"getDataKeyMap",this).call(this)),{},{sequence:"seq"})}},{key:"status",get:function(){return Cr.NORMAL}}]),i}(),L=(Tr.OMG_SEQUENCE_NAME_PREFIX="__OMG_SEQUENCE_",Tr.OMG_SEQUENCE_NAME_SUFFIX="__",g(function t(){u(this,t)})),Mr=(L.PLUGIN_NAME_PAGE_INIT="OMGH5PageInit-reporting-strategy-plugin",L.PLUGIN_NAME_OMGLOG="OMGH5Log-reporting-strategy-plugin",L.PLUGIN_NAME_PAGE_VIEW="OMGH5PageView-reporting-strategy-plugin",L.PLUGIN_NAME_PAGE_LEAVE="OMGH5PageLeave-reporting-strategy-plugin",L.PLUGIN_NAME_RECEIVED="OMGH5Received-reporting-strategy-plugin",L.PLUGIN_NAME_CLICK="OMGH5Click-reporting-strategy-plugin",L.PLUGIN_NAME_JS_ERROR="OMGH5JsError-reporting-strategy-plugin",L.PLUGIN_NAME_ERROR="OMGH5Error-reporting-strategy-plugin",L.PLUGIN_NAME_CUSTOM="OMGH5Custom-reporting-strategy-plugin",L.PLUGIN_NAME_PERFORMANCE="OMGH5Performance-reporting-strategy-plugin",L.PLUGIN_NAME_SAFETYPING="OMGH5SafeTyping-reporting-strategy-plugin",L.EVENT_ID_PAGE_INIT="OMGH5PageInit",L.EVENT_ID_OMG_LOG="OMGH5Log",L.EVENT_ID_PAGE_VIEW="OMGH5PageView",L.EVENT_ID_PAGE_LEAVE="OMGH5PageLeave",L.EVENT_ID_RECEIVED="OMGH5Received",L.EVENT_ID_CLICK="OMGH5Click",L.EVENT_ID_JS_ERROR="OMGH5JsError",L.EVENT_ID_ERROR="OMGH5Error",L.EVENT_ID_PERFORMANCE="OMGH5Performance",L.EVENT_ID_SAFETYPING="OMGSafeTyping",function(){function t(){u(this,t),this.plugins=[]}return g(t,[{key:"register",value:function(t){return!this.contains(t)&&(t.install(),this.plugins.push(t),!0)}},{key:"contains",value:function(t){if("string"==typeof t){for(var e=0,n=this.size();e<n;++e)if(this.plugins[e].getName()===t)return!0;return!1}for(var r=0,o=this.size();r<o;++r)if(this.plugins[r].getName()===t.getName())return!0;return!1}},{key:"size",value:function(){return this.plugins.length}},{key:"removePlugin",value:function(t){if(this.contains(t))return this.plugins.splice(this.plugins.indexOf(t),1),t}},{key:"unregister",value:function(t){if(this.contains(t)){if("string"!=typeof t)return this.removePlugin(t)?t:null;for(var e=0,n=this.plugins.length;e<n;++e){var r=this.plugins[e];if(r.getName()===t)return this.removePlugin(r)?r:null}return null}return null}},{key:"unregisterAll",value:function(){for(;this.plugins.length;){var t=this.plugins.pop();t&&t.uninstall()}}},{key:"toArray",value:function(){return this.plugins}}]),t}()),Lr=function(){function e(t){u(this,e),this.installed=!1,this.context=t}return g(e,[{key:"getName",value:function(){return"non-h5-plugin"}},{key:"getContext",value:function(){return this.context}},{key:"install",value:function(){return this.installed=!0,this.installed}},{key:"hasInstalled",value:function(){return this.installed}},{key:"execute",value:function(){}},{key:"exit",value:function(){}},{key:"uninstall",value:function(){return this.exit(),this.installed=!1,delete this.context,!0}}]),e}();function jr(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Rr=function(){N(i,Sr);var o=jr(i);function i(t,e,n,r){return u(this,i),(n=o.call(this,n,r)).error=t,n.eventId=e,n}return g(i,[{key:"getType",value:function(){return this.eventId}},{key:"status",get:function(){return Cr.FAILED}},{key:"getError",value:function(){return this.error}}]),i}();function Gr(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Dr=function(){N(o,Sr);var r=Gr(o);function o(t,e,n){return u(this,o),(e=r.call(this,e,n)).eventId=t,e}return g(o,[{key:"getType",value:function(){return this.eventId}},{key:"status",get:function(){return Cr.TIMEOUT}}]),o}(),Ur=function(){function n(t,e){u(this,n),this.context=t,this.event=e}return g(n,[{key:"reportEvent",value:function(){var a=this;return new I(function(t,e){if(!M.isEmptyString(a.event.getData().appKey||""))throw M.dispatchOmgLog("[Omega]na appKey 参数 不可为空"),new Error("[Omega]na appKey 参数 不可为空");var n=gr.getOmegaSDK();if(n){var r=setTimeout(function(){clearTimeout(r),e(new Dr(a.event.getType(),a.event.getData().attrs||{},a.context))},a.context.timeout||3e3);try{var o=a.event.getData(),i=(o.userId&&n.setUserId&&n.setUserId(o.userId),o.telephone&&n.setTelephone&&n.setTelephone(o.telephone),o.cityId&&n.setCityId&&n.setCityId(Number(o.cityId)),o.attrs||{});n.trackEventEx(o.eventId,i.label||"",a.event.serializeAttrs2JsonStr(i),a.event.serialize2JsonStrWithoutAttrs(),"{nt:1}"),clearTimeout(r),t(a.event)}catch(t){M.dispatchOmgLog("端上数据发送失败"+a.event.getType()),clearTimeout(r),e(new Rr(t,a.event.getType(),a.event.getData().attrs||{},a.context))}}else M.dispatchOmgLog("na 未能找到omegaSDK"),e(new Rr(new Error("[Omega]Cannot fetch the omegaSDK from the native omega sdk."),a.event.getType(),a.event.getData().attrs||{},a.context))})}}]),n}();function Fr(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Hr=function(){N(e,Tr);var t=Fr(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"getType",value:function(){return L.EVENT_ID_PAGE_INIT}}]),e}();function Br(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Kr=function(){N(o,Sr);var r=Br(o);function o(t,e,n){return u(this,o),(e=r.call(this,e,n)).eventId=t,e}return g(o,[{key:"initSequence",value:function(){}},{key:"getType",value:function(){return this.eventId}},{key:"status",get:function(){return Cr.BLOCKED}}]),o}();function Vr(e,t){var n,r=xe(e);return Ce&&(n=Ce(e),t&&(n=n.filter(function(t){return Vt(e,t).enumerable})),r.push.apply(r,n)),r}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach(function(t){Se(e,t,n[t])}):Ht?xt(e,Ht(n)):Vr(Object(n)).forEach(function(t){kt(e,t,Vt(n,t))})}return e}var zr=["omgup.xiaojukeji.com","omgup1.xiaojukeji.com","omgup2.xiaojukeji.com"],Jr=["omgup.didiglobal.com"],qr=["omgup-ru.didiglobal.com"],Yr=[{uaRegExps:[/(miniProgram)\/([\w\.]+)/i],name:"WeChatMiniProgram"},{uaRegExps:[/(micromessenger)\/([\w\.]+)/i],name:"WeChat"},{uaRegExps:[/(alipayclient)\/([\w\.]+)/i],name:"Alipay"},{uaRegExps:[/(QQ)\/([\d\.]+)/i],name:"QQ"},{uaRegExps:[/(didi\.sdk)\/([\w\.]+)/i],name:"didi.sdk"},{name:"dingding",uaRegExps:[/dingtalk/i]},{name:"didi.passenger",uaRegExps:[/didi\.passenger/i]},{name:"didi.lite",uaRegExps:[/didi\.lite/i]},{name:"zhuankuai.driver",uaRegExps:[/didigsui/i,/ddudriver/i]},{name:"zhuanche.assistant.driver",uaRegExps:[/zhuanche\.cici/i]},{name:"didi.galaxy",uaRegExps:[/didi\.galaxy/i]},{name:"daijia.driver",uaRegExps:[/daijia\.driver/i]},{name:"didi.driver.tw",uaRegExps:[/didi\.driver\.tw/i]},{name:"didi.driver.hk",uaRegExps:[/didi\.driver\.hk/i]},{name:"didi.global",uaRegExps:[/global/i]},{name:"didi.mini",uaRegExps:[/mini/i]},{name:"didies",uaRegExps:[/didies/i]},{name:"hm",uaRegExps:[/hm\.passenger/i]},{name:"weibo",uaRegExps:[/weibo/i]}],Qr=[{uaRegExps:[/(android)[\/\s-]?([\w\.]*)/i],name:"Android"},{uaRegExps:[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],name:"iOS"},{uaRegExps:[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],name:"Mac OS"},{uaRegExps:[/microsoft\s(windows)\s(vista|xp)/i,/(windows)\snt\s6\.2;\s(arm)/i],name:"Windows"}],Xr=function(){function n(t){u(this,n),this.installed=!1,this.tracker=t;var e=this.tracker.getContext().appKey||this.tracker.getContext().productName;this.breadcrumbListName=this.getBreadcrumbListName(e||"Other"),a(t.getContext(),this.initialzedContext)}return g(n,[{key:"getBreadcrumbListName",value:function(t){return t=t.replace(/\./g,"_"),"____OMG_BREADCRUMBS_".concat(t,"__")}},{key:"sliceBreadcrumbList",value:function(){10<(window[this.breadcrumbListName]||[]).length&&(window[this.breadcrumbListName].length=10)}},{key:"getInfo",value:function(t){for(var e=navigator.userAgent,n=0,r=t.length;n<r;++n)for(var o=t[n],i=o.name,a=o.uaRegExps,u=0,c=a.length;u<c;++u){var s,f=a[u].exec(e);if(f&&f.length)return s=f[2],"iOS"===i?s=f[1].replace(/_/g,"."):"Mac OS"===i?s=s.replace(/_/g,"."):"WeChat"===i&&window.wx&&wx&&wx.miniProgram&&wx.miniProgram.getEnv&&"function"==typeof wx.miniProgram.getEnv?wx.miniProgram.getEnv(function(t){t.miniprogram&&(i="WeChatMiniProgram")}):"Alipay"===i&&window.my&&my&&my.getEnv&&"function"==typeof my.getEnv&&my.getEnv(function(t){t.miniprogram&&(i="AlipayMiniProgram")}),{name:i,version:s}}}},{key:"getDeviceInfo",value:function(){var t,e,n="Others",r="Others",o=this.getInfo(this.getBrowserRegExpsInUA()),o=(o&&(n=o.name,t=o.version),this.getInfo(this.getOSRegExpsInUA())),o=(o&&(r=o.name,e=o.version),this.getContext());return{appName:o.appName||n,appVersion:o.appVersion||t,osType:o.osType||r,osVersion:o.osVersion||e}}},{key:"getBrowserRegExpsInUA",value:function(){return Yr}},{key:"getOSRegExpsInUA",value:function(){return Qr}},{key:"getUploadHost",value:function(){var t=this.getContext().uploadHost||"omgup.xiaojukeji.com";return/xiaojukeji\.com/.test(t)?-1<zr.indexOf(t)&&(t=zr[Math.floor(Math.random()*zr.length)]):/omgup-ru\.didiglobal.com\.com/.test(t)?-1<qr.indexOf(t)&&(t=qr[Math.floor(Math.random()*qr.length)]):/didiglobal\.com/.test(t)&&-1<Jr.indexOf(t)&&(t=Jr[Math.floor(Math.random()*Jr.length)]),t}},{key:"initialzedContext",get:function(){return Wr(Wr({},this.getDeviceInfo()),{},{uploadHost:this.getUploadHost()})}},{key:"getContext",value:function(){return this.tracker.getContext()}},{key:"getTracker",value:function(){return this.tracker}},{key:"install",value:function(){return this.installed=!0,this.installed}},{key:"hasInstalled",value:function(){return this.installed}},{key:"uninstall",value:function(){return this.exit(),this.installed=!1,delete this.tracker,!0}},{key:"compatibleCallback",value:function(t,e){return t.cb&&t.cb(e),e}},{key:"addTrackerEventToBreadcrumb",value:function(t){t.getType()===L.EVENT_ID_CLICK&&(window[this.breadcrumbListName]||(window[this.breadcrumbListName]=[]),window[this.breadcrumbListName].push(t.serialize()),10<window[this.breadcrumbListName].length&&(window[this.breadcrumbListName].length=10))}},{key:"report",value:function(e){var t,n=this;return this.sliceBreadcrumbList(),(window[Or.OMG_EVENT_BLACKLIST_NAME]||[]).some(function(t){return t===e.eventId})?(t=new Kr(e.eventId,e.attrs,this.getContext()),I.resolve(this.compatibleCallback(e,t)).then(function(t){return n.dispatchTrackerEventUnderWindow(t),t})):(t=this.generateEvent(e),this.dispatchTrackerEventUnderWindow(t),this.addTrackerEventToBreadcrumb(t),this.getEventReportor(t).reportEvent().then(function(t){return n.compatibleCallback(e,t)},function(t){return n.compatibleCallback(e,t)}))}},{key:"dispatchTrackerEventUnderWindow",value:function(t){var e=document.createEvent("MessageEvent");e.initMessageEvent("omegatrack",!1,!1,t,"","",window),window.dispatchEvent(e)}}]),n}();function $r(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var Zr=function(){N(r,Xr);var t=$r(r);function r(){return u(this,r),t.apply(this,arguments)}return g(r,[{key:"install",value:function(){var t=this.getContext();if(t&&t.disabledInit)return Ir(T(r.prototype),"install",this).call(this);var e,n={trackerVersion:this.getContext().version};try{t&&t.getXspmAttrs&&(e=t.getXspmAttrs(),a(n,e))}catch(t){console.info("合并xspm参数失败")}return this.report({eventId:L.EVENT_ID_PAGE_INIT,attrs:n}),Ir(T(r.prototype),"install",this).call(this)}},{key:"getName",value:function(){return L.PLUGIN_NAME_PAGE_INIT}},{key:"execute",value:function(){}},{key:"exit",value:function(){}},{key:"generateEvent",value:function(t){return new Hr(t.attrs,this.getContext())}}]),r}();function to(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var eo=function(){N(e,Zr);var t=to(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"getEventReportor",value:function(t){return new Ur(this.getContext(),t)}}]),e}(),no=function(){function t(){u(this,t),this.arr=[]}return g(t,[{key:"uniq",value:function(e){var n=!0;return this.arr.forEach(function(t){e.getData().viewportId===t.getData().viewportId&&e.getData().sequence===t.getData().sequence&&(n=!1)}),n}},{key:"add",value:function(t){this.uniq(t)&&this.arr.push(t)}},{key:"empty",value:function(){return 0===this.arr.length}},{key:"removeAll",value:function(){this.arr=[]}},{key:"getData",value:function(){return this.arr}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),this.instance}}]),t}(),ro=function(){function n(t,e){u(this,n),this.errorreportedEvents=no.getInstance(),this.event=e,this.context=t,this.unreportedEvents=[],this.reportEventsAfterLoad=this.reportEventsAfterLoad.bind(this),window.addEventListener("load",this.reportEventsAfterLoad)}return g(n,[{key:"reportEventsAfterLoad",value:function(){for(window.removeEventListener("load",this.reportEventsAfterLoad);this.unreportedEvents.length;){var t=this.unreportedEvents.shift();t&&this.reportEventImmediately(t.event).then(t.resolve,t.reject)}}},{key:"getContext",value:function(){return this.context}},{key:"reportPath",get:function(){return"/api/web/stat"}},{key:"reportEvent",value:function(){var e=this;if(M.isEmptyString(this.event.getData().appKey))return this.errorreportedEvents.empty()||this.errorreportedEvents.getData().forEach(function(t){e.reportEventImmediately(t)}),this.errorreportedEvents.removeAll(),this.reportEventImmediately(this.event);throw M.dispatchOmgLog("[Omega] H5 appKey 参数 不可为空"),new Error("[Omega] H5 appKey 参数 不可为空")}}]),n}(),oo=function(){function t(){u(this,t)}return g(t,null,[{key:"encodeHash",value:function(t){for(var e=1315423911,n=0,r=t.length;n<r;++n)e^=(e<<5)+t.charCodeAt(n)+(e>>2);return 2147483647&e}},{key:"encodeHashUrl",value:function(t){return"".concat(t,"&tk=").concat(this.encodeHash(t))}}]),t}();function io(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var ao="__OMG_FORBID_EVENTLIST__",uo=function(){N(n,ro);var t=io(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).startForbidReport=!1,e.addForbidEvent=function(t){50<e.forbidReportEventList.length||e.forbidReportEventList.push(t)},e.onChangeForbidFalse=function(){e.startForbidReport||(e.startForbidReport=!0,e.reportForBidEvent())},e.reportForBidEvent=function(){var t;e.getContext().forbidReport||e.forbidReportEventList&&e.forbidReportEventList.length&&((t=e.forbidReportEventList.pop())&&e.reportEventImmediately(t).then(function(){e.reportForBidEvent()}).catch(function(){e.reportForBidEvent()}))},e}return g(n,[{key:"forbidReportEventList",get:function(){return window[ao]||(window[ao]=[]),window[ao]}},{key:"getOmgci",value:function(){if(this.getContext().cityId){var t,e,n=Number(this.getContext().cityId);if(!isNaN(n))return t=String(n).length,e=(e="".concat((new Date).getTime())).slice(0,-(t+1)),"".concat(e).concat(n).concat(t)}return""}},{key:"reportEventImmediately",value:function(i){var a=this;return this.getContext().forbidReport?(this.startForbidReport=!1,this.addForbidEvent(i),I.resolve(i)):(this.onChangeForbidFalse(),new I(function(e,t){var n="".concat(M.getProtocol()).concat(a.getContext().uploadHost).concat(a.reportPath),r=new XMLHttpRequest,o=i.getData(),n=(r.timeout=a.getContext().timeout||1500,r.ontimeout=function(){t(new Dr(i.getType(),o.attrs||{},a.getContext()))},r.open("POST",n+"?e=".concat(i.getType())),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),r.setRequestHeader("oid",o.omgId||""),r.setRequestHeader("seq",o.appKey||""),a.getOmgci());n&&r.setRequestHeader("omgci",n),r.setRequestHeader("msgid","".concat(o.viewportId||"","-").concat(o.sequence||"","-").concat(o.timestamp||"")),r.send(oo.encodeHashUrl(i.serialize())),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status)try{var t=JSON.parse(r.responseText);t.state&&200!==t.state.code&&(500===t.state.code&&a.errorreportedEvents.add(i),M.dispatchOmgLog("POST 200 上报错误".concat(i.getType(),"_\n                            ").concat(t.state.code||0,"_").concat(t.state.msg||""))),Or.reportCallback(t),e(i)}catch(t){console.error("上报成功后解析失败:".concat(r.responseText))}},r.onerror=function(){500===r.status?a.errorreportedEvents.add(i):console.error("POST上报失败onerror"+r.status),t(new Rr(new Error("POST Error"),i.getType(),o.attrs||{},a.getContext()))}}))}}]),n}();function co(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var so=function(){N(e,Zr);var t=co(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"getEventReportor",value:function(t){return new uo(this.getContext(),t)}}]),e}();function fo(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var lo=function(){N(e,Tr);var t=fo(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"getType",value:function(){return L.EVENT_ID_OMG_LOG}}]),e}();function po(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var ho=function(){N(n,Xr);var t=po(n);function n(){return u(this,n),t.apply(this,arguments)}return g(n,[{key:"install",value:function(){var e=this;return window.addEventListener("omglog",function(t){e.reportLog(t)}),Ir(T(n.prototype),"install",this).call(this)}},{key:"getName",value:function(){return L.PLUGIN_NAME_OMGLOG}},{key:"execute",value:function(){}},{key:"exit",value:function(){window.removeEventListener("omglog",this.reportLog)}},{key:"reportLog",value:function(t){this.report({eventId:L.EVENT_ID_OMG_LOG,attrs:{trackerVersion:this.getContext().version,log:"[Omega]"+(t.data||"")}})}},{key:"generateEvent",value:function(t){return new lo(t.attrs,this.getContext())}}]),n}();function go(n){var r=function(){if("undefined"==typeof Reflect||!P)return!1;if(P.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(P(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,P(e,arguments,t)):e.apply(this,arguments),A(this,t)}}var vo=function(){N(e,ho);var t=go(e);function e(){return u(this,e),t.apply(this,arguments)}return g(e,[{key:"getEventReportor",value:function(t){return new uo(this.getContext(),t)}}]),e}();function yo(e,t){var n,r=xe(e);return Ce&&(n=Ce(e),t&&(n=n.filter(function(t){return Vt(e,t).enumerable})),r.push.apply(r,n)),r}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach(function(t){Se(e,t,n[t])}):Ht?xt(e,Ht(n)):yo(Object(n)).forEach(function(t){kt(e,t,Vt(n,t))})}return e}var b=M.getProtocol(),_o=b+"tracker.didiglobal.com/static/tracker_global/2.5.33/omega.configs.min.js",wo=b+"tracker.didiglobal.com/static/tracker_global/2.5.33/omega.configs.min.js",Eo=b+"gift-de01-cdn.didiglobal.com/static/tracker_de/2.5.33/omega.configs.min.js",ko=b+"falcon-static.1meal.net/static/falcon_public/tracker/2.5.33/omega.configs.min.js";function Oo(t,e,n){var i=n.value;n.value=function(){for(var n=arguments,r=this,t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.getPluginConllection().size()<=2?new I(function(t,e){r.holdMethod(i,n,t,e)}):i.apply(this,arguments)}}var j=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,i),this.methodHolderChainIsDone=!1,this.clickedCover={attr:"auto-track-click"},this.OMG_UWID_NAME="",this.trackHandlers=[],this.methodHolderChain=[],this.beforeErrorList=[],this.context=this.getDefaultContext(),"omgup.1meal.net"===t.uploadHost?this.extraConfigsUrl=this.getRlabDefaultConfigUrl():/global/.test(t.uploadHost||"")?/omgup-ru\.didiglobal\.com/.test(t.uploadHost||"")?(console.error("该机房已迁移为欧洲机房"),this.extraConfigsUrl=this.getDeDefaultConfigUrl()):/omgup-de\.didiglobal\.com/.test(t.uploadHost||"")?this.extraConfigsUrl=this.getDeDefaultConfigUrl():this.extraConfigsUrl=this.getGlobalDefaultConfigUrl():this.extraConfigsUrl=this.getLocalDefaultConfigUrl(),this.pluginCollection=new Mr,this.pagehideHandler=this.pagehideHandler.bind(this),this.initAsyncPluginCollection=this.initAsyncPluginCollection.bind(this),this.initSyncPluginCollection=this.initSyncPluginCollection.bind(this),this.setBeforeError=this.setBeforeError.bind(this),this.setConfig(t)}return g(i,[{key:"getDefaultContext",value:function(){var t=this.OMG_UWID_NAME||"";return t||(t=yr.v4,this.OMG_UWID_NAME=t),{viewportId:t,version:"2.5.33",url:window.location.href,utcOffset:-(new Date).getTimezoneOffset(),userAgent:window.navigator.userAgent,timeout:4e3,isFirstSw:!0}}},{key:"holdMethod",value:function(t,e,n,r){this.methodHolderChain.push({method:t,arguments:e,resolve:n,reject:r})}},{key:"pagehideHandler",value:function(){this.trackEvent(L.EVENT_ID_PAGE_LEAVE)}},{key:"init",value:function(t){t&&t.useLocalOid&&(this.context.useLocalOid=!0),this.initSyncPluginCollection(),window.addEventListener("error",this.setBeforeError),window.removeEventListener("load",this.setBeforeError),this.proxyConsoleError(),t&&t.fastLoad||M.isLoaded()?this.initAsyncPluginCollection():window.addEventListener("load",this.initAsyncPluginCollection),window.addEventListener("pagehide",this.pagehideHandler)}},{key:"proxyConsoleError",value:function(){var e=this;if(!1!==e.context.autoConsoleError&&console&&"object"===("undefined"==typeof console?"undefined":Ze(console)))try{var n=console.error;console.error=function(){try{var t=arguments[0];t&&t.message&&t.stack&&e.setBeforeError({type:"error",error:t,message:t.message})}catch(t){console.info("代理console.error失败,".concat(t))}return n.apply(this,arguments)}}catch(t){console.info("代理console.error失败,".concat(t))}}},{key:"setBeforeError",value:function(t){M.isLoaded()||((t&&t.type&&"error"===t.type||t&&t.message&&t.stack)&&this.beforeErrorList.push(t),15<this.beforeErrorList.length&&(this.beforeErrorList.length=10))}},{key:"getLocalDefaultConfigUrl",value:function(){return _o}},{key:"getGlobalDefaultConfigUrl",value:function(){return wo}},{key:"getDeDefaultConfigUrl",value:function(){return Eo}},{key:"getRlabDefaultConfigUrl",value:function(){return ko}},{key:"getH5DefaultPluginsConstrs",value:function(){return[so,vo]}},{key:"getAppH5DefaultPluginsConstrs",value:function(){return[eo,vo]}},{key:"loadScript",value:function(a,u,c){return new I(function(e,t){var n,r,o,i=window[u];i?e(i):(n=!1,r=setTimeout(function(){clearTimeout(r),n=!0,t()},1e3),o=document.createElement("script"),document.documentElement.appendChild(o),o.onload=function(t){clearTimeout(r),document.documentElement.removeChild(o),i=window[u],n?c&&c(i):e(i)},o.onerror=function(){M.dispatchOmgLog("loadScript 失败"+a),clearTimeout(r),t()},o.crossOrigin="anonymous",o.src=a)})}},{key:"getDefaultConfigs",value:function(){var t=this.getH5DefaultPluginsConstrs(),e=this.getAppH5DefaultPluginsConstrs();return[new vr(this,e),new kr(this,t),new wr(this,t)]}},{key:"loadPluginsByUrl",value:function(r){var o=this;return new I(function(n){o.loadScript(r,i.OMG_ASYNC_PLUGINS_CONSTRS_NAME,function(t){o.methodHolderChainIsDone=!0;t=(t||[]).map(function(t){return new t(o)});o.loadPluginsBefore(o.afterAsyncPluginsLoad.bind(o),t)}).then(function(t){try{o.methodHolderChainIsDone=!0;var e=(t=t||[]).map(function(t){return new t(o)});n(e)}catch(t){console.error(t),M.dispatchOmgLog("通过url来加载plugin并实例化 失败"+r),n([new Lr(o.getContext())])}},function(){n([new Lr(o.getContext())])})})}},{key:"loadPluginsBefore",value:function(e,t){var n,r=this.getContext().envConfig;if(r){if(r.getPlugins)return void(r.getExtraPluginsUrl?(n=r.getExtraPluginsUrl())?t?e(r.getPlugins().concat(t)):this.loadPluginsByUrl(n).then(function(t){e(r.getPlugins().concat(t))}):(M.dispatchOmgLog("当前环境配置为IEnvConfigurationItemSync实例 pluginsUrl 不存在"+n),e(r.getPlugins())):(M.dispatchOmgLog("当前环境配置为IEnvConfigurationItemSync实例 getExtraPluginsUrl 不存在"),e(r.getPlugins())));if(r.getPluginsUrl)return void((n=r.getPluginsUrl())?t?e(t):this.loadPluginsByUrl(n).then(e):M.dispatchOmgLog("当前环境配置为IEnvConfigurationItemASync实例 pluginsUrl 不存在"+n))}M.dispatchOmgLog("环境配置对象实例不存在 失败"),e([new Lr(this.getContext())])}},{key:"loadPlugins",value:function(){var e=this;return new I(function(t){e.loadPluginsBefore(t)})}},{key:"getCurrentEnvConfig",value:function(){var r=this;return new I(function(e){var n=r.getDefaultConfigs();r.loadScript(r.extraConfigsUrl,i.OMG_ASYNC_CONFIGS_NAME,function(t){r.afterAsyncConfigs1((t||[]).concat(n)),r.afterAsyncConfigs2()}).then(function(t){r.afterAsyncConfigs1((t||[]).concat(n)),e()},function(){r.afterAsyncConfigs1(n),e()})})}},{key:"afterAsyncConfigs1",value:function(n){for(var r=this,t=0,e=n.length;t<e&&"break"!==function(t){var e=n[t];try{if(e.validate(r.getContext()))return e.beforeDeliver(r).then(function(){a(r.context,{envConfig:e})}),"break"}catch(t){M.dispatchOmgLog("获取当前环境配置信息 失败"+t.message),console.error(t)}}(t);++t);}},{key:"initSyncPluginCollection",value:function(){for(var n=this,r=this.getDefaultConfigs(),t=0,e=r.length;t<e;++t)!function(t){var e=r[t];try{e.validate(n.getContext())&&e.beforeDeliver(n).then(function(){a(n.context,{envConfig:e});var t=n.getContext().envConfig;t&&t.getPlugins&&(t.getPlugins()||[]).forEach(function(t){try{n.pluginCollection.contains(t)||n.pluginCollection.register(t)}catch(t){M.dispatchOmgLog("initSyncPluginCollection 注册插件 失败"),console.error(t)}})})}catch(t){M.dispatchOmgLog("获取当前环境配置信息 失败"+t.message),console.error(t)}}(t)}},{key:"initAsyncPluginCollection",value:function(){window.removeEventListener("load",this.initAsyncPluginCollection),this.getCurrentEnvConfig().then(this.afterAsyncConfigs2.bind(this))}},{key:"afterAsyncConfigs2",value:function(){this.loadPlugins().then(this.afterAsyncPluginsLoad.bind(this))}},{key:"afterAsyncPluginsLoad",value:function(t){var n=this;if(this.methodHolderChainIsDone){t.forEach(function(t){try{n.pluginCollection.contains(t)||n.pluginCollection.register(t)}catch(t){M.dispatchOmgLog("initAsyncPluginCollection 注册插件 失败"),console.error(t)}});var e=this.methodHolderChain;for(e.forEach(function(t){var e=t.method.apply(n,t.arguments);e&&e.then&&t.resolve&&e.then(t.resolve,t.reject)});e.length;)e.pop();this.getOmgIdHandler&&(this.getOmgIdHandler(this.context.omgId||""),delete this.getOmgIdHandler)}}},{key:"execute",value:function(){this.getPluginConllection().toArray().forEach(function(t){try{t.execute()}catch(t){M.dispatchOmgLog("安装插件失败"),console.error(t)}})}},{key:"destroy",value:function(){this.getPluginConllection().unregisterAll();for(var t=i.OMG_ASYNC_CONFIGS_NAME,e=window[t]||[];e.length;)e.pop();window[t]=void 0;for(var t=i.OMG_ASYNC_PLUGINS_CONSTRS_NAME,n=window[t]||[];n.length;)n.pop();window[t]=void 0;for(var t=Tr.OMG_SEQUENCE_NAME_PREFIX,r=Tr.OMG_SEQUENCE_NAME_SUFFIX,t=(window["".concat(t).concat(this.getContext().viewportId).concat(r)]=void 0,Or.OMG_EVENT_BLACKLIST_NAME),o=window[t]||[];o.length;)o.pop();window[t]=void 0,window[Or.OMG_CALLBACK_OBJ_NAME]=void 0,window.removeEventListener("pagehide",this.pagehideHandler)}},{key:"getContext",value:function(){return this.context}},{key:"getPluginConllection",value:function(){return this.pluginCollection}},{key:"setConfig",value:function(t){t.hasOwnProperty("appKey")&&(M.isEmptyString(t.appKey)?this.context.appKey||this.init(t):(M.dispatchOmgLog("setConfig appKey 参数 不可设置为空"),console.error("[Omega]setConfig appKey 参数 不可设置为空"),t.appKey=this.context.appKey)),this.context.attrs&&t.attrs&&(a(this.context.attrs,t.attrs),a(t.attrs,this.context.attrs)),a(this.context,t)}},{key:"fixEventArgs",value:function(t,e,n,r,o){for(var i,a="",u={},c=1,s=arguments.length;c<s;++c){var f=arguments[c],l=Object.prototype.toString.call(f);"[object String]"===l?a=f:"[object Object]"===l?u=f:"[object Function]"===l&&(i=f)}return this.trackHandlers.length&&this.mergeTrackHandler(t,u,r),{eventId:t,attrs:mo(mo({},u||{}),{},{_label:"".concat(a||"")}),creatInfo:{appKey:this.context.appKey},cb:i}}},{key:"mergeTrackHandler",value:function(e,n,r){this.trackHandlers.forEach(function(t){t=t.call(r,e,n,r);"[object Object]"===Object.prototype.toString.call(t)&&a(n,t)})}},{key:"trackEvent",value:function(t,e,n,r,o){e&&e.err&&"[object Error]"===Object.prototype.toString.call(e.err)&&this.trackError(t,e.err.code,e.err.stack,{message:e.err.message});t=this.fixEventArgs(t,e,n,r,o);return this.reportCustomEvent(t)}},{key:"reportCustomEvent",value:function(t){return this.trackEventByPlugin(L.PLUGIN_NAME_CUSTOM,t)}},{key:"sendPageView",value:function(t){return this.setConfig({url:window.location.href}),this.trackEventByPlugin(L.PLUGIN_NAME_PAGE_VIEW,this.fixEventArgs(L.EVENT_ID_PAGE_VIEW,"",t,window))}},{key:"trackError",value:function(t,e,n,r){return this.trackEventByPlugin(L.PLUGIN_NAME_ERROR,this.fixEventArgs(L.EVENT_ID_ERROR,n,mo(mo({},r||{}),{},{name:t,code:e})))}},{key:"trackPageCompleted",value:function(t){this.trackEvent("pub_page_completed_load_sw",t)}},{key:"trackEventByPlugin",value:function(e,n){var r=[];return this.getPluginConllection().toArray().forEach(function(t){t.getName()===e&&r.push([t,t.report,n])}),I.all(r.map(function(t){return t[1].call(t[0],t[2])})).then(function(t){return t[0]})}},{key:"setUserName",value:function(t){this.setConfig({userName:t})}},{key:"setUserId",value:function(t){this.setConfig({userId:t})}},{key:"setTelephone",value:function(t,e){console.error("setTelephone API已移除")}},{key:"setOpenId",value:function(t){this.getContext().unique&&a(this.context,{openId:t})}},{key:"setCityId",value:function(t){this.setConfig({cityId:t})}},{key:"setLocation",value:function(t,e){console.error("setLocation API已删除")}},{key:"getOmgid",value:function(t){var e=this.getContext().omgId||"";if(!t)return e;e?t(e):this.getOmgIdHandler=t}},{key:"getClientId",value:function(t){this.getOmgid(t)}},{key:"enableClickAutoTracker",value:function(t,e){this.clickedCover=t,this.clickedCoverIsChild=e||!1}},{key:"enableTouchAutoTracker",value:function(t,e){this.enableClickAutoTracker(t,e)}},{key:"getClickedCover",value:function(){return this.clickedCover}},{key:"getClickedCoverChild",value:function(){return this.clickedCoverIsChild}},{key:"enableClickFilterTracker",value:function(t){this.clickedFilter=t}},{key:"enableTouchFilterTracker",value:function(t){this.enableClickFilterTracker(t)}},{key:"getClickedFilter",value:function(){return this.clickedFilter}},{key:"disableAutoClick",value:function(){this.setConfig({autoClick:!1})}},{key:"sid",value:function(){return this.getContext().viewportId}},{key:"setProduct",value:function(t){this.setConfig({appKey:t})}},{key:"setChannel",value:function(t){this.setConfig({attrs:{channel:t}})}},{key:"enableDebugMode",value:function(t){}},{key:"trackPerformance",value:function(){}},{key:"trackTiming",value:function(t,e,n,r,o){return this.trackEvent("OMGH5CustomTiming")}},{key:"markTimePoint",value:function(t){}},{key:"onJsError",value:function(t){}},{key:"setState",value:function(t){}},{key:"addTrackHandler",value:function(e){var t=this;return"[object Function]"!==Object.prototype.toString.call(e)?function(){}:(this.trackHandlers.push(e),function(){return t.trackHandlers.splice(t.trackHandlers.findIndex(function(t){return t===e}),1)})}}]),i}(),C=(j.OMG_INSTANTIATION_NAME="__OMG_INSTANTIATION__",j.OMG_VERSION="2.5.33",j.OMG_ASYNC_CONFIGS_NAME="__OMG_ASYNC_CONFIGS_2_5_33__",j.OMG_ASYNC_PLUGINS_CONSTRS_NAME="__OMG_ASYNC_PLUGINS_CONSTRS_2_5_33__",j.OMG_PLUGINS_CONSTRS_NAME="__OMG_PLUGINS_CONSTRS_2_5_33__",Qn([function(t,e,n){var r=n.value;n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.getPluginConllection().size()<=2?this.holdMethod(r,arguments):r.apply(this,arguments)}},S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",void 0)],j.prototype,"execute",null),Qn([Oo,S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",I)],j.prototype,"reportCustomEvent",null),Qn([Oo,S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",I)],j.prototype,"sendPageView",null),Qn([Oo,S("design:type",Function),S("design:paramtypes",[String,Object,String,Object]),S("design:returntype",I)],j.prototype,"trackError",null),function(){function t(){u(this,t)}return g(t,null,[{key:"getTracker",value:function(t){var e;if(!(t&&t.appKey&&M.isEmptyString(t.appKey))&&t&&t.productName&&M.isEmptyString(t.productName)&&a(t,{appKey:t.productName}),t&&t.appKey&&M.isEmptyString(t.appKey))return e=t.appKey.replace(/\./g,"_"),e="".concat(j.OMG_INSTANTIATION_NAME,"_").concat(e,"__"),window["".concat(e)]?(window["".concat(e)].getContext().version===j.OMG_VERSION||console.warn("[Omega]相同appKey("+t.appKey+")实例化多个版本SDK,请检查！当前版本："+window["".concat(e)].getContext().version+"新实例化版本："+j.OMG_VERSION),window["".concat(e)]):((t=new j(t)).execute(),(window["".concat(e)]=t).getTracker=this.getTracker,t);throw new Error("[Omega]初始化必须带有appKey 参数")}}]),t}());(r=window).Omega=r.Omega||{},r.Omega.trackEvent&&"function"==typeof r.Omega.trackEvent||(r.Omega.uploadHost||(r.Omega.uploadHost="omgup.didiglobal.com"),r.Omega=C.getTracker(r.Omega))}();
//# sourceMappingURL=index.browser.global.min.js.map

</script>

</body>
</html>
