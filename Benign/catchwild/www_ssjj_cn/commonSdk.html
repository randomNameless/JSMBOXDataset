<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>commonSdk.html</title>
</head>
<body>

<script>
window._agl = window._agl || [];
(function() {
    _agl.push(
        ['production', '_f7L2XwGXjyszb4d1e2oxPybgD']
    );
    (function() {
        const from = getUrlParam('from');
        if (from) {
            const channelJs = document.createElement('script')
            channelJs.type = 'text/javascript'
            channelJs.async = true
            const fromArr = [
                {
                    from: 'txsj',
                    src: '/js/gdt.js'
                },
                {
                    from: 'dy',
                    src: '/js/dy.js'
                },
                {
                    from: 'bz',
                    src: 'https://s1.hdslb.com/bfs/cm/cm-sdk/static/js/track-collect.js'
                },
                {
                    from: 'weibo',
                    src: '/js/weibo.js'
                },
                {
                    from: 'ks',
                    src: '/js/ks.js'
                },
                {
                    from: 'baidu',
                    src: 'https://fxgate.baidu.com/angelia/fcagl.js?production=_f7L2XwGXjyszb4d1e2oxPybgD'
                },
                {
                    from: '360sem',
                    src: '/js/360sem.js'
                },
                {
                    from: 'iqiyi',
                    src: '/js/iqiyi.js'
                }
            ];
            const match = fromArr.find(function (i) {
                return from.includes(i.from);
            });
            if (match) {
                channelJs.src = match.src;
            }
            const s = document.getElementsByTagName('script')[0]
            s.parentNode.insertBefore(channelJs, s)
        }
    })()
})()


function getUrlParam(name){
    const reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    const r = window.location.search.substr(1).match(reg);
    if(r !== null){
        return  unescape(r[2]);
    }else{
        return null;
    }
}

</script>

</body>
</html>
