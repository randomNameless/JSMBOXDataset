<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlib-npc-components.min.6578a44f00afb03507f75f6be5b146a5.html</title>
</head>
<body>

<script>
/*
 The MIT License (MIT)
 @todo Lazy Load Icon
 @todo prevent animationend bubling
 @todo itemsScaleUp
 @todo Test Zepto
 @todo stagePadding calculate wrong active classes
 The MIT License (MIT)
   Copyright 2008-2016 SpryMedia Ltd.

 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license

 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.

 For details please refer to: http://www.datatables.net
 MediaMatch v.2.0.3 - Testing css media queries in Javascript. Authors & copyright (c) 2013: WebLinc, David Knight.  Chart.js
 http://chartjs.org/
 Version: 2.6.0

 Copyright 2017 Nick Downie
 Released under the MIT license
 https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 enquire.js v2.1.6 - Awesome Media Queries in JavaScript
 Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/enquire.js
 License: MIT  Packery PACKAGED v2.1.1
 Gapless, draggable grid layouts

 Licensed GPLv3 for open source use
 or Packery Commercial License for commercial use

 http://packery.metafizzy.co
 Copyright 2016 Metafizzy
 getSize v2.0.2
 measure size of elements
 MIT license
 Outlayer v2.1.0
 the brains and guts of a layout library
 MIT license
 Packery v2.1.1
 Gapless, draggable grid layouts

 Licensed GPLv3 for open source use
 or Packery Commercial License for commercial use

 http://packery.metafizzy.co
 Copyright 2016 Metafizzy
 jQuery UI - v1.12.1 - 2019-02-27
 http://jqueryui.com
 Includes: widget.js, position.js, keycode.js, unique-id.js, widgets/autocomplete.js, widgets/menu.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Position 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI Keycode 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Unique ID 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Menu 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Autocomplete 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 Masonry PACKAGED v4.2.1
 Cascading grid layout library
 https://masonry.desandro.com
 MIT License
 by David DeSandro
 DataTables 1.10.13
 Â©2008-2016 SpryMedia Ltd - datatables.net/license
*/
if(!Array.prototype.find)Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this);var len=o.length>>>0;if(typeof predicate!=="function")throw new TypeError("predicate must be a function");var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++}return undefined}});var NPC=NPC||{};NPC.deconnexion=NPC.deconnexion||{};
var isConnnecteEnPublish=NPC.user&&NPC.user.isConnected&&!NPC.isAuthor;if(isConnnecteEnPublish)NPC.deconnexion.deconnexionManuelle=function(urlDeconnexionNPC){window.location.href=urlDeconnexionNPC};var NPC=NPC||{};NPC.timeout=NPC.timeout||{};NPC.timeout.storageTimeoutKeyPageLoad=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutPageLoad";NPC.timeout.storageTimeoutKeyAjax=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutAjax";
NPC.timeout.storageTimeoutDisconnectKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutDisconnect";NPC.timeout.bandeauDeconnexionTimeoutClient=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutBandeauClient";NPC.timeout.storageTokenTimeoutKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCTokenTimeout";NPC.timeout.storageTokenWarningKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCWarningTimeout";NPC.timeout.storageTokenEndKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCEndTimeout";
NPC.timeout.storageLastWarningDate=NPC.timeout.storageTimeoutKeyPrefix+".NPCLastWarningDate";NPC.timeout.storageBandeauDeconnexionManuel=NPC.timeout.storageTimeoutKeyPrefix+".NPCBandeauDeconnexionManuelKey";
if(NPC.user&&NPC.user.isConnected&&!NPC.isAuthor){NPC.timeout.startInactivityPopUp=function(){clearTimeout(NPC.timeout.deconnexionTimeoutId);if($("#modalSessionEndWarning").hasClass("in"))NPC.timeout.sessionkeepAlive();else{$("modalInactivityTimeout-timer").attr("data-timer",NPC.timeout.timeoutiDsconnectTime);$("#modalInactivityTimeout").modal("show");NPC.timeout.deconnexionTimeoutId=setTimeout(NPC.timeout.deconnectionFromInactivity,NPC.timeout.timeoutDisconnectTime*1E3)}};NPC.timeout.deconnexionEventListener=
function(event){if(event.key===NPC.timeout.storageDeconnexionEvent){sessionStorage.setItem(NPC.timeout.storageBandeauDeconnexionManuel,"true");window.location.href=NPC.homePage}};NPC.timeout.sessionkeepAlive=function(){$.get(NPC.genererURLJson("session.keep.alive")).success(function(){}).fail(function(){})};NPC.timeout.deconnectionFromInactivity=function(){clearTimeout(NPC.timeout.deconnexionTimeoutId);sessionStorage.setItem(NPC.timeout.bandeauDeconnexionTimeoutClient,"true");var url=NPC.homePage.replace(".html",
".npc.timeout.json");$.get(url).success(function(data){}).fail(function(data){})};NPC.timeout.addTimeoutEventonWindowOpen=function(tempsLoad){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);localStorage.setItem(NPC.timeout.storageTimeoutKeyPageLoad,tempsLoad);var timer=NPC.timeout.timeoutTime*60*1E3-tempsLoad-NPC.timeout.timeoutSecurityTime*1E3;NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,timer)};NPC.timeout.razTimeoutInactivity=
function(){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);var timer=NPC.timeout.timeoutTime*60*1E3-NPC.timeout.timeoutSecurityTime*1E3;NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,timer);$("#modalInactivityTimeout").modal("hide")};NPC.timeout.razTimeoutInactivityFromAjaxListener=function(event){if(event.key===NPC.timeout.storageTimeoutKeyAjax)NPC.timeout.razTimeoutInactivity()};NPC.timeout.razTimeoutInactivityFromPageLoadListener=
function(event){if(event.key===NPC.timeout.storageTimeoutKeyPageLoad){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);var tempsLoad=localStorage.getItem(NPC.timeout.storageTimeoutKeyPageLoad);NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,NPC.timeout.timeoutTime*60*1E3-tempsLoad-NPC.timeout.timeoutSecurityTime*1E3);$("#modalInactivityTimeout").modal("hide")}};NPC.timeout.timeoutDisconnectListener=function(event){if(event.key===
NPC.timeout.storageTimeoutDisconnectKey){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);sessionStorage.setItem(NPC.timeout.bandeauDeconnexionTimeoutClient,"true");var currenPathName=window.location.pathname;currenPathName=currenPathName.replace(NPC.adaptUrl(currenPathName),"");window.location.href=NPC.homePage}};NPC.timeout.throttling=undefined;NPC.timeout.throttleMaintienDeSession=function(){if(typeof NPC.timeout.throttling==="undefined"&&!$("#modalInactivityTimeout").hasClass("in")){clearTimeout(NPC.timeout.deconnexionTimeoutId);
NPC.timeout.sessionkeepAlive();NPC.timeout.throttling=setTimeout(function(){NPC.timeout.throttling=undefined},6E4)}};NPC.timeout.refreshTokenTTLWarningDisplay=function(){var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);if(refreshTokenTimeoutDateMs&&refreshTokenTimeoutDateMs!=="null"&&refreshTokenTimeoutDateMs!=="undefined"){var total=(NPC.timeout.refreshTokenTTLConf-NPC.timeout.refreshTokenTTLWarningConf)*60;var currentDate=Date.now();var timer=Math.floor(Math.abs((refreshTokenTimeoutDateMs-
currentDate)/1E3));$("#modalSessionEndWarning-timer").attr("data-timer",timer);$("#modalSessionEndWarning-timer").attr("data-total",total);NPC.timeout.razTimeoutInactivity();$("#modalSessionEndWarning").modal("show")}};NPC.timeout.refreshTokenTTLEndDisplay=function(){var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);if(refreshTokenTimeoutDateMs&&refreshTokenTimeoutDateMs!=="null"&&refreshTokenTimeoutDateMs!=="undefined"){var total=(NPC.timeout.refreshTokenTTLConf-
NPC.timeout.refreshTokenTTLEndConf)*60;var currentDate=Date.now();var timer=Math.floor(Math.abs((refreshTokenTimeoutDateMs-currentDate)/1E3));$("#modalSessionEnd-timer").attr("data-timer",timer);$("#modalSessionEnd-timer").attr("data-total",total);$("#modalSessionEnd").modal("show");NPC.timeout.sessionkeepAlive()}};NPC.timeout.deconnectionSimple=function(){NPC.deconnexion.deconnexionManuelle(NPC.timeout.deconnectionUrl)};NPC.timeout.hideModalWarningListener=function(event){if(event.key===NPC.timeout.storageLastWarningDate)$("#modalSessionEndWarning").modal("hide")};
$(document).ready(function(){var start;var stop;if(window.performance&&window.performance.timing&&window.performance.timing.fetchStart&&window.performance.timing.domContentLoadedEventStart){start=window.performance.timing.fetchStart;stop=window.performance.timing.domContentLoadedEventStart}else{start=0;stop=2E3}var tempsLoad=stop-start;if(NPC.timeout.refreshTokenTTL&&NPC.timeout.refreshTokenTTLWarning&&NPC.timeout.refreshTokenTTLEnd){if(window.performance.navigation.type===2){NPC.timeout.sessionkeepAlive();
var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);var warningTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenWarningKey);var endTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenEndKey);var dateNow=Date.now();var timerTokenTimeout=refreshTokenTimeoutDateMs-dateNow;var warningTokenTimeout=warningTokenTimeoutDateMs-dateNow;var endTokenTimeout=endTokenTimeoutDateMs-dateNow;NPC.timeout.refreshTokenTTLid=setTimeout(NPC.timeout.deconnectionSimple,
timerTokenTimeout);NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,warningTokenTimeout);NPC.timeout.refreshTokenTTLEndId=setTimeout(NPC.timeout.refreshTokenTTLEndDisplay,endTokenTimeout)}else{var timeLeftBeforeRefreshTokenTTL=Number(NPC.timeout.refreshTokenTTL)-tempsLoad;var timeLeftBeforeRefreshTokenTTLWarning=Number(NPC.timeout.refreshTokenTTLWarning)-tempsLoad;var timeLeftBeforeRefreshTokenTTLEnd=Number(NPC.timeout.refreshTokenTTLEnd)-tempsLoad;var dateNow=
Date.now();var refreshTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTL;var warningTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTLWarning;var endTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTLEnd;localStorage.setItem(NPC.timeout.storageTokenTimeoutKey,refreshTokenTimeoutDateMs);localStorage.setItem(NPC.timeout.storageTokenWarningKey,warningTokenTimeoutDateMs);localStorage.setItem(NPC.timeout.storageTokenEndKey,endTokenTimeoutDateMs);var storageLastWarningDate=localStorage.getItem(NPC.timeout.storageLastWarningDate);
if(storageLastWarningDate){if(warningTokenTimeoutDateMs>Number(storageLastWarningDate)){localStorage.removeItem(NPC.timeout.storageLastWarningDate);NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,timeLeftBeforeRefreshTokenTTLWarning)}}else NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,timeLeftBeforeRefreshTokenTTLWarning);NPC.timeout.refreshTokenTTLid=setTimeout(NPC.timeout.deconnectionSimple,timeLeftBeforeRefreshTokenTTL);
NPC.timeout.refreshTokenTTLEndId=setTimeout(NPC.timeout.refreshTokenTTLEndDisplay,timeLeftBeforeRefreshTokenTTLEnd)}window.addEventListener("storage",NPC.timeout.razTimeoutInactivityFromPageLoadListener,false);window.addEventListener("storage",NPC.timeout.razTimeoutInactivityFromAjaxListener,false);window.addEventListener("storage",NPC.timeout.hideModalWarningListener,false);window.addEventListener("storage",NPC.timeout.timeoutDisconnectListener,false);window.addEventListener("storage",NPC.timeout.deconnexionEventListener,
false);NPC.timeout.addTimeoutEventonWindowOpen(tempsLoad)}});$(document).ready(function(){$(".stop-inactivity-timeout-js").click(function(e){e.preventDefault();clearTimeout(NPC.timeout.deconnexionTimeoutId);NPC.timeout.propagerKeepAliveDansIframe("ihm-light-self");NPC.timeout.propagerKeepAliveDansNPC();NPC.timeout.sessionkeepAlive();$("#modalInactivityTimeout").modal("hide")});$(".inactivity-disconnect-js").click(function(e){e.preventDefault();clearTimeout(NPC.timeout.deconnexionTimeoutId);NPC.timeout.deconnectionFromInactivity()});
$(".sessionKeepGoing-js").click(function(e){e.preventDefault();NPC.timeout.sessionkeepAlive();localStorage.setItem(NPC.timeout.storageLastWarningDate,Date.now());$("#modalSessionEndWarning").modal("hide")});$(".timeoutReconnection-js").click(function(){sessionStorage.setItem(NPC.timeout.storageLocationRenouvellementSession,"true")})});NPC.timeout.propagerKeepAliveDansIframe=function(id){if($("#"+id).length==1){var iframeIhml=$("#"+id)[0];iframeIhml.contentWindow.postMessage(JSON.stringify({"version":"1",
"message_type":"KeepAlive"}),"/")}};NPC.timeout.propagerKeepAliveDansNPC=function(){window.postMessage(JSON.stringify({"version":"1","message_type":"KeepAlive"}),"/")}}var NPC=NPC||{};NPC.checkMemeOrigin=function(url){var protocol=document.location.protocol;var host=document.location.host;var relativeOrigin="//"+host;var origin=protocol+relativeOrigin;return url==origin||url.slice(0,origin.length+1)==origin+"/"||(url==relativeOrigin||url.slice(0,relativeOrigin.length+1)==relativeOrigin+"/")||!/^(\/\/|http:|https:).*/.test(url)};
(function(open){XMLHttpRequest.prototype.open=function(method,url,async,user,pass){this.addEventListener("readystatechange",function(){if(this.readyState===XMLHttpRequest.DONE&&this.status===403){if(this.getResponseHeader("X-Reason")==="Authentication Failed"){Granite.Sling.LOGIN_URL=NPC.urlMarcheCourant+".npc.login.html";Granite.HTTP.handleLoginRedirect=function(){if(!Granite.HTTP.loginRedirected){Granite.HTTP.loginRedirected=true;var l=Granite.Util.getTopWindow().document.location;l.href=Granite.Sling.LOGIN_URL+
"?resource\x3d"+encodeURIComponent(l.pathname+l.search+l.hash)}}}var jsonExtension=".json";if(url.indexOf(jsonExtension)!=-1)if(this.getResponseHeader("X-Reason")==="Authentication Timeout"){var jsonResponse=JSON.parse(this.responseText);if(jsonResponse.redirection)window.location=jsonResponse.redirection}}},false);if(NPC.checkMemeOrigin(url)&&NPC.timeout&&NPC.user&&NPC.user.isConnected&&!NPC.isAuthor&&url.indexOf("npc.timeout")===-1){var timeoutTime=new Date;localStorage.setItem(NPC.timeout.storageTimeoutKeyAjax,
timeoutTime);NPC.timeout.razTimeoutInactivity()}open.call(this,method,url,async,user,pass)}})(XMLHttpRequest.prototype.open);NPC.postRedirect=function(url,data){url=url.replace(".html",".postredirect.html");var $form=$(NPC.createHiddenFormCode(url,"post",data));$("body").append($form);$form.submit();return false};
NPC.retrieveExtension=function(url){var extension="";var currentStr=url;var firstDot=currentStr.indexOf(".");if(firstDot!=-1&&currentStr.length>=firstDot+1){currentStr=currentStr.substring(firstDot+1);var firstSlash=currentStr.indexOf("/");if(firstSlash!=-1&&currentStr.length>=firstSlash+1)currentStr=currentStr.substring(0,firstSlash);else{var firstInterrogationPoint=currentStr.indexOf("?");if(firstInterrogationPoint!=-1)currentStr=currentStr.substring(0,firstInterrogationPoint)}var lastDot=currentStr.lastIndexOf(".");
if(lastDot!=-1)currentStr=currentStr.substring(lastDot+1);extension=currentStr}return extension};NPC.adaptUrl=function(url){if(url!=undefined&&window.location.pathname!=undefined){var pathFolders=window.location.pathname.split("/");if(pathFolders.length>=2){var currentFolder=pathFolders[pathFolders.length-2];var urlFolders=url.split("/");var indexCurrentFolder=urlFolders.indexOf(currentFolder);if(indexCurrentFolder!=-1){urlFolders=urlFolders.slice(indexCurrentFolder+1);url=urlFolders.join("/")}}}return url};
NPC.retrieveUrlPath=function(pathname){pathname=pathname?pathname:window.location.pathname;if(pathname){var lastSlashIndex=pathname.lastIndexOf("/");var nextPointIndex=pathname.indexOf(".",lastSlashIndex);return pathname.substr(lastSlashIndex+1,nextPointIndex-lastSlashIndex-1)}return""};
NPC.postPartenaire=function(url,data){var urlOk=url.indexOf("jcr:content.init")===-1?url.replace("jcr:content","jcr:content.init"):url;urlOk=urlOk.indexOf(".html")===-1?urlOk.replace("jcr:content.init","jcr:content.init.html"):urlOk;var $form=$(NPC.createHiddenFormCode(urlOk,"post",data));$("body").append($form);$form.submit();return false};
NPC.createHiddenFormCode=function(url,method,data){var formCode='\x3cform method\x3d"'+method+'" action\x3d"'+url+'"\x3e';for(var key in data){var value=data[key];formCode+='\x3cinput name\x3d"'+key+'" value\x3d"'+value+'" type\x3d"hidden"\x3e'}formCode+="\x3c/form\x3e";return formCode};String.prototype.insertAt=function(index,string){return this.substr(0,index)+string+this.substr(index)};
String.prototype.sansAccent=function(){var accent=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g];var noaccent=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"];var str=this;for(var i=0;i<accent.length;i++)str=str.replace(accent[i],noaccent[i]);return str};
if(!String.prototype.leftPad)String.prototype.leftPad=function(length,str){if(this.length>=length)return this;str=str+""||" ";return(new Array(Math.ceil((length-this.length)/str.length)+1)).join(str).substr(0,length-this.length)+this};
NPC.formatNumber=function(nbr,n,x,s,c){if(nbr===undefined||nbr===NaN||nbr===""||nbr===null)return nbr;var re="\\d(?\x3d(\\d{"+(x||3)+"})+"+(n>0?"\\D":"$")+")",num=parseFloat(""+nbr).toFixed(Math.max(0,~~n));return(c?num.replace(".",c):num).replace(new RegExp(re,"g"),"$\x26"+(s||","))};NPC.formatCurrency=function(montant,currencySymbol){return NPC.formatNumber(montant,2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};
NPC.formatCurrencyWithSymbol=function(montant,currencySymbol){currencySymbol=currencySymbol==undefined?"":currencySymbol;var symbol=montant<0?"-":"+ ";return symbol+NPC.formatNumber(Math.abs(montant),2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};NPC.IsJsonString=function(string){try{JSON.parse(string)}catch(e){return false}return true};
NPC.formatDate=function(time,monthInLetter,ignoreYear){var defaut=" - ";if(time!=undefined){var date=new Date(time);var day=date.getDate();day=day<10?"0"+day:day;var month=date.getMonth()+1;var separator=" ";if(monthInLetter)month=NPC.constantes.listeMois[month-1];else{month=month<10?"0"+month:month;separator="/"}var dateFormatted=day+separator+month;dateFormatted+=ignoreYear?"":separator+date.getFullYear();return dateFormatted}else return defaut};
NPC.affecterCookie=function(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires="; expires\x3d"+date.toUTCString()}document.cookie=name+"\x3d"+value+expires+"; path\x3d/"};NPC.recupererCookie=function(name){return(document.cookie.match("(^|; )"+name+"\x3d([^;]*)")||0)[2]};NPC.supprimerCookie=function(name,path){var cookiePath=path||"/";document.cookie=name+"\x3d; path\x3d"+cookiePath+"; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"};
NPC.recupererIdLiveCopyCaisse=function(urlPath){var idLiveCopyCaisse=null;urlPath=urlPath||window.location.pathname;var prefixURL=NPC.constantes.CR_PREFIXE_CHEMIN;var posFinLiveCopy=urlPath.indexOf("/",prefixURL.length);if(urlPath.startsWith(prefixURL)&&posFinLiveCopy!=-1)idLiveCopyCaisse=urlPath.substring(prefixURL.length,posFinLiveCopy);return idLiveCopyCaisse};NPC.redirectIfConnectedOrOpenModal=function(modalId,url){if(NPC.user.isConnected)window.location=url;else NPC.openModal(modalId)};
NPC.lancerParcoursIfConnectedOrOpenModal=function(modalId,site,contextNav){if(NPC.user.isConnected)NPC.lancerParcours.appelServletMappingIdParcoursURL(site,null,contextNav);else NPC.openModal(modalId)};NPC.lancerParcoursOuUrl=function(site,contextNav,url){if(site==null||contextNav==null)window.location=url;else NPC.lancerParcours.appelServletMappingIdParcoursURL(site,null,contextNav)};
NPC.redirectToSimuOrMoco=function(url,urlMoco,modeCoordonne,nouvelOnglet){if(NPC.user.isConnected&&modeCoordonne)if(nouvelOnglet)window.open(urlMoco,"_blank");else window.location=urlMoco;else if(nouvelOnglet)window.open(url,"_blank");else window.location=url};
NPC.redirectToSimuOrMocoOrLienInterne=function(url,urlMoco,urlInterne,versLienInterne,contexteNavigationJson,modeCoordonne,nouvelOnglet){if(NPC.user.isConnected){var urlRedirect="";if(modeCoordonne)urlRedirect=urlMoco;else if(versLienInterne)urlRedirect=urlInterne;else urlRedirect=url;if(nouvelOnglet)window.open(urlRedirect,"_blank");else window.location=urlRedirect}else if(nouvelOnglet)window.open(url,"_blank");else window.location=url};
NPC.redirectToSimuIhml=function(modalId,nouvelOnglet,urlRedirectionIhmLight){if(NPC.user.isConnected){if(urlRedirectionIhmLight!=null)if(nouvelOnglet)window.open(urlRedirectionIhmLight,"_blank");else window.location=urlRedirectionIhmLight}else NPC.openModal(modalId)};
NPC.openModal=function(modalId){var $modal=$("#"+modalId);$modal.modal();$modal.focus();var setFocusPreviousElement=function(element){var idModal=$(element).closest(".modal").attr("id");$('[onclick*\x3d"'+idModal+'"]').first().focus()};$modal.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',function(){setFocusPreviousElement(this)});$modal.on("keydown",function(event){if(event.key==="Escape")setFocusPreviousElement(this)})};
NPC.redirectToSimuIHMLOrLienPerso=function(link){var event=window.event||NPC.redirectToSimuIHMLOrLienPerso.caller.arguments[0];event.preventDefault();$.get(NPC.genererURLJson("ihml.redirectToSimuIHMLOrLienPerso"),{link:link},function(data){window.location=data}).fail(function(data){console.error("Erreur de redirection vers le parcours IHM Light : "+data.status)})};
NPC.getServletUrl=function(selector){var path=window.location.pathname;path=path[path.length-1]==="/"?path+"particulier.html":path;path=path.replace(".html",selector);return path};NPC.constantes=NPC.constantes||{};NPC.constantes.listeMois=["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"];NPC.constantes.listeMoisCourts=["Janv.","F\u00e9vr.","Mars","Avr.","Mai","Juin","Juill.","Ao\u00fbt","Sept.","Oct.","Nov.","D\u00e9c."];
NPC.constantes.CR_PREFIXE_CHEMIN="/content/ca/";NPC.constantes.ID_CR_NATIONAL="national";
(function(NPC){function PageNPC(name){this.name=name}PageNPC.prototype.toString=function(){return this.name};NPC.arbo=NPC.arbo||{};NPC.arbo.banquePrivee=new PageNPC("banque-privee");NPC.arbo.particulier=new PageNPC("particulier");NPC.arbo.particulier.epargner=new PageNPC("epargner");NPC.arbo.particulier.emprunter=new PageNPC("emprunter");NPC.arbo.particulier.assurances=new PageNPC("assurances");NPC.arbo.particulier.puSepamail=new PageNPC("operations/moyens-paiement/payer-mes-factures-par-sepamail");
NPC.arbo.particulier.messagerie=new PageNPC("operations/profil/banque-moi/messagerie");NPC.arbo.professionnel=new PageNPC("professionnel");NPC.arbo.professionnel.fluxTresorerie=new PageNPC("flux-tresorerie");NPC.arbo.professionnel.financerDeveloppement=new PageNPC("financer-developpement");NPC.arbo.professionnel.protegerMotiverSalaries=new PageNPC("proteger-motiver-salaries");NPC.arbo.professionnel.puSepamail=new PageNPC("operations/paiements-encaissements/payer-factures-ligne");NPC.arbo.professionnel.messagerie=
new PageNPC("operations/profil/banque-vous/messagerie");NPC.arbo.recupererPageMarche=function(name){for(var propertyName in NPC.arbo)if(NPC.arbo[propertyName]!=null&&NPC.arbo[propertyName].name==name)return NPC.arbo[propertyName];return null}})(NPC);
NPC.getHeaderHeight=function(){var elementAlert=$(".bandeau_alertes .AlertBanner").filter(":visible").outerHeight();var elementDeconexion=$(".header .AlertBanner").filter(":visible").outerHeight();var headerLogged=$("#header-logged").filter(":visible");var headerAlternate=$(".HeaderAlternate").filter(":visible");var $header=$(".js-Header").filter(":visible");var alertSize=elementAlert+elementDeconexion;if(headerLogged.length>0|headerAlternate.length>0){var headerSize=60;return headerSize+alertSize}else return $header.outerHeight()+
alertSize};NPC.elementScrolled=function(elem){var totalHeightHeader=NPC.getHeaderHeight();var docViewTop=$(window).scrollTop()+totalHeightHeader;var docViewBottom=docViewTop+$(window).height();var elemTop=$(elem).offset().top+totalHeightHeader;return elemTop<=docViewBottom&&elemTop>=docViewTop};
NPC.loadLibGoogleMaps=function(){if(NPC&&NPC.googleApiKey&&!NPC.isGoogleMapsApiLoaded&&!NPC.isGoogleMapsApiLoading){NPC.isGoogleMapsApiLoading=true;NPC.initGoogleMapsCallback=NPC.initGoogleMapsCallback||function(){NPC.isGoogleMapsApiLoaded=true;$(window).trigger("google.maps.api.loaded")};$.getScript("https://maps.google.com/maps/api/js?key\x3d"+NPC.googleApiKey+"\x26libraries\x3dplaces\x26callback\x3dNPC.initGoogleMapsCallback")}};var NPC=NPC||{};
(function($){NPC.geoloc=NPC.geoloc||function(){var me={};me.alreadyAsked=false;me.geolocActivated=false;me.geolocalized=false;me.lat=undefined;me.long=undefined;me.alt=undefined;me.acceptFunctionsToCall=[];me.refuseFunctionsToCall=[];var _reinitData=function(){me.alreadyAsked=false;me.activated=false;me.geolocalized=false;localStorage.setItem("geolocalized",false);me.lat=undefined;me.long=undefined;me.alt=undefined;me.acceptFunctionsToCall=[]};var _callBac=function(position){me.lat=position.coords.latitude;
me.long=position.coords.longitude;me.alt=position.coords.altitude;me.geolocalized=true;localStorage.setItem("geolocalized",true);me.fireAllAcceptCallBackFnc()};me.fireAllAcceptCallBackFnc=function(){var queue=me.acceptFunctionsToCall.slice();me.acceptFunctionsToCall.splice(0,me.acceptFunctionsToCall.length);for(var i=0;i<queue.length;i++)queue[i]()};me.fireAllRefuseCallBackFnc=function(){var queue=me.refuseFunctionsToCall.slice();me.refuseFunctionsToCall.splice(0,me.refuseFunctionsToCall.length);
for(var i=0;i<queue.length;i++)queue[i]()};me.addCallBackFnc=function(acceptFnc,refuseFnc){if(typeof acceptFnc=="function")me.acceptFunctionsToCall.push(acceptFnc);if(typeof refuseFnc=="function")me.refuseFunctionsToCall.push(refuseFnc)};me.tryToGeoloc=function(){if(navigator.geolocation){localStorage.setItem("geolocalized",false);me.activated=true;navigator.geolocation.getCurrentPosition(_callBac,function(error){switch(error.code){case error.PERMISSION_DENIED:console.log("User denied the request for Geolocation or no HTTPS origin");
me.userDenied=error.PERMISSION_DENIED;console.log(error.PERMISSION_DENIED);console.log(error);break;case error.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");me.userDenied=error.POSITION_UNAVAILABLE;break;case error.TIMEOUT:console.log("The request to get user location timed out.");me.userDenied=error.TIMEOUT;break;case error.UNKNOWN_ERROR:console.log("An unknown error occurred.");me.userDenied=error.UNKNOWN_ERROR;break}me.fireAllRefuseCallBackFnc()})}else _reinitData()};
return me}()})();var NPC=NPC||{};
(function($){var geocoder;function initOnGoogleLoaded(){geocoder=new google.maps.Geocoder}$(window).on("google.maps.api.loaded",initOnGoogleLoaded);NPC.storeLocator=NPC.storeLocator||{};(function(me){me.CRProches=[];me.AgencesProches=[];me.AgencesProchesAdresse=[];function getPostalCodeByLngAndLat(lat,long,_callback,_callback2){var latlng={lat:parseFloat(lat),lng:parseFloat(long)};if(latlng&&geocoder)try{geocoder.geocode({location:latlng}).then(function(response){var cp="";if(response.results[0])var cp=
response.results[0].address_components.find(function(element){return element.types.includes("postal_code")}).long_name;var postParams={"longitude":long,"latitude":lat,"code_postal":cp};_callback(postParams,_callback2)}).catch(function(e){return console.error("API Geocoder indisponnible")})}catch(ex){console.error("API google maps indisponnible")}}function postTrouverAgenceProche(postParams,callback){$.ajax({type:"POST",url:NPC.getServletUrl(".get-agences-proches.json"),data:postParams,cache:true,
success:function(data){if(callback.name==="_displayResultAgences")callback(data,true);else callback(data);me.AgencesProches=data;$(window).trigger("layout.bv")},fail:function(data){console.error("Impossible de trouver de Agences \u00e0 proximite du la zone !")}})}function postTrouverAgenceLatLngOrAdress(lat,long,address,callback,callback2){if(address!==undefined&&address!==""&&geocoder)geocoder.geocode({"address":address},function(results,status){if(status==="OK")if(results[0].address_components.find(function(element){return element.types.includes("postal_code")})){var postParams=
{"addresse":address,"code_postal":results[0].address_components.find(function(element){return element.types.includes("postal_code")}).long_name};callback(postParams,callback2)}else{var longGeocoder=results[0].geometry.location.lng();var latGeocoder=results[0].geometry.location.lat();getPostalCodeByLngAndLat(latGeocoder,longGeocoder,callback,callback2)}else{var postParams={"addresse":address};postTrouverAgenceProche(postParams,callback2)}});else getPostalCodeByLngAndLat(lat,long,callback,callback2)}
me.gotoAccesCrEtAgence=function(){if(NPC.origin.indexOf("/fr/")>=0)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/acces-cr-et-agence.html?origin\x3d"+NPC.origin;else window.location=NPC.urlLiveCopyCaisse+"particulier/acces-cr-et-agence.html?origin\x3d"+NPC.origin};me.gotoAccesCr=function(){if(NPC.origin.indexOf("/fr/")>=0)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/acces-cr.html?origin\x3d"+NPC.origin;else window.location=NPC.urlLiveCopyCaisse+"particulier/acces-cr.html?origin\x3d"+
NPC.origin};me.calculateBankUrl=function(regionalBankUrlPrefix){var url;if(NPC.storeLocator.urlOriginPrefix)url=regionalBankUrlPrefix+NPC.storeLocator.urlOriginPrefix;else url=regionalBankUrlPrefix+NPC.utilisateur.marche+"/acces-cr-et-agence.html?";if(url.includes("/agence/"))url=url.replace("/agence/","/agence.changecr/");else url=url.replace(".html",".changecr.html");return url};me.trouverCRProches=function(lat,long,callback){var url=NPC.getServletUrl(".get-cr-proches.json");var postParams={"longitude":NPC.geoloc.long,
"latitude":NPC.geoloc.lat};$.ajax({type:"POST",url:url,data:postParams,cache:true,success:function(data){callback(data);me.CRProches=data},fail:function(data){console.error("Impossible de trouver de CR \u00e0 proximite du la zone !")}})};me.trouverAgencesProches=function(lat,long,callback){postTrouverAgenceLatLngOrAdress(lat,long,undefined,postTrouverAgenceProche,callback)};me.trouverAgencesProchesAdresse=function(addressUser,callbackAdress){postTrouverAgenceLatLngOrAdress(undefined,undefined,addressUser,
postTrouverAgenceProche,callbackAdress)};me.getQtyAgences=function(callback){var nbAgence=NPC.nbAgence||0;callback(nbAgence)};me.trouverCRProchesByDepartment=function(department,callback){var postParams={"department":department};$.ajax({type:"POST",url:NPC.getServletUrl(".get-cr-by-department.json"),data:postParams,cache:true,success:function(data){callback(data)},fail:function(data){if(data.status==400)callback(null);console.error("Impossible de trouver de CR pour le departement "+department+" !")}})};
me.getCorrectDepartmentNumberFromPostCode=function(postCode){var deptNumber=null;if(typeof postCode!=="undefined"){var postCodeRegex=/^\d[\daAbB]\d{0,3}$/g;if(postCode.match(postCodeRegex)){deptNumber=postCode.substring(0,2);if(deptNumber=="97"||deptNumber=="98")deptNumber=postCode.substring(0,3)}}return deptNumber};me.recupererListCR=function(callback){$.ajax({type:"GET",url:NPC.getServletUrl(".get-cr-list.json"),cache:true,success:function(data){callback(data)},fail:function(data){console.error("Impossible de r\u00e9cup\u00e9rer la liste des CR !")}})};
return me})(NPC.storeLocator);$(document).on("click",".link-agence-repli-BV",function(){var id_repli=$(".link-agence-repli-BV").data("val");if(id_repli!=""){var params={"storelocator_retrieveagency_agencyid":id_repli};var regex_agence=/(particulier|professionnel|entreprise|agriculteur|banque-privee|association|collectivites-publiques)\/.*\.html|\.html/;var stl_replacement="$1/jcr:content.fiche-agence.html";var target=location.pathname.replace(regex_agence,stl_replacement);var $form=$(NPC.createHiddenFormCode(target,
"post",params));$("body").append($form);$form.submit()}})})($);
var SimplePagination=function(paginationSelector,itemsSelector,pageSize,onPageChanged){var me={};var onPageChanged=onPageChanged||function(){return"do nothing"};me._paginationSelector="";me._itemsSelector="";me._pagination=null;me._items=[];me._currentPage=0;me._qtyPages=0;me._pages=[];me._cursor=0;me._pageSize=8;me._scrollTop=false;me._templateBase=" \t    \x3cul class\x3d'Pagination Pagination--gray js-pagination' \x3e \t        \x3cli class\x3d'Pagination-item'\x3e \t            \x3ca href\x3d'javascript:void(0)' aria-label\x3d'Pr\u00e9c\u00e9dent' class\x3d'SimplePagination-preview Pagination-link'\x3e\x3cspan aria-hidden\x3d'true' class\x3d'icon npc-circle-dark-previous'\x3e\x3c/span\x3e\x3c/a\x3e \t        \x3c/li\x3e \t        [PAGES] \t        \x3cli class\x3d'Pagination-item'\x3e \t            \x3ca href\x3d'javascript:void(0)' aria-label\x3d'Suivant' class\x3d'SimplePagination-next Pagination-link'\x3e\x3cspan aria-hidden\x3d'true' class\x3d'icon npc-circle-dark-next'\x3e\x3c/span\x3e\x3c/a\x3e \t        \x3c/li\x3e \t    \x3c/ul\x3e \t";me._templatePage=
"         \x3cli class\x3d'Pagination-item'\x3e             \x3ca href\x3d'javascript:void(0)' class\x3d'SimplePagination-btn-[INDEX] Pagination-link' \x3e[PAGE]\x3c/a\x3e         \x3c/li\x3e \t";me._templatePageMinimized="\t\t\x3cli class\x3d'Pagination-item'\x3e             \x3cspan href\x3d'javascript:void(0)' class\x3d'Pagination-link' \x3e...\x3c/span\x3e         \x3c/li\x3e \t";var _sortNumber=function(a,b){return a-b};var _generateArray=function(size){var result=[];if(me._currentPage+1>=5&&
me._qtyPages>5){result.push(0);result.push(me._currentPage-1);result.push(me._currentPage);if(me._currentPage+1==me._qtyPages)result.push(me._currentPage-2);else result.push(me._currentPage+1)}else if(me._currentPage<5)for(var i=0;i<5&&i<size;i++)result.push(i);var dizaine=9;var dizaineArray=[];while(dizaine<me._qtyPages){if(!result.includes(dizaine))result.push(dizaine);dizaineArray.push(dizaine);dizaine+=10}result.sort(_sortNumber);return result};var _calculateQtyPages=function(){if(!me._pageSize||
me._pageSize==0){console.warn("(simple-pagination) : Bad 'page-size' value, auto set to '10' !");me._pageSize=10}if(me._items.length&&me._pageSize){me._qtyPages=Math.ceil(me._items.length/me._pageSize);me._pages=_generateArray(me._qtyPages)}};var _calculateCursor=function(){me._cursor=me._currentPage*me._pageSize};var _checkBtnStatus=function(){if(me._items.length<=me._pageSize){me._pagination.hide();return}me._pagination.show();var preview=me._pagination.find(".SimplePagination-preview");var next=
me._pagination.find(".SimplePagination-next");var fncDisable=function(el){el.prop("disabled",true);el.addClass("Pagination-link--disabled")};var fncEnable=function(el){el.prop("disabled",false);el.removeClass("Pagination-link--disabled")};me._currentPage<=0?fncDisable(preview):fncEnable(preview);me._currentPage>=me._qtyPages-1?fncDisable(next):fncEnable(next);me._pages.forEach(function(page){var el=me._pagination.find(".SimplePagination-btn-"+page);me._currentPage===page?el.addClass("Pagination-link--active"):
el.removeClass("Pagination-link--active")})};var _activePagination=function(){var btn=me._pagination.find(".SimplePagination-preview");var preview=me._pagination.find(".SimplePagination-preview");var next=me._pagination.find(".SimplePagination-next");preview.unbind("click");preview.on("click",me.gotoPrevious);next.unbind("click");next.on("click",me.gotoNext);me._pages.forEach(function(page){var el=me._pagination.find(".SimplePagination-btn-"+page);el.unbind("click");el.on("click",function(){me.setPage({p:page})})});
_checkBtnStatus()};var _redrawPagination=function(){var content=me._templateBase;var pages="";me._pages.forEach(function(page){var index=me._pages.indexOf(page);if(index!=0&&page-me._pages[index-1]>1)pages+=me._templatePageMinimized;pages+=me._templatePage.replace("[INDEX]",page).replace("[PAGE]",page+1);if(index+1==me._pages.length&&page+1!=me._qtyPages)pages+=me._templatePageMinimized});content=content.replace("PAGES",pages);me._pagination.html(content)};var _showHideItems=function(){var stop=me._cursor+
me._pageSize;var cpt=0;me._items.each(function(){var item=$(this);if(cpt>=me._cursor&&cpt<stop)item.show();else item.hide();cpt++})};var _redraw=function(){_redrawPagination();_showHideItems();setTimeout(_activePagination,100)};var _update=function(){me._items=$(me._itemsSelector);_calculateQtyPages();_redraw()};var _init=function(paginationSelector,itemsSelector,pageSize){me._paginationSelector=paginationSelector;me._itemsSelector=itemsSelector;me._pageSize=pageSize;me._pagination=$("#"+me._paginationSelector);
if(me._pagination.length==0)console.error('Unable to found element : "#'+me._paginationSelector+'" !');me.update()};var _scrollToTop=function(){if(me._items.length<=0||!me._scrollTop)return;if(me._scrollTop)$(window).scrollTop(0)};var _changePageActions=function(){onPageChanged({currentPage:me._currentPage});_update();_calculateCursor();_showHideItems();_checkBtnStatus();_scrollToTop()};me.update=function(){setTimeout(_update,100);me.gotoPage(0)};me.gotoPrevious=function(){if(me._currentPage<=0)return;
me._currentPage--;_changePageActions()};me.gotoNext=function(){if(me._currentPage>=me._qtyPages-1)return;me._currentPage++;_changePageActions()};me.setPage=function(param){me.gotoPage(param.p)};me.gotoPage=function(page){if(page>=me._qtyPages||page<0)return;me._currentPage=page;_changePageActions()};me.setScrollTop=function(activate){me._scrollTop=activate};_init(paginationSelector,itemsSelector,pageSize);return me};
var AccountsList=function(htmlSelector,data,selectedAccountIdx,serverDate){var vm={};var _todayDate="";var _SELECTED_ACCOUNTS_ID_="selectedAccountId";var _MAIN_DIV_CLASS="AccountsDropdown";var _DROPDOWN_DIV_ID="AccountsDropdown-content--accountsList";var _ACCOUNTSLIST_DIV_ID="myAccountsList";var _PAGINATION_DIV_ID="paginationAccountsList";var _ACCOUNT_ITEM_CLASS="accountListItem";var _BOOTSTRAP_SELECT_SORT_CLASS="js-Transfer-searchFormItem--order-accountsList";var _SEARCH_INPUT_ID="Transfer-searchFormItem-accountsList";
var _accounts=data;var _callBackFunction=null;var _$selector="";var _$selectorMainDiv="";var _$selectorDropdownDiv="";var _$selectorAccountsItemsList="";var _nbAccountsPerPage=8;var _showSearchForm=false;var _AccountsPagination=null;var _selectedAccountIdx=selectedAccountIdx;var _HIDE_ELEMENT="style\x3d'display:none'";var _DIV_MAIN="\x3cdiv class\x3d'"+_MAIN_DIV_CLASS+"' style\x3d'margin-bottom:-3px'\x3e\x3c/div\x3e";var _DIV_MAIN2="\x3cdiv id\x3d'"+_DROPDOWN_DIV_ID+"' class\x3d'AccountsDropdown-content collapse' aria-expanded\x3d'false'\x3e\x3c/div\x3e";
var _DIV_MAIN3="\x3cdiv id\x3d'"+_ACCOUNTSLIST_DIV_ID+"' class\x3d'accountList'\x3e\x3c/div\x3e";var _TEMPLATE_ACCOUNT_SELECTED=" \t\t\x3cbutton id\x3d'"+_SELECTED_ACCOUNTS_ID_+"' aria-label\x3d'Afficher/Masquer la liste des comptes' class\x3d'AccountsDropdown-selected collapsed __HIDEARROWCSS__' type\x3d'button' data-toggle\x3d'collapse' data-target\x3d'#"+_DROPDOWN_DIV_ID+"'             aria-expanded\x3d'false' aria-controls\x3d'"+_DROPDOWN_DIV_ID+"'\x3e             \x3cli id\x3d'OperationSelectedAccount-weather' class\x3d'accountListItem accountListItem--synthesisAngular accountListItem--noIcon OperationMainAccount js-accountListItem'\x3e \t\t\t\t\x3cdiv class\x3d'OperationMainAccount-header OperationMainAccount-header--synthesisAngular'\x3e                     \x3cdiv class\x3d'OperationMainAccount-headerIcon'\x3e\x3c/div\x3e                   \x3cdiv class\x3d'OperationMainAccount-headerContentDescription'\x3e \t\t\t\t\t\x3cdiv class\x3d'OperationMainAccount-headerDescription accountListItem-description'\x3e       \t\t\t\t\t\x3cdiv class\x3d'accountListItem-descriptionItem OperationMainAccount-headerOwner'\x3e\x3c/div\x3e       \t\t\t\t\t\x3cdiv class\x3d'accountListItem-descriptionItem OperationMainAccount-headerNumber'\x3e\x3c/div\x3e     \t\t\t\t\x3c/div\x3e                     \x3cdiv class\x3d'OperationMainAccount-headerAmount'\x3e                         \x3cdiv class\x3d'OperationMainAccount-headerAmountTitle'\x3eSolde au __TODAYDATE__\x3c/div\x3e                         \x3cdiv class\x3d'OperationMainAccount-headerAmountValue'\x3e\x3c/div\x3e             \t\t\t\x3cdiv class\x3d'OperationMainAccount-headerAmountTitle OperationMainAccount-headerAmountTitle--valueDate'\x3e\x3c/div\x3e                    \x3c/div\x3e                   \x3c/div\x3e   \t\t\t\t\x3c/div\x3e \t\t\t\x3c/li\x3e         \x3c/button\x3e";
var _TEMPLATE_FILTERS="       \x3cform class\x3d'Transfer-searchForm Transfer-searchForm--withoutFilter'\x3e          \x3cdiv class\x3d'Transfer-searchFormItemWrapper Transfer-searchFormItemWrapper--search form-group' __SHOW_HIDE_SEARCHFORM__\x3e             \x3cdiv class\x3d'input-field'\x3e                \x3cinput type\x3d'text'                 id\x3d'"+_SEARCH_INPUT_ID+"'                 name\x3d'"+_SEARCH_INPUT_ID+"'                 class\x3d'form-control Transfer-searchFormItem form-control js-Transfer-searchFormItem--search'                 placeholder\x3d'Rechercher'\x3e                \x3cspan class\x3d'icon npc-magnifer input-field-icon'\x3e\x3c/span\x3e             \x3c/div\x3e          \x3c/div\x3e          \x3cdiv class\x3d'Transfer-searchFormItemWrapper Transfer-searchFormItemWrapper--order form-group bootstrap-select-wrapper js-bootstrap-select-wrapper' __SHOW_HIDE_SEARCHFORM__\x3e \t\t\t\x3clabel for\x3d'Transfer-searchFormItem-3' class\x3d'bootstrap-select-wrapperLabel'\x3eTrier par\x3c/label\x3e \t\t\t\x3cselect id\x3d'Transfer-searchFormItem-3'                 name\x3d'Transfer-searchFormItem-3' \t\t\t\tclass\x3d'Transfer-searchFormItem selectpicker show-menu-arrow bootstrap-select--default "+
_BOOTSTRAP_SELECT_SORT_CLASS+"'\x3e                 \x3coption value\x3d'libelleCompte'\x3eLibell\u00e9\x3c/option\x3e \t\t\t\t\x3coption value\x3d'solde'\x3eSolde\x3c/option\x3e \t\t\t\x3c/select\x3e \t\t\x3c/div\x3e       \x3c/form\x3e";var _TEMPLATE_ACCOUNT_ITEM=" \t\t\x3ca id\x3d'account-item-__NUMEROCOMPTE__' data-index\x3d'__ACCOUNTINDEX__' href\x3d'javascript:void(0)' class\x3d'accountListItem js-accountListItem js-accountListSyntheseN3 __WEATHERCSS__'\x3e \t\t\t\t\x3cdiv class\x3d'accountListItem-main'\x3e \t\t\t\t   \x3cdiv class\x3d'accountListItem-icon'\x3e\x3c/div\x3e \t\t\t\t   \x3cdiv class\x3d'accountListItem-description'\x3e \t\t\t\t\t  \x3cdiv class\x3d'accountListItem-descriptionItem accountListItem-descriptionItem--owner SynthesisAccount-descriptionItem'\x3e \t\t\t\t\t  __LIBELLECOMPTE__ \t\t\t\t\t  \x3c/div\x3e \t\t\t\t\t  \x3cdiv class\x3d'accountListItem-descriptionItem accountListItem-descriptionItem--number'\x3e \t\t\t\t\t\t \x3cstrong\x3e__LIBELLEPRODUIT__\x3c/strong\x3e \t\t\t\t\t\t \x3cspan\x3en\u00b0 __NUMEROCOMPTE__\x3c/span\x3e \t\t\t\t\t  \x3c/div\x3e \t\t\t\t   \x3c/div\x3e                    \x3cdiv class\x3d'accountListItem-value __SOLDECSS__' aria-label \x3d'__ARIALABEL__'\x3e__SOLDE__\x3c/div\x3e \t\t\t\t\x3c/div\x3e \t\t\t \x3c/a\x3e";
var _TEMPLATE_PAGINATION="\x3cdiv id\x3d'"+_PAGINATION_DIV_ID+"'\x3e\x3c/div\x3e";vm.setSelectedAccountIdx=function(accountSelectedIndex){if(accountSelectedIndex!==undefined&&accountSelectedIndex!==-1){var accountSelected=_accounts[accountSelectedIndex];_resetSelectedAccount();accountSelected.selected=true;_drawAccountsList()}};vm.search=function(search){if(search!==""){var searchUpperCase=search.toUpperCase();_resetHiddenAccount();var accountsLength=_accounts.length;var accountsToHide=0;_accounts.forEach(function(account){if(account.searchField.indexOf(searchUpperCase)===
-1){account.hidden=true;accountsToHide++}});if(accountsToHide===accountsLength)_drawNoItems();else _drawAccountsList()}else{_resetHiddenAccount();_drawAccountsList()}};vm.sort=function(criteria){if(criteria==="solde")_accounts.sort(function(account1,account2){return account2[criteria]-account1[criteria]});else _accounts.sort(function(account1,account2){return account1[criteria].localeCompare(account2[criteria])});_drawAccountsList()};vm.setNbElementsPerPage=function(nbEltsPerPage){if(!isNaN(parseInt(nbEltsPerPage))){_nbAccountsPerPage=
nbEltsPerPage;_AccountsPagination._pageSize=_nbAccountsPerPage;_drawAccountsList()}};vm.setCallBackOnAccountClick=function(cbFunction){if(typeof cbFunction==="function")_callBackFunction=cbFunction;else console.error("[AccountsList][setCallBack] not passing a function")};var _init=function(){_DIV_MAIN="\x3cdiv class\x3d'"+_MAIN_DIV_CLASS+" AccountsDropdown--mainSynthesis' style\x3d'margin-bottom:-3px'\x3e\x3c/div\x3e";_$selector=$(htmlSelector);if(_$selector[0]===undefined){console.error("[AccountsList] selector not found",
htmlSelector,": abort rendering.");return}if(_accounts===undefined){console.error("[AccountsList] no accounts to process : abort rendering.");return}_showSearchForm=_accounts.length>_nbAccountsPerPage;_initTodayDate(serverDate);_buildComponent();_accounts.forEach(function(account,index){account.searchField=account.libelleCompte+"|"+account.libelleProduit+"|"+account.numeroCompte+"|"+account.soldeFormatted;account.searchField=account.searchField.toUpperCase();account.hidden=false;account.selected=
index===selectedAccountIdx});_displayDataFromSelectedAccount(_selectedAccountIdx);_drawAccountsList()};var _buildComponent=function(){_$selector.append(_DIV_MAIN);_$selectorMainDiv=$("."+_MAIN_DIV_CLASS);var _arrowDisplayCss=_accounts!==undefined&&_accounts.length===1?"disabled":"";_TEMPLATE_ACCOUNT_SELECTED=_TEMPLATE_ACCOUNT_SELECTED.replace("__HIDEARROWCSS__",_arrowDisplayCss);_TEMPLATE_ACCOUNT_SELECTED=_TEMPLATE_ACCOUNT_SELECTED.replace("__TODAYDATE__",_todayDate);_$selectorMainDiv.append(_TEMPLATE_ACCOUNT_SELECTED);
if(_accounts!==undefined&&_accounts.length>1)_$selector.append(_DIV_MAIN2);_$selectorDropdownDiv=$("#"+_DROPDOWN_DIV_ID);var _SHOW_HIDE_SEARCHFORM=_showSearchForm?"":_HIDE_ELEMENT;_TEMPLATE_FILTERS=_TEMPLATE_FILTERS.replace(/__SHOW_HIDE_SEARCHFORM__/g,_SHOW_HIDE_SEARCHFORM);_$selectorDropdownDiv.append(_TEMPLATE_FILTERS);_$selectorDropdownDiv.append(_DIV_MAIN3);_$selectorAccountsItemsList=$("#"+_ACCOUNTSLIST_DIV_ID);$("#"+_SEARCH_INPUT_ID).on("keyup",function(e){var search=$(this).val();vm.search(search)});
$("."+_BOOTSTRAP_SELECT_SORT_CLASS).on("change",function(e){var criteria=e.target.value;vm.sort(criteria)})};var _drawAccountsList=function(){if(_accounts!==undefined){_deleteElementsFromDOM();_$selectorAccountsItemsList.css("background","");_accounts.forEach(function(currentAccount){if(!currentAccount.hidden&&!currentAccount.selected){var templateFilledWithAccountData=_fillAccountItemTemplateBeforeRender(currentAccount);if(templateFilledWithAccountData!==""){_$selectorAccountsItemsList.append(templateFilledWithAccountData);
$("#account-item-"+currentAccount.numeroCompte).on("click",_selectAccountItem)}}});_drawPagination()}};var _selectAccountItem=function(){var $htmlElement=$(this);var accountIdx=$htmlElement.data("index");_displayDataFromSelectedAccount(accountIdx);if(_callBackFunction!==null)_callBackFunction(accountIdx);$("#"+_DROPDOWN_DIV_ID).collapse("hide");_drawAccountsList();changementUrl(accountIdx)};var changementUrl=function(accountIndex){var adresseCourante=window.location;var pathname=window.location.pathname;
var attributs=window.location.search.substr(6);window.history.pushState({url:""+pathname+""},"changementUrl",pathname+"?idx\x3d"+accountIndex+attributs)};var _cleanAllDomOccurences=function(jquerySelector){var items=$(jquerySelector);items.remove()};var _displayDataFromSelectedAccount=function(accountIndex){if(!isNaN(parseInt(accountIndex))){var accountSelected=_accounts.find(function(account){return account.indexCompte==accountIndex});_resetSelectedAccount();accountSelected.selected=true;if(accountSelected!==
undefined){$("#OperationSelectedAccount-weather").removeClass("OperationMainAccount--sun OperationMainAccount--umbrella OperationMainAccount--rain").addClass(accountSelected.pictoMeteoBig);var libelleCompte=accountSelected.libelleCompte;if(accountSelected.libelleRolePartenaire!==undefined&&accountSelected.libelleRolePartenaire!=="")libelleCompte+="\x3ci\x3e- "+accountSelected.libelleRolePartenaire+"\x3c/i\x3e";$(".OperationMainAccount-headerOwner").html(libelleCompte);$(".OperationMainAccount-headerNumber").html("\x3cstrong\x3e"+
accountSelected.libelleProduit+"\x3c/strong\x3e N\u00b0 "+accountSelected.numeroCompte);var headerAmountValue=$(".OperationMainAccount-headerAmountValue");headerAmountValue.html(accountSelected.soldeFormatted.replace(/ /g,"\x26nbsp;"));headerAmountValue.attr("aria-label",(accountSelected.solde>0?""+accountSelected.solde:"moins "+(0-accountSelected.solde))+" "+accountSelected.libelleDevise);headerAmountValue.removeClass("accountListItem-value--negative accountListItem-value--positive").addClass(accountSelected.soldeCss);
var accountSelectBtn=$("#"+_SELECTED_ACCOUNTS_ID_);accountSelectBtn.removeClass("AccountsDropdown-selected--withServices");_cleanAllDomOccurences(".accountListItem-servicesItem");if(accountSelected.formulesNBAQ.length>0){$("#"+_SELECTED_ACCOUNTS_ID_).addClass("AccountsDropdown-selected--withServices");var headerDescription=$(".OperationMainAccount-headerDescription");for(var index in accountSelected.formulesNBAQ)headerDescription.append('\x3cdiv class\x3d"accountListItem-servicesItem"\x3e'+accountSelected.formulesNBAQ[index]+
"\x3c/div\x3e")}if(NPC.synthese.n3.proEnt)if(accountSelected.uniquementDateOperation)$(".OperationMainAccount-headerAmountTitle--valueDate").html("Uniquement en date d'op\u00e9ration");else $(".OperationMainAccount-headerAmountTitle--valueDate").html("Solde en valeur : \x3cspan\x3e"+NPC.formatCurrency(accountSelected.soldeEnDateValeur,accountSelected.libelleDevise)+"\x3c/span\x3e")}}};var _drawNoItems=function(){_deleteElementsFromDOM();_$selectorAccountsItemsList.append("\x3cspan id\x3d'noAccountsFound'\x3eAucun compte n'a \u00e9t\u00e9 trouv\u00e9\x3c/span\x3e");
_$selectorAccountsItemsList.css("background","#f5f5f5");_drawPagination()};var _drawPagination=function(){if(_AccountsPagination===null){if(_accounts.length-1>_nbAccountsPerPage){_$selectorDropdownDiv.append(_TEMPLATE_PAGINATION);var accountItemSelector="."+_ACCOUNT_ITEM_CLASS;_AccountsPagination=new SimplePagination(_PAGINATION_DIV_ID,accountItemSelector,_nbAccountsPerPage)}}else _AccountsPagination.update()};var _fillAccountItemTemplateBeforeRender=function(account){if(account!==undefined){var accountTemplate=
_TEMPLATE_ACCOUNT_ITEM;accountTemplate=accountTemplate.replace(/__ACCOUNTINDEX__/g,account.indexCompte);accountTemplate=accountTemplate.replace(/__NUMEROCOMPTE__/g,account.numeroCompte);accountTemplate=accountTemplate.replace("__WEATHERCSS__",account.pictoMeteoSmall);var libelleCompte=account.libelleCompte;if(account.libelleRolePartenaire!==undefined&&account.libelleRolePartenaire!=="")libelleCompte+="\x3ci\x3e- "+account.libelleRolePartenaire+"\x3c/i\x3e";accountTemplate=accountTemplate.replace("__LIBELLECOMPTE__",
libelleCompte);accountTemplate=accountTemplate.replace("__LIBELLEPRODUIT__",account.libelleProduit);accountTemplate=accountTemplate.replace("__SOLDECSS__",account.soldeCss);accountTemplate=accountTemplate.replace("__SOLDE__",account.soldeFormatted);accountTemplate=accountTemplate.replace("__ARIALABEL__",(account.solde>0?""+account.solde:"moins "+(0-account.solde))+" "+account.libelleDevise);return accountTemplate}return""};var _resetSelectedAccount=function(){if(_accounts!==undefined)_accounts.forEach(function(account){account.selected=
false})};var _resetHiddenAccount=function(){if(_accounts!==undefined)_accounts.forEach(function(account){account.hidden=false})};var _nbAccountsToDisplay=function(){var cpt=0;if(_accounts!==undefined)_accounts.forEach(function(account){if(!account.hidden&&!account.selected)cpt++});return cpt};var _deleteElementsFromDOM=function(){_$selectorAccountsItemsList.find("."+_ACCOUNT_ITEM_CLASS).each(function(){$(this).remove()});$("span#noAccountsFound").remove()};var _initTodayDate=function(serverDate){var day,
month;if(serverDate!=undefined){day=serverDate.getDate();month=serverDate.getMonth()+1}else{var todayDate=(new Date).toLocaleDateString();var todayDateSplit=todayDate.split("/");day=todayDateSplit[1];month=todayDateSplit[0]}if(day<10)day="0"+day;if(month<10)month="0"+month;_todayDate=day+"/"+month};_init();return vm};
(function(){NPC.Utils={};NPC.Utils.searchItemIndexByAttributes=function(items,item,useItemsProperties,strictMode){if(!Array.isArray(items))return-1;if(strictMode===undefined)strictMode=false;var result=-1;var cpt=-1;items.forEach(function(it){cpt++;var properties=useItemsProperties?it:item;for(var propertyName in properties){if(strictMode&&it[propertyName]!==item[propertyName])return true;if(!strictMode&&it[propertyName]!=item[propertyName])return true}result=cpt;return false});return result};NPC.Utils.excludeFromArray=
function(items,excludedItems,useItemsProperties){if(!Array.isArray(items))return[];var result=[];items.forEach(function(item){var found=NPC.Utils.searchItemIndexByAttributes(excludedItems,item,!useItemsProperties);if(found==-1)result.push(item)});return result};NPC.Utils.isDateValid_ddMMYYYY=function(stringDate){var _isValid=false;if(stringDate!==undefined&&stringDate!==""){var dateRegex=RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/);_isValid=dateRegex.test(stringDate);if(_isValid){var dateParts=stringDate.split("/");
var dateUS=dateParts[1]+"/"+dateParts[0]+"/"+dateParts[2];var d=new Date(dateUS);_isValid=d!="Invalid Date"}return _isValid}};NPC.Utils.initWithBigTabIndex=function(selector,bigTabindex){var elements=$(selector+":not([tabindex])");for(var i=0;i<elements.length;i++){var $el=$(elements[i]);$el.attr("tabindex",bigTabindex)}};NPC.Utils.getUrlPageName=function(){var uri=window.location.pathname;var lastSlashIndex=uri.lastIndexOf("/");var nextPointIndex=uri.indexOf(".",lastSlashIndex);return uri.substr(lastSlashIndex+
1,nextPointIndex-lastSlashIndex-1)};NPC.Utils.dateDiff=function(date1,date2){var diff={};var tmp=date2-date1;tmp=Math.floor(tmp/1E3);diff.sec=tmp%60;tmp=Math.floor((tmp-diff.sec)/60);diff.min=tmp%60;tmp=Math.floor((tmp-diff.min)/60);diff.hour=tmp%24;tmp=Math.floor((tmp-diff.hour)/24);diff.day=tmp;return diff}})();var NPC=NPC||{};var tC=tC||{};
function initNpcTracking(){NPC.FUNCTIONS={};NPC.FUNCTIONS.TRACKING={};NPC.FUNCTIONS.TRACKING.addEventTrackingGen=function(element,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){var argTraking=this.getAttribute("data-trackingclass-npc-args");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,JSON.parse(argTraking))})};NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingGen=function(element){$(element).on("keydown",function(event){if(event.keyCode===
13){var argTraking=this.getAttribute("data-trackingclass-npc-args");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,JSON.parse(argTraking))}})};NPC.FUNCTIONS.TRACKING.addEventTracking=function(element,argTraking,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)})};NPC.FUNCTIONS.TRACKING.addEventKeybordTracking=function(element,argTraking){$(element).on("keydown",
function(event){if(event.keyCode===13)NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)})};NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV=function(element,argTraking,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){if(NPC.BV!==null&&NPC.BV!==undefined)argTraking.evenement_oic_objet_demande=NPC.BV._BV_THEME&&Object.keys(NPC.BV._BV_THEME).length>0?NPC.BV._BV_THEME.label.toUpperCase():null;NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
argTraking)})};NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV=function(element,argTraking){$(element).on("keydown",function(event){if(event.keyCode===13){if(NPC.BV!==null&&NPC.BV!==undefined)argTraking.evenement_oic_objet_demande=NPC.BV._BV_THEME&&Object.keys(NPC.BV._BV_THEME).length>0?NPC.BV._BV_THEME.label.toUpperCase():null;NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)}})};NPC.FUNCTIONS.TRACKING.refreshTracking=function(){var trakingNpcClass="data-trackingclass-npc";var querySelector=
"["+trakingNpcClass+"]:not(["+trakingNpcClass+"-set])";$(querySelector).each(function(){var trakingValue=$(this).attr(trakingNpcClass);var TRACKING_GEN=["MMC-niveau1","MMC-niveau2","MMC-offre","MMenu-niveau1","MMenu-niveau2","MMenu-niveau3","oic_push_com","lanc_fct_menu_connecte","MCO_contact","MCO_faq","MCO_rdv","MCO_msg","MCO_contact_responsive","oic_contact_sur_parcours","oic_trouver_ma_CR","oic_push_outils","oic_num_urgence_v2","composant-offre-comparateur-decouvrir-epargne","encours_carte_dd_sn0",
"encours_carte_dd_sn1","composant-offre-comparateur","hub-docu-sn0","hub-docu-sn1","sim-acc-rapid"];var BVTHEMATIC_LIST=["oic_connexion_client","oic_fermer","oic_reclamation","oic_trouver_une_agence","oic_moyen_prise_de_rdv","oic_moyen_prise_de_rdv_validation","oic_moyen_email","oic_moyen_email_validation","oic_moyen_rappel","oic_moyen_rappel_validation","oic_moyen_tchat","oic_moyen_prise_de_rdv_client","oic_moyen_email_MS"];var URGENCEBV_LIST=["oic_urgence_national","oic_urgence_caisse"];if(TRACKING_GEN.includes(trakingValue)){NPC.FUNCTIONS.TRACKING.addEventTrackingGen(this);
NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingGen(this)}else if(BVTHEMATIC_LIST.includes(trakingValue)){NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV(this,{evt_action_libelle:trakingValue,evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV(this,{evt_action_libelle:trakingValue,evenement_categorie:"Prise-de-contact"})}else if(URGENCEBV_LIST.includes(trakingValue))if(trakingValue==="oic_urgence_national"){NPC.FUNCTIONS.TRACKING.addEventTracking(this,{evt_action_libelle:"oic_urgence",
evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTracking(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"})}else{NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"})}});$(querySelector).attr("data-trackingclass-npc-set",true)};NPC.FUNCTIONS.TRACKING.eventPageVirtuelle=
function(element,argTraking){try{tC.event.pageVirtuelle(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent=function(element,argTraking){try{tC.event.actionUtilisateur(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.eventBanniere=function(element,argTraking){try{tC.event.banniere(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.addTrackingScroll=
function(nodeSelector,callback){$(window).scroll(function(){var targetNodes=$(nodeSelector);targetNodes.each(function(){if(NPC.elementScrolled($(this))){var trackedAlready=this.getAttribute("tracked");if(trackedAlready!=="true"){$(this).attr("tracked",true);callback(this)}}})})}}initNpcTracking();NPC.FUNCTIONS.TRACKING.refreshTracking();
var debounce=function(mainFunction,delay){var timer;return function(args){var $jscomp$restParams=[];for(var $jscomp$restIndex=0;$jscomp$restIndex<arguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]=arguments[$jscomp$restIndex];{var args$0=$jscomp$restParams;clearTimeout(timer);timer=setTimeout(function(){mainFunction.apply(null,$jscomp.arrayFromIterable(args$0))},delay)}}};var ready4Tracking=debounce(NPC.FUNCTIONS.TRACKING.refreshTracking,500);var NPC=NPC||{};
var isConnnecteEnPublish=NPC.user&&NPC.user.isConnected&&!NPC.isAuthor;
$(function(){if(!NPC.listenerConnecte&&isConnnecteEnPublish){NPC.listenerConnecte={};NPC.listenerConnecte.iframe=null;NPC.listenerConnecte.locked=false;NPC.listenerConnecte.addListener=function(){window.addEventListener("message",NPC.listenerConnecte.traiterEvenement,false)};NPC.listenerConnecte.traiterEvenement=function(event){var dataRetrieved=event.data;if(NPC.IsJsonString(event.data))dataRetrieved=JSON.parse(event.data);if(dataRetrieved.message_type==="functional_event")switch(dataRetrieved.event_id){case "lancer_parcours_arriere_plan":if(!NPC.listenerConnecte.locked){NPC.listenerConnecte.locked=
true;setTimeout(function(){NPC.listenerConnecte.locked=false},5E3);NPC.listenerConnecte.lancerParcoursArrierePlan(dataRetrieved.data.content.site)}break;default:break}};NPC.listenerConnecte.lancerParcoursArrierePlan=function(site){if(NPC.listenerConnecte.iframe){NPC.listenerConnecte.iframe.remove();NPC.listenerConnecte.iframe=null}$.get(NPC.genererURLJson("ihml.mappingIdParcoursURL"),{idParcours:site,idContexteNavigation:null,navContext:null,uuidContextNavigationSession:null},function(data){NPC.listenerConnecte.iframe=
document.createElement("iframe");NPC.listenerConnecte.iframe.src=data;NPC.listenerConnecte.iframe.style.display="none";document.body.appendChild(NPC.listenerConnecte.iframe)}).fail(function(data){console.error("Erreur de redirection vers le parcours IHM Light : "+data.status)})};NPC.listenerConnecte.transmettreContextIdAuParcours=function(siteId,ctxId){window.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"parcours_context_id","data":{"version":"001","content":{"site":siteId,
"context_id":ctxId}}}),"/");NPC.listenerConnecte.iframe.remove();NPC.listenerConnecte.locked=false};NPC.listenerConnecte.transmettreErreurDuParcours=function(siteId,errorCode,errorDescription){window.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"lancement_parcours_error","data":{"version":"001","content":{"site":siteId,"error_code":errorCode,"error_description":errorDescription}}}),"/");NPC.listenerConnecte.locked=false};NPC.listenerConnecte.transmettreErreurAuParcours=
function(iframeId,siteId,errorCode,errorText){if($("#"+iframeId).length==1){var iframeIhml=$("#"+iframeId)[0];iframeIhml.contentWindow.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"lancement_parcours_error","data":{"version":"001","content":{"site":siteId,"error_code":errorCode,"error_description":errorText}}}),"/");NPC.listenerConnecte.locked=false}};NPC.listenerConnecte.addListener()}});var NPC=NPC||{};NPC.FUNCTIONS=NPC.FUNCTIONS||{};
NPC.FUNCTIONS.initVignetteClickable=function(selector){$(selector).on("click",function(){window.location=$(this).find("a").attr("href");return false})};NPC.FUNCTIONS.initVignetteClickableTriggerClick=function(selector){$(selector).on("click",function(event){if(event.target.tagName===event.currentTarget.tagName)$(this).find("a").trigger("click");else{window.location=$(this).find("a").attr("href");return false}})};$(document).ready(function(){NPC.FUNCTIONS.initVignetteClickable(".npc--vignette--clickable")});
window.matchMedia||(window.matchMedia=function(win){var _doc=win.document,_viewport=_doc.documentElement,_queries=[],_queryID=0,_type="",_features={},_typeExpr=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,_mediaExpr=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,_timer=0,_matches=function(media){var mql=media.indexOf(",")!==-1&&media.split(",")||[media],mqIndex=mql.length-
1,mqLength=mqIndex,mq=null,negateType=null,negateTypeFound="",negateTypeIndex=0,negate=false,type="",exprListStr="",exprList=null,exprIndex=0,exprLength=0,expr=null,prefix="",length="",unit="",value="",feature="",match=false;if(media==="")return true;do{mq=mql[mqLength-mqIndex];negate=false;negateType=mq.match(_typeExpr);if(negateType){negateTypeFound=negateType[0];negateTypeIndex=negateType.index}if(!negateType||mq.substring(0,negateTypeIndex).indexOf("(")===-1&&(negateTypeIndex||!negateType[3]&&
negateTypeFound!==negateType.input)){match=false;continue}exprListStr=mq;negate=negateType[1]==="not";if(!negateTypeIndex){type=negateType[2];exprListStr=mq.substring(negateTypeFound.length)}match=type===_type||type==="all"||type==="";exprList=exprListStr.indexOf(" and ")!==-1&&exprListStr.split(" and ")||[exprListStr];exprIndex=exprList.length-1;exprLength=exprIndex;if(match&&exprIndex>=0&&exprListStr!==""){do{expr=exprList[exprIndex].match(_mediaExpr);if(!expr||!_features[expr[3]]){match=false;
break}prefix=expr[2];length=expr[5];value=length;unit=expr[7];feature=_features[expr[3]];if(unit)if(unit==="px")value=Number(length);else if(unit==="em"||unit==="rem")value=16*length;else if(expr[8])value=(length/expr[8]).toFixed(2);else if(unit==="dppx")value=length*96;else if(unit==="dpcm")value=length*.3937;else value=Number(length);if(prefix==="min-"&&value)match=feature>=value;else if(prefix==="max-"&&value)match=feature<=value;else if(value)match=feature===value;else match=!!feature;if(!match)break}while(exprIndex--)
}if(match)break}while(mqIndex--);return negate?!match:match},_setFeature=function(){var w=win.innerWidth||_viewport.clientWidth,h=win.innerHeight||_viewport.clientHeight,dw=win.screen.width,dh=win.screen.height,c=win.screen.colorDepth,x=win.devicePixelRatio;_features.width=w;_features.height=h;_features["aspect-ratio"]=(w/h).toFixed(2);_features["device-width"]=dw;_features["device-height"]=dh;_features["device-aspect-ratio"]=(dw/dh).toFixed(2);_features.color=c;_features["color-index"]=Math.pow(2,
c);_features.orientation=h>=w?"portrait":"landscape";_features.resolution=x&&x*96||win.screen.deviceXDPI||96;_features["device-pixel-ratio"]=x||1},_watch=function(){clearTimeout(_timer);_timer=setTimeout(function(){var query=null,qIndex=_queryID-1,qLength=qIndex,match=false;if(qIndex>=0){_setFeature();do{query=_queries[qLength-qIndex];if(query){match=_matches(query.mql.media);if(match&&!query.mql.matches||!match&&query.mql.matches){query.mql.matches=match;if(query.listeners)for(var i=0,il=query.listeners.length;i<
il;i++)if(query.listeners[i])query.listeners[i].call(win,query.mql)}}}while(qIndex--)}},10)},_init=function(){var head=_doc.getElementsByTagName("head")[0],style=_doc.createElement("style"),info=null,typeList=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],typeIndex=0,typeLength=typeList.length,cssText="#mediamatchjs { position: relative; z-index: 0; }",eventPrefix="",addEvent=win.addEventListener||(eventPrefix="on")&&win.attachEvent;style.type="text/css";style.id=
"mediamatchjs";head.appendChild(style);info=win.getComputedStyle&&win.getComputedStyle(style)||style.currentStyle;for(;typeIndex<typeLength;typeIndex++)cssText+="@media "+typeList[typeIndex]+" { #mediamatchjs { position: relative; z-index: "+typeIndex+" } }";if(style.styleSheet)style.styleSheet.cssText=cssText;else style.textContent=cssText;_type=typeList[info.zIndex*1||0];head.removeChild(style);_setFeature();addEvent(eventPrefix+"resize",_watch,false);addEvent(eventPrefix+"orientationchange",_watch,
false)};_init();return function(media){var id=_queryID,mql={matches:false,media:media,addListener:function addListener(listener){_queries[id].listeners||(_queries[id].listeners=[]);listener&&_queries[id].listeners.push(listener)},removeListener:function removeListener(listener){var query=_queries[id],i=0,il=0;if(!query)return;il=query.listeners.length;for(;i<il;i++)if(query.listeners[i]===listener)query.listeners.splice(i,1)}};if(media===""){mql.matches=true;return mql}mql.matches=_matches(media);
_queryID=_queries.push({mql:mql,listeners:null});return mql}}(window));
(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.Chart=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=
new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){},{}],2:[function(require,module,exports){var colorNames=require(6);module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,
hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string)return;var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i]+match[i],16)}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match.slice(i*2,i*2+2),16)}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i+1]);a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++)rgb[i]=Math.round(parseFloat(match[i+1])*2.55);a=parseFloat(match[4])}else if(match=
string.match(keyword)){if(match[1]=="transparent")return[0,0,0,0];rgb=colorNames[match[1]];if(!rgb)return}for(var i=0;i<rgb.length;i++)rgb[i]=scale(rgb[i],0,255);if(!a&&a!=0)a=1;else a=scale(a,0,1);rgb[3]=a;return rgb}function getHsla(string){if(!string)return;var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),
0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}function getHwb(string){if(!string)return;var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}function getRgb(string){var rgba=
getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);if(vals)return vals[3];else if(vals=getHsla(string))return vals[3];else if(vals=getHwb(string))return vals[3]}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1)return rgbaString(rgba,alpha);return"rgb("+rgba[0]+", "+rgba[1]+", "+
rgba[2]+")"}function rgbaString(rgba,alpha){if(alpha===undefined)alpha=rgba[3]!==undefined?rgba[3]:1;return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1)return percentaString(rgba,alpha);var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/
255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){if(alpha<1||hsla[3]&&hsla[3]<1)return hslaString(hsla,alpha);return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){if(alpha===undefined)alpha=hsla[3]!==undefined?hsla[3]:1;return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){if(alpha===undefined)alpha=hwb[3]!==undefined?hwb[3]:1;return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+
(alpha!==undefined&&alpha!==1?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name},{6:6}],3:[function(require,module,exports){var convert=require(5);var string=require(2);var Color=function(obj){if(obj instanceof Color)return obj;if(!(this instanceof
Color))return new Color(obj);this.valid=false;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==="string"){vals=string.getRgba(obj);if(vals)this.setValues("rgb",vals);else if(vals=string.getHsla(obj))this.setValues("hsl",vals);else if(vals=string.getHwb(obj))this.setValues("hwb",vals)}else if(typeof obj==="object"){vals=obj;if(vals.r!==undefined||vals.red!==undefined)this.setValues("rgb",vals);else if(vals.l!==undefined||vals.lightness!==
undefined)this.setValues("hsl",vals);else if(vals.v!==undefined||vals.value!==undefined)this.setValues("hsv",vals);else if(vals.w!==undefined||vals.whiteness!==undefined)this.setValues("hwb",vals);else if(vals.c!==undefined||vals.cyan!==undefined)this.setValues("cmyk",vals)}};Color.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",
arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var values=this.values;if(values.alpha!==1)return values.hwb.concat([values.alpha]);return values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha])},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha])},
alpha:function(val){if(val===undefined)return this.values.alpha;this.setValues("alpha",val);return this},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){if(val){val%=360;val=val<0?360+val:val}return this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",
1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,
this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},
rgbNumber:function(){var rgb=this.values.rgb;return rgb[0]<<16|rgb[1]<<8|rgb[2]},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2)return(lum1+.05)/(lum2+.05);return(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);
if(contrastRatio>=7.1)return"AAA";return contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1E3;return yiq<128},light:function(){return!this.dark()},negate:function(){var rgb=[];for(var i=0;i<3;i++)rgb[i]=255-this.values.rgb[i];this.setValues("rgb",rgb);return this},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues("hsl",hsl);return this},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;
this.setValues("hsl",hsl);return this},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues("hsl",hsl);return this},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues("hsl",hsl);return this},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues("hwb",hwb);return this},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues("hwb",hwb);return this},greyscale:function(){var rgb=
this.values.rgb;var val=rgb[0]*.3+rgb[1]*.59+rgb[2]*.11;this.setValues("rgb",[val,val,val]);return this},clearer:function(ratio){var alpha=this.values.alpha;this.setValues("alpha",alpha-alpha*ratio);return this},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues("alpha",alpha+alpha*ratio);return this},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues("hsl",hsl);return this},mix:function(mixinColor,weight){var color1=
this;var color2=mixinColor;var p=weight===undefined?.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var result=new Color;var source=this.values;var target=result.values;var value,type;for(var prop in source)if(source.hasOwnProperty(prop)){value=
source[prop];type={}.toString.call(value);if(type==="[object Array]")target[prop]=value.slice(0);else if(type==="[object Number]")target[prop]=value;else console.error("unexpected color value:",value)}return result}};Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,
100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++)vals[space.charAt(i)]=values[space][i];if(values.alpha!==1)vals.a=values.alpha;return vals};Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=true;if(space==="alpha")alpha=vals;else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length]}else if(vals[space.charAt(0)]!==
undefined){for(i=0;i<space.length;i++)values[space][i]=vals[space.charAt(i)];alpha=vals.a}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++)values[space][i]=vals[chans[i]];alpha=vals.alpha}values.alpha=Math.max(0,Math.min(1,alpha===undefined?values.alpha:alpha));if(space==="alpha")return false;var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped)}for(var sname in spaces)if(sname!==
space)values[sname]=convert[space][sname](values[space]);return true};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined)return this.getValues(space);if(typeof vals==="number")vals=Array.prototype.slice.call(args);this.setValues(space,vals);return this};Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined)return svalues[index];else if(val===svalues[index])return this;svalues[index]=val;this.setValues(space,svalues);
return this};if(typeof window!=="undefined")window.Color=Color;module.exports=Color},{2:2,5:5}],4:[function(require,module,exports){module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,
hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};function rgb2hsl(rgb){var r=rgb[0]/255,g=rgb[1]/
255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,l;if(max==min)h=0;else if(r==max)h=(g-b)/delta;else if(g==max)h=2+(b-r)/delta;else if(b==max)h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)h+=360;l=(min+max)/2;if(max==min)s=0;else if(l<=.5)s=delta/(max+min);else s=delta/(2-max-min);return[h,s*100,l*100]}function rgb2hsv(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,h,s,v;if(max==0)s=0;else s=delta/max*1E3/10;if(max==min)h=0;else if(r==
max)h=(g-b)/delta;else if(g==max)h=2+(b-r)/delta;else if(b==max)h=4+(r-g)/delta;h=Math.min(h*60,360);if(h<0)h+=360;v=max/255*1E3/10;return[h,s,v]}function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]}function rgb2cmyk(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,c,m,y,k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]}function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}
function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=r*.4124+g*.3576+b*.1805;var y=r*.2126+g*.7152+b*.0722;var z=r*.0193+g*.1192+b*.9505;return[x*100,y*100,z*100]}function rgb2lab(rgb){var xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*
y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}function rgb2lch(args){return lab2lch(rgb2lab(args))}function hsl2rgb(hsl){var h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100,t1,t2,t3,rgb,val;if(s==0){val=l*255;return[val,val,val]}if(l<.5)t2=l*(1+s);else t2=l+s-l*s;t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);t3<0&&t3++;t3>1&&t3--;if(6*t3<1)val=t1+(t2-t1)*6*t3;else if(2*t3<1)val=t2;else if(3*t3<2)val=t1+(t2-t1)*(2/3-t3)*6;else val=t1;rgb[i]=
val*255}return rgb}function hsl2hsv(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,sv,v;if(l===0)return[0,0,0];l*=2;s*=l<=1?l:2-l;v=(l+s)/2;sv=2*s/(l+s);return[h,sv*100,v*100]}function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6;var f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f)),v=255*
v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}function hsv2hsl(hsv){var h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,sl,l;l=(2-s)*v;sl=s*v;sl/=l<=1?l:2-l;sl=sl||0;l/=2;return[h,sl*100,l*100]}function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}function hwb2rgb(hwb){var h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/
100,ratio=wh+bl,i,v,f,n;if(ratio>1){wh/=ratio;bl/=ratio}i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&1)!=0)f=1-f;n=wh+f*(v-wh);switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}return[r*255,g*255,b*255]}function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}
function cmyk2rgb(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100,r,g,b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]}function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}function xyz2rgb(xyz){var x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100,r,g,b;r=x*3.2406+
y*-1.5372+z*-.4986;g=x*-.9689+y*1.8758+z*.0415;b=x*.0557+y*-.204+z*1.057;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92;g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g=g*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]}function xyz2lab(xyz){var x=xyz[0],y=xyz[1],z=xyz[2],l,a,b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*
y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]}function xyz2lch(args){return lab2lch(xyz2lab(args))}function lab2xyz(lab){var l=lab[0],a=lab[1],b=lab[2],x,y,z,y2;if(l<=8){y=l*100/903.3;y2=7.787*(y/100)+16/116}else{y=100*Math.pow((l+16)/116,3);y2=Math.pow(y/100,1/3)}x=x/95.047<=.008856?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3);z=z/108.883<=.008859?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3);return[x,y,z]}function lab2lch(lab){var l=
lab[0],a=lab[1],b=lab[2],hr,h,c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0)h+=360;c=Math.sqrt(a*a+b*b);return[l,c,h]}function lab2rgb(args){return xyz2rgb(lab2xyz(args))}function lch2lab(lch){var l=lch[0],c=lch[1],h=lch[2],a,b,hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]}function lch2xyz(args){return lab2xyz(lch2lab(args))}function lch2rgb(args){return lab2rgb(lch2lab(args))}function keyword2rgb(keyword){return cssKeywords[keyword]}function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}
function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}function keyword2lab(args){return rgb2lab(keyword2rgb(args))}function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,
235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,
50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,
128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,
160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,
21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,
230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,
224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key},{}],5:[function(require,module,exports){var conversions=require(4);var convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(func){return function(arg){if(typeof arg=="number")arg=Array.prototype.slice.call(arguments);
return conversions[func](arg)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{};convert[from][to]=convert[func]=function(func){return function(arg){if(typeof arg=="number")arg=Array.prototype.slice.call(arguments);var val=conversions[func](arg);if(typeof val=="string"||val===undefined)return val;for(var i=0;i<val.length;i++)val[i]=Math.round(val[i]);return val}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,
args){var values=args[0];if(values===undefined)return this.getValues(space);if(typeof values=="number")values=Array.prototype.slice.call(args);return this.setValues(space,values)};Converter.prototype.setValues=function(space,values){this.space=space;this.convs={};this.convs[space]=values;return this};Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from);this.convs[space]=vals}return vals};
["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}});module.exports=convert},{4:4}],6:[function(require,module,exports){module.exports={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,
42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,
0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,
165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,
144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,
179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,
238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,
90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]}},{}],7:[function(require,module,exports){var Chart=require(28)();require(26)(Chart);require(40)(Chart);require(22)(Chart);
require(25)(Chart);require(30)(Chart);require(21)(Chart);require(23)(Chart);require(24)(Chart);require(29)(Chart);require(32)(Chart);require(33)(Chart);require(31)(Chart);require(27)(Chart);require(34)(Chart);require(35)(Chart);require(36)(Chart);require(37)(Chart);require(38)(Chart);require(46)(Chart);require(44)(Chart);require(45)(Chart);require(47)(Chart);require(48)(Chart);require(49)(Chart);require(15)(Chart);require(16)(Chart);require(17)(Chart);require(18)(Chart);require(19)(Chart);require(20)(Chart);
require(8)(Chart);require(9)(Chart);require(10)(Chart);require(11)(Chart);require(12)(Chart);require(13)(Chart);require(14)(Chart);var plugins=[];plugins.push(require(41)(Chart),require(42)(Chart),require(43)(Chart));Chart.plugins.register(plugins);module.exports=Chart;if(typeof window!=="undefined")window.Chart=Chart},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,
41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,8:8,9:9}],8:[function(require,module,exports){module.exports=function(Chart){Chart.Bar=function(context,config){config.type="bar";return new Chart(context,config)}}},{}],9:[function(require,module,exports){module.exports=function(Chart){Chart.Bubble=function(context,config){config.type="bubble";return new Chart(context,config)}}},{}],10:[function(require,module,exports){module.exports=function(Chart){Chart.Doughnut=function(context,config){config.type=
"doughnut";return new Chart(context,config)}}},{}],11:[function(require,module,exports){module.exports=function(Chart){Chart.Line=function(context,config){config.type="line";return new Chart(context,config)}}},{}],12:[function(require,module,exports){module.exports=function(Chart){Chart.PolarArea=function(context,config){config.type="polarArea";return new Chart(context,config)}}},{}],13:[function(require,module,exports){module.exports=function(Chart){Chart.Radar=function(context,config){config.type=
"radar";return new Chart(context,config)}}},{}],14:[function(require,module,exports){module.exports=function(Chart){var defaultConfig={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem){return"("+tooltipItem.xLabel+", "+tooltipItem.yLabel+")"}}}};Chart.defaults.scatter=defaultConfig;Chart.controllers.scatter=Chart.controllers.line;Chart.Scatter=
function(context,config){config.type="scatter";return new Chart(context,config)}}},{}],15:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:true}}],yAxes:[{type:"linear"}]}};Chart.controllers.bar=Chart.DatasetController.extend({dataElementType:Chart.elements.Rectangle,initialize:function(){var me=this;var meta;Chart.DatasetController.prototype.initialize.apply(me,
arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=true},update:function(reset){var me=this;var elements=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=elements.length;i<ilen;++i)me.updateElement(elements[i],i,reset)},updateElement:function(rectangle,index,reset){var me=this;var chart=me.chart;var meta=me.getMeta();var dataset=me.getDataset();var custom=rectangle.custom||{};var rectangleOptions=chart.options.elements.rectangle;rectangle._xScale=me.getScaleForId(meta.xAxisID);
rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={datasetLabel:dataset.label,label:chart.data.labels[index],borderSkipped:custom.borderSkipped?custom.borderSkipped:rectangleOptions.borderSkipped,backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index,rectangleOptions.backgroundColor),borderColor:custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,
index,rectangleOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.borderWidth,index,rectangleOptions.borderWidth)};me.updateElementGeometry(rectangle,index,reset);rectangle.pivot()},updateElementGeometry:function(rectangle,index,reset){var me=this;var model=rectangle._model;var vscale=me.getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,
index);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},
getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(last){var me=this;var chart=me.chart;var scale=me.getIndexScale();var stacked=scale.options.stacked;var ilen=last===undefined?chart.data.datasets.length:last+1;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.bar&&chart.isDatasetVisible(i)&&(stacked===false||stacked===true&&stacks.indexOf(meta.stack)===-1||stacked===undefined&&(meta.stack===undefined||stacks.indexOf(meta.stack)===
-1)))stacks.push(meta.stack)}return stacks.length},getStackIndex:function(datasetIndex){return this.getStackCount(datasetIndex)-1},getRuler:function(){var me=this;var scale=me.getIndexScale();var options=scale.options;var stackCount=me.getStackCount();var fullSize=scale.isHorizontal()?scale.width:scale.height;var tickSize=fullSize/scale.ticks.length;var categorySize=tickSize*options.categoryPercentage;var fullBarSize=categorySize/stackCount;var barSize=fullBarSize*options.barPercentage;barSize=Math.min(helpers.getValueOrDefault(options.barThickness,
barSize),helpers.getValueOrDefault(options.maxBarThickness,Infinity));return{stackCount:stackCount,tickSize:tickSize,categorySize:categorySize,categorySpacing:tickSize-categorySize,fullBarSize:fullBarSize,barSize:barSize,barSpacing:fullBarSize-barSize,scale:scale}},calculateBarValuePixels:function(datasetIndex,index){var me=this;var chart=me.chart;var meta=me.getMeta();var scale=me.getValueScale();var datasets=chart.data.datasets;var value=Number(datasets[datasetIndex].data[index]);var stacked=scale.options.stacked;
var stack=meta.stack;var start=0;var i,imeta,ivalue,base,head,size;if(stacked||stacked===undefined&&stack!==undefined)for(i=0;i<datasetIndex;++i){imeta=chart.getDatasetMeta(i);if(imeta.bar&&imeta.stack===stack&&imeta.controller.getValueScaleId()===scale.id&&chart.isDatasetVisible(i)){ivalue=Number(datasets[i].data[index]);if(value<0&&ivalue<0||value>=0&&ivalue>0)start+=ivalue}}base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+value);size=(head-base)/2;return{size:size,base:base,
head:head,center:head+size/2}},calculateBarIndexPixels:function(datasetIndex,index,ruler){var me=this;var scale=ruler.scale;var isCombo=me.chart.isCombo;var stackIndex=me.getStackIndex(datasetIndex);var base=scale.getPixelForValue(null,index,datasetIndex,isCombo);var size=ruler.barSize;base-=isCombo?ruler.tickSize/2:0;base+=ruler.fullBarSize*stackIndex;base+=ruler.categorySpacing/2;base+=ruler.barSpacing/2;return{size:size,base:base,head:base+size,center:base+size/2}},draw:function(){var me=this;
var chart=me.chart;var elements=me.getMeta().data;var dataset=me.getDataset();var ilen=elements.length;var i=0;var d;helpers.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){d=dataset.data[i];if(d!==null&&d!==undefined&&!isNaN(d))elements[i].draw()}helpers.canvas.unclipArea(chart.ctx)},setHoverStyle:function(rectangle){var dataset=this.chart.data.datasets[rectangle._datasetIndex];var index=rectangle._index;var custom=rectangle.custom||{};var model=rectangle._model;model.backgroundColor=
custom.hoverBackgroundColor?custom.hoverBackgroundColor:helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(rectangle){var dataset=
this.chart.data.datasets[rectangle._datasetIndex];var index=rectangle._index;var custom=rectangle.custom||{};var model=rectangle._model;var rectangleElementOptions=this.chart.options.elements.rectangle;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index,rectangleElementOptions.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,rectangleElementOptions.borderColor);
model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.borderWidth,index,rectangleElementOptions.borderWidth)}});Chart.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(tooltipItems,data){var title="";if(tooltipItems.length>
0)if(tooltipItems[0].yLabel)title=tooltipItems[0].yLabel;else if(data.labels.length>0&&tooltipItems[0].index<data.labels.length)title=data.labels[tooltipItems[0].index];return title},label:function(tooltipItem,data){var datasetLabel=data.datasets[tooltipItem.datasetIndex].label||"";return datasetLabel+": "+tooltipItem.xLabel}}}};Chart.controllers.horizontalBar=Chart.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},
{}],16:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){var datasetLabel=data.datasets[tooltipItem.datasetIndex].label||"";var dataPoint=data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];return datasetLabel+
": ("+tooltipItem.xLabel+", "+tooltipItem.yLabel+", "+dataPoint.r+")"}}}};Chart.controllers.bubble=Chart.DatasetController.extend({dataElementType:Chart.elements.Point,update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers.each(points,function(point,index){me.updateElement(point,index,reset)})},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var custom=point.custom||
{};var dataset=me.getDataset();var data=dataset.data[index];var pointElementOptions=me.chart.options.elements.point;var dsIndex=me.index;helpers.extend(point,{_xScale:xScale,_yScale:yScale,_datasetIndex:dsIndex,_index:index,_model:{x:reset?xScale.getPixelForDecimal(.5):xScale.getPixelForValue(typeof data==="object"?data:NaN,index,dsIndex,me.chart.isCombo),y:reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex),radius:reset?0:custom.radius?custom.radius:me.getRadius(data),hitRadius:custom.hitRadius?
custom.hitRadius:helpers.getValueAtIndexOrDefault(dataset.hitRadius,index,pointElementOptions.hitRadius)}});Chart.DatasetController.prototype.removeHoverStyle.call(me,point,pointElementOptions);var model=point._model;model.skip=custom.skip?custom.skip:isNaN(model.x)||isNaN(model.y);point.pivot()},getRadius:function(value){return value.r||this.chart.options.elements.point.radius},setHoverStyle:function(point){var me=this;Chart.DatasetController.prototype.setHoverStyle.call(me,point);var dataset=me.chart.data.datasets[point._datasetIndex];
var index=point._index;var custom=point.custom||{};var model=point._model;model.radius=custom.hoverRadius?custom.hoverRadius:helpers.getValueAtIndexOrDefault(dataset.hoverRadius,index,me.chart.options.elements.point.hoverRadius)+me.getRadius(dataset.data[index])},removeHoverStyle:function(point){var me=this;Chart.DatasetController.prototype.removeHoverStyle.call(me,point,me.chart.options.elements.point);var dataVal=me.chart.data.datasets[point._datasetIndex].data[point._index];var custom=point.custom||
{};var model=point._model;model.radius=custom.radius?custom.radius:me.getRadius(dataVal)}})}},{}],17:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers,defaults=Chart.defaults;defaults.doughnut={animation:{animateRotate:true,animateScale:false},aspectRatio:1,hover:{mode:"single"},legendCallback:function(chart){var text=[];text.push('\x3cul class\x3d"'+chart.id+'-legend"\x3e');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length)for(var i=
0;i<datasets[0].data.length;++i){text.push('\x3cli\x3e\x3cspan style\x3d"background-color:'+datasets[0].backgroundColor[i]+'"\x3e\x3c/span\x3e');if(labels[i])text.push(labels[i]);text.push("\x3c/li\x3e")}text.push("\x3c/ul\x3e");return text.join("")},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length)return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var arc=meta.data[i];var custom=arc&&arc.custom||
{};var getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;var arcOpts=chart.options.elements.arc;var fill=custom.backgroundColor?custom.backgroundColor:getValueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,
lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}});return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index])meta.data[index].hidden=!meta.data[index].hidden}chart.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:Math.PI*2,tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){var dataLabel=
data.labels[tooltipItem.index];var value=": "+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value}else dataLabel+=value;return dataLabel}}}};defaults.pie=helpers.clone(defaults.doughnut);helpers.extend(defaults.pie,{cutoutPercentage:0});Chart.controllers.doughnut=Chart.controllers.pie=Chart.DatasetController.extend({dataElementType:Chart.elements.Arc,linkScales:helpers.noop,getRingIndex:function(datasetIndex){var ringIndex=
0;for(var j=0;j<datasetIndex;++j)if(this.chart.isDatasetVisible(j))++ringIndex;return ringIndex},update:function(reset){var me=this;var chart=me.chart,chartArea=chart.chartArea,opts=chart.options,arcOpts=opts.elements.arc,availableWidth=chartArea.right-chartArea.left-arcOpts.borderWidth,availableHeight=chartArea.bottom-chartArea.top-arcOpts.borderWidth,minSize=Math.min(availableWidth,availableHeight),offset={x:0,y:0},meta=me.getMeta(),cutoutPercentage=opts.cutoutPercentage,circumference=opts.circumference;
if(circumference<Math.PI*2){var startAngle=opts.rotation%(Math.PI*2);startAngle+=Math.PI*2*(startAngle>=Math.PI?-1:startAngle<-Math.PI?1:0);var endAngle=startAngle+circumference;var start={x:Math.cos(startAngle),y:Math.sin(startAngle)};var end={x:Math.cos(endAngle),y:Math.sin(endAngle)};var contains0=startAngle<=0&&0<=endAngle||startAngle<=Math.PI*2&&Math.PI*2<=endAngle;var contains90=startAngle<=Math.PI*.5&&Math.PI*.5<=endAngle||startAngle<=Math.PI*2.5&&Math.PI*2.5<=endAngle;var contains180=startAngle<=
-Math.PI&&-Math.PI<=endAngle||startAngle<=Math.PI&&Math.PI<=endAngle;var contains270=startAngle<=-Math.PI*.5&&-Math.PI*.5<=endAngle||startAngle<=Math.PI*1.5&&Math.PI*1.5<=endAngle;var cutout=cutoutPercentage/100;var min={x:contains180?-1:Math.min(start.x*(start.x<0?1:cutout),end.x*(end.x<0?1:cutout)),y:contains270?-1:Math.min(start.y*(start.y<0?1:cutout),end.y*(end.y<0?1:cutout))};var max={x:contains0?1:Math.max(start.x*(start.x>0?1:cutout),end.x*(end.x>0?1:cutout)),y:contains90?1:Math.max(start.y*
(start.y>0?1:cutout),end.y*(end.y>0?1:cutout))};var size={width:(max.x-min.x)*.5,height:(max.y-min.y)*.5};minSize=Math.min(availableWidth/size.width,availableHeight/size.height);offset={x:(max.x+min.x)*-.5,y:(max.y+min.y)*-.5}}chart.borderWidth=me.getMaxBorderWidth(meta.data);chart.outerRadius=Math.max((minSize-chart.borderWidth)/2,0);chart.innerRadius=Math.max(cutoutPercentage?chart.outerRadius/100*cutoutPercentage:0,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();
chart.offsetX=offset.x*chart.outerRadius;chart.offsetY=offset.y*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-chart.radiusLength*me.getRingIndex(me.index);me.innerRadius=Math.max(me.outerRadius-chart.radiusLength,0);helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){var me=this;var chart=me.chart,chartArea=chart.chartArea,opts=chart.options,animationOpts=opts.animation,centerX=(chartArea.left+
chartArea.right)/2,centerY=(chartArea.top+chartArea.bottom)/2,startAngle=opts.rotation,endAngle=opts.rotation,dataset=me.getDataset(),circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference/(2*Math.PI)),innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius,outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius,valueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;helpers.extend(arc,{_datasetIndex:me.index,
_index:index,_model:{x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;this.removeHoverStyle(arc);if(!reset||!animationOpts.animateRotate){if(index===0)model.startAngle=opts.rotation;else model.startAngle=me.getMeta().data[index-1]._model.endAngle;model.endAngle=model.startAngle+model.circumference}arc.pivot()},
removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden)total+=Math.abs(value)});return total},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value))return Math.PI*2*(value/total);
return 0},getMaxBorderWidth:function(elements){var max=0,index=this.index,length=elements.length,borderWidth,hoverWidth;for(var i=0;i<length;i++){borderWidth=elements[i]._model?elements[i]._model.borderWidth:0;hoverWidth=elements[i]._chart?elements[i]._chart.config.data.datasets[index].hoverBorderWidth:0;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max}return max}})}},{}],18:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.line=
{showLines:true,spanGaps:false,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}};function lineEnabled(dataset,options){return helpers.getValueOrDefault(dataset.showLine,options.showLines)}Chart.controllers.line=Chart.DatasetController.extend({datasetElementType:Chart.elements.Line,dataElementType:Chart.elements.Point,update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;
var lineElementOptions=options.elements.line;var scale=me.getScaleForId(meta.yAxisID);var i,ilen,custom;var dataset=me.getDataset();var showLine=lineEnabled(dataset,options);if(showLine){custom=line.custom||{};if(dataset.tension!==undefined&&dataset.lineTension===undefined)dataset.lineTension=dataset.tension;line._scale=scale;line._datasetIndex=me.index;line._children=points;line._model={spanGaps:dataset.spanGaps?dataset.spanGaps:options.spanGaps,tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.lineTension,
lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:dataset.backgroundColor||lineElementOptions.backgroundColor,borderWidth:custom.borderWidth?custom.borderWidth:dataset.borderWidth||lineElementOptions.borderWidth,borderColor:custom.borderColor?custom.borderColor:dataset.borderColor||lineElementOptions.borderColor,borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:dataset.borderCapStyle||lineElementOptions.borderCapStyle,borderDash:custom.borderDash?custom.borderDash:
dataset.borderDash||lineElementOptions.borderDash,borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:dataset.borderDashOffset||lineElementOptions.borderDashOffset,borderJoinStyle:custom.borderJoinStyle?custom.borderJoinStyle:dataset.borderJoinStyle||lineElementOptions.borderJoinStyle,fill:custom.fill?custom.fill:dataset.fill!==undefined?dataset.fill:lineElementOptions.fill,steppedLine:custom.steppedLine?custom.steppedLine:helpers.getValueOrDefault(dataset.steppedLine,lineElementOptions.stepped),
cubicInterpolationMode:custom.cubicInterpolationMode?custom.cubicInterpolationMode:helpers.getValueOrDefault(dataset.cubicInterpolationMode,lineElementOptions.cubicInterpolationMode)};line.pivot()}for(i=0,ilen=points.length;i<ilen;++i)me.updateElement(points[i],i,reset);if(showLine&&line._model.tension!==0)me.updateBezierControlPoints();for(i=0,ilen=points.length;i<ilen;++i)points[i].pivot()},getPointBackgroundColor:function(point,index){var backgroundColor=this.chart.options.elements.point.backgroundColor;
var dataset=this.getDataset();var custom=point.custom||{};if(custom.backgroundColor)backgroundColor=custom.backgroundColor;else if(dataset.pointBackgroundColor)backgroundColor=helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,backgroundColor);else if(dataset.backgroundColor)backgroundColor=dataset.backgroundColor;return backgroundColor},getPointBorderColor:function(point,index){var borderColor=this.chart.options.elements.point.borderColor;var dataset=this.getDataset();var custom=
point.custom||{};if(custom.borderColor)borderColor=custom.borderColor;else if(dataset.pointBorderColor)borderColor=helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,index,borderColor);else if(dataset.borderColor)borderColor=dataset.borderColor;return borderColor},getPointBorderWidth:function(point,index){var borderWidth=this.chart.options.elements.point.borderWidth;var dataset=this.getDataset();var custom=point.custom||{};if(!isNaN(custom.borderWidth))borderWidth=custom.borderWidth;else if(!isNaN(dataset.pointBorderWidth))borderWidth=
helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,index,borderWidth);else if(!isNaN(dataset.borderWidth))borderWidth=dataset.borderWidth;return borderWidth},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var yScale=me.getScaleForId(meta.yAxisID);var xScale=me.getScaleForId(meta.xAxisID);var pointOptions=me.chart.options.elements.point;var x,y;var labels=
me.chart.data.labels||[];var includeOffset=labels.length===1||dataset.data.length===1||me.chart.isCombo;if(dataset.radius!==undefined&&dataset.pointRadius===undefined)dataset.pointRadius=dataset.radius;if(dataset.hitRadius!==undefined&&dataset.pointHitRadius===undefined)dataset.pointHitRadius=dataset.hitRadius;x=xScale.getPixelForValue(typeof value==="object"?value:NaN,index,datasetIndex,includeOffset);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;
point._yScale=yScale;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:custom.radius||helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,pointOptions.radius),pointStyle:custom.pointStyle||helpers.getValueAtIndexOrDefault(dataset.pointStyle,index,pointOptions.pointStyle),backgroundColor:me.getPointBackgroundColor(point,index),borderColor:me.getPointBorderColor(point,index),borderWidth:me.getPointBorderWidth(point,index),tension:meta.dataset._model?
meta.dataset._model.tension:0,steppedLine:meta.dataset._model?meta.dataset._model.steppedLine:false,hitRadius:custom.hitRadius||helpers.getValueAtIndexOrDefault(dataset.pointHitRadius,index,pointOptions.hitRadius)}},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var meta=me.getMeta();var yScale=me.getScaleForId(meta.yAxisID);var sumPos=0;var sumNeg=0;var i,ds,dsMeta;if(yScale.options.stacked){for(i=0;i<datasetIndex;i++){ds=chart.data.datasets[i];dsMeta=chart.getDatasetMeta(i);
if(dsMeta.type==="line"&&dsMeta.yAxisID===yScale.id&&chart.isDatasetVisible(i)){var stackedRightValue=Number(yScale.getRightValue(ds.data[index]));if(stackedRightValue<0)sumNeg+=stackedRightValue||0;else sumPos+=stackedRightValue||0}}var rightValue=Number(yScale.getRightValue(value));if(rightValue<0)return yScale.getPixelForValue(sumNeg+rightValue);return yScale.getPixelForValue(sumPos+rightValue)}return yScale.getPixelForValue(value)},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();
var area=me.chart.chartArea;var points=meta.data||[];var i,ilen,point,model,controlPoints;if(meta.dataset._model.spanGaps)points=points.filter(function(pt){return!pt._model.skip});function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min)}if(meta.dataset._model.cubicInterpolationMode==="monotone")helpers.splineCurveMonotone(points);else for(i=0,ilen=points.length;i<ilen;++i){point=points[i];model=point._model;controlPoints=helpers.splineCurve(helpers.previousItem(points,i)._model,
model,helpers.nextItem(points,i)._model,meta.dataset._model.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y}if(me.chart.options.elements.line.capBezierPoints)for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,
area.top,area.bottom);model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom)}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var ilen=points.length;var i=0;Chart.canvasHelpers.clipArea(chart.ctx,area);if(lineEnabled(me.getDataset(),chart.options))meta.dataset.draw();Chart.canvasHelpers.unclipArea(chart.ctx);for(;i<
ilen;++i)points[i].draw(area)},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];var index=point._index;var custom=point.custom||{};var model=point._model;model.radius=custom.hoverRadius||helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius);model.backgroundColor=custom.hoverBackgroundColor||helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));
model.borderColor=custom.hoverBorderColor||helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth||helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var me=this;var dataset=me.chart.data.datasets[point._datasetIndex];var index=point._index;var custom=point.custom||{};var model=point._model;if(dataset.radius!==undefined&&dataset.pointRadius===
undefined)dataset.pointRadius=dataset.radius;model.radius=custom.radius||helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,me.chart.options.elements.point.radius);model.backgroundColor=me.getPointBackgroundColor(point,index);model.borderColor=me.getPointBorderColor(point,index);model.borderWidth=me.getPointBorderWidth(point,index)}})}},{}],19:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.polarArea={scale:{type:"radialLinear",angleLines:{display:false},
gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(chart){var text=[];text.push('\x3cul class\x3d"'+chart.id+'-legend"\x3e');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length)for(var i=0;i<datasets[0].data.length;++i){text.push('\x3cli\x3e\x3cspan style\x3d"background-color:'+datasets[0].backgroundColor[i]+'"\x3e\x3c/span\x3e');
if(labels[i])text.push(labels[i]);text.push("\x3c/li\x3e")}text.push("\x3c/ul\x3e");return text.join("")},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length)return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var arc=meta.data[i];var custom=arc.custom||{};var getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;var arcOpts=chart.options.elements.arc;var fill=custom.backgroundColor?custom.backgroundColor:
getValueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}});return[]}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;
var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden}chart.update()}},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){return data.labels[tooltipItem.index]+": "+tooltipItem.yLabel}}}};Chart.controllers.polarArea=Chart.DatasetController.extend({dataElementType:Chart.elements.Arc,linkScales:helpers.noop,update:function(reset){var me=this;var chart=me.chart;var chartArea=
chart.chartArea;var meta=me.getMeta();var opts=chart.options;var arcOpts=opts.elements.arc;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max((minSize-arcOpts.borderWidth/2)/2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?chart.outerRadius/100*opts.cutoutPercentage:1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-chart.radiusLength*me.index;me.innerRadius=
me.outerRadius-chart.radiusLength;meta.count=me.countVisibleElements();helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;var labels=chart.data.labels;var circumference=me.calculateCircumference(dataset.data[index]);var centerX=scale.xCenter;
var centerY=scale.yCenter;var visibleCount=0;var meta=me.getMeta();for(var i=0;i<index;++i)if(!isNaN(dataset.data[i])&&!meta.data[i].hidden)++visibleCount;var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=datasetStartAngle+circumference*visibleCount;var endAngle=startAngle+(arc.hidden?0:circumference);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);helpers.extend(arc,
{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:getValueAtIndexOrDefault(labels,index,labels[index])}});me.removeHoverStyle(arc);arc.pivot()},removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},
countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden)count++});return count},calculateCircumference:function(value){var count=this.getMeta().count;if(count>0&&!isNaN(value))return 2*Math.PI/count;return 0}})}},{}],20:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},
elements:{line:{tension:0}}};Chart.controllers.radar=Chart.DatasetController.extend({datasetElementType:Chart.elements.Line,dataElementType:Chart.elements.Point,linkScales:helpers.noop,update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data;var custom=line.custom||{};var dataset=me.getDataset();var lineElementOptions=me.chart.options.elements.line;var scale=me.chart.scale;if(dataset.tension!==undefined&&dataset.lineTension===undefined)dataset.lineTension=
dataset.tension;helpers.extend(meta.dataset,{_datasetIndex:me.index,_scale:scale,_children:points,_loop:true,_model:{tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.lineTension,lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:dataset.backgroundColor||lineElementOptions.backgroundColor,borderWidth:custom.borderWidth?custom.borderWidth:dataset.borderWidth||lineElementOptions.borderWidth,borderColor:custom.borderColor?custom.borderColor:
dataset.borderColor||lineElementOptions.borderColor,fill:custom.fill?custom.fill:dataset.fill!==undefined?dataset.fill:lineElementOptions.fill,borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:dataset.borderCapStyle||lineElementOptions.borderCapStyle,borderDash:custom.borderDash?custom.borderDash:dataset.borderDash||lineElementOptions.borderDash,borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:dataset.borderDashOffset||lineElementOptions.borderDashOffset,borderJoinStyle:custom.borderJoinStyle?
custom.borderJoinStyle:dataset.borderJoinStyle||lineElementOptions.borderJoinStyle}});meta.dataset.pivot();helpers.each(points,function(point,index){me.updateElement(point,index,reset)},me);me.updateBezierControlPoints()},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointElementOptions=me.chart.options.elements.point;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);if(dataset.radius!==
undefined&&dataset.pointRadius===undefined)dataset.pointRadius=dataset.radius;if(dataset.hitRadius!==undefined&&dataset.pointHitRadius===undefined)dataset.pointHitRadius=dataset.hitRadius;helpers.extend(point,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:reset?scale.xCenter:pointPosition.x,y:reset?scale.yCenter:pointPosition.y,tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.lineTension,me.chart.options.elements.line.tension),radius:custom.radius?custom.radius:
helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,pointElementOptions.radius),backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor),borderColor:custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,index,pointElementOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,
index,pointElementOptions.borderWidth),pointStyle:custom.pointStyle?custom.pointStyle:helpers.getValueAtIndexOrDefault(dataset.pointStyle,index,pointElementOptions.pointStyle),hitRadius:custom.hitRadius?custom.hitRadius:helpers.getValueAtIndexOrDefault(dataset.pointHitRadius,index,pointElementOptions.hitRadius)}});point._model.skip=custom.skip?custom.skip:isNaN(point._model.x)||isNaN(point._model.y)},updateBezierControlPoints:function(){var chartArea=this.chart.chartArea;var meta=this.getMeta();helpers.each(meta.data,
function(point,index){var model=point._model;var controlPoints=helpers.splineCurve(helpers.previousItem(meta.data,index,true)._model,model,helpers.nextItem(meta.data,index,true)._model,model.tension);model.controlPointPreviousX=Math.max(Math.min(controlPoints.previous.x,chartArea.right),chartArea.left);model.controlPointPreviousY=Math.max(Math.min(controlPoints.previous.y,chartArea.bottom),chartArea.top);model.controlPointNextX=Math.max(Math.min(controlPoints.next.x,chartArea.right),chartArea.left);
model.controlPointNextY=Math.max(Math.min(controlPoints.next.y,chartArea.bottom),chartArea.top);point.pivot()})},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];var custom=point.custom||{};var index=point._index;var model=point._model;model.radius=custom.hoverRadius?custom.hoverRadius:helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius);model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:
helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex];
var custom=point.custom||{};var index=point._index;var model=point._model;var pointElementOptions=this.chart.options.elements.point;model.radius=custom.radius?custom.radius:helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,pointElementOptions.radius);model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,
index,pointElementOptions.borderColor);model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,index,pointElementOptions.borderWidth)}})}},{}],21:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.global.animation={duration:1E3,easing:"easeOutQuart",onProgress:helpers.noop,onComplete:helpers.noop};Chart.Animation=Chart.Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,
onAnimationProgress:null,onAnimationComplete:null});Chart.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;if(!lazy)chart.animating=true;for(i=0,ilen=animations.length;i<ilen;++i)if(animations[i].chart===chart){animations[i]=animation;return}animations.push(animation);if(animations.length===1)this.requestAnimationFrame()},cancelAnimation:function(chart){var index=
helpers.findIndex(this.animations,function(animation){return animation.chart===chart});if(index!==-1){this.animations.splice(index,1);chart.animating=false}},requestAnimationFrame:function(){var me=this;if(me.request===null)me.request=helpers.requestAnimFrame.call(window,function(){me.request=null;me.startDigest()})},startDigest:function(){var me=this;var startTime=Date.now();var framesToDrop=0;if(me.dropFrames>1){framesToDrop=Math.floor(me.dropFrames);me.dropFrames=me.dropFrames%1}me.advance(1+framesToDrop);
var endTime=Date.now();me.dropFrames+=(endTime-startTime)/me.frameDuration;if(me.animations.length>0)me.requestAnimationFrame()},advance:function(count){var animations=this.animations;var animation,chart;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;animation.currentStep=(animation.currentStep||0)+count;animation.currentStep=Math.min(animation.currentStep,animation.numSteps);helpers.callback(animation.render,[chart,animation],chart);helpers.callback(animation.onAnimationProgress,
[animation],chart);if(animation.currentStep>=animation.numSteps){helpers.callback(animation.onAnimationComplete,[animation],chart);chart.animating=false;animations.splice(i,1)}else++i}}};Object.defineProperty(Chart.Animation.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(Chart.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(value){this.chart=value}})}},{}],22:[function(require,module,exports){module.exports=function(Chart){var helpers=
Chart.canvasHelpers={};helpers.drawPoint=function(ctx,pointStyle,radius,x,y){var type,edgeLength,xOffset,yOffset,height,size;if(typeof pointStyle==="object"){type=pointStyle.toString();if(type==="[object HTMLImageElement]"||type==="[object HTMLCanvasElement]"){ctx.drawImage(pointStyle,x-pointStyle.width/2,y-pointStyle.height/2,pointStyle.width,pointStyle.height);return}}if(isNaN(radius)||radius<=0)return;switch(pointStyle){default:ctx.beginPath();ctx.arc(x,y,radius,0,Math.PI*2);ctx.closePath();ctx.fill();
break;case "triangle":ctx.beginPath();edgeLength=3*radius/Math.sqrt(3);height=edgeLength*Math.sqrt(3)/2;ctx.moveTo(x-edgeLength/2,y+height/3);ctx.lineTo(x+edgeLength/2,y+height/3);ctx.lineTo(x,y-2*height/3);ctx.closePath();ctx.fill();break;case "rect":size=1/Math.SQRT2*radius;ctx.beginPath();ctx.fillRect(x-size,y-size,2*size,2*size);ctx.strokeRect(x-size,y-size,2*size,2*size);break;case "rectRounded":var offset=radius/Math.SQRT2;var leftX=x-offset;var topY=y-offset;var sideSize=Math.SQRT2*radius;
Chart.helpers.drawRoundedRectangle(ctx,leftX,topY,sideSize,sideSize,radius/2);ctx.fill();break;case "rectRot":size=1/Math.SQRT2*radius;ctx.beginPath();ctx.moveTo(x-size,y);ctx.lineTo(x,y+size);ctx.lineTo(x+size,y);ctx.lineTo(x,y-size);ctx.closePath();ctx.fill();break;case "cross":ctx.beginPath();ctx.moveTo(x,y+radius);ctx.lineTo(x,y-radius);ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);ctx.closePath();break;case "crossRot":ctx.beginPath();xOffset=Math.cos(Math.PI/4)*radius;yOffset=Math.sin(Math.PI/
4)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x-xOffset,y+yOffset);ctx.lineTo(x+xOffset,y-yOffset);ctx.closePath();break;case "star":ctx.beginPath();ctx.moveTo(x,y+radius);ctx.lineTo(x,y-radius);ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);xOffset=Math.cos(Math.PI/4)*radius;yOffset=Math.sin(Math.PI/4)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x-xOffset,y+yOffset);ctx.lineTo(x+xOffset,y-yOffset);ctx.closePath();break;case "line":ctx.beginPath();
ctx.moveTo(x-radius,y);ctx.lineTo(x+radius,y);ctx.closePath();break;case "dash":ctx.beginPath();ctx.moveTo(x,y);ctx.lineTo(x+radius,y);ctx.closePath();break}ctx.stroke()};helpers.clipArea=function(ctx,clipArea){ctx.save();ctx.beginPath();ctx.rect(clipArea.left,clipArea.top,clipArea.right-clipArea.left,clipArea.bottom-clipArea.top);ctx.clip()};helpers.unclipArea=function(ctx){ctx.restore()};helpers.lineTo=function(ctx,previous,target,flip){if(target.steppedLine){if(target.steppedLine==="after")ctx.lineTo(previous.x,
target.y);else ctx.lineTo(target.x,previous.y);ctx.lineTo(target.x,target.y);return}if(!target.tension){ctx.lineTo(target.x,target.y);return}ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y)};Chart.helpers.canvas=helpers}},{}],23:[function(require,module,exports){module.exports=
function(Chart){var helpers=Chart.helpers;var plugins=Chart.plugins;var platform=Chart.platform;Chart.types={};Chart.instances={};Chart.controllers={};function initConfig(config){config=config||{};var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=helpers.configMerge(Chart.defaults.global,Chart.defaults[config.type],config.options||{});return config}function updateConfig(chart){var newOptions=chart.options;if(newOptions.scale)chart.scale.options=
newOptions.scale;else if(newOptions.scales)newOptions.scales.xAxes.concat(newOptions.scales.yAxes).forEach(function(scaleOptions){chart.scales[scaleOptions.id].options=scaleOptions});chart.tooltip._options=newOptions.tooltips}function positionIsHorizontal(position){return position==="top"||position==="bottom"}helpers.extend(Chart.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=
canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width/height:null;me.options=config.options;me._bufferedRender=false;me.chart=me;me.controller=me;Chart.instances[me.id]=me;Object.defineProperty(me,"data",{get:function(){return me.config.data},set:function(value){me.config.data=value}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");
return}me.initialize();me.update()},initialize:function(){var me=this;plugins.notify(me,"beforeInit");helpers.retinaScale(me);me.bindEvents();if(me.options.responsive)me.resize(true);me.ensureScalesHaveIDs();me.buildScales();me.initToolTip();plugins.notify(me,"afterInit");return me},clear:function(){helpers.clear(this);return this},stop:function(){Chart.animationService.cancelAnimation(this);return this},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=
options.maintainAspectRatio&&me.aspectRatio||null;var newWidth=Math.floor(helpers.getMaximumWidth(canvas));var newHeight=Math.floor(aspectRatio?newWidth/aspectRatio:helpers.getMaximumHeight(canvas));if(me.width===newWidth&&me.height===newHeight)return;canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+"px";canvas.style.height=newHeight+"px";helpers.retinaScale(me);if(!silent){var newSize={width:newWidth,height:newHeight};plugins.notify(me,"resize",[newSize]);
if(me.options.onResize)me.options.onResize(me,newSize);me.stop();me.update(me.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers.each(scalesOptions.xAxes,function(xAxisOptions,index){xAxisOptions.id=xAxisOptions.id||"x-axis-"+index});helpers.each(scalesOptions.yAxes,function(yAxisOptions,index){yAxisOptions.id=yAxisOptions.id||"y-axis-"+index});if(scaleOptions)scaleOptions.id=scaleOptions.id||
"scale"},buildScales:function(){var me=this;var options=me.options;var scales=me.scales={};var items=[];if(options.scales)items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:"category",dposition:"bottom"}}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:"linear",dposition:"left"}}));if(options.scale)items.push({options:options.scale,dtype:"radialLinear",isDefault:true,dposition:"chartArea"});helpers.each(items,
function(item){var scaleOptions=item.options;var scaleType=helpers.getValueOrDefault(scaleOptions.type,item.dtype);var scaleClass=Chart.scaleService.getScaleConstructor(scaleType);if(!scaleClass)return;if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition))scaleOptions.position=item.dposition;var scale=new scaleClass({id:scaleOptions.id,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale;if(item.isDefault)me.scale=scale});Chart.scaleService.addScalesToLayout(this)},
buildOrUpdateControllers:function(){var me=this;var types=[];var newControllers=[];helpers.each(me.data.datasets,function(dataset,datasetIndex){var meta=me.getDatasetMeta(datasetIndex);if(!meta.type)meta.type=dataset.type||me.config.type;types.push(meta.type);if(meta.controller)meta.controller.updateIndex(datasetIndex);else{var ControllerClass=Chart.controllers[meta.type];if(ControllerClass===undefined)throw new Error('"'+meta.type+'" is not a chart type.');meta.controller=new ControllerClass(me,
datasetIndex);newControllers.push(meta.controller)}},me);if(types.length>1)for(var i=1;i<types.length;i++)if(types[i]!==types[i-1]){me.isCombo=true;break}return newControllers},resetElements:function(){var me=this;helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset()},me)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(animationDuration,lazy){var me=this;updateConfig(me);if(plugins.notify(me,"beforeUpdate")===
false)return;me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements()},me);me.updateLayout();helpers.each(newControllers,function(controller){controller.reset()});me.updateDatasets();plugins.notify(me,"afterUpdate");if(me._bufferedRender)me._bufferedRequest={lazy:lazy,duration:animationDuration};else me.render(animationDuration,lazy)},updateLayout:function(){var me=
this;if(plugins.notify(me,"beforeLayout")===false)return;Chart.layoutService.update(this,this.width,this.height);plugins.notify(me,"afterScaleUpdate");plugins.notify(me,"afterLayout")},updateDatasets:function(){var me=this;if(plugins.notify(me,"beforeDatasetsUpdate")===false)return;for(var i=0,ilen=me.data.datasets.length;i<ilen;++i)me.updateDataset(i);plugins.notify(me,"afterDatasetsUpdate")},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};
if(plugins.notify(me,"beforeDatasetUpdate",[args])===false)return;meta.controller.update();plugins.notify(me,"afterDatasetUpdate",[args])},render:function(duration,lazy){var me=this;if(plugins.notify(me,"beforeRender")===false)return;var animationOptions=me.options.animation;var onComplete=function(animation){plugins.notify(me,"afterRender");helpers.callback(animationOptions&&animationOptions.onComplete,[animation],me)};if(animationOptions&&(typeof duration!=="undefined"&&duration!==0||typeof duration===
"undefined"&&animationOptions.duration!==0)){var animation=new Chart.Animation({numSteps:(duration||animationOptions.duration)/16.66,easing:animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers.easingEffects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep/animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep)},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});
Chart.animationService.addAnimation(me,animation,duration,lazy)}else{me.draw();onComplete(new Chart.Animation({numSteps:0,chart:me}))}return me},draw:function(easingValue){var me=this;me.clear();if(easingValue===undefined||easingValue===null)easingValue=1;me.transition(easingValue);if(plugins.notify(me,"beforeDraw",[easingValue])===false)return;helpers.each(me.boxes,function(box){box.draw(me.chartArea)},me);if(me.scale)me.scale.draw();me.drawDatasets(easingValue);me.tooltip.draw();plugins.notify(me,
"afterDraw",[easingValue])},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i)if(me.isDatasetVisible(i))me.getDatasetMeta(i).controller.transition(easingValue);me.tooltip.transition(easingValue)},drawDatasets:function(easingValue){var me=this;if(plugins.notify(me,"beforeDatasetsDraw",[easingValue])===false)return;for(var i=(me.data.datasets||[]).length-1;i>=0;--i)if(me.isDatasetVisible(i))me.drawDataset(i,easingValue);plugins.notify(me,"afterDatasetsDraw",
[easingValue])},drawDataset:function(index,easingValue){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index,easingValue:easingValue};if(plugins.notify(me,"beforeDatasetDraw",[args])===false)return;meta.controller.draw(easingValue);plugins.notify(me,"afterDatasetDraw",[args])},getElementAtEvent:function(e){return Chart.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return Chart.Interaction.modes.label(this,e,{intersect:true})},getElementsAtXAxis:function(e){return Chart.Interaction.modes["x-axis"](this,
e,{intersect:true})},getElementsAtEventForMode:function(e,mode,options){var method=Chart.Interaction.modes[mode];if(typeof method==="function")return method(this,e,options);return[]},getDatasetAtEvent:function(e){return Chart.Interaction.modes.dataset(this,e,{intersect:true})},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta)dataset._meta={};var meta=dataset._meta[me.id];if(!meta)meta=dataset._meta[me.id]={type:null,data:[],dataset:null,
controller:null,hidden:null,xAxisID:null,yAxisID:null};return meta},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i)if(this.isDatasetVisible(i))count++;return count},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==="boolean"?!meta.hidden:!this.data.datasets[datasetIndex].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var me=this;var canvas=
me.canvas;var meta,i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){meta=me.getDatasetMeta(i);if(meta.controller){meta.controller.destroy();meta.controller=null}}if(canvas){me.unbindEvents();helpers.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null}plugins.notify(me,"destroy");delete Chart.instances[me.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var me=this;me.tooltip=new Chart.Tooltip({_chart:me,
_chartInstance:me,_data:me.data,_options:me.options.tooltips},me);me.tooltip.initialize()},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments)};helpers.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener});if(me.options.responsive){listener=function(){me.resize()};platform.addEventListener(me,"resize",listener);listeners.resize=listener}},unbindEvents:function(){var me=this;
var listeners=me._listeners;if(!listeners)return;delete me._listeners;helpers.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener)})},updateHoverStyle:function(elements,mode,enabled){var method=enabled?"setHoverStyle":"removeHoverStyle";var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element)this.getDatasetMeta(element._datasetIndex).controller[method](element)}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(plugins.notify(me,
"beforeEvent",[e])===false)return;me._bufferedRender=true;me._bufferedRequest=null;var changed=me.handleEvent(e);changed|=tooltip&&tooltip.handleEvent(e);plugins.notify(me,"afterEvent",[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest)me.render(bufferedRequest.duration,bufferedRequest.lazy);else if(changed&&!me.animating){me.stop();me.render(me.options.hover.animationDuration,true)}me._bufferedRender=false;me._bufferedRequest=null;return me},handleEvent:function(e){var me=this;var options=
me.options||{};var hoverOptions=options.hover;var changed=false;me.lastActive=me.lastActive||[];if(e.type==="mouseout")me.active=[];else me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions);if(hoverOptions.onHover)hoverOptions.onHover.call(me,e.native,me.active);if(e.type==="mouseup"||e.type==="click")if(options.onClick)options.onClick.call(me,e.native,me.active);if(me.lastActive.length)me.updateHoverStyle(me.lastActive,hoverOptions.mode,false);if(me.active.length&&hoverOptions.mode)me.updateHoverStyle(me.active,
hoverOptions.mode,true);changed=!helpers.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed}});Chart.Controller=Chart}},{}],24:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;var arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return}Object.defineProperty(array,"_chartjs",{configurable:true,enumerable:false,value:{listeners:[listener]}});
arrayEvents.forEach(function(key){var method="onData"+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers.each(array._chartjs.listeners,function(object){if(typeof object[method]==="function")object[method].apply(object,args)});return res}})})}function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub)return;
var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1)listeners.splice(index,1);if(listeners.length>0)return;arrayEvents.forEach(function(key){delete array[key]});delete array._chartjs}Chart.DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex)};helpers.extend(Chart.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();
me.addElements()},updateIndex:function(datasetIndex){this.index=datasetIndex},linkScales:function(){var me=this;var meta=me.getMeta();var dataset=me.getDataset();if(meta.xAxisID===null)meta.xAxisID=dataset.xAxisID||me.chart.options.scales.xAxes[0].id;if(meta.yAxisID===null)meta.yAxisID=dataset.yAxisID||me.chart.options.scales.yAxes[0].id},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(scaleID){return this.chart.scales[scaleID]},
reset:function(){this.update(true)},destroy:function(){if(this._data)unlistenArrayEvents(this._data,this)},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index})},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index})},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;
var i,ilen;for(i=0,ilen=data.length;i<ilen;++i)metaData[i]=metaData[i]||me.createMetaData(i);meta.dataset=meta.dataset||me.createMetaDataset()},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,true)},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data)unlistenArrayEvents(me._data,me);listenArrayEvents(data,
me);me._data=data}me.resyncElements()},update:helpers.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i)elements[i].transition(easingValue);if(meta.dataset)meta.dataset.transition(easingValue)},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset)meta.dataset.draw();for(;i<ilen;++i)elements[i].draw()},removeHoverStyle:function(element,elementOpts){var dataset=
this.chart.data.datasets[element._datasetIndex],index=element._index,custom=element.custom||{},valueOrDefault=helpers.getValueAtIndexOrDefault,model=element._model;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:valueOrDefault(dataset.backgroundColor,index,elementOpts.backgroundColor);model.borderColor=custom.borderColor?custom.borderColor:valueOrDefault(dataset.borderColor,index,elementOpts.borderColor);model.borderWidth=custom.borderWidth?custom.borderWidth:valueOrDefault(dataset.borderWidth,
index,elementOpts.borderWidth)},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex],index=element._index,custom=element.custom||{},valueOrDefault=helpers.getValueAtIndexOrDefault,getHoverColor=helpers.getHoverColor,model=element._model;model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:valueOrDefault(dataset.hoverBackgroundColor,index,getHoverColor(model.backgroundColor));model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:
valueOrDefault(dataset.hoverBorderColor,index,getHoverColor(model.borderColor));model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:valueOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta)meta.data.splice(numData,numMeta-numData);else if(numData>numMeta)me.insertElements(numMeta,numData-numMeta)},insertElements:function(start,
count){for(var i=0;i<count;++i)this.addElementAndReset(start+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});Chart.DatasetController.extend=helpers.inherits}},{}],
25:[function(require,module,exports){var color=require(3);module.exports=function(Chart){var helpers=Chart.helpers;function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key))view[key]=target;actual=view[key];if(actual===target||key[0]==="_")continue;if(!start.hasOwnProperty(key))start[key]=actual;origin=start[key];type=typeof target;if(type===
typeof origin)if(type==="string"){c0=color(origin);if(c0.valid){c1=color(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue}}}else if(type==="number"&&isFinite(origin)&&isFinite(target)){view[key]=origin+(target-origin)*ease;continue}view[key]=target}}Chart.elements={};Chart.Element=function(configuration){helpers.extend(this,configuration);this.initialize.apply(this,arguments)};helpers.extend(Chart.Element.prototype,{initialize:function(){this.hidden=false},pivot:function(){var me=
this;if(!me._view)me._view=helpers.clone(me._model);me._start={};return me},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=model;me._start=null;return me}if(!view)view=me._view={};if(!start)start=me._start={};interpolate(start,view,model,ease);return me},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers.isNumber(this._model.x)&&helpers.isNumber(this._model.y)}});Chart.Element.extend=
helpers.inherits}},{3:3}],26:[function(require,module,exports){var color=require(3);module.exports=function(Chart){var helpers=Chart.helpers={};helpers.each=function(loopable,callback,self,reverse){var i,len;if(helpers.isArray(loopable)){len=loopable.length;if(reverse)for(i=len-1;i>=0;i--)callback.call(self,loopable[i],i);else for(i=0;i<len;i++)callback.call(self,loopable[i],i)}else if(typeof loopable==="object"){var keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++)callback.call(self,
loopable[keys[i]],keys[i])}};helpers.clone=function(obj){var objClone={};helpers.each(obj,function(value,key){if(helpers.isArray(value))objClone[key]=value.slice(0);else if(typeof value==="object"&&value!==null)objClone[key]=helpers.clone(value);else objClone[key]=value});return objClone};helpers.extend=function(base){var setFn=function(value,key){base[key]=value};for(var i=1,ilen=arguments.length;i<ilen;i++)helpers.each(arguments[i],setFn);return base};helpers.configMerge=function(_base){var base=
helpers.clone(_base);helpers.each(Array.prototype.slice.call(arguments,1),function(extension){helpers.each(extension,function(value,key){var baseHasProperty=base.hasOwnProperty(key);var baseVal=baseHasProperty?base[key]:{};if(key==="scales")base[key]=helpers.scaleMerge(baseVal,value);else if(key==="scale")base[key]=helpers.configMerge(baseVal,Chart.scaleService.getScaleDefaults(value.type),value);else if(baseHasProperty&&typeof baseVal==="object"&&!helpers.isArray(baseVal)&&baseVal!==null&&typeof value===
"object"&&!helpers.isArray(value))base[key]=helpers.configMerge(baseVal,value);else base[key]=value})});return base};helpers.scaleMerge=function(_base,extension){var base=helpers.clone(_base);helpers.each(extension,function(value,key){if(key==="xAxes"||key==="yAxes")if(base.hasOwnProperty(key))helpers.each(value,function(valueObj,index){var axisType=helpers.getValueOrDefault(valueObj.type,key==="xAxes"?"category":"linear");var axisDefaults=Chart.scaleService.getScaleDefaults(axisType);if(index>=base[key].length||
!base[key][index].type)base[key].push(helpers.configMerge(axisDefaults,valueObj));else if(valueObj.type&&valueObj.type!==base[key][index].type)base[key][index]=helpers.configMerge(base[key][index],axisDefaults,valueObj);else base[key][index]=helpers.configMerge(base[key][index],valueObj)});else{base[key]=[];helpers.each(value,function(valueObj){var axisType=helpers.getValueOrDefault(valueObj.type,key==="xAxes"?"category":"linear");base[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType),
valueObj))})}else if(base.hasOwnProperty(key)&&typeof base[key]==="object"&&base[key]!==null&&typeof value==="object")base[key]=helpers.configMerge(base[key],value);else base[key]=value});return base};helpers.getValueAtIndexOrDefault=function(value,index,defaultValue){if(value===undefined||value===null)return defaultValue;if(helpers.isArray(value))return index<value.length?value[index]:defaultValue;return value};helpers.getValueOrDefault=function(value,defaultValue){return value===undefined?defaultValue:
value};helpers.indexOf=Array.prototype.indexOf?function(array,item){return array.indexOf(item)}:function(array,item){for(var i=0,ilen=array.length;i<ilen;++i)if(array[i]===item)return i;return-1};helpers.where=function(collection,filterCallback){if(helpers.isArray(collection)&&Array.prototype.filter)return collection.filter(filterCallback);var filtered=[];helpers.each(collection,function(item){if(filterCallback(item))filtered.push(item)});return filtered};helpers.findIndex=Array.prototype.findIndex?
function(array,callback,scope){return array.findIndex(callback,scope)}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i)if(callback.call(scope,array[i],i,array))return i;return-1};helpers.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(startIndex===undefined||startIndex===null)startIndex=-1;for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}};
helpers.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(startIndex===undefined||startIndex===null)startIndex=arrayToSearch.length;for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}};helpers.inherits=function(extensions){var me=this;var ChartElement=extensions&&extensions.hasOwnProperty("constructor")?extensions.constructor:function(){return me.apply(this,arguments)};var Surrogate=function(){this.constructor=ChartElement};
Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate;ChartElement.extend=helpers.inherits;if(extensions)helpers.extend(ChartElement.prototype,extensions);ChartElement.__super__=me.prototype;return ChartElement};helpers.noop=function(){};helpers.uid=function(){var id=0;return function(){return id++}}();helpers.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};helpers.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon};helpers.almostWhole=function(x,epsilon){var rounded=
Math.round(x);return rounded-epsilon<x&&rounded+epsilon>x};helpers.max=function(array){return array.reduce(function(max,value){if(!isNaN(value))return Math.max(max,value);return max},Number.NEGATIVE_INFINITY)};helpers.min=function(array){return array.reduce(function(min,value){if(!isNaN(value))return Math.min(min,value);return min},Number.POSITIVE_INFINITY)};helpers.sign=Math.sign?function(x){return Math.sign(x)}:function(x){x=+x;if(x===0||isNaN(x))return x;return x>0?1:-1};helpers.log10=Math.log10?
function(x){return Math.log10(x)}:function(x){return Math.log(x)/Math.LN10};helpers.toRadians=function(degrees){return degrees*(Math.PI/180)};helpers.toDegrees=function(radians){return radians*(180/Math.PI)};helpers.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x,distanceFromYCenter=anglePoint.y-centrePoint.y,radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,
distanceFromXCenter);if(angle<-.5*Math.PI)angle+=2*Math.PI;return{angle:angle,distance:radialDistanceFromCenter}};helpers.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2))};helpers.aliasPixel=function(pixelWidth){return pixelWidth%2===0?0:.5};helpers.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint,current=middlePoint,next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-
previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01/(d01+d12);var s12=d12/(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}}};helpers.EPSILON=Number.EPSILON||1E-14;helpers.splineCurveMonotone=function(points){var pointsWithTangents=
(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0}});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip)continue;pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=pointAfter.model.x-pointCurrent.model.x;pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-
pointCurrent.model.y)/slopeDeltaX:0}if(!pointBefore||pointBefore.model.skip)pointCurrent.mK=pointCurrent.deltaK;else if(!pointAfter||pointAfter.model.skip)pointCurrent.mK=pointBefore.deltaK;else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK))pointCurrent.mK=0;else pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/2}var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||
pointAfter.model.skip)continue;if(helpers.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue}alphaK=pointCurrent.mK/pointCurrent.deltaK;betaK=pointAfter.mK/pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9)continue;tauK=3/Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK}var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];
if(pointCurrent.model.skip)continue;pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK}if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/3;pointCurrent.model.controlPointNextX=
pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK}}};helpers.nextItem=function(collection,index,loop){if(loop)return index>=collection.length-1?collection[0]:collection[index+1];return index>=collection.length-1?collection[collection.length-1]:collection[index+1]};helpers.previousItem=function(collection,index,loop){if(loop)return index<=0?collection[collection.length-1]:collection[index-1];return index<=0?collection[0]:collection[index-1]};
helpers.niceNum=function(range,round){var exponent=Math.floor(helpers.log10(range));var fraction=range/Math.pow(10,exponent);var niceFraction;if(round)if(fraction<1.5)niceFraction=1;else if(fraction<3)niceFraction=2;else if(fraction<7)niceFraction=5;else niceFraction=10;else if(fraction<=1)niceFraction=1;else if(fraction<=2)niceFraction=2;else if(fraction<=5)niceFraction=5;else niceFraction=10;return niceFraction*Math.pow(10,exponent)};var easingEffects=helpers.easingEffects={linear:function(t){return t},
easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){if((t/=1/2)<1)return 1/2*t*t;return-1/2*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){if((t/=1/2)<1)return 1/2*t*t*t;return 1/2*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){if((t/=1/2)<1)return 1/2*t*t*t*t;return-1/2*((t-=
2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){if((t/=1/2)<1)return 1/2*t*t*t*t*t;return 1/2*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-1/2*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return t===0?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return t===1?1:1*
(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){if(t===0)return 0;if(t===1)return 1;if((t/=1/2)<1)return 1/2*Math.pow(2,10*(t-1));return 1/2*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){if(t>=1)return t;return-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){if((t/=1/2)<1)return-1/2*(Math.sqrt(1-t*t)-1);return 1/2*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if((t/=1)===
1)return 1;if(!p)p=1*.3;if(a<Math.abs(1)){a=1;s=p/4}else s=p/(2*Math.PI)*Math.asin(1/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*1-s)*(2*Math.PI)/p))},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if((t/=1)===1)return 1;if(!p)p=1*.3;if(a<Math.abs(1)){a=1;s=p/4}else s=p/(2*Math.PI)*Math.asin(1/a);return a*Math.pow(2,-10*t)*Math.sin((t*1-s)*(2*Math.PI)/p)+1},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if((t/=1/2)===2)return 1;if(!p)p=
1*(.3*1.5);if(a<Math.abs(1)){a=1;s=p/4}else s=p/(2*Math.PI)*Math.asin(1/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*1-s)*(2*Math.PI)/p));return a*Math.pow(2,-10*(t-=1))*Math.sin((t*1-s)*(2*Math.PI)/p)*.5+1},easeInBack:function(t){var s=1.70158;return 1*(t/=1)*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return 1*((t=t/1-1)*t*((s+1)*t+s)+1)},easeInOutBack:function(t){var s=1.70158;if((t/=1/2)<1)return 1/2*(t*t*(((s*=1.525)+1)*t-s));return 1/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},
easeInBounce:function(t){return 1-easingEffects.easeOutBounce(1-t)},easeOutBounce:function(t){if((t/=1)<1/2.75)return 1*(7.5625*t*t);else if(t<2/2.75)return 1*(7.5625*(t-=1.5/2.75)*t+.75);else if(t<2.5/2.75)return 1*(7.5625*(t-=2.25/2.75)*t+.9375);return 1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){if(t<1/2)return easingEffects.easeInBounce(t*2)*.5;return easingEffects.easeOutBounce(t*2-1)*.5+1*.5}};helpers.requestAnimFrame=function(){if(typeof window==="undefined")return function(callback){callback()};
return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1E3/60)}}();helpers.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt,canvas=evt.currentTarget||evt.srcElement,boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY}else{mouseX=
e.clientX;mouseY=e.clientY}var paddingLeft=parseFloat(helpers.getStyle(canvas,"padding-left"));var paddingTop=parseFloat(helpers.getStyle(canvas,"padding-top"));var paddingRight=parseFloat(helpers.getStyle(canvas,"padding-right"));var paddingBottom=parseFloat(helpers.getStyle(canvas,"padding-bottom"));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/
width*canvas.width/chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/height*canvas.height/chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY}};helpers.addEvent=function(node,eventType,method){if(node.addEventListener)node.addEventListener(eventType,method);else if(node.attachEvent)node.attachEvent("on"+eventType,method);else node["on"+eventType]=method};helpers.removeEvent=function(node,eventType,handler){if(node.removeEventListener)node.removeEventListener(eventType,
handler,false);else if(node.detachEvent)node.detachEvent("on"+eventType,handler);else node["on"+eventType]=helpers.noop};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==="string"){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf("%")!==-1)valueInPixels=valueInPixels/100*node.parentNode[parentProperty]}else valueInPixels=styleValue;return valueInPixels}function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=="none"}
function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=domNode.parentNode;var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer)return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):
infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity);return"none"}helpers.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,"max-width","clientWidth")};helpers.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,"max-height","clientHeight")};helpers.getMaximumWidth=function(domNode){var container=domNode.parentNode;var paddingLeft=parseInt(helpers.getStyle(container,"padding-left"),10);var paddingRight=
parseInt(helpers.getStyle(container,"padding-right"),10);var w=container.clientWidth-paddingLeft-paddingRight;var cw=helpers.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw)};helpers.getMaximumHeight=function(domNode){var container=domNode.parentNode;var paddingTop=parseInt(helpers.getStyle(container,"padding-top"),10);var paddingBottom=parseInt(helpers.getStyle(container,"padding-bottom"),10);var h=container.clientHeight-paddingTop-paddingBottom;var ch=helpers.getConstraintHeight(domNode);
return isNaN(ch)?h:Math.min(h,ch)};helpers.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property)};helpers.retinaScale=function(chart){var pixelRatio=chart.currentDevicePixelRatio=window.devicePixelRatio||1;if(pixelRatio===1)return;var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);
canvas.style.height=height+"px";canvas.style.width=width+"px"};helpers.clear=function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height)};helpers.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+" "+pixelSize+"px "+fontFamily};helpers.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font}ctx.font=
font;var longest=0;helpers.each(arrayOfThings,function(thing){if(thing!==undefined&&thing!==null&&helpers.isArray(thing)!==true)longest=helpers.measureText(ctx,data,gc,longest,thing);else if(helpers.isArray(thing))helpers.each(thing,function(nestedThing){if(nestedThing!==undefined&&nestedThing!==null&&!helpers.isArray(nestedThing))longest=helpers.measureText(ctx,data,gc,longest,nestedThing)})});var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(var i=0;i<gcLen;i++)delete data[gc[i]];gc.splice(0,
gcLen)}return longest};helpers.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string)}if(textWidth>longest)longest=textWidth;return longest};helpers.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers.each(arrayOfThings,function(thing){if(helpers.isArray(thing))if(thing.length>numberOfLines)numberOfLines=thing.length});return numberOfLines};helpers.drawRoundedRectangle=function(ctx,
x,y,width,height,radius){ctx.beginPath();ctx.moveTo(x+radius,y);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath()};helpers.color=!color?function(value){console.error("Color.js not found!");return value}:function(value){if(value instanceof
CanvasGradient)value=Chart.defaults.global.defaultColor;return color(value)};helpers.isArray=Array.isArray?function(obj){return Array.isArray(obj)}:function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};helpers.arrayEquals=function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length)return false;for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1))return false}else if(v0!==v1)return false}return true};
helpers.callback=function(fn,args,thisArg){if(fn&&typeof fn.call==="function")fn.apply(thisArg,args)};helpers.getHoverColor=function(colorValue){return colorValue instanceof CanvasPattern?colorValue:helpers.color(colorValue).saturate(.5).darken(.1).rgbString()};helpers.callCallback=helpers.callback}},{3:3}],27:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;function getRelativePosition(e,chart){if(e.native)return{x:e.x,y:e.y};return helpers.getRelativePosition(e,
chart)}function parseVisibleItems(chart,handler){var datasets=chart.data.datasets;var meta,i,j,ilen,jlen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!chart.isDatasetVisible(i))continue;meta=chart.getDatasetMeta(i);for(j=0,jlen=meta.data.length;j<jlen;++j){var element=meta.data[j];if(!element._view.skip)handler(element)}}}function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y))elements.push(element)});return elements}
function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];if(!distanceMetric)distanceMetric=helpers.distanceBetweenPoints;parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y))return;var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance}else if(distance===minDistance)nearestItems.push(element)});
return nearestItems}function indexMode(chart,e,options){var position=getRelativePosition(e,chart);var distanceMetric=function(pt1,pt2){return Math.abs(pt1.x-pt2.x)};var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);var elements=[];if(!items.length)return[];chart.data.datasets.forEach(function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex),element=meta.data[items[0]._index];
if(element&&!element._view.skip)elements.push(element)}});return elements}Chart.Interaction={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements}});return elements.slice(0,1)},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);var items=options.intersect?getIntersectItems(chart,position):
getNearestItems(chart,position,false);if(items.length>0)items=chart.getDatasetMeta(items[0]._datasetIndex).data;return items},"x-axis":function(chart,e){return indexMode(chart,e,true)},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position)},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);var nearestItems=getNearestItems(chart,position,options.intersect);if(nearestItems.length>1)nearestItems.sort(function(a,b){var sizeA=
a.getArea();var sizeB=b.getArea();var ret=sizeA-sizeB;if(ret===0)ret=a._datasetIndex-b._datasetIndex;return ret});return nearestItems.slice(0,1)},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inXRange(position.x))items.push(element);if(element.inRange(position.x,position.y))intersectsItem=true});if(options.intersect&&!intersectsItem)items=[];return items},y:function(chart,e,options){var position=
getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inYRange(position.y))items.push(element);if(element.inRange(position.x,position.y))intersectsItem=true});if(options.intersect&&!intersectsItem)items=[];return items}}}}},{}],28:[function(require,module,exports){module.exports=function(){var Chart=function(item,config){this.construct(item,config);return this};Chart.defaults={global:{responsive:true,responsiveAnimationDuration:0,maintainAspectRatio:true,
events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:true,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:true,elements:{},legendCallback:function(chart){var text=[];text.push('\x3cul class\x3d"'+chart.id+'-legend"\x3e');for(var i=0;i<chart.data.datasets.length;i++){text.push('\x3cli\x3e\x3cspan style\x3d"background-color:'+
chart.data.datasets[i].backgroundColor+'"\x3e\x3c/span\x3e');if(chart.data.datasets[i].label)text.push(chart.data.datasets[i].label);text.push("\x3c/li\x3e")}text.push("\x3c/ul\x3e");return text.join("")}}};Chart.Chart=Chart;return Chart}},{}],29:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;function filterByPosition(array,position){return helpers.where(array,function(v){return v.position===position})}function sortByWeight(array,reverse){array.forEach(function(v,
i){v._tmpIndex_=i;return v});array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0._tmpIndex_-v1._tmpIndex_:v0.weight-v1.weight});array.forEach(function(v){delete v._tmpIndex_})}Chart.layoutService={defaults:{},addBox:function(chart,item){if(!chart.boxes)chart.boxes=[];item.fullWidth=item.fullWidth||false;item.position=item.position||"top";item.weight=item.weight||0;chart.boxes.push(item)},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):
-1;if(index!==-1)chart.boxes.splice(index,1)},configure:function(chart,item,options){var props=["fullWidth","position","weight"];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop))item[prop]=options[prop]}},update:function(chart,width,height){if(!chart)return;var layoutOptions=chart.options.layout;var padding=layoutOptions?layoutOptions.padding:null;var leftPadding=0;var rightPadding=0;var topPadding=0;var bottomPadding=0;if(!isNaN(padding)){leftPadding=
padding;rightPadding=padding;topPadding=padding;bottomPadding=padding}else{leftPadding=padding.left||0;rightPadding=padding.right||0;topPadding=padding.top||0;bottomPadding=padding.bottom||0}var leftBoxes=filterByPosition(chart.boxes,"left");var rightBoxes=filterByPosition(chart.boxes,"right");var topBoxes=filterByPosition(chart.boxes,"top");var bottomBoxes=filterByPosition(chart.boxes,"bottom");var chartAreaBoxes=filterByPosition(chart.boxes,"chartArea");sortByWeight(leftBoxes,true);sortByWeight(rightBoxes,
false);sortByWeight(topBoxes,true);sortByWeight(bottomBoxes,false);var chartWidth=width-leftPadding-rightPadding;var chartHeight=height-topPadding-bottomPadding;var chartAreaWidth=chartWidth/2;var chartAreaHeight=chartHeight/2;var verticalBoxWidth=(width-chartAreaWidth)/(leftBoxes.length+rightBoxes.length);var horizontalBoxHeight=(height-chartAreaHeight)/(topBoxes.length+bottomBoxes.length);var maxChartAreaWidth=chartWidth;var maxChartAreaHeight=chartHeight;var minBoxSizes=[];function getMinimumBoxSize(box){var minSize;
var isHorizontal=box.isHorizontal();if(isHorizontal){minSize=box.update(box.fullWidth?chartWidth:maxChartAreaWidth,horizontalBoxHeight);maxChartAreaHeight-=minSize.height}else{minSize=box.update(verticalBoxWidth,chartAreaHeight);maxChartAreaWidth-=minSize.width}minBoxSizes.push({horizontal:isHorizontal,minSize:minSize,box:box})}helpers.each(leftBoxes.concat(rightBoxes,topBoxes,bottomBoxes),getMinimumBoxSize);var maxHorizontalLeftPadding=0;var maxHorizontalRightPadding=0;var maxVerticalTopPadding=
0;var maxVerticalBottomPadding=0;helpers.each(topBoxes.concat(bottomBoxes),function(horizontalBox){if(horizontalBox.getPadding){var boxPadding=horizontalBox.getPadding();maxHorizontalLeftPadding=Math.max(maxHorizontalLeftPadding,boxPadding.left);maxHorizontalRightPadding=Math.max(maxHorizontalRightPadding,boxPadding.right)}});helpers.each(leftBoxes.concat(rightBoxes),function(verticalBox){if(verticalBox.getPadding){var boxPadding=verticalBox.getPadding();maxVerticalTopPadding=Math.max(maxVerticalTopPadding,
boxPadding.top);maxVerticalBottomPadding=Math.max(maxVerticalBottomPadding,boxPadding.bottom)}});var totalLeftBoxesWidth=leftPadding;var totalRightBoxesWidth=rightPadding;var totalTopBoxesHeight=topPadding;var totalBottomBoxesHeight=bottomPadding;function fitBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minBox){return minBox.box===box});if(minBoxSize)if(box.isHorizontal()){var scaleMargin={left:Math.max(totalLeftBoxesWidth,maxHorizontalLeftPadding),right:Math.max(totalRightBoxesWidth,
maxHorizontalRightPadding),top:0,bottom:0};box.update(box.fullWidth?chartWidth:maxChartAreaWidth,chartHeight/2,scaleMargin)}else box.update(minBoxSize.minSize.width,maxChartAreaHeight)}helpers.each(leftBoxes.concat(rightBoxes),fitBox);helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width});helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width});helpers.each(topBoxes.concat(bottomBoxes),fitBox);helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height});helpers.each(bottomBoxes,
function(box){totalBottomBoxesHeight+=box.height});function finalFitVerticalBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minSize){return minSize.box===box});var scaleMargin={left:0,right:0,top:totalTopBoxesHeight,bottom:totalBottomBoxesHeight};if(minBoxSize)box.update(minBoxSize.minSize.width,maxChartAreaHeight,scaleMargin)}helpers.each(leftBoxes.concat(rightBoxes),finalFitVerticalBox);totalLeftBoxesWidth=leftPadding;totalRightBoxesWidth=rightPadding;totalTopBoxesHeight=topPadding;
totalBottomBoxesHeight=bottomPadding;helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width});helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width});helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height});helpers.each(bottomBoxes,function(box){totalBottomBoxesHeight+=box.height});var leftPaddingAddition=Math.max(maxHorizontalLeftPadding-totalLeftBoxesWidth,0);totalLeftBoxesWidth+=leftPaddingAddition;totalRightBoxesWidth+=Math.max(maxHorizontalRightPadding-
totalRightBoxesWidth,0);var topPaddingAddition=Math.max(maxVerticalTopPadding-totalTopBoxesHeight,0);totalTopBoxesHeight+=topPaddingAddition;totalBottomBoxesHeight+=Math.max(maxVerticalBottomPadding-totalBottomBoxesHeight,0);var newMaxChartAreaHeight=height-totalTopBoxesHeight-totalBottomBoxesHeight;var newMaxChartAreaWidth=width-totalLeftBoxesWidth-totalRightBoxesWidth;if(newMaxChartAreaWidth!==maxChartAreaWidth||newMaxChartAreaHeight!==maxChartAreaHeight){helpers.each(leftBoxes,function(box){box.height=
newMaxChartAreaHeight});helpers.each(rightBoxes,function(box){box.height=newMaxChartAreaHeight});helpers.each(topBoxes,function(box){if(!box.fullWidth)box.width=newMaxChartAreaWidth});helpers.each(bottomBoxes,function(box){if(!box.fullWidth)box.width=newMaxChartAreaWidth});maxChartAreaHeight=newMaxChartAreaHeight;maxChartAreaWidth=newMaxChartAreaWidth}var left=leftPadding+leftPaddingAddition;var top=topPadding+topPaddingAddition;function placeBox(box){if(box.isHorizontal()){box.left=box.fullWidth?
leftPadding:totalLeftBoxesWidth;box.right=box.fullWidth?width-rightPadding:totalLeftBoxesWidth+maxChartAreaWidth;box.top=top;box.bottom=top+box.height;top=box.bottom}else{box.left=left;box.right=left+box.width;box.top=totalTopBoxesHeight;box.bottom=totalTopBoxesHeight+maxChartAreaHeight;left=box.right}}helpers.each(leftBoxes.concat(topBoxes),placeBox);left+=maxChartAreaWidth;top+=maxChartAreaHeight;helpers.each(rightBoxes,placeBox);helpers.each(bottomBoxes,placeBox);chart.chartArea={left:totalLeftBoxesWidth,
top:totalTopBoxesHeight,right:totalLeftBoxesWidth+maxChartAreaWidth,bottom:totalTopBoxesHeight+maxChartAreaHeight};helpers.each(chartAreaBoxes,function(box){box.left=chart.chartArea.left;box.top=chart.chartArea.top;box.right=chart.chartArea.right;box.bottom=chart.chartArea.bottom;box.update(maxChartAreaWidth,maxChartAreaHeight)})}}}},{}],30:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.global.plugins={};Chart.plugins={_plugins:[],_cacheId:0,
register:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1)p.push(plugin)});this._cacheId++},unregister:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1)p.splice(idx,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(chart,hook,args){var descriptors=
this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==="function"){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===false)return false}}return true},descriptors:function(chart){var cache=chart._plugins||(chart._plugins={});if(cache.id===this._cacheId)return cache.descriptors;var plugins=[];var descriptors=[];
var config=chart&&chart.config||{};var defaults=Chart.defaults.global.plugins;var options=config.options&&config.options.plugins||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1)return;var id=plugin.id;var opts=options[id];if(opts===false)return;if(opts===true)opts=helpers.clone(defaults[id]);plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}})});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors}};
Chart.pluginService=Chart.plugins;Chart.PluginBase=Chart.Element.extend({})}},{}],31:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.scale={display:true,position:"left",gridLines:{display:true,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:false,borderDash:[],borderDashOffset:0},
scaleLabel:{labelString:"",display:false},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:Chart.Ticks.formatters.values}};function computeTextSize(context,tick,font){return helpers.isArray(tick)?helpers.longestText(context,font,tick):context.measureText(tick).width}function parseFontOptions(options){var getValueOrDefault=helpers.getValueOrDefault;var globalDefaults=Chart.defaults.global;
var size=getValueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var style=getValueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle);var family=getValueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily);return{size:size,style:style,family:family,font:helpers.fontString(size,style,family)}}Chart.Scale=Chart.Element.extend({getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0}},beforeUpdate:function(){helpers.callback(this.options.beforeUpdate,
[this])},update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers.extend({left:0,right:0,top:0,bottom:0},margins);me.longestTextCache=me.longestTextCache||{};me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();me.buildTicks();me.afterBuildTicks();me.beforeTickToLabelConversion();me.convertTicksToLabels();me.afterTickToLabelConversion();
me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:function(){helpers.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=
0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0},afterSetDimensions:function(){helpers.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers.callback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers.noop,afterDataLimits:function(){helpers.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers.callback(this.options.beforeBuildTicks,[this])},buildTicks:helpers.noop,afterBuildTicks:function(){helpers.callback(this.options.afterBuildTicks,
[this])},beforeTickToLabelConversion:function(){helpers.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback)},afterTickToLabelConversion:function(){helpers.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var me=
this;var context=me.ctx;var tickOpts=me.options.ticks;var tickFont=parseFontOptions(tickOpts);context.font=tickFont.font;var labelRotation=tickOpts.minRotation||0;if(me.options.display&&me.isHorizontal()){var originalLabelWidth=helpers.longestText(context,tickFont.font,me.ticks,me.longestTextCache);var labelWidth=originalLabelWidth;var cosRotation;var sinRotation;var tickWidth=me.getPixelForTick(1)-me.getPixelForTick(0)-6;while(labelWidth>tickWidth&&labelRotation<tickOpts.maxRotation){var angleRadians=
helpers.toRadians(labelRotation);cosRotation=Math.cos(angleRadians);sinRotation=Math.sin(angleRadians);if(sinRotation*originalLabelWidth>me.maxHeight){labelRotation--;break}labelRotation++;labelWidth=cosRotation*originalLabelWidth}}me.labelRotation=labelRotation},afterCalculateTickRotation:function(){helpers.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers.callback(this.options.beforeFit,[this])},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};
var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=opts.display;var isHorizontal=me.isHorizontal();var tickFont=parseFontOptions(tickOpts);var scaleLabelFontSize=parseFontOptions(scaleLabelOpts).size*1.5;var tickMarkLength=opts.gridLines.tickMarkLength;if(isHorizontal)minSize.width=me.isFullWidth()?me.maxWidth-me.margins.left-me.margins.right:me.maxWidth;else minSize.width=display&&gridLineOpts.drawTicks?tickMarkLength:0;if(isHorizontal)minSize.height=
display&&gridLineOpts.drawTicks?tickMarkLength:0;else minSize.height=me.maxHeight;if(scaleLabelOpts.display&&display)if(isHorizontal)minSize.height+=scaleLabelFontSize;else minSize.width+=scaleLabelFontSize;if(tickOpts.display&&display){var largestTextWidth=helpers.longestText(me.ctx,tickFont.font,me.ticks,me.longestTextCache);var tallestLabelHeightInLines=helpers.numberOfLabelLines(me.ticks);var lineSpace=tickFont.size*.5;if(isHorizontal){me.longestLabelWidth=largestTextWidth;var angleRadians=helpers.toRadians(me.labelRotation);
var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=sinRotation*largestTextWidth+tickFont.size*tallestLabelHeightInLines+lineSpace*tallestLabelHeightInLines;minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight);me.ctx.font=tickFont.font;var firstTick=me.ticks[0];var firstLabelWidth=computeTextSize(me.ctx,firstTick,tickFont.font);var lastTick=me.ticks[me.ticks.length-1];var lastLabelWidth=computeTextSize(me.ctx,lastTick,tickFont.font);if(me.labelRotation!==
0){me.paddingLeft=opts.position==="bottom"?cosRotation*firstLabelWidth+3:cosRotation*lineSpace+3;me.paddingRight=opts.position==="bottom"?cosRotation*lineSpace+3:cosRotation*lastLabelWidth+3}else{me.paddingLeft=firstLabelWidth/2+3;me.paddingRight=lastLabelWidth/2+3}}else{if(tickOpts.mirror)largestTextWidth=0;else largestTextWidth+=me.options.ticks.padding;minSize.width=Math.min(me.maxWidth,minSize.width+largestTextWidth);me.paddingTop=tickFont.size/2;me.paddingBottom=tickFont.size/2}}me.handleMargins();
me.width=minSize.width;me.height=minSize.height},handleMargins:function(){var me=this;if(me.margins){me.paddingLeft=Math.max(me.paddingLeft-me.margins.left,0);me.paddingTop=Math.max(me.paddingTop-me.margins.top,0);me.paddingRight=Math.max(me.paddingRight-me.margins.right,0);me.paddingBottom=Math.max(me.paddingBottom-me.margins.bottom,0)}},afterFit:function(){helpers.callback(this.options.afterFit,[this])},isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},
isFullWidth:function(){return this.options.fullWidth},getRightValue:function(rawValue){if(rawValue===null||typeof rawValue==="undefined")return NaN;if(typeof rawValue==="number"&&!isFinite(rawValue))return NaN;if(typeof rawValue==="object"){if(rawValue instanceof Date||rawValue.isValid)return rawValue;return this.getRightValue(this.isHorizontal()?rawValue.x:rawValue.y)}return rawValue},getLabelForIndex:helpers.noop,getPixelForValue:helpers.noop,getValueForPixel:helpers.noop,getPixelForTick:function(index,
includeOffset){var me=this;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight);var tickWidth=innerWidth/Math.max(me.ticks.length-(me.options.gridLines.offsetGridLines?0:1),1);var pixel=tickWidth*index+me.paddingLeft;if(includeOffset)pixel+=tickWidth/2;var finalVal=me.left+Math.round(pixel);finalVal+=me.isFullWidth()?me.margins.left:0;return finalVal}var innerHeight=me.height-(me.paddingTop+me.paddingBottom);return me.top+index*(innerHeight/(me.ticks.length-1))},getPixelForDecimal:function(decimal){var me=
this;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight);var valueOffset=innerWidth*decimal+me.paddingLeft;var finalVal=me.left+Math.round(valueOffset);finalVal+=me.isFullWidth()?me.margins.left:0;return finalVal}return me.top+decimal*me.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0},draw:function(chartArea){var me=
this;var options=me.options;if(!options.display)return;var context=me.ctx;var globalDefaults=Chart.defaults.global;var optionTicks=options.ticks;var gridLines=options.gridLines;var scaleLabel=options.scaleLabel;var isRotated=me.labelRotation!==0;var skipRatio;var useAutoskipper=optionTicks.autoSkip;var isHorizontal=me.isHorizontal();var maxTicks;if(optionTicks.maxTicksLimit)maxTicks=optionTicks.maxTicksLimit;var tickFontColor=helpers.getValueOrDefault(optionTicks.fontColor,globalDefaults.defaultFontColor);
var tickFont=parseFontOptions(optionTicks);var tl=gridLines.drawTicks?gridLines.tickMarkLength:0;var scaleLabelFontColor=helpers.getValueOrDefault(scaleLabel.fontColor,globalDefaults.defaultFontColor);var scaleLabelFont=parseFontOptions(scaleLabel);var labelRotationRadians=helpers.toRadians(me.labelRotation);var cosRotation=Math.cos(labelRotationRadians);var longestRotatedLabel=me.longestLabelWidth*cosRotation;context.fillStyle=tickFontColor;var itemsToDraw=[];if(isHorizontal){skipRatio=false;if((longestRotatedLabel+
optionTicks.autoSkipPadding)*me.ticks.length>me.width-(me.paddingLeft+me.paddingRight))skipRatio=1+Math.floor((longestRotatedLabel+optionTicks.autoSkipPadding)*me.ticks.length/(me.width-(me.paddingLeft+me.paddingRight)));if(maxTicks&&me.ticks.length>maxTicks)while(!skipRatio||me.ticks.length/(skipRatio||1)>maxTicks){if(!skipRatio)skipRatio=1;skipRatio+=1}if(!useAutoskipper)skipRatio=false}var xTickStart=options.position==="right"?me.left:me.right-tl;var xTickEnd=options.position==="right"?me.left+
tl:me.right;var yTickStart=options.position==="bottom"?me.top:me.bottom-tl;var yTickEnd=options.position==="bottom"?me.top+tl:me.bottom;helpers.each(me.ticks,function(label,index){if(label===undefined||label===null)return;var isLastTick=me.ticks.length===index+1;var shouldSkip=skipRatio>1&&index%skipRatio>0||index%skipRatio===0&&index+skipRatio>=me.ticks.length;if(shouldSkip&&!isLastTick||(label===undefined||label===null))return;var lineWidth,lineColor,borderDash,borderDashOffset;if(index===(typeof me.zeroLineIndex!==
"undefined"?me.zeroLineIndex:0)){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash;borderDashOffset=gridLines.zeroLineBorderDashOffset}else{lineWidth=helpers.getValueAtIndexOrDefault(gridLines.lineWidth,index);lineColor=helpers.getValueAtIndexOrDefault(gridLines.color,index);borderDash=helpers.getValueOrDefault(gridLines.borderDash,globalDefaults.borderDash);borderDashOffset=helpers.getValueOrDefault(gridLines.borderDashOffset,globalDefaults.borderDashOffset)}var tx1,
ty1,tx2,ty2,x1,y1,x2,y2,labelX,labelY;var textAlign="middle";var textBaseline="middle";if(isHorizontal){if(options.position==="bottom"){textBaseline=!isRotated?"top":"middle";textAlign=!isRotated?"center":"right";labelY=me.top+tl}else{textBaseline=!isRotated?"bottom":"middle";textAlign=!isRotated?"center":"left";labelY=me.bottom-tl}var xLineValue=me.getPixelForTick(index)+helpers.aliasPixel(lineWidth);labelX=me.getPixelForTick(index,gridLines.offsetGridLines)+optionTicks.labelOffset;tx1=tx2=x1=x2=
xLineValue;ty1=yTickStart;ty2=yTickEnd;y1=chartArea.top;y2=chartArea.bottom}else{var isLeft=options.position==="left";var tickPadding=optionTicks.padding;var labelXOffset;if(optionTicks.mirror){textAlign=isLeft?"left":"right";labelXOffset=tickPadding}else{textAlign=isLeft?"right":"left";labelXOffset=tl+tickPadding}labelX=isLeft?me.right-labelXOffset:me.left+labelXOffset;var yLineValue=me.getPixelForTick(index);yLineValue+=helpers.aliasPixel(lineWidth);labelY=me.getPixelForTick(index,gridLines.offsetGridLines);
tx1=xTickStart;tx2=xTickEnd;x1=chartArea.left;x2=chartArea.right;ty1=ty2=y1=y2=yLineValue}itemsToDraw.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,labelX:labelX,labelY:labelY,glWidth:lineWidth,glColor:lineColor,glBorderDash:borderDash,glBorderDashOffset:borderDashOffset,rotation:-1*labelRotationRadians,label:label,textBaseline:textBaseline,textAlign:textAlign})});helpers.each(itemsToDraw,function(itemToDraw){if(gridLines.display){context.save();context.lineWidth=itemToDraw.glWidth;
context.strokeStyle=itemToDraw.glColor;if(context.setLineDash){context.setLineDash(itemToDraw.glBorderDash);context.lineDashOffset=itemToDraw.glBorderDashOffset}context.beginPath();if(gridLines.drawTicks){context.moveTo(itemToDraw.tx1,itemToDraw.ty1);context.lineTo(itemToDraw.tx2,itemToDraw.ty2)}if(gridLines.drawOnChartArea){context.moveTo(itemToDraw.x1,itemToDraw.y1);context.lineTo(itemToDraw.x2,itemToDraw.y2)}context.stroke();context.restore()}if(optionTicks.display){context.save();context.translate(itemToDraw.labelX,
itemToDraw.labelY);context.rotate(itemToDraw.rotation);context.font=tickFont.font;context.textBaseline=itemToDraw.textBaseline;context.textAlign=itemToDraw.textAlign;var label=itemToDraw.label;if(helpers.isArray(label))for(var i=0,y=0;i<label.length;++i){context.fillText(""+label[i],0,y);y+=tickFont.size*1.5}else context.fillText(label,0,0);context.restore()}});if(scaleLabel.display){var scaleLabelX;var scaleLabelY;var rotation=0;if(isHorizontal){scaleLabelX=me.left+(me.right-me.left)/2;scaleLabelY=
options.position==="bottom"?me.bottom-scaleLabelFont.size/2:me.top+scaleLabelFont.size/2}else{var isLeft=options.position==="left";scaleLabelX=isLeft?me.left+scaleLabelFont.size/2:me.right-scaleLabelFont.size/2;scaleLabelY=me.top+(me.bottom-me.top)/2;rotation=isLeft?-.5*Math.PI:.5*Math.PI}context.save();context.translate(scaleLabelX,scaleLabelY);context.rotate(rotation);context.textAlign="center";context.textBaseline="middle";context.fillStyle=scaleLabelFontColor;context.font=scaleLabelFont.font;
context.fillText(scaleLabel.labelString,0,0);context.restore()}if(gridLines.drawBorder){context.lineWidth=helpers.getValueAtIndexOrDefault(gridLines.lineWidth,0);context.strokeStyle=helpers.getValueAtIndexOrDefault(gridLines.color,0);var x1=me.left,x2=me.right,y1=me.top,y2=me.bottom;var aliasPixel=helpers.aliasPixel(context.lineWidth);if(isHorizontal){y1=y2=options.position==="top"?me.bottom:me.top;y1+=aliasPixel;y2+=aliasPixel}else{x1=x2=options.position==="left"?me.right:me.left;x1+=aliasPixel;
x2+=aliasPixel}context.beginPath();context.moveTo(x1,y1);context.lineTo(x2,y2);context.stroke()}}})}},{}],32:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,defaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers.clone(defaults)},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined},
getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers.scaleMerge(Chart.defaults.scale,this.defaults[type]):{}},updateScaleDefaults:function(type,additions){var defaults=this.defaults;if(defaults.hasOwnProperty(type))defaults[type]=helpers.extend(defaults[type],additions)},addScalesToLayout:function(chart){helpers.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;Chart.layoutService.addBox(chart,
scale)})}}}},{}],33:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;Chart.Ticks={generators:{linear:function(generationOptions,dataRange){var ticks=[];var spacing;if(generationOptions.stepSize&&generationOptions.stepSize>0)spacing=generationOptions.stepSize;else{var niceRange=helpers.niceNum(dataRange.max-dataRange.min,false);spacing=helpers.niceNum(niceRange/(generationOptions.maxTicks-1),true)}var niceMin=Math.floor(dataRange.min/spacing)*spacing;var niceMax=
Math.ceil(dataRange.max/spacing)*spacing;if(generationOptions.min&&generationOptions.max&&generationOptions.stepSize)if(helpers.almostWhole((generationOptions.max-generationOptions.min)/generationOptions.stepSize,spacing/1E3)){niceMin=generationOptions.min;niceMax=generationOptions.max}var numSpaces=(niceMax-niceMin)/spacing;if(helpers.almostEquals(numSpaces,Math.round(numSpaces),spacing/1E3))numSpaces=Math.round(numSpaces);else numSpaces=Math.ceil(numSpaces);ticks.push(generationOptions.min!==undefined?
generationOptions.min:niceMin);for(var j=1;j<numSpaces;++j)ticks.push(niceMin+j*spacing);ticks.push(generationOptions.max!==undefined?generationOptions.max:niceMax);return ticks},logarithmic:function(generationOptions,dataRange){var ticks=[];var getValueOrDefault=helpers.getValueOrDefault;var tickVal=getValueOrDefault(generationOptions.min,Math.pow(10,Math.floor(helpers.log10(dataRange.min))));var endExp=Math.floor(helpers.log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max/Math.pow(10,
endExp));var exp;var significand;if(tickVal===0){exp=Math.floor(helpers.log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero/Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp)}else{exp=Math.floor(helpers.log10(tickVal));significand=Math.floor(tickVal/Math.pow(10,exp))}do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp}tickVal=significand*Math.pow(10,exp)}while(exp<endExp||exp===endExp&&significand<endSignificand);var lastTick=
getValueOrDefault(generationOptions.max,tickVal);ticks.push(lastTick);return ticks}},formatters:{values:function(value){return helpers.isArray(value)?value:""+value},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1)if(tickValue!==Math.floor(tickValue))delta=tickValue-Math.floor(tickValue);var logDelta=helpers.log10(Math.abs(delta));var tickString="";if(tickValue!==0){var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,
20),0);tickString=tickValue.toFixed(numDecimal)}else tickString="0";return tickString},logarithmic:function(tickValue,index,ticks){var remain=tickValue/Math.pow(10,Math.floor(helpers.log10(tickValue)));if(tickValue===0)return"0";else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1)return tickValue.toExponential();return""}}}}},{}],34:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;function mergeOpacity(colorString,opacity){var color=
helpers.color(colorString);return color.alpha(opacity*color.alpha()).rgbaString()}Chart.defaults.global.tooltips={enabled:true,custom:null,mode:"nearest",position:"average",intersect:true,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,
caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:true,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:helpers.noop,title:function(tooltipItems,data){var title="";var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.xLabel)title=item.xLabel;else if(labelCount>0&&item.index<labelCount)title=labels[item.index]}return title},afterTitle:helpers.noop,beforeBody:helpers.noop,beforeLabel:helpers.noop,label:function(tooltipItem,
data){var label=data.datasets[tooltipItem.datasetIndex].label||"";if(label)label+=": ";label+=tooltipItem.yLabel;return label},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor}},afterLabel:helpers.noop,afterBody:helpers.noop,beforeFooter:helpers.noop,footer:helpers.noop,afterFooter:helpers.noop}};function pushOrConcat(base,
toPush){if(toPush)if(helpers.isArray(toPush))Array.prototype.push.apply(base,toPush);else base.push(toPush);return base}function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index,datasetIndex=element._datasetIndex;return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):"",yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):"",index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y}}function getBaseModel(tooltipOpts){var globalDefaults=
Chart.defaults.global;var getValueOrDefault=helpers.getValueOrDefault;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:getValueOrDefault(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:getValueOrDefault(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:getValueOrDefault(tooltipOpts.bodyFontSize,
globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:getValueOrDefault(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:getValueOrDefault(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:getValueOrDefault(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,
footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:getValueOrDefault(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:getValueOrDefault(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:getValueOrDefault(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,
backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth}}function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length},0);combinedBodyLength+=
model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize,bodyFontSize=model.bodyFontSize,footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?
model.footerMarginTop:0;height+=footerLineCount*footerFontSize;height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding)};ctx.font=helpers.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers.each(model.title,maxLineWidth);ctx.font=helpers.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers.each(model.beforeBody.concat(model.afterBody),
maxLineWidth);widthPadding=model.displayColors?bodyFontSize+2:0;helpers.each(body,function(bodyItem){helpers.each(bodyItem.before,maxLineWidth);helpers.each(bodyItem.lines,maxLineWidth);helpers.each(bodyItem.after,maxLineWidth)});widthPadding=0;ctx.font=helpers.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height}}function determineAlignment(tooltip,size){var model=tooltip._model;
var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign="center";var yAlign="center";if(model.y<size.height)yAlign="top";else if(model.y>chart.height-size.height)yAlign="bottom";var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/2;var midY=(chartArea.top+chartArea.bottom)/2;if(yAlign==="center"){lf=function(x){return x<=midX};rf=function(x){return x>midX}}else{lf=function(x){return x<=size.width/2};rf=function(x){return x>=chart.width-size.width/2}}olf=function(x){return x+
size.width>chart.width};orf=function(x){return x-size.width<0};yf=function(y){return y<=midY?"top":"bottom"};if(lf(model.x)){xAlign="left";if(olf(model.x)){xAlign="center";yAlign=yf(model.y)}}else if(rf(model.x)){xAlign="right";if(orf(model.x)){xAlign="center";yAlign=yf(model.y)}}var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign}}function getBackgroundPoint(vm,size,alignment){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize,caretPadding=vm.caretPadding,
cornerRadius=vm.cornerRadius,xAlign=alignment.xAlign,yAlign=alignment.yAlign,paddingAndSize=caretSize+caretPadding,radiusAndPadding=cornerRadius+caretPadding;if(xAlign==="right")x-=size.width;else if(xAlign==="center")x-=size.width/2;if(yAlign==="top")y+=paddingAndSize;else if(yAlign==="bottom")y-=size.height+paddingAndSize;else y-=size.height/2;if(yAlign==="center")if(xAlign==="left")x+=paddingAndSize;else{if(xAlign==="right")x-=paddingAndSize}else if(xAlign==="left")x-=radiusAndPadding;else if(xAlign===
"right")x+=radiusAndPadding;return{x:x,y:y}}Chart.Tooltip=Chart.Element.extend({initialize:function(){this._model=getBaseModel(this._options)},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments),title=callbacks.title.apply(me,arguments),afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,beforeTitle);lines=pushOrConcat(lines,title);lines=pushOrConcat(lines,afterTitle);return lines},
getBeforeBody:function(){var lines=this._options.callbacks.beforeBody.apply(this,arguments);return helpers.isArray(lines)?lines:lines!==undefined?[lines]:[]},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,callbacks.beforeLabel.call(me,tooltipItem,data));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,
callbacks.afterLabel.call(me,tooltipItem,data));bodyItems.push(bodyItem)});return bodyItems},getAfterBody:function(){var lines=this._options.callbacks.afterBody.apply(this,arguments);return helpers.isArray(lines)?lines:lines!==undefined?[lines]:[]},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=
pushOrConcat(lines,beforeFooter);lines=pushOrConcat(lines,footer);lines=pushOrConcat(lines,afterFooter);return lines},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition=
{x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];tooltipPosition=Chart.Tooltip.positioners[opts.position](active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i)tooltipItems.push(createTooltipItem(active[i]));if(opts.filter)tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data)});if(opts.itemSort)tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data)});helpers.each(tooltipItems,
function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart))});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=Math.round(tooltipPosition.x);model.y=Math.round(tooltipPosition.y);model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.dataPoints=tooltipItems;
tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment)}else model.opacity=0;model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom)opts.custom.call(me,model);return me},drawCaret:function(tooltipPoint,
size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3)},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3;var y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign,yAlign=vm.yAlign;var ptX=tooltipPoint.x,ptY=tooltipPoint.y;var width=size.width,height=size.height;
if(yAlign==="center"){y2=ptY+height/2;if(xAlign==="left"){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize}}else{if(xAlign==="left"){x2=ptX+cornerRadius+caretSize;x1=x2-caretSize;x3=x2+caretSize}else if(xAlign==="right"){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize}else{x2=ptX+width/2;x1=x2-caretSize;x3=x2+caretSize}if(yAlign==="top"){y1=ptY;y2=y1-caretSize;y3=y1}else{y1=ptY+height;y2=y1+caretSize;
y3=y1;var tmp=x3;x3=x1;x1=tmp}}return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3}},drawTitle:function(pt,vm,ctx,opacity){var title=vm.title;if(title.length){ctx.textAlign=vm._titleAlign;ctx.textBaseline="top";var titleFontSize=vm.titleFontSize,titleSpacing=vm.titleSpacing;ctx.fillStyle=mergeOpacity(vm.titleFontColor,opacity);ctx.font=helpers.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);var i,len;for(i=0,len=title.length;i<len;++i){ctx.fillText(title[i],pt.x,pt.y);pt.y+=titleFontSize+
titleSpacing;if(i+1===title.length)pt.y+=vm.titleMarginBottom-titleSpacing}}},drawBody:function(pt,vm,ctx,opacity){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var body=vm.body;ctx.textAlign=vm._bodyAlign;ctx.textBaseline="top";var textColor=mergeOpacity(vm.bodyFontColor,opacity);ctx.fillStyle=textColor;ctx.font=helpers.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);var xLinePadding=0;var fillLineOfText=function(line){ctx.fillText(line,pt.x+xLinePadding,pt.y);pt.y+=
bodyFontSize+bodySpacing};helpers.each(vm.beforeBody,fillLineOfText);var drawColorBoxes=vm.displayColors;xLinePadding=drawColorBoxes?bodyFontSize+2:0;helpers.each(body,function(bodyItem,i){helpers.each(bodyItem.before,fillLineOfText);helpers.each(bodyItem.lines,function(line){if(drawColorBoxes){ctx.fillStyle=mergeOpacity(vm.legendColorBackground,opacity);ctx.fillRect(pt.x,pt.y,bodyFontSize,bodyFontSize);ctx.strokeStyle=mergeOpacity(vm.labelColors[i].borderColor,opacity);ctx.strokeRect(pt.x,pt.y,bodyFontSize,
bodyFontSize);ctx.fillStyle=mergeOpacity(vm.labelColors[i].backgroundColor,opacity);ctx.fillRect(pt.x+1,pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor}fillLineOfText(line)});helpers.each(bodyItem.after,fillLineOfText)});xLinePadding=0;helpers.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing},drawFooter:function(pt,vm,ctx,opacity){var footer=vm.footer;if(footer.length){pt.y+=vm.footerMarginTop;ctx.textAlign=vm._footerAlign;ctx.textBaseline="top";ctx.fillStyle=mergeOpacity(vm.footerFontColor,
opacity);ctx.font=helpers.fontString(vm.footerFontSize,vm._footerFontStyle,vm._footerFontFamily);helpers.each(footer,function(line){ctx.fillText(line,pt.x,pt.y);pt.y+=vm.footerFontSize+vm.footerSpacing})}},drawBackground:function(pt,vm,ctx,tooltipSize,opacity){ctx.fillStyle=mergeOpacity(vm.backgroundColor,opacity);ctx.strokeStyle=mergeOpacity(vm.borderColor,opacity);ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=
tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==="top")this.drawCaret(pt,tooltipSize);ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==="center"&&xAlign==="right")this.drawCaret(pt,tooltipSize);ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==="bottom")this.drawCaret(pt,tooltipSize);ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-
radius);if(yAlign==="center"&&xAlign==="left")this.drawCaret(pt,tooltipSize);ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0)ctx.stroke()},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0)return;var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<.001)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||
vm.footer.length;if(this._options.enabled&&hasTooltipContent){this.drawBackground(pt,vm,ctx,tooltipSize,opacity);pt.x+=vm.xPadding;pt.y+=vm.yPadding;this.drawTitle(pt,vm,ctx,opacity);this.drawBody(pt,vm,ctx,opacity);this.drawFooter(pt,vm,ctx,opacity)}},handleEvent:function(e){var me=this;var options=me._options;var changed=false;me._lastActive=me._lastActive||[];if(e.type==="mouseout")me._active=[];else me._active=me._chart.getElementsAtEventForMode(e,options.mode,options);changed=!helpers.arrayEquals(me._active,
me._lastActive);if(!changed)return false;me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};var model=me._model;me.update(true);me.pivot();changed|=model.x!==me._model.x||model.y!==me._model.y}return changed}});Chart.Tooltip.positioners={average:function(elements){if(!elements.length)return false;var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;
++count}}return{x:Math.round(x/count),y:Math.round(y/count)}},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var nearestElement;var minDistance=Number.POSITIVE_INFINITY;var i,len;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el}}}if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;
y=tp.y}return{x:x,y:y}}}}},{}],35:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers,globalOpts=Chart.defaults.global;globalOpts.elements.arc={backgroundColor:globalOpts.defaultColor,borderColor:"#fff",borderWidth:2};Chart.elements.Arc=Chart.Element.extend({inLabelRange:function(mouseX){var vm=this._view;if(vm)return Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2);return false},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=
helpers.getAngleFromPoint(vm,{x:chartX,y:chartY}),angle=pointRelativePosition.angle,distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle)endAngle+=2*Math.PI;while(angle>endAngle)angle-=2*Math.PI;while(angle<startAngle)angle+=2*Math.PI;var betweenAngles=angle>=startAngle&&angle<=endAngle,withinRadius=distance>=vm.innerRadius&&distance<=vm.outerRadius;return betweenAngles&&withinRadius}return false},getCenterPoint:function(){var vm=
this._view;var halfAngle=(vm.startAngle+vm.endAngle)/2;var halfRadius=(vm.innerRadius+vm.outerRadius)/2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius}},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2))},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+(vm.endAngle-vm.startAngle)/2,rangeFromCentre=(vm.outerRadius-vm.innerRadius)/2+vm.innerRadius;
return{x:vm.x+Math.cos(centreAngle)*rangeFromCentre,y:vm.y+Math.sin(centreAngle)*rangeFromCentre}},draw:function(){var ctx=this._chart.ctx,vm=this._view,sA=vm.startAngle,eA=vm.endAngle;ctx.beginPath();ctx.arc(vm.x,vm.y,vm.outerRadius,sA,eA);ctx.arc(vm.x,vm.y,vm.innerRadius,eA,sA,true);ctx.closePath();ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;ctx.fillStyle=vm.backgroundColor;ctx.fill();ctx.lineJoin="bevel";if(vm.borderWidth)ctx.stroke()}})}},{}],36:[function(require,module,exports){module.exports=
function(Chart){var helpers=Chart.helpers;var globalDefaults=Chart.defaults.global;Chart.defaults.global.elements.line={tension:.4,backgroundColor:globalDefaults.defaultColor,borderWidth:3,borderColor:globalDefaults.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:true,fill:true};Chart.elements.Line=Chart.Element.extend({draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();
var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var index,current,previous,currentVM;if(me._loop&&points.length)points.push(points[0]);ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash)ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash);ctx.lineDashOffset=vm.borderDashOffset||globalOptionLineElements.borderDashOffset;ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=
vm.borderWidth||globalOptionLineElements.borderWidth;ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();lastDrawnIndex=-1;for(index=0;index<points.length;++index){current=points[index];previous=helpers.previousItem(points,index);currentVM=current._view;if(index===0){if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=index}}else{previous=lastDrawnIndex===-1?previous:points[lastDrawnIndex];if(!currentVM.skip){if(lastDrawnIndex!==index-1&&!spanGaps||lastDrawnIndex===
-1)ctx.moveTo(currentVM.x,currentVM.y);else helpers.canvas.lineTo(ctx,previous._view,current._view);lastDrawnIndex=index}}}ctx.stroke();ctx.restore()}})}},{}],37:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers,globalOpts=Chart.defaults.global,defaultColor=globalOpts.defaultColor;globalOpts.elements.point={radius:3,pointStyle:"circle",backgroundColor:defaultColor,borderWidth:1,borderColor:defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1};function xRange(mouseX){var vm=
this._view;return vm?Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hitRadius,2):false}function yRange(mouseY){var vm=this._view;return vm?Math.pow(mouseY-vm.y,2)<Math.pow(vm.radius+vm.hitRadius,2):false}Chart.elements.Point=Chart.Element.extend({inRange:function(mouseX,mouseY){var vm=this._view;return vm?Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2)<Math.pow(vm.hitRadius+vm.radius,2):false},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,
y:vm.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth}},draw:function(chartArea){var vm=this._view;var model=this._model;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var radius=vm.radius;var x=vm.x;var y=vm.y;var color=Chart.helpers.color;var errMargin=1.01;var ratio=0;if(vm.skip)return;ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=helpers.getValueOrDefault(vm.borderWidth,
globalOpts.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;if(chartArea!==undefined&&(model.x<chartArea.left||chartArea.right*errMargin<model.x||model.y<chartArea.top||chartArea.bottom*errMargin<model.y)){if(model.x<chartArea.left)ratio=(x-model.x)/(chartArea.left-model.x);else if(chartArea.right*errMargin<model.x)ratio=(model.x-x)/(model.x-chartArea.right);else if(model.y<chartArea.top)ratio=(y-model.y)/(chartArea.top-model.y);else if(chartArea.bottom*errMargin<model.y)ratio=
(model.y-y)/(model.y-chartArea.bottom);ratio=Math.round(ratio*100)/100;ctx.strokeStyle=color(ctx.strokeStyle).alpha(ratio).rgbString();ctx.fillStyle=color(ctx.fillStyle).alpha(ratio).rgbString()}Chart.canvasHelpers.drawPoint(ctx,pointStyle,radius,x,y)}})}},{}],38:[function(require,module,exports){module.exports=function(Chart){var globalOpts=Chart.defaults.global;globalOpts.elements.rectangle={backgroundColor:globalOpts.defaultColor,borderWidth:0,borderColor:globalOpts.defaultColor,borderSkipped:"bottom"};
function isVertical(bar){return bar._view.width!==undefined}function getBarBounds(bar){var vm=bar._view;var x1,x2,y1,y2;if(isVertical(bar)){var halfWidth=vm.width/2;x1=vm.x-halfWidth;x2=vm.x+halfWidth;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base)}else{var halfHeight=vm.height/2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-halfHeight;y2=vm.y+halfHeight}return{left:x1,top:y1,right:x2,bottom:y2}}Chart.elements.Rectangle=Chart.Element.extend({draw:function(){var ctx=this._chart.ctx;
var vm=this._view;var left,right,top,bottom,signX,signY,borderSkipped;var borderWidth=vm.borderWidth;if(!vm.horizontal){left=vm.x-vm.width/2;right=vm.x+vm.width/2;top=vm.y;bottom=vm.base;signX=1;signY=bottom>top?1:-1;borderSkipped=vm.borderSkipped||"bottom"}else{left=vm.base;right=vm.x;top=vm.y-vm.height/2;bottom=vm.y+vm.height/2;signX=right>left?1:-1;signY=1;borderSkipped=vm.borderSkipped||"left"}if(borderWidth){var barSize=Math.min(Math.abs(left-right),Math.abs(top-bottom));borderWidth=borderWidth>
barSize?barSize:borderWidth;var halfStroke=borderWidth/2;var borderLeft=left+(borderSkipped!=="left"?halfStroke*signX:0);var borderRight=right+(borderSkipped!=="right"?-halfStroke*signX:0);var borderTop=top+(borderSkipped!=="top"?halfStroke*signY:0);var borderBottom=bottom+(borderSkipped!=="bottom"?-halfStroke*signY:0);if(borderLeft!==borderRight){top=borderTop;bottom=borderBottom}if(borderTop!==borderBottom){left=borderLeft;right=borderRight}}ctx.beginPath();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=
vm.borderColor;ctx.lineWidth=borderWidth;var corners=[[left,bottom],[left,top],[right,top],[right,bottom]];var borders=["bottom","left","top","right"];var startCorner=borders.indexOf(borderSkipped,0);if(startCorner===-1)startCorner=0;function cornerAt(index){return corners[(startCorner+index)%4]}var corner=cornerAt(0);ctx.moveTo(corner[0],corner[1]);for(var i=1;i<4;i++){corner=cornerAt(i);ctx.lineTo(corner[0],corner[1])}ctx.fill();if(borderWidth)ctx.stroke()},height:function(){var vm=this._view;return vm.base-
vm.y},inRange:function(mouseX,mouseY){var inRange=false;if(this._view){var bounds=getBarBounds(this);inRange=mouseX>=bounds.left&&mouseX<=bounds.right&&mouseY>=bounds.top&&mouseY<=bounds.bottom}return inRange},inLabelRange:function(mouseX,mouseY){var me=this;if(!me._view)return false;var inRange=false;var bounds=getBarBounds(me);if(isVertical(me))inRange=mouseX>=bounds.left&&mouseX<=bounds.right;else inRange=mouseY>=bounds.top&&mouseY<=bounds.bottom;return inRange},inXRange:function(mouseX){var bounds=
getBarBounds(this);return mouseX>=bounds.left&&mouseX<=bounds.right},inYRange:function(mouseY){var bounds=getBarBounds(this);return mouseY>=bounds.top&&mouseY<=bounds.bottom},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(this)){x=vm.x;y=(vm.y+vm.base)/2}else{x=(vm.x+vm.base)/2;y=vm.y}return{x:x,y:y}},getArea:function(){var vm=this._view;return vm.width*Math.abs(vm.y-vm.base)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y}}})}},{}],39:[function(require,module,
exports){module.exports=function(Chart){var helpers=Chart.helpers;var eventTypeMap={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function readUsedSize(element,property){var value=helpers.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined}function initCanvas(canvas,config){var style=
canvas.style;var renderHeight=canvas.getAttribute("height");var renderWidth=canvas.getAttribute("width");canvas._chartjs={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||"block";if(renderWidth===null||renderWidth===""){var displayWidth=readUsedSize(canvas,"width");if(displayWidth!==undefined)canvas.width=displayWidth}if(renderHeight===null||renderHeight==="")if(canvas.style.height==="")canvas.height=
canvas.width/(config.options.aspectRatio||2);else{var displayHeight=readUsedSize(canvas,"height");if(displayWidth!==undefined)canvas.height=displayHeight}return canvas}function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null}}function fromNativeEvent(event,chart){var type=eventTypeMap[event.type]||event.type;var pos=helpers.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event)}function createResizer(handler){var iframe=
document.createElement("iframe");iframe.className="chartjs-hidden-iframe";iframe.style.cssText="display:block;"+"overflow:hidden;"+"border:0;"+"margin:0;"+"top:0;"+"left:0;"+"bottom:0;"+"right:0;"+"height:100%;"+"width:100%;"+"position:absolute;"+"pointer-events:none;"+"z-index:-1;";iframe.tabIndex=-1;helpers.addEvent(iframe,"load",function(){helpers.addEvent(iframe.contentWindow||iframe,"resize",handler);handler()});return iframe}function addResizeListener(node,listener,chart){var stub=node._chartjs=
{ticking:false};var notify=function(){if(!stub.ticking){stub.ticking=true;helpers.requestAnimFrame.call(window,function(){if(stub.resizer){stub.ticking=false;return listener(createEvent("resize",chart))}})}};stub.resizer=createResizer(notify);node.insertBefore(stub.resizer,node.firstChild)}function removeResizeListener(node){if(!node||!node._chartjs)return;var resizer=node._chartjs.resizer;if(resizer){resizer.parentNode.removeChild(resizer);node._chartjs.resizer=null}delete node._chartjs}return{acquireContext:function(item,
config){if(typeof item==="string")item=document.getElementById(item);else if(item.length)item=item[0];if(item&&item.canvas)item=item.canvas;var context=item&&item.getContext&&item.getContext("2d");if(context&&context.canvas===item){initCanvas(item,config);return context}return null},releaseContext:function(context){var canvas=context.canvas;if(!canvas._chartjs)return;var initial=canvas._chartjs.initial;["height","width"].forEach(function(prop){var value=initial[prop];if(value===undefined||value===
null)canvas.removeAttribute(prop);else canvas.setAttribute(prop,value)});helpers.each(initial.style||{},function(value,key){canvas.style[key]=value});canvas.width=canvas.width;delete canvas._chartjs},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==="resize"){addResizeListener(canvas.parentNode,listener,chart);return}var stub=listener._chartjs||(listener._chartjs={});var proxies=stub.proxies||(stub.proxies={});var proxy=proxies[chart.id+"_"+type]=function(event){listener(fromNativeEvent(event,
chart))};helpers.addEvent(canvas,type,proxy)},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==="resize"){removeResizeListener(canvas.parentNode,listener);return}var stub=listener._chartjs||{};var proxies=stub.proxies||{};var proxy=proxies[chart.id+"_"+type];if(!proxy)return;helpers.removeEvent(canvas,type,proxy)}}}},{}],40:[function(require,module,exports){var implementation=require(39);module.exports=function(Chart){Chart.platform={acquireContext:function(){},releaseContext:function(){},
addEventListener:function(){},removeEventListener:function(){}};Chart.helpers.extend(Chart.platform,implementation(Chart))}},{39:39}],41:[function(require,module,exports){module.exports=function(Chart){Chart.defaults.global.plugins.filler={propagate:true};var defaults=Chart.defaults;var helpers=Chart.helpers;var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=visible&&meta.dataset._children||
[];return!points.length?null:function(point,i){return points[i]._view||null}},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y}}}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined)fill=!!model.backgroundColor;if(fill===false||fill===null)return false;if(fill===true)return"origin";target=parseFloat(fill,
10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==="-"||fill[0]==="+")target=index+target;if(target===index||target<0||target>=count)return false;return target}switch(fill){case "bottom":return"start";case "top":return"end";case "zero":return"origin";case "origin":case "start":case "end":return fill;default:return false}}function computeBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill))return null;
if(fill==="start")target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom;else if(fill==="end")target=model.scaleTop===undefined?scale.top:model.scaleTop;else if(model.scaleZero!==undefined)target=model.scaleZero;else if(scale.getBasePosition)target=scale.getBasePosition();else if(scale.getBasePixel)target=scale.getBasePixel();if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined)return target;if(typeof target==="number"&&isFinite(target)){horizontal=scale.isHorizontal();
return{x:horizontal?target:null,y:horizontal?null:target}}}return null}function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate)return fill;while(fill!==false&&visited.indexOf(fill)===-1){if(!isFinite(fill))return fill;target=sources[fill];if(!target)return false;if(target.visible)return fill;visited.push(fill);fill=target.fill}return false}function createMapper(source){var fill=source.fill;var type="dataset";if(fill===
false)return null;if(!isFinite(fill))type="boundary";return mappers[type](source)}function isDrawable(point){return point&&!point.skip}function drawArea(ctx,curve0,curve1,len0,len1){var i;if(!len0||!len1)return;ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i)helpers.canvas.lineTo(ctx,curve0[i-1],curve0[i]);ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i)helpers.canvas.lineTo(ctx,curve1[i],curve1[i-1],true)}function doFill(ctx,points,mapper,view,color,loop){var count=points.length;
var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1;ctx.beginPath();for(i=0,ilen=count+!!loop;i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1)}else if(len0&&len1)if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[]}else{if(d0)curve0.push(p0);if(d1)curve1.push(p1)}}drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();
ctx.fillStyle=color;ctx.fill()}return{id:"filler",afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof Chart.elements.Line)source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el};meta.$filler=source;sources.push(source)}for(i=0;i<count;++i){source=sources[i];
if(!source)continue;source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source)}},beforeDatasetDraw:function(chart,args){var meta=args.meta.$filler;if(!meta)return;var el=meta.el;var view=el._view;var points=el._children||[];var mapper=meta.mapper;var color=view.backgroundColor||defaults.global.defaultColor;if(mapper&&color&&points.length)doFill(chart.ctx,points,mapper,view,color,el._loop)}}}},{}],42:[function(require,module,exports){module.exports=
function(Chart){var helpers=Chart.helpers;var layout=Chart.layoutService;var noop=helpers.noop;Chart.defaults.global.legend={display:true,position:"top",fullWidth:true,reverse:false,weight:1E3,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var data=chart.data;return helpers.isArray(data.datasets)?
data.datasets.map(function(dataset,i){return{text:dataset.label,fillStyle:!helpers.isArray(dataset.backgroundColor)?dataset.backgroundColor:dataset.backgroundColor[0],hidden:!chart.isDatasetVisible(i),lineCap:dataset.borderCapStyle,lineDash:dataset.borderDash,lineDashOffset:dataset.borderDashOffset,lineJoin:dataset.borderJoinStyle,lineWidth:dataset.borderWidth,strokeStyle:dataset.borderColor,pointStyle:dataset.pointStyle,datasetIndex:i}},this):[]}}};function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle?
fontSize*Math.SQRT2:labelOpts.boxWidth}Chart.Legend=Chart.Element.extend({initialize:function(config){helpers.extend(this,config);this.legendHitBoxes=[];this.doughnutMode=false},beforeUpdate:noop,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();
me.afterUpdate();return me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:function(){var me=this;var labelOpts=me.options.labels;var legendItems=labelOpts.generateLabels.call(me,
me.chart);if(labelOpts.filter)legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data)});if(me.options.reverse)legendItems.reverse();me.legendItems=legendItems},afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var globalDefault=Chart.defaults.global,itemOrDefault=helpers.getValueOrDefault,fontSize=itemOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize),fontStyle=
itemOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle),fontFamily=itemOrDefault(labelOpts.fontFamily,globalDefault.defaultFontFamily),labelFont=helpers.fontString(fontSize,fontStyle,fontFamily);var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0}else{minSize.width=display?10:0;minSize.height=me.maxHeight}if(display){ctx.font=labelFont;if(isHorizontal){var lineWidths=me.lineWidths=
[0];var totalHeight=me.legendItems.length?fontSize+labelOpts.padding:0;ctx.textAlign="left";ctx.textBaseline="top";helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(lineWidths[lineWidths.length-1]+width+labelOpts.padding>=me.width){totalHeight+=fontSize+labelOpts.padding;lineWidths[lineWidths.length]=me.left}hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-
1]+=width+labelOpts.padding});minSize.height+=totalHeight}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;var itemHeight=fontSize+vPadding;helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(currentColHeight+itemHeight>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;
columnWidths.push(currentColWidth);currentColWidth=0;currentColHeight=0}currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=itemHeight;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize}});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);minSize.width+=totalWidth}}me.width=minSize.width;me.height=minSize.height},afterFit:noop,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var me=this;var opts=me.options;
var labelOpts=opts.labels;var globalDefault=Chart.defaults.global,lineDefault=globalDefault.elements.line,legendWidth=me.width,lineWidths=me.lineWidths;if(opts.display){var ctx=me.ctx,cursor,itemOrDefault=helpers.getValueOrDefault,fontColor=itemOrDefault(labelOpts.fontColor,globalDefault.defaultFontColor),fontSize=itemOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize),fontStyle=itemOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle),fontFamily=itemOrDefault(labelOpts.fontFamily,
globalDefault.defaultFontFamily),labelFont=helpers.fontString(fontSize,fontStyle,fontFamily);ctx.textAlign="left";ctx.textBaseline="top";ctx.lineWidth=.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont;var boxWidth=getBoxWidth(labelOpts,fontSize),hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0)return;ctx.save();ctx.fillStyle=itemOrDefault(legendItem.fillStyle,globalDefault.defaultColor);ctx.lineCap=itemOrDefault(legendItem.lineCap,
lineDefault.borderCapStyle);ctx.lineDashOffset=itemOrDefault(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=itemOrDefault(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=itemOrDefault(legendItem.lineWidth,lineDefault.borderWidth);ctx.strokeStyle=itemOrDefault(legendItem.strokeStyle,globalDefault.defaultColor);var isLineWidthZero=itemOrDefault(legendItem.lineWidth,lineDefault.borderWidth)===0;if(ctx.setLineDash)ctx.setLineDash(itemOrDefault(legendItem.lineDash,
lineDefault.borderDash));if(opts.labels&&opts.labels.usePointStyle){var radius=fontSize*Math.SQRT2/2;var offSet=radius/Math.SQRT2;var centerX=x+offSet;var centerY=y+offSet;Chart.canvasHelpers.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY)}else{if(!isLineWidthZero)ctx.strokeRect(x,y,boxWidth,fontSize);ctx.fillRect(x,y,boxWidth,fontSize)}ctx.restore()};var fillText=function(x,y,legendItem,textWidth){ctx.fillText(legendItem.text,boxWidth+fontSize/2+x,y);if(legendItem.hidden){ctx.beginPath();
ctx.lineWidth=2;ctx.moveTo(boxWidth+fontSize/2+x,y+fontSize/2);ctx.lineTo(boxWidth+fontSize/2+x+textWidth,y+fontSize/2);ctx.stroke()}};var isHorizontal=me.isHorizontal();if(isHorizontal)cursor={x:me.left+(legendWidth-lineWidths[0])/2,y:me.top+labelOpts.padding,line:0};else cursor={x:me.left+labelOpts.padding,y:me.top+labelOpts.padding,line:0};var itemHeight=fontSize+labelOpts.padding;helpers.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width,width=boxWidth+
fontSize/2+textWidth,x=cursor.x,y=cursor.y;if(isHorizontal){if(x+width>=legendWidth){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+(legendWidth-lineWidths[cursor.line])/2}}else if(y+itemHeight>me.bottom){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;y=cursor.y=me.top+labelOpts.padding;cursor.line++}drawLegendBox(x,y,legendItem);hitboxes[i].left=x;hitboxes[i].top=y;fillText(x,y,legendItem,textWidth);if(isHorizontal)cursor.x+=width+labelOpts.padding;else cursor.y+=itemHeight})}},
handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==="mouseup"?"click":e.type;var changed=false;if(type==="mousemove"){if(!opts.onHover)return}else if(type==="click"){if(!opts.onClick)return}else return;var x=e.x,y=e.y;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){var lh=me.legendHitBoxes;for(var i=0;i<lh.length;++i){var hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height)if(type==="click"){opts.onClick.call(me,e.native,
me.legendItems[i]);changed=true;break}else if(type==="mousemove"){opts.onHover.call(me,e.native,me.legendItems[i]);changed=true;break}}}return changed}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Chart.Legend({ctx:chart.ctx,options:legendOpts,chart:chart});layout.configure(chart,legend,legendOpts);layout.addBox(chart,legend);chart.legend=legend}return{id:"legend",beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts)createNewLegendAndAttach(chart,legendOpts)},
beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){legendOpts=helpers.configMerge(Chart.defaults.global.legend,legendOpts);if(legend){layout.configure(chart,legend,legendOpts);legend.options=legendOpts}else createNewLegendAndAttach(chart,legendOpts)}else if(legend){layout.removeBox(chart,legend);delete chart.legend}},afterEvent:function(chart,e){var legend=chart.legend;if(legend)legend.handleEvent(e)}}}},{}],43:[function(require,module,exports){module.exports=
function(Chart){var helpers=Chart.helpers;var layout=Chart.layoutService;var noop=helpers.noop;Chart.defaults.global.title={display:false,position:"top",fullWidth:true,weight:2E3,fontStyle:"bold",padding:10,text:""};Chart.Title=Chart.Element.extend({initialize:function(config){var me=this;helpers.extend(me,config);me.legendHitBoxes=[]},beforeUpdate:noop,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();
me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height}me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0}},afterSetDimensions:noop,
beforeBuildLabels:noop,buildLabels:noop,afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this,valueOrDefault=helpers.getValueOrDefault,opts=me.options,globalDefaults=Chart.defaults.global,display=opts.display,fontSize=valueOrDefault(opts.fontSize,globalDefaults.defaultFontSize),minSize=me.minSize;if(me.isHorizontal()){minSize.width=me.maxWidth;minSize.height=display?fontSize+opts.padding*2:0}else{minSize.width=display?fontSize+opts.padding*2:0;minSize.height=me.maxHeight}me.width=minSize.width;
me.height=minSize.height},afterFit:noop,isHorizontal:function(){var pos=this.options.position;return pos==="top"||pos==="bottom"},draw:function(){var me=this,ctx=me.ctx,valueOrDefault=helpers.getValueOrDefault,opts=me.options,globalDefaults=Chart.defaults.global;if(opts.display){var fontSize=valueOrDefault(opts.fontSize,globalDefaults.defaultFontSize),fontStyle=valueOrDefault(opts.fontStyle,globalDefaults.defaultFontStyle),fontFamily=valueOrDefault(opts.fontFamily,globalDefaults.defaultFontFamily),
titleFont=helpers.fontString(fontSize,fontStyle,fontFamily),rotation=0,titleX,titleY,top=me.top,left=me.left,bottom=me.bottom,right=me.right,maxWidth;ctx.fillStyle=valueOrDefault(opts.fontColor,globalDefaults.defaultFontColor);ctx.font=titleFont;if(me.isHorizontal()){titleX=left+(right-left)/2;titleY=top+(bottom-top)/2;maxWidth=right-left}else{titleX=opts.position==="left"?left+fontSize/2:right-fontSize/2;titleY=top+(bottom-top)/2;maxWidth=bottom-top;rotation=Math.PI*(opts.position==="left"?-.5:.5)}ctx.save();
ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign="center";ctx.textBaseline="middle";ctx.fillText(opts.text,0,0,maxWidth);ctx.restore()}}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Chart.Title({ctx:chart.ctx,options:titleOpts,chart:chart});layout.configure(chart,title,titleOpts);layout.addBox(chart,title);chart.titleBlock=title}return{id:"title",beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts)createNewTitleBlockAndAttach(chart,titleOpts)},
beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){titleOpts=helpers.configMerge(Chart.defaults.global.title,titleOpts);if(titleBlock){layout.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts}else createNewTitleBlockAndAttach(chart,titleOpts)}else if(titleBlock){Chart.layoutService.removeBox(chart,titleBlock);delete chart.titleBlock}}}}},{}],44:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;
var defaultConfig={position:"bottom"};var DatasetScale=Chart.Scale.extend({getLabels:function(){var data=this.chart.data;return(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels},determineDataLimits:function(){var me=this;var labels=me.getLabels();me.minIndex=0;me.maxIndex=labels.length-1;var findIndex;if(me.options.ticks.min!==undefined){findIndex=helpers.indexOf(labels,me.options.ticks.min);me.minIndex=findIndex!==-1?findIndex:me.minIndex}if(me.options.ticks.max!==undefined){findIndex=
helpers.indexOf(labels,me.options.ticks.max);me.maxIndex=findIndex!==-1?findIndex:me.maxIndex}me.min=labels[me.minIndex];me.max=labels[me.maxIndex]},buildTicks:function(){var me=this;var labels=me.getLabels();me.ticks=me.minIndex===0&&me.maxIndex===labels.length-1?labels:labels.slice(me.minIndex,me.maxIndex+1)},getLabelForIndex:function(index,datasetIndex){var me=this;var data=me.chart.data;var isHorizontal=me.isHorizontal();if(data.yLabels&&!isHorizontal)return me.getRightValue(data.datasets[datasetIndex].data[index]);
return me.ticks[index-me.minIndex]},getPixelForValue:function(value,index,datasetIndex,includeOffset){var me=this;var offsetAmt=Math.max(me.maxIndex+1-me.minIndex-(me.options.gridLines.offsetGridLines?0:1),1);var valueCategory;if(value!==undefined&&value!==null)valueCategory=me.isHorizontal()?value.x:value.y;if(valueCategory!==undefined||value!==undefined&&isNaN(index)){var labels=me.getLabels();value=valueCategory||value;var idx=labels.indexOf(value);index=idx!==-1?idx:index}if(me.isHorizontal()){var valueWidth=
me.width/offsetAmt;var widthOffset=valueWidth*(index-me.minIndex);if(me.options.gridLines.offsetGridLines&&includeOffset||me.maxIndex===me.minIndex&&includeOffset)widthOffset+=valueWidth/2;return me.left+Math.round(widthOffset)}var valueHeight=me.height/offsetAmt;var heightOffset=valueHeight*(index-me.minIndex);if(me.options.gridLines.offsetGridLines&&includeOffset)heightOffset+=valueHeight/2;return me.top+Math.round(heightOffset)},getPixelForTick:function(index,includeOffset){return this.getPixelForValue(this.ticks[index],
index+this.minIndex,null,includeOffset)},getValueForPixel:function(pixel){var me=this;var value;var offsetAmt=Math.max(me.ticks.length-(me.options.gridLines.offsetGridLines?0:1),1);var horz=me.isHorizontal();var valueDimension=(horz?me.width:me.height)/offsetAmt;pixel-=horz?me.left:me.top;if(me.options.gridLines.offsetGridLines)pixel-=valueDimension/2;if(pixel<=0)value=0;else value=Math.round(pixel/valueDimension);return value},getBasePixel:function(){return this.bottom}});Chart.scaleService.registerScaleType("category",
DatasetScale,defaultConfig)}},{}],45:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;var defaultConfig={position:"left",ticks:{callback:Chart.Ticks.formatters.linear}};var LinearScale=Chart.LinearScaleBase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var data=chart.data;var datasets=data.datasets;var isHorizontal=me.isHorizontal();var DEFAULT_MIN=0;var DEFAULT_MAX=1;function IDMatches(meta){return isHorizontal?
meta.xAxisID===me.id:meta.yAxisID===me.id}me.min=null;me.max=null;var hasStacks=opts.stacked;if(hasStacks===undefined)helpers.each(datasets,function(dataset,datasetIndex){if(hasStacks)return;var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined)hasStacks=true});if(opts.stacked||hasStacks){var valuesPerStack={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,opts.stacked===
undefined&&meta.stack===undefined?datasetIndex:"",meta.stack].join(".");if(valuesPerStack[key]===undefined)valuesPerStack[key]={positiveValues:[],negativeValues:[]};var positiveValues=valuesPerStack[key].positiveValues;var negativeValues=valuesPerStack[key].negativeValues;if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta))helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden)return;positiveValues[index]=positiveValues[index]||
0;negativeValues[index]=negativeValues[index]||0;if(opts.relativePoints)positiveValues[index]=100;else if(value<0)negativeValues[index]+=value;else positiveValues[index]+=value})});helpers.each(valuesPerStack,function(valuesForType){var values=valuesForType.positiveValues.concat(valuesForType.negativeValues);var minVal=helpers.min(values);var maxVal=helpers.max(values);me.min=me.min===null?minVal:Math.min(me.min,minVal);me.max=me.max===null?maxVal:Math.max(me.max,maxVal)})}else helpers.each(datasets,
function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta))helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden)return;if(me.min===null)me.min=value;else if(value<me.min)me.min=value;if(me.max===null)me.max=value;else if(value>me.max)me.max=value})});me.min=isFinite(me.min)?me.min:DEFAULT_MIN;me.max=isFinite(me.max)?me.max:DEFAULT_MAX;this.handleTickRangeOptions()},
getTickLimit:function(){var maxTicks;var me=this;var tickOpts=me.options.ticks;if(me.isHorizontal())maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.width/50));else{var tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,Chart.defaults.global.defaultFontSize);maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.height/(2*tickFontSize)))}return maxTicks},handleDirectionalChanges:function(){if(!this.isHorizontal())this.ticks.reverse()},
getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},getPixelForValue:function(value){var me=this;var start=me.start;var rightValue=+me.getRightValue(value);var pixel;var range=me.end-start;if(me.isHorizontal()){pixel=me.left+me.width/range*(rightValue-start);return Math.round(pixel)}pixel=me.bottom-me.height/range*(rightValue-start);return Math.round(pixel)},getValueForPixel:function(pixel){var me=this;var isHorizontal=me.isHorizontal();
var innerDimension=isHorizontal?me.width:me.height;var offset=(isHorizontal?pixel-me.left:me.bottom-pixel)/innerDimension;return me.start+(me.end-me.start)*offset},getPixelForTick:function(index){return this.getPixelForValue(this.ticksAsNumbers[index])}});Chart.scaleService.registerScaleType("linear",LinearScale,defaultConfig)}},{}],46:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers,noop=helpers.noop;Chart.LinearScaleBase=Chart.Scale.extend({handleTickRangeOptions:function(){var me=
this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers.sign(me.min);var maxSign=helpers.sign(me.max);if(minSign<0&&maxSign<0)me.max=0;else if(minSign>0&&maxSign>0)me.min=0}if(tickOpts.min!==undefined)me.min=tickOpts.min;else if(tickOpts.suggestedMin!==undefined)if(me.min===null)me.min=tickOpts.suggestedMin;else me.min=Math.min(me.min,tickOpts.suggestedMin);if(tickOpts.max!==undefined)me.max=tickOpts.max;else if(tickOpts.suggestedMax!==undefined)if(me.max===null)me.max=
tickOpts.suggestedMax;else me.max=Math.max(me.max,tickOpts.suggestedMax);if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero)me.min--}},getTickLimit:noop,handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,stepSize:helpers.getValueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=
Chart.Ticks.generators.linear(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers.max(ticks);me.min=helpers.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);Chart.Scale.prototype.convertTicksToLabels.call(me)}})}},{}],47:[function(require,module,exports){module.exports=function(Chart){var helpers=
Chart.helpers;var defaultConfig={position:"left",ticks:{callback:Chart.Ticks.formatters.logarithmic}};var LogarithmicScale=Chart.Scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var chart=me.chart;var data=chart.data;var datasets=data.datasets;var getValueOrDefault=helpers.getValueOrDefault;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}me.min=null;me.max=null;me.minNotZero=
null;var hasStacks=opts.stacked;if(hasStacks===undefined)helpers.each(datasets,function(dataset,datasetIndex){if(hasStacks)return;var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined)hasStacks=true});if(opts.stacked||hasStacks){var valuesPerStack={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,opts.stacked===undefined&&meta.stack===undefined?datasetIndex:"",
meta.stack].join(".");if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined)valuesPerStack[key]=[];helpers.each(dataset.data,function(rawValue,index){var values=valuesPerStack[key];var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden)return;values[index]=values[index]||0;if(opts.relativePoints)values[index]=100;else values[index]+=value})}});helpers.each(valuesPerStack,function(valuesForType){var minVal=helpers.min(valuesForType);var maxVal=
helpers.max(valuesForType);me.min=me.min===null?minVal:Math.min(me.min,minVal);me.max=me.max===null?maxVal:Math.max(me.max,maxVal)})}else helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta))helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden)return;if(me.min===null)me.min=value;else if(value<me.min)me.min=value;if(me.max===
null)me.max=value;else if(value>me.max)me.max=value;if(value!==0&&(me.minNotZero===null||value<me.minNotZero))me.minNotZero=value})});me.min=getValueOrDefault(tickOpts.min,me.min);me.max=getValueOrDefault(tickOpts.max,me.max);if(me.min===me.max)if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(helpers.log10(me.min))-1);me.max=Math.pow(10,Math.floor(helpers.log10(me.max))+1)}else{me.min=1;me.max=10}},buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var generationOptions=
{min:tickOpts.min,max:tickOpts.max};var ticks=me.ticks=Chart.Ticks.generators.logarithmic(generationOptions,me);if(!me.isHorizontal())ticks.reverse();me.max=helpers.max(ticks);me.min=helpers.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min}else{me.start=me.min;me.end=me.max}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();Chart.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},
getPixelForTick:function(index){return this.getPixelForValue(this.tickValues[index])},getPixelForValue:function(value){var me=this;var innerDimension;var pixel;var start=me.start;var newVal=+me.getRightValue(value);var range;var opts=me.options;var tickOpts=opts.ticks;if(me.isHorizontal()){range=helpers.log10(me.end)-helpers.log10(start);if(newVal===0)pixel=me.left;else{innerDimension=me.width;pixel=me.left+innerDimension/range*(helpers.log10(newVal)-helpers.log10(start))}}else{innerDimension=me.height;
if(start===0&&!tickOpts.reverse){range=helpers.log10(me.end)-helpers.log10(me.minNotZero);if(newVal===start)pixel=me.bottom;else if(newVal===me.minNotZero)pixel=me.bottom-innerDimension*.02;else pixel=me.bottom-innerDimension*.02-innerDimension*.98/range*(helpers.log10(newVal)-helpers.log10(me.minNotZero))}else if(me.end===0&&tickOpts.reverse){range=helpers.log10(me.start)-helpers.log10(me.minNotZero);if(newVal===me.end)pixel=me.top;else if(newVal===me.minNotZero)pixel=me.top+innerDimension*.02;else pixel=
me.top+innerDimension*.02+innerDimension*.98/range*(helpers.log10(newVal)-helpers.log10(me.minNotZero))}else if(newVal===0)pixel=tickOpts.reverse?me.top:me.bottom;else{range=helpers.log10(me.end)-helpers.log10(start);innerDimension=me.height;pixel=me.bottom-innerDimension/range*(helpers.log10(newVal)-helpers.log10(start))}}return pixel},getValueForPixel:function(pixel){var me=this;var range=helpers.log10(me.end)-helpers.log10(me.start);var value,innerDimension;if(me.isHorizontal()){innerDimension=
me.width;value=me.start*Math.pow(10,(pixel-me.left)*range/innerDimension)}else{innerDimension=me.height;value=Math.pow(10,(me.bottom-pixel)*range/innerDimension)/me.start}return value}});Chart.scaleService.registerScaleType("logarithmic",LogarithmicScale,defaultConfig)}},{}],48:[function(require,module,exports){module.exports=function(Chart){var helpers=Chart.helpers;var globalDefaults=Chart.defaults.global;var defaultConfig={display:true,animate:true,position:"chartArea",angleLines:{display:true,
color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Chart.Ticks.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(label){return label}}};function getValueCount(scale){var opts=scale.options;return opts.angleLines.display||opts.pointLabels.display?scale.chart.data.labels.length:0}function getPointLabelFontOptions(scale){var pointLabelOptions=scale.options.pointLabels;
var fontSize=helpers.getValueOrDefault(pointLabelOptions.fontSize,globalDefaults.defaultFontSize);var fontStyle=helpers.getValueOrDefault(pointLabelOptions.fontStyle,globalDefaults.defaultFontStyle);var fontFamily=helpers.getValueOrDefault(pointLabelOptions.fontFamily,globalDefaults.defaultFontFamily);var font=helpers.fontString(fontSize,fontStyle,fontFamily);return{size:fontSize,style:fontStyle,family:fontFamily,font:font}}function measureLabelSize(ctx,fontSize,label){if(helpers.isArray(label))return{w:helpers.longestText(ctx,
ctx.font,label),h:label.length*fontSize+(label.length-1)*1.5*fontSize};return{w:ctx.measureText(label).width,h:fontSize}}function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max)return{start:pos-size/2,end:pos+size/2};else if(angle<min||angle>max)return{start:pos-size-5,end:pos};return{start:pos,end:pos+size+5}}function fitWithPointLabels(scale){var plFont=getPointLabelFontOptions(scale);var largestPossibleRadius=Math.min(scale.height/2,scale.width/2);var furthestLimits={r:scale.width,
l:0,t:scale.height,b:0};var furthestAngles={};var i;var textSize;var pointPosition;scale.ctx.font=plFont.font;scale._pointLabelSizes=[];var valueCount=getValueCount(scale);for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,largestPossibleRadius);textSize=measureLabelSize(scale.ctx,plFont.size,scale.pointLabels[i]||"");scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,
textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians}if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians}if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians}if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians}}scale.setReductions(largestPossibleRadius,
furthestLimits,furthestAngles)}function fit(scale){var largestPossibleRadius=Math.min(scale.height/2,scale.width/2);scale.drawingArea=Math.round(largestPossibleRadius);scale.setCenterPoint(0,0,0,0)}function getTextAlignForAngle(angle){if(angle===0||angle===180)return"center";else if(angle<180)return"left";return"right"}function fillText(ctx,text,position,fontSize){if(helpers.isArray(text)){var y=position.y;var spacing=1.5*fontSize;for(var i=0;i<text.length;++i){ctx.fillText(text[i],position.x,y);
y+=spacing}}else ctx.fillText(text,position.x,position.y)}function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270)position.y-=textSize.h/2;else if(angle>270||angle<90)position.y-=textSize.h}function drawPointLabels(scale){var ctx=scale.ctx;var getValueOrDefault=helpers.getValueOrDefault;var opts=scale.options;var angleLineOpts=opts.angleLines;var pointLabelOpts=opts.pointLabels;ctx.lineWidth=angleLineOpts.lineWidth;ctx.strokeStyle=angleLineOpts.color;var outerDistance=
scale.getDistanceFromCenterForValue(opts.reverse?scale.min:scale.max);var plFont=getPointLabelFontOptions(scale);ctx.textBaseline="top";for(var i=getValueCount(scale)-1;i>=0;i--){if(angleLineOpts.display){var outerPosition=scale.getPointPosition(i,outerDistance);ctx.beginPath();ctx.moveTo(scale.xCenter,scale.yCenter);ctx.lineTo(outerPosition.x,outerPosition.y);ctx.stroke();ctx.closePath()}if(pointLabelOpts.display){var pointLabelPosition=scale.getPointPosition(i,outerDistance+5);var pointLabelFontColor=
getValueOrDefault(pointLabelOpts.fontColor,globalDefaults.defaultFontColor);ctx.font=plFont.font;ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i]||"",pointLabelPosition,plFont.size)}}}function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;ctx.strokeStyle=
helpers.getValueAtIndexOrDefault(gridLineOpts.color,index-1);ctx.lineWidth=helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth,index-1);if(scale.options.gridLines.circular){ctx.beginPath();ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2);ctx.closePath();ctx.stroke()}else{var valueCount=getValueCount(scale);if(valueCount===0)return;ctx.beginPath();var pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,
radius);ctx.lineTo(pointPosition.x,pointPosition.y)}ctx.closePath();ctx.stroke()}}function numberOrZero(param){return helpers.isNumber(param)?param:0}var LinearRadialScale=Chart.LinearScaleBase.extend({setDimensions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;me.width=me.maxWidth;me.height=me.maxHeight;me.xCenter=Math.round(me.width/2);me.yCenter=Math.round(me.height/2);var minSize=helpers.min([me.height,me.width]);var tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,
globalDefaults.defaultFontSize);me.drawingArea=opts.display?minSize/2-(tickFontSize/2+tickOpts.backdropPaddingY):minSize/2},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||
meta.data[index].hidden)return;min=Math.min(value,min);max=Math.max(value,max)})}});me.min=min===Number.POSITIVE_INFINITY?0:min;me.max=max===Number.NEGATIVE_INFINITY?0:max;me.handleTickRangeOptions()},getTickLimit:function(){var tickOpts=this.options.ticks;var tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);return Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*tickFontSize)))},convertTicksToLabels:function(){var me=
this;Chart.LinearScaleBase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(me.options.pointLabels.callback,me)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},fit:function(){if(this.options.pointLabels.display)fitWithPointLabels(this);else fit(this)},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l/Math.sin(furthestAngles.l);
var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t/Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-me.height,0)/Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.round(largestPossibleRadius-
(radiusReductionLeft+radiusReductionRight)/2),Math.round(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom)},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea,maxLeft=leftMovement+me.drawingArea,maxTop=topMovement+me.drawingArea,maxBottom=me.height-bottomMovement-me.drawingArea;me.xCenter=
Math.round((maxLeft+maxRight)/2+me.left);me.yCenter=Math.round((maxTop+maxBottom)/2+me.top)},getIndexAngle:function(index){var angleMultiplier=Math.PI*2/getValueCount(this);var startAngle=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0;var startAngleRadians=startAngle*Math.PI*2/360;return index*angleMultiplier+startAngleRadians},getDistanceFromCenterForValue:function(value){var me=this;if(value===null)return 0;var scalingFactor=me.drawingArea/(me.max-me.min);if(me.options.reverse)return(me.max-
value)*scalingFactor;return(value-me.min)*scalingFactor},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-Math.PI/2;return{x:Math.round(Math.cos(thisAngle)*distanceFromCenter)+me.xCenter,y:Math.round(Math.sin(thisAngle)*distanceFromCenter)+me.yCenter}},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value))},getBasePosition:function(){var me=this;var min=me.min;var max=me.max;
return me.getPointPositionForValue(0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0)},draw:function(){var me=this;var opts=me.options;var gridLineOpts=opts.gridLines;var tickOpts=opts.ticks;var getValueOrDefault=helpers.getValueOrDefault;if(opts.display){var ctx=me.ctx;var tickFontSize=getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);var tickFontStyle=getValueOrDefault(tickOpts.fontStyle,globalDefaults.defaultFontStyle);var tickFontFamily=getValueOrDefault(tickOpts.fontFamily,
globalDefaults.defaultFontFamily);var tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily);helpers.each(me.ticks,function(label,index){if(index>0||opts.reverse){var yCenterOffset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);var yHeight=me.yCenter-yCenterOffset;if(gridLineOpts.display&&index!==0)drawRadiusLine(me,gridLineOpts,yCenterOffset,index);if(tickOpts.display){var tickFontColor=getValueOrDefault(tickOpts.fontColor,globalDefaults.defaultFontColor);ctx.font=
tickLabelFont;if(tickOpts.showLabelBackdrop){var labelWidth=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(me.xCenter-labelWidth/2-tickOpts.backdropPaddingX,yHeight-tickFontSize/2-tickOpts.backdropPaddingY,labelWidth+tickOpts.backdropPaddingX*2,tickFontSize+tickOpts.backdropPaddingY*2)}ctx.textAlign="center";ctx.textBaseline="middle";ctx.fillStyle=tickFontColor;ctx.fillText(label,me.xCenter,yHeight)}}});if(opts.angleLines.display||opts.pointLabels.display)drawPointLabels(me)}}});
Chart.scaleService.registerScaleType("radialLinear",LinearRadialScale,defaultConfig)}},{}],49:[function(require,module,exports){var moment=require(1);moment=typeof moment==="function"?moment:window.moment;module.exports=function(Chart){var helpers=Chart.helpers;var interval={millisecond:{size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{size:1E3,steps:[1,2,5,10,30]},minute:{size:6E4,steps:[1,2,5,10,30]},hour:{size:36E5,steps:[1,2,3,6,12]},day:{size:864E5,steps:[1,2,5]},week:{size:6048E5,maxStep:4},
month:{size:2628E6,maxStep:3},quarter:{size:7884E6,maxStep:4},year:{size:3154E7,maxStep:false}};var defaultConfig={position:"bottom",time:{parser:false,format:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:false}};function parseTime(axis,label){var timeOpts=axis.options.time;
if(typeof timeOpts.parser==="string")return moment(label,timeOpts.parser);if(typeof timeOpts.parser==="function")return timeOpts.parser(label);if(typeof label.getMonth==="function"||typeof label==="number")return moment(label);if(label.isValid&&label.isValid())return label;var format=timeOpts.format;if(typeof format!=="string"&&format.call){console.warn("options.time.format is deprecated and replaced by options.time.parser.");return format(label)}return moment(label,format)}function determineUnit(minUnit,
min,max,maxTicks){var units=Object.keys(interval);var unit;var numUnits=units.length;for(var i=units.indexOf(minUnit);i<numUnits;i++){unit=units[i];var unitDetails=interval[unit];var steps=unitDetails.steps&&unitDetails.steps[unitDetails.steps.length-1]||unitDetails.maxStep;if(steps===undefined||Math.ceil((max-min)/(steps*unitDetails.size))<=maxTicks)break}return unit}function determineStepSize(min,max,unit,maxTicks){var unitDefinition=interval[unit];var unitSizeInMilliSeconds=unitDefinition.size;
var sizeInUnits=Math.ceil((max-min)/unitSizeInMilliSeconds);var multiplier=1;var range=max-min;if(unitDefinition.steps){var numSteps=unitDefinition.steps.length;for(var i=0;i<numSteps&&sizeInUnits>maxTicks;i++){multiplier=unitDefinition.steps[i];sizeInUnits=Math.ceil(range/(unitSizeInMilliSeconds*multiplier))}}else while(sizeInUnits>maxTicks&&maxTicks>0){++multiplier;sizeInUnits=Math.ceil(range/(unitSizeInMilliSeconds*multiplier))}return multiplier}function generateTicks(options,dataRange,niceRange){var ticks=
[];if(options.maxTicks){var stepSize=options.stepSize;ticks.push(options.min!==undefined?options.min:niceRange.min);var cur=moment(niceRange.min);while(cur.add(stepSize,options.unit).valueOf()<niceRange.max)ticks.push(cur.valueOf());var realMax=options.max||niceRange.max;if(ticks[ticks.length-1]!==realMax)ticks.push(realMax)}return ticks}Chart.Ticks.generators.time=function(options,dataRange){var niceMin;var niceMax;var isoWeekday=options.isoWeekday;if(options.unit==="week"&&isoWeekday!==false){niceMin=
moment(dataRange.min).startOf("isoWeek").isoWeekday(isoWeekday).valueOf();niceMax=moment(dataRange.max).startOf("isoWeek").isoWeekday(isoWeekday);if(dataRange.max-niceMax>0)niceMax.add(1,"week");niceMax=niceMax.valueOf()}else{niceMin=moment(dataRange.min).startOf(options.unit).valueOf();niceMax=moment(dataRange.max).startOf(options.unit);if(dataRange.max-niceMax>0)niceMax.add(1,options.unit);niceMax=niceMax.valueOf()}return generateTicks(options,dataRange,{min:niceMin,max:niceMax})};var TimeScale=
Chart.Scale.extend({initialize:function(){if(!moment)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");Chart.Scale.prototype.initialize.call(this)},determineDataLimits:function(){var me=this;var timeOpts=me.options.time;var dataMin=Number.MAX_SAFE_INTEGER;var dataMax=Number.MIN_SAFE_INTEGER;var chartData=me.chart.data;var parsedData={labels:[],datasets:[]};var timestamp;helpers.each(chartData.labels,
function(label,labelIndex){var labelMoment=parseTime(me,label);if(labelMoment.isValid()){if(timeOpts.round)labelMoment.startOf(timeOpts.round);timestamp=labelMoment.valueOf();dataMin=Math.min(timestamp,dataMin);dataMax=Math.max(timestamp,dataMax);parsedData.labels[labelIndex]=timestamp}});helpers.each(chartData.datasets,function(dataset,datasetIndex){var timestamps=[];if(typeof dataset.data[0]==="object"&&dataset.data[0]!==null&&me.chart.isDatasetVisible(datasetIndex))helpers.each(dataset.data,function(value,
dataIndex){var dataMoment=parseTime(me,me.getRightValue(value));if(dataMoment.isValid()){if(timeOpts.round)dataMoment.startOf(timeOpts.round);timestamp=dataMoment.valueOf();dataMin=Math.min(timestamp,dataMin);dataMax=Math.max(timestamp,dataMax);timestamps[dataIndex]=timestamp}});else timestamps=parsedData.labels.slice();parsedData.datasets[datasetIndex]=timestamps});me.dataMin=dataMin;me.dataMax=dataMax;me._parsedData=parsedData},buildTicks:function(){var me=this;var timeOpts=me.options.time;var minTimestamp;
var maxTimestamp;var dataMin=me.dataMin;var dataMax=me.dataMax;if(timeOpts.min){var minMoment=parseTime(me,timeOpts.min);if(timeOpts.round)minMoment.round(timeOpts.round);minTimestamp=minMoment.valueOf()}if(timeOpts.max)maxTimestamp=parseTime(me,timeOpts.max).valueOf();var maxTicks=me.getLabelCapacity(minTimestamp||dataMin);var unit=timeOpts.unit||determineUnit(timeOpts.minUnit,minTimestamp||dataMin,maxTimestamp||dataMax,maxTicks);me.displayFormat=timeOpts.displayFormats[unit];var stepSize=timeOpts.stepSize||
determineStepSize(minTimestamp||dataMin,maxTimestamp||dataMax,unit,maxTicks);me.ticks=Chart.Ticks.generators.time({maxTicks:maxTicks,min:minTimestamp,max:maxTimestamp,stepSize:stepSize,unit:unit,isoWeekday:timeOpts.isoWeekday},{min:dataMin,max:dataMax});me.max=helpers.max(me.ticks);me.min=helpers.min(me.ticks)},getLabelForIndex:function(index,datasetIndex){var me=this;var label=me.chart.data.labels&&index<me.chart.data.labels.length?me.chart.data.labels[index]:"";var value=me.chart.data.datasets[datasetIndex].data[index];
if(value!==null&&typeof value==="object")label=me.getRightValue(value);if(me.options.time.tooltipFormat)label=parseTime(me,label).format(me.options.time.tooltipFormat);return label},tickFormatFunction:function(tick,index,ticks){var formattedTick=tick.format(this.displayFormat);var tickOpts=this.options.ticks;var callback=helpers.getValueOrDefault(tickOpts.callback,tickOpts.userCallback);if(callback)return callback(formattedTick,index,ticks);return formattedTick},convertTicksToLabels:function(){var me=
this;me.ticksAsTimestamps=me.ticks;me.ticks=me.ticks.map(function(tick){return moment(tick)}).map(me.tickFormatFunction,me)},getPixelForOffset:function(offset){var me=this;var epochWidth=me.max-me.min;var decimal=epochWidth?(offset-me.min)/epochWidth:0;if(me.isHorizontal()){var valueOffset=me.width*decimal;return me.left+Math.round(valueOffset)}var heightOffset=me.height*decimal;return me.top+Math.round(heightOffset)},getPixelForValue:function(value,index,datasetIndex){var me=this;var offset=null;
if(index!==undefined&&datasetIndex!==undefined)offset=me._parsedData.datasets[datasetIndex][index];if(offset===null){if(!value||!value.isValid)value=parseTime(me,me.getRightValue(value));if(value&&value.isValid&&value.isValid())offset=value.valueOf()}if(offset!==null)return me.getPixelForOffset(offset)},getPixelForTick:function(index){return this.getPixelForOffset(this.ticksAsTimestamps[index])},getValueForPixel:function(pixel){var me=this;var innerDimension=me.isHorizontal()?me.width:me.height;var offset=
(pixel-(me.isHorizontal()?me.left:me.top))/innerDimension;return moment(me.min+offset*(me.max-me.min))},getLabelWidth:function(label){var me=this;var ticks=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var cosRotation=Math.cos(helpers.toRadians(ticks.maxRotation));var sinRotation=Math.sin(helpers.toRadians(ticks.maxRotation));var tickFontSize=helpers.getValueOrDefault(ticks.fontSize,Chart.defaults.global.defaultFontSize);return tickLabelWidth*cosRotation+tickFontSize*sinRotation},
getLabelCapacity:function(exampleTime){var me=this;me.displayFormat=me.options.time.displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(moment(exampleTime),0,[]);var tickLabelWidth=me.getLabelWidth(exampleLabel);var innerWidth=me.isHorizontal()?me.width:me.height;var labelCapacity=innerWidth/tickLabelWidth;return labelCapacity}});Chart.scaleService.registerScaleType("time",TimeScale,defaultConfig)}},{1:1}]},{},[7])(7)});
(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.enquire=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=
new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var QueryHandler=require(3);var each=require(4).each;function MediaQuery(query,isUnconditional){this.query=query;this.isUnconditional=isUnconditional;this.handlers=[];this.mql=
window.matchMedia(query);var self=this;this.listener=function(mql){self.mql=mql.currentTarget||mql;self.assess()};this.mql.addListener(this.listener)}MediaQuery.prototype={constuctor:MediaQuery,addHandler:function(handler){var qh=new QueryHandler(handler);this.handlers.push(qh);this.matches()&&qh.on()},removeHandler:function(handler){var handlers=this.handlers;each(handlers,function(h,i){if(h.equals(handler)){h.destroy();return!handlers.splice(i,1)}})},matches:function(){return this.mql.matches||
this.isUnconditional},clear:function(){each(this.handlers,function(handler){handler.destroy()});this.mql.removeListener(this.listener);this.handlers.length=0},assess:function(){var action=this.matches()?"on":"off";each(this.handlers,function(handler){handler[action]()})}};module.exports=MediaQuery},{3:3,4:4}],2:[function(require,module,exports){var MediaQuery=require(1);var Util=require(4);var each=Util.each;var isFunction=Util.isFunction;var isArray=Util.isArray;function MediaQueryDispatch(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");
this.queries={};this.browserIsIncapable=!window.matchMedia("only all").matches}MediaQueryDispatch.prototype={constructor:MediaQueryDispatch,register:function(q,options,shouldDegrade){var queries=this.queries,isUnconditional=shouldDegrade&&this.browserIsIncapable;if(!queries[q])queries[q]=new MediaQuery(q,isUnconditional);if(isFunction(options))options={match:options};if(!isArray(options))options=[options];each(options,function(handler){if(isFunction(handler))handler={match:handler};queries[q].addHandler(handler)});
return this},unregister:function(q,handler){var query=this.queries[q];if(query)if(handler)query.removeHandler(handler);else{query.clear();delete this.queries[q]}return this}};module.exports=MediaQueryDispatch},{1:1,4:4}],3:[function(require,module,exports){function QueryHandler(options){this.options=options;!options.deferSetup&&this.setup()}QueryHandler.prototype={constructor:QueryHandler,setup:function(){if(this.options.setup)this.options.setup();this.initialised=true},on:function(){!this.initialised&&
this.setup();this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(target){return this.options===target||this.options.match===target}};module.exports=QueryHandler},{}],4:[function(require,module,exports){function each(collection,fn){var i=0,length=collection.length,cont;for(i;i<length;i++){cont=fn(collection[i],i);if(cont===false)break}}function isArray(target){return Object.prototype.toString.apply(target)===
"[object Array]"}function isFunction(target){return typeof target==="function"}module.exports={isFunction:isFunction,isArray:isArray,each:each}},{}],5:[function(require,module,exports){var MediaQueryDispatch=require(2);module.exports=new MediaQueryDispatch},{2:2}]},{},[5])(5)});
(function($){function getHeightForCut($elements,maxLines){var currentHeight=0;var currentNbLines=0;var hasOverflow=false;$elements.each(function(i){var $elm=$(this);var infos=getLineInfo($elm);var currentMaxLine=currentNbLines+infos.nbLines;var isNotLast=$elements.length!==i+1;if(currentMaxLine>maxLines||currentMaxLine===maxLines&&isNotLast===true){currentHeight+=infos.lineHeight*(maxLines-currentNbLines);currentNbLines=maxLines;hasOverflow=true;return false}else{currentHeight+=infos.totalHeight;
currentNbLines+=infos.nbLines}});if(hasOverflow===true)return currentHeight;return false}function getPxToInt(value){return parseInt(value.replace("px",""))}function getLineInfo($element){var fontSize=getPxToInt($element.css("font-size"));var lineHeight=getPxToInt($element.css("line-height"));var height=$element.height();var marginBottom=getPxToInt($element.css("margin-bottom"));return{fontSize:fontSize,nbLines:height/lineHeight,lineHeight:lineHeight,marginBottom:marginBottom,height:height,totalHeight:height+
marginBottom}}var Maxlines=function(element,options){this.$element=$(element);this.options=options;this.options.maxLines=parseInt(this.options.maxLines);this.init()};Maxlines.prototype={init:function(){this._initElements();this._attachEvents();this.updateElements();return this},_initElements:function(){var $childs=this.$element.children();this.$content=$('\x3cdiv class\x3d"'+this.options.contentClass+'" /\x3e').append($childs).appendTo(this.$element);this.$more=$(this.options.moreTemplate).appendTo(this.$element);
return this},_attachEvents:function(){this.$more.off("click.maxlines").on("click.maxlines",this.show.bind(this))},_detachEvents:function(){this.$more.off("click.maxlines")},_render:function(){var showed=this.showed===true||this.maxHeight===false;this.$content.height(showed===true?"":this.maxHeight);if(showed===true)this.$more.hide();else this.$more.show();return this},updateElements:function(){this.$elements=this.$element.find(this.options.elementsSelector);this.update();return this},update:function(){if(this.$elements.length===
0||this.showed===true)return this;var maxHeight=getHeightForCut(this.$elements,this.options.maxLines);if(maxHeight!==this.maxHeight){this.maxHeight=maxHeight;this._render();this.$element.trigger("heightChanged.maxlines")}return this},show:function(e){if(e&&typeof e.preventDefault==="function")e.preventDefault();this.showed=true;this._render();this.$element.trigger("showed.maxlines");return this},hide:function(e){if(e&&typeof e.preventDefault==="function")e.preventDefault();this.showed=false;this._render();
this.$element.trigger("hided.maxlines");return this},destroy:function(){this.show();this._detachEvents();delete this.$element.data()["maxlines-instance"];return this}};var maxlinesPlugin=function(option){var args=Array.apply(null,arguments);args.shift();var internalReturn;this.each(function(){var $this=$(this),data=$this.data("maxlines-instance"),options=typeof option==="object"&&option;if(!data){var dataAttr=$this.data("maxlines");if(dataAttr&&typeof dataAttr!=="object")dataAttr={maxLines:dataAttr};
data=new Maxlines(this,$.extend({},defaults,options,dataAttr));$this.data("maxlines-instance",data)}if(typeof option==="string"&&typeof data[option]==="function")internalReturn=data[option].apply(data,args)});if(internalReturn===undefined||internalReturn instanceof Maxlines)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+option+" function)");else return internalReturn};$.fn.maxlines=maxlinesPlugin;var defaults=$.fn.maxlines.defaults={maxLines:12,
elementsSelector:"h1,h2,h3,h4,h5,h6,p,ul,ol",contentClass:"js-maxlines-content",moreTemplate:'\x3cspan class\x3d"js-maxlines-more"\x3e... \x3ca href\x3d"#"\x3elire la suite\x3c/a\x3e\x3c/span\x3e'};$.fn.maxlines.Constructor=Maxlines})(jQuery);
(function($,window,document,undefined){function Owl(element,options){this.settings=null;this.options=$.extend({},Owl.Defaults,options);this.$element=$(element);this._handlers={};this._plugins={};this._supress={};this._current=null;this._speed=null;this._coordinates=[];this._breakpoint=null;this._width=null;this._items=[];this._clones=[];this._mergers=[];this._widths=[];this._invalidated={};this._pipe=[];this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null};
this._states={current:{},tags:{"initializing":["busy"],"animating":["busy"],"dragging":["interacting"]}};$.each(["onResize","onThrottledResize"],$.proxy(function(i,handler){this._handlers[handler]=$.proxy(this[handler],this)},this));$.each(Owl.Plugins,$.proxy(function(key,plugin){this._plugins[key.charAt(0).toLowerCase()+key.slice(1)]=new plugin(this)},this));$.each(Owl.Workers,$.proxy(function(priority,worker){this._pipe.push({"filter":worker.filter,"run":$.proxy(worker.run,this)})},this));this.setup();
this.initialize()}Owl.Defaults={items:3,loop:false,center:false,rewind:false,checkVisibility:true,mouseDrag:true,touchDrag:true,pullDrag:true,freeDrag:false,margin:0,stagePadding:0,merge:false,mergeFit:true,autoWidth:false,startPosition:0,rtl:false,smartSpeed:250,fluidSpeed:false,dragEndSpeed:false,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:window,fallbackEasing:"swing",slideTransition:"",info:false,nestedItemSelector:false,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",
loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"};Owl.Width={Default:"default",Inner:"inner",Outer:"outer"};Owl.Type={Event:"event",State:"state"};Owl.Plugins={};Owl.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(cache){cache.current=
this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(cache){var margin=this.settings.margin||"",grid=!this.settings.autoWidth,rtl=this.settings.rtl,css={"width":"auto","margin-left":rtl?margin:"","margin-right":rtl?"":margin};!grid&&this.$stage.children().css(css);cache.css=css}},{filter:["width","items","settings"],run:function(cache){var width=(this.width()/
this.settings.items).toFixed(3)-this.settings.margin,merge=null,iterator=this._items.length,grid=!this.settings.autoWidth,widths=[];cache.items={merge:false,width:width};while(iterator--){merge=this._mergers[iterator];merge=this.settings.mergeFit&&Math.min(merge,this.settings.items)||merge;cache.items.merge=merge>1||cache.items.merge;widths[iterator]=!grid?this._items[iterator].width():width*merge}this._widths=widths}},{filter:["items","settings"],run:function(){var clones=[],items=this._items,settings=
this.settings,view=Math.max(settings.items*2,4),size=Math.ceil(items.length/2)*2,repeat=settings.loop&&items.length?settings.rewind?view:Math.max(view,size):0,append="",prepend="";repeat/=2;while(repeat>0){clones.push(this.normalize(clones.length/2,true));append=append+items[clones[clones.length-1]][0].outerHTML;clones.push(this.normalize(items.length-1-(clones.length-1)/2,true));prepend=items[clones[clones.length-1]][0].outerHTML+prepend;repeat-=1}this._clones=clones;$(append).addClass("cloned").appendTo(this.$stage);
$(prepend).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){var rtl=this.settings.rtl?1:-1,size=this._clones.length+this._items.length,iterator=-1,previous=0,current=0,coordinates=[];while(++iterator<size){previous=coordinates[iterator-1]||0;current=this._widths[this.relative(iterator)]+this.settings.margin;coordinates.push(previous+current*rtl)}this._coordinates=coordinates}},{filter:["width","items","settings"],run:function(){var padding=this.settings.stagePadding,
coordinates=this._coordinates,css={"width":Math.ceil(Math.abs(coordinates[coordinates.length-1]))+padding*2,"padding-left":padding||"","padding-right":padding||""};this.$stage.css(css)}},{filter:["width","items","settings"],run:function(cache){var iterator=this._coordinates.length,grid=!this.settings.autoWidth,items=this.$stage.children();if(grid&&cache.items.merge)while(iterator--){cache.css.width=this._widths[this.relative(iterator)];items.eq(iterator).css(cache.css)}else if(grid){cache.css.width=
cache.items.width;items.css(cache.css)}}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(cache){cache.current=cache.current?this.$stage.children().index(cache.current):0;cache.current=Math.max(this.minimum(),Math.min(this.maximum(),cache.current));this.reset(cache.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],
run:function(){var rtl=this.settings.rtl?1:-1,padding=this.settings.stagePadding*2,begin=this.coordinates(this.current())+padding,end=begin+this.width()*rtl,inner,outer,matches=[],i,n;for(i=0,n=this._coordinates.length;i<n;i++){inner=this._coordinates[i-1]||0;outer=Math.abs(this._coordinates[i])+padding*rtl;if(this.op(inner,"\x3c\x3d",begin)&&this.op(inner,"\x3e",end)||this.op(outer,"\x3c",begin)&&this.op(outer,"\x3e",end))matches.push(i)}this.$stage.children(".active").removeClass("active");this.$stage.children(":eq("+
matches.join("), :eq(")+")").addClass("active");this.$stage.children(".center").removeClass("center");if(this.settings.center)this.$stage.children().eq(this.current()).addClass("center")}}];Owl.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass);if(this.$stage.length)return;this.$element.addClass(this.options.loadingClass);this.$stage=$("\x3c"+this.settings.stageElement+"\x3e",{"class":this.settings.stageClass}).wrap($("\x3cdiv/\x3e",{"class":this.settings.stageOuterClass}));
this.$element.append(this.$stage.parent())};Owl.prototype.initializeItems=function(){var $items=this.$element.find(".owl-item");if($items.length){this._items=$items.get().map(function(item){return $(item)});this._mergers=this._items.map(function(){return 1});this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent()));if(this.isVisible())this.refresh();else this.invalidate("width");this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)};Owl.prototype.initialize=
function(){this.enter("initializing");this.trigger("initialize");this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl);if(this.settings.autoWidth&&!this.is("pre-loading")){var imgs,nestedSelector,width;imgs=this.$element.find("img");nestedSelector=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:undefined;width=this.$element.children(nestedSelector).width();if(imgs.length&&width<=0)this.preloadAutoWidthImages(imgs)}this.initializeStage();this.initializeItems();this.registerEventHandlers();
this.leave("initializing");this.trigger("initialized")};Owl.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):true};Owl.prototype.setup=function(){var viewport=this.viewport(),overwrites=this.options.responsive,match=-1,settings=null;if(!overwrites)settings=$.extend({},this.options);else{$.each(overwrites,function(breakpoint){if(breakpoint<=viewport&&breakpoint>match)match=Number(breakpoint)});settings=$.extend({},this.options,overwrites[match]);if(typeof settings.stagePadding===
"function")settings.stagePadding=settings.stagePadding();delete settings.responsive;if(settings.responsiveClass)this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+match))}this.trigger("change",{property:{name:"settings",value:settings}});this._breakpoint=match;this.settings=settings;this.invalidate("settings");this.trigger("changed",{property:{name:"settings",value:this.settings}})};Owl.prototype.optionsLogic=function(){if(this.settings.autoWidth){this.settings.stagePadding=
false;this.settings.merge=false}};Owl.prototype.prepare=function(item){var event=this.trigger("prepare",{content:item});if(!event.data)event.data=$("\x3c"+this.settings.itemElement+"/\x3e").addClass(this.options.itemClass).append(item);this.trigger("prepared",{content:event.data});return event.data};Owl.prototype.update=function(){var i=0,n=this._pipe.length,filter=$.proxy(function(p){return this[p]},this._invalidated),cache={};while(i<n){if(this._invalidated.all||$.grep(this._pipe[i].filter,filter).length>
0)this._pipe[i].run(cache);i++}this._invalidated={};!this.is("valid")&&this.enter("valid")};Owl.prototype.width=function(dimension){dimension=dimension||Owl.Width.Default;switch(dimension){case Owl.Width.Inner:case Owl.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}};Owl.prototype.refresh=function(){this.enter("refreshing");this.trigger("refresh");this.setup();this.optionsLogic();this.$element.addClass(this.options.refreshClass);this.update();
this.$element.removeClass(this.options.refreshClass);this.leave("refreshing");this.trigger("refreshed")};Owl.prototype.onThrottledResize=function(){window.clearTimeout(this.resizeTimer);this.resizeTimer=window.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)};Owl.prototype.onResize=function(){if(!this._items.length)return false;if(this._width===this.$element.width())return false;if(!this.isVisible())return false;this.enter("resizing");if(this.trigger("resize").isDefaultPrevented()){this.leave("resizing");
return false}this.invalidate("width");this.refresh();this.leave("resizing");this.trigger("resized")};Owl.prototype.registerEventHandlers=function(){if($.support.transition)this.$stage.on($.support.transition.end+".owl.core",$.proxy(this.onTransitionEnd,this));if(this.settings.responsive!==false)this.on(window,"resize",this._handlers.onThrottledResize);if(this.settings.mouseDrag){this.$element.addClass(this.options.dragClass);this.$stage.on("mousedown.owl.core",$.proxy(this.onDragStart,this));this.$stage.on("dragstart.owl.core selectstart.owl.core",
function(){return false})}if(this.settings.touchDrag){this.$stage.on("touchstart.owl.core",$.proxy(this.onDragStart,this));this.$stage.on("touchcancel.owl.core",$.proxy(this.onDragEnd,this))}};Owl.prototype.onDragStart=function(event){var stage=null;if(event.which===3)return;if($.support.transform){stage=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(",");stage={x:stage[stage.length===16?12:4],y:stage[stage.length===16?13:5]}}else{stage=this.$stage.position();stage={x:this.settings.rtl?
stage.left+this.$stage.width()-this.width()+this.settings.margin:stage.left,y:stage.top}}if(this.is("animating")){$.support.transform?this.animate(stage.x):this.$stage.stop();this.invalidate("position")}this.$element.toggleClass(this.options.grabClass,event.type==="mousedown");this.speed(0);this._drag.time=(new Date).getTime();this._drag.target=$(event.target);this._drag.stage.start=stage;this._drag.stage.current=stage;this._drag.pointer=this.pointer(event);$(document).on("mouseup.owl.core touchend.owl.core",
$.proxy(this.onDragEnd,this));$(document).one("mousemove.owl.core touchmove.owl.core",$.proxy(function(event){var delta=this.difference(this._drag.pointer,this.pointer(event));$(document).on("mousemove.owl.core touchmove.owl.core",$.proxy(this.onDragMove,this));if(Math.abs(delta.x)<Math.abs(delta.y)&&this.is("valid"))return;event.preventDefault();this.enter("dragging");this.trigger("drag")},this))};Owl.prototype.onDragMove=function(event){var minimum=null,maximum=null,pull=null,delta=this.difference(this._drag.pointer,
this.pointer(event)),stage=this.difference(this._drag.stage.start,delta);if(!this.is("dragging"))return;event.preventDefault();if(this.settings.loop){minimum=this.coordinates(this.minimum());maximum=this.coordinates(this.maximum()+1)-minimum;stage.x=((stage.x-minimum)%maximum+maximum)%maximum+minimum}else{minimum=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum());maximum=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum());pull=this.settings.pullDrag?
-1*delta.x/5:0;stage.x=Math.max(Math.min(stage.x,minimum+pull),maximum+pull)}this._drag.stage.current=stage;this.animate(stage.x)};Owl.prototype.onDragEnd=function(event){var delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this._drag.stage.current,direction=delta.x>0^this.settings.rtl?"left":"right";$(document).off(".owl.core");this.$element.removeClass(this.options.grabClass);if(delta.x!==0&&this.is("dragging")||!this.is("valid")){this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed);
this.current(this.closest(stage.x,delta.x!==0?direction:this._drag.direction));this.invalidate("position");this.update();this._drag.direction=direction;if(Math.abs(delta.x)>3||(new Date).getTime()-this._drag.time>300)this._drag.target.one("click.owl.core",function(){return false})}if(!this.is("dragging"))return;this.leave("dragging");this.trigger("dragged")};Owl.prototype.closest=function(coordinate,direction){var position=-1,pull=30,width=this.width(),coordinates=this.coordinates();if(!this.settings.freeDrag)$.each(coordinates,
$.proxy(function(index,value){if(direction==="left"&&coordinate>value-pull&&coordinate<value+pull)position=index;else if(direction==="right"&&coordinate>value-width-pull&&coordinate<value-width+pull)position=index+1;else if(this.op(coordinate,"\x3c",value)&&this.op(coordinate,"\x3e",coordinates[index+1]!==undefined?coordinates[index+1]:value-width))position=direction==="left"?index+1:index;return position===-1},this));if(!this.settings.loop)if(this.op(coordinate,"\x3e",coordinates[this.minimum()]))position=
coordinate=this.minimum();else if(this.op(coordinate,"\x3c",coordinates[this.maximum()]))position=coordinate=this.maximum();return position};Owl.prototype.animate=function(coordinate){var animate=this.speed()>0;this.is("animating")&&this.onTransitionEnd();if(animate){this.enter("animating");this.trigger("translate")}if($.support.transform3d&&$.support.transition)this.$stage.css({transform:"translate3d("+coordinate+"px,0px,0px)",transition:this.speed()/1E3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:
"")});else if(animate)this.$stage.animate({left:coordinate+"px"},this.speed(),this.settings.fallbackEasing,$.proxy(this.onTransitionEnd,this));else this.$stage.css({left:coordinate+"px"})};Owl.prototype.is=function(state){return this._states.current[state]&&this._states.current[state]>0};Owl.prototype.current=function(position){if(position===undefined)return this._current;if(this._items.length===0)return undefined;position=this.normalize(position);if(this._current!==position){var event=this.trigger("change",
{property:{name:"position",value:position}});if(event.data!==undefined)position=this.normalize(event.data);this._current=position;this.invalidate("position");this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current};Owl.prototype.invalidate=function(part){if($.type(part)==="string"){this._invalidated[part]=true;this.is("valid")&&this.leave("valid")}return $.map(this._invalidated,function(v,i){return i})};Owl.prototype.reset=function(position){position=this.normalize(position);
if(position===undefined)return;this._speed=0;this._current=position;this.suppress(["translate","translated"]);this.animate(this.coordinates(position));this.release(["translate","translated"])};Owl.prototype.normalize=function(position,relative){var n=this._items.length,m=relative?0:this._clones.length;if(!this.isNumeric(position)||n<1)position=undefined;else if(position<0||position>=n+m)position=((position-m/2)%n+n)%n+m/2;return position};Owl.prototype.relative=function(position){position-=this._clones.length/
2;return this.normalize(position,true)};Owl.prototype.maximum=function(relative){var settings=this.settings,maximum=this._coordinates.length,iterator,reciprocalItemsWidth,elementWidth;if(settings.loop)maximum=this._clones.length/2+this._items.length-1;else if(settings.autoWidth||settings.merge){iterator=this._items.length;if(iterator){reciprocalItemsWidth=this._items[--iterator].width();elementWidth=this.$element.width();while(iterator--){reciprocalItemsWidth+=this._items[iterator].width()+this.settings.margin;
if(reciprocalItemsWidth>elementWidth)break}}maximum=iterator+1}else if(settings.center)maximum=this._items.length-1;else maximum=this._items.length-settings.items;if(relative)maximum-=this._clones.length/2;return Math.max(maximum,0)};Owl.prototype.minimum=function(relative){return relative?0:this._clones.length/2};Owl.prototype.items=function(position){if(position===undefined)return this._items.slice();position=this.normalize(position,true);return this._items[position]};Owl.prototype.mergers=function(position){if(position===
undefined)return this._mergers.slice();position=this.normalize(position,true);return this._mergers[position]};Owl.prototype.clones=function(position){var odd=this._clones.length/2,even=odd+this._items.length,map=function(index){return index%2===0?even+index/2:odd-(index+1)/2};if(position===undefined)return $.map(this._clones,function(v,i){return map(i)});return $.map(this._clones,function(v,i){return v===position?map(i):null})};Owl.prototype.speed=function(speed){if(speed!==undefined)this._speed=
speed;return this._speed};Owl.prototype.coordinates=function(position){var multiplier=1,newPosition=position-1,coordinate;if(position===undefined)return $.map(this._coordinates,$.proxy(function(coordinate,index){return this.coordinates(index)},this));if(this.settings.center){if(this.settings.rtl){multiplier=-1;newPosition=position+1}coordinate=this._coordinates[position];coordinate+=(this.width()-coordinate+(this._coordinates[newPosition]||0))/2*multiplier}else coordinate=this._coordinates[newPosition]||
0;coordinate=Math.ceil(coordinate);return coordinate};Owl.prototype.duration=function(from,to,factor){if(factor===0)return 0;return Math.min(Math.max(Math.abs(to-from),1),6)*Math.abs(factor||this.settings.smartSpeed)};Owl.prototype.to=function(position,speed){var current=this.current(),revert=null,distance=position-this.relative(current),direction=(distance>0)-(distance<0),items=this._items.length,minimum=this.minimum(),maximum=this.maximum();if(this.settings.loop){if(!this.settings.rewind&&Math.abs(distance)>
items/2)distance+=direction*-1*items;position=current+distance;revert=((position-minimum)%items+items)%items+minimum;if(revert!==position&&revert-distance<=maximum&&revert-distance>0){current=revert-distance;position=revert;this.reset(current)}}else if(this.settings.rewind){maximum+=1;position=(position%maximum+maximum)%maximum}else position=Math.max(minimum,Math.min(maximum,position));this.speed(this.duration(current,position,speed));this.current(position);if(this.isVisible())this.update()};Owl.prototype.next=
function(speed){speed=speed||false;this.to(this.relative(this.current())+1,speed)};Owl.prototype.prev=function(speed){speed=speed||false;this.to(this.relative(this.current())-1,speed)};Owl.prototype.onTransitionEnd=function(event){if(event!==undefined){event.stopPropagation();if((event.target||event.srcElement||event.originalTarget)!==this.$stage.get(0))return false}this.leave("animating");this.trigger("translated")};Owl.prototype.viewport=function(){var width;if(this.options.responsiveBaseElement!==
window)width=$(this.options.responsiveBaseElement).width();else if(window.innerWidth)width=window.innerWidth;else if(document.documentElement&&document.documentElement.clientWidth)width=document.documentElement.clientWidth;else console.warn("Can not detect viewport width.");return width};Owl.prototype.replace=function(content){this.$stage.empty();this._items=[];if(content)content=content instanceof jQuery?content:$(content);if(this.settings.nestedItemSelector)content=content.find("."+this.settings.nestedItemSelector);
content.filter(function(){return this.nodeType===1}).each($.proxy(function(index,item){item=this.prepare(item);this.$stage.append(item);this._items.push(item);this._mergers.push(item.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this));this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0);this.invalidate("items")};Owl.prototype.add=function(content,position){var current=this.relative(this._current);position=position===undefined?this._items.length:
this.normalize(position,true);content=content instanceof jQuery?content:$(content);this.trigger("add",{content:content,position:position});content=this.prepare(content);if(this._items.length===0||position===this._items.length){this._items.length===0&&this.$stage.append(content);this._items.length!==0&&this._items[position-1].after(content);this._items.push(content);this._mergers.push(content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)}else{this._items[position].before(content);
this._items.splice(position,0,content);this._mergers.splice(position,0,content.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)}this._items[current]&&this.reset(this._items[current].index());this.invalidate("items");this.trigger("added",{content:content,position:position})};Owl.prototype.remove=function(position){position=this.normalize(position,true);if(position===undefined)return;this.trigger("remove",{content:this._items[position],position:position});this._items[position].remove();
this._items.splice(position,1);this._mergers.splice(position,1);this.invalidate("items");this.trigger("removed",{content:null,position:position})};Owl.prototype.preloadAutoWidthImages=function(images){images.each($.proxy(function(i,element){this.enter("pre-loading");element=$(element);$(new Image).one("load",$.proxy(function(e){element.attr("src",e.target.src);element.css("opacity",1);this.leave("pre-loading");!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",element.attr("src")||
element.attr("data-src")||element.attr("data-src-retina"))},this))};Owl.prototype.destroy=function(){this.$element.off(".owl.core");this.$stage.off(".owl.core");$(document).off(".owl.core");if(this.settings.responsive!==false){window.clearTimeout(this.resizeTimer);this.off(window,"resize",this._handlers.onThrottledResize)}for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove();this.$stage.unwrap();this.$stage.children().contents().unwrap();this.$stage.children().unwrap();
this.$stage.remove();this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")};Owl.prototype.op=function(a,o,b){var rtl=this.settings.rtl;switch(o){case "\x3c":return rtl?a>b:a<b;case "\x3e":return rtl?
a<b:a>b;case "\x3e\x3d":return rtl?a<=b:a>=b;case "\x3c\x3d":return rtl?a>=b:a<=b;default:break}};Owl.prototype.on=function(element,event,listener,capture){if(element.addEventListener)element.addEventListener(event,listener,capture);else if(element.attachEvent)element.attachEvent("on"+event,listener)};Owl.prototype.off=function(element,event,listener,capture){if(element.removeEventListener)element.removeEventListener(event,listener,capture);else if(element.detachEvent)element.detachEvent("on"+event,
listener)};Owl.prototype.trigger=function(name,data,namespace,state,enter){var status={item:{count:this._items.length,index:this.current()}},handler=$.camelCase($.grep(["on",name,namespace],function(v){return v}).join("-").toLowerCase()),event=$.Event([name,"owl",namespace||"carousel"].join(".").toLowerCase(),$.extend({relatedTarget:this},status,data));if(!this._supress[name]){$.each(this._plugins,function(name,plugin){if(plugin.onTrigger)plugin.onTrigger(event)});this.register({type:Owl.Type.Event,
name:name});this.$element.trigger(event);if(this.settings&&typeof this.settings[handler]==="function")this.settings[handler].call(this,event)}return event};Owl.prototype.enter=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){if(this._states.current[name]===undefined)this._states.current[name]=0;this._states.current[name]++},this))};Owl.prototype.leave=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]--},
this))};Owl.prototype.register=function(object){if(object.type===Owl.Type.Event){if(!$.event.special[object.name])$.event.special[object.name]={};if(!$.event.special[object.name].owl){var _default=$.event.special[object.name]._default;$.event.special[object.name]._default=function(e){if(_default&&_default.apply&&(!e.namespace||e.namespace.indexOf("owl")===-1))return _default.apply(this,arguments);return e.namespace&&e.namespace.indexOf("owl")>-1};$.event.special[object.name].owl=true}}else if(object.type===
Owl.Type.State){if(!this._states.tags[object.name])this._states.tags[object.name]=object.tags;else this._states.tags[object.name]=this._states.tags[object.name].concat(object.tags);this._states.tags[object.name]=$.grep(this._states.tags[object.name],$.proxy(function(tag,i){return $.inArray(tag,this._states.tags[object.name])===i},this))}};Owl.prototype.suppress=function(events){$.each(events,$.proxy(function(index,event){this._supress[event]=true},this))};Owl.prototype.release=function(events){$.each(events,
$.proxy(function(index,event){delete this._supress[event]},this))};Owl.prototype.pointer=function(event){var result={x:null,y:null};event=event.originalEvent||event||window.event;event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event;if(event.pageX){result.x=event.pageX;result.y=event.pageY}else{result.x=event.clientX;result.y=event.clientY}return result};Owl.prototype.isNumeric=function(number){return!isNaN(parseFloat(number))};
Owl.prototype.difference=function(first,second){return{x:first.x-second.x,y:first.y-second.y}};$.fn.owlCarousel=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("owl.carousel");if(!data){data=new Owl(this,typeof option=="object"&&option);$this.data("owl.carousel",data);$.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(i,event){data.register({type:Owl.Type.Event,name:event});data.$element.on(event+
".owl.carousel.core",$.proxy(function(e){if(e.namespace&&e.relatedTarget!==this){this.suppress([event]);data[event].apply(this,[].slice.call(arguments,1));this.release([event])}},data))})}if(typeof option=="string"&&option.charAt(0)!=="_")data[option].apply(data,args)})};$.fn.owlCarousel.Constructor=Owl})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var AutoRefresh=function(carousel){this._core=carousel;this._interval=null;this._visible=null;this._handlers={"initialized.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.autoRefresh)this.watch()},this)};this._core.options=$.extend({},AutoRefresh.Defaults,this._core.options);this._core.$element.on(this._handlers)};AutoRefresh.Defaults={autoRefresh:true,autoRefreshInterval:500};AutoRefresh.prototype.watch=function(){if(this._interval)return;
this._visible=this._core.isVisible();this._interval=window.setInterval($.proxy(this.refresh,this),this._core.settings.autoRefreshInterval)};AutoRefresh.prototype.refresh=function(){if(this._core.isVisible()===this._visible)return;this._visible=!this._visible;this._core.$element.toggleClass("owl-hidden",!this._visible);this._visible&&(this._core.invalidate("width")&&this._core.refresh())};AutoRefresh.prototype.destroy=function(){var handler,property;window.clearInterval(this._interval);for(handler in this._handlers)this._core.$element.off(handler,
this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.AutoRefresh=AutoRefresh})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Lazy=function(carousel){this._core=carousel;this._loaded=[];this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":$.proxy(function(e){if(!e.namespace)return;if(!this._core.settings||!this._core.settings.lazyLoad)return;if(e.property&&e.property.name=="position"||e.type=="initialized"){var settings=this._core.settings,n=settings.center&&Math.ceil(settings.items/2)||settings.items,i=settings.center&&n*-1||0,position=(e.property&&
e.property.value!==undefined?e.property.value:this._core.current())+i,clones=this._core.clones().length,load=$.proxy(function(i,v){this.load(v)},this);if(settings.lazyLoadEager>0){n+=settings.lazyLoadEager;if(settings.loop){position-=settings.lazyLoadEager;n++}}while(i++<n){this.load(clones/2+this._core.relative(position));clones&&$.each(this._core.clones(this._core.relative(position)),load);position++}}},this)};this._core.options=$.extend({},Lazy.Defaults,this._core.options);this._core.$element.on(this._handlers)};
Lazy.Defaults={lazyLoad:false,lazyLoadEager:0};Lazy.prototype.load=function(position){var $item=this._core.$stage.children().eq(position),$elements=$item&&$item.find(".owl-lazy");if(!$elements||$.inArray($item.get(0),this._loaded)>-1)return;$elements.each($.proxy(function(index,element){var $element=$(element),image,url=window.devicePixelRatio>1&&$element.attr("data-src-retina")||$element.attr("data-src")||$element.attr("data-srcset");this._core.trigger("load",{element:$element,url:url},"lazy");if($element.is("img"))$element.one("load.owl.lazy",
$.proxy(function(){$element.css("opacity",1);this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("src",url);else if($element.is("source"))$element.one("load.owl.lazy",$.proxy(function(){this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("srcset",url);else{image=new Image;image.onload=$.proxy(function(){$element.css({"background-image":'url("'+url+'")',"opacity":"1"});this._core.trigger("loaded",{element:$element,url:url},"lazy")},this);image.src=url}},
this));this._loaded.push($item.get(0))};Lazy.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this._core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.Lazy=Lazy})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var AutoHeight=function(carousel){this._core=carousel;this._previousHeight=null;this._handlers={"initialized.owl.carousel refreshed.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.autoHeight)this.update()},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.autoHeight&&e.property.name==="position")this.update()},this),"loaded.owl.lazy":$.proxy(function(e){if(e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+
this._core.settings.itemClass).index()===this._core.current())this.update()},this)};this._core.options=$.extend({},AutoHeight.Defaults,this._core.options);this._core.$element.on(this._handlers);this._intervalId=null;var refThis=this;$(window).on("load",function(){if(refThis._core.settings.autoHeight)refThis.update()});$(window).resize(function(){if(refThis._core.settings.autoHeight){if(refThis._intervalId!=null)clearTimeout(refThis._intervalId);refThis._intervalId=setTimeout(function(){refThis.update()},
250)}})};AutoHeight.Defaults={autoHeight:false,autoHeightClass:"owl-height"};AutoHeight.prototype.update=function(){var start=this._core._current,end=start+this._core.settings.items,lazyLoadEnabled=this._core.settings.lazyLoad,visible=this._core.$stage.children().toArray().slice(start,end),heights=[],maxheight=0;$.each(visible,function(index,item){heights.push($(item).height())});maxheight=Math.max.apply(null,heights);if(maxheight<=1&&lazyLoadEnabled&&this._previousHeight)maxheight=this._previousHeight;
this._previousHeight=maxheight;this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)};AutoHeight.prototype.destroy=function(){var handler,property;for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!=="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.AutoHeight=AutoHeight})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Video=function(carousel){this._core=carousel;this._videos={};this._playing=null;this._handlers={"initialized.owl.carousel":$.proxy(function(e){if(e.namespace)this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.video&&this.isInFullScreen())e.preventDefault()},this),"refreshed.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.is("resizing"))this._core.$stage.find(".cloned .owl-video-frame").remove()},
this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name==="position"&&this._playing)this.stop()},this),"prepared.owl.carousel":$.proxy(function(e){if(!e.namespace)return;var $element=$(e.content).find(".owl-video");if($element.length){$element.css("display","none");this.fetch($element,$(e.content))}},this)};this._core.options=$.extend({},Video.Defaults,this._core.options);this._core.$element.on(this._handlers);this._core.$element.on("click.owl.video",".owl-video-play-icon",
$.proxy(function(e){this.play(e)},this))};Video.Defaults={video:false,videoHeight:false,videoWidth:false};Video.prototype.fetch=function(target,item){var type=function(){if(target.attr("data-vimeo-id"))return"vimeo";else if(target.attr("data-vzaar-id"))return"vzaar";else return"youtube"}(),id=target.attr("data-vimeo-id")||target.attr("data-youtube-id")||target.attr("data-vzaar-id"),width=target.attr("data-width")||this._core.settings.videoWidth,height=target.attr("data-height")||this._core.settings.videoHeight,
url=target.attr("href");if(url){id=url.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/);if(id[3].indexOf("youtu")>-1)type="youtube";else if(id[3].indexOf("vimeo")>-1)type="vimeo";else if(id[3].indexOf("vzaar")>-1)type="vzaar";else throw new Error("Video URL not supported.");id=id[6]}else throw new Error("Missing video URL.");
this._videos[url]={type:type,id:id,width:width,height:height};item.attr("data-video",url);this.thumbnail(target,this._videos[url])};Video.prototype.thumbnail=function(target,video){var tnLink,icon,path,dimensions=video.width&&video.height?"width:"+video.width+"px;height:"+video.height+"px;":"",customTn=target.find("img"),srcType="src",lazyClass="",settings=this._core.settings,create=function(path){icon='\x3cdiv class\x3d"owl-video-play-icon"\x3e\x3c/div\x3e';if(settings.lazyLoad)tnLink=$("\x3cdiv/\x3e",
{"class":"owl-video-tn "+lazyClass,"srcType":path});else tnLink=$("\x3cdiv/\x3e",{"class":"owl-video-tn","style":"opacity:1;background-image:url("+path+")"});target.after(tnLink);target.after(icon)};target.wrap($("\x3cdiv/\x3e",{"class":"owl-video-wrapper","style":dimensions}));if(this._core.settings.lazyLoad){srcType="data-src";lazyClass="owl-lazy"}if(customTn.length){create(customTn.attr(srcType));customTn.remove();return false}if(video.type==="youtube"){path="//img.youtube.com/vi/"+video.id+"/hqdefault.jpg";
create(path)}else if(video.type==="vimeo")$.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data[0].thumbnail_large;create(path)}});else if(video.type==="vzaar")$.ajax({type:"GET",url:"//vzaar.com/api/videos/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data.framegrab_url;create(path)}})};Video.prototype.stop=function(){this._core.trigger("stop",null,"video");this._playing.find(".owl-video-frame").remove();
this._playing.removeClass("owl-video-playing");this._playing=null;this._core.leave("playing");this._core.trigger("stopped",null,"video")};Video.prototype.play=function(event){var target=$(event.target),item=target.closest("."+this._core.settings.itemClass),video=this._videos[item.attr("data-video")],width=video.width||"100%",height=video.height||this._core.$stage.height(),html,iframe;if(this._playing)return;this._core.enter("playing");this._core.trigger("play",null,"video");item=this._core.items(this._core.relative(item.index()));
this._core.reset(item.index());html=$('\x3ciframe frameborder\x3d"0" allowfullscreen mozallowfullscreen webkitAllowFullScreen \x3e\x3c/iframe\x3e');html.attr("height",height);html.attr("width",width);if(video.type==="youtube")html.attr("src","//www.youtube.com/embed/"+video.id+"?autoplay\x3d1\x26rel\x3d0\x26v\x3d"+video.id);else if(video.type==="vimeo")html.attr("src","//player.vimeo.com/video/"+video.id+"?autoplay\x3d1");else if(video.type==="vzaar")html.attr("src","//view.vzaar.com/"+video.id+"/player?autoplay\x3dtrue");
iframe=$(html).wrap('\x3cdiv class\x3d"owl-video-frame" /\x3e').insertAfter(item.find(".owl-video"));this._playing=item.addClass("owl-video-playing")};Video.prototype.isInFullScreen=function(){var element=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return element&&$(element).parent().hasClass("owl-video-frame")};Video.prototype.destroy=function(){var handler,property;this._core.$element.off("click.owl.video");for(handler in this._handlers)this._core.$element.off(handler,
this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.Video=Video})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Animate=function(scope){this.core=scope;this.core.options=$.extend({},Animate.Defaults,this.core.options);this.swapping=true;this.previous=undefined;this.next=undefined;this.handlers={"change.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name=="position"){this.previous=this.core.current();this.next=e.property.value}},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":$.proxy(function(e){if(e.namespace)this.swapping=e.type==
"translated"},this),"translate.owl.carousel":$.proxy(function(e){if(e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn))this.swap()},this)};this.core.$element.on(this.handlers)};Animate.Defaults={animateOut:false,animateIn:false};Animate.prototype.swap=function(){if(this.core.settings.items!==1)return;if(!$.support.animation||!$.support.transition)return;this.core.speed(0);var left,clear=$.proxy(this.clear,this),previous=this.core.$stage.children().eq(this.previous),
next=this.core.$stage.children().eq(this.next),incoming=this.core.settings.animateIn,outgoing=this.core.settings.animateOut;if(this.core.current()===this.previous)return;if(outgoing){left=this.core.coordinates(this.previous)-this.core.coordinates(this.next);previous.one($.support.animation.end,clear).css({"left":left+"px"}).addClass("animated owl-animated-out").addClass(outgoing)}if(incoming)next.one($.support.animation.end,clear).addClass("animated owl-animated-in").addClass(incoming)};Animate.prototype.clear=
function(e){$(e.target).css({"left":""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut);this.core.onTransitionEnd()};Animate.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this.core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.Animate=
Animate})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Autoplay=function(carousel){this._core=carousel;this._call=null;this._time=0;this._timeout=0;this._paused=true;this._handlers={"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name==="settings")if(this._core.settings.autoplay)this.play();else this.stop();else if(e.namespace&&e.property.name==="position"&&this._paused)this._time=0},this),"initialized.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.autoplay)this.play()},
this),"play.owl.autoplay":$.proxy(function(e,t,s){if(e.namespace)this.play(t,s)},this),"stop.owl.autoplay":$.proxy(function(e){if(e.namespace)this.stop()},this),"mouseover.owl.autoplay":$.proxy(function(){if(this._core.settings.autoplayHoverPause&&this._core.is("rotating"))this.pause()},this),"mouseleave.owl.autoplay":$.proxy(function(){if(this._core.settings.autoplayHoverPause&&this._core.is("rotating"))this.play()},this),"touchstart.owl.core":$.proxy(function(){if(this._core.settings.autoplayHoverPause&&
this._core.is("rotating"))this.pause()},this),"touchend.owl.core":$.proxy(function(){if(this._core.settings.autoplayHoverPause)this.play()},this)};this._core.$element.on(this._handlers);this._core.options=$.extend({},Autoplay.Defaults,this._core.options)};Autoplay.Defaults={autoplay:false,autoplayTimeout:5E3,autoplayHoverPause:false,autoplaySpeed:false};Autoplay.prototype._next=function(speed){this._call=window.setTimeout($.proxy(this._next,this,speed),this._timeout*(Math.round(this.read()/this._timeout)+
1)-this.read());if(this._core.is("interacting")||document.hidden)return;this._core.next(speed||this._core.settings.autoplaySpeed)};Autoplay.prototype.read=function(){return(new Date).getTime()-this._time};Autoplay.prototype.play=function(timeout,speed){var elapsed;if(!this._core.is("rotating"))this._core.enter("rotating");timeout=timeout||this._core.settings.autoplayTimeout;elapsed=Math.min(this._time%(this._timeout||timeout),timeout);if(this._paused){this._time=this.read();this._paused=false}else window.clearTimeout(this._call);
this._time+=this.read()%timeout-elapsed;this._timeout=timeout;this._call=window.setTimeout($.proxy(this._next,this,speed),timeout-elapsed)};Autoplay.prototype.stop=function(){if(this._core.is("rotating")){this._time=0;this._paused=true;window.clearTimeout(this._call);this._core.leave("rotating")}};Autoplay.prototype.pause=function(){if(this._core.is("rotating")&&!this._paused){this._time=this.read();this._paused=true;window.clearTimeout(this._call)}};Autoplay.prototype.destroy=function(){var handler,
property;this.stop();for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Navigation=function(carousel){this._core=carousel;this._initialized=false;this._pages=[];this._controls={};this._templates=[];this.$element=this._core.$element;this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to};this._handlers={"prepared.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.dotsData)this._templates.push('\x3cdiv class\x3d"'+this._core.settings.dotClass+'"\x3e'+$(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+
"\x3c/div\x3e")},this),"added.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.dotsData)this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.dotsData)this._templates.splice(e.position,1)},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name=="position")this.draw()},this),"initialized.owl.carousel":$.proxy(function(e){if(e.namespace&&!this._initialized){this._core.trigger("initialize",
null,"navigation");this.initialize();this.update();this.draw();this._initialized=true;this._core.trigger("initialized",null,"navigation")}},this),"refreshed.owl.carousel":$.proxy(function(e){if(e.namespace&&this._initialized){this._core.trigger("refresh",null,"navigation");this.update();this.draw();this._core.trigger("refreshed",null,"navigation")}},this)};this._core.options=$.extend({},Navigation.Defaults,this._core.options);this.$element.on(this._handlers)};Navigation.Defaults={nav:false,navText:['\x3cspan aria-label\x3d"'+
"Previous"+'"\x3e\x26#x2039;\x3c/span\x3e','\x3cspan aria-label\x3d"'+"Next"+'"\x3e\x26#x203a;\x3c/span\x3e'],navSpeed:false,navElement:'button type\x3d"button" role\x3d"presentation"',navContainer:false,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:true,dotsEach:false,dotsData:false,dotsSpeed:false,dotsContainer:false};Navigation.prototype.initialize=function(){var override,settings=this._core.settings;this._controls.$relative=
(settings.navContainer?$(settings.navContainer):$("\x3cdiv\x3e").addClass(settings.navContainerClass).appendTo(this.$element)).addClass("disabled");this._controls.$previous=$("\x3c"+settings.navElement+"\x3e").addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on("click",$.proxy(function(e){this.prev(settings.navSpeed)},this));this._controls.$next=$("\x3c"+settings.navElement+"\x3e").addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on("click",
$.proxy(function(e){this.next(settings.navSpeed)},this));if(!settings.dotsData)this._templates=[$('\x3cbutton role\x3d"button"\x3e').addClass(settings.dotClass).append($("\x3cspan\x3e")).prop("outerHTML")];this._controls.$absolute=(settings.dotsContainer?$(settings.dotsContainer):$("\x3cdiv\x3e").addClass(settings.dotsClass).appendTo(this.$element)).addClass("disabled");this._controls.$absolute.on("click","button",$.proxy(function(e){var index=$(e.target).parent().is(this._controls.$absolute)?$(e.target).index():
$(e.target).parent().index();e.preventDefault();this.to(index,settings.dotsSpeed)},this));for(override in this._overrides)this._core[override]=$.proxy(this[override],this)};Navigation.prototype.destroy=function(){var handler,control,property,override,settings;settings=this._core.settings;for(handler in this._handlers)this.$element.off(handler,this._handlers[handler]);for(control in this._controls)if(control==="$relative"&&settings.navContainer)this._controls[control].html("");else this._controls[control].remove();
for(override in this.overides)this._core[override]=this._overrides[override];for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)};Navigation.prototype.update=function(){var i,j,k,lower=this._core.clones().length/2,upper=lower+this._core.items().length,maximum=this._core.maximum(true),settings=this._core.settings,size=settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items;if(settings.slideBy!=="page")settings.slideBy=
Math.min(settings.slideBy,settings.items);if(settings.dots||settings.slideBy=="page"){this._pages=[];for(i=lower,j=0,k=0;i<upper;i++){if(j>=size||j===0){this._pages.push({start:Math.min(maximum,i-lower),end:i-lower+size-1});if(Math.min(maximum,i-lower)===maximum)break;j=0,++k}j+=this._core.mergers(this._core.relative(i))}}};Navigation.prototype.draw=function(){var difference,settings=this._core.settings,disabled=this._core.items().length<=settings.items,index=this._core.relative(this._core.current()),
loop=settings.loop||settings.rewind;this._controls.$relative.toggleClass("disabled",!settings.nav||disabled);if(settings.nav){this._controls.$previous.toggleClass("disabled",!loop&&index<=this._core.minimum(true));this._controls.$next.toggleClass("disabled",!loop&&index>=this._core.maximum(true))}this._controls.$absolute.toggleClass("disabled",!settings.dots||disabled);if(settings.dots){difference=this._pages.length-this._controls.$absolute.children().length;if(settings.dotsData&&difference!==0)this._controls.$absolute.html(this._templates.join(""));
else if(difference>0)this._controls.$absolute.append((new Array(difference+1)).join(this._templates[0]));else if(difference<0)this._controls.$absolute.children().slice(difference).remove();this._controls.$absolute.find(".active").removeClass("active");this._controls.$absolute.children().eq($.inArray(this.current(),this._pages)).addClass("active")}};Navigation.prototype.onTrigger=function(event){var settings=this._core.settings;event.page={index:$.inArray(this.current(),this._pages),count:this._pages.length,
size:settings&&(settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items)}};Navigation.prototype.current=function(){var current=this._core.relative(this._core.current());return $.grep(this._pages,$.proxy(function(page,index){return page.start<=current&&page.end>=current},this)).pop()};Navigation.prototype.getPosition=function(successor){var position,length,settings=this._core.settings;if(settings.slideBy=="page"){position=$.inArray(this.current(),this._pages);length=
this._pages.length;successor?++position:--position;position=this._pages[(position%length+length)%length].start}else{position=this._core.relative(this._core.current());length=this._core.items().length;successor?position+=settings.slideBy:position-=settings.slideBy}return position};Navigation.prototype.next=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(true),speed)};Navigation.prototype.prev=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(false),speed)};
Navigation.prototype.to=function(position,speed,standard){var length;if(!standard&&this._pages.length){length=this._pages.length;$.proxy(this._overrides.to,this._core)(this._pages[(position%length+length)%length].start,speed)}else $.proxy(this._overrides.to,this._core)(position,speed)};$.fn.owlCarousel.Constructor.Plugins.Navigation=Navigation})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var Hash=function(carousel){this._core=carousel;this._hashes={};this.$element=this._core.$element;this._handlers={"initialized.owl.carousel":$.proxy(function(e){if(e.namespace&&this._core.settings.startPosition==="URLHash")$(window).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var hash=$(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!hash)return;this._hashes[hash]=e.content}},
this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name==="position"){var current=this._core.items(this._core.relative(this._core.current())),hash=$.map(this._hashes,function(item,hash){return item===current?hash:null}).join();if(!hash||window.location.hash.slice(1)===hash)return;window.location.hash=hash}},this)};this._core.options=$.extend({},Hash.Defaults,this._core.options);this.$element.on(this._handlers);$(window).on("hashchange.owl.navigation",$.proxy(function(e){var hash=
window.location.hash.substring(1),items=this._core.$stage.children(),position=this._hashes[hash]&&items.index(this._hashes[hash]);if(position===undefined||position===this._core.current())return;this._core.to(this._core.relative(position),false,true)},this))};Hash.Defaults={URLhashListener:false};Hash.prototype.destroy=function(){var handler,property;$(window).off("hashchange.owl.navigation");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!=
"function"&&(this[property]=null)};$.fn.owlCarousel.Constructor.Plugins.Hash=Hash})(window.Zepto||window.jQuery,window,document);
(function($,window,document,undefined){var style=$("\x3csupport\x3e").get(0).style,prefixes="Webkit Moz O ms".split(" "),events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},tests={csstransforms:function(){return!!test("transform")},csstransforms3d:function(){return!!test("perspective")},
csstransitions:function(){return!!test("transition")},cssanimations:function(){return!!test("animation")}};function test(property,prefixed){var result=false,upper=property.charAt(0).toUpperCase()+property.slice(1);$.each((property+" "+prefixes.join(upper+" ")+upper).split(" "),function(i,property){if(style[property]!==undefined){result=prefixed?property:true;return false}});return result}function prefixed(property){return test(property,true)}if(tests.csstransitions()){$.support.transition=new String(prefixed("transition"));
$.support.transition.end=events.transition.end[$.support.transition]}if(tests.cssanimations()){$.support.animation=new String(prefixed("animation"));$.support.animation.end=events.animation.end[$.support.animation]}if(tests.csstransforms()){$.support.transform=new String(prefixed("transform"));$.support.transform3d=tests.csstransforms3d()}})(window.Zepto||window.jQuery,window,document);
(function($){var Owl2A11y=function(carousel){this._core=carousel;this._initialized=false;this._core._options=$.extend(Owl2A11y.defaults,this._core.options);this.$element=this._core.$element;var setCurrent=$.proxy(function(e){this.setCurrent(e)},this);this._handlers={"initialized.owl.carousel":$.proxy(function(e){this.setupRoot();if(e.namespace&&!this._initialized){this.setupFocus();this.setupKeyboard()}this.setCurrent(e)},this),"changed.owl.carousel":setCurrent,"translated.owl.carousel":setCurrent,
"refreshed.owl.carousel":setCurrent,"resized.owl.carousel":setCurrent};this.$element.on(this._handlers)};Owl2A11y.defaults={};Owl2A11y.prototype.getDocumentKeyUp=function(){var self=this;return function(e){var eventTarg=$(e.target),targ=self.focused(eventTarg),action=null;if(!!targ){if(e.keyCode===37||e.keyCode===38)action="prev.owl.carousel";else if(e.keyCode===39||e.keyCode===40)action="next.owl.carousel";else if(e.keyCode===13)if(eventTarg.hasClass("owl-prev"))action="prev.owl.carousel";else if(eventTarg.hasClass("owl-next"))action=
"next.owl.carousel";else if(eventTarg.hasClass("owl-dot"))action="click";if(!!action)targ.trigger(action)}}};Owl2A11y.prototype.setupRoot=function(){this.$element.attr({})};Owl2A11y.prototype.setupKeyboard=function(){if(!this.$element.attr("data-owl-access-keyup")){this.documentKeyUp=this.getDocumentKeyUp();this.$element.on("keyup.owl.a11y",this.documentKeyUp).attr("data-owl-access-keyup","1")}this.$element.attr("data-owl-carousel-focusable","1")};Owl2A11y.prototype.setupFocus=function(){var that=
this;this.$element.on("focusin.owl.a11y",function(){var $this=$(this).attr({"data-owl-carousel-focused":"1","aria-live":"polite"});if(that._core.settings.autoplay===true)$this.trigger("stop.owl.autoplay")}).on("focusout.owl.a11y",function(){var $this=$(this).attr({"data-owl-carousel-focused":"0","aria-live":"off"});if(that._core.settings.autoplay===true)$this.trigger("play.owl.autoplay")});if(!!this._core._plugins.navigation){var navPlugin=this._core._plugins.navigation,toFocus=[];if(!!navPlugin._controls.$previous)toFocus.push(navPlugin._controls.$previous);
if(!!navPlugin._controls.$next)toFocus.push(navPlugin._controls.$next);if(!!navPlugin._controls.$indicators)toFocus.push(navPlugin._controls.$indicators.children());$.each(toFocus,function(){this.attr("tabindex","0")})}};Owl2A11y.prototype.destroy=function(){this.$element.off("keyup.owl.a11y",this.documentKeyUp).removeAttr("data-owl-access-keyup data-owl-carousel-focusable role tabindex").off("focusin.owl.a11y focusout.owl.a11y")};Owl2A11y.prototype.focusableElems=function(elem){return $(elem).find("a, input, select, button, *[tabindex]")};
Owl2A11y.prototype.adjustFocus=function(elems,enable){elems.each(function(){var item=$(this);var newTabIndex="0";var currentTabIndex=item.attr("tabindex");var storedTabIndex=item.attr("data-owl-temp-tabindex");if(enable){newTabIndex=typeof storedTabIndex!=="undefined"&&storedTabIndex!=="-1"?item.attr("data-owl-temp-tabindex"):"0";storedTabIndex=newTabIndex}else{newTabIndex="-1";storedTabIndex=typeof currentTabIndex!=="undefined"||currentTabIndex!=="-1"?currentTabIndex:"0"}item.attr({"data-owl-temp-tabindex":storedTabIndex})})};
Owl2A11y.prototype.focused=function(targ){targ=$(targ);if(targ.attr("data-owl-carousel-focused")==="1")return targ;var closest=targ.closest('[data-owl-carousel-focused\x3d"1"]');if(closest.length>0)return closest;return null};Owl2A11y.prototype.setCurrent=function(){var targ=this.focused($(":focus")),element=this._core.$element,stage=this._core.$stage,focusableElems=this.focusableElems,adjustFocus=this.adjustFocus;if(!!stage){this._core.$stage.children().each(function(){var item=$(this);var focusable=
focusableElems(this);if(item.hasClass("active")){item.attr("aria-hidden","false");adjustFocus(focusable,true)}else{item.attr("aria-hidden","true");adjustFocus(focusable,false)}});if(!!targ)setTimeout(function(){var focus=$(":focus");if(focus.closest(element).length===0)return;var newFocus=element;var item=focus.closest(stage.children('[aria-hidden\x3d"false"]'));if(item.length!==0||focus.closest(".owl-nav,.owl-dot").length!==0)newFocus=focus;newFocus.focus()},250)}};$.fn.owlCarousel.Constructor.Plugins.Owl2A11y=
Owl2A11y})(window.Zepto||window.jQuery,window,document);
(function(window,factory){if(typeof define=="function"&&define.amd)define("jquery-bridget/jquery-bridget",["jquery"],function(jQuery){factory(window,jQuery)});else if(typeof module=="object"&&module.exports)module.exports=factory(window,require("jquery"));else window.jQueryBridget=factory(window,window.jQuery)})(window,function factory(window,jQuery){var arraySlice=Array.prototype.slice;var console=window.console;var logError=typeof console=="undefined"?function(){}:function(message){console.error(message)};
function jQueryBridget(namespace,PluginClass,$){$=$||jQuery||window.jQuery;if(!$)return;if(!PluginClass.prototype.option)PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts))return;this.options=$.extend(true,this.options,opts)};$.fn[namespace]=function(arg0){if(typeof arg0=="string"){var args=arraySlice.call(arguments,1);return methodCall(this,arg0,args)}plainCall(this,arg0);return this};function methodCall($elems,methodName,args){var returnValue;var pluginMethodStr="$()."+namespace+
'("'+methodName+'")';$elems.each(function(i,elem){var instance=$.data(elem,namespace);if(!instance){logError(namespace+" not initialized. Cannot call methods, i.e. "+pluginMethodStr);return}var method=instance[methodName];if(!method||methodName.charAt(0)=="_"){logError(pluginMethodStr+" is not a valid method");return}var value=method.apply(instance,args);returnValue=returnValue===undefined?value:returnValue});return returnValue!==undefined?returnValue:$elems}function plainCall($elems,options){$elems.each(function(i,
elem){var instance=$.data(elem,namespace);if(instance){instance.option(options);instance._init()}else{instance=new PluginClass(elem,options);$.data(elem,namespace,instance)}})}updateJQuery($)}function updateJQuery($){if(!$||$&&$.bridget)return;$.bridget=jQueryBridget}updateJQuery(jQuery||window.jQuery);return jQueryBridget});
(function(window,factory){if(typeof define=="function"&&define.amd)define("get-size/get-size",[],function(){return factory()});else if(typeof module=="object"&&module.exports)module.exports=factory();else window.getSize=factory()})(window,function factory(){function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf("%")==-1&&!isNaN(num);return isValid&&num}function noop(){}var logError=typeof console=="undefined"?noop:function(message){console.error(message)};var measurements=
["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var measurementsLength=measurements.length;function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0}return size}function getStyle(elem){var style=getComputedStyle(elem);if(!style)logError("Style returned "+
style+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1");return style}var isSetup=false;var isBoxSizeOuter;function setup(){if(isSetup)return;isSetup=true;var div=document.createElement("div");div.style.width="200px";div.style.padding="1px 2px 3px 4px";div.style.borderStyle="solid";div.style.borderWidth="1px 2px 3px 4px";div.style.boxSizing="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);getSize.isBoxSizeOuter=
isBoxSizeOuter=getStyleSize(style.width)==200;body.removeChild(div)}function getSize(elem){setup();if(typeof elem=="string")elem=document.querySelector(elem);if(!elem||typeof elem!="object"||!elem.nodeType)return;var style=getStyle(elem);if(style.display=="none")return getZeroSize();var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=="border-box";for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];var value=style[measurement];
var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0}var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false)size.width=
styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth);var styleHeight=getStyleSize(style.height);if(styleHeight!==false)size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight);size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size}return getSize});
(function(global,factory){if(typeof define=="function"&&define.amd)define("ev-emitter/ev-emitter",factory);else if(typeof module=="object"&&module.exports)module.exports=factory();else global.EvEmitter=factory()})(this,function(){function EvEmitter(){}var proto=EvEmitter.prototype;proto.on=function(eventName,listener){if(!eventName||!listener)return;var events=this._events=this._events||{};var listeners=events[eventName]=events[eventName]||[];if(listeners.indexOf(listener)==-1)listeners.push(listener);
return this};proto.once=function(eventName,listener){if(!eventName||!listener)return;this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{};var onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};onceListeners[listener]=true;return this};proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length)return;var index=listeners.indexOf(listener);if(index!=-1)listeners.splice(index,1);return this};proto.emitEvent=
function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length)return;var i=0;var listener=listeners[i];args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];while(listener){var isOnce=onceListeners&&onceListeners[listener];if(isOnce){this.off(eventName,listener);delete onceListeners[listener]}listener.apply(this,args);i+=isOnce?0:1;listener=listeners[i]}return this};return EvEmitter});
(function(window,factory){if(typeof define=="function"&&define.amd)define("desandro-matches-selector/matches-selector",factory);else if(typeof module=="object"&&module.exports)module.exports=factory();else window.matchesSelector=factory()})(window,function factory(){var matchesMethod=function(){var ElemProto=Element.prototype;if(ElemProto.matches)return"matches";if(ElemProto.matchesSelector)return"matchesSelector";var prefixes=["webkit","moz","ms","o"];for(var i=0;i<prefixes.length;i++){var prefix=
prefixes[i];var method=prefix+"MatchesSelector";if(ElemProto[method])return method}}();return function matchesSelector(elem,selector){return elem[matchesMethod](selector)}});
(function(window,factory){if(typeof define=="function"&&define.amd)define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(matchesSelector){return factory(window,matchesSelector)});else if(typeof module=="object"&&module.exports)module.exports=factory(window,require("desandro-matches-selector"));else window.fizzyUIUtils=factory(window,window.matchesSelector)})(window,function factory(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b)a[prop]=
b[prop];return a};utils.modulo=function(num,div){return(num%div+div)%div};utils.makeArray=function(obj){var ary=[];if(Array.isArray(obj))ary=obj;else if(obj&&typeof obj.length=="number")for(var i=0;i<obj.length;i++)ary.push(obj[i]);else ary.push(obj);return ary};utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);if(index!=-1)ary.splice(index,1)};utils.getParent=function(elem,selector){while(elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector))return elem}};utils.getQueryElement=
function(elem){if(typeof elem=="string")return document.querySelector(elem);return elem};utils.handleEvent=function(event){var method="on"+event.type;if(this[method])this[method](event)};utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];elems.forEach(function(elem){if(!(elem instanceof HTMLElement))return;if(!selector){ffElems.push(elem);return}if(matchesSelector(elem,selector))ffElems.push(elem);var childElems=elem.querySelectorAll(selector);for(var i=
0;i<childElems.length;i++)ffElems.push(childElems[i])});return ffElems};utils.debounceMethod=function(_class,methodName,threshold){var method=_class.prototype[methodName];var timeoutName=methodName+"Timeout";_class.prototype[methodName]=function(){var timeout=this[timeoutName];if(timeout)clearTimeout(timeout);var args=arguments;var _this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args);delete _this[timeoutName]},threshold||100)}};utils.docReady=function(callback){if(document.readyState==
"complete")callback();else document.addEventListener("DOMContentLoaded",callback)};utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()};var console=window.console;utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace);var dataAttr="data-"+dashedNamespace;var dataAttrElems=document.querySelectorAll("["+dataAttr+"]");var jsDashElems=document.querySelectorAll(".js-"+dashedNamespace);
var elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));var dataOptionsAttr=dataAttr+"-options";var jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr);var options;try{options=attr&&JSON.parse(attr)}catch(error){if(console)console.error("Error parsing "+dataAttr+" on "+elem.className+": "+error);return}var instance=new WidgetClass(elem,options);if(jQuery)jQuery.data(elem,namespace,instance)})})};return utils});
(function(window,factory){if(typeof define=="function"&&define.amd)define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("ev-emitter"),require("get-size"));else{window.Outlayer={};window.Outlayer.Item=factory(window.EvEmitter,window.getSize)}})(window,function factory(EvEmitter,getSize){function isEmptyObj(obj){for(var prop in obj)return false;prop=null;return true}var docElemStyle=document.documentElement.style;
var transitionProperty=typeof docElemStyle.transition=="string"?"transition":"WebkitTransition";var transformProperty=typeof docElemStyle.transform=="string"?"transform":"WebkitTransform";var transitionEndEvent={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[transitionProperty];var vendorProperties={transform:transformProperty,transition:transitionProperty,transitionDuration:transitionProperty+"Duration",transitionProperty:transitionProperty+"Property",transitionDelay:transitionProperty+
"Delay"};function Item(element,layout){if(!element)return;this.element=element;this.layout=layout;this.position={x:0,y:0};this._create()}var proto=Item.prototype=Object.create(EvEmitter.prototype);proto.constructor=Item;proto._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};proto.handleEvent=function(event){var method="on"+event.type;if(this[method])this[method](event)};proto.getSize=function(){this.size=getSize(this.element)};proto.css=function(style){var elemStyle=
this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}};proto.getPosition=function(){var style=getComputedStyle(this.element);var isOriginLeft=this.layout._getOption("originLeft");var isOriginTop=this.layout._getOption("originTop");var xValue=style[isOriginLeft?"left":"right"];var yValue=style[isOriginTop?"top":"bottom"];var layoutSize=this.layout.size;var x=xValue.indexOf("%")!=-1?parseFloat(xValue)/100*layoutSize.width:parseInt(xValue,
10);var y=yValue.indexOf("%")!=-1?parseFloat(yValue)/100*layoutSize.height:parseInt(yValue,10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y};proto.layoutPosition=function(){var layoutSize=this.layout.size;var style={};var isOriginLeft=this.layout._getOption("originLeft");var isOriginTop=this.layout._getOption("originTop");var xPadding=isOriginLeft?"paddingLeft":
"paddingRight";var xProperty=isOriginLeft?"left":"right";var xResetProperty=isOriginLeft?"right":"left";var x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x);style[xResetProperty]="";var yPadding=isOriginTop?"paddingTop":"paddingBottom";var yProperty=isOriginTop?"top":"bottom";var yResetProperty=isOriginTop?"bottom":"top";var y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y);style[yResetProperty]="";this.css(style);this.emitEvent("layout",[this])};proto.getXValue=
function(x){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!isHorizontal?x/this.layout.size.width*100+"%":x+"px"};proto.getYValue=function(y){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&isHorizontal?y/this.layout.size.height*100+"%":y+"px"};proto._transitionTo=function(x,y){this.getPosition();var curX=this.position.x;var curY=this.position.y;var compareX=parseInt(x,10);var compareY=parseInt(y,
10);var didNotMove=compareX===this.position.x&&compareY===this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return}var transX=x-curX;var transY=y-curY;var transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};proto.getTranslate=function(x,y){var isOriginLeft=this.layout._getOption("originLeft");var isOriginTop=this.layout._getOption("originTop");
x=isOriginLeft?x:-x;y=isOriginTop?y:-y;return"translate3d("+x+"px, "+y+"px, 0)"};proto.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition()};proto.moveTo=proto._transitionTo;proto.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10)};proto._nonTransition=function(args){this.css(args.to);if(args.isCleaning)this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)};proto.transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);
return}var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to){_transition.ingProperties[prop]=true;if(args.isCleaning)_transition.clean[prop]=true}if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}this.enableTransition(args.to);this.css(args.to);this.isTransitioning=true};function toDashedAll(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}var transitionProps="opacity,"+
toDashedAll(transformProperty);proto.enableTransition=function(){if(this.isTransitioning)return;var duration=this.layout.options.transitionDuration;duration=typeof duration=="number"?duration+"ms":duration;this.css({transitionProperty:transitionProps,transitionDuration:duration,transitionDelay:this.staggerDelay||0});this.element.addEventListener(transitionEndEvent,this,false)};proto.onwebkitTransitionEnd=function(event){this.ontransitionend(event)};proto.onotransitionend=function(event){this.ontransitionend(event)};
var dashedVendorProperties={"-webkit-transform":"transform"};proto.ontransitionend=function(event){if(event.target!==this.element)return;var _transition=this._transn;var propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName];if(isEmptyObj(_transition.ingProperties))this.disableTransition();if(propertyName in _transition.clean){this.element.style[event.propertyName]="";delete _transition.clean[propertyName]}if(propertyName in _transition.onEnd){var onTransitionEnd=
_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])};proto.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,false);this.isTransitioning=false};proto._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:"",transitionDelay:""};
proto.removeTransitionStyles=function(){this.css(cleanTransitionStyle)};proto.stagger=function(delay){delay=isNaN(delay)?0:delay;this.staggerDelay=delay+"ms"};proto.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};proto.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()};proto.reveal=
function(){delete this.isHidden;this.css({display:""});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty("visibleStyle");onTransitionEnd[transitionEndProperty]=this.onRevealTransitionEnd;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:true,onTransitionEnd:onTransitionEnd})};proto.onRevealTransitionEnd=function(){if(!this.isHidden)this.emitEvent("reveal")};proto.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=
this.layout.options[styleProperty];if(optionStyle.opacity)return"opacity";for(var prop in optionStyle)return prop};proto.hide=function(){this.isHidden=true;this.css({display:""});var options=this.layout.options;var onTransitionEnd={};var transitionEndProperty=this.getHideRevealTransitionEndProperty("hiddenStyle");onTransitionEnd[transitionEndProperty]=this.onHideTransitionEnd;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:true,onTransitionEnd:onTransitionEnd})};proto.onHideTransitionEnd=
function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};proto.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return Item});
(function(window,factory){if(typeof define=="function"&&define.amd)define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(EvEmitter,getSize,utils,Item){return factory(window,EvEmitter,getSize,utils,Item)});else if(typeof module=="object"&&module.exports)module.exports=factory(window,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"));else window.Outlayer=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,
window.Outlayer.Item)})(window,function factory(window,EvEmitter,getSize,utils,Item){var console=window.console;var jQuery=window.jQuery;var noop=function(){};var GUID=0;var instances={};function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){if(console)console.error("Bad element for "+this.constructor.namespace+": "+(queryElement||element));return}this.element=queryElement;if(jQuery)this.$element=jQuery(this.element);this.options=utils.extend({},this.constructor.defaults);
this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();var isInitLayout=this._getOption("initLayout");if(isInitLayout)this.layout()}Outlayer.namespace="outlayer";Outlayer.Item=Item;Outlayer.defaults={containerStyle:{position:"relative"},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var proto=Outlayer.prototype;
utils.extend(proto,EvEmitter.prototype);proto.option=function(opts){utils.extend(this.options,opts)};proto._getOption=function(option){var oldOption=this.constructor.compatOptions[option];return oldOption&&this.options[oldOption]!==undefined?this.options[oldOption]:this.options[option]};Outlayer.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"};
proto._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);utils.extend(this.element.style,this.options.containerStyle);var canBindResize=this._getOption("resize");if(canBindResize)this.bindResize()};proto.reloadItems=function(){this.items=this._itemize(this.element.children)};proto._itemize=function(elems){var itemElems=this._filterFindItemElements(elems);var Item=this.constructor.Item;var items=[];for(var i=0;i<itemElems.length;i++){var elem=itemElems[i];var item=
new Item(elem,this);items.push(item)}return items};proto._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector)};proto.getItemElements=function(){return this.items.map(function(item){return item.element})};proto.layout=function(){this._resetLayout();this._manageStamps();var layoutInstant=this._getOption("layoutInstant");var isInstant=layoutInstant!==undefined?layoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=
true};proto._init=proto.layout;proto._resetLayout=function(){this.getSize()};proto.getSize=function(){this.size=getSize(this.element)};proto._getMeasurement=function(measurement,size){var option=this.options[measurement];var elem;if(!option)this[measurement]=0;else{if(typeof option=="string")elem=this.element.querySelector(option);else if(option instanceof HTMLElement)elem=option;this[measurement]=elem?getSize(elem)[size]:option}};proto.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);
this._layoutItems(items,isInstant);this._postLayout()};proto._getItemsForLayout=function(items){return items.filter(function(item){return!item.isIgnored})};proto._layoutItems=function(items,isInstant){this._emitCompleteOnItems("layout",items);if(!items||!items.length)return;var queue=[];items.forEach(function(item){var position=this._getItemLayoutPosition(item);position.item=item;position.isInstant=isInstant||item.isLayoutInstant;queue.push(position)},this);this._processLayoutQueue(queue)};proto._getItemLayoutPosition=
function(){return{x:0,y:0}};proto._processLayoutQueue=function(queue){this.updateStagger();queue.forEach(function(obj,i){this._positionItem(obj.item,obj.x,obj.y,obj.isInstant,i)},this)};proto.updateStagger=function(){var stagger=this.options.stagger;if(stagger===null||stagger===undefined){this.stagger=0;return}this.stagger=getMilliseconds(stagger);return this.stagger};proto._positionItem=function(item,x,y,isInstant,i){if(isInstant)item.goTo(x,y);else{item.stagger(i*this.stagger);item.moveTo(x,y)}};
proto._postLayout=function(){this.resizeContainer()};proto.resizeContainer=function(){var isResizingContainer=this._getOption("resizeContainer");if(!isResizingContainer)return;var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,true);this._setContainerMeasure(size.height,false)}};proto._getContainerSize=noop;proto._setContainerMeasure=function(measure,isWidth){if(measure===undefined)return;var elemSize=this.size;if(elemSize.isBorderBox)measure+=isWidth?elemSize.paddingLeft+
elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth;measure=Math.max(measure,0);this.element.style[isWidth?"width":"height"]=measure+"px"};proto._emitCompleteOnItems=function(eventName,items){var _this=this;function onComplete(){_this.dispatchEvent(eventName+"Complete",null,[items])}var count=items.length;if(!items||!count){onComplete();return}var doneCount=0;function tick(){doneCount++;
if(doneCount==count)onComplete()}items.forEach(function(item){item.once(eventName,tick)})};proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery){this.$element=this.$element||jQuery(this.element);if(event){var $event=jQuery.Event(event);$event.type=type;this.$element.trigger($event,args)}else this.$element.trigger(type,args)}};proto.ignore=function(elem){var item=this.getItem(elem);if(item)item.isIgnored=true};proto.unignore=
function(elem){var item=this.getItem(elem);if(item)delete item.isIgnored};proto.stamp=function(elems){elems=this._find(elems);if(!elems)return;this.stamps=this.stamps.concat(elems);elems.forEach(this.ignore,this)};proto.unstamp=function(elems){elems=this._find(elems);if(!elems)return;elems.forEach(function(elem){utils.removeFrom(this.stamps,elem);this.unignore(elem)},this)};proto._find=function(elems){if(!elems)return;if(typeof elems=="string")elems=this.element.querySelectorAll(elems);elems=utils.makeArray(elems);
return elems};proto._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)};proto._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+
size.borderBottomWidth)}};proto._manageStamp=noop;proto._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect();var thisRect=this._boundingRect;var size=getSize(elem);var offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset};proto.handleEvent=utils.handleEvent;proto.bindResize=function(){window.addEventListener("resize",
this);this.isResizeBound=true};proto.unbindResize=function(){window.removeEventListener("resize",this);this.isResizeBound=false};proto.onresize=function(){this.resize()};utils.debounceMethod(Outlayer,"onresize",100);proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()};proto.needsResizeLayout=function(){var size=getSize(this.element);var hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth};proto.addItems=function(elems){var items=
this._itemize(elems);if(items.length)this.items=this.items.concat(items);return items};proto.appended=function(elems){var items=this.addItems(elems);if(!items.length)return;this.layoutItems(items,true);this.reveal(items)};proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length)return;var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,true);this.reveal(items);this.layoutItems(previousItems)};
proto.reveal=function(items){this._emitCompleteOnItems("reveal",items);if(!items||!items.length)return;var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.reveal()})};proto.hide=function(items){this._emitCompleteOnItems("hide",items);if(!items||!items.length)return;var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger);item.hide()})};proto.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items)};
proto.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items)};proto.getItem=function(elem){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.element==elem)return item}};proto.getItems=function(elems){elems=utils.makeArray(elems);var items=[];elems.forEach(function(elem){var item=this.getItem(elem);if(item)items.push(item)},this);return items};proto.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems("remove",removeItems);
if(!removeItems||!removeItems.length)return;removeItems.forEach(function(item){item.remove();utils.removeFrom(this.items,item)},this)};proto.destroy=function(){var style=this.element.style;style.height="";style.position="";style.width="";this.items.forEach(function(item){item.destroy()});this.unbindResize();var id=this.element.outlayerGUID;delete instances[id];delete this.element.outlayerGUID;if(jQuery)jQuery.removeData(this.element,this.constructor.namespace)};Outlayer.data=function(elem){elem=utils.getQueryElement(elem);
var id=elem&&elem.outlayerGUID;return id&&instances[id]};Outlayer.create=function(namespace,options){var Layout=subclass(Outlayer);Layout.defaults=utils.extend({},Outlayer.defaults);utils.extend(Layout.defaults,options);Layout.compatOptions=utils.extend({},Outlayer.compatOptions);Layout.namespace=namespace;Layout.data=Outlayer.data;Layout.Item=subclass(Item);utils.htmlInit(Layout,namespace);if(jQuery&&jQuery.bridget)jQuery.bridget(namespace,Layout);return Layout};function subclass(Parent){function SubClass(){Parent.apply(this,
arguments)}SubClass.prototype=Object.create(Parent.prototype);SubClass.prototype.constructor=SubClass;return SubClass}var msUnits={ms:1,s:1E3};function getMilliseconds(time){if(typeof time=="number")return time;var matches=time.match(/(^\d*\.?\d*)(\w*)/);var num=matches&&matches[1];var unit=matches&&matches[2];if(!num.length)return 0;num=parseFloat(num);var mult=msUnits[unit]||1;return num*mult}Outlayer.Item=Item;return Outlayer});
(function(window,factory){if(typeof define=="function"&&define.amd)define("packery/js/rect",factory);else if(typeof module=="object"&&module.exports)module.exports=factory();else{window.Packery=window.Packery||{};window.Packery.Rect=factory()}})(window,function factory(){function Rect(props){for(var prop in Rect.defaults)this[prop]=Rect.defaults[prop];for(prop in props)this[prop]=props[prop]}Rect.defaults={x:0,y:0,width:0,height:0};var proto=Rect.prototype;proto.contains=function(rect){var otherWidth=
rect.width||0;var otherHeight=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+otherWidth&&this.y+this.height>=rect.y+otherHeight};proto.overlaps=function(rect){var thisRight=this.x+this.width;var thisBottom=this.y+this.height;var rectRight=rect.x+rect.width;var rectBottom=rect.y+rect.height;return this.x<rectRight&&thisRight>rect.x&&this.y<rectBottom&&thisBottom>rect.y};proto.getMaximalFreeRects=function(rect){if(!this.overlaps(rect))return false;var freeRects=[];var freeRect;
var thisRight=this.x+this.width;var thisBottom=this.y+this.height;var rectRight=rect.x+rect.width;var rectBottom=rect.y+rect.height;if(this.y<rect.y){freeRect=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y});freeRects.push(freeRect)}if(thisRight>rectRight){freeRect=new Rect({x:rectRight,y:this.y,width:thisRight-rectRight,height:this.height});freeRects.push(freeRect)}if(thisBottom>rectBottom){freeRect=new Rect({x:this.x,y:rectBottom,width:this.width,height:thisBottom-rectBottom});
freeRects.push(freeRect)}if(this.x<rect.x){freeRect=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height});freeRects.push(freeRect)}return freeRects};proto.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height};return Rect});
(function(window,factory){if(typeof define=="function"&&define.amd)define("packery/js/packer",["./rect"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("./rect"));else{var Packery=window.Packery=window.Packery||{};Packery.Packer=factory(Packery.Rect)}})(window,function factory(Rect){function Packer(width,height,sortDirection){this.width=width||0;this.height=height||0;this.sortDirection=sortDirection||"downwardLeftToRight";this.reset()}var proto=Packer.prototype;
proto.reset=function(){this.spaces=[];var initialSpace=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(initialSpace);this.sorter=sorters[this.sortDirection]||sorters.downwardLeftToRight};proto.pack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.canFit(rect)){this.placeInSpace(rect,space);break}}};proto.columnPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];var canFitInSpaceColumn=space.x<=rect.x&&space.x+
space.width>=rect.x+rect.width&&space.height>=rect.height-.01;if(canFitInSpaceColumn){rect.y=space.y;this.placed(rect);break}}};proto.rowPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];var canFitInSpaceRow=space.y<=rect.y&&space.y+space.height>=rect.y+rect.height&&space.width>=rect.width-.01;if(canFitInSpaceRow){rect.x=space.x;this.placed(rect);break}}};proto.placeInSpace=function(rect,space){rect.x=space.x;rect.y=space.y;this.placed(rect)};proto.placed=function(rect){var revisedSpaces=
[];for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];var newSpaces=space.getMaximalFreeRects(rect);if(newSpaces)revisedSpaces.push.apply(revisedSpaces,newSpaces);else revisedSpaces.push(space)}this.spaces=revisedSpaces;this.mergeSortSpaces()};proto.mergeSortSpaces=function(){Packer.mergeRects(this.spaces);this.spaces.sort(this.sorter)};proto.addSpace=function(rect){this.spaces.push(rect);this.mergeSortSpaces()};Packer.mergeRects=function(rects){var i=0;var rect=rects[i];rectLoop:while(rect){var j=
0;var compareRect=rects[i+j];while(compareRect){if(compareRect==rect)j++;else if(compareRect.contains(rect)){rects.splice(i,1);rect=rects[i];continue rectLoop}else if(rect.contains(compareRect))rects.splice(i+j,1);else j++;compareRect=rects[i+j]}i++;rect=rects[i]}return rects};var sorters={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return Packer});
(function(window,factory){if(typeof define=="function"&&define.amd)define("packery/js/item",["outlayer/outlayer","./rect"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("outlayer"),require("./rect"));else window.Packery.Item=factory(window.Outlayer,window.Packery.Rect)})(window,function factory(Outlayer,Rect){var docElemStyle=document.documentElement.style;var transformProperty=typeof docElemStyle.transform=="string"?"transform":"WebkitTransform";var Item=
function PackeryItem(){Outlayer.Item.apply(this,arguments)};var proto=Item.prototype=Object.create(Outlayer.Item.prototype);var __create=proto._create;proto._create=function(){__create.call(this);this.rect=new Rect};var _moveTo=proto.moveTo;proto.moveTo=function(x,y){var dx=Math.abs(this.position.x-x);var dy=Math.abs(this.position.y-y);var canHackGoTo=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&dx<1&&dy<1;if(canHackGoTo){this.goTo(x,y);return}_moveTo.apply(this,arguments)};
proto.enablePlacing=function(){this.removeTransitionStyles();if(this.isTransitioning&&transformProperty)this.element.style[transformProperty]="none";this.isTransitioning=false;this.getSize();this.layout._setRectSize(this.element,this.rect);this.isPlacing=true};proto.disablePlacing=function(){this.isPlacing=false};proto.removeElem=function(){this.element.parentNode.removeChild(this.element);this.layout.packer.addSpace(this.rect);this.emitEvent("remove",[this])};proto.showDropPlaceholder=function(){var dropPlaceholder=
this.dropPlaceholder;if(!dropPlaceholder){dropPlaceholder=this.dropPlaceholder=document.createElement("div");dropPlaceholder.className="packery-drop-placeholder";dropPlaceholder.style.position="absolute"}dropPlaceholder.style.width=this.size.width+"px";dropPlaceholder.style.height=this.size.height+"px";this.positionDropPlaceholder();this.layout.element.appendChild(dropPlaceholder)};proto.positionDropPlaceholder=function(){this.dropPlaceholder.style[transformProperty]="translate("+this.rect.x+"px, "+
this.rect.y+"px)"};proto.hideDropPlaceholder=function(){var parent=this.dropPlaceholder.parentNode;if(parent)parent.removeChild(this.dropPlaceholder)};return Item});
(function(window,factory){if(typeof define=="function"&&define.amd)define(["get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item"));else window.Packery=factory(window.getSize,window.Outlayer,window.Packery.Rect,window.Packery.Packer,window.Packery.Item)})(window,function factory(getSize,
Outlayer,Rect,Packer,Item){Rect.prototype.canFit=function(rect){return this.width>=rect.width-1&&this.height>=rect.height-1};var Packery=Outlayer.create("packery");Packery.Item=Item;var proto=Packery.prototype;proto._create=function(){Outlayer.prototype._create.call(this);this.packer=new Packer;this.shiftPacker=new Packer;this.isEnabled=true;this.dragItemCount=0;var _this=this;this.handleDraggabilly={dragStart:function(){_this.itemDragStart(this.element)},dragMove:function(){_this.itemDragMove(this.element,
this.position.x,this.position.y)},dragEnd:function(){_this.itemDragEnd(this.element)}};this.handleUIDraggable={start:function handleUIDraggableStart(event,ui){if(!ui)return;_this.itemDragStart(event.currentTarget)},drag:function handleUIDraggableDrag(event,ui){if(!ui)return;_this.itemDragMove(event.currentTarget,ui.position.left,ui.position.top)},stop:function handleUIDraggableStop(event,ui){if(!ui)return;_this.itemDragEnd(event.currentTarget)}}};proto._resetLayout=function(){this.getSize();this._getMeasurements();
var width,height,sortDirection;if(this._getOption("horizontal")){width=Infinity;height=this.size.innerHeight+this.gutter;sortDirection="rightwardTopToBottom"}else{width=this.size.innerWidth+this.gutter;height=Infinity;sortDirection="downwardLeftToRight"}this.packer.width=this.shiftPacker.width=width;this.packer.height=this.shiftPacker.height=height;this.packer.sortDirection=this.shiftPacker.sortDirection=sortDirection;this.packer.reset();this.maxY=0;this.maxX=0};proto._getMeasurements=function(){this._getMeasurement("columnWidth",
"width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width")};proto._getItemLayoutPosition=function(item){this._setRectSize(item.element,item.rect);if(this.isShifting||this.dragItemCount>0){var packMethod=this._getPackMethod();this.packer[packMethod](item.rect)}else this.packer.pack(item.rect);this._setMaxXY(item.rect);return item.rect};proto.shiftLayout=function(){this.isShifting=true;this.layout();delete this.isShifting};proto._getPackMethod=function(){return this._getOption("horizontal")?
"rowPack":"columnPack"};proto._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX);this.maxY=Math.max(rect.y+rect.height,this.maxY)};proto._setRectSize=function(elem,rect){var size=getSize(elem);var w=size.outerWidth;var h=size.outerHeight;if(w||h){w=this._applyGridGutter(w,this.columnWidth);h=this._applyGridGutter(h,this.rowHeight)}rect.width=Math.min(w,this.packer.width);rect.height=Math.min(h,this.packer.height)};proto._applyGridGutter=function(measurement,gridSize){if(!gridSize)return measurement+
this.gutter;gridSize+=this.gutter;var remainder=measurement%gridSize;var mathMethod=remainder&&remainder<1?"round":"ceil";measurement=Math[mathMethod](measurement/gridSize)*gridSize;return measurement};proto._getContainerSize=function(){if(this._getOption("horizontal"))return{width:this.maxX-this.gutter};else return{height:this.maxY-this.gutter}};proto._manageStamp=function(elem){var item=this.getItem(elem);var rect;if(item&&item.isPlacing)rect=item.rect;else{var offset=this._getElementOffset(elem);
rect=new Rect({x:this._getOption("originLeft")?offset.left:offset.right,y:this._getOption("originTop")?offset.top:offset.bottom})}this._setRectSize(elem,rect);this.packer.placed(rect);this._setMaxXY(rect)};function verticalSorter(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function horizontalSorter(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}proto.sortItemsByPosition=function(){var sorter=this._getOption("horizontal")?horizontalSorter:verticalSorter;this.items.sort(sorter)};
proto.fit=function(elem,x,y){var item=this.getItem(elem);if(!item)return;this.stamp(item.element);item.enablePlacing();this.updateShiftTargets(item);x=x===undefined?item.rect.x:x;y=y===undefined?item.rect.y:y;this.shift(item,x,y);this._bindFitEvents(item);item.moveTo(item.rect.x,item.rect.y);this.shiftLayout();this.unstamp(item.element);this.sortItemsByPosition();item.disablePlacing()};proto._bindFitEvents=function(item){var _this=this;var ticks=0;function onLayout(){ticks++;if(ticks!=2)return;_this.dispatchEvent("fitComplete",
null,[item])}item.once("layout",onLayout);this.once("layoutComplete",onLayout)};proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;if(this.options.shiftPercentResize)this.resizeShiftPercentLayout();else this.layout()};proto.needsResizeLayout=function(){var size=getSize(this.element);var innerSize=this._getOption("horizontal")?"innerHeight":"innerWidth";return size[innerSize]!=this.size[innerSize]};proto.resizeShiftPercentLayout=function(){var items=this._getItemsForLayout(this.items);
var isHorizontal=this._getOption("horizontal");var coord=isHorizontal?"y":"x";var measure=isHorizontal?"height":"width";var segmentName=isHorizontal?"rowHeight":"columnWidth";var innerSize=isHorizontal?"innerHeight":"innerWidth";var previousSegment=this[segmentName];previousSegment=previousSegment&&previousSegment+this.gutter;if(previousSegment){this._getMeasurements();var currentSegment=this[segmentName]+this.gutter;items.forEach(function(item){var seg=Math.round(item.rect[coord]/previousSegment);
item.rect[coord]=seg*currentSegment})}else{var currentSize=getSize(this.element)[innerSize]+this.gutter;var previousSize=this.packer[measure];items.forEach(function(item){item.rect[coord]=item.rect[coord]/previousSize*currentSize})}this.shiftLayout()};proto.itemDragStart=function(elem){if(!this.isEnabled)return;this.stamp(elem);var item=this.getItem(elem);if(!item)return;item.enablePlacing();item.showDropPlaceholder();this.dragItemCount++;this.updateShiftTargets(item)};proto.updateShiftTargets=function(dropItem){this.shiftPacker.reset();
this._getBoundingRect();var isOriginLeft=this._getOption("originLeft");var isOriginTop=this._getOption("originTop");this.stamps.forEach(function(stamp){var item=this.getItem(stamp);if(item&&item.isPlacing)return;var offset=this._getElementOffset(stamp);var rect=new Rect({x:isOriginLeft?offset.left:offset.right,y:isOriginTop?offset.top:offset.bottom});this._setRectSize(stamp,rect);this.shiftPacker.placed(rect)},this);var isHorizontal=this._getOption("horizontal");var segmentName=isHorizontal?"rowHeight":
"columnWidth";var measure=isHorizontal?"height":"width";this.shiftTargetKeys=[];this.shiftTargets=[];var boundsSize;var segment=this[segmentName];segment=segment&&segment+this.gutter;if(segment){var segmentSpan=Math.ceil(dropItem.rect[measure]/segment);var segs=Math.floor((this.shiftPacker[measure]+this.gutter)/segment);boundsSize=(segs-segmentSpan)*segment;for(var i=0;i<segs;i++){var initialX=isHorizontal?0:i*segment;var initialY=isHorizontal?i*segment:0;this._addShiftTarget(initialX,initialY,boundsSize)}}else{boundsSize=
this.shiftPacker[measure]+this.gutter-dropItem.rect[measure];this._addShiftTarget(0,0,boundsSize)}var items=this._getItemsForLayout(this.items);var packMethod=this._getPackMethod();items.forEach(function(item){var rect=item.rect;this._setRectSize(item.element,rect);this.shiftPacker[packMethod](rect);this._addShiftTarget(rect.x,rect.y,boundsSize);var cornerX=isHorizontal?rect.x+rect.width:rect.x;var cornerY=isHorizontal?rect.y:rect.y+rect.height;this._addShiftTarget(cornerX,cornerY,boundsSize);if(segment){var segSpan=
Math.round(rect[measure]/segment);for(var i=1;i<segSpan;i++){var segX=isHorizontal?cornerX:rect.x+segment*i;var segY=isHorizontal?rect.y+segment*i:cornerY;this._addShiftTarget(segX,segY,boundsSize)}}},this)};proto._addShiftTarget=function(x,y,boundsSize){var checkCoord=this._getOption("horizontal")?y:x;if(checkCoord!==0&&checkCoord>boundsSize)return;var key=x+","+y;var hasKey=this.shiftTargetKeys.indexOf(key)!=-1;if(hasKey)return;this.shiftTargetKeys.push(key);this.shiftTargets.push({x:x,y:y})};proto.shift=
function(item,x,y){var shiftPosition;var minDistance=Infinity;var position={x:x,y:y};this.shiftTargets.forEach(function(target){var distance=getDistance(target,position);if(distance<minDistance){shiftPosition=target;minDistance=distance}});item.rect.x=shiftPosition.x;item.rect.y=shiftPosition.y};function getDistance(a,b){var dx=b.x-a.x;var dy=b.y-a.y;return Math.sqrt(dx*dx+dy*dy)}var DRAG_THROTTLE_TIME=120;proto.itemDragMove=function(elem,x,y){var item=this.isEnabled&&this.getItem(elem);if(!item)return;
x-=this.size.paddingLeft;y-=this.size.paddingTop;var _this=this;function onDrag(){_this.shift(item,x,y);item.positionDropPlaceholder();_this.layout()}var now=new Date;if(this._itemDragTime&&now-this._itemDragTime<DRAG_THROTTLE_TIME){clearTimeout(this.dragTimeout);this.dragTimeout=setTimeout(onDrag,DRAG_THROTTLE_TIME)}else{onDrag();this._itemDragTime=now}};proto.itemDragEnd=function(elem){var item=this.isEnabled&&this.getItem(elem);if(!item)return;clearTimeout(this.dragTimeout);item.element.classList.add("is-positioning-post-drag");
var completeCount=0;var _this=this;function onDragEndLayoutComplete(){completeCount++;if(completeCount!=2)return;item.element.classList.remove("is-positioning-post-drag");item.hideDropPlaceholder();_this.dispatchEvent("dragItemPositioned",null,[item])}item.once("layout",onDragEndLayoutComplete);this.once("layoutComplete",onDragEndLayoutComplete);item.moveTo(item.rect.x,item.rect.y);this.layout();this.dragItemCount=Math.max(0,this.dragItemCount-1);this.sortItemsByPosition();item.disablePlacing();this.unstamp(item.element)};
proto.bindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"on")};proto.unbindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"off")};proto._bindDraggabillyEvents=function(draggie,method){var handlers=this.handleDraggabilly;draggie[method]("dragStart",handlers.dragStart);draggie[method]("dragMove",handlers.dragMove);draggie[method]("dragEnd",handlers.dragEnd)};proto.bindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"on")};proto.unbindUIDraggableEvents=
function($elems){this._bindUIDraggableEvents($elems,"off")};proto._bindUIDraggableEvents=function($elems,method){var handlers=this.handleUIDraggable;$elems[method]("dragstart",handlers.start)[method]("drag",handlers.drag)[method]("dragstop",handlers.stop)};var _destroy=proto.destroy;proto.destroy=function(){_destroy.apply(this,arguments);this.isEnabled=false};Packery.Rect=Rect;Packery.Packer=Packer;return Packery});
(function($,undefined){var defaults={item:3,autoWidth:false,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:true,cssEasing:"ease",easing:"linear",speed:400,auto:false,pauseOnHover:false,loop:false,slideEndAnimation:true,pause:2E3,keyPress:false,controls:true,prevHtml:"",nextHtml:"",rtl:false,adaptiveHeight:false,vertical:false,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:true,gallery:false,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:true,enableDrag:true,
freeMove:true,swipeThreshold:40,responsive:[],onBeforeStart:function($el){},onSliderLoad:function($el){},onBeforeSlide:function($el,scene){},onAfterSlide:function($el,scene){},onBeforeNextSlide:function($el,scene){},onBeforePrevSlide:function($el,scene){}};$.fn.lightSlider=function(options){if(this.length===0)return this;if(this.length>1){this.each(function(){$(this).lightSlider(options)});return this}var plugin={},settings=$.extend(true,{},defaults,options),settingsTemp={},$el=this;plugin.$el=this;
if(settings.mode==="fade")settings.vertical=false;var $children=$el.children(),windowW=$(window).width(),breakpoint=null,resposiveObj=null,length=0,w=0,on=false,elSize=0,$slide="",scene=0,property=settings.vertical===true?"height":"width",gutter=settings.vertical===true?"margin-bottom":"margin-right",slideValue=0,pagerWidth=0,slideWidth=0,thumbWidth=0,interval=null,isTouch="ontouchstart"in document.documentElement;var refresh={};refresh.chbreakpoint=function(){windowW=$(window).width();if(settings.responsive.length){var item;
if(settings.autoWidth===false)item=settings.item;if(windowW<settings.responsive[0].breakpoint)for(var i=0;i<settings.responsive.length;i++)if(windowW<settings.responsive[i].breakpoint){breakpoint=settings.responsive[i].breakpoint;resposiveObj=settings.responsive[i]}if(typeof resposiveObj!=="undefined"&&resposiveObj!==null)for(var j in resposiveObj.settings)if(resposiveObj.settings.hasOwnProperty(j)){if(typeof settingsTemp[j]==="undefined"||settingsTemp[j]===null)settingsTemp[j]=settings[j];settings[j]=
resposiveObj.settings[j]}if(!$.isEmptyObject(settingsTemp)&&windowW>settings.responsive[0].breakpoint)for(var k in settingsTemp)if(settingsTemp.hasOwnProperty(k))settings[k]=settingsTemp[k];if(settings.autoWidth===false)if(slideValue>0&&slideWidth>0)if(item!==settings.item)scene=Math.round(slideValue/((slideWidth+settings.slideMargin)*settings.slideMove))}};refresh.calSW=function(){if(settings.autoWidth===false)slideWidth=(elSize-(settings.item*settings.slideMargin-settings.slideMargin))/settings.item};
refresh.calWidth=function(cln){var ln=cln===true?$slide.find(".lslide").length:$children.length;if(settings.autoWidth===false)w=ln*(slideWidth+settings.slideMargin);else{w=0;for(var i=0;i<ln;i++)w+=parseInt($children.eq(i).width())+settings.slideMargin}return w};plugin={doCss:function(){var support=function(){var transition=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"];var root=document.documentElement;for(var i=0;i<transition.length;i++)if(transition[i]in
root.style)return true};if(settings.useCSS&&support())return true;return false},keyPress:function(){if(settings.keyPress)$(document).on("keyup.lightslider",function(e){if(!$(":focus").is("input, textarea")){if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(e.keyCode===37)$el.goToPrevSlide();else if(e.keyCode===39)$el.goToNextSlide()}})},controls:function(){if(settings.controls){$el.after('\x3cdiv class\x3d"lSAction"\x3e\x3ca class\x3d"lSPrev"\x3e'+settings.prevHtml+'\x3c/a\x3e\x3ca class\x3d"lSNext"\x3e'+
settings.nextHtml+"\x3c/a\x3e\x3c/div\x3e");if(!settings.autoWidth){if(length<=settings.item)$slide.find(".lSAction").hide()}else if(refresh.calWidth(false)<elSize)$slide.find(".lSAction").hide();$slide.find(".lSAction a").on("click",function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;if($(this).attr("class")==="lSPrev")$el.goToPrevSlide();else $el.goToNextSlide();return false})}},initialStyle:function(){var $this=this;if(settings.mode==="fade"){settings.autoWidth=false;settings.slideEndAnimation=
false}if(settings.auto)settings.slideEndAnimation=false;if(settings.autoWidth){settings.slideMove=1;settings.item=1}if(settings.loop){settings.slideMove=1;settings.freeMove=false}settings.onBeforeStart.call(this,$el);refresh.chbreakpoint();$el.addClass("lightSlider").wrap('\x3cdiv class\x3d"lSSlideOuter '+settings.addClass+'"\x3e\x3cdiv class\x3d"lSSlideWrapper"\x3e\x3c/div\x3e\x3c/div\x3e');$slide=$el.parent(".lSSlideWrapper");if(settings.rtl===true)$slide.parent().addClass("lSrtl");if(settings.vertical){$slide.parent().addClass("vertical");
elSize=settings.verticalHeight;$slide.css("height",elSize+"px")}else elSize=$el.outerWidth();$children.addClass("lslide");if(settings.loop===true&&settings.mode==="slide"){refresh.calSW();refresh.clone=function(){if(refresh.calWidth(true)>elSize){var tWr=0,tI=0;for(var k=0;k<$children.length;k++){tWr+=parseInt($el.find(".lslide").eq(k).width())+settings.slideMargin;tI++;if(tWr>=elSize+settings.slideMargin)break}var tItem=settings.autoWidth===true?tI:settings.item;if(tItem<$el.find(".clone.left").length)for(var i=
0;i<$el.find(".clone.left").length-tItem;i++)$children.eq(i).remove();if(tItem<$el.find(".clone.right").length)for(var j=$children.length-1;j>$children.length-1-$el.find(".clone.right").length;j--){scene--;$children.eq(j).remove()}for(var n=$el.find(".clone.right").length;n<tItem;n++){$el.find(".lslide").eq(n).clone().removeClass("lslide").addClass("clone right").appendTo($el);scene++}for(var m=$el.find(".lslide").length-$el.find(".clone.left").length;m>$el.find(".lslide").length-tItem;m--)$el.find(".lslide").eq(m-
1).clone().removeClass("lslide").addClass("clone left").prependTo($el);$children=$el.children()}else if($children.hasClass("clone")){$el.find(".clone").remove();$this.move($el,0)}};refresh.clone()}refresh.sSW=function(){length=$children.length;if(settings.rtl===true&&settings.vertical===false)gutter="margin-left";if(settings.autoWidth===false)$children.css(property,slideWidth+"px");$children.css(gutter,settings.slideMargin+"px");w=refresh.calWidth(false);$el.css(property,w+"px");if(settings.loop===
true&&settings.mode==="slide")if(on===false)scene=$el.find(".clone.left").length};refresh.calL=function(){$children=$el.children();length=$children.length};if(this.doCss())$slide.addClass("usingCss");refresh.calL();if(settings.mode==="slide"){refresh.calSW();refresh.sSW();if(settings.loop===true){slideValue=$this.slideValue();this.move($el,slideValue)}if(settings.vertical===false)this.setHeight($el,false)}else{this.setHeight($el,true);$el.addClass("lSFade");if(!this.doCss()){$children.fadeOut(0);
$children.eq(scene).fadeIn(0)}}if(settings.loop===true&&settings.mode==="slide")$children.eq(scene).addClass("active");else $children.first().addClass("active")},pager:function(){var $this=this;refresh.createPager=function(){thumbWidth=(elSize-(settings.thumbItem*settings.thumbMargin-settings.thumbMargin))/settings.thumbItem;var $children=$slide.find(".lslide");var length=$slide.find(".lslide").length;var i=0,pagers="",v=0;for(i=0;i<length;i++){if(settings.mode==="slide")if(!settings.autoWidth)v=
i*((slideWidth+settings.slideMargin)*settings.slideMove);else v+=(parseInt($children.eq(i).width())+settings.slideMargin)*settings.slideMove;var thumb=$children.eq(i*settings.slideMove).attr("data-thumb");if(settings.gallery===true)pagers+='\x3cli style\x3d"width:100%;'+property+":"+thumbWidth+"px;"+gutter+":"+settings.thumbMargin+'px"\x3e\x3ca href\x3d"#"\x3e\x3cimg src\x3d"'+thumb+'" /\x3e\x3c/a\x3e\x3c/li\x3e';else pagers+='\x3cli\x3e\x3ca href\x3d"#"\x3e'+(i+1)+"\x3c/a\x3e\x3c/li\x3e";if(settings.mode===
"slide")if(v>=w-elSize-settings.slideMargin){i=i+1;var minPgr=2;if(settings.autoWidth){pagers+='\x3cli\x3e\x3ca href\x3d"#"\x3e'+(i+1)+"\x3c/a\x3e\x3c/li\x3e";minPgr=1}if(i<minPgr){pagers=null;$slide.parent().addClass("noPager")}else $slide.parent().removeClass("noPager");break}}var $cSouter=$slide.parent();$cSouter.find(".lSPager").html(pagers);if(settings.gallery===true){if(settings.vertical===true)$cSouter.find(".lSPager").css("width",settings.vThumbWidth+"px");pagerWidth=i*(settings.thumbMargin+
thumbWidth)+.5;$cSouter.find(".lSPager").css({property:pagerWidth+"px","transition-duration":settings.speed+"ms"});if(settings.vertical===true)$slide.parent().css("padding-right",settings.vThumbWidth+settings.galleryMargin+"px");$cSouter.find(".lSPager").css(property,pagerWidth+"px")}var $pager=$cSouter.find(".lSPager").find("li");$pager.first().addClass("active");$pager.on("click",function(){if(settings.loop===true&&settings.mode==="slide")scene=scene+($pager.index(this)-$cSouter.find(".lSPager").find("li.active").index());
else scene=$pager.index(this);$el.mode(false);if(settings.gallery===true)$this.slideThumb();return false})};if(settings.pager){var cl="lSpg";if(settings.gallery)cl="lSGallery";$slide.after('\x3cul class\x3d"lSPager '+cl+'"\x3e\x3c/ul\x3e');var gMargin=settings.vertical?"margin-left":"margin-top";$slide.parent().find(".lSPager").css(gMargin,settings.galleryMargin+"px");refresh.createPager()}setTimeout(function(){refresh.init()},0)},setHeight:function(ob,fade){var obj=null,$this=this;if(settings.loop)obj=
ob.children(".lslide ").first();else obj=ob.children().first();var setCss=function(){var tH=obj.outerHeight(),tP=0,tHT=tH;if(fade){tH=0;tP=tHT*100/elSize}ob.css({"height":tH+"px","padding-bottom":tP+"%"})};setCss();if(obj.find("img").length)if(obj.find("img")[0].complete){setCss();if(!interval)$this.auto()}else obj.find("img").on("load",function(){setTimeout(function(){setCss();if(!interval)$this.auto()},100)});else if(!interval)$this.auto()},active:function(ob,t){if(this.doCss()&&settings.mode===
"fade")$slide.addClass("on");var sc=0;if(scene*settings.slideMove<length){ob.removeClass("active");if(!this.doCss()&&settings.mode==="fade"&&t===false)ob.fadeOut(settings.speed);if(t===true)sc=scene;else sc=scene*settings.slideMove;var l,nl;if(t===true){l=ob.length;nl=l-1;if(sc+1>=l)sc=nl}if(settings.loop===true&&settings.mode==="slide"){if(t===true)sc=scene-$el.find(".clone.left").length;else sc=scene*settings.slideMove;if(t===true){l=ob.length;nl=l-1;if(sc+1===l)sc=nl;else if(sc+1>l)sc=0}}if(!this.doCss()&&
settings.mode==="fade"&&t===false)ob.eq(sc).fadeIn(settings.speed);ob.eq(sc).addClass("active")}else{ob.removeClass("active");ob.eq(ob.length-1).addClass("active");if(!this.doCss()&&settings.mode==="fade"&&t===false){ob.fadeOut(settings.speed);ob.eq(sc).fadeIn(settings.speed)}}},move:function(ob,v){if(settings.rtl===true)v=-v;if(this.doCss())if(settings.vertical===true)ob.css({"transform":"translate3d(0px, "+-v+"px, 0px)","-webkit-transform":"translate3d(0px, "+-v+"px, 0px)"});else ob.css({"transform":"translate3d("+
-v+"px, 0px, 0px)","-webkit-transform":"translate3d("+-v+"px, 0px, 0px)"});else if(settings.vertical===true)ob.css("position","relative").animate({top:-v+"px"},settings.speed,settings.easing);else ob.css("position","relative").animate({left:-v+"px"},settings.speed,settings.easing);var $thumb=$slide.parent().find(".lSPager").find("li");this.active($thumb,true)},fade:function(){this.active($children,false);var $thumb=$slide.parent().find(".lSPager").find("li");this.active($thumb,true)},slide:function(){var $this=
this;refresh.calSlide=function(){if(w>elSize){slideValue=$this.slideValue();$this.active($children,false);if(slideValue>w-elSize-settings.slideMargin)slideValue=w-elSize-settings.slideMargin;else if(slideValue<0)slideValue=0;$this.move($el,slideValue);if(settings.loop===true&&settings.mode==="slide"){if(scene>=length-$el.find(".clone.left").length/settings.slideMove)$this.resetSlide($el.find(".clone.left").length);if(scene===0)$this.resetSlide($slide.find(".lslide").length)}}};refresh.calSlide()},
resetSlide:function(s){var $this=this;$slide.find(".lSAction a").addClass("disabled");setTimeout(function(){scene=s;$slide.css("transition-duration","0ms");slideValue=$this.slideValue();$this.active($children,false);plugin.move($el,slideValue);setTimeout(function(){$slide.css("transition-duration",settings.speed+"ms");$slide.find(".lSAction a").removeClass("disabled")},50)},settings.speed+100)},slideValue:function(){var _sV=0;if(settings.autoWidth===false)_sV=scene*((slideWidth+settings.slideMargin)*
settings.slideMove);else{_sV=0;for(var i=0;i<scene;i++)_sV+=parseInt($children.eq(i).width())+settings.slideMargin}return _sV},slideThumb:function(){var position;switch(settings.currentPagerPosition){case "left":position=0;break;case "middle":position=elSize/2-thumbWidth/2;break;case "right":position=elSize-thumbWidth}var sc=scene-$el.find(".clone.left").length;var $pager=$slide.parent().find(".lSPager");if(settings.mode==="slide"&&settings.loop===true)if(sc>=$pager.children().length)sc=0;else if(sc<
0)sc=$pager.children().length;var thumbSlide=sc*(thumbWidth+settings.thumbMargin)-position;if(thumbSlide+elSize>pagerWidth)thumbSlide=pagerWidth-elSize-settings.thumbMargin;if(thumbSlide<0)thumbSlide=0;this.move($pager,thumbSlide)},auto:function(){if(settings.auto){clearInterval(interval);interval=setInterval(function(){$el.goToNextSlide()},settings.pause)}},pauseOnHover:function(){var $this=this;if(settings.auto&&settings.pauseOnHover){$slide.on("mouseenter",function(){$(this).addClass("ls-hover");
$el.pause();settings.auto=true});$slide.on("mouseleave",function(){$(this).removeClass("ls-hover");if(!$slide.find(".lightSlider").hasClass("lsGrabbing"))$this.auto()})}},touchMove:function(endCoords,startCoords){$slide.css("transition-duration","0ms");if(settings.mode==="slide"){var distance=endCoords-startCoords;var swipeVal=slideValue-distance;if(swipeVal>=w-elSize-settings.slideMargin)if(settings.freeMove===false)swipeVal=w-elSize-settings.slideMargin;else{var swipeValT=w-elSize-settings.slideMargin;
swipeVal=swipeValT+(swipeVal-swipeValT)/5}else if(swipeVal<0)if(settings.freeMove===false)swipeVal=0;else swipeVal=swipeVal/5;this.move($el,swipeVal)}},touchEnd:function(distance){$slide.css("transition-duration",settings.speed+"ms");if(settings.mode==="slide"){var mxVal=false;var _next=true;slideValue=slideValue-distance;if(slideValue>w-elSize-settings.slideMargin){slideValue=w-elSize-settings.slideMargin;if(settings.autoWidth===false)mxVal=true}else if(slideValue<0)slideValue=0;var gC=function(next){var ad=
0;if(!mxVal)if(next)ad=1;if(!settings.autoWidth){var num=slideValue/((slideWidth+settings.slideMargin)*settings.slideMove);scene=parseInt(num)+ad;if(slideValue>=w-elSize-settings.slideMargin)if(num%1!==0)scene++}else{var tW=0;for(var i=0;i<$children.length;i++){tW+=parseInt($children.eq(i).width())+settings.slideMargin;scene=i+ad;if(tW>=slideValue)break}}};if(distance>=settings.swipeThreshold){gC(false);_next=false}else if(distance<=-settings.swipeThreshold){gC(true);_next=false}$el.mode(_next);this.slideThumb()}else if(distance>=
settings.swipeThreshold)$el.goToPrevSlide();else if(distance<=-settings.swipeThreshold)$el.goToNextSlide()},enableDrag:function(){var $this=this;if(!isTouch){var startCoords=0,endCoords=0,isDraging=false;$slide.find(".lightSlider").addClass("lsGrab");$slide.on("mousedown",function(e){if(w<elSize)if(w!==0)return false;if($(e.target).attr("class")!=="lSPrev"&&$(e.target).attr("class")!=="lSNext"){startCoords=settings.vertical===true?e.pageY:e.pageX;isDraging=true;if(e.preventDefault)e.preventDefault();
else e.returnValue=false;$slide.scrollLeft+=1;$slide.scrollLeft-=1;$slide.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing");clearInterval(interval)}});$(window).on("mousemove",function(e){if(isDraging){endCoords=settings.vertical===true?e.pageY:e.pageX;$this.touchMove(endCoords,startCoords)}});$(window).on("mouseup",function(e){if(isDraging){$slide.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");isDraging=false;endCoords=settings.vertical===true?e.pageY:e.pageX;var distance=
endCoords-startCoords;if(Math.abs(distance)>=settings.swipeThreshold)$(window).on("click.ls",function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;e.stopImmediatePropagation();e.stopPropagation();$(window).off("click.ls")});$this.touchEnd(distance)}})}},enableTouch:function(){var $this=this;if(isTouch){var startCoords={},endCoords={};$slide.on("touchstart",function(e){endCoords=e.originalEvent.targetTouches[0];startCoords.pageX=e.originalEvent.targetTouches[0].pageX;startCoords.pageY=
e.originalEvent.targetTouches[0].pageY;clearInterval(interval)});$slide.on("touchmove",function(e){if(w<elSize)if(w!==0)return false;var orig=e.originalEvent;endCoords=orig.targetTouches[0];var xMovement=Math.abs(endCoords.pageX-startCoords.pageX);var yMovement=Math.abs(endCoords.pageY-startCoords.pageY);if(settings.vertical===true){if(yMovement*3>xMovement)e.preventDefault();$this.touchMove(endCoords.pageY,startCoords.pageY)}else{if(xMovement*3>yMovement)e.preventDefault();$this.touchMove(endCoords.pageX,
startCoords.pageX)}});$slide.on("touchend",function(){if(w<elSize)if(w!==0)return false;var distance;if(settings.vertical===true)distance=endCoords.pageY-startCoords.pageY;else distance=endCoords.pageX-startCoords.pageX;$this.touchEnd(distance)})}},build:function(){var $this=this;$this.initialStyle();if(this.doCss()){if(settings.enableTouch===true)$this.enableTouch();if(settings.enableDrag===true)$this.enableDrag()}$(window).on("focus",function(){$this.auto()});$(window).on("blur",function(){clearInterval(interval)});
$this.pager();$this.pauseOnHover();$this.controls();$this.keyPress()}};plugin.build();refresh.init=function(){refresh.chbreakpoint();if(settings.vertical===true){if(settings.item>1)elSize=settings.verticalHeight;else elSize=$children.outerHeight();$slide.css("height",elSize+"px")}else elSize=$slide.outerWidth();if(settings.loop===true&&settings.mode==="slide")refresh.clone();refresh.calL();if(settings.mode==="slide")$el.removeClass("lSSlide");if(settings.mode==="slide"){refresh.calSW();refresh.sSW()}setTimeout(function(){if(settings.mode===
"slide")$el.addClass("lSSlide")},1E3);if(settings.pager)refresh.createPager();if(settings.adaptiveHeight===true&&settings.vertical===false)$el.css("height",$children.eq(scene).outerHeight(true));if(settings.adaptiveHeight===false)if(settings.mode==="slide")if(settings.vertical===false)plugin.setHeight($el,false);else plugin.auto();else plugin.setHeight($el,true);if(settings.gallery===true)plugin.slideThumb();if(settings.mode==="slide")plugin.slide();if(settings.autoWidth===false)if($children.length<=
settings.item)$slide.find(".lSAction").hide();else $slide.find(".lSAction").show();else if(refresh.calWidth(false)<elSize&&w!==0)$slide.find(".lSAction").hide();else $slide.find(".lSAction").show()};$el.goToPrevSlide=function(){if(scene>0){settings.onBeforePrevSlide.call(this,$el,scene);scene--;$el.mode(false);if(settings.gallery===true)plugin.slideThumb()}else if(settings.loop===true){settings.onBeforePrevSlide.call(this,$el,scene);if(settings.mode==="fade"){var l=length-1;scene=parseInt(l/settings.slideMove)}$el.mode(false);
if(settings.gallery===true)plugin.slideThumb()}else if(settings.slideEndAnimation===true){$el.addClass("leftEnd");setTimeout(function(){$el.removeClass("leftEnd")},400)}};$el.goToNextSlide=function(){var nextI=true;if(settings.mode==="slide"){var _slideValue=plugin.slideValue();nextI=_slideValue<w-elSize-settings.slideMargin}if(scene*settings.slideMove<length-settings.slideMove&&nextI){settings.onBeforeNextSlide.call(this,$el,scene);scene++;$el.mode(false);if(settings.gallery===true)plugin.slideThumb()}else if(settings.loop===
true){settings.onBeforeNextSlide.call(this,$el,scene);scene=0;$el.mode(false);if(settings.gallery===true)plugin.slideThumb()}else if(settings.slideEndAnimation===true){$el.addClass("rightEnd");setTimeout(function(){$el.removeClass("rightEnd")},400)}};$el.mode=function(_touch){if(settings.adaptiveHeight===true&&settings.vertical===false)$el.css("height",$children.eq(scene).outerHeight(true));if(on===false)if(settings.mode==="slide"){if(plugin.doCss()){$el.addClass("lSSlide");if(settings.speed!=="")$slide.css("transition-duration",
settings.speed+"ms");if(settings.cssEasing!=="")$slide.css("transition-timing-function",settings.cssEasing)}}else if(plugin.doCss()){if(settings.speed!=="")$el.css("transition-duration",settings.speed+"ms");if(settings.cssEasing!=="")$el.css("transition-timing-function",settings.cssEasing)}if(!_touch)settings.onBeforeSlide.call(this,$el,scene);if(settings.mode==="slide")plugin.slide();else plugin.fade();if(!$slide.hasClass("ls-hover"))plugin.auto();setTimeout(function(){if(!_touch)settings.onAfterSlide.call(this,
$el,scene)},settings.speed);on=true};$el.play=function(){$el.goToNextSlide();settings.auto=true;plugin.auto()};$el.pause=function(){settings.auto=false;clearInterval(interval)};$el.refresh=function(){refresh.init()};$el.getCurrentSlideCount=function(){var sc=scene;if(settings.loop){var ln=$slide.find(".lslide").length,cl=$el.find(".clone.left").length;if(scene<=cl-1)sc=ln+(scene-cl);else if(scene>=ln+cl)sc=scene-ln-cl;else sc=scene-cl}return sc+1};$el.getTotalSlideCount=function(){return $slide.find(".lslide").length};
$el.goToSlide=function(s){if(settings.loop)scene=s+$el.find(".clone.left").length-1;else scene=s;$el.mode(false);if(settings.gallery===true)plugin.slideThumb()};$el.destroy=function(){if($el.lightSlider){$el.goToPrevSlide=function(){};$el.goToNextSlide=function(){};$el.mode=function(){};$el.play=function(){};$el.pause=function(){};$el.refresh=function(){};$el.getCurrentSlideCount=function(){};$el.getTotalSlideCount=function(){};$el.goToSlide=function(){};$el.lightSlider=null;refresh={init:function(){}};
$el.parent().parent().find(".lSAction, .lSPager").remove();$el.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap();$el.children().removeAttr("style");$children.removeClass("lslide active");$el.find(".clone").remove();$children=null;interval=null;on=false;scene=0}};setTimeout(function(){settings.onSliderLoad.call(this,$el)},10);$(window).on("debounced-resize.lightslider",function(e){e.preventDefault();refresh.init()});return this}})(jQuery);
(function($){var baseOptions={target:document.body,offset:{top:0,bottom:0},headerDelta:function(){return NPC?NPC.getHeaderHeight():120},fullHeight:false,scrollTarget:window,debug:false,throttleDelay:50};var ES_MAIN_NAV_CLASS="ES-MainNav";$.fn.stick_push=function(option){if(!this)return $(this);$(this).each(function(){var $sticky=$(this);var options=$.extend({},baseOptions,option);if($sticky.data("sticky"))return $sticky.data("sticky");var $target=$(document.body);if(options.target)if(typeof options.target===
"function")$target=options.target(this);else $target=$(options.target);$sticky.wrapInner('\x3cdiv class\x3d"js-StickyWrap"/\x3e');var $wrapper=$sticky.children(".js-StickyWrap");var $scrollTarget=$(options.scrollTarget);var $window=$(window);var $body=$("body");var stickyDelta=options.offset.top;var headerDelta=0;var stickyAt=0;var stickyHeight=0;var stickyWidth=0;var stickyOffsetLeft=0;var stickyTop=0;var bannerHeight=0;if($(".js-AlertBanner.AlertBanner--top").outerHeight()!==null)bannerHeight=$(".js-AlertBanner").outerHeight();
var targetHeight=0;var maxTranslate=0;var fixed=false;var checkScroll=false;var getScrollHeight=function(){return $scrollTarget[0].scrollHeight||Math.max($body[0].scrollHeight,document.documentElement.scrollHeight)};var scrollHeight=getScrollHeight();var setTranslate=function(distance){var translate=typeof distance!=="number"?"":"translateY("+distance+"px)";$wrapper.css({"-webkit-transform":translate,"-moz-transform":translate,transform:translate})};var setFixed=function(height){if(!fixed){setTranslate(false);
$wrapper.css({position:"fixed",top:height,left:stickyOffsetLeft,width:stickyWidth});fixed=true}};var unsetFixed=function(){if(fixed){$wrapper.css({position:"",top:"",left:"",width:""});fixed=false}};var setSticky=function(){var scroll=$scrollTarget.scrollTop();var currentScrollHeight=getScrollHeight();if(currentScrollHeight!==scrollHeight)setHeights();if(scroll>stickyAt)if(scroll-stickyAt<maxTranslate){var headerHeight=NPC?NPC.getHeaderHeight():120;var $ESMainNavHeight=$("."+ES_MAIN_NAV_CLASS);var ESMainNavHeight=
0;if($ESMainNavHeight)ESMainNavHeight=$ESMainNavHeight.height();setFixed(headerHeight+ESMainNavHeight)}else{unsetFixed();setTranslate(maxTranslate)}else{unsetFixed();setTranslate(scroll)}if(options.debug===true)console.log("setStycky",{fixed:fixed,setTranslate:scroll>stickyAt&&scroll-stickyAt>=maxTranslate,$sticky:$sticky,$scrollTarget:$scrollTarget})};var throttledSetStycky=CommonNPC.throttle(setSticky,option.throttleDelay);var setHeights=function(evt){unsetFixed();scrollHeight=getScrollHeight();
headerDelta=NPC.getHeaderHeight();if(options.fullHeight&&bannerHeight!==0)$wrapper.outerHeight($(window.top).innerHeight()-headerDelta-bannerHeight);else if(options.fullHeight&&bannerHeight===0)$wrapper.outerHeight($(window.top).innerHeight()-headerDelta-bannerHeight);var scrollTargetScrolled=0;if($scrollTarget.offset()!==undefined)scrollTargetScrolled=$scrollTarget.scrollTop();var targetOffsetTop=$target.offset().top;stickyHeight=$wrapper.outerHeight();stickyTop=$sticky.offset().top+scrollTargetScrolled;
stickyWidth=$sticky.width();stickyOffsetLeft=$sticky.offset().left;targetHeight=$target.outerHeight();var $pullUp=$target.find(".js-pullUp--active");if($pullUp.length)targetHeight=$pullUp.offset().top-targetOffsetTop;maxTranslate=targetHeight+(stickyTop-targetOffsetTop-scrollTargetScrolled)-stickyHeight-options.offset.bottom;stickyAt=stickyTop-(stickyDelta+headerDelta);if(stickyHeight<targetHeight){if(!checkScroll){$scrollTarget.on("scroll.sticky",throttledSetStycky);$sticky.addClass("js-Sticky--enable");
checkScroll=true}setSticky()}else if(checkScroll){$scrollTarget.off("scroll.sticky",throttledSetStycky);checkScroll=false;$sticky.removeClass("js-Sticky--enable");unsetFixed();setTranslate(false)}if(options.debug===true)console.log("setHeights",{headerDelta:headerDelta,stickyHeight:stickyHeight,stickyTop:stickyTop,stickyWidth:stickyWidth,stickyOffsetLeft:stickyOffsetLeft,targetHeight:targetHeight,maxTranslate:maxTranslate,stickyAt:stickyAt,checkScroll:checkScroll,$sticky:$sticky,$scrollTarget:$scrollTarget,
evt:evt})};$window.off("load.sticky",setHeights).on("load.sticky",setHeights).off("sticky.heightChanged.sticky",setHeights).on("sticky.heightChanged.sticky",setHeights).off("pullUp.heightChanged.sticky",setHeights).on("pullUp.heightChanged.sticky",setHeights).off("heightChanged",setHeights).on("heightChanged",setHeights).off("shown.bs.modal.sticky hidden.bs.modal.sticky",setHeights).on("shown.bs.modal.sticky hidden.bs.modal.sticky",setHeights).off("debounced-resize.sticky",setHeights).on("debounced-resize.sticky",
setHeights);setHeights();function waitForElement(elementPath,callBack){window.setTimeout(function(){if($(elementPath).length)callBack(elementPath,$(elementPath));else waitForElement(elementPath,callBack)},500)}waitForElement(".AlertBanner--top",function(){setHeights()});$target.off("sticky.heightChanged").on("sticky.heightChanged",setHeights);$sticky.data("sticky",{update:function(){setHeights()},destroy:function(){$window.off("load.sticky",setHeights).off("sticky.heightChanged.sticky",setHeights).off("pullUp.heightChanged.sticky",
setHeights).off("heightChanged",setHeights).off("shown.bs.modal.sticky hidden.bs.modal.sticky",setHeights).off("debounced-resize.sticky",setHeights);$scrollTarget.off("scroll.sticky");$sticky.append($wrapper.children());$wrapper.remove();$sticky.data("sticky","")}})});return $(this)}})(jQuery);
(function($){var baseOptions={withInnerClass:"bootstrap-select-wrapper--innerLabel",labelSelector:".bootstrap-select-wrapperLabel",innerLabelClass:"bootstrap-select-innerLabel",renderEvent:"rendered.bs.select refreshed.bs.select"};$.fn.addSelectLabel=function(option){if(!this)return $(this);var opt=$.extend({},baseOptions,option);function removeSelectLabel($select,removeCLass){$select.find(".btn\x3e."+opt.innerLabelClass).remove();if(removeCLass!==false)$select.removeClass(opt.withInnerClass)}function addSelectLabel($select,
$label){removeSelectLabel($select,false);$select.addClass(opt.withInnerClass).find(".btn").prepend('\x3cspan class\x3d"'+opt.innerLabelClass+'"\x3e'+$label.html()+"\x3c/span\x3e")}$(this).each(function(){var $this=$(this);var $label=$this.find(opt.labelSelector);if($label.length===1){addSelectLabel($this,$label);if(opt.renderEvent!==false)$this.on(opt.renderEvent,function(){addSelectLabel($this,$label)})}});return $(this)};$(function(){$(".js-bootstrap-select-wrapper").addSelectLabel()})})(jQuery);
var startPlayer=function(){$(".js-VideoPlayer").videoPlayer()};
$(function(){var $sliders=$(".js-carouselVideoPlayer");CommonNPC.initSlider($sliders,{items:3,loop:false,margin:0,nav:false,responsive:{0:{items:1},990:{items:2}}},{addClass:true});$.fn.videoPlayer=function(){if(!this)return $(this);$(this).each(function(){var $videoPlayer=$(this);var $tabPanel=$videoPlayer.closest('[role\x3d"tabpanel"]');var $videoFrame=$videoPlayer.find(".js-VideoPlayer-videoFrame");if($tabPanel.length===1)$tabPanel.off("hidden.bs.collapse.videoPlayer").on("hidden.bs.collapse.videoPlayer",function(){$videoPlayer.trigger("stop.videoPlayer")});
$videoPlayer.off("stop.videoPlayer").on("stop.videoPlayer",function(){$videoPlayer.removeClass("VideoPlayer--play");$videoFrame.attr("src","")}).off("click.videoPlayer.play touchstart.videoPlayer.play",".js-VideoPlayer-play").on("click.videoPlayer.play touchstart.videoPlayer.play",".js-VideoPlayer-play",function(e){e.preventDefault();$videoPlayer.addClass("VideoPlayer--play");$videoFrame.attr("src",$videoFrame.attr("data-src"))})})};startPlayer()});
(function($){$.fn.basictable=function(options){var setup=function(table,data){var headings=[];if(data.tableWrap)table.wrap('\x3cdiv class\x3d"bt-wrapper"\x3e\x3c/div\x3e');if(data.header){var format="";if(table.find("thead tr th").length)format="thead th";else if(table.find("tbody tr th").length)format="tbody tr th";else if(table.find("th").length)format="tr:first th";else format="tr:first td";$.each(table.find(format),function(){var $heading=$(this);var colspan=parseInt($heading.attr("colspan"),
10)||1;var row=$heading.closest("tr").index();if(!headings[row])headings[row]=[];for(var i=0;i<colspan;i++)headings[row].push($heading)})}$.each(table.find("tbody tr"),function(){setupRow($(this),headings,data)});$.each(table.find("tfoot tr"),function(){setupRow($(this),headings,data)})};var setupRow=function($row,headings,data){$row.children().each(function(){var $cell=$(this);if(($cell.html()===""||$cell.html()==="\x26nbsp;")&&!data.showEmptyCells)$cell.addClass("bt-hide");else{var cellIndex=$cell.index();
var headingText="";for(var j=0;j<headings.length;j++){if(j!=0)headingText+=": ";var $heading=headings[j][cellIndex];headingText+=$heading.text()}$cell.attr("data-th",headingText);if(data.contentWrap&&!$cell.children().hasClass("bt-content"))$cell.wrapInner('\x3cspan class\x3d"bt-content" /\x3e')}})};var unwrap=function(table){$.each(table.find("td"),function(){var $cell=$(this);var content=$cell.children(".bt-content").html();$cell.html(content)})};var check=function(table,data){if(!data.forceResponsive)if(table.removeClass("bt").outerWidth()>
table.parent().width())start(table,data);else end(table,data);else if(data.breakpoint!==null&&$(window).width()<=data.breakpoint||data.containerBreakpoint!==null&&table.parent().width()<=data.containerBreakpoint)start(table,data);else end(table,data)};var start=function(table,data){table.addClass("bt");if(!data.header)table.addClass("bt--no-header");if(data.tableWrap)table.parent(".bt-wrapper").addClass("active")};var end=function(table,data){table.removeClass("bt bt--no-header");if(data.tableWrap)table.parent(".bt-wrapper").removeClass("active")};
var destroy=function(table,data){table.removeClass("bt bt--no-header");table.find("td").removeAttr("data-th");if(data.tableWrap)table.unwrap();if(data.contentWrap)unwrap(table);table.removeData("basictable")};var resize=function(table){if(table.data("basictable"))check(table,table.data("basictable"))};this.each(function(){var table=$(this);if(table.length===0||table.data("basictable")){if(table.data("basictable"))if(options=="destroy")destroy(table,table.data("basictable"));else if(options==="start")start(table,
table.data("basictable"));else if(options==="stop")end(table,table.data("basictable"));else check(table,table.data("basictable"));return false}var settings=$.extend({},$.fn.basictable.defaults,options);var vars={breakpoint:settings.breakpoint,containerBreakpoint:settings.containerBreakpoint,contentWrap:settings.contentWrap,forceResponsive:settings.forceResponsive,noResize:settings.noResize,tableWrap:settings.tableWrap,showEmptyCells:settings.showEmptyCells,header:settings.header};if(vars.breakpoint===
null&&vars.containerBreakpoint===null)vars.breakpoint=568;table.data("basictable",vars);setup(table,table.data("basictable"));if(!vars.noResize){check(table,table.data("basictable"));$(window).bind("resize.basictable",function(){resize(table)})}})};$.fn.basictable.defaults={breakpoint:null,containerBreakpoint:null,contentWrap:true,forceResponsive:true,noResize:false,tableWrap:false,showEmptyCells:false,header:true}})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else factory(jQuery)})(function($){$.ui=$.ui||{};var version=$.ui.version="1.12.1";var widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++)try{events=$._data(elem,"events");if(events&&events.remove)$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,
constructor,basePrototype;var proxiedPrototype={};var namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget}if($.isArray(prototype))prototype=$.extend.apply(null,[{}].concat(prototype));$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget)return new constructor(options,
element);if(arguments.length)this._createWidget(options,element)};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base;basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return}proxiedPrototype[prop]=function(){function _super(){return base.prototype[prop].apply(this,arguments)}function _superApply(args){return base.prototype[prop].apply(this,
args)}return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue}}()});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,
function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)});delete existingConstructor._childConstructors}else base._childConstructors.push(constructor);$.widget.bridge(name,constructor);return constructor};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++)for(key in input[inputIndex]){value=
input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined)if($.isPlainObject(value))target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);else target[key]=value}return target};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall)if(!this.length&&
options==="instance")returnValue=undefined;else this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false}if(!instance)return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");if(!$.isFunction(instance[options])||options.charAt(0)==="_")return $.error("no such method '"+options+"' for "+name+" widget instance");methodValue=instance[options].apply(instance,args);if(methodValue!==
instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false}});else{if(args.length)options=$.widget.extend.apply(null,[options].concat(args));this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init)instance._init()}else $.data(this,fullName,new object(options,this))})}return returnValue}};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype=
{widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===
element)this.destroy()}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled)this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,
destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0)return $.widget.extend({},this.options);
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]]}key=parts.pop();if(arguments.length===1)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(arguments.length===1)return this.options[key]===undefined?null:this.options[key];options[key]=value}}this._setOptions(options);
return this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){if(key==="classes")this._setOptionClasses(value);this.options[key]=value;if(key==="disabled")this._setOptionDisabled(value);return this},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||
!currentElements.length)continue;elements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}))}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value);if(value){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},
disable:function(){return this._setOptions({disabled:true})},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add)current=$($.unique(current.get().concat(options.element.get())));else current=$(current.not(options.element).get());that.classesElementLookup[classes[i]]=
current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]])full.push(options.classes[classes[i]])}}this._on(options.element,{"remove":"_untrackClassesElement"});if(options.keys)processClassString(options.keys.match(/\S+/g)||[],true);if(options.extra)processClassString(options.extra.match(/\S+/g)||[]);return full.join(" ")},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1)that.classesElementLookup[key]=
$(value.not(event.target).get())})},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false)},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true)},_toggleClass:function(element,keys,extra,add){add=typeof add==="boolean"?add:extra;var shift=typeof element==="string"||element===null,options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),
add);return this},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false}if(!handlers){handlers=element;element=this.element;delegateElement=this.widget()}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element)}$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===
true||$(this).hasClass("ui-state-disabled")))return;return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}if(typeof handler!=="string")handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;var match=event.match(/^([\w:-]*)\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector)delegateElement.on(eventName,selector,handlerProxy);else element.on(eventName,handlerProxy)})},_off:function(element,eventName){eventName=
(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.off(eventName).off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=
this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover")},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus")},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus")}})},_trigger:function(type,
event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig)for(prop in orig)if(!(prop in event))event[prop]=orig[prop];this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,
defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string")options={effect:options};var hasOptions;var effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number")options={duration:options};hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay)element.delay(options.delay);if(hasOptions&&$.effects&&$.effects.effect[effectName])element[method](options);
else if(effectName!==method&&element[effectName])element[effectName](options.duration,options.easing,callback);else element.queue(function(next){$(this)[method]();if(callback)callback.call(element[0]);next()})}});var widget=$.widget;(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*
(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9)return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};if($.isWindow(raw))return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};if(raw.preventDefault)return{width:0,height:0,offset:{top:raw.pageY,
left:raw.pageX}};return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined)return cachedScrollbarWidth;var w1,w2,div=$("\x3cdiv "+"style\x3d'display:block;position:absolute;width:50px;height:50px;overflow:hidden;'\x3e"+"\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;
if(w1===w2)w2=div[0].clientWidth;div.remove();return cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||overflowX==="auto"&&within.width<within.element[0].scrollWidth,hasOverflowY=overflowY==="scroll"||overflowY==="auto"&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?
$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),
height:withinElement.outerHeight()}}};$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault)options.at="left top";targetWidth=
dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1)pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=
roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]});if(collision.length===1)collision[1]=collision[0];if(options.at[0]==="right")basePosition.left+=targetWidth;else if(options.at[0]==="center")basePosition.left+=targetWidth/2;if(options.at[1]==="bottom")basePosition.top+=targetHeight;else if(options.at[1]==="center")basePosition.top+=targetHeight/2;atOffset=getOffsets(offsets.at,
targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=
getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right")position.left-=elemWidth;else if(options.my[0]==="center")position.left-=elemWidth/2;if(options.my[1]==="bottom")position.top-=elemHeight;else if(options.my[1]==="center")position.top-=elemHeight/2;position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]])$.ui.position[collision[i]][dir](position,
{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})});if(options.using)using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,
left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth)feedback.horizontal="center";if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight)feedback.vertical="middle";if(max(abs(left),abs(right))>max(abs(top),abs(bottom)))feedback.important=
"horizontal";else feedback.important="vertical";options.using.call(this,props,feedback)};elem.offset($.extend(position,{using:using}))})};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>
outerWidth)if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight}else if(overRight>0&&overLeft<=0)position.left=withinOffset;else if(overLeft>overRight)position.left=withinOffset+outerWidth-data.collisionWidth;else position.left=withinOffset;else if(overLeft>0)position.left+=overLeft;else if(overRight>0)position.left-=overRight;else position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,
data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight)if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom}else if(overBottom>
0&&overTop<=0)position.top=withinOffset;else if(overTop>overBottom)position.top=withinOffset+outerHeight-data.collisionHeight;else position.top=withinOffset;else if(overTop>0)position.top+=overTop;else if(overBottom>0)position.top-=overBottom;else position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,
collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;
if(newOverRight<0||newOverRight<abs(overLeft))position.left+=myOffset+atOffset+offset}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight)position.left+=myOffset+atOffset+offset}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-
data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if(newOverBottom<0||
newOverBottom<abs(overTop))position.top+=myOffset+atOffset+offset}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom)position.top+=myOffset+atOffset+offset}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments)}}}})();var position=
$.ui.position;var keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var uniqueId=$.fn.extend({uniqueId:function(){var uuid=0;return function(){return this.each(function(){if(!this.id)this.id="ui-id-"+ ++uuid})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id))$(this).removeAttr("id")})}});var safeActiveElement=$.ui.safeActiveElement=function(document){var activeElement;
try{activeElement=document.activeElement}catch(error){activeElement=document.body}if(!activeElement)activeElement=document.body;if(!activeElement.nodeName)activeElement=document.body;return activeElement};var widgetsMenu=$.widget("ui.menu",{version:"1.12.1",defaultElement:"\x3cul\x3e",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"\x3e *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;
this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped())this.mouseHandled=true;if(target.has(".ui-menu").length)this.expand(event);
else if(!this.element.is(":focus")&&active.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1)clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter)return;var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);if(actualTarget[0]!==target[0])return;this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(event,target)},
mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem)this.focus(event,item)},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained)this.collapseAll(event)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event))this.collapseAll(event);
this.mouseHandled=false}})},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-caret"))elem.remove()})},
_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&
!this.active.is(".ui-state-disabled"))this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";skip=false;character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev)skip=true;else character=prev+character;match=this._filterMenuItems(character);
match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character)}if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)}else delete this.previousFilter}if(preventDefault)event.preventDefault()},_activate:function(event){if(this.active&&!this.active.is(".ui-state-disabled"))if(this.active.children("[aria-haspopup\x3d'true']").length)this.expand(event);
else this.select(event)},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("\x3cspan\x3e").data("ui-menu-submenu-caret",true);
that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon);item.attr("aria-haspopup","true").prepend(submenuCaret);menu.attr("aria-labelledby",item.attr("id"))});this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front");menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item))that._addClass(item,"ui-menu-divider","ui-widget-content")});newItems=items.not(".ui-menu-item, .ui-menu-divider");
newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper");items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0]))this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){if(key==="icons"){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,
null,this.options.icons.submenu)._addClass(icons,null,value.submenu)}this._super(key,value)},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",String(value));this._toggleClass(null,"ui-state-disabled",!!value)},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(".ui-menu-item-wrapper");this._addClass(focused,null,"ui-state-active");
if(this.options.role)this.element.attr("aria-activedescendant",focused.attr("id"));activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(activeParent,null,"ui-state-active");if(event&&event.type==="keydown")this._close();else this.timer=this._delay(function(){this._close()},this.delay);nested=item.children(".ui-menu");if(nested.length&&event&&/^mouse/.test(event.type))this._startOpening(nested);this.activeMenu=item.parent();this._trigger("focus",
event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0)this.activeMenu.scrollTop(scroll+offset);
else if(offset+itemHeight>elementHeight)this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight)}},blur:function(event,fromFocus){if(!fromFocus)clearTimeout(this.timer);if(!this.active)return;this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",event,{item:this.active});this.active=null},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close();
this._open(submenu)},this.delay)},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));
if(!currentMenu.length)currentMenu=this.element;this._close(currentMenu);this.blur(event);this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){if(!startMenu)startMenu=this.active?this.active.parent():this.element;startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},
collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem)}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem)})}},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev",
"last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;if(this.active)if(direction==="first"||direction==="last")next=this.active[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);else next=this.active[direction+"All"](".ui-menu-item").eq(0);if(!next||!next.length||!this.active)next=this.activeMenu.find(this.options.items)[filter]();
this.focus(event,next)},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return}if(this.isLastItem())return;if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0});this.focus(event,item)}else this.focus(event,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);
return}if(this.isFirstItem())return;if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0});this.focus(event,item)}else this.focus(event,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui=
{item:this.active};if(!this.active.has(".ui-menu").length)this.collapseAll(event,true);this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()))})}});$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"\x3cinput\x3e",
options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element);
this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return}suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",
event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event)}break;case keyCode.TAB:if(this.menu.active)this.menu.select(event);break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine)this._value(this.term);
this.close(event);event.preventDefault()}break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible"))event.preventDefault();return}if(suppressKeyPressRepeat)return;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",
event);break;case keyCode.DOWN:this._keyEvent("next",event);break}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return}this._searchTimeout(event)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(event);this._change(event)}});this._initSource();this.menu=$("\x3cul\x3e").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");
this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==$.ui.safeActiveElement(this.document[0]))this.element.trigger("focus")})},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)});
return}}item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item}))if(event.originalEvent&&/^key/.test(event.originalEvent.type))this._value(item.value);label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("\x3cdiv\x3e").text(label).appendTo(this.liveRegion)}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");
this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item})}if(false!==this._trigger("select",event,{item:item}))this._value(item.value);this.term=this._value();this.close(event);this.selectedItem=item}});this.liveRegion=$("\x3cdiv\x3e",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},
_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value);if(key==="source")this._initSource();if(key==="appendTo")this.menu.element.appendTo(this._appendTo());if(key==="disabled"&&value&&this.xhr)this.xhr.abort()},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,
event.target)},_closeOnClickOutside:function(event){if(!this._isEventTargetInWidget(event))this.close()},_appendTo:function(){var element=this.options.appendTo;if(element)element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);if(!element||!element[0])element=this.element.closest(".ui-front, dialog");if(!element.length)element=this.document[0].body;return element},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;
this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr)that.xhr.abort();that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}}else this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=
this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||equalValues&&!menuVisible&&!modifierKey){this.selectedItem=null;this.search(null,event)}},this.options.delay)},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength)return this.close(event);if(this._trigger("search",event)===false)return;return this._search(value)},
_search:function(value){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex)this.__response(content);this.pending--;if(!this.pending)this._removeClass("ui-autocomplete-loading")},this)},__response:function(content){if(content)content=this._normalize(content);this._trigger("response",null,{content:content});if(!this.options.disabled&&
content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open")}else this._close()},close:function(event){this.cancelSearch=true;this._close(event)},_close:function(event){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event)}},_change:function(event){if(this.previous!==this._value())this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){if(items.length&&
items[0].label&&items[0].value)return items;return $.map(items,function(item){if(typeof item==="string")return{label:item,value:item};return $.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus)this.menu.next();this._on(this.document,
{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("\x3cli\x3e").append($("\x3cdiv\x3e").text(item.label)).appendTo(ul)},_move:function(direction,
event){if(!this.menu.element.is(":visible")){this.search(null,event);return}if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine)this._value(this.term);this.menu.blur();return}this.menu[direction](event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,
event);event.preventDefault()}},_isContentEditable:function(element){if(!element.length)return false;var editable=element.prop("contentEditable");if(editable==="inherit")return this._isContentEditable(element.parent());return editable==="true"}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||
value.value||value)})}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;if(content&&content.length)message=this.options.messages.results(content.length);else message=this.options.messages.noResults;
this.liveRegion.children().hide();$("\x3cdiv\x3e").text(message).appendTo(this.liveRegion)}});var widgetsAutocomplete=$.ui.autocomplete});var CommonNPC={};
(function(){function requestAnimationFrameShim(callback){setTimeout(callback,1E3/60)}var mediasWidth={xsMin:320,smMin:650,mdMin:990,lgMin:1170,xlMin:1366};var mediasScreen={screenXsMin:mediasWidth.xsMin+"px",screenXsMax:mediasWidth.smMin-1+"px",screenSmMin:mediasWidth.smMin+"px",screenSmMax:mediasWidth.mdMin-1+"px",screenMdMin:mediasWidth.mdMin+"px",screenMdMax:mediasWidth.lgMin-1+"px",screenLgMin:mediasWidth.lgMin+"px",screenLgMax:mediasWidth.xlMin-1+"px",screenXlMin:mediasWidth.lgMin+"px"};CommonNPC=
{medias:{xsMin:mediasWidth.xsMin,xsMax:mediasWidth.smMin-1,smMin:mediasWidth.smMin,smMax:mediasWidth.mdMin-1,mdMin:mediasWidth.mdMin,mdMax:mediasWidth.lgMin-1,lgMin:mediasWidth.lgMin,lgMax:mediasWidth.xlMin-1,xlMin:mediasWidth.xlMin,screenXsMin:mediasScreen.screenXsMin,screenXsMax:mediasScreen.screenXsMax,screenSmMin:mediasScreen.screenSmMin,screenSmMax:mediasScreen.screenSmMax,screenMdMin:mediasScreen.screenMdMin,screenMdMax:mediasScreen.screenMdMax,screenLgMin:mediasScreen.screenLgMin,screenLgMax:mediasScreen.screenLgMax,
screenXlMin:mediasScreen.screenXlMin,mqXsMin:"(min-width: "+mediasScreen.screenXsMin+")",mqXsMax:"(max-width: "+mediasScreen.screenXsMax+")",mqSmMin:"(min-width: "+mediasScreen.screenSmMin+")",mqSmMax:"(max-width: "+mediasScreen.screenSmMax+")",mqMdMin:"(min-width: "+mediasScreen.screenMdMin+")",mqMdMax:"(max-width: "+mediasScreen.screenMdMax+")",mqLgMin:"(min-width: "+mediasScreen.screenLgMin+")",mqLgMax:"(max-width: "+mediasScreen.screenLgMax+")",mqXlMin:"(min-width: "+mediasScreen.screenXlMin+
")"},requestAnimationFrame:function(callback){var requestFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim;requestFn.call(window,callback)},debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,
args)}},throttle:function(func,delay){var last;var timer;return function(){var context=this;var now=+new Date;var args=arguments;if(last&&now<last+delay){clearTimeout(timer);timer=setTimeout(function(){last=now;func.apply(context,args)},delay)}else{last=now;func.apply(context,args)}}},getWindowPaddings:function(defaultPaddings,directions){if(typeof defaultPaddings!=="object")defaultPaddings={top:defaultPaddings||0,right:defaultPaddings||0,bottom:defaultPaddings||0,left:defaultPaddings||0};var paddings=
{top:defaultPaddings.top||0,right:defaultPaddings.right||0,bottom:defaultPaddings.bottom||0,left:defaultPaddings.left||0};var baseDirections={top:false,right:false,bottom:false,left:false};if(typeof directions==="undefined")directions={top:true,right:true,bottom:true,left:true};else if(typeof directions==="string"){var d={};d[directions]=true;directions=d}directions=$.extend({},baseDirections,directions);var addPaddings=function($elms,direction){$elms.each(function(){var $this=$(this);if($this.hasClass("CourseProjectFixed--show")||
$this.css("position")==="fixed"&&$this.css("visibility")!=="hidden"&&$this.css("opacity")!=="0")paddings[direction]+=$this.height()})};if(directions.top===true){var fixedTopSelectors=[".js-Header",".js-AlertBanner",".js-navbar-scrollspy"];var $fixedTop=$(fixedTopSelectors.join(",")).filter(":visible");addPaddings($fixedTop,"top")}if(directions.bottom===true){var $fixedBottom=$(".SynthesisLinksBar:visible");addPaddings($fixedBottom,"bottom")}return paddings},scrollTo:function(scrollTopTarget,duration,
offsetAdd){if(duration===undefined)duration=300;var HEADER_STICKY_ON=120;var HEADER_STICKY_HEIGHT=60;var scrollTop=scrollTopTarget;var scrollspy=$(window).data("bs.scrollspy");if(scrollTop<HEADER_STICKY_ON)scrollTop=0;else{if(scrollspy){var $navBar=$(scrollspy.options.target);if(scrollspy.offsets[0]<=scrollTop||$navBar.css("visibility")==="visible")scrollTop-=$navBar.outerHeight()-1}scrollTop-=HEADER_STICKY_HEIGHT;if(offsetAdd)scrollTop-=offsetAdd}$("body,html").stop(true,true).animate({scrollTop:scrollTop},
duration)},scrollToOnElm:function($scrollTarget,scrollTop,duration,offsetAdd){if(duration===undefined)duration=300;var scrollTargetScroll=$scrollTarget.scrollTop();var scrollTargetTop=$scrollTarget.offset().top;if(offsetAdd)scrollTop-=offsetAdd;$scrollTarget.stop(true,true).animate({scrollTop:scrollTargetScroll+scrollTop-scrollTargetTop},duration)},scrollToElement:function($target,duration,offsetAdd){if($target.length)CommonNPC.scrollTo($target.offset().top,duration,offsetAdd)},scrollToHref:function(href,
duration,offsetAdd){CommonNPC.scrollToElement($(href),duration,offsetAdd)},initSlider:function($sliders,owlOptions,customOptions){var otp=$.extend({},{minItems:1,addClass:false},customOptions);return $sliders.each(function(){var $slider=$(this);var $cq=$slider.children("cq");var $childrens=$slider.children().not($cq);if($childrens.length<otp.minItems)return;if($cq.length!==0){$cq.appendTo("body");$slider.on("initialized.owl.carousel",function(){$cq.appendTo($slider)})}$slider.trigger("defined.slider",
[$slider,$childrens]);if(otp.addClass===true)$slider.addClass("owl-carousel");else if(typeof otp.addClass==="string")$slider.addClass(otp.addClass);if(typeof owlOptions==="function")owlOptions=owlOptions({nbChilds:$childrens.length});$slider.owlCarousel(owlOptions)})},isAEMEditor:window.top!==window,actions:{},cssVars:{}};var CommonActions={initialize:function(){this.initTemplateHead();this.initStickyPush();this.initMatchHeight();this.initOutput();this.initBackTop();this.initSelect($(".selectpicker"));
this.initDatepicker();this.initCustomRedirect();this.initSplitMaxLength();CommonNPC.actions.initSelect=this.initSelect.bind(this);var $window=$(window);var didScrollThrottle=false;var handleScrollThrottle=function(){didScrollThrottle=false;$window.trigger("throttled-scroll")};$window.on("debounced-resize",function(){CommonActions.initTemplateHead()});$(window.top).on("resize.debounce orientationchange.debounce",CommonNPC.debounce(function(){$window.trigger("debounced-resize")},250)).on("scroll.throttle",
CommonNPC.throttle(function(){if(didScrollThrottle===false){didScrollThrottle=true;CommonNPC.requestAnimationFrame(handleScrollThrottle)}},50));$(".input-clear").addClear({onClear:function($elm){$elm.trigger("keyup").trigger("change")}});this.initMultiModal();$(window).load(function(){$('.js-scrollTo,a[href^\x3d"#"]').not('.js-no-scrollTo,[href\x3d"#"],[data-toggle\x3d"tab"]').on("click.scrollTo",function(e){e.preventDefault();var $this=$(this);var href=$this.attr("href")||$this.data("href");var alertBanner=
$(".js-AlertBanner").not(".hidden");setTimeout(function(){if($this.data("preventScrollTo")!==true){if(!alertBanner)CommonNPC.scrollToHref(href);else{var offsetAlert=alertBanner.outerHeight();CommonNPC.scrollToHref(href,300,offsetAlert)}if(href!==undefined){if(href[0]==="#"&&history.pushState!==undefined)history.pushState({},"",href);$(href).attr("tabindex","-1");$(href).focus()}}$this.data("preventScrollTo",false)},1)})});if(window.location.hash){var scrollHash=function(){if(window.location.hash===
"#")CommonNPC.scrollTo(0,0);else if(window.location.hash[1]!=="!")CommonNPC.scrollToHref(window.location.hash,0)};$window.on("load.scrollTo",function(){setTimeout(scrollHash,1)}).on("hashchange.scrollTo",function(){scrollHash()})}$(".js-Radio-activateBtn").on("change",function(){var $this=$(this);var $form=$this.closest("form");var selected=$form.find('[name\x3d"'+$this.prop("name")+'"]:checked').length!==0;$form.find(".js-Btn-disabled").prop("disabled",!selected)});$(".carousel").on("slid.bs.carousel",
function(){$(this).trigger("matchHeight.update")});$(".js-backgroundGray01Alternate").each(function(){var $wrap=$(this);var startWhite=$wrap.data("start-white")===true;var moduloValue=startWhite===true?1:0;$wrap.find(".js-backgroundGray01Alternate-item").each(function(i){$(this).toggleClass("Template-backgroundBrandGray01",i%2===moduloValue)})})},initSelectSettings:function(){var paddings=CommonNPC.getWindowPaddings();$.fn.selectpicker=$.fn.selectpicker||{};$.fn.selectpicker.defaults=$.extend({},
$.fn.selectpicker.defaults,{noneSelectedText:"",windowPadding:[paddings.top,paddings.right,paddings.bottom,paddings.left]});var updateSize=function($elm){var paddings=CommonNPC.getWindowPaddings();$elm.selectpicker({windowPadding:[paddings.top,paddings.right,paddings.bottom,paddings.left]}).selectpicker("setSize")};var $open=$();var changedEventsArray=["debounced-resize","header.heightChanged","marginChanged.template","showed.courseProjectFixed","hidden.courseProjectFixed"];var changedEvents=changedEventsArray.join(".select ")+
".select";$(window).off("rendered.bs.select.npc").on("rendered.bs.select.npc",function(e){var $this=$(e.target);setTimeout(function(){var selectPicker=$this.data("selectpicker");if(typeof selectPicker!=="undefined"){var title=selectPicker.$button.attr("title");if(title!=="")selectPicker.$button.attr("aria-label",title).attr("title","")}},0)}).off("show.bs.select.npc").on("show.bs.select.npc",function(e){var $elm=$(e.target);updateSize($elm);$open=$open.add($elm);$(window).off(changedEvents).on(changedEvents,
function(){$open.each(function(){updateSize($(this))})})}).off("hide.bs.select.npc").on("hide.bs.select.npc",function(e){var $elm=$(e.target);$open=$open.not($elm);if($open.length===0)$(window).off(changedEvents)})},initSelect:function($elm,options){$elm.selectpicker(options)},initTemplateHead:function(){},initStickyPush:function(){var $StickyPushFull=$(".js-StickyPushFull");if($StickyPushFull.length)$StickyPushFull.stick_push({target:function(elm){return $(elm).parent().closest(".row")}});var $StickyPush=
$(".js-StickyPush");if($StickyPush.length)enquire.register(CommonNPC.medias.mqMdMin,{match:function(){$StickyPush.stick_push({target:function(elm){return $(elm).parent().closest(".row")}})},unmatch:function(){$StickyPush.each(function(){if($(this).data("sticky"))$(this).data("sticky").destroy()})}})},initMatchHeight:function(){var $matchHeight=$(".matchHeight");if($matchHeight.length){var $currentMathHeight=$();$matchHeight.each(function(){var $this=$(this);var $otherMatchHeight=$matchHeight.not($this);
if($currentMathHeight.filter($this).length===0&&$this.parent().closest($otherMatchHeight).length===0){var found=false;var $row=$this.closest(".row");while(found===false&&$row.length!==0){var $closestMatch=$row.find($otherMatchHeight);if($closestMatch.length!==0){$closestMatch=$closestMatch.add($this);var $childs=$closestMatch.find($closestMatch);if($childs.length)$closestMatch=$childs;$closestMatch.off("matchHeight.update").on("matchHeight.update",function(){$closestMatch.matchHeight()}).matchHeight();
$currentMathHeight=$currentMathHeight.add($closestMatch);found=true}else $row=$row.parent().closest(".row")}if(typeof NPC!=="undefined"&&NPC.logDebugEnabled===true&&found===false)console.warn('No ".row" element found with other ".matchHeight" for this element: ',$this)}})}},initOutput:function(){$(".js-OutputMsg-close").on("click.OutputMsg",function(e){e.preventDefault();$(this).parent().fadeOut()})},initOpeningModal:function(){var $bodyHtml=$("body,html");$(window).on("show.bs.modal",function(e){var $modal=
$(e.target);$modal.on("hide.bs.modal.custom",function(){$modal.off("hide.bs.modal.custom");$bodyHtml.scrollTop(0).removeClass("is-overflowHidden")}).attr("tabIndex","-1");if(!$modal.is("#modalPuMessagesPrioritaires"))$modal.appendTo("body");$bodyHtml.scrollTop(0).addClass("is-overflowHidden");$modal.find("a").last().on("keydown",function(event){if(event.key==="Tab"&&event.shiftKey!==true){$modal.focus();return false}});$modal.on("keydown",function(event){var idModal=$modal.attr("id");if(event.key===
"Tab"&&event.shiftKey===true&&idModal===event.target.id){$modal.find("a").last().focus();return false}});$modal.find("a:not([href])[onclick]").on("keydown",function(event){if(event.key==="Enter")$(event).click()})})},initHidingModal:function(){$(window).on("hide.bs.modal",function(e){$(e.target).attr("tabIndex","0")})},initMultiModal:function(){$(".modal").not(".js-TimeoutModal").on("show.bs.modal",function(){$(".modal").modal("hide")})},initDatepickerSettings:function(){$.fn.datepicker=$.fn.datepicker||
{};$.fn.datepicker.defaults=$.extend($.fn.datepicker.defaults,{todayBtn:"linked",language:"fr",autoclose:true,todayHighlight:true,templates:{leftArrow:'\x3ci class\x3d"icon npc-arrow-previous"\x3e\x3c/i\x3e',rightArrow:'\x3ci class\x3d"icon npc-arrow-next"\x3e\x3c/i\x3e'}})},initDatepicker:function(){var $datepicker=$(".js-startDateToday");if($datepicker.length)$datepicker.datepicker({todayBtn:"linked",language:"fr",startDate:new Date,autoclose:true,todayHighlight:true})},initBackTop:function(){var VISIBLE_CLASS=
"backtop--visible";var MIN_SCROLL=120;var $backTop=$(".js-backtop");if($backTop.length===0)return;var $window=$(window);var $scroll=$("body,html");var isVisible=false;var setVisible=function(needVisible){$backTop.toggleClass(VISIBLE_CLASS,needVisible);isVisible=needVisible};var getScrollTop=function(){var scroll=0;$scroll.each(function(){var elmScroll=$(this).scrollTop();if(elmScroll!==0)scroll=elmScroll});return scroll};var updateBottom=function(){var paddings=CommonNPC.getWindowPaddings(undefined,
"bottom");$backTop.css("bottom",paddings.bottom)};$window.on("throttled-scroll.backTop",function(){var scroll=getScrollTop();if(isVisible===false&&scroll>=MIN_SCROLL)setVisible(true);else if(isVisible===true&&scroll<MIN_SCROLL)setVisible(false)}).on("marginChanged.template.backTop debounced-resize.backTop",function(){updateBottom()});updateBottom();$backTop.on("click.backTop",function(){CommonNPC.scrollTo(0)})},initCustomRedirect:function(){var move=false;$("[data-custom-redirect]").off("touchmove.redirect").on("touchmove.redirect",
function(){move=true}).off("touchend.redirect").on("touchend.redirect",function(){move=false}).off("click.redirect").on("click.redirect",function(e){var $this=$(this);if(move===false){$this.trigger("touchstart");var $closestA=$(e.target).closest("a");if($closestA.length===0||$closestA.hasClass("js-prevent")){var customRedirect=$this.data("custom-redirect");if(customRedirect!==0&&!customRedirect)return;if(isNaN(customRedirect)===false){var url=$this.find("a").eq(customRedirect).attr("href");window.location.assign(url)}else if(typeof customRedirect===
"object"&&customRedirect.target==="_blank")window.open(customRedirect.url,"_blank");else window.location.assign(customRedirect.url||customRedirect)}}});$(".js-prevent").off("click.prevent").on("click.prevent",function(e){e.preventDefault()})},initSplitMaxLength:function(){$(document).off("input.maxlength keyup.maxlength","input[maxlength]").on("input.maxlength keyup.maxlength","input[maxlength]",function(){var $this=$(this);var maxChar=$this.attr("maxlength");var totalVal=$this.val();if(maxChar!==
undefined&&maxChar!==""&&totalVal.length>maxChar){var croppedVal=totalVal.substring(0,maxChar);$this.val(croppedVal)}})}};function wrapSvgImgWithSize(img,width,height,callback){if(img.parentNode.className.indexOf("js-needFakeNotSvg")!==-1)return;var div=document.createElement("div");div.className=img.className+"";div.style.position="relative";setTimeout(function(){img.className=""},0);img.style.position="absolute";img.style.top="50%";img.style.left="50%";img.style.maxWidth="100%";img.style.maxHeight=
"100px";img.style.height="100%";img.style.transform="translate(-50%, -50%)";var canvas=document.createElement("canvas");canvas.style.width=width;canvas.style.height=height;var ctx=canvas.getContext("2d");ctx.canvas.width=width;ctx.canvas.height=height;var fakeImg=document.createElement("img");fakeImg.src=ctx.canvas.toDataURL("image/jpeg");fakeImg.style.opacity="0";fakeImg.style.maxWidth="100%";fakeImg.style.maxHeight="100%";fakeImg.style.visibility="hidden";img.parentNode.insertBefore(div,img);div.appendChild(img);
div.appendChild(fakeImg);if(typeof callback==="function")callback()}function wrapSvgImg(img,callback){var width=img.naturalWidth;var height=img.naturalHeight;if(width===0&&height===0){$.get(img.src,function(svgxml){var attrs=svgxml.documentElement.attributes;if(attrs.viewBox){var splitViewBox=attrs.viewBox.value.split(" ");width=parseFloat(splitViewBox[2])-parseFloat(splitViewBox[0]);height=parseFloat(splitViewBox[3])-parseFloat(splitViewBox[1])}else if(attrs.width&&attrs.height){width=attrs.width.value;
height=attrs.height.value}if(width!==0&&height!==0)wrapSvgImgWithSize(img,width,height,callback)},"xml");return false}wrapSvgImgWithSize(img,width,height,callback);return true}function setFakeNotSvg(){$('img.js-needFakeNotSvg[src$\x3d".svg"]').each(function(){var img=this;var $img=$(img);var onHeader=$img.closest(".js-Header").length!==0;var callback=onHeader===false?null:function(){$(window).trigger("reload.sliderNav")};img.onload=function(){wrapSvgImg(img,callback)};wrapSvgImg(img,callback)})}CommonActions.initDatepickerSettings();
CommonActions.initSelectSettings();CommonActions.initOpeningModal();CommonActions.initHidingModal();$(function(){CommonActions.initialize();setFakeNotSvg()});$(window).on({"setFakeNotSvg":setFakeNotSvg,"initCustomRedirect":function(){CommonActions.initCustomRedirect()}});$(window).load(function(){setFakeNotSvg()});$(document).off("show.bs.modal",".modal.js-TimeoutModal").on("show.bs.modal",".modal.js-TimeoutModal",function(){var self=this;var selfID=self.id;var CDtimer=self.getElementsByClassName("countdowntimer");
if(CDtimer){var startDate=Date.now();var totalTime=CDtimer[0].dataset.total;var timeleft=CDtimer[0].dataset.timer;if(timeleft!==totalTime)var endDate=startDate+1E3*timeleft;else var endDate=startDate+1E3*totalTime;DrawLoader(totalTime,endDate,timeleft,self,false);var drawLoader=setInterval(function(){DrawLoader(totalTime,endDate,timeleft,self,true);if(Date.now()>=endDate)clearInterval(drawLoader);$(document).on("show.bs.modal",".modal.js-TimeoutModal#"+selfID,function(){clearInterval(drawLoader)})},
1E3);drawCountDown(CDtimer[0],endDate,timeleft,selfID)}else return false});function DrawLoader(Total,End,left,elm,initialized){var loader=elm.getElementsByClassName("loaderTimeout");var deltaTimer=left/Total;var \u03b1init=(1-deltaTimer)*360;var \u03b1=(1-(End-Date.now())/(Total*1E3))*360;var \u03c0=Math.PI;var anim="M 0 0 v -30 A 30 30 1 "+0+" 1 "+0+" "+0+" z";loader[0].setAttribute("d",anim);function draw(ainit,a,elm){ainit%=360;a%=360;if(initialized===false){var r=ainit*\u03c0/180;initialized=
true}else var r=a*\u03c0/180;var x=Math.sin(r)*30;var y=Math.cos(r)*-30;var mid=\u03b1>180?1:0;var anim="M 0 0 v -30 A 30 30 1 "+mid+" 1 "+x+" "+y+" z";elm.setAttribute("d",anim)}draw(\u03b1init,\u03b1,loader[0])}function drawCountDown(elm,End,left,parentID){var minutesTimeleft=left/60;var minutes=Math.floor(Math.abs(minutesTimeleft));var secondes=left%60;writeTimeleft(minutes,secondes);var Longtimer=setInterval(function(){left--;minutes=Math.floor(Math.abs(left/60));secondes=left%60;writeTimeleft(minutes,
secondes);if(left<=0)clearInterval(Longtimer);$(document).on("show.bs.modal",".modal.js-TimeoutModal#"+parentID,function(){clearInterval(Longtimer)})},1E3);function writeTimeleft(minutes,secondes){if(minutes>0)elm.textContent=minutes+" min "+secondes+" sec";else elm.textContent=secondes+" sec"}}$(document).off("shown.bs.collapse").on("shown.bs.collapse",function(){$(window).trigger("heightChanged")}).off("hidden.bs.collapse").on("hidden.bs.collapse",function(){$(window).trigger("heightChanged")});
$(document).ready(function(){if($(".texte \x3e div \x3e table").length){var $tables=$(".texte \x3e div \x3e table");$tables.each(function(){if($(this).find("tr:first td").length)$(this).find("td").addClass("noHeadings");if($(this).find("tr:nth-child(2) th").length===0&&$(this).find("tr:first th:nth-child(2)").length!==0)$(this).basictable();else{$(this).find("th").addClass("notBasic");$(this).find("td").addClass("noHeadings")}})}})})();var NPC=NPC||{};
String.prototype.insertAt=function(index,string){return this.substr(0,index)+string+this.substr(index)};
String.prototype.sansAccent=function(){var accent=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g];var noaccent=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"];var str=this;for(var i=0;i<accent.length;i++)str=str.replace(accent[i],noaccent[i]);return str};
$.fn.setCursorPosition=function(pos){this.each(function(index,elem){if(elem.setSelectionRange)elem.setSelectionRange(pos,pos);else if(elem.createTextRange){var range=elem.createTextRange();range.collapse(true);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}});return this};
NPC.formatNumber=function(nbr,n,x,s,c){if(nbr==undefined||nbr==NaN)return nbr;var re="\\d(?\x3d(\\d{"+(x||3)+"})+"+(n>0?"\\D":"$")+")",num=parseFloat(""+nbr).toFixed(Math.max(0,~~n));return(c?num.replace(".",c):num).replace(new RegExp(re,"g"),"$\x26"+(s||","))};NPC.formatCurrency=function(montant,currencySymbol){return NPC.formatNumber(montant,2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};
NPC.formatCurrencyWithSymbol=function(montant,currencySymbol){currencySymbol=currencySymbol==undefined?"":currencySymbol;var symbol=montant<0?"":"+";return symbol+NPC.formatNumber(montant,2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};NPC.constantes=NPC.constantes||{};NPC.constantes.listeMois=["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"];
$(function(){$(".js-OutputMsg-close").on("click.OutputMsg",function(e){e.preventDefault();$(this).parent().fadeOut()})});
(function(window,document,$){var isEventSupported=function(){var TAGNAMES={"select":"input","change":"input","submit":"form","reset":"form","error":"img","load":"img","abort":"img"};function isEventSupported(eventName){var el=document.createElement(TAGNAMES[eventName]||"div");eventName="on"+eventName;var isSupported=eventName in el;if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]=="function"}el=null;return isSupported}return isEventSupported}();function ready(){var $header=
$(".js-Header");var $headMobile=$(".js-LayerNav-headMobile");var ALERT_BANNER_TOP_CLASS="AlertBanner--top";var ES_MAIN_NAV_CLASS="ES-MainNav";var HEADER_FIXED_SELECTOR=".js-ComparativeTable-headerFixed";var $comparativeTableHeaderFixed=$(HEADER_FIXED_SELECTOR);var Header={initialize:function(){this.eventsButton();this.initAlert();this.initFullHeight();$(window.top).on("debounced-resize.header orientationchange.header",function(){Header.setMarginTopTemplate()});if(isEventSupported("scrollend"))window.addEventListener("scrollend",
function(){Header.setMarginTopTemplate()});else $(window).scroll(function(){Header.setMarginTopTemplate()});$(window).off("initAlert.header").on("initAlert.header",this.initAlert);if($header.filter(".HeaderLogged:visible").length)this.setBodyClass("logged");else this.initSticky();this.setMarginTopTemplate()},eventsButton:function(){$(".js-Header-search").off("click.openSearch touchstart.openSearch").on("click.openSearch touchstart.openSearch",function(e){e.preventDefault();if(jQuery_3_7_1)jQuery_3_7_1(window).trigger("openSearch.tracking");
$(window).trigger("openSearch.inbenta")}).off("keyup.openSearch").on("keyup.openSearch",function(e){if(e.keyCode===13){e.preventDefault();$(window).trigger("openSearch.inbenta")}})},initFullHeight:function(){var currentHeight=0;var headerMinHeight=Infinity;var headerMaxHeight=0;var currentHeight=$header.show().height();$header.css("display","");if(currentHeight<headerMinHeight)headerMinHeight=currentHeight;if(currentHeight>headerMaxHeight)headerMaxHeight=currentHeight;var fullHeightBase=function($elms,
divider,isMin){divider=divider||1;currentHeight=$(window.top).height();var currentHeaderHeight=$header.filter(":visible").height();var $alertBannerTop=$("."+ALERT_BANNER_TOP_CLASS);var $ESMainNavHeight=$("."+ES_MAIN_NAV_CLASS);var AlertBannerHeight=0;var ESMainNavHeight=0;if($alertBannerTop)AlertBannerHeight=$alertBannerTop.height();if($ESMainNavHeight)ESMainNavHeight=$ESMainNavHeight.height();var height=currentHeight-currentHeaderHeight-AlertBannerHeight-ESMainNavHeight;var minHeight=currentHeight-
headerMaxHeight-AlertBannerHeight-ESMainNavHeight;$elms.each(function(){var $this=$(this);var sticky=$this.closest(".js-Sticky--enable").length!==0;var currentHeight=sticky===true?height:minHeight;if($this.data("fullHeight")!==currentHeight){var divided=currentHeight/divider;var delta=currentHeaderHeight-headerMinHeight;if(isMin===true)$this.css("min-height",divided);else $this.outerHeight(divided);$this.data("fullHeight",divided).trigger("sticky.heightChanged").toggleClass("js-fullHeight--hasDelta",
delta!==0)}})};var $fullHeightFull=$(".js-FullHeightFull");if($fullHeightFull.length!==0){var fullHeight=function(){fullHeightBase($fullHeightFull)};$(window).off("header.heightChanged.FullHeightFull",fullHeight).on("header.heightChanged.FullHeightFull",fullHeight).off("debounced-resize.FullHeightFull",fullHeight).on("debounced-resize.FullHeightFull",fullHeight).off("click.closeAlert",fullHeight).on("click.closeAlert",fullHeight);fullHeight()}var $fullHeight=$(".js-FullHeight");if($fullHeight.length!==
0)enquire.register(CommonNPC.medias.mqMdMin,{match:function(){var fullHeightDesktop=function(){fullHeightBase($fullHeight)};$(window).off("header.heightChanged.FullHeight",fullHeightDesktop).on("header.heightChanged.FullHeight",fullHeightDesktop).off("debounced-resize.FullHeight",fullHeightDesktop).on("debounced-resize.FullHeight",fullHeightDesktop).off("click.closeAlert",fullHeightDesktop).on("click.closeAlert",fullHeightDesktop);fullHeightDesktop();function waitForElement(elementPath,callBack){window.setTimeout(function(){if($(elementPath).length)callBack(elementPath,
$(elementPath));else waitForElement(elementPath,callBack)},500)}waitForElement(".AlertBanner--top",function(){fullHeightDesktop()})},unmatch:function(){$fullHeight.height("");$(window).off("header.heightChanged.FullHeight").off("debounced-resize.FullHeight")}});var $fullMinHeight=$(".js-FullMinHeight");if($fullMinHeight.length!==0)enquire.register(CommonNPC.medias.mqMdMin,{match:function(){var fullHeightDesktop=function(){fullHeightBase($fullMinHeight,1,true)};$(window).off("header.heightChanged.FullMinHeight",
fullHeightDesktop).on("header.heightChanged.FullMinHeight",fullHeightDesktop).off("debounced-resize.FullMinHeight",fullHeightDesktop).on("debounced-resize.FullMinHeight",fullHeightDesktop).off("click.closeAlert",fullHeightDesktop).on("click.closeAlert",fullHeightDesktop);fullHeightDesktop()},unmatch:function(){$fullMinHeight.css("min-height","");$(window).off("header.heightChanged.FullMinHeight").off("debounced-resize.FullMinHeight")}});var $halfHeight=$(".Template-splitMinHeight50,.js-HalfMinHeight");
var $halfHeightEditable=$(".Template-splitMinHeight50 .cq-Editable-dom");if($halfHeight.length!==0&&$halfHeightEditable.length!==0)enquire.register(CommonNPC.medias.mqMdMin,{match:function(){var fullHeightDesktopHalf=function(){fullHeightBase($halfHeight,2,true)};$(window).off("header.heightChanged.HalfHeight",fullHeightDesktopHalf).on("header.heightChanged.HalfHeight",fullHeightDesktopHalf).off("debounced-resize.HalfHeight",fullHeightDesktopHalf).on("debounced-resize.HalfHeight",fullHeightDesktopHalf).off("click.closeAlert",
fullHeightDesktopHalf).on("click.closeAlert",fullHeightDesktopHalf);fullHeightDesktopHalf()},unmatch:function(){$halfHeight.css("min-height","");$(window).off("header.heightChanged.HalfHeight").off("debounced-resize.HalfHeight")}})},setBodyClass:function(state){$("body").toggleClass("has-header-sticky",state==="sticky").toggleClass("has-header-logged",state==="logged").toggleClass("has-header-default",state==="default")},initSticky:function(){if($header.length){var that=this;var hideSticky=function(){$header.find(".Header-lowerNav .npc-h-action-bar").hide();
$header.find(".Header-upperNav").show();$(window).trigger("header.heightChanged");$header.find(".Header-logo.logo-header").css("max-width","");$header.find(".Header-logo.logo-header").css("width","");$header.find(".Header-logo.logo-header").css("min-width","");$header.find(".Header-nav").css("max-width","");$header.find(".Header-nav").css("width","");$header.find(".Header-logo.logo-header .Header-logoImg").removeClass("hidden");$header.find(".Header-logo.logo-header .HeaderSticky-logoImg ").addClass("hidden");
$header.removeClass("npc-h-navLink-sticky");that.setBodyClass("default");$header.find(".js-sliderNav").removeClass("MainNav")};var displaySticky=function(){$header.find(".Header-lowerNav .npc-h-action-bar").show();$header.find(".Header-upperNav").hide();$header.find(".Header-logo.logo-header").css("max-width",60);$header.find(".Header-logo.logo-header").css("width",60);$header.find(".Header-logo.logo-header").css("min-width",60);$header.find(".Header-nav").css("max-width","unset");$header.find(".Header-nav").css("width",
"calc(100% - 60px)");$header.find(".Header-logo.logo-header .Header-logoImg").addClass("hidden");$header.find(".Header-logo.logo-header .HeaderSticky-logoImg ").removeClass("hidden");$(window).trigger("header.heightChanged");$header.addClass("npc-h-navLink-sticky");that.setBodyClass("sticky");$header.find(".js-sliderNav").addClass("MainNav")};enquire.register(CommonNPC.medias.mqMdMin,{match:function(){var delta=120;var sticky=false;var toggleSticky=function(){var scrollPosition=$(window.top).scrollTop();
if(window.innerWidth<990||sticky&&scrollPosition<delta){hideSticky();sticky=false}else if(!sticky&&scrollPosition>=delta){displaySticky();sticky=true}};$(window).on("throttled-scroll.headerSticky",toggleSticky).on("load.headerSticky",toggleSticky);toggleSticky()},unmatch:function(){hideSticky()}})}},initAlert:function(){var $alert=$(".js-AlertBanner");$(window).off("debounced-resize.alertBanner");if($alert.length){$(".js-AlertBanner-close").off("click.closeAlert").on("click.closeAlert",function(e){e.preventDefault();
$(this).closest(".js-AlertBanner").remove();Header.setAlertStyle();$(window).trigger("header.heightChanged");var headerHeight=$header.outerHeight();var headMobile=$headMobile.outerHeight();enquire.register(CommonNPC.medias.mqSmMax,{match:function(){$(".js-headerLayers.Header-layers--fullsizeXS.Header-layers--fullsizeSM").css({top:0,height:$(window.top).height()-$(".js-AlertBanner.AlertBanner--top").outerHeight()+"px"});$(".js-LayerNav-account .LayerNav-push--nav").css({height:$(window.top).height()-
(headerHeight+headMobile)+"px"})},unmatch:function(){$(".js-headerLayers").css({top:headerHeight,height:""})}});var $headerVisible=$header.filter(":visible");if($headerVisible.length)$comparativeTableHeaderFixed.css("top",$header.outerHeight());else{$comparativeTableHeaderFixed.css("top",$header.outerHeight());enquire.register(CommonNPC.medias.mqXsMax,{match:function(){$comparativeTableHeaderFixed.css("top",0)},unmatch:function(){$comparativeTableHeaderFixed.css("top",$header.outerHeight())}})}});
var $alertBannerTop=$alert.filter("."+ALERT_BANNER_TOP_CLASS);if($alertBannerTop.length){Header.setAlertStyle($alertBannerTop);$(window).off("debounced-resize.alertBanner").on("debounced-resize.alertBanner",function(){Header.setAlertStyle($alert)}).off("orientationchange").on("orientationchange",function(){Header.setAlertStyle($alert)})}}},setAlertStyle:function($alert){var heightHeader=NPC.getHeaderHeight();if(typeof $alert!==typeof undefined&&$alert.filter(":visible").length&&$alert.hasClass(ALERT_BANNER_TOP_CLASS)){var heightAlert=
$alert.outerHeight();$header.css("margin-top",heightAlert);$(".js-headerLayers").css({top:heightHeader,height:$(window.top).height()-heightHeader})}else{$header.css("margin-top","");$(".js-headerLayers").css({top:heightHeader,height:""})}this.setMarginTopTemplate()},setMarginTopTemplate:function(){var heightHeader=0;var $visibleHeader=$header.filter(":visible");var $societairesHeader=$(".ES-MainNav");var $alertBanner=$("."+ALERT_BANNER_TOP_CLASS);if($visibleHeader.length===0){$header.show();$header.css("display",
"")}if($(".js-Header").filter(".contexthub-header-non-connecte").length!==0)if(window.innerWidth<990)heightHeader=60;else heightHeader=120;else heightHeader=$header.outerHeight();if($societairesHeader.length!==0)heightHeader+=$societairesHeader.outerHeight();if($alertBanner.length!==0)heightHeader+=$alertBanner.filter(":visible").outerHeight();$(".Template").css("margin-top",heightHeader);$(window).trigger("scroll.bs.scrollspy").trigger("marginChanged.template")}};Header.initFullHeight();$(window).load(function(){Header.initialize()});
$(document).on("orientationchange",function(){Header.initialize()})}document.addEventListener("DOMContentLoaded",ready)})(this,document,jQuery);
(function(window,document,$){var Footer={initialize:function(){this.eventsButton()},eventsButton:function(){enquire.register(CommonNPC.medias.mqSmMax,{match:function(){$(".MidFooterLink-SubCategoryTitle").on("click.subCategoryTitle",function(e){e.preventDefault();var target=$(this);target.find(".MidFooterLink-Chevrons").toggleClass("npc-arrow-up npc-arrow-down");target.next(".MidFooterLink-SubCategoryBlocLinks").fadeToggle()})},unmatch:function(){$(".MidFooterLink-SubCategoryTitle").off("click.subCategoryTitle").find(".MidFooterLink-Chevrons").removeClass("npc-arrow-up").addClass("npc-arrow-down");
$(".MidFooterLink-SubCategoryBlocLinks").css("display","")}})}};$(document).ready(function(){Footer.initialize()})})(this,document,jQuery);
(function(window,document,$,CommonNPC,enquire){if($(".js-AlertBanner").length)$(".js-AlertBanner-close").on("click",function(){LayerNav.setLayersHeight();$(".js-MenuMobile").css({"top":0});$(".js-menuRows-main").css({"top":$(".js-MenuMobile .Header-menuHeader").outerHeight()+"px"});$(".LayerNav-content").css({"height":$(window.top).height()-(47+$(".Header-menuHeader").outerHeight())});$(".js-headerLayers").css({"top":$(".js-Header").outerHeight(),"height":$(window).height()});$(".js-LayerNav-account .LayerNav-push--nav").css({"height":$(window.top).height()-
$(".js-Header").outerHeight()});$(".js-LayerNav-account .Header-menuHeader").css({"top":0});$(".js-LayerNav-account .visible-xs.visible-sm").css({"margin-top":$(".js-Header").outerHeight()})});this.LayerNav={$triggerBtn:null,setLayersHeight:function(name){var $headerLayers=$(".js-headerLayers");var windowHeight=$(window.top).height();var headerHeight=NPC?NPC.getHeaderHeight():120;var alertBannerTopHeight=0;if($(".js-AlertBanner.AlertBanner--top").outerHeight()>0)alertBannerTopHeight=$(".js-AlertBanner.AlertBanner--top").outerHeight();
switch(name){case "account":$headerLayers.css({"top":headerHeight,"height":windowHeight-alertBannerTopHeight+"px","overflow":"visible"});if($(".js-AlertBanner.AlertBanner--top").outerHeight()!==null)$(".js-headerLayers.Header-layers--fullsizeXS.Header-layers--fullsizeSM").css({"top":alertBannerTopHeight});else $(".js-headerLayers.Header-layers--fullsizeXS.Header-layers--fullsizeSM").css({"top":0});$(".js-LayerNav-account .Header-menuHeader").css({"position":"absolute","top":alertBannerTopHeight});
$(".Header-menuHeader.hidden-md.hidden-lg").css({"position":"absolute","top":0});$(".js-LayerNav-account .visible-xs.visible-sm").css({"margin-top":$(".js-Header").outerHeight()});break;case "operations":$headerLayers.css({"top":headerHeight});break;case "status":case "offers":default:$headerLayers.css({"top":headerHeight,"height":windowHeight-headerHeight+"px"});if($(".js-AlertBanner.AlertBanner--top").outerHeight()!==null){$(".js-headerLayers.Header-layers--fullsizeXS.Header-layers--fullsizeSM").css({"top":alertBannerTopHeight});
$(".js-MenuMobile").css({"top":$(".js-AlertBanner.AlertBanner--top").outerHeight()+"px"});$(".js-menuRows-main").css({"top":$(".js-MenuMobile .Header-menuHeader").outerHeight()+$(".js-AlertBanner.AlertBanner--top").outerHeight()+"px"})}else $(".js-headerLayers.Header-layers--fullsizeXS.Header-layers--fullsizeSM").css({"top":0})}$(".js-LayerNav-account .LayerNav-push--nav, .js-LayerNav-cael .LayerNav-content").css({"height":windowHeight-(headerHeight+$(".LayerNav-headMobile").outerHeight())+"px"});
$(".js-LayerNav-account .LayerNav-content, .js-LayerNav-cael .LayerNav-content").css({"height":windowHeight-(47+headerHeight)});$(".js-LayerNav-status .LayerNav-inner .LayerNav-content").css({"height":"calc(100% - "+$(".js-LayerNav-status .js-backMenuMobile").outerHeight()+"px)"});$(".js-LayerNav-operations .LayerNav-inner .LayerNav-content").css({"height":"calc(100% - "+($(".js-LayerNav-operations .js-backMenuMobile").outerHeight()+$(".js-LayerNav-operations .LayerNav-header").outerHeight())+"px)"});
$(".js-LayerNav-offers .MegaNav-Inner .MegaNav-content").css({"height":"calc(100% - "+($(".js-LayerNav-offers .js-backMenuMobile").outerHeight()+$(".js-LayerNav-offers .LayerNav-header").outerHeight())+"px)"});$(".js-LayerNav-documents div .LayerNav-content").css({"height":"calc(100% - "+($(".js-LayerNav-documents .js-backMenuMobile").outerHeight()+$(".js-LayerNav-documents .LayerNav-header").outerHeight())+"px)"})},initialize:function(){var closeLayer=function(e){if(e&&typeof e.preventDefault===
"function")e.preventDefault();LayerNav.close()};var openMobileNav=function(e){closeLayer(e);if(NPC.user.isConnected&&!NPC.user.isMegaMenuConnecteActif){$(".js-menuRows-main").removeClass("hidden");$(".js-MenuMobile").removeClass("hidden");$("body,html").addClass("is-overflowHidden");LayerNav.setLayersHeight()}else toggleMegaMenu(true)};var toggleMegaMenu=function(setOpen){if(setOpen){var $openButton=$(".js-openMegaMenu");if($openButton.length>0)$openButton[0].click()}else{var $closeButton=$(".npc-mmenubar .npc-mmenubar-header .button-close");
if($closeButton.length>0)$closeButton[0].click()}};$(window).off("close.layerNav").on("close.layerNav",closeLayer).off("open.mobileNav.layerNav").on("open.mobileNav.layerNav",openMobileNav);$(".js-toggleLayerNav").off("click.toggle.layer").on("click.toggle.layer",function(e){var $a=$(e.target).closest("a");if($a.length!==0&&$a.hasClass("js-toggleLayerNav")===false)return;var parentElement=$(".js-LayerNav-account");var childElement=parentElement.find(".js-LayerNav-pushNavItem");var dataOrigin=$a.attr("data-origin");
var autresComptes="AutresComptes";var maBanqueEtMoi="MaBanqueEtMoi";if(dataOrigin){childElement.each(function(){$(this).removeClass("LayerNav-pushNavItem--active")});switch(dataOrigin){case autresComptes:$(".js-LayerNav-pushNavItem-OthersAccount").addClass("LayerNav-pushNavItem--active");break;case maBanqueEtMoi:childElement.first().addClass("LayerNav-pushNavItem--active");break}}e.preventDefault();var $this=$(this);clearTimeout($this.data("timer"));LayerNav.toggle(this);if(!NPC.user.isConnected&&
$(".Header-buttonMenu:visible").length>0)toggleMegaMenu(!this.classList.contains("active"));if(NPC.user.isConnected&&NPC.user.isMegaMenuConnecteActif&&$(".HeaderLogged-buttonMenu:visible").length>0)toggleMegaMenu(!this.classList.contains("active"));$this.blur();LayerNav.setLayersHeight()}).off("click.scrollTo");$(".js-openLayerNav").off("click.open.layer").on("click.open.layer",function(e){if(e&&e.preventDefault)e.preventDefault();var $this=$(this);var href=$this.data("href")||$this.attr("href");
var layerName=href.replace("#","");var subHref=$this.data("sub-href");LayerNav.close();LayerNav.open(layerName);LayerNav.$triggerBtn=$(this);if(subHref)LayerNav.getLayer(layerName).find("."+LayerSubNav.pushNavItemClass).filter(function(){var $this=$(this);return $this.attr("href")===subHref||$this.data("href")===subHref}).eq(0).trigger("click")}).off("click.scrollTo");$(".js-LayerNav-close").off("click.close.layer").on("click.close.layer",closeLayer);$(".js-MenuMobile-close").off("click.close").on("click.close",
closeLayer);$(".js-openMenuMobile").off("click.open.layer").on("click.open.layer",openMobileNav);$(".js-backMenuMobile").off("click.backMenu").on("click.backMenu",openMobileNav)},toggle:function(trigger){var $this=$(trigger);var href=$this.data("href")||$this.attr("href");if(LayerNav.$triggerBtn===null){LayerNav.open(href.replace("#",""));LayerNav.$triggerBtn=$(trigger);LayerNav.$triggerBtn.addClass("active")}else{var needOpen=trigger!==LayerNav.$triggerBtn.get(0);LayerNav.close();if(needOpen){LayerNav.open(href.replace("#",
""));LayerNav.$triggerBtn=$(trigger);LayerNav.$triggerBtn.addClass("active")}}},isOpened:function(trigger){return LayerNav.$triggerBtn!==null&&LayerNav.$triggerBtn[0]===trigger},getLayer:function(name){return $(".js-LayerNav-"+name).removeClass("hidden").attr("tabindex",0).focus()},open:function(name){var $layer=LayerNav.getLayer(name);var $headerLayers=$(".js-headerLayers");$(".js-menuRows-main").addClass("hidden");$headerLayers.removeClass("hidden");$("body,html").addClass("is-overflowHidden");
$(window).off("debounced-resize.headerLayer").on("debounced-resize.headerLayer",LayerNav.setLayersHeight);LayerNav.setLayersHeight(name);enquire.register(CommonNPC.medias.mqSmMax,{match:function(){LayerNav.checkDataFullsize($layer)},unmatch:function(){$(".js-headerLayers").addClass("hidden").removeClass("Header-layers--fullsizeXS").removeClass("Header-layers--fullsizeSM").removeClass("Header-layers--fullsizeMD").removeClass("Header-layers--fullsizeLG")}});$layer.focus();LayerSubNav.initialize($layer);
$(window).on("keyup.layer",function(e){var key=e.which?e.which:e.keyCode;if(key===27){LayerNav.close();return false}})},close:function(){$(".LayerNav").addClass("hidden").removeAttr("tabindex");$(".js-headerLayers").addClass("hidden").removeClass("Header-layers--fullsizeXS").removeClass("Header-layers--fullsizeSM").removeClass("Header-layers--fullsizeMD").removeClass("Header-layers--fullsizeLG").css("overflow","");$("body,html").removeClass("is-overflowHidden");$(".js-MenuMobile").addClass("hidden");
LayerSubNav.reset();if(LayerNav.$triggerBtn&&LayerNav.$triggerBtn.length){LayerNav.$triggerBtn.focus();LayerNav.$triggerBtn.removeClass("active");LayerNav.$triggerBtn=null}$(window).off("keyup.layer").off("debounced-resize.headerLayer")},checkDataFullsize:function($layer){var fullsize=$layer.attr("data-fullsize");var $layersWrapper=$(".js-headerLayers");if(typeof fullsize!==typeof undefined&&fullsize!=="")$.each(fullsize.split(","),function(index,value){$layersWrapper.addClass("Header-layers--fullsize"+
value.toUpperCase())})}};var LayerSubNav={pushNavItemClass:"js-LayerNav-pushNavItem",HOVER_DELAY:0,layer:null,initialize:function(layer){LayerSubNav.layer=layer;enquire.register(CommonNPC.medias.mqSmMax,{match:function(){setTimeout(function(){LayerSubNav.eventMobile()},0)},unmatch:function(){LayerSubNav.removeEventMobile();LayerSubNav.reset()}});enquire.register(CommonNPC.medias.mqMdMin,{match:function(){setTimeout(function(){LayerSubNav.eventDesktop();LayerSubNav.showTab(LayerSubNav.layer.find(".LayerNav-pushNavItem--active"))},
0)},unmatch:function(){LayerSubNav.removeEventDesktop();LayerSubNav.reset()}})},eventDesktop:function(){var openSubNav=function($this){$this.addClass("LayerNav-pushNavItem--active").siblings(".LayerNav-pushNavItem--active").removeClass("LayerNav-pushNavItem--active");LayerSubNav.showTab($this)};LayerSubNav.layer.find("."+LayerSubNav.pushNavItemClass).off("click.scrollTo").off("click.showDestkop").on("click.showDestkop",function(e){e.preventDefault();var $this=$(this);if(!$this.hasClass("LayerNav-pushNavItem--active"))openSubNav($this)}).off("mouseenter.showDestkop").on("mouseenter.showDestkop",
function(){var $this=$(this);if(LayerSubNav.isOpened($this)===false)$this.data("timer",setTimeout(openSubNav.bind(this,$this),LayerSubNav.HOVER_DELAY))}).off("mouseleave.showDestkop").on("mouseleave.showDestkop",function(){var $this=$(this);if(LayerSubNav.isOpened($this)===false)clearTimeout($this.data("timer"))})},removeEventDesktop:function(){LayerSubNav.layer.find("."+LayerSubNav.pushNavItemClass).off("click.showDestkop").off("mouseenter.showDestkop").off("mouseleave.showDestkop")},eventMobile:function(){if(!LayerSubNav.layer||
LayerSubNav.layer.length===0)return;LayerSubNav.layer.find("."+LayerSubNav.pushNavItemClass).off("click.scrollTo").off("click.showMobile").on("click.showMobile",function(e){e.preventDefault();var $this=$(this);LayerSubNav.layer.find(".LayerNav-push--nav,.js-LayerNav-headMobile").addClass("hidden");LayerSubNav.layer.find(".js-LayerNav-backMobile").removeClass("hidden");LayerSubNav.showTab($this)});LayerSubNav.layer.find(".js-LayerNav-backMobile").off("click.backMobile").on("click.backMobile",function(){LayerSubNav.reset()})},
removeEventMobile:function(){LayerSubNav.layer.find("."+LayerSubNav.pushNavItemClass).off("click.showMobile");LayerSubNav.layer.find(".js-LayerNav-backMobile").off("click.backMobile")},reset:function(){if(!LayerSubNav.layer||LayerSubNav.layer.length===0)return;LayerSubNav.layer.find(".js-LayerNav-tab").removeClass("LayerNav-pushNavItem--active").removeClass("LayerNav-tab--active");LayerSubNav.layer.find(".LayerNav-push--nav,.js-LayerNav-headMobile").removeClass("hidden");LayerSubNav.layer.find(".js-LayerNav-backMobile").addClass("hidden")},
isOpened:function($this){return $this.hasClass("LayerNav-pushNavItem--active")===true},showTab:function($trigger){var $target=$($trigger.attr("data-href")||$trigger.attr("href"));var $tabs=$target.closest(".js-LayerNav-tabs").find(".js-LayerNav-tab");$trigger.focus();$tabs.removeClass("LayerNav-tab--active");$target.addClass("LayerNav-tab--active")}};$(function(){LayerNav.initialize()})})(this,document,jQuery,CommonNPC,enquire);
(function($){var SLIDER_MAX_ITEMS=6;var SLIDER_ACTIVE_CLASS="js-sliderNav--slider";var SLIDER_REVERSE_CLASS="js-sliderNav--reverse";var SLIDER_NAV_CLASS="js-sliderNav-nav";var SLIDER_NAVWRAP_CLASS="js-sliderNav-navWrapper";var SLIDER_ITEM_CLASS="js-sliderNav-item";var SLIDER_ITEM_HIDE_CLASS="js-sliderNav-item--hide";var SLIDER_TOGGLE_CLASS="js-sliderNav-toggle";var SLIDER_NAV_PREV="js-sliderNav--prev";var SLIDER_NAV_NEXT="js-sliderNav--next";var SLIDER_NAV_PN_ACTIVE="sliderNav-direction--visible";
$.fn.sliderNav=function(){if(!this)return $(this);$(this).each(function(){var $slider=$(this);if($slider.data("slider"))return $slider.data("slider");if($slider.attr("data-max-items")&&isNaN($slider.attr("data-max-items")))console.warn($slider.first(),"'s max-items attribute is not a valid number");var $window=$(window);var $sliderNav=$slider.find("."+SLIDER_NAV_CLASS);var $sliderNavWrap=$slider.find("."+SLIDER_NAVWRAP_CLASS);var hideItems=function(isReverse,showNext){var $sliderItems=$sliderNav.find("."+
SLIDER_ITEM_CLASS);var $sliderPrev=$slider.find("."+SLIDER_NAV_PREV);var $sliderNext=$slider.find("."+SLIDER_NAV_NEXT);var $sliderToggle=$slider.find("."+SLIDER_TOGGLE_CLASS);var maxItems=parseInt($slider.attr("data-max-items"))||SLIDER_MAX_ITEMS;var nextPointsCollapsed=$slider.data("next-points-collapsed")!==false;var buttonWidth=$sliderToggle.outerWidth(true);var prevWidth=$sliderPrev.outerWidth(true);var nextWidth=$sliderNext.outerWidth(true);var maxWidth=$slider.outerWidth()-buttonWidth-prevWidth-
nextWidth;var currentWidth=0;var goneWidth=0;var outBounds=false;var slider=false;var navPrev=false;var navNext=false;var originReverse=isReverse;var displayedItems=0;var maxPadding=Math.max(prevWidth,nextWidth+buttonWidth);var $oldItemsVisible;var currentFirst;var startNeedShow;var pointsRight;showNext=showNext!==false;if($sliderNavWrap.length!==0){$sliderNavWrap.css({paddingLeft:maxPadding,paddingRight:maxPadding});$sliderPrev.css("left",maxPadding-prevWidth);maxWidth-=maxPadding*2}if(isReverse===
true)$sliderItems=$($sliderItems.get().reverse());$oldItemsVisible=$sliderItems.not("."+SLIDER_ITEM_HIDE_CLASS);currentFirst=$oldItemsVisible.first().index();if(isReverse===true)currentFirst=$sliderItems.length-currentFirst-1;if(showNext===true){currentFirst=currentFirst+$oldItemsVisible.length;if(currentFirst>=$sliderItems.length)currentFirst=$sliderItems.length-1;else if(currentFirst<0)currentFirst=0}$sliderItems.each(function(index){var $item=$(this);var itemWidth=$item.width("").outerWidth();
$item.width(itemWidth);var move=function(){goneWidth+=itemWidth};var hide=function(){$item.addClass(SLIDER_ITEM_HIDE_CLASS)};if(outBounds===false&&displayedItems<maxItems&&currentWidth+itemWidth<=maxWidth&&index>=currentFirst){currentWidth+=itemWidth;$item.removeClass(SLIDER_ITEM_HIDE_CLASS);displayedItems+=1;if(index===$sliderItems.length-1)isReverse=!isReverse}else if(index>currentFirst){outBounds=true;if(isReverse===true)move();hide();slider=true}else{if(isReverse===false)move();hide();slider=
true}});if(outBounds===false&&displayedItems<maxItems){startNeedShow=$sliderItems.length-currentFirst-1;$($sliderItems.get().reverse()).each(function(index){var $item=$(this);var itemWidth=$item.outerWidth();if(outBounds===false&&index>startNeedShow&&displayedItems<maxItems&&currentWidth+itemWidth<=maxWidth){currentWidth+=itemWidth;$item.removeClass(SLIDER_ITEM_HIDE_CLASS);currentFirst-=1;displayedItems+=1;if(originReverse===false)goneWidth-=itemWidth}else if(index>startNeedShow)outBounds=true})}if(slider){if(currentFirst+
displayedItems<$sliderItems.length)if(originReverse===true)navPrev=true;else navNext=true;if(currentFirst>0)if(originReverse===true)navNext=true;else navPrev=true}$sliderPrev.toggleClass(SLIDER_NAV_PN_ACTIVE,navPrev===true);$sliderNext.toggleClass(SLIDER_NAV_PN_ACTIVE,navNext===true);if(navPrev===true&&$sliderNavWrap.length===0)goneWidth-=prevWidth;if($sliderNext.length!==0){pointsRight=buttonWidth;if(nextPointsCollapsed===true&&$sliderNavWrap.length===0){pointsRight+=maxWidth-currentWidth+prevWidth;
if(navPrev===true)pointsRight-=prevWidth}$sliderNext.css("right",pointsRight)}if(slider===false)$sliderNav.css({transform:""});else $sliderNav.css({transform:"translateX(-"+goneWidth+"px)"});if($sliderNavWrap.length!==0)$sliderNavWrap.css("width",currentWidth+($sliderNavWrap.outerWidth()-$sliderNavWrap.width()));$slider.toggleClass(SLIDER_REVERSE_CLASS,isReverse);return{hasSlider:slider,isReverse:isReverse}};var destroySlider=function(){$sliderNav.css("transform","");$sliderNavWrap.css({width:"",
paddingLeft:"",paddingRight:""});var $sliderItems=$sliderNav.find("."+SLIDER_ITEM_CLASS);$sliderItems.removeClass(SLIDER_ITEM_HIDE_CLASS);$slider.removeClass(SLIDER_ACTIVE_CLASS+" "+SLIDER_REVERSE_CLASS).off("sliderNav.reverse").off("activate.bs.scrollspy.sliderNav","."+SLIDER_ITEM_HIDE_CLASS).off("click.sliderNav","."+SLIDER_TOGGLE_CLASS).trigger("sliderNav.destroyed")};var checkSlider=function(){var isReverse=$slider.hasClass(SLIDER_REVERSE_CLASS);var hasSlider=hideItems(isReverse,false).hasSlider;
var isSliderActive=$slider.hasClass(SLIDER_ACTIVE_CLASS);var $sliderPrev=$slider.find("."+SLIDER_NAV_PREV);var $sliderNext=$slider.find("."+SLIDER_NAV_NEXT);if(hasSlider===true){if(isSliderActive===false)$slider.addClass(SLIDER_ACTIVE_CLASS).off("sliderNav.reverse").on("sliderNav.reverse",function(){isReverse=hideItems(isReverse).isReverse}).off("activate.bs.scrollspy.sliderNav","."+SLIDER_ITEM_HIDE_CLASS).on("activate.bs.scrollspy.sliderNav","."+SLIDER_ITEM_HIDE_CLASS,function(){$slider.trigger("sliderNav.reverse")}).off("click.sliderNav",
"."+SLIDER_TOGGLE_CLASS).on("click.sliderNav","."+SLIDER_TOGGLE_CLASS,function(e){e.preventDefault();$slider.trigger("sliderNav.reverse")}).trigger("sliderNav.active")}else destroySlider();if($sliderPrev.length!==0&&$sliderPrev[0].tagName==="A")$sliderPrev.off("click.sliderPrev").on("click.sliderPrev",function(e){e.preventDefault();isReverse=hideItems(true).isReverse});if($sliderNext.length!==0&&$sliderNext[0].tagName==="A")$sliderNext.off("click.sliderNext").on("click.sliderNext",function(e){e.preventDefault();
isReverse=hideItems(false).isReverse})};$slider.data("slider",{update:function(){checkSlider()},destroy:function(){destroySlider();$slider.data("slider","")}});enquire.register(CommonNPC.medias.mqMdMin,{match:function(){$window.off("debounced-resize.sliderNav").on("debounced-resize.sliderNav",function(){$(".js-sliderNav").trigger("sliderNav.check")}).off("reload.sliderNav").on("reload.sliderNav",function(){$(".js-sliderNav").trigger("sliderNav.check")});$slider.off("sliderNav.check").on("sliderNav.check",
function(){checkSlider()});checkSlider()},unmatch:function(){$(window).off("debounced-resize.sliderNav").off("reload.sliderNav");destroySlider();$slider.off("sliderNav.check")}})});return $(this)};$(function(){$(".js-sliderNav").sliderNav();$(window).trigger("resize")})})(jQuery);
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){function i(i,r,a){function h(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var d=u[e];if(!d||"_"==e.charAt(0))return void s(r+" is not a valid method");
var l=d.apply(u,n);o=void 0===o?l:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,
s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);
var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},
t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+
". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=s=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),
e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,l=0;u>l;l++){var c=h[l],f=r[c],m=parseFloat(f);a[c]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,z=a.borderTopWidth+a.borderBottomWidth,E=d&&s,b=t(r.width);b!==!1&&(a.width=b+(E?0:p+_));var x=
t(r.height);return x!==!1&&(a.height=x+(E?0:g+z)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+z),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=h.length,d=!1;return r}),function(t,e){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",
e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],
function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=
t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),
o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,
o){i.docReady(function(){var r=i.toDashed(o),s="data-"+r,a=document.querySelectorAll("["+s+"]"),h=document.querySelectorAll(".js-"+r),u=i.makeArray(a).concat(i.makeArray(h)),d=s+"-options",l=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(a$1){return void(n&&n.error("Error parsing "+s+" on "+t.className+": "+a$1))}var h=new e(t,i);l&&l.data(t,o,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter",
"get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,s="string"==typeof r.transition?"transition":
"WebkitTransition",a="string"==typeof r.transform?"transform":"WebkitTransform",h={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],u={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=
function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=u[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,s=-1!=n.indexOf("%")?parseFloat(n)/100*r.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?r.paddingLeft:r.paddingRight,
a-=i?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var h=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[h];e[u]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},
d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),
s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,h=e-n,u={};u.transform=this.getTranslate(a,h),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=
parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;
n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};
d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},d._removeStyles=
function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),
void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},
d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"function"==
typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){function r(t,e){var i=n.getQueryElement(t);if(!i)return void(h&&h.error("Bad element for "+
this.constructor.namespace+": "+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;
i=parseFloat(i);var o=m[n]||1;return i*o}var h=t.console,u=t.jQuery,d=function(){},l=0,c={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];
return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},f.reloadItems=function(){this.items=
this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;
this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},
f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===
t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?
i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=
this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?
("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},
f._manageStamp=d,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(r,
"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=
e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=
function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position=
"",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&c[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),u&&u.bridget&&
u.bridget(t,i),i};var m={ms:1,s:1E3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter",
"outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth"),
i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](n,t),s={x:this.columnWidth*r.col,y:r.y},a=r.y+t.size.outerHeight,h=n+r.col,u=r.col;h>u;u++)this.colYs[u]=a;return s},n._getTopColPosition=
function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,n=t>1&&i+t>this.cols;i=n?0:i;var o=e.size.outerWidth&&e.size.outerHeight;
return this.horizontalColIndex=o?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var h=Math.floor(s/this.columnWidth);h-=s%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var u=this._getOption("originTop"),d=(u?n.top:n.bottom)+i.outerHeight,l=a;h>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},n._getContainerSize=
function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i});
(function($){var GUTTER_SIZE_CLASS="Chapters-gutterSizer";var GRID_SIZER="Chapters-item-sizer";var GRID_SELECTOR=".js-Chapters-content";var GRID_ITEM_SELECTOR=".Chapters-item";var GRID_BREAK_POINT=CommonNPC.medias.mqSmMin;$(function(){$(GRID_SELECTOR).each(function(){var $grid=$(this);function waitForElement(elementPath,callBack){window.setTimeout(function(){if($(elementPath).length)callBack(elementPath,$(elementPath));else waitForElement(elementPath,callBack)},500)}waitForElement(GRID_SELECTOR,function(){enquire.register(GRID_BREAK_POINT,
{match:function(){$(GRID_ITEM_SELECTOR).each(function(){if($(this).find(".texte \x3e div \x3e table").length)$(this).addClass("Chapters-item--width2")});var elem='\x3cdiv class\x3d"'+GUTTER_SIZE_CLASS+'" /\x3e\n'+'\x3cdiv class\x3d"'+GRID_SIZER+'" /\x3e';$grid.append(elem).masonry({itemSelector:GRID_ITEM_SELECTOR,gutter:"."+GUTTER_SIZE_CLASS,columnWidth:"."+GRID_SIZER,horizontalOrder:true})},unmatch:function(){$grid.masonry("destroy").remove("."+GUTTER_SIZE_CLASS)}})})})})})(jQuery);
(function(window,document,$){$(function(){enquire.register(CommonNPC.medias.mqMdMin,{match:function(){this.$pullUp=$(".js-pullUp").addClass("js-pullUp--active");var $pullUp=this.$pullUp;var innerHeight=0;var changeHeight=function(){var newHeight=$pullUp.outerHeight();$(".js-Template-colRight").css("min-height",$(window.top).innerHeight()-$(".js-Header").outerHeight(true)+$pullUp.outerHeight()+"px");if(newHeight!==innerHeight){$pullUp.css("margin-top",newHeight*-1).trigger("pullUp.heightChanged");
innerHeight=newHeight}};$(window.top).on("debounced-resize.pullUp",changeHeight);changeHeight()},unmatch:function(){$(window.top).off("debounced-resize.pullUp");this.$pullUp.removeClass("js-pullUp--active").css("margin-top","");$(".js-Template-colRight").css("min-height","")}})})})(this,document,jQuery);
(function($){var NAV_SELECTOR=".js-navbar-scrollspy";var NAV_MOBILE_SELECTOR=".js-navbar-scrollspy--mobile";var NAV_SHOW_CLASS="CourseProjectFixed--show";var NAV_FORCED_SHOW_CLASS="CourseProjectFixed--forcedShow";var NAV_OPEN_CLASS="CourseProjectFixed--open";var NAV_INIT_CLASS="CourseProjectFixed--init";$.fn.scrollspy.Constructor.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active").trigger("clear.bs.scrollspy")};$.fn.scrollspy.Constructor.prototype.destroy=
function(){this.$scrollElement.off("scroll.bs.scrollspy")};var updateTop=function($navBar){if($navBar instanceof $===false)$navBar=$(this);var oldTop=$navBar.css("top");var newTop=NPC?NPC.getHeaderHeight():120;if($navBar.data("top-delta"))newTop+=$navBar.data("top-delta");if(oldTop!==newTop)$navBar.css("top",newTop).trigger("topChanged.courseProjectFixed")};var showNavbar=function($navBar){if($navBar instanceof $===false)$navBar=$(this);if(!$navBar.hasClass(NAV_SHOW_CLASS)){$navBar.addClass(NAV_SHOW_CLASS);
updateTop($navBar);$navBar.trigger("showed.courseProjectFixed")}};var hideNavbar=function($navBar){if($navBar instanceof $===false)$navBar=$(this);$navBar.removeClass(NAV_SHOW_CLASS).trigger("hidden.courseProjectFixed")};var setForcedShow=function($navBar){if($navBar instanceof $===false)$navBar=$(this);$navBar.addClass(NAV_FORCED_SHOW_CLASS)};var unsetForcedShow=function($navBar){if($navBar instanceof $===false)$navBar=$(this);$navBar.removeClass(NAV_FORCED_SHOW_CLASS)};var setScrollspy=function($navBar,
selector){var stickyHeight=60+$navBar.outerHeight();var $window=$(window);var data=$window.data("bs.scrollspy");if(data){data.options.offset=stickyHeight;$window.scrollspy("refresh")}else $window.scrollspy({target:selector,offset:stickyHeight})};var initNav=function($nav,setScrollspy){$nav.off("clear.bs.scrollspy.courseProjectFixed").on("clear.bs.scrollspy.courseProjectFixed",hideNavbar).off("activate.bs.scrollspy.courseProjectFixed").on("activate.bs.scrollspy.courseProjectFixed",showNavbar).one("activate.bs.scrollspy.courseProjectFixed",
function(){$(this).trigger("sliderNav.check")}).off("click.dropdown.courseProjectFixed",".js-navbar-dropdownToggle").on("click.dropdown.courseProjectFixed",".js-navbar-dropdownToggle",function(e){e.preventDefault();var $currentNav=$(this).closest($nav);var $scrollElement=$(window);var $links=$currentNav.find("ul\x3eli\x3ea");if($currentNav.hasClass(NAV_OPEN_CLASS)){$currentNav.removeClass(NAV_OPEN_CLASS);$links.off("click.courseProjectFixed.dropdown");$scrollElement.off("throttled-scroll.courseProjectFixed.dropdown")}else{$currentNav.addClass(NAV_OPEN_CLASS);
$links.on("click.courseProjectFixed.dropdown",function(){$currentNav.removeClass(NAV_OPEN_CLASS);$links.off("click.courseProjectFixed.dropdown")});$scrollElement.on("throttled-scroll.courseProjectFixed.dropdown",function(){$currentNav.removeClass(NAV_OPEN_CLASS);$scrollElement.off("throttled-scroll.courseProjectFixed.dropdown")})}}).off("forceShow.courseProjectFixed").on("forceShow.courseProjectFixed",setForcedShow).off("removeForceShow.courseProjectFixed").on("removeForceShow.courseProjectFixed",
unsetForcedShow).addClass(NAV_INIT_CLASS);var updateTopEvents=["debounced-resize.courseProjectFixed.top","header.heightChanged.courseProjectFixed","marginChanged.template.courseProjectFixed"];$(window).off(updateTopEvents.join(" ")).on(updateTopEvents.join(" "),function(){updateTop($nav)}).off("debounced-resize.courseProjectFixed",setScrollspy).on("debounced-resize.courseProjectFixed",setScrollspy);setScrollspy()};var destroyNav=function($nav,setScrollspy){var $window=$(window);$nav.off("clear.bs.scrollspy.courseProjectFixed").off("activate.bs.scrollspy.courseProjectFixed").off("click.dropdown.courseProjectFixed",
".js-navbar-dropdownToggle").off("forceShow.courseProjectFixed").off("removeForceShow.courseProjectFixed").removeClass(NAV_INIT_CLASS);$window.off("debounced-resize.courseProjectFixed",setScrollspy).scrollspy("destroy");$window.data("bs.scrollspy",null)};var initNavs=function(){var $navs=$(NAV_SELECTOR);var $navsMobile=$(NAV_MOBILE_SELECTOR);var setScrollspyDesk=function(){return setScrollspy($navs,NAV_SELECTOR)};var setScrollspyMobile=function(){return setScrollspy($navsMobile,NAV_MOBILE_SELECTOR)};
if($navs.length)$navs.each(function(){var $nav=$(this);initNav($nav,setScrollspyDesk)});if($navsMobile.length)$navsMobile.each(function(){var $navMobile=$(this);var mq=CommonNPC.medias.mqSmMax;var dataMq=$navMobile.data("nav-mq");if(dataMq){mq=dataMq;for(var i in CommonNPC.medias)if(CommonNPC.medias.hasOwnProperty(i)&&i===dataMq){mq=CommonNPC.medias[i];break}}enquire.register(mq,{match:function(){if($navs.length)$navs.each(function(){var $nav=$(this);destroyNav($nav,setScrollspyDesk)});initNav($navMobile,
setScrollspyMobile)},unmatch:function(){destroyNav($navMobile,setScrollspyMobile);if($navs.length)$navs.each(function(){var $nav=$(this);initNav($nav,setScrollspyDesk)})}})})};$(window).on("updateNavs",initNavs);$(function(){initNavs()})})(jQuery);
$(function(){$(".js-OpenTooltip").on("click.openTooltip",function(e){e.preventDefault();var $this=$(this);var $tooltip=$("#"+$this.attr("data-target"));enquire.register(CommonNPC.medias.mqSmMin,{match:function(){$this.after($tooltip)},unmatch:function(){$("body").append($tooltip)}});$tooltip.removeClass("hidden")});$(".js-CloseTooltip").on("click.closeTooltip",function(e){e.preventDefault();$(this).parent().addClass("hidden")})});
$(function(){var BASE_SHOWED=3;var NAV_SELECTOR=".js-TabsNav";var NAV_ITEM_SELECTOR=".js-TabsNav-item";var NAV_ITEM_PREV_SELECTOR=".js-TabsNav-item--prev";var NAV_ITEM_NEXT_SELECTOR=".js-TabsNav-item--next";var ITEM_ACTIVE_CLASS="active";var ITEM_HIDDEN_CLASS="TabsNav-item--hidden";var ACTION_HIDDEN_CLASS="TabsNav-item--hidden";var PREV_HTML='\x3ca href\x3d"#" class\x3d"TabsNav-item TabsNav-item--action TabsNav-item--prev js-TabsNav-item--prev TabsNav-item--hidden"\x3e\x3c/a\x3e';var NEXT_HTML='\x3ca href\x3d"#" class\x3d"TabsNav-item TabsNav-item--action TabsNav-item--next js-TabsNav-item--next TabsNav-item--hidden"\x3e\x3c/a\x3e';
function updateList($tabs,maxIdxTab,$prev,$next){$tabs.each(function(i){var $tab=$(this);$tab.toggleClass(ITEM_HIDDEN_CLASS,i<maxIdxTab-BASE_SHOWED||i>=maxIdxTab);$prev.toggleClass(ACTION_HIDDEN_CLASS,maxIdxTab<=BASE_SHOWED);$next.toggleClass(ACTION_HIDDEN_CLASS,maxIdxTab>=$tabs.length)})}$(NAV_SELECTOR).each(function(){var $nav=$(this);var maxIdxTab=BASE_SHOWED;var $prev=$nav.find(NAV_ITEM_PREV_SELECTOR);var $next=$nav.find(NAV_ITEM_NEXT_SELECTOR);var $tabs=$nav.find(NAV_ITEM_SELECTOR);$tabs.on("shown.bs.tab.TabsNav",
function(){$tabs.removeClass(ITEM_ACTIVE_CLASS);$(this).addClass(ITEM_ACTIVE_CLASS);if($(this).hasClass("active")){$tabs.attr("aria-selected","false");$(this).attr("aria-selected","true")}});if($tabs.length<BASE_SHOWED){$prev.addClass(ACTION_HIDDEN_CLASS);$next.addClass(ACTION_HIDDEN_CLASS)}else{if($prev.length===0)$prev=$(PREV_HTML).prependTo($nav);if($next.length===0)$next=$(NEXT_HTML).appendTo($nav);$prev.on("click.TabsNav",function(e){e.preventDefault();if(maxIdxTab>BASE_SHOWED){maxIdxTab--;updateList($tabs,
maxIdxTab,$prev,$next)}});$next.on("click.TabsNav",function(e){e.preventDefault();if(maxIdxTab<$tabs.length){maxIdxTab++;updateList($tabs,maxIdxTab,$prev,$next)}});updateList($tabs,maxIdxTab,$prev,$next)}})});
$(function(){var toggleActions=function($head){if(!$head)return;if($head.hasClass("SynthesisActions")){$head.toggleClass("SynthesisActions--open");toggleAriaLabel()}else if($head.hasClass("swipableBloc-main"))$head.toggleClass("SwipableActions--open");if($head.hasClass("SynthesisMainAccount-head")){if(currentMenuOpened&&currentMenuOpened.get(0)!==$head.get(0))toggleActions(currentMenuOpened);$head.toggleClass("SynthesisMainAccount-head--actionsOpen");var hasClass=$head.hasClass("SynthesisMainAccount-head--actionsOpen");
$head.find(".SynthesisMainAccount-headActions").attr("aria-expanded",hasClass);if(hasClass){currentMenuOpened=$head;$head.find(".SynthesisMainAccount-headActionsToggleOpener").toggleClass("notyet");setTimeout(function(){$head.find(".SynthesisMainAccount-headAction-resetFocus.goto.next").focus();$head.find(".SynthesisMainAccount-headActionsToggleOpener").toggleClass("notyet")},301)}else{currentMenuOpened=null;setTimeout(function(){$head.find(".SynthesisMainAccount-headActionsToggleOpener").focus()},
301)}}else if($head.hasClass("js-SynthesisAccount"))toggleSynthesisAccountMenu($head,"SynthesisAccount--actionsOpen",".SynthesisAccount-actions");else if($head.hasClass("SynthesisCredit")||$head.hasClass("SynthesisCredit-content"))toggleSynthesisAccountMenu($head,"SynthesisCredit--actionsOpen",".SynthesisAccount-actions");else if($head.hasClass("SynthesisGuarantee"))toggleSynthesisAccountMenu($head,"SynthesisGuarantee--actionsOpen",".SynthesisAccount-actions")};var toggleSynthesisAccountMenu=function($head,
openActionJsSelector,ariaExpendedJsSelector){if(currentMenuOpened&&currentMenuOpened.get(0)!==$head.get(0))toggleActions(currentMenuOpened);$head.toggleClass(openActionJsSelector);var hasClass=$head.hasClass(openActionJsSelector);$head.find(ariaExpendedJsSelector).attr("aria-expanded",hasClass);if(hasClass){currentMenuOpened=$head;$head.find(".SynthesisAccount-headActionsToggleOpener").toggleClass("notyet");setTimeout(function(){$head.find(".SynthesisAccount-headAction-resetFocus.goto.next").focus();
$head.find(".SynthesisAccount-headActionsToggleOpener").toggleClass("notyet")},301)}else{currentMenuOpened=null;setTimeout(function(){$head.find(".SynthesisAccount-headActionsToggleOpener").focus()},301)}};var currentMenuOpened=null;var toggleEvent=function(e){e.preventDefault();e.stopPropagation();var $main=$(this).closest(".js-SynthesisMainAccount-head,.js-SynthesisAccount,.js-SynthesisActions");toggleActions($main)};var toggleAriaLabel=function(){$(".SynthesisAccount").each(function(){if($(this).is(".SynthesisAccount--actionsOpen")){$(this).find(".SynthesisAccount-actionsToggle").attr("aria-label",
"Masquer les options du compte");$(this).find(".SynthesisAccount-actionsToggle").attr("aria-expanded","false")}else{$(this).find(".SynthesisAccount-actionsToggle").attr("aria-label","Afficher les options du compte");$(this).find(".SynthesisAccount-actionsToggle").attr("aria-expanded","true")}})};var $angularApp=$("[ng-app]");if($angularApp.length&&$angularApp.find(".js-SynthesisAccount-actionsToggle"))$angularApp.off("click.toggleActions",".js-SynthesisAccount-actionsToggle").on("click.toggleActions",
".js-SynthesisAccount-actionsToggle",toggleEvent);var actionsToggles=[".js-SynthesisMainAccount-headActionsToggle",".js-SynthesisAccount-actionsToggle",".js-SynthesisActions-toggle"];$(actionsToggles.join(",")).off("click.toggleActions").on("click.toggleActions",toggleEvent);$(".js-SynthesisMainAccount-head,.js-SynthesisAccount,.js-SynthesisActions").off("click.toggleActions").on("click.toggleActions",function(e){if($(e.target).closest("a").length===0)toggleActions($(this))});$(".js-SynthesisDropdown-toggle").off("click.toggleActions").on("click.toggleActions",
function(e){e.preventDefault();$(this).closest(".js-SynthesisDropdown").toggleClass("SynthesisDropdown--open");$(window).trigger("sticky.heightChanged")});$(".Synthesis-content").on("click",".SynthesisDropdown",function(){if($(this).hasClass("SynthesisDropdown--open")){$(this).children("a").attr("aria-expanded","true");$(this).children("a").attr("aria-label",$(this).children("a").children("span").first().next().text())}else{$(this).children("a").attr("aria-expanded","false");$(this).children("a").attr("aria-label",
$(this).children("a").children("span").first().text())}});$(".backtop ").click(function(){setTimeout(function(){console.log("clicked back");$(".Synthesis-user").focus()},250)});$(document).off("focus",".SynthesisAccount-headAction-resetFocus.goto").on("focus",".SynthesisAccount-headAction-resetFocus.goto",function(){if($(this).hasClass("next"))$(this).parent().children(":not(.goto)").first().focus();else if($(this).hasClass("previous"))$(this).parent().children(":not(.goto)").last().focus()}).off("keyup",
".SynthesisAccount-actions a,.SynthesisAccount-actions button").on("keyup",".SynthesisAccount-actions a,.SynthesisAccount-actions button",function(e){var keyPressed=e.keyCode||e.which;if(keyPressed===27)$(this).parent().children(".SynthesisAccount-headActionsToggleCloser").first().click()}).off("click",".js-SynthesisAccount-actionsToggle").on("click",".js-SynthesisAccount-actionsToggle",toggleEvent)});
$(function(){var PrivateBank={initialize:function(){this.initShowAllContracts();this.initTabsNav();var $chart=$(".js-DoughnutChart");if(typeof Chart!=="undefined"&&$chart.length){enquire.register(CommonNPC.medias.mqSmMin,{match:function(){PrivateBank.initChart($chart,"horizontal")}});enquire.register(CommonNPC.medias.mqXsMax,{match:function(){PrivateBank.initChart($chart,"vertical")}})}if(typeof $.fn.DataTable!=="undefined")this.initComparativeTable()},initShowAllContracts:function(){var TOGGLE_SELECTOR=
".js-PrivateBank-ownerContractLabel";var WRAP_SELECTOR=".js-PrivateBank-ownerContract";var WRAP_SHOW_CLASS="PrivateBank-ownerContract--showAll";$(TOGGLE_SELECTOR).on("click.privateBank",function(e){e.preventDefault();$(this).closest(WRAP_SELECTOR).toggleClass(WRAP_SHOW_CLASS)})},initTabsNav:function(){var TOGGLE_SELECTOR=".js-PrivateBank-tabsNav";var WRAP_SELECTOR=".js-PrivateBank-tabsNavContainer";var WRAP_SHOW_CLASS="PrivateBank-tabsNavContainer--open";$(TOGGLE_SELECTOR).on("click.privateBank",
function(e){e.preventDefault();$(this).closest(WRAP_SELECTOR).toggleClass(WRAP_SHOW_CLASS)})},initChart:function($charts,rotation){$charts.each(function(){var $chart=$(this);var data={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[],borderWidth:0}]};var customData={trueValues:[],maxValue:0,middleAngle:[]};$chart.find(".js-DoughnutChart-legend").each(function(){var $legend=$(this);var color=$legend.attr("data-color");var label=$legend.attr("data-label");var value=$legend.attr("data-value");
var unit=$legend.attr("data-unit")||"";var useComma=$legend.attr("data-comma")==="true";var trueValue=parseFloat(value);data.labels.push(label);data.datasets[0].data.push(value);data.datasets[0].backgroundColor.push(color);data.datasets[0].hoverBackgroundColor.push(color);customData.trueValues.push(trueValue);customData.maxValue+=trueValue;if(useComma===true)value=value.replace(".",",");$legend.css("border-color",color);$legend.find(".js-DoughnutChart-legendLabel").text(label);$legend.find(".js-DoughnutChart-legendValue").text(value+
unit)});var currentAngle=0;$.each(customData.trueValues,function(i){var thisAngle=customData.trueValues[i]/customData.maxValue;customData.middleAngle[i]=thisAngle/2+currentAngle;currentAngle+=thisAngle});var options={rotation:(rotation==="vertical"?Math.PI*-.5:Math.PI*-1)-customData.middleAngle[0]*2*Math.PI,legend:{display:false},cutoutPercentage:60,tooltips:{enabled:false},hover:false};if($chart.data("doughnut"))$chart.data("doughnut").destroy();var ctx=$chart.find(".js-DoughnutChart-canvas")[0];
var myDoughnutChart=new Chart(ctx,{type:"doughnut",data:data,options:options});$chart.data("doughnut",myDoughnutChart)})},initComparativeTable:function(){var COMPARATIVE_SELECTOR=".ComparativeTable";var COMPARATIVE_TABLE_SELECTOR=".ComparativeTable-table";var COMPARATIVE_ACTION_SELECTOR=".ComparativeTable-actions";var COMPARATIVE__SLIDER_CLASS="ComparativeTable--slider";var COMPARATIVE__SELECT_CLASS="ComparativeTable--select";var COMPARATIVE_COL_HIDDEN_CLASS="ComparativeTable-hiddenCol";var COMPARATIVE_COL_FIRST_SHOWED_CLASS=
"ComparativeTable-firstShowed";var COMPARATIVE_COL_LAST_SHOWED_CLASS="ComparativeTable-lastShowed";var COMPARATIVE_PREV_CLASS="ComparativeTable-prev";var COMPARATIVE_PREV__DISABLED_CLASS="ComparativeTable-prev--disabled";var COMPARATIVE_NEXT_CLASS="ComparativeTable-next";var COMPARATIVE_NEXT__DISABLED_CLASS="ComparativeTable-next--disabled";var COMPARATIVE_SELECT_CLASS="ComparativeTable-select";var SLIDER_MQ=CommonNPC.medias.mqSmMin+" and "+CommonNPC.medias.mqSmMax;var SELECT_MQ=CommonNPC.medias.mqXsMax;
var $comparative=$(COMPARATIVE_SELECTOR);var $comparativeTable=$(COMPARATIVE_TABLE_SELECTOR);$comparativeTable.DataTable({paging:false,searching:false,info:false});var currentVisibleCol=0;enquire.register(SLIDER_MQ,{match:function(){var showNumber=3;var currentMax=1;var nbCols=$comparativeTable.find("thead th").length-2;var $prev=$('\x3ca class\x3d"'+COMPARATIVE_PREV_CLASS+'" href\x3d"#"\x3e\x3c/a\x3e').on("click",function(e){e.stopPropagation();prev()});this.$prev=$prev;var $next=$('\x3ca class\x3d"'+
COMPARATIVE_NEXT_CLASS+'" href\x3d"#"\x3e\x3c/a\x3e').on("click",function(e){e.stopPropagation();next()});this.$next=$next;var render=function(){$comparativeTable.find("tr").each(function(i){var $tr=$(this);var $childrens=$tr.children();$childrens.each(function(i){var index=i-1;$(this).toggleClass(COMPARATIVE_COL_HIDDEN_CLASS,i!==0&&(index<currentVisibleCol||index>currentMax)).toggleClass(COMPARATIVE_COL_FIRST_SHOWED_CLASS,index===currentVisibleCol).toggleClass(COMPARATIVE_COL_LAST_SHOWED_CLASS,index===
currentMax)});if(i===0){$childrens.eq(currentVisibleCol+1).append($prev);$childrens.eq(currentMax+1).append($next)}})};var setCurrent=function(newCurrent){if(newCurrent>=nbCols-showNumber+1)newCurrent=nbCols-showNumber+1;currentVisibleCol=newCurrent;currentMax=currentVisibleCol+showNumber-1;$prev.toggleClass(COMPARATIVE_PREV__DISABLED_CLASS,currentVisibleCol<=0);$next.toggleClass(COMPARATIVE_NEXT__DISABLED_CLASS,currentMax>=nbCols);render()};var prev=function(){if(currentVisibleCol>=1)setCurrent(currentVisibleCol-
1)};var next=function(){if(currentMax<nbCols)setCurrent(currentVisibleCol+1)};setTimeout(function(){$comparative.addClass(COMPARATIVE__SLIDER_CLASS);setCurrent(currentVisibleCol)},0)},unmatch:function(){$comparative.removeClass(COMPARATIVE__SLIDER_CLASS);$comparativeTable.find("th,td").removeClass(COMPARATIVE_COL_HIDDEN_CLASS).removeClass(COMPARATIVE_COL_FIRST_SHOWED_CLASS).removeClass(COMPARATIVE_COL_LAST_SHOWED_CLASS);this.$prev.off("click").remove();this.$next.off("click").remove()}});enquire.register(SELECT_MQ,
{match:function(){var selectHtml='\x3cselect class\x3d"'+COMPARATIVE_SELECT_CLASS+' selectpicker bootstrap-select--default show-menu-arrow form-control"\x3e';$comparativeTable.find("thead th").each(function(i){if(i!==0)selectHtml+='\x3coption value\x3d"'+(i-1)+'"\x3e'+$(this).text()+"\x3c/option\x3e"});selectHtml+="\x3c/select\x3e";var $select=$(selectHtml).val(currentVisibleCol).on("change",function(){setCurrent(parseInt($(this).val()))});this.$select=$select;var setCurrent=function(newCurrent){currentVisibleCol=
newCurrent;$comparativeTable.find("tr").each(function(){var $tr=$(this);var $childrens=$tr.children();$childrens.each(function(i){$(this).toggleClass(COMPARATIVE_COL_HIDDEN_CLASS,i!==0&&i-1!==currentVisibleCol)})})};setTimeout(function(){$comparative.addClass(COMPARATIVE__SELECT_CLASS);$(COMPARATIVE_ACTION_SELECTOR).append($select);CommonNPC.actions.initSelect($select);setCurrent(currentVisibleCol)},0)},unmatch:function(){$comparative.removeClass(COMPARATIVE__SELECT_CLASS);$comparativeTable.find("th,td").removeClass(COMPARATIVE_COL_HIDDEN_CLASS);
this.$select.selectpicker("destroy").remove()}})}};$(function(){PrivateBank.initialize()})});
$(function(){var $sliders=$(".Etapier-slider");$sliders.on("defined.slider",function(e,$slider){$(window).on("debounced-resize.etapier",function(){setTimeout(function(){$slider.trigger("refresh.owl.carousel")})})});CommonNPC.initSlider($sliders,function(data){return{items:1,nav:data.nbChilds>1,navText:false,margin:1,autoplay:true,autoplayTimeout:5E3,autoplayHoverPause:false,dots:data.nbChilds>1,responsive:false,autoHeight:true}});$(".Etapier-slide a").attr("tabindex","0")});
$(function(){var $PartnerEntities=$(".js-PartnerEntities");CommonNPC.initSlider($PartnerEntities,{items:5,loop:false,margin:2,autoWidth:false,nav:true,navText:["",""],slideBy:"5",mouseDrag:false,dots:true,dotsEach:5,responsive:{0:{items:2,slideBy:2,dotsEach:2},649:{items:3,slideBy:3,dotsEach:3},989:{items:5,slideBy:5,dotsEach:5}}},{addClass:true})});
$(window).load(function(){var ONE_LINE_CLASS="alphabetNav--oneLine";var SHOW_FULL_CLASS="alphabetNav--showFull";var ITEM_ACTIVE_CLASS="alphabetNav-item--active";var ITEM_DISABLED_CLASS="alphabetNav-item--disabled";var SHOW_FULL_ACTIVE_CLASS="alphabetNav-showFull--active";var NAV_SELECTOR=".js-alphabetNav";var ITEM_SELECTOR=".js-alphabetNav-item";var ITEM_ACTIVE_SELECTOR="."+ITEM_ACTIVE_CLASS;var SHOW_FULL_SELECTOR=".js-alphabetNav-showFull";var filterItemByLetter=function(letter){return function(){return $(this).text().toUpperCase()===
letter.toUpperCase()}};var defaultOpts={unactiveDisabled:true,addClickEvent:true};$(NAV_SELECTOR).each(function(){var $alphabetNav=$(this);var opts=$.extend({},defaultOpts,$alphabetNav.data("nav-opts"));var checkNavs=function(){var $items=$alphabetNav.find(".js-alphabetNav-item");if($items.length===0)return;var oneLine=$items.first().offset().top===$items.last().offset().top;if(oneLine===false&&$alphabetNav.hasClass(SHOW_FULL_CLASS)===false){var $active=$items.filter(ITEM_ACTIVE_SELECTOR);var showFullActive=
$active.length&&$active.offset().top!==$items.first().offset().top;$alphabetNav.find(SHOW_FULL_SELECTOR).toggleClass(SHOW_FULL_ACTIVE_CLASS,showFullActive)}$alphabetNav.toggleClass(ONE_LINE_CLASS,oneLine)};$(window).off("debounced-resize.alphabetNav").on("debounced-resize.alphabetNav",checkNavs);checkNavs();$alphabetNav.off("activeChange.alphabetNav").on("activeChange.alphabetNav",function(e,data){e.stopPropagation();var $this=$(this);var baseValue=$this.data("value");var $item=data.$item;if(data.letter&&
(!data.$item||data.$item.length===0))$item=$this.find(ITEM_SELECTOR).filter(filterItemByLetter(data.letter));if(data.active===false)$this.data("value","").find(ITEM_ACTIVE_SELECTOR).removeClass(ITEM_ACTIVE_CLASS);else{$this.data("value",$item.text()).find(ITEM_ACTIVE_SELECTOR).removeClass(ITEM_ACTIVE_CLASS);$item.addClass(ITEM_ACTIVE_CLASS)}if(baseValue!==$this.data("value"))$this.trigger("activeChanged",{oldValue:baseValue,value:$this.data("value")})}).off("activeFirst.alphabetNav").on("activeFirst.alphabetNav",
function(e){e.stopPropagation();var $this=$(this);var $item=$this.find(ITEM_SELECTOR).not(ITEM_DISABLED_CLASS).first();$this.trigger("activeChange",{active:$item.length!==0,$item:$item})}).off("setDisabledItems.alphabetNav").on("setDisabledItems.alphabetNav",function(e,data){e.stopPropagation();var $this=$(this);var $items=$this.find(ITEM_SELECTOR);$items.each(function(){var $item=$(this);var text=$item.text();$item.toggleClass(ITEM_DISABLED_CLASS,data.letters[text]!==true);if(opts.unactiveDisabled===
true&&$item.hasClass(ITEM_ACTIVE_CLASS)&&data.letters[text]!==true)$this.trigger("activeChange.alphabetNav",{active:false})})}).off("click.showFull.alphabetNav",SHOW_FULL_SELECTOR).on("click.showFull.alphabetNav",SHOW_FULL_SELECTOR,function(e){e.preventDefault();$(this).closest(NAV_SELECTOR).addClass(SHOW_FULL_CLASS)});if(opts.addClickEvent===true)$alphabetNav.off("click.active.alphabetNav",ITEM_SELECTOR).on("click.active.alphabetNav",ITEM_SELECTOR,function(e){e.preventDefault();var $this=$(this);
if($this.hasClass(ITEM_DISABLED_CLASS)===false)$this.trigger("activeChange",{active:$this.hasClass(ITEM_ACTIVE_CLASS)===false,$item:$this})})})});
$(function(){var bodyNoScroll=function(active){var $bodyHtml=$("body,html");$(document).off("click.switchToGrnBtn",".js-switch-greenBtn");if(active){$bodyHtml.scrollTop(0).addClass("is-overflowHidden");$(document).on("click.switchToGrnBtn",".js-switch-greenBtn",function(e){e.preventDefault();$(window).trigger("closeSearch.inbenta").trigger("triggerBV.inbenta");window.scrollTo(0,0)})}else $bodyHtml.removeClass("is-overflowHidden")};var t006={$elm:null,$accordions:null,initialized:false,show:function(){if(t006.initialized===
false){bodyNoScroll(true);t006.$elm=$(document.getElementById("t006"));if(t006.$elm.length){$(window).trigger("setFakeNotSvg");t006.$elm.off("click.initClose",".js-headerClose").on("click.initClose",".js-headerClose",function(e){e.preventDefault();t006.hide()});t006.$elm.show();t006.$elm.find(".T006__input").focus();t006.initialized=true;t006.initAccordions()}$(window).off("searchLoaded.inbenta.init").one("searchLoaded.inbenta.init",t006.show)}},hide:function(){if(t006.initialized===true){t006.$elm.off("click.initClose",
".js-headerClose");t006.destroyAccordions();t006.$elm.hide();t006.$elm=null;t006.$accordions=null;bodyNoScroll(false);t006.initialized=false}},initAccordions:function(){if(t006.initialized===true){t006.$accordions=t006.$elm.find(".AccordionSteps");t006.$accordions.off("show.bs.collapse.sync").on("show.bs.collapse.sync",function(){var $current=$(this).closest(t006.$accordions);var $others=t006.$accordions.not($current);$others.children(".panel").children(".in,.collapsing").collapse("hide")})}},destroyAccordions:function(){if(t006.initialized===
true){t006.$accordions.off("show.bs.collapse.sync");t006.$accordions=null}}};var STICKY_SELECTOR=".js-sticky";var SCROLL_SPY_SELECTOR=".js-scrollSpyNav";var t007={$elm:null,$3cols:null,$sticky:null,stickyRegisterObject:null,initialized:false,show:function(){if(t007.initialized===false){t006.hide();bodyNoScroll(true);t007.$elm=$(document.getElementById("t007"));if(t007.$elm.length){$(window).trigger("setFakeNotSvg").trigger("updateNavs");t007.stickyRegisterObject={match:function(){if(t007.$sticky!==
null){var $stickyScrollTarget=t007.$sticky.closest(t007.$sticky.data("scroll-target"));var $stickyTarget=$stickyScrollTarget.find(t007.$sticky.data("target"));t007.$sticky.stick_push({target:$stickyTarget,scrollTarget:$stickyScrollTarget,fullHeight:true,headerDelta:function($sticky,$scrollTarget){return $scrollTarget.offset().top}})}},unmatch:function(){if(t007.$sticky!==null){var data=t007.$sticky.data("sticky");if(data)data.destroy()}}};t007.$elm.off("click.initClose",".js-headerClose").on("click.initClose",
".js-headerClose",function(e){e.preventDefault();t007.hide()});t007.$elm.show();t007.$elm.find(".T007__form-input").focus();t007.initialized=true}$(window).off("searchLoaded.inbenta.init").one("searchLoaded.inbenta.init",t007.show)}},hide:function(){if(t007.initialized===true){t007.removeSticky();t007.removeScrollSpy();t007.removeMatchHeight();bodyNoScroll(false);t007.$elm.hide();t007.$elm.off("click.initClose",".js-headerClose");t007.$elm=null;t007.$3cols=null;t007.$sticky=null;t007.stickyRegisterObject=
null;t007.initialized=false}},updateSticky:function(){if(t007.initialized===true){t007.removeSticky();t007.$sticky=t007.$elm.find(STICKY_SELECTOR);enquire.register(CommonNPC.medias.mqMdMin,t007.stickyRegisterObject)}},removeSticky:function(){if(t007.initialized===true&&t007.$sticky!==null){var stickyData=t007.$sticky.data("sticky");enquire.unregister(CommonNPC.medias.mqMdMin,t007.stickyRegisterObject);if(stickyData&&stickyData.destroy)stickyData.destroy();t007.$sticky=null}},updateScrollSpy:function(){if(t007.initialized===
true){var $scrollSpyNav=t007.$elm.find(SCROLL_SPY_SELECTOR);var $scrollSpyScrollElm=$scrollSpyNav.closest($scrollSpyNav.data("scroll-target"));var scrollSpyData=$scrollSpyScrollElm.data("bs.scrollspy");if(scrollSpyData)$scrollSpyScrollElm.scrollspy("refresh");else $scrollSpyScrollElm.scrollspy({target:SCROLL_SPY_SELECTOR});$scrollSpyNav.off("click.t007.scrollSpy",".nav a").on("click.t007.scrollSpy",".nav a",function(e){e.preventDefault();var $this=$(this);var $target=$($this.data("target")||$this.attr("href"));
$target.focus();var top=$target.offset().top;CommonNPC.scrollToOnElm($scrollSpyScrollElm,top,undefined,10)})}},removeScrollSpy:function(){if(t007.initialized===true){var $scrollSpyNav=t007.$elm.find(SCROLL_SPY_SELECTOR);$scrollSpyNav.off("click.t007.scrollSpy",".nav a")}},updateMatchHeight:function(){if(t007.initialized===true){t007.$3cols=t007.$elm.find(".T007__3columns");t007.$3cols.find(".T007__subtitle").matchHeight();t007.$3cols.find(".simpleAccesses,.callGreenBtnBloc").matchHeight()}},removeMatchHeight:function(){if(t007.initialized===
true&&t007.$3cols){t007.$3cols.find(".T007__subtitle").matchHeight({remove:true});t007.$3cols.find(".simpleAccesses,.callGreenBtnBloc").matchHeight({remove:true});t007.$3cols=null}}};var closeAll=function(){t006.hide();t007.hide()};$(window).off("openSearch.inbenta.init").on("openSearch.inbenta.init",t006.show).off("closeSearch.inbenta.init").on("closeSearch.inbenta.init",closeAll).off("inbentaSearch.inbenta.init").on("inbentaSearch.inbenta.init",t007.show).off("categoriesLoaded.inbenta.initSticky").on("categoriesLoaded.inbenta.initSticky",
t007.updateSticky).off("categoriesLoaded.inbenta.initScroll").on("categoriesLoaded.inbenta.initScroll",t007.updateScrollSpy).off("categoryLoaded.inbenta.initSticky").on("categoryLoaded.inbenta.initSticky",t007.updateSticky).off("c113Loaded.inbenta.init").on("c113Loaded.inbenta.init",t007.updateMatchHeight)});
$(function(){$(".js-custReviews-carousel").each(function(){var $this=$(this);if($this.children().length>=3)$this.addClass("owl-carousel").owlCarousel({items:3,slideBy:3,loop:false,margin:10,nav:true,navText:["",""],responsive:{0:{items:1,slideBy:1},650:{items:2,slideBy:2},960:{items:3,slideBy:3}}})})});var NPC=NPC||{};
NPC.injectDataClassToParent=function(){var currentLoc=$('.sur-footer-localisation-agence-inner-div[data-class]:not([data-class\x3d""])');var parentLoc=currentLoc.parent();parentLoc.addClass(currentLoc.attr("data-class"));var currentSos=$('.sur-footer-sos-inner-div[data-class]:not([data-class\x3d""])');var parentSos=currentSos.parent();parentSos.addClass(currentSos.attr("data-class"));var currentStoreAppsCA=$('.sur-footer-store-apps-ca-inner-div[data-class]:not([data-class\x3d""])');var parentStoreAppsCA=
currentStoreAppsCA.parent();parentStoreAppsCA.addClass(currentStoreAppsCA.attr("data-class"))};$(function(){NPC.injectDataClassToParent()});
var sliderRelationalMessage=function(){var $sliders=$(".PushCarousel3-carouselInner");$sliders.on("defined.slider",function(e,$slider){$(window).on("debounced-resize.pushcarousel",function(){setTimeout(function(){$slider.trigger("refresh.owl.carousel")})})});CommonNPC.initSlider($sliders,function(data){return{items:1,nav:data.nbChilds>1,mouseDrag:data.nbChilds>1,touchDrag:data.nbChilds>1,navText:false,loop:false,rewind:true,margin:1,autoplay:true,autoplayTimeout:5E3,autoplayHoverPause:true,dots:data.nbChilds>
1,responsive:false}});$(".PushCarousel3-item a").attr("tabindex","0")};$(sliderRelationalMessage());$(function(){$(".js-listLinkCaret").each(function(){var $context=$(this);$context.off("click").on("click",function(e){e.preventDefault();$context.toggleClass("js-listLinkCaret--collapsed")})})});var NPC=NPC||{};NPC.browserInformations={};
NPC.browserInformations.getBrowserInformations=function(){var browserInformations={};if(!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0){var userAgentVersion=NPC.browserInformations.getOperaVersion();browserInformations={userAgentName:"Opera",userAgentVersion:userAgentVersion}}else if(typeof InstallTrigger!=="undefined"){var userAgentVersion=NPC.browserInformations.getFirefoxVersion();browserInformations={userAgentName:" Firefox ",userAgentVersion:userAgentVersion}}else if(/constructor/i.test(window.HTMLElement)||
function(p){return p.toString()==="[object SafariRemoteNotification]"}(!window["safari"]||typeof safari!=="undefined"&&safari.pushNotification)){var userAgentVersion=NPC.browserInformations.getSafariVersion();browserInformations={userAgentName:"Safari",userAgentVersion:userAgentVersion}}else if(false||!!document.documentMode){var userAgentVersion=NPC.browserInformations.getInternetExplorerVersion();browserInformations={userAgentName:"Internet Explorer",userAgentVersion:userAgentVersion}}else if(document.documentMode||
/Edge/.test(navigator.userAgent)||/Edg/.test(navigator.userAgent)){var userAgentVersion=NPC.browserInformations.getEdgeVersion();browserInformations={userAgentName:"Edge",userAgentVersion:userAgentVersion}}else if(!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)){var userAgentVersion=NPC.browserInformations.getChromeVersion();browserInformations={userAgentName:"Chrome",userAgentVersion:userAgentVersion}}else browserInformations={userAgentName:"Non reconnu",userAgentVersion:"Non reconnu"};
return browserInformations};NPC.browserInformations.getChromeVersion=function(){var version=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return version?parseInt(version[2],10):"Non reconnu"};NPC.browserInformations.getFirefoxVersion=function(){var version=navigator.userAgent.match(/Firefox\/([0-9]+)\./);return version?parseInt(version[1]):"Non reconnu"};
NPC.browserInformations.getOperaVersion=function(){var version=navigator.userAgent.match(/\b(OPR|Edge)\/(\d+)/);return version?parseInt(version[2]):"Non reconnu"};NPC.browserInformations.getInternetExplorerVersion=function(){var version=/\brv[ :]+(\d+)/g.exec(navigator.userAgent)||[];return version?parseInt(version[1]):"Non reconnu"};NPC.browserInformations.getEdgeVersion=function(){var version=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return version?parseInt(version[2]):"Non reconnu"};
NPC.browserInformations.getSafariVersion=function(){var version=navigator.userAgent.match(/safari\/([0-9]+)\./);return version?parseInt(version[2]):"Non reconnu"};var NPC=NPC||{};NPC.clientSideLogger={};NPC.clientSideLogger._buildLogData=function(type,code,message){var browserInformations=NPC.browserInformations.getBrowserInformations();return{type:type,code:code,browserName:browserInformations.userAgentName,browserVersion:browserInformations.userAgentVersion,date:(new Date).toISOString(),message:message}};
NPC.clientSideLogger.error=function(code,message,stacktrace){try{NPC.clientSideLogger.postLogData("ERROR",code,message,stacktrace)}catch(err){console.log(err)}};
NPC.clientSideLogger.postLogData=function(logType,code,message,stacktrace){try{if(!logType||!code||!message)throw"log type, code or message undefined";var logData=NPC.clientSideLogger._buildLogData(logType,code,message);if(stacktrace){var st=JSON.stringify(stacktrace,function(key,val){if(key!=="responseText")return val;else{console.log(key,val);return undefined}});logData.st=st.replace(/\\"/g,'"')}$.ajax({url:NPC.genererURLJson("clientsidelogger"),type:"post",async:true,data:$.param(logData),dataType:"text"})}catch(err){throw err;
}};var NPC=NPC||{};NPC.clientSidePerformance={};NPC.browserInformations=NPC.browserInformations||{};
NPC.clientSidePerformance._buildLogData=function(code,duration,message){var browserName=browserVersion="NA";if(typeof NPC.browserInformations.getBrowserInformations!==undefined){var browserInformations=NPC.browserInformations.getBrowserInformations();browserName=browserInformations.userAgentName;browserVersion=browserInformations.userAgentVersion}return{duration:duration,code:code,browserName:browserName,browserVersion:browserVersion,date:(new Date).toISOString(),message:message}};
NPC.clientSidePerformance.perf=function(code,duration,message){message=message===undefined?"":message;try{NPC.clientSidePerformance.postPerformanceData(code,duration,message)}catch(err){console.log(err)}};
NPC.clientSidePerformance.postPerformanceData=function(code,duration,message){try{if(!code||!duration)throw"log type, code or message undefined";var logData=NPC.clientSidePerformance._buildLogData(code,duration,message);$.ajax({url:NPC.genererURLJson("clientsideperformance"),type:"POST",async:true,data:$.param(logData),dataType:"text"})}catch(err){throw err;}};var collapseExtended="collapse-expended";var hidden="hidden";var collapseItem="npc-msl-collapse-item";var collapseItemHeader="npc-msl-collapse-item-header";
var collapseItemDivider="npc-msl-collapse-item-divider";var collapseItemBody="npc-msl-collapse-item-body";
function initCollapse(){var collapseIndex=0;$("."+collapseItemHeader+':not([col-set\x3d"true"])').on("click",collapseToggle);Array.from($("."+collapseItem)).forEach(function(element){var elementHeader=element.getElementsByClassName(collapseItemHeader);var elementDivider=element.getElementsByClassName(collapseItemDivider);var elementBody=element.getElementsByClassName(collapseItemBody);if(elementHeader&&elementDivider&&elementBody){elementHeader[0].setAttribute("col-set","true");elementHeader[0].setAttribute("aria-expanded",
"false");elementHeader[0].setAttribute("aria-controls","collapseId-"+collapseIndex);elementDivider[0].setAttribute("id","collapseId-"+collapseIndex);elementBody[0].setAttribute("id","collapseId-"+collapseIndex);collapseIndex++}})}
function closeAllTab(collapseItemContainer){if(!collapseItemContainer.parentNode.attributes.hasOwnProperty("openmultiple")||collapseItemContainer.parentNode.attributes.openmultiple.value==="false"){var openCollapse=collapseItemContainer.parentNode.getElementsByClassName(collapseExtended);Array.from(openCollapse).forEach(function(element){element.classList.remove(collapseExtended);element.getElementsByClassName(collapseItemDivider)[0].classList.add(hidden);element.getElementsByClassName(collapseItemHeader)[0].attributes["aria-expanded"].value=
"false"})}}
var collapseToggle=function(collapse){var target=collapse.currentTarget;var collapseItemContainer=document.getElementById(target.attributes["aria-controls"].value).parentNode;if(target.attributes.hasOwnProperty("aria-expanded")){var targetExpandVar=target.attributes["aria-expanded"];if(targetExpandVar.value==="true"){targetExpandVar.value="false";collapseItemContainer.getElementsByClassName(collapseItemDivider)[0].classList.add(hidden);collapseItemContainer.classList.remove(collapseExtended)}else{closeAllTab(collapseItemContainer);targetExpandVar.value=
"true";collapseItemContainer.getElementsByClassName(collapseItemDivider)[0].classList.remove(hidden);collapseItemContainer.classList.add(collapseExtended)}}};initCollapse();
function initSelectorBV(){MSL.FUNCTIONS.closeAllSelect();$(".npc-bv-selected").off("focus").on("focus",function(){$(this).closest(".npc-bv-selectBox").find(".npc-line").show()});$(".npc-bv-selected").off("focusout").on("focusout",function(){$(this).closest(".npc-bv-selectBox").find(".npc-line").hide()});$(".npc-bv-options li").off("focus").on("focus",function(){$(this).closest(".npc-bv-selectBox").find(".npc-line").show()});$(".npc-bv-selected").off("click").on("click",function(){toggleSelectEvent($(this))});
$(".npc-bv-selected").off("keyup").on("keyup",function(event){var keycode=event.key;switch(keycode){case " ":event.stopPropagation();event.preventDefault();case "Enter":toggleSelectEvent($(this));break}});$(".npc-bv-options li").off("keydown").on("keydown",function(event){var keycode=event.key;switch(keycode){case " ":event.stopPropagation();event.preventDefault();break;case "Tab":event.stopPropagation();event.preventDefault();case "Escape":MSL.FUNCTIONS.closeSelect($(this).closest(".npc-bv-selectBox").find(".npc-bv-selected"));
$(this).closest(".npc-bv-selectBox").find(".npc-bv-selected").focus();break;case "Enter":selectListElement($(this));break;case "ArrowUp":case "ArrowDown":event.stopPropagation();event.preventDefault();selectMoveFocus($(this),keycode);break;default:if(keycode.length===1){var listElement=$(this).closest(".npc-bv-options").find('ul li:not(".hidden")');setfocusListElement(listElement[getFocusIndexOfLetter(listElement,keycode)])}}});$(".npc-bv-options li").off("click").on("click",function(){selectListElement($(this))});
function selectMoveFocus(element,keycode){var listElement=element.closest(".npc-bv-options").find('ul li:not(".hidden")');var focusIndex=getFocusIndex(listElement);if(focusIndex>-1)if(keycode==="ArrowUp")setfocusListElement(focusIndex===0?listElement[listElement.length-1]:listElement[focusIndex-1]);else if(keycode==="ArrowDown")setfocusListElement(focusIndex===listElement.length-1?listElement[0]:listElement[focusIndex+1])}function selectListElement(element){var option=element.text();var selectBox=
element.closest(".npc-bv-selectBox");selectBox.find(".npc-bv-options li").removeClass("active");element.addClass("active");selectBox.find("select")[0].value=element.attr("select-value");selectBox.find(".npc-bv-selected").text(option);MSL.FUNCTIONS.closeSelect(selectBox.find(".npc-bv-selected"));selectBox.find(".npc-bv-selected").focus();selectBox.find("select").trigger("change")}function toggleSelectEvent(selectElement){if(selectElement.attr("aria-expanded")==="true")MSL.FUNCTIONS.closeSelect(selectElement);
else{openSelect(selectElement);var activeElement=selectElement.closest(".npc-bv-selectBox").find('ul li:not(".hidden").active');setfocusListElement(activeElement.length>0?activeElement[0]:selectElement.closest(".npc-bv-selectBox").find('ul li:not(".hidden")')[0])}}function openSelect(element){MSL.FUNCTIONS.closeAllSelect();var selelectBox=element.closest(".npc-bv-selectBox");selelectBox.find(".npc-line").show();selelectBox.find(".npc-bv-options").show();selelectBox.addClass("npc-arrowup");element.attr("aria-expanded",
true);MSL.FUNCTIONS.calcOptionSize(selelectBox)}function getFocusIndex(listElement){var indexOutpus=-1;for(var index=0;listElement.length>index&&indexOutpus===-1;index++)if(listElement[index].classList.contains("msl-select-focus"))indexOutpus=index;return indexOutpus}function getFocusIndexOfLetter(listElement,keycode){var indexOutpus=-1;for(var index=0;listElement.length>index&&indexOutpus===-1;index++)if(listElement[index].innerText.length>0&&listElement[index].innerText[0].toLowerCase()===keycode.toLowerCase())indexOutpus=
index;return indexOutpus}function setfocusListElement(element){$(".msl-select-focus").removeClass("msl-select-focus");element.classList.add("msl-select-focus");element.focus()}}
function initBaseSelectorBV(){MSL={};MSL.FUNCTIONS={};$(window).on("scroll",scrollEvent);$(document).on("click",function(event){var targetElement=event.target||event.srcElement;if($(targetElement).closest(".npc-bv-selectBox").length===0)MSL.FUNCTIONS.closeAllSelect()});function scrollEvent(){var selectElementList=$(".npc-bv-selected");for(var index=0;index<selectElementList.length;index++)if($(selectElementList[index]).attr("aria-expanded")==="true")MSL.FUNCTIONS.calcOptionSize($(selectElementList[index]).closest(".npc-bv-selectBox"))}
function setOptionStyle(optionElement,height,top){height=height===undefined?"":height;top=top===undefined?"":top;optionElement.style.height=height;optionElement.style.top=top}MSL.FUNCTIONS.calcOptionSize=function(selectBoxJQuery){var optionElementJQuery=selectBoxJQuery.find(".npc-bv-options");var lineHeight=selectBoxJQuery.find(".npc-line")[0].getBoundingClientRect().height;var ulHeight=optionElementJQuery.find("ul")[0].getBoundingClientRect().height;var windowHeight=$(window).innerHeight();var optionBounding=
optionElementJQuery[0].getBoundingClientRect();var inputBounding=selectBoxJQuery[0].getBoundingClientRect();var offsetSize=30;var offsetTop=10;var marginUl=10;if(inputBounding.top+ulHeight>=windowHeight){var twoTierWindow=windowHeight/3*2;if(ulHeight<twoTierWindow){var topOptions=ulHeight+lineHeight+offsetTop+10;setOptionStyle(optionElementJQuery[0],ulHeight+marginUl+"px",-topOptions+"px")}else if(twoTierWindow<inputBounding.top){var headerHeight=$(".Header")[0].getBoundingClientRect().height;var sizeOptions=
inputBounding.top-offsetSize-headerHeight-lineHeight-offsetTop;sizeOptions=sizeOptions>600?600:sizeOptions;var topOptions$2=sizeOptions+lineHeight+offsetTop;setOptionStyle(optionElementJQuery[0],sizeOptions+"px",-topOptions$2+"px")}else{var sizeOptions$3=windowHeight-optionBounding.top-offsetSize;setOptionStyle(optionElementJQuery[0],sizeOptions$3+"px")}}else setOptionStyle(optionElementJQuery[0])};MSL.FUNCTIONS.closeAllSelect=function(){var selectElementList=$(".npc-bv-selected");for(var index=0;index<
selectElementList.length;index++)MSL.FUNCTIONS.closeSelect($(selectElementList[index]))};MSL.FUNCTIONS.closeSelect=function(element){var selelectBox=element.closest(".npc-bv-selectBox");selelectBox.find(".npc-line").hide();selelectBox.find(".npc-bv-options").hide();selelectBox.removeClass("npc-arrowup");element.attr("aria-expanded",false)}}initBaseSelectorBV();var MSL_LIB={};
document.addEventListener("DOMContentLoaded",function(){MSL_LIB.VARIBLES={};MSL_LIB.FUNCTIONS={};var FLOATING_BUTTON="npc-msl-floating-button";var INPUT="npc-msl-ff-input";var SELECT="npc-msl-ff-select";var TOOLTIP="npc-msl-tooltip";function initMslFloatingButton(){if(MSL_LIB.VARIBLES.$FLOATION_BUTTON.length>0){MSL_LIB.VARIBLES.$FLOATION_BUTTON.hide();$(document).on("scroll",function(){if(MSL_LIB.VARIBLES.$FLOATION_BUTTON.attr("msl-data-has-float-line")==="true"){var $lineSelector=$(MSL_LIB.VARIBLES.$FLOATION_BUTTON.attr("msl-data-float-selector"));
var ligneHeight=$lineSelector.length>0?$lineSelector[0].getBoundingClientRect().y:0}else var ligneHeight=parseInt(MSL_LIB.VARIBLES.$FLOATION_BUTTON.attr("msl-data-float-line-pos"));if(window.scrollY>ligneHeight)MSL_LIB.VARIBLES.$FLOATION_BUTTON.show();else MSL_LIB.VARIBLES.$FLOATION_BUTTON.hide()})}}MSL_LIB.FUNCTIONS.refreshFloatingButton=function(){MSL_LIB.VARIBLES.$FLOATION_BUTTON=$("."+FLOATING_BUTTON);MSL_LIB.VARIBLES.$FLOATION_BUTTON.off("click").on("click",function(){window.scrollTo(0,0)})};
MSL_LIB.FUNCTIONS.refreshFloatingButton();initMslFloatingButton();MSL_LIB.FUNCTIONS.refreshInputText=function(){MSL_LIB.VARIBLES.$INPUT_TEXT=$("."+INPUT+' input[type\x3d"text"]')};var MslSelect=function(element,index){var select=element.querySelector("select");var valueElem=$(select).val();this.element=element;this.id=select.id;this.placeholder=select.getAttribute("placeholder");this.optionList=select.querySelectorAll("option");this.mslId=this.id+"-"+index;this.mslIdList=this.id+"-list-"+index;this.value=
valueElem?valueElem:[];this.isExpand=false;this.initMslSelect()};MslSelect.prototype.initMslSelect=function(){this.deleteMslSelect();this.buildMslSelect();this.setMslSelectEvent();this.refreshInput();this.refreshChips()};MslSelect.prototype.deleteMslSelect=function(){var select=this.element.querySelector(".npc-msl-ff-select--combobox");if(select){$(document).unbind("click",this.closePopUp);select.remove()}};MslSelect.prototype.setMslSelectEvent=function(){var $jscomp$this=this;var input=$(this.element.querySelector('div[role\x3d"combobox"]')).find("input");
var btnNbInput=$(this.element.querySelector('div[role\x3d"combobox"]')).find(".js-open-list");var btnValid=$(this.element.querySelector('div[role\x3d"listbox"]')).find(".js-close-list");var listBox=$(this.element.querySelector('div[role\x3d"listbox"]'));var listBoxOptions=$(this.element.querySelector('div[role\x3d"listbox"]')).find('*[role\x3d"option"] input');var btnClear=$(this.element.querySelector('div[role\x3d"combobox"]')).find(".js-clear");var firstOption=$(this.element).find("#"+this.mslIdList+
" input").first();input.on("focus",function(){$jscomp$this.stateModale(true)}).on("input",function(e){$jscomp$this.search(e.target.value)}).on("keyup",function(e){if(e.key==="Escape")$jscomp$this.stateModale(false)});$(document).bind("click",{ths:this},this.closePopUp);btnNbInput.on("click",function(){$jscomp$this.stateModale(!$jscomp$this.isExpand,true)}).on("keyup",function(e){if(e.key==="Escape")$jscomp$this.stateModale(false)});btnValid.on("click",function(){$jscomp$this.stateModale(false,true)}).on("keyup",
function(e){if(e.key==="Enter")$jscomp$this.stateModale(false,true);else if(e.key==="Escape")$jscomp$this.stateModale(false,true)}).on("keydown",function(e){if(e.key==="Tab"){e.stopPropagation();e.preventDefault();$($jscomp$this.element).find("#"+$jscomp$this.mslIdList+" input").first().focus()}});listBox.on("keyup",function(e){if(e.key==="Escape")$jscomp$this.stateModale(false,true)});listBoxOptions.on("change",function(event){if(event.target.checked){$jscomp$this.value.push(event.target.value);
$jscomp$this.value.sort();input.val("")}else $jscomp$this.value=$jscomp$this.value.filter(function(e){return e!==event.target.value});$(event.target).closest('*[role\x3d"option"]').attr("aria-selected",event.target.checked);$jscomp$this.refreshChips();$jscomp$this.updateValue();$jscomp$this.refreshInput()});btnClear.on("click",function(){$jscomp$this.clearSelection()}).on("keyup",function(e){if(e.key==="Enter")$jscomp$this.clearSelection()});firstOption.on("keydown",function(e){if(e.key==="Tab"&&
e.shiftKey===true){e.stopPropagation();e.preventDefault();btnValid.focus()}})};MslSelect.prototype.search=function(text){$(this.element.querySelector('div[role\x3d"listbox"]')).find('*[role\x3d"option"] input').each(function(index,option){if(!option.value.toLowerCase().includes(text.trim().toLowerCase()))$(option).closest('*[role\x3d"option"]').addClass("hidden");else $(option).closest('*[role\x3d"option"]').removeClass("hidden")})};MslSelect.prototype.clearSelection=function(){$(this.element.querySelector('div[role\x3d"listbox"]')).find('*[role\x3d"option"] input').each(function(index,
check){return $(check).prop("checked",false)});this.value=[];this.refreshChips();this.updateValue();this.refreshInput()};MslSelect.prototype.removeElementFromSelected=function(chips){$(this.element.querySelector('div[role\x3d"listbox"]')).find('*[role\x3d"option"] input[value\x3d"'+chips.getAttribute("value")+'"]').each(function(index,check){return $(check).prop("checked",false)});this.value=this.value.filter(function(e){return e!==chips.getAttribute("value")});this.refreshChips();this.updateValue();
this.refreshInput()};MslSelect.prototype.refreshChips=function(){var $jscomp$this=this;var chipsArea=$(this.element.querySelector(".npc-msl-ffs-combobox--chips"));chipsArea.html("");var chipsAreaHtml="";for(var i=0;i<this.value.length;i++)chipsAreaHtml+='\n        \x3cdiv class\x3d"npc-msl-chips-V2"\x3e\n          \x3cp class\x3d"npc-msl-chips--label"\x3e'+this.value[i]+'\x3c/p\x3e\n          \x3cbutton aria-label\x3d"Supprimer '+this.value[i]+' de la s\u00e9l\u00e9ction" class\x3d"npc-msl-rounded-icon-action npc-msl-small" value\x3d"'+
this.value[i]+'"\x3e\n              \x3ci class\x3d"icon npc-close"\x3e\x3c/i\x3e\n          \x3c/button\x3e\n        \x3c/div\x3e\n        ';chipsArea.html(chipsAreaHtml);chipsArea.find("button").on("click",function(e){$jscomp$this.removeElementFromSelected(e.target)}).on("keyup",function(e){if(e.key==="Enter")$jscomp$this.removeElementFromSelected(e.target)})};MslSelect.prototype.refreshInput=function(){var input=$(this.element.querySelector('div[role\x3d"combobox"]')).find("input");var btnNbInput=
$(this.element.querySelector('div[role\x3d"combobox"]')).find(".js-open-list");var btnClear=$(this.element.querySelector('div[role\x3d"combobox"]')).find(".js-clear");if(this.value.length>0){var pluriel=this.value.length>1?"s":"";input.addClass("hidden");btnNbInput.removeClass("hidden");btnClear.removeClass("hidden");btnNbInput.html(this.value.length+" \u00e9l\u00e9ment"+pluriel+" s\u00e9l\u00e9ctionn\u00e9"+pluriel);this.search("")}else{input.removeClass("hidden");btnNbInput.addClass("hidden");btnClear.addClass("hidden");
btnNbInput.html("")}};MslSelect.prototype.updateValue=function(){$(this.element.querySelector("select")).val(this.value)};MslSelect.prototype.closePopUp=function(e){if(e.data.ths.isExpand&&$(e.data.ths.element).find(e.target).length===0)e.data.ths.stateModale(false)};MslSelect.prototype.stateModale=function(isExpanded,setFocus){setFocus=setFocus===undefined?false:setFocus;this.isExpand=isExpanded;if(this.isExpand){if(setFocus)$(this.element).find("#"+this.mslIdList+" input").first().focus();$(this.element).find("#"+
this.mslIdList).removeClass("hidden");$(this.element.querySelector('div[role\x3d"combobox"]')).attr("aria-expanded",true);$(this.element.querySelector('div[role\x3d"combobox"]')).find("input, .js-open-list").attr("aria-expanded",true)}else{$(this.element).find("#"+this.mslIdList).addClass("hidden");$(this.element.querySelector('div[role\x3d"combobox"]')).attr("aria-expanded",false);$(this.element.querySelector('div[role\x3d"combobox"]')).find("input, .js-open-list").attr("aria-expanded",false);if(setFocus)if(this.value.length>
0)$(this.element.querySelector('div[role\x3d"combobox"]')).find(".js-open-list").first().focus();else $(this.element.querySelector('div[role\x3d"combobox"]')).find("input").first().focus()}};MslSelect.prototype.buildMslSelect=function(){var combobox='\n        \x3cdiv class\x3d"npc-msl-ff-select--combobox"\x3e\n            \x3cdiv role\x3d"combobox" aria-haspopup\x3d"listbox" aria-expanded\x3d"false" aria-owns\x3d"'+this.mslIdList+'"\x3e\n                \x3cbutton type\x3d"button" class\x3d"npc-msl-ffs-combobox--nbSelected hidden js-open-list" aria-expanded\x3d"false" aria-controls\x3d"'+
this.mslIdList+'"\x3e\x3c/button\x3e\n                \x3cinput\n                    placeholder\x3d"'+this.placeholder+'"\n                    class\x3d"npc-msl-ffs-combobox--select"\n                    aria-autocomplete\x3d"list"\n                    type\x3d"text"\n                    autocorrect\x3d"off"\n                    autocapitalize\x3d"off"\n                    autocomplete\x3d"off"\n                    id\x3d"multi-select"\n                    aria-expanded\x3d"false"\n                    aria-controls\x3d"'+
this.mslIdList+'"\x3e\n                \x3cbutton type\x3d"button" class\x3d"npc-msl-ffs-combobox--remove js-clear hidden" aria-label\x3d"Effacer la s\u00e9l\u00e9ction"\x3e\x3ci class\x3d"icon ic_close_full_medium"\x3e\x3c/i\x3e\x3c/button\x3e\n            \x3c/div\x3e\n            \x3cdiv role\x3d"listbox" aria-label\x3d"Options list" aria-label\x3d"Options list" id\x3d"'+this.mslIdList+'" class\x3d"hidden"\x3e\n                \x3cdiv class\x3d"npc-msl-ffs-combobox--panel"\x3e\n      ';for(var i=
0;i<this.optionList.length;i++){var option=this.optionList[i];var isCheck=this.value.includes(option.value);var optionid=this.mslIdList+"-"+i;var optionidCheck=optionid+"-checkbox";combobox+='\n            \x3cdiv role\x3d"option" aria-selected\x3d"'+isCheck+'" id\x3d"'+optionid+'"\x3e\n                \x3cinput id\x3d"'+optionidCheck+'" type\x3d"checkbox" value\x3d"'+option.value+'" name\x3d"'+optionidCheck+'" '+(isCheck?"checked":"")+'\x3e\n                \x3clabel for\x3d"'+optionidCheck+'"\x3e'+
option.text+"\x3c/label\x3e\n            \x3c/div\x3e\n        "}combobox+='\n         \x3c/div\x3e\n                \x3cdiv class\x3d"npc-msl-ffs-combobox--footer"\x3e\n                    \x3cbutton type\x3d"button" class\x3d"npc-msl-link js-close-list"\x3eValider\x3c/button\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"npc-msl-ffs-combobox--chips"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        ';$(this.element.querySelector("select")).after(combobox)};
MSL_LIB.FUNCTIONS.refershInputSelect=function(){MSL_LIB.VARIBLES.$SELECT=$("."+INPUT+"."+SELECT);var i=0;MSL_LIB.VARIBLES.$SELECT.each(function(){new MslSelect(this,i++)})};function toggleTooltip(element,isVisible){if(isVisible){$(element).find(".npc-msl-tooltip--content").show();setTooltipPoss(element)}else $(element).find(".npc-msl-tooltip--content").hide()}function setTooltipPoss(element){var tContent=$(element).find(".npc-msl-tooltip--content");var tIcon=$(element).find(".npc-msl-tooltip--identifier");
var tArrow=$(element).find(".npc-msl-tooltip--arrow");var offsetScreenBorder=10;var tContentPoss=tContent[0].getBoundingClientRect();var tIconPoss=tIcon[0].getBoundingClientRect();var tArrowHalfWidth=tArrow[0].getBoundingClientRect().width/2;var tIconHalfWidth=tIconPoss.width/2;var tContentHalfWidth=tContentPoss.width/2;var tIconRight=$(window).innerWidth()-tIconPoss.right;var screenMaxContainer=$(window).innerWidth()-offsetScreenBorder*2;if(screenMaxContainer>=tContentPoss.width)if(tIconPoss.left-
offsetScreenBorder>=tContentHalfWidth-tIconHalfWidth&&tIconRight-offsetScreenBorder>=tContentHalfWidth-tIconHalfWidth)var margin=tContentHalfWidth-tIconHalfWidth;else if(tIconPoss.left-offsetScreenBorder<tContentHalfWidth-tIconHalfWidth)var margin=tIconPoss.left-offsetScreenBorder;else var margin=tContentPoss.width-tIconRight-offsetScreenBorder;else{tContent.css("width",screenMaxContainer+"px");var margin=tIconPoss.left-offsetScreenBorder}tContent.css("margin-left",-margin+"px");var offsetArrow=margin+
tIconHalfWidth-tArrowHalfWidth;tArrow.css("margin-left",offsetArrow+"px")}MSL_LIB.FUNCTIONS.refreshTooltip=function(){MSL_LIB.VARIBLES.$TOOLTIP=$("."+TOOLTIP);MSL_LIB.VARIBLES.$TOOLTIP.each(function(){var isCustom=$(this).is("[data-msl-tooltip-custom]");if(!isCustom){$(this).attr("tabindex",0);$(this).empty();$(this).append('\x3ci class\x3d"npc-msl-tooltip--identifier icon ic_alert_medium"\x3e\x3c/i\x3e\n        \x3cdiv class\x3d"npc-msl-tooltip--content" style\x3d"display:none"\x3e\n        \x3cdiv class\x3d"npc-msl-tooltip--arrow"\x3e\x3c/div\x3e\n        \x3cp\x3e'+
$(this).attr("data-msl-tooltip")+"\x3c/p\x3e\n        \x3c/div\x3e")}});MSL_LIB.VARIBLES.$TOOLTIP.off("mouseenter").off("mouseleave").off("focusin").off("focusout");MSL_LIB.VARIBLES.$TOOLTIP.mouseenter(function(){toggleTooltip(this,true)}).mouseleave(function(){toggleTooltip(this,false)}).focusin(function(){toggleTooltip(this,true)}).focusout(function(){toggleTooltip(this,false)})};MSL_LIB.FUNCTIONS.refreshTooltip()});
function gererCookieRS(){var isSNallowed=document.cookie.replace(/(?:(?:^|.*;\s*)isSNallowed\s*=\s*([^;]*).*$)|^.*$/,"$1");if(isSNallowed!=="true"){$("a.Share-logo, a.cardMagSocial--social").each(function(){disableRS(this)});$("a.Share-logo, a.cardMagSocial--social").not(".Share-logo--mail").on("click",function(e){e.preventDefault();tC.privacyCenter.showPrivacyCenter()})}}$(document).on("ready",function(){gererCookieRS()});
function disableRS(element){var classNames=element.className.split(" ");for(i=0;i<classNames.length;i++){var currentClass=classNames[i];if((currentClass.indexOf("cardMagSocial--")>=0||currentClass.indexOf("Share-logo--")>=0)&&currentClass!=="cardMagSocial--social"&&currentClass!=="Share-logo--mail"){var classFragments=currentClass.split("--");$(element).addClass(classFragments[0]+"--gray");var reseauxSocial=classFragments[1].charAt(0).toUpperCase()+classFragments[1].slice(1).toLowerCase();$(element).prop("title",
reseauxSocial+" est d\u00e9sactiv\u00e9. Autorisez le d\u00e9p\u00f4t de cookies pour acc\u00e9der \u00e0 cette fonctionnalit\u00e9.");$(element).prop("href","#")}}}
(function($,$document,ns){var loadContextHub=function(){var doc=document;if($("#ContentFrame").length>0)doc=$("#ContentFrame")[0].contentWindow.document;$("span[data-vp]",doc).each(function(index,el){var $el=$(el);var str=$el.html();var segmentname=null;if($(this).parents("div[data-trackingclass\x3d'message-marketing']").length>0){var segmentpath=$(this).parents("div[data-trackingclass\x3d'message-marketing']").data("currentsegment");if(segmentpath){var lastIndexSegment=segmentpath.lastIndexOf("/");
segmentname=segmentpath.substring(lastIndexSegment+1)}}var varPersona=$el.attr("data-vp").split("/");var storeKey=varPersona[0];var key=varPersona[1];var customValue=getCustomValue(storeKey,key,segmentname);$el.html(customValue)})};$document.ready(function(){if(undefined!=NPC.isAuthor&&!NPC.isAuthor)loadContextHub();else{$document.on("cq-layer-activated",function(event){if(event.prevLayer&&event.layer==event.prevLayer)loadContextHub()});$document.on("dialog-closed",function(){$document.one("cq-contentframe-layout-change",
function(){loadContextHub()})});$document.on("reload-persona",function(){loadContextHub()});$(document).ajaxComplete(function(event,xhr,settings){if(settings.url.indexOf("/personalization/touch-ui/content/targeteditor.html")!==-1)loadContextHub()})}if(undefined!=window.ContextHub)window.ContextHub.eventing.on(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,function(){loadContextHub()});$("div.coral-RichText-editable.coral-Form-field.coral-Textfield.coral-Textfield--multiline.coral-RichText").css("overflow",
"auto")})})(jQuery,jQuery(document),window.Granite.author=window.Granite.author||{});
function getCustomValue(store,key,additionalParameter){if(store=="client"&&key&&key!=""){var store=ContextHub.getStore("client");var item=store.getItem("/"+key);if(item)return item}else if(store=="marketing-messages"&&key&&key!=""){var segmentName=additionalParameter;if(segmentName){var store=ContextHub.getStore("marketing-messages");var message=store.getMessage(segmentName);if(message&&(key||key.toUpperCase()in message.customValues)){var valueMarket=message.customValues[key];if(undefined==valueMarket)valueMarket=
message.customValues[key.toUpperCase()];return valueMarket}}else{var store=ContextHub.getStore("current-marketing-message");var message=store.getItem("/currentMarketingMessage");if(message&&(key||key.toUpperCase()in message.customValues)){var valueCurrent=message.customValues[key];if(undefined==valueCurrent)valueCurrent=message.customValues[key.toUpperCase()];return valueCurrent}}}return null}var startPlayer=function(){$(".js-VideoPlayer").videoPlayer()};
$(function(){$.fn.videoPlayer=function(){if(!this)return $(this);$(this).each(function(){var $videoPlayer=$(this);var $tabPanel=$videoPlayer.closest('[role\x3d"tabpanel"]');var $videoFrame=$videoPlayer.find(".js-VideoPlayer-videoFrame");if($tabPanel.length===1)$tabPanel.off("hidden.bs.collapse.videoPlayer").on("hidden.bs.collapse.videoPlayer",function(){$videoPlayer.trigger("stop.videoPlayer")});$videoPlayer.off("stop.videoPlayer").on("stop.videoPlayer",function(){$videoPlayer.removeClass("VideoPlayer--play");
$videoFrame.attr("src","")}).off("click.videoPlayer.play touchstart.videoPlayer.play",".js-VideoPlayer-play").on("click.videoPlayer.play touchstart.videoPlayer.play",".js-VideoPlayer-play",function(e){e.preventDefault();$videoPlayer.addClass("VideoPlayer--play");$videoFrame.attr("src",$videoFrame.attr("data-src"))})})};startPlayer()});
(function($){$(document).ready(function(){ContextHub.eventing.on(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,function(){startPlayer()});ca_refreshVideoPlayers()})})(jQuery);
function ca_refreshVideoPlayers(){var doc=document;if($("#ContentFrame",parent).length>0)doc=$("#ContentFrame",parent).contents();$(".js-VideoPlayer",doc).each(function(index,el){if($(this).data("video-loadbackgroundimage")===true){var self=$(this);var videoProvider=$(this).data("video-provider");var videoId=$(this).data("video-id");if(videoId&&videoProvider=="YOUTUBE"){var url="https://img.youtube.com/vi/"+videoId+"/0.jpg";$(this).css("background-image","url('"+url+"')")}else if(videoId&&videoProvider==
"VIMEO"){var url="https://vimeo.com/api/v2/video/"+videoId+".json";$.ajax({url:url,jsonp:"callback",dataType:"jsonp",data:{},success:function(response){self.css("background-image","url('"+response[0].thumbnail_large+"')")}})}else if(videoId&&videoProvider=="DAILYMOTION"){var url="https://api.dailymotion.com/video/"+videoId+"?fields\x3dthumbnail_large_url";$.ajax({url:url,jsonp:"callback",dataType:"jsonp",data:{},success:function(response){self.css("background-image","url('"+response.thumbnail_large_url+
"')")}})}}})}(function($){$(document).ready(function(){ContextHub.eventing.on(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,function(){setSlides()});if($(".Etapier-slider").length>0)setTimeout(function(){$(".Etapier-slider").trigger("refresh.owl.carousel")},1E3)})})(jQuery);
function setSlides(){var $etapier=$(".etapier.section:not(.cq-Editable-dom)");$etapier.each(function(){$(this).parent().css("width","100%")});var $sliders=$(".Etapier-slider");$sliders.on("defined.slider",function(e,$slider){$(window).on("debounced-resize.etapier",function(){setTimeout(function(){$slider.trigger("refresh.owl.carousel")})})});CommonNPC.initSlider($sliders,function(data){return{items:1,nav:data.nbChilds>1,navText:false,margin:1,autoplay:true,autoplayTimeout:1E4,autoplayHoverPause:false,
dots:data.nbChilds>1,responsive:false}})}var NPC=NPC||{};(function($){NPC.vignetteCarte=NPC.vignetteCarte||{};NPC.vignetteCarte.changeDataTracking=function(event,value){var $me=$(event.currentTarget);var current=$me.attr("data-trackingclass");var tag=current.includes("active")?"comptes_et_cartes_comparateur_cartes":"comptes_et_cartes_comparateur_cartes_active";$me.attr("data-trackingclass",tag)}})($);var NPC=NPC||{};NPC.trouverAGENCE=NPC.trouverAGENCE||{};
(function($){var $submit=$(".js-FindAgency-Submit");NPC.trouverAGENCE.clearAddress=function(){$("#address").val("");$submit.attr("disabled",false)};NPC.trouverAGENCE.clearCity=function(){$("#city").val("").trigger("change");$submit.attr("disabled",true)};NPC.trouverAGENCE.initAutocomplete=function(){if(document.getElementById("address")){autocomplete=new google.maps.places.Autocomplete(document.getElementById("address"),{types:["geocode"],componentRestrictions:{country:["fr","re","gp","mq","gf","mc",
"pm","yt","nc","pf","mf","tf"]}});autocomplete.addListener("place_changed",NPC.trouverAGENCE.fillInAddress)}};var placeSearch,autocomplete;var componentForm={route:"address"};NPC.trouverAGENCE.fillInAddress=function(){var place=autocomplete.getPlace();$submit.attr("disabled",false)};if(NPC.isGoogleMapsApiLoaded)NPC.trouverAGENCE.initAutocomplete();else $(window).on("google.maps.api.loaded",NPC.trouverAGENCE.initAutocomplete)})($);var NPC=NPC||{};
(function($){var authorizedParameters=new Map;authorizedParameters.set("codeapporteur","^[^\\W_]{1,25}$");authorizedParameters.set("P_LNAPPO","^[^\\W_]{1,15}$");authorizedParameters.set("codeProvenanceInternet","^[^\\W_]{1,8}$");authorizedParameters.set("ORI","^[a-zA-Z0-9-_]+$");authorizedParameters.set("codeoffre","^\\d+$");authorizedParameters.set("origin","");var parametersNotToTransmit=["codeoffre","origin"];var listDepartement={"01":"Ain","02":"Aisne","03":"Allier","04":"Alpes-de-Haute-Provence",
"05":"Hautes-Alpes","06":"Alpes-Maritimes","07":"Ard\u00e8che","08":"Ardennes","09":"Ari\u00e8ge",10:"Aube",11:"Aude",12:"Aveyron",13:"Bouches-du-Rh\u00f4ne",14:"Calvados",15:"Cantal",16:"Charente",17:"Charente-Maritime",18:"Cher",19:"Corr\u00e8ze","2A":"Corse-du-Sud","2B":"Haute-Corse",21:"C\u00f4te-d'Or",22:"C\u00f4tes-d'Armor",23:"Creuse",24:"Dordogne",25:"Doubs",26:"Dr\u00f4me",27:"Eure",28:"Eure-et-Loir",29:"Finist\u00e8re",30:"Gard",31:"Haute-Garonne",32:"Gers",33:"Gironde",34:"H\u00e9rault",
35:"Ille-et-Vilaine",36:"Indre",37:"Indre-et-Loire",38:"Is\u00e8re",39:"Jura",40:"Landes",41:"Loir-et-Cher",42:"Loire",43:"Haute-Loire",44:"Loire-Atlantique",45:"Loiret",46:"Lot",47:"Lot-et-Garonne",48:"Loz\u00e8re",49:"Maine-et-Loire",50:"Manche",51:"Marne",52:"Haute-Marne",53:"Mayenne",54:"Meurthe-et-Moselle",55:"Meuse",56:"Morbihan",57:"Moselle",58:"Ni\u00e8vre",59:"Nord",60:"Oise",61:"Orne",62:"Pas-de-Calais",63:"Puy-de-D\u00f4me",64:"Pyr\u00e9n\u00e9es-Atlantiques",65:"Hautes-Pyr\u00e9n\u00e9es",
66:"Pyr\u00e9n\u00e9es-Orientales",67:"Bas-Rhin",68:"Haut-Rhin",69:"Rh\u00f4ne, M\u00e9tropole de Lyon19",70:"Haute-Sa\u00f4ne",71:"Sa\u00f4ne-et-Loire",72:"Sarthe",73:"Savoie",74:"Haute-Savoie",75:"Paris",76:"Seine-Maritime",77:"Seine-et-Marne",78:"Yvelines",79:"Deux-S\u00e8vres",80:"Somme",81:"Tarn",82:"Tarn-et-Garonne",83:"Var",84:"Vaucluse",85:"Vend\u00e9e",86:"Vienne",87:"Haute-Vienne",88:"Vosges",89:"Yonne",90:"Territoire de Belfort",91:"Essonne",92:"Hauts-de-Seine",93:"Seine-Saint-Denis",94:"Val-de-Marne",
95:"Val-d'Oise D\u00e9partements d\u2019outre-mer",971:"Guadeloupe",972:"Martinique",973:"Guyane",974:"La R\u00e9union",975:"Saint-Pierre-et-Miquelon",976:"Mayotte"};function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo",
"user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};NPC.trouverCR=
NPC.trouverCR||{};(function(me){var MODE_GEOLOC_KO=0;var MODE_GEOLOC_OK=1;var MODE_FORCE_SELECT=2;var SEARCH_MODE;var _getBankLink=function(bank){var link=NPC.storeLocator.calculateBankUrl(bank.regionalBankUrlPrefix);return'\x3ca href\x3d"'+link+'" class\x3d"btn" aria-label\x3d"Acc\u00e9der \u00e0 l\'espace d\u00e9di\u00e9 : '+bank.regionalBankName+'"\x3e'+bank.regionalBankName+"\x3c/a\x3e"};var _setMode=function(modeId){if(modeId==MODE_GEOLOC_OK){$("#trouver-un-cr-mode-search").hide();$("#trouver-un-cr-mode-found").show()}if(modeId==
MODE_GEOLOC_KO){$(".GeolocForceSearch").hide();$(".GeolocFail").show();$("#trouver-un-cr-mode-search").show();$("#trouver-un-cr-mode-found").hide();$(".btnsCr").html("");$(".PlusieursCR").hide()}if(modeId==MODE_FORCE_SELECT){$(".GeolocForceSearch").show();$(".GeolocFail").hide();$("#trouver-un-cr-mode-search").show();$("#trouver-un-cr-mode-found").hide();$(".btnsCr").html("")}$(".GeolocComponent").show();$.fn.matchHeight._update()};var _displayResult=function(listCR){if(!listCR||listCR.length==0){console.warn("Aucun CR trouv\u00e9 \u00e0 proximit\u00e9");
return}if(NPC.geoloc.geolocalized&&SEARCH_MODE!=="true"){_setMode(MODE_GEOLOC_OK);$(".GeolocCR").html(listCR[0].regionalBankName);$("#GeolocOK").show();$("#GeolocEnCours").hide();$(".UnCR").show();if(listCR.length>1){$(".GeolocQtyCr").html(listCR.length);$(".UnCR").hide()}else $(".PlusieursCR").hide();$(".btnsCr").html("");listCR.forEach(function(bank){$(".btnsCr").append(_getBankLink(bank))})}$.fn.matchHeight._update()};var _findNearlyCR=function(){if(NPC.storeLocator)NPC.storeLocator.trouverCRProches(NPC.geoloc.lat,
NPC.geoloc.long,_displayResult)};var _setManualMode=function(){_setMode(MODE_GEOLOC_KO)};me.init=function(){var url=window.location.href;var search=/search=([^&]+)/.exec(url);if(search)SEARCH_MODE=search[1];if(localStorage.getItem("geolocalized")=="true")_setMode(MODE_GEOLOC_OK);else _setMode(MODE_GEOLOC_KO);var searchParams=(new URL(document.location)).searchParams;var searchParamsMap=new Map(searchParams);var parametersToTransmit="";var parametersCount=0;searchParamsMap.forEach(function(value,key){if(!authorizedParameters.has(key)){var errorMsg=
"[QUERYPARAM][STORELOC] le libell\u00e9 "+key+" n'est pas un libell\u00e9 attendu par le composant Acc\u00e8s CR";NPC.clientSideLogger.error("ERROR",errorMsg)}else if(!isRegexOk(authorizedParameters.get(key),value)){var errorMsg$4="[QUERYPARAM][STORELOC] la valeur du param\u00e8tre "+key+" ne respecte pas le formalisme attendu";NPC.clientSideLogger.error("ERROR",errorMsg$4)}else if(!parametersNotToTransmit.includes(key)){var symbol="?";if(parametersCount>0)symbol="\x26";parametersToTransmit+=symbol+
key+"\x3d"+value;parametersCount++}});var originValue=searchParamsMap.get("origin");if(originValue){var origineParts=/^\/content\/ca\/([^\/]*)\/npc\/([^\/]*)\/(.*)/.exec(originValue);if(origineParts)NPC.storeLocator.urlOriginPrefix=origineParts[3]+parametersToTransmit}if(NPC.geoloc.geolocalized&&SEARCH_MODE!=="true")_findNearlyCR();else{NPC.geoloc.addCallBackFnc(_findNearlyCR,_setManualMode);if(SEARCH_MODE!=="true")NPC.geoloc.tryToGeoloc()}};me.selectedCr=function(){var crId=$("#trouver-un-cr-selector").val();
if(crId=="")return;$(".btnsCr").html("");$(".btnsCr").append(_getBankLink(NPC.listCr[crId]))};me.selectOtherCr=function(){_setMode(MODE_FORCE_SELECT)};me.clearSelectCr=function(){$("#trouver-un-cr-selector").val("no-value").trigger("change");$(".btnsCr").html("");$(".GeolocationDisabled-btn").show();$.fn.matchHeight._update()};me.clearSearchDepartment=function(){$("#GeolocSearchInput").val("");$(".btnsCr").html("");$(".GeolocationDisabled-btn").show();$("#GeolocSearchInput").parent().removeClass("has-error");
$("#GeolocSearchInput").addClass("GeolocationDisabled-noBorder");$("#errorMessageCR").text("");$(".PlusieursCR").hide();$(".UnCR").hide();$.fn.matchHeight._update()};var inList=function(department){return listDepartement[department]!=undefined};me.runSearch=function(){$(".btnsCr").html("");$("#GeolocSearchInput").parent().removeClass("has-error");$("#errorMessageCR").text("");var department=$("#GeolocSearchInput").val();department=NPC.storeLocator.getCorrectDepartmentNumberFromPostCode(department);
if(department!=null&&department!=""&&inList(department)){var _displaySearchResult=function(result){if(result==null||$.isEmptyObject(result))me.addDepartementError();else{if(result.length>0)$(".GeolocationDisabled-btn").hide();if(result.length==1){$(".PlusieursCR").hide();$(".UnCR").show();window.location=NPC.storeLocator.calculateBankUrl(result[0].regionalBankUrlPrefix)}if(result.length>1){var lettre=num2Letters(result.length).charAt(0).toUpperCase()+num2Letters(result.length).substring(1).toLowerCase();
$(".UnCR").hide();$(".GeolocQtyCr").html(lettre);$(".PlusieursCR").show();$(".UnCR").hide();for(var i in result){$(".btnsCr").append(_getBankLink(NPC.listCr[result[i].regionalBankId]));$.fn.matchHeight._maintainScroll=true}$.fn.matchHeight._update()}}};NPC.storeLocator.trouverCRProchesByDepartment(department,_displaySearchResult);return}else if(!$("#trouver-un-cr-selector").val())me.addDepartementError();if($("#trouver-un-cr-selector").val()!="no-value"){var urlPrefix=$("#trouver-un-cr-selector").val();
if(!urlPrefix)return;window.location=NPC.storeLocator.calculateBankUrl(urlPrefix);return}};me.addDepartementError=function(){if(!NPC.isChalus)$(".btnsCr").append("Aucune caisse r\u00e9gionale trouv\u00e9e pour ce d\u00e9partement.");else $(".btnsCr").append("Aucune agence trouv\u00e9e pour ce d\u00e9partement.");$("#GeolocSearchInput").parent().addClass("has-error");$("#GeolocSearchInput").removeClass("GeolocationDisabled-noBorder");$("#errorMessageCR").append('Votre saisie est incorrecte, veuillez indiquer votre d\u00e9partement. Par exemple pour Paris, indiquez uniquement "75".');
$.fn.matchHeight._update()};return me})(NPC.trouverCR);if(NPC.trouverCRRun)NPC.trouverCRRun();function num2Letters(number){if(isNaN(number)||number<0||999<number)return"Veuillez entrer un nombre entier compris entre 0 et 999.";var units2Letters=["","un","deux","trois","quatre","cinq","six","sept","huit","neuf","dix","onze","douze","treize","quatorze","quinze","seize","dix-sept","dix-huit","dix-neuf"],tens2Letters=["","dix","vingt","trente","quarante","cinquante","soixante","soixante","quatre-vingt",
"quatre-vingt"];var units=number%10,tens=(number%100-units)/10,hundreds=(number%1E3-number%100)/100;var unitsOut,tensOut,hundredsOut;if(number===0)return"z\u00e9ro";else{unitsOut=(units===1&&tens>0&&tens!==8?"et-":"")+units2Letters[units];if(tens===1&&units>0){tensOut=units2Letters[10+units];unitsOut=""}else if(tens===7||tens===9){tensOut=tens2Letters[tens]+"-"+(tens===7&&units===1?"et-":"")+units2Letters[10+units];unitsOut=""}else tensOut=tens2Letters[tens];tensOut+=units===0&&tens===8?"s":"";hundredsOut=
(hundreds>1?units2Letters[hundreds]+"-":"")+(hundreds>0?"cent":"")+(hundreds>1&&tens==0&&units==0?"s":"");return hundredsOut+(hundredsOut&&tensOut?"-":"")+tensOut+(hundredsOut&&unitsOut||tensOut&&unitsOut?"-":"")+unitsOut}}function isRegexOk(regexString,value){var regex=new RegExp(regexString);return regex.test(value)}})($);
(function($){$(document).ready(function(){var navFolLinksPositions=new Map;var modeReconnu=$(".contexthub-mode-reconnu").length>0?"-reconnu":"";function updateStickyNavBarVisibility(){if($(window).scrollTop()+stickyFullMenuHeigth>navFolNavbarPosition+$(".navbar-fol").first().outerHeight())$(".navbar-fol-sticky").addClass("active");else $(".navbar-fol-sticky").removeClass("active")}function calcNavFolLinksPositions(){var navFolink1="placeholder-3"+modeReconnu;var navFolink2="placeholder-13"+modeReconnu;
var navFolink3="placeholder-1415"+modeReconnu;var navFolink4="placeholder-1617"+modeReconnu;navFolLinksPositions=new Map;if($("a[href\x3d'#"+navFolink1+"']").length>0)navFolLinksPositions.set(navFolink1,Math.round($("."+navFolink1).first().offset().top));if($("a[href\x3d'#"+navFolink2+"']").length>0)navFolLinksPositions.set(navFolink2,Math.round($("."+navFolink2).first().offset().top));if($("a[href\x3d'#"+navFolink3+"']").length>0)navFolLinksPositions.set(navFolink3,Math.round($("."+navFolink3).first().offset().top));
if($("a[href\x3d'#"+navFolink4+"']").length>0)navFolLinksPositions.set(navFolink4,Math.round($("."+navFolink4).first().offset().top))}function findLastLinkAbove(){var currentAnchor="";navFolLinksPositions.forEach(function(value,key,map){if(value-10<=Math.round($(window).scrollTop()+stickyFullMenuHeigth))currentAnchor=key});$("a.navbar-fol-ancrage-link").parent().removeClass("active");if(currentAnchor!="")$('a.navbar-fol-ancrage-link[href\x3d"#'+currentAnchor+'"]').parent().addClass("active")}function initFullMenuHeight(){var localHeight=
$(".navbar-fol-sticky").outerHeight();localHeight+=NPC?NPC.getHeaderHeight():120;return localHeight}function initAncreReconnu(){$("a[href\x3d'#placeholder-3").attr("href","#placeholder-3-reconnu");$("a[href\x3d'#placeholder-13").attr("href","#placeholder-13-reconnu");$("a[href\x3d'#placeholder-1415").attr("href","#placeholder-1415-reconnu");$("a[href\x3d'#placeholder-1617").attr("href","#placeholder-1617-reconnu")}if($(".navbar-fol").length){if(modeReconnu.length>0)initAncreReconnu();calcNavFolLinksPositions();
var stickyFullMenuHeigth=initFullMenuHeight();var navFolNavbarPosition=$(".navbar-fol").first().offset().top;updateStickyNavBarVisibility();findLastLinkAbove();$("a.navbar-fol-ancrage-link").click(function(){var anchor=$(this).attr("href");if(anchor!==null&&anchor!==""){var anchorClass=anchor;if(anchorClass.substring(0,1)=="#")anchorClass="."+anchorClass.substring(1);$("html,body").animate({scrollTop:Math.round($(anchorClass).offset().top)-stickyFullMenuHeigth},"slow");updateStickyNavBarVisibility();
findLastLinkAbove()}});$(window).scroll(function(event){stickyFullMenuHeigth=initFullMenuHeight();calcNavFolLinksPositions();updateStickyNavBarVisibility();findLastLinkAbove()})}})})(jQuery);
(function($){$(document).ready(function(){var NPC=NPC||{};NPC.simulRetoursIframe={};NPC.simulRetoursIframe.traiterRetour=function(event){if(NPC.simulRetoursIframe.isOrigineOK(event.origin)){var data=event.data;if(NPC.simulRetoursIframe.isMsgRetourFol(data))window.location.replace(NPC.simulRetoursIframe.genererURLJson("simulRetoursIframe")+"?codeOffre\x3d"+data.codeOffre);else if(NPC.simulRetoursIframe.isMsgAnchorScroll(data)){var pageContentsTop=$("body \x3e main \x3e div:first-child \x3e div:first-child").offset().top;
var firstiframe=$("iframe").first();if(firstiframe.length){var iframeTop=firstiframe.parent().offset().top;window.scrollTo(0,iframeTop+event.data.top-pageContentsTop)}}}};window.addEventListener("message",NPC.simulRetoursIframe.traiterRetour);NPC.simulRetoursIframe.isOrigineOK=function(origin){var isOk=false;if(typeof origin!==undefined){var iframe=$("iframe").first();if(typeof iframe!=="undefined"){var iframeSrc=iframe.attr("src");isOK=typeof iframeSrc!=="undefined"&&iframeSrc.indexOf(origin)!=-1}}return isOK};
NPC.simulRetoursIframe.isMsgRetourFol=function(data){return typeof data!=="undefined"&&typeof data.type!=="undefined"&&data.type==="RETOUR_FOL_CODE"&&typeof data.codeOffre!=="undefined"};NPC.simulRetoursIframe.isMsgAnchorScroll=function(data){return typeof data!=="undefined"&&data.kind==="scroll"&&typeof data.top!=="undefined"};NPC.simulRetoursIframe.genererURLJson=function(selecteur){var pathname=window.location.pathname;var indexExtension=pathname.indexOf(".html");if(indexExtension!==-1){pathname=
pathname.substring(0,indexExtension);var indexDebutNoeud=pathname.lastIndexOf("/");var indexPremierPoint=pathname.indexOf(".",indexDebutNoeud);pathname=pathname.substring(0,indexPremierPoint)+(selecteur?"."+selecteur:"")+".json";return pathname}}})})(jQuery);var NPC=NPC||{};
(function($){NPC.pushCR=NPC.pushCR||function(){$("#pushcr-numero-departement").keyup(function(){if($(".GeolocationDisabled-btnWrap").children().length>0){$(".GeolocationDisabled-btnWrap").children().each(function(){$(this).remove()});$(".GeolocationDisabled-btn").show();$(".GeolocationDisabled-text").hide();$(".GeolocationDisabled-btnWrap").hide()}if($("#pushcr-numero-departement").parent().hasClass("has-error")){$("#pushcr-numero-departement").addClass("GeolocationDisabled-noBorder");$("#pushcr-numero-departement").parent().removeClass("has-error");
$("#pushCR-errorMsgNumDpt").text("")}});var me={};var _calculateUrl=function(id,prefix){var $redirections=JSON.parse($(".GeolocationDisabled[data-redirect]").attr("data-redirect"));var cr="cr"+id;return $redirections[cr]};var _callbackActionOnButtonClick=function(listCR){if(listCR.length===1)location.href=_calculateUrl(listCR[0].regionalBankId,listCR[0].regionalBankUrlPrefix);else if(listCR.length>1){$(".GeolocationDisabled-btn").hide();$(".GeolocationDisabled-text").show();for(i=0;i<listCR.length;i++)$(".GeolocationDisabled-btnWrap").append('\x3ca href\x3d"'+
_calculateUrl(listCR[i].regionalBankId,listCR[i].regionalBankUrlPrefix)+'" class\x3d"btn"\x3e'+listCR[i].regionalBankName+"\x3c/a\x3e");$(".GeolocationDisabled-btnWrap").show()}};me.redirectOrDisplayCR=function(){var departmentNumber=$("#pushcr-numero-departement").val();departmentNumber=NPC.storeLocator.getCorrectDepartmentNumberFromPostCode(departmentNumber);if(departmentNumber==null){$("#pushcr-numero-departement").removeClass("GeolocationDisabled-noBorder");$("#pushcr-numero-departement").parent().addClass("has-error");
$("#pushCR-errorMsgNumDpt").append('Votre saisie est incorrecte, veuillez indiquer votre d\u00e9partement. Par exemple pour Paris, indiquez uniquement "75".')}else NPC.storeLocator.trouverCRProchesByDepartment(departmentNumber,_callbackActionOnButtonClick)};return me}()})($);
(function(document,$,ns){$(document).on("dialog-ready",function(e){updateChampBoutonObligatoire()});$(document).on("change","input[name\x3d'./libelleButton']",function(e){updateChampBoutonObligatoire()});$(document).on("change","foundation-autocomplete[name\x3d'./urlLink']",function(e){updateChampBoutonObligatoire()});var updateChampBoutonObligatoire=function(){var urlLinkApi=$("foundation-autocomplete[name\x3d'./urlLink']").adaptTo("foundation-validation");var libelleButtonApi=$("input[name\x3d'./libelleButton']").adaptTo("foundation-validation");
if(urlLinkApi&&libelleButtonApi){urlLinkApi.setCustomValidity("");libelleButtonApi.setCustomValidity("");if($("input[name\x3d'./libelleButton']").val()!=""&&$("foundation-autocomplete[name\x3d'./urlLink']").val()=="")urlLinkApi.setCustomValidity("Merci de renseigner ce champ");else if($("input[name\x3d'./libelleButton']").val()==""&&$("foundation-autocomplete[name\x3d'./urlLink']").val()!="")libelleButtonApi.setCustomValidity("Merci de renseigner ce champ");urlLinkApi.updateUI();libelleButtonApi.updateUI()}}})(document,
Granite.$,Granite.author);$(function(){return});$(function(){$(".js-pushMultiple").each(function(){var $this=$(this);if($this.children().length>=3)$this.addClass("owl-carousel").owlCarousel({items:2,loop:false,margin:10,nav:true,navText:["",""],responsive:{0:{items:1},650:{items:2}}})})});var NPC_AEM=NPC_AEM||{};
(function($){$(function(){if($("main#main").prop("itemtype")==undefined&&$(".npc-msl-collapse-item").find("[itemtype]").length>0)$("main#main").attr("itemscope","").attr("itemtype","https://schema.org/FAQPage");$(".panneau-depliant").each(function(index,panneauParent){initPanneaux($(panneauParent))})});$(".VP-js").on("click",function(){var panneauParent=$(this).closest(".panneau-depliant");panneaux=panneauParent.find(".npc-msl-collapse-item");var idxMax=Number(panneauParent.attr("data-idxMax"));var idCurrent=
Number(panneauParent.attr("data-idCurrent"));idxMax=idxMax+3;if(panneaux.length<=idxMax){idxMax=panneaux.length;showHideLinks(panneauParent)}panneauParent.attr("data-idxMax",idxMax);$(panneaux[idCurrent]).find("button.npc-msl-collapse-item-header").focus();show3PanneauxDePlus(panneaux,idCurrent,idxMax,panneauParent)});var initPanneaux=function(panneauParent){var panneaux=panneauParent.find(".npc-msl-collapse-item");var idxMax=6;var idCurrent=0;panneauParent.attr("data-idxMax",idxMax);panneauParent.attr("data-idCurrent",
idCurrent);if(panneaux.length<=idxMax){idxMax=panneaux.length;panneauParent.attr("data-idxMax",idxMax);showHideLinks(panneauParent)}show3PanneauxDePlus(panneaux,0,idxMax,panneauParent)};var show3PanneauxDePlus=function(element,debut,fin,panneauParent){for(var idx=debut;idx<fin;idx++){$(element[idx]).removeClass("hidden").find("button.npc-msl-collapse-item-header").removeClass("hidden");panneauParent.attr("data-idCurrent",idx)}};var showHideLinks=function(panneauParent){panneauParent.find(".VP-js").addClass("hidden");
if(panneauParent.find(".CTA-js").length>0)panneauParent.find(".CTA-js").removeClass("hidden")};if(NPC&&NPC.isAuthor){NPC_AEM.ComposantPanneauxDepliants={};NPC_AEM.ComposantPanneauxDepliants.initPanneaux=function(){var panneauxParentList=$(".panneau-depliant");$(".panneau-depliant").each(function(index,panneauParent){var $panneauParent=$(panneauParent);var $item=$panneauParent.find(".npc-msl-collapse-item");NPC_AEM.ComposantPanneauxDepliants.show3PanneauxDePlus($item,0,6,$panneauParent)})};NPC_AEM.ComposantPanneauxDepliants.show3PanneauxDePlus=
show3PanneauxDePlus}})(jQuery_3_7_1);
(function($){$(function(){$(".npc-msl-collapse-item-header").on("click",function(){var btn_libelle=$(this).text().toLowerCase().replace(/[ \t\n]/gi,"");var btn_action="ouverture_conseil";NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:btn_action,evenement_conversion_avant_vte_nom:btn_libelle})});$(".npc-msl-collapse-item-body-link-button").on("click",function(){var parent=this.closest(".npc-msl-collapse-item.npc-msl-collapse-item-header");var btn_libelle=$(parent).text().toLowerCase().replace(/[ \t\n]/gi,
"");var btn_action="clic_hyperlien";NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(parent,{evt_action_libelle:btn_action,evenement_conversion_avant_vte_nom:btn_libelle})})})})(jQuery_3_7_1);
(function($){NPC.monAgence=NPC.monAgence||{};var dataName="info-agence";var date=new Date;var options={weekday:"long",month:"long",day:"numeric"};var IntlDispo=false;if(typeof Intl!="undefined"&&typeof Intl.DateTimeFormat!="undefined")IntlDispo=true;if(IntlDispo)var dateTimeFormat=new Intl.DateTimeFormat("fr-FR",options);$(document).on("ready",function(){var agencyLS=localStorage.getItem(dataName);if(agencyLS){var agency=JSON.parse(agencyLS);NPC.monAgence.monAgence_idAgence=agency.id;$(".js-MyAgency-title").html(agency.name);
var myAgencyTextEmail="";if(agency.emailAddress)myAgencyTextEmail='\x3ca href\x3d"mailto:'+agency.emailAddress+'" class\x3d"MyAgency-link MyAgency-link--black"\x3e'+agency.emailAddress+"\x3c/a\x3e\x3cbr /\x3e";$(".js-MyAgency-text").html(agency.adressePostale+"\x3cbr /\x3e"+myAgencyTextEmail+agency.numeroTelephone);var $message=$(".js-MyAgency-message");var message;_initDateWithTimeZone();var scheduleOfToday=_getScheduleOfToday(agency);if(scheduleOfToday){var currentHours=("0"+date.getHours()).slice(-2);
var currentMinutes=("0"+date.getMinutes()).slice(-2);var currentTime=currentHours+currentMinutes;for(var idx=0;idx<scheduleOfToday.openingHours.length;idx++){var openingHours=scheduleOfToday.openingHours[idx];var begin=("0"+openingHours.from).slice(-4);var end=("0"+openingHours.to).slice(-4);if(currentTime>=begin&&currentTime<end)message=_getMessageOuvert(end)}if(!message)for(var idx=0;idx<scheduleOfToday.openingHours.length;idx++){var openingHours=scheduleOfToday.openingHours[idx];var begin=("0"+
openingHours.from).slice(-4);if(currentTime<begin){message=_getMessageFerme(_getDateToDisplay(),begin);break}}}if(!message)message=_findNextDayOpen(agency);if(message&&message!="")$message.html(message);else $message.remove()}});var _getDateToDisplay=function(){var dateToDisplay="";if(IntlDispo)dateToDisplay=dateTimeFormat.format(date);else dateToDisplay=date.toLocaleString("fr-FR",options);return dateToDisplay};var _getScheduleOfToday=function(agency){for(var idx=0;idx<agency.schedule.length;idx++){var schedule=
agency.schedule[idx];if(schedule.dayOfWeek==date.getDay())return schedule}};var _findNextDayOpen=function(agency){for(var idx=0;idx<7;idx++){date.setDate(date.getDate()+1);var schedule=_getScheduleOfToday(agency);if(schedule)for(var idx=0;idx<schedule.openingHours.length;idx++)if(_isValid(schedule.openingHours[idx]))return _getMessageFerme(_getDateToDisplay(),schedule.openingHours[idx].from)}};var _isValid=function(openingHours){return openingHours&&openingHours.from&&openingHours.from!="0"&&openingHours.to&&
openingHours.to!="0"};var _getMessageFerme=function(day,hour){var message1="Ferm\u00e9. Ouvert le ";var message2=" \u00e0 ";var heures=hour.slice(0,hour.length-2);var minutes=hour.slice(-2);return message1+day+message2+heures+"h"+minutes};var _getMessageOuvert=function(to){var message="Aujourd'hui : Ouvert jusqu'\u00e0 ";var heures=to.slice(0,to.length-2);var minutes=to.slice(-2);return message+heures+"h"+minutes};var _initDateWithTimeZone=function(){var idCR=NPC.idLiveCopyCaisse;var structureId=
idCR.substr(2,3)+"00";if(IntlDispo)var timeZone=_recupererTimeZone(structureId);else var timeZone=_recupererTimeZoneOffset(structureId);_dateWithTimeZone(timeZone)};var _recupererTimeZoneOffset=function(idCR){var idCRGuadeloupe="90000";var idCRMartinique="90200";var idCRReunion="90300";if(idCR==idCRGuadeloupe)return NPC.offsetGuadeloupe;if(idCR==idCRMartinique)return NPC.offsetMartinique;if(idCR==idCRReunion)return NPC.offsetReunion;return NPC.offsetParis};var _recupererTimeZone=function(idCR){var idCRGuadeloupe=
"90000";var tzGuadeloupe="America/Guadeloupe";var idCRMartinique="90200";var tzMartinique="America/Martinique";var idCRReunion="90300";var tzReunion="Indian/Reunion";var tzParis="Europe/Paris";if(idCR==idCRGuadeloupe)return tzGuadeloupe;if(idCR==idCRMartinique)return tzMartinique;if(idCR==idCRReunion)return tzReunion;return tzParis};var _dateWithTimeZone=function(timeZoneCR){if(typeof Intl!="undefined"&&typeof Intl.DateTimeFormat!="undefined"){var optionYear={year:"numeric",timeZone:timeZoneCR};var optionMonth=
{month:"numeric",timeZone:timeZoneCR};var optionDay={day:"numeric",timeZone:timeZoneCR};var optionHours={hour:"numeric",hour12:false,timeZone:timeZoneCR};var optionMinutes={minute:"numeric",timeZone:timeZoneCR};var optionSeconds={second:"numeric",timeZone:timeZoneCR};var dateTimeFormatYear=new Intl.DateTimeFormat("en-US",optionYear);var dateTimeFormatMonth=new Intl.DateTimeFormat("en-US",optionMonth);var dateTimeFormatDay=new Intl.DateTimeFormat("en-US",optionDay);var dateTimeFormatHours=new Intl.DateTimeFormat("en-US",
optionHours);var dateTimeFormatMinutes=new Intl.DateTimeFormat("en-US",optionMinutes);var dateTimeFormatSeconds=new Intl.DateTimeFormat("en-US",optionSeconds);var year=dateTimeFormatYear.format(date);var month=dateTimeFormatMonth.format(date)-1;var day=dateTimeFormatDay.format(date);var hours=dateTimeFormatHours.format(date);var minutes=dateTimeFormatMinutes.format(date);var seconds=dateTimeFormatSeconds.format(date);date=new Date(year,month,day,hours,minutes,seconds)}else{var currentDate=new Date;
var currentTime=currentDate.getTime();var currentOffset=currentDate.getTimezoneOffset()*60*1E3;var utcTime=currentTime+currentOffset;var CRTime=utcTime+timeZoneCR;date=new Date(CRTime)}}})(jQuery_3_7_1);
$(function(){var $sliders=$(".js-carouselActu");$sliders.find(".mag-popin-lecture-zen").appendTo("body");CommonNPC.initSlider($sliders,{items:4,loop:false,margin:0,autoWidth:true,dots:true,nav:false,responsive:{0:{items:1},650:{items:2},980:{items:3},1110:{items:4}},onInitialized:fixOwlCarousel,onRefreshed:fixOwlCarousel},{addClass:true});function fixOwlCarousel(){var $stage=this!==undefined&&this.$stage!==undefined?this.$stage:$(".owl-stage"),$item=$stage.find(".owl-item"),size=278,sizemob=294;if($item.length===
4){$stage.width(size*4+16*5);$item.width(size)}else if($item.length===3){$stage.width(size*3+16*4);$item.width(size)}else if($item.length===2){$stage.width(size*2+16*3);$item.width(size)}else{$stage.width(sizemob);$item.width(sizemob)}}});
(function(){function showLectureZen(){$(".PushActu-content, .PushActu-imageWrapper, .PushLeftZone-content").on("click",function(){var customRedirection=$(this).closest(".PushActu").attr("data-custom-redirect");if(typeof customRedirection==="undefined"){var pathLectureZen=$(this).attr("data-pathLectureZen");var pathFinal="";pathFinal=pathFinal.concat(NPC.urlLiveCopyCaisse+"articles-popin/jcr:content/popin-lecture-zen.html").concat("?pathLectureZen\x3d").concat(pathLectureZen);$.ajax({url:pathFinal,
success:function(data){$("#popin_mag_tpl .Modal-content").html(data);createLinksPopinLectureZen();readPlayerVideo();cloneFooter();gererCookieRS()}})}})}showLectureZen();window.ContextHub.eventing.on(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,function(event){if(event.currentTarget.$el!=undefined&&event.currentTarget.$el[0]!=undefined){var componentTarget=event.currentTarget.$el[0];var composants=$(componentTarget).find(".PushActu-content, .PushActu-imageWrapper, .PushLeftZone-content");
if(composants.length===1)showLectureZen()}})})();function cloneFooter(){var $footerPopin=$(".Footer").clone();$(".FooterPopin").html($footerPopin)}
function readPlayerVideo(){$(".js-VideoPlayer").off("click.videoPlayer.play",".js-VideoPlayer-play").on("click.videoPlayer.play",".js-VideoPlayer-play",function(e){e.preventDefault();var $videoPlayer=$(this).closest(".js-VideoPlayer");var $videoFrame=$videoPlayer.find(".js-VideoPlayer-videoFrame");$videoPlayer.addClass("VideoPlayer--play");$videoFrame.attr("src",$videoFrame.attr("data-src"))})}
function createLinksPopinLectureZen(){var isSNallowed=document.cookie.replace(/(?:(?:^|.*;\s*)isSNallowed\s*=\s*([^;]*).*$)|^.*$/,"$1");if(isSNallowed==="true"&&$(document).find(".magPushActu").length>0)if(typeof magPopinLectureZen_RS_titlePage!="undefined"&&typeof magPopinLectureZen_RS_Path!="undefined"){$(".rs_twitter_popin_zen").prop("href","https://twitter.com/intent/tweet?text\x3d"+magPopinLectureZen_RS_titlePage+"%20"+encodeURIComponent(magPopinLectureZen_RS_Path));$(".rs_linkedin_popin_zen").prop("href",
"https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(magPopinLectureZen_RS_Path)+"\x26title\x3d"+magPopinLectureZen_RS_titlePage);$(".rs_linkedin_popin_zen").prop("target","_blank");postfbPopinLectureZen()}$("#popin_mag_tpl a.Themes-tag").each(function(){var element=this;var tag=encodeURI($(element).text().split("#")[1]);var category=$(element).hasClass("mag-typologie")?"typologie":"thematique";var newUrl=magPopinLectureZen_Link_Mag_Path;newUrl+="?"+category+"\x3d"+tag;
$(element).attr("href",newUrl)})}function postfbPopinLectureZen(){if(typeof NPC.facebookApiKey!=="undefined")$(".rs_facebook_popin_zen").on("click",function(e){FB.ui({method:"share",display:"popup",href:window.location.origin+magPopinLectureZen_RS_Path},function(response){});e.preventDefault()})}
if(typeof NPC.facebookApiKey!=="undefined"){var isSNallowed=document.cookie.replace(/(?:(?:^|.*;\s*)isSNallowed\s*=\s*([^;]*).*$)|^.*$/,"$1");if(isSNallowed==="true"&&$(document).find(".magPushActu").length>0){window.fbAsyncInit=function(){FB.init({appId:NPC.facebookApiKey,xfbml:true,version:"v2.9"});FB.AppEvents.logPageView()};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/fr_FR/sdk.js";fjs.parentNode.insertBefore(js,
fjs)})(document,"script","facebook-jssdk")}}var cancelRedirection=function(e){e.preventDefault()};$(function(){window.ContextHub.eventing.on(ContextHub.SegmentEngine.PageInteraction.Teaser.prototype.info.loadEvent,function(event){if(event.currentTarget.$el!=undefined&&event.currentTarget.$el[0]!=undefined){var componentTarget=event.currentTarget.$el[0];var componentImageTexteBoutton=$(componentTarget).find("div.image-texte-button");if(componentImageTexteBoutton.length===1)$(window).trigger("initCustomRedirect")}})});
var NPC=NPC||{};var retourPageOrigine=function(){if(NPC&&NPC.user&&NPC.user.isConnected)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/operations/synthese.html";else window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+".html"};var NPC=NPC||{};var retourPageOrigine=function(){if(NPC&&NPC.user&&NPC.user.isConnected)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/operations/synthese.html";else window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+".html"};
NPC.genererURLJsonPageCourante=function(selecteurs){var pathname=window.location.pathname;var indexExtension=pathname.indexOf(".html");if(indexExtension!==-1){pathname=pathname.substring(0,indexExtension);var indexDebutNoeud=pathname.lastIndexOf("/");var indexDebutSelecteur=pathname.indexOf(".",indexDebutNoeud);if(indexDebutSelecteur!==-1)pathname=pathname.substring(0,indexDebutSelecteur);pathname=pathname+(selecteurs?"."+selecteurs:"")+".json";return pathname}};NPC.messagerie=NPC.messagerie||{};
NPC.messagerie.nbMessageNonLus=0;
(function($){$(document).ready(function(){if(NPC&&NPC.user&&NPC.user.isConnected){$.get(NPC.genererURLJsonPageCourante("messagerie.count")).success(function(data){NPC.messagerie.nbMessageNonLus=data.nbMessage;document.dispatchEvent(new Event("messagerie.count"))}).fail(function(){});document.addEventListener("messagerie.count",function(e){updateNbMessagesNonLus()});updateNbMessagesNonLus()}});var updateNbMessagesNonLus=function(){var suffix=NPC.messagerie.nbMessageNonLus==1?" non lu":" non lus";var result=
NPC.messagerie.nbMessageNonLus+suffix;if(!isNaN(NPC.messagerie.nbMessageNonLus)&&NPC.messagerie.nbMessageNonLus>0){$(".message-count-value").text(result);$(".message-notification").addClass("Synthesis-inbox-newMessage");$(".message-count-show").removeClass("hidden");$(".npc-hc-notif-newMessage-show").removeClass("hidden")}else $(".message-count-show").removeClass("hidden")}})($);
(function(document,$){$(document).ready(function(){var bandeauDeconnexion=NPC.recupererCookie("bandeau-deconnexion");var jsAlertBanner=$(".js-AlertBanner");if(bandeauDeconnexion!=null){$(".js-DisconnectBanner.hidden").removeClass("hidden");switch(bandeauDeconnexion){case "message-deconnexion-manuelle":$("#message-deconnexion").removeClass("hidden");localStorage.setItem(NPC.timeout.storageDeconnexionEvent,Date.now());break;case "message-deconnexion-timeout":$("#message-timeout").removeClass("hidden");
break;case "message-deconnexion-timeout-dsp2":$("#message-timeout-dsp2").removeClass("hidden");break;case "message-deconnexion-hard-timeout-dsp2":$("#message-hard-timeout-dsp2").removeClass("hidden");break;case "message-deconnexion-manuel-dsp2":$("#message-deconnexion-dsp2").removeClass("hidden");break}jsAlertBanner.trigger("initAlert");var currenPathName=window.location.pathname;currenPathName=currenPathName.replace(NPC.adaptUrl(currenPathName),"");document.cookie="bandeau-deconnexion\x3d; path\x3d"+
currenPathName+"; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;";sessionStorage.removeItem(NPC.timeout.bandeauDeconnexionTimeoutClient);sessionStorage.removeItem(NPC.timeout.storageBandeauDeconnexionManuel);if(bandeauDeconnexion==="message-deconnexion-timeout"){var timer=new Date;localStorage.setItem(NPC.timeout.storageTimeoutDisconnectKey,timer)}}else if(sessionStorage.getItem(NPC.timeout.bandeauDeconnexionTimeoutClient)!=null){$(".js-AlertBanner.hidden").removeClass("hidden");$("#message-timeout").removeClass("hidden");
jsAlertBanner.trigger("initAlert");sessionStorage.removeItem(NPC.timeout.bandeauDeconnexionTimeoutClient)}else if(sessionStorage.getItem(NPC.timeout.storageBandeauDeconnexionManuel)!=null){$(".js-AlertBanner.hidden").removeClass("hidden");$("#message-deconnexion").removeClass("hidden");jsAlertBanner.trigger("initAlert");sessionStorage.removeItem(NPC.timeout.storageBandeauDeconnexionManuel)}})})(document,$);
function trackingEdocSyntheseProduit(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"EDOC_acces_synthese_produit"})}function trackingGererChange(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_icones_bas",evt_fonction:"CAFX"})}function trackingHubDocumentaireSyntheseProduit(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_icones_bas",evt_fonction:"hub_documentaire"})}
function trackingEspaceParrainage(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_icones_haut",evt_fonction:"mon_parrainage"})}function trackingVirementIconeHaut(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_icones_haut",evt_fonction:"faire_virement"})}function trackingVirementIconeBas(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_icones_bas",evt_fonction:"faire_virement"})}
function trackingVirementZDG(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_zdg",evt_fonction:"faire_virement"})}
(function($){$(document).ready(function(){var URL_BASE=NPC.urlLiveCopyCaisse+NPC.utilisateur.libMarcheUrl+"/operations/";var URL_ENTREPRISE_BASE=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/operations/";var URL_IHML_PRISE_RDV_PARTICULIER=URL_BASE+"profil/banque-moi/prendre-un-rdv.html";var URL_IHML_PRISE_RDV_PRIVE=URL_BASE+"profil/banque-vous/prendre-un-rdv.html";var URL_IHML_COFFRE_FORT_NUMERIQUE=URL_BASE+"documents/acceder-coffre-fort-numerique.html";var URL_IHML_TIRAGE_BILLET=URL_ENTREPRISE_BASE+
"credits/demande-de-tirage.html";var URL_CREDIT_RENOUVELABLE_VIA_MENU=URL_BASE+"credits/renouv-util.html";var URL_GERER_CHANGE_VIA_MENU=URL_BASE+"operations-courantes/gerer-change.html";var URL_ECLAIMS_MENU=URL_BASE+"assurances/eclaims.html";var CODE_PRODUIT_OPEN="340";var CODE_PRODUIT_SUPPLETIS="111";var CODE_PRODUIT_RENOUVUTIL="09017";var urlPriseDeRdvList=[];urlPriseDeRdvList.push(URL_IHML_PRISE_RDV_PARTICULIER);urlPriseDeRdvList.push(URL_IHML_PRISE_RDV_PRIVE);var codesProduits=[];codesProduits.push(CODE_PRODUIT_OPEN);
codesProduits.push(CODE_PRODUIT_SUPPLETIS);codesProduits.push(CODE_PRODUIT_RENOUVUTIL);var urlEdocs=URL_BASE+"documents/e-documents.html";var ihmLightTrackingConfig=new Map;ihmLightTrackingConfig.set(URL_IHML_PRISE_RDV_PARTICULIER,{evt_action_libelle:"PRDV_clic_menu_deroulant_prendre_rdv"});ihmLightTrackingConfig.set(URL_IHML_PRISE_RDV_PRIVE,{evt_action_libelle:"PRDV_clic_menu_deroulant_prendre_rdv"});ihmLightTrackingConfig.set(URL_IHML_COFFRE_FORT_NUMERIQUE,{evt_fonction:"MaDataBanque",evt_action_libelle:"lanc_fct_menu"});
ihmLightTrackingConfig.set(URL_IHML_TIRAGE_BILLET,{evt_fonction:"tirage_billet",evt_action_libelle:"lanc_fct_menu"});ihmLightTrackingConfig.set(URL_CREDIT_RENOUVELABLE_VIA_MENU,{evt_fonction:"RENOUV_CACF",evt_action_libelle:"lanc_fct_raccourcis"});ihmLightTrackingConfig.set(URL_GERER_CHANGE_VIA_MENU,{evt_fonction:"CAFX",evt_action_libelle:"lanc_fct_menu"});ihmLightTrackingConfig.set(URL_ECLAIMS_MENU,{evt_fonction:"e_claims_pacifica",evt_action_libelle:"lanc_fct_menu"});var URL_FAIRE_VIREMENT_OPERATIONS_COURANTE=
URL_BASE+"operations-courantes/faire-virement-international.html";var URL_GERER_BENEF_INTERNATIONAUX_OPERATIONS_COURANTE=URL_BASE+"operations-courantes/gerer-beneficiaire-international.html";var URL_MEANS_PAYEMENT=URL_ENTREPRISE_BASE+"moyens-paiement/virements-internationaux.html";var URL_PAYEMENTS_COLLECTIONS=URL_ENTREPRISE_BASE+"paiements-encaissements/virements-internationaux.html";ihmLightTrackingConfig.set(URL_FAIRE_VIREMENT_OPERATIONS_COURANTE,{evt_fonction:"virement_internationaux",evt_action_libelle:"lanc_fct_menu"});
ihmLightTrackingConfig.set(URL_GERER_BENEF_INTERNATIONAUX_OPERATIONS_COURANTE,{evt_fonction:"gerer_beneficiaires_internationaux",evt_action_libelle:"lanc_fct_menu"});ihmLightTrackingConfig.set(URL_MEANS_PAYEMENT,{evt_fonction:"accueil_virement_internationaux",evt_action_libelle:"lanc_fct_menu"});ihmLightTrackingConfig.set(URL_PAYEMENTS_COLLECTIONS,{evt_fonction:"accueil_virement_internationaux",evt_action_libelle:"lanc_fct_menu"});var URL_ECE_MENU=URL_BASE+"placements/evaluation-connaissance-experience.html";
ihmLightTrackingConfig.set(URL_ECE_MENU,{evt_fonction:"ECE",evt_action_libelle:"lanc_fct_menu"});var URL_ESPACE_PARRAINAGE=URL_BASE+"profil/avantages/mon-espace-parrainage.html";ihmLightTrackingConfig.set(URL_ESPACE_PARRAINAGE,{evt_fonction:"mon_parrainage",evt_action_libelle:"MCO_profil"});var URL_GERER_MES_COORDONNEES=URL_BASE+"profil/infos-personnelles/gerer-coordonnees.html";ihmLightTrackingConfig.set(URL_GERER_MES_COORDONNEES,{evt_fonction:"Gerer_coordonnees",evt_action_libelle:"MCO_profil"});
var URL_LECTURE_MESSAGERIE_PART_ET_BP=URL_BASE+"profil/banque-moi/lecture-ms.html";var URL_LECTURE_MESSAGERIE_AUTRE_MARCHES=URL_BASE+"profil/banque-vous/lecture-ms.html";ihmLightTrackingConfig.set(URL_LECTURE_MESSAGERIE_PART_ET_BP,{evt_fonction:"MSL_Acces_Mon_Profil",evt_action_libelle:"lanc_fct_menu"});ihmLightTrackingConfig.set(URL_LECTURE_MESSAGERIE_AUTRE_MARCHES,{evt_fonction:"MSL_Acces_Mon_Profil",evt_action_libelle:"lanc_fct_menu"});var URL_GERER_BENEFICIAIRES=URL_BASE+"operations-courantes/gerer-beneficiaires.html";
ihmLightTrackingConfig.set(URL_GERER_BENEFICIAIRES,{evt_fonction:"gerer_beneficiaires",evt_action_libelle:"lanc_fct_menu"});var URL_FAIRE_UN_VIREMENT=URL_BASE+"moyens-paiement/virement.html";ihmLightTrackingConfig.set(URL_FAIRE_UN_VIREMENT,{evt_fonction:"faire_virement",evt_action_libelle:"lanc_fct_menu"});var URL_GERER_AGREGATEURS=URL_BASE+"profil/infos-personnelles/gerer-agregateurs.html";ihmLightTrackingConfig.set(URL_GERER_AGREGATEURS,{evt_fonction:"aggregateur",evt_action_libelle:"MCO_profil"});
$("a.header-calendar-action").bind("click.preventdefault",function(e){var btn_href=$(this).attr("href");if(urlPriseDeRdvList.includes(btn_href))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"PRDV_clic_calendrier-prendre_rdv"})});$("a.js-AddTracker").bind("click.preventdefault",function(e){var btn_href=$(this).attr("href");var trackingConf=ihmLightTrackingConfig.get(btn_href);if(typeof trackingConf!=="undefined")NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,trackingConf)});
$("a.simulateurs-rendu-action").bind("click.preventdefault",function(e){var btn_href=$(this).attr("href");if(urlPriseDeRdvList.includes(btn_href))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"PRDV_clic_prendre_rdv"})});$("a").each(function(){if($(this).attr("tabindex")>0)$(this).removeAttr("tabindex")});function trackingEdocSynthese(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"EDOC_acces_synthese"})}function trackingHubDocumentaireAccesRapides(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
{evt_action_libelle:"lanc_fct_icones_haut",evt_fonction:"hub_documentaire"})}$(document).on("click.preventdefault","li.LayerNav-listItem.documents",function(e){var btn_href=$(this).find("a").attr("href");if(btn_href==urlEdocs)NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"EDOC_acces_menu"})}).on("click.preventdefault","a.SynthesisLinksBar-item.e-documents:not(.hub-documentaire)",trackingEdocSynthese).on("click.preventdefault","a.SynthesisLinksBar-item.e-documents.hub-documentaire",
trackingHubDocumentaireAccesRapides);function estCreditRenouvelableListe(eventCodeProduit){return eventCodeProduit&&codesProduits.includes($(eventCodeProduit).attr("data-product-code"))}window.lanc_fct_zdg=function(event){if(estCreditRenouvelableListe(event))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"lanc_fct_zdg",evt_fonction:"RENOUV_CACF"})};window.lanc_fct_zdd=function(event){if(estCreditRenouvelableListe(event))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
{evt_action_libelle:"lanc_fct_zdd",evt_fonction:"RENOUV_CACF"})};$("#retourNextStep").bind("click.preventdefault",function(e){var btn_Text=$(this).children()[0].outerText;if(btn_Text.toLowerCase()=="compl\u00e9ter mon auto-certification")NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"SCACRF_completer"})});$("div.intKycContainer a.laterBtn").bind("click.preventdefault",function(e){if(window.location.pathname.indexOf("notification-auto-certification")>=0)NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
{evt_action_libelle:"SCACRF_completer_ulterieurement"})})})})(jQuery);(function(document,$,Granite,$document){$(window).load(function(){var displayDisconnected=$(".footer-mention-display-disconnected");if(NPC.user!==undefined&&!NPC.user.isConnected)$(displayDisconnected).removeClass("hidden")})})(document,$,Granite,jQuery(document));
(function(document,$,Granite,$document){var CATEGORIE_MOBILE_REGEX=new RegExp("Mobile|Windows (Phone|CE)|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune");var CATEGORIE_TABLET_REGEX=new RegExp("(tablet|ipad|playbook|silk)|(android(?!.*mobile))");$(document).ready(function(){var listDivDeviceOk=$(".souscrire-device-correct");var listDivDeviceKo=$(".souscrire-device-incorrect");var currentDeviceType=
"desktop";if(CATEGORIE_MOBILE_REGEX.test(navigator.userAgent)){currentDeviceType="phone";if(CATEGORIE_TABLET_REGEX.test(navigator.userAgent.toLowerCase()))currentDeviceType="tablet"}var arrayLength=listDivDeviceOk.length;for(var i=0;i<arrayLength;i++){var dataSouscrireTablet=listDivDeviceOk[i].getAttribute("data-souscrire-tablet");var dataSouscrirePhone=listDivDeviceOk[i].getAttribute("data-souscrire-phone");var dataSouscrireDesktop=listDivDeviceOk[i].getAttribute("data-souscrire-desktop");if(NPC.user.isConnected)var dataSouscrireMode=
listDivDeviceOk[i].getAttribute("data-souscrire-mode-connecte");else var dataSouscrireMode=listDivDeviceOk[i].getAttribute("data-souscrire-mode");if(currentDeviceType==="desktop"&&dataSouscrireDesktop==="true"||dataSouscrireMode==="manu"||NPC.isAuthor)$(listDivDeviceOk[i]).removeClass("hidden");if(currentDeviceType==="phone"&&dataSouscrirePhone==="true"||dataSouscrireMode==="manu"||NPC.isAuthor)$(listDivDeviceOk[i]).removeClass("hidden");if(currentDeviceType==="tablet"&&dataSouscrireTablet==="true"||
dataSouscrireMode==="manu"||NPC.isAuthor)$(listDivDeviceOk[i]).removeClass("hidden")}var arrayLength=listDivDeviceKo.length;for(var i=0;i<arrayLength;i++){var dataSouscrireTablet=listDivDeviceKo[i].getAttribute("data-souscrire-tablet");var dataSouscrirePhone=listDivDeviceKo[i].getAttribute("data-souscrire-phone");var dataSouscrireDesktop=listDivDeviceKo[i].getAttribute("data-souscrire-desktop");if(NPC.user.isConnected)var dataSouscrireMode=listDivDeviceKo[i].getAttribute("data-souscrire-mode-connecte");
else var dataSouscrireMode=listDivDeviceKo[i].getAttribute("data-souscrire-mode");if(currentDeviceType==="desktop"&&dataSouscrireDesktop==="false"&&dataSouscrireMode==="auto"||NPC.isAuthor)$(listDivDeviceKo[i]).removeClass("hidden");if(currentDeviceType==="phone"&&dataSouscrirePhone==="false"&&dataSouscrireMode==="auto"||NPC.isAuthor)$(listDivDeviceKo[i]).removeClass("hidden");if(currentDeviceType==="tablet"&&dataSouscrireTablet==="false"&&dataSouscrireMode==="auto"||NPC.isAuthor)$(listDivDeviceKo[i]).removeClass("hidden")}var divPageOffre=
$(".SubscribeBtn [data-page-offre]");if(divPageOffre!=undefined)divPageOffre.each(function(){if(document.referrer.indexOf($(this).attr("data-page-offre"))==-1&&$(this).attr("data-souscrire-referer")=="true")$(this).addClass("hidden")})})})(document,$,Granite,jQuery(document));(function(document,$,Granite,$document){$("#inbenta-c113").on("DOMSubtreeModified",function(){$(".pushFaq").matchHeight._update()})})(document,$,Granite,jQuery(document));
(function($){function onScroll(event){var scrollPos=$(document).scrollTop();$(".C166-sticky__link").each(function(){var currLink=$(this);var refElement=$(currLink.attr("href"));var top=refElement.offset().top-parseInt($(".C166-sticky").css("height"));if(top-$(".C166-sticky").height()<=scrollPos&&top+refElement.height()-$(".C166-sticky").height()>=scrollPos){$(".C166-sticky__item").removeClass("C166-sticky__item_selected");$(".C166-sticky__link").removeClass("C166-sticky__link_selected");$(".C166-sticky__brand").empty().text(currLink.text());
currLink.parent().addClass("C166-sticky__item_selected");currLink.addClass("C166-sticky__link_selected");navigationControlDisplay();if(barreAncrage!==undefined)barreAncrage.goToSlide(currLink.parent().index())}})}function navigationControlDisplay(){if(window.matchMedia("(min-width: 1028px)").matches){if($(".C166-sticky__item_selected").index()===0)$(".C166-sticky__arrow_left").hide();else if(countElements-numberElements<=0)$(".C166-sticky__arrow_left").hide();else $(".C166-sticky__arrow_left").show();
if($(".C166-sticky__item_selected").index()>=countElements-numberElements)$(".C166-sticky__arrow_right").hide();else $(".C166-sticky__arrow_right").show()}}function checkScrollStickyBar(){if($(document).scrollTop()>$(".C166-sticky").prev().offset().top+$(".C166-sticky").prev().height()-$(".C166-sticky").height()){$(".C166-sticky").show();if(!stickyLoad)$(".C166-sticky").css("visibility","visible");stickyLoad=true}else if(stickyLoad)$(".C166-sticky").hide();else $(".C166-sticky").css("visibility",
"hidden");var lastElem=$($(".C166-sticky__link:last").attr("href"));if($(document).scrollTop()>lastElem.offset().top+lastElem.height())$(".C166-sticky").hide();else if($(document).scrollTop()<$(".C166-sticky").prev().offset().top+$(".C166-sticky").prev().height()-$(".C166-sticky").height()){$(".C166-sticky__link:first").addClass("C166-sticky__link_selected");$(".C166-sticky__item:first").addClass("C166-sticky__item_selected");$(".C166-sticky__arrow-left").hide()}}function initPlugin(mediaQuery){if(barreAncrage!==
undefined){barreAncrage.destroy();barreAncrage=undefined}if(mediaQuery.matches){var firstElemWidth=$(".C166-sticky__item:first").width();$(".C166-sticky__list").css("min-width",firstElemWidth*countElements+firstElemWidth/1.4);barreAncrage=$(".C166-sticky__list").lightSlider({item:numberElements,slideMove:1,slideMargin:0,currentPagerPosition:"right",controls:false,addClass:"",mode:"slide",useCSS:true,cssEasing:"cubic-bezier(0.25, 0, 0.25, 1)",easing:"linear",speed:1E3,auto:false,loop:false,slideEndAnimation:false,
pager:false});$(".C166-sticky__brand").empty();if(widthBloc===undefined)widthBloc=$(".C166-sticky__item:first").width();else $(".C166-sticky__item").css("width",widthBloc)}else{$(".C166-sticky__brand").empty().text($(".C166-sticky__link:first").text());$(".C166-sticky__arrow").hide()}onScroll()}var barreAncrage;var countElements=$(".C166-sticky__item").length;var widthBloc;var stickyLoad=false;var liSize=230;var limit=7;var numberElements=Math.floor($(window).width()/liSize);if($(".C166-sticky").length>
0&&countElements>0){numberElements=numberElements>limit?limit:numberElements;$(window).ready(function(){var mediaQuery=window.matchMedia("(min-width: 1028px)");mediaQuery.addListener(initPlugin);initPlugin(mediaQuery);$(window).on("resize",$.throttle(20,function(){var newLimit=Math.floor($(window).width()/liSize);if(newLimit!=numberElements&&newLimit>3&&newLimit<=limit){numberElements=newLimit;initPlugin(mediaQuery)}}));checkScrollStickyBar();navigationControlDisplay();$(window).scroll(checkScrollStickyBar);
$(".C166-sticky").affix({offset:{top:$(".C166-sticky").prev().offset().top+$(".C166-sticky").prev().height()}});$(document).on("scroll",$.throttle(5,onScroll));onScroll();$(".C166-sticky__arrow").click(function(e){e.preventDefault();if($(this).hasClass("C166-sticky__arrow_right"))var nextElem=$(".C166-sticky__item_selected").next();if($(this).hasClass("C166-sticky__arrow_left"))var nextElem=$(".C166-sticky__item_selected").prev();var refElement=nextElem.find("a").attr("href");elem=$(refElement);var stickyHeight=
0;if(nextElem.find("a").is($('.C166-sticky__link[href^\x3d"#"]:first')))stickyHeight=$(".C166-sticky").height();else stickyHeight=$(".C166-sticky").height()*2;$("html, body").stop().animate({"scrollTop":elem.offset().top-stickyHeight},500,"swing",function(){onScroll()})});$('.C166-sticky__link[href^\x3d"#"], .C166 a[href^\x3d"#"]').click(function(e){e.preventDefault();$(document).off("scroll");if(window.matchMedia("(max-width: 1028px)").matches)$(".C166-sticky .navbar-toggle").click();$(".C166-sticky__link").removeClass("C166-sticky__link_selected");
$(".C166-sticky__item").removeClass("C166-sticky__item_selected");$(this).addClass("C166-sticky__link_selected");$(this).parent().addClass("C166-sticky__item_selected");var stickyHeight=0;if($(this).is($('.C166-sticky__link[href^\x3d"#"]:first')))stickyHeight=$(".C166-sticky").height();else stickyHeight=$(".C166-sticky").height()*2;var target=$($(this).attr("href"));$("html, body").stop().animate({"scrollTop":target.offset().top-stickyHeight},500,"swing",function(){$(document).on("scroll",$.throttle(5,
onScroll))})})})}else{$(".C166-sticky").hide();$(".C166-sticky__arrow_left").hide();$(".C166-sticky__arrow_right").hide()}})(jQuery);
(function(document,$,Granite,$document){$(".Accordions-inner").on("DOMSubtreeModified",function(){$(".AccordionSteps-header").off();$(".AccordionSteps-header").on("click",function(event){event.preventDefault();var accordion=$(this);var collapseIcon=accordion.find("span");var accordionContent=accordion.next(".AccordionSteps-main");accordion.toggleClass("open AccordionSteps-header--closed AccordionSteps-header--open");collapseIcon.toggleClass("collapsed");accordionContent.slideToggle(250)})})})(document,
$,Granite,jQuery(document));(function($){$(".carte-offre-action").each(function(index,el){$(el).bind("click.preventdefault",function(e){var btn_libelle="";var parent=this.closest(".carte-offre");if(parent){var h3=parent.querySelector("h3");if(h3)btn_libelle=h3.innerText}var btn_action="bouton_action";NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:btn_action,evt_nom_offre:btn_libelle})})})})(jQuery);
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],function($){return factory($,window,document)});else if(typeof exports==="object")module.exports=function(root,$){if(!root)root=window;if(!$)$=typeof window!=="undefined"?require("jquery"):require("jquery")(root);return factory($,root,root.document)};else factory(jQuery,window,document)})(function($,window,document,undefined){var DataTable=function(options){this.$=function(sSelector,oOpts){return this.api(true).$(sSelector,
oOpts)};this._=function(sSelector,oOpts){return this.api(true).rows(sSelector,oOpts).data()};this.api=function(traditional){return traditional?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)};this.fnAddData=function(data,redraw){var api=this.api(true);var rows=$.isArray(data)&&($.isArray(data[0])||$.isPlainObject(data[0]))?api.rows.add(data):api.row.add(data);if(redraw===undefined||redraw)api.draw();return rows.flatten().toArray()};this.fnAdjustColumnSizing=function(bRedraw){var api=
this.api(true).columns.adjust();var settings=api.settings()[0];var scroll=settings.oScroll;if(bRedraw===undefined||bRedraw)api.draw(false);else if(scroll.sX!==""||scroll.sY!=="")_fnScrollDraw(settings)};this.fnClearTable=function(bRedraw){var api=this.api(true).clear();if(bRedraw===undefined||bRedraw)api.draw()};this.fnClose=function(nTr){this.api(true).row(nTr).child.hide()};this.fnDeleteRow=function(target,callback,redraw){var api=this.api(true);var rows=api.rows(target);var settings=rows.settings()[0];
var data=settings.aoData[rows[0][0]];rows.remove();if(callback)callback.call(this,settings,data);if(redraw===undefined||redraw)api.draw();return data};this.fnDestroy=function(remove){this.api(true).destroy(remove)};this.fnDraw=function(complete){this.api(true).draw(complete)};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var api=this.api(true);if(iColumn===null||iColumn===undefined)api.search(sInput,bRegex,bSmart,bCaseInsensitive);else api.column(iColumn).search(sInput,
bRegex,bSmart,bCaseInsensitive);api.draw()};this.fnGetData=function(src,col){var api=this.api(true);if(src!==undefined){var type=src.nodeName?src.nodeName.toLowerCase():"";return col!==undefined||type=="td"||type=="th"?api.cell(src,col).data():api.row(src).data()||null}return api.data().toArray()};this.fnGetNodes=function(iRow){var api=this.api(true);return iRow!==undefined?api.row(iRow).node():api.rows().nodes().flatten().toArray()};this.fnGetPosition=function(node){var api=this.api(true);var nodeName=
node.nodeName.toUpperCase();if(nodeName=="TR")return api.row(node).index();else if(nodeName=="TD"||nodeName=="TH"){var cell=api.cell(node).index();return[cell.row,cell.columnVisible,cell.column]}return null};this.fnIsOpen=function(nTr){return this.api(true).row(nTr).child.isShown()};this.fnOpen=function(nTr,mHtml,sClass){return this.api(true).row(nTr).child(mHtml,sClass).show().child()[0]};this.fnPageChange=function(mAction,bRedraw){var api=this.api(true).page(mAction);if(bRedraw===undefined||bRedraw)api.draw(false)};
this.fnSetColumnVis=function(iCol,bShow,bRedraw){var api=this.api(true).column(iCol).visible(bShow);if(bRedraw===undefined||bRedraw)api.columns.adjust().draw()};this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])};this.fnSort=function(aaSort){this.api(true).order(aaSort).draw()};this.fnSortListener=function(nNode,iColumn,fnCallback){this.api(true).order.listener(nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var api=this.api(true);if(iColumn===
undefined||iColumn===null)api.row(mRow).data(mData);else api.cell(mRow,iColumn).data(mData);if(bAction===undefined||bAction)api.columns.adjust();if(bRedraw===undefined||bRedraw)api.draw();return 0};this.fnVersionCheck=_ext.fnVersionCheck;var _that=this;var emptyInit=options===undefined;var len=this.length;if(emptyInit)options={};this.oApi=this.internal=_ext.internal;for(var fn in DataTable.ext.internal)if(fn)this[fn]=_fnExternApiFunc(fn);this.each(function(){var o={};var oInit=len>1?_fnExtend(o,options,
true):options;var i=0,iLen,j,jLen,k,kLen;var sId=this.getAttribute("id");var bInitHandedOff=false;var defaults=DataTable.defaults;var $this=$(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(defaults);_fnCompatCols(defaults.column);_fnCamelToHungarian(defaults,defaults,true);_fnCamelToHungarian(defaults.column,defaults.column,true);_fnCamelToHungarian(defaults,$.extend(oInit,$this.data()));var allSettings=DataTable.settings;
for(i=0,iLen=allSettings.length;i<iLen;i++){var s=allSettings[i];if(s.nTable==this||s.nTHead.parentNode==this||s.nTFoot&&s.nTFoot.parentNode==this){var bRetrieve=oInit.bRetrieve!==undefined?oInit.bRetrieve:defaults.bRetrieve;var bDestroy=oInit.bDestroy!==undefined?oInit.bDestroy:defaults.bDestroy;if(emptyInit||bRetrieve)return s.oInstance;else if(bDestroy){s.oInstance.fnDestroy();break}else{_fnLog(s,0,"Cannot reinitialise DataTable",3);return}}if(s.sTableId==this.id){allSettings.splice(i,1);break}}if(sId===
null||sId===""){sId="DataTables_Table_"+DataTable.ext._unique++;this.id=sId}var oSettings=$.extend(true,{},DataTable.models.oSettings,{"sDestroyWidth":$this[0].style.width,"sInstance":sId,"sTableId":sId});oSettings.nTable=this;oSettings.oApi=_that.internal;oSettings.oInit=oInit;allSettings.push(oSettings);oSettings.oInstance=_that.length===1?_that:$this.dataTable();_fnCompatOpts(oInit);if(oInit.oLanguage)_fnLanguageCompat(oInit.oLanguage);if(oInit.aLengthMenu&&!oInit.iDisplayLength)oInit.iDisplayLength=
$.isArray(oInit.aLengthMenu[0])?oInit.aLengthMenu[0][0]:oInit.aLengthMenu[0];oInit=_fnExtend($.extend(true,{},defaults),oInit);_fnMap(oSettings.oFeatures,oInit,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);_fnMap(oSettings,oInit,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration",
"sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);_fnMap(oSettings.oScroll,oInit,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,
"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,
"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");oSettings.rowIdFn=_fnGetObjectDataFn(oInit.rowId);_fnBrowserDetect(oSettings);var oClasses=oSettings.oClasses;if(oInit.bJQueryUI){$.extend(oClasses,DataTable.ext.oJUIClasses,oInit.oClasses);if(oInit.sDom===defaults.sDom&&defaults.sDom==="lfrtip")oSettings.sDom='\x3c"H"lfr\x3et\x3c"F"ip\x3e';
if(!oSettings.renderer)oSettings.renderer="jqueryui";else if($.isPlainObject(oSettings.renderer)&&!oSettings.renderer.header)oSettings.renderer.header="jqueryui"}else $.extend(oClasses,DataTable.ext.classes,oInit.oClasses);$this.addClass(oClasses.sTable);if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.iDeferLoading!==null){oSettings.bDeferLoading=true;var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=
tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}var oLanguage=oSettings.oLanguage;$.extend(true,oLanguage,oInit.oLanguage);if(oLanguage.sUrl){$.ajax({dataType:"json",url:oLanguage.sUrl,success:function(json){_fnLanguageCompat(json);_fnCamelToHungarian(defaults.oLanguage,json);$.extend(true,oLanguage,json);_fnInitialise(oSettings)},error:function(){_fnInitialise(oSettings)}});bInitHandedOff=true}if(oInit.asStripeClasses===null)oSettings.asStripeClasses=
[oClasses.sStripeOdd,oClasses.sStripeEven];var stripeClasses=oSettings.asStripeClasses;var rowOne=$this.children("tbody").find("tr").eq(0);if($.inArray(true,$.map(stripeClasses,function(el,i){return rowOne.hasClass(el)}))!==-1){$("tbody tr",this).removeClass(stripeClasses.join(" "));oSettings.asDestroyStripes=stripeClasses.slice()}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(oInit.aoColumns===
null){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++)aoColumnsInit.push(null)}else aoColumnsInit=oInit.aoColumns;for(i=0,iLen=aoColumnsInit.length;i<iLen;i++)_fnAddColumn(oSettings,anThs?anThs[i]:null);_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});if(rowOne.length){var a=function(cell,name){return cell.getAttribute("data-"+name)!==null?name:null};$(rowOne[0]).children("th, td").each(function(i,cell){var col=oSettings.aoColumns[i];
if(col.mData===i){var sort=a(cell,"sort")||a(cell,"order");var filter=a(cell,"filter")||a(cell,"search");if(sort!==null||filter!==null){col.mData={_:i+".display",sort:sort!==null?i+".@data-"+sort:undefined,type:sort!==null?i+".@data-"+sort:undefined,filter:filter!==null?i+".@data-"+filter:undefined};_fnColumnOptions(oSettings,i)}}})}var features=oSettings.oFeatures;var loadedInit=function(){if(oInit.aaSorting===undefined){var sorting=oSettings.aaSorting;for(i=0,iLen=sorting.length;i<iLen;i++)sorting[i][1]=
oSettings.aoColumns[i].asSorting[0]}_fnSortingClasses(oSettings);if(features.bSort)_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted){var aSort=_fnSortFlatten(oSettings);var sortedColumns={};$.each(aSort,function(i,val){sortedColumns[val.src]=val.dir});_fnCallbackFire(oSettings,null,"order",[oSettings,aSort,sortedColumns]);_fnSortAria(oSettings)}});_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted||_fnDataSource(oSettings)==="ssp"||features.bDeferRender)_fnSortingClasses(oSettings)},
"sc");var captions=$this.children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var thead=$this.children("thead");if(thead.length===0)thead=$("\x3cthead/\x3e").appendTo($this);oSettings.nTHead=thead[0];var tbody=$this.children("tbody");if(tbody.length===0)tbody=$("\x3ctbody/\x3e").appendTo($this);oSettings.nTBody=tbody[0];var tfoot=$this.children("tfoot");if(tfoot.length===0&&captions.length>0&&(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!==""))tfoot=$("\x3ctfoot/\x3e").appendTo($this);
if(tfoot.length===0||tfoot.children().length===0)$this.addClass(oClasses.sNoFooter);else if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(oInit.aaData)for(i=0;i<oInit.aaData.length;i++)_fnAddData(oSettings,oInit.aaData[i]);else if(oSettings.bDeferLoading||_fnDataSource(oSettings)=="dom")_fnAddTr(oSettings,$(oSettings.nTBody).children("tr"));oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false)_fnInitialise(oSettings)};
if(oInit.bStateSave){features.bStateSave=true;_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save");_fnLoadState(oSettings,oInit,loadedInit)}else loadedInit()});_that=null;return this};var _ext;var _Api;var _api_register;var _api_registerPlural;var _re_dic={};var _re_new_lines=/[\r\n]/g;var _re_html=/<.*?>/g;var _re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/;var _re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{",
"}","\\","$","^","-"].join("|\\")+")","g");var _re_formatted_numeric=/[' ,$\u00a3\u20ac\u00a5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi;var _empty=function(d){return!d||d===true||d==="-"?true:false};var _intVal=function(s){var integer=parseInt(s,10);return!isNaN(integer)&&isFinite(s)?integer:null};var _numToDecimal=function(num,decimalPoint){if(!_re_dic[decimalPoint])_re_dic[decimalPoint]=new RegExp(_fnEscapeRegex(decimalPoint),"g");return typeof num==="string"&&decimalPoint!=="."?num.replace(/\./g,"").replace(_re_dic[decimalPoint],
"."):num};var _isNumber=function(d,decimalPoint,formatted){var strType=typeof d==="string";if(_empty(d))return true;if(decimalPoint&&strType)d=_numToDecimal(d,decimalPoint);if(formatted&&strType)d=d.replace(_re_formatted_numeric,"");return!isNaN(parseFloat(d))&&isFinite(d)};var _isHtml=function(d){return _empty(d)||typeof d==="string"};var _htmlNumeric=function(d,decimalPoint,formatted){if(_empty(d))return true;var html=_isHtml(d);return!html?null:_isNumber(_stripHtml(d),decimalPoint,formatted)?true:
null};var _pluck=function(a,prop,prop2){var out=[];var i=0,ien=a.length;if(prop2!==undefined)for(;i<ien;i++){if(a[i]&&a[i][prop])out.push(a[i][prop][prop2])}else for(;i<ien;i++)if(a[i])out.push(a[i][prop]);return out};var _pluck_order=function(a,order,prop,prop2){var out=[];var i=0,ien=order.length;if(prop2!==undefined)for(;i<ien;i++){if(a[order[i]][prop])out.push(a[order[i]][prop][prop2])}else for(;i<ien;i++)out.push(a[order[i]][prop]);return out};var _range=function(len,start){var out=[];var end;
if(start===undefined){start=0;end=len}else{end=start;start=len}for(var i=start;i<end;i++)out.push(i);return out};var _removeEmpty=function(a){var out=[];for(var i=0,ien=a.length;i<ien;i++)if(a[i])out.push(a[i]);return out};var _stripHtml=function(d){return d.replace(_re_html,"")};var _unique=function(src){var out=[],val,i,ien=src.length,j,k=0;again:for(i=0;i<ien;i++){val=src[i];for(j=0;j<k;j++)if(out[j]===val)continue again;out.push(val);k++}return out};DataTable.util={throttle:function(fn,freq){var frequency=
freq!==undefined?freq:200,last,timer;return function(){var that=this,now=+new Date,args=arguments;if(last&&now<last+frequency){clearTimeout(timer);timer=setTimeout(function(){last=undefined;fn.apply(that,args)},frequency)}else{last=now;fn.apply(that,args)}}},escapeRegex:function(val){return val.replace(_re_escape_regex,"\\$1")}};function _fnHungarianMap(o){var hungarian="a aa ai ao as b fn i m o s ",match,newKey,map={};$.each(o,function(key,val){match=key.match(/^([^A-Z]+?)([A-Z])/);if(match&&hungarian.indexOf(match[1]+
" ")!==-1){newKey=key.replace(match[0],match[2].toLowerCase());map[newKey]=key;if(match[1]==="o")_fnHungarianMap(o[key])}});o._hungarianMap=map}function _fnCamelToHungarian(src,user,force){if(!src._hungarianMap)_fnHungarianMap(src);var hungarianKey;$.each(user,function(key,val){hungarianKey=src._hungarianMap[key];if(hungarianKey!==undefined&&(force||user[hungarianKey]===undefined))if(hungarianKey.charAt(0)==="o"){if(!user[hungarianKey])user[hungarianKey]={};$.extend(true,user[hungarianKey],user[key]);
_fnCamelToHungarian(src[hungarianKey],user[hungarianKey],force)}else user[hungarianKey]=user[key]})}function _fnLanguageCompat(lang){var defaults=DataTable.defaults.oLanguage;var zeroRecords=lang.sZeroRecords;if(!lang.sEmptyTable&&zeroRecords&&defaults.sEmptyTable==="No data available in table")_fnMap(lang,lang,"sZeroRecords","sEmptyTable");if(!lang.sLoadingRecords&&zeroRecords&&defaults.sLoadingRecords==="Loading...")_fnMap(lang,lang,"sZeroRecords","sLoadingRecords");if(lang.sInfoThousands)lang.sThousands=
lang.sInfoThousands;var decimal=lang.sDecimal;if(decimal)_addNumericSort(decimal)}var _fnCompatMap=function(o,knew,old){if(o[knew]!==undefined)o[old]=o[knew]};function _fnCompatOpts(init){_fnCompatMap(init,"ordering","bSort");_fnCompatMap(init,"orderMulti","bSortMulti");_fnCompatMap(init,"orderClasses","bSortClasses");_fnCompatMap(init,"orderCellsTop","bSortCellsTop");_fnCompatMap(init,"order","aaSorting");_fnCompatMap(init,"orderFixed","aaSortingFixed");_fnCompatMap(init,"paging","bPaginate");_fnCompatMap(init,
"pagingType","sPaginationType");_fnCompatMap(init,"pageLength","iDisplayLength");_fnCompatMap(init,"searching","bFilter");if(typeof init.sScrollX==="boolean")init.sScrollX=init.sScrollX?"100%":"";if(typeof init.scrollX==="boolean")init.scrollX=init.scrollX?"100%":"";var searchCols=init.aoSearchCols;if(searchCols)for(var i=0,ien=searchCols.length;i<ien;i++)if(searchCols[i])_fnCamelToHungarian(DataTable.models.oSearch,searchCols[i])}function _fnCompatCols(init){_fnCompatMap(init,"orderable","bSortable");
_fnCompatMap(init,"orderData","aDataSort");_fnCompatMap(init,"orderSequence","asSorting");_fnCompatMap(init,"orderDataType","sortDataType");var dataSort=init.aDataSort;if(dataSort&&!$.isArray(dataSort))init.aDataSort=[dataSort]}function _fnBrowserDetect(settings){if(!DataTable.__browser){var browser={};DataTable.__browser=browser;var n=$("\x3cdiv/\x3e").css({position:"fixed",top:0,left:$(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($("\x3cdiv/\x3e").css({position:"absolute",
top:1,left:1,width:100,overflow:"scroll"}).append($("\x3cdiv/\x3e").css({width:"100%",height:10}))).appendTo("body");var outer=n.children();var inner=outer.children();browser.barWidth=outer[0].offsetWidth-outer[0].clientWidth;browser.bScrollOversize=inner[0].offsetWidth===100&&outer[0].clientWidth!==100;browser.bScrollbarLeft=Math.round(inner.offset().left)!==1;browser.bBounding=n[0].getBoundingClientRect().width?true:false;n.remove()}$.extend(settings.oBrowser,DataTable.__browser);settings.oScroll.iBarWidth=
DataTable.__browser.barWidth}function _fnReduce(that,fn,init,start,end,inc){var i=start,value,isSet=false;if(init!==undefined){value=init;isSet=true}while(i!==end){if(!that.hasOwnProperty(i))continue;value=isSet?fn(value,that[i],i,that):that[i];isSet=true;i+=inc}return value}function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.column;var iCol=oSettings.aoColumns.length;var oCol=$.extend({},DataTable.models.oColumn,oDefaults,{"nTh":nTh?nTh:document.createElement("th"),"sTitle":oDefaults.sTitle?
oDefaults.sTitle:nTh?nTh.innerHTML:"","aDataSort":oDefaults.aDataSort?oDefaults.aDataSort:[iCol],"mData":oDefaults.mData?oDefaults.mData:iCol,idx:iCol});oSettings.aoColumns.push(oCol);var searchCols=oSettings.aoPreSearchCols;searchCols[iCol]=$.extend({},DataTable.models.oSearch,searchCols[iCol]);_fnColumnOptions(oSettings,iCol,$(nTh).data())}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];var oClasses=oSettings.oClasses;var th=$(oCol.nTh);if(!oCol.sWidthOrig){oCol.sWidthOrig=
th.attr("width")||null;var t=(th.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(t)oCol.sWidthOrig=t[1]}if(oOptions!==undefined&&oOptions!==null){_fnCompatCols(oOptions);_fnCamelToHungarian(DataTable.defaults.column,oOptions);if(oOptions.mDataProp!==undefined&&!oOptions.mData)oOptions.mData=oOptions.mDataProp;if(oOptions.sType)oCol._sManualType=oOptions.sType;if(oOptions.className&&!oOptions.sClass)oOptions.sClass=oOptions.className;$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");
if(oOptions.iDataSort!==undefined)oCol.aDataSort=[oOptions.iDataSort];_fnMap(oCol,oOptions,"aDataSort")}var mDataSrc=oCol.mData;var mData=_fnGetObjectDataFn(mDataSrc);var mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null;var attrTest=function(src){return typeof src==="string"&&src.indexOf("@")!==-1};oCol._bAttrSrc=$.isPlainObject(mDataSrc)&&(attrTest(mDataSrc.sort)||attrTest(mDataSrc.type)||attrTest(mDataSrc.filter));oCol._setter=null;oCol.fnGetData=function(rowData,type,meta){var innerData=
mData(rowData,type,undefined,meta);return mRender&&type?mRender(innerData,type,rowData,meta):innerData};oCol.fnSetData=function(rowData,val,meta){return _fnSetObjectDataFn(mDataSrc)(rowData,val,meta)};if(typeof mDataSrc!=="number")oSettings._rowReadObject=true;if(!oSettings.oFeatures.bSort){oCol.bSortable=false;th.addClass(oClasses.sSortableNone)}var bAsc=$.inArray("asc",oCol.asSorting)!==-1;var bDesc=$.inArray("desc",oCol.asSorting)!==-1;if(!oCol.bSortable||!bAsc&&!bDesc){oCol.sSortingClass=oClasses.sSortableNone;
oCol.sSortingClassJUI=""}else if(bAsc&&!bDesc){oCol.sSortingClass=oClasses.sSortableAsc;oCol.sSortingClassJUI=oClasses.sSortJUIAscAllowed}else if(!bAsc&&bDesc){oCol.sSortingClass=oClasses.sSortableDesc;oCol.sSortingClassJUI=oClasses.sSortJUIDescAllowed}else{oCol.sSortingClass=oClasses.sSortable;oCol.sSortingClassJUI=oClasses.sSortJUI}}function _fnAdjustColumnSizing(settings){if(settings.oFeatures.bAutoWidth!==false){var columns=settings.aoColumns;_fnCalculateColumnWidths(settings);for(var i=0,iLen=
columns.length;i<iLen;i++)columns[i].nTh.style.width=columns[i].sWidth}var scroll=settings.oScroll;if(scroll.sY!==""||scroll.sX!=="")_fnScrollDraw(settings);_fnCallbackFire(settings,null,"column-sizing",[settings])}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return typeof aiVis[iMatch]==="number"?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");var iPos=$.inArray(iMatch,aiVis);return iPos!==
-1?iPos:null}function _fnVisbleColumns(oSettings){var vis=0;$.each(oSettings.aoColumns,function(i,col){if(col.bVisible&&$(col.nTh).css("display")!=="none")vis++});return vis}function _fnGetColumns(oSettings,sParam){var a=[];$.map(oSettings.aoColumns,function(val,i){if(val[sParam])a.push(i)});return a}function _fnColumnTypes(settings){var columns=settings.aoColumns;var data=settings.aoData;var types=DataTable.ext.type.detect;var i,ien,j,jen,k,ken;var col,cell,detectedType,cache;for(i=0,ien=columns.length;i<
ien;i++){col=columns[i];cache=[];if(!col.sType&&col._sManualType)col.sType=col._sManualType;else if(!col.sType){for(j=0,jen=types.length;j<jen;j++){for(k=0,ken=data.length;k<ken;k++){if(cache[k]===undefined)cache[k]=_fnGetCellData(settings,k,i,"type");detectedType=types[j](cache[k],settings);if(!detectedType&&j!==types.length-1)break;if(detectedType==="html")break}if(detectedType){col.sType=detectedType;break}}if(!col.sType)col.sType="string"}}}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,
fn){var i,iLen,j,jLen,k,kLen,def;var columns=oSettings.aoColumns;if(aoColDefs)for(i=aoColDefs.length-1;i>=0;i--){def=aoColDefs[i];var aTargets=def.targets!==undefined?def.targets:def.aTargets;if(!$.isArray(aTargets))aTargets=[aTargets];for(j=0,jLen=aTargets.length;j<jLen;j++)if(typeof aTargets[j]==="number"&&aTargets[j]>=0){while(columns.length<=aTargets[j])_fnAddColumn(oSettings);fn(aTargets[j],def)}else if(typeof aTargets[j]==="number"&&aTargets[j]<0)fn(columns.length+aTargets[j],def);else if(typeof aTargets[j]===
"string")for(k=0,kLen=columns.length;k<kLen;k++)if(aTargets[j]=="_all"||$(columns[k].nTh).hasClass(aTargets[j]))fn(k,def)}if(aoCols)for(i=0,iLen=aoCols.length;i<iLen;i++)fn(i,aoCols[i])}function _fnAddData(oSettings,aDataIn,nTr,anTds){var iRow=oSettings.aoData.length;var oData=$.extend(true,{},DataTable.models.oRow,{src:nTr?"dom":"data",idx:iRow});oData._aData=aDataIn;oSettings.aoData.push(oData);var nTd,sThisType;var columns=oSettings.aoColumns;for(var i=0,iLen=columns.length;i<iLen;i++)columns[i].sType=
null;oSettings.aiDisplayMaster.push(iRow);var id=oSettings.rowIdFn(aDataIn);if(id!==undefined)oSettings.aIds[id]=oData;if(nTr||!oSettings.oFeatures.bDeferRender)_fnCreateTr(oSettings,iRow,nTr,anTds);return iRow}function _fnAddTr(settings,trs){var row;if(!(trs instanceof $))trs=$(trs);return trs.map(function(i,el){row=_fnGetRowElements(settings,el);return _fnAddData(settings,row.data,el,row.cells)})}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,
iRow,n){return $.inArray(n,oSettings.aoData[iRow].anCells)}function _fnGetCellData(settings,rowIdx,colIdx,type){var draw=settings.iDraw;var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;var defaultContent=col.sDefaultContent;var cellData=col.fnGetData(rowData,type,{settings:settings,row:rowIdx,col:colIdx});if(cellData===undefined){if(settings.iDrawError!=draw&&defaultContent===null){_fnLog(settings,0,"Requested unknown parameter "+(typeof col.mData=="function"?"{function}":
"'"+col.mData+"'")+" for row "+rowIdx+", column "+colIdx,4);settings.iDrawError=draw}return defaultContent}if((cellData===rowData||cellData===null)&&defaultContent!==null&&type!==undefined)cellData=defaultContent;else if(typeof cellData==="function")return cellData.call(rowData);if(cellData===null&&type=="display")return"";return cellData}function _fnSetCellData(settings,rowIdx,colIdx,val){var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;col.fnSetData(rowData,val,{settings:settings,
row:rowIdx,col:colIdx})}var __reArray=/\[.*?\]$/;var __reFn=/\(\)$/;function _fnSplitObjNotation(str){return $.map(str.match(/(\\.|[^\.])+/g)||[""],function(s){return s.replace(/\\\./g,".")})}function _fnGetObjectDataFn(mSource){if($.isPlainObject(mSource)){var o={};$.each(mSource,function(key,val){if(val)o[key]=_fnGetObjectDataFn(val)});return function(data,type,row,meta){var t=o[type]||o._;return t!==undefined?t(data,type,row,meta):data}}else if(mSource===null)return function(data){return data};
else if(typeof mSource==="function")return function(data,type,row,meta){return mSource(data,type,row,meta)};else if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1||mSource.indexOf("(")!==-1)){var fetchData=function(data,type,src){var arrayNotation,funcNotation,out,innerSrc;if(src!==""){var a=_fnSplitObjNotation(src);for(var i=0,iLen=a.length;i<iLen;i++){arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,
"");if(a[i]!=="")data=data[a[i]];out=[];a.splice(0,i+1);innerSrc=a.join(".");if($.isArray(data))for(var j=0,jLen=data.length;j<jLen;j++)out.push(fetchData(data[j],type,innerSrc));var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=join===""?out:out.join(join);break}else if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]]();continue}if(data===null||data[a[i]]===undefined)return undefined;data=data[a[i]]}}return data};return function(data,type){return fetchData(data,type,
mSource)}}else return function(data,type){return data[mSource]}}function _fnSetObjectDataFn(mSource){if($.isPlainObject(mSource))return _fnSetObjectDataFn(mSource._);else if(mSource===null)return function(){};else if(typeof mSource==="function")return function(data,val,meta){mSource(data,"set",val,meta)};else if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1||mSource.indexOf("(")!==-1)){var setData=function(data,val,src){var a=_fnSplitObjNotation(src),b;var aLast=
a[a.length-1];var arrayNotation,funcNotation,o,innerSrc;for(var i=0,iLen=a.length-1;i<iLen;i++){arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,"");data[a[i]]=[];b=a.slice();b.splice(0,i+1);innerSrc=b.join(".");if($.isArray(val))for(var j=0,jLen=val.length;j<jLen;j++){o={};setData(o,val[j],innerSrc);data[a[i]].push(o)}else data[a[i]]=val;return}else if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]](val)}if(data[a[i]]===
null||data[a[i]]===undefined)data[a[i]]={};data=data[a[i]]}if(aLast.match(__reFn))data=data[aLast.replace(__reFn,"")](val);else data[aLast.replace(__reArray,"")]=val};return function(data,val){return setData(data,val,mSource)}}else return function(data,val){data[mSource]=val}}function _fnGetDataMaster(settings){return _pluck(settings.aoData,"_aData")}function _fnClearTable(settings){settings.aoData.length=0;settings.aiDisplayMaster.length=0;settings.aiDisplay.length=0;settings.aIds={}}function _fnDeleteIndex(a,
iTarget,splice){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++)if(a[i]==iTarget)iTargetIndex=i;else if(a[i]>iTarget)a[i]--;if(iTargetIndex!=-1&&splice===undefined)a.splice(iTargetIndex,1)}function _fnInvalidate(settings,rowIdx,src,colIdx){var row=settings.aoData[rowIdx];var i,ien;var cellWrite=function(cell,col){while(cell.childNodes.length)cell.removeChild(cell.firstChild);cell.innerHTML=_fnGetCellData(settings,rowIdx,col,"display")};if(src==="dom"||(!src||src==="auto")&&row.src==="dom")row._aData=
_fnGetRowElements(settings,row,colIdx,colIdx===undefined?undefined:row._aData).data;else{var cells=row.anCells;if(cells)if(colIdx!==undefined)cellWrite(cells[colIdx],colIdx);else for(i=0,ien=cells.length;i<ien;i++)cellWrite(cells[i],i)}row._aSortData=null;row._aFilterData=null;var cols=settings.aoColumns;if(colIdx!==undefined)cols[colIdx].sType=null;else{for(i=0,ien=cols.length;i<ien;i++)cols[i].sType=null;_fnRowAttributes(settings,row)}}function _fnGetRowElements(settings,row,colIdx,d){var tds=[],
td=row.firstChild,name,col,o,i=0,contents,columns=settings.aoColumns,objectRead=settings._rowReadObject;d=d!==undefined?d:objectRead?{}:[];var attr=function(str,td){if(typeof str==="string"){var idx=str.indexOf("@");if(idx!==-1){var attr=str.substring(idx+1);var setter=_fnSetObjectDataFn(str);setter(d,td.getAttribute(attr))}}};var cellProcess=function(cell){if(colIdx===undefined||colIdx===i){col=columns[i];contents=$.trim(cell.innerHTML);if(col&&col._bAttrSrc){var setter=_fnSetObjectDataFn(col.mData._);
setter(d,contents);attr(col.mData.sort,cell);attr(col.mData.type,cell);attr(col.mData.filter,cell)}else if(objectRead){if(!col._setter)col._setter=_fnSetObjectDataFn(col.mData);col._setter(d,contents)}else d[i]=contents}i++};if(td)while(td){name=td.nodeName.toUpperCase();if(name=="TD"||name=="TH"){cellProcess(td);tds.push(td)}td=td.nextSibling}else{tds=row.anCells;for(var j=0,jen=tds.length;j<jen;j++)cellProcess(tds[j])}var rowNode=row.firstChild?row:row.nTr;if(rowNode){var id=rowNode.getAttribute("id");
if(id)_fnSetObjectDataFn(settings.rowId)(d,id)}return{data:d,cells:tds}}function _fnCreateTr(oSettings,iRow,nTrIn,anTds){var row=oSettings.aoData[iRow],rowData=row._aData,cells=[],nTr,nTd,oCol,i,iLen;if(row.nTr===null){nTr=nTrIn||document.createElement("tr");row.nTr=nTr;row.anCells=cells;nTr._DT_RowIndex=iRow;_fnRowAttributes(oSettings,row);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];nTd=nTrIn?anTds[i]:document.createElement(oCol.sCellType);nTd._DT_CellIndex={row:iRow,
column:i};cells.push(nTd);if((!nTrIn||oCol.mRender||oCol.mData!==i)&&(!$.isPlainObject(oCol.mData)||oCol.mData._!==i+".display"))nTd.innerHTML=_fnGetCellData(oSettings,iRow,i,"display");if(oCol.sClass)nTd.className+=" "+oCol.sClass;if(oCol.bVisible&&!nTrIn)nTr.appendChild(nTd);else if(!oCol.bVisible&&nTrIn)nTd.parentNode.removeChild(nTd);if(oCol.fnCreatedCell)oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i),rowData,iRow,i)}_fnCallbackFire(oSettings,"aoRowCreatedCallback",
null,[nTr,rowData,iRow])}row.nTr.setAttribute("role","row")}function _fnRowAttributes(settings,row){var tr=row.nTr;var data=row._aData;if(tr){var id=settings.rowIdFn(data);if(id)tr.id=id;if(data.DT_RowClass){var a=data.DT_RowClass.split(" ");row.__rowc=row.__rowc?_unique(row.__rowc.concat(a)):a;$(tr).removeClass(row.__rowc.join(" ")).addClass(data.DT_RowClass)}if(data.DT_RowAttr)$(tr).attr(data.DT_RowAttr);if(data.DT_RowData)$(tr).data(data.DT_RowData)}}function _fnBuildHead(oSettings){var i,ien,
cell,row,column;var thead=oSettings.nTHead;var tfoot=oSettings.nTFoot;var createHeader=$("th, td",thead).length===0;var classes=oSettings.oClasses;var columns=oSettings.aoColumns;if(createHeader)row=$("\x3ctr/\x3e").appendTo(thead);for(i=0,ien=columns.length;i<ien;i++){column=columns[i];cell=$(column.nTh).addClass(column.sClass);if(createHeader)cell.appendTo(row);if(oSettings.oFeatures.bSort){cell.addClass(column.sSortingClass);if(column.bSortable!==false){cell.attr("tabindex",oSettings.iTabIndex).attr("aria-controls",
oSettings.sTableId);_fnSortAttachListener(oSettings,column.nTh,i)}}if(column.sTitle!=cell[0].innerHTML)cell.html(column.sTitle);_fnRenderer(oSettings,"header")(oSettings,cell,column,classes)}if(createHeader)_fnDetectHeader(oSettings.aoHeader,thead);$(thead).find("\x3etr").attr("role","row");$(thead).find("\x3etr\x3eth, \x3etr\x3etd").addClass(classes.sHeaderTH);$(tfoot).find("\x3etr\x3eth, \x3etr\x3etd").addClass(classes.sFooterTH);if(tfoot!==null){var cells=oSettings.aoFooter[0];for(i=0,ien=cells.length;i<
ien;i++){column=columns[i];column.nTf=cells[i].cell;if(column.sClass)$(column.nTf).addClass(column.sClass)}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen,n,nLocalTr;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(!aoSource)return;if(bIncludeHidden===undefined)bIncludeHidden=false;for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--)if(!oSettings.aoColumns[j].bVisible&&
!bIncludeHidden)aoLocal[i].splice(j,1);aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr)while(n=nLocalTr.firstChild)nLocalTr.removeChild(n);for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;while(aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(aoLocal[i][j+iColspan]!==undefined&&
aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++)aApplied[i+k][j+iColspan]=1;iColspan++}$(aoLocal[i][j].cell).attr("rowspan",iRowspan).attr("colspan",iColspan)}}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if($.inArray(false,aPreDraw)!==-1){_fnProcessingDisplay(oSettings,false);return}var i,iLen,n;var anRows=[];var iRowCount=0;var asStripeClasses=oSettings.asStripeClasses;var iStripes=asStripeClasses.length;
var iOpenRows=oSettings.aoOpenRows.length;var oLang=oSettings.oLanguage;var iInitDisplayStart=oSettings.iInitDisplayStart;var bServerSide=_fnDataSource(oSettings)=="ssp";var aiDisplay=oSettings.aiDisplay;oSettings.bDrawing=true;if(iInitDisplayStart!==undefined&&iInitDisplayStart!==-1){oSettings._iDisplayStart=bServerSide?iInitDisplayStart:iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:iInitDisplayStart;oSettings.iInitDisplayStart=-1}var iDisplayStart=oSettings._iDisplayStart;var iDisplayEnd=oSettings.fnDisplayEnd();
if(oSettings.bDeferLoading){oSettings.bDeferLoading=false;oSettings.iDraw++;_fnProcessingDisplay(oSettings,false)}else if(!bServerSide)oSettings.iDraw++;else if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings))return;if(aiDisplay.length!==0){var iStart=bServerSide?0:iDisplayStart;var iEnd=bServerSide?oSettings.aoData.length:iDisplayEnd;for(var j=iStart;j<iEnd;j++){var iDataIndex=aiDisplay[j];var aoData=oSettings.aoData[iDataIndex];if(aoData.nTr===null)_fnCreateTr(oSettings,iDataIndex);var nRow=aoData.nTr;
if(iStripes!==0){var sStripe=asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,aoData._aData,iRowCount,j]);anRows.push(nRow);iRowCount++}}else{var sZero=oLang.sZeroRecords;if(oSettings.iDraw==1&&_fnDataSource(oSettings)=="ajax")sZero=oLang.sLoadingRecords;else if(oLang.sEmptyTable&&oSettings.fnRecordsTotal()===0)sZero=oLang.sEmptyTable;anRows[0]=
$("\x3ctr/\x3e",{"class":iStripes?asStripeClasses[0]:""}).append($("\x3ctd /\x3e",{"valign":"top","colSpan":_fnVisbleColumns(oSettings),"class":oSettings.oClasses.sRowEmpty}).html(sZero))[0]}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);
var body=$(oSettings.nTBody);body.children().detach();body.append($(anRows));_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false}function _fnReDraw(settings,holdPosition){var features=settings.oFeatures,sort=features.bSort,filter=features.bFilter;if(sort)_fnSort(settings);if(filter)_fnFilterComplete(settings,settings.oPreviousSearch);else settings.aiDisplay=settings.aiDisplayMaster.slice();if(holdPosition!==true)settings._iDisplayStart=
0;settings._drawHold=holdPosition;_fnDraw(settings);settings._drawHold=false}function _fnAddOptionsHtml(oSettings){var classes=oSettings.oClasses;var table=$(oSettings.nTable);var holding=$("\x3cdiv/\x3e").insertBefore(table);var features=oSettings.oFeatures;var insert=$("\x3cdiv/\x3e",{id:oSettings.sTableId+"_wrapper","class":classes.sWrapper+(oSettings.nTFoot?"":" "+classes.sNoFooter)});oSettings.nHolding=holding[0];oSettings.nTableWrapper=insert[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;
var aDom=oSettings.sDom.split("");var featureNode,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){featureNode=null;cOption=aDom[i];if(cOption=="\x3c"){nNewNode=$("\x3cdiv/\x3e")[0];cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H")sAttr=classes.sJUIHeader;else if(sAttr=="F")sAttr=classes.sJUIFooter;if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=
aSplit[1]}else if(sAttr.charAt(0)=="#")nNewNode.id=sAttr.substr(1,sAttr.length-1);else nNewNode.className=sAttr;i+=j}insert.append(nNewNode);insert=$(nNewNode)}else if(cOption=="\x3e")insert=insert.parent();else if(cOption=="l"&&features.bPaginate&&features.bLengthChange)featureNode=_fnFeatureHtmlLength(oSettings);else if(cOption=="f"&&features.bFilter)featureNode=_fnFeatureHtmlFilter(oSettings);else if(cOption=="r"&&features.bProcessing)featureNode=_fnFeatureHtmlProcessing(oSettings);else if(cOption==
"t")featureNode=_fnFeatureHtmlTable(oSettings);else if(cOption=="i"&&features.bInfo)featureNode=_fnFeatureHtmlInfo(oSettings);else if(cOption=="p"&&features.bPaginate)featureNode=_fnFeatureHtmlPaginate(oSettings);else if(DataTable.ext.feature.length!==0){var aoFeatures=DataTable.ext.feature;for(var k=0,kLen=aoFeatures.length;k<kLen;k++)if(cOption==aoFeatures[k].cFeature){featureNode=aoFeatures[k].fnInit(oSettings);break}}if(featureNode){var aanFeatures=oSettings.aanFeatures;if(!aanFeatures[cOption])aanFeatures[cOption]=
[];aanFeatures[cOption].push(featureNode);insert.append(featureNode)}}holding.replaceWith(insert);oSettings.nHolding=null}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nTr,nCell;var i,k,l,iLen,jLen,iColShifted,iColumn,iColspan,iRowspan;var bUnique;var fnShiftCol=function(a,i,j){var k=a[i];while(k[j])j++;return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<iLen;i++)aLayout.push([]);for(i=0,iLen=nTrs.length;i<iLen;i++){nTr=nTrs[i];iColumn=0;nCell=nTr.firstChild;
while(nCell){if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){iColspan=nCell.getAttribute("colspan")*1;iRowspan=nCell.getAttribute("rowspan")*1;iColspan=!iColspan||iColspan===0||iColspan===1?1:iColspan;iRowspan=!iRowspan||iRowspan===0||iRowspan===1?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);bUnique=iColspan===1?true:false;for(l=0;l<iColspan;l++)for(k=0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={"cell":nCell,"unique":bUnique};aLayout[i+k].nTr=nTr}}nCell=nCell.nextSibling}}}
function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++)for(var j=0,jLen=aLayout[i].length;j<jLen;j++)if(aLayout[i][j].unique&&(!aReturn[j]||!oSettings.bSortCellsTop))aReturn[j]=aLayout[i][j].cell;return aReturn}function _fnBuildAjax(oSettings,data,fn){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[data]);if(data&&$.isArray(data)){var tmp=
{};var rbracket=/(.*?)\[\]$/;$.each(data,function(key,val){var match=val.name.match(rbracket);if(match){var name=match[0];if(!tmp[name])tmp[name]=[];tmp[name].push(val.value)}else tmp[val.name]=val.value});data=tmp}var ajaxData;var ajax=oSettings.ajax;var instance=oSettings.oInstance;var callback=function(json){_fnCallbackFire(oSettings,null,"xhr",[oSettings,json,oSettings.jqXHR]);fn(json)};if($.isPlainObject(ajax)&&ajax.data){ajaxData=ajax.data;var newData=$.isFunction(ajaxData)?ajaxData(data,oSettings):
ajaxData;data=$.isFunction(ajaxData)&&newData?newData:$.extend(true,data,newData);delete ajax.data}var baseAjax={"data":data,"success":function(json){var error=json.error||json.sError;if(error)_fnLog(oSettings,0,error);oSettings.json=json;callback(json)},"dataType":"json","cache":false,"type":oSettings.sServerMethod,"error":function(xhr,error,thrown){var ret=_fnCallbackFire(oSettings,null,"xhr",[oSettings,null,oSettings.jqXHR]);if($.inArray(true,ret)===-1)if(error=="parsererror")_fnLog(oSettings,
0,"Invalid JSON response",1);else if(xhr.readyState===4)_fnLog(oSettings,0,"Ajax error",7);_fnProcessingDisplay(oSettings,false)}};oSettings.oAjaxData=data;_fnCallbackFire(oSettings,null,"preXhr",[oSettings,data]);if(oSettings.fnServerData)oSettings.fnServerData.call(instance,oSettings.sAjaxSource,$.map(data,function(val,key){return{name:key,value:val}}),callback,oSettings);else if(oSettings.sAjaxSource||typeof ajax==="string")oSettings.jqXHR=$.ajax($.extend(baseAjax,{url:ajax||oSettings.sAjaxSource}));
else if($.isFunction(ajax))oSettings.jqXHR=ajax.call(instance,data,callback,oSettings);else{oSettings.jqXHR=$.ajax($.extend(baseAjax,ajax));ajax.data=ajaxData}}function _fnAjaxUpdate(settings){if(settings.bAjaxDataGet){settings.iDraw++;_fnProcessingDisplay(settings,true);_fnBuildAjax(settings,_fnAjaxParameters(settings),function(json){_fnAjaxUpdateDraw(settings,json)});return false}return true}function _fnAjaxParameters(settings){var columns=settings.aoColumns,columnCount=columns.length,features=
settings.oFeatures,preSearch=settings.oPreviousSearch,preColSearch=settings.aoPreSearchCols,i,data=[],dataProp,column,columnSearch,sort=_fnSortFlatten(settings),displayStart=settings._iDisplayStart,displayLength=features.bPaginate!==false?settings._iDisplayLength:-1;var param=function(name,value){data.push({"name":name,"value":value})};param("sEcho",settings.iDraw);param("iColumns",columnCount);param("sColumns",_pluck(columns,"sName").join(","));param("iDisplayStart",displayStart);param("iDisplayLength",
displayLength);var d={draw:settings.iDraw,columns:[],order:[],start:displayStart,length:displayLength,search:{value:preSearch.sSearch,regex:preSearch.bRegex}};for(i=0;i<columnCount;i++){column=columns[i];columnSearch=preColSearch[i];dataProp=typeof column.mData=="function"?"function":column.mData;d.columns.push({data:dataProp,name:column.sName,searchable:column.bSearchable,orderable:column.bSortable,search:{value:columnSearch.sSearch,regex:columnSearch.bRegex}});param("mDataProp_"+i,dataProp);if(features.bFilter){param("sSearch_"+
i,columnSearch.sSearch);param("bRegex_"+i,columnSearch.bRegex);param("bSearchable_"+i,column.bSearchable)}if(features.bSort)param("bSortable_"+i,column.bSortable)}if(features.bFilter){param("sSearch",preSearch.sSearch);param("bRegex",preSearch.bRegex)}if(features.bSort){$.each(sort,function(i,val){d.order.push({column:val.col,dir:val.dir});param("iSortCol_"+i,val.col);param("sSortDir_"+i,val.dir)});param("iSortingCols",sort.length)}var legacy=DataTable.ext.legacy.ajax;if(legacy===null)return settings.sAjaxSource?
data:d;return legacy?data:d}function _fnAjaxUpdateDraw(settings,json){var compat=function(old,modern){return json[old]!==undefined?json[old]:json[modern]};var data=_fnAjaxDataSrc(settings,json);var draw=compat("sEcho","draw");var recordsTotal=compat("iTotalRecords","recordsTotal");var recordsFiltered=compat("iTotalDisplayRecords","recordsFiltered");if(draw){if(draw*1<settings.iDraw)return;settings.iDraw=draw*1}_fnClearTable(settings);settings._iRecordsTotal=parseInt(recordsTotal,10);settings._iRecordsDisplay=
parseInt(recordsFiltered,10);for(var i=0,ien=data.length;i<ien;i++)_fnAddData(settings,data[i]);settings.aiDisplay=settings.aiDisplayMaster.slice();settings.bAjaxDataGet=false;_fnDraw(settings);if(!settings._bInitComplete)_fnInitComplete(settings,json);settings.bAjaxDataGet=true;_fnProcessingDisplay(settings,false)}function _fnAjaxDataSrc(oSettings,json){var dataSrc=$.isPlainObject(oSettings.ajax)&&oSettings.ajax.dataSrc!==undefined?oSettings.ajax.dataSrc:oSettings.sAjaxDataProp;if(dataSrc==="data")return json.aaData||
json[dataSrc];return dataSrc!==""?_fnGetObjectDataFn(dataSrc)(json):json}function _fnFeatureHtmlFilter(settings){var classes=settings.oClasses;var tableId=settings.sTableId;var language=settings.oLanguage;var previousSearch=settings.oPreviousSearch;var features=settings.aanFeatures;var input='\x3cinput type\x3d"search" class\x3d"'+classes.sFilterInput+'"/\x3e';var str=language.sSearch;str=str.match(/_INPUT_/)?str.replace("_INPUT_",input):str+input;var filter=$("\x3cdiv/\x3e",{"id":!features.f?tableId+
"_filter":null,"class":classes.sFilter}).append($("\x3clabel/\x3e").append(str));var searchFn=function(){var n=features.f;var val=!this.value?"":this.value;if(val!=previousSearch.sSearch){_fnFilterComplete(settings,{"sSearch":val,"bRegex":previousSearch.bRegex,"bSmart":previousSearch.bSmart,"bCaseInsensitive":previousSearch.bCaseInsensitive});settings._iDisplayStart=0;_fnDraw(settings)}};var searchDelay=settings.searchDelay!==null?settings.searchDelay:_fnDataSource(settings)==="ssp"?400:0;var jqFilter=
$("input",filter).val(previousSearch.sSearch).attr("placeholder",language.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",searchDelay?_fnThrottle(searchFn,searchDelay):searchFn).on("keypress.DT",function(e){if(e.keyCode==13)return false}).attr("aria-controls",tableId);$(settings.nTable).on("search.dt.DT",function(ev,s){if(settings===s)try{if(jqFilter[0]!==document.activeElement)jqFilter.val(previousSearch.sSearch)}catch(e){}});return filter[0]}function _fnFilterComplete(oSettings,
oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch;var aoPrevSearch=oSettings.aoPreSearchCols;var fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};var fnRegex=function(o){return o.bEscapeRegex!==undefined?!o.bEscapeRegex:o.bRegex};_fnColumnTypes(oSettings);if(_fnDataSource(oSettings)!="ssp"){_fnFilter(oSettings,oInput.sSearch,iForce,fnRegex(oInput),oInput.bSmart,
oInput.bCaseInsensitive);fnSaveFilter(oInput);for(var i=0;i<aoPrevSearch.length;i++)_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,fnRegex(aoPrevSearch[i]),aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive);_fnFilterCustom(oSettings)}else fnSaveFilter(oInput);oSettings.bFiltered=true;_fnCallbackFire(oSettings,null,"search",[oSettings])}function _fnFilterCustom(settings){var filters=DataTable.ext.search;var displayRows=settings.aiDisplay;var row,rowIdx;for(var i=0,ien=filters.length;i<ien;i++){var rows=
[];for(var j=0,jen=displayRows.length;j<jen;j++){rowIdx=displayRows[j];row=settings.aoData[rowIdx];if(filters[i](settings,row._aFilterData,rowIdx,row._aData,j))rows.push(rowIdx)}displayRows.length=0;$.merge(displayRows,rows)}}function _fnFilterColumn(settings,searchStr,colIdx,regex,smart,caseInsensitive){if(searchStr==="")return;var data;var out=[];var display=settings.aiDisplay;var rpSearch=_fnFilterCreateSearch(searchStr,regex,smart,caseInsensitive);for(var i=0;i<display.length;i++){data=settings.aoData[display[i]]._aFilterData[colIdx];
if(rpSearch.test(data))out.push(display[i])}settings.aiDisplay=out}function _fnFilter(settings,input,force,regex,smart,caseInsensitive){var rpSearch=_fnFilterCreateSearch(input,regex,smart,caseInsensitive);var prevSearch=settings.oPreviousSearch.sSearch;var displayMaster=settings.aiDisplayMaster;var display,invalidated,i;var filtered=[];if(DataTable.ext.search.length!==0)force=true;invalidated=_fnFilterData(settings);if(input.length<=0)settings.aiDisplay=displayMaster.slice();else{if(invalidated||
force||prevSearch.length>input.length||input.indexOf(prevSearch)!==0||settings.bSorted)settings.aiDisplay=displayMaster.slice();display=settings.aiDisplay;for(i=0;i<display.length;i++)if(rpSearch.test(settings.aoData[display[i]]._sFilterRow))filtered.push(display[i]);settings.aiDisplay=filtered}}function _fnFilterCreateSearch(search,regex,smart,caseInsensitive){search=regex?search:_fnEscapeRegex(search);if(smart){var a=$.map(search.match(/"[^"]+"|[^ ]+/g)||[""],function(word){if(word.charAt(0)===
'"'){var m=word.match(/^"(.*)"$/);word=m?m[1]:word}return word.replace('"',"")});search="^(?\x3d.*?"+a.join(")(?\x3d.*?")+").*$"}return new RegExp(search,caseInsensitive?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex;var __filter_div=$("\x3cdiv\x3e")[0];var __filter_div_textContent=__filter_div.textContent!==undefined;function _fnFilterData(settings){var columns=settings.aoColumns;var column;var i,j,ien,jen,filterData,cellData,row;var fomatters=DataTable.ext.type.search;var wasInvalidated=
false;for(i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];if(!row._aFilterData){filterData=[];for(j=0,jen=columns.length;j<jen;j++){column=columns[j];if(column.bSearchable){cellData=_fnGetCellData(settings,i,j,"filter");if(fomatters[column.sType])cellData=fomatters[column.sType](cellData);if(cellData===null)cellData="";if(typeof cellData!=="string"&&cellData.toString)cellData=cellData.toString()}else cellData="";if(cellData.indexOf&&cellData.indexOf("\x26")!==-1){__filter_div.innerHTML=
cellData;cellData=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText}if(cellData.replace)cellData=cellData.replace(/[\r\n]/g,"");filterData.push(cellData)}row._aFilterData=filterData;row._sFilterRow=filterData.join("  ");wasInvalidated=true}}return wasInvalidated}function _fnSearchToCamel(obj){return{search:obj.sSearch,smart:obj.bSmart,regex:obj.bRegex,caseInsensitive:obj.bCaseInsensitive}}function _fnSearchToHung(obj){return{sSearch:obj.search,bSmart:obj.smart,bRegex:obj.regex,
bCaseInsensitive:obj.caseInsensitive}}function _fnFeatureHtmlInfo(settings){var tid=settings.sTableId,nodes=settings.aanFeatures.i,n=$("\x3cdiv/\x3e",{"class":settings.oClasses.sInfo,"id":!nodes?tid+"_info":null});if(!nodes){settings.aoDrawCallback.push({"fn":_fnUpdateInfo,"sName":"information"});n.attr("role","status").attr("aria-live","polite");$(settings.nTable).attr("aria-describedby",tid+"_info")}return n[0]}function _fnUpdateInfo(settings){var nodes=settings.aanFeatures.i;if(nodes.length===
0)return;var lang=settings.oLanguage,start=settings._iDisplayStart+1,end=settings.fnDisplayEnd(),max=settings.fnRecordsTotal(),total=settings.fnRecordsDisplay(),out=total?lang.sInfo:lang.sInfoEmpty;if(total!==max)out+=" "+lang.sInfoFiltered;out+=lang.sInfoPostFix;out=_fnInfoMacros(settings,out);var callback=lang.fnInfoCallback;if(callback!==null)out=callback.call(settings.oInstance,settings,start,end,max,total,out);$(nodes).html(out)}function _fnInfoMacros(settings,str){var formatter=settings.fnFormatNumber,
start=settings._iDisplayStart+1,len=settings._iDisplayLength,vis=settings.fnRecordsDisplay(),all=len===-1;return str.replace(/_START_/g,formatter.call(settings,start)).replace(/_END_/g,formatter.call(settings,settings.fnDisplayEnd())).replace(/_MAX_/g,formatter.call(settings,settings.fnRecordsTotal())).replace(/_TOTAL_/g,formatter.call(settings,vis)).replace(/_PAGE_/g,formatter.call(settings,all?1:Math.ceil(start/len))).replace(/_PAGES_/g,formatter.call(settings,all?1:Math.ceil(vis/len)))}function _fnInitialise(settings){var i,
iLen,iAjaxStart=settings.iInitDisplayStart;var columns=settings.aoColumns,column;var features=settings.oFeatures;var deferLoading=settings.bDeferLoading;if(!settings.bInitialised){setTimeout(function(){_fnInitialise(settings)},200);return}_fnAddOptionsHtml(settings);_fnBuildHead(settings);_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);_fnProcessingDisplay(settings,true);if(features.bAutoWidth)_fnCalculateColumnWidths(settings);for(i=0,iLen=columns.length;i<iLen;i++){column=
columns[i];if(column.sWidth)column.nTh.style.width=_fnStringToCss(column.sWidth)}_fnCallbackFire(settings,null,"preInit",[settings]);_fnReDraw(settings);var dataSrc=_fnDataSource(settings);if(dataSrc!="ssp"||deferLoading)if(dataSrc=="ajax")_fnBuildAjax(settings,[],function(json){var aData=_fnAjaxDataSrc(settings,json);for(i=0;i<aData.length;i++)_fnAddData(settings,aData[i]);settings.iInitDisplayStart=iAjaxStart;_fnReDraw(settings);_fnProcessingDisplay(settings,false);_fnInitComplete(settings,json)},
settings);else{_fnProcessingDisplay(settings,false);_fnInitComplete(settings)}}function _fnInitComplete(settings,json){settings._bInitComplete=true;if(json||settings.oInit.aaData)_fnAdjustColumnSizing(settings);_fnCallbackFire(settings,null,"plugin-init",[settings,json]);_fnCallbackFire(settings,"aoInitComplete","init",[settings,json])}function _fnLengthChange(settings,val){var len=parseInt(val,10);settings._iDisplayLength=len;_fnLengthOverflow(settings);_fnCallbackFire(settings,null,"length",[settings,
len])}function _fnFeatureHtmlLength(settings){var classes=settings.oClasses,tableId=settings.sTableId,menu=settings.aLengthMenu,d2=$.isArray(menu[0]),lengths=d2?menu[0]:menu,language=d2?menu[1]:menu;var select=$("\x3cselect/\x3e",{"name":tableId+"_length","aria-controls":tableId,"class":classes.sLengthSelect});for(var i=0,ien=lengths.length;i<ien;i++)select[0][i]=new Option(language[i],lengths[i]);var div=$("\x3cdiv\x3e\x3clabel/\x3e\x3c/div\x3e").addClass(classes.sLength);if(!settings.aanFeatures.l)div[0].id=
tableId+"_length";div.children().append(settings.oLanguage.sLengthMenu.replace("_MENU_",select[0].outerHTML));$("select",div).val(settings._iDisplayLength).on("change.DT",function(e){_fnLengthChange(settings,$(this).val());_fnDraw(settings)});$(settings.nTable).on("length.dt.DT",function(e,s,len){if(settings===s)$("select",div).val(len)});return div[0]}function _fnFeatureHtmlPaginate(settings){var type=settings.sPaginationType,plugin=DataTable.ext.pager[type],modern=typeof plugin==="function",redraw=
function(settings){_fnDraw(settings)},node=$("\x3cdiv/\x3e").addClass(settings.oClasses.sPaging+type)[0],features=settings.aanFeatures;if(!modern)plugin.fnInit(settings,node,redraw);if(!features.p){node.id=settings.sTableId+"_paginate";settings.aoDrawCallback.push({"fn":function(settings){if(modern){var start=settings._iDisplayStart,len=settings._iDisplayLength,visRecords=settings.fnRecordsDisplay(),all=len===-1,page=all?0:Math.ceil(start/len),pages=all?1:Math.ceil(visRecords/len),buttons=plugin(page,
pages),i,ien;for(i=0,ien=features.p.length;i<ien;i++)_fnRenderer(settings,"pageButton")(settings,features.p[i],i,buttons,page,pages)}else plugin.fnUpdate(settings,redraw)},"sName":"pagination"})}return node}function _fnPageChange(settings,action,redraw){var start=settings._iDisplayStart,len=settings._iDisplayLength,records=settings.fnRecordsDisplay();if(records===0||len===-1)start=0;else if(typeof action==="number"){start=action*len;if(start>records)start=0}else if(action=="first")start=0;else if(action==
"previous"){start=len>=0?start-len:0;if(start<0)start=0}else if(action=="next"){if(start+len<records)start+=len}else if(action=="last")start=Math.floor((records-1)/len)*len;else _fnLog(settings,0,"Unknown paging action: "+action,5);var changed=settings._iDisplayStart!==start;settings._iDisplayStart=start;if(changed){_fnCallbackFire(settings,null,"page",[settings]);if(redraw)_fnDraw(settings)}return changed}function _fnFeatureHtmlProcessing(settings){return $("\x3cdiv/\x3e",{"id":!settings.aanFeatures.r?
settings.sTableId+"_processing":null,"class":settings.oClasses.sProcessing}).html(settings.oLanguage.sProcessing).insertBefore(settings.nTable)[0]}function _fnProcessingDisplay(settings,show){if(settings.oFeatures.bProcessing)$(settings.aanFeatures.r).css("display",show?"block":"none");_fnCallbackFire(settings,null,"processing",[settings,show])}function _fnFeatureHtmlTable(settings){var table=$(settings.nTable);table.attr("role","grid");var scroll=settings.oScroll;if(scroll.sX===""&&scroll.sY==="")return settings.nTable;
var scrollX=scroll.sX;var scrollY=scroll.sY;var classes=settings.oClasses;var caption=table.children("caption");var captionSide=caption.length?caption[0]._captionSide:null;var headerClone=$(table[0].cloneNode(false));var footerClone=$(table[0].cloneNode(false));var footer=table.children("tfoot");var _div="\x3cdiv/\x3e";var size=function(s){return!s?null:_fnStringToCss(s)};if(!footer.length)footer=null;var scroller=$(_div,{"class":classes.sScrollWrapper}).append($(_div,{"class":classes.sScrollHead}).css({overflow:"hidden",
position:"relative",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollHeadInner}).css({"box-sizing":"content-box",width:scroll.sXInner||"100%"}).append(headerClone.removeAttr("id").css("margin-left",0).append(captionSide==="top"?caption:null).append(table.children("thead"))))).append($(_div,{"class":classes.sScrollBody}).css({position:"relative",overflow:"auto",width:size(scrollX)}).append(table));if(footer)scroller.append($(_div,{"class":classes.sScrollFoot}).css({overflow:"hidden",
border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollFootInner}).append(footerClone.removeAttr("id").css("margin-left",0).append(captionSide==="bottom"?caption:null).append(table.children("tfoot")))));var children=scroller.children();var scrollHead=children[0];var scrollBody=children[1];var scrollFoot=footer?children[2]:null;if(scrollX)$(scrollBody).on("scroll.DT",function(e){var scrollLeft=this.scrollLeft;scrollHead.scrollLeft=scrollLeft;if(footer)scrollFoot.scrollLeft=
scrollLeft});$(scrollBody).css(scrollY&&scroll.bCollapse?"max-height":"height",scrollY);settings.nScrollHead=scrollHead;settings.nScrollBody=scrollBody;settings.nScrollFoot=scrollFoot;settings.aoDrawCallback.push({"fn":_fnScrollDraw,"sName":"scrolling"});return scroller[0]}function _fnScrollDraw(settings){var scroll=settings.oScroll,scrollX=scroll.sX,scrollXInner=scroll.sXInner,scrollY=scroll.sY,barWidth=scroll.iBarWidth,divHeader=$(settings.nScrollHead),divHeaderStyle=divHeader[0].style,divHeaderInner=
divHeader.children("div"),divHeaderInnerStyle=divHeaderInner[0].style,divHeaderTable=divHeaderInner.children("table"),divBodyEl=settings.nScrollBody,divBody=$(divBodyEl),divBodyStyle=divBodyEl.style,divFooter=$(settings.nScrollFoot),divFooterInner=divFooter.children("div"),divFooterTable=divFooterInner.children("table"),header=$(settings.nTHead),table=$(settings.nTable),tableEl=table[0],tableStyle=tableEl.style,footer=settings.nTFoot?$(settings.nTFoot):null,browser=settings.oBrowser,ie67=browser.bScrollOversize,
dtHeaderCells=_pluck(settings.aoColumns,"nTh"),headerTrgEls,footerTrgEls,headerSrcEls,footerSrcEls,headerCopy,footerCopy,headerWidths=[],footerWidths=[],headerContent=[],footerContent=[],idx,correction,sanityWidth,zeroOut=function(nSizer){var style=nSizer.style;style.paddingTop="0";style.paddingBottom="0";style.borderTopWidth="0";style.borderBottomWidth="0";style.height=0};var scrollBarVis=divBodyEl.scrollHeight>divBodyEl.clientHeight;if(settings.scrollBarVis!==scrollBarVis&&settings.scrollBarVis!==
undefined){settings.scrollBarVis=scrollBarVis;_fnAdjustColumnSizing(settings);return}else settings.scrollBarVis=scrollBarVis;table.children("thead, tfoot").remove();if(footer){footerCopy=footer.clone().prependTo(table);footerTrgEls=footer.find("tr");footerSrcEls=footerCopy.find("tr")}headerCopy=header.clone().prependTo(table);headerTrgEls=header.find("tr");headerSrcEls=headerCopy.find("tr");headerCopy.find("th, td").removeAttr("tabindex");if(!scrollX){divBodyStyle.width="100%";divHeader[0].style.width=
"100%"}$.each(_fnGetUniqueThs(settings,headerCopy),function(i,el){idx=_fnVisibleToColumnIndex(settings,i);el.style.width=settings.aoColumns[idx].sWidth});if(footer)_fnApplyToChildren(function(n){n.style.width=""},footerSrcEls);sanityWidth=table.outerWidth();if(scrollX===""){tableStyle.width="100%";if(ie67&&(table.find("tbody").height()>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll"))tableStyle.width=_fnStringToCss(table.outerWidth()-barWidth);sanityWidth=table.outerWidth()}else if(scrollXInner!==
""){tableStyle.width=_fnStringToCss(scrollXInner);sanityWidth=table.outerWidth()}_fnApplyToChildren(zeroOut,headerSrcEls);_fnApplyToChildren(function(nSizer){headerContent.push(nSizer.innerHTML);headerWidths.push(_fnStringToCss($(nSizer).css("width")))},headerSrcEls);_fnApplyToChildren(function(nToSize,i){if($.inArray(nToSize,dtHeaderCells)!==-1)nToSize.style.width=headerWidths[i]},headerTrgEls);$(headerSrcEls).height(0);if(footer){_fnApplyToChildren(zeroOut,footerSrcEls);_fnApplyToChildren(function(nSizer){footerContent.push(nSizer.innerHTML);
footerWidths.push(_fnStringToCss($(nSizer).css("width")))},footerSrcEls);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=footerWidths[i]},footerTrgEls);$(footerSrcEls).height(0)}_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='\x3cdiv class\x3d"dataTables_sizing" style\x3d"height:0;overflow:hidden;"\x3e'+headerContent[i]+"\x3c/div\x3e";nSizer.style.width=headerWidths[i]},headerSrcEls);if(footer)_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='\x3cdiv class\x3d"dataTables_sizing" style\x3d"height:0;overflow:hidden;"\x3e'+
footerContent[i]+"\x3c/div\x3e";nSizer.style.width=footerWidths[i]},footerSrcEls);if(table.outerWidth()<sanityWidth){correction=divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll"?sanityWidth+barWidth:sanityWidth;if(ie67&&(divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll"))tableStyle.width=_fnStringToCss(correction-barWidth);if(scrollX===""||scrollXInner!=="")_fnLog(settings,1,"Possible column misalignment",6)}else correction="100%";
divBodyStyle.width=_fnStringToCss(correction);divHeaderStyle.width=_fnStringToCss(correction);if(footer)settings.nScrollFoot.style.width=_fnStringToCss(correction);if(!scrollY)if(ie67)divBodyStyle.height=_fnStringToCss(tableEl.offsetHeight+barWidth);var iOuterWidth=table.outerWidth();divHeaderTable[0].style.width=_fnStringToCss(iOuterWidth);divHeaderInnerStyle.width=_fnStringToCss(iOuterWidth);var bScrolling=table.height()>divBodyEl.clientHeight||divBody.css("overflow-y")=="scroll";var padding="padding"+
(browser.bScrollbarLeft?"Left":"Right");divHeaderInnerStyle[padding]=bScrolling?barWidth+"px":"0px";if(footer){divFooterTable[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style[padding]=bScrolling?barWidth+"px":"0px"}table.children("colgroup").insertBefore(table.children("thead"));divBody.scroll();if((settings.bSorted||settings.bFiltered)&&!settings._drawHold)divBodyEl.scrollTop=0}function _fnApplyToChildren(fn,an1,an2){var index=
0,i=0,iLen=an1.length;var nNode1,nNode2;while(i<iLen){nNode1=an1[i].firstChild;nNode2=an2?an2[i].firstChild:null;while(nNode1){if(nNode1.nodeType===1){if(an2)fn(nNode1,nNode2,index);else fn(nNode1,index);index++}nNode1=nNode1.nextSibling;nNode2=an2?nNode2.nextSibling:null}i++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(oSettings){var table=oSettings.nTable,columns=oSettings.aoColumns,scroll=oSettings.oScroll,scrollY=scroll.sY,scrollX=scroll.sX,scrollXInner=scroll.sXInner,columnCount=
columns.length,visibleColumns=_fnGetColumns(oSettings,"bVisible"),headerCells=$("th",oSettings.nTHead),tableWidthAttr=table.getAttribute("width"),tableContainer=table.parentNode,userInputs=false,i,column,columnIdx,width,outerWidth,browser=oSettings.oBrowser,ie67=browser.bScrollOversize;var styleWidth=table.style.width;if(styleWidth&&styleWidth.indexOf("%")!==-1)tableWidthAttr=styleWidth;for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];if(column.sWidth!==null){column.sWidth=_fnConvertToWidth(column.sWidthOrig,
tableContainer);userInputs=true}}if(ie67||!userInputs&&!scrollX&&!scrollY&&columnCount==_fnVisbleColumns(oSettings)&&columnCount==headerCells.length)for(i=0;i<columnCount;i++){var colIdx=_fnVisibleToColumnIndex(oSettings,i);if(colIdx!==null)columns[colIdx].sWidth=_fnStringToCss(headerCells.eq(i).width())}else{var tmpTable=$(table).clone().css("visibility","hidden").removeAttr("id");tmpTable.find("tbody tr").remove();var tr=$("\x3ctr/\x3e").appendTo(tmpTable.find("tbody"));tmpTable.find("thead, tfoot").remove();
tmpTable.append($(oSettings.nTHead).clone()).append($(oSettings.nTFoot).clone());tmpTable.find("tfoot th, tfoot td").css("width","");headerCells=_fnGetUniqueThs(oSettings,tmpTable.find("thead")[0]);for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];headerCells[i].style.width=column.sWidthOrig!==null&&column.sWidthOrig!==""?_fnStringToCss(column.sWidthOrig):"";if(column.sWidthOrig&&scrollX)$(headerCells[i]).append($("\x3cdiv/\x3e").css({width:column.sWidthOrig,margin:0,padding:0,
border:0,height:1}))}if(oSettings.aoData.length)for(i=0;i<visibleColumns.length;i++){columnIdx=visibleColumns[i];column=columns[columnIdx];$(_fnGetWidestNode(oSettings,columnIdx)).clone(false).append(column.sContentPadding).appendTo(tr)}$("[name]",tmpTable).removeAttr("name");var holder=$("\x3cdiv/\x3e").css(scrollX||scrollY?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(tmpTable).appendTo(tableContainer);if(scrollX&&scrollXInner)tmpTable.width(scrollXInner);else if(scrollX){tmpTable.css("width",
"auto");tmpTable.removeAttr("width");if(tmpTable.width()<tableContainer.clientWidth&&tableWidthAttr)tmpTable.width(tableContainer.clientWidth)}else if(scrollY)tmpTable.width(tableContainer.clientWidth);else if(tableWidthAttr)tmpTable.width(tableWidthAttr);var total=0;for(i=0;i<visibleColumns.length;i++){var cell=$(headerCells[i]);var border=cell.outerWidth()-cell.width();var bounding=browser.bBounding?Math.ceil(headerCells[i].getBoundingClientRect().width):cell.outerWidth();total+=bounding;columns[visibleColumns[i]].sWidth=
_fnStringToCss(bounding-border)}table.style.width=_fnStringToCss(total);holder.remove()}if(tableWidthAttr)table.style.width=_fnStringToCss(tableWidthAttr);if((tableWidthAttr||scrollX)&&!oSettings._reszEvt){var bindResize=function(){$(window).on("resize.DT-"+oSettings.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(oSettings)}))};if(ie67)setTimeout(bindResize,1E3);else bindResize();oSettings._reszEvt=true}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(width,parent){if(!width)return 0;
var n=$("\x3cdiv/\x3e").css("width",_fnStringToCss(width)).appendTo(parent||document.body);var val=n[0].offsetWidth;n.remove();return val}function _fnGetWidestNode(settings,colIdx){var idx=_fnGetMaxLenString(settings,colIdx);if(idx<0)return null;var data=settings.aoData[idx];return!data.nTr?$("\x3ctd/\x3e").html(_fnGetCellData(settings,idx,colIdx,"display"))[0]:data.anCells[colIdx]}function _fnGetMaxLenString(settings,colIdx){var s,max=-1,maxIdx=-1;for(var i=0,ien=settings.aoData.length;i<ien;i++){s=
_fnGetCellData(settings,i,colIdx,"display")+"";s=s.replace(__re_html_remove,"");s=s.replace(/&nbsp;/g," ");if(s.length>max){max=s.length;maxIdx=i}}return maxIdx}function _fnStringToCss(s){if(s===null)return"0px";if(typeof s=="number")return s<0?"0px":s+"px";return s.match(/\d$/)?s+"px":s}function _fnSortFlatten(settings){var i,iLen,k,kLen,aSort=[],aiOrig=[],aoColumns=settings.aoColumns,aDataSort,iCol,sType,srcCol,fixed=settings.aaSortingFixed,fixedObj=$.isPlainObject(fixed),nestedSort=[],add=function(a){if(a.length&&
!$.isArray(a[0]))nestedSort.push(a);else $.merge(nestedSort,a)};if($.isArray(fixed))add(fixed);if(fixedObj&&fixed.pre)add(fixed.pre);add(settings.aaSorting);if(fixedObj&&fixed.post)add(fixed.post);for(i=0;i<nestedSort.length;i++){srcCol=nestedSort[i][0];aDataSort=aoColumns[srcCol].aDataSort;for(k=0,kLen=aDataSort.length;k<kLen;k++){iCol=aDataSort[k];sType=aoColumns[iCol].sType||"string";if(nestedSort[i]._idx===undefined)nestedSort[i]._idx=$.inArray(nestedSort[i][1],aoColumns[iCol].asSorting);aSort.push({src:srcCol,
col:iCol,dir:nestedSort[i][1],index:nestedSort[i]._idx,type:sType,formatter:DataTable.ext.type.order[sType+"-pre"]})}}return aSort}function _fnSort(oSettings){var i,ien,iLen,j,jLen,k,kLen,sDataType,nTh,aiOrig=[],oExtSort=DataTable.ext.type.order,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,aDataSort,data,iCol,sType,oSort,formatters=0,sortCol,displayMaster=oSettings.aiDisplayMaster,aSort;_fnColumnTypes(oSettings);aSort=_fnSortFlatten(oSettings);for(i=0,ien=aSort.length;i<ien;i++){sortCol=
aSort[i];if(sortCol.formatter)formatters++;_fnSortData(oSettings,sortCol.col)}if(_fnDataSource(oSettings)!="ssp"&&aSort.length!==0){for(i=0,iLen=displayMaster.length;i<iLen;i++)aiOrig[displayMaster[i]]=i;if(formatters===aSort.length)displayMaster.sort(function(a,b){var x,y,k,test,sort,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];test=x<y?-1:x>y?1:0;if(test!==0)return sort.dir==="asc"?test:-test}x=aiOrig[a];
y=aiOrig[b];return x<y?-1:x>y?1:0});else displayMaster.sort(function(a,b){var x,y,k,l,test,sort,fn,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];fn=oExtSort[sort.type+"-"+sort.dir]||oExtSort["string-"+sort.dir];test=fn(x,y);if(test!==0)return test}x=aiOrig[a];y=aiOrig[b];return x<y?-1:x>y?1:0})}oSettings.bSorted=true}function _fnSortAria(settings){var label;var nextSort;var columns=settings.aoColumns;var aSort=
_fnSortFlatten(settings);var oAria=settings.oLanguage.oAria;for(var i=0,iLen=columns.length;i<iLen;i++){var col=columns[i];var asSorting=col.asSorting;var sTitle=col.sTitle.replace(/<.*?>/g,"");var th=col.nTh;th.removeAttribute("aria-sort");if(col.bSortable){if(aSort.length>0&&aSort[0].col==i){th.setAttribute("aria-sort",aSort[0].dir=="asc"?"ascending":"descending");nextSort=asSorting[aSort[0].index+1]||asSorting[0]}else nextSort=asSorting[0];label=sTitle+(nextSort==="asc"?oAria.sSortAscending:oAria.sSortDescending)}else label=
sTitle;th.setAttribute("aria-label",label)}}function _fnSortListener(settings,colIdx,append,callback){var col=settings.aoColumns[colIdx];var sorting=settings.aaSorting;var asSorting=col.asSorting;var nextSortIdx;var next=function(a,overflow){var idx=a._idx;if(idx===undefined)idx=$.inArray(a[1],asSorting);return idx+1<asSorting.length?idx+1:overflow?null:0};if(typeof sorting[0]==="number")sorting=settings.aaSorting=[sorting];if(append&&settings.oFeatures.bSortMulti){var sortIdx=$.inArray(colIdx,_pluck(sorting,
"0"));if(sortIdx!==-1){nextSortIdx=next(sorting[sortIdx],true);if(nextSortIdx===null&&sorting.length===1)nextSortIdx=0;if(nextSortIdx===null)sorting.splice(sortIdx,1);else{sorting[sortIdx][1]=asSorting[nextSortIdx];sorting[sortIdx]._idx=nextSortIdx}}else{sorting.push([colIdx,asSorting[0],0]);sorting[sorting.length-1]._idx=0}}else if(sorting.length&&sorting[0][0]==colIdx){nextSortIdx=next(sorting[0]);sorting.length=1;sorting[0][1]=asSorting[nextSortIdx];sorting[0]._idx=nextSortIdx}else{sorting.length=
0;sorting.push([colIdx,asSorting[0]]);sorting[0]._idx=0}_fnReDraw(settings);if(typeof callback=="function")callback(settings)}function _fnSortAttachListener(settings,attachTo,colIdx,callback){var col=settings.aoColumns[colIdx];_fnBindAction(attachTo,{},function(e){if(col.bSortable===false)return;if(settings.oFeatures.bProcessing){_fnProcessingDisplay(settings,true);setTimeout(function(){_fnSortListener(settings,colIdx,e.shiftKey,callback);if(_fnDataSource(settings)!=="ssp")_fnProcessingDisplay(settings,
false)},0)}else _fnSortListener(settings,colIdx,e.shiftKey,callback)})}function _fnSortingClasses(settings){var oldSort=settings.aLastSort;var sortClass=settings.oClasses.sSortColumn;var sort=_fnSortFlatten(settings);var features=settings.oFeatures;var i,ien,colIdx;if(features.bSort&&features.bSortClasses){for(i=0,ien=oldSort.length;i<ien;i++){colIdx=oldSort[i].src;$(_pluck(settings.aoData,"anCells",colIdx)).removeClass(sortClass+(i<2?i+1:3))}for(i=0,ien=sort.length;i<ien;i++){colIdx=sort[i].src;
$(_pluck(settings.aoData,"anCells",colIdx)).addClass(sortClass+(i<2?i+1:3))}}settings.aLastSort=sort}function _fnSortData(settings,idx){var column=settings.aoColumns[idx];var customSort=DataTable.ext.order[column.sSortDataType];var customData;if(customSort)customData=customSort.call(settings.oInstance,settings,idx,_fnColumnIndexToVisible(settings,idx));var row,cellData;var formatter=DataTable.ext.type.order[column.sType+"-pre"];for(var i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];
if(!row._aSortData)row._aSortData=[];if(!row._aSortData[idx]||customSort){cellData=customSort?customData[i]:_fnGetCellData(settings,i,idx,"sort");row._aSortData[idx]=formatter?formatter(cellData):cellData}}}function _fnSaveState(settings){if(!settings.oFeatures.bStateSave||settings.bDestroying)return;var state={time:+new Date,start:settings._iDisplayStart,length:settings._iDisplayLength,order:$.extend(true,[],settings.aaSorting),search:_fnSearchToCamel(settings.oPreviousSearch),columns:$.map(settings.aoColumns,
function(col,i){return{visible:col.bVisible,search:_fnSearchToCamel(settings.aoPreSearchCols[i])}})};_fnCallbackFire(settings,"aoStateSaveParams","stateSaveParams",[settings,state]);settings.oSavedState=state;settings.fnStateSaveCallback.call(settings.oInstance,settings,state)}function _fnLoadState(settings,oInit,callback){var i,ien;var columns=settings.aoColumns;var loaded=function(s){if(!s||!s.time){callback();return}var abStateLoad=_fnCallbackFire(settings,"aoStateLoadParams","stateLoadParams",
[settings,state]);if($.inArray(false,abStateLoad)!==-1){callback();return}var duration=settings.iStateDuration;if(duration>0&&s.time<+new Date-duration*1E3){callback();return}if(s.columns&&columns.length!==s.columns.length){callback();return}settings.oLoadedState=$.extend(true,{},state);if(s.start!==undefined){settings._iDisplayStart=s.start;settings.iInitDisplayStart=s.start}if(s.length!==undefined)settings._iDisplayLength=s.length;if(s.order!==undefined){settings.aaSorting=[];$.each(s.order,function(i,
col){settings.aaSorting.push(col[0]>=columns.length?[0,col[1]]:col)})}if(s.search!==undefined)$.extend(settings.oPreviousSearch,_fnSearchToHung(s.search));if(s.columns)for(i=0,ien=s.columns.length;i<ien;i++){var col=s.columns[i];if(col.visible!==undefined)columns[i].bVisible=col.visible;if(col.search!==undefined)$.extend(settings.aoPreSearchCols[i],_fnSearchToHung(col.search))}_fnCallbackFire(settings,"aoStateLoaded","stateLoaded",[settings,state]);callback()};if(!settings.oFeatures.bStateSave){callback();
return}var state=settings.fnStateLoadCallback.call(settings.oInstance,settings,loaded);if(state!==undefined)loaded(state)}function _fnSettingsFromNode(table){var settings=DataTable.settings;var idx=$.inArray(table,_pluck(settings,"nTable"));return idx!==-1?settings[idx]:null}function _fnLog(settings,level,msg,tn){msg="DataTables warning: "+(settings?"table id\x3d"+settings.sTableId+" - ":"")+msg;if(tn)msg+=". For more information about this error, please see "+"http://datatables.net/tn/"+tn;if(!level){var ext=
DataTable.ext;var type=ext.sErrMode||ext.errMode;if(settings)_fnCallbackFire(settings,null,"error",[settings,tn,msg]);if(type=="alert")alert(msg);else if(type=="throw")throw new Error(msg);else if(typeof type=="function")type(settings,tn,msg)}else if(window.console&&console.log)console.log(msg)}function _fnMap(ret,src,name,mappedName){if($.isArray(name)){$.each(name,function(i,val){if($.isArray(val))_fnMap(ret,src,val[0],val[1]);else _fnMap(ret,src,val)});return}if(mappedName===undefined)mappedName=
name;if(src[name]!==undefined)ret[mappedName]=src[name]}function _fnExtend(out,extender,breakRefs){var val;for(var prop in extender)if(extender.hasOwnProperty(prop)){val=extender[prop];if($.isPlainObject(val)){if(!$.isPlainObject(out[prop]))out[prop]={};$.extend(true,out[prop],val)}else if(breakRefs&&prop!=="data"&&prop!=="aaData"&&$.isArray(val))out[prop]=val.slice();else out[prop]=val}return out}function _fnBindAction(n,oData,fn){$(n).on("click.DT",oData,function(e){n.blur();fn(e)}).on("keypress.DT",
oData,function(e){if(e.which===13){e.preventDefault();fn(e)}}).on("selectstart.DT",function(){return false})}function _fnCallbackReg(oSettings,sStore,fn,sName){if(fn)oSettings[sStore].push({"fn":fn,"sName":sName})}function _fnCallbackFire(settings,callbackArr,eventName,args){var ret=[];if(callbackArr)ret=$.map(settings[callbackArr].slice().reverse(),function(val,i){return val.fn.apply(settings.oInstance,args)});if(eventName!==null){var e=$.Event(eventName+".dt");$(settings.nTable).trigger(e,args);
ret.push(e.result)}return ret}function _fnLengthOverflow(settings){var start=settings._iDisplayStart,end=settings.fnDisplayEnd(),len=settings._iDisplayLength;if(start>=end)start=end-len;start-=start%len;if(len===-1||start<0)start=0;settings._iDisplayStart=start}function _fnRenderer(settings,type){var renderer=settings.renderer;var host=DataTable.ext.renderer[type];if($.isPlainObject(renderer)&&renderer[type])return host[renderer[type]]||host._;else if(typeof renderer==="string")return host[renderer]||
host._;return host._}function _fnDataSource(settings){if(settings.oFeatures.bServerSide)return"ssp";else if(settings.ajax||settings.sAjaxSource)return"ajax";return"dom"}var __apiStruct=[];var __arrayProto=Array.prototype;var _toSettings=function(mixed){var idx,jq;var settings=DataTable.settings;var tables=$.map(settings,function(el,i){return el.nTable});if(!mixed)return[];else if(mixed.nTable&&mixed.oApi)return[mixed];else if(mixed.nodeName&&mixed.nodeName.toLowerCase()==="table"){idx=$.inArray(mixed,
tables);return idx!==-1?[settings[idx]]:null}else if(mixed&&typeof mixed.settings==="function")return mixed.settings().toArray();else if(typeof mixed==="string")jq=$(mixed);else if(mixed instanceof $)jq=mixed;if(jq)return jq.map(function(i){idx=$.inArray(this,tables);return idx!==-1?settings[idx]:null}).toArray()};_Api=function(context,data){if(!(this instanceof _Api))return new _Api(context,data);var settings=[];var ctxSettings=function(o){var a=_toSettings(o);if(a)settings=settings.concat(a)};if($.isArray(context))for(var i=
0,ien=context.length;i<ien;i++)ctxSettings(context[i]);else ctxSettings(context);this.context=_unique(settings);if(data)$.merge(this,data);this.selector={rows:null,cols:null,opts:null};_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(fn){for(var i=0,ien=this.length;i<ien;i++)fn.call(this,this[i],i,this);return this},eq:function(idx){var ctx=
this.context;return ctx.length>idx?new _Api(ctx[idx],this[idx]):null},filter:function(fn){var a=[];if(__arrayProto.filter)a=__arrayProto.filter.call(this,fn,this);else for(var i=0,ien=this.length;i<ien;i++)if(fn.call(this,this[i],i,this))a.push(this[i]);return new _Api(this.context,a)},flatten:function(){var a=[];return new _Api(this.context,a.concat.apply(a,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(obj,start){for(var i=start||0,ien=this.length;i<ien;i++)if(this[i]===
obj)return i;return-1},iterator:function(flatten,type,fn,alwaysNew){var a=[],ret,i,ien,j,jen,context=this.context,rows,items,item,selector=this.selector;if(typeof flatten==="string"){alwaysNew=fn;fn=type;type=flatten;flatten=false}for(i=0,ien=context.length;i<ien;i++){var apiInst=new _Api(context[i]);if(type==="table"){ret=fn.call(apiInst,context[i],i);if(ret!==undefined)a.push(ret)}else if(type==="columns"||type==="rows"){ret=fn.call(apiInst,context[i],this[i],i);if(ret!==undefined)a.push(ret)}else if(type===
"column"||type==="column-rows"||type==="row"||type==="cell"){items=this[i];if(type==="column-rows")rows=_selector_row_indexes(context[i],selector.opts);for(j=0,jen=items.length;j<jen;j++){item=items[j];if(type==="cell")ret=fn.call(apiInst,context[i],item.row,item.column,i,j);else ret=fn.call(apiInst,context[i],item,i,j,rows);if(ret!==undefined)a.push(ret)}}}if(a.length||alwaysNew){var api=new _Api(context,flatten?a.concat.apply([],a):a);var apiSelector=api.selector;apiSelector.rows=selector.rows;
apiSelector.cols=selector.cols;apiSelector.opts=selector.opts;return api}return this},lastIndexOf:__arrayProto.lastIndexOf||function(obj,start){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(fn){var a=[];if(__arrayProto.map)a=__arrayProto.map.call(this,fn,this);else for(var i=0,ien=this.length;i<ien;i++)a.push(fn.call(this,this[i],i));return new _Api(this.context,a)},pluck:function(prop){return this.map(function(el){return el[prop]})},pop:__arrayProto.pop,push:__arrayProto.push,
reduce:__arrayProto.reduce||function(fn,init){return _fnReduce(this,fn,init,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(fn,init){return _fnReduce(this,fn,init,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $(this)},toJQuery:function(){return $(this)},unique:function(){return new _Api(this.context,_unique(this))},
unshift:__arrayProto.unshift});_Api.extend=function(scope,obj,ext){if(!ext.length||!obj||!(obj instanceof _Api)&&!obj.__dt_wrapper)return;var i,ien,j,jen,struct,inner,methodScoping=function(scope,fn,struc){return function(){var ret=fn.apply(scope,arguments);_Api.extend(ret,ret,struc.methodExt);return ret}};for(i=0,ien=ext.length;i<ien;i++){struct=ext[i];obj[struct.name]=typeof struct.val==="function"?methodScoping(scope,struct.val,struct):$.isPlainObject(struct.val)?{}:struct.val;obj[struct.name].__dt_wrapper=
true;_Api.extend(scope,obj[struct.name],struct.propExt)}};_Api.register=_api_register=function(name,val){if($.isArray(name)){for(var j=0,jen=name.length;j<jen;j++)_Api.register(name[j],val);return}var i,ien,heir=name.split("."),struct=__apiStruct,key,method;var find=function(src,name){for(var i=0,ien=src.length;i<ien;i++)if(src[i].name===name)return src[i];return null};for(i=0,ien=heir.length;i<ien;i++){method=heir[i].indexOf("()")!==-1;key=method?heir[i].replace("()",""):heir[i];var src=find(struct,
key);if(!src){src={name:key,val:{},methodExt:[],propExt:[]};struct.push(src)}if(i===ien-1)src.val=val;else struct=method?src.methodExt:src.propExt}};_Api.registerPlural=_api_registerPlural=function(pluralName,singularName,val){_Api.register(pluralName,val);_Api.register(singularName,function(){var ret=val.apply(this,arguments);if(ret===this)return this;else if(ret instanceof _Api)return ret.length?$.isArray(ret[0])?new _Api(ret.context,ret[0]):ret[0]:undefined;return ret})};var __table_selector=function(selector,
a){if(typeof selector==="number")return[a[selector]];var nodes=$.map(a,function(el,i){return el.nTable});return $(nodes).filter(selector).map(function(i){var idx=$.inArray(this,nodes);return a[idx]}).toArray()};_api_register("tables()",function(selector){return selector?new _Api(__table_selector(selector,this.context)):this});_api_register("table()",function(selector){var tables=this.tables(selector);var ctx=tables.context;return ctx.length?new _Api(ctx[0]):tables});_api_registerPlural("tables().nodes()",
"table().node()",function(){return this.iterator("table",function(ctx){return ctx.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(ctx){return ctx.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(ctx){return ctx.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(ctx){return ctx.nTFoot},1)});
_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(ctx){return ctx.nTableWrapper},1)});_api_register("draw()",function(paging){return this.iterator("table",function(settings){if(paging==="page")_fnDraw(settings);else{if(typeof paging==="string")paging=paging==="full-hold"?false:true;_fnReDraw(settings,paging===false)}})});_api_register("page()",function(action){if(action===undefined)return this.page.info().page;return this.iterator("table",
function(settings){_fnPageChange(settings,action)})});_api_register("page.info()",function(action){if(this.context.length===0)return undefined;var settings=this.context[0],start=settings._iDisplayStart,len=settings.oFeatures.bPaginate?settings._iDisplayLength:-1,visRecords=settings.fnRecordsDisplay(),all=len===-1;return{"page":all?0:Math.floor(start/len),"pages":all?1:Math.ceil(visRecords/len),"start":start,"end":settings.fnDisplayEnd(),"length":len,"recordsTotal":settings.fnRecordsTotal(),"recordsDisplay":visRecords,
"serverSide":_fnDataSource(settings)==="ssp"}});_api_register("page.len()",function(len){if(len===undefined)return this.context.length!==0?this.context[0]._iDisplayLength:undefined;return this.iterator("table",function(settings){_fnLengthChange(settings,len)})});var __reload=function(settings,holdPosition,callback){if(callback){var api=new _Api(settings);api.one("draw",function(){callback(api.ajax.json())})}if(_fnDataSource(settings)=="ssp")_fnReDraw(settings,holdPosition);else{_fnProcessingDisplay(settings,
true);var xhr=settings.jqXHR;if(xhr&&xhr.readyState!==4)xhr.abort();_fnBuildAjax(settings,[],function(json){_fnClearTable(settings);var data=_fnAjaxDataSrc(settings,json);for(var i=0,ien=data.length;i<ien;i++)_fnAddData(settings,data[i]);_fnReDraw(settings,holdPosition);_fnProcessingDisplay(settings,false)})}};_api_register("ajax.json()",function(){var ctx=this.context;if(ctx.length>0)return ctx[0].json});_api_register("ajax.params()",function(){var ctx=this.context;if(ctx.length>0)return ctx[0].oAjaxData});
_api_register("ajax.reload()",function(callback,resetPaging){return this.iterator("table",function(settings){__reload(settings,resetPaging===false,callback)})});_api_register("ajax.url()",function(url){var ctx=this.context;if(url===undefined){if(ctx.length===0)return undefined;ctx=ctx[0];return ctx.ajax?$.isPlainObject(ctx.ajax)?ctx.ajax.url:ctx.ajax:ctx.sAjaxSource}return this.iterator("table",function(settings){if($.isPlainObject(settings.ajax))settings.ajax.url=url;else settings.ajax=url})});_api_register("ajax.url().load()",
function(callback,resetPaging){return this.iterator("table",function(ctx){__reload(ctx,resetPaging===false,callback)})});var _selector_run=function(type,selector,selectFn,settings,opts){var out=[],res,a,i,ien,j,jen,selectorType=typeof selector;if(!selector||selectorType==="string"||selectorType==="function"||selector.length===undefined)selector=[selector];for(i=0,ien=selector.length;i<ien;i++){a=selector[i]&&selector[i].split&&!selector[i].match(/[\[\(:]/)?selector[i].split(","):[selector[i]];for(j=
0,jen=a.length;j<jen;j++){res=selectFn(typeof a[j]==="string"?$.trim(a[j]):a[j]);if(res&&res.length)out=out.concat(res)}}var ext=_ext.selector[type];if(ext.length)for(i=0,ien=ext.length;i<ien;i++)out=ext[i](settings,opts,out);return _unique(out)};var _selector_opts=function(opts){if(!opts)opts={};if(opts.filter&&opts.search===undefined)opts.search=opts.filter;return $.extend({search:"none",order:"current",page:"all"},opts)};var _selector_first=function(inst){for(var i=0,ien=inst.length;i<ien;i++)if(inst[i].length>
0){inst[0]=inst[i];inst[0].length=1;inst.length=1;inst.context=[inst.context[i]];return inst}inst.length=0;return inst};var _selector_row_indexes=function(settings,opts){var i,ien,tmp,a=[],displayFiltered=settings.aiDisplay,displayMaster=settings.aiDisplayMaster;var search=opts.search,order=opts.order,page=opts.page;if(_fnDataSource(settings)=="ssp")return search==="removed"?[]:_range(0,displayMaster.length);else if(page=="current")for(i=settings._iDisplayStart,ien=settings.fnDisplayEnd();i<ien;i++)a.push(displayFiltered[i]);
else if(order=="current"||order=="applied")a=search=="none"?displayMaster.slice():search=="applied"?displayFiltered.slice():$.map(displayMaster,function(el,i){return $.inArray(el,displayFiltered)===-1?el:null});else if(order=="index"||order=="original")for(i=0,ien=settings.aoData.length;i<ien;i++)if(search=="none")a.push(i);else{tmp=$.inArray(i,displayFiltered);if(tmp===-1&&search=="removed"||tmp>=0&&search=="applied")a.push(i)}return a};var __row_selector=function(settings,selector,opts){var rows;
var run=function(sel){var selInt=_intVal(sel);var i,ien;if(selInt!==null&&!opts)return[selInt];if(!rows)rows=_selector_row_indexes(settings,opts);if(selInt!==null&&$.inArray(selInt,rows)!==-1)return[selInt];else if(sel===null||sel===undefined||sel==="")return rows;if(typeof sel==="function")return $.map(rows,function(idx){var row=settings.aoData[idx];return sel(idx,row._aData,row.nTr)?idx:null});var nodes=_removeEmpty(_pluck_order(settings.aoData,rows,"nTr"));if(sel.nodeName)if(sel._DT_RowIndex!==
undefined)return[sel._DT_RowIndex];else if(sel._DT_CellIndex)return[sel._DT_CellIndex.row];else{var host=$(sel).closest("*[data-dt-row]");return host.length?[host.data("dt-row")]:[]}if(typeof sel==="string"&&sel.charAt(0)==="#"){var rowObj=settings.aIds[sel.replace(/^#/,"")];if(rowObj!==undefined)return[rowObj.idx]}return $(nodes).filter(sel).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",selector,run,settings,opts)};_api_register("rows()",function(selector,opts){if(selector===
undefined)selector="";else if($.isPlainObject(selector)){opts=selector;selector=""}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __row_selector(settings,selector,opts)},1);inst.selector.rows=selector;inst.selector.opts=opts;return inst});_api_register("rows().nodes()",function(){return this.iterator("row",function(settings,row){return settings.aoData[row].nTr||undefined},1)});_api_register("rows().data()",function(){return this.iterator(true,"rows",function(settings,
rows){return _pluck_order(settings.aoData,rows,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(type){return this.iterator("row",function(settings,row){var r=settings.aoData[row];return type==="search"?r._aFilterData:r._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(src){return this.iterator("row",function(settings,row){_fnInvalidate(settings,row,src)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",
function(settings,row){return row},1)});_api_registerPlural("rows().ids()","row().id()",function(hash){var a=[];var context=this.context;for(var i=0,ien=context.length;i<ien;i++)for(var j=0,jen=this[i].length;j<jen;j++){var id=context[i].rowIdFn(context[i].aoData[this[i][j]]._aData);a.push((hash===true?"#":"")+id)}return new _Api(context,a)});_api_registerPlural("rows().remove()","row().remove()",function(){var that=this;this.iterator("row",function(settings,row,thatIdx){var data=settings.aoData;
var rowData=data[row];var i,ien,j,jen;var loopRow,loopCells;data.splice(row,1);for(i=0,ien=data.length;i<ien;i++){loopRow=data[i];loopCells=loopRow.anCells;if(loopRow.nTr!==null)loopRow.nTr._DT_RowIndex=i;if(loopCells!==null)for(j=0,jen=loopCells.length;j<jen;j++)loopCells[j]._DT_CellIndex.row=i}_fnDeleteIndex(settings.aiDisplayMaster,row);_fnDeleteIndex(settings.aiDisplay,row);_fnDeleteIndex(that[thatIdx],row,false);_fnLengthOverflow(settings);var id=settings.rowIdFn(rowData._aData);if(id!==undefined)delete settings.aIds[id]});
this.iterator("table",function(settings){for(var i=0,ien=settings.aoData.length;i<ien;i++)settings.aoData[i].idx=i});return this});_api_register("rows.add()",function(rows){var newRows=this.iterator("table",function(settings){var row,i,ien;var out=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];if(row.nodeName&&row.nodeName.toUpperCase()==="TR")out.push(_fnAddTr(settings,row)[0]);else out.push(_fnAddData(settings,row))}return out},1);var modRows=this.rows(-1);modRows.pop();$.merge(modRows,newRows);
return modRows});_api_register("row()",function(selector,opts){return _selector_first(this.rows(selector,opts))});_api_register("row().data()",function(data){var ctx=this.context;if(data===undefined)return ctx.length&&this.length?ctx[0].aoData[this[0]]._aData:undefined;ctx[0].aoData[this[0]]._aData=data;_fnInvalidate(ctx[0],this[0],"data");return this});_api_register("row().node()",function(){var ctx=this.context;return ctx.length&&this.length?ctx[0].aoData[this[0]].nTr||null:null});_api_register("row.add()",
function(row){if(row instanceof $&&row.length)row=row[0];var rows=this.iterator("table",function(settings){if(row.nodeName&&row.nodeName.toUpperCase()==="TR")return _fnAddTr(settings,row)[0];return _fnAddData(settings,row)});return this.row(rows[0])});var __details_add=function(ctx,row,data,klass){var rows=[];var addRow=function(r,k){if($.isArray(r)||r instanceof $){for(var i=0,ien=r.length;i<ien;i++)addRow(r[i],k);return}if(r.nodeName&&r.nodeName.toLowerCase()==="tr")rows.push(r);else{var created=
$("\x3ctr\x3e\x3ctd/\x3e\x3c/tr\x3e").addClass(k);$("td",created).addClass(k).html(r)[0].colSpan=_fnVisbleColumns(ctx);rows.push(created[0])}};addRow(data,klass);if(row._details)row._details.detach();row._details=$(rows);if(row._detailsShow)row._details.insertAfter(row.nTr)};var __details_remove=function(api,idx){var ctx=api.context;if(ctx.length){var row=ctx[0].aoData[idx!==undefined?idx:api[0]];if(row&&row._details){row._details.remove();row._detailsShow=undefined;row._details=undefined}}};var __details_display=
function(api,show){var ctx=api.context;if(ctx.length&&api.length){var row=ctx[0].aoData[api[0]];if(row._details){row._detailsShow=show;if(show)row._details.insertAfter(row.nTr);else row._details.detach();__details_events(ctx[0])}}};var __details_events=function(settings){var api=new _Api(settings);var namespace=".dt.DT_details";var drawEvent="draw"+namespace;var colvisEvent="column-visibility"+namespace;var destroyEvent="destroy"+namespace;var data=settings.aoData;api.off(drawEvent+" "+colvisEvent+
" "+destroyEvent);if(_pluck(data,"_details").length>0){api.on(drawEvent,function(e,ctx){if(settings!==ctx)return;api.rows({page:"current"}).eq(0).each(function(idx){var row=data[idx];if(row._detailsShow)row._details.insertAfter(row.nTr)})});api.on(colvisEvent,function(e,ctx,idx,vis){if(settings!==ctx)return;var row,visible=_fnVisbleColumns(ctx);for(var i=0,ien=data.length;i<ien;i++){row=data[i];if(row._details)row._details.children("td[colspan]").attr("colspan",visible)}});api.on(destroyEvent,function(e,
ctx){if(settings!==ctx)return;for(var i=0,ien=data.length;i<ien;i++)if(data[i]._details)__details_remove(api,i)})}};var _emp="";var _child_obj=_emp+"row().child";var _child_mth=_child_obj+"()";_api_register(_child_mth,function(data,klass){var ctx=this.context;if(data===undefined)return ctx.length&&this.length?ctx[0].aoData[this[0]]._details:undefined;else if(data===true)this.child.show();else if(data===false)__details_remove(this);else if(ctx.length&&this.length)__details_add(ctx[0],ctx[0].aoData[this[0]],
data,klass);return this});_api_register([_child_obj+".show()",_child_mth+".show()"],function(show){__details_display(this,true);return this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){__details_display(this,false);return this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){__details_remove(this);return this});_api_register(_child_obj+".isShown()",function(){var ctx=this.context;if(ctx.length&&this.length)return ctx[0].aoData[this[0]]._detailsShow||
false;return false});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/;var __columnData=function(settings,column,r1,r2,rows){var a=[];for(var row=0,ien=rows.length;row<ien;row++)a.push(_fnGetCellData(settings,rows[row],column));return a};var __column_selector=function(settings,selector,opts){var columns=settings.aoColumns,names=_pluck(columns,"sName"),nodes=_pluck(columns,"nTh");var run=function(s){var selInt=_intVal(s);if(s==="")return _range(columns.length);if(selInt!==null)return[selInt>=
0?selInt:columns.length+selInt];if(typeof s==="function"){var rows=_selector_row_indexes(settings,opts);return $.map(columns,function(col,idx){return s(idx,__columnData(settings,idx,0,0,rows),nodes[idx])?idx:null})}var match=typeof s==="string"?s.match(__re_column_selector):"";if(match)switch(match[2]){case "visIdx":case "visible":var idx=parseInt(match[1],10);if(idx<0){var visColumns=$.map(columns,function(col,i){return col.bVisible?i:null});return[visColumns[visColumns.length+idx]]}return[_fnVisibleToColumnIndex(settings,
idx)];case "name":return $.map(names,function(name,i){return name===match[1]?i:null});default:return[]}if(s.nodeName&&s._DT_CellIndex)return[s._DT_CellIndex.column];var jqResult=$(nodes).filter(s).map(function(){return $.inArray(this,nodes)}).toArray();if(jqResult.length||!s.nodeName)return jqResult;var host=$(s).closest("*[data-dt-column]");return host.length?[host.data("dt-column")]:[]};return _selector_run("column",selector,run,settings,opts)};var __setColumnVis=function(settings,column,vis){var cols=
settings.aoColumns,col=cols[column],data=settings.aoData,row,cells,i,ien,tr;if(vis===undefined)return col.bVisible;if(col.bVisible===vis)return;if(vis){var insertBefore=$.inArray(true,_pluck(cols,"bVisible"),column+1);for(i=0,ien=data.length;i<ien;i++){tr=data[i].nTr;cells=data[i].anCells;if(tr)tr.insertBefore(cells[column],cells[insertBefore]||null)}}else $(_pluck(settings.aoData,"anCells",column)).detach();col.bVisible=vis;_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);
_fnSaveState(settings)};_api_register("columns()",function(selector,opts){if(selector===undefined)selector="";else if($.isPlainObject(selector)){opts=selector;selector=""}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __column_selector(settings,selector,opts)},1);inst.selector.cols=selector;inst.selector.opts=opts;return inst});_api_registerPlural("columns().header()","column().header()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTh},
1)});_api_registerPlural("columns().footer()","column().footer()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].mData},1)});_api_registerPlural("columns().cache()",
"column().cache()",function(type){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,type==="search"?"_aFilterData":"_aSortData",column)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,"anCells",column)},1)});_api_registerPlural("columns().visible()","column().visible()",function(vis,calc){var ret=this.iterator("column",
function(settings,column){if(vis===undefined)return settings.aoColumns[column].bVisible;__setColumnVis(settings,column,vis)});if(vis!==undefined){this.iterator("column",function(settings,column){_fnCallbackFire(settings,null,"column-visibility",[settings,column,vis,calc])});if(calc===undefined||calc)this.columns.adjust()}return ret});_api_registerPlural("columns().indexes()","column().index()",function(type){return this.iterator("column",function(settings,column){return type==="visible"?_fnColumnIndexToVisible(settings,
column):column},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(settings){_fnAdjustColumnSizing(settings)},1)});_api_register("column.index()",function(type,idx){if(this.context.length!==0){var ctx=this.context[0];if(type==="fromVisible"||type==="toData")return _fnVisibleToColumnIndex(ctx,idx);else if(type==="fromData"||type==="toVisible")return _fnColumnIndexToVisible(ctx,idx)}});_api_register("column()",function(selector,opts){return _selector_first(this.columns(selector,
opts))});var __cell_selector=function(settings,selector,opts){var data=settings.aoData;var rows=_selector_row_indexes(settings,opts);var cells=_removeEmpty(_pluck_order(data,rows,"anCells"));var allCells=$([].concat.apply([],cells));var row;var columns=settings.aoColumns.length;var a,i,ien,j,o,host;var run=function(s){var fnSelector=typeof s==="function";if(s===null||s===undefined||fnSelector){a=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];for(j=0;j<columns;j++){o={row:row,column:j};if(fnSelector){host=
data[row];if(s(o,_fnGetCellData(settings,row,j),host.anCells?host.anCells[j]:null))a.push(o)}else a.push(o)}}return a}if($.isPlainObject(s))return[s];var jqResult=allCells.filter(s).map(function(i,el){return{row:el._DT_CellIndex.row,column:el._DT_CellIndex.column}}).toArray();if(jqResult.length||!s.nodeName)return jqResult;host=$(s).closest("*[data-dt-row]");return host.length?[{row:host.data("dt-row"),column:host.data("dt-column")}]:[]};return _selector_run("cell",selector,run,settings,opts)};_api_register("cells()",
function(rowSelector,columnSelector,opts){if($.isPlainObject(rowSelector))if(rowSelector.row===undefined){opts=rowSelector;rowSelector=null}else{opts=columnSelector;columnSelector=null}if($.isPlainObject(columnSelector)){opts=columnSelector;columnSelector=null}if(columnSelector===null||columnSelector===undefined)return this.iterator("table",function(settings){return __cell_selector(settings,rowSelector,_selector_opts(opts))});var columns=this.columns(columnSelector,opts);var rows=this.rows(rowSelector,
opts);var a,i,ien,j,jen;var cells=this.iterator("table",function(settings,idx){a=[];for(i=0,ien=rows[idx].length;i<ien;i++)for(j=0,jen=columns[idx].length;j<jen;j++)a.push({row:rows[idx][i],column:columns[idx][j]});return a},1);$.extend(cells.selector,{cols:columnSelector,rows:rowSelector,opts:opts});return cells});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(settings,row,column){var data=settings.aoData[row];return data&&data.anCells?data.anCells[column]:
undefined},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(type){type=type==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(settings,row,column){return settings.aoData[row][type][column]},1)});_api_registerPlural("cells().render()","cell().render()",function(type){return this.iterator("cell",function(settings,
row,column){return _fnGetCellData(settings,row,column,type)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(settings,row,column){return{row:row,column:column,columnVisible:_fnColumnIndexToVisible(settings,column)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(src){return this.iterator("cell",function(settings,row,column){_fnInvalidate(settings,row,src,column)})});_api_register("cell()",function(rowSelector,
columnSelector,opts){return _selector_first(this.cells(rowSelector,columnSelector,opts))});_api_register("cell().data()",function(data){var ctx=this.context;var cell=this[0];if(data===undefined)return ctx.length&&cell.length?_fnGetCellData(ctx[0],cell[0].row,cell[0].column):undefined;_fnSetCellData(ctx[0],cell[0].row,cell[0].column,data);_fnInvalidate(ctx[0],cell[0].row,"data",cell[0].column);return this});_api_register("order()",function(order,dir){var ctx=this.context;if(order===undefined)return ctx.length!==
0?ctx[0].aaSorting:undefined;if(typeof order==="number")order=[[order,dir]];else if(order.length&&!$.isArray(order[0]))order=Array.prototype.slice.call(arguments);return this.iterator("table",function(settings){settings.aaSorting=order.slice()})});_api_register("order.listener()",function(node,column,callback){return this.iterator("table",function(settings){_fnSortAttachListener(settings,node,column,callback)})});_api_register("order.fixed()",function(set){if(!set){var ctx=this.context;var fixed=
ctx.length?ctx[0].aaSortingFixed:undefined;return $.isArray(fixed)?{pre:fixed}:fixed}return this.iterator("table",function(settings){settings.aaSortingFixed=$.extend(true,{},set)})});_api_register(["columns().order()","column().order()"],function(dir){var that=this;return this.iterator("table",function(settings,i){var sort=[];$.each(that[i],function(j,col){sort.push([col,dir])});settings.aaSorting=sort})});_api_register("search()",function(input,regex,smart,caseInsen){var ctx=this.context;if(input===
undefined)return ctx.length!==0?ctx[0].oPreviousSearch.sSearch:undefined;return this.iterator("table",function(settings){if(!settings.oFeatures.bFilter)return;_fnFilterComplete(settings,$.extend({},settings.oPreviousSearch,{"sSearch":input+"","bRegex":regex===null?false:regex,"bSmart":smart===null?true:smart,"bCaseInsensitive":caseInsen===null?true:caseInsen}),1)})});_api_registerPlural("columns().search()","column().search()",function(input,regex,smart,caseInsen){return this.iterator("column",function(settings,
column){var preSearch=settings.aoPreSearchCols;if(input===undefined)return preSearch[column].sSearch;if(!settings.oFeatures.bFilter)return;$.extend(preSearch[column],{"sSearch":input+"","bRegex":regex===null?false:regex,"bSmart":smart===null?true:smart,"bCaseInsensitive":caseInsen===null?true:caseInsen});_fnFilterComplete(settings,settings.oPreviousSearch,1)})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",
function(settings){settings.fnStateSaveCallback.call(settings.oInstance,settings,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(settings){_fnSaveState(settings)})});DataTable.versionCheck=DataTable.fnVersionCheck=function(version){var aThis=DataTable.version.split(".");var aThat=version.split(".");var iThis,iThat;for(var i=0,iLen=aThat.length;i<iLen;i++){iThis=
parseInt(aThis[i],10)||0;iThat=parseInt(aThat[i],10)||0;if(iThis===iThat)continue;return iThis>iThat}return true};DataTable.isDataTable=DataTable.fnIsDataTable=function(table){var t=$(table).get(0);var is=false;if(table instanceof DataTable.Api)return true;$.each(DataTable.settings,function(i,o){var head=o.nScrollHead?$("table",o.nScrollHead)[0]:null;var foot=o.nScrollFoot?$("table",o.nScrollFoot)[0]:null;if(o.nTable===t||head===t||foot===t)is=true});return is};DataTable.tables=DataTable.fnTables=
function(visible){var api=false;if($.isPlainObject(visible)){api=visible.api;visible=visible.visible}var a=$.map(DataTable.settings,function(o){if(!visible||visible&&$(o.nTable).is(":visible"))return o.nTable});return api?new _Api(a):a};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(selector,opts){var rows=this.rows(opts).nodes(),jqRows=$(rows);return $([].concat(jqRows.filter(selector).toArray(),jqRows.find(selector).toArray()))});$.each(["on","one","off"],function(i,
key){_api_register(key+"()",function(){var args=Array.prototype.slice.call(arguments);args[0]=$.map(args[0].split(/\s/),function(e){return!e.match(/\.dt\b/)?e+".dt":e}).join(" ");var inst=$(this.tables().nodes());inst[key].apply(inst,args);return this})});_api_register("clear()",function(){return this.iterator("table",function(settings){_fnClearTable(settings)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var ctx=this.context;
return ctx.length?ctx[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(settings){return _pluck(settings.aoData,"_aData")}).flatten()});_api_register("destroy()",function(remove){remove=remove||false;return this.iterator("table",function(settings){var orig=settings.nTableWrapper.parentNode;var classes=settings.oClasses;var table=settings.nTable;var tbody=settings.nTBody;var thead=settings.nTHead;var tfoot=settings.nTFoot;var jqTable=$(table);var jqTbody=$(tbody);
var jqWrapper=$(settings.nTableWrapper);var rows=$.map(settings.aoData,function(r){return r.nTr});var i,ien;settings.bDestroying=true;_fnCallbackFire(settings,"aoDestroyCallback","destroy",[settings]);if(!remove)(new _Api(settings)).columns().visible(true);jqWrapper.off(".DT").find(":not(tbody *)").off(".DT");$(window).off(".DT-"+settings.sInstance);if(table!=thead.parentNode){jqTable.children("thead").detach();jqTable.append(thead)}if(tfoot&&table!=tfoot.parentNode){jqTable.children("tfoot").detach();
jqTable.append(tfoot)}settings.aaSorting=[];settings.aaSortingFixed=[];_fnSortingClasses(settings);$(rows).removeClass(settings.asStripeClasses.join(" "));$("th, td",thead).removeClass(classes.sSortable+" "+classes.sSortableAsc+" "+classes.sSortableDesc+" "+classes.sSortableNone);if(settings.bJUI){$("th span."+classes.sSortIcon+", td span."+classes.sSortIcon,thead).detach();$("th, td",thead).each(function(){var wrapper=$("div."+classes.sSortJUIWrapper,this);$(this).append(wrapper.contents());wrapper.detach()})}jqTbody.children().detach();
jqTbody.append(rows);var removedMethod=remove?"remove":"detach";jqTable[removedMethod]();jqWrapper[removedMethod]();if(!remove&&orig){orig.insertBefore(table,settings.nTableReinsertBefore);jqTable.css("width",settings.sDestroyWidth).removeClass(classes.sTable);ien=settings.asDestroyStripes.length;if(ien)jqTbody.children().each(function(i){$(this).addClass(settings.asDestroyStripes[i%ien])})}var idx=$.inArray(settings,DataTable.settings);if(idx!==-1)DataTable.settings.splice(idx,1)})});$.each(["column",
"row","cell"],function(i,type){_api_register(type+"s().every()",function(fn){var opts=this.selector.opts;var api=this;return this.iterator(type,function(settings,arg1,arg2,arg3,arg4){fn.call(api[type](arg1,type==="cell"?arg2:opts,type==="cell"?opts:undefined),arg1,arg2,arg3,arg4)})})});_api_register("i18n()",function(token,def,plural){var ctx=this.context[0];var resolved=_fnGetObjectDataFn(token)(ctx.oLanguage);if(resolved===undefined)resolved=def;if(plural!==undefined&&$.isPlainObject(resolved))resolved=
resolved[plural]!==undefined?resolved[plural]:resolved._;return resolved.replace("%d",plural)});DataTable.version="1.10.13";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={"bCaseInsensitive":true,"sSearch":"","bRegex":false,"bSmart":true};DataTable.models.oRow={"nTr":null,"anCells":null,"_aData":[],"_aSortData":null,"_aFilterData":null,"_sFilterRow":null,"_sRowStripe":"","src":null,"idx":-1};DataTable.models.oColumn={"idx":null,"aDataSort":null,"asSorting":null,"bSearchable":null,
"bSortable":null,"bVisible":null,"_sManualType":null,"_bAttrSrc":false,"fnCreatedCell":null,"fnGetData":null,"fnSetData":null,"mData":null,"mRender":null,"nTh":null,"nTf":null,"sClass":null,"sContentPadding":null,"sDefaultContent":null,"sName":null,"sSortDataType":"std","sSortingClass":null,"sSortingClassJUI":null,"sTitle":null,"sType":null,"sWidth":null,"sWidthOrig":null};DataTable.defaults={"aaData":null,"aaSorting":[[0,"asc"]],"aaSortingFixed":[],"ajax":null,"aLengthMenu":[10,25,50,100],"aoColumns":null,
"aoColumnDefs":null,"aoSearchCols":[],"asStripeClasses":null,"bAutoWidth":true,"bDeferRender":false,"bDestroy":false,"bFilter":true,"bInfo":true,"bJQueryUI":false,"bLengthChange":true,"bPaginate":true,"bProcessing":false,"bRetrieve":false,"bScrollCollapse":false,"bServerSide":false,"bSort":true,"bSortMulti":true,"bSortCellsTop":false,"bSortClasses":true,"bStateSave":false,"fnCreatedRow":null,"fnDrawCallback":null,"fnFooterCallback":null,"fnFormatNumber":function(toFormat){return toFormat.toString().replace(/\B(?=(\d{3})+(?!\d))/g,
this.oLanguage.sThousands)},"fnHeaderCallback":null,"fnInfoCallback":null,"fnInitComplete":null,"fnPreDrawCallback":null,"fnRowCallback":null,"fnServerData":null,"fnServerParams":null,"fnStateLoadCallback":function(settings){try{return JSON.parse((settings.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+settings.sInstance+"_"+location.pathname))}catch(e){}},"fnStateLoadParams":null,"fnStateLoaded":null,"fnStateSaveCallback":function(settings,data){try{(settings.iStateDuration===
-1?sessionStorage:localStorage).setItem("DataTables_"+settings.sInstance+"_"+location.pathname,JSON.stringify(data))}catch(e){}},"fnStateSaveParams":null,"iStateDuration":7200,"iDeferLoading":null,"iDisplayLength":10,"iDisplayStart":0,"iTabIndex":0,"oClasses":{},"oLanguage":{"oAria":{"sSortAscending":": activate to sort column ascending","sSortDescending":": activate to sort column descending"},"oPaginate":{"sFirst":"First","sLast":"Last","sNext":"Next","sPrevious":"Previous"},"sEmptyTable":"No data available in table",
"sInfo":"Showing _START_ to _END_ of _TOTAL_ entries","sInfoEmpty":"Showing 0 to 0 of 0 entries","sInfoFiltered":"(filtered from _MAX_ total entries)","sInfoPostFix":"","sDecimal":"","sThousands":",","sLengthMenu":"Show _MENU_ entries","sLoadingRecords":"Loading...","sProcessing":"Processing...","sSearch":"Search:","sSearchPlaceholder":"","sUrl":"","sZeroRecords":"No matching records found"},"oSearch":$.extend({},DataTable.models.oSearch),"sAjaxDataProp":"data","sAjaxSource":null,"sDom":"lfrtip",
"searchDelay":null,"sPaginationType":"simple_numbers","sScrollX":"","sScrollXInner":"","sScrollY":"","sServerMethod":"GET","renderer":null,"rowId":"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={"aDataSort":null,"iDataSort":-1,"asSorting":["asc","desc"],"bSearchable":true,"bSortable":true,"bVisible":true,"fnCreatedCell":null,"mData":null,"mRender":null,"sCellType":"td","sClass":"","sContentPadding":"","sDefaultContent":null,"sName":"","sSortDataType":"std","sTitle":null,
"sType":null,"sWidth":null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={"oFeatures":{"bAutoWidth":null,"bDeferRender":null,"bFilter":null,"bInfo":null,"bLengthChange":null,"bPaginate":null,"bProcessing":null,"bServerSide":null,"bSort":null,"bSortMulti":null,"bSortClasses":null,"bStateSave":null},"oScroll":{"bCollapse":null,"iBarWidth":0,"sX":null,"sXInner":null,"sY":null},"oLanguage":{"fnInfoCallback":null},"oBrowser":{"bScrollOversize":false,"bScrollbarLeft":false,"bBounding":false,
"barWidth":0},"ajax":null,"aanFeatures":[],"aoData":[],"aiDisplay":[],"aiDisplayMaster":[],"aIds":{},"aoColumns":[],"aoHeader":[],"aoFooter":[],"oPreviousSearch":{},"aoPreSearchCols":[],"aaSorting":null,"aaSortingFixed":[],"asStripeClasses":null,"asDestroyStripes":[],"sDestroyWidth":0,"aoRowCallback":[],"aoHeaderCallback":[],"aoFooterCallback":[],"aoDrawCallback":[],"aoRowCreatedCallback":[],"aoPreDrawCallback":[],"aoInitComplete":[],"aoStateSaveParams":[],"aoStateLoadParams":[],"aoStateLoaded":[],
"sTableId":"","nTable":null,"nTHead":null,"nTFoot":null,"nTBody":null,"nTableWrapper":null,"bDeferLoading":false,"bInitialised":false,"aoOpenRows":[],"sDom":null,"searchDelay":null,"sPaginationType":"two_button","iStateDuration":0,"aoStateSave":[],"aoStateLoad":[],"oSavedState":null,"oLoadedState":null,"sAjaxSource":null,"sAjaxDataProp":null,"bAjaxDataGet":true,"jqXHR":null,"json":undefined,"oAjaxData":undefined,"fnServerData":null,"aoServerParams":[],"sServerMethod":null,"fnFormatNumber":null,"aLengthMenu":null,
"iDraw":0,"bDrawing":false,"iDrawError":-1,"_iDisplayLength":10,"_iDisplayStart":0,"_iRecordsTotal":0,"_iRecordsDisplay":0,"bJUI":null,"oClasses":{},"bFiltered":false,"bSorted":false,"bSortCellsTop":null,"oInit":null,"aoDestroyCallback":[],"fnRecordsTotal":function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},"fnRecordsDisplay":function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},"fnDisplayEnd":function(){var len=this._iDisplayLength,
start=this._iDisplayStart,calc=start+len,records=this.aiDisplay.length,features=this.oFeatures,paginate=features.bPaginate;if(features.bServerSide)return paginate===false||len===-1?start+records:Math.min(start+len,this._iRecordsDisplay);else return!paginate||calc>records||len===-1?records:calc},"oInstance":null,"sInstance":null,"iTabIndex":0,"nScrollHead":null,"nScrollFoot":null,"aLastSort":[],"oPlugins":{},"rowIdFn":null,"rowId":null};DataTable.ext=_ext={buttons:{},classes:{},builder:"-source-",
errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,
oPagination:_ext.pager});$.extend(DataTable.ext.classes,{"sTable":"dataTable","sNoFooter":"no-footer","sPageButton":"paginate_button","sPageButtonActive":"current","sPageButtonDisabled":"disabled","sStripeOdd":"odd","sStripeEven":"even","sRowEmpty":"dataTables_empty","sWrapper":"dataTables_wrapper","sFilter":"dataTables_filter","sInfo":"dataTables_info","sPaging":"dataTables_paginate paging_","sLength":"dataTables_length","sProcessing":"dataTables_processing","sSortAsc":"sorting_asc","sSortDesc":"sorting_desc",
"sSortable":"sorting","sSortableAsc":"sorting_asc_disabled","sSortableDesc":"sorting_desc_disabled","sSortableNone":"sorting_disabled","sSortColumn":"sorting_","sFilterInput":"","sLengthSelect":"","sScrollWrapper":"dataTables_scroll","sScrollHead":"dataTables_scrollHead","sScrollHeadInner":"dataTables_scrollHeadInner","sScrollBody":"dataTables_scrollBody","sScrollFoot":"dataTables_scrollFoot","sScrollFootInner":"dataTables_scrollFootInner","sHeaderTH":"","sFooterTH":"","sSortJUIAsc":"","sSortJUIDesc":"",
"sSortJUI":"","sSortJUIAscAllowed":"","sSortJUIDescAllowed":"","sSortJUIWrapper":"","sSortIcon":"","sJUIHeader":"","sJUIFooter":""});(function(){var _empty="";_empty="";var _stateDefault=_empty+"ui-state-default";var _sortIcon=_empty+"css_right ui-icon ui-icon-";var _headerFooter=_empty+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";$.extend(DataTable.ext.oJUIClasses,DataTable.ext.classes,{"sPageButton":"fg-button ui-button "+_stateDefault,"sPageButtonActive":"ui-state-disabled","sPageButtonDisabled":"ui-state-disabled",
"sPaging":"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+"ui-buttonset-multi paging_","sSortAsc":_stateDefault+" sorting_asc","sSortDesc":_stateDefault+" sorting_desc","sSortable":_stateDefault+" sorting","sSortableAsc":_stateDefault+" sorting_asc_disabled","sSortableDesc":_stateDefault+" sorting_desc_disabled","sSortableNone":_stateDefault+" sorting_disabled","sSortJUIAsc":_sortIcon+"triangle-1-n","sSortJUIDesc":_sortIcon+"triangle-1-s","sSortJUI":_sortIcon+"carat-2-n-s","sSortJUIAscAllowed":_sortIcon+
"carat-1-n","sSortJUIDescAllowed":_sortIcon+"carat-1-s","sSortJUIWrapper":"DataTables_sort_wrapper","sSortIcon":"DataTables_sort_icon","sScrollHead":"dataTables_scrollHead "+_stateDefault,"sScrollFoot":"dataTables_scrollFoot "+_stateDefault,"sHeaderTH":_stateDefault,"sFooterTH":_stateDefault,"sJUIHeader":_headerFooter+" ui-corner-tl ui-corner-tr","sJUIFooter":_headerFooter+" ui-corner-bl ui-corner-br"})})();var extPagination=DataTable.ext.pager;function _numbers(page,pages){var numbers=[],buttons=
extPagination.numbers_length,half=Math.floor(buttons/2),i=1;if(pages<=buttons)numbers=_range(0,pages);else if(page<=half){numbers=_range(0,buttons-2);numbers.push("ellipsis");numbers.push(pages-1)}else if(page>=pages-1-half){numbers=_range(pages-(buttons-2),pages);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}else{numbers=_range(page-half+2,page+half-1);numbers.push("ellipsis");numbers.push(pages-1);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}numbers.DT_el="span";return numbers}$.extend(extPagination,
{simple:function(page,pages){return["previous","next"]},full:function(page,pages){return["first","previous","next","last"]},numbers:function(page,pages){return[_numbers(page,pages)]},simple_numbers:function(page,pages){return["previous",_numbers(page,pages),"next"]},full_numbers:function(page,pages){return["first","previous",_numbers(page,pages),"next","last"]},first_last_numbers:function(page,pages){return["first",_numbers(page,pages),"last"]},_numbers:_numbers,numbers_length:7});$.extend(true,DataTable.ext.renderer,
{pageButton:{_:function(settings,host,idx,buttons,page,pages){var classes=settings.oClasses;var lang=settings.oLanguage.oPaginate;var aria=settings.oLanguage.oAria.paginate||{};var btnDisplay,btnClass,counter=0;var attach=function(container,buttons){var i,ien,node,button;var clickHandler=function(e){_fnPageChange(settings,e.data.action,true)};for(i=0,ien=buttons.length;i<ien;i++){button=buttons[i];if($.isArray(button)){var inner=$("\x3c"+(button.DT_el||"div")+"/\x3e").appendTo(container);attach(inner,
button)}else{btnDisplay=null;btnClass="";switch(button){case "ellipsis":container.append('\x3cspan class\x3d"ellipsis"\x3e\x26#x2026;\x3c/span\x3e');break;case "first":btnDisplay=lang.sFirst;btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case "previous":btnDisplay=lang.sPrevious;btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case "next":btnDisplay=lang.sNext;btnClass=button+(page<pages-1?"":" "+classes.sPageButtonDisabled);break;case "last":btnDisplay=lang.sLast;
btnClass=button+(page<pages-1?"":" "+classes.sPageButtonDisabled);break;default:btnDisplay=button+1;btnClass=page===button?classes.sPageButtonActive:"";break}if(btnDisplay!==null){node=$("\x3ca\x3e",{"class":classes.sPageButton+" "+btnClass,"aria-controls":settings.sTableId,"aria-label":aria[button],"data-dt-idx":counter,"tabindex":settings.iTabIndex,"id":idx===0&&typeof button==="string"?settings.sTableId+"_"+button:null}).html(btnDisplay).appendTo(container);_fnBindAction(node,{action:button},clickHandler);
counter++}}}};var activeEl;try{activeEl=$(host).find(document.activeElement).data("dt-idx")}catch(e){}attach($(host).empty(),buttons);if(activeEl!==undefined)$(host).find("[data-dt-idx\x3d"+activeEl+"]").focus()}}});$.extend(DataTable.ext.type.detect,[function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal)?"num"+decimal:null},function(d,settings){if(d&&!(d instanceof Date)&&!_re_date.test(d))return null;var parsed=Date.parse(d);return parsed!==null&&!isNaN(parsed)||
_empty(d)?"date":null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal,true)?"num-fmt"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal)?"html-num"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal,true)?"html-num-fmt"+decimal:null},function(d,settings){return _empty(d)||typeof d==="string"&&d.indexOf("\x3c")!==-1?"html":null}]);$.extend(DataTable.ext.type.search,
{html:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," "):data}});var __numericReplace=function(d,decimalPlace,re1,re2){if(d!==0&&(!d||d==="-"))return-Infinity;if(decimalPlace)d=_numToDecimal(d,decimalPlace);if(d.replace){if(re1)d=d.replace(re1,"");if(re2)d=d.replace(re2,"")}return d*1};function _addNumericSort(decimalPlace){$.each({"num":function(d){return __numericReplace(d,
decimalPlace)},"num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_formatted_numeric)},"html-num":function(d){return __numericReplace(d,decimalPlace,_re_html)},"html-num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_html,_re_formatted_numeric)}},function(key,fn){_ext.type.order[key+decimalPlace+"-pre"]=fn;if(key.match(/^html\-/))_ext.type.search[key+decimalPlace]=_ext.type.search.html})}$.extend(_ext.type.order,{"date-pre":function(d){return Date.parse(d)||-Infinity},"html-pre":function(a){return _empty(a)?
"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return _empty(a)?"":typeof a==="string"?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(x,y){return x<y?-1:x>y?1:0},"string-desc":function(x,y){return x<y?1:x>y?-1:0}});_addNumericSort("");$.extend(true,DataTable.ext.renderer,{header:{_:function(settings,cell,column,classes){$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx)return;var colIdx=column.idx;cell.removeClass(column.sSortingClass+
" "+classes.sSortAsc+" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass)})},jqueryui:function(settings,cell,column,classes){$("\x3cdiv/\x3e").addClass(classes.sSortJUIWrapper).append(cell.contents()).append($("\x3cspan/\x3e").addClass(classes.sSortIcon+" "+column.sSortingClassJUI)).appendTo(cell);$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx)return;var colIdx=column.idx;cell.removeClass(classes.sSortAsc+
" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass);cell.find("span."+classes.sSortIcon).removeClass(classes.sSortJUIAsc+" "+classes.sSortJUIDesc+" "+classes.sSortJUI+" "+classes.sSortJUIAscAllowed+" "+classes.sSortJUIDescAllowed).addClass(columns[colIdx]=="asc"?classes.sSortJUIAsc:columns[colIdx]=="desc"?classes.sSortJUIDesc:column.sSortingClassJUI)})}}});var __htmlEscapeEntities=function(d){return typeof d==="string"?
d.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;"):d};DataTable.render={number:function(thousands,decimal,precision,prefix,postfix){return{display:function(d){if(typeof d!=="number"&&typeof d!=="string")return d;var negative=d<0?"-":"";var flo=parseFloat(d);if(isNaN(flo))return __htmlEscapeEntities(d);flo=flo.toFixed(precision);d=Math.abs(flo);var intPart=parseInt(d,10);var floatPart=precision?decimal+(d-intPart).toFixed(precision).substring(2):"";return negative+(prefix||
"")+intPart.toString().replace(/\B(?=(\d{3})+(?!\d))/g,thousands)+floatPart+(postfix||"")}}},text:function(){return{display:__htmlEscapeEntities}}};function _fnExternApiFunc(fn){return function(){var args=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[fn].apply(this,args)}}$.extend(DataTable.ext.internal,{_fnExternApiFunc:_fnExternApiFunc,_fnBuildAjax:_fnBuildAjax,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,
_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnAjaxDataSrc:_fnAjaxDataSrc,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnVisbleColumns:_fnVisbleColumns,_fnGetColumns:_fnGetColumns,_fnColumnTypes:_fnColumnTypes,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnHungarianMap:_fnHungarianMap,_fnCamelToHungarian:_fnCamelToHungarian,_fnLanguageCompat:_fnLanguageCompat,
_fnBrowserDetect:_fnBrowserDetect,_fnAddData:_fnAddData,_fnAddTr:_fnAddTr,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnSplitObjNotation:_fnSplitObjNotation,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnGetDataMaster:_fnGetDataMaster,_fnClearTable:_fnClearTable,_fnDeleteIndex:_fnDeleteIndex,_fnInvalidate:_fnInvalidate,_fnGetRowElements:_fnGetRowElements,_fnCreateTr:_fnCreateTr,
_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnEscapeRegex:_fnEscapeRegex,_fnFilterData:_fnFilterData,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,
_fnInfoMacros:_fnInfoMacros,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLengthChange:_fnLengthChange,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnApplyToChildren:_fnApplyToChildren,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnThrottle:_fnThrottle,
_fnConvertToWidth:_fnConvertToWidth,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnSortFlatten:_fnSortFlatten,_fnSort:_fnSort,_fnSortAria:_fnSortAria,_fnSortListener:_fnSortListener,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnSortData:_fnSortData,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnSettingsFromNode:_fnSettingsFromNode,_fnLog:_fnLog,_fnMap:_fnMap,_fnBindAction:_fnBindAction,_fnCallbackReg:_fnCallbackReg,
_fnCallbackFire:_fnCallbackFire,_fnLengthOverflow:_fnLengthOverflow,_fnRenderer:_fnRenderer,_fnDataSource:_fnDataSource,_fnRowAttributes:_fnRowAttributes,_fnCalculateEnd:function(){}});$.fn.dataTable=DataTable;DataTable.$=$;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext;$.fn.DataTable=function(opts){return $(this).dataTable(opts).api()};$.each(DataTable,function(prop,val){$.fn.DataTable[prop]=val});return $.fn.dataTable});
$(document).ready(function(){var tabTypeColumn=new Array;var tabUniteColumn=new Array;var tabGestionColumn=new Array;var columnClassName=[".TableSortItem-cell--percent",".TableSortItem-cell--taxable",".TableSortItem-cell--limit"];var columnTableHeadClassName=[".TableSortHead-cell--percent",".TableSortHead-cell--taxable",".TableSortHead-cell--limit"];var offre="div.js-c109 table tr.TableSortItem--click";var $offre=$(offre);var tableComponent="div.js-c109 table";var $tableComponent=$(tableComponent);
for(var i=0;i<columnTableHeadClassName.length;i++){var headCell=$tableComponent.find(columnTableHeadClassName[i]);var $headCell=$(headCell);var $gestion=$headCell.find("span.critere-gestion").text();var $unite=$headCell.find("span.critere-unite").text();var $type=$headCell.find("span.critere-type").text();tabTypeColumn[i]=new Array($type,1+i);tabUniteColumn[i]=$unite;tabGestionColumn[i]=$gestion;$(headCell).find(".TableSortHead-orderItem--asc").click(function(){table.column($(this).closest("th.TableSortHead-cell").index()).order("asc").draw()});
$(headCell).find(".TableSortHead-orderItem--desc").click(function(){table.column($(this).closest("th.TableSortHead-cell").index()).order("desc").draw()})}if(tabTypeColumn[0]!=null&&tabTypeColumn[1]!=null&&tabTypeColumn[2]!=null)var table=$tableComponent.DataTable({"columnDefs":[{"orderable":false,"targets":0},{"type":tabTypeColumn[0][0],"targets":tabTypeColumn[0][1]},{"type":tabTypeColumn[1][0],"targets":tabTypeColumn[1][1]},{"type":tabTypeColumn[2][0],"targets":tabTypeColumn[2][1]},{"orderable":false,
"targets":4}],"bFilter":false,"bInfo":false,"order":[],"bPaginate":false,"bLengthChange":false});$tableComponent.find("th").off();$offre.on("click",function(){window.location.href=$(this).attr("href")});for(var i=0;i<columnClassName.length;i++)$(columnClassName[i]).each(function(){var $unite=tabUniteColumn[i];if($unite!==""){var $p=$(this).find("p");if(!isNaN($p.text().replace(/[ ,]/g,""))||tabTypeColumn[i][0]=="string")$p.text($p.text()+" "+$unite)}});$.extend(jQuery.fn.dataTableExt.oSort,{"numerique-asc":function(a,
b){var $indexColumn;var $action=$(a).text().replace(/[- ,]/g,"");var $action2=$(b).text().replace(/[ ,]/g,"");if($(a).length!=0)$indexColumn=$(a).attr("class").split("js-c109-column-")[1].charAt(0)-1;else $indexColumn=$(b).attr("class").split("js-c109-column-")[1].charAt(0)-1;var $regleGestion=tabGestionColumn[$indexColumn];if(isNaN($action))if($regleGestion=="max")$action=9999999999;else if($regleGestion=="bas")$action=9999999999;else $action=-9999999999;if(isNaN($action2))if($regleGestion=="max")$action2=
9999999999;else if($regleGestion=="bas")$action2=9999999999;else $action2=-9999999999;return $action-$action2},"numerique-desc":function(a,b){var $indexColumn;var $action=$(a).text().replace(/[- ,]/g,"");var $action2=$(b).text().replace(/[ ,]/g,"");if($(a).length!=0)$indexColumn=$(a).attr("class").split("js-c109-column-")[1].charAt(0)-1;else $indexColumn=$(b).attr("class").split("js-c109-column-")[1].charAt(0)-1;var $regleGestion=tabGestionColumn[$indexColumn];if(isNaN($action))if($regleGestion==
"max")$action=9999999999;else if($regleGestion=="haut")$action=9999999999;else $action=-9999999999;if(isNaN($action2))if($regleGestion=="max")$action2=9999999999;else if($regleGestion=="haut")$action2=9999999999;else $action2=-9999999999;return $action2-$action}});$("th").each(function(){if($(this).attr("tabindex"))$(this).attr("tabindex","-1")});$(".TableSortHead-orderItem").bind("keypress",function(e){if(e.which==13)$(e.target).click()});$(".TableSortHead-orderItem--asc").on("click",function(){$("th *").removeAttr("aria-sort");
$(this).parent().parent().attr("aria-sort","ascending");$("a.TableSortHead-orderItem").removeAttr("aria-current");$(this).attr("aria-current","true")});$(".TableSortHead-orderItem--desc").on("click",function(){$("th *").removeAttr("aria-sort");$(this).parent().parent().attr("aria-sort","descending");$("a.TableSortHead-orderItem").removeAttr("aria-current");$(this).attr("aria-current","true")})});
(function($){var DATA_KEY="npcCheckList";var STORAGE_KEY_PREFIX="npcCheckList";var CHECK_BOX_SELECTOR=".CheckList-step";var CHECK_INDEX_ATTR="data-index";var CHECKED_TAG="CheckList-step--active";var CLICK_SELECTOR=".CheckList-stepToggle";var CheckList=function(jQueryEl){var me={};me.id=undefined;me.jQueryEl=jQueryEl;me.selectedIndex="";var _loadStoredData=function(instance){me.selectedIndex=sessionStorage.getItem(STORAGE_KEY_PREFIX+instance.id)||""};var _setMaxHeight=function($checklist){var $steps=
$checklist.find(".CheckList-step");var $viewport=$checklist.find(".CheckList-viewport");var itemsViewed=3;var currentIndex=0;var currentHeight=0;var maxIndex=$steps.length-itemsViewed;var allHeights=[];var maxHeight=0;var $steps=$checklist.find(".CheckList-step");$steps.each(function(){allHeights.push($(this).outerHeight())});for(var i=2;i<allHeights.length;i++)maxHeight=Math.max(maxHeight,allHeights[i]+allHeights[i-1]+allHeights[i-2]);$viewport.height(maxHeight);if(currentHeight!==maxHeight)$.fn.matchHeight._update(false);
currentHeight=maxHeight};var _extractTitle=function(jqueryEl){$el=jqueryEl[0];if($el)return $el.firstElementChild.innerHTML;return""};function _hashFnv32a(str){var h=0,l=str.length,i=0;if(l>0)while(i<l)h=(h<<5)-h+str.charCodeAt(i++)|0;return h}var _getId=function(jqueryEl){var locationAndXPath=window.location.href+"_"+_extractTitle(jqueryEl);return _hashFnv32a(locationAndXPath)};me.initListener=function(){var obj={me:this};this.jQueryEl.off("click",CLICK_SELECTOR);this.jQueryEl.on("click",CLICK_SELECTOR,
function(e){e.preventDefault();var $item=$(this).closest(".CheckList-step");$item.toggleClass("CheckList-step--active");_setMaxHeight(obj.me.jQueryEl);var index=$item.attr(CHECK_INDEX_ATTR);if($item.hasClass("CheckList-step--active"))obj.me.selectedIndex+=";"+index;else obj.me.selectedIndex=obj.me.selectedIndex.replace(index,"").replace(";;",";");sessionStorage.setItem(STORAGE_KEY_PREFIX+obj.me.id,obj.me.selectedIndex)})};me.updateCheckBoxes=function(){_loadStoredData(this);if(this.selectedIndex){var indexesChecked=
this.selectedIndex.split(";");var checkboxes=this.jQueryEl.find(CHECK_BOX_SELECTOR);checkboxes.each(function(checkbox){$el=$(this);var index=$el.attr(CHECK_INDEX_ATTR);if(index!=""&&indexesChecked.indexOf(index)>-1){$el.removeClass(CHECKED_TAG);$el.addClass(CHECKED_TAG)}})}};me.initChecklistPaggination=function(){var $checklist=this.jQueryEl;var $steps=$checklist.find(".CheckList-step");var $viewport=$checklist.find(".CheckList-viewport");var itemsViewed=3;var currentIndex=0;var currentHeight=0;var maxIndex=
$steps.length-itemsViewed;var setSteps=function(index){var currentHeight=0;var currentScroll=0;if(index>maxIndex)index=maxIndex;else if(index<0)index=0;$checklist.find(".CheckList-footerLink--up").toggleClass("CheckList-footerLink--disabled",index===0);$checklist.find(".CheckList-footerLink--down").toggleClass("CheckList-footerLink--disabled",index===maxIndex);$steps.each(function(i){var $step=$(this);if(i>=index&&i<index+itemsViewed){currentHeight+=$step.outerHeight();$step.removeClass("CheckList-step--disabled")}else{if(i<
index)currentScroll+=$step.outerHeight();$step.addClass("CheckList-step--disabled")}});$viewport.animate({scrollTop:currentScroll});currentIndex=index;return true};$checklist.off("click.CheckList.down",".CheckList-footerLink--down").on("click.CheckList.down",".CheckList-footerLink--down",function(e){e.preventDefault();setSteps(currentIndex+1)}).off("click.CheckList.up",".CheckList-footerLink--up").on("click.CheckList.up",".CheckList-footerLink--up",function(e){e.preventDefault();setSteps(currentIndex-
1)});$(window).off("debounced-resize.CheckList").on("debounced-resize.CheckList",function(){_setMaxHeight(this.jQueryEl);setSteps(currentIndex)});setSteps(currentIndex);$checklist.addClass("CheckList--init");_setMaxHeight(this.jQueryEl)};me.id=_getId(jQueryEl);return me};var initAllCheckLists=function(options){for(var i=0;i<this.length;i++){var currentElement=$(this[i]);var currentInstance=$.data(currentElement,DATA_KEY);if(!currentInstance){currentInstance=new CheckList(currentElement);$.data(currentElement,
DATA_KEY,currentInstance)}currentInstance.updateCheckBoxes();currentInstance.initListener();currentInstance.initChecklistPaggination()}return this};$.fn.iniChecklist=function(options){return initAllCheckLists.call(this,options)};$(document).ready(function(){$("[data-npc-checklist]").iniChecklist({})})})(jQuery);
(function(document,$){var target=document.querySelectorAll(".CheckList-step");for(var i=0;i<target.length;i++){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.target.classList.contains("CheckList-step--active"))$(mutation.target).find("a:first").attr("aria-checked","true");else $(mutation.target).find("a:first").attr("aria-checked","false")})});var config={attributes:true};observer.observe(target[i],config)}})(document,Granite.$);
(function(document,$,ns){$(document).on("dialog-ready",function(){var $activation1=$('coral-checkbox[name\x3d"./activation1"]');var $activation2=$('coral-checkbox[name\x3d"./activation2"]');var $activation3=$('coral-checkbox[name\x3d"./activation3"]');var $activation4=$('coral-checkbox[name\x3d"./activation4"]');var $activation5=$('coral-checkbox[name\x3d"./activation5"]');var $rte1=$('.coral-RichText[name\x3d"./description1"]');var $rte2=$('.coral-RichText[name\x3d"./description2"]');var $rte3=$('.coral-RichText[name\x3d"./description3"]');
var $rte4=$('.coral-RichText[name\x3d"./description4"]');var $rte5=$('.coral-RichText[name\x3d"./description5"]');var fieldsRte={1:$rte1,2:$rte2,3:$rte3,4:$rte4,5:$rte5};var $tab1=$("coral-tab-label:contains('Ecran 1')").parent();var $tab2=$("coral-tab-label:contains('Ecran 2')").parent();var $tab3=$("coral-tab-label:contains('Ecran 3')").parent();var $tab4=$("coral-tab-label:contains('Ecran 4')").parent();var $tab5=$("coral-tab-label:contains('Ecran 5')").parent();traiterInfoRetourLienbouton($activation1,
$('foundation-autocomplete[name\x3d"./lienbouton1"]'));traiterInfoRetourLienbouton($activation2,$('foundation-autocomplete[name\x3d"./lienbouton2"]'));traiterInfoRetourLienbouton($activation3,$('foundation-autocomplete[name\x3d"./lienbouton3"]'));traiterInfoRetourLienbouton($activation4,$('foundation-autocomplete[name\x3d"./lienbouton4"]'));traiterInfoRetourLienbouton($activation5,$('foundation-autocomplete[name\x3d"./lienbouton5"]'));traiterInfoRetourRte($activation1,$rte1,$('div[name\x3d"./description1"]'));
traiterInfoRetourRte($activation2,$rte2,$('div[name\x3d"./description2"]'));traiterInfoRetourRte($activation3,$rte3,$('div[name\x3d"./description3"]'));traiterInfoRetourRte($activation4,$rte4,$('div[name\x3d"./description4"]'));traiterInfoRetourRte($activation5,$rte5,$('div[name\x3d"./description5"]'));$.each(fieldsRte,function(key,value){value.on("change",function(e){switch(key){case "1":traiterInfoRetourRte($activation1,value,$('div[name\x3d"./description1"]'));break;case "2":traiterInfoRetourRte($activation2,
value,$('div[name\x3d"./description2"]'));break;case "3":traiterInfoRetourRte($activation3,value,$('div[name\x3d"./description3"]'));break;case "4":traiterInfoRetourRte($activation4,value,$('div[name\x3d"./description4"]'));break;case "5":traiterInfoRetourRte($activation5,value,$('div[name\x3d"./description5"]'));break}})});var fields={1:$activation1,2:$activation2,3:$activation3,4:$activation4,5:$activation5};$.each(fields,function(key,value){value.on("change",function(e){switch(key){case "1":traiterInfoRetourLienbouton(value,
$('foundation-autocomplete[name\x3d"./lienbouton1"]'));traiterInfoRetourRte(value,$rte1,$('div[name\x3d"./description1"]'));break;case "2":traiterInfoRetourLienbouton(value,$('foundation-autocomplete[name\x3d"./lienbouton2"]'));traiterInfoRetourRte(value,$rte2,$('div[name\x3d"./description2"]'));break;case "3":traiterInfoRetourLienbouton(value,$('foundation-autocomplete[name\x3d"./lienbouton3"]'));traiterInfoRetourRte(value,$rte3,$('div[name\x3d"./description3"]'));break;case "4":traiterInfoRetourLienbouton(value,
$('foundation-autocomplete[name\x3d"./lienbouton4"]'));traiterInfoRetourRte(value,$rte4,$('div[name\x3d"./description4"]'));break;case "5":traiterInfoRetourLienbouton(value,$('foundation-autocomplete[name\x3d"./lienbouton5"]'));traiterInfoRetourRte(value,$rte5,$('div[name\x3d"./description5"]'));break}})});$(".cq-dialog-submit").on("click",function(e){var isErrorLienbouton1=traiterInfoRetourLienbouton($activation1,$('foundation-autocomplete[name\x3d"./lienbouton1"]'));var isErrorLienbouton2=traiterInfoRetourLienbouton($activation2,
$('foundation-autocomplete[name\x3d"./lienbouton2"]'));var isErrorLienbouton3=traiterInfoRetourLienbouton($activation3,$('foundation-autocomplete[name\x3d"./lienbouton3"]'));var isErrorLienbouton4=traiterInfoRetourLienbouton($activation4,$('foundation-autocomplete[name\x3d"./lienbouton4"]'));var isErrorLienbouton5=traiterInfoRetourLienbouton($activation5,$('foundation-autocomplete[name\x3d"./lienbouton5"]'));var isErrorRte1=traiterInfoRetourRte($activation1,$rte1,$('div[name\x3d"./description1"]'));
var isErrorRte2=traiterInfoRetourRte($activation2,$rte2,$('div[name\x3d"./description2"]'));var isErrorRte3=traiterInfoRetourRte($activation3,$rte3,$('div[name\x3d"./description3"]'));var isErrorRte4=traiterInfoRetourRte($activation4,$rte4,$('div[name\x3d"./description4"]'));var isErrorRte5=traiterInfoRetourRte($activation5,$rte5,$('div[name\x3d"./description5"]'));traiterInfoRetourTab($tab1,isErrorLienbouton1,isErrorRte1);traiterInfoRetourTab($tab2,isErrorLienbouton2,isErrorRte2);traiterInfoRetourTab($tab3,
isErrorLienbouton3,isErrorRte3);traiterInfoRetourTab($tab4,isErrorLienbouton4,isErrorRte4);traiterInfoRetourTab($tab5,isErrorLienbouton5,isErrorRte5)});function traiterInfoRetourTab(value,isErrorLienbouton,isErrorRte){if(!isErrorLienbouton||!isErrorRte){value.removeAttr("aria-invalid");value.removeAttr("invalid")}else{value.attr("aria-required",true);value.attr("aria-invalid",true).toggleClass("is-invalid",true)}}function traiterInfoRetourLienbouton(value,elem){if(value.attr("checked")){elem.attr("required",
true);return true}else{elem.removeAttr("required");elem.removeAttr("aria-invalid");elem.removeAttr("aria-required");elem.removeAttr("invalid")}return false}function traiterInfoRetourRte(value,elem,elem1){if(value.attr("checked")&&elem.text()==""){elem1.attr("aria-required",true);elem1.attr("aria-invalid",true).toggleClass("is-invalid",true);return true}else{elem1.removeAttr("aria-invalid");elem1.removeAttr("aria-required");elem1.removeAttr("invalid")}return false}})})(document,Granite.$,Granite.author);
(function(document,$,ns){$(document).on("dialog-ready",function(){var $activation2=$('coral-checkbox[name\x3d"./activation2"]');var $activation3=$('coral-checkbox[name\x3d"./activation3"]');traiterInfoRetourComposant($activation2,$('input[name\x3d"./textbouton2"]'));traiterInfoRetourComposant($activation3,$('input[name\x3d"./textbouton3"]'));traiterInfoRetourComposant($activation2,$('foundation-autocomplete[name\x3d"./lienbouton2"]'));traiterInfoRetourComposant($activation3,$('foundation-autocomplete[name\x3d"./lienbouton3"]'));
var fields={2:$activation2,3:$activation3};$.each(fields,function(key,value){value.on("change",function(e){switch(key){case "1":break;case "2":traiterInfoRetourComposant(value,$('input[name\x3d"./textbouton2"]'));traiterInfoRetourComposant(value,$('foundation-autocomplete[name\x3d"./lienbouton2"]'));break;case "3":traiterInfoRetourComposant(value,$('input[name\x3d"./textbouton3"]'));traiterInfoRetourComposant(value,$('foundation-autocomplete[name\x3d"./lienbouton3"]'));break}})});$(".cq-dialog-submit").on("click",
function(e){traiterInfoRetourComposant($activation2,$('input[name\x3d"./textbouton2"]'));traiterInfoRetourComposant($activation3,$('input[name\x3d"./textbouton3"]'));traiterInfoRetourComposant($activation2,$('foundation-autocomplete[name\x3d"./lienbouton2"]'));traiterInfoRetourComposant($activation3,$('foundation-autocomplete[name\x3d"./lienbouton3"]'))});function traiterInfoRetourComposant(value,elem){if(value.attr("checked")){elem.attr("required",true);return true}else{elem.removeAttr("required");
elem.removeAttr("aria-invalid");elem.removeAttr("aria-required");elem.removeAttr("invalid")}return false}})})(document,Granite.$,Granite.author);
(function(document,$,Granite,$document){if($(".AccordionSteps-header").attr("aria-expanded")=="true"){$(".AccordionSteps-headerIcon").addClass("AccordionSteps-headerIconImgBorderRadiusOpen");$(".AccordionSteps-header").removeClass("AccordionSteps-header-click").removeAttr("role tabindex")}else $(".AccordionSteps-headerIcon").addClass("AccordionSteps-headerIconImgBorderRadiusClose");$(".AccordionSteps-header-click").on("click",function(event){event.preventDefault();var accordion=$(this);var collapseIcon=
accordion.find("span");var accordionContent=accordion.next(".AccordionSteps-main");var imgAccordion=$(".AccordionSteps-headerIcon");accordion.toggleClass("open AccordionSteps-header--closed AccordionSteps-header--open");collapseIcon.toggleClass("collapsed");imgAccordion.toggleClass("AccordionSteps-headerIconImgBorderRadiusOpen AccordionSteps-headerIconImgBorderRadiusClose");accordionContent.slideToggle(250)})})(document,$,Granite,jQuery(document));
(function($){var DATA_KEY="npcCaptcha";var SLING_SELECTOR_REFRESH="refreshCaptcha";var SLING_SELECTOR_VALIDATE="captcha";var SELECTOR_QUESTION=".js-Captcha-calcul";var SELECTOR_RESPONSE=".js-Captcha-response";var SELECTOR_ERROR_VALUE=".js-Captcha-errorMessageValue";var SELECTOR_ERROR_MISSING=".js-Captcha-errorMessageMissing";var SELECTOR_ERRORS=".Captcha-errorMessage";var LOG_PREFIX="*CAPTCHA* ";var regexLog=/{}/;var defaults={};function logDebug(message){if(NPC&&NPC.logDebugEnabled){var msg=message;
if(arguments.length>1)for(var i=1;i<arguments.length;i++)msg=msg.replace(regexLog,$.isPlainObject(arguments[i])?JSON.stringify(arguments[i]):arguments[i]);console.log(LOG_PREFIX+msg)}}function initCaptchaContent($elements,question){$elements.question.html(question);$elements.response.val("");$elements.response.attr("aria-label","Tapez le resultat du calcul "+question)}function displayError($elements,$errorElementToDisplay,responseRedBorder){$elements.errors.not($errorElementToDisplay).addClass("hidden");
$errorElementToDisplay.removeClass("hidden");$elements.response.css("border-color",responseRedBorder?"red":"#ccc")}function Captcha(element,options){var $captchaElement=$(element);this.$element=$captchaElement;this.$elements={question:$captchaElement.find(SELECTOR_QUESTION),response:$captchaElement.find(SELECTOR_RESPONSE),errors:$captchaElement.find(SELECTOR_ERRORS),errorValue:$captchaElement.find(SELECTOR_ERROR_VALUE),errorMissing:$captchaElement.find(SELECTOR_ERROR_MISSING)};this.options=$.extend({},
defaults,options)}Captcha.prototype={getId:function(){return this.id},getResponse:function(){return this.$elements.response.val()},hideErrors:function(){this.$elements.errors.addClass("hidden");this.$elements.response.css("border-color","#ccc")},refresh:function(callback){var captcha=this;logDebug("Rafraichissement captcha");$.ajax({type:"GET",url:NPC.genererURLJson(SLING_SELECTOR_REFRESH),success:function(data){logDebug("CAPTCHA RESPONSE : {}",data);captcha.id=data.id;delete captcha.validatedValue;
initCaptchaContent(captcha.$elements,data.question);var callbackFn=typeof callback==="function"?callback:typeof captcha.options.refreshCallback==="function"?captcha.options.refreshCallback:undefined;if(typeof callbackFn==="function"){logDebug("Appel de fonction callback sur rafraichissement captcha");callbackFn.call(captcha.$element)}}})},validate:function(callback){this.hideErrors();var responseValue=this.$elements.response.val();if(typeof this.validatedValue!=="undefined")if(responseValue===this.validatedValue){var callbackFn=
typeof callback==="function"?callback:typeof this.options.callback==="function"?this.options.callback:undefined;if(typeof callbackFn==="function"){logDebug("Appel de fonction callback sur validation captcha");callbackFn.call(this.$element)}}else{logDebug("La r\u00e9ponse de captcha est compar\u00e9e avec celle pr\u00e9c\u00e9demment valid\u00e9 et est diff\u00e9rente");displayError(this.$elements,this.$elements.errorValue,true);this.refresh()}else{var formData={reponseProposee:responseValue,idCaptcha:this.id};
if(formData.reponseProposee){var captcha=this;$.ajax({type:"POST",url:NPC.genererURLJson(SLING_SELECTOR_VALIDATE),data:formData,success:function(msg){if(!msg||!msg.captchaReconnu){logDebug("La r\u00e9ponse de captcha a \u00e9t\u00e9 test\u00e9 par le serveur et est invalide");displayError(captcha.$elements,captcha.$elements.errorValue,true);captcha.refresh()}else{logDebug("La r\u00e9ponse de captcha a \u00e9t\u00e9 test\u00e9 par le serveur et est valide");captcha.validatedValue=responseValue;var callbackFn=
typeof callback==="function"?callback:typeof captcha.options.callback==="function"?captcha.options.callback:undefined;if(typeof callbackFn==="function"){logDebug("Appel de fonction callback sur captcha valide");callbackFn.call(captcha.$element)}}}})}else{logDebug("Aucune r\u00e9ponse de captcha fournie");displayError(this.$elements,this.$elements.errorMissing,false);this.refresh()}}}};function CreateCaptcha(options,args){for(var i=0;i<this.length;i++){var currentElement=this[i],captchaInstance=$.data(currentElement,
DATA_KEY);if(!captchaInstance){captchaInstance=new Captcha(currentElement,options);$.data(currentElement,DATA_KEY,captchaInstance)}else if($.isPlainObject(options)){logDebug("Rechargement des options avec : {}",options);$.extend(captchaInstance.options,options)}else if(typeof options==="string"&&typeof captchaInstance[options]==="function"){logDebug('Ex\u00e9cution "option" : {}',options);if((options==="option"||options.indexOf("get")===0)&&args[2]===undefined)return captchaInstance[options](args[1]);
captchaInstance[options](args[1],args[2])}}return this}$.fn.npcCaptcha=function(options){return CreateCaptcha.call(this,options,arguments)};$(document).ready(function(){$("[data-npc-captcha]").npcCaptcha({})})})(jQuery);
(function(document,$,Granite,$document){$(document).ready(function(){function updateButtonProspect(){$(".souscrire-action").each(function(){if(!NPC.user.isConnected){var hasHref=$(this).attr("href");var elementParent=$(this).parents(".bouton-souscrire-v2");var url=$(elementParent).find("[name\x3d'urlprospect']").val();if(typeof url!=undefined&&typeof hasHref!=="undefined"&&hasHref!==false)$(this).attr("href",url===""?"#":url);else if(typeof hasHref!==undefined&&hasHref!==false)$(this).attr("href",
"javascript:void(0);");var libelle=$(elementParent).find("[name\x3d'libelleprospect']").val();if(typeof libelle!=undefined){libelle=libelle===""?"\u00c0 configurer":libelle;var htmlLibelleprospect="\x3cspan\x3e"+libelle+"\x3c/span\x3e";$(this).html(htmlLibelleprospect)}}})}updateButtonProspect()})})(document,$,Granite,jQuery(document));
(function(document,$,Granite,$document){$(document).ready(function(){function trackingBoutonPriseRdv(){$(".npc-storeLocator-structure .souscrire-action").on("click",function(){var nomAgence=$("#sl-detail-agence-nom-tracking").val();NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"bouton_prise_contact",evt_motif:nomAgence})})}function updateButtonProspect(){$(".souscrire-action").each(function(){if(!NPC.user.isConnected){var hasHref=$(this).attr("href");var elementParent=$(this).parents(".bouton-prise-rdv");
var url=$(elementParent).find("[name\x3d'urlProspect']").val();if(typeof url!=undefined&&typeof hasHref!=="undefined"&&hasHref!==false)$(this).attr("href",url===""?"#":url);var libelle=$(elementParent).find("[name\x3d'libelleprospect']").val();if(typeof libelle!=undefined)$(this).text(libelle===""?"\u00c0 configurer":libelle)}})}function setParamAgence(){$(".npc-storeLocator-structure .souscrire-action").each(function(){var elementParentBoutonSouscrire=$(this).parents(".bouton-prise-rdv");var elementModalDefault=
$(elementParentBoutonSouscrire).find(".Modal-action--default");var hasHref=elementModalDefault.attr("href");var elementParentStructure=$(this).parents(".npc-storeLocator-structure");var codeEds=$(elementParentStructure).find("[name\x3d'sl-detail-agence-code']").val();if(codeEds!==undefined&&!!hasHref)elementModalDefault.attr("href",codeEds.length!=12?hasHref:hasHref+"\x26agence\x3d"+codeEds)})}trackingBoutonPriseRdv();updateButtonProspect();setParamAgence()})})(document,$,Granite,jQuery(document));
(function($){$("div.BlockLink").on("click",function(){var href=$(this).find("a").attr("href");if(href)window.location=href});$("div.BlockLink").on("mouseenter",function(){$(this).css("cursor","pointer")}).on("mouseleave",function(){$(this).css("cursor","default")})})(jQuery_3_7_1);
(function(document,$,enquire){var LOCAL_STORAGE_KEY="donneesBandeauAlerte_"+NPC.idLiveCopyCaisse;var BANDEAU_TOP_CLASS="AlertBanner--top";var EVENT_INIT_ALERT="initAlert";function recupererDonneesBandeau(){var donnees=undefined;var donneesString=window.localStorage.getItem(LOCAL_STORAGE_KEY);if(donneesString!==null){donnees=JSON.parse(donneesString);donnees.debut=new Date(donnees.debut);donnees.fin=new Date(donnees.fin);if(donnees.dateMaxRappel)donnees.dateMaxRappel=new Date(donnees.dateMaxRappel)}return donnees}
function affecterDonneesBandeau(donnees){window.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(donnees))}function affecterDonneesBandeauEtCookieConnexion(donnees){affecterDonneesBandeau(donnees);document.cookie="bandeau-alerte-nombre-connexion\x3d3; expires\x3d"+donnees.fin.toUTCString()+"; path\x3d"+NPC.urlLiveCopyCaisse}function effacerDonneesBandeau(){window.localStorage.removeItem(LOCAL_STORAGE_KEY);document.cookie="bandeau-alerte-nombre-connexion\x3d; path\x3d"+NPC.urlLiveCopyCaisse+"; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"}
function verifieEgaliteDonneesBandeau(donneeBandeau1,donneeBandeau2){return donneeBandeau1.debut.getTime()===donneeBandeau2.debut.getTime()&&donneeBandeau1.fin.getTime()===donneeBandeau2.fin.getTime()}function mettreAJourNombreConnexionsRestantes(donnees){var flagConnexion=NPC.recupererCookie("bandeau-alerte-flag-connexion");if(typeof flagConnexion!=="undefined"){document.cookie="bandeau-alerte-flag-connexion\x3d; path\x3d"+NPC.urlLiveCopyCaisse+"; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;";if(typeof NPC.recupererCookie("bandeau-alerte-rappel-nav")===
"undefined"){var nombreConnexionsRestantes=recupererNombreConnexionsRestantes();if(nombreConnexionsRestantes>0){nombreConnexionsRestantes--;document.cookie="bandeau-alerte-nombre-connexion\x3d"+nombreConnexionsRestantes+"; expires\x3d"+donnees.fin.toUTCString()+"; path\x3d"+NPC.urlLiveCopyCaisse}}}}function recupererNombreConnexionsRestantes(){var nombreConnexionsRestantes=NPC.recupererCookie("bandeau-alerte-nombre-connexion");if(isNaN(nombreConnexionsRestantes))nombreConnexionsRestantes=3;else nombreConnexionsRestantes=
parseInt(nombreConnexionsRestantes);return nombreConnexionsRestantes}function testerRappelAffichageActif(){var donnees=recupererDonneesBandeau();if(donnees.dateMaxRappel&&new Date>=donnees.dateMaxRappel){NPC.supprimerCookie("bandeau-alerte-rappel-nav");delete donnees.dateMaxRappel;affecterDonneesBandeau(donnees);return false}else return typeof NPC.recupererCookie("bandeau-alerte-rappel-nav")!=="undefined"}function activerRappelAffichage(){var donnees=recupererDonneesBandeau();var nombreConnexionsRestantes=
recupererNombreConnexionsRestantes();if(nombreConnexionsRestantes===1)document.cookie="bandeau-alerte-nombre-connexion\x3d2; expires\x3d"+donnees.fin.toUTCString()+"; path\x3d"+NPC.urlLiveCopyCaisse;document.cookie="bandeau-alerte-rappel-nav\x3dtrue; path\x3d"+NPC.urlLiveCopyCaisse;donnees.dateMaxRappel=new Date(Date.now()+3*36E5);affecterDonneesBandeau(donnees)}function afficheBandeauAlerte(){var $bandeau=$(".js-AlertDynamicBanner");$bandeau.addClass(BANDEAU_TOP_CLASS);$bandeau.removeClass("hidden").trigger(EVENT_INIT_ALERT);
$(".js-Header").css("margin-top",$bandeau.outerHeight());$(".Template").css("margin-top",$bandeau.outerHeight()+$(".js-Header").outerHeight());enquire.register(CommonNPC.medias.mqMdMin,{match:function(){$bandeau.trigger(EVENT_INIT_ALERT)},unmatch:function(){$bandeau.trigger(EVENT_INIT_ALERT)}})}function afficheBandeauAlerteSiNecessaire(){if(NPC&&NPC.isAuthor)afficheBandeauAlerte();else if(NPC)if($(".js-AlertBanner:visible").length===0){var donneesBandeauAlerte=recupererDonneesBandeau();if(donneesBandeauAlerte&&
!donneesBandeauAlerte.inactif&&!testerRappelAffichageActif()){var dateCourante=new Date;if(donneesBandeauAlerte.debut<=dateCourante&&dateCourante<=donneesBandeauAlerte.fin&&recupererNombreConnexionsRestantes()>0)afficheBandeauAlerte()}}}function initialiseBandeau(){if(NPC&&!NPC.isAuthor){if(NPC.donneesBandeauAlerte){var donneesBandeauAlerteContribuee=NPC.donneesBandeauAlerte;var donneesBandeauAlerte=recupererDonneesBandeau();if(!donneesBandeauAlerte||!verifieEgaliteDonneesBandeau(donneesBandeauAlerteContribuee,
donneesBandeauAlerte)){affecterDonneesBandeauEtCookieConnexion(donneesBandeauAlerteContribuee);donneesBandeauAlerte=donneesBandeauAlerteContribuee}mettreAJourNombreConnexionsRestantes(donneesBandeauAlerte)}else effacerDonneesBandeau();$(".rappeler_plus_tard").click(function(){activerRappelAffichage()});$(".valider_bandeau_alerte").click(function(){var donnees=recupererDonneesBandeau();donnees.inactif=true;affecterDonneesBandeau(donnees)})}else $(".rappeler_plus_tard",".valider_bandeau_alerte").click(function(){afficheBandeauAlerte()});
afficheBandeauAlerteSiNecessaire()}$(document).ready(initialiseBandeau)})(document,$,enquire);
(function($){$(function(){$("a.bandeau-50-50-action").on("click.preventdefault",function(){var btn_action="";if($(this).hasClass("bandeau-50-50-action--primary"))btn_action="bouton_action_majeur";else if($(this).hasClass("bandeau-50-50-action--secondary"))btn_action="bouton_action_mineur";var btn_libelle=$(this).text().toLowerCase().replace(" ","_");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:btn_action,evt_nom_offre:btn_libelle})})})})(jQuery_3_7_1);
(function(document,$,Granite,$document){$(document).ready(function(){function hideStoreButton(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;$(".js-astore").removeClass("hidden");$(".js-gstore").removeClass("hidden");if(/android/i.test(userAgent))$(".js-astore").addClass("hidden");if(/iPad|iPhone|iPod/.test(userAgent)&&!window.MSStream)$(".js-gstore").addClass("hidden")}hideStoreButton()})})(document,$,Granite,jQuery(document));
(function($){$(function(){$(".card-accroche a[animation-tracking]").on("click.preventdefault",function(e){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:$(this).attr("animation-tracking")})})})})(jQuery_3_7_1);var NPC=NPC||{};
(function($){NPC.agenceProche=NPC.agenceProche||function(){var me={};var _nonGeolocalise=function(){$(".GeolocKo").show();$(".GeolocOk").hide()};var _geolocalise=function(){$(".GeolocKo").hide();$(".GeolocOk").show()};var _findNearlyAgencyCallBack=function(response){if(response&&response.length>0){var city=response[0];var content=city.name+"\x3cbr /\x3e"+city.address.address+"\x3cbr /\x3e"+city.address.zipCode+" "+city.address.cityName;$(".ClosestAgency-adresse").html(content);$(".ClosestAgency").matchHeight._update();
_geolocalise()}};var __findNearlyAgency=function(){if(NPC.storeLocator)NPC.storeLocator.trouverAgencesProches(NPC.geoloc.lat,NPC.geoloc.long,_findNearlyAgencyCallBack)};var _findNearlyAgency=function(){if(NPC.geoloc.geolocalized)__findNearlyAgency();else{NPC.geoloc.addCallBackFnc(__findNearlyAgency);NPC.geoloc.tryToGeoloc()}};var _manageContent=function(){$(".ClosestAgency-adresse").html("0 agences partout en France");NPC.storeLocator.getQtyAgences(function(qty){$(".ClosestAgency-adresse").html((qty?
qty:0)+" agences partout en France");_findNearlyAgency()})};me.init=function(){if(window.parent.location.href.indexOf("/editor.html/")>-1){$(".GeolocKo").show();$(".GeolocOk").show();return}_nonGeolocalise();_manageContent()};return me}();if(NPC.agenceProcheRun)NPC.agenceProcheRun()})($);var NPC=NPC||{};NPC.injectDataClassToParentAgenceProche=function(){var currentLoc=$('.agence-la-plus-proche-inner-div[data-class]:not([data-class\x3d""])');var parentLoc=currentLoc.parent();parentLoc.addClass(currentLoc.attr("data-class"))};
$(function(){NPC.injectDataClassToParentAgenceProche()});
(function($){$(".FastAccess-link").on("click.preventdefault",function(e){if($(e.currentTarget).attr("target")=="_blank"){var event_action_libelle="raccourcis_HP_"+e.srcElement.innerHTML.toLowerCase().replace(" ","_");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:event_action_libelle,evenement_categorie:"acces-autre"})}else if(e.currentTarget.href.includes("synthese.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Acc\u00e9der \u00e0 mes comptes",
evenement_categorie:"authentification"});else if(e.currentTarget.href.includes("prendre-un-rdv.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Prendre rendez-vous avec mon conseiller",evenement_categorie:"Prise-de-contact"});else if(e.currentTarget.href.includes("virement.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Faire un virement",evenement_categorie:"gestion"});else if(e.currentTarget.href.includes("editer-rib.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
{evt_action_libelle:"raccourcis_HP_Editer un RIB",evenement_categorie:"gestion"});else if(e.currentTarget.href.includes("devis-assurances.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Voir mes devis sauvegard\u00e9s",evenement_categorie:"avant-vente"});else if(e.currentTarget.href.includes("messagerie.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Acc\u00e9der \u00e0 la messagerie s\u00e9curis\u00e9e",evenement_categorie:"consultation"});
else if(e.currentTarget.href.includes("commander-devises.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_Commander des devises",evenement_categorie:"gestion"});else if(e.currentTarget.href.includes("gestion-effets.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,{evt_action_libelle:"raccourcis_HP_G\u00e9rer mes effets",evenement_categorie:"gestion"});else if(e.currentTarget.href.includes("simulation-devis.html"))NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
{evt_action_libelle:"raccourcis_HP_Faire une simulation",evenement_categorie:"avant-vente"})})})(jQuery_3_7_1);var NPC=NPC||{};(function(NPC){var NOMS_LAYER_WHITE_LIST=["offers"];$(document).ready(function(){var nomLayer=NPC.recupererCookie("layeropen");if(typeof nomLayer!=="undefined"&&NOMS_LAYER_WHITE_LIST.indexOf(nomLayer)!==-1){window.setTimeout(function(){$('a.js-toggleLayerNav[href\x3d"#'+nomLayer+'"]').click()});NPC.supprimerCookie("layeropen",NPC.urlLiveCopyCaisse)}})})(NPC);
var NPC=NPC||{};NPC.postmessage=NPC.postmessage||{};NPC.postmessage.appelRecupererWhiteliste=function(){if(!NPC.lancerParcours.whitelist){if(NPC.clientSideLogger)NPC.clientSideLogger.error("ERROR","Appel toujours a ihml whitelist par la page suivante : "+window.location.pathname);$.get(NPC.genererURLJson("ihml.whiteliste")).success(function(data){NPC.lancerParcours.whitelist=data}).fail(function(data){console.error("Erreur de r\u00e9cup\u00e9ration de la whitelist : "+data.responseText)})}};
NPC.postmessage.originMessageApprouve=function(originMessage){var isMessageApprouve=false;var urlOriginMessage=new URL(originMessage);var hostnameOfOriginMessage=urlOriginMessage.hostname;if(NPC.lancerParcours.whitelist)NPC.lancerParcours.whitelist.forEach(function(element){if(hostnameOfOriginMessage.includes(element))isMessageApprouve=true});return isMessageApprouve};NPC.postmessage.appelRecupererWhiteliste();var NPC=NPC||{};NPC.keepalive=NPC.keepalive||{};
var isConnnecteEnPublish=NPC.user&&NPC.user.isConnected&&!NPC.isAuthor;
$(function(){if(NPC.keepalive&&!NPC.keepalive.ecranConnecte&&isConnnecteEnPublish){NPC.keepalive.ecranConnecte={};NPC.keepalive.ecranConnecte.addListener=function(){window.addEventListener("message",NPC.keepalive.ecranConnecte.eventlistener,false)};NPC.keepalive.ecranConnecte.eventlistener=function(event){var dataRetrieved=event.data;if(NPC.postmessage.originMessageApprouve(event.origin))switch(dataRetrieved.type){case "window_active":NPC.timeout.throttleMaintienDeSession();break;default:break}};
NPC.keepalive.ecranConnecte.addListener()}});
</script>

</body>
</html>
