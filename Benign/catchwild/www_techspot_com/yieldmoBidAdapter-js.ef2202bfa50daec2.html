<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yieldmoBidAdapter-js.ef2202bfa50daec2.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["4702"],{46397:function(e,t,r){r.r(t),r.d(t,{spec:function(){return g}});var n=r(39864),i=r(94329),o=r(12827),a=r(92618),d=r(67007),c=r(5850),u=r(14615),p=r(8755),s=r(31232),f=["mimes","startdelay","placement","plcmt","skipafter","protocols","api","playbackmethod","maxduration","minduration","pos","skip","skippable"],l=["name","domain","cat","keywords"],m=(0,o.Zy)(),v=["description","title","pr","page_url"],g={code:"yieldmo",supportedMediaTypes:[c.Mk,c.pX],gvlid:173,isBidRequestValid:function(e){return!!(e&&e.adUnitCode&&e.bidId&&(b(e)||h(e))&&function(e){if(!h(e))return!0;var t=function(e,t,r){var n='"'.concat(e,'" is required');throw r&&(n+=" when "+r),Error(n)},r=function(e,t,r){throw r=r?", expected: "+r:"",t=JSON.stringify(t),Error('"'.concat(e,'"=').concat(t," is invalid").concat(r))},n=function(e){return void 0!==e},i=function(t,r,n,i){if(0===t.indexOf("video")){var o="params."+t,d="mediaTypes."+t,c=(0,a.Z)(e,o),u=(0,a.Z)(e,d),p=r(c),s=r(u);if(p)return c;if(s)return s;p?!s&&n(d,u,i):n(o,c,i);return c||u}var f=(0,a.Z)(e,t);return!r(f)&&n(t,f,i),f};try{return i("video.context",function(e){return!(0,o.xb)(e)},t),i("params.placementId",function(e){return!(0,o.xb)(e)},t),i("video.playerSize",function(e){return(0,o.HC)(e,2)||(0,o.kJ)(e)&&e.every(function(e){return(0,o.HC)(e,2)})},r,"array of 2 integers, ex: [640,480] or [[640,480]]"),i("video.mimes",function(e){return n(e)},t),i("video.mimes",function(e){return(0,o.kJ)(e)&&e.every(function(e){return(0,o.d8)(e)})},r,'array of strings, ex: ["video/mp4"]'),i("video.protocols",function(e){return n(e)},t),i("video.api",function(e){return n(e)},t),i("video.api",function(e){return(0,o.HC)(e)&&e.every(function(e){return e>=1&&e<=6})},r,"array of numbers, ex: [2,3]"),i("video.playbackmethod",function(e){return!n(e)||(0,o.HC)(e)},r,"array of integers, ex: [2,6]"),i("video.maxduration",function(e){return n(e)},t),i("video.maxduration",function(e){return(0,o.U)(e)},r),i("video.minduration",function(e){return!n(e)||(0,o.hj)(e)},r),i("video.skippable",function(e){return!n(e)||(0,o.jn)(e)},r),i("video.skipafter",function(e){return!n(e)||(0,o.hj)(e)},r),i("video.pos",function(e){return!n(e)||(0,o.hj)(e)},r),i("params.badv",function(e){return!n(e)||(0,o.kJ)(e)},r,'array of strings, ex: ["ford.com","pepsi.com"]'),i("params.bcat",function(e){return!n(e)||(0,o.kJ)(e)},r,'array of strings, ex: ["IAB1-5","IAB1-6"]'),!0}catch(e){return(0,o.H)(e.message),!1}}(e))},buildRequests:function(e,t){var r=function(e){var t;return!!(null!==(t=e.refererInfo)&&void 0!==t&&null!==(t=t.referer)&&void 0!==t&&t.includes("pb_force_a"))}(t),n=Z("/exchange/prebid",r),i=Z("/exchange/prebidvideo",r),u=e.filter(function(e){return b(e)}),p=e.filter(function(e){return h(e)}),g=[],k=function(e){if((0,a.Z)(e,"userIdAsEids"))return e.userIdAsEids||[]}(e[0])||[],w=function(e){var t=((0,a.Z)(e,"ortb2.user.data")||[]).filter(function(e){var t,r=null===(t=e.ext)||void 0===t?void 0:t.segtax;return r>=600&&r<=609})[0];return t?{taxonomy:t.ext.segtax,classifier:t.ext.segclass,topics:Object.values(t.segment).map(function(e){return Number(e)})}:null}(t),_=function(e){return(0,a.Z)(e,"ortb2.device.ext.cdep")||null}(t);if(u.length>0){var S={pbav:"9.18.0",p:[],page_url:t.refererInfo.page,bust:new Date().getTime().toString(),dnt:function(){return"1"===window.doNotTrack||"1"===window.navigator.doNotTrack}(),description:function(){return document.querySelector('meta[name="description"]')&&document.querySelector('meta[name="description"]').getAttribute("content")||""}(),tmax:t.timeout||400,userConsent:JSON.stringify({gdprApplies:(0,a.Z)(t,"gdprConsent.gdprApplies")||"",cmp:(0,a.Z)(t,"gdprConsent.consentString")||"",gpp:(0,a.Z)(t,"gppConsent.gppString")||"",gpp_sid:(0,a.Z)(t,"gppConsent.applicableSections")||[]}),us_privacy:(0,a.Z)(t,"uspConsent")||""};w&&(S.topics=JSON.stringify(w));var C=x(t);C&&(S.gpc=C),_&&(S.cdep=_),function(){try{if((0,o.Zy)().location.href)return!0}catch(e){return!1}}()&&(S.pr=m.document&&m.document.referrer||"",S.scrd=m.devicePixelRatio||0,S.title=m.document.title||"",S.w=m.innerWidth,S.h=m.innerHeight);var T=window.navigator.maxTouchPoints;T&&(S.mtp=T),u.forEach(function(e){S.p.push(function(e){var t=(0,a.Z)(e,"ortb2Imp.ext.gpid")||(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),r={placement_id:e.adUnitCode,callback_id:e.bidId,sizes:e.mediaTypes.banner.sizes};if(e.params){e.params.placementId&&(r.ym_placement_id=e.params.placementId);var n=I(e,c.Mk);n&&(r.bidFloor=n)}t&&(r.gpid=t);var i=(0,a.Z)(e,"ortb2Imp.ext.tid");return i&&(r.tid=i),e.auctionId&&(r.auctionId=e.auctionId),JSON.stringify(r)}(e));var t=y(e,"pubcid");t?S.pubcid=t:e.crumbs&&e.crumbs.pubcid&&(S.pubcid=e.crumbs.pubcid);var r=y(e,"tdid");r&&(S.tdid=r);var n=y(e,"criteoId");n&&(S.cri_prebid=n),e.schain&&(S.schain=JSON.stringify(e.schain)),(0,a.Z)(e,"params.lr_env")&&(S.ats_envelope=e.params.lr_env)}),S.p="["+S.p.toString()+"]",k.length&&(S.eids=JSON.stringify(k));var N="".concat(n,"?").concat((0,o.Re)(S)).length-8e3;if(N>0)for(var E=0;E<v.length&&!((N=function(e,t,r){if(t[r].length>e)return t[r]=t[r].substring(0,t[r].length-e),0;var n=e-t[r].length;return t[r]="",n}(N,S,v[E]))<=0);E++);g.push({method:"GET",url:n,data:S})}if(p.length>0){var O=function(e,t){var r=e[0].schain,n={id:e[0].bidderRequestId,tmax:t.timeout||400,at:1,imp:e.map(function(e){return function(e){var t=(0,a.Z)(e,"ortb2Imp.ext.gpid")||(0,a.Z)(e,"ortb2Imp.ext.data.pbadslot"),r=function(e){var t=(0,a.Z)(e,"mediaTypes.video.playerSize");return(0,o.HC)(t,2)?t:(0,o.kJ)(t)&&(0,o.HC)(t[0],2)?t[0]:null}(e),n={id:e.bidId,tagid:e.adUnitCode,bidfloor:I(e,c.pX),ext:{placement_id:e.params.placementId,tid:(0,a.Z)(e,"ortb2Imp.ext.tid")},video:{w:r[0],h:r[1],linearity:1}},i=(0,a.Z)(e,"mediaTypes.video",{});Object.keys(i).filter(function(e){return(0,s.q9)(f,e)}).forEach(function(e){return n.video[e]=i[e]});var d=(0,a.Z)(e,"params.video",{});return Object.keys(d).filter(function(e){return(0,s.q9)(f,e)}).forEach(function(e){return n.video[e]=d[e]}),n.video.skippable&&(n.video.skip=1,delete n.video.skippable),(1!==n.video.plcmt||1!==n.video.placement)&&(n.video.startdelay=0,n.video.playbackmethod=[2]),t&&(n.ext.gpid=t),n}(e)}),site:function(e,t){var r,n={},i=(0,o.en)((0,a.Z)(t,"refererInfo.page"));!(0,o.xb)(i)&&(n.page="".concat(i.protocol,"://").concat(i.hostname).concat(i.pathname)),null!==(r=t.refererInfo)&&void 0!==r&&r.ref&&(n.ref=t.refererInfo.ref);var d=document.getElementsByTagName("meta").keywords;d&&d.content&&(n.keywords=d.content);var c=(0,a.Z)(e,"params.site");return c&&Object.keys(c).filter(function(e){return(0,s.q9)(l,e)}).forEach(function(e){return n[e]=c[e]}),n}(e[0],t),device:(0,a.Z)(t,"ortb2.device"),badv:e[0].params.badv||[],bcat:(0,a.Z)(t,"bcat")||e[0].params.bcat||[],ext:{prebid:"9.18.0"},ats_envelope:e[0].params.lr_env};r&&(n.schain=r);var i=x(t);return i&&(0,d.N)(n,"regs.ext.gpc",i),e[0].auctionId&&(n.auctionId=e[0].auctionId),function(e,t){var r=t.gdprConsent,n=(0,a.Z)(t,"gppConsent.gppString"),i=(0,a.Z)(t,"gppConsent.applicableSections");n?(0,d.N)(e,"regs.ext.gpp",n):((0,d.N)(e,"regs.ext.gdpr",r&&r.gdprApplies?1:0),(0,d.N)(e,"user.ext.consent",r&&r.consentString?r.consentString:"")),i&&i.length>0&&(0,d.N)(e,"regs.ext.gpp_sid",i);var o=(0,a.Z)(t,"uspConsent");!n&&o&&(0,d.N)(e,"regs.ext.us_privacy",o)}(n,t),n}(p,t);w&&(O.topics=w),k.length&&(0,d.N)(O,"user.ext.eids",k),g.push({method:"POST",url:i,data:O})}return g},interpretResponse:function(e,t){var r=[],n=e.body;return n.length>0&&n.forEach(function(e){e.cpm>0&&r.push(function(e){return{dealId:e.publisherDealId,requestId:e.callback_id,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.creative_id,currency:"USD",netRevenue:!0,ttl:300,ad:e.ad,meta:{advertiserDomains:e.adomain||[],mediaType:c.Mk}}}(e))}),n.seatbid&&n.seatbid.reduce(function(e,t){return e.concat(t.bid)},[]).forEach(function(e){return r.push(function(e,t){var r=(0,s.sE)((0,a.Z)(t,"data.imp")||[],function(t){return t.id===e.impid}),n={dealId:e.dealid,requestId:r.id,cpm:e.price,width:r.video.w,height:r.video.h,creativeId:e.crid||e.adid,currency:"USD",netRevenue:!0,mediaType:c.pX,ttl:300,vastXml:e.adm,meta:{advertiserDomains:e.adomain||[],mediaType:c.pX}};if(r.video.plcmt&&1!==r.video.plcmt){var i=p.Th.install({url:"https://prebid-outstream.yieldmo.com/bundle.js",config:{width:n.width,height:n.height,vastTimeout:15e3,maxAllowedVastTagRedirects:5,allowVpaid:!0,autoPlay:!0,preload:!0,mute:!0},id:r.tagid,loaded:!1});i.setRender(function(e){e.renderer.push(function(){var t=e.renderer,r=t.id,n=t.config;window.YMoutstreamPlayer(e,r,n)})}),n.renderer=i}return n}(e,t))}),r},getUserSyncs:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],o="&gdpr=".concat(r.gdprApplies?1:0),a="&gdpr_consent=".concat(encodeURIComponent(r.consentString||"")),d="us_privacy=".concat(encodeURIComponent(n)),c="".concat("https://ads.yieldmo.com/pbcas","?").concat(d).concat(o).concat(a);return e.iframeEnabled?i.push({type:"iframe",url:c+"&type=iframe"}):e.pixelEnabled&&i.push({type:"image",url:c+"&type=image"}),i}};function b(e){return!!(0,a.Z)(e,"mediaTypes.banner")}function h(e){return!!(0,a.Z)(e,"mediaTypes.video")}(0,u.dX)(g);function y(e,t){return"object"===(0,n.Z)((0,a.Z)(e,"userId"))?e.userId[t]:void 0}function x(e){return(0,a.Z)(e,"ortb2.regs.ext.gpc")}function I(e,t){var r={};return"function"==typeof e.getFloor&&(r=e.getFloor({currency:"USD",mediaType:t,size:"*"})),r.floor||e.params.bidfloor||e.params.bidFloor||0}function Z(e,t){return"".concat(t?"https://ads-stg.yieldmo.com":"https://ads.yieldmo.com").concat(e)}(0,i.z)("yieldmoBidAdapter")},67007:function(e,t,r){r.d(t,{N:function(){return n}});function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,o=0,a=t.length,d=e;o<a&&"__proto__"!=(i=""+t[o++])&&"constructor"!==i&&"prototype"!==i;){;d=d[i]=o===a?r:typeof(n=d[i])==typeof t?n:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}}}}]);
//# sourceMappingURL=yieldmoBidAdapter-js.ef2202bfa50daec2.js.map
</script>

</body>
</html>
