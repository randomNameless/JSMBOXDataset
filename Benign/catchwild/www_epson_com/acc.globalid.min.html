<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acc.globalid.min.html</title>
</head>
<body>

<script>
ACC.globalid={_autoload:["bindPasswordValidation","bindSignInFormValidation","bindUpdatePwdFormValidation","bindMFAVerification","bindMfaResendEvent","bindGuestRegisterFormValidation","bindEyelids","bindValidations","bindPasswordCheck","bindEmailValidationPopup","bindUpdateEmailForm","bindLoginForm","bindLogoutEvent"],bindEyelids:function(){$(window).on("load",function(){bindPwdDisplayEvent("j_password","togglePassword2");bindPwdDisplayEvent("confirm_password","togglePassword1");bindPwdDisplayEvent("password","togglePassword");bindPwdDisplayEvent("ssn4","togglePassword2");bindPwdDisplayEvent("nationalId","togglePassword2");bindPwdDisplayEvent("j_password_modal","togglePasswordModal")})},bindValidations:function(){$(document).ready(function(){bindValidation($("#updatePwdForm"));bindValidation($("#updatePasswordForm"));bindValidation($("#epsonGuestRegisterForm"));bindValidation($("#registerForm"));bindValidation($("#loginForm"));bindValidation($("#updateEmailForm"));bindValidation($("#epsonUpdateProfileForm"))})},bindPasswordValidation:function(){var a=$(".epsonPortRow").length;if(a>0){const f=document.querySelector(".indicator");const e=document.querySelector("input");const c=document.querySelector(".weak");const b=document.querySelector(".soso");const k=document.querySelector(".medium");const g=document.querySelector(".strong");const j=document.querySelector(".text-password");const d=document.querySelector(".showBtn");var h=0;let regExpWeak=/[A-Z,a-z]/;let regExpSoso=/[A-Z,a-z,~,!,@,#,$,%,^,&,*,-,_,+,=,?,>,<,0-9]/;let regExpMedium=/\d+/;let regExpStrong=/.[~,!,@,#,$,%,^,&,*,-,_,+,=,?,>,<]/;$(".password").on("keyup",function(){var l=$(this).val();if(l!=""){f.style.display="block";f.style.display="flex";j.style.display="block";if(l.length<=3&&(l.match(regExpWeak)||l.match(regExpSoso)||l.match(regExpMedium)||l.match(regExpStrong))){h=1}if(l.length>=5&&(l.match(regExpWeak)&&l.match(regExpSoso)||l.match(regExpMedium)||l.match(regExpStrong))){h=2}if(l.length>=6&&l.match(regExpWeak)&&l.match(regExpSoso)&&l.match(regExpMedium)||l.match(regExpStrong)){h=3}if(l.length>=8&&l.match(regExpWeak)&&l.match(regExpSoso)&&l.match(regExpMedium)&&l.match(regExpStrong)){h=4}if(h==1){f.classList.remove("soso","medium","strong");j.classList.remove("soso","medium","strong");b.classList.remove("active");k.classList.remove("active");g.classList.remove("active");f.classList.add("weak");c.classList.add("active");j.textContent=$("#weakMsg").val();j.classList.add("weak")}if(h==2){f.classList.remove("weak","medium","strong");j.classList.remove("weak","medium","strong");k.classList.remove("active");g.classList.remove("active");f.classList.add("soso");c.classList.add("active");b.classList.add("active");j.textContent=$("#sosoMsg").val();j.classList.add("soso")}if(h==3){f.classList.remove("weak","soso","strong");j.classList.remove("weak","soso","strong");g.classList.remove("active");f.classList.add("medium");c.classList.add("active");b.classList.add("active");k.classList.add("active");j.textContent=$("#strongMsg").val();j.classList.add("strong")}if(h==4){f.classList.remove("weak","soso","medium");j.classList.remove("weak","soso","medium");f.classList.add("strong");c.classList.add("active");b.classList.add("active");k.classList.add("active");g.classList.add("active");j.textContent=$("#strongMsg").val();j.classList.add("strong")}}else{f.classList.remove("weak","soso","medium","strong");c.classList.remove("active");b.classList.remove("active");k.classList.remove("active");g.classList.remove("active");j.textContent=""}})}$("#updatePwdForm").validate({onkeyup:function(l,m){if(m.which===9&&this.elementValue(l)===""){return}else{this.element(l)}if($("#confirm_password").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}},rules:{pwd:{required:true,minlength:8,checklower:true,checkupper:true,checkdigit:true,checkspecial:true},checkPwd:{required:true,minlength:8,pwdEqualTo:"#password"}}})},bindSignInFormValidation:function(){$("#epsonRegisterForm").validate({onkeyup:function(a,b){if(b.which===9&&this.elementValue(a)===""){return}else{this.element(a)}if($("#email").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}validateRegisterButton()},ignore:".ignore",rules:{firstName:{required:true,rejectCharacters:'"~',minlength:1},pwd:{required:{depends:isSigninPwdValidationRequired()},minlength:8,checklower:true,checkupper:true,checkdigit:true,checkspecial:true},checkPwd:{required:{depends:isSigninPwdValidationRequired()},minlength:8,pwdEqualTo:"#password"},email:{required:{depends:function(){$(this).val($.trim($(this).val()));return true}},customemail:true,email:true},hiddenRecaptcha:{required:function(){if(typeof grecaptcha!="undefined"){return(grecaptcha.getResponse(localStorage.getItem("#epsonRegisterForm_captchaId"))=="")}else{return $("#epsonRegisterForm #g-recaptcha_widget iframe").length>0}}}},messages:{hiddenRecaptcha:{required:function(){return $(".g-recaptcha_error").first().text()}}},invalidHandler:function(b,a){var c=a.numberOfInvalids();$("#epsonRegisterForm #g-recaptcha_incorrect").hide();form_ctl.funcs.fire_error_event(a.errorMap)}});validateRegisterButton()},bindUpdatePwdFormValidation:function(){let validateForm=$(".epsonPortRow").length;if(validateForm>0){$("#updatePasswordForm").validate({onkeyup:function(a,b){if(b.which===9&&this.elementValue(a)===""){return}else{this.element(a)}if($("#email").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}if($("#confirm_password").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}},rules:{newPassword:{required:true,minlength:8,checklower:true,checkupper:true,checkdigit:true,checkspecial:true},checkNewPassword:{required:true,minlength:8,pwdEqualTo:"#password"}}})}},bindMFAVerification:function(){$(document).on("click","#mfaVerificationFormSubmit",function(b){b.preventDefault();var a="";$(".verify-code > input").each(function(){a+=this.value});console.log("MFACODE = "+a);oFormObject=document.forms.mfaVerificationForm;oFormObject.elements.mfaCode.value=a;$("#mfaVerificationForm").submit();$("#mfaVerificationFormSubmit").attr("disabled","disabled")});$(document).ready(function(){var b=$("#mfaVerificationForm").length;if(b>0){$(".verify-code > input").keyup(function(){var c=false;$(".verify-code > input").each(function(){if($(this).val()==""){c=true}});if(c){$("#mfaVerificationFormSubmit").attr("disabled","disabled")}else{$("#mfaVerificationFormSubmit").removeAttr("disabled")}});document.querySelector(".verify-code").addEventListener("paste",function(c){c.preventDefault();const d=(c.originalEvent||c).clipboardData.getData("text/plain").trim();if(d.length>6||!/\d{6}/.test(d)){return false}$(".verify-code > input").each(function(e){$(this).val(d.charAt(e))});$(".verify-code > input").last().focus()});$(".verify-code").on("keyup","input",function(c){let mfaCode="";$(".verify-code > input").each(function(){mfaCode+=$(this).val()});a(c)});const a=function(c){let key=c.which,t=$(c.target),next=t.next("input"),prev=t.prev("input");if(key==8){prev.select().focus()}if(!/\d{1}/.test($(t).val())){c.target.value="";return false}else{if(c.keyCode==16||c.keyCode==9){return}next.select().focus()}}}})},bindMfaResendEvent:function(){let clickCnt=0;$("#resendMfaCode").on("click",function(a){a.preventDefault();clickCnt++;console.log("Click count = ",clickCnt);if(clickCnt==4){$(this).addClass("disableLink")}let data={};data.emailId=$("#emailId").val();data.mfaAction=$("#mfaAction").val();$.ajax({type:"POST",url:"/mfa/resend",data:$.param(data),success:function(c){if(c==="SUCCESS"){console.log("Successfully sent the MFA code");$("p[name='resend-mfa-msg']").css("opacity",0);$("p[name='sent-mfa-msg']").css("opacity",1);const b=setTimeout(function(){$("p[name='resend-mfa-msg']").css("opacity",1);$("p[name='sent-mfa-msg']").css("opacity",0);clearTimeout(b)},5000)}else{console.log("Couldn't send the MFA code, check hybris log for more details")}},error:function(c,d,b){console.log("Failed to send the MFA code. Error details ["+c+", "+d+", "+b+"]")}})})},bindGuestRegisterFormValidation:function(){$("#epsonGuestRegisterForm").validate({onkeyup:function(a,b){if(b.which===9&&this.elementValue(a)===""){return}else{this.element(a)}if($("#email").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}if($("#confirm_password").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}},rules:{pwd:{required:true,minlength:8,checklower:true,checkupper:true,checkdigit:true,checkspecial:true},checkPwd:{minlength:8,required:true,pwdEqualTo:"#password"}}})},bindPasswordCheck:function(){$("#password").on("keyup",function(){var a=$(this).val();if(a.length<8){$("#length").removeClass("valid").addClass("invalid")}else{$("#length").removeClass("invalid").addClass("valid")}if(a.match(/([$,^,&,%,@,+,=])/)){$("#letter").removeClass("invalid").addClass("valid")}else{$("#letter").removeClass("valid").addClass("invalid")}if(a.match(/[A-Z]/)&&a.match(/[a-z]/)){$("#capital").removeClass("invalid").addClass("valid")}else{$("#capital").removeClass("valid").addClass("invalid")}if(a.match(/\d/)){$("#number").removeClass("invalid").addClass("valid")}else{$("#number").removeClass("valid").addClass("invalid")}})},bindEmailValidationPopup:function(){var b=$("#emailValidationRequired").is(":checked");var a=$("#showEmailValidationPopup").is(":checked");if(b&&a){if($(".guest-section.makeitleft").length){$(".email-pop-up").each(function(){if($(this).parents(".hidden").length){$(this).remove()}})}$("#model-button").click();ACC.analytics.fireErrorEvent1("validity_email_validation_error","[serverside]","[Validity:double check your email]")}$(".input-email").on("blur",function(){var d=$("#emailValidationRequired").is(":checked");var c=$("#showEmailValidationPopup").is(":checked");if(d&&c){$("#alter-email").attr("checked",true)}});$(".register_Register_button").on("click",function(){var c=$("#showEmailValidationPopup").is(":checked");var d=$("#alter-email").is(":checked");if(c&&!d){$("#emailValidationRequired").attr("checked",false);$("#showEmailValidationPopup").attr("checked",false);$("#alter-email").attr("checked",false)}if($("#epsonRegisterForm").valid()){$("#epsonRegisterForm").submit()}});$(".profileEmail").on("blur",function(){var d=$("#emailValidationRequired").is(":checked");var c=$("#showEmailValidationPopup").is(":checked");if(d&&c){$("#alter-email").attr("checked",true)}});$("#update-email-button").on("click",function(){var d=$("#showEmailValidationPopup").is(":checked");var e=$("#alter-email").is(":checked");$("#alter-email").attr("checked",false);oFormObject=document.forms.updateEmailForm;var c=$(this).data("emailvalidation");if(d&&!e){$("#emailValidationRequired").attr("checked",false);oFormObject.elements.emailValidationRequired.value=false;$("#showEmailValidationPopup").attr("checked",false);oFormObject.elements.showEmailValidationPopup.value=false}else{if(c){oFormObject.elements.emailValidationRequired.value=true;oFormObject.elements.showEmailValidationPopup.value=true}}});$(".guestCheckoutBtn").on("click",function(){var c=$("#showEmailValidationPopup").is(":checked");var d=$("#alter-email").is(":checked");if(c&&!d){$("#emailValidationRequired").val(0);$("#showEmailValidationPopup").val(0);$("#alter-email").attr("checked",false);$("#guestForm").submit()}})},bindUpdateEmailForm:function(){$("#updateEmailForm").on("submit",function(){$("#update-email-button").attr("disabled","disabled")})},bindLoginForm:function(){$("#loginForm").on("submit",function(){$(".submit-login-btn").attr("disabled","disabled");var d="account_sign_in";var b="account";var e="submit-login-btn";var c="btn";var a=$(".submit-login-btn").html();ACC.analytics.fireTealiumEvent_4(d,b,e,c,a,null)});if($("#loginFormModal").length){ACC.globalid.bindLoginModalForm()}},bindLoginModalForm:function(){$("#loginFormModal").on("submit",function(){$(".submit-login-btn").attr("disabled","disabled");var d="account_sign_in";var b="account";var e="submit-login-btn-modal";var c="btn";var a=$(".submit-login-btn").html();ACC.analytics.fireTealiumEvent_4(d,b,e,c,a,null)});$("#loginFormModal").validate({onkeyup:function(a,b){if(b.which===9&&this.elementValue(a)===""){return}else{this.element(a)}if($("#j_username_modal").hasClass("valid")){$(".bi-check").show()}else{$(".bi-check").hide()}},rules:{j_password:{required:true},j_username:{required:true,email:true}},messages:{email:"Invalid email format"}})},bindLogoutEvent:function(){if($("#tealiumLogoutDiv").length&&$("#tealiumLogoutDiv").data("logout")){var d="account_sign_out";var b="account";var e="headerLinkLogout";var c="btn";var a=$("#tealiumLogoutDiv").data("link-text");ACC.analytics.fireTealiumEvent_4(d,b,e,c,a,null)}}};const bindPwdDisplayEvent=function(b,a){ensureValid(b,a);const c=document.querySelector("#"+b);if(c==null){return}$("#"+a).on("click",function(){const d=c.getAttribute("type")==="password"?"text":"password";c.setAttribute("type",d);this.classList.toggle("bi-eye");$(this).toggleClass("bi-eye")})};const bindValidation=function(a){ensureValid(a);if(!a.hasClass("checkout-login-form")){a.find("button[type=submit], input[type=submit]").prop("disabled","disabled")}a.find("input").on("blur keyup change focusout",function(){validateForm(a)});$(".removeattribute").keyup(function(){$("button").removeAttr("disabled")})};const validateForm=function(a){if(a.validate().checkForm()){a.find("button[type=submit], input[type=submit]").prop("disabled",false)}else{if(!a.hasClass("checkout-login-form")){a.find("button[type=submit], input[type=submit]").prop("disabled","disabled")}}};const ensureValid=function(){for(let i in arguments){if(arguments[i]==""||arguments[i]==null){return}}};const isSigninPwdValidationRequired=function(){let isSpecialCustomer=$("#isSpecialCustomer").val();if(isSpecialCustomer==="true"){return false}return true};$(document).ready(function(){$.validator.addMethod("checklower",function(a){return/[a-z]/.test(a)});$.validator.addMethod("checkupper",function(a){return/[A-Z]/.test(a)});$.validator.addMethod("checkdigit",function(a){return/[0-9]/.test(a)});$.validator.addMethod("checkspecial",function(a){return/[$,^,&,%,@,+,=]/.test(a)});$.validator.addMethod("customemail",function(a){return/^[0-9A-Za-z!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9.-]+(\.[a-zA-Z0-9-]+)+$/g.test(a)});$.validator.addMethod("emlEqualTo",function(a,c,b){return $(b).val()===a});$.validator.addMethod("pwdEqualTo",function(a,c,b){return $(b).val()===a});$(".hide-li").click(function(){$(".toogle-this-class").toggleClass("hide-change-password")})});function validateRegisterButton(){var a=false;$("#epsonRegisterForm input:visible").each(function(){if($(this).val()==""){a=true}});if(a){$(".register_Register_button").attr("disabled",true)}else{$(".register_Register_button").attr("disabled",false)}};
</script>

</body>
</html>
