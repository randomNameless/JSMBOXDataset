<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wyn-analytics-script.html</title>
</head>
<body>

<script>
"use strict";var SESSION_COOKIE="OT_WHG_SESSION",referrerCookieName="firstReferringBrand",session=getSessionObj(),pageUrl=decodeURIComponent(window.location.href),initObj={page:{pageInfo:{pageName:"",pagePath:"",destinationURL:"",referringURL:"",language:"",geoRegion:"",systemEnv:"",lastModified:"",effectiveDate:"",referringBrand:"",breadCrumbs:"",brand:"",channel:""},category:{primaryCategory:"",brand:"",breadCrumbs:""},globaPageType:""},package:{packageInfo:{packageNames:"",packageSelected:""}},search:{searchInfo:{age:"",destination:"",checkIn:"",checkOut:"",roomNights:"",rooms:"",adults:"",children:"",totalGuests:"",rewardsPoints:"",specialRate:"",specialRateType:"",specialRateCode:"",initialRateCode:"",iataCode:"",searchResultsCount:"",searchChannel:"",searchBrand:"",currentLocation:"",searchQueryType:""},alert:{alertMessage:"",alertType:"",alertValue:""},filter:{refinementType:"",refinementSelection:"",dynamicLocResults:"",preSavedRefinementType:"",preSavedRefinementSelection:"",bookingPreferenceType:"",bookingPreferenceSelection:""},display:{displaySelection:"",selectionToggle:""},updateSearchData:!0},property:{propertyInfo:{propertyImg:"",siteID:"",brandID:"",tierBrandID:"",propertyName:"",propertyCity:"",propertyState:"",propertyPostal:"",propertyCountry:"",imageResolution:"",tierNum:"",favoriteSiteID:"",propertySiteID:""},alert:{alertMessage:"",alertType:"",alertValue:""}},roomsRates:{display:{selectionToggleView:""},alert:{alertMessage:"",alertType:"",alertValue:""},filter:{refinementType:"",refinementSelection:""}},booking:{bookingInfo:{roomName:"",roomType:"",rateName:"",ratePlan:"",averageDailyRate:"",taxesFees:"",totalExclusive:"",totalInclusive:"",currencyCode:""},cancelBookingInfo:{siteID:"",brandID:"",tierBrandID:"",propertyName:"",propertyCity:"",propertyState:"",propertyPostal:"",propertyCountry:""}},confirmation:{confirmInfo:{customerCity:"",customerState:"",customerPostal:"",customerCountry:"",brandOffersOptIn:"",wyndhamOffersOptIn:"",wyndhamRewardsOptIn:"",paymentType:"",directBillNumber:"",confirmationNumber:"",bookingWindow:"",wyndhamRewardsPartnerOptIn:""},cancelConfirmInfo:{confirmationNumber:"",cancelledConfirmationNumber:"",cancelledTotalExclusive:"",cancelledTotalInclusive:"",penaltyFee:""}},modify:{booking:{bookingInfo:{originalCheckIn:"",originalCheckOut:"",originalRoomNights:"",originalRooms:"",originalAdults:"",originalChildren:"",originalTotalGuests:"",originalSpecialRate:"",originalSpecialRateType:"",originalSpecialRateCode:"",originalRoomName:"",originalBedtype:"",originalRateName:"",originalRatePlan:"",originalTaxesFees:"",originalTotalExclusive:"",originalTotalInclusive:""}},roomsRates:{propertyInfo:{siteID:"",brandID:"",propertyName:"",propertyCity:"",propertyState:"",propertyPostal:"",propertyCountry:""}},review:{reviewInfo:{newCheckIn:"",newCheckOut:"",newRoomNights:"",newRooms:"",newAdults:"",newChildren:"",newTotalGuests:"",newSpecialRate:"",newSpecialRateType:"",newSpecialRateCode:"",netChangeExclusive:"",netChangeInclusive:""},bookingInfo:{newRoomName:"",newRoomType:"",newRateName:"",newRatePlan:"",newAverageDailyRate:"",newTaxesFees:"",newExclusivePrice:"",newInclusivePrice:"",currencyCode:""}},confirmation:{confirmationInfo:{customerCity:"",customerState:"",customerPostal:"",customerCountry:"",confirmationNumber:"",bookingWindow:""}}},event:{eventInfo:{eventName:""},pageComponents:{componentType:"",componentLocation:"",componentName:""},download:{documentName:""},contactUs:{formName:""},apply:{creditForm:""}},error:{errorInfo:{errorMessage:"",errorFormMessage:"",errorType:""}},user:{userInfo:{authenticated:getAuthenticated(),addressType:"",wyndhamRewardsID:getWyndhamRewardsID(),pointsExpiration:getPointsExpiration(),pointsBalance:getPointsBalance(),memberLevel:getMemberLevel(),memberProgression:getMemberProgression(),attribute:""},preferences:{subscribeEstatements:"",earningSelection:"",hotelBrandSelection:"",bookingPreferenceType:"",bookingPreferenceSelection:""}},visitor:{visitorInfo:{marketingCloudVisitorID:""}},version:{versionInfo:{dataLayerVersion:""}},rewards:{claim:{claimType:"",claimPoints:{voucher:""},caesarsMatch:{partner:"",subscribeEStatements:""}},activity:{videoName:"",videoType:""}},perfMetrics:{wynSiteParsing:{startTime:"",duration:""},wynSiteInteractive:{startTime:"",duration:""},wynMainCssParse:{startTime:"",duration:""},wynTargetParse:{startTime:"",duration:""},wynHeadThirdpartyParse:{startTime:"",duration:""},wynBodyThirdpartyParse:{startTime:"",duration:""},wynBookingBarLoad:{startTime:"",duration:""},wynBookingBar:{startTime:"",duration:""},wynFontParsing:{startTime:"",duration:""},wynPrefetch:{startTime:"",duration:""},wynDtmParse:{startTime:"",duration:""},wynSpeedrfpParse:{startTime:"",duration:""},wynAtfContentHomepage:{startTime:"",duration:""},wynAtfContentSearch:{startTime:"",duration:""},wynAtfContentProperty:{startTime:"",duration:""},wynAtfContentRoomsRates:{startTime:"",duration:""},wynAtfContentBooking:{startTime:"",duration:""}},buyNowPayLater:{brandStatus:"",propertyStatus:"",serviceStatus:"",offerStatus:"",tokenStatus:"",buyNowPayLaterStatusFired:"",status:"",rateClick:"",APIStatus:"",APITracker:"",formInitialized:!1,responseReasonCode:null},currencyConverter:{currency:"",previousCurrency:""},packages:{packageName:"",nameOfLinkClicked:"",packageCategory:"",packageCartQuantity:"",packageCartVal:""},SMS:{overlay:{giveAwayAmount:""}},totalPriceDisplay:{experience:getTPDExperience()}};function getTPDExperience(){const e=sessionStorage.getItem("tpdExperience");return e||""}function setDigitalData(){!sessionStorageAvailable()||!sessionStorage.digitalData||window.digitalData&&0!=Object.keys(window.digitalData).length?window.digitalData=Object.assign(initObj,window.digitalData):window.digitalData=Object.assign(initObj,JSON.parse(sessionStorage.digitalData))}function sessionStorageAvailable(){try{return sessionStorage.testStorage=1,void 0!=sessionStorage.testStorage}catch(e){return!1}}function getAuthenticated(){return session&&session.state&&"AUTHENTICATED"===session.state?"yes":"no"}function getWyndhamRewardsID(){return session&&session.membershipId?session.membershipId:""}function getMemberLevel(){return session&&session.level?session.level:""}function getMemberProgression(){var e=getNextLevel(),a=!session||"Diamond"!==session.level&&"Titanium"!==session.level?session.nightsNeeded||"":0,t="";return""!==e&&""!==a&&(t+=a+" nights|"+e),t}function getPointsBalance(){return session&&session.points?session.points:""}function getPointsExpiration(){return session&&session.expiration?session.expiration:""}function getPropertyInfo(){$(".page").is(".property-page")&&($(".banner-img").hasClass("hi-res")||$(".uu-hero-carousel").length>0?window.digitalData.property.propertyInfo.imageResolution="high-res":window.digitalData.property.propertyInfo.imageResolution="low-res",window.digitalData.property.propertyInfo.siteID=pad(window.propertyInfo.siteID,5),window.digitalData.property.propertyInfo.brandID=window.propertyInfo.propertyBrand,window.digitalData.property.propertyInfo.tierBrandID=window.propertyInfo.propertyTierBrand,window.digitalData.property.propertyInfo.propertyName=window.propertyInfo.propertyName,window.digitalData.property.propertyInfo.propertyCity=window.propertyInfo.propertyCity,window.digitalData.property.propertyInfo.propertyState=window.propertyInfo.propertyState,window.digitalData.property.propertyInfo.propertyPostal=pad(window.propertyInfo.propertyPostal,5),window.digitalData.property.propertyInfo.propertyCountry=window.propertyInfo.propertyCountry,window.digitalData.property.propertyInfo.tierNum="",$(".notification-headline").length?(window.digitalData.property.alert.alertMessage="yes",window.digitalData.property.alert.alertValue=$(".notification-description").html().replace(/(\r\n|\n|\r)/gm,"").trim(),window.digitalData.property.alert.alertType="Property Alert"):(window.digitalData.property.alert.alertMessage="no",window.digitalData.property.alert.alertValue="",window.digitalData.property.alert.alertType=""))}function getRoomsRatesInfo(){$(".page").is(".rooms-rates-page")&&(window.digitalData.property.propertyInfo.siteID=pad(window.overview_propertyId,5),window.digitalData.property.propertyInfo.brandID=window.overview_brandId,window.digitalData.property.propertyInfo.tierBrandID=window.overview_brandTier,window.digitalData.property.propertyInfo.propertyName=window.overview_propertyName,window.digitalData.property.propertyInfo.propertyCity=window.property_city_name,window.digitalData.property.propertyInfo.propertyState=window.property_state_code,window.digitalData.property.propertyInfo.propertyPostal=pad(window.property_postal_code,5),window.digitalData.property.propertyInfo.propertyCountry=window.property_country_code,window.digitalData.property.propertyInfo.imageResolution="",window.digitalData.property.propertyInfo.tierNum="")}function resetComponentClicks(){window.digitalData.event.pageComponents.componentType="",window.digitalData.event.pageComponents.componentLocation="",window.digitalData.event.pageComponents.componentName="",window.digitalData.event.eventInfo.eventName=""}function handleAvCalendarAnalytics(){null!=getParameterByName("availCalUsed")?(window.digitalData.search.searchInfo.availCalUsed="yes",window.digitalData.search.searchInfo.checkIn=getDateFromUrl(getParameterByName("checkInDate")),window.digitalData.search.searchInfo.checkOut=getDateFromUrl(getParameterByName("checkOutDate"))):window.digitalData.search.searchInfo.availCalUsed="no",null!=getParameterByName("availCalUsed")&&(window.digitalData.search.searchInfo.originalCheckInOut=getParameterByName("availCalUsed"))}function getDateFromUrl(e){var a=e.split("/");return parseFloat(a[0])<10&&a[0].length<2&&(a[0]="0"+a[0]),parseFloat(a[1])<10&&a[1].length<2&&(a[1]="0"+a[1]),a[2]+"-"+a[0]+"-"+a[1]}function resetMultiRoom(){$(".page").hasClass("modify-page")||$(".page").hasClass("confirmation-page")||(window.digitalData.booking.bookingInfo.multiRoom=[])}function getPageInfo(){var e="";e=window.innerWidth>1199?"desktop":window.innerWidth>719?"tablet":"mobile",window.digitalData.page.category={brand:"",breadCrumbs:"",primaryCategory:""},window.digitalData.page.pageInfo.pageName=window.pageProperties&&window.pageProperties.pageName||window.digitalData.page.pageInfo.pageName||null,window.digitalData.page.pageInfo.pagePath=window.pageProperties&&window.pageProperties.pagePath.replace("/jcr:content","")||window.digitalData.page.pageInfo.pagePath||null,window.digitalData.page.pageInfo.language=window.pageProperties&&window.pageProperties.language||window.digitalData.page.pageInfo.geoRegion&&window.digitalData.page.pageInfo.geoRegion.split("-")[0]||null,window.digitalData.page.pageInfo.geoRegion=window.pageProperties&&window.pageProperties.geoRegion||window.digitalData.page.pageInfo.geoRegion&&window.digitalData.page.pageInfo.geoRegion.split("-")[1]||null,window.digitalData.page.pageInfo.systemEnv=e,window.digitalData.page.pageInfo.effectiveDate=window.pageProperties&&window.pageProperties.lastModified||window.digitalData.page.pageInfo.lastModified||null,window.digitalData.page.category.brand=window.pageProperties&&window.pageProperties.brand||window.digitalData.page.pageInfo.brand||null,window.digitalData.page.category.breadCrumbs=window.pageProperties&&window.pageProperties.breadCrumbs||window.digitalData.page.pageInfo.breadCrumbs||window.digitalData.page.category.brand+"|"+window._LOCALE_.split("-")[0]+"|"+window._LOCALE_.split("-")[1]+"|"+window.digitalData.page.pageInfo.channel+"|"+window.digitalData.page.pageInfo.pageName||null,window.digitalData.page.category.primaryCategory=window.pageProperties&&window.pageProperties.channel||window.digitalData.page.pageInfo.channel||null,window.digitalData.page.pageInfo.destinationURL=removeQuery(pageUrl),window.digitalData.page.pageInfo.referringBrand=getReferringBrand();let a=window.digitalData.page.pageInfo,t=window.digitalData.page.category;a.pageName&&a.pageName.length>0||(window.digitalData.page.pageInfo.pageName=window.pageProperties.pagePath.replace("/jcr:content","").split("/")[window.pageProperties.pagePath.replace("/jcr:content","").split("/").length-1],console.error("Analytic Error-'pageName' Before value: "+a.pageName+" - After value: "+window.digitalData.page.pageInfo.pageName)),a.pagePath&&a.pagePath.length>0||(window.digitalData.page.pageInfo.pagePath=window.pageProperties.pagePath,console.error("Analytic Error-'pagePath' Before value: "+a.pagePath+" - After value: "+window.digitalData.page.pageInfo.pagePath)),a.language&&a.language.length>0||(window.digitalData.page.pageInfo.language=window._LOCALE_.split("-")[0],console.error("Analytic Error-'language' Before value: "+a.language+" - After value: "+window.digitalData.page.pageInfo.language)),a.geoRegion&&a.geoRegion.length>0||(window.digitalData.page.pageInfo.geoRegion=window._LOCALE_.split("-")[1],console.error("Analytic Error-'geoRegion' Before value: "+a.geoRegion+" - After value: "+window.digitalData.page.pageInfo.geoRegion)),a.systemEnv&&a.systemEnv.length>0||(window.digitalData.page.pageInfo.systemEnv=window.systemEnv,console.error("Analytic Error-'systemEnv' Before value: "+a.systemEnv+" - After value: "+window.digitalData.page.pageInfo.systemEnv)),a.effectiveDate&&a.effectiveDate.length>0||(window.digitalData.page.pageInfo.effectiveDate=window.lastModified,console.error("Analytic Error-'effectiveDate' Before value: "+a.effectiveDate+" - After value: "+window.digitalData.page.pageInfo.effectiveDate)),t.brand&&t.brand.length>0||(window.digitalData.page.category.brand=window.brand||getBrand(),console.error("Analytic Error-'brand' Before value: "+t.brand+" - After value: "+window.digitalData.page.category.brand)),t.breadCrumbs&&t.breadCrumbs.length>0||(window.digitalData.page.category.breadCrumbs=window.pageProperties&&window.pageProperties.breadCrumbs?window.pageProperties.breadCrumbs:window.digitalData.page.pageInfo.breadCrumbs?window.digitalData.page.pageInfo.breadCrumbs:window.breadCrumbs?window.breadCrumbs:null,console.error("Analytic Error-'breadCrumbs' Before value: "+t.breadCrumbs+" - After value: "+window.digitalData.page.category.breadCrumbs)),t.primaryCategory&&t.primaryCategory.length>0||(window.digitalData.page.category.primaryCategory=window.pageProperties&&window.pageProperties.channel?window.pageProperties.channel:window.digitalData.page.pageInfo.channel?window.digitalData.page.pageInfo.channel:null,console.error("Analytic Error-'primaryCategory' Before value: "+t.primaryCategory+" - After value: "+window.digitalData.page.category.primaryCategory)),a.destinationURL&&a.destinationURL.length>0||(window.digitalData.page.pageInfo.destinationURL=pageUrl.split("?")[0],console.error("Analytic Error-'destinationURL' Before value: "+a.destinationURL+" - After value: "+window.digitalData.page.pageInfo.destinationURL)),a.referringBrand&&a.referringBrand.length>0||(window.digitalData.page.pageInfo.referringBrand=getReferringBrand(),console.error("Analytic Error-'referringBrand' Before value: "+a.referringBrand+" - After value: "+window.digitalData.page.pageInfo.referringBrand))}function getReferringBrand(){var e=readCookie(referrerCookieName),a=getBrand(),t="";return window.previousReferrerCookieOnLoad=!1,e?(t=e,window.previousReferrerCookieOnLoad=!0):""!==a?createReferrerCookie(t=a):console.log("Referring brand is not available."),t||""}function setGlobPageType(){void 0!==window.is_fully_translated&&(window.digitalData.page.pageInfo.globaPageType=window.is_fully_translated?"full":"lite")}function setMarketingCloudVisitorID(){void 0!==window._satellite&&(window.digitalData.visitor.visitorInfo.marketingCloudVisitorID=window._satellite?window._satellite.getVisitorId().getMarketingCloudVisitorID():"")}function setIataCode(){let e="",a=getURLParamsObj(),t=readCookie("pfpCookie"),r=readCookie("iataCookie"),o=getObjFromSessionStorage("criteria");a.iata&&""!==a.iata?e=a.iata:(t&&(e=t),r?e=r:o.iata&&(e=o.iata)),window.digitalData.search.searchInfo.iataCode=e}function readCookie(e){for(var a=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(a))return o.substring(a.length,o.length)}return null}function getSessionObj(){var e=SESSION_COOKIE,a=localStorage.getItem(e)||"";if(a&&"string"==typeof a)try{a=JSON.parse(a)}catch(e){return""}return a}function pad(e,a){return e.toString().length<a?pad("0"+e,a):e}function getParameterByName(e,a){a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#?]*)|&|#|$)").exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function resetErrorMessages(){window.digitalData&&(window.digitalData.error.errorInfo.errorMessage="",window.digitalData.error.errorInfo.errorFormMessage=[])}function removeQuery(e){return""!=e&&null!=e&&void 0!=e&&(e=(e=(e=e.split("?")[0]).split("#")[0]).split("&")[0]),e}function getBrand(){var e="";return window.pageProperties&&window.pageProperties.brand?e=window.pageProperties.brand:void 0!==getBrandName?e=getBrandName():window.brandMap&&window.brand_id&&window.brandMap.hasOwnProperty(window.brand_id)?e=window.brandMap[window.brand_id]:console.log("Unable to get brand name."),"umbrella"===e&&(e="wyndham-hotel-group"),e||""}function getBrandName(){return"object"==typeof window.brandMap&&window.brand_id?window.brandMap[window.brand_id]:null}function createReferrerCookie(e){createCookie(referrerCookieName,e,fromMinutesToDays(30))}function fromMinutesToDays(e){return e/1440}function createCookie(e,a,t){var r="";if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),r="; expires="+o.toGMTString()}document.cookie=e+"="+a+r+"; path=/; secure"}function getUserInfo(){session&&"AUTHENTICATED"===session.state?window.digitalData.user.userInfo.authenticated="Yes":window.digitalData.user.userInfo.authenticated="No",session&&session.state.match(/(AUTHENTICATED)/)?(window.digitalData.user.userInfo.wyndhamRewardsID=session.membershipId,window.digitalData.user.userInfo.pointsExpiration=session.pointsExpiration,window.digitalData.user.userInfo.pointsBalance=session.points,window.digitalData.user.userInfo.memberLevel=session.level,window.digitalData.user.userInfo.memberProgression=setMemberProgression()):(window.digitalData.user.userInfo.wyndhamRewardsID="",window.digitalData.user.userInfo.pointsExpiration="",window.digitalData.user.userInfo.pointsBalance="",window.digitalData.user.userInfo.memberLevel="",window.digitalData.user.userInfo.memberProgression="",window.digitalData.user.userInfo.attribute="")}function setMemberProgression(){var e=getNextLevel(),a=!session||"Diamond"!==session.level&&"Titanium"!==session.level?session.nightsNeeded||null:0;return e&&null!==a?a+" nights|"+e:""}function getNextLevel(){switch(session&&session.level.toLowerCase()){case"blue":return"gold";case"gold":return"platinum";case"platinum":case"diamond":return"diamond";case"titanium":return"titanium";default:return""}}function getObjFromSessionStorage(e){let a={};return sessionStorageAvailable()&&sessionStorage[e]&&(a=Object.assign(a,JSON.parse(sessionStorage[e]))),a}function getURLParamsObj(e){let a=e||window.location.search,t={};return decodeURIComponent(a).replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,a,r){""!==r&&(t[a]=r)}),t}function init(){setDigitalData(),window.digitalData.buyNowPayLater||(window.digitalData.buyNowPayLater={}),getUserInfo(),getPropertyInfo(),getRoomsRatesInfo(),resetComponentClicks(),handleAvCalendarAnalytics(),resetErrorMessages(),resetMultiRoom(),getPageInfo(),setGlobPageType(),setMarketingCloudVisitorID(),setIataCode()}init();
//# sourceMappingURL=wyn-analytics-script.js.map
</script>

</body>
</html>
