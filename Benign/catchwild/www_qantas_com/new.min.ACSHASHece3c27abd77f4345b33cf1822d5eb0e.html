<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>new.min.ACSHASHece3c27abd77f4345b33cf1822d5eb0e.html</title>
</head>
<body>

<script>
const handledNewTabs = () => {
  const tabContainers = document.querySelectorAll('.cx25-tabs.cmp-tabs--new');

  tabContainers.forEach((container) => {
    const options = {
      maxTabsMobile: 2,
      maxTabsDesktop: 5,
      currentActiveTab: container.querySelector('.cmp-tabs__tab--active'),
      mobileTablistDropdown: container.querySelector(
        '.mobile-tablist-dropdown',
      ),
      mobileSelectSelected: container.querySelector('.select-selected-label'),
      mobileTablistButtons: container.querySelectorAll('.tablist-button'),
      desktopTabs: container.querySelectorAll('.cmp-tabs__tab'),

      tablistItemActiveSelector: '.tablist-item--active',
      tablistItemSelector: '.tablist-item',
      cmpTabsTabSelector: '.cmp-tabs__tab',
      cmpTabsTabPanelSelector: '.cmp-tabs__tabpanel',
      tabListSelector: '.tablist-item',

      tablistItemActiveClassName: 'tablist-item--active',
      cmpTabsTabActiveClasName: 'cmp-tabs__tab--active',
      cmpTabsTabPanelActiveClassName: 'cmp-tabs__tabpanel--active',
      dropdownOpenClassName: 'mobile-tablist-dropdown--open',
      showDropdownMobileClassName: 'show-drop-down-mobile',
      showDropdownDesktopClassName: 'show-drop-down-desktop',
    };

    const tabCount = container.querySelectorAll(
      options.cmpTabsTabSelector,
    ).length;

    if (tabCount > options.maxTabsMobile) {
      container?.firstChild?.classList.add(options.showDropdownMobileClassName);
      if (tabCount > options.maxTabsDesktop) {
        container?.firstChild?.classList.add(
          options.showDropdownDesktopClassName,
        );
      }
    } else {
      // No dropdown needed, skip processing it
      return;
    }

    const switchTab = (selectedTab, shouldUpdateFromURL = true) => {
      let listItem = selectedTab.parentElement;
      let isTabActive = listItem.className.includes(
        options.tablistItemActiveSelector,
      );

      if (isTabActive) return;

      options.mobileSelectSelected.firstElementChild.textContent =
        selectedTab.textContent.trim();

      let mobileTabs = container.querySelectorAll(options.tablistItemSelector);
      let tabs = container.querySelectorAll(options.cmpTabsTabSelector);
      let tabPanels = container.querySelectorAll(
        options.cmpTabsTabPanelSelector,
      );

      //reset tabs
      mobileTabs.forEach((tab) => {
        tab.classList.remove(options.tablistItemActiveClassName);
        tab.firstElementChild.setAttribute('aria-selected', false);
      });

      tabs.forEach((tab) => {
        tab.classList.remove(options.cmpTabsTabActiveClasName);
        tab.firstElementChild.setAttribute('aria-selected', false);
      });

      let newActivePanelID = selectedTab.getAttribute('id');
      let newActiveRemoveMobileID = newActivePanelID.replace('-mobile', '');
      let newActivePanel = container.querySelector(
        `#${newActiveRemoveMobileID}-tabpanel`,
      );

      //reset tab-panels
      tabPanels.forEach((tabPanel) => {
        if (newActivePanel != tabPanel) {
          tabPanel.classList.remove(options.cmpTabsTabPanelActiveClassName);
          tabPanel.setAttribute('aria-hidden', true);
        }
      });

      //set new active tab
      listItem.classList.add(options.tablistItemActiveClassName);
      selectedTab.setAttribute('aria-selected', true);

      //set new active desktop tab
      container
        .querySelector(`#${selectedTab.id}`)
        .classList.add(options.cmpTabsTabActiveClasName);

      //set new active tab panel
      newActivePanel.classList.add(options.cmpTabsTabPanelActiveClassName);
      newActivePanel.setAttribute('aria-hidden', false);

      if (shouldUpdateFromURL) {
        let newRelativePathQuery =
          window.location.pathname + `#${selectedTab.id}`;
        history.pushState(null, '', newRelativePathQuery);
      }
    };

    const setActiveTab = (event) => {
      let thisTab = event.target;

      let mobileTab = options.mobileTablistDropdown.querySelector(
        `#${thisTab.id}`,
      );

      switchTab(mobileTab);

      options.mobileTablistDropdown.classList.remove(
        options.dropdownOpenClassName,
      );
    };

    const setupListeners = () => {
      options.desktopTabs.forEach((tab) => {
        tab.addEventListener('click', setActiveTab);
      });

      options.mobileTablistButtons.forEach((button) => {
        button.addEventListener('click', setActiveTab);
      });

      //toggle dropdown menu
      options.mobileSelectSelected.addEventListener('click', (event) => {
        event.stopPropagation();
        options.mobileTablistDropdown.classList.toggle(
          options.dropdownOpenClassName,
        );
      });

      //close when user clicks outside of dropdown
      document.addEventListener('click', () => {
        options.mobileTablistDropdown.classList.remove(
          options.dropdownOpenClassName,
        );
      });

      options.mobileSelectSelected.firstElementChild.textContent =
        options.currentActiveTab.textContent;
    };

    const updateActiveTabFromURL = () => {
      let queryStringTabId = window.location.hash;

      if (queryStringTabId) {
        const activeTabButtonElement = container.querySelector(
          `.tablist-button${queryStringTabId}`,
        );

        if (activeTabButtonElement) {
          switchTab(activeTabButtonElement, false);
        }
      } else {
        const firstMobileTab = container.querySelectorAll(
          options.tabListSelector,
        )[0];
        firstMobileTab.classList.add(options.tablistItemActiveClassName);
      }
    };

    const init = () => {
      setupListeners();
      updateActiveTabFromURL();
    };

    init();
  });
};

document.addEventListener('DOMContentLoaded', handledNewTabs);

</script>

</body>
</html>
