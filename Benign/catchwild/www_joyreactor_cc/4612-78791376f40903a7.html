<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4612-78791376f40903a7.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4612],{75589:function(e,n,a){var t=a(91309),l=a(85893),s=a(67294),i=a(44012),r=a(8107),o=a.n(r),d=a(11163),u=a(65400),c=a.n(u),m=a(39906);n.Z=function(e){var n,a=e.maxHeight,r=e.collapsedHeight,u=e.children,g=o()(),p=g.ref,f=g.height,h=void 0===f?50:f,y=(0,s.useRef)(null),k=(0,t._)((0,s.useState)(!1),2),v=k[0],x=k[1],C=(0,t._)((0,s.useState)(!1),2),b=C[0],j=C[1],F=(0,t._)((0,s.useState)(0),2),w=F[0],K=F[1];(0,s.useEffect)(function(){0===w&&h>50&&K(h)},[h,w]),(0,s.useEffect)(function(){w>a&&x(!0)},[w,a]),n=!v||b?"100%":v?r:a;var S=(0,d.useRouter)();return(0,s.useEffect)(function(){var handleRouteChangeComplete=function(){j(!1),x(!0)};return b&&S.events.on("routeChangeComplete",handleRouteChangeComplete),function(){S.events.off("routeChangeComplete",handleRouteChangeComplete)}},[S.events,b]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{ref:p,style:b?{maxHeight:n,overflow:"clip"}:{maxHeight:n,overflow:"hidden"},className:"expand-wrapper relative",children:[b&&v&&w>5e3&&(0,l.jsx)("div",{className:"collapse-content-button",children:(0,l.jsx)(c(),{type:"primary",className:"opacity-80",icon:(0,l.jsx)(m.Z,{}),onClick:function(){y.current&&y.current.scrollIntoView(),j(!1)}})}),(0,l.jsx)("div",{ref:y,className:"absolute",style:{top:1e3,height:1},children:(0,l.jsx)("span",{})}),u]}),v&&!b&&(0,l.jsxs)("button",{onClick:function(){return j(!b)},type:"button",className:"expandable-post-content",children:[(0,l.jsx)(i.Z,{id:"Post.Expand",defaultMessage:"развернуть ↓"})," "]})]})}},14612:function(e,n,a){a.d(n,{Z:function(){return Post_Post}});var t=a(91309),l=a(85893),s=a(40875),i=a(75766),r=a(4586),o=a(68915),d=a(65400),u=a.n(d),c=a(67294),m=a(44012);function CommentBranch(e){var n=e.root,a=e.post,s=e.childrenComments,i=e.allowChildrenExpand,r=e.renderComment,d=e.collapseLevel,g=void 0===d?7:d,p=(0,c.useRef)(null),f=(0,t._)((0,c.useState)(n.level!==g||void 0!==s[n.id]&&s[n.id].important),2),h=f[0],y=f[1],k=n.level>=10?"comment-without-indentation":"comment-with-indentation",v=void 0!==s[n.id];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:p,children:(0,l.jsx)(o.Z,{comment:n,post:a,render:r,hasChildren:v})}),v&&(0,l.jsxs)("div",{className:"".concat(k," relative"),children:[h?(0,l.jsx)(l.Fragment,{children:s[n.id].children.map(function(e){return(0,l.jsx)(CommentBranch,{root:e,post:a,childrenComments:s,allowChildrenExpand:i,renderComment:r,collapseLevel:g},e.id)})}):(0,l.jsx)("div",{className:"comment comment-hidden",children:(0,l.jsxs)(u(),{block:!0,type:"link",onClick:function(){return y(!0)},className:"flex justify-start pb-0 mb-0 items-center decoration-transparent hover:decoration-transparent",children:[(0,l.jsx)("span",{children:(0,l.jsx)(m.Z,{id:"CommentTree.MoreComments",defaultMessage:"Комментов"})}),":"," ",s[n.id].count,s[n.id].newCount>0&&(0,l.jsxs)("span",{className:"ml-1 dark:text-green-highlightedcommentlight text-vote-dark-greenstroke font-normal",children:["+",s[n.id].newCount]})]})}),i&&(0,l.jsx)("button",{type:"button","aria-label":"ds",className:"absolute top-0 bottom-0 h-full bg-transparent border-l-4 comment-with-side-lines left-0 w-3",onClick:function(){return y(function(e){if(e&&p&&p.current){var n=p.current.getBoundingClientRect().bottom;(n>window.innerHeight||n<0)&&p.current.scrollIntoView()}return!e})}})]})]})}var g=a(6982),p=a(22578),f=a(26244),h=a(32615),y=a(1114),k=a(5152),v=a.n(k),x=a(68096),C=a(51905),b=a(72425),j=v()(function(){return Promise.all([a.e(1272),a.e(8700),a.e(4337),a.e(2386),a.e(2891),a.e(170),a.e(8077),a.e(8465),a.e(6534),a.e(1361),a.e(9215)]).then(a.bind(a,24921))},{loadableGenerated:{webpack:function(){return[24921]}},suspense:!0});function AddCommentSection(e){var n,a=e.expandedByDefault,s=e.postId,i=e.commentingAllowed,r=(0,t._)((0,c.useState)(a),2),o=r[0],d=r[1],g=(0,b.Pi)();return i?(0,l.jsx)("div",{className:"mt-1 mb-2 mt-4 px-1.5 sm:px-0",children:o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-xl",children:(0,l.jsx)(m.Z,{id:"CommentForm.Title",defaultMessage:"Написать коммент"})}),(0,l.jsx)(j,{parentId:s,postId:s})]}):(0,l.jsx)(u(),{type:"primary",onClick:function(){return d(!0)},icon:(0,l.jsx)(h.Z,{}),children:(0,l.jsx)("span",{children:(0,l.jsx)(m.Z,{id:"CommentForm.Title",defaultMessage:"Написать коммент"})})})}):i||!g.isAuthenticated||(null===(n=g.me)||void 0===n?void 0:n.user.active)?g.isAuthenticated?(0,l.jsx)("div",{}):(0,l.jsxs)("div",{className:"comment",children:[(0,l.jsx)(y.Z,{className:"mr-2"}),(0,l.jsx)(m.Z,{id:"CommentForm.Error.Unauthenticated",defaultMessage:"Чтобы написать коммент, необходимо залогиниться"})]}):(0,l.jsxs)("div",{className:"comment",children:[(0,l.jsx)(y.Z,{className:"mr-2"}),(0,l.jsx)(m.Z,{id:"CommentForm.Error.Inactive1",defaultMessage:"Чтобы написать коммент, необходимо"})," ",(0,l.jsx)(C.Z,{route:(0,x.Z)(g.me.user.username),children:(0,l.jsxs)("span",{className:"underline",children:[" ",(0,l.jsx)(m.Z,{id:"CommentForm.Error.Inactive2",defaultMessage:"активировать аккаунт"})]})})]})}var F=a(4684),w=a(66620);function CommentTree(e){var n=e.post,a=e.comments,s=e.commentingAllowed,o=e.renderComment,d=e.showAll,h=e.type,y=e.isImportant,k=void 0===y?function(){return!1}:y,v=e.isNew,x=void 0===v?function(){return!1}:v,C=e.setNewCommentsList,b=(0,p.useFragment)(w,n),j=(0,p.useFragment)(F,a),K=(0,f.Z)(),S=(0,c.useMemo)(function(){return"ru"===K.locale?j:j.filter(function(e){return e.locale===K.locale})},[j,K.locale]),_=(0,t._)((0,c.useState)(d?0:100),2),T=_[0],A=_[1],P=b.id,N=(0,c.useMemo)(function(){var e=(0,i._)({},P,{count:0,children:[],newCount:0,important:!0,newComments:[]});return S.slice(0,S.length).sort(function(e,n){return e.level===n.level?(0,g.Q)(e.id).id-(0,g.Q)(n.id).id:n.level-e.level}).forEach(function(n){if(null!==n.parent&&void 0!==n.parent){var a,t,l,s,i=n.parent.id;void 0===e[i]&&(e[i]={count:0,children:[],newCount:0,important:!1,newComments:[]}),e[i].children.push(n),e[i].count+=1+(null!==(l=null===(a=e[n.id])||void 0===a?void 0:a.count)&&void 0!==l?l:0),(k(n)||null!==(s=null===(t=e[n.id])||void 0===t?void 0:t.important)&&void 0!==s&&s)&&(e[i].important=!0),x(n)&&(e[i].newCount+=1,e[i].newComments.push(n)),e[n.id]&&e[n.id].newComments.length>0&&(e[i].newCount+=e[n.id].newComments.length,e[i].newComments=(0,r._)(e[i].newComments).concat((0,r._)(e[n.id].newComments)))}}),e},[S,P,k,x]),Z=N[P].children;if((0,c.useEffect)(function(){void 0!==C&&C(N[P].newComments.length>0?N[P].newComments.flatMap(function(e){return(0,g.Q)(e.id).id}):[])},[N,P,C]),(0,c.useEffect)(function(){T>=S.length&&A(0)},[T,S]),0===S.length){if("best"===h)return null;if(!s)return(0,l.jsx)(AddCommentSection,{expandedByDefault:!1,postId:b.id,commentingAllowed:s})}var L=0;return(0,l.jsxs)(l.Fragment,{children:[Z.map(function(e){if(0===T||L<T){var n,a;return L+=1+(null!==(a=null===(n=N[e.id])||void 0===n?void 0:n.count)&&void 0!==a?a:0),(0,l.jsx)(CommentBranch,{root:e,post:b,allowChildrenExpand:"best"!==h,childrenComments:N,renderComment:o,collapseLevel:"discussion"===h?1:7},e.id)}}),0!==T&&L<S.length&&(0,l.jsx)(u(),{className:"mt-4",block:!0,onClick:function(){return A(L+100)},children:(0,l.jsx)(m.Z,{id:"CommentTree.MoreBranches",defaultMessage:"Показать еще"})}),(0===T||L>=S.length)&&"best"!==h&&(0,l.jsx)(AddCommentSection,{expandedByDefault:0===S.length,postId:b.id,commentingAllowed:s})]})}var K=a(4746),S=a(37670),_=a(94467),T=a(89552),A=a(80842),P=a(26910),N=a(41148),Z=a(7085),L=a(73328),M=a(79216);function CommentLoader(e){var n=e.render,a=e.queryReference,t=(0,p.usePreloadedQuery)(M,a),s=(0,b.Pi)();return a.variables.isAuthorised===s.isAuthenticated&&t.node&&t.node.comments?n(t.node.comments):(0,l.jsx)(T.Z,{size:"large"})}function PostComments(e){var n=e.post,a=e.comments,i=e.expanded,r=e.discussionMode,o=void 0!==r&&r,d=e.canBeBannedInTags,f=void 0===d?[]:d,h=(0,p.useFragment)(L,n),y=(0,b.Pi)(),k=(0,t._)((0,p.useQueryLoader)(M),2),v=k[0],x=k[1],C=(0,c.useRef)([]),j=(0,c.useRef)(!1),F=(0,t._)((0,c.useState)(y.isAuthenticated&&h.viewedCommentsAt&&h.commentsCount!==h.viewedCommentsCount),2),w=F[0],V=F[1],removeFromNewCommentsList=function(e){var n=C.current.filter(function(n){return n!==e});0===n.length&&V(!1),C.current=n},cleanupNewCommentList=function(){V(0),j.current=!1},I=(0,c.useCallback)(function(e){j.current&&j.current||(C.current=e,j.current=!0,V(e.length>0))},[]);(0,c.useEffect)(function(){a||(cleanupNewCommentList(),x({postId:h.id,isAuthorised:y.isAuthenticated},{fetchPolicy:"network-only"}))},[h.id,y.isAuthenticated,x,a]);var E=(0,c.useRef)(null),D=!!y.me&&(y.me.user.id===h.user.id||!!y.me.user.active),R=h.viewedCommentsAt,B=(0,c.useCallback)(function(e){var n;return y.isAuthenticated&&(!R||e.createdAt>R)&&(null===(n=y.me)||void 0===n?void 0:n.user.id)!==e.user.id},[R,y]),O=(0,c.useCallback)(function(e){var n,a=(0,g.Q)(e.id).id;return!!(window.location.hash==="#comment".concat(a.toString())||B(e))||!!y.isAuthenticated&&e.user.id===(null===(n=y.me)||void 0===n?void 0:n.user.id)},[R,y,B]),Q=(0,c.useCallback)(function(e,n,a){var t=(0,g.Q)(e.id).id,i=window.location.hash==="#comment".concat(t.toString());return(0,l.jsx)(s.ZP,{comment:e,post:n,type:"Post",id:"comment".concat(t),highlighted:i,commentingAllowed:D,votingAllowed:!!y.isAuthenticated&&y.me.user.id!==e.user.id&&Date.now()-Date.parse(e.createdAt)<=2592e5,isNew:B(e),hasChildren:null==a||a,removeFromNewCommentsList:y.isAuthenticated?removeFromNewCommentsList:void 0,canBeBannedInTags:f})},[f,D,y,B]),q=(0,c.useCallback)(function(){if(C.current&&0!==C.current.length){var e,n=C.current.shift();n&&(null===(e=document.getElementById("comment".concat(n)))||void 0===e||e.scrollIntoView()),0===C.current.length&&V(!1)}},[]),G=(0,c.useCallback)(function(e){var n,a,t=null!==(a=null===(n=E.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==a?a:null;("k"===e.key||"л"===e.key)&&((0,N.Z)(E)||t&&t.top<0&&t.bottom>0)&&q()},[E,q]);(0,c.useEffect)(function(){return y.isAuthenticated&&document.addEventListener("keydown",G),function(){document.removeEventListener("keydown",G)}},[G,y.isAuthenticated]);var render=function(e){return(0,l.jsxs)("div",{className:"relative",ref:E,children:[y.isAuthenticated&&h.commentsCount>=10&&R&&w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u(),{type:"primary",className:"absolute top-0 right-0 z-50",onClick:function(){return q()},children:[(0,l.jsx)("span",{children:(0,l.jsx)(m.Z,{id:"PostComments.ToUnread",defaultMessage:"к непрочитанному"})}),(0,l.jsxs)("span",{className:"hidden xl:inline ml-1",children:["(","k",")"]}),(0,l.jsx)(P.Z,{rotate:-90,className:"opacity-0"})]}),(0,l.jsx)(u(),{type:"primary",className:"opacity-80 absolute top-0 right-0 z-50",icon:(0,l.jsx)(P.Z,{rotate:-90}),onClick:function(){return q()}}),(0,l.jsx)("div",{className:"sticky z-40 top-2 right-0 flex justify-end mt-2 ",children:(0,l.jsx)(u(),{type:"primary",className:"opacity-80",icon:(0,l.jsx)(P.Z,{rotate:-90}),onClick:function(){return q()}})})]}):null,y.isAuthenticated&&R&&!w&&(0,l.jsx)("div",{className:"sticky z-40 top-10 mr-0 flex justify-end h-0",children:(0,l.jsx)(u(),{type:"default",className:"opacity-80 mt-4",icon:(0,l.jsx)(A.Z,{}),onClick:function(){window.location.hash.length>0&&(window.location.hash=""),cleanupNewCommentList(),x({postId:h.id,isAuthorised:y.isAuthenticated},{fetchPolicy:"network-only"}),E&&E.current&&E.current.scrollIntoView()}})}),(0,l.jsx)(CommentTree,{comments:e,post:h,showAll:i||R,commentingAllowed:D,renderComment:Q,isImportant:O,isNew:B,setNewCommentsList:y.isAuthenticated?I:void 0,type:o?"discussion":"regular"})]})};return a?(0,l.jsxs)(l.Fragment,{children:[y.showAds&&y.isInitialized&&(0,l.jsx)(Z.Z,{adSpot:"after-post",type:h.unsafe?"unsafe":"common"}),render(a)]}):v?(0,l.jsx)(S.Z,{onRetry:function(){x({postId:h.id,isAuthorised:y.isAuthenticated})},children:(0,l.jsx)(_.Z,{fallback:(0,l.jsx)(K.Z,{className:"py-2"}),children:(0,l.jsx)(CommentLoader,{render:render,queryReference:v})})}):(0,l.jsx)(T.Z,{size:"large"})}var V=a(23795),I=a(58452),E=a(54434),D=a(4863),R=a(94055),B=a(59361),O=a(20716),Q=v()(function(){return Promise.all([a.e(4337),a.e(4749),a.e(622),a.e(3039)]).then(a.bind(a,63039))},{loadableGenerated:{webpack:function(){return[63039]}},suspense:!0}),q=a(66868);function TagList(e){var n=e.tags,a=(0,t._)((0,c.useState)(!1),2),s=a[0],i=a[1],r=n.filter(function(e){return"интернет"!==e.name.toLowerCase()&&"страны"!==e.name.toLowerCase()&&"разное"!==e.name.toLowerCase()}),o=r.length>10&&!s?r.slice(0,10):r;return(0,l.jsxs)(l.Fragment,{children:[o.map(function(e){return(0,l.jsx)(O.Z,{closable:!1,tag:e},e.name)}),n.length>10&&!s&&(0,l.jsx)(B.Z,{className:"tag-reactor cursor-pointer",onClick:function(){return i(!0)},children:"..."},"more")]})}var Tags_PostTags=function(e){var n,a=e.fragment,t=(0,p.useFragment)(q,a),s=t.tags,i=(0,b.Pi)(),r=i.isAuthenticated&&(null===(n=i.me)||void 0===n?void 0:n.user.id)===t.user.id,o=i.isInitialized&&i.isAuthenticated&&(r||i.canAddTags||i.superadmin||void 0!==s.find(function(e){return e.mainTag.userTag&&"MODERATED"===e.mainTag.userTag.state})),d=(0,c.useMemo)(function(){return s.slice(0,10).map(function(e){return e.name}).join().length/1.5+(o?4:0)},[s,o]);return(0,l.jsx)("div",{className:"post-tags max-w-full overflow-x-scroll lg:overflow-x-hidden",children:(0,l.jsx)("div",{className:"mt-1 mb-2 flex gap-2 flex-wrap min-w-full lg:max-w-full",style:{width:"".concat(d,"ch")},children:o?(0,l.jsx)(_.Z,{fallback:(0,l.jsx)(TagList,{tags:s}),children:(0,l.jsx)(Q,{tags:s,postId:t.id,owner:r})}):(0,l.jsx)(TagList,{tags:s})})})},G=a(86896),$=a(58563),z=a(11163),U=a(73558),H=a(42542),W=a(75589),J=a(45764),X=a(23534),Y=a(43187),ee=a(63031),en=a(14671),ea=a(33649),et=a(11187),el=a(44311),es=a(12810),PostMenu_Favorite=function(e){var n=e.postId,a=e.favorite,s=e.compact,i=void 0!==s&&s,r=(0,p.useRelayEnvironment)(),o=(0,t._)((0,c.useState)(!1),2),d=o[0],g=o[1],f=(0,G.Z)().formatMessage({id:"Error",defaultMessage:"Что-то пошло не так. Попробуйте обновить страницу."}),info=function(){et.ZP.info(f)},changeFavorite=function(e){(0,el.commitMutation)(r,{mutation:es,variables:{id:n,requestedState:e},updater:function(){},onError:function(){g(!0),info()},onCompleted:function(){}})},addToFavorites=function(){return changeFavorite(!0)},deleteFromFavorites=function(){return changeFavorite(!1)};return d?(0,l.jsx)(ea.Z,{}):a&&!i?(0,l.jsx)(u(),{type:"default",icon:(0,l.jsx)(Y.Z,{}),onClick:deleteFromFavorites,className:"ant-btn-default dropdown-menu-button",children:(0,l.jsx)("span",{children:(0,l.jsx)(m.Z,{id:"Favorite.Delete",defaultMessage:"Удалить из закладок"})})}):a&&i?(0,l.jsx)(u(),{type:"primary",icon:(0,l.jsx)(ee.Z,{}),onClick:deleteFromFavorites,className:"post-menu-button pb-px"}):!a&&i?(0,l.jsx)(u(),{type:"default",ghost:!0,icon:(0,l.jsx)(en.Z,{}),onClick:addToFavorites,className:"post-menu-button pb-px"}):(0,l.jsx)(u(),{type:"default",icon:(0,l.jsx)(en.Z,{}),onClick:addToFavorites,className:"ant-btn-default dropdown-menu-button",children:!i&&(0,l.jsx)("span",{children:(0,l.jsx)(m.Z,{id:"Favorite.Add",defaultMessage:"Добавить в закладки"})})})},ei=(0,l.jsxs)("svg",{fill:"none",width:"1em",height:"1em",viewBox:"0 0 18 19",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{marginTop:4.5,marginLeft:4},children:[(0,l.jsx)("path",{fillRule:"evenodd",d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"}),(0,l.jsx)("path",{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"})]}),PostMenu_PostMenu=function(e){var n,a=e.post,t=(0,b.Pi)();return(0,l.jsxs)("div",{className:"flex gap-2 xl:gap-1",children:[(0,l.jsx)(C.Z,{route:(0,J.Z)((0,g.Q)(a.id).id),children:(0,l.jsx)(u(),{type:"default",ghost:!0,className:"post-menu-button hidden xl:block",icon:(0,l.jsx)(X.Z,{className:"pt-0.5"})})}),(0,l.jsx)(C.Z,{route:(0,J.Z)((0,g.Q)(a.id).id),target:"_blank",children:(0,l.jsx)(u(),{type:"default",ghost:!0,className:"post-menu-button xl:hidden",icon:ei})}),t.isAuthenticated&&(0,l.jsx)(PostMenu_Favorite,{postId:a.id,favorite:null!==(n=a.favorite)&&void 0!==n&&n,compact:!0})]})},er=a(76720),eo=a(83452),ed=a(5661),eu=a(54490),ec=a(34115),em=a(30896),eg=a(28058),ep=a(16165),ef=a(58545),smileIcon=function(){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"66",height:"66",viewBox:"0 0 66 66",fill:"currentColor",className:"post-upvote",children:[(0,l.jsx)("circle",{cx:"33",cy:"33",r:"31",stroke:"currentColor",strokeWidth:"3"}),(0,l.jsx)("circle",{cx:"24",cy:"25",r:"3",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"42",cy:"25",r:"3",fill:"currentColor"}),(0,l.jsx)("path",{d:"M50.9371 38.2816C46.5411 43.017 40.134 46 33 46C25.866 46 19.4589 43.017 15.0629 38.2816C17.6565 45.6881 24.7079 51 33 51C41.292 51 48.3434 45.6882 50.9371 38.2816Z",fill:"currentColor"})]})},grinIcon=function(){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"66",height:"66",viewBox:"0 0 66 66",fill:"currentColor",className:"post-downvote",children:[(0,l.jsx)("circle",{cx:"33",cy:"33",r:"31",stroke:"currentColor",strokeWidth:"3"}),(0,l.jsx)("circle",{cx:"24",cy:"25",r:"3",fill:"currentColor"}),(0,l.jsx)("circle",{cx:"42",cy:"25",r:"3",fill:"currentColor"}),(0,l.jsx)("path",{d:"M50.9371 51C46.5411 46.2645 40.134 43.2815 33 43.2815C25.866 43.2815 19.4589 46.2645 15.0629 51C17.6565 43.5934 24.7079 38.2816 33 38.2816C41.292 38.2816 48.3434 43.5934 50.9371 51Z",fill:"currentColor"})]})},eh=a(12980),ey=a(78014);function PostVote(e){var n=e.post,a=(0,p.useFragment)(eh,n),s=a.vote,i=(0,p.useRelayEnvironment)(),r=(0,b.Pi)(),o=(0,t._)((0,c.useState)(!1),2),d=o[0],u=o[1],doVote=function(e){(0,el.commitMutation)(i,{mutation:ey,variables:{id:a.id,vote:e},updater:function(){},onError:function(){u(!0)}})};if(d)return(0,l.jsx)(eg.Z,{});var m=a.rating>a.minusThreshold;return s?(0,l.jsx)(ef.Z,{rating:a.rating,ratingGeneral:r.superadmin?a.ratingGeneral:void 0}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mr-1 opacity-30 hidden sm:inline-block",children:r.superadmin&&(0,l.jsx)(ef.Z,{rating:a.rating,ratingGeneral:a.ratingGeneral})}),(0,l.jsxs)("button",{type:"button","aria-label":"Upvote",className:"vote-button",onClick:function(){return doVote("PLUS")},children:[" ",(0,l.jsx)(ep.Z,{component:smileIcon})]}),(0,l.jsx)("span",{className:"mx-1.5 opacity-30",children:"--"}),(0,l.jsx)("button",{type:"button","aria-label":"Downvote",className:"vote-button ".concat(m?"":" invisible"),onClick:function(){return doVote("MINUS")},disabled:!m,children:(0,l.jsx)(ep.Z,{component:grinIcon})})]})}var ek=a(9649);function PostFooter(e){var n=e.post,a=e.commentsOpened,t=e.onCommentToggle,s=e.disabledCommentButton,i=e.votingEnabled,r=(0,p.useFragment)(ek,n),o=(0,G.Z)(),d=(0,b.Pi)(),c=(0,em.Z)(),g=new Date(r.createdAt),f=(0,ec.W)(g),y=f.value,k=f.unit,v=void 0!==r.viewedCommentsCount?r.commentsCount-r.viewedCommentsCount:0;return(0,l.jsxs)("div",{className:"post-footer",children:[(0,l.jsx)(u(),{type:"primary",shape:"round",size:"large",className:"comment-button",onClick:function(e){t(),e.preventDefault()},disabled:s,children:(0,l.jsxs)("span",{children:[a&&(0,l.jsx)(ed.Z,{className:"pr-1.5"}),!a&&(r.commentsCount>0||"com"!==c)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(er.Z,{className:"pr-1.5 hidden sm:inline-block"}),(0,l.jsx)(eo.Z,{className:"pr-1.5 inline-block sm:hidden"})]}),!a&&0===r.commentsCount&&"com"===c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{}),(0,l.jsx)("div",{className:"hidden sm:inline-block mr-1",children:(0,l.jsx)(m.Z,{id:"Post.AddCommentButton",defaultMessage:"COMMENT"})})]}),("com"!==c||r.commentsCount>0)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hidden sm:inline-block mr-1",children:(0,l.jsx)(m.Z,{id:"Post.CommentsCount",defaultMessage:"Комментарии"})}),r.commentsCount,!!v&&v>0&&(0,l.jsxs)("span",{className:"commentnum-delta",children:["+",v]})]})]})}),(0,l.jsx)("div",{className:"ml-2 sm:mx-8 hidden sm:inline text-sm sm:text-base",children:(0,l.jsx)(R.default,{title:o.formatRelativeTime(y,k,{numeric:"auto"}),children:(0,l.jsx)(eu.Ji,{value:g,year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})})}),(0,l.jsx)(PostMenu_PostMenu,{post:r}),(0,l.jsx)("div",{className:"post-rating flex items-center",children:d.isAuthenticated&&i?(0,l.jsx)(PostVote,{post:r}):(0,l.jsx)(ef.Z,{rating:r.rating,ratingGeneral:d.superadmin?r.ratingGeneral:void 0})})]})}var Post_CensoredPost=function(e){var n=e.type;return(0,l.jsx)("div",{className:"content brick-pattern h-32 flex items-center px-4 py-8 ",children:(0,l.jsx)("div",{className:"p-0 text-white-soft text-xl bg-gray flex opacity-60",children:(0,l.jsxs)("div",{className:"pl-1 font-semibold",children:["Russia"===n?(0,l.jsx)(m.Z,{id:"Post.CensoredRF",defaultMessage:"Контент не доступен на территории РФ!"}):"","overall"===n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{id:"Post.Censored",defaultMessage:"Мы не можем показать этот контент"}),(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsx)(m.Z,{id:"Post.CensoredReason",defaultMessage:'Вероятные причины: копирастия или "запрещенная" тематика'})})]}):""]})})})},Post_OCR=function(e){var n=e.OCRText,a=e.description,s=(0,t._)((0,c.useState)(!1),2),i=s[0],r=s[1];return i?(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsxs)("p",{children:[(0,l.jsx)(m.Z,{id:"Post.Meta.OCR",defaultMessage:"Тематика и теги:"}),n.length>0&&(0,l.jsxs)(l.Fragment,{children:[" ",n]})," ",a]})}):(0,l.jsx)(u(),{type:"link",className:"pl-0",onClick:function(){r(!0)},children:(0,l.jsx)("span",{className:"text-gray-medium dark:text-gray-tag underline text-sm",children:(0,l.jsx)(m.Z,{id:"Post.Meta.About",defaultMessage:"О посте"})})})},ev=a(41970),Post_UnsafePost=function(){return(0,l.jsx)("div",{className:"content stripped-pattern h-60 flex items-end",children:(0,l.jsxs)("div",{className:"p-4 text-gray-lighter text-xl",children:[(0,l.jsx)(ev.Z,{}),(0,l.jsx)("span",{className:"ml-1 font-semibold ",children:(0,l.jsx)(m.Z,{id:"Post.Unsafe",defaultMessage:"Контент только для зарегистрированных пользователей!"})})]})})},ex=a(8897),eC=a(64713),eb=a(97142),ej=a(9586);function Poll(e){var n=e.post,a=(0,p.useFragment)(eb,n),s=a.poll,i=(0,G.Z)(),r=(0,b.Pi)(),o=s.answers.reduce(function(e,n){return e+n.count},0),d=(0,p.useRelayEnvironment)(),u=(0,t._)((0,c.useState)(!1),2),m=u[0],g=u[1],f=r.isAuthenticated&&s&&!s.voted,doVote=function(e){g(!0),(0,el.commitMutation)(d,{mutation:ej,variables:{id:a.id,answer:e},updater:function(){},onCompleted:function(){g(!1)},onError:function(){et.ZP.error(i.formatMessage({id:"Error",defaultMessage:"Что-то пошло не так. Попробуйте обновить страницу."})),g(!1)}})};return(0,l.jsx)("div",{className:"bg-gray-poll dark:bg-gray-commentdark w-full md:w-11/12 mt-2 lg:px-1.5",children:(0,l.jsx)(T.Z,{spinning:m,delay:500,children:(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("div",{className:"poll-title",children:s.question}),s.answers.map(function(e){var n=e.id,a=e.answer,t=e.count;return(0,l.jsxs)("div",{className:"leading-tight poll mt-1",children:[f?(0,l.jsx)(eC.ZP,{value:n,onClick:function(){doVote(n)},children:a}):(0,l.jsx)("span",{children:a}),!f&&(0,l.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(ex.Z,{value:t/o})}),(0,l.jsxs)("div",{className:"w-40 text-base leading-tight",children:[(0,l.jsx)("strong",{children:t}),(0,l.jsxs)("span",{className:"ml-1",children:["(",i.formatNumber(t/o*100,{maximumFractionDigits:2}),"%)"]})]})]})]},n)})]})})})}var eF=v()(function(){return Promise.all([a.e(4337),a.e(2386),a.e(2891),a.e(4629),a.e(176),a.e(3812),a.e(8786)]).then(a.bind(a,48786))},{loadableGenerated:{webpack:function(){return[48786]}},suspense:!1}),ew=a(65849),insertPostContent=function(e,n,a,t,s){if(null!==a)return(0,l.jsx)(Post_CensoredPost,{type:a});if(n)return(0,l.jsx)(Post_UnsafePost,{});var i=t?(0,l.jsx)("div",{className:"post-content",children:(0,l.jsx)(H.Z,{post:e,content:e,priority:s})}):(0,l.jsx)(W.Z,{collapsedHeight:1e3,maxHeight:1500,children:(0,l.jsx)("div",{className:"post-content",children:(0,l.jsx)(H.Z,{post:e,content:e,priority:s})})});return(0,l.jsxs)(l.Fragment,{children:[i,e.poll&&e.poll.question&&(0,l.jsx)(Poll,{post:e})]})};function Post_Post(e){var n,a,i,r,o,d,f=e.post,h=e.expanded,y=e.votingDisabled,k=e.seoAttributes,v=e.comments,j=e.priority,F=e.discussionMode,w=e.collapsed,K=(0,p.useFragment)(ew,f),S=(0,b.Pi)(),_=(0,t._)((0,c.useState)(null!=h&&h),2),T=_[0],A=_[1],P=(0,t._)((0,c.useState)(function(){return w||S.isInitialized&&!!localStorage.getItem("p".concat(K.id))}),2),N=P[0],Z=P[1],L=(0,t._)((0,c.useState)(!1),2),M=L[0],B=L[1],O=(0,V.Z)(),Q=S.isAuthenticated&&S.superadmin,q=S.isAuthenticated&&(null===(r=S.me)||void 0===r?void 0:r.user.id)===K.user.id,H=Q||q&&Date.now()<Date.parse(K.editableUntil),W=S.isAuthenticated?(n=K.tags,a=["VGFnOjExNzc0MA==","VGFnOjE4Mzg2","VGFnOjM0NDM="],n.filter(function(e){var n;return e.mainTag.userTag&&"MODERATED"===e.mainTag.userTag.state&&(a.includes(e.mainTag.id)||e.mainTag.category&&a.includes(null===(n=e.mainTag.category)||void 0===n?void 0:n.id))})):[],J=(0,G.Z)(),X=(0,z.useRouter)();switch((0,c.useEffect)(function(){Z(w||S.isInitialized&&!!localStorage.getItem("p".concat(K.id)))},[K.id,S.isInitialized,w]),(0,c.useEffect)(function(){var handleRouteChangeComplete=function(){h||A(!1)};return h||X.events.on("routeChangeComplete",handleRouteChangeComplete),function(){X.events.off("routeChangeComplete",handleRouteChangeComplete)}},[h,X.events]),K.text.slice(0,20)){case'<img alt="Copywrite"':o="overall";break;case'<img alt="Censorship':o="Russia";break;default:o=null}var Y=null!==o||null===S.me&&K.unsafe,ee=!Y&&!y&&!(!S.isAuthenticated||S.me.user.id===K.user.id||Date.now()-Date.parse(K.createdAt)>15552e6),en=J.formatMessage({id:"NsfwSfwHint",defaultMessage:"Sfw = safe for work. Nsfw = not safe for work. Фильтрацию sfw или nsfw можно включить переключалкой в шапке сайта."}),ea=(0,c.useCallback)(function(e,n){return(0,l.jsx)(s.ZP,{comment:e,post:n,type:"Best"})},[]);return!Y&&O===$.o5.Sfw&&(K.nsfw||K.unsafe)?(0,l.jsx)(D.Z,{className:"mt-4 dark:mt-2",message:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Z,{id:"PostPage.NsfwFilteredHint",defaultMessage:"Включена sfw-фильтрация, поэтому контент этого nsfw поста не показывается"})," ",(0,l.jsx)(R.default,{placement:"top",title:en,children:(0,l.jsx)(E.Z,{className:"hidden lg:inline"})})]})}):(0,l.jsx)("div",{className:"content-card post-card relative ".concat(S.isAuthenticated&&K.favorite?"favorite":""," ").concat(K.banned?"banned":""),children:(0,l.jsxs)("div",{className:"content",children:[(0,l.jsxs)("div",{className:"post-header flex justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"mr-2",children:(0,l.jsx)(U.Z,{userGlobalId:K.user.id,username:K.user.username})}),(0,l.jsx)(C.Z,{route:(0,x.Z)(K.user.username),className:"primary-link",children:K.user.username})]}),(0,l.jsxs)("div",{className:"flex",children:[H&&(0,l.jsx)(C.Z,{route:{href:{pathname:"/post/edit/[id]",query:{id:i=(0,g.Q)(K.id).id}},as:{pathname:"/post/edit/".concat(i)}},className:"primary-link",children:(0,l.jsx)(u(),{type:"link",icon:(0,l.jsx)(I.Z,{}),className:"flex justify-end"})}),(0,l.jsx)(eF,{post:K,collapsedCompletely:N,setCollapsedCompletely:Z,tagsWithExtendedModeratorRights:W,canEdit:H})]})]}),(0,l.jsx)(Tags_PostTags,{fragment:K}),N?(0,l.jsx)(u(),{type:"link",className:"pl-1",onClick:function(){return Z(!1)},children:(0,l.jsx)(m.Z,{id:"Post.Collapsed",defaultMessage:"Пост свернут. Показать?"})}):insertPostContent(K,Y,o,h,j),!N&&!S.isAuthenticated&&h&&k&&(0,l.jsx)("div",{children:(0,l.jsx)(Post_OCR,{OCRText:null!==(d=k.ocr)&&void 0!==d?d:"",description:k.description})}),(0,l.jsxs)("div",{children:[!N&&!Y&&K.bestComments&&K.bestComments.length>0&&(0,l.jsx)("div",{className:"pt-1",children:(0,l.jsx)(CommentTree,{comments:K.bestComments,post:K,type:"best",renderComment:ea})}),!N&&(0,l.jsx)(PostFooter,{post:K,commentsOpened:T,onCommentToggle:function(){B(!0),A(!T)},disabledCommentButton:Y,votingEnabled:ee})]}),!N&&T&&!Y&&(0,l.jsx)(PostComments,{post:K,comments:M?void 0:v,expanded:h,discussionMode:void 0!==F&&F,canBeBannedInTags:W})]})})}},20716:function(e,n,a){a.d(n,{Z:function(){return TagOnTheList}});var t=a(85893),l=a(63031),s=a(25256),i=a(83089),r=a(51905),o=a(76519),d=a(74602),u=a(59361);a(67294);var c=a(72425);function TagOnTheList(e){var n=e.closable,a=e.onClose,m=e.tag,g=(0,c.Pi)(),p="tag-reactor",f=m.mainTag.userTag&&"BLOCKED"===m.mainTag.userTag.state,h=m.mainTag.userTag&&"SUBSCRIBED"===m.mainTag.userTag.state,y=m.mainTag.userTag&&"MODERATED"===m.mainTag.userTag.state||n&&!g.superadmin;return!g.isAuthenticated||(f&&(p+=" tag-reactor-blocked"),h&&(p+=" tag-reactor-subscribed"),y&&(p+=" tag-reactor-moderated"),f||h||y||"VGFnOjg1OTI5"!==m.mainTag.id&&"VGFnOjIwMjMzNQ=="!==m.mainTag.id&&"VGFnOjE2MDAxMzQ="!==m.mainTag.id||(p+=" tag-reactor-secret")),(0,t.jsxs)(u.Z,{className:p,closable:n,onClose:null!=a?a:void 0,children:[f&&(0,t.jsx)(s.Z,{className:"mr-1"}),h&&(0,t.jsx)(l.Z,{className:"mr-1 text-vote-dark-greenstrokehovered dark:text-vote-dark-greenfillhovered opacity-70"}),y&&(0,t.jsx)(i.Z,{className:"mr-1 text-primary dark:text-primary dark:opacity-70"}),(0,t.jsx)(r.Z,{route:m.showAsCategory?(0,o.Z)(m.name):(0,d.Z)(m.name),children:m.name})]})}},41148:function(e,n,a){function isInViewport(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||!e.current)return!1;var a=e.current.getBoundingClientRect().top;return a+n>=0&&a-n<=window.innerHeight}a.d(n,{Z:function(){return isInViewport}}),a(67294)},4684:function(e,n,a){a.r(n);var t,l,s=(l=[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isVotable"}],kind:"Fragment",metadata:{plural:!0},name:"CommentTree_comments",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parent",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:l,storageKey:null},{args:[{kind:"Variable",name:"isVotable",variableName:"isVotable"}],kind:"FragmentSpread",name:"Comment_comment"}],type:"Comment",abstractKey:null});s.hash="22de4a37cb42e5904b6885be109a86e8",n.default=s},66620:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentTree_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"Comment_post"}],type:"Post",abstractKey:null};t.hash="64d07956ee216fb1ca8a54250ea8cd89",n.default=t},12810:function(e,n,a){a.r(n);var t,l,s,i,r,o=(r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"favorite",storageKey:null}],type:"Post",abstractKey:null},{fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"requestedState"}],kind:"Fragment",metadata:null,name:"FavoriteMutation",selections:[{alias:null,args:s=[l={kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"requestedState",variableName:"requestedState"}],concreteType:"Query",kind:"LinkedField",name:"favorite",plural:!1,selections:[{alias:null,args:i=[l],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FavoriteMutation",selections:[{alias:null,args:s,concreteType:"Query",kind:"LinkedField",name:"favorite",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"9a7ba1afbefb8276beae0dd12aa297ac",id:null,metadata:{},name:"FavoriteMutation",operationKind:"mutation",text:"mutation FavoriteMutation(\n  $id: ID!\n  $requestedState: Boolean!\n) {\n  favorite(id: $id, requestedState: $requestedState) {\n    node(id: $id) {\n      __typename\n      ... on Post {\n        favorite\n      }\n      id\n    }\n  }\n}\n"}});o.hash="77c238762835a95b64b4bd2a3b01dd66",n.default=o},9586:function(e,n,a){a.r(n);var t,l,s,i,r,o={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"answer"},l={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"PollMutation",selections:[{alias:null,args:s=[{kind:"Variable",name:"answer",variableName:"answer"}],concreteType:"Query",kind:"LinkedField",name:"pollVote",plural:!1,selections:[{alias:null,args:i=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"isAuthorised",value:!0}],kind:"FragmentSpread",name:"Poll_post"}],type:"Post",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t],kind:"Operation",name:"PollMutation",selections:[{alias:null,args:s,concreteType:"Query",kind:"LinkedField",name:"pollVote",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Poll",kind:"LinkedField",name:"poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"question",storageKey:null},{alias:null,args:null,concreteType:"PollAnswer",kind:"LinkedField",name:"answers",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"answer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"voted",storageKey:null}],storageKey:null}],type:"Post",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"9fdafae82598ca36cd16a804c98ec7f0",id:null,metadata:{},name:"PollMutation",operationKind:"mutation",text:"mutation PollMutation(\n  $id: ID!\n  $answer: ID!\n) {\n  pollVote(answer: $answer) {\n    node(id: $id) {\n      __typename\n      ... on Post {\n        ...Poll_post_2OCOLr\n      }\n      id\n    }\n  }\n}\n\nfragment Poll_post_2OCOLr on Post {\n  id\n  poll {\n    question\n    answers {\n      id\n      answer\n      count\n    }\n    voted\n  }\n}\n"}};o.hash="a8dfd04ffbdde51ea1ea1d04f4a8f1f5",n.default=o},97142:function(e,n,a){a.r(n);var t,l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthorised"}],kind:"Fragment",metadata:null,name:"Poll_post",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Poll",kind:"LinkedField",name:"poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"question",storageKey:null},{alias:null,args:null,concreteType:"PollAnswer",kind:"LinkedField",name:"answers",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"answer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"voted",storageKey:null}]}],storageKey:null}],type:"Post",abstractKey:null};l.hash="6f18f1baa9efd7bf74efade1fb79c882",n.default=l},79216:function(e,n,a){a.r(n);var t,l,s,i,r,o,d,u,c,m,g,p,f,h={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"isAuthorised"},l={defaultValue:null,kind:"LocalArgument",name:"postId"}],kind:"Fragment",metadata:null,name:"PostCommentsQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"id",variableName:"postId"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comments",plural:!0,selections:[{args:[{kind:"Variable",name:"isVotable",variableName:"isAuthorised"}],kind:"FragmentSpread",name:"CommentTree_comments"}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"commentsCount",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"viewedCommentsCount",storageKey:null},o={condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewedCommentsAt",storageKey:null}]},d={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"ratingGeneral",storageKey:null}],type:"Post",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,t],kind:"Operation",name:"PostCommentsQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comments",plural:!0,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parent",plural:!1,selections:[c,m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"contentVersion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentEditedAt",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attributes",plural:!0,selections:[c,m,{alias:null,args:null,kind:"ScalarField",name:"insertId",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"hasVideo",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isAttribute"},{kind:"InlineFragment",selections:[p={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],type:"CommentAttributeEmbed",abstractKey:null},{kind:"InlineFragment",selections:[f={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment",storageKey:null}],storageKey:null}],type:"AttributePicture",abstractKey:"__isAttributePicture"},{kind:"InlineFragment",selections:[p,f],type:"AttributeEmbed",abstractKey:"__isAttributeEmbed"}],storageKey:null}],type:"Content",abstractKey:"__isContent"},{condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"voted",storageKey:null}]}],storageKey:null},i,r,d,u,o],type:"Post",abstractKey:null}],storageKey:null}]},params:{cacheID:"7ae4b20fecf84bb00def16e2344398be",id:null,metadata:{},name:"PostCommentsQuery",operationKind:"query",text:"query PostCommentsQuery(\n  $postId: ID!\n  $isAuthorised: Boolean!\n) {\n  node(id: $postId) {\n    __typename\n    ... on Post {\n      comments {\n        ...CommentTree_comments_48QSE5\n        id\n      }\n      commentsCount\n      viewedCommentsCount\n      viewedCommentsAt @include(if: $isAuthorised)\n      rating\n      ratingGeneral\n    }\n    id\n  }\n}\n\nfragment AttributeEmbed_attribute on AttributeEmbed {\n  __isAttributeEmbed: __typename\n  type\n  value\n  image {\n    comment\n    id\n  }\n}\n\nfragment AttributePicture_attribute on AttributePicture {\n  __isAttributePicture: __typename\n  id\n  type\n  insertId\n  image {\n    width\n    height\n    type\n    comment\n    hasVideo\n    id\n  }\n}\n\nfragment Attribute_attribute on Attribute {\n  __isAttribute: __typename\n  type\n  ...AttributePicture_attribute\n  ...AttributeEmbed_attribute\n}\n\nfragment CommentTree_comments_48QSE5 on Comment {\n  id\n  locale\n  level\n  parent {\n    __typename\n    id\n  }\n  createdAt\n  user {\n    id\n  }\n  ...Comment_comment_48QSE5\n}\n\nfragment CommentVote_comment on Comment {\n  id\n  rating\n  voted\n}\n\nfragment Comment_comment_48QSE5 on Comment {\n  id\n  user {\n    id\n    username\n  }\n  createdAt\n  rating\n  level\n  contentVersion\n  banned\n  contentEditedAt\n  locale\n  ...EditableCommentContent_content\n  ...Content_content\n  ...CommentVote_comment @include(if: $isAuthorised)\n}\n\nfragment Content_content on Content {\n  __isContent: __typename\n  text\n  attributes {\n    __typename\n    id\n    insertId\n    ...Attribute_attribute\n  }\n}\n\nfragment EditableCommentContent_content on Content {\n  __isContent: __typename\n  text\n  attributes {\n    __typename\n    id\n    insertId\n    type\n    image {\n      id\n      hasVideo\n      type\n      width\n      height\n    }\n    ... on CommentAttributeEmbed {\n      value\n    }\n  }\n}\n"}};h.hash="5e5b95b2067fc7c73dd50c7de09a8348",n.default=h},73328:function(e,n,a){a.r(n);var t,l={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthorised"}],kind:"Fragment",metadata:null,name:"PostComments_post",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewedCommentsAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewedCommentsCount",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"commentsCount",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentTree_post"}],type:"Post",abstractKey:null};l.hash="3c8c2f6f079f067c20cc75c0c88ca07b",n.default=l},9649:function(e,n,a){a.r(n);var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthorised"}],kind:"Fragment",metadata:null,name:"PostFooter_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingGeneral",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"viewedCommentsCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favorite",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostVote_post"}]}],type:"Post",abstractKey:null};t.hash="d64af98b6f01e0173a481680456982a5",n.default=t},66868:function(e,n,a){a.r(n);var t,l,s=(l=[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostTags_post",selections:[t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"tags",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showAsCategory",storageKey:null},{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"mainTag",plural:!1,selections:[t,{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"category",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"UserTag",kind:"LinkedField",name:"userTag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Post",abstractKey:null});s.hash="86d0dc85bbe7d9e67f7eb7041b9ee56a",n.default=s},78014:function(e,n,a){a.r(n);var t,l,s,i,r={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"vote"}],kind:"Fragment",metadata:null,name:"PostVoteMutation",selections:[{alias:null,args:s=[l={kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"vote",variableName:"vote"}],concreteType:"Query",kind:"LinkedField",name:"vote",plural:!1,selections:[{alias:null,args:i=[l],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"PostVote_post"}],type:"Post",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PostVoteMutation",selections:[{alias:null,args:s,concreteType:"Query",kind:"LinkedField",name:"vote",plural:!1,selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingGeneral",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minusThreshold",storageKey:null},{alias:null,args:null,concreteType:"PostVote",kind:"LinkedField",name:"vote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"power",storageKey:null}],storageKey:null}],type:"Post",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"09f6acf9824f5d51085f30b4c3951ded",id:null,metadata:{},name:"PostVoteMutation",operationKind:"mutation",text:"mutation PostVoteMutation(\n  $id: ID!\n  $vote: VoteType!\n) {\n  vote(id: $id, vote: $vote) {\n    node(id: $id) {\n      __typename\n      ... on Post {\n        ...PostVote_post\n      }\n      id\n    }\n  }\n}\n\nfragment PostVote_post on Post {\n  id\n  rating\n  ratingGeneral\n  minusThreshold\n  vote {\n    createdAt\n    power\n  }\n}\n"}};r.hash="f4fa61f6759b49bafa4c58caeb5f1a20",n.default=r},12980:function(e,n,a){a.r(n);var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostVote_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingGeneral",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minusThreshold",storageKey:null},{alias:null,args:null,concreteType:"PostVote",kind:"LinkedField",name:"vote",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"power",storageKey:null}],storageKey:null}],type:"Post",abstractKey:null};t.hash="d647860cc6ad3d320f5539d367f2f60c",n.default=t},65849:function(e,n,a){a.r(n);var t,l,s={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuthorised"}],kind:"Fragment",metadata:null,name:"Post_post",selections:[t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"bestComments",plural:!0,selections:[{args:[{kind:"Literal",name:"isVotable",value:!1}],kind:"FragmentSpread",name:"CommentTree_comments"}],storageKey:null},{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"tags",plural:!0,selections:[{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"mainTag",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Tag",kind:"LinkedField",name:"category",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"UserTag",kind:"LinkedField",name:"userTag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nsfw",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsafe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editableUntil",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{condition:"isAuthorised",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"favorite",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostVote_post"}]},{alias:null,args:null,kind:"ScalarField",name:"banned",storageKey:null},{alias:null,args:null,concreteType:"Poll",kind:"LinkedField",name:"poll",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"question",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentTree_post"},{args:null,kind:"FragmentSpread",name:"PostTags_post"},{args:null,kind:"FragmentSpread",name:"Content_post"},{args:null,kind:"FragmentSpread",name:"Content_content"},{args:l=[{kind:"Variable",name:"isAuthorised",variableName:"isAuthorised"}],kind:"FragmentSpread",name:"PostFooter_post"},{args:l,kind:"FragmentSpread",name:"PostComments_post"},{args:l,kind:"FragmentSpread",name:"Poll_post"}],type:"Post",abstractKey:null};s.hash="4f8af901d04e55d96e6ba19d54b8d047",n.default=s}}]);
</script>

</body>
</html>
