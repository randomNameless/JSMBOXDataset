<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8664.1d37be6e9cf2a384cd33.bundle.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_p24_front=self.webpackChunk_p24_front||[]).push([[8664],{168664:(e,t,n)=>{n.d(t,{A:()=>K});var a=n(364467),r=n(380296),l=n(296540),c=n(605556),u=n.n(c),i=n(268680),o=n(961225),s=n(648750),d=n(912794),m=n(983372),v=n(73980),E=n(971988);const A="root_Jkwd4ECk3Y",f="row_u3aF3veS5F",y="currency_SZZReKv2jW",h="amount_ItAq6REZyi",g="rate_l31_66qpsF",p="value_QvR9bb5crn";var B=n(215529),b=n(246942),C=n.n(b),_=function(e){var t=e.exchangeButton;return l.createElement("div",{className:A},l.createElement(E.A,null,l.createElement(v.A,null,l.createElement("div",{style:{height:"40px"}}))),l.createElement(E.A,null,l.createElement("div",{className:g},l.createElement("div",{style:{height:"40px",width:"40px"}},l.createElement(v.A,null)),l.createElement("div",null,l.createElement("div",{className:C()(p,B.A.wShort)},l.createElement(v.A,null," "))))),l.createElement("div",null,l.createElement(v.A,null,l.createElement("div",{style:{height:"40px"}}))),t?l.createElement("div",{className:C()(B.A.center,B.A.wMiddle,B.A.marginTop3)},l.createElement(v.A,null,l.createElement("div",{style:{height:"40px"}}))):null)};_.propTypes={exchangeButton:u().bool};const N=_;var w=n(289391),R=n(755179),x=n(991438),O=n(106730),F=n(800606),T=n(899353),k=n(849685),S=n(539474),j=n(475899),H=function(e){var t=e.name,n=(0,j.A)().palette;return l.createElement("div",{className:"option_fGmKBqRvsZ"},l.createElement("div",{className:"flag_ZjkDlMm59U"},l.createElement(S.A,{icon:i.ci[t],width:18,height:12.8})),l.createElement("div",null,t)," ",l.createElement("div",null,i.IX[t]?l.createElement(i.IX[t],{fill:n.contrast}):null))};H.propTypes={name:u().string};const P=H;var U=n(763120),X=n(867402),I=n(202908),M=n(948658),D=n(746124),G=n(30564),L=n(956347);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={textAlign:"right"},Q=function(e){var t,n,a,c,u,o,s=e.exchangeButton,m=void 0===s||s,v=e.type,b=void 0===v?i.ZU:v,_=e.standby,S=e.currencyA,H=void 0===S?"USD":S,Z=e.currencyB,Q=void 0===Z?"UAH":Z,K=e.amountA,W=e.amountB,V=e.rates,Y=e.authorized,J=e.cards,$=e.ratesFetch,ee=e.exchangeRatesPreferences,te=e.isMobile,ne=e.lang,ae=(0,L.W6)(),re=(0,j.A)().palette,le=(0,l.useState)(!1),ce=(0,r.A)(le,2),ue=ce[0],ie=ce[1],oe=(0,U.A)({currencyA:H,currencyB:Q,amountA:K,amountB:W}),se=(0,r.A)(oe,3),de=se[0],me=se[1],ve=se[2],Ee="UAH"===de.currencyA,Ae="UAH"===de.currencyB,fe=Ee||Ae,ye=fe?i.IX[Ee?de.currencyB:de.currencyA]:i.IX[de.currencyA],he=fe?i.IX[Ee?de.currencyA:de.currencyB]:i.IX[de.currencyB],ge=null==V?void 0:V.get(b).get("".concat(de.currencyA,"/").concat(de.currencyB)),pe=null==ge||null===(t=ge.get("rateB"))||void 0===t?void 0:t.toFixed(4),Be=fe&&Ee?null==ge||null===(n=ge.get("rateC"))||void 0===n?void 0:n.toFixed(4):pe,be=(0,l.useMemo)((function(){var e;return b!==i.Im&&(null===(e=(0,M.Jt)("UI_CONFIG"))||void 0===e||null===(e=e.p2pRestriction)||void 0===e?void 0:e.find((function(e){var t,n;return(null===(t=e.currencyCardA)||void 0===t?void 0:t.includes(de.currencyA))&&(null===(n=e.currencyCardB)||void 0===n?void 0:n.includes(de.currencyB))})))}),[de.currencyA,de.currencyB,b]),Ce=(0,l.useCallback)((function(e,t){var n,a=null==V||null===(n=V.get(b))||void 0===n?void 0:n.get("".concat(de.currencyA,"/").concat(de.currencyB)),r=null;return a&&(e?r=a.calculate(e):t&&(r=a.calculateB(t))),r}),[de,V,b]),_e=(0,l.useCallback)((function(){ve({currencyA:de.currencyB,currencyB:de.currencyA,amountA:fe?de.amountB:de.amountA,amountB:fe?de.amountA:de.amountB})}),[de,fe]),Ne=(0,l.useCallback)((function(){var e=null==J?void 0:J.filter((function(e){var t;return e.isCard()&&(null===(t=e.get("currency"))||void 0===t?void 0:t.is(de.currencyA))})),t=null==J?void 0:J.filter((function(e){var t;return e.isCard()&&(null===(t=e.get("currency"))||void 0===t?void 0:t.is(de.currencyB))})),n=new T.default(fe?Ee?de.amountB:de.amountA:de.amountB).toFloat(),a=fe?Ee?de.currencyB:de.currencyA:de.currencyB;if(Y)if(e.length&&t.length){var r=e.filter((function(e){return e.payAvailable()})),l=t.filter((function(e){return e.receiveAvailable()}));ae.push((0,X.A)(r.length?r[0].id:null,l.length?l[0].id:null,n,a))}else ie(!ue);else ae.push((0,X.A)(null,null,n,a))}),[ue,de,J]),we=(0,l.useCallback)((function(e){ve(q(q({},de),{},{amountA:e.target.value,amountB:Ce(new T.default(e.target.value).toFloat())}))}),[de]),Re=(0,l.useCallback)((function(e){ve(q(q({},de),{},{amountB:e.target.value,amountA:Ce(null,new T.default(e.target.value).toFloat())}))}),[de]),xe=F.default.t("EXCHANGE_RATES_CALC_BTN_EXCHANGE");return de.amountB&&(xe=fe&&Ae?F.default.t("EXCHANGE_RATES_CALC_BTN_EXCHANGE_SALE",{currency:de.currencyA}):F.default.t("EXCHANGE_RATES_CALC_BTN_EXCHANGE_BUY",{currency:de.currencyB})),(0,l.useEffect)((function(){$(),Y&&(0,d.DQ)()}),[Y]),(0,l.useEffect)((function(){if(ee){var e=null==ee?void 0:ee.get("homeCurrency");if(e&&V&&V.get(b).get(e)){var t=e.split("/"),n=(0,r.A)(t,2),a=n[0],l=n[1],c=V.pairs(b,a);ve(q(q({},de),{},{currencyA:a,currencyB:null!=c&&c.includes(l)?l:c[0]}))}}}),[ee]),(0,l.useEffect)((function(){ve(q(q({},de),{},fe&&Ee?{amountA:Ce(null,new T.default(de.amountB).toFloat())}:{amountB:Ce(new T.default(de.amountA).toFloat())}))}),[de.currencyA,de.currencyB]),(0,l.useEffect)((function(){if(V){var e=V.pairs(b,H);e&&ve(q(q({},de),{},{currencyA:H,currencyB:null!=e&&e.includes(Q)?Q:e[0]}))}}),[H,Q]),_?l.createElement(N,{exchangeButton:m}):l.createElement(l.Fragment,null,l.createElement(R.A,{onSubmit:function(){return ae.push((0,I.Rj)())},onCancel:function(){return ie(!1)},open:ue,submitLabel:F.default.t("EXCHANGE_RATES_ORDER_BTN_SUBMIT")},F.default.t("EXCHANGE_RATES_ORDER_VIRTUAL")),l.createElement("div",{className:A},l.createElement(E.A,null,l.createElement("div",{className:f},l.createElement("div",{className:y},l.createElement(x.default,{name:"currencyA",value:de.currencyA,onChange:me,native:te},null==V||null===(a=V.pairs(b,de.currencyB))||void 0===a?void 0:a.map((function(e){return l.createElement(P,{key:e,value:e,name:e})})))),l.createElement("div",{className:h},l.createElement(O.default,{name:"amountA",value:de.amountA,onChange:we,className:B.A.wWide,style:z,inputMode:"decimal",maxLength:20})))),l.createElement(E.A,null,l.createElement("div",{className:g},l.createElement(w.default,{onClick:_e,disabled:!(null!=ge&&ge.mirror()),"data-qa-node":"swap",startIcon:k.default}),ge?l.createElement("div",{className:p,"data-qa-node":"rate","data-qa-value":"".concat(null==ge||null===(c=ge.get("rateA"))||void 0===c?void 0:c.toFloat(),"=").concat(Be)},l.createElement("span",null,null==ge||null===(u=ge.get("rateA"))||void 0===u?void 0:u.toFloat()),l.createElement("span",null,ye?l.createElement(ye,{fill:re.contrast,width:18}):null),l.createElement("span",null,"= "),l.createElement("span",null,Be),l.createElement("span",null,he?l.createElement(he,{fill:re.contrast,width:18}):null)):null)),l.createElement("div",null,l.createElement("div",{className:f},l.createElement("div",{className:y},l.createElement(x.default,{name:"currencyB",value:de.currencyB,onChange:me,native:te},null==V||null===(o=V.pairs(b,de.currencyA))||void 0===o?void 0:o.map((function(e){return l.createElement(P,{key:e,value:e,name:e})})))),l.createElement("div",{className:h},l.createElement(O.default,{name:"amountB",value:de.amountB,onChange:Re,className:B.A.wWide,style:z,inputMode:"decimal",maxLength:20})))),m?be?be.message&&l.createElement(G.default,{mt:2},l.createElement(D.default,{color:"error",size:"s"},be.message[ne])):l.createElement("div",{className:C()(B.A.textCenter,B.A.marginTop3)},l.createElement(w.default,{"data-qa-node":"exchange",disabled:b!==i.ZU||!i.C0.includes(null==ge?void 0:ge.id),onClick:Ne},xe)):null))};Q.propTypes={currencyA:u().string,currencyB:u().string,type:u().string,exchangeButton:u().bool,ratesFetch:u().func,exchangeRatesPreferencesFetch:u().func,standby:u().bool,rates:u().object,cards:u().object,amountA:u().number,amountB:u().number,authorized:u().bool,isMobile:u().bool,exchangeRatesPreferences:u().object,lang:u().string};const K=(0,o.Ng)((function(e){var t=e.authorized,n=e.isMobile,a=e.Card,r=e.User,l=e.ExchangeRates;return{lang:e.lang,authorized:t,isMobile:n,cards:a.card.data,rates:l.rates.data,exchangeRatesPreferences:r.exchangeRates.data,standby:l.rates.status===s.B.REQUEST}}),{exchangeRatesPreferencesFetch:d.DQ,ratesFetch:m.DQ})(Q)},539474:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(296540),r=n(605556),l=n.n(r);var c=function(e){var t,n=e.icon,r=e.iconB,l=e.width,c=void 0===l?24:l,u=e.height,i=void 0===u?18:u,o=e.crossCourseMultiplier,s=void 0===o?.6:o;if(n&&r){var d=c*s,m=i*s,v=d/2*3,E=m/2*3;t=a.createElement("div",{className:"wrapper_wMi8EHK48t",style:{width:v,height:E}},a.createElement("div",{className:"iconA_hdHZS8zvRH"},n?a.createElement(n,{width:d,height:m}):null),a.createElement("div",{className:"iconB_wkaUV36_FQ"},r?a.createElement(r,{width:d,height:m}):null))}else t=a.createElement("div",{className:"iconStandalone_R4xnP3Y4VO"},n?a.createElement(n,{width:c,height:i}):null);return a.createElement("div",{className:"root_CTb3T8KnDE"},t)};c.propTypes={icon:l().func,iconB:l().func,height:l().number,width:l().number,crossCourseMultiplier:l().number};const u=c}}]);
</script>

</body>
</html>
