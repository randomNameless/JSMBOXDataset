<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>carousel-lightbox.html</title>
</head>
<body>
<script>import{html as Fe,css as ft,ref as Mn,ifDefined as ye,appendSearchParams as dt,registerCustomElementOnce as Tn,GlomexTemplateBase as Pn}from"../glomex-integration.js";function Te(t){return typeof t=="number"}function _e(t){return typeof t=="string"}function Pe(t){return typeof t=="boolean"}function Ke(t){return Object.prototype.toString.call(t)==="[object Object]"}function $(t){return Math.abs(t)}function Le(t){return Math.sign(t)}function le(t,e){return $(t-e)}function St(t,e){if(t===0||e===0||$(t)<=$(e))return 0;let n=le($(t),$(e));return $(n/t)}function ce(t){return ue(t).map(Number)}function ee(t){return t[fe(t)]}function fe(t){return Math.max(0,t.length-1)}function Ie(t,e){return e===fe(t)}function Xe(t,e=0){return Array.from(Array(t),(n,o)=>e+o)}function ue(t){return Object.keys(t)}function We(t,e){return[t,e].reduce((n,o)=>(ue(o).forEach(a=>{let s=n[a],r=o[a],c=Ke(s)&&Ke(r);n[a]=c?We(s,r):r}),n),{})}function Me(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Et(t,e){let n={start:o,center:a,end:s};function o(){return 0}function a(l){return s(l)/2}function s(l){return e-l}function r(l,i){return _e(t)?n[t](l):t(e,l,i)}return{measure:r}}function de(){let t=[];function e(a,s,r,c={passive:!0}){let l;if("addEventListener"in a)a.addEventListener(s,r,c),l=()=>a.removeEventListener(s,r,c);else{let i=a;i.addListener(r),l=()=>i.removeListener(r)}return t.push(l),o}function n(){t=t.filter(a=>a())}let o={add:e,clear:n};return o}function kt(t,e,n,o){let a=de(),s=1e3/60,r=null,c=0,l=0;function i(){a.add(t,"visibilitychange",()=>{t.hidden&&d()})}function m(){b(),a.clear()}function u(v){if(!l)return;r||(r=v);let p=v-r;for(r=v,c+=p;c>=s;)n(),c-=s;let g=$(c/s);o(g),l&&e.requestAnimationFrame(u)}function f(){l||(l=e.requestAnimationFrame(u))}function b(){e.cancelAnimationFrame(l),r=null,c=0,l=0}function d(){r=null,c=0}return{init:i,destroy:m,start:f,stop:b,update:n,render:o}}function _t(t,e){let n=e==="rtl",o=t==="y",a=o?"y":"x",s=o?"x":"y",r=!o&&n?-1:1,c=m(),l=u();function i(d){let{height:h,width:v}=d;return o?h:v}function m(){return o?"top":n?"right":"left"}function u(){return o?"bottom":n?"left":"right"}function f(d){return d*r}return{scroll:a,cross:s,startEdge:c,endEdge:l,measureSize:i,direction:f}}function ie(t=0,e=0){let n=$(t-e);function o(i){return i<t}function a(i){return i>e}function s(i){return o(i)||a(i)}function r(i){return s(i)?o(i)?t:e:i}function c(i){return n?i-n*Math.ceil((i-e)/n):i}return{length:n,max:e,min:t,constrain:r,reachedAny:s,reachedMax:a,reachedMin:o,removeOffset:c}}function Ye(t,e,n){let{constrain:o}=ie(0,t),a=t+1,s=r(e);function r(f){return n?$((a+f)%a):o(f)}function c(){return s}function l(f){return s=r(f),u}function i(f){return m().set(c()+f)}function m(){return Ye(t,c(),n)}let u={get:c,set:l,add:i,clone:m};return u}function Mt(t,e,n,o,a,s,r,c,l,i,m,u,f,b,d,h,v,p,g){let{cross:S,direction:k}=t,L=["INPUT","SELECT","TEXTAREA"],C={passive:!1},x=de(),P=de(),_=ie(50,225).constrain(b.measure(20)),T={mouse:300,touch:400},O={mouse:500,touch:600},B=d?43:25,y=!1,E=0,M=0,I=!1,A=!1,U=!1,j=!1;function q(w){if(!g)return;function D(H){(Pe(g)||g(w,H))&&R(H)}let V=e;x.add(V,"dragstart",H=>H.preventDefault(),C).add(V,"touchmove",()=>{},C).add(V,"touchend",()=>{}).add(V,"touchstart",D).add(V,"mousedown",D).add(V,"touchcancel",z).add(V,"contextmenu",z).add(V,"click",se,!0)}function X(){x.clear(),P.clear()}function W(){let w=j?n:e;P.add(w,"touchmove",G,C).add(w,"touchend",z).add(w,"mousemove",G,C).add(w,"mouseup",z)}function F(w){let D=w.nodeName||"";return L.includes(D)}function K(){return(d?O:T)[j?"mouse":"touch"]}function Y(w,D){let V=u.add(Le(w)*-1),H=m.byDistance(w,!d).distance;return d||$(w)<_?H:v&&D?H*.5:m.byIndex(V.get(),0).distance}function R(w){let D=Me(w,o);j=D,U=d&&D&&!w.buttons&&y,y=le(a.get(),r.get())>=2,!(D&&w.button!==0)&&(F(w.target)||(I=!0,s.pointerDown(w),i.useFriction(0).useDuration(0),a.set(r),W(),E=s.readPoint(w),M=s.readPoint(w,S),f.emit("pointerDown")))}function G(w){if(!Me(w,o)&&w.touches.length>=2)return z(w);let V=s.readPoint(w),H=s.readPoint(w,S),te=le(V,E),Z=le(H,M);if(!A&&!j&&(!w.cancelable||(A=te>Z,!A)))return z(w);let J=s.pointerMove(w);te>h&&(U=!0),i.useFriction(.3).useDuration(.75),c.start(),a.add(k(J)),w.preventDefault()}function z(w){let V=m.byDistance(0,!1).index!==u.get(),H=s.pointerUp(w)*K(),te=Y(k(H),V),Z=St(H,te),J=B-10*Z,ne=p+Z/50;A=!1,I=!1,P.clear(),i.useDuration(J).useFriction(ne),l.distance(te,!d),j=!1,f.emit("pointerUp")}function se(w){U&&(w.stopPropagation(),w.preventDefault(),U=!1)}function Q(){return I}return{init:q,destroy:X,pointerDown:Q}}function Tt(t,e){let o,a;function s(u){return u.timeStamp}function r(u,f){let d=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(Me(u,e)?u:u.touches[0])[d]}function c(u){return o=u,a=u,r(u)}function l(u){let f=r(u)-r(a),b=s(u)-s(o)>170;return a=u,b&&(o=u),f}function i(u){if(!o||!a)return 0;let f=r(a)-r(o),b=s(u)-s(o),d=s(u)-s(a)>170,h=f/b;return b&&!d&&$(h)>.1?h:0}return{pointerDown:c,pointerMove:l,pointerUp:i,readPoint:r}}function Pt(){function t(n){let{offsetTop:o,offsetLeft:a,offsetWidth:s,offsetHeight:r}=n;return{top:o,right:a+s,bottom:o+r,left:a,width:s,height:r}}return{measure:t}}function Lt(t){function e(o){return t*(o/100)}return{measure:e}}function It(t,e,n,o,a,s,r){let c,l,i=[],m=!1;function u(h){return a.measureSize(r.measure(h))}function f(h){if(!s)return;l=u(t),i=o.map(u);function v(g){for(let S of g){let k=S.target===t,L=o.indexOf(S.target),C=k?l:i[L],x=u(k?t:o[L]);if($(x-C)>=.5){n.requestAnimationFrame(()=>{h.reInit(),e.emit("resize")});break}}}c=new ResizeObserver(g=>{m||(Pe(s)||s(h,g))&&v(g)}),[t].concat(o).forEach(g=>c.observe(g))}function b(){c&&c.disconnect(),m=!0}return{init:f,destroy:b}}function Ct(t,e,n,o,a){let s=0,r=0,c=o,l=a,i=t.get(),m=0;function u(){let L=n.get()-t.get(),C=!c,x=0;return C?(s=0,t.set(n),x=L):(s+=L/c,s*=l,i+=s,t.add(s),x=i-m),r=Le(x),m=i,k}function f(){let L=n.get()-e.get();return $(L)<.001}function b(){return c}function d(){return r}function h(){return s}function v(){return g(o)}function p(){return S(a)}function g(L){return c=L,k}function S(L){return l=L,k}let k={direction:d,duration:b,velocity:h,seek:u,settled:f,useBaseFriction:p,useBaseDuration:v,useFriction:S,useDuration:g};return k}function Ot(t,e,n,o,a){let s=a.measure(10),r=a.measure(50),c=ie(.1,.99),l=!1;function i(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function m(b){if(!i())return;let d=t.reachedMin(e.get())?"min":"max",h=$(t[d]-e.get()),v=n.get()-e.get(),p=c.constrain(h/r);n.subtract(v*p),!b&&$(v)<s&&(n.set(t.constrain(n.get())),o.useDuration(25).useBaseFriction())}function u(b){l=!b}return{shouldConstrain:i,constrain:m,toggleActive:u}}function Dt(t,e,n,o,a){let s=ie(-e+t,0),r=u(),c=m(),l=f();function i(d,h){return le(d,h)<1}function m(){let d=r[0],h=ee(r),v=r.lastIndexOf(d),p=r.indexOf(h)+1;return ie(v,p)}function u(){return n.map((d,h)=>{let{min:v,max:p}=s,g=s.constrain(d),S=!h,k=Ie(n,h);return S?p:k||i(v,g)?v:i(p,g)?p:g}).map(d=>parseFloat(d.toFixed(3)))}function f(){if(e<=t+a)return[s.max];if(o==="keepSnaps")return r;let{min:d,max:h}=c;return r.slice(d,h)}return{snapsContained:l,scrollContainLimit:c}}function At(t,e,n){let o=e[0],a=n?o-t:ee(e);return{limit:ie(a,o)}}function $t(t,e,n,o){let s=e.min+.1,r=e.max+.1,{reachedMin:c,reachedMax:l}=ie(s,r);function i(f){return f===1?l(n.get()):f===-1?c(n.get()):!1}function m(f){if(!i(f))return;let b=t*(f*-1);o.forEach(d=>d.add(b))}return{loop:m}}function Nt(t){let{max:e,length:n}=t;function o(s){let r=s-e;return n?r/-n:0}return{get:o}}function Bt(t,e,n,o,a){let{startEdge:s,endEdge:r}=t,{groupSlides:c}=a,l=u().map(e.measure),i=f(),m=b();function u(){return c(o).map(h=>ee(h)[r]-h[0][s]).map($)}function f(){return o.map(h=>n[s]-h[s]).map(h=>-$(h))}function b(){return c(i).map(h=>h[0]).map((h,v)=>h+l[v])}return{snaps:i,snapsAligned:m}}function Ft(t,e,n,o,a,s){let{groupSlides:r}=a,{min:c,max:l}=o,i=m();function m(){let f=r(s),b=!t||e==="keepSnaps";return n.length===1?[s]:b?f:f.slice(c,l).map((d,h,v)=>{let p=!h,g=Ie(v,h);if(p){let S=ee(v[0])+1;return Xe(S)}if(g){let S=fe(s)-ee(v)[0]+1;return Xe(S,ee(v)[0])}return d})}return{slideRegistry:i}}function Vt(t,e,n,o,a){let{reachedAny:s,removeOffset:r,constrain:c}=o;function l(d){return d.concat().sort((h,v)=>$(h)-$(v))[0]}function i(d){let h=t?r(d):c(d),v=e.map((g,S)=>({diff:m(g-h,0),index:S})).sort((g,S)=>$(g.diff)-$(S.diff)),{index:p}=v[0];return{index:p,distance:h}}function m(d,h){let v=[d,d+n,d-n];if(!t)return d;if(!h)return l(v);let p=v.filter(g=>Le(g)===h);return p.length?l(p):ee(v)-n}function u(d,h){let v=e[d]-a.get(),p=m(v,h);return{index:d,distance:p}}function f(d,h){let v=a.get()+d,{index:p,distance:g}=i(v),S=!t&&s(v);if(!h||S)return{index:p,distance:d};let k=e[p]-g,L=d+m(k,0);return{index:p,distance:L}}return{byDistance:f,byIndex:u,shortcut:m}}function Rt(t,e,n,o,a,s,r){function c(u){let f=u.distance,b=u.index!==e.get();s.add(f),f&&(o.duration()?t.start():(t.update(),t.render(1),t.update())),b&&(n.set(e.get()),e.set(u.index),r.emit("select"))}function l(u,f){let b=a.byDistance(u,f);c(b)}function i(u,f){let b=e.clone().set(u),d=a.byIndex(b.get(),f);c(d)}return{distance:l,index:i}}function zt(t,e,n,o,a,s,r){let c=0;function l(){s.add(document,"keydown",i,!1),e.forEach(m)}function i(f){f.code==="Tab"&&(c=new Date().getTime())}function m(f){let b=()=>{if(new Date().getTime()-c>10)return;t.scrollLeft=0;let v=e.indexOf(f),p=n.findIndex(g=>g.includes(v));Te(p)&&(a.useDuration(0),o.index(p,0),r.emit("slideFocus"))};s.add(f,"focus",b,{passive:!0,capture:!0})}return{init:l}}function ge(t){let e=t;function n(){return e}function o(l){e=r(l)}function a(l){e+=r(l)}function s(l){e-=r(l)}function r(l){return Te(l)?l:l.get()}return{get:n,set:o,add:a,subtract:s}}function Qe(t,e){let n=t.scroll==="x"?s:r,o=e.style,a=!1;function s(u){return`translate3d(${u}px,0px,0px)`}function r(u){return`translate3d(0px,${u}px,0px)`}function c(u){a||(o.transform=n(t.direction(u)))}function l(u){a=!u}function i(){a||(o.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:i,to:c,toggleActive:l}}function jt(t,e,n,o,a,s,r,c,l){let m=ce(a),u=ce(a).reverse(),f=p().concat(g());function b(x,P){return x.reduce((_,T)=>_-a[T],P)}function d(x,P){return x.reduce((_,T)=>b(_,P)>0?_.concat([T]):_,[])}function h(x){return s.map((P,_)=>({start:P-o[_]+.5+x,end:P+e-.5+x}))}function v(x,P,_){let T=h(P);return x.map(O=>{let B=_?0:-n,y=_?n:0,E=_?"end":"start",M=T[O][E];return{index:O,loopPoint:M,slideLocation:ge(-1),translate:Qe(t,l[O]),target:()=>c.get()>M?B:y}})}function p(){let x=r[0],P=d(u,x);return v(P,n,!1)}function g(){let x=e-r[0]-1,P=d(m,x);return v(P,-n,!0)}function S(){return f.every(({index:x})=>{let P=m.filter(_=>_!==x);return b(P,e)<=.1})}function k(){f.forEach(x=>{let{target:P,translate:_,slideLocation:T}=x,O=P();O!==T.get()&&(_.to(O),T.set(O))})}function L(){f.forEach(x=>x.translate.clear())}return{canLoop:S,clear:L,loop:k,loopPoints:f}}function Ht(t,e,n){let o,a=!1;function s(l){if(!n)return;function i(m){for(let u of m)if(u.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}o=new MutationObserver(m=>{a||(Pe(n)||n(l,m))&&i(m)}),o.observe(t,{childList:!0})}function r(){o&&o.disconnect(),a=!0}return{init:s,destroy:r}}function Ut(t,e,n,o){let a={},s=null,r=null,c,l=!1;function i(){c=new IntersectionObserver(d=>{l||(d.forEach(h=>{let v=e.indexOf(h.target);a[v]=h}),s=null,r=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:o}),e.forEach(d=>c.observe(d))}function m(){c&&c.disconnect(),l=!0}function u(d){return ue(a).reduce((h,v)=>{let p=parseInt(v),{isIntersecting:g}=a[p];return(d&&g||!d&&!g)&&h.push(p),h},[])}function f(d=!0){if(d&&s)return s;if(!d&&r)return r;let h=u(d);return d&&(s=h),d||(r=h),h}return{init:i,destroy:m,get:f}}function qt(t,e,n,o,a,s){let{measureSize:r,startEdge:c,endEdge:l}=t,i=n[0]&&a,m=d(),u=h(),f=n.map(r),b=v();function d(){if(!i)return 0;let g=n[0];return $(e[c]-g[c])}function h(){if(!i)return 0;let g=s.getComputedStyle(ee(o));return parseFloat(g.getPropertyValue(`margin-${l}`))}function v(){return n.map((g,S,k)=>{let L=!S,C=Ie(k,S);return L?f[S]+m:C?f[S]+u:k[S+1][c]-g[c]}).map($)}return{slideSizes:f,slideSizesWithGaps:b,startGap:m,endGap:u}}function Gt(t,e,n,o,a,s,r,c,l){let{startEdge:i,endEdge:m,direction:u}=t,f=Te(n);function b(p,g){return ce(p).filter(S=>S%g===0).map(S=>p.slice(S,S+g))}function d(p){return p.length?ce(p).reduce((g,S,k)=>{let L=ee(g)||0,C=L===0,x=S===fe(p),P=a[i]-s[L][i],_=a[i]-s[S][m],T=!o&&C?u(r):0,O=!o&&x?u(c):0,B=$(_-O-(P+T));return k&&B>e+l&&g.push(S),x&&g.push(p.length),g},[]).map((g,S,k)=>{let L=Math.max(k[S-1]||0);return p.slice(L,g)}):[]}function h(p){return f?b(p,n):d(p)}return{groupSlides:h}}function Kt(t,e,n,o,a,s,r){let{align:c,axis:l,direction:i,startIndex:m,loop:u,duration:f,dragFree:b,dragThreshold:d,inViewThreshold:h,slidesToScroll:v,skipSnaps:p,containScroll:g,watchResize:S,watchSlides:k,watchDrag:L}=s,C=2,x=Pt(),P=x.measure(e),_=n.map(x.measure),T=_t(l,i),O=T.measureSize(P),B=Lt(O),y=Et(c,O),E=!u&&!!g,M=u||!!g,{slideSizes:I,slideSizesWithGaps:A,startGap:U,endGap:j}=qt(T,P,_,n,M,a),q=Gt(T,O,v,u,P,_,U,j,C),{snaps:X,snapsAligned:W}=Bt(T,y,P,_,q),F=-ee(X)+ee(A),{snapsContained:K,scrollContainLimit:Y}=Dt(O,F,W,g,C),R=E?K:W,{limit:G}=At(F,R,u),z=Ye(fe(R),m,u),se=z.clone(),Q=ce(n),N=({dragHandler:oe,scrollBody:Ee,scrollBounds:ke,options:{loop:me}})=>{me||ke.constrain(oe.pointerDown()),Ee.seek()},w=({scrollBody:oe,translate:Ee,location:ke,offsetLocation:me,scrollLooper:mt,slideLooper:gt,dragHandler:vt,animation:bt,eventHandler:je,scrollBounds:yt,options:{loop:He}},xt)=>{let Ue=oe.velocity(),qe=oe.settled(),wt=!yt.shouldConstrain(),Ge=He?qe:qe&&wt;Ge&&!vt.pointerDown()&&(bt.stop(),je.emit("settle")),Ge||je.emit("scroll"),me.set(ke.get()-Ue+Ue*xt),He&&(mt.loop(oe.direction()),gt.loop()),Ee.to(me.get())},D=kt(o,a,()=>N(Se),oe=>w(Se,oe)),V=.68,H=R[z.get()],te=ge(H),Z=ge(H),J=ge(H),ne=Ct(te,Z,J,f,V),xe=Vt(u,R,F,G,J),we=Rt(D,z,se,ne,xe,J,r),Ve=Nt(G),Re=de(),pt=Ut(e,n,r,h),{slideRegistry:ze}=Ft(E,g,R,Y,q,Q),ht=zt(t,n,ze,we,ne,Re,r),Se={ownerDocument:o,ownerWindow:a,eventHandler:r,containerRect:P,slideRects:_,animation:D,axis:T,dragHandler:Mt(T,t,o,a,J,Tt(T,a),te,D,we,ne,xe,z,r,B,b,d,p,V,L),eventStore:Re,percentOfView:B,index:z,indexPrevious:se,limit:G,location:te,offsetLocation:Z,options:s,resizeHandler:It(e,r,a,n,T,S,x),scrollBody:ne,scrollBounds:Ot(G,Z,J,ne,B),scrollLooper:$t(F,G,Z,[te,Z,J]),scrollProgress:Ve,scrollSnapList:R.map(Ve.get),scrollSnaps:R,scrollTarget:xe,scrollTo:we,slideLooper:jt(T,O,F,I,A,X,R,Z,n),slideFocus:ht,slidesHandler:Ht(e,r,k),slidesInView:pt,slideIndexes:Q,slideRegistry:ze,slidesToScroll:q,target:J,translate:Qe(T,e)};return Se}function Xt(){let t={},e;function n(i){e=i}function o(i){return t[i]||[]}function a(i){return o(i).forEach(m=>m(e,i)),l}function s(i,m){return t[i]=o(i).concat([m]),l}function r(i,m){return t[i]=o(i).filter(u=>u!==m),l}function c(){t={}}let l={init:n,emit:a,off:r,on:s,clear:c};return l}var Wt={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function Yt(t){function e(s,r){return We(s,r||{})}function n(s){let r=s.breakpoints||{},c=ue(r).filter(l=>t.matchMedia(l).matches).map(l=>r[l]).reduce((l,i)=>e(l,i),{});return e(s,c)}function o(s){return s.map(r=>ue(r.breakpoints||{})).reduce((r,c)=>r.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:o}}function Qt(t){let e=[];function n(s,r){return e=r.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(s,t)),r.reduce((c,l)=>Object.assign(c,{[l.name]:l}),{})}function o(){e=e.filter(s=>s.destroy())}return{init:n,destroy:o}}function ve(t,e,n){let o=t.ownerDocument,a=o.defaultView,s=Yt(a),r=Qt(s),c=de(),l=Xt(),{mergeOptions:i,optionsAtMedia:m,optionsMediaQueries:u}=s,{on:f,off:b,emit:d}=l,h=O,v=!1,p,g=i(Wt,ve.globalOptions),S=i(g),k=[],L,C,x;function P(){let{container:N,slides:w}=S;C=(_e(N)?t.querySelector(N):N)||t.children[0];let V=_e(w)?C.querySelectorAll(w):w;x=[].slice.call(V||C.children)}function _(N){let w=Kt(t,C,x,o,a,N,l);if(N.loop&&!w.slideLooper.canLoop()){let D=Object.assign({},N,{loop:!1});return _(D)}return w}function T(N,w){v||(g=i(g,N),S=m(g),k=w||k,P(),p=_(S),u([g,...k.map(({options:D})=>D)]).forEach(D=>c.add(D,"change",O)),S.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(),p.eventHandler.init(Q),p.resizeHandler.init(Q),p.slidesHandler.init(Q),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&x.length&&p.dragHandler.init(Q),L=r.init(Q,k)))}function O(N,w){let D=X();B(),T(i({startIndex:D},N),w),l.emit("reInit")}function B(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),r.destroy(),c.clear()}function y(){v||(v=!0,c.clear(),B(),l.emit("destroy"),l.clear())}function E(N,w,D){!S.active||v||(p.scrollBody.useBaseFriction().useDuration(w===!0?0:S.duration),p.scrollTo.index(N,D||0))}function M(N){let w=p.index.add(1).get();E(w,N,-1)}function I(N){let w=p.index.add(-1).get();E(w,N,1)}function A(){return p.index.add(1).get()!==X()}function U(){return p.index.add(-1).get()!==X()}function j(){return p.scrollSnapList}function q(){return p.scrollProgress.get(p.location.get())}function X(){return p.index.get()}function W(){return p.indexPrevious.get()}function F(){return p.slidesInView.get()}function K(){return p.slidesInView.get(!1)}function Y(){return L}function R(){return p}function G(){return t}function z(){return C}function se(){return x}let Q={canScrollNext:A,canScrollPrev:U,containerNode:z,internalEngine:R,destroy:y,off:b,on:f,emit:d,plugins:Y,previousScrollSnap:W,reInit:h,rootNode:G,scrollNext:M,scrollPrev:I,scrollProgress:q,scrollSnapList:j,scrollTo:E,selectedScrollSnap:X,slideNodes:se,slidesInView:F,slidesNotInView:K};return T(e,n),setTimeout(()=>l.emit("init"),0),Q}ve.globalOptions=void 0;function re(){return re=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},re.apply(this,arguments)}var Zt=function(t,e){return e===void 0&&(e=.996),t*e/(1-e)};function Jt(t){return t[t.length-1]}function en(t){return t.reduce(function(e,n){return e+n})/t.length}var tn=function(t,e,n){return Math.min(Math.max(e,t),n)};function Ce(t,e){if(t.length!==e.length)throw new Error("vectors must be same length");return t.map(function(n,o){return n+e[o]})}function Ze(t){return Math.max.apply(Math,t.map(Math.abs))}function ae(t){return Object.freeze(t),Object.values(t).forEach(function(e){e===null||typeof e!="object"||Object.isFrozen(e)||ae(e)}),t}var Oe=[1,18,typeof window<"u"&&window.innerHeight||800],nn=[-1,-1,-1],Je=ae({preventWheelAction:!0,reverseSign:[!0,!0,!1]}),on=400;function et(){return{isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:on}}function tt(t){t===void 0&&(t={});var e,n,o,a=function(){var y={};function E(M,I){y[M]=(y[M]||[]).filter(function(A){return A!==I})}return ae({on:function(M,I){return y[M]=(y[M]||[]).concat(I),function(){return E(M,I)}},off:E,dispatch:function(M,I){M in y&&y[M].forEach(function(A){return A(I)})}})}(),s=a.on,r=a.off,c=a.dispatch,l=Je,i=et(),m=!1,u=function(y){Array.isArray(y)?y.forEach(function(E){return d(E)}):d(y)},f=function(y){return y===void 0&&(y={}),Object.values(y).some(function(E){return E==null})?l:l=ae(re({},Je,l,y))},b=function(y){var E=re({event:e,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:i.isMomentum,axisDelta:[0,0,0],axisVelocity:i.axisVelocity,axisMovement:i.axisMovement,get axisMovementProjection(){return Ce(E.axisMovement,E.axisVelocity.map(function(M){return Zt(M)}))}},y);c("wheel",re({},E,{previous:n})),n=E},d=function(y){var E,M,I,A,U,j=(E=function(F,K){if(!K)return F;var Y=K===!0?nn:K.map(function(R){return R?-1:1});return re({},F,{axisDelta:F.axisDelta.map(function(R,G){return R*Y[G]})})}((I=(M=y).deltaX*Oe[M.deltaMode],A=M.deltaY*Oe[M.deltaMode],U=(M.deltaZ||0)*Oe[M.deltaMode],{timeStamp:M.timeStamp,axisDelta:[I,A,U]}),l.reverseSign),re({},E,{axisDelta:E.axisDelta.map(function(F){return tn(F,-700,700)})})),q=j.axisDelta,X=j.timeStamp,W=Ze(q);y.preventDefault&&function(F,K){var Y=l.preventWheelAction,R=K[0],G=K[1],z=K[2];if(typeof Y=="boolean")return Y;switch(Y){case"x":return Math.abs(R)>=F;case"y":return Math.abs(G)>=F;case"z":return Math.abs(z)>=F;default:return!1}}(W,q)&&y.preventDefault(),i.isStarted?i.isMomentum&&W>Math.max(2,2*i.lastAbsDelta)&&(P(!0),C()):C(),W===0&&Object.is&&Object.is(y.deltaX,-0)?m=!0:(e=y,i.axisMovement=Ce(i.axisMovement,q),i.lastAbsDelta=W,i.scrollPointsToMerge.push({axisDelta:q,timeStamp:X}),h(),b({axisDelta:q,isStart:!i.isStartPublished}),i.isStartPublished=!0,x())},h=function(){i.scrollPointsToMerge.length===2?(i.scrollPoints.unshift({axisDeltaSum:i.scrollPointsToMerge.map(function(y){return y.axisDelta}).reduce(Ce),timeStamp:en(i.scrollPointsToMerge.map(function(y){return y.timeStamp}))}),p(),i.scrollPointsToMerge.length=0,i.scrollPoints.length=1,i.isMomentum||k()):i.isStartPublished||v()},v=function(){i.axisVelocity=Jt(i.scrollPointsToMerge).axisDelta.map(function(y){return y/i.willEndTimeout})},p=function(){var y=i.scrollPoints,E=y[0],M=y[1];if(M&&E){var I=E.timeStamp-M.timeStamp;if(!(I<=0)){var A=E.axisDeltaSum.map(function(j){return j/I}),U=A.map(function(j,q){return j/(i.axisVelocity[q]||1)});i.axisVelocity=A,i.accelerationFactors.push(U),g(I)}}},g=function(y){var E=10*Math.ceil(y/10)*1.2;i.isMomentum||(E=Math.max(100,2*E)),i.willEndTimeout=Math.min(1e3,Math.round(E))},S=function(y){return y===0||y<=.96&&y>=.6},k=function(){if(i.accelerationFactors.length>=5){if(m&&(m=!1,Ze(i.axisVelocity)>=.2))return void L();var y=i.accelerationFactors.slice(-5);y.every(function(E){var M=!!E.reduce(function(A,U){return A&&A<1&&A===U?1:0}),I=E.filter(S).length===E.length;return M||I})&&L(),i.accelerationFactors=y}},L=function(){i.isMomentum=!0},C=function(){(i=et()).isStarted=!0,i.startTime=Date.now(),n=void 0,m=!1},x=function(){clearTimeout(o),o=setTimeout(P,i.willEndTimeout)},P=function(y){y===void 0&&(y=!1),i.isStarted&&(i.isMomentum&&y?b({isEnding:!0,isMomentumCancel:!0}):b({isEnding:!0}),i.isMomentum=!1,i.isStarted=!1)},_=function(y){var E=[],M=function(I){I.removeEventListener("wheel",y),E=E.filter(function(A){return A!==I})};return ae({observe:function(I){return I.addEventListener("wheel",y,{passive:!1}),E.push(I),function(){return M(I)}},unobserve:M,disconnect:function(){E.forEach(M)}})}(u),T=_.observe,O=_.unobserve,B=_.disconnect;return f(t),ae({on:s,off:r,observe:T,unobserve:O,disconnect:B,feedWheel:u,updateOptions:f})}var rn={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};function be(t){var e;t===void 0&&(t={});var n=function(){};return{name:"wheelGestures",options:t,init:function(o,a){var s,r,c=a.mergeOptions,l=a.optionsAtMedia,i=c(rn,be.globalOptions),m=c(i,t);e=l(m);var u,f=o.internalEngine(),b=(s=e.target)!=null?s:o.containerNode().parentNode,d=(r=e.forceWheelAxis)!=null?r:f.options.axis,h=tt({preventWheelAction:d,reverseSign:[!0,!0,!1]}),v=h.observe(b),p=h.on("wheel",function(x){var P=x.axisDelta,_=P[0],T=P[1],O=d==="x"?_:T,B=d==="x"?T:_,y=x.isMomentum&&x.previous&&!x.previous.isMomentum,E=x.isEnding&&!x.isMomentum||y;Math.abs(O)>Math.abs(B)&&!g&&!x.isMomentum&&function(M){try{C(u=new MouseEvent("mousedown",M.event))}catch{return n()}g=!0,document.documentElement.addEventListener("mousemove",k,!0),document.documentElement.addEventListener("mouseup",k,!0),document.documentElement.addEventListener("mousedown",k,!0),e.wheelDraggingClass&&b.classList.add(e.wheelDraggingClass)}(x),g&&(E?function(M){g=!1,C(L("mouseup",M)),S(),e.wheelDraggingClass&&b.classList.remove(e.wheelDraggingClass)}(x):C(L("mousemove",x)))}),g=!1;function S(){document.documentElement.removeEventListener("mousemove",k,!0),document.documentElement.removeEventListener("mouseup",k,!0),document.documentElement.removeEventListener("mousedown",k,!0)}function k(x){g&&x.isTrusted&&x.stopImmediatePropagation()}function L(x,P){var _,T;if(d===f.options.axis){var O=P.axisMovement;_=O[0],T=O[1]}else{var B=P.axisMovement;T=B[0],_=B[1]}if(!f.options.skipSnaps&&!f.options.dragFree){var y=f.containerRect.width,E=f.containerRect.height;_=_<0?Math.max(_,-y):Math.min(_,y),T=T<0?Math.max(T,-E):Math.min(T,E)}return new MouseEvent(x,{clientX:u.clientX+_,clientY:u.clientY+T,screenX:u.screenX+_,screenY:u.screenY+T,movementX:_,movementY:T,button:0,bubbles:!0,cancelable:!0,composed:!0})}function C(x){o.containerNode().dispatchEvent(x)}n=function(){v(),p(),S()}},destroy:function(){return n()}}}be.globalOptions=void 0;import{html as ot,LitElement as cn,registerCustomElementOnce as un}from"../glomex-integration.js";import{html as nt,LitElement as sn,registerCustomElementOnce as an,ifDefined as ln}from"../glomex-integration.js";var De=class extends sn{static get properties(){return{steps:{type:Number},index:{type:Number},progress:{type:Number}}}render(){return nt`
      <style>
        ol.progress-bar {
          display: flex;
          list-style: none;
          margin: 0;
          padding: 0;
          height: 2px;
          margin: 4px;
        }

        ol.progress-bar li {
          position: relative;
          list-style: none;
          margin: 0;
          padding: 0;
          background: rgba(255, 255, 255, 0.6);
          border-radius: 1px;
          flex-grow: 1;
          margin-right: 4px;
        }

        ol.progress-bar li:last-child {
          margin-right: 0px;
        }

        ol.progress-bar li .inner-progress {
          position: absolute;
          top: 0;
          left: 0;
          width: 0%;
          background: white;
          display: inline-block;
          height: 100%;
        }

        ol.progress-bar li.filled .inner-progress {
          width: 100%;
          transition: none;
        }

        .progress-bar-backdrop {
          height: 100px;
          position: absolute;
          top: 0px;
          left: 0px;
          width: 100%;
          pointer-events: none;
          background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0));
        }
      </style>
      <div part="step-progress-backdrop" class="progress-bar-backdrop"></div>
      <ol class="progress-bar" part="step-progress-bar">
        ${[...Array(this.steps)].map((e,n)=>nt`
            <li class="${n<this.index?"filled":""}" part="step-progress-item">
              <span
                style=${ln(this.index===n&&this.progress!=null?`width: ${this.progress}%; transition: width 200ms linear;`:void 0)}
                class="inner-progress"
                part="step-progress-item-filler"
              ></span>
            </li>
          `)}
      </ol>
    `}};an(window,"glomex-step-progress",De);var it=0,Ae=class extends cn{constructor(){super(),this._onNextButtonClick=this._onNextButtonClick.bind(this),this._onPrevButtonClick=this._onPrevButtonClick.bind(this),this._onTimeupdate=this._onTimeupdate.bind(this),this._onPlay=this._onPlay.bind(this),this._onEnded=this._onEnded.bind(this),this._onClick=this._onClick.bind(this),this._onKeydown=this._onKeydown.bind(this),this.slidesToScroll=1,this._carouselId=`slides-container-${it}`,it+=1}static get properties(){return{index:{type:Number},carouselIndex:{type:Number,reflect:!1},autoplay:{type:Boolean,reflect:!1},playOnSelect:{type:Boolean,attribute:"play-on-select"},slideProgress:{type:Number,reflect:!1},canScrollPrev:{type:Boolean,reflect:!1},canScrollNext:{type:Boolean,reflect:!1},axis:{type:String},align:{type:String,converter:e=>{let n=Number(e);return Number.isNaN(n)?e:n}},direction:{type:String},slidesToScroll:{type:Number,attribute:"slides-to-scroll"},nonDraggable:{type:Boolean,attribute:"non-draggable"},dragFree:{type:Boolean,attribute:"drag-free"},loop:{type:Boolean},speed:{type:Number},containScroll:{type:String,attribute:"contain-scroll"},skipSnaps:{type:Boolean,attribute:"skip-snaps"},inViewThreshold:{type:Number,attribute:"in-view-threshold"},startIndex:{type:Number,attribute:"start-index"}}}get options(){return JSON.parse(JSON.stringify({axis:this.axis,align:this.align,direction:this.direction,slidesToScroll:this.slidesToScroll,draggable:!this.nonDraggable,dragFree:this.dragFree,loop:this.loop,speed:this.speed,containScroll:this.containScroll,skipSnaps:this.skipSnaps,inViewThreshold:this.inViewThreshold}))}_onPrevButtonClick(){this.carousel.scrollPrev()}_onNextButtonClick(){this.carousel.scrollNext()}_onPlay(e){this.pause(),e.stopPropagation()}_onTimeupdate(e){if(this.carouselIndex==null)return;let n=this._getSlideElement(this.carouselIndex);if(!this.autoplay&&n&&!n.video||!this.carousel)return;Number(this.carousel.slideNodes().indexOf(e.target))===this.carouselIndex&&(this.slideProgress=n&&!this.autoplay&&!(n.video&&n.showVideo)&&!n.animatePoster?100:n.progress)}_onEnded(){this.autoplay&&this.carousel.scrollNext()}_onClick(e){let n=e instanceof window.PointerEvent&&e.pointerType,o=e instanceof window.MouseEvent&&e.x>0&&e.y>0;!n&&!o||(this.autoplay=!1,this.focus())}_onKeydown(e){if(!this.carousel)return;this.autoplay=!1;let n=this.renderRoot.querySelector(".click-focus"),o=this._getCurrentSlideElement();if(rt(window.document)===n)switch(e.code){case"ArrowLeft":this.carousel.scrollPrev();break;case"ArrowRight":this.carousel.scrollNext();break;case"Space":case"Enter":o.dispatchEvent(new window.CustomEvent("click",{bubbles:!0,cancelable:!0})),e.preventDefault();break;default:break}}focus(){this.carousel&&this.renderRoot.querySelector(".click-focus").focus()}_initialSetup(){let e=this.renderRoot.querySelector(".viewport"),n=this.renderRoot.querySelector(".slides");this.carousel&&this.carousel.destroy(),this.carousel=ve(e,{...this.options,startIndex:this.startIndex/this.slidesToScroll||0,container:n,slides:n.assignedElements()},[be()]),this._connectEmblaEvents();let o=this.renderRoot.querySelector(".button-prev"),a=this.renderRoot.querySelector(".button-next");o.removeEventListener("click",this._onPrevButtonClick),a.removeEventListener("click",this._onNextButtonClick),this.removeEventListener("click",this._onClick,{capture:!0}),this.removeEventListener("timeupdate",this._onTimeupdate),this.removeEventListener("play",this._onPlay),this.removeEventListener("ended",this._onEnded),o.addEventListener("click",this._onPrevButtonClick),a.addEventListener("click",this._onNextButtonClick),this.addEventListener("click",this._onClick,{capture:!0}),this.addEventListener("timeupdate",this._onTimeupdate),this.addEventListener("play",this._onPlay),this.addEventListener("ended",this._onEnded),this.removeEventListener("keydown",this._onKeydown),this.addEventListener("keydown",this._onKeydown),this._intersectionObserver||(this._intersectionObserver=new window.IntersectionObserver(s=>{let r=this._getCurrentSlideElement();s[0].intersectionRatio>.5?(this.autoplay||this._pausedByIntersectionObserver)&&this.play():r&&!r.paused&&(this._pausedByIntersectionObserver=!0,this.pause())},{threshold:[.5]}),this._intersectionObserver.observe(this))}firstUpdated(){if(!this.renderRoot.querySelector(".viewport"))return;let n=this.renderRoot.querySelector(".slides");n.addEventListener("slotchange",()=>{this._initialSetup()}),n.assignedElements().length>0&&this._initialSetup()}updated(e){if(!(e.has("autoplay")||e.has("slideProgress")||e.has("carouselIndex")||e.has("canScrollPrev")||e.has("canScrollNext"))&&(e.has("index")||this.reInit(),this.carousel&&e.has("index"))){let n=this.carousel.slideNodes().length;this.index<n&&this.carousel.scrollTo(Math.floor(this.index/this.slidesToScroll))}}connectedCallback(){super.connectedCallback(),this.firstUpdated()}disconnectedCallback(){this.carousel&&(this.carousel.destroy(),this.carousel=void 0),this._intersectionObserver&&(this._intersectionObserver.disconnect(),this._intersectionObserver=void 0),this.removeEventListener("keydown",this._onKeydown)}_updatePrevNextButtons(){this.canScrollPrev=this.carousel.canScrollPrev(),this.canScrollNext=this.carousel.canScrollNext()}_getCurrentSlideElement(){if(!this.carousel)return;let e=this.carousel.selectedScrollSnap()*this.slidesToScroll;return this._getSlideElement(e)}_getSlideElement(e){return this.carousel?this.carousel.slideNodes()[e]:void 0}play(){let e=this._getCurrentSlideElement();this.pause(),!(!e||typeof e.play!="function")&&(e.updateComplete.then(()=>e.play()),this._pausedByIntersectionObserver=!1)}pause(){this.carousel&&this.carousel.slideNodes().forEach(e=>{typeof e.pause=="function"&&e.pause()})}reInit(){this.carousel&&this.carousel.reInit(this.options)}_select({initialSelect:e=!1}={}){this.pause(),(this.autoplay||this.playOnSelect&&!e)&&this.play(),this.carouselIndex=this.carousel.selectedScrollSnap()*this.slidesToScroll;let n=this._getSlideElement(this.carouselIndex),o=100;n&&!this.autoplay&&!(n.video&&n.showVideo)&&!n.animatePoster||(n?o=n.progress:o=0),this.slideProgress=o,this.dispatchEvent(new window.CustomEvent("select",{detail:{index:this.carousel.selectedScrollSnap()}})),this._updatePrevNextButtons(),setTimeout(()=>{this._updatePrevNextButtons()},100)}_settle(){let e=this.carousel.slidesInView();this.carousel.slideNodes().forEach((n,o)=>{e.indexOf(o)>-1?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")})}_init(){this._select({initialSelect:!0}),this._settle(),this.index===void 0&&window.setTimeout(()=>{this.index=this.startIndex},0)}_connectEmblaEvents(){this.carousel.on("select",()=>this._select()),this.carousel.on("settle",()=>this._settle()),this.carousel.on("init",()=>this._init()),this.carousel.on("pointerDown",()=>{this.pause(),this.autoplay=!1})}render(){let e=this.querySelectorAll('[slot="slide"]');return ot`
      <style>
        :host {
          position: relative;
          width: 100%;
          max-width: 100%;
          margin-left: auto;
          margin-right: auto;
          display: block;
          min-width: 0;
        }

        :host([axis='y']) {
          height: 100%;
        }

        .click-focus:focus {
          outline: none;
        }

        .viewport {
          overflow: hidden;
          cursor: grab;
        }

        :host([axis='y']) .viewport {
          position: absolute;
          inset: 0;
        }

        .viewport.hidden {
          visibility: hidden;
        }

        .slides {
          position: relative;
          display: flex;
          gap: var(--gap, 5px);
          backface-visibility: hidden;
          flex-direction: row;
          user-select: none;
          -webkit-touch-callout: none;
          -khtml-user-select: none;
          -webkit-tap-highlight-color: transparent;
        }

        :host([axis='y']) .slides {
          height: 100%;
        }

        .slides::slotted(*) {
          flex-grow: 0;
          flex-shrink: 0;
          overflow: hidden;
          max-width: 100%;
          flex-basis: var(--card-width);
        }

        :host([loop]) .slides::slotted(*:last-of-type) {
          margin-right: var(--gap, 5px);
        }

        :host([axis='y']) .slides::slotted(*) {
          flex-basis: unset !important;
        }

        :host([axis='y']) .slides::slotted(:last-child) {
          margin-right: unset;
          margin-bottom: var(--gap, 5px);
        }

        :host([axis='y']) .slides {
          flex-direction: column;
        }

        :host([non-draggable]) .viewport {
          cursor: initial;
        }

        .button {
          cursor: pointer;
          background-color: transparent;
          touch-action: manipulation;
          position: absolute;
          z-index: 1;
          top: 50%;
          transform: translateY(-50%);
          border: 0;
          width: 50px;
          height: 80px;
          justify-content: center;
          align-items: center;
          padding: 20px 0;
        }

        :host([axis='y']) .button {
          top: unset;
          height: 80px;
          width: 50px;
          padding: 0 20px;
          transform: unset;
        }

        .button:disabled {
          cursor: default;
          opacity: 0.3;
          pointer-events: none;
        }

        .button-svg {
          width: 100%;
          height: 100%;
          fill: #FFF;
          filter: drop-shadow(0 0 10px black);
        }
        :host([axis='y']) .button-svg {
          filter: drop-shadow(0 0 6px black);
        }

        .button-svg:hover {
          fill: rgba(255, 255, 255, 0.7);
        }

        .button-prev {
          left: 0px;
        }

        .button-next {
          right: 0px;
        }

        :host([axis='y']) .button-prev {
          top: 0px;
          left: calc(50% - 15px);
          transform: rotate(90deg);
        }

        :host([axis='y']) .button-next {
          bottom: 0px;
          left: calc(50% - 15px);
          right: unset;
          transform: rotate(90deg);
        }

        glomex-step-progress {
          position: absolute;
          top: 0;
          right: 0;
          left: 0;
          box-sizing: border-box;
        }

        :host([axis='y']) glomex-step-progress {
          display: none;
        }
      </style>
      <div class="click-focus" tabindex="-1">
      <div
        class="viewport${e.length===0?" hidden":""}"
        tabindex="0"
        aria-roledescription="carousel"
        aria-live="${this.autoplay?"off":"polite"}"
        aria-label="carousel"
        role="region"
      >
        <button
          class="button button-prev"
          part="button-prev"
          aria-label="Scroll to previous slide"
          aria-controls=${this._carouselId}
          ?disabled=${!this.canScrollPrev}
        >
          <slot name="prev-button">
            <svg
              part="button-prev-svg"
              class="button-svg"
              viewBox="137.718 -1.001 366.563 643.999"
            >
              <path
                d="M428.36 12.5c16.67-16.67 43.76-16.67 60.42 0 16.67 16.67 16.67 43.76 0 60.42L241.7 320c148.25 148.24 230.61 230.6 247.08 247.08 16.67 16.66 16.67 43.75 0 60.42-16.67 16.66-43.76 16.67-60.42 0-27.72-27.71-249.45-249.37-277.16-277.08a42.308 42.308 0 0 1-12.48-30.34c0-11.1 4.1-22.05 12.48-30.42C206.63 234.23 400.64 40.21 428.36 12.5z"
              ></path>
            </svg>
          </slot>
        </button>
        <slot name="slide" class="slides" id="${this._carouselId}"></slot>
        <button
          class="button button-next"
          part="button-next"
          aria-label="Scroll to next slide"
          aria-controls=${this._carouselId}
          ?disabled=${!this.canScrollNext}
        >
          <slot name="next-button"></slot>
            <svg
              class="button-svg"
              viewBox="137.718 -1.001 366.563 643.999"
              part="button-next-svg"
            >
              <path
                d="M 428.36 627.496 C 445.03 644.166 472.12 644.166 488.78 627.496 C 505.45 610.826 505.45 583.736 488.78 567.076 L 241.7 319.996 C 389.95 171.756 472.31 89.396 488.78 72.916 C 505.45 56.256 505.45 29.166 488.78 12.496 C 472.11 -4.164 445.02 -4.174 428.36 12.496 C 400.64 40.206 178.91 261.866 151.2 289.576 C 143.129 297.599 138.63 308.536 138.72 319.916 C 138.72 331.016 142.82 341.966 151.2 350.336 C 206.63 405.766 400.64 599.786 428.36 627.496 Z" transform="matrix(-1, 0, 0, -1, 640.00116, 639.995789)"
              ></path>
            </svg>
          </slot>
        </button>
        <slot name="indicator"></slot>
        ${this.canScrollNext||this.canScrollPrev?ot`
                <glomex-step-progress
                  part="step-progress"
                  exportparts="step-progress-backdrop, step-progress-bar, step-progress-item, step-progress-item-filler"
                  steps="${e.length}"
                  index="${this.carouselIndex}"
                  progress="${this.slideProgress}"
                ></glomex-step-progress>
              `:null}
      </div>
      </div>
    `}};un(window,"glomex-carousel",Ae);function rt(t,e){let n=t.activeElement;return n?n.shadowRoot?rt(n.shadowRoot,n):n:e}var dn=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),fn=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function st(t){return Object.assign({muted:!1,timeout:250,inline:!1},t)}function at(t,e){var n=t.muted,o=t.timeout,a=t.inline,s=e(),r=s.element,c=s.source,l=void 0,i=void 0,m=void 0;return r.muted=n,n===!0&&r.setAttribute("muted","muted"),a===!0&&r.setAttribute("playsinline","playsinline"),r.src=c,new Promise(function(u){l=r.play(),i=setTimeout(function(){m(!1,new Error("Timeout "+o+" ms has been reached"))},o),m=function(b){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r.remove(),r.srcObject=null,clearTimeout(i),u({result:b,error:d})},l!==void 0?l.then(function(){return m(!0)}).catch(function(f){return m(!1,f)}):m(!0)})}function pn(t){return t=st(t),at(t,function(){return{element:document.createElement("video"),source:URL.createObjectURL(fn)}})}function hn(t){return t=st(t),at(t,function(){return{element:document.createElement("audio"),source:URL.createObjectURL(dn)}})}var mn={audio:hn,video:pn},lt=mn;import{html as pe,LitElement as yn,registerCustomElementOnce as xn,ifDefined as ct}from"../glomex-integration.js";import{html as gn,LitElement as vn,registerCustomElementOnce as bn}from"../glomex-integration.js";var $e=class extends vn{render(){return gn`
      <style>
        :host {
          position: absolute;
          width: 80px;
          height: 80px;
          --border-radius: 100%;
          --border-width: 0;
          --border-color: white;
          --border-style: solid;
          --background-color: transparent;
          --icon-fill: white;
          --icon-fill-hover: rgba(255, 255, 255, 0.8);
          --background-opacity-hover: 0.8;
          --border-color-hover: var(--border-color, white);
          --background-color-hover: var(--background-color, transparent);
        }
        button {
          width: 100%;
          height: 100%;
          cursor: pointer;
          background: transparent;
          border: none;
          margin: 0;
          padding: 0;
          position: relative;
          display: block;
        }
        .icon {
          height: 100%;
          width: 100%;
          box-sizing: border-box;
          fill: var(--icon-fill);
          will-change: filter, transition;
          filter: drop-shadow(0 0 10px black);
          transition: fill 200ms ease-in-out;
          margin-left: 3px;
        }
        .background {
          border-radius: var(--border-radius);
          border-width: var(--border-width);
          border-color: var(--border-color);
          border-style: var(--border-style);
          background-color: var(--background-color);
          height: 100%;
          width: 100%;
          position: absolute;
          top: 0;
          left: 0;
          box-sizing: border-box;
          transition:
            opacity 200ms ease-in-out,
            background-color 200ms ease-in-out,
            border-color 200ms ease-in-out;
        }

        :host(.external-hover) .icon,
        :host(:hover) .icon {
          fill: var(--icon-fill-hover) !important;
        }

        :host(.external-hover) .background,
        :host(:hover) .background {
          opacity: var(--background-opacity-hover) !important;
          border-color: var(--border-color-hover) !important;
          background-color: var(--background-color-hover) !important;
        }
      </style>
      <button aria-label="Play">
        <div part="play-button-background" class="background"></div>
        <div part="play-button-icon" class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true" alt="">
            <path
              d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"
            ></path>
          </svg>
        </div>
      </button>
    `}};bn(window,"glomex-play-button",$e);var wn=lt.video({timeout:1e3,muted:!0,inline:!0}),Sn=7,ut=150,Ne=class extends yn{constructor(){super(),this.duration=Sn,this.currentTime=0,this.posterVideoPreload="metadata",this._interval=void 0,this._onKeydown=this._onKeydown.bind(this),this._onMouseenter=this._onMouseenter.bind(this),this._onMouseleave=this._onMouseleave.bind(this),this._click=this._onClick.bind(this),this._hasPrimaryHoverSupport=window.matchMedia("(hover: hover) AND (pointer: fine)").matches}static get properties(){return{contentId:{type:String,attribute:"content-id"},teaserEnvironment:{type:String,attribute:"teaser-environment"},video:{type:String},poster:{type:String},ariaLabel:{type:String,attribute:"aria-label"},autoplayAllowed:{type:Boolean,reflect:!1,state:!0},duration:{type:Number,reflect:!0},currentTime:{type:Number,reflect:!1,attribute:"current-time"},loop:{type:Boolean},playOnHover:{type:Boolean,attribute:"play-on-hover"},showVideo:{type:Boolean,attribute:"show-video"},hovering:{type:Boolean,attribute:!1,state:!0},animatePoster:{type:Boolean,attribute:"animate-poster"},href:{type:String},target:{type:String},posterVideoPreload:{type:String},passive:{type:Boolean}}}get progress(){return this.currentTime/this.duration*100}async performUpdate(){let{result:e}=await wn;this.autoplayAllowed=e,this.autoplayAllowed||(this.video=""),super.performUpdate()}_onMouseenter(){this._hasPrimaryHoverSupport&&(this.playOnHover&&this.play(),this.hovering=!0)}_onMouseleave(){this._hasPrimaryHoverSupport&&(this.playOnHover&&this.pause(),this.hovering=!1)}_onTimeupdate(){let e=this.renderRoot.querySelector("video");e&&(this.currentTime=e.currentTime,this.duration=e.duration,this.dispatchEvent(new window.CustomEvent("timeupdate",{detail:{currentTime:e.currentTime,duration:e.duration},bubbles:!0,cancelable:!1})))}_onEnded(){let e=this.renderRoot.querySelector("video");(this.loop||this.hovering&&this.playOnHover&&this._hasPrimaryHoverSupport)&&this.play(),this.dispatchEvent(new window.CustomEvent("ended",{detail:{currentTime:e.currentTime,duration:e.duration},bubbles:!0,cancelable:!1}))}connectedCallback(){super.connectedCallback(),this.addEventListener("mouseenter",this._onMouseenter),this.addEventListener("mouseleave",this._onMouseleave),this.addEventListener("keydown",this._onKeydown),this.addEventListener("click",this._onClick),this._connectObserver()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("mouseenter",this._onMouseenter),this.removeEventListener("mouseleave",this._onMouseleave),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("click",this._onClick),window.clearInterval(this._interval),this._intersectionObserver?.disconnect(),this._intersectionObserver=void 0,this._interval=void 0}updated(e){e.has("passive")&&(this.passive?(this._intersectionObserver?.disconnect(),this._intersectionObserver=void 0):this._connectObserver())}_connectObserver(){this._intersectionObserver||(this._intersectionObserver=new window.IntersectionObserver(e=>{let{intersectionRatio:n,intersectionRect:o,isIntersecting:a}=e[0]||{};a&&o.height>=1&&o.width>=1&&n>=.5&&this.dispatchEvent(new window.CustomEvent("teaservisible",{bubbles:!0,cancelable:!0,composed:!0,detail:{teaserContentId:this.contentId,teaserEnvironment:this.teaserEnvironment}}))},{threshold:[.5]}),this._intersectionObserver.observe(this))}_onClick(e){if(this.dispatchEvent(new CustomEvent("teaserclick",{bubbles:!0,cancelable:!0,composed:!0,detail:{teaserContentId:this.contentId,teaserEnvironment:this.teaserEnvironment}})),!(e instanceof window.CustomEvent))return;let n=this.renderRoot.querySelector("#card-link");if(n){let o=n.getAttribute("target"),a=n.getAttribute("href");o&&o!=="_self"?window.open(a,o)==null&&(window.location.href=a):window.location.href=a,e.preventDefault()}}_onKeydown(e){e.target===this&&(e.code==="Space"&&this.getAttribute("role")==="button"||e.code==="Enter")&&(this.dispatchEvent(new window.CustomEvent("click",{bubbles:!0,cancelable:!0})),e.preventDefault())}_setupFakeInterval(){window.clearInterval(this._interval),this._interval=window.setInterval(()=>{this.currentTime+=ut/1e3;let{currentTime:e,duration:n}=this;this.dispatchEvent(new window.CustomEvent("timeupdate",{detail:{currentTime:e,duration:n},bubbles:!0,cancelable:!1})),e>=n&&(this.currentTime=0,this.pause(),this.dispatchEvent(new window.CustomEvent("ended",{detail:{currentTime:e,duration:n},bubbles:!0,cancelable:!1})))},ut)}get paused(){let e=this.renderRoot.querySelector("video");return e?e.paused:!this._interval}play(){let e=this.renderRoot.querySelector("video"),n=this.renderRoot.querySelector("img");if(this.dispatchEvent(new window.CustomEvent("play",{bubbles:!0,cancelable:!1})),this.renderRoot.innerHTML==="")return;if(!e){this._setupFakeInterval(),this.animatePoster&&n&&n.style&&(n.classList.add("animate-poster"),n.style.animationPlayState=null);return}let o=e.play();typeof o.then=="function"&&o.catch(()=>{})}pause(){let e=this.renderRoot.querySelector("video"),n=this.renderRoot.querySelector("img");if(!e){window.clearInterval(this._interval),this.animatePoster&&n&&n.style&&(n.style.animationPlayState="paused"),this._interval=void 0;return}e.pause()}render(){let e=this.poster?pe`<img
          alt="${this.ariaLabel}"
          src="${this.poster}"
          class="${this.animatePoster?"will-animate":""}"
        />`:null,n=this.video&&(this.showVideo||this.hovering&&this.playOnHover&&this._hasPrimaryHoverSupport)?"video":"poster",o=pe`<slot name="title-top"></slot>
      <div id="card-root" class="${n}">
        ${this.video&&(this.showVideo||this.playOnHover&&this._hasPrimaryHoverSupport)?pe`<video
              @timeupdate=${this._onTimeupdate}
              @ended=${this._onEnded}
              class="teaser-video"
              preload="${this.posterVideoPreload}"
              src="${this.video}#t=0.5"
              muted
              playsinline
            ></video>`:void 0}
        ${e}
        <slot name="indicator"></slot>
        <slot name="title-inline"></slot>
        <div class="play-button-container">
          <glomex-play-button
            exportparts="play-button-background, play-button-icon"
            class="${ct(this.hovering?"external-hover":void 0)}"
            tabindex="-1"
            part="play-button"
          ></glomex-play-button>
        </div>
      </div>
      <slot name="title-bottom"></slot>
      <slot name="description"></slot>`;return pe`
      <style>
        :host {
          position: relative;
          display: block;
          --aspect-ratio: 16/9;
          --object-fit: cover;
          --object-position: 50% 50%;
        }
        video {
          width: 101%;
          display: block;
          transition: opacity 300ms ease-in-out;
          opacity: 1;
        }
        #card-root::before {
          content: '';
          display: block;
          padding-bottom: calc(100% / (var(--aspect-ratio)));
        }
        #card-root {
          position: relative;
        }
        #card-root > img,
        #card-root > video {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          object-fit: var(--object-fit);
          object-position: var(--object-position);
        }
        .play-button-container {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
        }
        glomex-play-button {
          display: block;
        }
        img {
          width: 100%;
          text-align: center;
          display: block;
          transition: opacity 300ms ease-in-out;
          opacity: 1;
        }
        slot[name='indicator'] {
          position: absolute;
          display: block;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
        }
        slot[name='title-top']::slotted(*) {
          font-size: 1em;
          padding: 0.5em;
        }
        slot[name='title-bottom']::slotted(*) {
          font-size: 1em;
          padding: 0.5em;
        }
        slot[name='title-inline']::slotted(*) {
          font-size: 1em;
          position: absolute;
          width: 100%;
          top: 0;
          left: 0;
          color: white;
          padding: 0.5em 0.7em 2em 0.7em;
          margin: 0;
          background: linear-gradient(rgba(0, 0, 0, 0.8), 40%, rgba(0, 0, 0, 0));
          box-sizing: border-box;
          text-align: left;
        }
        slot[name='description']::slotted(*) {
          font-size: 0.85em;
          padding: 0.5em;
          margin: 0;
          display: none;
          text-align: left;
        }
        #card-root.poster > video {
          opacity: 0;
        }
        #card-root.video > video {
          opacity: 1;
        }
        #card-root.video > img {
          opacity: 0;
        }
        a {
          text-decoration: none;
        }
        @keyframes zoomin {
          0% {
            transform: scale3d(1.3, 1.3, 1.3) translate3d(-4%, -8%, 0px);
          }
          100% {
            transform: scale3d(1, 1, 1);
            animation-timing-function: ease-in-out;
          }
        }
        img.will-animate {
          transform: scale3d(1.3, 1.3, 1.3) translate3d(-4%, -8%, 0px);
        }
        img.animate-poster {
          animation: zoomin 7s infinite alternate;
        }
      </style>
      ${this.href?pe`<a
            id="card-link"
            aria-hidden="true"
            tabindex="-1"
            target="${ct(this.target||void 0)}"
            href="${this.href}"
            >${o}</a
          >`:o}
    `}};xn(window,"glomex-teaser-card",Ne);import{html as En,LitElement as kn,registerCustomElementOnce as _n}from"../glomex-integration.js";var Be=class extends kn{firstUpdated(){/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)&&window.setTimeout(()=>{this.renderRoot.querySelector("slot").assignedElements()[0].style.transform="scale(1)"},1)}render(){return En`
      <style>
        :host {
          --line-clamp: none;
          box-sizing: border-box;
        }
        ::slotted(*) {
          width: 100%;
          overflow: hidden;
          -webkit-line-clamp: var(--line-clamp);
          -webkit-box-orient: vertical;
          display: -webkit-box;
          margin: 0;
          padding: 0;
          font-size: inherit;
          font-family: inherit;
          line-height: inherit;
        }
      </style>
      <slot></slot>
    `}};_n(window,"glomex-text-line-clamp",Be);var Xn=ft`
  glomex-integration:not(:defined)::before,
  glomex-integration::part(root-placeholder) {
    aspect-ratio: 16 / 9;
  }
`,Wn={carouselAlignment:{description:"Slide alignment in carousel (start, center, end)",value:"center"},carouselInfiniteLoop:{description:"Enable infinite looping of the carousel",value:!0},carouselPlayOnSelect:{description:"Trigger play of video card on select",value:!0},carouselAutoplay:{description:"Start autoplaying the carousel when 50% visible",value:!0},carouselSpeed:{description:"Animation speed when selecting new card. Higher is faster",value:10},carouselDragFree:{description:"Enables momentum scrolling",value:!1},videoTeaser:{description:"Enforce using video on card instead of poster",value:!1},loopVideoTeaser:{description:"Loop video inside card",value:!1},playVideoTeaserOnHover:{description:"Start video playback on hover",value:!1},titlePosition:{description:"Where on the card shall the title be rendered to (top, bottom or inline)",value:"inline"},maxCards:{description:"Maximum amount of cards to show",value:10},headlineLinkUrl:{description:"URL to visit when click on headline",value:""},headlineTitle:{description:"Title of the headline",value:""},headlinePosition:{description:"Position of the headline (top or bottom)",value:"top"},startIndex:{description:"Which video shall be the first visible within the playlist",value:0},scrollToIndex:{description:"Scroll to playlist item which got selected within player",value:!0},animatePoster:{description:"When no video poster is used, shall the poster image be animated?",value:!0}},he=class extends Pn{static name="glomex-carousel-lightbox";static styles=ft`
    :host {
      --card-width: 100%;
      font-size: calc(11px + (14 - 11) * ((100vw - 320px) / (1600 - 320)));
    }
    glomex-player {
      display: block;
    }
    glomex-carousel::part(step-progress-backdrop) {
      display: none;
    }
    glomex-text-line-clamp[part='title'] {
      --line-clamp: 1;
      padding: 13px 8px 50px 8px;
      line-height: 1.5;
    }
    glomex-text-line-clamp[part='description'] {
      --line-clamp: 3;
      line-height: 1.5;
    }
    @media (max-width: 420px) {
      glomex-teaser-card::part(play-button) {
        width: 60px;
        height: 60px;
      }
      glomex-carousel::part(button-prev),
      glomex-carousel::part(button-next) {
        width: 30px;
        height: 45px;
        padding: 10px 0;
      }
    }
  `;static get properties(){return{...super.properties,linkUrl:{type:String,attribute:"link-url"},linkTarget:{type:String,attribute:"link-target"},appendUtmParams:{type:Boolean,attribute:"append-utm-params"}}}render(){let{playerIntegrationId:e,playlistId:n,settings:o,utm:a,playerCallback:s,playerPlaylist:r,playerPlaylistContext:{playlistIndex:c},playerEnvironment:{presentationMode:l}={}}=this.integration,i=[...r];i.length=Math.min(i.length,o.maxCards?o.maxCards:1/0);let m;o.headlineLinkUrl&&(m=dt(o.headlineLinkUrl,{...a,term:"headline"},{prefix:"utm_"}));let u=Fe`<h2
      part="headline"
      style="display: ${o.headlineTitle?"block":"none"}"
    >
      <a part="headline-link" href=${ye(m||void 0)}>
        ${o.headlineTitle}
      </a>
    </h2>`;return Fe`
      ${o.headlinePosition!=="bottom"?u:void 0}

      <glomex-player
        ${Mn(s)}
        @modechange=${f=>{let{mode:b,previousMode:d}=f.detail;d==="lightbox"&&b==="hidden"&&this.renderRoot.querySelector("glomex-carousel").focus({preventScroll:!0})}}
        act="hidden"
        data-integration-id=${e}
        data-playlist-id=${n}
      ></glomex-player>
      <glomex-carousel
        part="carousel"
        exportparts="button-next-svg: carousel-next-svg, button-prev-svg: carousel-prev-svg, button-next: carousel-next-button, button-prev: carousel-prev-button, step-progress, step-progress-backdrop"
        align=${o.carouselAlignment}
        index=${ye(o.scrollToIndex?c:void 0)}
        start-index=${o.startIndex}
        speed=${o.carouselSpeed}
        ?loop=${o.carouselInfiniteLoop}
        ?play-on-select=${o.carouselPlayOnSelect}
        ?autoplay=${o.carouselAutoplay}
        ?drag-free=${o.carouselDragFree}
      >
        ${i.map((f,b,d)=>{let h,{linkUrl:v,appendUtmParams:p,linkTarget:g}=this;return v&&(h=new window.URL(v.replace(/\[videoid\]/,f.id))),v&&p&&a&&(h=dt(h,a,{prefix:"utm_"})),Fe`
            <glomex-teaser-card
              content-id=${f.id}
              teaser-environment="carousel"
              href=${ye(h||void 0)}
              target=${ye(g||void 0)}
              part="${c===b?"card-active ":""}card-${b} card"
              exportparts="play-button, play-button-background, play-button-icon"
              @click=${()=>{if(this.renderRoot.querySelector("glomex-carousel").pause(),!h){let{player:k}=this.integration;k.activate(),k.unmute(),k.setPlaylistIndex(b),k.presentationMode==="hidden"&&k.updatePresentationMode({mode:"lightbox"}),k.focus({preventScroll:!0}),setTimeout(()=>{k.play({byUser:!0})},50)}}}
              slot="slide"
              aria-roledescription="slide"
              aria-label="${`${b+1} / ${d.length}`}: ${f.title}"
              role=${h?"link":"button"}
              poster="${f.poster}"
              video="${f.teaser.video}"
              ?show-video=${o.videoTeaser}
              ?loop=${o.loopVideoTeaser}
              ?play-on-hover=${o.playVideoTeaserOnHover}
              ?show-description=${o.description}
              ?animate-poster=${o.animatePoster}
              ?passive=${l==="fullscreen"||l==="lightbox"}
            >
              <glomex-text-line-clamp part="title" slot="title-${o.titlePosition}">
                <h3>${f.title}</h3>
              </glomex-text-line-clamp>
              <glomex-text-line-clamp part="description" slot="description">
                <p>${f.description}</p>
              </glomex-text-line-clamp>
            </glomex-teaser-card>
          `})}
        <div part="carousel-indicator-1" slot="indicator"></div>
        <div part="carousel-indicator-2" slot="indicator"></div>
      </glomex-carousel>
      ${o.headlinePosition==="bottom"?u:void 0}
    `}};Tn(window,he.name,he);export{he as default,Xn as defaultCss,Wn as defaultSettings};</script>
</body>
</html>
