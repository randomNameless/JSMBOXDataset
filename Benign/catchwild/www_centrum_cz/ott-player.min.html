<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ott-player.min.html</title>
</head>
<body>

<script>
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=573)}([function(e,t,n){var r=n(4),i=n(28),o=n(17),a=n(18),s=n(29),u=function(e,t,n){var l,c,f,d,p=e&u.F,h=e&u.G,y=e&u.S,v=e&u.P,g=e&u.B,m=h?r:y?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),k=b.prototype||(b.prototype={});h&&(n=t);for(l in n)c=!p&&m&&void 0!==m[l],f=(c?m:n)[l],d=g&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,e&u.U),b[l]!=f&&o(b,l,d),v&&k[l]!=f&&(k[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(25))},function(e,t,n){"use strict";function r(){var e=l.disabled;return f.debug?e=f.debug:c()&&!a.a.automaticPlayerReport?e=f.debug=l.maximum:a.a.automaticPlayerReport&&(e=l.automatic),e}function i(e,t){var n=r(),i=Array.prototype.slice.call(t),o=function(){},s=a.a.console||{log:o,warn:o,error:o};switch(e?i.unshift(e.toUpperCase()+":"):e="log",f.history.push({created:(new Date).getTime(),date:(new Date).toUTCString()+" | "+(new Date).getTime(),type:e,args:i.slice()}),e){case"error":if(0===n)return;break;case"warn":if(n<2)return;break;case"log":if(n<3)return;break;default:return}i.unshift("OTT-player:"),99!==n&&(s[e].apply?s[e].apply(s,i):s[e](i.join(" ")))}n.d(t,"b",function(){return c});var o=n(1),a=n.n(o),s=n(64),u=n(7),l=Object.freeze({disabled:0,low:1,medium:2,maximum:3,automatic:99}),c=function(){var e=((a.a.document||{}).location||{}).search||"",t=n.i(s.a)(e)[u.c];return!!(void 0!==t&&1==t||a.a.automaticPlayerReport)},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i(null,t)};f.debug=!1,f.history=[],f.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i("error",t)},f.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i("warn",t)},t.a=f},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"A",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"z",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return f}),n.d(t,"g",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"q",function(){return h}),n.d(t,"r",function(){return y}),n.d(t,"s",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"t",function(){return m}),n.d(t,"u",function(){return b}),n.d(t,"v",function(){return k}),n.d(t,"p",function(){return w}),n.d(t,"w",function(){return E}),n.d(t,"x",function(){return T}),n.d(t,"y",function(){return _}),n.d(t,"F",function(){return P}),n.d(t,"G",function(){return C}),n.d(t,"d",function(){return A}),n.d(t,"D",function(){return O}),n.d(t,"E",function(){return S}),n.d(t,"f",function(){return j}),n.d(t,"e",function(){return I}),n.d(t,"n",function(){return x}),n.d(t,"l",function(){return D}),n.d(t,"B",function(){return L}),n.d(t,"C",function(){return R});var r="any",i="ott-video-player",o="TDIPlayerOptions",a="TDIPlayerInitError",s="pg",u="parentInnerWidth",l=8,c=0,f="vjs-an-shown",d="ott_player_settings",p="ott-visible",h="countdown",y=15,v="video/mp4",g=1260,m="disabled",b="_blank",k="right",w=700,E=15,T="disabled",_=0,P="VPAID_LOADED_PM",C="show-movie",A=Object.freeze({dash:"application/dash+xml",hls:"application/x-mpegurl"}),O=99999,S="vjs-vpaid-playing",j="t",I=.1,x="nopostroll",D="nopreroll",L=["image/jpg","image/jpeg","image/gif","image/png","application/javascript","application/x-javascript"],R=["image/jpg","image/jpeg","image/gif","image/png"]},function(e,t,n){var r=n(68)("wks"),i=n(53),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"l",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"y",function(){return h}),n.d(t,"x",function(){return y}),n.d(t,"w",function(){return v}),n.d(t,"z",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"s",function(){return k}),n.d(t,"o",function(){return w}),n.d(t,"r",function(){return E}),n.d(t,"v",function(){return T}),n.d(t,"t",function(){return _}),n.d(t,"u",function(){return P}),n.d(t,"A",function(){return C}),n.d(t,"B",function(){return A}),n.d(t,"C",function(){return O}),n.d(t,"H",function(){return S}),n.d(t,"I",function(){return j}),n.d(t,"F",function(){return I}),n.d(t,"G",function(){return x}),n.d(t,"E",function(){return D}),n.d(t,"D",function(){return L}),n.d(t,"n",function(){return R}),n.d(t,"p",function(){return N}),n.d(t,"q",function(){return M}),n.d(t,"O",function(){return F}),n.d(t,"S",function(){return U}),n.d(t,"R",function(){return B}),n.d(t,"P",function(){return V}),n.d(t,"Q",function(){return H}),n.d(t,"T",function(){return z}),n.d(t,"U",function(){return W}),n.d(t,"N",function(){return q}),n.d(t,"J",function(){return K}),n.d(t,"K",function(){return G}),n.d(t,"L",function(){return Q}),n.d(t,"M",function(){return Y});var r={message:"No player data recieved.",code:101001},i={message:"TDI request error (textStatus): ",code:101002},o={message:"Any localized source not found",code:102001},a={message:"preferredLang argument found but it's not an array. Requested value: ",code:102002},s={message:"Videojs object not found. Make sure that the vjs-pack.js file is included in the page",code:103001},u={message:"Fetch to session transfer failed.",code:103003},l={message:"Continue watching time should be a number. Requested value: ",code:104001},c={message:"Passed sources argument must be an object with original, matched and localized arrays.",code:105001},f={message:"No input source found.",code:105002},d={message:"No matched source found.",code:105003},p={message:"Localized sources array is empty or invalid",code:105004},h={message:"",code:201002},y={message:"Heartbeat response 404",code:201003},v={message:"Heartbeat response 403",code:201004},g={message:"The playedTicks plugin is required for the heartBeat plugin.",code:201005},m={message:"The value should be a number.",code:202001},b={message:"Player source cannot be undefined.",code:202002},k={message:"Argument of `timeshiftSeek` method must be a number. Provided value: ",code:204004},w={message:"The timeShift plugin is required for the liveRestart plugin.",code:204005},E={message:"Stream with this language not found.",code:203001},T={message:"URL query parameter cannot be undefined.",code:204001},_={message:"Horizontal time-shift value is not finite number. Requested value: ",code:204002},P={message:"Vertical time-shift value is not finite number. Requested value: ",code:204003},C={message:"Stream info cannot be undefined.",code:205001},A={message:"Measuring plugin is initialized but any service found.",code:205002},O={message:"The playedTicks plugin is required for the measuring plugin.",code:205003},S={message:"Gemius measuring service enabled but Gemius external JavaScript file is missing.",code:205004},j={message:"Gemius initialization configuration is invalid. Missing argument: ",code:205005},I={message:"Some mandatory property is not present in stream info. Missing property: ",code:205006},x={message:"Some mandatory property is not present in ad info. Missing property: ",code:205007},D={message:"Nielsenn Digital Content Ratings plugin is enabled but the global nielsen (NOLBUNDLE) object not found. Are you sure the Nielsen snippet was attached to the head?",code:205008},L={message:"Missing property_key for MUX service.",code:205010},R={message:"The playedTicks plugin is required for the product placement plugin.",code:205011},N={message:"Autoplay-next plugin is not initialized. Some mandatory fields are not valid or missing.",code:206001},M={message:"Autoplay-next response code: ",code:206003},F={message:"Ad button doesn't exist in the player element.",code:207002},U={message:"VPAID client is disposed already.",code:207003},B={message:"VPAID is not valid. Some of required functions are not set on the VPAID object.",code:207004},V={message:"VPAID iframe is not in the DOM probably",code:207005},H={message:"VPAID iframe didn' return getVPAIDAd function",code:207006},z={message:"VPAID creative is missing. Please, check if the VPAID is valid!",code:207007},W={message:"VPAID failed to apply volume",code:207008},q={message:"VPAID tracking module not found",code:207009},K={message:"An error occurred during ad.",code:207010},G={message:"An DASH error occurred during ad.",code:208011},Q={message:"Empty object initialization failed. Ad cannot be null.",code:208012},Y={message:"Companion time or period is missing!",code:208013}},function(e,t,n){var r=n(31),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){e.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(3),i=n(170),o=n(36),a=Object.defineProperty;t.f=n(11)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(34);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return c});var r=n(43),i=n(32),o=function(e){var t=!1;return e&&(e.ads||{}).inAdBreak&&(t=e.ads.inAdBreak()),t||(e.adstate||{}).adPlaying||!1},a=function(e){switch(e.getAdPodInfo().getTimeOffset()){case 0:return"preroll";case-1:return"postroll";default:return"midroll"}},s=function(e){if(o(e)&&e.ima.getAdsManager){return e.ima.getAdsManager().getCurrentAd()}var t=void 0;if(o(e)&&e.adstate){var i=n.i(r.a)(e.adstate,e.adstate.currentAdtype,e.adstate.currentMidrollIndex);i&&(t=i.ads[i.played])}return t},u=function(e){var t=e.ad;return t.adPodInfo?{adPosition:t.adPodInfo.adPosition,breakSize:t.adPodInfo.totalAds,adType:a(t)}:null},l=function(e){var t=void 0;if(o(e)){var i=n.i(r.a)(e.adstate,e.adstate.currentAdtype,e.adstate.currentMidrollIndex);i&&(t={adPosition:i.played+1,breakSize:i.ads.length,adType:e.adstate.currentAdtype})}return t},c=function(e){return void 0!==e.adstate&&((n.i(r.a)(e.adstate,i.a.postroll)||{}).vasts||[]).length>0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){(function(r){var i;!function(r,o){void 0!==(i=function(){return r.is=o()}.call(t,n,t,e))&&(e.exports=i)}(this,function(){function e(e){return function(){return!e.apply(null,u.call(arguments))}}function t(e){return function(){for(var t=o(arguments),n=t.length,r=0;r<n;r++)if(!e.call(null,t[r]))return!1;return!0}}function n(e){return function(){for(var t=o(arguments),n=t.length,r=0;r<n;r++)if(e.call(null,t[r]))return!0;return!1}}function i(e,t){var n=t+"",r=+(n.match(/\d+/)||NaN),i=n.match(/^[<>]=?|/)[0];return c[i]?c[i](e,r):e==r||r!==r}function o(e){var t=u.call(e);return 1===t.length&&a.array(t[0])&&(t=t[0]),t}var a={};a.VERSION="0.8.0",a.not={},a.all={},a.any={};var s=Object.prototype.toString,u=Array.prototype.slice,l=Object.prototype.hasOwnProperty,c={"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t}};a.arguments=function(e){return"[object Arguments]"===s.call(e)||!!e&&"object"==typeof e&&"callee"in e},a.array=Array.isArray||function(e){return"[object Array]"===s.call(e)},a.boolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},a.date=function(e){return"[object Date]"===s.call(e)},a.error=function(e){return"[object Error]"===s.call(e)},a.function=function(e){return"[object Function]"===s.call(e)||"function"==typeof e},a.nan=function(e){return e!==e},a.null=function(e){return null===e},a.number=function(e){return a.not.nan(e)&&"[object Number]"===s.call(e)},a.object=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},a.json=function(e){return"[object Object]"===s.call(e)},a.regexp=function(e){return"[object RegExp]"===s.call(e)},a.sameType=function(e,t){var n=s.call(e);return n===s.call(t)&&("[object Number]"!==n||(!a.any.nan(e,t)||a.all.nan(e,t)))},a.sameType.api=["not"],a.string=function(e){return"[object String]"===s.call(e)},a.char=function(e){return a.string(e)&&1===e.length},a.undefined=function(e){return void 0===e},a.empty=function(e){if(a.object(e)){var t=Object.getOwnPropertyNames(e).length;return!!(0===t||1===t&&a.array(e)||2===t&&a.arguments(e))}return""===e},a.existy=function(e){return null!=e},a.falsy=function(e){return!e},a.truthy=e(a.falsy),a.space=function(e){if(a.not.char(e))return!1;var t=e.charCodeAt(0);return t>8&&t<14||32===t},a.equal=function(e,t){return a.all.number(e,t)?e===t&&1/e==1/t:a.all.string(e,t)||a.all.regexp(e,t)?""+e==""+t:!!a.all.boolean(e,t)&&e===t},a.equal.api=["not"],a.even=function(e){return a.number(e)&&e%2==0},a.odd=function(e){return a.number(e)&&e%2==1},a.positive=function(e){return a.number(e)&&e>0},a.negative=function(e){return a.number(e)&&e<0},a.above=function(e,t){return a.all.number(e,t)&&e>t},a.above.api=["not"],a.under=function(e,t){return a.all.number(e,t)&&e<t},a.under.api=["not"],a.within=function(e,t,n){return a.all.number(e,t,n)&&e>t&&e<n},a.within.api=["not"],a.decimal=function(e){return a.number(e)&&e%1!=0},a.integer=function(e){return a.number(e)&&e%1==0},a.finite=isFinite||function(e){return e!==1/0&&e!==-1/0&&a.not.nan(e)},a.infinite=e(a.finite);var f={url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,alphaNumeric:/^[A-Za-z0-9]+$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,dateString:/^(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])(?:\2)(?:[0-9]{2})?[0-9]{2}$/,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,hexadecimal:/^(?:0x)?[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i};for(var d in f)f.hasOwnProperty(d)&&function(e,t){a[e]=function(n){return t[e].test(n)}}(d,f);a.ip=function(e){return a.ipv4(e)||a.ipv6(e)},a.include=function(e,t){return e.indexOf(t)>-1},a.include.api=["not"],a.upperCase=function(e){return a.string(e)&&e===e.toUpperCase()},a.lowerCase=function(e){return a.string(e)&&e===e.toLowerCase()},a.startWith=function(e,t){return a.string(e)&&0===e.indexOf(t)},a.startWith.api=["not"],a.endWith=function(e,t){if(a.not.string(e))return!1;t+="";var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n},a.endWith.api=["not"],a.capitalized=function(e){if(a.not.string(e))return!1;for(var t=e.split(" "),n=0;n<t.length;n++){var r=t[n];if(r.length){var i=r.charAt(0);if(i!==i.toUpperCase())return!1}}return!0},a.palindrome=function(e){if(a.not.string(e))return!1;e=e.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase();for(var t=e.length-1,n=0,r=t/2;n<=r;n++)if(e.charAt(n)!==e.charAt(t-n))return!1;return!0};var p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],h=["january","february","march","april","may","june","july","august","september","october","november","december"];a.today=function(e){var t=new Date,n=t.toDateString();return a.date(e)&&e.toDateString()===n},a.yesterday=function(e){var t=new Date,n=new Date(t.setDate(t.getDate()-1)).toDateString();return a.date(e)&&e.toDateString()===n},a.tomorrow=function(e){var t=new Date,n=new Date(t.setDate(t.getDate()+1)).toDateString();return a.date(e)&&e.toDateString()===n},a.past=function(e){var t=new Date;return a.date(e)&&e.getTime()<t.getTime()},a.future=function(e){var t=new Date;return a.date(e)&&e.getTime()>t.getTime()},a.day=function(e,t){return a.date(e)&&t.toLowerCase()===p[e.getDay()]},a.day.api=["not"],a.month=function(e,t){return a.date(e)&&t.toLowerCase()===h[e.getMonth()]},a.month.api=["not"],a.year=function(e,t){return a.date(e)&&a.number(t)&&t===e.getFullYear()},a.year.api=["not"],a.leapYear=function(e){return a.number(e)&&(e%4==0&&e%100!=0||e%400==0)},a.weekend=function(e){return a.date(e)&&(6===e.getDay()||0===e.getDay())},a.weekday=e(a.weekend),a.inDateRange=function(e,t,n){if(a.not.date(e)||a.not.date(t)||a.not.date(n))return!1;var r=e.getTime(),i=t.getTime(),o=n.getTime();return r>i&&r<o},a.inDateRange.api=["not"],a.inLastWeek=function(e){return a.inDateRange(e,new Date((new Date).setDate((new Date).getDate()-7)),new Date)},a.inLastMonth=function(e){return a.inDateRange(e,new Date((new Date).setMonth((new Date).getMonth()-1)),new Date)},a.inLastYear=function(e){return a.inDateRange(e,new Date((new Date).setFullYear((new Date).getFullYear()-1)),new Date)},a.inNextWeek=function(e){return a.inDateRange(e,new Date,new Date((new Date).setDate((new Date).getDate()+7)))},a.inNextMonth=function(e){return a.inDateRange(e,new Date,new Date((new Date).setMonth((new Date).getMonth()+1)))},a.inNextYear=function(e){return a.inDateRange(e,new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1)))},a.quarterOfYear=function(e,t){return a.date(e)&&a.number(t)&&t===Math.floor((e.getMonth()+3)/3)},a.quarterOfYear.api=["not"],a.dayLightSavingTime=function(e){var t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1),r=Math.max(t.getTimezoneOffset(),n.getTimezoneOffset());return e.getTimezoneOffset()<r},a.windowObject=function(e){return"object"==typeof e&&"setInterval"in e};var y=a.windowObject("object"==typeof r&&r)&&r,v=a.windowObject("object"==typeof self&&self)&&self,g=a.windowObject("object"==typeof this&&this)&&this,m=y||v||g||Function("return this")(),b=m.is;if(v){var k=v.navigator,w=(k&&k.appVersion||"").toLowerCase(),E=(k&&k.userAgent||"").toLowerCase(),T=(k&&k.vendor||"").toLowerCase();a.chrome=function(e){var t=/google inc/.test(T)&&E.match(/(?:chrome|crios)\/(\d+)/);return!!t&&i(t[1],e)},a.chrome.api=["not"],a.firefox=function(e){var t=E.match(/(?:firefox|fxios)\/(\d+)/);return!!t&&i(t[1],e)},a.firefox.api=["not"],a.edge=function(e){var t=E.match(/edge\/(\d+)/);return!!t&&i(t[1],e)},a.edge.api=["not"],a.ie=function(e){var t=E.match(/(?:msie |trident.+?; rv:)(\d+)/);return!!t&&i(t[1],e)},a.ie.api=["not"],a.opera=function(e){var t=E.match(/(?:^opera.+?version|opr)\/(\d+)/);return!!t&&i(t[1],e)},a.opera.api=["not"],a.safari=function(e){var t=E.match(/version\/(\d+).+?safari/);return!!t&&i(t[1],e)},a.safari.api=["not"],a.phantom=function(e){var t=E.match(/phantomjs\/(\d+)/);return!!t&&i(t[1],e)},a.phantom.api=["not"],a.ios=function(){return a.iphone()||a.ipad()||a.ipod()},a.ios.api=["not"],a.iphone=function(e){var t=E.match(/iphone(?:.+?os (\d+))?/);return!!t&&i(t[1]||1,e)},a.iphone.api=["not"],a.ipad=function(e){var t=E.match(/ipad.+?os (\d+)/);return!!t&&i(t[1],e)},a.ipad.api=["not"],a.ipod=function(e){var t=E.match(/ipod.+?os (\d+)/);return!!t&&i(t[1],e)},a.ipod.api=["not"],a.android=function(){return/android/.test(E)},a.android.api=["not"],a.androidPhone=function(){return/android/.test(E)&&/mobile/.test(E)},a.androidPhone.api=["not"],a.androidTablet=function(){return/android/.test(E)&&!/mobile/.test(E)},a.androidTablet.api=["not"],a.blackberry=function(){return/blackberry/.test(E)||/bb10/.test(E)},a.blackberry.api=["not"],a.desktop=function(){return a.not.mobile()&&a.not.tablet()},a.desktop.api=["not"],a.linux=function(){return/linux/.test(w)},a.linux.api=["not"],a.mac=function(){return/mac/.test(w)},a.mac.api=["not"],a.windows=function(){return/win/.test(w)},a.windows.api=["not"],a.windowsPhone=function(){return a.windows()&&/phone/.test(E)},a.windowsPhone.api=["not"],a.windowsTablet=function(){return a.windows()&&a.not.windowsPhone()&&/touch/.test(E)},a.windowsTablet.api=["not"],a.mobile=function(){return a.iphone()||a.ipod()||a.androidPhone()||a.blackberry()||a.windowsPhone()},a.mobile.api=["not"],a.tablet=function(){return a.ipad()||a.androidTablet()||a.windowsTablet()},a.tablet.api=["not"],a.online=function(){return k.onLine},a.online.api=["not"],a.offline=e(a.online),a.offline.api=["not"],a.touchDevice=function(){return"ontouchstart"in v||"DocumentTouch"in v&&document instanceof DocumentTouch},a.touchDevice.api=["not"]}return a.propertyCount=function(e,t){if(a.not.object(e)||a.not.number(t))return!1;var n=0;for(var r in e)if(l.call(e,r)&&++n>t)return!1;return n===t},a.propertyCount.api=["not"],a.propertyDefined=function(e,t){return a.object(e)&&a.string(t)&&t in e},a.propertyDefined.api=["not"],a.domNode=function(e){return a.object(e)&&e.nodeType>0},a.inArray=function(e,t){if(a.not.array(t))return!1;for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},a.inArray.api=["not"],a.sorted=function(e,t){if(a.not.array(e))return!1;for(var n=c[t]||c[">="],r=1;r<e.length;r++)if(!n(e[r],e[r-1]))return!1;return!0},function(){var r=a;for(var i in r)if(l.call(r,i)&&a.function(r[i]))for(var o=r[i].api||["not","all","any"],s=0;s<o.length;s++)"not"===o[s]&&(a.not[i]=e(a[i])),"all"===o[s]&&(a.all[i]=t(a[i])),"any"===o[s]&&(a.any[i]=n(a[i]))}(),a.setRegexp=function(e,t){for(var n in f)l.call(f,n)&&t===n&&(f[n]=e)},a.setNamespace=function(){return m.is=b,this},a})}).call(t,n(25))},function(e,t,n){var r=n(12),i=n(49);e.exports=n(11)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(4),i=n(17),o=n(21),a=n(53)("src"),s=n(357),u=(""+s).split("toString");n(28).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var r=n(0),i=n(5),o=n(34),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";var r=Object.freeze({PAUSE:"ott-mea-pause",PLAY:"ott-mea-play",ENDED:"ott-mea-ended",COMPLETE:"ott-mea-complete",PROGRAM_LOADED:"ott-mea-program-loaded",STOP:"ott-mea-stop",BUFFER:"ott-mea-buffer",BREAK:"ott-mea-break",SEEK:"ott-mea-seek",CLOSE:"ott-mea-close",NEXT:"ott-mea-next",PREV:"ott-mea-prev",PLAYER_RESOLUTION_CHANGED:"ott-mea-player-resolution-changed",VOLUME_CHANGED:"ott-mea-volume-changed",QUALITY_CHANGED:"ott-mea-quality-changed",FULLSCREEN_CHANGED:"ott-mea-fullscreen-changed",ERROR:"ott-mea-error",REACHED_CREDITS:"ott-mea-reached-credits",PLAYED_PERCENTUAL:"ott-mea-playedpercentual",TIMEUPDATE:"ott-mea-timeupdate",ADS_BLOCK_START:"ott-mea-ads-block-start",ADS_BLOCK_END:"ott-mea-ads-block-end",AD_LOADED:"ott-mea-ad-loaded",AD_IMPRESSION:"ott-mea-ad-impression",AD_PLAY:"ott-mea-ad-play",AD_PAUSE:"ott-mea-ad-pause",AD_TIMEUPDATE:"ott-mea-ad-timeupdate",AD_COMPLETE:"ott-mea-ad-complete",AD_ERROR:"ott-mea-ad-error",AD_FIRSTQUARTILE:"ott-mea-ad-firstquartile",AD_MIDPOINT:"ott-mea-ad-midpoint",AD_THIRDQUARTILE:"ott-mea-ad-thirdquartile",SKIP:"ott-mea-skip",OVERLAY_CLICK_THROUGH:"ott-mea-overlay-click-through",LINEAR_CLICK_THROUGH:"ott-mea-linear-click-through",COMPANION_STARTED:"ott-mea-companion-started",COMPANION_CLICK_THROUGH:"ott-mea-companion-click-through",COMPANION_ENDED:"ott-mea-companion-ended",OVERLAY_CAN_PLAY:"ott-mea-overlay-can-play",OVERLAY_ENDED:"ott-mea-overlay-ended"});t.a=r},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(67),i=n(49),o=n(24),a=n(36),s=n(21),u=n(170),l=Object.getOwnPropertyDescriptor;t.f=n(11)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(21),i=n(13),o=n(120)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(66),i=n(34);e.exports=function(e){return r(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"function"!=typeof e&&i.a.error("[property tester] first argument not function!");try{return e()}catch(e){return t}}t.a=r;var i=n(2)},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(15);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=Object.freeze({preroll:"preroll",midrolls:"midrolls",postroll:"postroll",companion:"companion",overlay:"overlay",sklik:"sklik"});t.a=r},function(e,t,n){var r=n(29),i=n(66),o=n(13),a=n(10),s=n(104);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var y,v,g=o(t),m=i(g),b=r(s,h,3),k=a(m.length),w=0,E=n?p(t,k):u?p(t,0):void 0;k>w;w++)if((d||w in m)&&(y=m[w],v=b(y,w,g),e))if(n)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:E.push(y)}else if(c)return!1;return f?-1:l||c?c:E}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(0),i=n(28),o=n(5);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(192),i=n(0),o=n(68)("metadata"),a=o.store||(o.store=new(n(196))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o},u=function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},l=function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},c=function(e,t,n,r){s(n,r,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:a,map:s,has:u,get:l,set:c,keys:f,key:d,exp:p}},function(e,t,n){"use strict";if(n(11)){var r=n(41),i=n(4),o=n(5),a=n(0),s=n(92),u=n(125),l=n(29),c=n(44),f=n(49),d=n(17),p=n(50),h=n(31),y=n(10),v=n(190),g=n(52),m=n(36),b=n(21),k=n(57),w=n(6),E=n(13),T=n(111),_=n(46),P=n(23),C=n(47).f,A=n(127),O=n(53),S=n(8),j=n(33),I=n(80),x=n(69),D=n(128),L=n(58),R=n(85),N=n(51),M=n(103),F=n(162),U=n(12),B=n(22),V=U.f,H=B.f,z=i.RangeError,W=i.TypeError,q=i.Uint8Array,K=Array.prototype,G=u.ArrayBuffer,Q=u.DataView,Y=j(0),X=j(2),J=j(3),$=j(4),Z=j(5),ee=j(6),te=I(!0),ne=I(!1),re=D.values,ie=D.keys,oe=D.entries,ae=K.lastIndexOf,se=K.reduce,ue=K.reduceRight,le=K.join,ce=K.sort,fe=K.slice,de=K.toString,pe=K.toLocaleString,he=S("iterator"),ye=S("toStringTag"),ve=O("typed_constructor"),ge=O("def_constructor"),me=s.CONSTR,be=s.TYPED,ke=s.VIEW,we=j(1,function(e,t){return Ce(x(e,e[ge]),t)}),Ee=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Te=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),_e=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Pe=function(e){if(w(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ce=function(e,t){if(!(w(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},Ae=function(e,t){return Oe(x(e,e[ge]),t)},Oe=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},Se=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},je=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,d=A(s);if(void 0!=d&&!T(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=y(s.length),i=Ce(this,n);n>t;t++)i[t]=f?c(s[t],t):s[t];return i},Ie=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},xe=!!q&&o(function(){pe.call(new q(1))}),De=function(){return pe.apply(xe?fe.call(Pe(this)):Pe(this),arguments)},Le={copyWithin:function(e,t){return F.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return M.apply(Pe(this),arguments)},filter:function(e){return Ae(this,X(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Pe(this),arguments)},lastIndexOf:function(e){return ae.apply(Pe(this),arguments)},map:function(e){return we(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Pe(this),arguments)},reduceRight:function(e){return ue.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return J(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Pe(this),e)},subarray:function(e,t){var n=Pe(this),r=n.length,i=g(e,r);return new(x(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((void 0===t?r:g(t,r))-i))}},Re=function(e,t){return Ae(this,fe.call(Pe(this),e,t))},Ne=function(e){Pe(this);var t=_e(arguments[1],1),n=this.length,r=E(e),i=y(r.length),o=0;if(i+t>n)throw z("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Me={entries:function(){return oe.call(Pe(this))},keys:function(){return ie.call(Pe(this))},values:function(){return re.call(Pe(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Fe(e,t=m(t,!0))?f(2,e[t]):H(e,t)},Be=function(e,t,n){return!(Fe(e,t=m(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};me||(B.f=Ue,U.f=Be),a(a.S+a.F*!me,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:Be}),o(function(){de.call({})})&&(de=pe=function(){return le.call(this)});var Ve=p({},Le);p(Ve,Me),d(Ve,he,Me.values),p(Ve,{slice:Re,set:Ne,constructor:function(){},toString:de,toLocaleString:De}),Se(Ve,"buffer","b"),Se(Ve,"byteOffset","o"),Se(Ve,"byteLength","l"),Se(Ve,"length","e"),V(Ve,ye,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){u=!!u;var l=e+(u?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[l],g=h||{},m=h&&P(h),b=!h||!s.ABV,E={},T=h&&h.prototype,A=function(e,n){var r=e._d;return r.v[f](n*t+r.o,Ee)},O=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ee)},S=function(e,t){V(e,t,{get:function(){return A(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};b?(h=n(function(e,n,r,i){c(e,h,l,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof G||"ArrayBuffer"==(u=k(n))||"SharedArrayBuffer"==u))return be in n?Oe(h,n):je.call(h,n);o=n,p=_e(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw z("Wrong length!");if((a=g-p)<0)throw z("Wrong length!")}else if((a=y(i)*t)+p>g)throw z("Wrong length!");s=a/t}else s=v(n),a=s*t,o=new G(a);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new Q(o)});f<s;)S(e,f++)}),T=h.prototype=_(Ve),d(T,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&R(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){c(e,h,l);var o;return w(n)?n instanceof G||"ArrayBuffer"==(o=k(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,_e(r,t),i):void 0!==r?new g(n,_e(r,t)):new g(n):be in n?Oe(h,n):je.call(h,n):new g(v(n))}),Y(m!==Function.prototype?C(g).concat(C(m)):C(g),function(e){e in h||d(h,e,g[e])}),h.prototype=T,r||(T.constructor=h));var j=T[he],I=!!j&&("values"==j.name||void 0==j.name),x=Me.values;d(h,ve,!0),d(T,be,l),d(T,ke,!0),d(T,ge,h),(u?new h(1)[ye]==l:ye in T)||V(T,ye,{get:function(){return l}}),E[l]=h,a(a.G+a.W+a.F*(h!=g),E),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){g.of.call(h,1)}),l,{from:je,of:Ie}),"BYTES_PER_ELEMENT"in T||d(T,"BYTES_PER_ELEMENT",t),a(a.P,l,Le),N(l),a(a.P+a.F*Te,l,{set:Ne}),a(a.P+a.F*!I,l,Me),r||T.toString==de||(T.toString=de),a(a.P+a.F*o(function(){new h(1).slice()}),l,{slice:Re}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:De}),L[l]=I?j:x,r||I||d(T,he,x)}}else e.exports=function(){}},function(e,t,n){"use strict";function r(e){return Object.keys(e).map(function(t){return e[t]})}function i(e){function t(e){return e.src===i.src}var i={src:e.currentSrc(),type:e.currentType()};n.i(h.a)(e)&&(e.ads||{}).snapshot&&(i={src:e.ads.snapshot.currentSrc,type:e.ads.snapshot.type});for(var o=r(e.options_.tracks),a=0;a<o.length;a++){var s=o[a].find(t);s&&(i=s)}return i}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n=parseInt(n,10),l.a.not.finite(n))throw c.a.error(f.c.code,f.c.message),e.trigger(v({type:"ott-custom-error"},f.c)),f.c;var r=(e[d.a.objName]||{}).urlParam;if(r&&r.length>0)if(n>0){var i="[?&]"+r+"=",o=new RegExp(i,"g");o.test(t.src)?(i="("+r+"=)[^&]+",o=new RegExp(i,"g"),t.src=t.src.replace(o,"$1"+n)):~t.src.indexOf("?")?t.src=t.src+"&"+r+"="+n:t.src=t.src+"?"+r+"="+n}else t.src=p.b(t.src,r);e.src(t)}function a(e,t,n){if(!(e||{}).src)throw c.a.error(f.d.code,f.d.message),n.trigger(v({type:"ott-custom-error"},f.d)),f.d;for(var i=e,o=r(t),a=0;a<o.length;a++){var s=o[a].find(function(t){return t.src===e.src&&t.timeshiftSrc});if(s)return i.src=s.timeshiftSrc,i}return i}function s(e){var t=e.options_;return n.i(y.a)(function(){return t.plugins.adServiceIMA})?t.plugins.measuringIMA.streamInfo:n.i(y.a)(function(){return t.plugins.measuring.streamInfo})?t.plugins.measuring.streamInfo:(c.a.error("[getStreamInfo] missing streamInfo data"),{})}t.b=i,t.c=o,t.d=a,t.a=s;var u=n(16),l=n.n(u),c=n(2),f=n(9),d=n(76),p=n(64),h=n(14),y=n(26),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=n(8)("unscopables"),i=Array.prototype;void 0==i[r]&&n(17)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=!1},function(e,t,n){var r=n(53)("meta"),i=n(6),o=n(21),a=n(12).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(5)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){"use strict";var r=n(32),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments[3],o=void 0;return n>=0?t===r.a.midrolls?o=e.inventory[t][n]:(i&&(e.inventory.cascade[n].requested=i),o=e.inventory.cascade[n][t]):o=e.inventory[t],i&&(o.requested=i),o};t.a=i},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(29),i=n(173),o=n(111),a=n(3),s=n(10),u=n(127),l={},c={},t=e.exports=function(e,t,n,f,d){var p,h,y,v,g=d?function(){return e}:u(e),m=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>b;b++)if((v=t?m(a(h=e[b])[0],h[1]):m(e[b]))===l||v===c)return v}else for(y=g.call(e);!(h=y.next()).done;)if((v=i(y,m,h.value,t))===l||v===c)return v};t.BREAK=l,t.RETURN=c},function(e,t,n){var r=n(3),i=n(179),o=n(107),a=n(120)("IE_PROTO"),s=function(){},u=function(){var e,t=n(106)("iframe"),r=o.length;for(t.style.display="none",n(109).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(181),i=n(107).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(181),i=n(107);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(4),i=n(12),o=n(11),a=n(8)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(31),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=n(95),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var u=n(70);u.inherits=n(61);var l=n(198),c=n(131);u.inherits(r,l);for(var f=s(c.prototype),d=0;d<f.length;d++){var p=f[d];r.prototype[p]||(r.prototype[p]=c.prototype[p])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(var a={},s=0;s<i.length;s++){var u=i[s];!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"object"===r(n[i])?a[i]=e(!0,a[i],n[i]):a[i]=n[i])}(u)}return a}},function(e,t,n){var r=n(27),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports={}},function(e,t,n){var r=n(12).f,i=n(21),o=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(34),o=n(5),a=n(123),s="["+a+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(32),o=n(2),a=n(9),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){r(this,e)}return s(e,null,[{key:"getEmptyObject",value:function(e){return e||o.a.error(a.L.code,a.L.message),void 0===e.period&&void 0===e.time&&o.a.error(a.M.code,a.M.message),{requested:!1,period:e.period,time:e.time,overlay:{ads:[],vast:(e.overlay||{}).vast||void 0,requested:!1},companion:{ads:[],vast:(e.companion||{}).vast||void 0,requested:!1},sklik:e.sklik}}},{key:"resetShownCascade",value:function(e,t){switch(t){case i.a.companion:e.trigger("companionended");break;case i.a.overlay:e.trigger("overlayended");break;default:e.trigger("sklikended")}}}]),e}();t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"g",function(){return g});var r=n(2),i=n(7),o=function(e){return!!e&&"VPAID"===e.apiFramework&&-1===e.mimeType.indexOf("flash")},a=function(e){return e.mediaFiles.some(function(e){return o(e)})},s=["handshakeVersion","initAd","resizeAd","startAd","stopAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd","subscribe","unsubscribe"],u=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],l=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],c=function(e,t){if(!e)return void r.a.error("Required arguments missing");e.marginWidth="0",e.marginHeight="0",e.frameBorder="0",e.width="100%",e.height="100%",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",t&&(e.style.zIndex=t)},f=function(e,t){e.src="about:self",e.contentWindow.document.write(t)},d=function(e){return e+"-"+i.G},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.createElement("div");return r.id=t,c(r,n.zIndex),r},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.createElement("iframe");return c(r,n.zIndex),r.setAttribute("allowFullScreen",""),r},y=function(e){e.innerHTML=""},v=function(e,t){var n=e.getElementById(t);n&&(n.outerHTML="")},g=function(e,t,n,r,i){t.innerHTML="",t.appendChild(n),v(e,i.id),r.parentNode.appendChild(i)}},function(e,t,n){"use strict";function r(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g),o=i.length;o-- >0;)-1!==i[o].lastIndexOf(r,0)&&i.splice(o,1);var a=i.length>0?"?"+i.join("&"):"";return e=""+n[0]+a}return e}function i(e){e=e.split("+").join(" ");for(var t={},n=/[?&]?([^=]+)=([^&]*)/g,r=void 0;null!==function(){return r=n.exec(e)}();)t[decodeURIComponent(r[1])]=decodeURIComponent(r[2]);return t}function o(e,t,n){var r="[?&]"+t+"=",i=new RegExp(r,"g");return i.test(e)?(r="("+t+"=)[^&]+",i=new RegExp(r,"g"),e=e.replace(i,t+"="+n)):e=~e.indexOf("?")?e+"&"+t+"="+n:e+"?"+t+"="+n,e}t.b=r,t.a=i,t.c=o},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(28),i=n(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(41)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(3),i=n(15),o=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===v(e)}function f(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===v(e)}function p(e){return"[object Error]"===v(e)||e instanceof Error}function h(e){return"function"==typeof e}function y(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=f,t.isDate=d,t.isError=p,t.isFunction=h,t.isPrimitive=y,t.isBuffer=e.isBuffer}).call(t,n(79).Buffer)},function(e,t,n){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=n(570);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r}).call(t,n(25))},function(e,t,n){var r,i;!function(o){var a=!1;if(r=o,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i),a=!0,e.exports=o(),a=!0,!a){var s=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=s,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var u="";for(var l in o)o[l]&&(u+="; "+l,!0!==o[l]&&(u+="="+o[l]));return document.cookie=t+"="+i+u}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var y=p[0].replace(f,decodeURIComponent);if(h=n.read?n.read(h,y):n(h,y)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===y){a=h;break}t||(a[y]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&p&&(y=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],y=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=(n.n(i),n(97)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){r(this,e),this.player=t,this.settings=n,this.classNames={adMsgWrapper:"vjs-ad-msg-wrapper",adMsgText:"vjs-ad-msg-text",skipCounter:"vjs-skip-ad-counter",skipCountdown:"vjs-skip-countdown",skipButton:"vjs-skip-button",skipWrapper:"vjs-skip-countdown",linearAdWrapper:"vjs-ad-link",linearAdLink:"vjs-ad-clickthru",linearAdButton:"vjs-ad-button",premiumPromoButton:"vjs-ad-premium-button"}}return a(e,[{key:"getAdButton",value:function(){return this.player.el_.getElementsByClassName(this.classNames.linearAdButton)[0]}},{key:"getAdLinkElement",value:function(){return this.player.el_.getElementsByClassName(this.classNames.linearAdLink)[0]}},{key:"createLinearAdUI",value:function(e,t,n){var r=i.document.createElement("div");r.className=this.classNames.linearAdWrapper;var o=i.document.createElement("a");o.setAttribute("href",e.url),o.setAttribute("target","_blank"),o.className=this.classNames.linearAdLink,o.onclick=t;var a=i.document.createElement("span");a.className=this.classNames.linearAdButton,a.setAttribute("data-enabled","false"),a.onclick=n,o.appendChild(a),r.appendChild(o),this.player.el_.appendChild(r)}},{key:"removeLinearAdUI",value:function(){for(var e=this.player.el_.getElementsByClassName(this.classNames.linearAdWrapper);e.length>0;)e[0].parentNode.removeChild(e[0])}},{key:"createAdBigPlayButton",value:function(){var e=i.document.createElement("button");return e.className="vjs-big-play-button vjs-big-play-button--ad",e.setAttribute("title",this.player.localize("Continue to play the ad")),e.setAttribute("type","button"),e.setAttribute("aria-disabled","false"),e.innerHTML='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text" aria-live="polite">'+this.player.localize("Continue to play the ad")+"</span>\n      ",e}},{key:"createSkipButtonUI",value:function(e,t,n){var r=this.player.localize("Ad playing (skip ad in {countdown}s)");switch(this.settings.linear.skipDelay.mode){case o.a.adsCountdown:r=this.player.localize("{curr}/{count} ad playing (skip ad in {countdown}s)").replace("{curr}",t).replace("{count}",e);break;case o.a.adCounter:r=this.player.localize("{curr}. ad playing").replace("{curr}",t);break;case o.a.adsCounter:r=this.player.localize("Ad playing {curr}/{count}").replace("{curr}",t).replace("{count}",e);break;case o.a.pure:r=this.player.localize("Ad playing")}var a=i.document.createElement("span");a.className=this.classNames.skipWrapper,a.innerHTML=r.replace("{countdown}",'<span class="'+this.classNames.skipCounter+'">'+n+"</span>"),this.getAdButton().appendChild(a)}},{key:"updateSkipCounter",value:function(e){var t=this,n=this.player.el_.getElementsByClassName(this.classNames.skipCounter);Array.prototype.forEach.call(n,function(n){n.innerHTML=e-Math.floor(t.player.currentTime())})}},{key:"showVPAIDSkipButton",value:function(e){var t=this;this.createAdMessageWrapperHTML("");var n=this.player.el_.getElementsByClassName(this.classNames.adMsgText);Array.prototype.forEach.call(n,function(n){n.onclick=e,n.className=t.classNames.adMsgText,n.innerHTML=t.player.localize("Skip ad")})}},{key:"showSkipButton",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.classNames.skipCountdown,n=this.player.el_.getElementsByClassName(t);Array.prototype.forEach.call(n,function(t){t.className=e.classNames.skipButton,t.innerHTML=e.player.localize("Skip ad")})}},{key:"removeElementsByClassName",value:function(e){for(var t=this.player.el_.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])}},{key:"removeAdMessageWrapperHTML",value:function(){this.removeElementsByClassName(this.classNames.adMsgWrapper)}},{key:"getLocalizedUpcomingAdMessage",value:function(e,t){var n=this.player.localize("Ads will be played");switch(this.settings.linear.priorNotification.mode){case o.b.adsCountdown:n=1===e?this.player.localize("{=1adCount} ad will be played after {time}s").replace("{=1adCount}",e).replace("{time}",t):e>1&&e<5?this.player.localize("{>1<5adCount} ad will be played after {time}s").replace("{>1<5adCount}",e).replace("{time}",t):this.player.localize("{>=5adCount} ad will be played after {time}s").replace("{>=5adCount}",e).replace("{time}",t);break;case o.b.countdown:n=1===e?this.player.localize("Ad will be played after {time}s").replace("{time}",t):this.player.localize("Ads will be played after {time}s").replace("{time}",t)}return n}},{key:"createAdMessageWrapperHTML",value:function(e){var t=i.document.createElement("div");t.className=this.classNames.adMsgWrapper;var n=i.document.createElement("span");n.className=this.classNames.adMsgText,n.innerHTML=e,t.appendChild(n),this.player.el_.appendChild(t)}},{key:"createUpcomingAdHTML",value:function(e,t){this.createAdMessageWrapperHTML(this.getLocalizedUpcomingAdMessage(e,t))}},{key:"updateUpcomingAdMessage",value:function(e,t){var n=this,r=this.player.el_.getElementsByClassName(this.classNames.adMsgText);Array.prototype.forEach.call(r,function(r){r.innerHTML=n.getLocalizedUpcomingAdMessage(e,t)})}},{key:"createPremiumPromoUI",value:function(e){var t=i.document.createElement("a");switch(t.setAttribute("href",this.settings.linear.premium.url),t.setAttribute("target",this.settings.linear.premium.target),t.className=this.classNames.premiumPromoButton+" "+this.settings.linear.premium.position+" "+this.settings.linear.premium.mode,t.onclick=e,this.settings.linear.premium.mode){case o.c.icon:t.innerHTML='<span class="icon vjs-icon-close-red">&nbsp;</span>';break;case o.c.button:t.innerHTML="<span class='icon vjs-icon-close-red'>&nbsp;</span> "+this.player.localize("Turn off ads");break;default:t.innerHTML=this.player.localize("Turn off ads")}this.player.el_.appendChild(t)}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return y});var a=n(202),s=(n.n(a),n(9)),u=n(2),l=n(20),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=new a.VASTClient,d=function(){function e(t){o(this,e),this.player=t,this.previousMuteState=t.muted(),this.listeners={},this.quartileProgress={firstQuartile:!1,midpoint:!1,thirdQuartile:!1}}return c(e,[{key:"track",value:function(e,t){if(!this.player)throw u.a.error(s.N.code,s.N.message),s.N;this.disposePlayerTracker(),this.vastTracker=new a.VASTTracker(f,e,t),this.vastTracker.customDispose=this.dispose.bind(this),this.player.vastTracker=this.vastTracker,this.bindListeners(),this.registerListeners()}},{key:"onCanPlay",value:function(){try{this.vastTracker.trackImpression(),this.player.trigger(l.a.AD_IMPRESSION)}catch(e){u.a.error("VAST impression URL is required!")}}},{key:"onTimeUpdate",value:function(){this.vastTracker.setProgress(this.player.currentTime())}},{key:"onPlay",value:function(){this.vastTracker.setPaused(!1)}},{key:"onPause",value:function(){this.vastTracker.setPaused(!0)}},{key:"onLinearClickthrough",value:function(){this.vastTracker.click()}},{key:"onFullscreenChange",value:function(){this.vastTracker.setFullscreen(this.player.isFullscreen())}},{key:"onSkipped",value:function(){this.vastTracker.skip()}},{key:"onVolumeChange",value:function(){this.player.muted()&&!this.previousMuteState?this.vastTracker.setMuted(!0):!this.player.muted()&&this.previousMuteState&&this.vastTracker.setMuted(!1),this.previousMuteState=this.player.muted()}},{key:"onEnded",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).skipped?this.onSkipped():!0===this.quartileProgress.firstQuartile&&!0===this.quartileProgress.midpoint&&!0===this.quartileProgress.thirdQuartile?(this.vastTracker.complete(),n.i(u.a)("[vastTracker] quartile progress OK - send complete()",this.quartileProgress)):n.i(u.a)("[vastTracker] quartile progress FAIL",this.quartileProgress),this.dispose()}},{key:"onTrackerFirstQuartile",value:function(){this.quartileProgress.firstQuartile=!0,this.player.trigger("vasttracker-firstQuartile"),n.i(u.a)("[vastTracker] firstQuartile fired !",this.quartileProgress)}},{key:"onTrackerMidpoint",value:function(){this.quartileProgress.midpoint=!0,this.player.trigger("vasttracker-midpoint"),n.i(u.a)("[vastTracker] midpoint fired !",this.quartileProgress)}},{key:"onTrackerThirdQuartile",value:function(){this.quartileProgress.thirdQuartile=!0,this.player.trigger("vasttracker-thirdQuartile"),n.i(u.a)("[vastTracker] thirdQuartile fired !",this.quartileProgress)}},{key:"bindListeners",value:function(){this.listeners.onCanPlay=this.onCanPlay.bind(this),this.listeners.onTimeUpdate=this.onTimeUpdate.bind(this),this.listeners.onPlay=this.onPlay.bind(this),this.listeners.onPause=this.onPause.bind(this),this.listeners.onLinearClickthrough=this.onLinearClickthrough.bind(this),this.listeners.onFullscreenChange=this.onFullscreenChange.bind(this),this.listeners.onVolumeChange=this.onVolumeChange.bind(this),this.listeners.onEnded=this.onEnded.bind(this),this.listeners.onTrackerFirstQuartile=this.onTrackerFirstQuartile.bind(this),this.listeners.onTrackerMidpoint=this.onTrackerMidpoint.bind(this),this.listeners.onTrackerThirdQuartile=this.onTrackerThirdQuartile.bind(this)}},{key:"registerListeners",value:function(){this.player.one("adcanplay",this.listeners.onCanPlay),this.player.on("adtimeupdate",this.listeners.onTimeUpdate),this.player.on("adplay",this.listeners.onPlay),this.player.on("adpause",this.listeners.onPause),this.player.on("linearclickthrough",this.listeners.onLinearClickthrough),this.player.on("fullscreenchange",this.listeners.onFullscreenChange),this.player.on("advolumechange",this.listeners.onVolumeChange),this.player.one("adended",this.listeners.onEnded),this.vastTracker.on("firstQuartile",this.listeners.onTrackerFirstQuartile),this.vastTracker.on("midpoint",this.listeners.onTrackerMidpoint),this.vastTracker.on("thirdQuartile",this.listeners.onTrackerThirdQuartile)}},{key:"unsubscribeAll",value:function(){this.player.off("adcanplay",this.listeners.onCanPlay),this.player.off("adtimeupdate",this.listeners.onTimeUpdate),this.player.off("adplay",this.listeners.onPlay),this.player.off("adpause",this.listeners.onPause),this.player.off("linearclickthrough",this.listeners.onLinearClickthrough),this.player.off("fullscreenchange",this.listeners.onFullscreenChange),this.player.off("advolumechange",this.listeners.onVolumeChange),this.player.off("adended",this.listeners.onEnded)}},{key:"dispose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.disposed?(e&&u.a.warn("Linear tracker disposed already."),!1):(this.disposed=!0,this.unsubscribeAll(),this.player.vastTracker=null,!0)}},{key:"disposePlayerTracker",value:function(){this.player.vastTracker&&this.player.vastTracker.customDispose()}}]),e}(),p=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.adUnit=n,i.listeners.setTrackerDuration=i.setTrackerDuration.bind(i),i.listeners.onSkipped=i.onSkipped.bind(i),i.listeners.onAdVideoFirstQuartile=i.onAdVideoFirstQuartile.bind(i),i.listeners.onAdVideoMidpoint=i.onAdVideoMidpoint.bind(i),i.listeners.onAdVideoThirdQuartile=i.onAdVideoThirdQuartile.bind(i),i.listeners.onAdVideoComplete=i.onAdVideoComplete.bind(i),i.listeners.onAdClickThru=i.onAdClickThru.bind(i),i.listeners.onAdUserClose=i.onAdUserClose.bind(i),i}return i(t,e),c(t,[{key:"onVolumeChange",value:function(){var e=this;this.adUnit.getAdVolume().then(function(t){e.vastTracker.setMuted(0===t)})}},{key:"setTrackerDuration",value:function(){var e=this;this.adUnit.getAdDuration().then(function(t){t>0&&e.player.vastTracker&&e.player.vastTracker.setDuration(t)})}},{key:"onVideoStart",value:function(){this.player.vastTracker.setProgress(0)}},{key:"onVideoQuartile",value:function(e){var t=this;this.adUnit.getAdDuration().then(function(n){if(n>0){var r=Math.round(e*n)/100;(t.player.vastTracker||{}).setProgress(r)}})}},{key:"onAdVideoFirstQuartile",value:function(){this.onVideoQuartile(25),this.quartileProgress.firstQuartile=!0,n.i(u.a)("[vastTracker] VPAID firstQuartile fired !",this.quartileProgress)}},{key:"onAdVideoMidpoint",value:function(){this.onVideoQuartile(50),this.quartileProgress.midpoint=!0,n.i(u.a)("[vastTracker] VPAID midpoint fired !",this.quartileProgress)}},{key:"onAdVideoThirdQuartile",value:function(){this.onVideoQuartile(75),this.quartileProgress.thirdQuartile=!0,n.i(u.a)("[vastTracker] VPAID thirdQuartile fired !",this.quartileProgress)}},{key:"onAdVideoComplete",value:function(){}},{key:"onAdClickThru",value:function(){this.player.vastTracker.click()}},{key:"onAdUserClose",value:function(){this.player.vastTracker.close()}},{key:"registerListeners",value:function(){this.adUnit.one("AdLoaded",this.listeners.setTrackerDuration),this.adUnit.subscribe("AdDurationChange",this.listeners.setTrackerDuration),this.adUnit.subscribe("AdRemainingTimeChange",this.listeners.setTrackerDuration),this.adUnit.subscribe("AdSkipped",this.listeners.setTrackerDuration),this.adUnit.one("AdStarted",this.listeners.onCanPlay),this.adUnit.one("AdSkipped",this.listeners.onSkipped),this.adUnit.subscribe("AdVolumeChange",this.listeners.onVolumeChange),this.adUnit.one("AdVideoFirstQuartile",this.listeners.onAdVideoFirstQuartile),this.adUnit.one("AdVideoMidpoint",this.listeners.onAdVideoMidpoint),this.adUnit.one("AdVideoThirdQuartile",this.listeners.onAdVideoThirdQuartile),this.adUnit.subscribe("AdClickThru",this.listeners.onAdClickThru),this.adUnit.subscribe("AdUserClose",this.listeners.onAdUserClose),this.adUnit.subscribe("AdPlaying",this.listeners.onPlay),this.adUnit.subscribe("AdPaused",this.listeners.onPause),this.player.on("adended",this.listeners.onEnded)}},{key:"unsubscribeAll",value:function(){this.player.off("adended",this.listeners.onEnded)}}]),t}(d),h=function(e,t,r,i){var o=new a.VASTTracker(f,t,r,i),s=function(){o.trackImpression(),n.i(u.a)("[vast-tracker] companion track impression")},l=function(){o.click(),n.i(u.a)("[vast-tracker] companion track click trought")};e.on("companioncanplay",s),e.on("companionclickthrough",l),e.one("companionended",function(e){this.off("companioncanplay",s),this.off("companionclickthrough",l),e.skipped?(o.skip(),n.i(u.a)("[vast-tracker] companion completed")):(o.complete(),n.i(u.a)("[vast-tracker] companion completed"))})},y=function(e,t,r,i){var o=new a.VASTTracker(f,t,r,i),s=function(){o.trackImpression(),n.i(u.a)("[vast-tracker] overlay track impression")},l=function(){o.click(),n.i(u.a)("[vast-tracker] overlay track click trought")};e.on("overlaycanplay",s),e.on("overlayclickthrough",l),e.one("overlayended",function(e){this.off("overlaycanplay",s),this.off("overlayclickthrough",l),e.skipped?(o.skip(),n.i(u.a)("[vast-tracker] overlay skipped")):(o.complete(),n.i(u.a)("[vast-tracker] overlay completed"))})}},function(e,t,n){"use strict";function r(e){e[l.objName]||(e[l.objName]={timeShifted:l.timeShiftedVal,seekTime:l.seekTimeVal,urlParam:l.urlParamVal,shiftedTime:l.shiftedTime})}function i(e){return e[l.objName]?e[l.objName].shiftedTime:l.shiftedTime}function o(e){return e[l.objName]?e[l.objName].timeShifted:l.timeShiftedVal}function a(e,t){r(e),e[l.objName].urlParam=t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.timeShiftedVal,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.seekTimeVal,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.shiftedTime,o=arguments[4];r(e),e[l.objName].timeShifted=t,e[l.objName].seekTime=n,e[l.objName].shiftedTime=i,o&&(e[l.objName].urlParam=o)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(e),e[l.objName].timeShifted=l.timeShiftedVal,e[l.objName].seekTime=l.seekTimeVal,e[l.objName].shiftedTime=l.shiftedTime,t&&(e[l.objName].urlParam=l.urlParamVal)}n.d(t,"a",function(){return l}),t.b=i,t.e=o,t.f=a,t.c=s,t.d=u;var l=Object.freeze({objName:"timeShiftState",timeShiftedVal:!1,seekTimeVal:0,urlParamVal:void 0,shiftedTime:0})},function(e,t,n){"use strict";var r=n(7),i=function(e,t){var n=[];t.drm.forEach(function(e){var t={name:e.keySystem,options:{serverURL:e.serverURL}};if(e.headers&&e.headers.length>0){t.options.httpRequestHeaders={};for(var r=0;r<e.headers.length;r++)t.options.httpRequestHeaders[e.headers[r].name]=e.headers[r].value}n.push(t)}),e.keySystemOptions=n},o=function(e,t){e.protection=t.drm},a=function(e){var t={src:e.src||e.fileURL,type:e.type||e.mimeType};if(e.drm)switch(e.type.toLowerCase()){case r.d.dash:i(t,e);break;case r.d.hls:o(t,e)}return t};t.a=a},function(e,t,n){"use strict";var r=Object.freeze(["SeekHintsMenu","SettingsMenu"]),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=!1;return t.forEach(function(t){var r=e.getChild(t);r&&!r.hasClass("vjs-hidden")&&(r.addClass("vjs-hidden"),n=!0)}),e.removeClass("vjs-popup-displayed"),n};t.a=i},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&$(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:k(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):k(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,d=0;d<u;d++)if(o(e,l+d)!==o(t,d)){f=!1;break}if(f)return l}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return Q(W(t,e.length-n),e,n,r)}function T(e,t,n,r){return Q(q(t),e,n,r)}function _(e,t,n,r){return T(e,t,n,r)}function P(e,t,n,r){return Q(G(t),e,n,r)}function C(e,t,n,r){return Q(K(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128==(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return S(r)}function S(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return i||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function V(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return X.toByteArray(V(e))}function Q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var X=n(350),J=n(553),$=n(197);t.Buffer=o,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:W(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(25))},function(e,t,n){var r=n(24),i=n(10),o=n(52);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(18),a=n(50),s=n(42),u=n(45),l=n(44),c=n(6),f=n(5),d=n(85),p=n(59),h=n(110);e.exports=function(e,t,n,y,v,g){var m=r[e],b=m,k=v?"set":"add",w=b&&b.prototype,E={},T=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(g||w.forEach&&!f(function(){(new b).entries().next()}))){var _=new b,P=_[k](g?{}:-0,1)!=_,C=f(function(){_.has(1)}),A=d(function(e){new b(e)}),O=!g&&f(function(){for(var e=new b,t=5;t--;)e[k](t,t);return!e.has(-0)});A||(b=t(function(t,n){l(t,b,e);var r=h(new m,t,b);return void 0!=n&&u(n,v,r[k],r),r}),b.prototype=w,w.constructor=b),(C||O)&&(T("delete"),T("has"),v&&T("get")),(O||P)&&T(k),g&&w.clear&&delete w.clear}else b=y.getConstructor(t,e,v,k),a(b.prototype,n),s.NEED=!0;return p(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=m),E),g||y.setStrong(b,e,v),b}},function(e,t,n){"use strict";n(193);var r=n(18),i=n(17),o=n(5),a=n(34),s=n(8),u=n(118),l=s("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!o(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!f){var y=/./[d],v=n(a,d,""[e],function(e,t,n,r,i){return t.exec===u?p&&!i?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),g=v[0],m=v[1];r(String.prototype,e,g),i(RegExp.prototype,d,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(6),i=n(27),o=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";e.exports=n(41)||!n(5)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(4)[e]})},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(57),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";var r=n(0),i=n(15),o=n(29),a=n(45);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),t=void 0!==u,t&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){var r=n(31),i=n(34);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){for(var r,i=n(4),o=n(17),a=n(53),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){var r=n(4),i=r.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(t,n(73))},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(79),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return h});var r=n(16),i=n.n(r),o=function(e,t){return"diabled"!==e&&t.some(function(t){return t===e})},a={adsCounter:"adsCounter",adCounter:"adCounter",pure:"pure",countdown:"countdown",adsCountdown:"adsCountdown"},s=function(){return Object.keys(a)},u=function(e){return o(e.linear.skipDelay.mode,s())},l={countdown:"countdown",adsCountdown:"adsCountdown",pure:"pure"},c=function(){return Object.keys(l)},f=function(e){var t=e.linear.priorNotification.time;return o(e.linear.priorNotification.mode,c())&&i.a.number(t)&&t>0},d={icon:"icon",text:"text",button:"button"},p=function(){return Object.keys(d)},h=function(e){return o(e.linear.premium.mode,p())}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(1),i=n.n(r),o=n(64),a=function(e,t){return!("location"!==e||!t)},s=function(e,t){return!(!a(e,t)&&"event-only"!==e)},u=function(e,t,r,s,u){e.trigger({type:"ott-playnext-fired",from:s,productId:u}),a(t,r)&&(i.a.location.href=n.i(o.c)(r,"autoplay","true"))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(72),o=n.n(i),a=n(94),s=n.n(a),u=n(7),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t,n){var i=this;r(this,e),this.player_=t,this.options_=n,n.subtitlesEnabled&&(t.on("ott-subtitles-enabled",function(e){i.saveSubtitlesLanguage(e)}),t.on("ott-subtitles-disabled",function(e){i.disableSubtitlesLanguage(e)})),n.audioEnabled&&t.on("ott-language-changed",function(e){i.saveAudioLanguage(e)}),n.autoplayEnabled&&t.on("ott-answitch-click",function(e){i.saveAutoplay(e)})}return l(e,null,[{key:"getUserSettings",value:function(e){var t=o.a.getJSON(u.g)||{};return!!t[e]&&t[e]}},{key:"getStoredLang",value:function(t){return e.getUserSettings(t).audioLang||!1}}]),l(e,[{key:"getCookieSettings",value:function(){var e=o.a.getJSON(u.g)||{};return e[this.options_.id]?e:(e[this.options_.id]={audioLang:null,subtLang:null,autoplay:null},e)}},{key:"updateCookieContent",value:function(e){var t=this.getCookieSettings();t[this.options_.id]=s()(t[this.options_.id],e),o.a.set(u.g,t,{expires:this.options_.cookieExpiration})}},{key:"saveSubtitlesLanguage",value:function(e){this.updateCookieContent({subtLang:e.track.language})}},{key:"clearSubtitlesLanguage",value:function(){this.updateCookieContent({subtLang:null})}},{key:"disableSubtitlesLanguage",value:function(){this.updateCookieContent({subtLang:"disabled"})}},{key:"saveAudioLanguage",value:function(e){this.updateCookieContent({audioLang:e.source.lang})}},{key:"clearAudioLanguage",value:function(){this.updateCookieContent({audioLang:null})}},{key:"saveAutoplay",value:function(e){this.updateCookieContent({autoplay:e.checked})}},{key:"clearAutoplay",value:function(){this.updateCookieContent({autoplay:null})}},{key:"isAutoplayEnabled",value:function(){return this.getCookieSettings()[this.options_.id].autoplay}},{key:"updateSubtitles",value:function(t){var n=e.getUserSettings(this.options_.id);return n&&n.subtLang&&this.options_.subtitlesEnabled?("disabled"===n.subtLang&&t.forEach(function(e){delete e.default}),0===t.filter(function(e){return e.srclang===n.subtLang}).length?t:t.map(function(e){var t=e;return t.default=!1,e.srclang===n.subtLang&&(t.default=!0),t})):t}}]),e}();t.a=c},function(e,t,n){"use strict";function r(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=c.a.documentElement,r=c.a.body,i=n.clientLeft||r.clientLeft||0,o=d.a.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=d.a.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function i(e,t){var n={},i=r(e),o=e.offsetWidth,a=e.offsetHeight,s=i.top,u=i.left,l=t.pageY,c=t.pageX;return t.changedTouches&&(c=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-l+a)/a)),n.x=Math.max(0,Math.min(1,(c-u)/o)),n}function o(e){return"string"==typeof e&&/\S/.test(e)}function a(e){return!!e&&"object"===(void 0===e?"undefined":p(e))&&1===e.nodeType}function s(e){return function(t,n){return o(t)?(o(n)&&(n=c.a.querySelector(n)),(a(n)?n:c.a)[e](t)):c.a[e](null)}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=c.a.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?r.setAttribute(e,n):r[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){r.setAttribute(e,n[e])}),r}t.b=i,t.a=u;var l=n(71),c=n.n(l),f=n(1),d=n.n(f),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s("querySelector"),s("querySelectorAll")},function(e,t,n){"use strict";function r(e){return-1===e.duration()||e.duration()===1/0}function i(e){return!!e.isLivePlayer}t.a=r,t.b=i;n(2)},function(e,t,n){"use strict";var r=n(91)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(13),i=n(52),o=n(10);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){var r=n(353);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(12),i=n(49);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(6),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(6),i=n(119).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(58),i=n(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(46),i=n(49),o=n(59),a={};n(17)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(41),i=n(0),o=n(18),a=n(17),s=n(58),u=n(112),l=n(59),c=n(23),f=n(8)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,y,v,g){u(n,t,h);var m,b,k,w=function(e){if(!d&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",T="values"==y,_=!1,P=e.prototype,C=P[f]||P["@@iterator"]||y&&P[y],A=C||w(y),O=y?T?w("entries"):A:void 0,S="Array"==t?P.entries||C:C;if(S&&(k=c(S.call(new e)))!==Object.prototype&&k.next&&(l(k,E,!0),r||"function"==typeof k[f]||a(k,f,p)),T&&C&&"values"!==C.name&&(_=!0,A=function(){return C.call(this)}),r&&!g||!d&&!_&&P[f]||a(P,f,A),s[t]=A,s[E]=p,y)if(m={values:T?A:w("values"),keys:v?A:w("keys"),entries:O},g)for(b in m)b in P||o(P,b,m[b]);else i(i.P+i.F*(d||_),t,m);return m}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(4),i=n(124).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(27)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(15);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(65),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,n,a,l,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),s&&(t=c.lastIndex),a=i.call(c,e),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),e.exports=a},function(e,t,n){var r=n(6),i=n(3),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(29)(Function.call,n(22).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(68)("keys"),i=n(53);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(84),i=n(34);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){"use strict";var r=n(31),i=n(34);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r,i,o,a=n(29),s=n(171),u=n(109),l=n(106),c=n(4),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,y=c.Dispatch,v=0,g={},m=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(27)(f)?r=function(e){f.nextTick(a(m,e,1))}:y&&y.now?r=function(e){y.now(a(m,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(a(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?F(2,-24)-F(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=M(e),e!=e||e===R?(i=e!=e?1:0,r=u):(r=U(B(e)/V),e*(o=F(2,-r))<1&&(r--,o*=2),e+=r+l>=1?c/o:c*F(2,1-l),e*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*F(2,t),r+=l):(i=e*F(2,l-1)*F(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-R:R;r+=F(2,t),c-=a}return(l?-1:1)*r*F(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return r(e,52,8)}function c(e){return r(e,23,4)}function f(e,t,n){C(e[S],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=+n,o=_(i);if(o+t>e[z])throw L(j);var a=e[H]._b,s=o+e[W],u=a.slice(s,s+t);return r?u:u.reverse()}function p(e,t,n,r,i,o){var a=+n,s=_(a);if(s+t>e[z])throw L(j);for(var u=e[H]._b,l=s+e[W],c=r(+i),f=0;f<t;f++)u[l+f]=c[o?f:t-f-1]}var h=n(4),y=n(11),v=n(41),g=n(92),m=n(17),b=n(50),k=n(5),w=n(44),E=n(31),T=n(10),_=n(190),P=n(47).f,C=n(12).f,A=n(103),O=n(59),S="prototype",j="Wrong index!",I=h.ArrayBuffer,x=h.DataView,D=h.Math,L=h.RangeError,R=h.Infinity,N=I,M=D.abs,F=D.pow,U=D.floor,B=D.log,V=D.LN2,H=y?"_b":"buffer",z=y?"_l":"byteLength",W=y?"_o":"byteOffset";if(g.ABV){if(!k(function(){I(1)})||!k(function(){new I(-1)})||k(function(){return new I,new I(1.5),new I(NaN),"ArrayBuffer"!=I.name})){I=function(e){return w(this,I),new N(_(e))};for(var q,K=I[S]=N[S],G=P(N),Q=0;G.length>Q;)(q=G[Q++])in I||m(I,q,N[q]);v||(K.constructor=I)}var Y=new x(new I(2)),X=x[S].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||b(x[S],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else I=function(e){w(this,I,"ArrayBuffer");var t=_(e);this._b=A.call(new Array(t),0),this[z]=t},x=function(e,t,n){w(this,x,"DataView"),w(e,I,"DataView");var r=e[z],i=E(t);if(i<0||i>r)throw L("Wrong offset!");if(n=void 0===n?r-i:T(n),i+n>r)throw L("Wrong length!");this[H]=e,this[W]=i,this[z]=n},y&&(f(I,"byteLength","_l"),f(x,"buffer","_b"),f(x,"byteLength","_l"),f(x,"byteOffset","_o")),b(x[S],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(d(this,4,e,arguments[1]))},getUint32:function(e){return o(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,a,t)},setUint8:function(e,t){p(this,1,e,a,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,u,t,arguments[2])},setUint32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});O(I,"ArrayBuffer"),O(x,"DataView"),m(x[S],g.VIEW,!0),t.ArrayBuffer=I,t.DataView=x},function(e,t,n){var r=n(4),i=n(28),o=n(41),a=n(191),s=n(12).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(57),i=n(8)("iterator"),o=n(58);e.exports=n(28).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(40),i=n(174),o=n(58),a=n(24);e.exports=n(113)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function i(){i.init.call(this)}function o(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function a(e,t,n,i){var a,s,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),u=s[t]),void 0===u)u=s[t]=n,++e._eventsCount;else if("function"==typeof u?u=s[t]=i?[n,u]:[u,n]:i?u.unshift(n):u.push(n),(a=o(e))>0&&u.length>a&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=u.length,r(l)}return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,v(this.listener,this.target,e))}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function l(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?p(i):f(i,i.length)}function c(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function d(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var h,y="object"==typeof Reflect?Reflect:null,v=y&&"function"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};h=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var g=Number.isNaN||function(e){return e!==e};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var m=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(e){if("number"!=typeof e||e<0||g(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");m=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||g(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)v(s,this,t);else for(var u=s.length,l=f(s,u),n=0;n<u;++n)v(l[n],this,t);return!0},i.prototype.addListener=function(e,t){return a(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return a(this,e,t,!0)},i.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,u(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,u(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():d(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return l(this,e,!0)},i.prototype.rawListeners=function(e){return l(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},i.prototype.listenerCount=c,i.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(m.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=p,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=h,this.end=y,t=3;break;default:return this.write=v,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function u(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function l(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}var m=n(96).Buffer,b=m.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=f,o.prototype.text=c,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){A(t,e)}}function a(e){return L.from(e)}function s(e){return L.isBuffer(e)||e instanceof R}function u(){}function l(e,t){S=S||n(55),e=e||{};var r=t instanceof S;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(S=S||n(55),!(M.call(c,this)||this instanceof S))return new c(e);this._writableState=new l(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),D.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),O.nextTick(t,n)}function d(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),O.nextTick(r,o),i=!1),i}function p(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=L.from(t,n)),t}function h(e,t,n,r,i,o){if(!n){var a=p(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return u}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r,i){--t.pendingcb,n?(O.nextTick(i,r),O.nextTick(P,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),P(e,t))}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(g(n),t)v(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?j(b,e,n,o,i):b(e,n,o,i)}}function b(e,t,n,r){n||k(e,t),t.pendingcb--,r(),P(e,t)}function k(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),P(e,t)})}function _(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,O.nextTick(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function P(e,t){var n=E(t);return n&&(_(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function C(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?O.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function A(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var O=n(95);e.exports=c;var S,j=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:O.nextTick;c.WritableState=l;var I=n(70);I.inherits=n(61);var x={deprecate:n(565)},D=n(201),L=n(96).Buffer,R=i.Uint8Array||function(){},N=n(200);I.inherits(c,D),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var M;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!M.call(this,e)||this===c&&(e&&e._writableState instanceof l)}})):M=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&s(e);return o&&!L.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=u),r.ended?f(this,n):(o||d(this,r,e,n))&&(r.pendingcb++,i=h(this,r,o,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||C(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=N.destroy,c.prototype._undestroy=N.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(73),n(555).setImmediate,n(25))},function(e,t,n){t=e.exports=n(198),t.Stream=t,t.Readable=t,t.Writable=n(131),t.Duplex=n(55),t.Transform=n(199),t.PassThrough=n(557)},function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t,n){var r=n(204),i=n(568),o=n(203),a=n(567);e.exports={xml2js:r,xml2json:i,js2xml:o,json2xml:a}},function(e,t,n){var r=n(133).isArray;e.exports={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||r(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"GemiusStreamVideo",function(){return a}),n.d(t,"GemiusStreamAds",function(){return s});var r={},i=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e._super=t.prototype,e.prototype.constructor=e},o=function(e,t,n,r,i,o){this.debug=!0,this.log=function(e){this.debug&&void 0!==window.console&&window.console.log("[GemiusStreamVJS]: "+e)},this.encoding="utf-8",this.identifier=e,this.hitcollector=t,this.playerId=n,this.materialIdentifier=r,this.treeId=i,this.additionalPackage=[],o&&(this.totalTime=o),this.events={playing:"playing",paused:"paused",stopped:"stopped",buffering:"buffering",seekingStarted:"seekingStarted",complete:"complete"},Object.freeze(this.events),this.locked={events:{play:!0,seeking:!0,seeked:!0,pause:!0,ended:!1},setEventsLocked:function(){this.events.play=!0,this.events.seeking=!0,this.events.seeked=!0,this.events.pause=!0}},this.firstValidPlayingEvt=!0};o.prototype.getTotalTime=function(){return void 0===this.totalTime&&(this.totalTime=r.duration(),this.totalTime===1/0&&(this.totalTime=-1)),Math.round(this.totalTime)},o.prototype.getDuration=function(){return this.duration?this.duration:(this.duration=Math.round(r.duration()),this.duration)},o.prototype.getCurrentTime=function(){return Math.round(r.currentTime())},o.prototype.initBase=function(){return"undefined"==typeof gemiusStream?void this.log("gemiusStream object not found!"):void 0===r?void this.log("player object not found!"):(this.log('gemiusStream initialized "newStream" function called'),void gemiusStream.newStream(this.playerId,this.materialIdentifier,this.getTotalTime(),this.customPackage,this.additionalPackage,this.identifier,this.hitcollector,this.treeId))},o.prototype.streamBeforePrerollInit=function(){this.log('first videojs "loadedmetadata" event fired | gemiusStream "playing and paused" sended'),gemiusStream.event(this.playerId,this.materialIdentifier,0,this.events.playing),gemiusStream.event(this.playerId,this.materialIdentifier,0,this.events.paused)},o.prototype._initEvents=function(){var e=this,t=0;this.play=function(){!1===e.isStreamMeasurable()||e.locked.events.play||(e.locked.events.play=!0,e.locked.events.pause=!1,e.log('videojs "play" event fired | gemiusStream "playing" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.playing))},this.pause=function(){!1===e.isStreamMeasurable()||e.locked.events.pause||(e.locked.events.pause=!0,e.locked.events.play=!1,e.log('videojs "pause" event fired | gemiusStream "paused" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.paused))},this.seeking=function(){!1===e.isStreamMeasurable()||e.locked.events.seeking||(e.locked.events.pause=!0,e.locked.events.play=!0,e.locked.events.seeking=!0,e.locked.events.seeked=!1,e.log('videojs "seeking" event fired | gemiusStream "paused" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.paused),e.log('videojs "seeking" event fired | gemiusStream "seekingStarted" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.seekingStarted))},this.seeked=function(){!1===e.isStreamMeasurable()||e.locked.events.seeked||(e.locked.setEventsLocked(),t=r.currentTime(),r.on("timeupdate",e.timeupdate),e.firstValidPlayingEvt=!1,e.log('videojs "seeked" event fired | gemiusStream "playing" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,0,e.events.playing))},this.ended=function(t){!1===e.isStreamMeasurable()||e.locked.events.ended||(e.locked.setEventsLocked(),e.locked.events.ended=!0,e.log('videojs "ended" event fired | gemiusStream "complete" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getDuration(),e.events.complete),e.log('videojs "ended" event fired | gemiusStream "closeStream" sended'),gemiusStream.closeStream(e.playerId,e.materialIdentifier,e.getDuration()))},this.timeupdate=function(){!1!==e.isStreamMeasurable()&&r.currentTime()!=t&&(t=r.currentTime(),e.firstValidPlayingEvt?(e.log("Stream started playing"),e.locked.events.play=!1,e.play()):e.locked.events.pause=!1,e.locked.events.seeking=!1,r.off("timeupdate",e.timeupdate))}},o.prototype._initAdEvents=function(){var e=this,t=0;this.play=function(){!1===e.isStreamMeasurable()||e.locked.events.play||(e.locked.events.play=!0,e.locked.events.pause=!1,e.log('videojsAD  "play" event fired | gemiusStream "playing" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.playing))},this.pause=function(){!1===e.isStreamMeasurable()||e.locked.events.pause||r.currentTime()==r.duration()||(e.locked.events.pause=!0,e.locked.events.play=!1,e.log('videojsAD  "pause" event fired | gemiusStream "paused" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.paused))},this.ended=function(t){e.locked.events.ended||(e.locked.setEventsLocked(),e.locked.events.ended=!0,e.log('videojsAD "ended" event fired | gemiusStream "complete" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getDuration(),e.events.complete),e.log('videojsAD "ended" event fired | gemiusStream "closeStream" sended'),gemiusStream.closeStream(e.playerId,e.materialIdentifier,e.getDuration()),"undefined"!=typeof gemiusStreamVideo&&(gemiusStreamVideo.locked.events.pause=!0,gemiusStreamVideo.locked.events.play=!0,gemiusStreamVideo.firstValidPlayingEvt=!0),r.off("adtimeupdate",e.timeupdate),r.off("adplay",e.play),r.off("adended",e.ended),r.off("adpause",e.pause))},this.timeupdate=function(){!1!==e.isStreamMeasurable()&&r.currentTime()!=t&&(t=r.currentTime(),e.locked.events.pause=!1,e.firstValidPlayingEvt&&(e.log('StreamAD started playing | gemiusStream "playing" sended'),gemiusStream.event(e.playerId,e.materialIdentifier,e.getCurrentTime(),e.events.playing),e.firstValidPlayingEvt=!1),r.off("adtimeupdate",e.timeupdate))}},o.prototype._registerVideoEvents=function(){r.on("timeupdate",this.timeupdate),r.on("play",this.play),r.on("seeking",this.seeking),r.on("seeked",this.seeked),r.on("ended",this.ended),r.on("pause",this.pause)},o.prototype._registerAdsEvents=function(){r.on("adtimeupdate",this.timeupdate),r.on("adplay",this.play),r.on("adended",this.ended),r.on("adpause",this.pause)},o.prototype.dispose=function(){};var a=function(e,t,n,i,a,s,u,l,c,f,d,p){r=e,o.call(this,t,n,i,a,s,p),this.customPackage=this.getCustomPackage(u,l,c,f,d)};i(a,o),a.prototype.getCustomPackage=function(e,t,n,r,i){var o=[],a={name:"NAZEV",value:this.getNazevValue(e)},s={name:"ZDROJ",value:t||"play"},u={name:"CIL",value:n||"player"},l={name:"KATEGORIE",value:"042"},c={name:"DRUH",value:r||"Bonus"},f={name:"SERIES",value:i||""};return o.push(a,s,u,l,c,f),o},o.prototype.getNazevValue=function(e){var t="pc",n={mobile:{match:["Mobile Phone","Mobile Device","FonePad"],value:"mobil"},tablet:{match:["Tablet","Ebook Reader"],value:"tablet"}};return Object.keys(n).forEach(function(r,i){n[r].match.indexOf(e)>-1&&(t=n[r].value)}),t},a.prototype.isStreamMeasurable=function(){var e=!0;return void 0!==r.adstate&&(e=!r.adstate.adPlaying),e},a.prototype.init=function(){this.initBase(),this.streamBeforePrerollInit(),this._initEvents(),this._registerVideoEvents()};var s=function(e,t,n,i,a,s,u,l,c,f,d,p){r=e,o.call(this,t,n,i,a,s),this.customPackage=this.getCustomPackage(u,l,c,f,d,p)};i(s,o),s.prototype.getCustomPackage=function(e,t,n,r,i,o){var a=[],s={name:"ZDROJ",value:e||"play"},u={name:"CIL",value:t||"P"},l={name:"ADVERTISER",value:n||""},c={name:"BRAND",value:r||""},f={name:"ID",value:i||""},d={name:"AGENCY",value:o||""};return a.push(l,s,u,c,f,d),a},s.prototype.isStreamMeasurable=function(){var e=!1;return void 0!==r.adstate&&(e=r.adstate.adPlaying),e},s.prototype.init=function(){this.initBase(),this._initAdEvents(),this._registerAdsEvents()}},function(e,t,n){"use strict";function r(e){y.fakeTime=e.currentTime(),y.fakeTimeEnabled=!0,e.trigger("timeupdate")}function i(e,t){y.fakeTimeEnabled=!0,t&&(y.fakeTime=t),e.trigger("timeupdate"),e.cache_.currentTime=y.fakeTime}function o(e){y.fakeTimeEnabled=!1,e.currentTime(y.fakeTime),y.fakeTime=void 0,e.trigger("timeupdate")}function a(e){var t=e.currentTime.bind(e);e.currentTime=function(n){return y.fakeTimeEnabled?(n&&i(e,n),y.fakeTime):t(n)},e.on("faketime-on",function(){return r(e)}),e.on("faketime-off",function(){return o(e)})}function s(e){e.options_.disableFullscreenIniOS&&c.a.videojs.browser.IS_IOS&&e.controlBar.fullscreenToggle.hide()}function u(e){e.removeChild(e.getChild("ErrorDisplay")),e.addChild(new f.a(e)),e.one("loadedmetadata",function(){n.i(p.a)(e)&&(e.isLivePlayer=!0,n.i(h.a)("[isLivePlayer] set to true"))}),s(e),e.addChild(new d.a(e)),e.VERSION="2.3.21",a(e),e.currentTimeOfActiveMedia=function(t){return e.currentTime(t)},e.durationOfActiveMedia=function(){return e.duration()},e.isInPausedState=function(){return e.paused()},e.on(["adend","loadedmetadata"],function(){n.i(p.b)(e)&&e.controlBar.liveDisplay.hasClass("vjs-hidden")&&(e.controlBar.liveDisplay.show(),n.i(h.a)("[custom-functionality] show LIVE tag"))})}var l=n(1),c=n.n(l),f=n(238),d=n(268),p=n(101),h=n(2),y={fakeTimeEnabled:!1,fakeTime:void 0};t.a=u},function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(2)),s=n(158),u=function(e){var t={names:[],ks:[]};return i.a.array(e)&&e.length>0&&e.forEach(function(e){if(i.a[e.os.toLowerCase()]()&&i.a[e.browser.toLowerCase()]())return a.a.warn("Technology selection overriden. OS: ",e.os,", browser: ",e.browser,", technology: ",e.names),t.names=e.names,t.ks=e.ks||{},t}),n.i(s.c)()&&t.names.push("DASH"),n.i(s.d)(o.videojs)&&t.names.push("HLS"),t.names.push("MP4"),n.i(a.a)("Browser technology selected: ",t),t};t.a=u},function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"k",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"m",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"n",function(){return u}),n.d(t,"o",function(){return l}),n.d(t,"p",function(){return c}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return p}),n.d(t,"t",function(){return h}),n.d(t,"u",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return k}),n.d(t,"i",function(){return w}),n.d(t,"v",function(){return E}),n.d(t,"w",function(){return T}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return P});var r={message:"A network error caused the media download to fail part-way.",code:2.01},i={message:"A network error caused the media download to fail part-way.",code:2.02},o={message:"The media playback was aborted because too many consecutive download errors occurred.",code:2.03},a={message:"The media playback was aborted because too many consecutive download errors occurred.",code:2.04},s={message:"The media playback was aborted because too many consecutive download errors occurred.",code:2.05},u={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.03},l={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.04},c={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.05},f={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.06},d={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.07},p={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.08},h={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.09},y={message:"The media could not be loaded, either because the server or network failed or because the format is not supported.",code:4.1},v={message:"Manifest type unsupported",code:4.11},g={message:"Codec is not supported",code:4.12},m={message:"No streams to play.",code:4.13},b={message:"Error creating stream.",code:4.14},k={message:"Parsing the manifest failed",code:4.15},w={message:"Manifest error.",code:4.16},E={message:"The media is encrypted and we do not have the keys to decrypt it.",code:5.01},T={message:"The media is encrypted and we do not have the keys to decrypt it.",code:5.02},_={message:"The media cannot be played because it requires encryption features that your browser does not support.",code:5.03},P={message:"DRM not supported",code:5.04}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=function(e,t,o){if(void 0!==t){if(Array.isArray(t)){o&&t.unshift(o);var a=[];return t.forEach(function(t){e.forEach(function(e){e.lang===t&&a.push(e)})}),0===a.length?(r.a.error(i.m.code,i.m.message),e):(n.i(r.a)("Localized sources: ",a),a)}r.a.error(i.l.code,i.l.message,t)}return r.a.warn("preferredLang not found. Player source localization skipped"),e};t.a=o},function(e,t,n){"use strict";var r=n(1),i=(n.n(r),n(2)),o=n(142),a=n(140),s=n(77),u=n(236),l=n(99),c=n(9),f=n(239),d=n(160),p=n(340),h=n(237),y=n(345),v=n(139),g=(n(26),function(e,t,o){var a=new r.FormData;a.append("token",t),n.i(r.fetch)(e,{method:"POST",body:a,credentials:"include",mode:"cors"}).then(function(){o()}).catch(function(e){i.a.error(c.e.code,c.e.message,e.message)})}),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e.html5={hls:{withCredentials:t},hlsjsConfig:{xhrSetup:function(e){e.withCredentials=t}}}),e},b=function(e,t,b){n.i(i.a)("[Location] "+window.location.href),n.i(i.a)("[User agent data]",window.navigator.userAgent,"client lang: "+window.navigator.language,"client appName: "+window.navigator.appName,"client platform: "+window.navigator.platform,"client cookies enabled: "+window.navigator.cookieEnabled);var k=r.videojs;k||i.a.error(c.f.code,c.f.message);var w=n.i(o.a)(t,b.tracks),E=b.plugins.settings||{},T=E.persistSettings,_=!1;T&&T.audioEnabled&&(_=l.a.getStoredLang(T.id)),b.resetStore&&b.resetStore.lang&&(_=b.resetStore.lang);var P=n.i(a.a)(w,b.preferredLang,_);b=P.length>0?m(b,P[0].withCredentials):b,n.i(i.b)()&&(b.html5?b.html5.hlsjsConfig?b.html5.hlsjsConfig.debug=!0:b.html5.hlsjsConfig={debug:!0}:b.html5={hlsjsConfig:{debug:!0}},k.Html5Fairplay&&k.Html5Fairplay.setLogToBrowserConsole(!0));var C=function(e,t){n.i(i.b)()?t.on("log",function(e){n.i(i.a)(e.message)}):t.getDebug().setLogToBrowserConsole(!1),t.setFragmentLoaderRetryAttempts(20),t.setJumpGaps(!0),t.setFastSwitchEnabled(!0),b.dashjsPlaybackEnded&&(n.i(i.a)("[dashjs] register playbackEnded"),t.on("playbackEnded",function(t){var r=void 0;"function"==typeof e.ads.inAdBreak&&(r=e.ads.inAdBreak()),e.ads&&r||(n.i(i.a)("[dashjs] player manual trigger ended event after playbackEnded event from dashjs"),e.trigger("ended"))})),t.on("error",function(t){if(e.trigger({type:"dasherror",error:t.error}),i.a.error("[Dashjs MediaPlayer error]",t),"key_session"===t.error&&t.event.indexOf("DRM")>-1)e.error(v.a);else if("capability"===t.error&&"encryptedmedia"===t.event)e.error(v.b);else if("download"===t.error)e.error(v.c);else if("manifestError"===t.error){var n=void 0;n="createParser"===t.event.id?v.d:"codec"===t.event.id?v.e:"nostreams"===t.event.id?v.f:"nostreamscomposed"===t.event.id?v.g:"parse"===t.event.id?v.h:v.i,e.error(n)}})};(k.Html5DashJS||{}).hook("beforeinitialize",C);var A=k(e,b,function(){k.browser.IS_SAFARI});A.on("error",function(e){i.a.error("[Player error]",e)}),A.ready(function(){n.i(y.a)(A),n.i(d.a)(A,b),A.logHistory=i.a.history,n.i(p.a)(A),n.i(h.a)(A)});var O={original:b.tracks,matched:w,localized:P};if(n.i(f.a)(A,O)){var S=function(){var e=n.i(s.a)(P[0]);n.i(i.a)("Player is going to play: ",e),A.src(e),n.i(u.a)(A,b.startTime)};b.tracks.transferSession?g(b.tracks.transferSession.url,b.tracks.transferSession.token,S):S()}return A};t.a=b},function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(7),a=function(e,t){var n=[];return e.forEach(function(e){t.forEach(function(t){e.keySystem===t&&n.push(n)})}),n},s=function(e,t,n){t.drm=e,n.push(t)},u=function(e,t,n){e.forEach(function(e){var r=e.drm;if(r&&t.ks&&r.length>0&&t.ks.length>0){var i=a(r,t.ks);s(i,e,n)}else n.push(e)})},l=function(e){var t=[],n=[];return e.forEach(function(e){e.type.toLowerCase()===o.d.hls&&e.drm?t.push(e):n.push(e)}),[].concat(t,n)},c=function e(t,n){var r=[];return t.names.forEach(function(e){var i=n[e.toUpperCase()];i&&i.length>0&&u(i,t,r)}),0===r.length&&-1===t.names.indexOf("HLS")?e({names:["HLS"]},n):(i.a.safari()&&t.names.indexOf("HLS")&&(r=l(r)),r)};t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(1),a=(n.n(o),n(282),n(279),n(283),n(281),n(285),n(280),n(286),n(284),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.player=t,this.playlistControlEvents=["ott-playlist-next","ott-playlist-prev"],this.playlistChangeEvent="ott-playlist-change-source",this.controlBar=o.videojs.getComponent("ControlBar"),this.playlistData=null!=n?this.createPlaylistData(n):i}return a(e,[{key:"checkEnableThumbnails",value:function(e){return e.reduce(function(e,t){return t.thumbnailsPlaylist&&e++,e},0)}},{key:"init",value:function(){this.player.addClass("ott-vjs-playlist"),this.player.playlist=this,this.registerPlaylistEvents(),this.registerCompleteEvent(),this.createPlaylistUI(),this.playlistData.totalDuration,n.i(i.a)("[playlist] initialization done !")}},{key:"createPlaylistUI",value:function(){var e=this,t=this.player.playlist.playlistData.sources[this.player.playlist.playlistData.actualIndex].playlist;t&&"hidden"===t.type||(this.player.controlBar.removeChild("DurationDisplay"),this.player.controlBar.removeChild("CurrentTimeDisplay"),this.player.controlBar.removeChild("timeDivider"),this.player.controlBar.addChild("PlaylistTimeDisplay")),t&&!0!==t.showSourceName||this.player.controlBar.addChild("PlaylistSourceNameDisplay"),t&&!0!==t.controls||this.player.controlBar.addChild("PlaylistControlButtons"),t&&"hidden"===t.type||(this.player.controlBar.progressControl.seekBar.playProgressBar.removeChild("TimeTooltip"),this.player.controlBar.progressControl.seekBar.removeChild("MouseTimeDisplay"),this.player.controlBar.progressControl.getChild("SeekBar").hide(),this.playlistData.thumbnails&&this.player.controlBar.progressControl.addChild("PlaylistThumbnails"),this.player.controlBar.progressControl.addChild("PlaylistSeekBar",{enableThumbnails:this.enableThumbnails}),this.player.controlBar.progressControl.getChild("PlaylistSeekBar").removeChild("LoadProgressBar"),this.player.controlBar.progressControl.getChild("PlaylistSeekBar").addChild("PlaylistLoadProgressBar"),this.player.playlist.playlistData.sources.forEach(function(t,n){0!==n&&e.player.controlBar.progressControl.addChild("PlaylistMarker",{sourceIndex:n})}),this.player.playlist.playlistData.sources.forEach(function(t,n){t.adMarkerPlaylist&&t.adMarkerPlaylist.length>0&&t.adMarkerPlaylist.markers.forEach(function(r,i){r.time<=t.duration&&e.player.controlBar.progressControl.addChild("PlaylistAdMarker",{durationBefore:t.durationBefore,markerTime:r.time,markerKey:"padm-"+n+"-"+i})})}),this.player.on(["fullscreenchange","playerresize"],function(){e.player.controlBar.progressControl.children().forEach(function(e){"PlaylistAdMarker"!==e.name_&&"PlaylistMarker"!==e.name_||(e.el_.style.left=e.getMarkerPosition()+"px")}),n.i(i.a)("[playlist] position components PlaylistMarker and PlaylistAdMarker updated")}))}},{key:"getPlaylistData",value:function(){return this.playlistData}},{key:"createPlaylistData",value:function(e){return{sources:this.updateSourcesData(e),totalLength:e.length,totalDuration:this.getTotalDuration(e),thumbnails:this.checkEnableThumbnails(e)>0,actualIndex:0}}},{key:"updateSourcesData",value:function(e){var t=this,n=this.getTotalDuration(e);return e.map(function(r,i){return r.durationBefore=t.getTimeTotalDurationBeforeThisSource(e,i),r.seekRange=t.getSourcePercentSeekRange(r,n),r.plugins.markers&&(r.adMarkerPlaylist=r.plugins.markers,delete r.plugins.markers),r.plugins.thumbnails&&(r.thumbnailsPlaylist=r.plugins.thumbnails,delete r.plugins.thumbnails),r})}},{key:"getSourcePercentSeekRange",value:function(e,t){var n=t/100,r=Math.floor(e.durationBefore/n),i=Math.floor((e.durationBefore+e.duration)/n);return{min:r,max:i,rangeLength:i-r}}},{key:"getTimeTotalDurationBeforeThisSource",value:function(e,t){var n=0;return e.reduce(function(e,r){return n<t&&(n++,e+=r.duration),e},0)}},{key:"getTotalDuration",value:function(e){var t=0;return e.forEach(function(e){null!=t&&(e.duration?t+=e.duration:t=null)}),null!=t?n.i(i.a)("[playlist] count sources total duration",t):i.a.warn("[playlist] some source not have duration parameter"),t}},{key:"registerPlaylistEvents",value:function(){var e=this;this.player.one(this.playlistControlEvents,function(t){switch(t.type){case"ott-playlist-next":e.changePlaylistSourceNext();break;case"ott-playlist-prev":e.changePlaylistSourcePrev()}}),n.i(i.a)("[playlist] register events",this.playlistControlEvents)}},{key:"registerCompleteEvent",value:function(){var e=this;this.player.one(["contentended","ended"],function(){e.changePlaylistSourceNext()})}},{key:"playlistChangeNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.player.trigger({type:this.playlistChangeEvent,sourceIndex:e,seekTime:t})}},{key:"changePlaylistSourceNext",value:function(){var e=this;if(this.playlistData.actualIndex<this.playlistData.totalLength&&this.playlistData.actualIndex!==this.playlistData.totalLength-1){this.playlistData.actualIndex++;var t=this.playlistData.sources[this.playlistData.actualIndex];this.playlistChangeNotification(this.playlistData.actualIndex),this.player.reset.resetPlayer(t),n.i(i.a)("[playlist]: source changed to index "+this.playlistData.actualIndex,this.player.reset.getResetData().data)}else n.i(i.a)("[playlist] last source, repeat all tracks"),setTimeout(function(){e.playlistData.actualIndex=0;var t=e.playlistData.sources[e.playlistData.actualIndex];e.player.reset.resetPlayer(t),n.i(i.a)("[playlist]: source changed to index "+e.playlistData.actualIndex,e.player.reset.getResetData().data)},1e3)}},{key:"changePlaylistSourcePrev",value:function(){if(0!==this.playlistData.actualIndex){this.playlistData.actualIndex--;var e=this.playlistData.sources[this.playlistData.actualIndex];this.playlistChangeNotification(this.playlistData.actualIndex),this.player.reset.resetPlayer(e),n.i(i.a)("[playlist] source changed to index "+this.playlistData.actualIndex,this.player.reset.getResetData().data)}else i.a.warn("[playlist] prev this is a first source in sources")}},{key:"changePlaylistSourceByIndex",value:function(e,t){if(this.playlistData.actualIndex!==e){this.playlistData.actualIndex=e;var r=this.playlistData.sources[this.playlistData.actualIndex];this.playlistChangeNotification(e,t),this.player.reset.resetPlayer(r,t),n.i(i.a)("[playlist] source changed to index "+this.playlistData.actualIndex,this.player.reset.getResetData().data)}else i.a.warn("[playlist] now played the same source index")}}]),e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(249),s=n(2),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,n){var i=this;r(this,e),this.player=t,this.divClass=n.divClass,this.customBaitUrl=n.customBaitUrl,this.asyncCheckTimeout=void 0,this.fckAdBlock=new a.a,this.fckAdBlock.on(!0,function(){return i.detected()})}return u(e,[{key:"check",value:function(){this.fckAdBlock.check(["http"],{http:{baitMode:"import",baitUrl:this.customBaitUrl}})}},{key:"detected",value:function(){if(this.elementsExist()){this.getMessageDiv().setAttribute("style","display: block !important")}this.disposePLayer()}},{key:"isElementHidden",value:function(e){var t=o.a.getComputedStyle(e);return null===e.offsetParent||"none"===t.display}},{key:"elementsExist",value:function(){return i.document.getElementsByClassName(this.divClass).length>=2}},{key:"getMessageDiv",value:function(){for(var e=i.document.getElementById(this.player.id_),t=e.closest("."+this.divClass),n=null,r=0;r<t.children.length;r++)if(t.children[r].classList.contains(this.divClass)){n=t.children[r];break}return n}},{key:"disposePLayer",value:function(){try{n.i(s.a)("AdBlock detected! Player object will be disposed"),this.player.dispose()}catch(e){s.a.error("AdBlock detected! Player object is disposed already",e)}}}]),e}();t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.player=t,this.adstate=n}return i(e,[{key:"reset",value:function(){var e=this;return new Promise(function(t){if(void 0!==(e.player.markers||{}).getMarkers){for(var n=[],r=e.player.markers.getMarkers(),i=0;i<r.length;i++)n.push(r[i]);for(var o=0;o<e.adstate.inventory.midrolls.length;o++)if(e.adstate.inventory.midrolls[o].requested)for(var a=0;a<n.length;a++)n[a].time===e.adstate.inventory.midrolls[o].time&&(e.player.markers.removeAll(),n.splice(a,1));e.player.markers.reset(n),t(n)}})}}]),e}();t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(134),i=n.n(r),o=n(2),a={elements:[{type:"element",name:"vmap:VMAP",attributes:{"xmlns:vmap":"http://www.iab.net/videosuite/vmap",version:"1.0"},elements:[]}]},s=function(e){if(!e)return"notimedata";var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),i=t-3600*n-60*r;return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),n+":"+r+":"+i},u=function(e){switch(!0){case"preroll"===e.type:return"start";case"postroll"===e.type:return"end";default:return e.time}},l=function(e){a.elements[0].elements.push(e)},c=function(e){return e.url&&"notimedata"!==e.time?{type:"element",name:"vmap:AdBreak",attributes:{timeOffset:u(e),breakType:e.breakType?e.breakType:"linear",breakId:e.type},elements:[{type:"element",name:"vmap:AdSource",attributes:{id:e.type+"-ad-"+e.index,allowMultipleAds:"true",followRedirects:"true"},elements:[{type:"element",name:"vmap:AdTagURI",attributes:{templateType:"vast3"},elements:[{type:"cdata",cdata:e.url}]}]}]}:(o.a.warn("[vmapcreator] "+e.type+" the ad will not be inserted due to missing data: "+(e.url?"":"URL")+" "+("notimedata"===e.time?"TIMEOFFSET":"")),null)},f=function(e){var t=[];if(e.linear){((e.linear.preroll||{}).vasts||[]).forEach(function(e,n){t.push({type:"preroll",index:n+1,time:null,url:e})});(e.linear.midrolls||[]).forEach(function(e,n){e.vasts.forEach(function(r,i){t.push({type:"midroll",index:n+1+"-"+(i+1),time:s(e.time),url:r})})});((e.linear.postroll||{}).vasts||[]).forEach(function(e,n){t.push({type:"postroll",index:n+1,time:null,url:e})})}return(e.cascade||[]).forEach(function(e,n){if(e.overlay){var r=e.overlay;t.push({breakType:"nonlinear",type:"overlay",index:n+1,time:s(e.time),url:r.vast})}if(e.companion){var i=e.overlay;t.push({breakType:"display",type:"companion",index:n+1,time:s(e.time),url:i.vast})}}),t},d=function(e){f(e||{}).forEach(function(e){var t=c(e);t&&l(t)});var t={compact:!1,ignoreComment:!0,spaces:4},r=i.a.js2xml(a,t);return n.i(o.a)("[vmapcreator] XML VMAP result",r),r};t.b=d},function(e,t,n){"use strict";var r=n(99),i=function(e){var t=!0,n=(e.options_.plugins.settings||{}).persistSettings;if(n&&n.autoplayEnabled){var i=new r.a(e,n),o=i.isAutoplayEnabled();t="boolean"!=typeof o||o}return t};t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(2),s=n(20),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[2];r(this,e),this.sendEventClickTroughtAdSource=function(){n.sendCerebroadEvent("impression",n.adStreamInfo)},this.player=t,this.cid=i.cid||null,this.streamInfo=s,this.adStreamInfo=null,this.createPageScript(),this.registerControlEvents(),this.onePercentTime=null,this.mainSourceProgressControl={firstQuartile:!1,midpoint:!1,thirdQuartile:!1},this.adSourceProgressControl=this.createAdProgressObject(),this.createCelebroadObject=this.createCelebroadObject.bind(this),null===this.cid&&a.a.error("[Cerebroad] CID not set!"),o.a.celebroadManager=this}return u(e,[{key:"sendCerebroadEvent",value:function(e,t){o.a.Cerebrolytics?(o.a.Cerebrolytics(this.createCelebroadObject(e,t)),n.i(a.a)("[Cerebroad] send event "+e)):a.a.error("[Cerebroad] Error! Celebrolytics global function not found.")}},{key:"createCelebroadObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cid:this.cid,customId:t,event:""+e,eventOffset:this.player.currentTime()}}},{key:"createAdProgressObject",value:function(){return{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1}}},{key:"registerControlEvents",value:function(){var e=this;this.player.on(s.a.PLAY,function(t){t.firstPlay&&(e.sendCerebroadEvent("start",e.streamInfo),e.onePercentTime=e.player.duration()/100)}),this.player.one(s.a.COMPLETE,function(){e.sendCerebroadEvent("complete",e.streamInfo)}),this.player.on("ott-playertick",function(){var t=Math.round(e.player.currentTime()/e.onePercentTime);25!==t||e.mainSourceProgressControl.firstQuartile||e.mainSourceProgressControl.midpoint||e.mainSourceProgressControl.thirdQuartile||(e.mainSourceProgressControl.firstQuartile=!0,e.sendCerebroadEvent("firstQuartile",e.streamInfo)),50!==t||e.mainSourceProgressControl.midpoint||e.mainSourceProgressControl.thirdQuartile||(e.mainSourceProgressControl.midpoint=!0,e.sendCerebroadEvent("midpoint",e.streamInfo)),75!==t||e.mainSourceProgressControl.thirdQuartile||(e.mainSourceProgressControl.thirdQuartile=!0,e.sendCerebroadEvent("thirdQuartile",e.streamInfo))}),this.player.one(s.a.COMPLETE,function(){e.sendCerebroadEvent("complete",e.streamInfo)}),this.player.on(s.a.AD_PLAY,function(t){e.adStreamInfo=t.adStreamInfo,n.i(a.a)("[Cerebroad] update adStreamInfo",e.adStreamInfo,t),e.adSourceProgressControl.start||(e.sendCerebroadEvent("start",e.adStreamInfo),e.adSourceProgressControl.start=!0,e.player.on(s.a.AD_FIRSTQUARTILE,function(){e.sendCerebroadEvent("firstQuartile",e.adStreamInfo),e.adSourceProgressControl.firstQuartile=!0}),e.player.on(s.a.AD_MIDPOINT,function(){e.sendCerebroadEvent("midpoint",e.adStreamInfo),e.adSourceProgressControl.midpoint=!0}),e.player.on(s.a.AD_THIRDQUARTILE,function(){e.sendCerebroadEvent("thirdQuartile",e.adStreamInfo),e.adSourceProgressControl.thirdQuartile=!0}),e.player.on("linearclickthrough",e.sendEventClickTroughtAdSource))}),this.player.on(s.a.ADS_BLOCK_END,function(){e.sendCerebroadEvent("complete",e.adStreamInfo),e.adSourceProgressControl=e.createAdProgressObject(),e.player.off("linearclickthrough",e.sendEventClickTroughtAdSource)}),this.player.on(s.a.SKIP,function(){e.sendCerebroadEvent("skip",e.adStreamInfo),e.adSourceProgressControl=e.createAdProgressObject()})}},{key:"createPageScript",value:function(){var e=i.document.createElement("script");e.innerHTML="(function(a,b,c,d,e,f,g){ a['CerebrolyticsObject']=e, a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments[0])},f=b.createElement(c),g=b.getElementsByTagName(c)[0];f.async=1;f.src=d;g.parentNode.insertBefore(f,g)})(window, document,'script', '//i.cerebroad.com/custom/lib.js', 'Cerebrolytics')",i.document.body.appendChild(e),n.i(a.a)("[Cerebroad] - created page script")}}]),e}();t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=n(1),a=(n.n(o),n(2)),s=n(9),u=n(20),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){return e.width+"x"+e.height},d=function(e){return 0===e?-1:Math.round(100*e)},p=function(e){var t=e.streamInfo,n=e.videoInfo,r=e.duration,o=e.deviceType;if(void 0===t)return void a.a.error(s.F.code,s.F.message,"streamInfo");var u=t.programID,l=i(t,["programID"]);if(void 0===u)return void a.a.error(s.F.code,s.F.message,"programID");var c=["programName","programType"],f=void 0;if(c.forEach(function(e){void 0===l[e]&&(f=e)}),f)return void a.a.error(s.F.code,s.F.message,f);if(void 0===l.programDuration){if(void 0===r)return void a.a.error(s.F.code,s.F.message,"programDuration");l.programDuration=r}l.volume=d(n.volume),l.deviceType=o,this.newProgram(u,l)},h=function(e){var t=e.adStreamInfo,n=e.videoInfo;if(void 0===t)return void a.a.error(s.G.code,s.G.message,"adStreamInfo");var r=t.adID,o=i(t,["adID"]);if(void 0===r)return void a.a.error(s.G.code,s.G.message,"adID");o.quality=n.quality,o.resolution=f(n),o.volume=d(n.volume),this.newAd(r,o)},y=function(e,t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime;void 0!==r?null!==r&&this[e](n.programID,i,r.adID):this[e](n.programID,i)},v=function(e,t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime;this[e](n.programID,i,r.adID)},g=function(){function e(t,u,c,p){if(r(this,e),void 0===o.GemiusPlayer)return void a.a.error(s.H.code,s.H.message);var h=u.playerID,y=u.accountID,v=i(u,["playerID","accountID"]);void 0===h&&a.a.error(s.I.code,s.I.message,"playerID"),void 0===y&&a.a.error(s.I.code,s.I.message,"accountID");var g=l({resolution:f(c),volume:d(p)},v);this.player=t,this.gemiusObject=new o.GemiusPlayer(h,y,g),this.watching=!1,n.i(a.a)("[GEMIUS] Object initialized.",h,y,g),this.registerEvents()}return c(e,[{key:"registerEvents",value:function(){var e=this;this.player.on(u.a.PROGRAM_LOADED,p.bind(this)),this.player.on(u.a.AD_LOADED,h.bind(this)),this.player.on(u.a.PLAY,function(t){var n=t.streamInfo,r=t.currentTime,i=t.videoInfo,o=t.autoplay,a=t.partID;e.programEventPlay(n.programID,r,{autoPlay:o,partID:a,resolution:f(i),volume:d(i.volume)})}),this.player.on(u.a.AD_PLAY,function(t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime,o=t.videoInfo,a=t.autoplay,s=t.adPosition,u=t.breakSize;e.adEventPlay(n.programID,i,{autoPlay:a,adPosition:s,breakSize:u,resolution:f(o),volume:d(o.volume)},r.adID)}),this.player.on(u.a.STOP,y.bind(this,"eventStop")),this.player.on(u.a.PAUSE,y.bind(this,"eventPause")),this.player.on(u.a.AD_PAUSE,v.bind(this,"eventPause")),this.player.on(u.a.BUFFER,y.bind(this,"eventBuffer")),this.player.on(u.a.BREAK,y.bind(this,"programEventBreak")),this.player.on(u.a.SEEK,y.bind(this,"eventSeek")),this.player.on(u.a.ENDED,y.bind(this,"eventComplete")),this.player.on(u.a.CLOSE,y.bind(this,"eventClose")),this.player.on(u.a.SKIP,v.bind(this,"eventSkip")),this.player.on(u.a.NEXT,function(t){var n=t.streamInfo,r=t.currentTime,i=t.listID;e.programEventNext(n.programID,r,{listID:i})}),this.player.on(u.a.PREV,function(t){var n=t.streamInfo,r=t.currentTime,i=t.listID;e.programEventPrev(n.programID,r,{listID:i})}),this.player.on(u.a.PLAYER_RESOLUTION_CHANGED,function(t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime,o=t.resolution;e.eventChngRes(n.programID,i,{resolution:f(o)},void 0!==r?r.adID:void 0)}),this.player.on(u.a.VOLUME_CHANGED,function(t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime,o=t.volume;e.eventChngVol(n.programID,i,{volume:d(o)},void 0!==r?r.adID:void 0)}),this.player.on(u.a.QUALITY_CHANGED,function(t){var n=t.streamInfo,r=t.adStreamInfo,i=t.currentTime,o=t.quality;e.eventChngQual(n.programID,i,{quality:o},void 0!==r?r.adID:void 0)})}},{key:"startWatching",value:function(){this.watching=!0}},{key:"newProgram",value:function(e,t){this.gemiusObject.newProgram(e,t),n.i(a.a)('[GEMIUS] Event "newProgram" has been fired. Parameters: ',e,t)}},{key:"newAd",value:function(e,t){this.gemiusObject.newAd(e,t),n.i(a.a)('[GEMIUS] Event "newAd" has been fired. Parameters: ',e,t)}},{key:"event",value:function(e,t,r,i,o){void 0===o?(this.gemiusObject.programEvent(e,t,r,i),n.i(a.a)('[GEMIUS] Event "programEvent" has been fired. Parameters: ',e,t,r,i)):(this.gemiusObject.adEvent(e,o,t,r,i),n.i(a.a)('[GEMIUS] Event "adEvent" has been fired. Parameters: ',e,o,t,r,i))}},{key:"programEventPlay",value:function(e,t,n){this.event(e,t,"play",n)}},{key:"adEventPlay",value:function(e,t,n,r){this.event(e,t,"play",n,r)}},{key:"eventStop",value:function(e,t,n){this.event(e,t,"stop",null,n)}},{key:"eventPause",value:function(e,t,n){this.event(e,t,"pause",null,n)}},{key:"eventBuffer",value:function(e,t,n){this.event(e,t,"buffer",null,n)}},{key:"programEventBreak",value:function(e,t){this.event(e,t,"break",null)}},{key:"eventSeek",value:function(e,t,n){this.event(e,t,"seek",null,n)}},{key:"eventComplete",value:function(e,t,n){this.event(e,t,"complete",null,n)}},{key:"eventClose",value:function(e,t,n){this.event(e,t,"close",null,n)}},{key:"eventSkip",value:function(e,t,n){this.event(e,t,"skip",null,n)}},{key:"programEventNext",value:function(e,t,n){this.event(e,t,"next",n)}},{key:"programEventPrev",value:function(e,t,n){this.event(e,t,"prev",n)}},{key:"eventChngRes",value:function(e,t,n,r){this.event(e,t,"chngRes",n,r)}},{key:"eventChngVol",value:function(e,t,n,r){this.event(e,t,"chngVol",n,r)}},{key:"eventChngQual",value:function(e,t,n,r){this.event(e,t,"chngQual",n,r)}}]),e}();t.a=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(20),s=n(56),u=n(152),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),u={videoStart:"videoStart",videoPlay:"videoResume",videoPause:"videoPause",videoFinish:"videoFinish"};return a.event=n.i(s.a)(!1,u,o.eventNames),a.registerEvents(),a}return o(t,e),l(t,[{key:"registerEvents",value:function(){function e(e){e.firstPlay?r.push({event:r.event.videoStart,videoName:e.streamInfo.programName,videoId:e.streamInfo.programID}):r.push({event:r.event.videoPlay,videoName:e.streamInfo.programName,videoId:e.streamInfo.programID,videoResumeTime:e.currentTime})}function t(e){r.push({event:r.event.videoPause,videoName:e.streamInfo.programName,videoId:e.streamInfo.programID,videoPauseTime:e.currentTime,videoLengthPlayed:e.lengthPlayed})}function n(e){r.push({event:r.event.videoFinish,videoName:e.streamInfo.programName,videoId:e.streamInfo.programID,videoLengthPlayed:e.lengthPlayed})}var r=this;this.player.on(a.a.PLAY,e),this.player.on(a.a.PAUSE,t),this.player.on(a.a.ENDED,n)}}]),t}(u.a);t.a=c},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(20),u=n(56),l=n(152),c=n(275),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s={videoPlay:"video.play",videoAutoplay:"video.autoplay",videoPause:"video.pause",videoResume:"video.resume",videoSeeking:"video.seeking",videoBuffering:"video.buffering",videoEnd:"video.end",videoFullscreenOn:"video.fullscreen.on",videoFullscreenOff:"video.fullscreen.off",videoError:"video.error",videoInventoryUpdate:"video.inventory.update",videoPercentProgress:"video.progress",adClick:"video.ads.click",adImpression:"video.ads.impression",adSkip:"video.ads.skip",adPlay:"video.ads.play",adPause:"video.ads.pause",adEnd:"video.ads.end",adHalf:"video.ads.half"};return a.event=n.i(u.a)(!1,s,r.eventNames),a.registerEvents(),a}return a(t,e),d(t,[{key:"getData",value:function(e){var t={video:{player:{type:e.streamInfo.playerType},content:{name:e.streamInfo.programName,id:e.streamInfo.videoID,genre:e.streamInfo.typology,show:e.streamInfo.series,season:e.streamInfo.seasonNumber,episode:e.streamInfo.episode,video_type:e.streamInfo.videoType},time:{length:e.streamInfo.programDuration,position:e.currentTime,played:e.lengthPlayed||0,percent:n.i(c.a)(this.player.duration(),this.player.currentTime())},inventory:{name:e.inventory?e.inventory.name:null,ads_count:e.inventory?e.inventory.ads_count:null}},ads:[]};if(e.adStreamInfo){var i=e.adStreamInfo,o=i.adDuration,a=r(i,["adDuration"]);t.ads.push(f({},a,{time:{position:Math.floor(this.player.currentTime()),length:Math.floor(o)},type:"linear",kind:"video"}))}return e.videoInfo&&(t.quality=e.videoInfo.quality),e.error&&(t.error=e.error),t}},{key:"registerEvents",value:function(){function e(e){e.firstPlay?g.push(f({event:g.event.videoPlay},g.getData(e))):g.push(f({event:g.event.videoResume},g.getData(e)))}function t(e){g.push(f({event:g.event.adPlay},g.getData(e)))}function n(e){g.push(f({event:g.event.adHalf},g.getData(e)))}function r(e){g.push(f({event:g.event.adPause},g.getData(e)))}function i(e){g.push(f({event:g.event.videoPause},g.getData(e)))}function o(e){g.push(f({event:g.event.adEnd},g.getData(e)))}function a(e){g.push(f({event:g.event.videoEnd},g.getData(e)))}function u(e){g.push(f({event:g.event.adSkip},g.getData(e)))}function l(e){e.isFullscreen?g.push(f({event:g.event.videoFullscreenOn},g.getData(e))):g.push(f({event:g.event.videoFullscreenOff},g.getData(e)))}function c(e){g.push(f({event:g.event.videoBuffering},g.getData(e)))}function d(e){g.push(f({event:g.event.videoSeeking},g.getData(e)))}function p(e){g.push(f({event:g.event.adImpression},g.getData(e)))}function h(e){g.push(f({event:g.event.adClick},g.getData(e)))}function y(e){g.push(f({event:g.event.videoInventoryUpdate},g.getData(e)))}function v(e){g.push({event:g.event.videoPercentProgress,video:{time:{position:e.seconds,percent:e.percent}}})}var g=this;this.player.on(s.a.PLAY,e),this.player.on(s.a.PAUSE,i),this.player.on(s.a.ENDED,a),this.player.on(s.a.FULLSCREEN_CHANGED,l),this.player.on(s.a.BUFFER,c),this.player.on(s.a.SEEK,d),this.player.on(s.a.PLAYED_PERCENTUAL,v),this.player.on(s.a.AD_LOADED,p),this.player.on(s.a.ADS_BLOCK_START,y),this.player.on(s.a.AD_PLAY,t),this.player.on(s.a.AD_PAUSE,r),this.player.on(s.a.AD_COMPLETE,o),this.player.on(s.a.AD_MIDPOINT,n),this.player.on(s.a.SKIP,u),this.player.on(s.a.LINEAR_CLICK_THROUGH,h)}}]),t}(l.a);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.gtmObjName="dataLayer",this.player=t,this.watching=!1,window[this.gtmObjName]=window[this.gtmObjName]||[]}return i(e,[{key:"startWatching",value:function(){this.watching=!0}},{key:"push",value:function(e){this.watching&&window[this.gtmObjName].push(e)}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(16)),u=n.n(s),l=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getPlugin("plugin"),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.opts=n,o.measuringType="base-default",o.registeredGlobalWindowListeners=[],o.registerEvents(),o}return o(t,e),c(t,[{key:"init",value:function(){l.a.error("[measuring-"+this.measuringType+"] has not been defined init method")}},{key:"registerEvents",value:function(){l.a.error("[measuring-"+this.measuringType+"] has not been defined registered events")}},{key:"getCurrentTime",value:function(){return Math.round(this.player.currentTime())}},{key:"log",value:function(e){n.i(l.a)("[measuring-"+this.measuringType+"] "+e)}},{key:"logTriggeredEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.i(l.a)("[measuring-"+this.measuringType+"] trigger event "+e,t)}},{key:"triggerEvent",value:function(e,t){(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.logTriggeredEvent(e,t),this.player.trigger(t)}},{key:"getDeviceType",value:function(){var e="PC";return u.a.mobile()?e="mobil":u.a.tablet()&&(e="tablet"),e}},{key:"registerGlobalWindowListener",value:function(e,t){a.window.addEventListener(e,t),this.registeredGlobalWindowListeners.push({event:e,method:t})}},{key:"_unregisterGlobalWindowListers",value:function(){this.log("unregister global window events"),this.registeredGlobalWindowListeners.forEach(function(e){a.window.removeEventListener(e.event,e.method)})}},{key:"dispose",value:function(){this.log("plugin is being disposed"),this._unregisterGlobalWindowListers(),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(d);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(9),a=n(20),s=n(39),u=n(72),l=n.n(u),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function e(t,n){r(this,e),this.player=t,this.config=n,this.logErrors=n.logErrors||null,this.ignoreErrors=n.ignoreErrors||[],this.handleProgramLoaded=this.handleProgramLoaded.bind(this),this.handleAdLoaded=this.handleAdLoaded.bind(this),this.handleCustomError=this.handleCustomError.bind(this),this.init()}return f(e,[{key:"init",value:function(){var e=this;if(!this.config.property_key)return void i.a.error(o.D.code,o.D.message);var t=l.a.get("mux_mea_id");if(!(null!=this.config.activationProbability&&Math.random()>this.config.activationProbability&&1!=n.i(i.b)())||t){var r={data:c({property_key:this.config.property_key,player_name:"OTT Video Player",player_version:"2.3.21",page_type:this.config.embedded?"iframe":"watchpage"},this.getVideoInfo(n.i(s.a)(this.player)))};!0===this.config.quality_measurement_switch&&(r.quality_measurement_switch=this.config.quality_measurement_switch),n.i(i.b)()&&(r.debug=!0),this.config.data&&Object.keys(this.config.data).forEach(function(t){r.data[t]=e.config.data[t]}),this.player.mux(r),this.player.on([a.a.AD_PLAY],function(t){e.emitAdEvent("adplay",t)}),this.player.on([a.a.AD_TIMEUPDATE],function(t){e.emitAdEvent("adplaying",t)}),this.player.on(a.a.AD_PAUSE,function(t){e.emitAdEvent("adpause",t)}),this.player.on(a.a.AD_COMPLETE,function(t){e.emitAdEvent("adended",t)}),this.player.on(a.a.AD_ERROR,function(t){e.emitAdEvent("aderror",t)}),this.player.on("adrequest",function(t){e.player.mux.emit("adrequest",{ad_tag_url:t.vastUrl})}),this.player.on("adresponse",function(t){e.player.mux.emit("adresponse",{ad_tag_url:t.vastUrl})}),this.player.on("ott-custom-error",this.handleCustomError)}}},{key:"emitAdEvent",value:function(e,t){var n=t.adStreamInfo;if(n){var r={};r.ad_asset_url=this.player.currentSrc(),n.id&&(r.ad_id=n.adID),n.title&&(r.ad_title=n.adName),this.player.mux.emit(e,r)}}},{key:"getVideoInfo",value:function(e){var t={video_id:e.videoId||e.programID,video_title:e.programName,video_stream_type:-1===e.programDuration?"live":"vod",experiment_name:"video"};return-1!==e.programDuration&&(t.video_duration=1e3*e.programDuration),e.series&&(t.video_series=e.series),e.videoType&&(t.video_content_type=e.videoType),t}},{key:"handleProgramLoaded",value:function(e){e.streamInfo;this.player.mux.emit("videochange",this.getVideoInfo(muxInfoObject))}},{key:"handleAdLoaded",value:function(e){var t=e.adStreamInfo,n={video_id:t.adID,video_title:t.adName,video_stream_type:"vod",experiment_name:"ad"};-1!==t.adDuration&&(n.video_duration=1e3*t.adDuration),t.adType&&(n.video_content_type=t.adType),this.player.mux.emit("videochange",n)}},{key:"handleCustomError",value:function(e){var t=e.code,n=e.message;null!=this.logErrors&&-1==this.logErrors.indexOf(t)||-1!=this.ignoreErrors.indexOf(t)||this.player.mux.emit("error",{player_error_code:t,player_error_message:n})}}]),e}();t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){this.playheadPositionEnabled=!0,this.endReached=!1,this.loadContentDataEnabled=!1,this.sdkInstance.ggPM("loadMetadata",this.contentMetadata),n.i(P.a)("[NIELSEN] SDK Event content loadMetadata called Data: ",this.contentMetadata),this.adEnded&&(this.loadMetadataAfterAdCalled=!0)}function o(e){e.firstPlay&&(this.player.on(O.a.PAUSE,this.startPauseCounting),this.player.on("seeking",this.onSeeking)),this.stopPauseCounting(),this.loadContentDataEnabled&&(this.playheadPositionEnabled=!0,this.endReached=!1,this.loadContentDataEnabled=!1,this.adEnded&&!this.loadMetadataAfterAdCalled&&(this.sdkInstance.ggPM("loadMetadata",this.contentMetadata),n.i(P.a)("[NIELSEN] SDK Event content loadMetadata (after play) called. Data: ",this.contentMetadata),this.loadMetadataAfterAdCalled=!0),this.seeked=!1,this.skipped=!1)}function a(e){e.firstPlay&&(this.player.on(O.a.PAUSE,this.startPauseCounting),this.player.on("seeking",this.onSeeking)),this.stopPauseCounting(),this.loadContentDataEnabled&&(this.playheadPositionEnabled=!0,this.endReached=!1,this.loadContentDataEnabled=!1,this.adEnded&&!this.loadMetadataAfterAdCalled&&(this.sdkInstance.ggPM("loadMetadata",this.contentMetadata),n.i(P.a)("[NIELSEN] SDK Event content loadMetadata (after play) called. Data: ",this.contentMetadata),this.loadMetadataAfterAdCalled=!0),this.skipped=!1)}function s(){this.seeked=!0,this.pausedTime=0}function u(e){var t=e.adStreamInfo;this.playheadPositionEnabled=!0,this.loadContentDataEnabled||this.endReached||!this.stopEventAvailable||n.i(S.b)(this.player)||(this.loadContentDataEnabled=!0,(this.prevPosition>0||"preroll"!==this.player.ads.adType)&&(this.sdkInstance.ggPM("stop",this.prevPosition),n.i(P.a)("[NIELSEN] SDK Event stop called (Content). Time: ",this.prevPosition))),this.seeked=!1,this.isAdLoaded=!0,this.adEnded=!1,this.sdkInstance.ggPM("loadMetadata",this.getAdObject(t)),n.i(P.a)("[NIELSEN] SDK Event ad loadMetadata called. Data: ",this.getAdObject(t))}function l(e){if(this.skipped=!0,this.playheadPositionEnabled=!1,this.loadContentDataEnabled=!0,!this.stopCalled){var t=e.currentTime||Math.floor(this.player.currentTimeOfActiveMedia());this.sdkInstance.ggPM("stop",t),n.i(P.a)("[NIELSEN] SDK Event ad stop called (Skip). Time: ",t),this.stopCalled=!0,this.adEnded=!0}}function c(e){if(this.playheadPositionEnabled=!1,this.loadContentDataEnabled=!0,this.stopCalled=!0,!this.adEnded){var t=e.currentTime||Math.floor(Math.floor(this.player.currentTimeOfActiveMedia()));this.sdkInstance.ggPM("stop",t),n.i(P.a)("[NIELSEN] SDK Event ad stop (ended). Duration: ",t)}this.adEnded=!0}function f(){if(!this.endReached){var e=Math.floor(Math.floor(this.player.currentTimeOfActiveMedia()));this.playheadPositionEnabled=!1,this.endReached=!0,this.sdkInstance.ggPM("end",Math.floor(e)),n.i(P.a)("[NIELSEN] SDK Event end called. Duration: ",Math.floor(e))}}function d(e){var t=e.currentTime;this.sdkInstance.ggPM("end",Math.floor(t)),n.i(P.a)("[NIELSEN] SDK Event end called. Duration: ",Math.floor(t))}function p(e){4===e.error.code&&n.i(A.a)(this.player)&&(this.sdkInstance.ggPM("stop",null),n.i(P.a)("[NIELSEN] SDK Event ad stop (error)"),this.stopCalled=!0,this.adEnded=!0)}function h(){var e=this;this.onEnded,this.player.one("play",function(){e.endReached&&_.a.location.reload()}),this.player.one("seeking",function(){e.endReached&&_.a.location.reload()}),n.i(P.a)("[NIELSEN] Player event complete called. Reload for the next play event is registered.")}function y(e){return Math.floor(Date.now()/1e3)-e}function v(e){this.seeked||this.skipped||this.player.currentTimeOfActiveMedia()===this.player.durationOfActiveMedia()||(this.sdkInstance.ggPM("stop",e),n.i(P.a)("[NIELSEN] SDK Event stop called (Pause). Time: ",e))}function g(e){var t=this,r=e.currentTime||Math.floor(this.player.currentTimeOfActiveMedia());if(r)return void v.call(this,r);0!==r&&this.player.setTimeout(function(){t.player.isInPausedState()&&(n.i(S.b)(t.player)&&!n.i(A.a)(t.player)&&(r=y(t.pausedTime)),v.call(t,r))},1e3)}function m(e){var t=this;this.loadContentDataEnabled||this.endReached||!function(n){return"number"==typeof n&&n!==e&&e>0&&!t.player.scrubbing()}(this.prevPosition)||(this.prevPosition=e,this.isAdLoaded=!1,function(r){if(t.playheadPositionEnabled){t.stopEventAvailable=!0;var i=e;r&&(i=y(t.pausedTime)),t.sdkInstance.ggPM("setPlayheadPosition",i),n.i(P.a)("[NIELSEN] SDK Event setplayheadposition called",i),t.stopCalled=!1,t.loadMetadataAfterAdCalled=!1}}(n.i(S.a)(this.player))),this.seeked=!1}function b(e){var t=this;(function(n){return"number"==typeof n&&n!==e&&e>0&&!t.player.scrubbing()})(this.prevAdPosition)&&this.isAdLoaded&&(this.prevAdPosition=e,function(r){if(t.playheadPositionEnabled){t.stopEventAvailable=!0;var i=e;r&&(i=y(t.pausedTime)),t.sdkInstance.ggPM("setPlayheadPosition",i),n.i(P.a)("[NIELSEN] SDK Event ad setplayheadposition called",i),t.stopCalled=!1,t.loadMetadataAfterAdCalled=!1}}()),this.adEnded=!1}function k(){var e=Math.floor(this.player.currentTimeOfActiveMedia());m.call(this,e)}function w(e){var t=Math.floor(e.currentTime);b.call(this,t)}function E(){var e=Math.floor(this.player.currentTimeOfActiveMedia());if(n.i(A.a)(this.player)&&!this.adEnded&&(this.playheadPositionEnabled=!1,this.stopCalled||(this.sdkInstance.ggPM("stop",e),n.i(P.a)("[NIELSEN] SDK Event ad stop (ended). Time: ",e),this.stopCalled=!0,this.adEnded=!0)),!this.endReached){this.playheadPositionEnabled=!1,this.endReached=!0;var t=e;n.i(S.b)(this.player)&&(t=y(this.pausedTime)),this.sdkInstance.ggPM("end",t),n.i(P.a)("[NIELSEN] SDK Event end called. Time: ",t)}}var T=n(1),_=n.n(T),P=n(2),C=n(9),A=n(14),O=n(20),S=n(101),j=n(157),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(){function e(t,i,o){if(r(this,e),!T.NOLBUNDLE)return void P.a.error(C.E.code,C.E.message);var a=i.apid;if(delete i.apid,!a)return void P.a.error(C.E.code,C.E.message);var s={};n.i(P.b)()&&(s.nol_sdkDebug="debug"),this.sdkInstance=T.NOLBUNDLE.nlsQ(a,"Player Name",s),this.player=t,this.contentMetadata=this.getMetadata(i,o),this.loadContentDataEnabled=!0,this.endReached=!1,this.stopEventAvailable=!1,this.isAdLoaded=!1,this.playheadPositionEnabled=!1,this.prevPosition=0,this.prevAdPosition=0,this.pausedTime=0,this.stopCalled=!1,this.loadMetadataAfterAdCalled=!1,this.adEnded=!1,this.bindFunctions(),this.registerEvents()}return x(e,[{key:"stopPauseCounting",value:function(){this.player.clearInterval(this.secondsInterval)}},{key:"increment",value:function(){this.pausedTime+=1}},{key:"startPauseCounting",value:function(){var e=this;this.secondsInterval=this.player.setInterval(function(){return e.increment()},1e3)}},{key:"bindFunctions",value:function(){this.onProgramLoaded=i.bind(this),this.onPlay=o.bind(this),this.onAdPlay=a.bind(this),this.startPauseCounting=this.startPauseCounting.bind(this),this.onSeeking=s.bind(this),this.onAdLoaded=u.bind(this),this.onSkip=l.bind(this),this.onEnded=f.bind(this),this.onAdEnded=c.bind(this),this.onComplete=h.bind(this),this.onTimeUpdate=k.bind(this),this.onAdTimeUpdate=w.bind(this),this.onBeforeunload=E.bind(this),this.onPause=g.bind(this),this.onError=p.bind(this),this.onContentEnd=d.bind(this),this.disposeEvents=this.disposeEvents.bind(this)}},{key:"getMetadata",value:function(e,t){var n=I({length:-1===t.programDuration||this.player.duration()===1/0?86400:t.programDuration,assetid:t.videoID,title:t.programName},e);return t.series&&(n.program=t.series),n}},{key:"getAdObject",value:function(e){var t="midrolls"===e.adType?"midroll":e.adType;return{length:Math.floor(e.adDuration),assetid:e.adID,title:e.adName,type:t,nol_c4:"p4,"+(e.asmeaCode||""),nol_c5:"p5,",nol_c6:"p6,"+t}}},{key:"registerEvents",value:function(){this.player.on(O.a.PROGRAM_LOADED,this.onProgramLoaded),this.player.on(O.a.PLAY,this.onPlay),this.player.on(O.a.AD_PLAY,this.onAdPlay),this.player.on(O.a.AD_LOADED,this.onAdLoaded),this.player.on(O.a.SKIP,this.onSkip),this.player.on(O.a.ENDED,this.onEnded),this.player.on(O.a.AD_COMPLETE,this.onAdEnded),this.player.on(O.a.ERROR,this.onError),this.player.on(O.a.COMPLETE,this.onComplete),this.player.on([O.a.PAUSE,O.a.AD_PAUSE],this.onPause),this.player.on(O.a.TIMEUPDATE,this.onTimeUpdate),this.player.on(O.a.AD_TIMEUPDATE,this.onAdTimeUpdate),this.player.on("vodcontentend",this.onContentEnd),_.a.addEventListener("beforeunload",this.onBeforeunload),_.a.addEventListener("pagehide",this.onBeforeunload),this.player.on(j.b,this.disposeEvents)}},{key:"disposeEvents",value:function(){this.player.off(O.a.PROGRAM_LOADED,this.onProgramLoaded),this.player.off(O.a.PLAY,this.onPlay),this.player.off(O.a.AD_PLAY,this.onAdPlay),this.player.off(O.a.AD_LOADED,this.onAdLoaded),this.player.off(O.a.SKIP,this.onSkip),this.player.off(O.a.ENDED,this.onEnded),this.player.off(O.a.AD_COMPLETE,this.onAdEnded),this.player.off(O.a.ERROR,this.onError),this.player.off(O.a.COMPLETE,this.onComplete),this.player.off([O.a.PAUSE,O.a.AD_PAUSE],this.onPause),this.player.off(O.a.TIMEUPDATE,this.onTimeUpdate),this.player.off(O.a.AD_TIMEUPDATE,this.onAdTimeUpdate),_.a.removeEventListener("beforeunload",this.onBeforeunload),_.a.removeEventListener("pagehide",this.onBeforeunload)}}]),e}();t.a=D},function(e,t,n){"use strict";var r=Object.freeze({CONTENTPAUSEREQUESTED:"ott-ad-contentPauseRequested",CONTENTRESUMEREQUESTED:"ott-ad-contentResumeRequested",CLICK:"ott-ad-click",DURATIONCHANGE:"ott-ad-durationChange",EXPANDEDCHANGED:"ott-ad-expandedChanged",START:"ott-ad-start",IMPRESSION:"ott-ad-impression",PAUSE:"ott-ad-pause",RESUME:"ott-ad-resume",ADPROGRESS:"ott-ad-adProgress",ADBUFFERING:"ott-ad-adBuffering",FIRSTQUARTILE:"ott-ad-firstQuartile",MIDPOINT:"ott-ad-midpoint",THIRDQUARTILE:"ott-ad-thirdQuartile",COMPLETE:"ott-ad-complete",USERCLOSE:"ott-ad-userClose",LINEARCHANGED:"ott-ad-linearChanged",LOADED:"ott-ad-loaded",ADCANPLAY:"ott-ad-adCanPlay",ADMETADATA:"ott-ad-adMetadata",ADBREAKREADY:"ott-ad-adBreakReady",INTERACTION:"ott-ad-interaction",ALLADSCOMPLETED:"ott-ad-allAdsCompleted",SKIP:"ott-ad-skip",SKIPPABLESTATECHANGED:"ott-ad-skippableStateChanged",LOG:"ott-ad-log",VIEWABLE_IMPRESSION:"ott-ad-viewable_impression",VOLUMECHANGE:"ott-ad-volumeChange",MUTE:"ott-ad-mute",ERROR:"ott-ad-error",HASPOSTROLL:"ott-ad-has-postroll"});t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return f});var i=n(1),o=(n.n(i),n(2)),a=n(141),s=n(143),u=n(137),l=n(14),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="ott-before-reset",d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,e),this.resetEvents=["ott-reset-player"],this.player=t,this.resetData=null!=i?i:this.createResetData(n.id,n.tech,n.data)}return c(e,[{key:"init",value:function(){this.player.reset=this,this.registerResetEvents(),n.i(o.a)("[reset] initialization done !")}},{key:"getUserSettings",value:function(){var e={volume:this.player.muted()?0:this.player.volume(),fullscreen:this.player.isFullscreen(),subtitleLang:this.getActiveTextrackLanguage()};return n.i(o.a)("[reset] save user settings on disposed player",e),e}},{key:"restorePlayerSettings",value:function(){this.userSettings.fullscreen&&this.player.requestFullscreen(),this.player.volume(this.userSettings.volume),this.enableTextrackLanguage(this.userSettings.subtitleLang),n.i(o.a)("[reset] user settings from dispose player restored to new instance",this.userSettings)}},{key:"getActiveTextrackLanguage",value:function(){var e=void 0;return this.player.textTracks().tracks_.forEach(function(t){"showing"===t.mode&&(e=t.language)}),e}},{key:"enableTextrackLanguage",value:function(e){this.player.textTracks().tracks_.forEach(function(t){t.language===e&&(t.mode="showing",n.i(o.a)("[reset] restore text track settings lang:",e))})}},{key:"getResetData",value:function(){return this.resetData}},{key:"getResetCounter",value:function(){return this.player.resetData.count}},{key:"createResetData",value:function(e,t,n){return{id:e,tech:t,data:n,el:this.player.el_,count:0}}},{key:"createResetVideoElement",value:function(e){var t=document.createElement("video");t.id=e.id;for(var r=0;r<e.el.attributes.length;r++)t.setAttribute(e.el.attributes[r].name,e.el.attributes[r].value);return t.setAttribute("controls",!0),n.i(o.a)("[reset] create new video element",t),t}},{key:"addVideoElementToDOM",value:function(e,t){e.appendChild(t)}},{key:"registerResetEvents",value:function(){var e=this;this.player.on(this.resetEvents,function(){e.resetPlayer()}),n.i(o.a)("[reset] register events",this.resetEvents)}},{key:"updateResetCounter",value:function(){this.resetData.count++}},{key:"cleanupBeforeReset",value:function(){this.player.dash&&this.player.dash.mediaPlayer.reset(),i.localStorage.clear(),this.player.trigger(f),n.i(l.a)(this.player)&&this.player.trigger("adend")}},{key:"resetPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=this.player.el_.parentElement,c=this.createResetVideoElement(this.resetData),f=this.getUserSettings();null!=t&&(this.resetData.data=t,n.i(o.a)("[reset] added new init data before reset")),null!=r&&(this.resetData.data.startTime=r);var d=void 0;this.player.playlist&&this.player.playlist.getPlaylistData()&&(d=this.player.playlist.getPlaylistData()),this.player.pause(),this.cleanupBeforeReset(),this.player.dispose(),this.addVideoElementToDOM(l,c);var p=n.i(a.a)(this.resetData.id,this.resetData.tech,this.resetData.data);i.window.dispatchEvent(new CustomEvent("ott-reset-updater",{detail:p})),n.i(o.a)("[reset] fired event ott-reset-updater to window"),this.updateResetCounter(this.resetData);var h=new e(p,null,this.resetData);if(h.userSettings=f,h.init(),d){new s.a(p,null,d).init()}n.i(u.a)(p),p.ready(function(){p.reset.restorePlayerSettings(),r&&p.currentTime(r),p.paused()&&p.play()}),n.i(o.a)("[reset] player reset complete !",p),(n.i(o.b)()||-1!==i.window.location.href.search("localhost:8888"))&&(i.window.player=p)}}]),e}();t.a=d},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var r=n(1),i=n.n(r),o=function(e){return!!(e.Hls||{}).supportsNativeHls},a=function(){return!!r.MediaSource},s=function(){return!!(i.a.MSMediaKeys||i.a.MediaKeys&&i.a.navigator&&i.a.navigator.requestMediaKeySystemAccess&&i.a.MediaKeySystemAccess&&i.a.MediaKeySystemAccess.prototype.getConfiguration)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],o=["org.w3.clearkey","com.widevine.alpha","com.microsoft.playready","com.adobe.primetime"],a={};e.length&&(a.audioCapabilities=e),t.length&&(a.videoCapabilities=t);var s=[];return o.forEach(function(e){if(i.a.MSMediaKeys)i.a.MSMediaKeys.isTypeSupported(e)&&s.push(e);else{var t=r.navigator.requestMediaKeySystemAccess(e,[a,{}]).then(function(){s.push(e)}).catch(function(){});n.push(t)}}),Promise.all(n).then(function(){return s})}},function(e,t,n){"use strict";var r=function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,t&&(r.onreadystatechange=t,r.onload=t),n.appendChild(r)};t.a=r},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){var t=e.controlBar.getChild("VolumePanel"),n=t.getChild("VolumeControl"),r=t.getChild("MuteToggle"),i=n.getChild("VolumeBar");r.update(),i.update()},i=function(e,t){if(void 0!==t.muted&&e.muted()!==t.muted&&e.muted(t.muted),e.muted()){var n=function t(){((e.tech_||{}).el_||{}).defaultMuted&&(e.off(["advolumechange","volumechange"],t),((e.tech_||{}).el_||{}).defaultMuted=!1)},i=function t(){e.off(["adloadeddata","loadeddata"],t),e.one(["advolumechange","volumechange"],n)};e.one(["adloadeddata","loadeddata"],i),r(e)}}},function(e,t,n){var r=n(27);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(13),i=n(52),o=n(10);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t,n){var r=n(45);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(15),i=n(13),o=n(66),a=n(10);e.exports=function(e,t,n,s,u){r(t);var l=i(e),c=o(l),f=a(l.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var r=n(15),i=n(6),o=n(171),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){"use strict";var r=n(12).f,i=n(46),o=n(50),a=n(29),s=n(44),u=n(45),l=n(113),c=n(174),f=n(51),d=n(11),p=n(42).fastKey,h=n(54),y=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=r&&u(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[y]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return h(this,t)[y]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(57),i=n(163);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(50),i=n(42).getWeak,o=n(3),a=n(6),s=n(44),u=n(45),l=n(33),c=n(21),f=n(54),d=l(5),p=l(6),h=0,y=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return d(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?y(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?y(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?y(e).set(t,n):r[e._i]=n,e},ufstore:y}},function(e,t,n){"use strict";function r(e,t,n,l,c,f,d,p){for(var h,y,v=c,g=0,m=!!d&&s(d,p,3);g<l;){if(g in n){if(h=m?m(n[g],g,t):n[g],y=!1,o(h)&&(y=h[u],y=void 0!==y?!!y:i(h)),y&&f>0)v=r(e,t,h,a(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=h}v++}g++}return v}var i=n(83),o=n(6),a=n(10),s=n(29),u=n(8)("isConcatSpreadable");e.exports=r},function(e,t,n){e.exports=!n(11)&&!n(5)(function(){return 7!=Object.defineProperty(n(106)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(6),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(115),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),l=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*l(i/u/a)*u*a:(t=(1+a/o)*i,n=t-(t-i),n>s||n!=n?c*(1/0):c*n)}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";var r=n(11),i=n(48),o=n(87),a=n(67),s=n(13),u=n(66),l=Object.assign;e.exports=!l||n(5)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,c=1,f=o.f,d=a.f;l>c;)for(var p,h=u(arguments[c++]),y=f?i(h).concat(f(h)):i(h),v=y.length,g=0;v>g;)p=y[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},function(e,t,n){var r=n(12),i=n(3),o=n(48);e.exports=n(11)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(24),i=n(47).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(21),i=n(24),o=n(80)(!1),a=n(120)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(11),i=n(48),o=n(24),a=n(67).f;e.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),l=u.length,c=0,f=[];l>c;)n=u[c++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},function(e,t,n){var r=n(47),i=n(87),o=n(3),a=n(4).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(4).parseFloat,i=n(60).trim;e.exports=1/r(n(123)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(4).parseInt,i=n(60).trim,o=n(123),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(3),i=n(6),o=n(117);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(10),i=n(122),o=n(34);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,l=void 0===n?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){var r=n(31),i=n(10);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){t.f=n(8)},function(e,t,n){"use strict";var r=n(166),i=n(54);e.exports=n(81)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(118);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(11)&&"g"!=/./g.flags&&n(12).f(RegExp.prototype,"flags",{configurable:!0,get:n(65)})},function(e,t,n){"use strict";var r=n(166),i=n(54);e.exports=n(81)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(4),o=n(33)(0),a=n(18),s=n(42),u=n(178),l=n(168),c=n(6),f=n(54),d=n(54),p=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,y=Object.isExtensible,v=l.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(e){if(c(e)){var t=h(e);return!0===t?v(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,"WeakMap"),e,t)}},b=e.exports=n(81)("WeakMap",g,m,l,!0,!0);d&&p&&(r=l.getConstructor(g,"WeakMap"),u(r.prototype,m),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];a(t,e,function(t,i){if(c(t)&&!y(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t,r){function i(e){return M.from(e)}function o(e){return M.isBuffer(e)||e instanceof F}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?L(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){D=D||n(55),e=e||{};var r=t instanceof D;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(H||(H=n(130).StringDecoder),this.decoder=new H(e.encoding),this.encoding=e.encoding)}function u(e){if(D=D||n(55),!(this instanceof u))return new u(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),N.call(this)}function l(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,y(e,a);else{var s;o||(s=f(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===M.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):m(e,a)):c(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),m(e,t)}function f(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=K?e=K:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function h(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function y(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(V("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?x.nextTick(g,e):g(e))}function g(e){V("emit readable"),e.emit("readable"),_(e)}function m(e,t){t.readingMore||(t.readingMore=!0,x.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(V("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){return function(){var t=e._readableState;V("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&R(e,"data")&&(t.flowing=!0,_(e))}}function w(e){V("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,x.nextTick(T,e,t))}function T(e,t){t.reading||(V("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;for(V("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=C(e,t.buffer,t.decoder),n}function C(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):O(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function O(e,t){var n=M.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function S(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,x.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var x=n(95);e.exports=u;var D,L=n(197);u.ReadableState=s;var R=(n(129).EventEmitter,function(e,t){return e.listeners(t).length}),N=n(201),M=n(96).Buffer,F=t.Uint8Array||function(){},U=n(70);U.inherits=n(61);var B=n(571),V=void 0;V=B&&B.debuglog?B.debuglog("stream"):function(){};var H,z=n(558),W=n(200);U.inherits(u,N);var q=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=W.destroy,u.prototype._undestroy=W.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=M.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return H||(H=n(130).StringDecoder),this._readableState.decoder=new H(e),this._readableState.encoding=e,this};var K=8388608;u.prototype.read=function(e){V("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return V("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):v(this),null;if(0===(e=h(e,t))&&t.ended)return 0===t.length&&S(this),null;var r=t.needReadable;V("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,V("length less than watermark",r)),t.ended||t.reading?(r=!1,V("reading or ended",r)):r&&(V("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=h(n,t)));var i;return i=e>0?P(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&S(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function n(e,t){V("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){V("onend"),e.end()}function o(){V("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",u),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",f),d.removeListener("data",s),g=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){V("ondata"),m=!1,!1!==e.write(t)||m||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==I(p.pipes,e))&&!g&&(V("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,m=!0),d.pause())}function u(t){V("onerror",t),f(),e.removeListener("error",u),0===R(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),f()}function c(){V("onfinish"),e.removeListener("close",l),f()}function f(){V("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,V("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,y=h?i:f;p.endEmitted?x.nextTick(y):d.once("end",y),e.on("unpipe",n);var v=k(d);e.on("drain",v);var g=!1,m=!1;return d.on("data",s),a(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",d),p.flowing||(V("pipe resume"),d.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=I(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},u.prototype.on=function(e,t){var n=N.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):x.nextTick(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(V("resume"),e.flowing=!0,E(this,e)),this},u.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(V("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(V("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){t.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<q.length;o++)e.on(q[o],this.emit.bind(this,q[o]));return this._read=function(t){V("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=P}).call(t,n(25),n(73))},function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var s=n(55),u=n(70);u.inherits=n(61),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(95);e.exports={destroy:r,undestroy:i}},function(e,t,n){e.exports=n(129).EventEmitter},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdId:{value:null,idRegistry:"unknown"},creativeExtensions:[]}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],i=g(e);for(var o in!t.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=w(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING,t)t[o]=k(t[o]);for(var a in i){var s=i[a];"string"==typeof s&&r.push(y(s,t))}return r}function y(e,t){var n=(e=v(e,t)).match(/[^[\]]+(?=])/g);if(!n)return e;var r=n.filter(function(e){return q.indexOf(e)>-1});return 0===r.length?e:v(e,r=r.reduce(function(e,t){return e[t]=-1,e},{}))}function v(e,t){var n=e;for(var r in t){var i=t[r];n=n.replace(new RegExp("(?:\\[|%%)(".concat(r,")(?:\\]|%%)"),"g"),i)}return n}function g(e){return Array.isArray(e)?e.map(function(e){return e&&e.hasOwnProperty("url")?e.url:e}):e}function m(e,t){for(var n=0;n<t.length;n++)if(b(t[n],e))return!0;return!1}function b(e,t){if(e&&t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);return n.length===r.length&&e.id===t.id&&e.url===t.url}return!1}function k(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16))})}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=String(e);return n.length<t?E(0,t-n.length,!1).map(function(){return"0"}).join("")+n:n}function E(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}function T(e){return-1!==["true","TRUE","True","1"].indexOf(e)}function _(e,t){var n=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"companion",required:null,variations:[]}}(t);return n.required=e.getAttribute("required")||null,n.variations=G.childrenByName(e,"Companion").map(function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotID:e.adSlotID||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,xmlEncoded:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(G.parseAttributes(e));t.htmlResources=G.childrenByName(e,"HTMLResource").reduce(function(e,t){var n=G.parseNodeText(t);return n?e.concat(n):e},[]),t.iframeResources=G.childrenByName(e,"IFrameResource").reduce(function(e,t){var n=G.parseNodeText(t);return n?e.concat(n):e},[]),t.staticResources=G.childrenByName(e,"StaticResource").reduce(function(e,t){var n=G.parseNodeText(t);return n?e.concat({url:n,creativeType:t.getAttribute("creativeType")||null}):e},[]),t.altText=G.parseNodeText(G.childByName(e,"AltText"))||null;var n=G.childByName(e,"TrackingEvents");n&&G.childrenByName(n,"Tracking").forEach(function(e){var n=e.getAttribute("event"),r=G.parseNodeText(e);n&&r&&(Array.isArray(t.trackingEvents[n])||(t.trackingEvents[n]=[]),t.trackingEvents[n].push(r))}),t.companionClickTrackingURLTemplates=G.childrenByName(e,"CompanionClickTracking").map(function(e){return{id:e.getAttribute("id")||null,url:G.parseNodeText(e)}}),t.companionClickThroughURLTemplate=G.parseNodeText(G.childByName(e,"CompanionClickThrough"))||null;var r=G.childByName(e,"AdParameters");return r&&(t.adParameters=G.parseNodeText(r),t.xmlEncoded=r.getAttribute("xmlEncoded")||null),t}),n}function P(e){return"linear"===e.type}function C(e,t){var n,r=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);r.duration=G.parseDuration(G.parseNodeText(G.childByName(e,"Duration")));var i=e.getAttribute("skipoffset");if(null==i)r.skipDelay=null;else if("%"===i.charAt(i.length-1)&&-1!==r.duration){var o=parseInt(i,10);r.skipDelay=r.duration*(o/100)}else r.skipDelay=G.parseDuration(i);var a=G.childByName(e,"VideoClicks");if(a){var s=G.childByName(a,"ClickThrough");r.videoClickThroughURLTemplate=s?{id:s.getAttribute("id")||null,url:G.parseNodeText(s)}:null,G.childrenByName(a,"ClickTracking").forEach(function(e){r.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:G.parseNodeText(e)})}),G.childrenByName(a,"CustomClick").forEach(function(e){r.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:G.parseNodeText(e)})})}var u=G.childByName(e,"AdParameters");u&&(r.adParameters=G.parseNodeText(u)),G.childrenByName(e,"TrackingEvents").forEach(function(e){G.childrenByName(e,"Tracking").forEach(function(e){var t=e.getAttribute("event"),i=G.parseNodeText(e);if(t&&i){if("progress"===t){if(!(n=e.getAttribute("offset")))return;t="progress-".concat("%"===n.charAt(n.length-1)?n:Math.round(G.parseDuration(n)))}Array.isArray(r.trackingEvents[t])||(r.trackingEvents[t]=[]),r.trackingEvents[t].push(i)}})}),G.childrenByName(e,"MediaFiles").forEach(function(e){G.childrenByName(e,"MediaFile").forEach(function(e){r.mediaFiles.push(function(e){var t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=G.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);var n=e.getAttribute("scalable");n&&"string"==typeof n&&(t.scalable=G.parseBoolean(n));var r=e.getAttribute("maintainAspectRatio");return r&&"string"==typeof r&&(t.maintainAspectRatio=G.parseBoolean(r)),t}(e))});var t=G.childByName(e,"InteractiveCreativeFile");t&&(r.interactiveCreativeFile=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:G.parseBoolean(e.variableDuration),fileURL:null}}(G.parseAttributes(e));return t.fileURL=G.parseNodeText(e),t}(t));var n=G.childByName(e,"ClosedCaptionFiles");n&&G.childrenByName(n,"ClosedCaptionFile").forEach(function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(G.parseAttributes(e));t.fileURL=G.parseNodeText(e),r.closedCaptionFiles.push(t)});var i,o,a,s=G.childByName(e,"Mezzanine"),u=(i=s,o={},a=!1,["delivery","type","width","height"].forEach(function(e){i&&i.getAttribute(e)?o[e]=i.getAttribute(e):a=!0}),a?null:o);if(u){var l={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};l.id=s.getAttribute("id"),l.fileURL=G.parseNodeText(s),l.delivery=u.delivery,l.codec=s.getAttribute("codec"),l.type=u.type,l.width=parseInt(u.width,10),l.height=parseInt(u.height,10),l.fileSize=parseInt(s.getAttribute("fileSize"),10),l.mediaType=s.getAttribute("mediaType")||"2D",r.mezzanine=l}});var l=G.childByName(e,"Icons");return l&&G.childrenByName(l,"Icon").forEach(function(e){r.icons.push(function(e){var t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=G.parseDuration(e.getAttribute("offset")),t.duration=G.parseDuration(e.getAttribute("duration")),G.childrenByName(e,"HTMLResource").forEach(function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=G.parseNodeText(e)}),G.childrenByName(e,"IFrameResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=G.parseNodeText(e)}),G.childrenByName(e,"StaticResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=G.parseNodeText(e)});var n=G.childByName(e,"IconClicks");return n&&(t.iconClickThroughURLTemplate=G.parseNodeText(G.childByName(n,"IconClickThrough")),G.childrenByName(n,"IconClickTracking").forEach(function(e){t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:G.parseNodeText(e)})})),t.iconViewTrackingURLTemplate=G.parseNodeText(G.childByName(e,"IconViewTracking")),t}(e))}),r}function A(e,t){var n=function(){var e=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{id:e.id,adId:e.adId,sequence:e.sequence,apiFramework:e.apiFramework,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return G.childrenByName(e,"TrackingEvents").forEach(function(e){var t,r;G.childrenByName(e,"Tracking").forEach(function(e){t=e.getAttribute("event"),r=G.parseNodeText(e),t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))})}),G.childrenByName(e,"NonLinear").forEach(function(e){var t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=G.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=G.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=G.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),G.childrenByName(e,"HTMLResource").forEach(function(e){t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=G.parseNodeText(e)}),G.childrenByName(e,"IFrameResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.iframeResource=G.parseNodeText(e)}),G.childrenByName(e,"StaticResource").forEach(function(e){t.type=e.getAttribute("creativeType")||0,t.staticResource=G.parseNodeText(e)});var r=G.childByName(e,"AdParameters");r&&(t.adParameters=G.parseNodeText(r)),t.nonlinearClickThroughURLTemplate=G.parseNodeText(G.childByName(e,"NonLinearClickThrough")),G.childrenByName(e,"NonLinearClickTracking").forEach(function(e){t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:G.parseNodeText(e)})}),n.variations.push(t)}),n}function O(e){var t=[];return e.forEach(function(e){var n=S(e);n&&t.push(n)}),t}function S(e){if("#comment"===e.nodeName)return null;var t,n={name:null,value:null,attributes:{},children:[]},r=e.attributes,i=e.childNodes;if(n.name=e.nodeName,e.attributes)for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a.nodeName&&a.nodeValue&&(n.attributes[a.nodeName]=a.nodeValue)}for(var s in i)if(i.hasOwnProperty(s)){var u=S(i[s]);u&&n.children.push(u)}if(0===n.children.length||1===n.children.length&&["#cdata-section","#text"].indexOf(n.children[0].name)>=0){var l=G.parseNodeText(e);""!==l&&(n.value=l),n.children=[]}return null===(t=n).value&&0===Object.keys(t.attributes).length&&0===t.children.length?null:n}function j(e){var t=[];return e.forEach(function(e){var n,r,i={id:e.getAttribute("id")||null,adId:I(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},o=G.childByName(e,"UniversalAdId");o&&(n={idRegistry:o.getAttribute("idRegistry")||"unknown",value:G.parseNodeText(o)});var a=G.childByName(e,"CreativeExtensions");for(var s in a&&(r=O(G.childrenByName(a,"CreativeExtension"))),e.childNodes){var u=e.childNodes[s],l=void 0;switch(u.nodeName){case"Linear":l=C(u,i);break;case"NonLinearAds":l=A(u,i);break;case"CompanionAds":l=_(u,i)}l&&(n&&(l.universalAdId=n),r&&(l.creativeExtensions=r),t.push(l))}}),t}function I(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}function x(e,t){if(Q[e.nodeName]&&Q[e.nodeName].attributes){var n=Q[e.nodeName].attributes.filter(function(t){return!e.getAttribute(t)});n.length>0&&R({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t)}}function D(e,t,n){var r=Q[e.nodeName],i=!n&&"Wrapper"!==e.nodeName;if(r&&!i){if(r.subElements){var o=r.subElements.filter(function(t){return!G.childByName(e,t)});o.length>0&&R({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:o},t)}n&&r.oneOfinLineResources&&(r.oneOfinLineResources.some(function(t){return G.childByName(e,t)})||R({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t))}}function L(e){return e.children&&0!==e.children.length}function R(e,t){var n=e.name,r=e.parentName,i=e.attributes,o=e.subElements,a=e.oneOfResources,s="Element '".concat(n,"'");t("VAST-warning",{message:s+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",parentElement:r,specVersion:4.1})}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.allowMultipleAds,i=n.followAdditionalWrappers,o=e.childNodes;for(var a in o){var s=o[a];if(-1!==["Wrapper","InLine"].indexOf(s.nodeName)&&("Wrapper"!==s.nodeName||!1!==i)){if(G.copyNodeAttribute("id",e,s),G.copyNodeAttribute("sequence",e,s),G.copyNodeAttribute("adType",e,s),"Wrapper"===s.nodeName)return{ad:U(s,t),type:"WRAPPER"};if("InLine"===s.nodeName)return{ad:M(s,t,{allowMultipleAds:r}),type:"INLINE"}}}}function M(e,t){return!1===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allowMultipleAds&&e.getAttribute("sequence")?null:F(e,t)}function F(e,t){t&&Y.verifyRequiredValues(e,t);var n=e.childNodes,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:{},system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(G.parseAttributes(e));for(var i in n){var o=n[i];switch(o.nodeName){case"Error":r.errorURLTemplates.push(G.parseNodeText(o));break;case"Impression":r.impressionURLTemplates.push({id:o.getAttribute("id")||null,url:G.parseNodeText(o)});break;case"Creatives":r.creatives=j(G.childrenByName(o,"Creative"));break;case"Extensions":var a=G.childrenByName(o,"Extension");r.extensions=O(a),r.adVerifications.length||(r.adVerifications=V(a));break;case"AdVerifications":r.adVerifications=B(G.childrenByName(o,"Verification"));break;case"AdSystem":r.system={value:G.parseNodeText(o),version:o.getAttribute("version")||null};break;case"AdTitle":r.title=G.parseNodeText(o);break;case"AdServingId":r.adServingId=G.parseNodeText(o);break;case"Category":r.categories.push({authority:o.getAttribute("authority")||null,value:G.parseNodeText(o)});break;case"Expires":r.expires=parseInt(G.parseNodeText(o),10);break;case"ViewableImpression":r.viewableImpression=H(o);break;case"Description":r.description=G.parseNodeText(o);break;case"Advertiser":r.advertiser={id:o.getAttribute("id")||null,value:G.parseNodeText(o)};break;case"Pricing":r.pricing={value:G.parseNodeText(o),model:o.getAttribute("model")||null,currency:o.getAttribute("currency")||null};break;case"Survey":r.survey=G.parseNodeText(o);break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:o.getAttribute("authority")||null,value:G.parseNodeText(o)})}}return r}function U(e,t){var n=F(e,t),r=e.getAttribute("followAdditionalWrappers"),i=e.getAttribute("allowMultipleAds"),o=e.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!r||G.parseBoolean(r),n.allowMultipleAds=!!i&&G.parseBoolean(i),n.fallbackOnNoAd=o?G.parseBoolean(o):null;var a=G.childByName(e,"VASTAdTagURI");if(a?n.nextWrapperURL=G.parseNodeText(a):(a=G.childByName(e,"VASTAdTagURL"))&&(n.nextWrapperURL=G.parseNodeText(G.childByName(a,"URL"))),n.creatives.forEach(function(e){if(-1!==["linear","nonlinear"].indexOf(e.type)){if(e.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[e.type]||(n.trackingEvents[e.type]={});for(var t in e.trackingEvents)!function(t){var r=e.trackingEvents[t];Array.isArray(n.trackingEvents[e.type][t])||(n.trackingEvents[e.type][t]=[]),r.forEach(function(r){n.trackingEvents[e.type][t].push(r)})}(t)}e.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach(function(e){n.videoClickTrackingURLTemplates.push(e)})),e.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach(function(e){n.videoCustomClickURLTemplates.push(e)}))}}),n.nextWrapperURL)return n}function B(e){var t=[];return e.forEach(function(e){var n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=e.childNodes;for(var i in G.assignAttributes(e.attributes,n),r){var o=r[i];switch(o.nodeName){case"JavaScriptResource":case"ExecutableResource":n.resource=G.parseNodeText(o),G.assignAttributes(o.attributes,n);break;case"VerificationParameters":n.parameters=G.parseNodeText(o)}}var a=G.childByName(e,"TrackingEvents");a&&G.childrenByName(a,"Tracking").forEach(function(e){var t=e.getAttribute("event"),r=G.parseNodeText(e);t&&r&&(Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r))}),t.push(n)}),t}function V(e){var t=null,n=[];return e.some(function(e){return t=G.childByName(e,"AdVerifications")}),t&&(n=B(G.childrenByName(t,"Verification"))),n}function H(e){var t={};t.id=e.getAttribute("id")||null;var n=e.childNodes;for(var r in n){var i=n[r],o=i.nodeName,a=G.parseNodeText(i);if(("Viewable"===o||"NotViewable"===o||"ViewUndetermined"===o)&&a){var s=o.toLowerCase();Array.isArray(t[s])||(t[s]=[]),t[s].push(a)}}return t}function z(){try{var e=new window.XMLHttpRequest;return"withCredentials"in e?e:null}catch(e){return null}}function W(e,t,n){var r=n?408:e.status,i=n?"XHRURLHandler: Request timed out after ".concat(e.timeout," ms (").concat(r,")"):"XHRURLHandler: ".concat(e.statusText," (").concat(r,")");t(new Error(i),null,{statusCode:r})}var q=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"],K={track:function(e,t,n){h(e,t,n).forEach(function(e){"undefined"!=typeof window&&null!==window&&((new Image).src=e)})},resolveURLTemplates:h,extractURLsFromTemplates:g,containsTemplateObject:m,isTemplateObjectEqual:b,encodeURIComponentRFC3986:k,replaceUrlMacros:y,leftpad:w,range:E,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce(function(t,n){return t.concat(Array.isArray(n)?e(n):n)},[])},joinArrayOfUniqueTemplateObjs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];return n.concat(r).reduce(function(e,t){return m(t,e)||e.push(t),e},[])}},G={childByName:function(e,t){var n=e.childNodes;for(var r in n){var i=n[r];if(i.nodeName===t)return i}},childrenByName:function(e,t){var n=[],r=e.childNodes;for(var i in r){var o=r[i];o.nodeName===t&&n.push(o)}return n},resolveVastAdTagURI:function(e,t){if(!t)return e;if(0===e.indexOf("//")){return"".concat(location.protocol).concat(e)}if(-1===e.indexOf("://")){return"".concat(t.slice(0,t.lastIndexOf("/")),"/").concat(e)}return e},parseBoolean:T,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,n){var r=t.getAttribute(e);r&&n.setAttribute(e,r)},parseAttributes:function(e){for(var t=e.attributes,n={},r=0;r<t.length;r++)n[t[r].nodeName]=t[r].nodeValue;return n},parseDuration:function(e){if(null==e)return-1;if(K.isNumeric(e))return parseInt(e);var t=e.split(":");if(3!==t.length)return-1;var n=t[2].split("."),r=parseInt(n[0]);2===n.length&&(r+=parseFloat("0.".concat(n[1])));var i=parseInt(60*t[1]),o=parseInt(60*t[0]*60);return isNaN(o)||isNaN(i)||isNaN(r)||i>3600||r>60?-1:o+i+r},splitVAST:function(e){var t=[],n=null;return e.forEach(function(r,i){if(r.sequence&&(r.sequence=parseInt(r.sequence,10)),r.sequence>1){var o=e[i-1];if(o&&o.sequence===r.sequence-1)return void(n&&n.push(r));delete r.sequence}n=[r],t.push(n)}),t},assignAttributes:function(e,t){if(e)for(var n in e){var r=e[n];if(r.nodeName&&r.nodeValue&&t.hasOwnProperty(r.nodeName)){var i=r.nodeValue;"boolean"==typeof t[r.nodeName]&&(i=T(i)),t[r.nodeName]=i}}},mergeWrapperAdData:function(e,t){e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;var n=(t.creatives||[]).filter(function(e){return e&&"companion"===e.type}),r=n.reduce(function(e,t){return(t.variations||[]).forEach(function(t){(t.companionClickTrackingURLTemplates||[]).forEach(function(t){K.containsTemplateObject(t,e)||e.push(t)})}),e},[]);e.creatives=n.concat(e.creatives);var i=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,o=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;e.creatives.forEach(function(e){if(t.trackingEvents&&t.trackingEvents[e.type])for(var n in t.trackingEvents[e.type]){var a=t.trackingEvents[e.type][n];Array.isArray(e.trackingEvents[n])||(e.trackingEvents[n]=[]),e.trackingEvents[n]=e.trackingEvents[n].concat(a)}"linear"===e.type&&(i&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),o&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!==e.videoClickThroughURLTemplate&&void 0!==e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&r.length&&(e.variations||[]).forEach(function(e){e.companionClickTrackingURLTemplates=K.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,r)})}),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories))}},Q={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}},Y={verifyRequiredValues:function e(t,n,r){if(t&&t.nodeName)if("InLine"===t.nodeName&&(r=!0),x(t,n),L(t)){D(t,n,r);for(var i=0;i<t.children.length;i++)e(t.children[i],n,r)}else 0===G.parseNodeText(t).length&&R({name:t.nodeName,parentName:t.parentNode.nodeName},n)},hasSubElements:L,emitMissingValueWarning:R,verifyRequiredAttributes:x,verifyRequiredSubElements:D},X=function(){function e(){n(this,e),this._handlers=[]}return i(e,[{key:"on",value:function(e,n){if("function"!=typeof n)throw new TypeError("The handler argument must be of type Function. Received type ".concat(t(n)));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(t(e)));return this._handlers.push({event:e,handler:n}),this}},{key:"once",value:function(e,t){return this.on(e,function(e,t,n){function r(){i.fired||(e.off(t,i.wrapFn),i.fired=!0,n.bind(e).apply(void 0,arguments))}var i={fired:!1,wrapFn:void 0};return i.wrapFn=r,r}(this,e,t))}},{key:"off",value:function(e,t){return this._handlers=this._handlers.filter(function(n){return n.event!==e||n.handler!==t}),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!1;return this._handlers.forEach(function(t){"*"===t.event&&(i=!0,t.handler.apply(t,[e].concat(n))),t.event===e&&(i=!0,t.handler.apply(t,n))}),i}},{key:"removeAllListeners",value:function(e){return e?(this._handlers=this._handlers.filter(function(t){return t.event!==e}),this):(this._handlers=[],this)}},{key:"listenerCount",value:function(e){return this._handlers.filter(function(t){return t.event===e}).length}},{key:"listeners",value:function(e){return this._handlers.reduce(function(t,n){return n.event===e&&t.push(n.handler),t},[])}},{key:"eventNames",value:function(){return this._handlers.map(function(e){return e.event})}}]),e}(),J={get:function(e,t,n){n(new Error("Please bundle the library for node to use the node urlHandler"))}},$={get:function(e,t,n){if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var r=z();r.open("GET",e),r.timeout=t.timeout||12e4,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onload=function(){return function(e,t){200===e.status?t(null,e.responseXML,{byteLength:e.response.length,statusCode:e.status}):W(e,t,!1)}(r,n)},r.onerror=function(){return W(r,n,!1)},r.onabort=function(){return W(r,n,!1)},r.ontimeout=function(){return W(r,n,!0)},r.send()}catch(e){n(new Error("XHRURLHandler: Unexpected error"))}},supported:function(){return!!z()}},Z={get:function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),"undefined"==typeof window||null===window?J.get(e,t,n):$.supported()?$.get(e,t,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},ee={ERRORCODE:900,extensions:[]},te=function(e){function t(){var e;return n(this,t),(e=r.call(this)).remainingAds=[],e.parentURLs=[],e.errorURLTemplates=[],e.rootErrorURLTemplates=[],e.maxWrapperDepth=null,e.URLTemplateFilters=[],e.fetchingOptions={},e.parsingOptions={},e}u(t,e);var r=d(t);return i(t,[{key:"addURLTemplateFilter",value:function(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign.apply(Object,[{},ee,t].concat(r))),K.track(e,t)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(i,o){t.URLTemplateFilters.forEach(function(t){e=t(e)}),t.parentURLs.push(e);var a=Date.now();t.emit("VAST-resolving",{url:e,previousUrl:r,wrapperDepth:n,maxWrapperDepth:t.maxWrapperDepth,timeout:t.fetchingOptions.timeout}),t.urlHandler.get(e,t.fetchingOptions,function(s,u){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Math.round(Date.now()-a),f=Object.assign({url:e,previousUrl:r,wrapperDepth:n,error:s,duration:c},l);t.emit("VAST-resolved",f),s?o(s):i(u)})})}},{key:"initParsingStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.errorURLTemplates=[],this.fetchingOptions={timeout:e.timeout||12e4,withCredentials:e.withCredentials},this.maxWrapperDepth=e.wrapperLimit||10,this.parentURLs=[],this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=e.urlHandler||e.urlhandler||Z,this.vastVersion=null}},{key:"getRemainingAds",value:function(e){var t=this;if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));var n=e?K.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(n,{wrapperDepth:0,url:this.rootURL}).then(function(e){return t.buildVASTResponse(e)})}},{key:"getAndParseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),this.URLTemplateFilters.forEach(function(t){e=t(e)}),this.rootURL=e,this.fetchVAST(e).then(function(r){return n.previousUrl=e,n.isRootVAST=!0,n.url=e,t.parse(r,n).then(function(e){return t.buildVASTResponse(e)})})}},{key:"parseVAST",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(e,n).then(function(e){return t.buildVASTResponse(e)})}},{key:"buildVASTResponse",value:function(e){var t,n={ads:(t={ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion}).ads||[],errorURLTemplates:t.errorURLTemplates||[],version:t.version||null};return this.completeWrapperResolving(n),n}},{key:"parseVastXml",value:function(e,t){var n=t.isRootVAST,r=void 0!==n&&n,i=t.url,o=void 0===i?null:i,a=t.wrapperDepth,s=void 0===a?0:a,u=t.allowMultipleAds,l=t.followAdditionalWrappers;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:o,wrapperDepth:s}),new Error("Invalid VAST XMLDocument");var c=[],f=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");for(var p in r&&d&&(this.vastVersion=d),f){var h=f[p];if("Error"===h.nodeName){var y=G.parseNodeText(h);r?this.rootErrorURLTemplates.push(y):this.errorURLTemplates.push(y)}else if("Ad"===h.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)u=!0;else if(!1===u&&c.length>1)break;var v=N(h,this.emit.bind(this),{allowMultipleAds:u,followAdditionalWrappers:l});v.ad?(c.push(v.ad),this.emit("VAST-ad-parsed",{type:v.type,url:o,wrapperDepth:s,adIndex:c.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=void 0===n?null:n,i=t.resolveAll,o=void 0===i||i,a=t.wrapperSequence,s=void 0===a?null:a,u=t.previousUrl,l=void 0===u?null:u,c=t.wrapperDepth,f=void 0===c?0:c,d=t.isRootVAST,p=void 0!==d&&d,h=t.followAdditionalWrappers,y=t.allowMultipleAds,v=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&p&&(y=!0);try{v=this.parseVastXml(e,{isRootVAST:p,url:r,wrapperDepth:f,allowMultipleAds:y,followAdditionalWrappers:h})}catch(e){return Promise.reject(e)}return 1===v.length&&null!=s&&(v[0].sequence=s),!1===o&&(this.remainingAds=G.splitVAST(v),v=this.remainingAds.shift()),this.resolveAds(v,{wrapperDepth:f,previousUrl:l,url:r})}},{key:"resolveAds",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=n.wrapperDepth,i=n.previousUrl,o=n.url,a=[];return i=o,t.forEach(function(t){var n=e.resolveWrappers(t,r,i);a.push(n)}),Promise.all(a).then(function(t){var n=K.flatten(t);if(!n&&e.remainingAds.length>0){var a=e.remainingAds.shift();return e.resolveAds(a,{wrapperDepth:r,previousUrl:i,url:o})}return n})}},{key:"resolveWrappers",value:function(e,t,n){var r=this;return new Promise(function(i){var o;if(t++,!e.nextWrapperURL)return delete e.nextWrapperURL,i(e);if(t>=r.maxWrapperDepth||-1!==r.parentURLs.indexOf(e.nextWrapperURL))return e.errorCode=302,delete e.nextWrapperURL,i(e);e.nextWrapperURL=G.resolveVastAdTagURI(e.nextWrapperURL,n),r.URLTemplateFilters.forEach(function(t){e.nextWrapperURL=t(e.nextWrapperURL)});var a=null!==(o=r.parsingOptions.allowMultipleAds)&&void 0!==o?o:e.allowMultipleAds,s=e.sequence;r.fetchVAST(e.nextWrapperURL,t,n).then(function(o){return r.parse(o,{url:e.nextWrapperURL,previousUrl:n,wrapperSequence:s,wrapperDepth:t,followAdditionalWrappers:e.followAdditionalWrappers,allowMultipleAds:a}).then(function(t){if(delete e.nextWrapperURL,0===t.length)return e.creatives=[],i(e);t.forEach(function(t){t&&G.mergeWrapperAdData(t,e)}),i(t)})}).catch(function(t){e.errorCode=301,e.errorMessage=t.message,i(e)})})}},{key:"completeWrapperResolving",value:function(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(var t=e.ads.length-1;t>=0;t--){var n=e.ads[t];(n.errorCode||0===n.creatives.length)&&(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),e.ads.splice(t,1))}}}]),t}(X),ne=null,re={data:{},length:0,getItem:function(e){return this.data[e]},setItem:function(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem:function(e){delete this.data[e],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},ie=function(){function e(){n(this,e),this.storage=this.initStorage()}return i(e,[{key:"initStorage",value:function(){if(ne)return ne;try{ne="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){ne=null}return ne&&!this.isStorageDisabled(ne)||(ne=re).clear(),ne}},{key:"isStorageDisabled",value:function(e){var t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}},{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){return this.storage.removeItem(e)}},{key:"clear",value:function(){return this.storage.clear()}}]),e}(),oe=function(){function e(t,r,i){n(this,e),this.cappingFreeLunch=t||0,this.cappingMinimumTimeInterval=r||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new te,this.storage=i||new ie,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}return i(e,[{key:"getParser",value:function(){return this.vastParser}},{key:"hasRemainingAds",value:function(){return this.vastParser.remainingAds.length>0}},{key:"getNextAds",value:function(e){return this.vastParser.getRemainingAds(e)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Date.now();return(n=Object.assign({},this.defaultOptions,n)).hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,new Promise(function(i,o){if(t.cappingFreeLunch>=t.totalCalls)return o(new Error("VAST call canceled – FreeLunch capping not reached yet ".concat(t.totalCalls,"/").concat(t.cappingFreeLunch)));var a=r-t.lastSuccessfulAd;if(a<0)t.lastSuccessfulAd=0;else if(a<t.cappingMinimumTimeInterval)return o(new Error("VAST call canceled – (".concat(t.cappingMinimumTimeInterval,")ms minimum interval reached")));t.vastParser.getAndParseVAST(e,n).then(function(e){return i(e)}).catch(function(e){return o(e)})})}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(e){this.storage.setItem("vast-client-last-successful-ad",e)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(e){this.storage.setItem("vast-client-total-calls",e)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(e){this.storage.setItem("vast-client-total-calls-timeout",e)}}]),e}(),ae=function(e){function t(e,i,o){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var u in n(this,t),(a=r.call(this)).ad=i,a.creative=o,a.variation=s,a.muted=!1,a.impressed=!1,a.skippable=!1,a.trackingEvents={},a.lastPercentage=0,a._alreadyTriggeredQuartiles={},a.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],a.creative.trackingEvents){var l=a.creative.trackingEvents[u];a.trackingEvents[u]=l.slice(0)}return P(a.creative)?a._initLinearTracking():a._initVariationTracking(),e&&a.on("start",function(){e.lastSuccessfulAd=Date.now()}),a}u(t,e);var r=d(t);return i(t,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var e in this.variation.trackingEvents){var t=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(t.slice(0)):this.trackingEvents[e]=t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(e){this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.skipDelay||-1;if(-1===r||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){var i=Math.round(e/this.assetDuration*100),o=[];if(e>0){o.push("start");for(var a=this.lastPercentage;a<i;a++)o.push("progress-".concat(a+1,"%"));for(var s in o.push("progress-".concat(Math.round(e))),this.quartiles)this.isQuartileReached(s,this.quartiles[s],e)&&(o.push(s),this._alreadyTriggeredQuartiles[s]=!0);this.lastPercentage=i}o.forEach(function(e){t.track(e,{macros:n,once:!0})}),e<this.progress&&this.track("rewind",{macros:n})}this.progress=e}},{key:"isQuartileReached",value:function(e,t,n){var r=!1;return t<=n&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}},{key:"setMuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e}},{key:"setPaused",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e}},{key:"setFullscreen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e}},{key:"setExpand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e}},{key:"setSkipDelay",value:function(e){"number"==typeof e&&(this.skipDelay=e)}},{key:"trackImpression",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e}))}},{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t})}},{key:"errorWithCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.error({ERRORCODE:e},t),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")}},{key:"complete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("complete",{macros:e})}},{key:"notUsed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("notUsed",{macros:e}),this.trackingEvents=[]}},{key:"otherAdInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("otherAdInteraction",{macros:e})}},{key:"acceptInvitation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("acceptInvitation",{macros:e})}},{key:"adExpand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adExpand",{macros:e})}},{key:"adCollapse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("adCollapse",{macros:e})}},{key:"minimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("minimize",{macros:e})}},{key:"verificationNotExecuted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");var n=this.ad.adVerifications.find(function(t){return t.vendor===e});if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));var r=n.trackingEvents;if(r&&r.verificationNotExecuted){var i=r.verificationNotExecuted;this.trackURLs(i,t),this.emit("verificationNotExecuted",{trackingURLTemplates:i})}}},{key:"overlayViewDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track(this.linear?"closeLinear":"close",{macros:e})}},{key:"skip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("skip",{macros:e})}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track("loaded",{macros:e})}},{key:"click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);var n=this.clickThroughURLTemplate||e,r=s({},t);if(n){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());var i=K.resolveURLTemplates([n],r)[0];this.emit("clickthrough",i)}}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.macros,r=void 0===n?{}:n,i=t.once,o=void 0!==i&&i;"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close");var a=this.trackingEvents[e],s=this.emitAlwaysEvents.indexOf(e)>-1;a?(this.emit(e,{trackingURLTemplates:a}),this.trackURLs(a,r)):s&&this.emit(e,null),o&&(delete this.trackingEvents[e],s&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}},{key:"trackURLs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s({},t);this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(r.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(r.ADPLAYHEAD=this.progressFormatted())),this.creative&&this.creative.universalAdId&&this.creative.universalAdId.idRegistry&&this.creative.universalAdId.value&&(r.UNIVERSALADID="".concat(this.creative.universalAdId.idRegistry," ").concat(this.creative.universalAdId.value)),this.ad&&(this.ad.sequence&&(r.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(r.ADTYPE=this.ad.adType),this.ad.adServingId&&(r.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(r.ADCATEGORIES=this.ad.categories.map(function(e){return e.value}).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(r.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories)),K.track(e,r,n)}},{key:"convertToTimecode",value:function(e){var t=1e3*e,n=Math.floor(t/36e5),r=Math.floor(t/6e4%60),i=Math.floor(t/1e3%60),o=Math.floor(t%1e3);return"".concat(K.leftpad(n,2),":").concat(K.leftpad(r,2),":").concat(K.leftpad(i,2),".").concat(K.leftpad(o,3))}},{key:"progressFormatted",value:function(){return this.convertToTimecode(this.progress)}}]),t}(X);e.VASTClient=oe,e.VASTParser=te,e.VASTTracker=ae,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function r(e){var t=k.copyOptions(e);return k.ensureFlagExists("ignoreDeclaration",t),k.ensureFlagExists("ignoreInstruction",t),k.ensureFlagExists("ignoreAttributes",t),k.ensureFlagExists("ignoreText",t),k.ensureFlagExists("ignoreComment",t),k.ensureFlagExists("ignoreCdata",t),k.ensureFlagExists("ignoreDoctype",t),k.ensureFlagExists("compact",t),k.ensureFlagExists("indentText",t),k.ensureFlagExists("indentCdata",t),k.ensureFlagExists("indentAttributes",t),k.ensureFlagExists("indentInstruction",t),k.ensureFlagExists("fullTagEmptyElement",t),k.ensureFlagExists("noQuotesForNativeAttributes",t),k.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),k.ensureKeyExists("declaration",t),k.ensureKeyExists("instruction",t),k.ensureKeyExists("attributes",t),k.ensureKeyExists("text",t),k.ensureKeyExists("comment",t),k.ensureKeyExists("cdata",t),k.ensureKeyExists("doctype",t),k.ensureKeyExists("type",t),k.ensureKeyExists("name",t),k.ensureKeyExists("elements",t),k.checkFnExists("doctype",t),k.checkFnExists("instruction",t),k.checkFnExists("cdata",t),k.checkFnExists("comment",t),k.checkFnExists("text",t),k.checkFnExists("instructionName",t),k.checkFnExists("elementName",t),k.checkFnExists("attributeName",t),k.checkFnExists("attributeValue",t),k.checkFnExists("attributes",t),k.checkFnExists("fullTagEmptyElement",t),t}function i(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function o(e,t,n){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,b,m));var r,o,a,s,u=[];for(r in e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&(s=t.noQuotesForNativeAttributes&&"string"!=typeof e[r]?"":'"',o=""+e[r],o=o.replace(/"/g,"&quot;"),a="attributeNameFn"in t?t.attributeNameFn(r,o,b,m):r,u.push(t.spaces&&t.indentAttributes?i(t,n+1,!1):" "),u.push(a+"="+s+("attributeValueFn"in t?t.attributeValueFn(o,r,b,m):o)+s));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&u.push(i(t,n,!1)),u.join("")}function a(e,t,n){return m=e,b="xml",t.ignoreDeclaration?"":"<?xml"+o(e[t.attributesKey],t,n)+"?>"}function s(e,t,n){if(t.ignoreInstruction)return"";var r;for(r in e)if(e.hasOwnProperty(r))break;var i="instructionNameFn"in t?t.instructionNameFn(r,e[r],b,m):r;if("object"==typeof e[r])return m=e,b=i,"<?"+i+o(e[r][t.attributesKey],t,n)+"?>";var a=e[r]?e[r]:"";return"instructionFn"in t&&(a=t.instructionFn(a,r,b,m)),"<?"+i+(a?" "+a:"")+"?>"}function u(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,b,m):e)+"--\x3e"}function l(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,b,m):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function c(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,b,m):e)+">"}function f(e,t){return t.ignoreText?"":(e=""+e,e=e.replace(/&amp;/g,"&"),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,b,m):e)}function d(e,t){var n;if(e.elements&&e.elements.length)for(n=0;n<e.elements.length;++n)switch(e.elements[n][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}function p(e,t,n){m=e,b=e.name;var r=[],i="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;r.push("<"+i),e[t.attributesKey]&&r.push(o(e[t.attributesKey],t,n));var a=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return a||(a="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),a?(r.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(r.push(h(e[t.elementsKey],t,n+1)),m=e,b=e.name),r.push(t.spaces&&d(e,t)?"\n"+Array(n+1).join(t.spaces):""),r.push("</"+i+">")):r.push("/>"),r.join("")}function h(e,t,n,r){return e.reduce(function(e,o){var a=i(t,n,r&&!e);switch(o.type){case"element":return e+a+p(o,t,n);case"comment":return e+a+u(o[t.commentKey],t);case"doctype":return e+a+c(o[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?a:"")+l(o[t.cdataKey],t);case"text":return e+(t.indentText?a:"")+f(o[t.textKey],t);case"instruction":var d={};return d[o[t.nameKey]]=o[t.attributesKey]?o:o[t.instructionKey],e+(t.indentInstruction?a:"")+s(d,t,n)}},"")}function y(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||n)return!0;break;case t.cdataKey:if(t.indentCdata||n)return!0;break;case t.instructionKey:if(t.indentInstruction||n)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function v(e,t,n,r,a){m=e,b=t;var s="elementNameFn"in n?n.elementNameFn(t,e):t;if(void 0===e||null===e||""===e)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(t,e)||n.fullTagEmptyElement?"<"+s+"></"+s+">":"<"+s+"/>";var u=[];if(t){if(u.push("<"+s),"object"!=typeof e)return u.push(">"+f(e,n)+"</"+s+">"),u.join("");e[n.attributesKey]&&u.push(o(e[n.attributesKey],n,r));var l=y(e,n,!0)||e[n.attributesKey]&&"preserve"===e[n.attributesKey]["xml:space"];if(l||(l="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(t,e):n.fullTagEmptyElement),!l)return u.push("/>"),u.join("");u.push(">")}return u.push(g(e,n,r+1,!1)),m=e,b=t,t&&u.push((a?i(n,r,!1):"")+"</"+s+">"),u.join("")}function g(e,t,n,r){var o,d,p,h=[];for(d in e)if(e.hasOwnProperty(d))for(p=w(e[d])?e[d]:[e[d]],o=0;o<p.length;++o){switch(d){case t.declarationKey:h.push(a(p[o],t,n));break;case t.instructionKey:h.push((t.indentInstruction?i(t,n,r):"")+s(p[o],t,n));break;case t.attributesKey:case t.parentKey:break;case t.textKey:h.push((t.indentText?i(t,n,r):"")+f(p[o],t));break;case t.cdataKey:h.push((t.indentCdata?i(t,n,r):"")+l(p[o],t));break;case t.doctypeKey:h.push(i(t,n,r)+c(p[o],t));break;case t.commentKey:h.push(i(t,n,r)+u(p[o],t));break;default:h.push(i(t,n,r)+v(p[o],d,t,n,y(p[o],t)))}r=r&&!h.length}return h.join("")}var m,b,k=n(135),w=n(133).isArray;e.exports=function(e,t){t=r(t);var n=[];return m=e,b="_root_",t.compact?n.push(g(e,t,0,!0)):(e[t.declarationKey]&&n.push(a(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&n.push(h(e[t.elementsKey],t,0,!n.length))),n.join("")}},function(e,t,n){function r(e){return y=m.copyOptions(e),m.ensureFlagExists("ignoreDeclaration",y),m.ensureFlagExists("ignoreInstruction",y),m.ensureFlagExists("ignoreAttributes",y),m.ensureFlagExists("ignoreText",y),m.ensureFlagExists("ignoreComment",y),m.ensureFlagExists("ignoreCdata",y),m.ensureFlagExists("ignoreDoctype",y),m.ensureFlagExists("compact",y),m.ensureFlagExists("alwaysChildren",y),m.ensureFlagExists("addParent",y),m.ensureFlagExists("trim",y),m.ensureFlagExists("nativeType",y),m.ensureFlagExists("nativeTypeAttributes",y),m.ensureFlagExists("sanitize",y),m.ensureFlagExists("instructionHasAttributes",y),m.ensureFlagExists("captureSpacesBetweenElements",y),m.ensureAlwaysArrayExists(y),m.ensureKeyExists("declaration",y),m.ensureKeyExists("instruction",y),m.ensureKeyExists("attributes",y),m.ensureKeyExists("text",y),m.ensureKeyExists("comment",y),m.ensureKeyExists("cdata",y),m.ensureKeyExists("doctype",y),m.ensureKeyExists("type",y),m.ensureKeyExists("name",y),m.ensureKeyExists("elements",y),m.ensureKeyExists("parent",y),m.checkFnExists("doctype",y),m.checkFnExists("instruction",y),m.checkFnExists("cdata",y),m.checkFnExists("comment",y),m.checkFnExists("text",y),m.checkFnExists("instructionName",y),m.checkFnExists("elementName",y),m.checkFnExists("attributeName",y),m.checkFnExists("attributeValue",y),m.checkFnExists("attributes",y),y}function i(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function o(e,t){var n;if(y.compact){if(!v[y[e+"Key"]]&&(b(y.alwaysArray)?-1!==y.alwaysArray.indexOf(y[e+"Key"]):y.alwaysArray)&&(v[y[e+"Key"]]=[]),v[y[e+"Key"]]&&!b(v[y[e+"Key"]])&&(v[y[e+"Key"]]=[v[y[e+"Key"]]]),e+"Fn"in y&&"string"==typeof t&&(t=y[e+"Fn"](t,v)),"instruction"===e&&("instructionFn"in y||"instructionNameFn"in y))for(n in t)if(t.hasOwnProperty(n))if("instructionFn"in y)t[n]=y.instructionFn(t[n],n,v);else{var r=t[n];delete t[n],t[y.instructionNameFn(n,r,v)]=r}b(v[y[e+"Key"]])?v[y[e+"Key"]].push(t):v[y[e+"Key"]]=t}else{v[y.elementsKey]||(v[y.elementsKey]=[]);var i={};if(i[y.typeKey]=e,"instruction"===e){for(n in t)if(t.hasOwnProperty(n))break;i[y.nameKey]="instructionNameFn"in y?y.instructionNameFn(n,t,v):n,y.instructionHasAttributes?(i[y.attributesKey]=t[n][y.attributesKey],"instructionFn"in y&&(i[y.attributesKey]=y.instructionFn(i[y.attributesKey],n,v))):("instructionFn"in y&&(t[n]=y.instructionFn(t[n],n,v)),i[y.instructionKey]=t[n])}else e+"Fn"in y&&(t=y[e+"Fn"](t,v)),i[y[e+"Key"]]=t;y.addParent&&(i[y.parentKey]=v),v[y.elementsKey].push(i)}}function a(e){if("attributesFn"in y&&e&&(e=y.attributesFn(e,v)),(y.trim||"attributeValueFn"in y||"attributeNameFn"in y||y.nativeTypeAttributes)&&e){var t;for(t in e)if(e.hasOwnProperty(t)&&(y.trim&&(e[t]=e[t].trim()),y.nativeTypeAttributes&&(e[t]=i(e[t])),"attributeValueFn"in y&&(e[t]=y.attributeValueFn(e[t],t,v)),"attributeNameFn"in y)){var n=e[t];delete e[t],e[y.attributeNameFn(t,e[t],v)]=n}}return e}function s(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||y.instructionHasAttributes)){for(var n,r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=r.exec(e.body));)t[n[1]]=n[2]||n[3]||n[4];t=a(t)}if("xml"===e.name.toLowerCase()){if(y.ignoreDeclaration)return;v[y.declarationKey]={},Object.keys(t).length&&(v[y.declarationKey][y.attributesKey]=t),y.addParent&&(v[y.declarationKey][y.parentKey]=v)}else{if(y.ignoreInstruction)return;y.trim&&(e.body=e.body.trim());var i={};y.instructionHasAttributes&&Object.keys(t).length?(i[e.name]={},i[e.name][y.attributesKey]=t):i[e.name]=e.body,o("instruction",i)}}function u(e,t){var n;if("object"==typeof e&&(t=e.attributes,e=e.name),t=a(t),"elementNameFn"in y&&(e=y.elementNameFn(e,v)),y.compact){if(n={},!y.ignoreAttributes&&t&&Object.keys(t).length){n[y.attributesKey]={};var r;for(r in t)t.hasOwnProperty(r)&&(n[y.attributesKey][r]=t[r])}e in v||(b(y.alwaysArray)?-1===y.alwaysArray.indexOf(e):!y.alwaysArray)||(v[e]=[]),v[e]&&!b(v[e])&&(v[e]=[v[e]]),b(v[e])?v[e].push(n):v[e]=n}else v[y.elementsKey]||(v[y.elementsKey]=[]),n={},n[y.typeKey]="element",n[y.nameKey]=e,!y.ignoreAttributes&&t&&Object.keys(t).length&&(n[y.attributesKey]=t),y.alwaysChildren&&(n[y.elementsKey]=[]),v[y.elementsKey].push(n);n[y.parentKey]=v,v=n}function l(e){y.ignoreText||(e.trim()||y.captureSpacesBetweenElements)&&(y.trim&&(e=e.trim()),y.nativeType&&(e=i(e)),y.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",e))}function c(e){y.ignoreComment||(y.trim&&(e=e.trim()),o("comment",e))}function f(e){var t=v[y.parentKey];y.addParent||delete v[y.parentKey],v=t}function d(e){y.ignoreCdata||(y.trim&&(e=e.trim()),o("cdata",e))}function p(e){y.ignoreDoctype||(e=e.replace(/^ /,""),y.trim&&(e=e.trim()),o("doctype",e))}function h(e){e.note=e}var y,v,g=n(562),m=n(135),b=n(133).isArray;e.exports=function(e,t){var n=g.parser(!0,{}),i={};if(v=i,y=r(t),n.opt={strictEntities:!0},n.onopentag=u,n.ontext=l,n.oncomment=c,n.onclosetag=f,n.onerror=h,n.oncdata=d,n.ondoctype=p,n.onprocessinginstruction=s,n.write(e).close(),i[y.elementsKey]){var o=i[y.elementsKey];delete i[y.elementsKey],i[y.elementsKey]=o,delete i.text}return i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n.n(a),u=n(71),l=n.n(u),c=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},p=a.videojs.getComponent("Button"),h=a.videojs.getComponent("Component"),y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"handleClick",value:function(e){e.stopImmediatePropagation()}},{key:"createEl",value:function(){var e='<div class="vjs-share-links">\n                <span class="vjs-share-fb"></span>\n                <span class="vjs-share-tw"></span>\n                <span class="vjs-share-gp"></span>\n                <div class="vjs-share-linktext" title="'+this.player_.localize("To copy to clipboard, click on link.")+'">\n                <span class="vjs-share-link">\n                </span><span class="clipb">\n                '+s.a.location.toString()+'\n                </span></div>\n                <span class="copy-clicked">'+this.player_.localize("Link copied successfully.")+"</span></div>";return d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-share-screen",innerHTML:e,"aria-live":"polite"})}}]),t}(h),v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"buildCSSClass",value:function(){return"vjs-share-button "+d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(e){function t(e){var t=n.i(a.$)("<input>");n.i(a.$)(e).append(t),t.val(n.i(a.$)(e).find(".clipb").text().trim()).select(),l.a.execCommand("copy"),t.remove(),n.i(a.$)(".copy-clicked").css("visibility","visible");for(var r=0;r<2;r++)n.i(a.$)(".copy-clicked").fadeTo("slow",.5).fadeTo("slow",1);s.a.setTimeout(function(){n.i(a.$)(".copy-clicked").css("visibility","hidden")},1500)}var r=this;e.stopImmediatePropagation();var i=this,o=i.player();i.playState=i.player().paused(),o.pause(),a.videojs.registerComponent("SharingScreen",y);var u=o.addChild("SharingScreen");i.addClass("vjs-share-close"),i.addClass("vjs-icon-close-red"),o.getChild("bigPlayButton").hide(),o.trigger("ott-share-button-open");var c=n.i(a.$)(o.el()).find(".vjs-share-screen");c.find(".vjs-share-gp").click(function(){o.trigger("ott-share-button-gp"),n.i(a.$)(".social .icon-google-plus")[0].click()}),c.find(".vjs-share-fb").click(function(){o.trigger("ott-share-button-fb"),n.i(a.$)(".social .icon-facebook")[0].click()}),c.find(".vjs-share-tw").click(function(){o.trigger("ott-share-button-tw"),n.i(a.$)(".social .icon-twitter")[0].click()}),c.find(".vjs-share-linktext").click(function(){o.trigger("ott-share-button-link"),t(c)}),i.off("click"),n.i(a.$)(o.el()).find(".vjs-share-close").one("click",function(e){e.stopImmediatePropagation(),r.removeClass("vjs-share-close"),r.removeClass("vjs-icon-close-red"),u.dispose(),i.playState||i.player().play(),o.trigger("ott-share-button-close"),i.one("click",i.handleClick),i.player().getChild("bigPlayButton").show()})}}]),t}(p);v.prototype.controlText_="Sharing Screen",a.videojs.registerComponent("SharingButton",v);var g=function(){this.addChild("SharingButton"),n.i(c.a)("sharingScreen plugin initialized")};a.videojs.registerPlugin("sharingScreen",g)},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(136),s=n(235),u=n(138),l=n(158),c=n(141),f=n(137),d=n(157),p=n(143),h=n(344),y=n(341),v=n(347),g=n(342),m=n(39),b=n(26),k=n(343),w=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};i.videojs.getDRMKeySystems=function(e,t){if(n.i(l.a)())return n.i(l.b)(e,t)};var T=function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,i){var s,l,T,_,P,C,A,O,S,j,I,x,D,L,R,N=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=void 0,!(i instanceof Array)){e.next=9;break}return l=0,e.next=5,n.i(k.a)(i,function(){var e=r(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.i(y.a)(t);case 2:r=e.sent,i[l].plugins=E({},t.plugins,r),l++;case 5:case"end":return e.stop()}},e,N)}));return function(t){return e.apply(this,arguments)}}());case 5:T=w(i,1),s=T[0],e.next=14;break;case 9:return s=E({},i),e.next=12,n.i(y.a)(s);case 12:_=e.sent,s.plugins=E({},s.plugins,_);case 14:return P=n.i(u.a)(s.preferredTech),e.next=17,n.i(h.a)(s);case 17:return C=e.sent,s=E({},s,C),s=n.i(g.a)(s),s=n.i(v.a)(i,s),A=n.i(c.a)(t,P,s),A&&(n.i(f.a)(A),O=new d.a(A,{id:t,tech:P,data:s}),O.init(),i instanceof Array&&(S=new p.a(A,i),A.ready(function(){S.init()})),s.globalMediaPlayer&&(j=A.tech({IWillNotUseThisInPlugins:!0}).sourceHandler_.mediaPlayer_,o.a.mediaPlayer_=j),(n.i(b.a)(function(){return s.plugins.measuring.services.gemiusOld})||n.i(b.a)(function(){return s.plugins.measuringIMA.services.gemiusOld}))&&(I=n.i(m.a)(A)||{},x=I.programDuration,D=s.plugins.measuring||s.plugins.measuringIMA,L=D.services.gemiusOld,R=new a.GemiusStreamVideo(A,L.identifier,L.hitcollector,L.playerId,L.materialIdentifier,L.treeId,L.nazev,L.zdroj,L.cil,L.druh,L.series,x),R.init(),A.on("adplaymeasurement",function(e){new a.GemiusStreamAds(A,L.adsidentifier,L.hitcollector,L.playerId,e.adinfo.adTitle,[],L.zdroj,L.cil,e.adinfo.advertiser,e.adinfo.brand,e.adinfo.id,e.adinfo.agency).init()}))),e.abrupt("return",A);case 24:case"end":return e.stop()}},e,this)}));return e}(),_=function(e,t,r){return new Promise(function(i,o){void 0!==r?n.i(s.a)(r,t).then(function(t){i(T(e,t))}).catch(function(e){return o(e)}):i(T(e,t))})},P=function(e,t,n){return _(e,t,n)};o.a.ottPlayer=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r),o=n(1),a=n.n(o),s=n(554),u=n.n(s),l=n(2),c=n(7),f=n(56),d=n(246),p=n(62),h=n(247),y=n(243),v=n(252),g=n(97),m=n(32),b=n(250),k=n(145),w=n(248),E=n(144),T=n(346),_=n(160),P=n(14),C=n(9),A=n(245),O=n(101),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this,o={companion:{minWidth:c.o},overlay:{minWidth:c.p},linear:{skipDelay:{mode:c.q,time:c.r},preferredFormat:c.s,premium:{mode:c.t,target:c.u,position:c.v},priorNotification:{time:c.w,mode:c.x},watchTreshold:c.y}},s=n.i(f.a)(!0,o,t.settings),j={adPlaying:!1,currentAdtype:"",currentMidrollIndex:-1,inventory:{},seekTime:-1,availableAdType:m.a,subtitlesShow:!1,subtitlesLang:""};r.adstate=j;var I=void 0;t.antiAd&&(I=new E.a(r,t.antiAd),function(){r.on("ready",function(){void 0!==I&&(I.check(["html"],{http:{baitMode:"import",baitUrl:I.customBaitUrl}}),n.i(l.a)("[adservice] call antiAdBlock check function"))})}()),r.on(["adcanplay","advolumechange"],function(){return n.i(_.b)(e)});var x=new d.a(j,r,s),D=new y.a(j,r),L=new h.a(j,r),R=new v.a(j,r),N=new A.a(r,s.linear.watchTreshold),M=function(e){if(j.inventory={preroll:{},midrolls:[],postroll:{},cascade:[]},e.linear){var t=((e||{}).linear||{}).preroll||{};i.a.array(t.vasts)&&t.vasts.length>0?j.inventory.preroll=x.getEmptyObject(t):(n.i(l.a)("[adservice-custom] Initialization data doesn't contain any preroll ads."),r.trigger(c.l));var o=((e||{}).linear||{}).midrolls||[];i.a.array(o)&&o.length>0?j.inventory.midrolls=o.filter(function(e){return i.a.array(e.vasts)&&e.vasts.length>0}).map(function(e){return x.getMidrollObject(e)}):n.i(l.a)("[adservice-custom] Initialization data doesn't contain any midroll ads.");var a=((e||{}).linear||{}).postroll||{};i.a.array(a.vasts)&&a.vasts.length>0?j.inventory.postroll=x.getEmptyObject(a):n.i(l.a)("[adservice-custom] Initialization data doesn't contain any postroll ads.")}if(e.cascade){var s=(e||{}).cascade||[];i.a.array(s)&&s.length>0?j.inventory.cascade=s.map(function(e){return p.a.getEmptyObject(e)}):n.i(l.a)("[adservice-custom] Cascade initialization data doesn't contain any ads.")}n.i(l.a)("[adservice-custom] Inventory already generated: ",j.inventory)},F=function(){var e=function(e){if(!N.isAdAvailable())return j.inventory.midrolls.forEach(function(e){e.time<r.currentTime()&&(e.skipped=!0)}),void n.i(l.a)("[adservice-custom] Midroll at 1 position is skipped. Watching threshold was not exhausted.");r.one("midrollready"+e,function(e){function t(){r.adstate.currentMidrollIndex=e.cue,x.playAd(m.a.midrolls,e.cue)}n.i(l.a)("First midroll event fired: "+e.cue),n.i(g.d)(s)&&!~r.adstate.seekTime?x.showAdNotification(m.a.midrolls,e.cue).then(function(){return t()},function(e){return n.i(l.a)(e)}):t()}),r.on("nextmidroll"+e,function(e){n.i(l.a)("Next midroll event fired:ß + "+e.cue),r.adstate.currentMidrollIndex=e.cue,x.playAd(m.a.midrolls,e.cue)}),n.i(b.a)(r,m.a.midrolls,e)},t=function(e){!r.isFullscreen()&&n.i(T.a)(r)>=s.companion.minWidth&&!u.a.any?n.i(b.a)(r,m.a.companion,e):a.a.innerWidth>=s.overlay.minWidth&&n.i(b.a)(r,m.a.overlay,e)};r.on("seeking",function(){j.adPlaying||(j.seekTime=r.currentTime())});var i=function(){if(!j.adPlaying&&!r.paused()){var i={checkCT:r.currentTime(),checkST:r.adstate.seekTime};n.i(g.d)(s)&&(i.checkCT+=s.linear.priorNotification.time);var o=n.i(w.a)(r,j,j.inventory.midrolls,i);o>=0?e(o):(n.i(g.d)(s)&&(i.checkCT-=s.linear.priorNotification.time),(o=n.i(w.a)(r,j,j.inventory.cascade,i))>=0&&t(o))}};r.options_.startTime?r.one("seeked",function(){j.seekTime=-1,j.inventory.midrolls.forEach(function(e){e.time<r.options_.startTime&&(e.skipped=!0)}),j.checkInt=r.setInterval(i,100)}):j.checkInt=r.setInterval(i,100)},U=function(){var e=function(){r.on("postrollready",function(){j.inventory.postroll.played<j.inventory.postroll.ads.length&&x.playAd(m.a.postroll)}),r.ads.isWaitingForAdBreak()&&n.i(b.a)(r,m.a.postroll)};r.on("readyforpostroll",function(){n.i(l.a)("[adservice-custom] readyforpostroll fired. Postroll will be shown."),e()}),r.on("ott-postroll-force",function(){n.i(l.a)("[adservice-custom] Postroll forced by another plugin then adservice."),e()})},B=function(){r.on("overlayready",function(e){L.showAd(e.cue)}),r.on("companionready",function(e){D.showAd(e.cue,j)}),r.on("companionnotreturned",function(e){a.a.innerWidth>=s.overlay.minWidth&&n.i(b.a)(r,m.a.overlay,e.cue)}),r.on("overlaynotreturned",function(e){R.showSklik(e.cue)})},V=function(){n.i(b.a)(r,m.a.preroll)},H=function(){var e={currentSrc:r.currentSrc(),currentTime:0,ended:!1,src:r.src(),suppressedRemoteTrack:[],suppressedTracks:[],info:"This snapshot was generated only for live stream"};r.ads.snapshot=e,n.i(l.a)("[adservice-custom] liveSnapshot created.",e)};!function(){s.linear.watchTreshold>0&&r.on(["prerollended","prerollnotreturned","midrollended"],function(){N.setTreshold()}),r.on("loadedmetadata",function(){new k.a(r,r.adstate).reset()}),r.one("loadedmetadata",function(){n.i(O.a)(r)&&!r.ads.snapshot&&H(),r.options_.autoplayAllowed&&(r.play(),r.options_.autoplay=c.h)}),M(t),r.on("aderror",function(){l.a.error(C.J.code,C.J.message),r.trigger("adended")}),r.on("dasherror",function(e){n.i(P.a)(r)&&"download"===e.error&&(l.a.error(C.K.code,C.K.message),r.trigger("adended"))}),r.addClass("vjs-reload-disabled"),r.adstate.inventory.postroll.vasts?r.one([c.n,"postrollended"],function(){r.removeClass("vjs-reload-disabled")}):r.one("readyforpostroll",function(){r.removeClass("vjs-reload-disabled")}),r.on("adtimeupdate",function(){if(!x.adsPlayer||!x.adsPlayer.adsPlayerVisible){var e=r.controlBar.getChild("PlaylistTimeDisplay");e?e.playlistCurrentTimeDisplay.updateAdContent():r.controlBar.getChild("CurrentTimeDisplay").updateContent()}}),r.on("adstart",function(){x.adsPlayer&&x.adsPlayer.adsPlayerVisible||setTimeout(function(){var e=r.controlBar.getChild("PlaylistTimeDisplay");e?e.playlistDurationDisplay.updateContent():r.controlBar.getChild("DurationDisplay").updateContent()},500)}),r.on("adplay",function(){var e=r.controlBar.getChild("PlaylistTimeDisplay");e?e.playlistDurationDisplay.updateContent():r.controlBar.getChild("DurationDisplay").updateContent()});var e={debug:n.i(l.b)(),timeout:5e3,postrollTimeout:3e3,liveCuePoints:!1},i=t.contribAdsOptions||{},o=S({},e,i);r.ads(o),V(),r.on("readyforpreroll",function(){x.playAd(m.a.preroll)}),F(),U(),B()}(),n.i(l.a)("[adservice-custom] adService plugin initialized")};o.videojs.registerPlugin("adService",j)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n.n(a),u=n(2),l=n(7),c=n(56),f=n(244),d=n(251),p=n(144),h=n(156),y=n(74),v=n(14),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},k=a.videojs.getPlugin("plugin"),w=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o)),f={companion:{minWidth:l.o},overlay:{minWidth:l.p},linear:{skipDelay:{mode:l.q,time:l.r},preferredFormat:l.s,premium:{mode:l.t,target:l.u,position:l.v},priorNotification:{time:l.w,mode:l.x},watchTreshold:l.y}};return s.settings=n.i(c.a)(!0,f,o.settings),s.domOperations=new y.a(e,s.settings),s.adsManager=null,s.options=o,s.adContainerElement=null,s.startEvent="click",(a.navigator.userAgent.match(/iPhone/i)||a.navigator.userAgent.match(/iPad/i)||a.navigator.userAgent.match(/Android/i))&&(s.startEvent="touchend"),s.player.el().addEventListener(s.startEvent,s.initAdDisplayContainer),s.registerAdErrorCheck(),s.player.on("ready",function(){s.initIma()}),e.on("ott-ima-ready",function(){s.imaReady(),s.player.removeClass("vjs-waiting-for-ima"),n.i(u.a)("[ima] init ima end - removed class vjs-waiting-for-ima")}),s.options.antiAd&&(s.antiAdBlock=new p.a(e,o.antiAd),s.registerCheckAdBlock()),s.settings.linear.premium&&s.createPremiumPromoLink(),n.i(u.a)("[adservice-ima] initialized"),s}return o(t,e),m(t,[{key:"initIma",value:function(){n.i(f.a)(this.player,this.options)}},{key:"imaReady",value:function(){n.i(u.a)("[adservice-ima] recieved ima ready event"),this.registerImaEvents(),this.adsManager=this.player.ima.getAdsManager(),this.adContainerElement=this.player.ima.controller.getAdContainerDiv(),this.registerAdMarkers(),this.registerCompanionAds(),this.registerPlayPauseCSSClassToggle(),this.createBigPlayAdButton(),this.registerOverlayContainerPausePlayer(),this.registerAutoplayLive(),this.disableFullscreenInIOS(),this.postrollCheck(),this.options.vpaidVolumeSync&&this.registerVpaidVolumeSync(),this.player.options_.autoplayAllowed&&(this.player.play(),this.player.options_=l.h),this.settings.linear.priorNotification&&this.registerPriorNotification()}},{key:"registerVpaidVolumeSync",value:function(){var e=this;n.i(u.a)("[adservice-ima] VPAID volume sync enabled"),this.player.on(h.a.START,function(t){if(t.isLinear&&"application/javascript"===t.contentType){var n=e.adsManager.getVolume(),r=e.player.volume();0!==n&&e.player.muted()&&(e.adsManager.setVolume(0),u.a.warn("[adservice-ima] make VPAID mute sync!")),e.player.muted()||n===r||(e.adsManager.setVolume(r),u.a.warn("[adservice-ima] make VPAID volume level sync!"))}})}},{key:"postrollCheck",value:function(){this.adsManager.getCuePoints().includes(-1)&&this.player.trigger(h.a.HASPOSTROLL)}},{key:"disableFullscreenInIOS",value:function(){var e=this;s.a.videojs.browser.IS_IOS&&(this.player.on("adstart",function(){e.player.isFullscreen()&&(e.player.exitFullscreen(),n.i(u.a)("[adservice-ima] iOS exit fullscreen mode"))}),this.player.addClass("vjs-ios"))}},{key:"registerAutoplayLive",value:function(){var e=this;this.player.one(h.a.ALLADSCOMPLETED,function(){e.player.duration()===1/0&&e.player.paused()&&(n.i(u.a)("[adservice-ima] live autoplay"),e.player.play())})}},{key:"initAdDisplayContainer",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.el().removeEventListener(this.startEvent,this.initAdDisplayContainer)}},{key:"onAdEvent",value:function(e){var t=e.getAd(),r=e.getAdData(),i=null;e.getAd()&&e.getAd().getContentType&&(i=e.getAd().getContentType());var o=null;e.getAd()&&e.getAd().isLinear&&(o=e.getAd().isLinear());var a=null;o&&t&&(a=n.i(v.b)(t));var s={isLinear:o,breakType:a,contentType:i,ad:t,adData:r};n.i(u.a)("[adservice-ima] ima fired event: "+e.type,s),this.player.trigger(g({type:"ott-ad-"+e.type},s))}},{key:"registerCheckAdBlock",value:function(){var e=this;this.player.on("ready",function(){void 0!==e.antiAdBlock&&(e.antiAdBlock.check(["html"],{http:{baitMode:"import",baitUrl:e.antiAdBlock.customBaitUrl}}),n.i(u.a)("[adservice] call antiAdBlock check function"))})}},{key:"registerAdErrorCheck",value:function(){var e=this;this.player.on("adslog",function(t){if(t.data.AdError){var n=t.data.AdEvent.getAd(),r=t.data.AdEvent.getAdData(),i=r.adError;u.a.error("[adservice-ima] aderror code:"+i.getErrorCode()+", message: "+i.getMessage(),t.data.AdError,n),e.player.trigger({type:h.a.ERROR,ad:n,error:i,message:"Error code: "+i.getErrorCode()+" - "+i.getMessage()}),new d.a(e.player,e.adsManager.getCuePoints()).reset()}})}},{key:"registerAdMarkers",value:function(){var e=this;this.player.on(h.a.CONTENTRESUMEREQUESTED,function(){new d.a(e.player,e.adsManager.getCuePoints()).reset()}),this.player.on(h.a.START,function(t){!1===t.isLinear&&new d.a(e.player,e.adsManager.getCuePoints()).reset()})}},{key:"registerOverlayContainerPausePlayer",value:function(){var e=this;this.player.on(h.a.START,function(t){if(!1===t.isLinear){var r=a.document.querySelector(".bumpable-ima-ad-container");r&&(n.i(u.a)("[adservice-ima] register pause when user click on overlay container"),r.onclick=function(){e.player.paused()||e.player.pause()})}})}},{key:"registerCompanionAds",value:function(){var e=this,t=new a.google.ima.CompanionAdSelectionSettings;t.resourceType=a.google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,t.creativeType=a.google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,t.sizeCriteria=a.google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH,this.options.companionSlots&&this.options.companionSlots.length>0?this.player.on(h.a.START,function(r){e.options.companionSlots.forEach(function(e){var i=r.ad.getCompanionAds(e.width,e.height,t),o=i[0];if(o){var s=o.getContent();a.document.querySelectorAll(e.querySelector).forEach(function(t){t.innerHTML=s,n.i(u.a)("[adservice-ima] companion content placed to "+e.querySelector)})}})}):n.i(u.a)("[adservice-ima] no companion slots defined")}},{key:"createBigPlayAdButton",value:function(){var e=this,t=this.domOperations.createAdBigPlayButton();t.onclick=function(){e.player.ima.resumeAd()},this.adContainerElement.appendChild(t)}},{key:"registerPlayPauseCSSClassToggle",value:function(){var e=this;this.player.on(h.a.COMPLETE,function(){e.adContainerElement.classList.remove("ima-ad-paused"),e.adContainerElement.classList.remove("ima-ad-playing")}),this.player.on([h.a.START],function(){e.adContainerElement.classList.add("ima-ad-playing")}),this.player.on([h.a.PAUSE],function(){e.adContainerElement.classList.add("ima-ad-paused"),e.adContainerElement.classList.remove("ima-ad-playing")}),this.player.on([h.a.RESUME],function(){e.adContainerElement.classList.remove("ima-ad-paused"),e.adContainerElement.classList.add("ima-ad-playing")})}},{key:"createPremiumPromoLink",value:function(){var e=this;this.player.one("adstart",function(){var t=function(t){t.stopPropagation(),t.preventDefault(),e.player.ima.pauseAd(),e.player.trigger("promolinkclick"),e.settings.linear.premium.url&&s.a.open(e.settings.linear.premium.url)};e.domOperations.createPremiumPromoUI(t)})}},{key:"registerPriorNotification",value:function(){var e=this;this.player.on(h.a.LOADED,function(t){if(t.isLinear&&"midroll"===t.breakType){var r=t.ad.getAdPodInfo().getTotalAds(),i=t.ad.getAdPodInfo().getTimeOffset(),o=function t(){var n=e.player.currentTime();n>=i?(e.player.off("timeupdate",t),e.domOperations.removeAdMessageWrapperHTML()):e.domOperations.updateUpcomingAdMessage(r,i-Math.floor(n))},a=i-Math.floor(e.player.currentTime());a>0&&e.domOperations.createUpcomingAdHTML(r,a),e.player.on("timeupdate",o),n.i(u.a)("[adservice-ima] notify before ads")}})}},{key:"registerImaEvents",value:function(){var e=this,t=s.a.google.ima.AdEvent.Type,r="";Object.keys(t).forEach(function(n){r+=t[n]+",",e.player.ima.addEventListener(t[n],function(t){e.onAdEvent(t)})}),n.i(u.a)("[adservice-ima] ima events registered",r)}},{key:"dispose",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this),n.i(u.a)("[adservice-ima] plugin is being disposed")}}]),t}(k);a.videojs.registerPlugin("adServiceIMA",w)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=(n.n(a),n(2)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getPlugin("plugin"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.player=e,o.options=n,o.supportedMultichannelsNum=6,o.multiChannelsAvailable=!1,o.multiChannelsActive=!1,o.roleMappingEnabled=!1,o.registerControlEvents(),a.window.audioChannels=o,o}return o(t,e),u(t,[{key:"dispose",value:function(){n.i(s.a)("[audioChannels] plugin is being disposed"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"init",value:function(){if(n.i(s.a)("[audioChannels] initialization..."),!this.player.dash)return n.i(s.a)("[audioChannels] dashjs instance not available"),void this.dispose();this.checkExistMultichannelsAudioSource()}},{key:"registerControlEvents",value:function(){var e=this;this.player.one("ott-menu-initialized",function(){e.init()}),this.player.on("ott-achswitch-click",function(t){n.i(s.a)("[audioChannels] recieved switch button event. Checked "+t.checked),e.switchMultiChannelsAudio(t.checked)})}},{key:"resetMultiChannelsState",value:function(){this.stereoChannelsId=null,this.multiChannelsId=null,this.multiChannelsActive=!1,this.multiChannelsAvailable=!1,this.allowAudioChannelsControlInMenu(!1,!1)}},{key:"checkExistMultichannelsAudioSource",value:function(){if(!this.isAnyAudioTracks())return n.i(s.a)("[audioChannels] no multichannels audio tracks"),void this.resetMultiChannelsState();this.setMultichannelsAvailable(),this.setMultichannelsActive(),this.allowAudioChannelsControlInMenu(this.multiChannelsAvailable,this.multiChannelsActive)}},{key:"isAnyAudioTracks",value:function(){return this.player.audioTracks().tracks_.length>0}},{key:"allowAudioChannelsControlInMenu",value:function(e,t){n.i(s.a)("[audioChannels] menu control switch allowed: "+e+" | active: "+t),this.player.trigger({type:"ott-audiochannels-control",audioChannelsAllowed:e,multiChannelsActive:t})}},{key:"switchMultiChannelsAudio",value:function(e){if(!this.isAnyAudioTracks())return this.resetMultiChannelsState(),void n.i(s.a)("[audioChannels] no multichannels audio tracks");if(e&&this.multiChannelsId&&this.multiChannelsAvailable){if(this.roleMappingEnabled)return void this.resetPlayerAudio({role:"alternate"});this.resetPlayerAudio({audioChannelConfigurationValue:6})}else if(!e&&this.stereoChannelsId&&this.multiChannelsActive){if(this.roleMappingEnabled)return void this.resetPlayerAudio({role:"main"});this.resetPlayerAudio({audioChannelConfigurationValue:2})}else n.i(s.a)("[audioChannels] not available in this moment... enable: "+e+", available: "+this.multiChannelsAvailable+", active: "+this.multiChannelsActive+", stereoId: "+this.stereoChannelsId+", multiId: "+this.multiChannelsId),this.allowAudioChannelsControlInMenu(!1,!1)}},{key:"resetPlayerAudio",value:function(e){n.i(s.a)("[audioChannels] change initial audio setting "+JSON.stringify(e)),this.player.reset.resetData.data.html5.dash.setInitialMediaSettingsFor=["audio",e],this.player.reset.resetPlayer(null,this.player.currentTime())}},{key:"setMultichannelsActive",value:function(){var e=this;this.player.audioTracks().tracks_.forEach(function(t){t.id===e.multiChannelsId&&t.enabled&&(e.multiChannelsActive=!0,n.i(s.a)("[audioChannels] set multichannels active "+t.id))})}},{key:"setMultichannelsAvailable",value:function(){var e=this,t=null,r=null,i=this.options.fallbackRoleMapping||null;if(this.player.dash.mediaPlayer.getTracksFor("audio").forEach(function(o){var a=parseInt(o.audioChannelConfiguration[0],10);switch(!0){case 2===a:t="dash-audio-"+o.index;break;case e.supportedMultichannelsNum===a:r="dash-audio-"+o.index;break;case!a&&i&&o.roles[0]===i:n.i(s.a)("[audioChannels] not found audioChannelConfiguration. Saved '"+i+"' role (from config) as multichannels source "),e.roleMappingEnabled=!0,r="dash-audio-"+o.index;break;case!a&&i&&"main"===o.roles[0]:n.i(s.a)("[audioChannels] not found audioChannelConfiguration. Saved main role as stereo source"),t="dash-audio-"+o.index}}),!r||!t)return t||n.i(s.a)("[audioChannels] not found stereo audio track for switch back"),void this.resetMultiChannelsState();this.multiChannelsAvailable=!0,this.multiChannelsId=r,this.stereoChannelsId=t,n.i(s.a)("[audioChannels] set multiChannels audio. (Stereo id) "+this.stereoChannelsId+" (5.1 id) "+this.multiChannelsId)}}]),t}(c);a.videojs.registerPlugin("audioChannelsController",f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(2)),s=n(9),u=n(7),l=n(263),c=n(98),f=function(e){n.i(c.a)(e.target,e.url)?(i.a.not.finite(e.startSec)&&(e.startSec=u.i),i.a.not.finite(e.countDown)&&(e.countDown=u.j),this.addChild(new l.a(this.player_,e)),n.i(a.a)("autoplayNext plugin initialized")):a.a.error(s.p.code,s.p.message)};o.videojs.registerPlugin("autoplayNext",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=(n.n(a),n(2)),u=n(264),l=n(14),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=a.videojs.getPlugin("plugin"),d=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));a.options=o;var u=a.isStrictMode();return a.showButton=a.showButton.bind(a),!1===u||u&&a.strictBrowserDetect()?a.checkPlayerMuteState():n.i(s.a)("[Big unmute button controller] plugin initialized - big unmute button not be displayed"),a}return o(t,e),c(t,[{key:"showButton",value:function(){n.i(l.a)(this.player)||(this.player.muted&&this.player.muted()&&this.player.addChild(new u.a(this.player,this.options)),this.player.off("playing",this.showButton),n.i(s.a)("[Big unmute button controller] player mute state: "+(this.player.muted()?"true - showing button":"false - button not show")))}},{key:"checkPlayerMuteState",value:function(){this.player.on("playing",this.showButton)}},{key:"isStrictMode",value:function(){return!1!==this.options.strictMode||this.options.strictMode}},{key:"strictBrowserDetect",value:function(){return a.videojs.browser.IS_SAFARI}}]),t}(f);a.videojs.registerPlugin("bigUnmuteButton",d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(265),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(e.chromecast&&e.chromecast.castSenderURL){new o.a(t,e.chromecast)}n.i(i.a)("cast plugin initialized")};r.videojs.registerPlugin("cast",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(269),a=function(e){var t=this,r=function(){this.controlBar.addChild(new o.a(t))};t.one("loadeddata",r),n.i(i.a)("expand screen plugin initialized")};r.videojs.registerPlugin("expandScreen",a)},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=(n.n(a),n(1)),u=(n.n(s),n(71)),l=n.n(u),c=n(2),f=n(9),d=n(7),p=n(20),h=n(14),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(){function e(t,n,r){o(this,e),this.productId=t,this.from=n,this.customData=r}return g(e,[{key:"getJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.from,t={productId:this.productId,product:this.productId};if(void 0!==e&&(t.from=e),this.customData){var n=this.customData;t=Object.assign(n,t)}return t}}]),e}(),b=function(e){function t(e,n,i,a,s,u){o(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a,u));return l.position=n,l.viewed=i,l.playAccessToken=s,l}return i(t,e),g(t,[{key:"getJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.from,n=v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getJson",this).call(this,e);return n.position=this.position,n.viewed=this.viewed,this.playAccessToken&&(n.playAccessToken=this.playAccessToken),n}}]),t}(m),k=function(e){var t=e.options_.plugins.heartBeats;e.dispose();var n=(t.errors||{})[403]||{},r=n.className;if(r){var i=l.a.getElementsByClassName(r);Array.prototype.forEach.call(i,function(e){var t=e.classList;t.contains(d.m)||t.add(d.m)})}},w=function(e,t){403===t.status?(c.a.error(f.w.code,f.w.message),e.trigger(y({type:"ott-custom-error"},f.w)),k(e)):404===t.status&&(c.a.error(f.x.code,f.x.message),e.trigger(y({type:"ott-custom-error"},f.x)))},E=function(e){var t=this,r=e.productId,i=e.startBeatUrl,o=e.viewBeatUrl,a=e.heartBeatUrl,u=e.preRollBeatUrl,l=e.viewBeatInterval,d=e.heartBeatInterval,v=e.preRollBeatInterval,g=void 0===v?2:v,k=e.requestHeaders,E=void 0===k?{}:k,T=e.sameOrigin,_=void 0!==T&&T,P=e.sendISODuration,C=void 0===P||P,A=e.from,O=e.playAccessToken,S=e.customData,j=e.heartBeatInterval+e.viewBeatInterval,I=0,x=0,D=!u,L=function(e,r){return n.i(s.fetch)(r,y({method:"POST",headers:y({"Content-Type":"application/json"},E),body:JSON.stringify(e.getJson())},_?{credentials:"same-origin",mode:"same-origin"}:{})).then(function(e){w(t,e)}).catch(function(e){c.a.error(f.y.code,e.message),t.trigger(y({type:"ott-custom-error"},f.y))})},R=function(){var e=new m(r,A,S);L(e,i)},N=function(e,n){var i=Math.round(t.currentTime());C&&(i="PT"+i+"S");var o=new b(r,i,n,A,O,S);L(o,e)},M=function(){if(!D){D=!0;var e=new m(r,A,S);L(e,u),n.i(c.a)("[heartbeats] preroll beat sended")}};t.options_.plugins.playedTicks||c.a.error(f.z.code,f.z.message);var F=function(e){I=e.ticks,!D&&!n.i(h.a)(t)&&I>=g&&(M(),D=!0),I===l?(x=I,N(o,I),t.trigger("ott-viewbeat-sended")):I>=j&&(j=I+d,N(a,I-x),t.trigger("ott-heartbeat-sended"),x=I)},U=function(){I>l&&(N(a,I-x),x=I,j=I+d)},B=function e(){t.off([p.a.AD_LOADED,p.a.PROGRAM_LOADED],e),R(),this.trigger("ott-startbeat-sended")};t.one([p.a.AD_LOADED,p.a.PROGRAM_LOADED],B),t.on(p.a.PLAY,function(e){e.adStreamInfo||U()}),t.on(p.a.PAUSE,function(e){e.adStreamInfo||U()}),t.on(p.a.ENDED,function(e){e.adStreamInfo||U()}),t.on("ott-playertick",F),t.one(p.a.AD_PLAY,function(e){"preroll"===e.adStreamInfo.adType&&M()}),n.i(c.a)("[heartBeats] plugin initialized")};s.videojs.registerPlugin("heartBeats",E)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(270),a=function(e){var t=this,r=function(){this.controlBar.addChild(new o.a(t))};t.one("loadeddata",r),n.i(i.a)("help button plugin initialized")};r.videojs.registerPlugin("helpButton",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(271),a=n(272),s=function(e){var t=this;e.liveRestartEndpointUrl=e.liveRestartEndpointUrl;var r=function(){var n={cssClass:["cancel-live-restart","vjs-icon-close"],name:t.localize("cancel timeshifting"),controlBar:t.controlBar};this.controlBar.addChild(new o.a(t,e)),this.controlBar.addChild(new a.a(t,n))};t.one("loadeddata",r),n.i(i.a)("live restart plugin initialized")};r.videojs.registerPlugin("liveRestartButton",s)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=(n.n(a),n(153)),u=n(2),l=n(9),c=n(150),f=n(151),d=n(149),p=n(155),h=n(154),y=n(148),v=n(14),g=n(43),m=n(32),b=n(20),k=n(26),w=n(7),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.measuringType="custom",o.streamInfo||u.a.error(l.A.code,l.A.message),o.services||u.a.error(l.B.code,l.B.message),e.options_.plugins.playedTicks||u.a.error(l.C.code,l.C.message),a.streamInfo=o.streamInfo,a.adStreamInfo=null,a.pauseFired=!0,a.isPlaying=!1,a.streamCompleted=!1,a.ticks=0,a.lastTick=0,a.firstProgramPlay=!0,a.currentProgramTime=0,a.currentPlayerWidth=e.el_.offsetWidth,a.currentPlayerHeight=e.el_.offsetHeight,a.currentProgramID=null,a.currentAd=null,a.enabledCheckReachedCredits=!1,a.reachedCredits=!1,a.deviceType=a.getDeviceType(),a.adLoadedTriggered=!1,a.adPlayTriggered=!1,a.adEnded=!1,a.adTimeUpdateLastTimeReported=0,a.timeUpdateLastTimeReported=0,n.i(k.a)(function(){return o.services})&&a.initServices(o.services),a.log("plugin initialized"),a}return o(t,e),T(t,[{key:"initServices",value:function(e){if(n.i(k.a)(function(){return e.gtmBasic})){new c.a(this.player,e.gtmBasic).startWatching()}else if(n.i(k.a)(function(){return e.gtmComplex})){var t=new f.a(this.player,e.gtmComplex);t.startWatching()}var r=void 0;if(r=this.player.muted()?0:this.player.volume(),n.i(k.a)(function(){return e.gemius})){new d.a(this.player,e.gemius,{width:this.currentPlayerWidth,height:this.currentPlayerHeight},r).startWatching()}if(n.i(k.a)(function(){return e.nielsen})){new p.a(this.player,e.nielsen,this.streamInfo)}if(n.i(k.a)(function(){return e.mux})){new h.a(this.player,e.mux)}if(n.i(k.a)(function(){return e.cerebroad})){new y.a(this.player,e.cerebroad,this.streamInfo)}}},{key:"getWatchedTime",value:function(){var e=this.ticks,t=e-this.lastTick;return this.lastTick=e,t}},{key:"getVideoInfo",value:function(){var e=void 0;return e=this.player.muted()?0:this.player.volume(),{width:this.player.videoWidth(),height:this.player.videoHeight(),quality:-1,volume:e}}},{key:"getAdStreamInfo",value:function(){if(null!==this.adStreamInfo)return this.adStreamInfo}},{key:"updateCurrentProgram",value:function(){this.currentProgramID=this.streamInfo.programID}},{key:"updateCurrentAd",value:function(){this.currentAd=n.i(v.c)(this.player)}},{key:"disposeCurrentAd",value:function(){this.currentAd=null}},{key:"checkReachedCredits",value:function(e){var t=this.player.options_.durationWithoutCredits;!this.reachedCredits&&e>=t&&this.triggerReachedCredits()}},{key:"getAdsInventory",value:function(){var e=void 0,t=void 0;if("midrolls"!==this.player.adstate.currentAdtype){var n=this.player.adstate.inventory[this.player.adstate.currentAdtype];e=n.vasts[0],t=n.ads.length}else{var r=this.player.adstate.inventory.midrolls[this.player.adstate.currentMidrollIndex];e=r.vasts[0],t=r.ads.length}return{name:e,ads_count:t}}},{key:"isCurrentAdLoaded",value:function(){return this.currentAd===n.i(v.c)(this.player)}},{key:"isFirstAd",value:function(){return null===this.currentAd}},{key:"isCurrentProgramLoaded",value:function(){return this.currentProgramID===this.streamInfo.programID}},{key:"isProgramLoaded",value:function(){return null!==this.currentProgramID}},{key:"registerEvents",value:function(){var e=this;this.player.options_.durationWithoutCredits&&(this.enabledCheckReachedCredits=!0,this.log("check reached credits enabled => wait for "+this.player.options_.durationWithoutCredits+"s")),this.player.on("ott-playertick",function(t){e.ticks=t.ticks,e.currentProgramTime=e.getCurrentTime(),e.enabledCheckReachedCredits&&e.checkReachedCredits(e.currentProgramTime)}),this.player.on("loadedmetadata",function(){var t=n.i(v.a)(e.player),r=n.i(v.c)(e.player);e.log("recieve loadedmetadata - in admode("+t+")"),t&&(!r||null!==e.adStreamInfo&&e.isCurrentAdLoaded()||e.isCurrentProgramLoaded()&&e.isFirstAd()&&e.triggerBreak()),e.isCurrentProgramLoaded()||e.triggerProgramLoaded()}),this.player.on("loadedmetadata-force",function(){n.i(v.a)(e.player)||e.triggerProgramLoaded()}),this.player.on("playing",this.triggerPlay.bind(this)),this.player.on("pause",this.triggerPause.bind(this)),this.player.on(["ended","contentended"],this.triggerEnded.bind(this)),this.player.on("waiting",this.triggerBuffer.bind(this)),this.player.on("seeking",this.triggerSeek.bind(this)),this.player.on("timeupdate",this.triggerTimeupdate.bind(this)),this.player.on(["volumechange","advolumechange"],this.triggerVolumeChange.bind(this)),this.player.on("ott-quality-changed",this.triggerQualityChanged.bind(this)),this.player.on("ott-dash-quality-auto",this.triggerQualityChanged.bind(this,"auto")),this.player.on("fullscreenchange",function(t){e.triggerFullscreenChanged(t)}),this.player.on("error",this.triggerError.bind(this)),this.player.on("linearclickthrough",this.triggerLinearClickThrough.bind(this)),this.player.on("companionstarted",this.triggerCompanionStarted.bind(this)),this.player.on("companionclickthrough",this.triggerCompanionClickThrough.bind(this)),this.player.on("companionended",this.triggerCompanionEnded.bind(this)),this.player.on("overlaycanplay",this.triggerOverlayCanPlay.bind(this)),this.player.on("overlayclickthrough",this.triggerOverlayClickThrough.bind(this)),this.player.on("overlayended",this.triggerOverlayEnded.bind(this)),this.player.on("adstart",this.triggerAdsBlockStart.bind(this)),this.player.on("adend",this.triggerAdsBlockEnd.bind(this)),this.player.on("adplay",this.triggerAdPlay.bind(this)),this.player.on("adended",this.triggerAdComplete.bind(this)),this.player.on("adpause",this.triggerAdPause.bind(this)),this.player.on(["postrollended",w.n],this.triggerPostrollCompleteWorkaround.bind(this)),this.player.on("adtimeupdate",this.triggerAdTimeupdate.bind(this)),this.player.on("vasttracker-firstQuartile",this.triggerAdQuartileProgress.bind(this,"firstquartile")),this.player.on("vasttracker-midpoint",this.triggerAdQuartileProgress.bind(this,"midpoint")),this.player.on("vasttracker-thirdQuartile",this.triggerAdQuartileProgress.bind(this,"thirdquartile")),this.registerGlobalWindowListener("beforeunload",this.triggerClose.bind(this)),this.registerGlobalWindowListener("unload",this.triggerClose.bind(this)),this.registerGlobalWindowListener("pagehide",this.triggerClose.bind(this)),this.registerGlobalWindowListener("resize",this.triggerPlayerResolutionChanged.bind(this)),this.registerGlobalWindowListener("playerresize",this.triggerPlayerResolutionChanged.bind(this))}},{key:"triggerProgramLoaded",value:function(){var e=b.a.PROGRAM_LOADED,t={type:e,streamInfo:this.streamInfo,videoInfo:this.getVideoInfo(),deviceType:this.deviceType};this.triggerEvent(e,t),this.updateCurrentProgram()}},{key:"triggerAdLoaded",value:function(){if(!this.adLoadedTriggered){this.adLoadedTriggered=!0;var e=n.i(v.c)(this.player),t=(e.creatives[0]||{}).duration,r=t||this.player.duration();this.adStreamInfo={adID:e.id,adDesc:e.description,adName:e.title,adDuration:r,adType:e.type||n.i(v.e)(this.player).adType,campaignClassification:e.advertiser||"unclassified"};var i=b.a.AD_LOADED,o={type:i,adStreamInfo:this.adStreamInfo,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo};this.triggerEvent(i,o),this.updateCurrentAd()}}},{key:"triggerAdPlay",value:function(){if(n.i(v.a)(this.player)){this.triggerAdLoaded(),this.adEnded=!1,this.adPlayTriggered=!0;var e=n.i(v.e)(this.player),t=this.getAdStreamInfo();if(e&&t){var r=b.a.AD_PLAY,i=E({type:r,streamInfo:this.streamInfo,adStreamInfo:t,currentTime:this.currentProgramTime,autoplay:!this.pauseFired,videoInfo:this.getVideoInfo()},e);this.triggerEvent(r,i)}}}},{key:"triggerPlay",value:function(){var e=this;if(!n.i(k.a)(function(){return e.player.adstate.adPlaying})&&this.isProgramLoaded()&&this.pauseFired){var t=b.a.PLAY,r={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,autoplay:this.firstProgramPlay,videoInfo:this.getVideoInfo(),firstPlay:this.firstProgramPlay};this.triggerEvent(t,r),this.firstProgramPlay=!1,this.pauseFired=!1,this.disposeCurrentAd(),this.isPlaying=!0}}},{key:"triggerTimeupdate",value:function(){if(!n.i(v.a)(this.player)&&this.isPlaying&&!this.pauseFired){var e=b.a.TIMEUPDATE,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime},r=!1,i=e+" - limited logging 1 event/second",o=Math.floor(this.currentProgramTime);o!==this.timeUpdateLastTimeReported&&(this.timeUpdateLastTimeReported=o,r=!0),this.triggerEvent(i,t,r)}}},{key:"triggerAdTimeupdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.i(v.a)(this.player)&&!this.adEnded){var t=n.i(v.e)(this.player),r=this.getAdStreamInfo(),i=e.currentTime;if(t&&r){var o=b.a.AD_TIMEUPDATE,a=E({type:o,streamInfo:this.streamInfo,adStreamInfo:r,currentTime:i||this.player.currentTime(),autoplay:!this.pauseFired,videoInfo:this.getVideoInfo()},t),s=!1,u=o+" - limited logging 1 event/second",l=Math.floor(this.currentProgramTime);l!==this.timeUpdateLastTimeReported&&(this.adTimeUpdateLastTimeReported=l,s=!0),this.triggerEvent(u,a,s)}}}},{key:"triggerPause",value:function(){if(this.isPlaying&&!this.pauseFired&&this.isProgramLoaded()){if(!n.i(v.a)(this.player)&&this.currentProgramTime===Math.floor(this.player.durationOfActiveMedia())){var e={type:"vodcontentend",streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adStreamInfo:this.getAdStreamInfo(),lengthPlayed:this.getWatchedTime()};this.triggerEvent("vodcontentend",e)}var t=b.a.PAUSE,r={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adStreamInfo:this.getAdStreamInfo(),lengthPlayed:this.getWatchedTime()};this.triggerEvent(t,r),this.pauseFired=!0}}},{key:"triggerAdPause",value:function(){if(n.i(v.a)(this.player)&&this.isProgramLoaded()){var e=b.a.AD_PAUSE,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adStreamInfo:this.getAdStreamInfo(),lengthPlayed:this.getWatchedTime()};this.triggerEvent(e,t)}}},{key:"triggerPostrollCompleteWorkaround",value:function(){this.streamCompleted||this.triggerComplete(this)}},{key:"triggerComplete",value:function(e){this.streamCompleted=!0;var t=b.a.COMPLETE,n={type:t,streamInfo:e.streamInfo,currentTime:e.currentProgramTime,adStreamInfo:e.getAdStreamInfo(),lengthPlayed:e.getWatchedTime()};this.triggerEvent(t,n)}},{key:"triggerAdComplete",value:function(e){if(this.adPlayTriggered){if(this.adLoadedTriggered=!1,this.adPlayTriggered=!1,this.adEnded=!0,n.i(k.a)(function(){return e.skipped})&&this.player.currentTimeOfActiveMedia()!==this.player.durationOfActiveMedia())return void this.triggerSkip();var t=b.a.AD_COMPLETE,r={type:t,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime};this.triggerEvent(t,r)}}},{key:"triggerEnded",value:function(){if(this.isPlaying&&!this.streamCompleted&&!n.i(v.a)(this.player)){var e=b.a.ENDED,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adStreamInfo:this.getAdStreamInfo(),lengthPlayed:this.getWatchedTime()};if(this.triggerEvent(e,t),this.isPlaying=!1,n.i(v.f)(this.player)){var r=n.i(g.a)(this.player.adstate,m.a.postroll);r.requested&&r.played===r.ads.length&&this.triggerComplete(this)}else n.i(v.a)(this.player)||this.triggerComplete(this)}this.pauseFired=!0}},{key:"triggerBuffer",value:function(){if(this.isCurrentProgramLoaded()&&(!n.i(v.a)(this.player)||this.isCurrentAdLoaded())){var e=b.a.BUFFER,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime};this.triggerEvent(e,t)}}},{key:"triggerBreak",value:function(){if(this.isPlaying){var e=b.a.BREAK,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t),this.isPlaying=!1}}},{key:"triggerSeek",value:function(){if(this.isPlaying&&this.isProgramLoaded()&&!n.i(v.a)(this.player)&&Math.floor(this.player.currentTime())!==Math.floor(this.currentProgramTime)){var e=b.a.SEEK,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime};this.triggerEvent(e,t)}this.currentProgramTime=this.getCurrentTime(),this.getCurrentTime()<this.player.options_.durationWithoutCredits&&this.reachedCredits&&(this.log("check reached credits reinit - user seek back in stream"),this.reachedCredits=!1)}},{key:"triggerClose",value:function(){var e=b.a.CLOSE,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime};this.triggerEvent(e,t)}},{key:"triggerSkip",value:function(){if(this.isProgramLoaded()){var e=b.a.SKIP,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime};this.triggerEvent(e,t)}}},{key:"triggerVolumeChange",value:function(){if(this.isProgramLoaded()){var e=void 0;e=this.player.muted()?0:this.player.volume();var t=b.a.VOLUME_CHANGED,n={type:t,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime,volume:e};this.triggerEvent(t,n)}}},{key:"triggerPlayerResolutionChanged",value:function(){if(this.isProgramLoaded()&&(this.player.el_.offsetWidth!==this.currentPlayerWidth||this.player.el_.offsetHeight!==this.currentPlayerHeight)){this.currentPlayerWidth=this.player.el_.offsetWidth,this.currentPlayerHeight=this.player.el_.offsetHeight;var e=b.a.PLAYER_RESOLUTION_CHANGED,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime,resolution:{width:this.currentPlayerWidth,height:this.currentPlayerHeight}};this.triggerEvent(e,t)}}},{key:"triggerQualityChanged",value:function(e){if(this.isProgramLoaded()){var t=b.a.QUALITY_CHANGED,n={type:t,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime,quality:e.qualityIdx};this.triggerEvent(t,n)}}},{key:"triggerFullscreenChanged",value:function(e){if(this.isProgramLoaded()&&!e.timeStamp){var t=b.a.FULLSCREEN_CHANGED,n={type:t,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime,isFullscreen:this.player.isFullscreen()};this.triggerEvent(t,n)}}},{key:"triggerError",value:function(){var e=this.player.error(),t=b.a.ERROR,n={type:t,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo(),currentTime:this.currentProgramTime,error:e};this.triggerEvent(t,n)}},{key:"triggerLinearClickThrough",value:function(){if(this.isProgramLoaded()){var e=b.a.LINEAR_CLICK_THROUGH,t={type:e,adStreamInfo:this.getAdStreamInfo(),streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t)}}},{key:"triggerCompanionStarted",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_STARTED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerCompanionClickThrough",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_CLICK_THROUGH,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerCompanionEnded",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_ENDED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerOverlayCanPlay",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_CAN_PLAY,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.overlay};this.triggerEvent(t,n)}}},{key:"triggerOverlayClickThrough",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_CLICK_THROUGH,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.overlay};this.triggerEvent(t,n)}}},{key:"triggerOverlayEnded",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_ENDED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.overlay};this.triggerEvent(t,n)}}},{key:"triggerAdsBlockStart",value:function(){var e=b.a.ADS_BLOCK_START,t={type:e,streamInfo:this.streamInfo,inventory:this.getAdsInventory()};this.triggerEvent(e,t)}},{key:"triggerAdsBlockEnd",value:function(){var e=b.a.ADS_BLOCK_END,t={type:e,streamInfo:this.streamInfo,adStreamInfo:this.getAdStreamInfo()};this.triggerEvent(e,t)}},{key:"triggerReachedCredits",value:function(){var e=b.a.REACHED_CREDITS,t={type:e,streamInfo:this.streamInfo};this.triggerEvent(e,t),this.reachedCredits=!0}},{key:"triggerAdQuartileProgress",value:function(e){var t=null;switch(e){case"firstquartile":t=b.a.AD_FIRSTQUARTILE;break;case"midpoint":t=b.a.AD_MIDPOINT;break;case"thirdquartile":t=b.a.AD_THIRDQUARTILE}var n={type:t,adStreamInfo:this.adStreamInfo,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo};this.triggerEvent(t,n)}}]),t}(s.a);a.videojs.registerPlugin("measuring",_)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=n.n(a),u=n(1),l=(n.n(u),n(153)),c=n(2),f=n(9),d=n(150),p=n(151),h=n(149),y=n(155),v=n(154),g=n(148),m=n(14),b=n(20),k=n(156),w=n(26),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.noMoreAds=function(){a.hasPostroll&&(a.hasPostroll=!1,a.log("no more ads loaded - wait for postroll complete: off"))},a.measuringType="ima",o.streamInfo||c.a.error(f.A.code,f.A.message),o.services||c.a.error(f.B.code,f.B.message),e.options_.plugins.playedTicks||c.a.error(f.C.code,f.C.message),a.streamInfo=o.streamInfo,a.adStreamInfo=null,a.pauseFired=!0,a.isPlaying=!1,a.hasPostroll=!1,a.streamCompleted=!1,a.ticks=0,a.lastTick=0,a.firstProgramPlay=!0,a.currentProgramTime=0,a.currentPlayerWidth=e.el_.offsetWidth,a.currentPlayerHeight=e.el_.offsetHeight,a.currentProgramID=null,a.currentAd=null,a.adCurrentTime=0,a.adDuration=0,a.adTimeUpdateLastTimeReported=0,a.timeUpdateLastTimeReported=0,a.triggerClose=a.triggerClose.bind(a),a.triggerPlayerResolutionChanged=a.triggerPlayerResolutionChanged.bind(a),a.checkReachedCreditsTime=e.options_.durationWithoutCredits||null,a.reachedCredits=!1,a.checkReachedCreditsTime&&a.log("check reached credits enabled => wait for "+a.checkReachedCreditsTime+"s"),a.deviceType=a.getDeviceType(),a.adEnded=!1,n.i(w.a)(function(){return o.services})&&a.initServices(o.services),a.log("plugin initialized!"),a}return o(t,e),T(t,[{key:"initServices",value:function(e){if(n.i(w.a)(function(){return e.gtmBasic})){new d.a(this.player,e.gtmBasic).startWatching()}else if(n.i(w.a)(function(){return e.gtmComplex})){var t=new p.a(this.player,e.gtmComplex);t.startWatching()}var r=void 0;if(r=this.player.muted()?0:this.player.volume(),n.i(w.a)(function(){return e.gemius})){new h.a(this.player,e.gemius,{width:this.currentPlayerWidth,height:this.currentPlayerHeight},r).startWatching()}if(n.i(w.a)(function(){return e.nielsen})){new y.a(this.player,e.nielsen,this.streamInfo)}if(n.i(w.a)(function(){return e.mux})){new v.a(this.player,e.mux)}if(n.i(w.a)(function(){return e.cerebroad})){new g.a(this.player,e.cerebroad,this.streamInfo)}}},{key:"getWatchedTime",value:function(){var e=this.ticks,t=e-this.lastTick;return this.lastTick=e,t}},{key:"getVideoInfo",value:function(){var e=void 0;return e=this.player.muted()?0:this.player.volume(),{width:this.player.videoWidth(),height:this.player.videoHeight(),quality:-1,volume:e}}},{key:"transformAdStreamInfo",value:function(e){return{adID:e.getAdId(),adDesc:e.getDescription(),adName:e.getTitle(),adDuration:e.getDuration(),asmeaCode:e.getTraffickingParameters("adParameters").asmea,adType:e.isLinear()?n.i(m.b)(e):"nonlinear",campaignClassification:e.getAdvertiserName()||"unclassified"}}},{key:"updateCurrentProgram",value:function(){this.currentProgramID=this.streamInfo.programID}},{key:"updateCurrentAd",value:function(){this.currentAd=n.i(m.c)(this.player)}},{key:"disposeCurrentAd",value:function(){this.currentAd=null}},{key:"checkReachedCredits",value:function(){!this.reachedCredits&&this.currentProgramTime>=this.checkReachedCreditsTime&&this.triggerReachedCredits()}},{key:"listenHasPostroll",value:function(){this.log("source has postroll - wait for postroll complete: on"),this.hasPostroll=!0}},{key:"getCurrentTime",value:function(){return Math.round(this.player.currentTime())}},{key:"getAdsInventory",value:function(){var e=n.i(m.c)(this.player);return{name:e.getWrapperAdIds().join("[wid]")+"[fid]"+e.getAdId(),ads_count:e.getAdPodInfo().getTotalAds()}}},{key:"isCurrentAdLoaded",value:function(){return this.currentAd===n.i(m.c)(this.player)}},{key:"isFirstAd",value:function(){return null===this.currentAd}},{key:"isCurrentProgramLoaded",value:function(){return this.currentProgramID===this.streamInfo.programID}},{key:"isProgramLoaded",value:function(){return null!==this.currentProgramID}},{key:"triggerProgramLoaded",value:function(){var e=b.a.PROGRAM_LOADED,t={type:e,streamInfo:this.streamInfo,videoInfo:this.getVideoInfo(),deviceType:this.deviceType};this.triggerEvent(e,t),this.updateCurrentProgram()}},{key:"triggerAdLoaded",value:function(e){if(e.isLinear){var t=this.transformAdStreamInfo(e.ad),n=b.a.AD_LOADED,r={type:n,adStreamInfo:t,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo};this.triggerEvent(n,r)}}},{key:"triggerTimeupdate",value:function(){var e=b.a.TIMEUPDATE,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime},n=!1,r=e+" - limited logging 1 event/second",i=Math.floor(this.currentProgramTime);i!==this.timeUpdateLastTimeReported&&(this.timeUpdateLastTimeReported=i,n=!0),this.triggerEvent(r,t,n)}},{key:"triggerAdTimeupdate",value:function(e){if(!this.adEnded){this.adCurrentTime=Math.floor(e.adData.currentTime),this.adDuration=e.adData.duration;var t=b.a.AD_TIMEUPDATE,n={type:t,currentTime:this.adCurrentTime,duration:this.adDuration,adPosition:e.adData.adPosition,totalAds:e.adData.totalAds},r=!1,i=t+" - limited logging 1 event/second",o=Math.floor(this.adCurrentTime);o!==this.adTimeUpdateLastTimeReported&&(this.adTimeUpdateLastTimeReported=o,r=!0),this.triggerEvent(i,n,r)}}},{key:"triggerAdPlay",value:function(e){this.adEnded=!1;var t=this.transformAdStreamInfo(e.ad),r=n.i(m.d)(e),i=b.a.AD_PLAY,o=E({type:i,streamInfo:this.streamInfo,adStreamInfo:t,currentTime:this.currentProgramTime,autoplay:!this.pauseFired,videoInfo:this.getVideoInfo()},r);this.triggerEvent(i,o)}},{key:"triggerPlay",value:function(){if(this.isProgramLoaded()&&this.pauseFired){var e=b.a.PLAY,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,autoplay:this.firstProgramPlay,videoInfo:this.getVideoInfo(),firstPlay:this.firstProgramPlay};this.triggerEvent(e,t),this.firstProgramPlay=!1,this.pauseFired=!1,this.disposeCurrentAd(),this.isPlaying=!0}}},{key:"triggerAdPause",value:function(e){var t=this.transformAdStreamInfo(e.ad),n=b.a.AD_PAUSE,r={type:n,adStreamInfo:t,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo,currentTime:this.adCurrentTime};this.triggerEvent(n,r)}},{key:"triggerAdComplete",value:function(e){this.adEnded=!0;var t=this.transformAdStreamInfo(e.ad),n=b.a.AD_COMPLETE,r={type:n,adStreamInfo:t,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo,currentTime:this.adCurrentTime};this.triggerEvent(n,r)}},{key:"triggerPause",value:function(){if(this.isPlaying&&!this.pauseFired&&this.isProgramLoaded()){var e=b.a.PAUSE,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t),this.pauseFired=!0}}},{key:"triggerPostrollCompleteWorkaround",value:function(){this.streamCompleted||this.triggerComplete(this)}},{key:"triggerComplete",value:function(e){if(this.streamCompleted)this.log("supressed double complete event");else{this.streamCompleted=!0;var t=b.a.COMPLETE,n={type:t,streamInfo:e.streamInfo,currentTime:e.currentProgramTime,lengthPlayed:e.getWatchedTime()};this.triggerEvent(t,n),this.log("fired complete event")}}},{key:"triggerEnded",value:function(){var e=this;if(this.isPlaying&&!this.streamCompleted){var t=b.a.ENDED,r={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,lengthPlayed:this.getWatchedTime()};this.triggerEvent(t,r),this.isPlaying=!1,this.hasPostroll?(this.player.off(k.a.ALLADSCOMPLETED,this.noMoreAds),this.player.on(["adtimeout",k.a.ALLADSCOMPLETED],function(){e.triggerComplete(e)})):n.i(m.a)(this.player)||this.triggerComplete(this)}this.pauseFired=!0}},{key:"triggerBuffer",value:function(){if(this.isCurrentProgramLoaded()&&(!n.i(m.a)(this.player)||this.isCurrentAdLoaded())){var e=b.a.BUFFER,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t)}}},{key:"triggerBreak",value:function(){if(this.isPlaying){var e=b.a.BREAK,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t),this.isPlaying=!1}}},{key:"triggerSeek",value:function(){if(this.isProgramLoaded()&&!n.i(m.a)(this.player)&&Math.floor(this.player.currentTime())!==Math.floor(this.currentProgramTime)){var e=b.a.SEEK,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(e,t)}this.currentProgramTime=this.getCurrentTime(),this.getCurrentTime()<this.player.options_.durationWithoutCredits&&this.reachedCredits&&(this.log("check reached credits reinit - user seek back in stream"),this.reachedCredits=!1)}},{key:"triggerClose",value:function(){if(this.isPlaying){var e=n.i(m.c)(this.player),t=e?this.transformAdStreamInfo(e):null,r=b.a.CLOSE,i={type:r,streamInfo:this.streamInfo,adStreamInfo:t,currentTime:this.currentProgramTime};this.triggerEvent(r,i)}}},{key:"triggerSkip",value:function(e){if(this.isProgramLoaded()){var t=this.transformAdStreamInfo(e.ad),n=b.a.SKIP,r={type:n,streamInfo:this.streamInfo,adStreamInfo:t,currentTime:this.adCurrentTime};this.triggerEvent(n,r)}}},{key:"triggerVolumeChange",value:function(){if(this.isProgramLoaded()){var e=void 0;e=this.player.muted()?0:this.player.volume();var t=b.a.VOLUME_CHANGED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,volume:e};this.triggerEvent(t,n)}}},{key:"triggerPlayerResolutionChanged",value:function(){if(this.isProgramLoaded()&&(this.player.el_.offsetWidth!==this.currentPlayerWidth||this.player.el_.offsetHeight!==this.currentPlayerHeight)){this.currentPlayerWidth=this.player.el_.offsetWidth,this.currentPlayerHeight=this.player.el_.offsetHeight;var e=b.a.PLAYER_RESOLUTION_CHANGED,t={type:e,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,resolution:{width:this.currentPlayerWidth,height:this.currentPlayerHeight}};this.triggerEvent(e,t)}}},{key:"triggerQualityChanged",value:function(e){if(this.isProgramLoaded()){var t=b.a.QUALITY_CHANGED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,quality:e.qualityIdx};this.triggerEvent(t,n)}}},{key:"triggerFullscreenChanged",value:function(e){if(this.isProgramLoaded()&&!e.timeStamp){var t=b.a.FULLSCREEN_CHANGED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,isFullscreen:this.player.isFullscreen()};this.triggerEvent(t,n)}}},{key:"triggerAdError",value:function(e){var t=e.ad?this.transformAdStreamInfo(e.ad):null,n=b.a.AD_ERROR,r={type:n,streamInfo:this.streamInfo,adStreamInfo:t,currentTime:this.currentProgramTime,error:e.message};this.triggerEvent(n,r)}},{key:"triggerError",value:function(){var e=this.player.error();if(!s.a.chrome()||4!==e.code){var t=b.a.ERROR,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,error:e};this.triggerEvent(t,n)}}},{key:"triggerLinearClickThrough",value:function(e){if(this.isProgramLoaded()){var t=e.ad?this.transformAdStreamInfo(e.ad):null,n=b.a.LINEAR_CLICK_THROUGH,r={type:n,adStreamInfo:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime};this.triggerEvent(n,r)}}},{key:"triggerCompanionStarted",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_STARTED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerCompanionClickThrough",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_CLICK_THROUGH,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerCompanionEnded",value:function(e){if(this.isProgramLoaded()){var t=b.a.COMPANION_ENDED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adCompanionInfo:e.companion};this.triggerEvent(t,n)}}},{key:"triggerOverlayCanPlay",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_CAN_PLAY,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.overlay};this.triggerEvent(t,n)}}},{key:"triggerOverlayClickThrough",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_CLICK_THROUGH,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.ad.mediaUrl};this.triggerEvent(t,n)}}},{key:"triggerOverlayEnded",value:function(e){if(this.isProgramLoaded()){var t=b.a.OVERLAY_ENDED,n={type:t,streamInfo:this.streamInfo,currentTime:this.currentProgramTime,adOverlayInfo:e.overlay};this.triggerEvent(t,n)}}},{key:"triggerAdStart",value:function(){var e=b.a.ADS_BLOCK_START,t={type:e,streamInfo:this.streamInfo,inventory:this.getAdsInventory()};this.triggerEvent(e,t)}},{key:"triggerAdEnd",value:function(){var e=b.a.ADS_BLOCK_END,t={type:e,streamInfo:this.streamInfo,currentTime:this.adCurrentTime};this.triggerEvent(e,t)}},{key:"triggerReachedCredits",value:function(){var e=b.a.REACHED_CREDITS,t={type:e,streamInfo:this.streamInfo};this.triggerEvent(e,t),this.reachedCredits=!0,this.log("trigger event reached credits")}},{key:"triggerAdQuartileProgress",value:function(e,t){var n=null;switch(t){case"firstquartile":n=b.a.AD_FIRSTQUARTILE;break;case"midpoint":n=b.a.AD_MIDPOINT;break;case"thirdquartile":n=b.a.AD_THIRDQUARTILE}var r=e.ad?this.transformAdStreamInfo(e.ad):null,i={type:n,adStreamInfo:r,videoInfo:this.getVideoInfo(),streamInfo:this.streamInfo};this.triggerEvent(n,i)}},{key:"registerEvents",value:function(){var e=this;this.player.on("ott-playertick",function(t){e.ticks=t.ticks,e.currentProgramTime=e.getCurrentTime()}),this.checkReachedCreditsTime&&this.player.on("ott-playertick",function(){e.checkReachedCredits()}),this.player.on("loadedmetadata",function(){e.isCurrentProgramLoaded()||e.triggerProgramLoaded()}),this.player.on("loadedmetadata-force",function(){n.i(m.a)(e.player)||e.triggerProgramLoaded()}),this.player.on("playing",this.triggerPlay.bind(this)),this.player.on("pause",this.triggerPause.bind(this)),this.player.on("ended",this.triggerEnded.bind(this)),this.player.on("waiting",this.triggerBuffer.bind(this)),this.player.on("seeking",this.triggerSeek.bind(this)),this.player.on("timeupdate",this.triggerTimeupdate.bind(this)),this.player.on("volumechange",this.triggerVolumeChange.bind(this)),this.player.on("ott-quality-changed",this.triggerQualityChanged.bind(this)),this.player.on("ott-dash-quality-auto",this.triggerQualityChanged.bind(this,"auto")),this.player.on("fullscreenchange",function(t){e.triggerFullscreenChanged(t)}),this.player.on("error",this.triggerError.bind(this)),this.player.on("adstart",this.triggerAdStart.bind(this)),this.player.on("adend",this.triggerAdEnd.bind(this)),this.player.on(k.a.HASPOSTROLL,this.listenHasPostroll.bind(this)),this.registerGlobalWindowListener("beforeunload",this.triggerClose.bind(this)),this.registerGlobalWindowListener("unload",this.triggerClose.bind(this)),this.registerGlobalWindowListener("resize",this.triggerPlayerResolutionChanged.bind(this)),this.registerGlobalWindowListener("playerresize",this.triggerPlayerResolutionChanged.bind(this)),this.player.on(k.a.START,function(t){e.triggerAdLoaded(t)}),this.player.on(k.a.ADBREAKREADY,function(){e.triggerBreak()}),this.player.on([k.a.START,k.a.RESUME],function(t){e.triggerAdPlay(t)}),this.player.on(k.a.PAUSE,function(t){e.triggerAdPause(t)}),this.player.on(k.a.ADPROGRESS,function(t){e.triggerAdTimeupdate(t)}),this.player.on(k.a.COMPLETE,function(t){e.triggerAdComplete(t)}),this.player.on(k.a.SKIP,function(t){e.triggerSkip(t)}),this.player.on(k.a.ERROR,function(t){e.triggerAdError(t)}),this.player.on(k.a.FIRSTQUARTILE,function(t){e.triggerAdQuartileProgress(t,"firstquartile")}),this.player.on(k.a.MIDPOINT,function(t){e.triggerAdQuartileProgress(t,"midpoint")}),this.player.on(k.a.THIRDQUARTILE,function(t){e.triggerAdQuartileProgress(t,"thirdquartile")}),this.player.on(k.a.CLICK,function(t){t.isLinear?e.triggerLinearClickThrough(t):e.triggerOverlayClickThrough(t)})}}]),t}(l.a);u.videojs.registerPlugin("measuringIMA",_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(2)),s=function(e){i.a.mobile()?(n.i(a.a)("[mobile-controls] is mobile"),e.inactivityTimeout&&(this.options_.inactivityTimeout=e.inactivityTimeout),this.player_.addClass("vjs-is-on-mobile")):n.i(a.a)("[mobile-controls] no mobile")};o.videojs.registerPlugin("mobileControls",s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(14),a=function(e){var t=this;this._offsetStart=e.start||0,this._offsetEnd=e.end||0;var r=this.constructor;return r.__super__&&r.__super__.__offsetInit||(r.__super__={__offsetInit:!0,duration:r.prototype.duration,currentTime:r.prototype.currentTime,bufferedPercent:r.prototype.bufferedPercent,remainingTime:r.prototype.remainingTime},r.prototype.duration=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];return n.i(o.a)(t)?r.__super__.duration.apply(t,i):t._offsetEnd>0?t._offsetEnd-t._offsetStart:r.__super__.duration.apply(t,i)-t._offsetStart},r.prototype.currentTime=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];var s=i[0];return n.i(o.a)(t)?r.__super__.currentTime.apply(t,i):void 0!==s?r.__super__.currentTime.call(t,s+t._offsetStart)-t._offsetStart:r.__super__.currentTime.apply(t,i)-t._offsetStart},r.prototype.remainingTime=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];if(n.i(o.a)(t))return r.__super__.remainingTime.apply(t,i);var s=t.currentTime();return s<t._offsetStart&&(s=0),t.duration()-s},r.prototype.startOffset=function(){return t._offsetStart},r.prototype.endOffset=function(){return t._offsetEnd>0?t._offsetEnd:t.duration()}),this.on("timeupdate",function(){if(!n.i(o.a)(t)){var e=t.currentTime();e<0&&(t.currentTime(0),t.play()),t._offsetEnd>0&&e>t._offsetEnd-t._offsetStart&&(t.pause(),t.currentTime(t._offsetEnd-t._offsetStart))}}),n.i(i.a)("offset plugin initialized"),this};r.videojs.registerPlugin("offset",a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=(n.n(i),n(14)),a=n(2),s=n(39),u=n(20),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.player=t,this.percentualTreashold=n.percentualTreashold||5,this.streamInfo=null,this.totalDuration=null,this.controlTreasholds={}}return l(e,[{key:"registerEvents",value:function(){var e=this;this.player.on("loadedmetadata",function(){n.i(o.a)(e.player)||0!==Object.keys(e.controlTreasholds).length||(e.totalDuration=Math.round(e.player.duration()),e.streamInfo=n.i(s.a)(e.player),e.setControlTreasholds(),e.player.options_.plugins.playedTicks||a.a.error("[playedPercentual] ERROR! plugin playTicks is required"))}),this.player.on("ott-playertick",function(t){e.controlTreasholds[t.ticks]&&!1===e.controlTreasholds[t.ticks].reported&&(e.controlTreasholds[t.ticks].reported=!0,e.player.trigger({type:u.a.PLAYED_PERCENTUAL,percent:e.controlTreasholds[t.ticks].percent,seconds:e.controlTreasholds[t.ticks].seconds,streamInfo:e.streamInfo}),n.i(a.a)("[playedPercentual] triggered playedpercentual",e.controlTreasholds[t.ticks]))})}},{key:"setControlTreasholds",value:function(){for(var e=this.totalDuration/100,t=this.percentualTreashold;t<=100;t+=this.percentualTreashold){var r=Math.round(t*e);this.controlTreasholds[r]={reported:!1,percent:t,seconds:r}}n.i(a.a)("[playedPercentual] totalDuration: "+this.totalDuration+", onePercent: "+e+", controlTreasholds:",this.controlTreasholds)}}]),e}(),f=function(e){new c(this,e).registerEvents(),n.i(a.a)("playedPercentual plugin initialized")};i.videojs.registerPlugin("playedPercentual",f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(14),a=function(){var e=this,t=this,r=0,a=0,s=function(){var i=e.currentTime(),s=Math.floor(i);if(r!==s&&!n.i(o.a)(e)){if(s-r>1)return void(r=s);r=s,a++,t.trigger({type:"ott-playertick",ticks:a})}};t.on("timeupdate",s),t.on("ended",function(){n.i(o.a)(e)||(r=0,a=0)}),n.i(i.a)("playedTicks plugin initialized")};r.videojs.registerPlugin("playedTicks",a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=(n.n(i),n(2)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.player=t,this.reportEndpointUrl=n.reportEndpointUrl,this.automaticActivationProbability=n.automaticActivationProbability||null,this.automaticReportingIntervalMs=n.automaticReportingIntervalMs||3e4,this.automaticReportingInterval=null,this.apiErrorCounter=0,this.playerUniqueId=this.createPlayerUniqueId(),this.logsBuffer=[],this.maxLogsBufferSizeKb=n.maxLogsBufferSizeKb||4e3,this.defatBufferArrayLogsSize=n.defatBufferArrayLogsSize||1e4,this.lastLogIndex=0,this.frequentLogsTreasholds=this.getFrequentLogsTreasholds(n.frequentLogsTreasholds||null),this.pickupLogsIntervalTimeMs=n.pickupLogsIntervalTimeMs||1e4,this.pickupLogsInterval=null,this.registerPickupLogsInterval(),this.registerFatalEvents(),this.registerControlEvents(),null!=this.automaticActivationProbability&&Math.random()<=this.automaticActivationProbability&&(window.automaticPlayerReport=!0,this.player.hls&&this.player.hls.config&&(this.player.hls.config.debug=!0),this.registerAutomaticReportSending()),window.playerReport=this,this.sendReport=this.sendReport.bind(this)}return s(e,[{key:"getFrequentLogsTreasholds",value:function(e){var t={BufferController:{storeEveryLog:30,actualStoreIndex:0},DashHandler:{storeEveryLog:20,actualStoreIndex:0},ScheduleController:{storeEveryLog:30,actualStoreIndex:0},AbrController:{storeEveryLog:20,actualStoreIndex:0},SegmentBaseLoader:{storeEveryLog:30,actualStoreIndex:0},NextFragmentRequestRule:{storeEveryLog:30,actualStoreIndex:0},setplayheadposition:{storeEveryLog:30,actualStoreIndex:0},playerReport:{storeEveryLog:200,actualStoreIndex:0}};return null!==e&&Object.keys(e).forEach(function(n){t[n]&&e[n].storeEveryLog&&(t[n].storeEveryLog=e[n].storeEveryLog),t[n]={storeEveryLog:e[n].storeEveryLog,actualStoreIndex:0}}),t}},{key:"getStringSizeKb",value:function(e){return Math.round(8*e*125e-6)}},{key:"checkAllowedBufferSize",value:function(){var e=JSON.stringify(this.logsBuffer);return n.i(o.a)("[playerReport] allowedbuffersize check "+this.getStringSizeKb(e.length)+"kb"),this.getStringSizeKb(e.length)<this.maxLogsBufferSizeKb}},{key:"checkLogCanBeSavedToBuffer",value:function(e,t){var n=this;if("error"===e||"warn"===e)return!0;var r=Object.keys(this.frequentLogsTreasholds),i=null;return r.forEach(function(e){if("string"==typeof t&&-1!==t.indexOf(e)&&null===i){var r=n.frequentLogsTreasholds[e];0===r.actualStoreIndex?(r.actualStoreIndex++,i=!0):(r.actualStoreIndex++,i=!1,r.actualStoreIndex>=10&&(r.actualStoreIndex=0))}}),null===i||i}},{key:"defatLogsBuffer",value:function(){var e=Math.round(this.defatBufferArrayLogsSize/2),t=Math.round(this.logsBuffer.length-e),r=this.logsBuffer.filter(function(n,r,i){return r<e?n:r>t?n:"error"===n.type||"warn"===n.type?n:void 0});n.i(o.a)("[PlayerReport] defat logs buffer! Change size from "+this.logsBuffer.length+" to "+r.length+" logs"),this.logsBuffer=r}},{key:"clearLogsBuffer",value:function(){n.i(o.a)("[PlayerReport] clear logs buffer, deleted "+this.logsBuffer.length+" logs"),this.logsBuffer=[]}},{key:"createPlayerUniqueId",value:function(){for(var e=(new Date).getTime(),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"_",i=0;i<10;i++)r+=t.charAt(Math.floor(Math.random()*t.length));return n.i(o.a)("[PlayerReport] created unique report ID: "+r),r}},{key:"createReportJsonBody",value:function(){this.checkAllowedBufferSize||this.defatLogsBuffer();var e={componentName:"player",logData:{playerId:this.playerUniqueId,playerVersion:this.player.VERSION,created:(new Date).getTime(),automatic:!!window.automaticPlayerReport,logsSize:this.logsBuffer.length,logs:this.logsBuffer}},t=JSON.stringify(e,function(){var e=new WeakSet;return function(t,n){if("object"===(void 0===n?"undefined":a(n))&&null!==n){if(e.has(n))return;e.add(n)}return n}}());return this.clearLogsBuffer(),t}},{key:"pickupLogs",value:function(){var e=this;n.i(o.a)("[PlayerReport] pickup logs called successfully! Total logsBuffer size:"+this.logsBuffer.length+" | lastSavedIndex:"+this.lastLogIndex+" | player.logHistory size:"+this.player.logHistory.length);var t=this.player.logHistory.length;if(t>this.logsBuffer.length){for(var r=this.lastLogIndex;r<t;r++){var i=this.player.logHistory[r];this.checkLogCanBeSavedToBuffer(i.type,i.args[0])&&function(){var t={timestamp:i.created,type:i.type,description:i.args[0]};i.args.length>1&&(t.data=[],i.args.forEach(function(e,n){n>0&&t.data.push(e)})),e.logsBuffer.push(t)}()}this.lastLogIndex=t}}},{key:"sendReport",value:function(){var e=this;this.pickupLogs(),n.i(o.a)("[PlayerReport] Send report"),0!==this.logsBuffer.length&&fetch(this.reportEndpointUrl,{method:"POST",body:this.createReportJsonBody(),headers:{"Content-Type":"application/json"}}).catch(function(t){++e.apiErrorCounter>3&&(e.stopAutomaticReportingInterval(),o.a.error("[PlayerReport] stop sending automatic report. API error treashold"))})}},{key:"registerFatalEvents",value:function(){var e=this;this.player.on("error",function(){o.a.error("[PlayerReport] fatal error called, sending report ..."),e.createSendReportButton()})}},{key:"registerPickupLogsInterval",value:function(){var e=this;this.pickupLogsInterval=setInterval(function(){e.pickupLogs()},this.pickupLogsIntervalTimeMs)}},{key:"registerAutomaticReportSending",value:function(){var e=this;this.automaticReportingInterval=setInterval(function(){e.sendReport()},this.automaticReportingIntervalMs)}},{key:"registerControlEvents",value:function(){var e=this;this.player.on("ott-player-send-report",function(){n.i(o.a)("[PlayerReport] control event recieved, sending report ..."),e.sendReport()})}},{key:"stopPickupLogsInterval",value:function(){clearInterval(this.pickupLogsInterval)}},{key:"stopAutomaticReportingInterval",value:function(){clearInterval(this.automaticReportingInterval)}},{key:"createSendReportButton",value:function(){var e=document.querySelector(".vjs-error-display");if(e){var t=document.createElement("div");t.classList.add("ott-error-report-container");var n=document.createElement("div");n.classList.add("ott-error-report-button"),n.innerText=this.player.localize("Send user report"),n.onclick=this.sendReport;var r=document.createElement("div");r.classList.add("ott-error-report-playerid"),r.innerText=this.player.localize("Player unique ID:")+" "+this.playerUniqueId,t.appendChild(n),t.appendChild(r),e.appendChild(t)}}}]),e}(),l=function(e){new u(this,e);n.i(o.a)("[PlayerReport] plugin initialized")};i.videojs.registerPlugin("playerReport",l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=n(290),a=function(e){var t=this,r=function(){this.addChild(new o.a(t,e))};e.isEnabled&&(t.one("loadedmetadata",r),n.i(i.a)("product placement plugin initialized"))};r.videojs.registerPlugin("productPlacement",a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=(n.n(i),n(2)),a=n(26),s=n(20),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.adStarted=function(){if(!n.i(a.a)(function(){return i.player.ads.snapshot.currentTime}))return void o.a.error("[seekback] change snapshot failed");var e=Math.floor(i.player.ads.snapshot.currentTime)-i.seekBackSec;n.i(o.a)("[seekBack] change snapshot, seek back from "+i.player.ads.snapshot.currentTime+" to "+e),i.player.ads.snapshot.currentTime=e,i.snapshotChanged=!0},this.player=t,this.seekBackSec=s.backTimeSec||3,this.snapshotChanged=!1,n.i(o.a)("[seekBack] seekBackTime set to "+this.seekBackSec)}return u(e,[{key:"registerEvents",value:function(){var e=this;this.player.on(s.a.AD_PLAY,function(t){t.adStreamInfo.adType.includes("midroll")&&!e.snapshotChanged&&e.adStarted()}),this.player.on(s.a.ADS_BLOCK_END,function(){e.snapshotChanged=!1})}}]),e}(),c=function(e){new l(this,e).registerEvents(),n.i(o.a)("[seekBack] plugin initialized")};i.videojs.registerPlugin("seekBack",c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=(n(291),n(294),n(14)),a=function(e){var t=this,r=function t(){if(!n.i(o.a)(this)&&!Object.prototype.hasOwnProperty.call(this.controlBar.childNameIndex_,"SeekHintsButton")){this.off("playing",t);var r=this.controlBar.addChild("SeekHintsButton",e);this.controlBar.el().insertBefore(r.el(),this.controlBar.fullscreenToggle.el()),this.addChild("SeekHintsMenu",e)}};t.on("playing",r),n.i(i.a)("seekHints plugin initialized")};r.videojs.registerPlugin("seekHints",a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(159),o=n(94),a=n.n(o),s=n(1),u=(n.n(s),Object.freeze({1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED",5:"MEDIA_ERR_ENCRYPTED",adtimeout:"MEDIA_ERR_ADTIMEOUT",unknown:"MEDIA_ERR_UNKNOWN"})),l=function(e,t){var n=function(n){n.extra=n.extra||{};var r=!1;void 0!==window.thatThingDetect&&(r=window.thatThingDetect),n.extra.adBlockDetected=r,t.extra&&a()(n.extra,n.opts),n.extra.contentType="video",e.adstate&&e.adstate.adPlaying&&(n.extra.contentType="ad",n.extra.adId=e.adstate.linearAdId||"not found");try{n.extra.currentTime=e.currentTime()}catch(e){n.extra.currentTime="not found"}try{n.extra.currentType=e.currentType()}catch(e){n.extra.currentType="not found"}return n},i=function(t){var n=!1;return t.message===u[4]&&"application/dash+xml"===e.currentType().toLowerCase()?n:(Object.keys(u).forEach(function(e){u.hasOwnProperty(e)&&u[e]===t.message&&(n=!0)}),n)};try{window.Raven.config(t.dsn,{dataCallback:n,shouldSendCallback:i})}catch(e){r.a.error(e.message)}},c=function(e){var t=this;e.ravenUrl?n.i(i.a)(e.ravenUrl,l(t,e)):l(t,e),n.i(r.a)("sentry plugin initialized")};s.videojs.registerPlugin("sentryReports",c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=(n.n(r),n(2)),o=(n(301),n(306),n(99)),a=n(14),s=function(e){var t=this;if(e.persistSettings){var r=new o.a(t,e.persistSettings);e.subtitles=r.updateSubtitles(e.subtitles)}var s=function t(){if(!n.i(a.a)(this)&&!Object.prototype.hasOwnProperty.call(this.controlBar.childNameIndex_,"SettingsButton")){this.off("playing",t);var r=this.controlBar.addChild("SettingsButton",e);this.controlBar.el().insertBefore(r.el(),this.controlBar.fullscreenToggle.el()),this.addChild("SettingsMenu",e);this.getChild("SettingsMenu").children_.some(function(e){return!e.hasClass("vjs-hidden")})&&r.show(),this.trigger("ott-menu-initialized")}};t.on("playing",s),n.i(i.a)("settings plugin initialized")};r.videojs.registerPlugin("settings",s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=(n.n(i),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});!function(){var e=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Array.prototype.slice.call(n),a=i.shift()||{};return i.forEach(function(t){if({}.hasOwnProperty.call(i,t)){var n=i[t];n.forEach(function(t){n.hasOwnProperty(t)&&("object"===o(n[t])?a[t]=e(a[t],n[t]):a[t]=n[t])})}}),a},t=function(e,t){return function(n){return window.getComputedStyle?window.getComputedStyle(e,t)[n]:e.currentStyle[n]}},a=function e(n){return"HTML"!==n.nodeName&&"static"===t(n)("position")?e(n.offsetParent):n},s=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},u=function(e){switch(e.toString().length){case 1:return"00"+e;case 2:return"0"+e;case 3:return e;default:return"000"}},l=function(e,t,i,o){if(void 0!==e)for(var a=0;a<e.length;a++)if(t<=parseFloat(e[a].time)&&e[a].time<t+i)return e[a].text;var s=o.options_.plugins.seekHints;if(s&&s.length>0)for(var u=0;u<s.length;u++)if(t<=parseFloat(s[u].time)&&s[u].time<t+i)return n.i(r.a)("[Thumbnails plugin] finded alternative thumbnail text from seek hints start:"+t+" text: "+s[u].text),s[u].text;return null},c=function(e,t,n){for(var r=n/100,i=t.url.split("$"),o=i[0],a=i[i.length-1],s={},c=0,f=1;f<=100;f++){var d={src:o+u(f)+a},p=l(t.markers,c,r,e);null!==p&&(d.text=p),s[c.toFixed(1)]=d,c+=r}return s},f=function(e,t){var n=e.el(),r=n.getBoundingClientRect(),i=n.offsetWidth,o=e.controlBar.progressControl.seekBar.handle,a=r.left,s=0;if(s=t.changedTouches?t.changedTouches[0].pageX:t.pageX,o){var u=o.el().offsetWidth;a+=u/2,i-=u}return Math.max(0,Math.min(1,(s-a)/i))},d=function(t){var o=null,u=this;u.on("loadeddata",function(){var n=u.duration(),r=c(u,t,n);!function(){if(-1!==navigator.userAgent.toLowerCase().indexOf("android")){o=u.controlBar.progressControl;var e=function(){o.addClass("fake-active")},t=function(){o.removeClass("fake-active")};o.on("touchstart",e),o.on("touchend",t),o.on("touchcancel",t)}}();var l=document.createElement("div");l.className="vjs-thumbnail-holder";var d=document.createElement("div");d.className="vjs-thumbnail-wrapper";var p=document.createElement("div");p.className="vjs-thumbnail-arrow",d.appendChild(p);var h=document.createElement("span");d.appendChild(h);var y=document.createElement("img");d.appendChild(y),l.appendChild(d),y.src="",y.className="vjs-thumbnail";var v=document.createElement("p");v.className="vjs-thumbnail-time",d.appendChild(v),e(y.style,""),y.style.left||y.style.right||(y.onload=function(){var e=d.getBoundingClientRect();d.style.left="-"+e.width/2+"px"}),u.on("durationchange",function(){n=u.duration()}),u.on("loadedmetadata",function(){n=u.duration()}),o=u.controlBar.progressControl,o.el().appendChild(l);var g=function(c){var g=0,m=s().x,b=a(o.el()).getBoundingClientRect(),k=(b.width||b.right)+m,w=c.pageX;c.changedTouches&&(w=c.changedTouches[0].pageX);var E=w||c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;E-=a(o.el()).getBoundingClientRect().left+m;var T=Math.floor((E-o.el().offsetLeft)/o.width()*n);Object.keys(r).forEach(function(e){T>e&&(g=Math.max(g,e))});var _=r[g%1==0?g+".0":g];for(_.src&&y.src!==_.src&&(y.src=_.src),_.style&&y.style!==_.style&&e(y.style,_.style);h.firstChild;)h.removeChild(h.firstChild);for(void 0!==_.text&&h.appendChild(document.createTextNode(_.text));v.firstChild;)v.removeChild(v.firstChild);var P=f(u,c)*u.duration();v.appendChild(document.createTextNode(i.videojs.formatTime(P)));var C=d.getBoundingClientRect(),A=C.width,O=A/2,S=p.getBoundingClientRect(),j=O-S.width/2;t.overflow||(E+O>k?(j=Math.min(E+j-(k-O),A-S.width),E=k-O):E<O&&(j=Math.max(E+j-O,0),E=O)),l.style.left=E+"px",p.style.left=j+"px"};o.on("mousemove",g),o.on("touchmove",g);var m=function(){l.style.left="-1000px"};o.on("mouseout",m),o.on("touchcancel",m),o.on("touchend",m),u.on("userinactive",m)}),n.i(r.a)("thumbnails plugin initialized")};i.videojs.registerPlugin("thumbnails",d)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n.n(r),o=n(94),a=n.n(o),s=n(1),u=(n.n(s),n(2)),l=n(76),c=n(64),f=n(335),d=n(332),p=n(336),h=n(338),y=n(9),v=n(39),g=n(7),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e){var t=null;return e.children_.forEach(function(e){"ControlBar"===e.name_&&(t=e)}),t},k=function(e){return e},w=function(e,t,n){var r={};return a()(r,n,{cssClass:["cancel-timeshifting","vjs-icon-close"],name:e.localize("cancel timeshifting"),controlBar:t}),r},E=function(e,t){var n={};return a()(n,t,{vertical:!0}),n},T=function(e,t){var r={src:e.currentSrc(),type:e.currentType()};e.one("contentchanged",function(){e.trigger(g.l)});var i=n.i(v.d)(r,e.options_.tracks,e);n.i(v.c)(e,i,t)},_=function(e,t){var r=e.options_.plugins.timeShift.horizontalSec,i=l.b(e);n.i(u.a)("Time shifted to time: ",t,"sec (within interval",i+r," - ",i," sec)"),t<r?l.c(e,!0,t,l.b(e)):l.c(e,!0,t,t-r/2)},P=function(e,t){var r=e.options_.plugins.timeShift.horizontalSec;n.i(u.a)("Time shifted to time: ",t,"sec"),t<r?l.c(e,!0,t,0):l.c(e,!0,t,t-r/2),e.addClass("vjs-timeshifted")},C=function(e){n.i(u.a)("Time shift canceled");var t=e.options_.plugins.timeShift.urlParam,r={src:c.b(e.currentSrc(),t),type:e.currentType()};e.src(r),l.d(e),e.removeClass("vjs-timeshifted")},A=function(e,t){if(i.a.not.number(e))return u.a.error(y.s.code,y.s.message,e),void this.trigger(m({type:"ott-custom-error"},y.s));e>0?(T(this,e),t&&l.e(this)?_(this,e):P(this,e)):C(this),this.trigger({type:"ott-seekablelive-seek",seekTime:e})},O=function(e){var t=function(){if(e.urlParam){var t=b(this),r=!1;i.a.not.finite(e.horizontalSec)?(u.a.error(y.t.code,y.t.message,e.horizontalSec),this.trigger(m({type:"ott-cutom-error"},y.t))):e.horizontalSec>0?(r=!0,t&&(l.f(this,e.urlParam),t.addChild(new d.a(this,k(e))))):u.a.warn("Horizontal time-shift value is lower or equal to 0."),i.a.not.finite(e.verticalSec)?(u.a.error(y.u.code,y.u.message,e.verticalSec),this.trigger(m({type:"ott-cutom-error"},y.u))):e.verticalSec>0?(r=!0,this.addChild(new h.a(this,E(0,e)))):u.a.warn("Vertical time-shift value is lower or equal to 0."),r&&(t.addChild(new p.a(this)),t.addChild(new f.a(this,w(this,t,e)))),i.a.number(e.seekTime)&&A.call(this,e.seekTime),e.disabled&&this.addClass("vjs-timeshift-disabled"),n.i(u.a)("timeShift plugin initialized")}else u.a.error(y.v.code,y.v.message),this.trigger(m({type:"ott-cutom-error"},y.v))};this.one(this,"loadeddata",t),this.timeshiftSeek=A};s.videojs.registerPlugin("timeShift",O)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=(n.n(a),n(2)),u=n(77),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=a.videojs.getPlugin("plugin"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.options=n,o.checkSupportedFormatsExist(n.supportedFormats)?(o.playerData=e.options_,o.preferredLang=o.playerData.preferredLang,o.tech=null,o.selectedLang=null,o.uhdSwitchAllowed=!1,o.uhdActive=!(!o.options.initData||!o.options.initData.uhdActive)&&o.options.initData.uhdActive,o.sources=[],e.ready(function(){o.setPlayerTech()}),e.one("ott-menu-initialized",function(){o.init()}),window.uhdController=o,o):i(o)}return o(t,e),l(t,[{key:"init",value:function(){this.createLangSources()&&this.checkUhdCodecs()&&(this.setUhdAllowedFromCurrentSource(),this.registerControlEvents(),this.sendControlEvent()),this.options.initData&&this.options.initData.uhdActive&&(n.i(s.a)("[UHD Controller] restore active state from init data"),this.player.trigger({type:"ott-uhdprofile-switch",enable:!0}))}},{key:"getLocalizedSourceWithoutUhd",value:function(){return n.i(u.a)(this.sources[this.selectedLang].basic)}},{key:"getLocalizedSourceWithUhd",value:function(){return n.i(u.a)(this.sources[this.selectedLang].uhd)}},{key:"checkUhdCodecs",value:function(){return!(null===this.tech||!this.checkCodecsSupport(this.options.supportedFormats))||(s.a.error("[UHD Controller] Error! Check tech or codecs support."),this.dispose(),!1)}},{key:"setUhdActiveState",value:function(e){this.uhdActive=e}},{key:"setSelectedLang",value:function(e){this.selectedLang=e,this.setUhdAllowedFromCurrentSource(),this.sendControlEvent(),n.i(s.a)("[UHD Controller] - set selected lang to "+this.selectedLang)}},{key:"setPlayerTech",value:function(){switch(this.player.currentSource().type){case"application/dash+xml":this.tech="dash";break;case"application/x-mpegURL":this.tech="hls";break;default:this.tech=null}n.i(s.a)("[UHD Controller] set player tech: "+this.tech)}},{key:"setUhdAllowedFromCurrentSource",value:function(){this.uhdSwitchAllowed=!!this.sources[this.selectedLang].uhdSwitchAvailable,n.i(s.a)("[UHD Controller] check uhd allowed for lang:"+this.selectedLang+" => "+this.uhdSwitchAllowed)}},{key:"isUhdAllowedForCurrentSource",value:function(){return this.uhdSwitchAllowed}},{key:"createLangSources",value:function(){var e=this,t=this.playerData.tracks[this.tech.toUpperCase()],r=!1;return t.forEach(function(t){e.sources[t.lang]||(e.preferredLang&&0!==e.preferredLang.length||(e.selectedLang=t.lang),e.sources[t.lang]={uhdSwitchAvailable:!1,uhd:null,basic:null}),e.isSupportedTech(t.type)&&(t.uhd?e.sources[t.lang].uhd=t:e.sources[t.lang].basic=t)}),Object.keys(this.sources).forEach(function(t){e.sources[t].uhd&&e.sources[t].basic&&(e.sources[t].uhdSwitchAvailable=!0,r=!0)}),r?(this.sortAvailableSourceLanguage(),this.setPlayerCurrentPlayInUHD(),!0):(n.i(s.a)("[UHD Controller] Not found any UHD sources, uhd plugin disposed"),this.uhdSwitchAllowed=!1,this.dispose(),!1)}},{key:"saveUhdActiveStateForReset",value:function(){this.player.reset.resetData.data.plugins.uhdController.initData?this.player.reset.resetData.data.plugins.uhdController.initData.uhdActive=this.uhdActive:(this.player.reset.resetData.data.plugins.uhdController.initData={},this.player.reset.resetData.data.plugins.uhdController.initData.uhdActive=this.uhdActive)}},{key:"isSupportedTech",value:function(e){switch(this.tech){case"dash":return"application/dash+xml"===e;case"hls":return"application/x-mpegURL"===e;default:return!1}}},{key:"registerControlEvents",value:function(){var e=this;this.player.on("ott-uhdprofile-switch",function(t){var n=t.enable;e.insertSourceToPlayer(n)}),this.player.on("ott-change-language",function(t){e.setSelectedLang(t.lang),e.uhdActive&&e.insertSourceToPlayer(!0),e.player.one("playing",function(){e.setPlayerCurrentPlayInUHD()})})}},{key:"sendControlEvent",value:function(){this.player.trigger({type:"ott-uhdprofile-control",uhdActive:this.uhdActive,uhdAllowed:this.isUhdAllowedForCurrentSource()})}},{key:"setPlayerCurrentPlayInUHD",value:function(){this.uhdActive=this.sources[this.selectedLang].uhd.src===this.player.currentSource().src}},{key:"checkSupportedFormatsExist",value:function(e){return!!e||(s.a.error("[UHD Controller] - not find uhdController.supportedFormats -> the supported formats are missing"),this.dispose(),!1)}},{key:"checkCodecsSupport",value:function(e){var t=this;return e[this.tech].reduce(function(e,r){var i=t.player.tech_.el_.canPlayType(r);if(""!==i)return e=!0,n.i(s.a)("[UHD Controller] - video canPlayType ("+r+"): "+(""===i?"not supported!":i)),e;if(MediaSource){var o=MediaSource.isTypeSupported(r);if(o)return e=!0,n.i(s.a)("[UHD Controller] - MediaSource.isTypeSupported ("+r+"): "+o),e}return e},!1)}},{key:"isUhdPossibleForLocalizeSource",value:function(){return!!this.sources[this.selectedLang].uhd}},{key:"getStartTime",value:function(){var e=this.player.currentTime(),t=this.player.reset.resetData.count||0,n=this.player.reset.resetData.data||{};return n.startTime&&t>0&&e<n.startTime&&(e=n.startTime),e}},{key:"insertSourceToPlayer",value:function(e){var t=this;e=e&&this.isUhdPossibleForLocalizeSource();var r=this.getStartTime(),i=e?this.getLocalizedSourceWithUhd():this.getLocalizedSourceWithoutUhd();this.player.paused()||this.player.pause(),"hls"===this.tech&&n.i(s.a)("[UHD Controller] - hls destroy before set new source to player"),this.player.src(i),this.setUhdActiveState(e),n.i(s.a)("[UHD Controller] - switch source ("+(e?"UHD":"Basic")+"): "+JSON.stringify(i)+" load to player"),this.sendControlEvent(),this.saveUhdActiveStateForReset(),this.player.one("ott-playertick",function(){t.player.currentTime(r),n.i(s.a)("[UHD Controller] - switch source seek to "+r)})}},{key:"sortAvailableSourceLanguage",value:function(){var e=this;this.preferredLang&&null!==this.preferredLang&&"string"!=typeof this.preferredLang?this.preferredLang.forEach(function(t){e.sources[t]&&null===e.selectedLang&&(e.selectedLang=t)}):this.selectedLang=this.preferredLang,null===this.selectedLang&&(this.selectedLang=Object.keys(this.sources)[0],n.i(s.a)("[UHD Controller] Not found any preferred langs, set selectedLang default from first source: "+this.selectedLang))}},{key:"dispose",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this),n.i(s.a)("[UHD Controller] plugin is being disposed")}}]),t}(f);a.videojs.registerPlugin("uhdController",d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(566);n.n(r);Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}})},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(551),n(349),n(352),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(25))},function(e,t,n){"use strict";/*! videojs-markers - v0.6.1 - 2016-10-24
* Copyright (c) 2016 ; Licensed  */
!function(e,t,n){function r(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function i(t){function n(){k.sort(function(e,t){return m.markerTip.time(e)-m.markerTip.time(t)})}function i(e){e.forEach(function(e){e.key=r(),w.find(".vjs-progress-holder").append(u(e)),b[e.key]=e,k.push(e)}),n()}function s(e){return m.markerTip.time(e)/T.duration()*100}function u(t){var n=e("<div class='vjs-marker'></div>");return n.css(m.markerStyle).css({"margin-left":-parseFloat(n.css("width"))/2+"px",left:s(t)+"%"}).attr("data-marker-key",t.key).attr("data-marker-time",m.markerTip.time(t)),t.class&&n.addClass(t.class),n.on("click",function(n){var r=!1;if("function"==typeof m.onMarkerClick&&(r=!1===m.onMarkerClick(t)),!r){var i=e(this).data("marker-key");T.currentTime(m.markerTip.time(b[i]))}}),m.markerTip.display&&f(n),n}function l(){k.forEach(function(e){var t=w.find(".vjs-marker[data-marker-key='"+e.key+"']"),n=m.markerTip.time(e);t.data("marker-time")!==n&&t.css({left:s(e)+"%"}).attr("data-marker-time",n)}),n()}function c(e){P&&(C=a,P.css("visibility","hidden")),E=a;var t=[];e.forEach(function(e){var n=k[e];n&&(delete b[n.key],t.push(e),w.find(".vjs-marker[data-marker-key='"+n.key+"']").remove())}),t.reverse(),t.forEach(function(e){k.splice(e,1)}),n()}function f(t){t.on("mouseover",function(){var n=b[e(t).data("marker-key")];_&&(_.find(".vjs-tip-inner").text(m.markerTip.text(n)),_.css({left:s(n)+"%","margin-left":-parseFloat(_.width())/2-5+"px",visibility:"visible"}))}),t.on("mouseout",function(){!!_&&_.css("visibility","hidden")})}function d(){_=e("<div class='vjs-tip'><div class='vjs-tip-arrow'></div><div class='vjs-tip-inner'></div></div>"),w.find(".vjs-progress-holder").append(_)}function p(){if(m.breakOverlay.display&&!(E<0)){var e=T.currentTime(),t=k[E],n=m.markerTip.time(t);e>=n&&e<=n+m.breakOverlay.displayTime?(C!==E&&(C=E,P&&P.find(".vjs-break-overlay-text").html(m.breakOverlay.text(t))),P&&P.css("visibility","visible")):(C=a,P&&P.css("visibility","hidden"))}}function h(){P=e("<div class='vjs-break-overlay'><div class='vjs-break-overlay-text'></div></div>").css(m.breakOverlay.style),w.append(P),C=a}function y(){v(),p(),t.onTimeUpdateAfterMarkerUpdate&&t.onTimeUpdateAfterMarkerUpdate()}function v(){if(k.length){var e=function(e){return e<k.length-1?m.markerTip.time(k[e+1]):T.duration()},n=T.currentTime(),r=a;if(E!==a){var i=e(E);if(n>=m.markerTip.time(k[E])&&n<i)return;if(E===k.length-1&&n===T.duration())return}if(n<m.markerTip.time(k[0]))r=a;else for(var o=0;o<k.length;o++)if(i=e(o),n>=m.markerTip.time(k[o])&&n<i){r=o;break}r!==E&&(r!==a&&t.onMarkerReached&&t.onMarkerReached(k[r],r),E=r)}}function g(){m.markerTip.display&&d(),T.markers.removeAll(),i(t.markers),m.breakOverlay.display&&h(),y(),T.on("timeupdate",y)}var m=e.extend(!0,{},o,t),b={},k=[],w=e(this.el()),E=a,T=this,_=null,P=null,C=a;T.on("loadedmetadata",function(){g()}),T.markers={getMarkers:function(){return k},next:function(){for(var e=T.currentTime(),t=0;t<k.length;t++){var n=m.markerTip.time(k[t]);if(n>e){T.currentTime(n);break}}},prev:function(){for(var e=T.currentTime(),t=k.length-1;t>=0;t--){var n=m.markerTip.time(k[t]);if(n+.5<e)return void T.currentTime(n)}},add:function(e){i(e)},remove:function(e){c(e)},removeAll:function(){for(var e=[],t=0;t<k.length;t++)e.push(t);c(e)},updateTime:function(){l()},reset:function(e){T.markers.removeAll(),i(e)},destroy:function(){T.markers.removeAll(),P&&P.remove(),_&&_.remove(),T.off("timeupdate",p),delete T.markers}}}var o={markerStyle:{width:"7px","border-radius":"30%","background-color":"red"},markerTip:{display:!0,text:function(e){return"Break: "+e.text},time:function(e){return e.time}},breakOverlay:{display:!1,displayTime:3,text:function(e){return"Break overlay: "+e.overlayText},style:{width:"100%",height:"20%","background-color":"rgba(0,0,0,0.7)",color:"white","font-size":"17px"}},onMarkerClick:function(e){},onMarkerReached:function(e,t){},markers:[]},a=-1;t.plugin("markers",i)}(jQuery,window.videojs)},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(552),a=(n.n(o),n(2)),s=n(7),u=n(9);n.i(o.polyfill)();var l=function(e,t,r){var o=i.a[s.a],l=i.a[s.b];if("OK"===e.toUpperCase()&&o)n.i(a.a)("TDI player init data recieved. STATUS: ",e,", RESPONSE: ",o),t(o);else{if(!l)throw a.a.error(u.a.code,u.a.message),u.a;a.a.warn("No player data recieved. TDIPlayerInitError redirect found."),r(l)}},c=function(e,t){var n=function(e,t,n,r){i.a.TDI.Ajax.Request.send(e,{data:t,end:function(e,t){if("success"!==t)throw a.a.error(u.b.code,u.b.message,t),u.b.message=""+u.b.message+t,u.b;var i=e.responseXML.getElementsByTagName("status")[0].textContent;l(i,n,r)}})};return new Promise(function(r,i){n(e,t,r,i)})};t.a=c},function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(2),a=n(9),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i.a.not.number(t)&&o.a.error(a.g.code,a.g.message,t),e.one("playing",function(){e.playlist||(e.currentTime(t),e.trigger("cw-seeked"),n.i(o.a)("Player start time is set to: ",t))})};t.a=s},function(e,t,n){"use strict";var r=n(2),i=n(7),o=(n(14),function(e){var t=e.currentSource().type.indexOf("dash")>=1,o=i.e,a=function t(){0===Math.floor(e.currentTime())&&(e.currentTime(o),n.i(r.a)("[dashPlaybackFix] currentTime overrided to:"+o+"s"),e.off("timeupdate",t))},s=function(){t&&e.on("timeupdate",a)};e.on("ott-mea-complete",s)});t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(26)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=a.videojs.getComponent("ErrorDisplay"),c=a.videojs.getComponent("Component"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.specialClass=e.options_.errorWithCode?"":"vjs-hidden",o}return o(t,e),u(t,[{key:"content",value:function(){var e=this.player().error(),t=n.i(s.a)(function(){return e.message}),r=a.document.createElement("div");r.className="vjs-modal-dialog-content--message",r.innerHTML=this.localize(t);var i=n.i(s.a)(function(){return e.code});if(i){var o=a.document.createElement("div");o.className="vjs-modal-dialog-content--code "+this.specialClass,o.innerHTML="ID: "+i,r.appendChild(o)}return e?r:""}}]),t}(l);c.registerComponent("ExtendedErrorDisplay",f),t.a=f},function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(1),a=(n.n(o),n(2)),s=n(9),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!i.a.not.object(t)&&t.original&&t.matched&&t.localized?0===(t.original.HLS||[]).length&&0===(t.original.DASH||[]).length&&0===(t.original.MP4||[]).length?(a.a.error(s.i.code,s.i.message),e.error({message:e.localize("No source found. Please contact our web support when this error occurs."),code:4.01}),!1):0===(t.matched||[]).length?(a.a.error(s.j.code,s.j.message),e.error({message:e.localize("No playable source found. Is your browser up to date?"),code:4.02}),!1):0!==(t.localized||[]).length||(a.a.error(s.k.code,s.k.message),e.error({message:e.localize("No playable source found. Is your browser up to date?"),code:4.02}),!1):(a.a.error(s.h.code,s.h.message),!1)};t.a=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.config=t,this.proxyUrl=t.proxyUrl,this.activationProbability=t.activationProbability||null,this.proxyActive=!0,null!=this.activationProbability&&Math.random()>this.activationProbability&&1!=n.i(i.b)()?(this.proxyActive=!1,n.i(i.a)("[adProxy] NOT activated ! activationProbability treashold")):n.i(i.a)("[adProxy] initialized ! Proxy URL: "+this.proxyUrl)}return o(e,[{key:"updateSource",value:function(e){return this.proxyActive?(e.src=""+this.proxyUrl+encodeURIComponent(e.src),e.adProxy=!0,n.i(i.a)("[adProxy] source updated "+e.src,e),e):e}}]),e}();t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(2),s=n(63),u=n(14),l=n(74),c=n(242),f=n(26),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(){function e(t,n){var i=this;r(this,e),this.player=t,this.settings=n,this.adsPlayerVisible=!1,this.contentDuration=0,this.domOperations=new l.a(t,n),this.mainPlayerVideoEl=null,this.adsPlayerContainerEl=null,this.adsPlayerVideoEl=null,this.adConditionData=this.createClearAdConditionData(),this.adConditionCheckTimeout=null,this.showSkipButtonTimeout=null,this.hideAdPlayerTimeout=null,this.adPause=this.adPauseChangeCssClass.bind(this),this.adPlay=this.adPlayChangeCssClass.bind(this),this.domController=null,this.eventsController=null,this.getVideoElement=this.getVideoElement.bind(this),this.playPromiseSuccess=this.playPromiseSuccess.bind(this),this.playPromiseError=this.playPromiseError.bind(this),this.playPromiseErrorAutoplayAny=this.playPromiseErrorAutoplayAny.bind(this),this.setContentDurationProperty=this.setContentDurationProperty.bind(this),this.player.on("ready",function(){i.logEventMainPlayer("ready"),i.init()}),o.a.adsPlayer=this}return d(e,[{key:"getVideoElement",value:function(){return this.adsPlayerVideoEl}},{key:"initDOMElements",value:function(){var e=this;this.domController=new c.a(this.player),this.domController.appendElementsIntoMainPlayer();var t=this.domController.getElements();Object.keys(t).forEach(function(n){e[n]=t[n]})}},{key:"init",value:function(){this.initDOMElements(),this.registerMainPlayerEvents(),this.registerAdsPlayerEvents(),this.overrideTimeMethods(),this.syncVolumeFromMainToAdsPlayer(),this.checkAdsPlayerSize(),this.playlistTimeDisplay=this.player.controlBar.getChild("PlaylistTimeDisplay"),n.i(a.a)("[adsPlayer] instance initialized on videoelement id: "+this.adsPlayerVideoEl.id)}},{key:"overrideTimeMethods",value:function(){var e=this,t=this.player.currentTimeOfActiveMedia,n=this.player.durationOfActiveMedia,r=this.player.isInPausedState;this.player.currentTimeOfActiveMedia=function(n){return e.adsPlayerVisible?"number"!=typeof n?e.adsPlayerVideoEl.currentTime:void(e.adsPlayerVideoEl.currentTime=n):t()},this.player.durationOfActiveMedia=function(){return e.adsPlayerVisible?e.adsPlayerVideoEl.duration||0:n()},this.player.isInPausedState=function(){return e.adsPlayerVisible?e.adsPlayerVideoEl.paused:r()}}},{key:"setContentDurationProperty",value:function(){this.player.ads.inAdBreak()||(this.logEventMainPlayer("loadedmetadata"),this.contentDuration=this.player.duration(),n.i(a.a)("[adsPlayer] save main content duration "+this.contentDuration),this.player.off("loadedmetadata",this.setContentDurationProperty))}},{key:"logEventMainPlayer",value:function(e){n.i(a.a)("[adsPlayer] [event MAIN player] "+e)}},{key:"logEventAdsPlayer",value:function(e){n.i(a.a)("[adsPlayer] [event ADS player] "+e)}},{key:"pauseAdsPlayer",value:function(){this.adsPlayerVideoEl.paused?n.i(a.a)("[adsPlayer] the attempt to pause the player could not be executed. Player was already in pause state"):(this.adsPlayerVideoEl.pause(),n.i(a.a)("[adsPlayer] ads video element paused"))}},{key:"setMainPlayerDuration",value:function(){n.i(a.a)("[adsPlayer] contentDuration:"+this.contentDuration+", playerDuration:"+this.player.duration()),this.contentDuration&&Math.floor(this.player.duration())!==this.contentDuration&&(n.i(a.a)("[adsPlayer] reset duration for MAIN player from "+this.player.duration()+" to "+this.contentDuration),this.player.duration(this.contentDuration))}},{key:"reintMarkers",value:function(){this.player.markers&&this.player.options_.plugins.markers&&(this.player.markers.reset(this.player.options_.plugins.markers.markers),n.i(a.a)("[adsPlayer] markers reset"))}},{key:"isAdsPlayerVisible",value:function(){switch(!0){case!this.adsPlayerVisible&&!1===this.player.hasClass("x-vjs-vpaid-player-visible"):return!1;case this.adsPlayerVisible&&!0===this.player.hasClass("x-vjs-vpaid-player-visible"):return!0;case this.adsPlayerVisible&&!1===this.player.hasClass("x-vjs-vpaid-player-visible"):return n.i(a.a)("[adsPlayer] [3] player visible state not synchronized!"),!1;case!this.adsPlayerVisible&&!0===this.player.hasClass("x-vjs-vpaid-player-visible"):return n.i(a.a)("[adsPlayer] [4] player visible state not synchronized!"),!0}}},{key:"clearSkipButtonTimeout",value:function(){clearTimeout(this.showSkipButtonTimeout),n.i(a.a)("[adsPlayer] clear showSkipButtonTimeout")}},{key:"tryCreateSkipButton",value:function(e){var t=this,r=this.settings.linear.vpaid.defaultSkipDelay;!e.skipDelay&&r&&(e.skipDelay=r,this.showSkipButtonTimeout=this.player.setTimeout(function(){t.domOperations.showVPAIDSkipButton(function(){t.sendEventToMainPlayer("adsplayer-button-skip")})},parseInt(1e3*e.skipDelay)),n.i(a.a)("[adsPlayer] defaultSkipDelay show skip button -> show time: "+parseInt(1e3*e.skipDelay)+"ms"))}},{key:"sendEventToMainPlayer",value:function(e){n.i(a.a)("[adsPlayer] sendEventToMainPlayer",e),this.player.trigger(e)}},{key:"setAdConditionData",value:function(){this.adConditionData={duration:this.adsPlayerVideoEl.duration,src:this.adsPlayerVideoEl.src,ticks:0}}},{key:"createConditionCheckTimeout",value:function(){this.adConditionCheckTimeout=this.player.setTimeout(this.checkAdCondition.bind(this),5e3)}},{key:"registerMainPlayerEvents",value:function(){var e=this;this.player.on("loadedmetadata",this.setContentDurationProperty),this.player.on("adend",function(){e.logEventMainPlayer("adend"),e.pauseAdsPlayer(),e.clearSkipButtonTimeout(),e.setMainPlayerDuration(),e.playlistTimeDisplay=e.player.controlBar.getChild("PlaylistTimeDisplay"),e.playlistTimeDisplay?e.updatePlaylistDurationDisplay(e.player.playlist.playlistData.totalDuration):e.updateDurationDisplay(e.contentDuration),e.reintMarkers(),e.isAdsPlayerVisible()&&e.hideAdsPlayer(!0)}),this.player.on("adpauseclicked",function(){e.logEventMainPlayer("adpauseclicked"),e.pauseAdsPlayer()}),this.player.on("adplay",function(){if(e.logEventMainPlayer("adplay"),e.isAdsPlayerVisible()){var t=n.i(u.c)(e.player),r=t.creatives[0];if(!n.i(s.a)(r))return void e.hideAdsPlayer(!0);e.tryCreateSkipButton(r)}}),this.player.on("ott-vpaid-skip-button",function(){e.logEventMainPlayer("ott-vpaid-skip-button"),e.pauseAdsPlayer(),e.sendEventToMainPlayer({type:"adended",skipped:!0})}),this.player.on("ott-vpaid-ended",function(){e.logEventMainPlayer("ott-vpaid-ended"),e.sendEventToMainPlayer("adended")}),this.player.on("ott-mea-volume-changed",function(){e.logEventMainPlayer("ott-mea-volume-changed"),e.syncVolumeFromMainToAdsPlayer()}),this.player.on("ott-before-reset",function(){e.logEventMainPlayer("ott-before-reset"),e.disposeAdsPlayer()}),this.player.on(["ott-player-expand-on","ott-player-expand-off"],this.checkAdsPlayerSize)}},{key:"registerAdsPlayerEvents",value:function(){var e=this;this.adsPlayerVideoEl.addEventListener("play",function(){e.logEventAdsPlayer("play"),e.showAdsPlayer(),e.adPlayChangeCssClass(),e.sendEventToMainPlayer("play")}),this.adsPlayerVideoEl.addEventListener("playing",function(){e.player.hasClass("vjs-ended")&&e.player.removeClass("vjs-ended"),e.logEventAdsPlayer("playing"),e.sendEventToMainPlayer("playing")}),this.adsPlayerVideoEl.addEventListener("timeupdate",function(){e.sendEventToMainPlayer({type:"adtimeupdate",currentTime:e.adsPlayerVideoEl.currentTime})}),this.adsPlayerVideoEl.addEventListener("ended",function(){e.player.addClass("vjs-ended"),e.logEventAdsPlayer("ended"),e.hideAdsPlayer(),e.restoreConditionCheck()}),this.adsPlayerVideoEl.addEventListener("error",function(t){e.logEventAdsPlayer("error"),a.a.error("[adsPlayer] ERROR code:"+t.target.error.code+" "+t.target.error.message),e.hideAdsPlayer(!0),e.player.paused()&&(e.sendEventToMainPlayer("aderror"),a.a.error("[adsPlayer] ERROR event on ad-player triggered aderror"))}),this.adsPlayerVideoEl.addEventListener("loadedmetadata",function(){e.logEventAdsPlayer("loadedmetadata"),e.setAdConditionData(),e.registerConditionCheck(),e.playlistTimeDisplay=e.player.controlBar.getChild("PlaylistTimeDisplay"),e.playlistTimeDisplay?e.updatePlaylistDurationDisplay(e.adsPlayerVideoEl.duration):e.updateDurationDisplay(e.adsPlayerVideoEl.duration),e.sendEventToMainPlayer("loadedmetadata")}),this.adsPlayerVideoEl.addEventListener("loadstart",function(){e.logEventAdsPlayer("loadstart"),e.restoreConditionCheck()}),this.adsPlayerVideoEl.addEventListener("pause",function(t){e.logEventAdsPlayer("pause"),e.adPauseChangeCssClass(t),e.adsPlayerVideoEl.currentTime!==e.adsPlayerVideoEl.duration&&e.sendEventToMainPlayer("adpause")}),this.adsPlayerVideoEl.addEventListener("timeupdate",function(t){e.adConditionData.ticks+=1,e.playlistTimeDisplay=e.player.controlBar.getChild("PlaylistTimeDisplay"),e.playlistTimeDisplay?e.updatePlaylistCurrentTimeDisplay(e.adsPlayerVideoEl.currentTime):e.updateCurrentTimeDisplay(e.adsPlayerVideoEl.currentTime)}),o.a.addEventListener(["resize","playerresize"],this.checkAdsPlayerSize.bind(this)),this.player.el_.addEventListener(["resize","playerresize"],this.checkAdsPlayerSize.bind(this));var t=this.player.$(".vjs-big-play-button");t&&(t.addEventListener("click",this.bigPlayButtonClick.bind(this)),t.addEventListener("touchend",this.bigPlayButtonClick.bind(this)))}},{key:"bigPlayButtonClick",value:function(){this.adsPlayerVisible&&(n.i(a.a)("[adsPlayer] bigPlayButton click or touchend event"),this.player.trigger("vpaid-fake-play"),this.adsPlayerVideoEl.play())}},{key:"playPromiseSuccess",value:function(){n.i(a.a)("[adsPlayer] play promise success - register condition check timeout 5000ms"),this.createConditionCheckTimeout()}},{key:"playPromiseError",value:function(e){var t=this;n.i(a.a)("[adsPlayer] check play promise error: "+e),this.pauseAdsPlayer(),"any"===n.i(f.a)(function(){return t.player.autoplay()})?this.tryAutoplayAny():this.showAdsPlayer()}},{key:"playPromiseErrorAutoplayAny",value:function(){n.i(a.a)("[adsPlayer] [autoplay any] check play promise error: "+error),this.pauseAdsPlayer(),this.settings.linear.adsPlayer&&this.settings.linear.adsPlayer.skipPlayPromise?(this.reportError(901),a.a.error("[adsPlayer] skip after play promise error"),this.sendEventToMainPlayer("ott-vpaid-player-error")):this.showAdsPlayer()}},{key:"tryAutoplayAny",value:function(){n.i(a.a)("[adsPlayer] try autoplay any"),this.setVolumeForAutoplay();var e=this.adsPlayerVideoEl.play();e&&e.then?e.then(this.playPromiseSuccess).catch(this.playPromiseErrorAutoplayAny):(n.i(a.a)("[adsPlayer] IE11 playPromise && playPromise.then not found! call play promise error"),this.playPromiseErrorAutoplayAny())}},{key:"registerConditionCheck",value:function(){var e=this.adsPlayerVideoEl.play();e&&e.then?e.then(this.playPromiseSuccess).catch(this.playPromiseError):(n.i(a.a)("[adsPlayer] IE11 playPromise && playPromise.then not found! call play promise success"),this.playPromiseSuccess())}},{key:"syncVolumeFromMainToAdsPlayer",value:function(){n.i(a.a)("[adsPlayer] sync volume: "+this.player.volume()+" muted: "+this.player.muted()),this.adsPlayerVideoEl.volume=this.player.volume(),this.adsPlayerVideoEl.muted=this.player.muted()}},{key:"setVolumeForAutoplay",value:function(){n.i(a.a)("[adsPlayer] set muted(true) for autoplay"),this.player.muted(!0),this.syncVolumeFromMainToAdsPlayer()}},{key:"checkAdsPlayerSize",value:function(){n.i(a.a)("[adsPlayer] check ads player size. Ads video element "+this.adsPlayerVideoEl.width+"x"+this.adsPlayerVideoEl.height+"px | Video player element "+this.player.el_.offsetWidth+"x"+this.player.el_.offsetHeight+"px"),this.adsPlayerVideoEl.width&&this.adsPlayerVideoEl.width!==this.player.el_.offsetWidth&&(n.i(a.a)("[adsPlayer] method checkAdsPlayerSize() -> change ad-player width "+this.adsPlayerVideoEl.width+"px => "+this.player.el_.offsetWidth+"px"),this.adsPlayerVideoEl.width=this.player.el_.offsetWidth),this.adsPlayerVideoEl.height&&this.adsPlayerVideoEl.height!==this.player.el_.offsetHeight&&(n.i(a.a)("[adsPlayer] method checkAdsPlayerSize() -> change ad-player height "+this.adsPlayerVideoEl.height+"px => "+this.player.el_.offsetHeight+"px"),this.adsPlayerVideoEl.height=this.player.el_.offsetHeight)}},{key:"checkAdCondition",value:function(){var e={duration:this.adConditionData.duration>0?1:0,ticks:this.adConditionData.ticks>2?1:0,src:null!==this.adConditionData.src?1:0};Object.keys(e).reduce(function(t,n){return t+=e[n]},0)>=2?n.i(a.a)("[adsPlayer] check ad condition SUCCESS"):(a.a.error("[adsPlayer] check condition FAILED call skip AD event. Props duration: "+this.adConditionData.duration+", ticked: "+this.adConditionData.ticks+", src: "+this.adConditionData.src),this.hideAdsPlayer(!0),this.restoreConditionCheck(),this.reportError(405),this.sendEventToMainPlayer("ott-vpaid-player-error")),this.adsPlayerVisible||(this.pauseAdsPlayer(),this.player.controlBar.getChild("DurationDisplay").updateFormattedTime_(this.contentDuration),n.i(a.a)("[adsPlayer] adsPlayer not visible, pause player and restore content duration"))}},{key:"restoreConditionCheck",value:function(){this.adConditionData=this.createClearAdConditionData(),this.adConditionCheckTimeout&&(clearTimeout(this.adConditionCheckTimeout),this.adConditionCheckTimeout=null)}},{key:"createClearAdConditionData",value:function(){return{duration:0,ticks:0,src:null}}},{key:"disposeAdsPlayer",value:function(){this.restoreConditionCheck(),this.player.off(["ott-player-expand-on","ott-player-expand-off"],this.checkAdsPlayerSize),o.a.removeEventListener("resize",this.checkAdsPlayerSize),o.a.removeEventListener("playerresize",this.checkAdsPlayerSize)}},{key:"showAdsPlayer",value:function(){clearTimeout(this.hideAdPlayerTimeout),!this.adsPlayerVisible&&this.player.ads.inAdBreak()&&(this.adsPlayerVisible=!0,this.player.addClass("x-vjs-vpaid-player-visible"),this.mainPlayerVideoEl.style.display="none",n.i(a.a)("[adsPlayer] show"))}},{key:"hideAdsPlayer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.i(a.a)("[adsPlayer] "+(t?"force ":"")+"hide");var r=function(){e.pauseAdsPlayer(),e.adsPlayerVisible=!1,e.mainPlayerVideoEl.style.display="block",e.player.removeClass("x-vjs-vpaid-player-visible"),e.player.removeClass("x-vjs-vpaid-paused"),e.player.removeClass("x-vjs-vpaid-playing")};t?r():this.hideAdPlayerTimeout=setTimeout(r,5e3)}},{key:"reportError",value:function(e){n.i(a.a)("[adsPlayer] send error code "+e+" to vastTracker"),this.player.vastTracker&&this.player.vastTracker.errorWithCode(e)}},{key:"adPauseChangeCssClass",value:function(){this.player.removeClass("x-vjs-vpaid-playing"),this.player.addClass("x-vjs-vpaid-paused")}},{key:"adPlayChangeCssClass",value:function(){this.player.removeClass("x-vjs-vpaid-paused"),this.player.addClass("x-vjs-vpaid-playing")}},{key:"updateDurationDisplay",value:function(e){this.player.controlBar.getChild("DurationDisplay").updateFormattedTime_(e)}},{key:"updateCurrentTimeDisplay",value:function(e){this.player.controlBar.getChild("CurrentTimeDisplay").updateFormattedTime_(e)}},{key:"updatePlaylistDurationDisplay",value:function(e){this.playlistTimeDisplay.playlistDurationDisplay.updateFormattedTime_(e)}},{key:"updatePlaylistCurrentTimeDisplay",value:function(e){this.playlistTimeDisplay.playlistCurrentTimeDisplay.updateFormattedTime_(e)}}]),e}();t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.player=t,this.mainPlayerVideoEl=this.player.tech().el(),this.elements={mainPlayerVideoEl:this.mainPlayerVideoEl,adsPlayerContainerEl:this.createAdsPlayerContainerEl.call(this),adsPlayerVideoEl:this.createVideoEl.call(this)}}return o(e,[{key:"getElements",value:function(){return this.elements}},{key:"appendElementsIntoMainPlayer",value:function(){var e=this.elements,t=e.adsPlayerContainerEl,r=e.adsPlayerVideoEl;t.appendChild(r),this.player.el().appendChild(t),n.i(i.a)("[adsPlayer] [domctrl] elements appended into main player. Ads video elem id: "+r.id,this.elements)}},{key:"createAdsPlayerContainerEl",value:function(){var e=document.createElement("div");return e.id="adsPlayerContainer",e}},{key:"createVideoEl",value:function(){var e=document.createElement("video");return e.id="adsPlayer-"+Date.now(),e.classList.add("adsPlayer"),e.setAttribute("muted","muted"),e.setAttribute("preload","auto"),e.setAttribute("tabindex","-1"),e.setAttribute("playsinline","playsinline"),e.width=this.mainPlayerVideoEl.offsetWidth,e.height=this.mainPlayerVideoEl.offsetHeight,e}}]),e}();t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(32),a=n(43),s=n(62),u=n(75),l=n(7),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(t,n){r(this,e),this.adstate=t,this.player=n,this.compWrapperId="companion-wrapper",this.closeWrapper="companion-close-wrapper",this.originalBodyStyle="",this.relocatePlayer=null}return c(e,[{key:"removeImageCompanion",value:function(){var e=document.getElementById(this.compWrapperId);e&&(window.removeEventListener(["resize","playerresize"],this.relocatePlayer),e.parentNode.removeChild(e),document.body.className=document.body.className.replace(/\bis-fullscreenad\b/,""),this.originalBodyStyle?document.body.setAttribute("style",this.originalBodyStyle):document.body.removeAttribute("style"),document.getElementById(l.A).removeAttribute("style"),this.adstate.currentAdtype="")}},{key:"getAssetHeight",value:function(){var e=innerHeight;if(this.companion){var t=this.companion.assetHeight;t&&t>innerHeight&&(e=t)}return e}},{key:"appendImageCompanion",value:function(e){var t=document.createElement("div"),n=document.createElement("a"),r=document.createElement("a"),i=document.createElement("div"),o=this,a=0,s=0,u=void 0,c="",f=e.assetWidth||1920;e.adParameters.backgroundColor&&(c="background-color: "+e.adParameters.backgroundColor+";"),e.adParameters.xPosition&&(a=e.adParameters.xPosition),e.adParameters.yPosition&&(s=e.adParameters.yPosition),n.setAttribute("style","background: url("+e.staticResources[0].url+") center 0 no-repeat; height: 100%; display: block;"),n.setAttribute("target","_blank"),n.setAttribute("id","companion-link"),n.href=e.companionClickThroughURLTemplate;var d=function(t){t.preventDefault(),o.player.pause(),o.player.trigger({type:"companionclickthrough",companion:e}),o.player.trigger("pauseclicked"),window.open(e.companionClickThroughURLTemplate)};n.onclick=d,r.setAttribute("id","companion-close"),r.setAttribute("title",this.player.localize("Close Ad")),r.className="vjs-icon-close",r.href="#",i.setAttribute("id",this.closeWrapper),r.onclick=function(t){t.preventDefault(),o.player.trigger({type:"companionended",skipped:!0,companion:e})},t.setAttribute("id",this.compWrapperId),t.setAttribute("style",c+" position: absolute; top: 0; bottom: 0;left: 0; right: 0; width: 100%; height: "+this.getAssetHeight()+"px;");var p=document.body.getAttribute("style");p&&(this.originalBodyStyle=p),document.body.setAttribute("style","overflow-y: hidden; height: "+this.getAssetHeight()+"px; "+this.originalBodyStyle);var h=document.getElementById(l.A);this.relocatePlayer=function(){u=document.documentElement.clientWidth;var e=Math.floor(a-(f-u)/2),t=Math.floor(s);h.setAttribute("style","top: "+t+"px; left: "+e+"px;"),e=e+e-(h.offsetLeft-h.scrollLeft+h.clientLeft),t=t+t-(h.offsetTop-h.scrollTop+h.clientTop),h.setAttribute("style","top: "+t+"px; left: "+e+"px;")},window.addEventListener(["resize","playerresize"],this.relocatePlayer),document.body.className+=" is-fullscreenad",t.appendChild(n),i.appendChild(r),t.appendChild(i),document.body.appendChild(t),this.relocatePlayer()}},{key:"registerImageCompanion",value:function(e,t,r){this.adstate.currentAdtype=o.a.companion,n.i(u.b)(this.player,e,t,r),this.player.trigger("companioncanplay");var i=this;if(r.adParameters)try{r.adParameters=JSON.parse(r.adParameters)}catch(e){r.adParameters={}}else r.adParameters={};this.companion=r,this.appendImageCompanion(r),this.player.trigger({type:"companionstarted",height:i.getAssetHeight(),companion:r}),this.player.one("companionended",function(){i.removeImageCompanion(),this.adstate.currentAdtype=""})}},{key:"showAd",value:function(e){s.a.resetShownCascade(this.player,this.adstate.currentAdtype);for(var t=n.i(a.a)(this.adstate,o.a.companion,e),r=0,u=t.ads.length;r<u;r++)for(var c=t.ads[r],f=0,d=c.creatives.length;f<d;f++){var p=c.creatives[f];if("companion"===p.type)for(var h=0,y=p.variations.length;h<y;h++){var v=p.variations[h],g=v.staticResources||[],m=g[0]?g[0].creativeType.toLowerCase():null;l.C.includes(m)?this.registerImageCompanion(c,p,v):i.a.warn("[companion] type of companion not supported",m)}}}}]),e}();t.a=f},function(e,t,n){"use strict";var r=n(146),i=n(2),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.addClass("vjs-waiting-for-ima"),n.i(i.a)("[ima] init ima start - added class vjs-waiting-for-ima");var a=function(){e.trigger("ott-ima-ready")},s={debug:n.i(i.b)(),adLabel:e.localize("Advertisement"),adLabelNofN:"/",contribAdsSettings:{prerollTimeout:5e3,debug:n.i(i.b)()},locale:e.language(),numRedirects:20,vastLoadTimeout:5e3,adsManagerLoadedCallback:a,adsRenderingSettings:{useStyledNonLinearAds:!0},disableCustomPlaybackForIOS10Plus:!0},u=t.settings||{},l=u.imaOptions||{},c=o({},s,l);u.linear&&u.linear.preferredFormat&&(c.adsRenderingSettings.mimeTypes=[],c.adsRenderingSettings.mimeTypes.push(u.linear.preferredFormat)),n.i(i.a)("[ima] options from player",t),n.i(i.a)("[ima] final options",c),void 0!==t.adsResponse?c.adsResponse=t.adsResponse:t.adTagUrl?(c.adTagUrl=t.adTagUrl,n.i(i.a)("[ima] use vmap url "+t.adTagUrl)):(c.adsResponse=n.i(r.b)(t),n.i(i.a)("[ima] create vmap from player init data")),e.ima(c)};t.a=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.player=t,this.timeout=void 0,this.available=!0,this.watchTreshold=1e3*n}return i(e,[{key:"isAdAvailable",value:function(){return this.available}},{key:"clearTreshold",value:function(){this.available=!1,this.player.clearTimeout(this.timeout)}},{key:"setTreshold",value:function(){var e=this;this.clearTreshold(),this.timeout=this.player.setTimeout(function(){e.available=!0},this.watchTreshold)}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(16),s=n.n(a),u=n(2),l=n(9),c=n(97),f=n(43),d=n(32),p=n(62),h=n(74),y=n(75),v=n(63),g=n(255),m=n(258),b=n(77),k=n(241),w=n(240),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=(i.videojs.getComponent("ControlBar"),function(){function e(t,n,i){var o=this;r(this,e),this.adstate=t,this.player=n,this.settings=i,this.domOperations=new h.a(n,i),this.adsPlayer=new k.a(this.player,i),i.linear.adProxy&&i.linear.adProxy.proxyUrl&&(this.adProxy=new w.a(i.linear.adProxy)),this.player.on("ready",function(){o.registerFakePlayToggleButton(),o.disableFullscreenInIOS(),o.showVolumeControlInIOS()})}return E(e,[{key:"registerFakePlayToggleButton",value:function(){this.player.controlBar.seekForward=this.player.controlBar.addChild(new m.a(this.player,{}))}},{key:"disableFullscreenInIOS",value:function(){var e=this;o.a.videojs.browser.IS_IOS&&(this.player.on("adstart",function(){e.player.isFullscreen()&&e.player.exitFullscreen()}),this.player.addClass("vjs-ios"))}},{key:"showVolumeControlInIOS",value:function(){var e=this;o.a.videojs.browser.IS_IOS&&this.player.one("loadstart",function(){e.player.controlBar.volumePanel.show(),e.player.controlBar.volumePanel.muteToggle.show()})}},{key:"getEmptyObject",value:function(e){return{played:0,requested:!1,vasts:(e||{}).vasts||[],ads:[]}}},{key:"getMidrollObject",value:function(e){var t=this.getEmptyObject(e);return t.skipped=!1,t.time=e.time,t}},{key:"getNearestHeightSource",value:function(e,t){var r=this.player.el_.offsetHeight,i=void 0;return e.forEach(function(e){if(e.mimeType===t){var n=Math.abs(r-e.height);(!i||n<i.heightDifference)&&(i={heightDifference:n,source:e})}}),i||u.a.warn("[linear] not finded nearest height source ("+t+")",e),n.i(u.a)("[linear] finded nearest height source",i),i.source}},{key:"getPlayerSource",value:function(e){var t=void 0,r=this.settings.linear.qualityByHeight||{},i=r.forcedFormat;if(i)t=this.getNearestHeightSource(e.mediaFiles,i);else{for(var o={},a=0;a<((e||{}).mediaFiles||[]).length;a++)o[e.mediaFiles[a].mimeType]=e.mediaFiles[a];var s=o[this.player.currentType()];void 0!==s?t=s:void 0!==o[this.settings.linear.preferredFormat]&&(t=o[this.settings.linear.preferredFormat])}if(t){if(this.adProxy){var u=n.i(b.a)(t);return this.adProxy.updateSource(u)}return n.i(b.a)(t)}return null}},{key:"getAdInfo",value:function(e){var t={id:e.id||"",adTitle:e.adTitle||"",advertiser:e.advertiser||"",agency:"",brand:""};return e.extensions&&(t.agency=e.extensions.Agency||"",t.brand=e.extensions.Brand||""),t}},{key:"showAdNotification",value:function(e,t){var r=this,i=this.player;return new Promise(function(o,a){var s=n.i(f.a)(i.adstate,e,t);s.ads.length<1&&a("[linear] Linear ad break is skipped during upcoming notification. Inventory does not contain any ad. Ad type: "+e,t);var u=s.ads.length,l=s.time,c=r,d=function e(){var t=i.currentTime();t>=l?(i.off("timeupdate",e),c.domOperations.removeAdMessageWrapperHTML(),o()):c.domOperations.updateUpcomingAdMessage(u,l-Math.floor(t))},p=l-Math.floor(r.player.currentTime());p>0&&r.domOperations.createUpcomingAdHTML(u,p),i.on("timeupdate",d)})}},{key:"adended",value:function(e,t,r){if(this.player.off("adloadedmetadata",this.wrapAdUIFunc),r.played++,this.player.adstate.currentMidrollIndex=-1,this.domOperations.removeLinearAdUI(),r.played<r.ads.length)switch(e){case d.a.preroll:this.player.trigger("readyforpreroll");break;case d.a.midrolls:n.i(u.a)("[linear] Check next midroll: "+t),this.player.trigger({type:"nextmidroll"+t,cue:t});break;case d.a.postroll:this.player.trigger("postrollready")}else switch(this.player.adstate.adPlaying=!1,s.a.chrome(),this.player.trigger("ads-ad-ended"),this.player.ads.endLinearAdMode(),this.player.adstate.currentAdtype="",e){case d.a.preroll:this.player.trigger("prerollended");break;case d.a.midrolls:this.player.trigger({type:"midrollended",cue:t});break;case d.a.postroll:this.player.pause(),this.player.autoplay(!1),this.player.trigger("postrollended")}}},{key:"playAd",value:function(e,t){var r=this,i=this.player,o=this;p.a.resetShownCascade(i,this.adstate.currentAdtype),i.adstate.currentAdtype=e;var a=n.i(f.a)(i.adstate,e,t),s=a.ads[a.played],l=s.creatives[0],c=function(e,t){return void 0!==t&&(e="[linear] "+e+", array index: "+t),e};if(a.ads.length<1)return void n.i(u.a)(c("[linear] Play linear ad triggered, but inventory does not contain any ad. Ad type: "+e,t));if(n.i(u.a)(c("[linear] Play linear ad triggered. Ad type: "+e,t)),n.i(v.a)(l))if(~i.techName_.indexOf("Flash"))this.adended(e,t,a);else{var d=new g.a(this.player,this.settings,this.adsPlayer.getVideoElement());d.playAd(s,l,function(){return r.adended(e,t,a)})}else{var h=this.getPlayerSource(l);if(!h)return n.i(u.a)(c("[linear] No available source found in the VAST response. Ad type: "+e,t)),i.trigger("ads-ad-ended"),i.ads.endLinearAdMode(),void(i.adstate.adPlaying=!1);var m=function(){o.wrapAdUI(l,a.ads.length,a.played+1)};i.one("ads-ad-started",m),i.ads.isAdPlaying()||i.ads.startLinearAdMode(),i.adstate.linearAdId=s.id,i.adstate.adPlaying=!0,this.linearTracker=new y.c(i),this.linearTracker.track(s,l),n.i(u.a)("[linear] Source will be requested (type: "+h.type+", src: "+h.src+")"),i.one("adplaying",function(){n.i(u.a)("[linear] playAd trigger ads-ad-started"),i.trigger("ads-ad-started")});try{i.src(h)}catch(e){i.src(h)}i.one("durationchange",function(){this.play()});var b=function(){i.trigger({type:"adplaymeasurement",adinfo:o.getAdInfo(s)})};i.one("adloadeddata",b),i.one("adended",function(){return r.adended(e,t,a)})}}},{key:"adButtonEnabled",value:function(e){var t=this.domOperations.getAdButton();return t||u.a.error(l.O.code,l.O.message),void 0!==e&&t.setAttribute("data-enabled",e),"true"===t.getAttribute("data-enabled")}},{key:"wrapAdUI",value:function(e,t,r){var i=this;this.domOperations.removeLinearAdUI();var a=this.player,s=this,l=function(t){t.stopPropagation(),t.preventDefault(),s.player.pause(),s.player.trigger("linearclickthrough"),s.player.trigger("adpauseclicked"),o.a.open(e.videoClickThroughURLTemplate.url)},f=function(e){e.stopPropagation(),e.preventDefault(),s.adButtonEnabled()&&(s.domOperations.removeLinearAdUI(),s.player.trigger({type:"adended",skipped:!0}))};this.domOperations.createLinearAdUI(e.videoClickThroughURLTemplate,l,f),!e.skipDelay&&this.settings.linear.defaultSkipDelay&&(e.skipDelay=this.settings.linear.defaultSkipDelay);var d=parseInt(e.skipDelay,10);if(this.domOperations.createSkipButtonUI(t,r,d),n.i(u.a)("[createSkipButtonUI] enable: "+n.i(c.e)(this.settings)+", delay: "+d+", adDuration: "+a.duration()),n.i(c.e)(this.settings)&&d&&d<a.duration()){var p=function e(){a.removeClass("vjs-ad-loading"),a.currentTime()>=d?(a.off("adtimeupdate",e),s.domOperations.showSkipButton(),s.adButtonEnabled(!0)):s.domOperations.updateSkipCounter(d)};a.on("adtimeupdate",p),a.one("adended",function(){a.off("adtimeupdate",p)})}if(n.i(c.f)(this.settings)){var h=function(e){e.stopPropagation(),e.preventDefault(),s.player.pause(),s.player.trigger("promolinkclick"),i.settings.linear.premium.url&&o.a.open(i.settings.linear.premium.url)};this.domOperations.createPremiumPromoUI(h)}}}]),e}());t.a=T},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(43),o=n(32),a=n(62),s=n(75),u=n(2),l=n(7),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(t,n){r(this,e),this.adstate=t,this.player=n,this.divAdOverlayClass="vjs-ad-overlay"}return c(e,[{key:"formatMinSuggestedDuration",value:function(e){var t=e.split(":");return 60*+t[0]*60+60*+t[1]+ +t[2]}},{key:"removeOverlayer",value:function(){for(var e=document.getElementsByClassName(this.divAdOverlayClass);e.length>0;)e[0].parentNode.removeChild(e[0])}},{key:"appendOverlayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=document.getElementById(this.player.id_),i=document.createElement("div"),o=document.createElement("div"),a=document.createElement("span"),s=document.createElement("a"),l=document.createElement(-1!==e.type.indexOf("javascript")?"script":"img"),c=this;i.className=this.divAdOverlayClass,o.className="vjs-ad-overlay-wrap",a.className="vjs-ad-button-close vjs-icon-close",a.setAttribute("title",this.player.localize("Close Ad"));var f=function(t){t.stopPropagation(),c.player.trigger({type:"overlayended",skipped:!0,overlay:e})};a.onclick=f,s.className="vjs-ad-overlayer-link",s.href=e.nonlinearClickThroughURLTemplate,s.setAttribute("target","_blank");var d=function(t){t.preventDefault(),c.player.pause(),c.player.trigger({type:"overlayclickthrough",overlay:e}),c.player.trigger("pauseclicked"),window.open(e.nonlinearClickThroughURLTemplate)};if(s.onclick=d,l.src=e.staticResource,n.i(u.a)("[overlay] type "+e.type),-1!==e.type.indexOf("javascript")?o.appendChild(l):(s.appendChild(l),o.appendChild(s)),o.appendChild(a),i.appendChild(o),r.appendChild(i),~t){var p=this.formatMinSuggestedDuration(e.minSuggestedDuration);p||(p=t),this.adstate.overlayerTimeout=setTimeout(function(){c.player.trigger({type:"overlayended",overlay:e})},1e3*p)}}},{key:"registerOverlayer",value:function(e,t,r,i){this.adstate.currentAdtype=o.a.overlay,n.i(s.a)(this.player,e,t,r),this.player.trigger({type:"overlaycanplay",overlay:r});var a=this;this.appendOverlayer(r,i),this.player.one("overlayended",function(){this.adstate.overlayerTimeout&&clearTimeout(this.adstate.overlayerTimeout),a.removeOverlayer(),this.adstate.currentAdtype=""})}},{key:"showAd",value:function(e){a.a.resetShownCascade(this.player,this.adstate.currentAdtype);for(var t=n.i(i.a)(this.adstate,o.a.overlay,e),r=0,s=t.ads.length;r<s;r++)for(var c=t.ads[r],f=0,d=c.creatives.length;f<d;f++)for(var p=c.creatives[f],h=0,y=p.variations.length;h<y;h++){var v=p.variations[h],g=v.type?v.type.toLowerCase():null;l.B.includes(g)?this.registerOverlayer(c,p,v,t.duration):u.a.warn("[overlay] type of overlay not supported",g)}}}]),e}();t.a=f},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),o=function(e,t,o,a){Array.min=function(e){return Math.min.apply(Math,r(e))};var s=-1;if(!t.adPlaying&&!e.paused()){var u=a.checkCT,l=a.checkST,c=[];l>=0?(n.i(i.a)("Check for ads when user seeked. Seektime:",l),o.forEach(function(e,t){e.period||(e.time>l?e.skipped&&(e.skipped=!1):e.requested||e.skipped||c.push(t))}),c.length>0&&(s=Array.min(c),c.forEach(function(e){var t=o[e];e!==s&&(t.skipped=!0)})),t.seekTime=-1):u>3&&(o.some(function(e,t){return e.period>0&&u>=e.period&&u%e.period<1?!(e.lastTime&&u%e.lastTime<1)&&(e.lastTime=u,e.lastPeriod+=1,c.push(t),!0):u>=e.time-1&&u<=e.time+1&&!e.skipped&&!e.requested&&(c.push(t),!0)}),c.length>0&&(s=Array.min(c)))}return s};t.a=o},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){var e=!0,t=function(){var t=this,r={};this.errors={throwError:function(e,t,n){throw'Argument "'+e+'" of method "'+t+'" is not an "'+n+'"'},isObject:function(e,t,n){"object"===(void 0===e?"undefined":a(e))&&!0!==Array.isArray(e)&&null!==e||this.throwError(t,n,"object")},isArray:function(e,t,n){!1===Array.isArray(e)&&this.throwError(t,n,"array")},isFunction:function(e,t,n){"function"!=typeof e&&this.throwError(t,n,"function")},isString:function(e,t,n){"string"!=typeof e&&this.throwError(t,n,"string")},isBoolean:function(e,t,n){"boolean"!=typeof e&&this.throwError(t,n,"boolean")}},this.options={set:function(e){t.errors.isObject(e,"optionsList","options.set");for(var n in e)r[n]=e[n],t.debug.log("options.set",'Set "'+n+'" to "'+e[n]+'"');return t},get:function(e){return r[e]}},this.debug={set:function(n){return e=n,t.debug.log("debug.set",'Set debug to "'+e+'"'),t},isEnable:function(){return e},log:function(r,i){!0===e&&(t.errors.isString(r,"method","debug.log"),t.errors.isString(i,"message","debug.log"),n.i(o.a)("[FuckAdBlock]["+r+"] "+i))}},this.versionToInt=function(e){for(var t="",n=0;n<3;n++){var r=e[n]||0;1===(""+r).length&&(r="0"+r),t+=r}return parseInt(t)}},r=function(){t.apply(this);var e=null,n=null;this.setDetected=function(t){return e=t,this},this.callDetected=function(){return null!==e&&(e(),e=null,!0)},this.setUndetected=function(e){return n=e,this},this.callUndetected=function(){return null!==n&&(n(),n=null,!0)}},s=function(){t.apply(this),this.options.set({timeout:200});var e=this,n=[4,0,0,"beta",3],r={},i={};this.getVersion=function(e){if(!0!==e)return n;this.versionToInt(n)},this.addEvent=function(e,t){return this.errors.isString(e,"name","addEvent"),this.errors.isFunction(t,"callback","addEvent"),void 0===r[e]&&(r[e]=[]),r[e].push(t),this.debug.log("set",'Event "'+e+'" added'),this},this.on=function(e,t){return this.errors.isBoolean(e,"detected","on"),this.errors.isFunction(t,"callback","on"),this.addEvent(!0===e?"detected":"undetected",t)},this.onDetected=function(e){return this.errors.isFunction(e,"callback","onDetected"),this.addEvent("detected",e)},this.onNotDetected=function(e){return this.errors.isFunction(e,"callback","onNotDetected"),this.addEvent("undetected",e)};var o=function(t){var n=r[t];if(!0===e.debug.isEnable()){var i=void 0!==n?n.length:0;e.debug.log("dispatchEvent",'Starts dispatch of events "'+t+'" (0/'+i+")")}if(void 0!==n)for(var o in n)!0===e.debug.isEnable()&&e.debug.log("dispatchEvent",'Dispatch event "'+t+'" ('+(parseInt(o)+1)+"/"+i+")"),n[o]();return this};this.check=function(t,n){t instanceof Array==!1&&void 0===n&&(n=t,t=void 0),void 0===t&&(t=Object.keys(i)),void 0===n&&(n={}),this.errors.isArray(t,"pluginsList","check"),this.errors.isObject(n,"optionsList","check"),this.debug.log("check","Starting check");var r={},a=t.length,s=0,u=function(t,n,i){if(s++,e.debug.log("check",(!0===n?"Positive":"Negative")+'" check of plugin "'+t+'"'),!0===i||!0===n||s===a){clearTimeout(d);for(var u in r)r[u].instance.stop();o(!0===n?"detected":"undetected")}};if(this.debug.log("check","Starting loading plugins (0/"+a+") ("+t.join()+")"),0===a)return u("#NoPlugin",!1,!0),this;for(var l in t){var c=t[l];this.debug.log("check",'Load plugin "'+c+'" ('+(parseInt(l)+1)+"/"+a+")");var f=r[c]={name:c,instance:new i[c],detected:null};void 0!==n[c]&&f.instance.options.set(n[c]),function(e,t){t.instance.setDetected(function(){t.detected=!0,e(t.name,!0)}).setUndetected(function(){t.detected=!1,e(t.name,!1)})}(u,f)}for(var c in r)r[c].instance.start();var d=setTimeout(function(){u("#Timeout",!1,!0)},this.options.get("timeout"));return this},this.registerPlugin=function(e){if(this.errors.isFunction(e,"pluginClass","registerPlugin"),this.errors.isString(e.pluginName,"pluginClass.pluginName","registerPlugin"),this.errors.isArray(e.versionMin,"pluginClass.versionMin","registerPlugin"),3!==e.versionMin.length&&this.errors.throwError("pluginClass.versionMin","registerPlugin","array with 3 values"),void 0===i[e.pluginName]){if(this.versionToInt(n)>=this.versionToInt(e.versionMin))return i[e.pluginName]=e,this.debug.log("registerPlugin",'Plugin "'+e.pluginName+'" registered'),!0;throw'The plugin "'+e.pluginName+'" ('+e.versionMin.join(".")+") is too recent for this version of FuckAdBlock ("+n.join(".")+")"}throw'The plugin "'+e.pluginName+'" is already registered'},this.registerPlugin(u),this.registerPlugin(l)};s.getPluginClass=function(){return r};var u=function(){s.getPluginClass().apply(this,arguments),this.options.set({loopTime:50,baitElement:null,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width:1px!important;height:1px!important;position:absolute!important;left:-10000px!important;top:-1000px!important;",baitParent:null});var e={};this.start=function(){var t=this;if(null===this.options.get("baitElement")){e.bait=this.createBait({class:this.options.get("baitClass"),style:this.options.get("baitStyle")});var n=this.options.get("baitParent");null===n?i.a.document.body.appendChild(e.bait):n.appendChild(e.bait)}else e.bait=this.options.get("baitElement");var r=function(){!0===t.checkBait(e.bait,!0)&&t.callDetected()};return e.loopTimeout=setTimeout(r,1),e.loopInterval=setInterval(r,this.options.get("loopTime")),this},this.stop=function(){clearInterval(e.loopTimeout),clearInterval(e.loopInterval);var t=this.options.get("baitParent");return null===t?i.a.document.body.removeChild(e.bait):t.removeChild(e.bait),this},this.createBait=function(e){var t=i.a.document.createElement("div");return t.setAttribute("class",e.class),t.setAttribute("style",e.style),t.offsetParent,t.offsetHeight,t.offsetLeft,t.offsetTop,t.offsetWidth,t.clientHeight,t.clientWidth,t},this.checkBait=function(e,t){var n=!1;if(!0===t&&null!==i.a.document.body.getAttribute("abp")||null===e.offsetParent||0==e.offsetHeight||0==e.offsetLeft||0==e.offsetTop||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth)n=!0;else{var r=i.a.getComputedStyle(e);"none"!=r.getPropertyValue("display")&&"hidden"!=r.getPropertyValue("visibility")||(n=!0)}return n}};u.pluginName="html",u.version=[1,0,0],u.versionMin=[4,0,0];var l=function(){s.getPluginClass().apply(this,arguments),this.options.set({baitMode:"ajax",baitUrl:"/_adsense_/banner/reklama/_adserver/ad/_adview_.ad.json?adsize=300x250&adzone=top&advid={RANDOM}"});var e={};this.start=function(){var t=this;e.end=!1;var n=this.options.get("baitUrl").replace(/\{RANDOM\}/g,function(){return parseInt(1e8*Math.random())});return this._urlCheck(n,this.options.get("baitMode"),function(){!1===e.end&&(e.end=!0,t.callDetected())},function(){!1===e.end&&(e.end=!0,t.callUndetected())}),this},this.stop=function(){return e.end=!0,this},this._urlCheck=function(e,t,n,r){var o=!1,a=function(e){!1===o&&(o=!0,!0===e?n():r())};if("ajax"===t){var s=[!1,!1,!1,!1],u=null,l=function(e){if(void 0!==e)a(e);else{if(0===u)return void a(!0);for(var t=0;t<4;t++)if(!1===s[t])return void a(!0);a(!1)}},c=new XMLHttpRequest;c.onreadystatechange=function(){s[c.readyState-1]=!0;try{u=c.status}catch(e){}4===c.readyState&&l()};try{c.open("GET",e,!0),c.send()}catch(e){"2153644038"==e.result&&l(!0)}}else if("import"===t){var f=document.createElement("script");f.src=e,f.onerror=function(){a(!0),i.a.document.body.removeChild(f)},f.onload=function(){a(!1),i.a.document.body.removeChild(f)},i.a.document.body.appendChild(f)}else a(!1)}};return l.pluginName="http",u.version=[1,0,0],l.versionMin=[4,0,0],new s};t.a=s},function(e,t,n){"use strict";var r=n(16),i=n.n(r),o=n(202),a=(n.n(o),n(145)),s=n(2),u=n(32),l=n(43),c=n(7),f=new o.VASTClient,d=f.getParser(),p=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r.ads.length>0)switch(t){case u.a.preroll:e.trigger("adsready");break;case u.a.midrolls:e.trigger({type:"midrollready"+i,cue:i});break;case u.a.postroll:e.trigger("postrollready");break;case u.a.overlay:n.i(s.a)("Overlay ad ready to show"),e.trigger({type:"overlayready",cue:i});break;case u.a.companion:n.i(s.a)("Companion ad ready to show"),e.trigger({type:"companionready",cue:i})}else switch(new a.a(e,e.adstate).reset(),t){case u.a.preroll:n.i(s.a)("No preroll returned"),e.trigger(c.l);break;case u.a.midrolls:n.i(s.a)("No midroll returned."),e.trigger({type:"midrollnotreturned",cue:i});break;case u.a.postroll:n.i(s.a)("No postroll returned."),e.trigger(c.n);break;case u.a.overlay:n.i(s.a)("No overlay returned."),e.trigger({type:"overlaynotreturned",cue:i});break;case u.a.companion:n.i(s.a)("No companion returned."),e.trigger({type:"companionnotreturned",cue:i})}},h=function(e,t){return null===e.sequence?1:null===t.sequence?-1:e.sequence>t.sequence?1:t.sequence>e.sequence?-1:0},y=function(e,t){return new Promise(function(r,i){if(e){n.i(s.a)("VAST will be requested. URL: "+e),t.trigger({type:"adrequest",vastUrl:e});var o=t.options_.plugins.adService.settings||{},a=o.forceParentSequence||!1,u=o.latestSequence||!1;n.i(s.a)("VAST client sequence options => forceParentSequence: "+a+", latestSequence: "+u),d.getAndParseVAST(e,{withCredentials:!0,wrapperLimit:50,timeout:5e3,forceParentSequence:a,latestSequence:u}).then(function(i){i.ads.sort(h),n.i(s.a)("[VASTResponse] - ads after sequence sort",i),t.trigger({type:"adresponse",vastUrl:e,response:i}),r(i)}).catch(function(e){n.i(s.a)(e),i("VAST url cannot be null!")})}})},v=function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){i.a.array((t||{}).ads)&&(e.ads=t.ads.concat(e.ads))}),i.a.array(e.ads)&&e.ads.length>1&&(e.ads=e.ads.sort(h),n.i(s.a)("[VAST adInventory] - ads after sequence sort",e.ads))},g=function(e,t){var n=[];return e.forEach(function(e){n.push(y(e,t))}),Promise.all(n)},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=n.i(l.a)(e.adstate,t,r,!0);if((i.vast||[]).length<1&&(i.vasts||[]).length<1){var o="VAST request skipped, due to empty URL array. Ad type: "+t;return r>0&&(o=o+", Ad index: "+r),n.i(s.a)(o),e.ads.inAdBreak()&&(n.i(s.a)("[request-ad] trigger adended"),e.trigger("adended")),"preroll"===t&&(n.i(s.a)("[request-ad] trigger "+c.l),e.trigger(c.l)),void("companion"===t&&(n.i(s.a)("[request-ad] trigger companionnotreturned"),e.trigger({type:"companionnotreturned",cue:r})))}var a=function(n){v(i,n),p(e,t,i,r)};if(i.ads=[],i.vasts){i.vasts.length>0&&g(i.vasts,e).then(function(e){n.i(s.a)("Returned responses (count: "+e.length+"): ",e),a(e)})}else y(i.vast,e).then(function(e){n.i(s.a)("Returned response: ",e),a([e])})};t.a=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.player=t,this.middrolsTimes=n.filter(function(e){return e>t.currentTime()+1})}return i(e,[{key:"reset",value:function(){var e=this;return new Promise(function(t){if(void 0!==(e.player.markers||{}).getMarkers){var n=e.middrolsTimes.map(function(e){return{time:e,class:"vjs-marker-ad"}}),r=e.player.markers.getMarkers().filter(function(e){return"vjs-marker-ad"!==e.class});e.player.markers.reset(n.concat(r)),t()}})}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=(n.n(i),n(7)),a=n(2),s=n(32),u=n(43),l=n(62),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(t,n){r(this,e),this.timeout=null,this.adstate=t,this.player=n}return c(e,[{key:"removeSklik",value:function(){"function"==typeof i.AdTrackHide2139VideoPlayerDesktop&&n.i(i.AdTrackHide2139VideoPlayerDesktop)()}},{key:"appendSklik",value:function(){"function"==typeof i.AdTrackShow2139VideoPlayerDesktop&&(this.wrapperElementCheck(),n.i(i.AdTrackShow2139VideoPlayerDesktop)(),this.player.trigger("sklikstarted"),n.i(a.a)("Sklik ad started"))}},{key:"wrapperElementCheck",value:function(){var e=document.getElementById(o.A);null===e.querySelector("#AdTrackVideoPlayer")&&e.appendChild(document.getElementById("AdTrackVideoPlayer"))}},{key:"showSklik",value:function(e){var t=this;l.a.resetShownCascade(this.player,this.adstate.currentAdtype);var r=n.i(u.a)(this.adstate,s.a.sklik,e);if(r){var i=1e3*r.timeout||6e4;this.removeSklik(),this.adstate.avlCreativeType="sklik",this.appendSklik(),this.timeout=this.player.setTimeout(function(){t.player.trigger("sklikended"),n.i(a.a)("Sklik ad ended")},i),this.player.one("sklikended",function(){t.timeout&&t.player.clearTimeout(t.timeout),t.removeSklik(),t.adstate.avlCreativeType=""})}else n.i(a.a)("Sklik initialization skipped. Sklik init object not found.")}}]),e}();t.a=f},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var i=n(134),o=n.n(i),a=n(1),s=(n.n(a),n(146)),u=n(2),l=this,c=function(e){var t=e;if(t.includes("[CACHEBUSTING]")){var n=Math.floor(89999999*Math.random()+1e7);t=t.replace(/\[CACHEBUSTING\]/g,n)}return t},f=function(e){var t={ignoreComment:!0,alwaysChildren:!0};return o.a.xml2js(e,t)},d=function(e){var t={compact:!1,ignoreComment:!0,spaces:4};return o.a.js2xml(e,t)},p=function(e,t){var r=t/100;return e.elements&&e.elements[0].elements&&e.elements[0].elements.forEach(function(e){if(e.attributes&&e.attributes.timeOffset&&e.attributes.timeOffset.includes("%")){var t=parseInt(e.attributes.timeOffset,10),i=t*r;e.attributes.timeOffset=n.i(s.a)(i)}}),e},h=function(e,t,i){return new Promise(function(o,s){n.i(u.a)("[vmap-processing] enabled");var h=setTimeout(function(){u.a.error("[vmap-processing] timeout error"),s()},i||5e3);n.i(a.fetch)(c(e)).then(function(){var e=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,l)}));return function(t){return e.apply(this,arguments)}}()).then(function(e){var n=f(e),r=p(n,t),i=d(r);clearTimeout(h),o(i)}).catch(function(e){u.a.error("[vmap-processing] fetch error "+e.message,e),s()})})};t.a=h},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var i=n(134),o=n.n(i),a=n(1),s=(n.n(a),n(2)),u=this,l=function(e){var t=e;if(t.includes("[CACHEBUSTING]")){var n=Math.floor(89999999*Math.random()+1e7);t=t.replace(/\[CACHEBUSTING\]/g,n)}return t},c=function(e){var t={ignoreComment:!0,alwaysChildren:!0};return o.a.xml2js(e,t)},f=function(e,t){var n=t/100;return Math.floor(parseInt(e)*n)},d=function(e){var t=e.split(":"),n=null;return t.length>=3&&(n=60*+t[0]*60+60*+t[1]+ +t[2]),n},p=function(e){switch(!0){case"start"===e:return"preroll";case"end"===e:return"postroll";default:return"midrolls"}},h=function(e){var t=null;return(e.elements||[]).forEach(function(e){t||"vmap:AdSource"!==e.name||(e.elements||[]).forEach(function(e){"vmap:AdTagURI"===e.name&&(e.elements||[]).forEach(function(e){"cdata"===e.type&&(t=e.cdata)})})}),t},y=function(e,t){var n={linear:{preroll:{vasts:[]},midrolls:[],postroll:{vasts:[]}},cascade:[],markers:[]};return e.elements[0].elements.forEach(function(e){if("vmap:AdBreak"===e.name){var r=e.attributes,i=r.timeOffset,o=r.breakType,a=i.includes("%")?f(i,t):d(i),s=h(e);if("linear"===o&&s){var u=p(i);"midrolls"===u?(n.linear[u].push({time:a,vasts:[s]}),n.markers.push({time:a,class:"vjs-marker-ad"})):n.linear[u].vasts.push(s)}"nonlinear"===o&&s&&n.cascade.push({time:a,overlay:{vast:s}})}}),n.linear.midrolls.length>0&&!t&&s.a.error("[vmap-transform] missing total duration value for midrolls time conversion"),n.cascade.length>0&&!t&&s.a.error("[vmap-transform] missing total duration value for overlays time conversion"),n},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return new Promise(function(o,f){n.i(s.a)("[vmap-transform] enabled");var d=setTimeout(function(){s.a.error("[vmap-transform] timeout error"),f()},i);n.i(a.fetch)(l(e)).then(function(){var e=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}()).then(function(e){var r=c(e);n.i(s.a)("[vmap-transform] vmap data",r);var i=y(r,t);n.i(s.a)("[vmap-transform] generated init data",i),clearTimeout(d),o(i)}).catch(function(e){s.a.error("[vmap-transform] fetch error "+e.message,e),f()})})};t.a=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(71),s=n.n(a),u=n(257),l=n(7),c=n(2),f=n(74),d=n(75),p=n(56),h=n(63),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(){function e(t,i,o){r(this,e),this.options=n.i(p.a)(!1,{bitrate:-1,viewMode:"normal",timeout:5e3,timeCheckInterval:500,retryFallbackTimeout:1500,zIndex:l.D,css:{playingState:"vpaid-playing",pausedState:"vpaid-paused"}},i.linear.vpaid),this.player=t,this.domOperations=new f.a(t,i),this.videoEl=o,this.listeners={}}return y(e,[{key:"getIframeWrapper",value:function(){return s.a.getElementById(this.options.friendlyIframeID)}},{key:"updateCanPlayFunction",value:function(e){var t=e.constructor.prototype.canPlayType.bind(e);e.canPlayType=function(e){var n=e.toLowerCase();return n.indexOf("flv")>-1?"":t(n)}}},{key:"onLoaded",value:function(){var e=this;this.player.paused()||this.player.pause(),n.i(c.a)("VPAID: onLoaded called."),this.adUnit.startAd().then(function(){e.player.addClass(l.E),e.player.adstate.linearAdId=e.adUnit.id,e.player.adstate.adPlaying=!0,e.player.play=function(){};var t=e.player.controlBar.getChild("PlaylistTimeDisplay");t?(t.playlistDurationDisplay.updateFormattedTime_(0),t.playlistCurrentTimeDisplay.updateFormattedTime_(0)):(e.player.controlBar.getChild("DurationDisplay").updateFormattedTime_(0),e.player.controlBar.getChild("CurrentTimeDisplay").updateFormattedTime_(0))})}},{key:"onRetryFallback",value:function(){var e=this;this.adUnit.getAdRemainingTime().then(function(t){0===e.getAdCurrentTime(t)&&(c.a.warn("VPAID: Video still not playing. Trying to load source again."),e.player.load(),e.player.play())})}},{key:"unsubscribeAll",value:function(){this.player.play=this.listeners.originalPlay,n.i(h.b)(this.getIframeWrapper()),n.i(h.c)(s.a,this.adUnit.el.id),this.adUnit.unsubscribeAll(),this.domOperations.removeAdMessageWrapperHTML(),this.player.off(["resize","playerresize"],this.listeners.resizeAd),this.player.off("fullscreenchange",this.listeners.onFullscreenChange),this.player.off("volumechange",this.listeners.updateAdUnitVolume),this.player.off("vpaid-fake-pause",this.listeners.onFakePause),this.player.off("vpaid-fake-play",this.listeners.onFakePlay),this.player.off("adsplayer-button-skip",this.listeners.onAdsPlayerButtonSkip),this.player.off("adended",this.listeners.onEnded),this.player.off("aderror",this.listeners.onError),this.player.removeClass(l.E)}},{key:"loadedmetadataFallback",value:function(){this.player.trigger("loadedmetadata-force")}},{key:"onEnded",value:function(){this.ended||(c.a.warn("VPAID: adended event was fired before VPAID ended ad."),this.adUnit.stopAd())}},{key:"onStopped",value:function(){n.i(c.a)("VPAID: onStopped called"),this.ended||(this.ended=!0,this.unsubscribeAll(),this.player.trigger("ott-vpaid-ended"),this.adEnded())}},{key:"onError",value:function(){n.i(c.a)("VPAID: onError called"),c.a.error("VPAID error occured. VPAID end event will be called manually"),this.onStopped()}},{key:"onSkipped",value:function(){n.i(c.a)("VPAID: onSkipped called"),this.ended||(this.ended=!0,this.unsubscribeAll(),this.player.trigger("ott-vpaid-skip-button"),this.adEnded())}},{key:"onClickThru",value:function(e){if(e.playerHandles){var t=e.url?e.url:this.creative.videoClickThroughURLTemplate;t&&(this.player.pause(),this.player.trigger("linearclickthrough"),this.player.trigger("adpauseclicked"),o.a.open(t,"_blank"))}}},{key:"onAdSkippableStateChange",value:function(){var e=this;n.i(c.a)("VPAID: onAdSkippableStateChange called"),this.adUnit.getAdSkippableState().then(function(t){t&&e.domOperations.showVPAIDSkipButton(function(){e.adUnit.skipAd()})})}},{key:"resizeAd",value:function(){this.adUnit.resizeAd(this.player.el().offsetWidth,this.player.el().offsetHeight,this.options.viewMode)}},{key:"onFullscreenChange",value:function(){this.player.isFullscreen()?this.adUnit.resizeAd(0,0,"fullscreen"):this.resizeAd()}},{key:"updateAdUnitVolume",value:function(){var e=this.player.muted()?0:this.player.volume();this.adUnit.setAdVolume(e)}},{key:"onAdVolumeChange",value:function(){var e=this,t=this.player.volume();this.adUnit.getAdVolume(function(n){t!==n&&e.player.volume(n)}).catch(function(e){return c.a.error("Player getAdVolume promise failed.",e)})}},{key:"getAdCurrentTime",value:function(e){var t=Number.isNaN||isNaN;return this.adDuration>0&&e>=0&&!t(e)?this.adDuration-e:0}},{key:"onDurationChange",value:function(){var e=this;return new Promise(function(t){e.adUnit.getAdDuration().then(function(n){e.adDuration=n,t(n)})})}},{key:"getMediaFile",value:function(e){return e.filter(function(e){return-1===e.mimeType.toLowerCase().indexOf("flash")})[0]}},{key:"bindListeners",value:function(){this.listeners.updateAdUnitVolume=this.updateAdUnitVolume.bind(this),this.listeners.onAdVolumeChange=this.onAdVolumeChange.bind(this),this.listeners.onError=this.onError.bind(this),this.listeners.onEnded=this.onEnded.bind(this),this.listeners.onError=this.onError.bind(this),this.listeners.onLoaded=this.onLoaded.bind(this),this.listeners.onRetryFallback=this.onRetryFallback.bind(this),this.listeners.onStopped=this.onStopped.bind(this),this.listeners.onSkipped=this.onSkipped.bind(this),this.listeners.onClickThru=this.onClickThru.bind(this),this.listeners.onAdSkippableStateChange=this.onAdSkippableStateChange.bind(this),this.listeners.resizeAd=this.resizeAd.bind(this),this.listeners.onFullscreenChange=this.onFullscreenChange.bind(this),this.listeners.onDurationChange=this.onDurationChange.bind(this),this.listeners.loadedmetadataFallback=this.loadedmetadataFallback.bind(this),this.listeners.onFakePause=this.onFakePause.bind(this),this.listeners.onFakePlay=this.onFakePlay.bind(this),this.listeners.originalPlay=this.player.play.bind(this.player),this.listeners.onAdsPlayerButtonSkip=this.onAdsPlayerButtonSkip.bind(this)}},{key:"onFakePause",value:function(){this.adUnit.pauseAd()}},{key:"onFakePlay",value:function(){this.adUnit.resumeAd()}},{key:"onAdsPlayerButtonSkip",value:function(){this.adUnit.skipAd()}},{key:"registerListeners",value:function(){var e=this;this.player.one("adended",this.listeners.onEnded),this.player.one("aderror",this.listeners.onError),this.adUnit.subscribe("AdLoaded",this.listeners.onLoaded),this.adUnit.subscribe("AdError",this.listeners.onError),this.adUnit.subscribe("AdStopped",this.listeners.onStopped),this.adUnit.subscribe("AdSkipped",this.listeners.onSkipped),this.adUnit.subscribe("AdClickThru",this.listeners.onClickThru),this.adUnit.subscribe("AdSkippableStateChange",this.listeners.onAdSkippableStateChange),this.adUnit.subscribe("AdVolumeChange",this.listeners.onAdVolumeChange),this.adUnit.subscribe("AdDurationChange",function(e){}),this.adUnit.subscribe("AdPaused",function(){e.player.trigger("vpaid.pause")}),this.adUnit.subscribe("AdPlaying",function(){e.player.trigger("vpaid.play")}),this.player.on(["resize","playerresize"],this.listeners.resizeAd),this.player.on("fullscreenchange",this.listeners.onFullscreenChange),this.player.on("volumechange",this.listeners.updateAdUnitVolume),this.player.on("vpaid-fake-pause",this.listeners.onFakePause),this.player.on("vpaid-fake-play",this.listeners.onFakePlay),this.player.on("adsplayer-button-skip",this.listeners.onAdsPlayerButtonSkip),this.player.on("ott-vpaid-player-error",function(){e.onError()})}},{key:"playAd",value:function(e,t,n){var r=this;this.player.paused()||this.player.pause(),this.creative=t,this.adEnded=n,new u.a(this.getIframeWrapper(),this.videoEl,this.videoEl.id,{timeout:this.options.timeout,zIndex:this.options.zIndex}).loadAd(this.getMediaFile(t.mediaFiles).fileURL).then(function(n){r.adUnit=n,r.adUnit.handshakeVersion("2.0").then(function(n){if("2.0"!==n)return c.a.error("Version different to 2.0. VPAID will be skipped."),void r.adEnded();r.bindListeners(),r.registerListeners(),r.linearTracker=new d.d(r.player,r.adUnit),r.linearTracker.track(e,t);var i={};r.creative.adParameters&&(i.AdParameters=r.creative.adParameters),r.previousSource=r.player.src(),r.player.ads.isAdPlaying()||r.player.ads.startLinearAdMode(),r.adUnit.initAd(r.player.el().offsetWidth,r.player.el().offsetHeight,r.options.viewMode,r.options.bitrate,i).catch(function(e){c.a.error("VPAID adUniti initialization failed.",e),r.linearTracker.dispose(),r.onStopped()})})}).catch(function(e){c.a.error("VPAID load ad unit failed! ",e)})}}]),e}();t.a=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(259),a=n(63),s=n(9),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t,i,s,u){r(this,e),this.registerMethods(),this.registerGetters(),this.isValid=this.checkValidity(t),this.isValid&&(this.creative=t,this.el=i,n.i(a.i)(this.el),this.videoEl=s,this.iframe=u,this.subscribers=new o.a,this.adClickEventName="AdClickThru",this.adError="AdError",this.registerEventSubscribers())}return u(e,[{key:"checkValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.creative;return a.j.every(function(t){return"function"==typeof e[t]})}},{key:"trigger",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];this.subscribers.trigger(r,Array.prototype.slice(t,1))}},{key:"clickThroughHook",value:function(e,t,n){this.subscribers.triggerSync(this.adClickEventName,{url:e,id:t,playerHandles:n})}},{key:"registerEventSubscribers",value:function(){var e=this;a.k.filter(function(t){return t!==e.adClickEventName}).forEach(function(t){return e.creative.subscribe(e.trigger.bind(e,t),t)}),this.creative.subscribe(this.clickThroughHook.bind(this),this.adClickEventName)}},{key:"registerGetters",value:function(){var e=this;a.l.forEach(function(t){e[t]=function(){return new Promise(function(n,r){try{n(e.creative[t]())}catch(e){r(e)}})}})}},{key:"registerMethods",value:function(){var e=this,t=["subscribe","unsubscribe","initAd"];a.j.forEach(function(r){~t.indexOf(r)||(e[r]=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return new Promise(function(t,a){try{n.i(i.a)("this",r);t(e.creative[r].apply(e.creative,o))}catch(e){a(e)}})})})}},{key:"one",value:function(e,t,n){this.subscribers.one(e,t,n)}},{key:"subscribe",value:function(e,t,n){this.subscribers.subscribe(e,t,n)}},{key:"unSubscribe",value:function(e,t){this.subscribers.unSubscribe(e,t)}},{key:"unsubscribeAll",value:function(){this.subscribers.unsubscribeAll()}},{key:"initAd",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a={slot:this.el,videoSlot:this.videoEl,videoSlotCanAutoPlay:!window.videojs.browser.IS_SAFARI};return window.environmentVars=a,new Promise(function(u,l){i.creative||l(s.T);try{i.creative.initAd(e,t,n,r,o,a),window.creative=i.creative,u()}catch(e){l(e)}})}},{key:"setAdVolume",value:function(e){var t=this;return new Promise(function(n,r){try{t.creative.setAdVolume(e);var i=t.creative.getAdVolume();e===i?n():r(s.U)}catch(e){r(e)}})}}]),e}();t.a=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(9),a=n(7),s=n(63),u=n(256),l=n(71),c=n.n(l),f=n(1),d=n.n(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e,t){return'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="UTF-8">\n    <title>title</title>\n  </head>\n  <body style="margin:0;padding:0">\n    <script type="text/javascript">var inDapIF = true;<\/script>\n    <script type="text/javascript" src="'+e+'"><\/script>\n    <script type="text/javascript">\n      window.parent.postMessage(\'{"event": "ready", "id": "'+a.F+"\"}', '"+t+"');\n    <\/script>\n  </body>\n</html>"},y=function(){function e(t,n,i,o){r(this,e),this.iframeContainer=t,this.videoEl=n,this.playerID=i,this.options=o,this.disposed=!1}return p(e,[{key:"loadAd",value:function(e){var t=this;return new Promise(function(r,l){t.onLoad&&l("VPAID loadAd was called already"),t.throwIfDisposed(),t.unloadPreviousAd(),n.i(s.b)(t.iframeContainer),t.adEl=n.i(s.d)(c.a,n.i(s.e)(t.playerID),t.options),n.i(s.c)(c.a,t.adEl.id),t.iframe=n.i(s.f)(c.a),n.i(s.g)(c.a,t.iframeContainer,t.iframe,t.videoEl,t.adEl),n.i(s.h)(t.iframe,h(e,t.getOrigin()));var f=setTimeout(function(){n.i(s.b)(t.iframeContainer),n.i(s.c)(c.a,t.adEl.id),t.unloadPreviousAd(),l("VPAID timeouted")},t.options.timeout);t.onLoad=function(e){if(e.origin===t.getOrigin())try{if(JSON.parse(e.data).id!==a.F)return;clearTimeout(f),t.removeLoadListener(),(t.iframe||{}).contentWindow?"function"!=typeof t.iframe.contentWindow.getVPAIDAd?l(o.Q):(t.adUnit=new u.a(t.iframe.contentWindow.getVPAIDAd(),t.adEl,t.videoEl,t.iframe),d.a.adUnit=t.adUnit,t.adUnit.isValid?(t.adUnit.subscribe("AdStopped",t.dispose.bind(t)),t.adUnit.subscribe("AdError",t.dispose.bind(t)),r(t.adUnit)):l(o.R)):l(o.P)}catch(e){n.i(i.a)("VPAID postMessage recieved some non JSON data probably. onLoad method will be skipped this time. ",e)}},d.a.addEventListener("message",t.onLoad)})}},{key:"removeIframe",value:function(){this.iframe&&this.iframe.parentNode&&(this.iframe.parentNode.removeChild(this.iframe),this.iframe=void 0)}},{key:"removeLoadListener",value:function(){this.onLoad&&(d.a.removeEventListener("message",this.onLoad),this.onLoad=void 0)}},{key:"stopAd",value:function(){this.adUnit&&(this.adUnit.stopAd(),this.adUnit=void 0)}},{key:"unloadPreviousAd",value:function(){this.removeIframe(),this.removeLoadListener(),this.stopAd()}},{key:"disposed",value:function(){return this.disposed}},{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.unloadPreviousAd())}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw i.a.error(o.S.code,o.S.message),o.S}},{key:"getOrigin",value:function(){if(d.a.location.origin)return d.a.location.origin;var e=d.a.location.port?":"+d.a.location.port:"";return d.a.location.protocol+"//"+d.a.location.hostname+e}}]),e}();t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Button"),c=a.videojs.getComponent("Component"),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.on(e,"vpaid.play",o.handlePlay),o.on(e,"vpaid.pause",o.handlePause),o}return o(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-play-control vjs-play-control-vpaid vjs-playing "+u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.hasClass("vjs-paused")?this.player_.trigger("vpaid-fake-play"):this.player_.trigger("vpaid-fake-pause")}},{key:"handlePlay",value:function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}},{key:"handlePause",value:function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")}}]),t}(l);c.registerComponent("PlayToggleFake",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.subscribers={}}return i(e,[{key:"get",value:function(e){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e]}},{key:"isHandlerAttached",value:function(e,t){return this.get(t).some(function(t){return e===t.handler})}},{key:"trigger",value:function(e,t){var n=this;this.get(e).concat(this.get("*")).forEach(function(e){setTimeout(function(){n.isHandlerAttached(e.handler,e.eventName)&&e.handler.call(e.context,t)},0)})}},{key:"triggerSync",value:function(e,t){this.get(e).concat(this.get("*")).forEach(function(e){e.handler.call(e.context,t)})}},{key:"subscribe",value:function(e,t,n){this.isHandlerAttached(t,e)||this.get(e).push({handler:t,context:n,eventName:e})}},{key:"one",value:function(e,t,n){var r=this,i=function i(o){r.unsubscribe(e,i),t.call(n,o)};this.subscribe(e,i,n)}},{key:"unsubscribe",value:function(e,t){this.subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})}},{key:"unsubscribeAll",value:function(){this.subscribers={}}}]),e}();t.a=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=a.videojs.getComponent("Button"),f=function(e){function t(e,n){r(this,t),n.buttonText=e.localize("Cancel autoplay");var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.el_.setAttribute("aria-label",o.options_.buttonText),o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-cancel vjs-button",innerHTML:"<span>"+this.options_.buttonText+"</span>"})}},{key:"handleClick",value:function(){this.player_.trigger({type:"ott-playnext-reset",from:"button"}),this.player_.removeClass(this.options_.autoplayClass)}}]),t}(c);l.registerComponent("CancelButton",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(98)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=a.videojs.getComponent("Component"),c=a.videojs.getComponent("Button"),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=e.localize("Play next");return o.controlText(a),o.el_.setAttribute("aria-label",a),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-play-button-circle vjs-an-play vjs-button"}},{key:"handleClick",value:function(){n.i(s.b)(this.player_,this.options_.target,this.options_.urlRedirect,"button",this.options_.productId)}}]),t}(c);l.registerComponent("PlayButton",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(98)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Component"),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.update(),o.player_.on("ott-playnext-reset",o.dispose.bind(o)),o}return o(t,e),u(t,[{key:"getCountdownHTML",value:function(){return this.options_.subHeading.replace("{0}","<span class='countdown'>"+this.options_.countDown+"</span>")}},{key:"dispose",value:function(){this.interval&&this.player_.clearInterval(this.interval)}},{key:"updateCountdownElement",value:function(){return this.contentEl_.getElementsByClassName("countdown")[0]}},{key:"update",value:function(){var e=this;if(void 0===this.interval){var t=(new Date).valueOf(),r=this.options_.countDown;this.interval=this.player_.setInterval(function(){if((new Date).valueOf()-t>=1e3*e.options_.countDown)return e.player_.clearInterval(e.interval),void n.i(s.b)(e.player_,e.options_.target,e.options_.urlRedirect,"countdown",e.options_.productId);r--,e.updateCountdownElement().innerHTML=r},1e3),this.player_.on("ott-playnext-fired",function(t){"countdown"!==t.from&&e.player_.clearInterval(e.interval)})}}},{key:"createEl",value:function(){return this.contentEl_=l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"p",{className:"vjs-an-title",innerHTML:"<strong>"+this.options_.heading+"</strong><br>"+this.getCountdownHTML()}),this.contentEl_}}]),t}(c);c.registerComponent("ProductTitle",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(94),s=n.n(a),u=n(1),l=(n.n(u),n(2)),c=n(261),f=n(262),d=n(260),p=n(100),h=n(7),y=n(9),v=n(147),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},k=u.videojs.getComponent("Component"),w=function(e){function t(e,n){r(this,t),n.autoplayClass=h.k;var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.bindListeners(),o.pluginState(),o.pluginDisplayed=!1,o.autoplayRequested=!1,o.watchPlayerState(),o.player_.on("ott-playnext-reset",o.listeners.dispose),o.player_.on("ott-playnext-reset",o.listeners.restorePostrollSnapshot),o.player_.one("play",o.listeners.getPostrollSnapshot),o}return o(t,e),m(t,[{key:"onAdPlay",value:function(){this.autoplayEnabled=!1,this.player_.one("playing",this.listeners.onEnableAutoplay)}},{key:"onEnableAutoplay",value:function(){n.i(v.a)(this.player_)&&(this.autoplayEnabled=!0)}},{key:"getXmlElementText",value:function(e){var t=e.innerHTML;if(t)return t;if(1===e.nodeType){var n=e.childNodes;t="";for(var r=0;r<n.length;r++)t+=n.item(r).nodeValue;return t}return null}},{key:"getPostrollInventory",value:function(){return((this.player_.adstate||{}).inventory||{}).postroll}},{key:"bindListeners",value:function(){this.listeners={},this.listeners.showIfStartReached=this.showIfStartReached.bind(this),this.listeners.onAdPlay=this.onAdPlay.bind(this),this.listeners.onEnableAutoplay=this.onEnableAutoplay.bind(this),this.listeners.dispose=this.dispose.bind(this),this.listeners.restorePostrollSnapshot=this.restorePostrollSnapshot.bind(this),this.listeners.getPostrollSnapshot=this.getPostrollSnapshot.bind(this),this.listeners.updatePluginState=this.updatePluginState.bind(this)}},{key:"pluginState",value:function(){this.autoplayEnabled=n.i(v.a)(this.player_),this.player_.on("ott-answitch-click",this.listeners.updatePluginState)}},{key:"updatePluginState",value:function(e){this.autoplayEnabled=e.checked}},{key:"getPostrollSnapshot",value:function(){var e=this.getPostrollInventory();e&&(this.postrollSnapshot=g({},e),e.vasts=[])}},{key:"restorePostrollSnapshot",value:function(){this.getPostrollInventory()&&(this.player_.adstate.inventory.postroll=this.postrollSnapshot,this.player_.ended()&&this.player_.trigger("ott-postroll-force"))}},{key:"dispose",value:function(){this.player_.off("ott-playertick",this.listeners.showIfStartReached),this.player_.off("adplay",this.listeners.adplay),this.pluginDisplayed=!1,this.player_.removeClass(this.options_.autoplayClass)}},{key:"showIfStartReached",value:function(){this.player_.playlist&&(this.autoplayEnabled=!1,this.dispose());var e=this.player_.duration(),t=this.player_.currentTime();this.autoplayEnabled&&!this.pluginDisplayed&&!this.autoplayRequested&&t>=e-this.options_.startSec&&this.callAutoplayEndpoint()}},{key:"watchPlayerState",value:function(){var e=this;this.options_.startSec>0?(this.player_.on("ott-playertick",this.listeners.showIfStartReached),this.player_.on("adplay",this.listeners.onAdPlay)):this.player_.one("ended",function(){e.autoplayEnabled&&e.callAutoplayEndpoint()})}},{key:"parseNextProducts",value:function(e){var t=this,n=(new u.DOMParser).parseFromString(e,"application/xml"),r=Array.prototype.slice.call(n.getElementsByTagName("status")),i=r.length>0?r[0].innerHTML||(r[0].firstChild||{}).nodeValue:"FAILED",o=[];if("OK"===i){Array.prototype.slice.call(n.getElementsByTagName("product")).forEach(function(e){var n=e.getElementsByTagName("urlRedirect")[0],r=e.getElementsByTagName("urlInit")[0],i=e.getElementsByTagName("productId")[0],a=e.getElementsByTagName("title")[0],s=e.getElementsByTagName("sub_title")[0];o.push({urlRedirect:t.getXmlElementText(n),urlInit:t.getXmlElementText(r),productId:t.getXmlElementText(i),heading:t.getXmlElementText(a),subHeading:t.getXmlElementText(s)})})}return o}},{key:"removeAllChildren",value:function(){for(;this.children_.length;)this.removeChild(this.children_[0])}},{key:"initSubComponents",value:function(e){var t=e.length>0?s()(this.options_,e[0]):this.options_;this.removeAllChildren(),this.playButton=new c.a(this.player_,t),this.addChild(this.playButton),this.productTitle=new f.a(this.player_,t),this.addChild(this.productTitle),this.cancelButton=new d.a(this.player_,t),this.addChild(this.cancelButton)}},{key:"createEl",value:function(){var e=b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-screen"});return this.contentEl_=p.a("div",{className:"vjs-an-center"}),e.appendChild(this.contentEl_),e}},{key:"showAutoplay",value:function(e){var t=this.parseNextProducts(e);t.length?(this.player_.trigger("ott-playnext-start"),this.pluginDisplayed=!0,this.initSubComponents(t),this.player_.addClass(this.options_.autoplayClass)):(this.dispose(),this.restorePostrollSnapshot(),l.a.warn("Any autoplay next product found"))}},{key:"callAutoplayEndpoint",value:function(){this.autoplayRequested=!0,this.performRequest(this.options_.url)}},{key:"performRequest",value:function(e){var t=this,r={method:"GET",headers:{"Content-Type":"application/json"},credentials:"same-origin",mode:"same-origin"};n.i(u.fetch)(e,r).then(function(e){e.ok?e.text().then(function(e){t.showAutoplay(e)}):t.handleResponse(e.status)}).catch(function(e){return t.handleResponse.call(t,e.message)})}},{key:"handleResponse",value:function(e){this.restorePostrollSnapshot(),l.a.error(y.q.code,y.q.message,e)}}]),t}(k);k.registerComponent("AutoplayScreen",w),t.a=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return s.parent_=o.parent,s.controlEventName="ott-big-unmute-button-click",s.defaultHideTimeoutMs=5e3,s.controlText(s.player_.localize("Turn on the sound")),s.hideTimeout=s.setHideTimeout(),s.fadeEffectTimeout=null,n.i(a.a)("[Big unmute button] button show for "+(s.options_.hideTimeMs?s.options_.hideTimeMs:s.defaultHideTimeoutMs)+"ms"),s}return o(t,e),u(t,[{key:"createEl",value:function(){var e='<div class="vjs-big-unmute-button__icon">\n    <div class="vjs-big-unmute-button__title">\n      <span>'+this.player_.localize("Turn on the sound")+"</span>\n    </div>\n    </div>";return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-big-unmute-button",innerHTML:e,"aria-live":"polite"})}},{key:"setHideTimeout",value:function(){var e=this;return setTimeout(function(){e.addClass("hideAnimation"),e.fadeEffectTimeout=setTimeout(function(){e.addClass("hidden"),n.i(a.a)("[Big unmute button] auto hidden")},1e3)},this.options_.hideTimeMs||this.defaultHideTimeoutMs)}},{key:"dispose",value:function(){clearTimeout(this.hideTimeout),clearTimeout(this.fadeEffectTimeout),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"handleClick",value:function(){this.addClass("hidden"),this.player_.muted(!1),this.player_.volume(.5),this.player_.trigger({type:this.controlEventName}),n.i(a.a)("[Big unmute button] trigger event "+this.controlEventName+" - button hidden")}}]),t}(c);t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(2),s=n(267),u=n(159),l=(n(266),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(){function e(t,i){r(this,e),this.player=t,this.settings=i,this.sending=!1,this.previousTime=null,n.i(u.a)(i.castSenderURL,this.init.bind(this))}return l(e,[{key:"init",value:function(){var e=this;this.chromecastSender=new s.a(this.player,this.settings);var t=this.player.setInterval(function(){i.chrome&&i.chrome.cast&&i.chrome.cast.isAvailable&&(e.player.clearInterval(t),e.chromecastSender.initializeCastApi(),e.player.on("ott-chromecast-click",function(){return e.onLaunchClick()}),e.player.on("ott-chromecast-run",function(){return e.onRunWithoutClick()}))},1e3)}},{key:"onLaunchClick",value:function(){this.sending?this.chromecastSender.stopApp():(this.bindMethods(),this.registerPlayerEvents(),this.registerSenderEvents(),this.chromecastSender.launchApp())}},{key:"onRunWithoutClick",value:function(){this.bindMethods(),this.registerPlayerEvents(),this.registerSenderEvents()}},{key:"bindMethods",value:function(){this.originalClick=this.player.controlBar.playToggle.el_.onclick,this.onChromecastStarting=this.onChromecastStarting.bind(this),this.onChromecastStopped=this.onChromecastStopped.bind(this),this.onChromecastPlaying=this.onChromecastPlaying.bind(this),this.onChromecastPaused=this.onChromecastPaused.bind(this),this.onTimeChange=this.onTimeChange.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onSubtitlesEnabled=this.onSubtitlesEnabled.bind(this),this.onSubtitlesDisabled=this.onSubtitlesDisabled.bind(this),this.onLanguageChanged=this.onLanguageChanged.bind(this),this.onTimeshiftSeek=this.onTimeshiftSeek.bind(this),this.onPlaynextFired=this.onPlaynextFired.bind(this),this.onWindowUnload=this.onWindowUnload.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.originalOnUnload=o.a.onbeforeunload,this.unregisterStopOnWindowClose=this.unregisterStopOnWindowClose.bind(this)}},{key:"registerPlayerEvents",value:function(){var e=this;this.player.controlBar.playToggle.el_.onclick=function(){e.onToggleClick(),e.originalClick&&e.originalClick()},this.player.on("volumechange",this.onVolumeChange),this.player.on("ott-seeking-when-casting",this.onSeeking),this.player.on("ott-subtitles-enabled",this.onSubtitlesEnabled),this.player.on("ott-subtitles-disabled",this.onSubtitlesDisabled),this.player.on("ott-language-changed",this.onLanguageChanged),this.player.on("ott-seekablelive-seek",this.onTimeshiftSeek),this.player.on("ott-playnext-fired",this.onPlaynextFired),this.settings.stopOnWindowClose&&(o.a.onbeforeunload=this.onWindowUnload)}},{key:"unregisterPlayerEvents",value:function(){this.player.controlBar.playToggle.el_.onclick=this.originalClick,this.player.off("volumechange",this.onVolumeChange),this.player.off("ott-seeking-when-casting",this.onSeeking),this.player.off("ott-subtitles-enabled",this.onSubtitlesEnabled),this.player.off("ott-subtitles-disabled",this.onSubtitlesDisabled),this.player.off("ott-language-changed",this.onLanguageChanged),this.player.off("ott-seekablelive-seek",this.onTimeshiftSeek),this.player.off("timeupdate",this.onTimeUpdate)}},{key:"unregisterStopOnWindowClose",value:function(){this.player.off("ott-playnext-fired",this.onPlaynextFired),this.settings.stopOnWindowClose&&(o.a.onbeforeunload=this.originalOnUnload)}},{key:"onToggleClick",value:function(){this.sending?this.chromecastSender.castPlayerState===s.b.PAUSED?(n.i(a.a)("[chromecast] play clicked"),this.chromecastSender.playMedia()):this.chromecastSender.castPlayerState===s.b.PLAYING&&(n.i(a.a)("[chromecast] pause clicked"),this.chromecastSender.pauseMedia()):n.i(a.a)("[chromecast] play/pause clicked but not sending")}},{key:"onVolumeChange",value:function(){this.sending?this.chromecastSender.setReceiverVolume(this.player.volume(),this.player.muted()):n.i(a.a)("[chromecast] volume changed but not sending")}},{key:"onTimeUpdate",value:function(){Math.abs(this.player.currentTime()-this.previousTime)>2&&(console.log("[chromecast] Seeking passed: current: "+this.player.currentTime()+", previous: "+this.previousTime),this.previousTime=this.player.currentTime(),this.player.trigger({type:"ott-seeking-when-casting",time:this.previousTime})),this.previousTime=this.player.currentTime()}},{key:"onSeeking",value:function(e){this.sending?this.chromecastSender.seekMedia(e.time):n.i(a.a)("[chromecast] seeking fired but not sending")}},{key:"onSubtitlesEnabled",value:function(){this.sending&&this.chromecastSender.captionsChange()}},{key:"onSubtitlesDisabled",value:function(){this.sending&&this.chromecastSender.captionsChange(!0)}},{key:"onLanguageChanged",value:function(e){this.sending&&this.chromecastSender.languageChange(e)}},{key:"onTimeshiftSeek",value:function(){this.sending&&this.chromecastSender.timeshiftSeek()}},{key:"onPlaynextFired",value:function(){this.unregisterStopOnWindowClose()}},{key:"onWindowUnload",value:function(){this.chromecastSender.stopApp()}},{key:"registerSenderEvents",value:function(){this.player.on("ott-chromecast-starting",this.onChromecastStarting),this.player.on("ott-chromecast-stopped",this.onChromecastStopped),this.player.on("ott-chromecast-playing",this.onChromecastPlaying),this.player.on("ott-chromecast-paused",this.onChromecastPaused),this.player.on("ott-chromecast-time-change",this.onTimeChange)}},{key:"unregisterSenderEvents",value:function(){this.player.off("ott-chromecast-starting",this.onChromecastStarting),this.player.off("ott-chromecast-stopped",this.onChromecastStopped),this.player.off("ott-chromecast-playing",this.onChromecastPlaying),this.player.off("ott-chromecast-paused",this.onChromecastPaused),this.player.off("ott-chromecast-time-change",this.onTimeChange)}},{key:"onChromecastStarting",value:function(){n.i(a.a)("[chromecast] starting event"),this.sending=!0,this.player.pause(),this.player.addClass("vjs-chromecast-playing"),this.player.bigPlayButton.hide(),this.player.trigger("clickScreen-playToggle-off"),this.player.trigger("faketime-on"),this.previousTime=this.player.currentTime(),this.player.on("timeupdate",this.onTimeUpdate)}},{key:"onChromecastStopped",value:function(e){this.sending&&(this.sending=!1,this.player.trigger("faketime-off"),e&&e.currentTime&&this.player.currentTime(e.currentTime),this.player.play(),this.player.removeClass("vjs-chromecast-playing"),this.player.removeClass("vjs-chromecast-paused"),this.player.bigPlayButton.show(),this.player.trigger("clickScreen-playToggle-on"),this.unregisterPlayerEvents(),this.unregisterSenderEvents(),e.keepStopOnWindowClose||this.unregisterStopOnWindowClose())}},{key:"onChromecastPlaying",value:function(){n.i(a.a)("[chromecast] playing event"),this.player.pause(),this.player.addClass("vjs-chromecast-playing"),this.player.removeClass("vjs-chromecast-paused"),this.player.bigPlayButton.hide()}},{key:"onChromecastPaused",value:function(){n.i(a.a)("[chromecast] paused event"),this.player.pause(),this.player.addClass("vjs-chromecast-paused"),this.player.removeClass("vjs-chromecast-playing"),this.player.bigPlayButton.hide()}},{key:"onTimeChange",value:function(e){this.player.currentTime(e.currentTime)}}]),e}();t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(78),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=s.videojs.getComponent("Component"),d=s.videojs.getComponent("ControlBar"),p=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.controlTextEl_.innerHTML=o.player_.localize("Cast to Chromecast"),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-chromecast-button "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)+" vjs-hidden"}},{key:"handleClick",value:function(){n.i(a.a)(this.player_),this.player_.trigger("ott-chromecast-click")}}]),t}(c);d.prototype.options_.children.push("chromecastButton"),f.registerComponent("ChromecastButton",p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return c});var i=n(1),o=(n.n(i),n(2)),a=n(39),s=n(56),u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c={IDLE:"IDLE",LOADING:"LOADING",LOADED:"LOADED",PLAYING:"PLAYING",PAUSED:"PAUSED",STOPPED:"STOPPED",SEEKING:"SEEKING",ERROR:"ERROR"},f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.player=t,this.settings=n,this.source=null,this.session=null,this.currentMediaSession=null,this.timer=null,this.lastTime=0,this.castPlayerState=c.IDLE,this.onLoadSuccess=this.onLoadSuccess.bind(this),this.onLoadError=this.onLoadError.bind(this),this.onMediaStatusUpdate=this.onMediaStatusUpdate.bind(this)}return l(e,[{key:"initializeCastApi",value:function(){var e=this.settings.applicationId,t=this.settings.autoJoinPolicy||i.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,n=new i.chrome.cast.SessionRequest(e),r=new i.chrome.cast.ApiConfig(n,this.sessionListener.bind(this),this.receiverListener.bind(this),t);i.chrome.cast.initialize(r,this.onInitSuccess.bind(this),this.onInitError.bind(this))}},{key:"sessionListener",value:function(e){this.session=e,n.i(o.a)("[chromecast] SESSION LISTENER from apiconfig from initialize"),0!==this.session.media.length?n.i(o.a)("[chromecast] Found "+this.session.media.length+" sessions."):n.i(o.a)("[chromecast] No session found"),this.player.pause(),this.player.trigger("ott-chromecast-run"),this.loadMedia()}},{key:"receiverListener",value:function(e){if("available"===e)n.i(o.a)("[chromecast] Chromecast available"),this.player.controlBar.getChild("ChromecastButton").show();else{n.i(o.a)("[chromecast] No Chromecast available!"),this.player.controlBar.getChild("ChromecastButton").hide();var t=this.getCurrentTime()||this.lastTime;this.player.trigger({type:"ott-chromecast-stopped",currentTime:t}),this.clearTimer()}}},{key:"onInitSuccess",value:function(){n.i(o.a)("[chromecast] Initialization succeeded")}},{key:"onInitError",value:function(){n.i(o.a)("[chromecast] Initialization failed")}},{key:"launchApp",value:function(){this.session&&(n.i(o.a)("[chromecast] session detected to stop"),this.stopApp()),n.i(o.a)("[chromecast] Launching..."),i.chrome.cast.requestSession(this.onRequestSessionSuccess.bind(this),this.onLaunchError.bind(this))}},{key:"onRequestSessionSuccess",value:function(e){n.i(o.a)("[chromecast] SESSION LISTENER from launchapp"),n.i(o.a)("[chromecast] Successfully created session "+e.sessionId),this.session=e;var t=u(this.session.media,1);this.currentMediaSession=t[0],this.loadMedia()}},{key:"onLaunchError",value:function(){n.i(o.a)("[chromecast] Error connecting to Chromecast"),this.player.trigger("ott-chromecast-stopped"),this.clearTimer()}},{key:"loadCaptions",value:function(e){for(var t=(this.player.options_.plugins.settings||{}).subtitles||[],n=[],r=0,o=0;o<t.length;o++){var a=t[o];r+=1;var s=new i.chrome.cast.media.Track(r,i.chrome.cast.media.TrackType.TEXT);s.trackContentId=a.src,s.subtype=i.chrome.cast.media.TextTrackType.CAPTIONS,s.name=a.label,s.language=a.srclang,s.customData=null,n.push(s)}n.length&&(e.tracks=n,e.textTrackStyle=new i.chrome.cast.media.TextTrackStyle,e.textTrackStyle.foregroundColor="#FFFFFF",e.textTrackStyle.backgroundColor="#00000060",e.textTrackStyle.edgeType=i.chrome.cast.media.TextTrackEdgeType.DROP_SHADOW,e.textTrackStyle.windowType=i.chrome.cast.media.TextTrackWindowType.ROUNDED_CORNERS)}},{key:"loadMedia",value:function(e){if(n.i(o.a)("[chromecast] loading media"),!this.session)return void n.i(o.a)("[chromecast] No session!");this.source=e||n.i(a.b)(this.player);var t=new i.chrome.cast.media.MediaInfo(this.source.src);if(t.contentType=this.source.type,t.metadata=new i.chrome.cast.media.GenericMediaMetadata,this.loadCaptions(t),t.metadata.metadataType=i.chrome.cast.media.MetadataType.GENERIC,this.source.drm){var r=this.source.drm.filter(function(e){return"com.widevine.alpha"===e.keySystem}),l=u(r,1),c=l[0];c&&(t.metadata.licenseServerUrl=c.serverURL,t.metadata.licenseToken=c.headers[0].value)}t.metadata=n.i(s.a)(!0,t.metadata,this.settings.metadata),n.i(o.a)("[chromecast] requesting");var f=new i.chrome.cast.media.LoadRequest(t);f.autoplay=!0,f.currentTime=this.player.currentTime()||0,this.session.loadMedia(f,this.onLoadSuccess,this.onLoadError)}},{key:"onLoadSuccess",value:function(){n.i(o.a)("[chromecast] Successfully loaded video."),this.captionsChange(),this.lastTime=this.player.currentTime(),this.player.trigger("ott-chromecast-starting"),this.setTimer(),this.castPlayerState=c.PLAYING;var e=u(this.session.media,1);this.currentMediaSession=e[0],this.currentMediaSession.addUpdateListener(this.onMediaStatusUpdate)}},{key:"onLoadError",value:function(){n.i(o.a)("[chromecast] Failed to load video."),this.player.trigger("ott-chromecast-stopped"),this.clearTimer()}},{key:"stopApp",value:function(){n.i(o.a)("[chromecast] stopping app"),this.session.stop(this.onStopAppSuccess.bind(this),this.onStopError.bind(this))}},{key:"onStopAppSuccess",value:function(){n.i(o.a)("[chromecast] session stoped with success"),this.castPlayerState=c.IDLE,this.restorePlayerState()}},{key:"onStopError",value:function(){n.i(o.a)("[chromecast] session stopped with error"),this.castPlayerState=c.IDLE,this.restorePlayerState()}},{key:"restorePlayerState",value:function(){var e=this.getCurrentTime()||this.lastTime;this.removeListeners(),this.player.trigger({type:"ott-chromecast-stopped",currentTime:e}),this.clearTimer()}},{key:"removeListeners",value:function(){if(this.session&&this.session.media&&0!==this.session.media.length){var e=u(this.session.media,1);this.currentMediaSession=e[0],this.currentMediaSession.removeUpdateListener(this.onMediaStatusUpdate)}}},{key:"onMediaStatusUpdate",value:function(e){n.i(o.a)("[chromecast] update listener"),0==e&&(n.i(o.a)("[chromecast] stopping without error"),this.removeListeners(),this.clearTimer(),this.player.trigger({type:"ott-chromecast-stopped",keepStopOnWindowClose:!0}))}},{key:"playMedia",value:function(){n.i(o.a)("[chromecast] play from sender");var e=u(this.session.media,1);if(this.currentMediaSession=e[0],!this.currentMediaSession)return void n.i(o.a)("[chromecast] returning");var t=new i.chrome.cast.media.PlayRequest;this.currentMediaSession.play(t,this.mediaCommandSuccessCallback.bind(this,"chromecast - Session playing started for "+this.currentMediaSession.sessionId),this.onError.bind(this)),this.castPlayerState=c.PLAYING,this.player.trigger("ott-chromecast-playing"),this.setTimer()}},{key:"pauseMedia",value:function(){n.i(o.a)("[chromecast] pause from sender");var e=u(this.session.media,1);if(this.currentMediaSession=e[0],!this.currentMediaSession)return void n.i(o.a)("[chromecast] returning");var t=new i.chrome.cast.media.PauseRequest;this.currentMediaSession.pause(t,this.mediaCommandSuccessCallback.bind(this,"chromecast - Session paused for "+this.currentMediaSession.sessionId),this.onError.bind(this,"Pause")),this.castPlayerState=c.PAUSED,this.player.trigger("ott-chromecast-paused"),this.clearTimer()}},{key:"setReceiverVolume",value:function(e,t){n.i(o.a)("[chromecast] volume setting"),e=t?0:e,this.session.setReceiverVolumeLevel(e,this.mediaCommandSuccessCallback.bind(this),this.onError.bind(this))}},{key:"seekMedia",value:function(e){n.i(o.a)("[chromecast] seeking: "+e);var t=new i.chrome.cast.media.SeekRequest;t.currentTime=e,this.session.media[0].seek(t,this.mediaCommandSuccessCallback.bind(this,"media seek done"),this.onError.bind(this))}},{key:"mediaCommandSuccessCallback",value:function(e){n.i(o.a)("mediaCommandSuccessCallback: ",e)}},{key:"onError",value:function(e){n.i(o.a)("error",e)}},{key:"captionsChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=this.player.textTracks();if(n){for(var r=0;r<n.length;r++){"showing"===n[r].mode&&t.push(r+1)}if(t.length||e){var o=new i.chrome.cast.media.EditTracksInfoRequest(t);this.session.media[0].editTracksInfo(o,this.onTrackSuccess,this.onTrackError)}}}},{key:"onTrackSuccess",value:function(){n.i(o.a)("track added")}},{key:"onTrackError",value:function(e){n.i(o.a)("Cast track Error: ",e)}},{key:"setTimer",value:function(){var e=this;this.timer||(this.timer=this.player.setInterval(function(){var t=e.getCurrentTime();if(void 0===t)return void e.clearTimer();e.player.trigger({type:"ott-chromecast-time-change",currentTime:t}),e.lastTime=t},1e3))}},{key:"clearTimer",value:function(){this.timer&&(this.player.clearInterval(this.timer),this.timer=null)}},{key:"languageChange",value:function(e){n.i(o.a)("[chromecast] changing language to "+e.source.lang),this.removeListeners(),this.clearTimer(),this.loadMedia(e.source)}},{key:"timeshiftSeek",value:function(){n.i(o.a)("[chromecast] timeshift executed"),this.removeListeners(),this.clearTimer(),this.loadMedia()}},{key:"getCurrentTime",value:function(){var e=void 0;try{var t=u(this.session.media,1);this.currentMediaSession=t[0],e=this.currentMediaSession.getEstimatedTime()}catch(e){n.i(o.a)("[chromecast] Error (when running getEstimatedTime, triggering stop): ",e),this.player.trigger("ott-chromecast-stopped")}return e}}]),e}();t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(78)),u=n(2),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=a.videojs.getComponent("ClickableComponent"),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.playToggleEnabled=!0,o.registerEvents(),o}return o(t,e),l(t,[{key:"registerEvents",value:function(){var e=this;this.player_.on("clickScreen-playToggle-on",function(){e.playToggleEnabled=!0}),this.player_.on("clickScreen-playToggle-off",function(){e.playToggleEnabled=!1})}},{key:"handleClick",value:function(e){var t=this.player_;!n.i(s.a)(t)&&this.playToggleEnabled&&(t.paused()?t.play():t.hasClass("vjs-is-on-mobile")?n.i(u.a)("[clickscreen] clicked on mob"):(n.i(u.a)("[clickscreen] clicked off mob"),t.pause())),e.stopImmediatePropagation()}},{key:"createEl",value:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-click-screen"})}}]),t}(f);a.videojs.registerPlugin("ClickScreen",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=s.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.parent_=n.parent,o.expandActiveClass="vjs-expand-screen-active",o.controlText(o.player_.localize("Full width")),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-expand-screen-button "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div")}},{key:"expandActive",value:function(){this.player_.trigger("ott-player-expand-on"),this.player_.addClass(this.expandActiveClass),this.controlText(this.player_.localize("Default size")),n.i(a.a)("[expand button] cinema mode turn ON")}},{key:"expandDisable",value:function(){this.player_.trigger("ott-player-expand-off"),this.player_.removeClass(this.expandActiveClass),this.controlText(this.player_.localize("Full width")),n.i(a.a)("[expand button] cinema mode turn OFF")}},{key:"handleClick",value:function(){this.hasClass("active")?this.expandDisable():this.expandActive(),this.toggleClass("active")}}]),t}(c);f.registerComponent("expandScreenButton",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(72),s=n.n(a),u=n(2),l=n(1),c=(n.n(l),n(39)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},p=l.videojs.getComponent("Button"),h=l.videojs.getComponent("Component"),y=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.player=e,a.parent_=o.parent,a.controlEventName="ott-help-button-click",a.controlText(a.player_.localize("Help button")),a.streamInfo=n.i(c.a)(e),a}return o(t,e),f(t,[{key:"buildCSSClass",value:function(){return"vjs-help-button "+d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){return d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div")}},{key:"getMuxViewerId",value:function(){var e=JSON.parse('{"'+decodeURI((s.a.get("muxData")||"").replace(/&/g,'","').replace(/=/g,'":"'))+'"}');return e.mux_viewer_id?e.mux_viewer_id:null}},{key:"handleClick",value:function(){this.player_.paused()||this.player_.pause();var e={currentTime:this.player_.currentTime(),videoId:this.streamInfo.videoId||this.streamInfo.programID,muxViewerId:this.getMuxViewerId(),playerVersion:this.player_.VERSION,userAgent:navigator.userAgent};this.player_.trigger({type:this.controlEventName,helpData:e}),n.i(u.a)("[help-button plugin] trigger event "+this.controlEventName,e)}}]),t}(p);h.registerComponent("helpButton",y),t.a=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(2)),u=(n(274),n(9)),l=n(39),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getComponent("Button"),p=a.videojs.getComponent("Component"),h=function(e){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return a.player=e,a.controlEventName="ott-liverestart-click",a.controlText(a.player.localize("Live restart")),a.streamInfo=n.i(l.a)(a.player),a.player.addChild("LiveRestartOverlay"),a.player.options_.plugins.timeShift?a:(s.a.error(u.o.code,u.o.message),i(a))}return o(t,e),c(t,[{key:"buildCSSClass",value:function(){return"vjs-live-restart-button "+f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){return this.options_.liveRestartEndpointUrl?f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-live-restart-button vjs-control"+(this.player_.options_.plugins.timeShift?"":" vjs-hidden")}):""}},{key:"hideSettingsMenuPlugin",value:function(){var e=this.player.getChild("SettingsMenu");void 0!==e&&(e.hasClass("vjs-hidden")||(e.addClass("vjs-hidden"),this.player.removeClass("vjs-popup-displayed")))}},{key:"handleClick",value:function(){this.getProgramStart()}},{key:"showInfoWindow",value:function(){this.player.hasClass("vjs-liverestart-showing")||(this.player.addClass("vjs-liverestart-showing"),this.player.pause()),this.hideSettingsMenuPlugin()}},{key:"seekToProgramStart",value:function(e,t){var r="";if(this.player.pause(),e)r=e;else{var i=Date.now(),o=new Date(t).getTime();r=Math.floor((i-o)/1e3),n.i(s.a)("[Live Restart] now is "+i+"ms and program start is "+o+"ms")}n.i(s.a)("[Live Restart] seeking back for "+r+" seconds."),this.player.timeshiftSeek(r);var u={currentTime:this.player.currentTime(),videoId:this.streamInfo.videoId||this.streamInfo.programID,playerVersion:this.player.VERSION,userAgent:a.navigator.userAgent};this.player.trigger({type:this.controlEventName,liveRestartData:u}),n.i(s.a)("[live-restart-button plugin] trigger event "+this.controlEventName,u)}},{key:"getProgramStart",value:function(){var e=this,t=e.options_.liveRestartEndpointUrl,r=e.options_.liveRestartChannelId,i=t+"?channelId="+r;n.i(a.fetch)(i,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){t.liveRestartOffsetSeconds?(n.i(s.a)("[Live restart] program starts "+t.liveRestartOffsetSeconds+" seconds ago"),e.seekToProgramStart(t.liveRestartOffsetSeconds,null)):t.liveRestartProgramStart?(n.i(s.a)("[Live restart] program starts at "+t.liveRestartProgramStart),e.seekToProgramStart(null,t.liveRestartProgramStart)):(n.i(s.a)("[Live restart] "+t.errorCode),t.userMessage&&(a.document.querySelectorAll(".vjs-liverestart-overlay-text-placeholder")[0].innerHTML=t.userMessage),e.showInfoWindow())}).catch(function(e){n.i(s.a)("[Live restart] "+e)})}}]),t}(d);p.registerComponent("liveRestartButton",h),t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.window.videojs,c=l.getComponent("Button"),f=l.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.controlTextEl_.innerHTML=n.name,n.cssClass.forEach(function(e){return o.el_.classList.add(e)}),o}return o(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-lr-cancel-button "+u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){this.disabled||this.player_.timeshiftSeek(0)}}]),t}(c);f.registerComponent("LiveRestartCancelButton",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("OptOutButton"),l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return a.videojs.dom.createEl("span",{className:"vjs-icon-close-red vjs-liverestart-close",innerHTML:""})}},{key:"handleClick",value:function(){this.player_.hasClass("vjs-liverestart-showing")&&(this.player_.removeClass("vjs-liverestart-showing"),this.player_.play())}}]),t}(u);l.registerComponent("liveRestartClose",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(273),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild("LiveRestartClose"),o}return o(t,e),s(t,[{key:"createEl",value:function(){return this.contentEl_=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-liverestart-overlay",innerHTML:'<div class="vjs-liverestart-overlay-inner">\n            <div class="vjs-icon-info">\n            </div>\n            <div class=\'vjs-liverestart-overlay-text\'>\n              <h2>'+this.player_.localize("Live Restart")+'</h2>\n              <p class="vjs-liverestart-overlay-text-placeholder">\n                '+this.player_.localize("The provided user cannot use the timeshift feature, the product does not allow the timeshift feature or the timeshift feature cannot be used at the specific moment.")+"\n              </p>\n            </div>\n          </div>"}),this.contentEl_}}]),t}(l);l.registerComponent("liveRestartOverlay",c)},function(e,t,n){"use strict";function r(e,t){return Math.round(t/(e/100))}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("Button"),l=a.videojs.getComponent("Component"),c=(a.videojs.getComponent("ControlBar"),function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.controlTextEl_.innerHTML=o.player_.localize("Next"),o}return o(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-playlist-buttons vjs-playlist-next vjs-control vjs-button"}},{key:"handleClick",value:function(){this.player_.playlist.changePlaylistSourceNext()}}]),t}(u));l.registerComponent("PlaylistButtonNext",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("Button"),l=a.videojs.getComponent("Component"),c=(a.videojs.getComponent("ControlBar"),function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.controlTextEl_.innerHTML=o.player_.localize("Prev"),o}return o(t,e),s(t,[{key:"buildCSSClass",value:function(){return"vjs-playlist-buttons vjs-playlist-prev vjs-control vjs-button"}},{key:"handleClick",value:function(){this.player_.playlist.changePlaylistSourcePrev()}}]),t}(u));l.registerComponent("PlaylistButtonPrev",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){var e=this.player_.playlist.playlistData;return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-index-display",innerHTML:"<span>"+(e.actualIndex+1)+" / "+e.totalLength+"</span>"})}}]),t}(l);l.registerComponent("PlaylistIndexDisplay",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"getMarkerPosition",value:function(){var e=this.player_.playlist.playlistData,t=this.player_.controlBar.progressControl.width(),n=t/e.totalDuration,r=this.options_.durationBefore+this.options_.markerTime;return Math.floor(r*n)}},{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-ad-marker"},{style:"left: "+this.getMarkerPosition()+"px",markerKey:this.options_.markerKey})}}]),t}(l);l.registerComponent("PlaylistAdMarker",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(276)),u=n(277),l=n(278),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getComponent("Component"),p=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild(new u.a(e)),o.addChild(new l.a(e)),o.addChild(new s.a(e)),o}return o(t,e),c(t,[{key:"createEl",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-control-buttons"})}}]),t}(d);d.registerComponent("PlaylistControlButtons",p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("LoadProgressBar"),l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addClass("vjs-playlist-load-progress-bar"),o}return o(t,e),s(t,[{key:"getTimeTotalDurationBeforeThisSource",value:function(){var e=this.player_.playlist.playlistData;if(0!==e.actualIndex){var t=0;return e.sources.reduce(function(n,r){return t<e.actualIndex&&(t++,n+=r.duration),n},0)}return 0}},{key:"update",value:function(e){var t=this.player_.buffered(),n=this.player_.playlist.playlistData.totalDuration,r=this.player_.bufferedEnd()+this.getTimeTotalDurationBeforeThisSource(),i=this.partEls_;this.el_.style.width=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"}(r,n),i.length=t.length}}]),t}(u);l.registerComponent("PlaylistLoadProgressBar",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"getMarkerPosition",value:function(){var e=this.player_.playlist.playlistData,t=this.player_.controlBar.progressControl.width(),n=t/e.totalDuration,r=e.sources[this.options_.sourceIndex].durationBefore;return Math.floor(r*n)}},{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-marker",innerHTML:"<span>"+this.options_.sourceIndex+"</span>"},{style:"left: "+this.getMarkerPosition()+"px"})}}]),t}(l);l.registerComponent("PlaylistMarker",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(26)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=a.videojs.getComponent("SeekBar"),c=a.videojs.getComponent("Component"),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addClass("vjs-playlist-seek-bar"),o.player_.playlist.playlistData.thumbnails&&o.initThumbnails(),o}return o(t,e),u(t,[{key:"checkSeekInSourceRange",value:function(e,t,n){return e>=t&&e<=n}},{key:"getSeekSourceIndex",value:function(e){var t=this,n=this.player_.playlist.playlistData,r=n.sources,i=n.actualIndex,o=r[i].seekRange,a=100*e;if(this.checkSeekInSourceRange(a,o.min,o.max))return i;var s=void 0;return r.forEach(function(e,n){t.checkSeekInSourceRange(a,e.seekRange.min,e.seekRange.max)&&(s=n)}),s}},{key:"calculatePlaylistDistance",value:function(e,t){var n=this.player_.playlist.playlistData.sources[t].seekRange,r=n.rangeLength/100,i=e-n.min/100,o=i/r;return o>.92?.92:o}},{key:"getPercent",value:function(){var e=this.player_.playlist.playlistData,t=(this.getCurrentTime_()+e.sources[e.actualIndex].durationBefore)/e.totalDuration;return t>=1?1:t||0}},{key:"handleMouseMoveThumbs",value:function(){var e=this,t=this.el();t.addEventListener("mousemove",function(t){var r=e.player_.playlist.playlistData,i=e.getSeekSourceIndex(e.calculateDistance(t));if(n.i(s.a)(function(){return r.sources[i].thumbnailsPlaylist.url})){var o=e.calculatePlaylistDistance(e.calculateDistance(t),i)*r.sources[i].duration;e.thumbnails.update(i,o)}}),t.addEventListener("mouseover",function(t){var r=e.player_.playlist.playlistData,i=e.getSeekSourceIndex(e.calculateDistance(t));n.i(s.a)(function(){return r.sources[i].thumbnailsPlaylist.url})&&e.thumbnails.visible()}),t.addEventListener("mouseout",function(){e.thumbnails.unvisible()})}},{key:"initThumbnails",value:function(){this.thumbnails=this.player().controlBar.progressControl.getChild("PlaylistThumbnails"),this.handleMouseMoveThumbs()}},{key:"handleMouseMove",value:function(e){var t=this.player_.playlist.playlistData,n=this.getSeekSourceIndex(this.calculateDistance(e));if(n!==t.actualIndex){var r=this.calculatePlaylistDistance(this.calculateDistance(e),n)*t.sources[n].duration;this.player_.playlist.changePlaylistSourceByIndex(n,r)}else{var i=this.calculatePlaylistDistance(this.calculateDistance(e),t.actualIndex)*this.player_.duration();i===this.player_.duration()&&(i-=.1),this.player_.currentTime(i)}}}]),t}(l);c.registerComponent("PlaylistSeekBar",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"getSourceName",value:function(){var e=this.player_.playlist.playlistData,t=e.sources[e.actualIndex].plugins.measuring||e.sources[e.actualIndex].plugins.measuringIMA;return t?t.streamInfo.programName:"Playlist "+(e.actualIndex+1)}},{key:"createEl",value:function(){var e=this.getSourceName();return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-source-name-display "+(e.length>15?"playlist-source-name-animation":""),innerHTML:"<div class='nameBox'><div class=\"title\">"+e+"</div></div>"})}}]),t}(l);l.registerComponent("PlaylistSourceNameDisplay",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.imgElement=o.el().querySelector("img"),o.timeElement=o.el().querySelector(".time span"),o.playlistData=o.player_.playlist.playlistData,o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-thumbnails",innerHTML:'<img src=""><div class="time"><span>0:00</span></div>'})}},{key:"update",value:function(e,t){var n=this.playlistData.sources[e],r=n.duration/100;this.changeThumbnailImage(n,Math.floor(t/r)),this.changeThumbnailTime(t+n.durationBefore),this.changeThumbnailPosition(n,t)}},{key:"getThumbnailNumber",value:function(e){0===e&&(e=1);var t=void 0;switch(String(e).length){case 1:t="00"+e;break;case 2:t="0"+e;break;case 3:t=""+e;break;default:t="000"}return t}},{key:"changeThumbnailImage",value:function(e,t){this.imgElement.src=e.thumbnailsPlaylist.url.replace("$Num$",this.getThumbnailNumber(t))}},{key:"changeThumbnailTime",value:function(e){this.timeElement.innerText=a.videojs.formatTime(e)}},{key:"changeThumbnailPosition",value:function(e,t){var n=this.player_.controlBar.progressControl.width(),r=this.el().offsetWidth,i=n/this.playlistData.totalDuration,o=e.durationBefore+t,a=Math.floor(o*i)-Math.floor(r/2);a<0&&(a=0),a+r>n&&(a=n-r),this.el().style.left=a+"px"}},{key:"visible",value:function(){this.el().style.display="block"}},{key:"unvisible",value:function(){this.el().style.display="none"}}]),t}(l);l.registerComponent("PlaylistThumbnails",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(287)),u=n(288),l=n(289),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getComponent("Component"),p=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.playlistCurrentTimeDisplay=new s.a(e),o.playlistTimeDivider=new l.a(e),o.playlistDurationDisplay=new u.a(e),o.addChild(o.playlistCurrentTimeDisplay),o.addChild(o.playlistTimeDivider),o.addChild(o.playlistDurationDisplay),o}return o(t,e),c(t,[{key:"createEl",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-time-display",children:["PlaylistCurrentTimeDisplay"]})}}]),t}(d);d.registerComponent("PlaylistTimeDisplay",p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("CurrentTimeDisplay"),l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"getTimeTotalDurationBeforeThisSource",value:function(){return this.player_.playlist.playlistData.sources[this.player_.playlist.playlistData.actualIndex].durationBefore}},{key:"buildCSSClass",value:function(){return"vjs-current-time vjs-playlist-current-time"}},{key:"updateAdContent",value:function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)}},{key:"updateContent",value:function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t+this.getTimeTotalDurationBeforeThisSource())}}]),t}(u);l.registerComponent("PlaylistCurrentTimeDisplay",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=a.videojs.getComponent("DurationDisplay"),c=a.videojs.getComponent("Component"),f=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-playlist-duration"}},{key:"updateContent",value:function(e){var t=this.player_.playlist.playlistData.totalDuration;"object"===s(this.player_.ads)&&this.player_.ads.isAdPlaying()&&(t=this.player_.duration()),t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))}}]),t}(l);c.registerComponent("PlaylistDurationDisplay",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-playlist-time-divider",innerText:"/"})}}]),t}(l);l.registerComponent("PlaylistTimeDivider",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(2)),u=n(26),l=n(9),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getComponent("Component"),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.player=e,o.player.options_.plugins.playedTicks?(o.currentTime=0,o.ticks=0,o.imaAdType="preroll",o.adType="preroll",o.showClass="vjs-pp-shown",o.defaultLocation="top-right",o.isIma=!1,o.isEnabled=n.isEnabled||!1,o.startShowDelay=n.startShowDelay||null,o.midrollShowDelay=n.midrollShowDelay||null,o.endShowOffset=n.endShowOffset||null,o.displayTime=n.displayTime||10,o.location=n.location?n.location.toLowerCase().replace("_","-"):o.defaultLocation,o.el_.classList.add("vjs-product-placement--"+o.location),o.registerEvents(),o):(s.a.error(l.n.code,l.n.message),i(o))}return o(t,e),c(t,[{key:"setImaState",value:function(){this.isIma=!0}},{key:"getCurrentAdBreakType",value:function(e){this.isIma&&(this.imaAdType=e.adStreamInfo.adType)}},{key:"checkState",value:function(){this.currentTime=Math.floor(this.player.currentTime());var e=this.player.duration()-this.endShowOffset,t=this.currentTime>=this.startShowDelay&&this.currentTime<this.startShowDelay+this.displayTime,r=this.currentTime>=e&&this.currentTime<e+this.displayTime;(this.startShowDelay||this.endShowOffset)&&(t||r?this.showProductPlacement():this.hideProductPlacement()),"midroll"===this.adType&&(this.ticks=this.ticks+1,this.ticks>=this.midrollShowDelay&&this.ticks<this.midrollShowDelay+this.displayTime?(n.i(s.a)("[product placement] "+(this.ticks-this.midrollShowDelay)+" of "+this.displayTime),this.showProductPlacement()):(this.hideProductPlacement(),this.ticks>this.midrollShowDelay+this.displayTime&&(n.i(s.a)("[product placement] "+(this.ticks-this.midrollShowDelay)+" of "+this.displayTime+" midroll PP reaches the end - resetting state, waiting for next midroll"),this.adType="")))}},{key:"showProductPlacement",value:function(){this.player.hasClass(this.showClass)||this.player.addClass(this.showClass)}},{key:"hideProductPlacement",value:function(){this.player.hasClass(this.showClass)&&this.player.removeClass(this.showClass)}},{key:"showMidrollPP",value:function(){var e=this;"midroll"!==this.imaAdType&&"midrolls"!==n.i(u.a)(function(){return e.player.adstate.currentAdtype})||(this.ticks=0,this.adType="midroll",n.i(s.a)("[product-placement] Content interupted by playing midroll. It is able to show PP"))}},{key:"registerEvents",value:function(){this.player.on("ott-mea-ads-block-end",this.showMidrollPP.bind(this)),this.player.on("ott-playertick",this.checkState.bind(this)),this.player.on("ott-ima-ready",this.setImaState.bind(this)),this.player.on("ott-mea-ad-play",this.getCurrentAdBreakType.bind(this))}},{key:"createEl",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-product-placement"})}}]),t}(d);d.registerComponent("productPlacement",p),t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(78),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=s.videojs.getComponent("Component"),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.player_.options_.plugins.seekHints.length<=1&&o.hide(),o.controlTextEl_.innerHTML=o.player_.localize("Seek hints"),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-hints-button "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){var e=this.player_.getChild("SeekHintsMenu");void 0!==e&&(e.hasClass("vjs-hidden")?(n.i(a.a)(this.player_),e.removeClass("vjs-hidden"),this.player_.addClass("vjs-popup-displayed")):(e.addClass("vjs-hidden"),this.player_.removeClass("vjs-popup-displayed")))}}]),t}(c);f.registerComponent("SeekHintsButton",d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-hints-heading",innerHTML:this.player_.localize("Chapters")})}}]),t}(l);l.registerComponent("SeekHintsMenuHeading",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("MenuItem"),f=s.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-hints-item",innerHTML:'\n        <div class="time">'+s.videojs.formatTime(this.options_.time)+'</div>\n        <div class="title">'+this.options_.label+"</div>\n      "})}},{key:"handleClick",value:function(){var e=this.player_;e.currentTime(this.options_.time),e.trigger({type:"ott-hints-seek",currentTime:this.options_.time}),n.i(a.a)("[Seek hints plugin] currentTime is set to ",this.options_.time)}}]),t}(c);f.registerComponent("SeekHintsMenuItem",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(293),s=n(292),u=n(1),l=(n.n(u),n(2)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=u.videojs.getComponent("Component"),d=u.videojs.getComponent("Menu"),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.update(),o.enabled_=!0,o}return o(t,e),c(t,[{key:"update",value:function(){var e=new s.a(this.player_),t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(e),this.addChild(t),this.el_.className="vjs-hints-menu vjs-custom-menu vjs-hidden"}},{key:"createMenu",value:function(){var e=new d(this.player_);if(this.items=this.createItems(),this.createHintsMarkers(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}},{key:"createHintsMarkers",value:function(){var e=this,t=this.player_.options_.plugins.seekHints,r=[];t.forEach(function(e){r.push({time:e.time,class:"vjs-marker-hint"})}),this.player_.ready(function(){"function"==typeof e.player_.markers.add?(e.player_.markers.add(r),n.i(l.a)("[Seek hints] hints markers added to timeline")):n.i(l.a)("[Seek hints] hints markers NOT added to timeline. Markers plugin not initialized!")})}},{key:"createItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.player_.options_.plugins.seekHints.forEach(function(n){t.push(new a.a(e.player_,{label:n.text,time:n.time}))}),t}}]),t}(f);f.registerComponent("SeekHintsMenu",p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(2),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Button"),c=a.videojs.getComponent("Component"),f=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-switch vjs-settings-content",innerHTML:'<label class="switch"><input class="vjs-ach-checkbox" type="checkbox"><span class="slider round"></span></label>'})}},{key:"setInputCheckedState",value:function(e){this.el_.getElementsByClassName("vjs-ach-checkbox")[0].checked=e}},{key:"getInputCheckedState",value:function(){return this.el_.getElementsByClassName("vjs-ach-checkbox")[0].checked}},{key:"handleClick",value:function(e){e.preventDefault(),this.setInputCheckedState(!this.getInputCheckedState()),this.player_.trigger({type:"ott-achswitch-click",checked:this.getInputCheckedState()})}}]),t}(l);c.registerComponent("AudioChannelsButton",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(297),n(295),n(2)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Component"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.hide(),o.addChild("AudioChannelsHeading"),o.addChild("AudioChannelsButton"),o.registerAudioChannelsSwitch(),o}return o(t,e),u(t,[{key:"registerAudioChannelsSwitch",value:function(){var e=this;this.player_.on("ott-audiochannels-control",function(t){t.audioChannelsAllowed?e.show():e.hide(),e.getChild("AudioChannelsButton").setInputCheckedState(t.multiChannelsActive),n.i(s.a)("[audioChannels] [menu] switch control recived control event. Multichannels allowed: "+t.audioChannelsAllowed+" -> switch button "+(t.audioChannelsAllowed?"showed":"hidden")+" | active: "+t.multiChannelsActive)})}},{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-control vjs-settings-item"})}}]),t}(c);c.registerComponent("AudioChannelsControl",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-heading vjs-settings-heading",innerHTML:this.player_.localize("Audio channels 6")})}}]),t}(l);l.registerComponent("AudioChannelsHeading",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(147)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Button"),f=a.videojs.getComponent("Component"),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-switch vjs-settings-content",innerHTML:'<label class="switch"><input class="vjs-an-checkbox" type="checkbox"'+(n.i(s.a)(this.player_)?' checked=""':"")+'><span class="slider round"></span></label>'})}},{key:"updateCheckedValue",value:function(e){this.el_.getElementsByClassName("vjs-an-checkbox")[0].checked=e.checked}},{key:"getCheckedValue",value:function(){return this.el_.getElementsByClassName("vjs-an-checkbox")[0].checked}},{key:"handleClick",value:function(){this.player_.trigger({type:"ott-answitch-click",checked:this.getCheckedValue()})}}]),t}(c);f.registerComponent("AutoplayButton",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(300)),u=n(298),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=a.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild(new s.a(e,n)),o.addChild(new u.a(e,n)),o}return o(t,e),l(t,[{key:"createEl",value:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-control vjs-settings-item"})}}]),t}(f);t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-heading vjs-settings-heading",innerHTML:this.player_.localize("Autoplay")})}}]),t}(l);l.registerComponent("AutoplayHeading",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(78),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=s.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.controlTextEl_.innerHTML=o.player_.localize("Settings"),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-settings-button vjs-hidden "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){var e=this.player_.getChild("SettingsMenu");void 0!==e&&(e.hasClass("vjs-hidden")?(n.i(a.a)(this.player_),e.removeClass("vjs-hidden"),this.player_.addClass("vjs-popup-displayed")):(e.addClass("vjs-hidden"),this.player_.removeClass("vjs-popup-displayed")))}}]),t}(c);f.registerComponent("SettingsButton",d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(2)),u=n(7),l=n(138),c=n(142),f=n(140),d=n(77),p=n(39),h=n(76),y=n(9),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},b=a.videojs.getComponent("Button"),k=a.videojs.getComponent("Component"),w=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),g(t,[{key:"buildCSSClass",value:function(){return"vjs-language-name vjs-button"+this.getActiveSourceClass()}},{key:"getActiveSourceClass",value:function(){var e=this,t=[];switch(this.player_.currentType().toLowerCase()){case u.d.dash:t=this.player_.options_.tracks.DASH;break;case u.d.hls:t=this.player_.options_.tracks.HLS}var n=t.filter(function(t){return t.lang===e.options_.srclang});return n.length>0&&n[0].src===this.player_.currentSrc()?" active":""}},{key:"createEl",value:function(){return m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{innerHTML:""+this.options_.label})}},{key:"handleClick",value:function(){var e=this;if(n.i(s.a)("[Language control] button clicked!: ",this.options_.srclang),this.setActiveClass(this.el_),this.player_.trigger({type:"ott-change-language",lang:this.options_.srclang}),this.player_.usingPlugin("uhdController")){var t=this.player_.uhdController();if(t&&t.uhdActive)return}var r=n.i(l.a)(this.player_.options_.preferredTech),i=n.i(c.a)(r,this.player_.options_.tracks),o=n.i(f.a)(i,[this.options_.srclang]);if(o.length>0){n.i(s.a)("[Language control] Player is going to play: ",o[0]);var a=this.player_.currentTime();this.player_.pause();var u=this.player_[h.a.objName]||{},g=u.seekTime;n.i(p.c)(this.player_,n.i(d.a)(o[0]),g),this.player_.one(["loadeddata","canplay"],function(){e.player_.currentTime(a),e.player_.play()}),this.player_.reset.resetData.data.resetStore||(this.player_.reset.resetData.data.resetStore={}),this.player_.reset.resetData.data.resetStore.lang=this.options_.srclang,this.player_.trigger({type:"ott-language-changed",source:o[0]})}else s.a.error(y.r),this.player_.trigger(v({type:"ott-custom-error"},y.r))}},{key:"setActiveClass",value:function(e){this.removeOldActiveClasses(e.parentNode),e.className+=" active"}},{key:"removeOldActiveClasses",value:function(e){[].forEach.call(e.childNodes,function(e){e.className=e.className.replace(/\bactive\b/,"")})}}]),t}(b);k.registerComponent("LanguageButton",w)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n(302),n(1)),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("Component"),l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.createContent(n.languages),o.el_.className="vjs-language-content vjs-settings-content",o}return o(t,e),s(t,[{key:"createContent",value:function(e){var t=this;e.forEach(function(e){t.addChild("LanguageButton",e)})}}]),t}(u);u.registerComponent("LanguageButtonsWrapper",l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n(305),n(303),n(1)),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild("LanguageHeading"),o.addChild("LanguageButtonsWrapper",n),o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-language-control vjs-settings-item"})}}]),t}(l);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-language-heading vjs-settings-heading",innerHTML:this.player_.localize("Video language")})}}]),t}(l);l.registerComponent("LanguageHeading",c)},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),u=(n.n(s),n(319)),l=n(304),c=n(324),f=n(309),d=n(299),p=n(313),h=n(330),y=(n(328),n(296),n(26)),v=n(2),g=n(7),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=s.videojs.getComponent("Component"),k=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.createContent(),r.el_.className="vjs-settings-menu vjs-custom-menu vjs-hidden",r.enabled_=!0,r}return a(t,e),m(t,[{key:"createContent",value:function(){var e=this,t=this.player_.options_.plugins.settings;if(this.registerQualityPlugin(t),this.registerAudioChannelsSwitch(t),this.registerUhdProfileSwitch(t),this.registerLanguagesPlugin(t),this.registerSubtitlesPlugin(t),this.registerAutoplaySwitch(t),this.registerNielsenMeasurementPlugin(t),n.i(y.a)(function(){return e.player_.options_.plugins.measuring.services.mux})){var r=this.player_.options_.plugins.measuring.services.mux;this.registerQualityMeasurementSwitch(r)}this.registerPlayerVersionInfo()}},{key:"registerPlayerVersionInfo",value:function(){this.addChild(new h.a(this.player_)),n.i(v.a)("[Menu] player version in menu initialized")}},{key:"registerQualityPlugin",value:function(e){if(Object.prototype.hasOwnProperty.call(e,"qualities")){try{this.addChild(new u.a(this.player_))}catch(e){v.a.error("[Menu] registerQualityPlugin error",e)}n.i(v.a)("[Menu] qualities plugin initialized")}}},{key:"removeTextTracks",value:function(){var e=this;this.player_.remoteTextTracks().tracks_.forEach(function(t){e.player_.removeRemoteTextTrack(t)})}},{key:"reinitSubtitles",value:function(e){var t=this;if(0===this.player_.remoteTextTracks().tracks_.length)return void n.i(v.a)("[Menu] Subtitles reinit called but any text track found.");this.removeTextTracks(),e.forEach(function(e){t.player_.addRemoteTextTrack(e,!0)})}},{key:"registerSubtitlesPlugin",value:function(e){var t=this;Object.prototype.hasOwnProperty.call(e,"subtitles")&&e.subtitles.length>0&&(this.player_.on("ott-subtitles-reinit",function(){return t.reinitSubtitles(e.subtitles)}),e.subtitles.forEach(function(e){t.player_.addRemoteTextTrack(e,!0)}),this.player_.one("play",function(){r(t.player_.el().getElementsByTagName("video")[0].getElementsByTagName("track")).slice(0).forEach(function(e){e.removeAttribute("default")})}),this.addChild(new c.a(this.player_)),n.i(v.a)("[Menu] subtitles plugin initialized"))}},{key:"registerLanguagesPlugin",value:function(e){if(Object.prototype.hasOwnProperty.call(e,"languages"))switch(this.player_.currentType().toLowerCase()){case g.d.dash:this.registerLanguagesControl(e.languages.DASH);break;case g.d.hls:this.registerLanguagesControl(e.languages.HLS);break;case"video/mp4":this.registerLanguagesControl(e.languages.MP4)}}},{key:"registerLanguagesControl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>1&&(this.addChild(new l.a(this.player_,{languages:e})),n.i(v.a)("[Menu] languages plugin initialized"))}},{key:"registerNielsenMeasurementPlugin",value:function(e){Object.prototype.hasOwnProperty.call(e,"nielsenOptOut")&&(this.addChild(new f.a(this.player_)),n.i(v.a)("[Menu] Nielsen measurement plugin initialized"))}},{key:"registerAutoplaySwitch",value:function(e){Object.prototype.hasOwnProperty.call(e,"autoplaySwitch")&&(this.addChild(new d.a(this.player_)),n.i(v.a)("[Menu] autoplayNext switch plugin initialized"))}},{key:"registerAudioChannelsSwitch",value:function(e){this.addChild("audioChannelsControl"),n.i(v.a)("[Menu] player audioChannels switch plugin initialized - not showed")}},{key:"registerUhdProfileSwitch",value:function(e){this.addChild("UhdProfileControl"),n.i(v.a)("[Menu] player UHD switch in menu initialized - not showed")}},{key:"registerQualityMeasurementSwitch",value:function(e){Object.prototype.hasOwnProperty.call(e,"quality_measurement_switch")&&!0===e.quality_measurement_switch&&(this.addChild(new p.a(this.player_)),n.i(v.a)("[Menu] qualityMeasurement switch plugin initialized"))}}]),t}(b);b.registerComponent("SettingsMenu",k)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Button"),c=a.videojs.getComponent("Component"),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-optout-button vjs-settings-heading",innerHTML:"<span>"+this.player_.localize("Nielsen Measurement")+'</span><span class="vjs-icon-info"></span>'})}},{key:"hideSettingsMenuPlugin",value:function(){var e=this.player_.getChild("SettingsMenu");void 0!==e&&(e.hasClass("vjs-hidden")||(e.addClass("vjs-hidden"),this.player_.removeClass("vjs-popup-displayed")))}},{key:"handleClick",value:function(){var e="vjs-optout-showing";this.player_.hasClass(e)?(this.player_.removeClass(e),this.player_.play()):(this.player_.addClass(e),this.player_.pause()),this.hideSettingsMenuPlugin()}}]),t}(l);c.registerComponent("OptOutButton",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("OptOutButton"),l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return a.videojs.dom.createEl("span",{className:"vjs-icon-close-red vjs-optout-close",innerHTML:""})}}]),t}(u);l.registerComponent("OptOutClose",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(307),n(310),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild("OptOutButton"),o.player_.addChild("OptOutOverlay"),o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-optout-control vjs-settings-item"})}}]),t}(l);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(308),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild("OptOutClose"),o}return o(t,e),s(t,[{key:"createEl",value:function(){return this.contentEl_=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-optout-overlay",innerHTML:'<div class="vjs-optout-overlay-inner">\n          <div class="vjs-icon-info">\n          </div>\n          <div class=\'vjs-optout-overlay-text\'>\n            <h2>'+this.player_.localize("Nielsen Measurement")+'</h2>\n            <p class="mobile-only">\n              '+this.player_.localize('This application includes Nielsen Digital Measurement software. For more information or for deactivation continue to <a target="_blank" href="http://cdn-gl.imrworldwide.com/priv/browser/cz/cs/optout.html">Nielsen Digital Measurement</a>')+"\n            </p>\n            <p>\n              "+this.player_.localize("This application includes Nielsen Digital Measurement software, which allows users to contribute to market research.")+"\n            </p>\n            <p>\n              "+this.player_.localize('If you want to know more about data which can be Nielsen software gathering and about your possibilities of deactivating the measurement, read please rules of personal information protection from <a target="_blank" href="http://cdn-gl.imrworldwide.com/priv/browser/cz/cs/optout.html">Nielsen Digital Measurement</a>.')+"\n            </p>\n          </div>\n        </div>"}),this.contentEl_}}]),t}(l);l.registerComponent("OptOutOverlay",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(72)),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=a.videojs.getComponent("Button"),d=a.videojs.getComponent("Component"),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"createEl",value:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-mx-mea-switch vjs-settings-content",innerHTML:'<label class="switch switch--sm"><input class="vjs-mx-mea-checkbox" type="checkbox"'+(u.a.get("mux_mea_id")?' checked="checked"':"")+'><span class="slider round"></span></label>'})}},{key:"updateCheckedValue",value:function(e){this.el_.getElementsByClassName("vjs-mx-mea-checkbox")[0].checked=e.checked}},{key:"getCheckedValue",value:function(){return this.el_.getElementsByClassName("vjs-mx-mea-checkbox")[0].checked}},{key:"handleClick",value:function(e){function t(){u.a.set(o,a,{expires:2}),r.classList.add(s),i.checked=!0}function n(){u.a.remove(o),r.classList.remove(s),i.checked=!1}var r=this.el_.parentElement.getElementsByClassName("vjs-copy-clipboard-button")[0],i=this.el_.getElementsByClassName("vjs-mx-mea-checkbox")[0],o="mux_mea_id",a=this.player_.options_.plugins.measuring.services.mux.property_key,s="vjs-copy-clipboard-button--expanded";return"click"===e.type?this.getCheckedValue()?t():n():"tap"===e.type&&(u.a.get(o)?n():t())}}]),t}(f);d.registerComponent("QualityMeasurementButton",p),t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=a.videojs.getComponent("OptOutButton"),l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return a.videojs.dom.createEl("span",{className:"vjs-icon-close-red vjs-quality-measurement-close",innerHTML:""})}},{key:"handleClick",value:function(){var e="vjs-quality-measurement-showing";this.player_.hasClass(e)&&(this.player_.removeClass(e),this.player_.play())}}]),t}(u);l.registerComponent("QualityMeasurementClose",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(315)),u=n(314),l=n(311),c=(n(316),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=a.videojs.getComponent("Component"),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild(new l.a(e,n)),o.addChild(new s.a(e,n)),o.addChild(new u.a(e,n)),o.player_.addChild("QualityMeasurementOverlay"),o}return o(t,e),c(t,[{key:"createEl",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-control vjs-settings-item"})}}]),t}(d);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(72),s=n.n(a),u=n(1),l=(n.n(u),n(2)),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=u.videojs.getComponent("Button"),p=u.videojs.getComponent("Component"),h=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"createEl",value:function(){return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-heading vjs-copy-clipboard-button "+(s.a.get("mux_mea_id")?"vjs-copy-clipboard-button--expanded":""),innerHTML:""+(this.getQueryParam("mux_viewer_id")?"<span class='vjs-clipboard-wrapper'>"+this.getQueryParam("mux_viewer_id")+"<span class='vjs-icon-copy'></span></span>":this.player_.localize("Please reload browser to view your ID"))})}},{key:"handleClick",value:function(){var e=this,t=this.el_.getElementsByClassName("vjs-clipboard-wrapper")[0],r=void 0,i=void 0;document.body.createTextRange?(r=document.body.createTextRange(),r.moveToElementText(t),r.select()):window.getSelection&&(i=window.getSelection(),r=document.createRange(),r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r));try{document.execCommand("copy"),n.i(l.a)("[QualityMeasurement] ID Copied to clipboard");var o=void 0;t.innerHTML=""+this.player_.localize("Copied to clipboard"),clearTimeout(o),o=setTimeout(function(){t.innerHTML=e.getQueryParam("mux_viewer_id")+'<span class="vjs-icon-copy"></span>'},1e3)}catch(e){n.i(l.a)("[QualityMeasurement] Unable to copy text")}window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},{key:"getQueryParam",value:function(e){var t=s.a.get("muxData");if(void 0!==t){for(var n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e)return i[1]}return!1}}}]),t}(d);p.registerComponent("QualityMeasurementCopyClipboard",h),t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Button"),c=a.videojs.getComponent("Component"),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-heading vjs-optout-button vjs-settings-heading vjs-copy-clipboard-header",innerHTML:"<span>"+this.player_.localize("Measurement of playback quality")+'</span><span class="vjs-icon-info"></span>'})}},{key:"hideSettingsMenuPlugin",value:function(){var e=this.player_.getChild("SettingsMenu");void 0!==e&&(e.hasClass("vjs-hidden")||(e.addClass("vjs-hidden"),this.player_.removeClass("vjs-popup-displayed")))}},{key:"handleClick",value:function(){var e="vjs-quality-measurement-showing";this.player_.hasClass(e)?(this.player_.removeClass(e),this.player_.play()):(this.player_.addClass(e),this.player_.pause()),this.hideSettingsMenuPlugin()}}]),t}(l);c.registerComponent("QualityMeasurementHeading",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(312),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.addChild("QualityMeasurementClose"),o}return o(t,e),s(t,[{key:"createEl",value:function(){return this.contentEl_=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-quality-measurement-overlay",innerHTML:"<div class=\"vjs-quality-measurement-overlay-inner\">\n          <div class='vjs-quality-measurement-overlay-text'>\n            <h2>"+this.player_.localize("Measurement of playback quality")+"</h2>\n            <p>\n              "+this.player_.localize("With the help of targeted quality measurement, we are able to diagnose a possible source of the problem directly on your device in case of problems with video playback.")+"\n            </p>\n            <p>\n              "+this.player_.localize("If you enable this option, our technical support staff will be able to assist you more effectively in resolving issues.")+"\n            </p>\n          </div>\n        </div>"}),this.contentEl_}}]),t}(l);l.registerComponent("QualityMeasurementOverlay",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(2),s=n(1),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Button"),f=s.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.parent_=n.parent,o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-quality-auto active "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{innerHTML:"<span>"+this.player_.localize("Auto")+"</span>"})}},{key:"handleClick",value:function(){if(!this.hasClass("active")){this.parent_.qualitySelector.setAutoQuality(),this.addClass("active");this.parent_.getChild("QualityBar").removeClass("active"),n.i(a.a)("Adaptive quality selection was changed to auto")}}}]),t}(c);f.registerComponent("QualityAutoButton",d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(348),s=(n(321),n(1)),u=(n.n(s),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=s.videojs.getComponent("Slider"),f=s.videojs.getComponent("Component"),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.parent_=n.parent,o.qualitySelector=new a.a(e),o.parent_.qualitySelector=o.qualitySelector,o.qualityIntervals=o.getSliderIntervals(o.qualitySelector.getQualitiesCount()),0===(o.qualityIntervals||[]).length&&o.parent_.hide(),o}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-quality-bar vjs-slider-bar"},{"aria-label":this.player_.localize("quality level")})}},{key:"handleMouseMove",value:function(e){this.distance=this.calculateDistance(e)}},{key:"getPercent",value:function(){var e=this,t=this.distance;if(this.qualityIntervals.forEach(function(n){n.start<=e.distance&&e.distance<=n.end&&(t=parseFloat(n.end),e.qualitySelector.setQuality(n.id))}),!this.hasClass("active")){this.addClass("active");this.parent_.getChild("QualityAutoButton").removeClass("active")}return t}},{key:"getSliderIntervals",value:function(e){for(var t=[],n=101/e,r=1;r<=e;r++){var i=n*(r-1)+0,o=i+n-1;t.push({start:(i/100).toFixed(2),end:(o/100).toFixed(2),id:r-1})}return t}}]),t}(c);d.prototype.options_={children:["qualityLevel"],barName:"qualityLevel"},d.prototype.playerEvent="qualitychange",f.registerComponent("QualityBar",d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n(318),n(317),n(320),n(1)),s=(n.n(a),n(2)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Component"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return n.parent=o,o.addChild("QualityHeading",n),o.addChild("QualityBar",n),o.addChild("QualityAutoButton",n),o.registerUhdSwitch(),o}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-quality-control vjs-settings-item"})}},{key:"registerUhdSwitch",value:function(){var e=this;this.player_.on("ott-uhdprofile-control",function(t){t.uhdActive?e.hide():e.show(),n.i(s.a)("[quality plugin] - recived uhd control event. UHD active: "+t.uhdActive+" -> quality control "+(t.uhdActive?"hide":"show"))})}}]),t}(c);c.registerComponent("QualityControl",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-quality-heading vjs-settings-heading",innerHTML:this.player_.localize("Video quality")})}}]),t}(l);l.registerComponent("QualityHeading",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-quality-level",innerHTML:'<span class="quality-info min">'+this.player_.localize("MIN")+'</span>\n                  <span class="quality-info max">'+this.player_.localize("MAX")+"</span>"})}}]),t}(l);l.registerComponent("QualityLevel",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=a.videojs.getComponent("OffTextTrackMenuItem"),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"handleClick",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e),this.player_.trigger({type:"ott-subtitles-disabled"})}}]),t}(c);l.registerComponent("OffSubtitleskMenuItem",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(326),s=n(322),u=n(1),l=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=u.videojs.getComponent("Component"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.createContent(),o.el_.className="vjs-subtitles-content vjs-settings-content",o}return o(t,e),l(t,[{key:"createContent",value:function(){var e=this;this.addChild(new s.a(this.player_,{kind:"captions"}));var t=this.player_.remoteTextTracks(),n=!1;t.tracks_.forEach(function(t){t.default&&(n=!0,t.mode="showing",e.player_.trigger({type:"ott-subtitles-enabled",track:t})),e.addChild(new a.a(e.player_,{selectable:!0,track:t}))}),n&&this.children_[0].selected(!1)}}]),t}(c);c.registerComponent("SubtitlesButtonsWrapper",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=(n(325),n(323),n(1)),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return n.parent=o,o.addChild("SubtitlesHeading"),o.addChild("SubtitlesButtonsWrapper"),o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-subtitles-control vjs-settings-item"})}}]),t}(l);l.registerComponent("SubtitlesControl",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-subtitles-heading vjs-settings-heading",innerHTML:this.player_.localize("Subtitles")})}}]),t}(l);l.registerComponent("SubtitlesHeading",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=a.videojs.getComponent("TextTrackMenuItem"),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"handleClick",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this,e);var n=this.track.kind,r=this.player_.textTracks();if(r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track&&this.player_.trigger({type:"ott-subtitles-enabled",track:o}))}}}]),t}(c);l.registerComponent("SubtitlesMenuItem",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(2)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Button"),f=a.videojs.getComponent("Component"),d=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.registerUhdSwitch(),o}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-switch vjs-settings-content",innerHTML:'<label class="switch"><input class="vjs-uhd-checkbox" type="checkbox"><span class="slider round"></span></label>'})}},{key:"updateCheckedValue",value:function(e){this.el_.getElementsByClassName("vjs-uhd-checkbox")[0].checked=e}},{key:"getCheckedValue",value:function(){return this.el_.getElementsByClassName("vjs-uhd-checkbox")[0].checked}},{key:"handleClick",value:function(e){e.preventDefault(),this.updateCheckedValue(!this.getCheckedValue()),n.i(s.a)("[UHD switch button] handleclick - checked "+this.getCheckedValue()),this.player_.trigger({type:"ott-uhdprofile-switch",enable:this.getCheckedValue()}),n.i(s.a)("[UHD switch button] triggered ott-uhdprofile-switch")}},{key:"registerUhdSwitch",value:function(){var e=this;this.player_.on("ott-uhdprofile-control",function(t){e.updateCheckedValue(t.uhdActive),n.i(s.a)("[UHD switch button] - recived uhd control event. UHD active: "+t.uhdActive+" -> uhd button "+(t.uhdActive?"enable":"disable"))})}}]),t}(c);f.registerComponent("UhdProfileButton",d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(329),n(327),n(2)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Component"),f=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.hide(),o.addChild("UhdProfileHeading"),o.addChild("UhdProfileButton"),o.registerUhdSwitch(),o}return o(t,e),u(t,[{key:"createEl",value:function(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-an-control vjs-settings-item"})}},{key:"registerUhdSwitch",value:function(){var e=this;this.player_.on("ott-uhdprofile-control",function(t){t.uhdAllowed?e.show():e.hide(),n.i(s.a)("[UHD switch control] - recived uhd control event. UHD allowed: "+t.uhdAllowed+" -> uhd switch "+(t.uhdAllowed?"show":"hide"))})}}]),t}(c);c.registerComponent("UhdProfileControl",f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"span",{className:"vjs-an-heading vjs-settings-heading",innerHTML:this.player_.localize("UHD profile")})}}]),t}(l);l.registerComponent("UhdProfileHeading",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=a.videojs.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return n.parent=o,o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-quality-control vjs-settings-item vjs-settings-version-info",innerText:this.player_.localize("Player version")+": 2.3.21"})}}]),t}(l);l.registerComponent("VersionControl",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=window.videojs,l=u.getComponent("Component"),c=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.updateDataAttr(),o.on(e,"timeupdate",o.updateDataAttr),o}return o(t,e),a(t,[{key:"createEl",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-play-progress vjs-live-horizontal-bar vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})}},{key:"updateDataAttr",value:function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",u.formatTime(e,this.player_.duration()))}}]),t}(l);l.registerComponent("LiveHorizontalProgressBar",c)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(333),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=window.videojs,c=l.getComponent("Component"),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.name_="LiveProgressControl",o.addChild(new a.a(e,n)),o}return o(t,e),s(t,[{key:"createEl",value:function(){return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-live-progress-control vjs-progress-control vjs-control"})}}]),t}(c);c.registerComponent("LiveProgressControl",f),t.a=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(100),s=n(76),u=n(334),l=(n(331),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=window.videojs,d=f.getComponent("Component"),p=f.getComponent("Slider"),h=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.name_="LiveHorizontalSeekBar",o.horizontalSec=n.horizontalSec,o.disabled=n.disabled||!1,(n.thumbnails||{}).url&&(o.thumbnailsHolder=new u.a(e,n),o.addChild(o.thumbnailsHolder)),o.on(e,"timeupdate",o.updateProgress),o.on(e,"ended",o.updateProgress),o.on(o.el_,"mousemove",o.handleMouseMove),o.on(e,"ott-seekablelive-seek",o.updateSeekbar),o}return o(t,e),l(t,[{key:"createEl",value:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-live-progress-holder vjs-progress-holder"},{"aria-label":"live progress bar"})}},{key:"updateProgress",value:function(){this.updateAriaAttributes(this.el_)}},{key:"updateAriaAttributes",value:function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",f.formatTime(t,this.player_.duration()))}},{key:"getPercent",value:function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e}},{key:"getRoundedSeekTime",value:function(e){var t=parseInt((this.horizontalSec*(1-e)).toFixed(),10);return t+=s.b(this.player_),t=Math.ceil(t/this.options_.horizontalInterval)*this.options_.horizontalInterval}},{key:"handleMouseMove",value:function(e){if(!this.disabled){var t=a.b(this.el_,e);if(t.x<1){var n=this.getRoundedSeekTime(t.x);this.thumbnailsHolder&&this.thumbnailsHolder.updateImage(n,t.x)}}}},{key:"handleClick",value:function(e){if(!this.disabled){var t=a.b(this.el_,e);if(t.x<1){var n=this.getRoundedSeekTime(t.x);this.player_.timeshiftSeek(n,!0)}}}},{key:"updateSeekbar",value:function(e){var t=e.seekTime;if(t<this.horizontalSec){var n=this.seekbarPositionFromSeektime(t);this.children_[0].el_.style.width=(100*n).toFixed(3)+"%"}else this.children_[0].el_.style.width="50%"}},{key:"seekbarPositionFromSeektime",value:function(e){return 1-(e-s.b(this.player_))/this.horizontalSec}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(){}},{key:"handleFocus",value:function(){}},{key:"handleBlur",value:function(){}},{key:"stepForward",value:function(){}},{key:"stepBack",value:function(){}}]),t}(p);h.prototype.options_={children:["LiveHorizontalProgressBar"]},h.prototype.playerEvent="timeupdate",d.registerComponent("LiveSeekBar",h),t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=window.videojs,l=u.getComponent("Component"),c=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.requestInterval=100,o}return o(t,e),a(t,[{key:"getFormattedDate",value:function(e){e=1e3*(e+36);var t=new Date(Date.now()-e);return t.setMilliseconds(0),t.setSeconds(10*Math.round(t.getSeconds()/10)),t.toISOString()}},{key:"getNegativeTime",value:function(e){e*=1e3;var t=new Date(e),n=t.getHours()-1+24*(t.getDate()-1),r=this.toTwoDigitFormat(t.getMinutes())+":"+this.toTwoDigitFormat(t.getSeconds());return n>0?"-"+this.toTwoDigitFormat(n)+":"+r:"-"+r}},{key:"setPosition",value:function(e){var t=this.player_.el_.clientWidth,n=this.el_.getElementsByClassName("vjs-thumbnail-wrapper")[0].clientWidth,r=n/2,i=t*e-r;i>t-n?i=t-n:i<0&&(i=0),this.el_.setAttribute("style","left: "+i+"px;")}},{key:"toTwoDigitFormat",value:function(e){return("0"+e).slice(-2)}},{key:"createEl",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-thumbnail-holder",innerHTML:'\n         <div class="vjs-thumbnail-wrapper">\n            <img src="" class="vjs-thumbnail">\n            <p class="vjs-thumbnail-time"></p>\n         </div>'})}},{key:"showImage",value:function(e){this.src=this.options_.thumbnails.url+"?time="+this.getFormattedDate(e),this.el_.getElementsByTagName("img")[0].src!==this.src&&(this.el_.getElementsByTagName("img")[0].src=this.src)}},{key:"updateImage",value:function(e,t){var n=this;this.el_.getElementsByTagName("p")[0].innerHTML=""+this.getNegativeTime(e),void 0===this.src&&this.showImage(e),void 0===this.timeout&&(this.timeout=setTimeout(function(){n.showImage(e),n.timeout=void 0},this.requestInterval)),this.setPosition(t)}}]),t}(l);l.registerComponent("ThumbnailsHolder",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=(n.n(a),n(7)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=a.videojs.getComponent("Button"),f=a.videojs.getComponent("Component"),d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.urlParam=n.urlParam,o.disabled=n.disabled||!1,o.controlTextEl_.innerHTML=n.name,n.cssClass.forEach(function(e){return o.el_.classList.add(e)}),o}return o(t,e),u(t,[{key:"buildCSSClass",value:function(){return"vjs-ts-cancel-button "+l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){var e=this;this.player_.one("contentchanged",function(){e.player_.trigger(s.l)}),this.disabled||this.player_.timeshiftSeek(0)}}]),t}(c);f.registerComponent("TimeShiftCancelButton",d),t.a=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=window.videojs,l=u.getComponent("Component"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.on(e,"ott-seekablelive-seek",o.updateContent),o}return o(t,e),a(t,[{key:"createEl",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-ts-time-display vjs-current-time-display",innerHTML:""})}},{key:"updateContent",value:function(e){var t=u.formatTime(e.seekTime);this.el_.innerHTML=t+" "+this.player_.localize("delay")}}]),t}(l);l.registerComponent("TimeShiftTimeDisplay",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=window.videojs,l=u.getComponent("Component"),c=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.updateDataAttr(),o.on(e,"timeupdate",o.updateDataAttr);var a=document.createElement("div");return a.className="vjs-live-vertical-triangle",o.el().appendChild(a),o}return o(t,e),a(t,[{key:"createEl",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-play-progress vjs-live-vertical-bar vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})}},{key:"updateDataAttr",value:function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",u.formatTime(e,this.player_.duration()))}}]),t}(l);l.registerComponent("LiveVerticalProgressBar",c),t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(100),s=n(339),u=n(337),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},f=window.videojs,d=f.getComponent("Component"),p=f.getComponent("Slider"),h=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.horizontalSec=n.horizontalSec,o.verticalSec=n.verticalSec,o.disabled=n.disabled||!1,o.addChild(new u.a(e,{vertical:!0}));var a=document.createElement("div");a.className="vert-maximum",a.innerHTML=o.player_.localize("48h ago"),o.el().appendChild(a);var l=document.createElement("div");return l.className="vert-promo",l.innerHTML=o.player_.localize("- 2 .. 48h"),o.el().appendChild(l),(n.thumbnails||{}).url&&(o.thumbnailsHolder=new s.a(e,n),o.addChild(o.thumbnailsHolder)),o.on(e,"timeupdate",o.updateProgress),o.on(e,"ended",o.updateProgress),o.on(o.el_,"mousemove",o.handleMouseMove),o.on(e,"ott-seekablelive-seek",o.updateSeekbar),o}return o(t,e),l(t,[{key:"createEl",value:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"vjs-live-vert-progress-holder vjs-progress-holder"},{"aria-label":"live progress bar"})}},{key:"updateProgress",value:function(){this.updateAriaAttributes(this.el_)}},{key:"updateAriaAttributes",value:function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",f.formatTime(t,this.player_.duration()))}},{key:"getPercent",value:function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e}},{key:"getRoundedSeekTime",value:function(e){var t=(this.horizontalSec+this.verticalSec*e).toFixed();return t=3600*parseInt(t/3600,10)}},{key:"handleMouseMove",value:function(e){if(!this.disabled){var t=a.b(this.el_,e);if(t.y.toFixed(2)<1){var n=this.getRoundedSeekTime(t.y);this.setMousePosition(n,t.y),this.thumbnailsHolder&&this.thumbnailsHolder.updateImage(n)}}}},{key:"handleClick",value:function(e){if(!this.disabled){var t=a.b(this.el_,e);if(t.y.toFixed(2)<1){var n=this.getRoundedSeekTime(t.y);this.player_.timeshiftSeek(n)}}}},{key:"updateSeekbar",value:function(){}},{key:"setMousePosition",value:function(e,t){this.children_[0].el_.innerHTML="";var n=document.createElement("div");n.className="vjs-live-vertical-triangle";var r=document.createElement("div");r.className="vjs-live-time-content",r.innerHTML=f.formatTime(e).split(":").shift()+this.player_.localize("h ago"),this.children_[0].el_.appendChild(r),this.children_[0].el_.appendChild(n),this.children_[0].el_.style.height=(100*(1-t)).toFixed()+"%"}},{key:"handleMouseDown",value:function(){}},{key:"handleMouseUp",value:function(){}},{key:"handleFocus",value:function(){}},{key:"handleBlur",value:function(){}},{key:"stepForward",value:function(){}},{key:"stepBack",value:function(){}}]),t}(p);h.prototype.playerEvent="timeupdate",d.registerComponent("LiveVerticalSeekBar",h),t.a=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},u=window.videojs,l=u.getComponent("Component"),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"getFormattedDate",value:function(e){e*=1e3;var t=new Date(Date.now()-e);return t.setMilliseconds(0),t.setSeconds(0),t.toISOString()}},{key:"updateImage",value:function(e){this.el_.getElementsByTagName("img")[0].src=this.options_.thumbnails.url+"?time="+this.getFormattedDate(e)}},{key:"createEl",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createEl",this).call(this,"div",{className:"ott-thumb-vert-holder vjs-thumbnail-holder",innerHTML:'\n           <div class="vjs-thumbnail-wrapper">\n              <img src="" class="vjs-thumbnail">\n              <p class="vjs-thumbnail-time"></p>\n           </div>'})}}]),t}(l);l.registerComponent("ThumbnailsHolder",c),t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(64),o=n(7),a=n(14),s=function(e){var t=((window.document||{}).location||{}).search||"",s=parseInt(n.i(i.a)(t)[o.f]);if(s&&"number"==typeof s){var u=function(){if(!n.i(a.a)(e)){if(s>e.duration())return l(),void r.a.error("[urlSeek] ERROR! Seek time it is greater than the source duration! duration: "+e.duration()+"s | seek: "+s+"s");e.currentTime(s),n.i(r.a)("[urlSeek] seeked to time:"+s+"s"),l()}},l=function(){n.i(r.a)("[urlSeek] removed listener after seek"),e.off("timeupdate",u)};e.on("timeupdate",u)}}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(2),a=n(253),s=n(254),u=this,l=function(e,t){if(e&&t.length>0){e.markers||(e.markers=[]);var n=e.markers.filter(function(e){return"vjs-marker-ad"!==e.class});e.markers=[].concat(i(n),i(t))}return e},c=function(e){var t=e.plugins||{},i=t.adService,c=e.plugins.markers||{};return i?new Promise(function(){var t=r(regeneratorRuntime.mark(function t(r){var f,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.vmapTransform||!i.vmapTransform.vmapUrl){t.next=3;break}return t.next=3,n.i(s.a)(i.vmapTransform.vmapUrl,e.duration).then(function(e){var t=e.linear,n=e.cascade,r=e.markers;i.linear=t,i.cascade=n,c=l(c,r)}).catch(function(e){o.a.error("[vmap-transform] error",e)});case 3:if(!(e.duration&&i.vmapPreprocessing&&i.adTagUrl)){t.next=7;break}return f=i.vmapPreprocessing.timeout,t.next=7,n.i(a.a)(i.adTagUrl,e.duration,f).then(function(e){i.adsResponse=e}).catch(function(e){o.a.error("[vmap-preprocessing] error",e),i.adsResponse=null});case 7:d={adService:i},0!==Object.keys(c).length&&(d.markers=c),n.i(o.a)("[adservice-preprocessing] adservice, markers, finalObj",i,c,d),r(d);case 11:case"end":return t.stop()}},t,u)}));return function(e){return t.apply(this,arguments)}}()):null};t.a=c},function(e,t,n){"use strict";var r=n(2),i=function(e){var t=e.plugins||{},i=t.adService,o=t.measuring;return i?("ima"===i.type?(e.plugins.adServiceIMA=i,delete e.plugins.adService,o&&(e.plugins.measuringIMA=o,delete e.plugins.measuring),n.i(r.a)("[adservice-type-select] selected type IMA")):n.i(r.a)("[adservice-type-select] selected type CUSTOM"),e):e};t.a=i},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var i=function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=7;break}return e.next=4,n(t[r],r,t);case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return e}();t.a=i},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}var i=n(351),o=n(1),a=(n.n(o),n(7)),s=n(2),u=this,l=o.videojs.browser.IS_IOS,c=function(){return new Promise(function(e){i.a.video({timeout:400,muted:!0,inline:l}).then(function(t){var n=t.result,r=t.error;r&&s.a.warn("[autoplay] mute test error "+r),e(!1===n?{autoplayAllowed:!1,autoplayRequiresMute:!1}:{autoplayAllowed:!0,autoplayRequiresMute:!0})})})},f=function(){return new Promise(function(e){i.a.video({timeout:400,muted:!1,inline:l}).then(function(){var t=r(regeneratorRuntime.mark(function t(n){var r,i=n.result,o=n.error;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o&&s.a.warn("[autoplay] unmute test error "+o),!1!==i){t.next=8;break}return t.next=4,c();case 4:r=t.sent,e(r),t.next=9;break;case 8:e({autoplayAllowed:!0,autoplayRequiresMute:!1});case 9:case"end":return t.stop()}},t,u)}));return function(e){return t.apply(this,arguments)}}())})},d=function(e){return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(r){var i,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.muted,o=e.autoplay,l=null,!1===e.autoplay||!e.plugins.adService){t.next=7;break}return t.next=5,f().then(function(t){o=!1,l=t.autoplayAllowed,!1!==e.muted&&void 0!==e.muted||(i=t.autoplayRequiresMute),n.i(s.a)("[autoplay] allow autoplay: "+l+" autoplay require mute: "+i)});case 5:t.next=8;break;case 7:void 0===e.autoplay&&(o=a.h,n.i(s.a)("[autoplay] allow autoplay: "+o));case 8:r({muted:i,autoplay:o,autoplayAllowed:l});case 9:case"end":return t.stop()}},t,u)}));return function(e){return t.apply(this,arguments)}}())};t.a=d},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=(n.n(r),n(139)),o=n(2),a=function(e){var t={networkError:i.j,manifestLoadError:i.k,manifestLoadTimeout:i.l,fragLoadTimeout:i.m,mediaError:i.n,manifestIncompatibleCodecsError:i.o,manifestParsingError:i.p,levelLoadError:i.q,fragParsingError:i.r,bufferAppendError:i.s,bufferStalledError:i.t,bufferNudgeOnStall:i.u,keyLoadTimeout:i.v,fragDecryptError:i.w};e.tech_.on(r.Hls.Events.ERROR,function(n,r){if(o.a.error("[HlsErrorsMapper] Error type: "+r.type+", detail: "+r.details+", fatal: "+r.fatal,r),r.fatal){var i=t[r.details]?t[r.details]:t[r.type],a=i.message,s=i.code;e.error({message:a,code:s})}})}},function(e,t,n){"use strict";var r=n(7),i=function(e){return window.top!==window?!!e[r.z]&&e[r.z]:window.innerWidth};t.a=i},function(e,t,n){"use strict";var r=n(2),i=function(e,t){if(e instanceof Array&&!t.playlist||t.playlist&&"hidden"!==t.playlist.type){var i=t||{},o=i.plugins;if(!o)return t;o.markers&&(t.adMarkerPlaylist=t.plugins.markers,delete t.plugins.markers,n.i(r.a)("[playlist-preprocessing] plugin markers updated")),o.thumbnails&&(t.thumbnailsPlaylist=t.plugins.thumbnails,delete t.plugins.thumbnails,n.i(r.a)("[playlist-preprocessing] plugin thumbnails updated"))}return t};t.a=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=n(7),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this.player=t,this.audioOnlyProfileIdx=-1,this.isAdaptiveStreamAvailable()||i.a.warn("No adaptive stream available"),this.isBrowserQualitySwitchingAvailable()||i.a.warn("Quality switching is not supported by this browser")}return a(e,[{key:"isAdaptiveStreamAvailable",value:function(){var e=this;this.currentType=this.player.currentType().toLowerCase();var t=!1;return Object.keys(o.d).forEach(function(n){o.d[n]===e.currentType&&(t=!0)}),t}},{key:"isBrowserQualitySwitchingAvailable",value:function(){var e=!1;switch(this.currentType){case o.d.dash:e=!0;break;case o.d.hls:void 0!==this.player.hls&&(e=!0)}return e}},{key:"getQualitiesCount",value:function(){if(this.isAdaptiveStreamAvailable()&&this.isBrowserQualitySwitchingAvailable())switch(this.currentType){case o.d.dash:return this.getDashQualitiesCount();case o.d.hls:return this.getHlsQualitiesCount()}return 0}},{key:"setQuality",value:function(e){switch(this.currentType){case o.d.dash:this.setQualityDash(e);break;case o.d.hls:this.setQualityHls(e)}}},{key:"setQualityDash",value:function(e){var t=this.player.tech({IWillNotUseThisInPlugins:!0}).sourceHandler_.mediaPlayer_;t.setAutoSwitchQualityFor("video",!1),t.setQualityFor("video",e),n.i(i.a)("Manualy selected quality to level: "+e),this.player.trigger({type:"ott-quality-changed",qualityIdx:e})}},{key:"setQualityHls",value:function(e){e=this.audioOnlyProfileIdx>-1&&this.audioOnlyProfileIdx<=e?e+1:e,this.player.hls.currentLevel=e,n.i(i.a)("Manualy selected quality to level: "+e),this.player.trigger({type:"ott-quality-changed",qualityIdx:e})}},{key:"setAutoQuality",value:function(){switch(this.currentType){case o.d.dash:this.setAutoQualityDash();break;case o.d.hls:this.setAutoQualityHls()}}},{key:"setAutoQualityDash",value:function(){this.player.tech({IWillNotUseThisInPlugins:!0}).sourceHandler_.mediaPlayer_.setAutoSwitchQualityFor("video",!0),this.player.trigger("ott-dash-quality-auto")}},{key:"setAutoQualityHls",value:function(){this.player.hls.currentLevel=-1}},{key:"getQualityListDash",value:function(){return this.player.tech({IWillNotUseThisInPlugins:!0}).sourceHandler_.mediaPlayer_.getBitrateInfoListFor("video")}},{key:"getDashQualitiesCount",value:function(){return this.getQualityListDash().length}},{key:"getQualityListHls",value:function(){for(var e=(this.player.hls.levels||[]).slice(),t=[],n=0;n<e.length;n++)void 0!==(e[n].attrs||{}).RESOLUTION?t.push(e[n]):this.audioOnlyProfileIdx=n;return t.sort(this.sortHlsPlaylist)}},{key:"sortHlsPlaylist",value:function(e,t){var n=void 0,r=void 0;return e.attrs&&e.attrs.BANDWIDTH&&(n=e.attrs.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attrs&&t.attrs.BANDWIDTH&&(r=t.attrs.BANDWIDTH),r=r||window.Number.MAX_VALUE,n-r}},{key:"getHlsQualitiesCount",value:function(){return this.getQualityListHls().length}}]),e}();t.a=s},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=l(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,i,o,a){var s=r(e[t],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&m.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=i}function l(e,t,n){var i=P;return function(o,a){if(i===A)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw a;return y()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===S)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===P)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?O:C,l.arg===S)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=O,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,S;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,S):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[k];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},k=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",T="object"==typeof e,_=t.regeneratorRuntime;if(_)return void(T&&(e.exports=_));_=t.regeneratorRuntime=T?e.exports:{},_.wrap=n;var P="suspendedStart",C="suspendedYield",A="executing",O="completed",S={},j={};j[k]=function(){return this};var I=Object.getPrototypeOf,x=I&&I(I(h([])));x&&x!==g&&m.call(x,k)&&(j=x);var D=a.prototype=i.prototype=Object.create(j);o.prototype=D.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",_.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},_.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(D),e},_.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},_.AsyncIterator=u,_.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return _.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(D),D[E]="Generator",D[k]=function(){return this},D.toString=function(){return"[object Generator]"},_.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},_.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,S):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),S}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(25))},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function a(e){for(var t,n=r(e),i=n[0],a=n[1],s=new d(o(e,i,a)),u=0,l=a>0?i-4:i,c=0;c<l;c+=4)t=f[e.charCodeAt(c)]<<18|f[e.charCodeAt(c+1)]<<12|f[e.charCodeAt(c+2)]<<6|f[e.charCodeAt(c+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=f[e.charCodeAt(c)]<<2|f[e.charCodeAt(c+1)]>>4,s[u++]=255&t),1===a&&(t=f[e.charCodeAt(c)]<<10|f[e.charCodeAt(c+1)]<<4|f[e.charCodeAt(c+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(u(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=l;for(var c=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,y=p.length;h<y;++h)c[h]=p[h],f[p.charCodeAt(h)]=h;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t,n){"use strict";function r(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function i(e,t){var n=e.muted,r=e.timeout,i=e.inline,o=t(),a=o.element,s=o.source,u=void 0,l=void 0,c=void 0;return a.muted=n,!0===n&&a.setAttribute("muted","muted"),!0===i&&a.setAttribute("playsinline","playsinline"),a.src=s,new Promise(function(e){u=a.play(),l=setTimeout(function(){c(!1,new Error("Timeout "+r+" ms has been reached"))},r),c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(l),e({result:t,error:n})},void 0!==u?u.then(function(){return c(!0)}).catch(function(e){return c(!1,e)}):c(!0)})}function o(e){return e=r(e),i(e,function(){return{element:document.createElement("video"),source:URL.createObjectURL(u)}})}function a(e){return e=r(e),i(e,function(){return{element:document.createElement("audio"),source:URL.createObjectURL(s)}})}var s=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),u=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"}),l={audio:a,video:o};t.a=l},function(e,t,n){n(359),e.exports=n(28).RegExp.escape},function(e,t,n){var r=n(6),i=n(83),o=n(8)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(5),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){"use strict";var r=n(3),i=n(36);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(48),i=n(87),o=n(67);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){e.exports=n(68)("native-function-to-string",Function.toString)},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){var r=n(0),i=n(358)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(162)}),n(40)("copyWithin")},function(e,t,n){"use strict";var r=n(0),i=n(33)(4);r(r.P+r.F*!n(30)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(103)}),n(40)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(33)(2);r(r.P+r.F*!n(30)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(33)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)(o)},function(e,t,n){"use strict";var r=n(0),i=n(33)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)("find")},function(e,t,n){"use strict";var r=n(0),i=n(33)(0),o=n(30)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(29),i=n(0),o=n(13),a=n(173),s=n(111),u=n(10),l=n(105),c=n(127);i(i.S+i.F*!n(85)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,v=void 0!==y,g=0,m=c(d);if(v&&(y=r(y,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(t=u(d.length),n=new p(t);t>g;g++)l(n,g,v?y(d[g],g):d[g]);else for(f=m.call(d),n=new p;!(i=f.next()).done;g++)l(n,g,v?a(f,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(0),i=n(80)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(30)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(83)})},function(e,t,n){"use strict";var r=n(0),i=n(24),o=[].join;r(r.P+r.F*(n(66)!=Object||!n(30)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(24),o=n(31),a=n(10),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(30)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(0),i=n(33)(1);r(r.P+r.F*!n(30)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(105);r(r.S+r.F*n(5)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(164);r(r.P+r.F*!n(30)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(164);r(r.P+r.F*!n(30)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(109),o=n(27),a=n(52),s=n(10),u=[].slice;r(r.P+r.F*n(5)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),l=a(t,n),c=s(l-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(0),i=n(33)(3);r(r.P+r.F*!n(30)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(15),o=n(13),a=n(5),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(30)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){n(51)("Array")},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(0),i=n(354);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(36);r(r.P+r.F*n(5)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(8)("toPrimitive"),i=Date.prototype;r in i||n(17)(i,r,n(355))},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(18)(r,"toString",function(){var e=o.call(this);return e===e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(165)})},function(e,t,n){"use strict";var r=n(6),i=n(23),o=n(8)("hasInstance"),a=Function.prototype;o in a||n(12).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(12).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(11)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var r=n(0),i=n(176),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(115);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(114);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(175)})},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(5)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(176)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(115)})},function(e,t,n){var r=n(0),i=n(114),o=Math.exp;r(r.S+r.F*n(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(114),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(4),i=n(21),o=n(27),a=n(110),s=n(36),u=n(5),l=n(47).f,c=n(22).f,f=n(12).f,d=n(60).trim,p=r.Number,h=p,y=p.prototype,v="Number"==o(n(46)(y)),g="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():d(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u(function(){y.valueOf.call(n)}):"Number"!=o(n))?a(new h(m(t)),n,p):m(t)};for(var b,k=n(11)?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)i(h,b=k[w])&&!i(p,b)&&f(p,b,c(h,b));p.prototype=y,y.constructor=p,n(18)(r,"Number",p)}},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(4).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(172)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(172),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(184);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(185);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){"use strict";var r=n(0),i=n(31),o=n(161),a=n(122),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)},y=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(5)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=i(e),v="",g="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(t=y(u*h(2,69,1))-69,n=t<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),g=p()}else f(0,n),f(1<<-t,0),g=p()+a.call("0",l);return l>0?(s=g.length,g=v+(s<=l?"0."+a.call("0",l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l))):g=v+g,g}})},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(161),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(178)})},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(46)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperties:n(179)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(11),"Object",{defineProperty:n(12).f})},function(e,t,n){var r=n(6),i=n(42).onFreeze;n(35)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(24),i=n(22).f;n(35)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){n(35)("getOwnPropertyNames",function(){return n(180).f})},function(e,t,n){var r=n(13),i=n(23);n(35)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(6);n(35)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(6);n(35)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(6);n(35)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(188)})},function(e,t,n){var r=n(13),i=n(48);n(35)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(6),i=n(42).onFreeze;n(35)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(6),i=n(42).onFreeze;n(35)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(119).set})},function(e,t,n){"use strict";var r=n(57),i={};i[n(8)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0),i=n(184);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(0),i=n(185);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){"use strict";var r,i,o,a,s=n(41),u=n(4),l=n(29),c=n(57),f=n(0),d=n(6),p=n(15),h=n(44),y=n(45),v=n(69),g=n(124).set,m=n(116)(),b=n(117),k=n(186),w=n(93),E=n(187),T=u.TypeError,_=u.process,P=_&&_.versions,C=P&&P.v8||"",A=u.Promise,O="process"==c(_),S=function(){},j=i=b.f,I=!!function(){try{var e=A.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(S,S)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a,s=i?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?l(T("Promise-chain cycle")):(o=x(n))?o.call(n,u,l):u(n)):l(r)}catch(e){c&&!a&&c.exit(),l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){g.call(u,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=k(function(){O?_.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=O||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){g.call(u,function(){var t;O?_.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw T("Promise can't be resolved itself");(t=x(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(M,r,1))}catch(e){M.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){M.call({_w:n,_d:!1},e)}}};I||(A=function(e){h(this,A,"Promise","_h"),p(e),r.call(this);try{e(l(F,this,1),l(M,this,1))}catch(e){M.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(50)(A.prototype,{then:function(e,t){var n=j(v(this,A));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(M,e,1)},b.f=j=function(e){return e===A||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:A}),n(59)(A,"Promise"),n(51)("Promise"),a=n(28).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function(e){return E(s&&this===a?A:this,e)}}),f(f.S+f.F*!(I&&n(85)(function(e){A.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,i=n.reject,o=k(function(){var n=[],o=0,a=1;y(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,i=k(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(0),i=n(15),o=n(3),a=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(5)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(46),o=n(15),a=n(3),s=n(6),u=n(5),l=n(165),c=(n(4).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(12),i=n(0),o=n(3),a=n(36);i(i.S+i.F*n(5)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(22).f,o=n(3);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(112)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(22),i=n(0),o=n(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(23),o=n(3);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){function r(e,t){var n,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:u(s=o(e))?r(s,t,c):void 0}var i=n(22),o=n(23),a=n(21),s=n(0),u=n(6),l=n(3);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(183)})},function(e,t,n){var r=n(0),i=n(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(119);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var u,d,p=arguments.length<4?e:arguments[3],h=o.f(c(e),t);if(!h){if(f(d=a(e)))return r(d,t,n,p);h=l(0)}if(s(h,"value")){if(!1===h.writable||!f(p))return!1;if(u=o.f(p,t)){if(u.get||u.set||!1===u.writable)return!1;u.value=n,i.f(p,t,u)}else i.f(p,t,l(0,n));return!0}return void 0!==h.set&&(h.set.call(p,n),!0)}var i=n(12),o=n(22),a=n(23),s=n(21),u=n(0),l=n(49),c=n(3),f=n(6);u(u.S,"Reflect",{set:r})},function(e,t,n){var r=n(4),i=n(110),o=n(12).f,a=n(47).f,s=n(84),u=n(65),l=r.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(11)&&(!h||n(5)(function(){return p[n(8)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(h?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:f,l)};for(var y=a(c),v=0;y.length>v;)!function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(y[v++]);f.constructor=l,l.prototype=f,n(18)(r,"RegExp",l)}n(51)("RegExp")},function(e,t,n){"use strict";var r=n(3),i=n(10),o=n(102),a=n(88);n(82)("match",1,function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=a(u,l));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=o(l,i(u.lastIndex),c)),p++}return 0===p?null:d}]})},function(e,t,n){"use strict";var r=n(3),i=n(13),o=n(10),a=n(31),s=n(102),u=n(88),l=Math.max,c=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n(82)("replace",2,function(e,t,n,y){function v(e,t,r,o,a,s){var u=r+e.length,l=o.length,c=p;return void 0!==a&&(a=i(a),c=d),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var d=f(c/10);return 0===d?n:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s})}return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=y(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var b=[];;){var k=u(f,d);if(null===k)break;if(b.push(k),!g)break;""===String(k[0])&&(f.lastIndex=s(d,o(f.lastIndex),m))}for(var w="",E=0,T=0;T<b.length;T++){k=b[T];for(var _=String(k[0]),P=l(c(a(k.index),d.length),0),C=[],A=1;A<k.length;A++)C.push(h(k[A]));var O=k.groups;if(p){var S=[_].concat(C,P,d);void 0!==O&&S.push(O);var j=String(t.apply(void 0,S))}else j=v(_,d,P,C,O,t);P>=E&&(w+=d.slice(E,P)+j,E=P+_.length)}return w+d.slice(E)}]})},function(e,t,n){"use strict";var r=n(3),i=n(188),o=n(88);n(82)("search",1,function(e,t,n,a){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},function(e,t,n){"use strict";var r=n(84),i=n(3),o=n(69),a=n(102),s=n(10),u=n(88),l=n(118),c=n(5),f=Math.min,d=[].push,p="length",h=!c(function(){RegExp(4294967295,"y")});n(82)("split",2,function(e,t,n,c){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,c+"g");(o=l.call(y,i))&&!((a=y.lastIndex)>f&&(u.push(i.slice(f,o.index)),o[p]>1&&o.index<i[p]&&d.apply(u,o.slice(1)),s=o[0][p],f=a,u[p]>=h));)y.lastIndex===o.index&&y.lastIndex++;return f===i[p]?!s&&y.test("")||u.push(""):u.push(i.slice(f)),u[p]>h?u.slice(0,h):u}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=c(y,e,this,t,y!==n);if(r.done)return r.value;var l=i(e),d=String(this),p=o(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),m=new p(h?l:"^(?:"+l.source+")",g),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===d.length)return null===u(m,d)?[d]:[];for(var k=0,w=0,E=[];w<d.length;){m.lastIndex=h?w:0;var T,_=u(m,h?d:d.slice(w));if(null===_||(T=f(s(m.lastIndex+(h?0:w)),d.length))===k)w=a(d,w,v);else{if(E.push(d.slice(k,w)),E.length===b)return E;for(var P=1;P<=_.length-1;P++)if(E.push(_[P]),E.length===b)return E;w=k=T}}return E.push(d.slice(k)),E}]})},function(e,t,n){"use strict";n(194);var r=n(3),i=n(65),o=n(11),a=/./.toString,s=function(e){n(18)(RegExp.prototype,"toString",e,!0)};n(5)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){"use strict";n(19)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(19)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(19)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(19)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";var r=n(0),i=n(91)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(121),a="".endsWith;r(r.P+r.F*n(108)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";n(19)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(19)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(19)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){var r=n(0),i=n(52),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(0),i=n(121);r(r.P+r.F*n(108)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(19)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";var r=n(91)(!0);n(113)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(19)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){var r=n(0),i=n(24),o=n(10);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(122)})},function(e,t,n){"use strict";n(19)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(121),a="".startsWith;r(r.P+r.F*n(108)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(19)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(19)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(19)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(60)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(4),i=n(21),o=n(11),a=n(0),s=n(18),u=n(42).KEY,l=n(5),c=n(68),f=n(59),d=n(53),p=n(8),h=n(191),y=n(126),v=n(356),g=n(83),m=n(3),b=n(6),k=n(13),w=n(24),E=n(36),T=n(49),_=n(46),P=n(180),C=n(22),A=n(87),O=n(12),S=n(48),j=C.f,I=O.f,x=P.f,D=r.Symbol,L=r.JSON,R=L&&L.stringify,N=p("_hidden"),M=p("toPrimitive"),F={}.propertyIsEnumerable,U=c("symbol-registry"),B=c("symbols"),V=c("op-symbols"),H=Object.prototype,z="function"==typeof D&&!!A.f,W=r.QObject,q=!W||!W.prototype||!W.prototype.findChild,K=o&&l(function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=j(H,t);r&&delete H[t],I(e,t,n),r&&e!==H&&I(H,t,r)}:I,G=function(e){var t=B[e]=_(D.prototype);return t._k=e,t},Q=z&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Y=function(e,t,n){return e===H&&Y(V,t,n),m(e),t=E(t,!0),m(n),i(B,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=_(n,{enumerable:T(0,!1)})):(i(e,N)||I(e,N,T(1,{})),e[N][t]=!0),K(e,t,n)):I(e,t,n)},X=function(e,t){m(e);for(var n,r=v(t=w(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},J=function(e,t){return void 0===t?_(e):X(_(e),t)},$=function(e){var t=F.call(this,e=E(e,!0));return!(this===H&&i(B,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,N)&&this[N][e])||t)},Z=function(e,t){if(e=w(e),t=E(t,!0),e!==H||!i(B,t)||i(V,t)){var n=j(e,t);return!n||!i(B,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=x(w(e)),r=[],o=0;n.length>o;)i(B,t=n[o++])||t==N||t==u||r.push(t);return r},te=function(e){for(var t,n=e===H,r=x(n?V:w(e)),o=[],a=0;r.length>a;)!i(B,t=r[a++])||n&&!i(H,t)||o.push(B[t]);return o};z||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(V,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),K(this,e,T(1,n))};return o&&q&&K(H,e,{configurable:!0,set:t}),G(e)},s(D.prototype,"toString",function(){return this._k}),C.f=Z,O.f=Y,n(47).f=P.f=ee,n(67).f=$,A.f=te,o&&!n(41)&&s(H,"propertyIsEnumerable",$,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:D});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var ie=S(p.store),oe=0;ie.length>oe;)y(ie[oe++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=D(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!z,"Object",{create:J,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l(function(){A.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return A.f(k(e))}}),L&&a(a.S+a.F*(!z||l(function(){var e=D();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,R.apply(L,r)}}),D.prototype[M]||n(17)(D.prototype,M,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){"use strict";var r=n(0),i=n(92),o=n(125),a=n(3),s=n(52),u=n(10),l=n(6),c=n(4).ArrayBuffer,f=n(69),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&c.isView,y=d.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(5)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==y&&void 0===t)return y.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),l=new p(this),c=new p(o),h=0;r<i;)c.setUint8(h++,l.getUint8(r++));return o}}),n(51)("ArrayBuffer")},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(92).ABV,{DataView:n(125).DataView})},function(e,t,n){n(38)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(38)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){"use strict";var r=n(168),i=n(54);n(81)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(169),o=n(13),a=n(10),s=n(15),u=n(104);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(40)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(169),o=n(13),a=n(10),s=n(31),u=n(104);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(40)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(80)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(40)("includes")},function(e,t,n){var r=n(0),i=n(116)(),o=n(4).process,a="process"==n(27)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){var r=n(0),i=n(27);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(0);r(r.G,{global:n(4)})},function(e,t,n){n(89)("Map")},function(e,t,n){n(90)("Map")},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(167)("Map")})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(0),i=n(177),o=n(175);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(177)})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(15),a=n(12);n(11)&&r(r.P+n(86),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(15),a=n(12);n(11)&&r(r.P+n(86),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(0),i=n(182)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(0),i=n(183),o=n(24),a=n(22),s=n(105);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,t=l[f++]))&&s(c,t,n);return c}})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(36),a=n(23),s=n(22).f;n(11)&&r(r.P+n(86),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(36),a=n(23),s=n(22).f;n(11)&&r(r.P+n(86),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0),i=n(182)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(28),a=n(116)(),s=n(8)("observable"),u=n(15),l=n(3),c=n(44),f=n(50),d=n(17),p=n(45),h=p.RETURN,y=function(e){return null==e?void 0:u(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},g=function(e){return void 0===e._o},m=function(e){g(e)||(e._o=void 0,v(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new k(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&v(this)};b.prototype=f({},{unsubscribe:function(){m(this)}});var k=function(e){this._s=e};k.prototype=f({},{next:function(e){var t=this._s;if(!g(t)){var n=t._o;try{var r=y(n.next);if(r)return r.call(n,e)}catch(e){try{m(t)}finally{throw e}}}},error:function(e){var t=this._s;if(g(t))throw e;var n=t._o;t._o=void 0;try{var r=y(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!g(t)){var n=t._o;t._o=void 0;try{var r=y(n.complete);e=r?r.call(n,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=u(e)};f(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(e){var t="function"==typeof this?this:w,n=y(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(51)("Observable")},function(e,t,n){"use strict";var r=n(0),i=n(28),o=n(4),a=n(69),s=n(187);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(117),o=n(186);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(37),i=n(3),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(37),i=n(3),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(195),i=n(163),o=n(37),a=n(3),s=n(23),u=o.keys,l=o.key,c=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=c(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,n){var r=n(37),i=n(3),o=n(23),a=r.has,s=r.get,u=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):void 0};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(3),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(37),i=n(3),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(3),o=n(23),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(3),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(37),i=n(3),o=n(15),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){n(89)("Set")},function(e,t,n){n(90)("Set")},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(167)("Set")})},function(e,t,n){"use strict";var r=n(0),i=n(91)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(34),o=n(10),a=n(84),s=n(65),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(112)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){"use strict";var r=n(0),i=n(189),o=n(93),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(189),o=n(93),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";n(60)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(60)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){n(126)("asyncIterator")},function(e,t,n){n(126)("observable")},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(4)})},function(e,t,n){n(89)("WeakMap")},function(e,t,n){n(90)("WeakMap")},function(e,t,n){n(89)("WeakSet")},function(e,t,n){n(90)("WeakSet")},function(e,t,n){for(var r=n(128),i=n(48),o=n(18),a=n(4),s=n(17),u=n(58),l=n(8),c=l("iterator"),f=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),y=0;y<h.length;y++){var v,g=h[y],m=p[g],b=a[g],k=b&&b.prototype;if(k&&(k[c]||s(k,c,d),k[f]||s(k,f,g),u[g]=d,m))for(v in r)k[v]||o(k,v,r[v],!0)}},function(e,t,n){var r=n(0),i=n(124);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(4),i=n(0),o=n(93),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){n(479),n(418),n(420),n(419),n(422),n(424),n(429),n(423),n(421),n(431),n(430),n(426),n(427),n(425),n(417),n(428),n(432),n(433),n(385),n(387),n(386),n(435),n(434),n(405),n(415),n(416),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(466),n(471),n(478),n(469),n(461),n(462),n(467),n(472),n(474),n(457),n(458),n(459),n(460),n(463),n(464),n(465),n(468),n(470),n(473),n(475),n(476),n(477),n(380),n(382),n(381),n(384),n(383),n(369),n(367),n(373),n(370),n(376),n(378),n(366),n(372),n(363),n(377),n(361),n(375),n(374),n(368),n(371),n(360),n(362),n(365),n(364),n(379),n(128),n(451),n(193),n(456),n(194),n(452),n(453),n(454),n(455),n(436),n(192),n(195),n(196),n(491),n(480),n(481),n(486),n(489),n(490),n(484),n(487),n(485),n(488),n(482),n(483),n(437),n(438),n(439),n(440),n(441),n(444),n(442),n(443),n(445),n(446),n(447),n(448),n(450),n(449),n(494),n(492),n(493),n(535),n(538),n(537),n(539),n(540),n(536),n(541),n(542),n(516),n(519),n(515),n(513),n(514),n(517),n(518),n(500),n(534),n(499),n(533),n(545),n(547),n(498),n(532),n(544),n(546),n(497),n(543),n(496),n(501),n(502),n(503),n(504),n(505),n(507),n(506),n(508),n(509),n(510),n(512),n(511),n(521),n(522),n(523),n(524),n(526),n(525),n(528),n(527),n(529),n(530),n(531),n(495),n(520),n(550),n(549),n(548),e.exports=n(28)},function(e,t,n){(function(r,i){var o;/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.1.2
 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function u(e){z=e}function l(e){G=e}function c(){return function(){H(d)}}function f(){return function(){setTimeout(d,1)}}function d(){for(var e=0;e<K;e+=2){(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0}K=0}function p(e,t){var n=this,r=n._state;if(r===re&&!e||r===ie&&!t)return this;var i=new this.constructor(y),o=n._result;if(r){var a=arguments[r-1];G(function(){I(r,i,a,o)})}else A(n,i,e,t);return i}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(y);return T(n,e),n}function y(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return oe.error=e,oe}}function b(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function k(e,t,n){G(function(e){var r=!1,i=b(n,t,function(n){r||(r=!0,t!==n?T(e,n):P(e,n))},function(t){r||(r=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,C(e,i))},e)}function w(e,t){t._state===re?P(e,t._result):t._state===ie?C(e,t._result):A(t,void 0,function(t){T(e,t)},function(t){C(e,t)})}function E(e,t,n){t.constructor===e.constructor&&n===ee&&constructor.resolve===te?w(e,t):n===oe?C(e,oe.error):void 0===n?P(e,t):s(n)?k(e,t,n):P(e,t)}function T(e,t){e===t?C(e,v()):a(t)?E(e,t,m(t)):P(e,t)}function _(e){e._onerror&&e._onerror(e._result),O(e)}function P(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&G(O,e))}function C(e,t){e._state===ne&&(e._state=ie,e._result=t,G(_,e))}function A(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+re]=n,i[o+ie]=r,0===o&&e._state&&G(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?I(n,r,i,o):i(o);e._subscribers.length=0}}function S(){this.error=null}function j(e,t){try{return e(t)}catch(e){return ae.error=e,ae}}function I(e,t,n,r){var i,o,a,u,l=s(n);if(l){if(i=j(n,r),i===ae?(u=!0,o=i.error,i=null):a=!0,t===i)return void C(t,g())}else i=r,a=!0;t._state!==ne||(l&&a?T(t,i):u?C(t,o):e===re?P(t,i):e===ie&&C(t,i))}function x(e,t){try{t(function(t){T(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function D(e){return new de(this,e).promise}function L(e){function t(e){T(i,e)}function n(e){C(i,e)}var r=this,i=new r(y);if(!q(e))return C(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===ne&&a<o;a++)A(r.resolve(e[a]),void 0,t,n);return i}function R(e){var t=this,n=new t(y);return C(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],y!==e&&("function"!=typeof e&&N(),this instanceof F?x(this,e):M())}function U(e,t){this._instanceConstructor=e,this.promise=new e(y),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):C(this.promise,this._validationError())}function B(){var e;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=fe)}var V;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H,z,W,q=V,K=0,G=function(e,t){Z[K]=e,Z[K+1]=t,2===(K+=2)&&(z?z(d):W())},Q="undefined"!=typeof window?window:void 0,Y=Q||{},X=Y.MutationObserver||Y.WebKitMutationObserver,J=void 0!==r&&"[object process]"==={}.toString.call(r),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3);W=J?function(){return function(){r.nextTick(d)}}():X?function(){var e=0,t=new X(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():$?function(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}():void 0===Q?function(){try{var e=n(569);return H=e.runOnLoop||e.runOnContext,c()}catch(e){return f()}}():f();var ee=p,te=h,ne=void 0,re=1,ie=2,oe=new S,ae=new S,se=D,ue=L,le=R,ce=0,fe=F;F.all=se,F.race=ue,F.resolve=te,F.reject=le,F._setScheduler=u,F._setAsap=l,F._asap=G,F.prototype={constructor:F,then:ee,catch:function(e){return this.then(null,e)}};var de=U;U.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},U.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ne&&n<e;n++)this._eachEntry(t[n],n)},U.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===te){var i=m(e);if(i===ee&&e._state!==ne)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===fe){var o=new n(y);E(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},U.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===ne&&(this._remaining--,e===ie?C(r,n):this._result[t]=n),0===this._remaining&&P(r,this._result)},U.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(ie,t,e)})};var pe=B,he={Promise:fe,polyfill:pe};void 0!==(o=function(){return he}.call(t,n,t,e))&&(e.exports=o),pe()}).call(this)}).call(t,n(73),n(25))},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*y}},function(e,t,n){var r,i,o;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
!function(n){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,d=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,m=/(CriOS|Chrome)(?=.*\bMobile\b)/i,b=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,k=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(e,t){return e.test(t)},E=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:w(a,t),ipod:w(s,t),tablet:!w(a,t)&&w(u,t),device:w(a,t)||w(s,t)||w(u,t)},this.amazon={phone:w(f,t),tablet:!w(f,t)&&w(d,t),device:w(f,t)||w(d,t)},this.android={phone:w(f,t)||w(l,t),tablet:!w(f,t)&&!w(l,t)&&(w(d,t)||w(c,t)),device:w(f,t)||w(d,t)||w(l,t)||w(c,t)},this.windows={phone:w(p,t),tablet:w(h,t),device:w(p,t)||w(h,t)},this.other={blackberry:w(y,t),blackberry10:w(v,t),opera:w(g,t),firefox:w(b,t),chrome:w(m,t),device:w(y,t)||w(v,t)||w(g,t)||w(b,t)||w(m,t)},this.seven_inch=w(k,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var e=new E;return e.Class=E,e};void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=E:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=T():(i=[],r=n.isMobile=T(),void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(this)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(563),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(25))},function(e,t,n){e.exports=n(55)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(199),o=n(70);o.inherits=n(61),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(96).Buffer,a=n(572);e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){e.exports=n(132).PassThrough},function(e,t,n){e.exports=n(132).Transform},function(e,t,n){e.exports=n(131)},function(e,t,n){(function(e){!function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);var i=this;o(i),i.q=i.c="",i.bufferCheckPosition=t.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!e,i.noscript=!(!e&&!i.opt.noscript),i.state=H.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(M)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),h(i,"onready")}function i(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,i=0,o=j.length;i<o;i++){var a=e[j[i]].length;if(a>n)switch(j[i]){case"textNode":v(e);break;case"cdata":y(e,"oncdata",e.cdata),e.cdata="";break;case"script":y(e,"onscript",e.script),e.script="";break;default:m(e,"Max buffer length exceeded: "+j[i])}r=Math.max(r,a)}var s=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=s+e.position}function o(e){for(var t=0,n=j.length;t<n;t++)e[j[t]]=""}function a(e){v(e),""!==e.cdata&&(y(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(y(e,"onscript",e.script),e.script="")}function s(e,t){return new u(e,t)}function u(e,t){if(!(this instanceof u))return new u(e,t);I.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,x.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}function l(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function c(e){return'"'===e||"'"===e}function f(e){return">"===e||l(e)}function d(e,t){return e.test(t)}function p(e,t){return!d(e,t)}function h(e,t,n){e[t]&&e[t](n)}function y(e,t,n){e.textNode&&v(e),h(e,t,n)}function v(e){e.textNode=g(e.opt,e.textNode),e.textNode&&h(e,"ontext",e.textNode),e.textNode=""}function g(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function m(e,t){return v(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,h(e,"onerror",t),e}function b(e){return e.sawRoot&&!e.closedRoot&&k(e,"Unclosed root tag"),e.state!==H.BEGIN&&e.state!==H.BEGIN_WHITESPACE&&e.state!==H.TEXT&&m(e,"Unexpected end"),v(e),e.c="",e.closed=!0,h(e,"onend"),r.call(e,e.strict,e.opt),e}function k(e,t){if("object"!=typeof e||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&m(e,t)}function w(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,y(e,"onopentagstart",n)}function E(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),i=r[0],o=r[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function T(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=E(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==R)k(e,"xml: prefix must be bound to "+R+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==N)k(e,"xmlns: prefix must be bound to "+N+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,y(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function _(e,t){if(e.opt.xmlns){var n=e.tag,r=E(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(k(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){y(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],u=s[0],l=s[1],c=E(u,!0),f=c.prefix,d=c.local,p=""===f?"":n.ns[f]||"",h={name:u,value:l,prefix:f,local:d,uri:p};f&&"xmlns"!==f&&!p&&(k(e,"Unbound namespace prefix: "+JSON.stringify(f)),h.uri=f),e.tag.attributes[u]=h,y(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),y(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=H.TEXT:e.state=H.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function P(e){if(!e.tagName)return k(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=H.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=H.SCRIPT);y(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;k(e,"Unexpected close tag")}if(t<0)return k(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=H.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,y(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var n=o.ns[t];y(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=H.TEXT}function C(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),i=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),i=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(k(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function A(e,t){"<"===t?(e.state=H.OPEN_WAKA,e.startTagPosition=e.position):l(t)||(k(e,"Non-whitespace before first tag."),e.textNode=t,e.state=H.TEXT)}function O(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function S(e){var t=this;if(this.error)throw this.error;if(t.closed)return m(t,"Cannot write after close. Assign an onready handler.");if(null===e)return b(t);"object"==typeof e&&(e=e.toString());for(var n=0,r="";;){if(r=O(e,n++),t.c=r,!r)break;switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case H.BEGIN:if(t.state=H.BEGIN_WHITESPACE,"\ufeff"===r)continue;A(t,r);continue;case H.BEGIN_WHITESPACE:A(t,r);continue;case H.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=O(e,n++))&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(l(r)||t.sawRoot&&!t.closedRoot||k(t,"Text data outside of root node."),"&"===r?t.state=H.TEXT_ENTITY:t.textNode+=r):(t.state=H.OPEN_WAKA,t.startTagPosition=t.position);continue;case H.SCRIPT:"<"===r?t.state=H.SCRIPT_ENDING:t.script+=r;continue;case H.SCRIPT_ENDING:"/"===r?t.state=H.CLOSE_TAG:(t.script+="<"+r,t.state=H.SCRIPT);continue;case H.OPEN_WAKA:if("!"===r)t.state=H.SGML_DECL,t.sgmlDecl="";else if(l(r));else if(d(F,r))t.state=H.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=H.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=H.PROC_INST,t.procInstName=t.procInstBody="";else{if(k(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;r=new Array(a).join(" ")+r}t.textNode+="<"+r,t.state=H.TEXT}continue;case H.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===D?(y(t,"onopencdata"),t.state=H.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=H.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===L?(t.state=H.DOCTYPE,(t.doctype||t.sawRoot)&&k(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(y(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=H.TEXT):c(r)?(t.state=H.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case H.SGML_DECL_QUOTED:r===t.q&&(t.state=H.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case H.DOCTYPE:">"===r?(t.state=H.TEXT,y(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=H.DOCTYPE_DTD:c(r)&&(t.state=H.DOCTYPE_QUOTED,t.q=r));continue;case H.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=H.DOCTYPE:c(r)&&(t.state=H.DOCTYPE_DTD_QUOTED,t.q=r);continue;case H.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=H.DOCTYPE_DTD,t.q="");continue;case H.COMMENT:"-"===r?t.state=H.COMMENT_ENDING:t.comment+=r;continue;case H.COMMENT_ENDING:"-"===r?(t.state=H.COMMENT_ENDED,t.comment=g(t.opt,t.comment),t.comment&&y(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==r?(k(t,"Malformed comment"),t.comment+="--"+r,t.state=H.COMMENT):t.state=H.TEXT;continue;case H.CDATA:"]"===r?t.state=H.CDATA_ENDING:t.cdata+=r;continue;case H.CDATA_ENDING:"]"===r?t.state=H.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===r?(t.cdata&&y(t,"oncdata",t.cdata),y(t,"onclosecdata"),t.cdata="",t.state=H.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=H.CDATA);continue;case H.PROC_INST:"?"===r?t.state=H.PROC_INST_ENDING:l(r)?t.state=H.PROC_INST_BODY:t.procInstName+=r;continue;case H.PROC_INST_BODY:if(!t.procInstBody&&l(r))continue;"?"===r?t.state=H.PROC_INST_ENDING:t.procInstBody+=r;continue;case H.PROC_INST_ENDING:">"===r?(y(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=H.TEXT):(t.procInstBody+="?"+r,t.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:d(U,r)?t.tagName+=r:(w(t),">"===r?_(t):"/"===r?t.state=H.OPEN_TAG_SLASH:(l(r)||k(t,"Invalid character in tag name"),t.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===r?(_(t,!0),P(t)):(k(t,"Forward-slash in opening tag not followed by >"),t.state=H.ATTRIB);continue;case H.ATTRIB:if(l(r))continue;">"===r?_(t):"/"===r?t.state=H.OPEN_TAG_SLASH:d(F,r)?(t.attribName=r,t.attribValue="",t.state=H.ATTRIB_NAME):k(t,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===r?t.state=H.ATTRIB_VALUE:">"===r?(k(t,"Attribute without value"),t.attribValue=t.attribName,T(t),_(t)):l(r)?t.state=H.ATTRIB_NAME_SAW_WHITE:d(U,r)?t.attribName+=r:k(t,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=H.ATTRIB_VALUE;else{if(l(r))continue;k(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",y(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?_(t):d(F,r)?(t.attribName=r,t.state=H.ATTRIB_NAME):(k(t,"Invalid attribute name"),t.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(l(r))continue;c(r)?(t.q=r,t.state=H.ATTRIB_VALUE_QUOTED):(k(t,"Unquoted attribute value"),t.state=H.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case H.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=H.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}T(t),t.q="",t.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:l(r)?t.state=H.ATTRIB:">"===r?_(t):"/"===r?t.state=H.OPEN_TAG_SLASH:d(F,r)?(k(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=H.ATTRIB_NAME):k(t,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(!f(r)){"&"===r?t.state=H.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}T(t),">"===r?_(t):t.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(t.tagName)">"===r?P(t):d(U,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=H.SCRIPT):(l(r)||k(t,"Invalid tagname in closing tag"),t.state=H.CLOSE_TAG_SAW_WHITE);else{if(l(r))continue;p(F,r)?t.script?(t.script+="</"+r,t.state=H.SCRIPT):k(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case H.CLOSE_TAG_SAW_WHITE:if(l(r))continue;">"===r?P(t):k(t,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var s,u;switch(t.state){case H.TEXT_ENTITY:s=H.TEXT,u="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:s=H.ATTRIB_VALUE_QUOTED,u="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:s=H.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(t[u]+=C(t),t.entity="",t.state=s):d(t.entity.length?V:B,r)?t.entity+=r:(k(t,"Invalid character in entity name"),t[u]+="&"+t.entity+r,t.entity="",t.state=s);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&i(t),t}t.parser=function(e,t){return new r(e,t)},t.SAXParser=r,t.SAXStream=u,t.createStream=s,t.MAX_BUFFER_LENGTH=65536;var j=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){b(this)},write:S,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var I;try{I=n(564).Stream}catch(e){I=function(){}}var x=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});u.prototype=Object.create(I.prototype,{constructor:{value:u}}),u.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var r=n(130).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},u.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},u.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===x.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),I.prototype.on.call(n,e,t)};var D="[CDATA[",L="DOCTYPE",R="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",M={xml:R,xmlns:N},F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,H=0;t.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r});for(var z in t.STATE)t.STATE[t.STATE[z]]=z;H=t.STATE,/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,i=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var u=Number(arguments[o]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?i.push(u):(u-=65536,n=55296+(u>>10),r=u%1024+56320,i.push(n,r)),(o+1===a||i.length>16384)&&(s+=e.apply(null,i),i.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(t)}).call(t,n(79).Buffer)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(25),n(73))},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(129).EventEmitter;n(61)(r,i),r.Readable=n(132),r.Writable=n(561),r.Duplex=n(556),r.Transform=n(560),r.PassThrough=n(559),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(25))},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function s(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type&&this.headers.set("content-type",this._bodyBlob.type))},h.blob?(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=i(this);return e||Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var n=t.body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function d(e){var t=new r;return(e.getAllResponseHeaders()||"").trim().split("\n").forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){r.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var h={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},u.call(c.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];p.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=c,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t);var a=new XMLHttpRequest;a.onload=function(){var e=1223===a.status?204:a.status;if(e<100||e>599)return void r(new TypeError("Network request failed"));var t={status:e,statusText:a.statusText,headers:d(a),url:i()},o="response"in a?a.response:a.responseText;n(new p(o,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&h.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){(function(t){var r=n(203);e.exports=function(e,n){e instanceof t&&(e=e.toString());var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else i=e;return r(i,n)}}).call(t,n(79).Buffer)},function(e,t,n){function r(e){var t=i.copyOptions(e);return i.ensureSpacesExists(t),t}var i=n(135),o=n(204);e.exports=function(e,t){var n,i,a,s;return n=r(t),i=o(e,n),s="compact"in n&&n.compact?"_parent":"parent",a="addParent"in n&&n.addParent?JSON.stringify(i,function(e,t){return e===s?"_":t},n.spaces):JSON.stringify(i,null,n.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){n(232),n(233),n(223),n(136),n(222),n(221),n(231),n(209),n(207),n(208),n(227),n(217),n(218),n(220),n(214),n(230),n(234),n(205),n(229),n(228),n(226),n(225),n(210),n(212),n(213),n(215),n(216),n(224),n(211),n(219),e.exports=n(206)}]);
</script>

</body>
</html>
