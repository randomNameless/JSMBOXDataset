<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>km.html</title>
</head>
<body>

<script>
!function(){"use strict";var e={198:function(e,t){t.__esModule=!0,t.createMiddlewareAction=void 0,t.createMiddlewareAction=function(){var e=[];function t(t,n){return((null==e?void 0:e[t+1])||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}).apply(void 0,n)}return{steps:e,use:function(n){var o=e.length,r=n((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t(o,e)}));e.push(r)},run:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e[t].apply(e,n)}}}},585:function(e,t,n){t.__esModule=!0,t.createBackend=void 0;var o=n(887),r=n(963),i=n(198),a=n(64),c=n(861),u=n(346);t.createBackend=function(e,t,n){void 0===n&&(n=!1);var s=n?e.logOutQueue:e.outQueue,d=n?c.BACKEND_ENDPOINT_MESSAGE_LOG:c.BACKEND_ENDPOINT_MESSAGE,l=(0,i.createMiddlewareAction)();if(e.batching){var f=e.batching;l.use((function(e){var t=(0,o.createBatcher)(f);return t.onBatch((function(t){return e(t)})),function(e){return t.sendData(e)}}))}return s&&l.use((function(e){var t=(0,a.createOutQueue)(s,n);return t.onSend((function(t,n){return e(t,n)})),function(e){return t.enqueueRequest(e)}})),l.use((function(){var o,i=(0,r.createFetchClient)({deviceId:null!==(o=e.deviceId)&&void 0!==o?o:t.cid,productId:e.id,language:t.ul,appVersion:e.appVersion,sdkVersion:t.v,sendMethod:e.sendMethod,isLog:n},d);return function(e,t){return i.sendToBackend(e,t)}})),{sendMessage:function(e){l.run(0,e)},sendMessageInstant:function(e){try{(0,u.kmLog)("sendMessageInstant",JSON.stringify(e))}catch(t){(0,u.kmLog)("sendMessageInstant",e)}l.run(l.steps.length-1,e)},sendPagePing:function(t){l.run(e.batching?1:0,t)}}}},887:function(e,t,n){t.__esModule=!0,t.createBatcher=void 0;var o=n(593);t.createBatcher=function(e){var t,n,r=[];function i(){n(r),r=[],clearTimeout(t)}return(0,o.addBeforeUnloadListener)((function(){r.length&&i()})),{sendData:function(n){Array.isArray(n)?r.push.apply(r,n):r.push(n),r.length===e.count&&i(),void 0!==e.time&&1===r.length&&(t=setTimeout((function(){i()}),e.time))},onBatch:function(e){n=e}}}},941:function(e,t){t.__esModule=!0,t.hasWebKitBeaconBug=void 0,t.hasWebKitBeaconBug=function(e){return Boolean(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=13}(0,e)||function(e,t,n){var o=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!o||!o.length)&&(parseInt(o[0])<=10||10===parseInt(o[0])&&parseInt(o[1])<=15)}(0,0,e)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(e))}},963:function(e,t,n){t.__esModule=!0,t.createFetchClient=void 0;var o=n(941),r=n(716),i=n(541);t.createFetchClient=function(e,t){var n=Boolean(window.navigator&&Boolean(window.navigator.sendBeacon)&&!(0,o.hasWebKitBeaconBug)(window.navigator.userAgent)),a="productId=".concat(e.productId);return e.deviceId&&(a+="&clientId=".concat(e.deviceId),a+="&deviceId=".concat(e.deviceId)),e.sdkVersion&&(a+="&sdkVersion=".concat(e.sdkVersion),a+="&clientVersion=".concat(e.sdkVersion)),e.appVersion&&(a+="&appVersion=".concat(e.appVersion)),e.isLog&&(a+="&isLog=1"),e.language&&(a+="&language=".concat(e.language)),{sendToBackend:function(o,c){void 0===c&&(c=0);var u,s=e.sendMethod,d="".concat(t,"?").concat(a,"&attemptNumber=").concat(c);try{u=new Blob([JSON.stringify(o)],{type:"text/plain"})}catch(e){return console.warn("Передаваемый объект не поддается сериализации!",o),Promise.resolve()}switch("auto"===s&&(s=n?"beacon":"xhr"),s){case"double":return Promise.any([(0,r.sendMethodBeacon)(u,d),(0,i.sendMethodXhr)(u,d)]);case"xhr":return(0,i.sendMethodXhr)(u,d);default:return(0,r.sendMethodBeacon)(u,d).catch((function(){return(0,i.sendMethodXhr)(u,d)}))}}}}},716:function(e,t){t.__esModule=!0,t.sendMethodBeacon=void 0,t.sendMethodBeacon=function(e,t){try{return!0===(null===navigator||void 0===navigator?void 0:navigator.sendBeacon(t+"&sendMethod=beacon",e))?Promise.resolve():Promise.reject()}catch(e){return Promise.reject()}}},541:function(e,t){t.__esModule=!0,t.sendMethodXhr=void 0,t.sendMethodXhr=function(e,t){return new Promise((function(n,o){try{var r=window.event&&window.event.type,i="unload"===r||"beforeunload"===r,a=new XMLHttpRequest;a.open("POST",t+"&sendMethod=xhr",!i),a.withCredentials=!0,a.setRequestHeader("Accept","*/*"),a.setRequestHeader("Content-Type",e.type),a.onload=function(){a.status<200||a.status>=300?o():n()},a.onerror=function(){o()},a.ontimeout=function(){o()},a.onabort=function(){o()},a.send(e)}catch(e){o()}}))}},64:function(e,t,n){t.__esModule=!0,t.createOutQueue=void 0;var o=n(312),r=n(593);t.createOutQueue=function(e,t){e.maxStorageCount=0;var n,i,a=o.STORAGE_PREFIX+"outQueue_"+(t?"log_":""),c=a+(new Date).getTime().toString(),u=function(){if(0===e.maxStorageCount)return[];try{return Object.keys(localStorage).filter((function(e){return e.substring(0,a.length)===a})).map((function(e){var t=function(e){try{return JSON.parse(localStorage.getItem(e)||"[]")||[]}catch(e){return[]}}(e);return localStorage.removeItem(e),t})).flat()}catch(e){return[]}}(),s=!1,d=!1,l=0;function f(){if(0!==e.maxStorageCount)try{var t=Math.max(u.length-e.maxStorageCount,0);localStorage.setItem(c,JSON.stringify(u.slice(t)))}catch(e){return}}function g(){if(!d&&!s&&0!==u.length){d=!0;try{n(u[0],l).then((function(){return l=0,u.shift(),f(),d=!1,void g()}),(function(){return h()}))}catch(e){h()}}}function h(){var t;(l+=1)%e.maxConnectionAttempts==0&&(u.shift(),f()),d=!1,s=!0,i=setTimeout((function(){return v()}),(t=Math.min(e.reconnectTimeout.length-1,l-1),e.reconnectTimeout[t]))}function v(){clearTimeout(i),s=!1,g()}return(0,r.addBeforeUnloadListener)(v),f(),g(),{enqueueRequest:function(e){u.push(e),f(),g()},onSend:function(e){n=e}}}},353:function(e,t,n){t.__esModule=!0,t.createClientInfo=void 0;var o=n(972),r=n(137),i=n(346);t.createClientInfo=function(e,t){var n,a,c=e.getCid(),u=(0,r.createSession)(e),s=(null===(n=window.navigator)||void 0===n?void 0:n.language)||(null===(a=window.navigator)||void 0===a?void 0:a.userLanguage)||"",d={};return t.userId&&(d.uid=t.userId),t.deviceModel&&(d.dm=t.deviceModel),(0,o.initKaCookie)(e),{cid:c,ul:s,session:u,v:"2.1.1",getVars:function(){return Object.keys(d).length>0?d:void 0},setVar:function(e,t){(0,i.kmLog)("set",e,t),d[e]=t}}}},972:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};t.__esModule=!0,t.initKaCookie=void 0;var i=n(861),a=n(912);t.initKaCookie=function(e){return o(this,void 0,void 0,(function(){var t,n;return r(this,(function(o){switch(o.label){case 0:if(t=e.getOrRestore("id"))return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch("".concat(i.BACKEND_ENDPOINT_COOKIE),{credentials:"include"})];case 2:return o.sent(),(n=(0,a.getFromCookie)("id"))&&(0,a.setToLocalStorage)("id",n),[3,4];case 3:return o.sent(),[3,4];case 4:return[3,6];case 5:".kion.ru",(0,a.setToCookie)("id",t,void 0,".kion.ru"),o.label=6;case 6:return[2]}}))}))}},137:function(e,t,n){t.__esModule=!0,t.createSession=void 0;var o=n(312),r=n(593);t.createSession=function(e){var t,n,i,a,c,u=null===(t=e.getSs())||void 0===t?void 0:t.split(".");function s(){n="".concat((0,r.getRandom)()).concat((0,r.getUnixTimestamp)()),i+=1,a=(0,r.getUnixTimestamp)(),c=0,e.setSs(n,i,a,c)}return 4===(null==u?void 0:u.length)?(n=u[0],i=parseInt(u[1]),a=parseInt(u[2]),c=parseInt(u[3]),e.setSs(n,i,a,c)):(i=0,s()),{getSid:function(){return n},getSc:function(){return i},getAndIncMc:function(){return c+=1,e.setSs(n,i,a,c),c},update:function(){(0,r.getUnixTimestamp)()-a>=o.SESSION_TIME_SEC?s():(a=(0,r.getUnixTimestamp)(),e.setSs(n,i,a,c))}}}},913:function(e,t,n){t.__esModule=!0,t.getConfig=void 0;var o=n(312),r=function(e){if(void 0!==e&&"boolean"!=typeof e){if("object"!=typeof e||Array.isArray(e))throw new Error("Invalid outQueue parameter of config. You should set to true to use default value or specify an object with child parameters.");if(void 0!==e.maxConnectionAttempts&&"number"!=typeof e.maxConnectionAttempts)throw new Error("Invalid outQueue.maxConnectionAttempts parameter of config. It must be a number.");if(void 0!==e.reconnectTimeout&&"number"!=typeof e.reconnectTimeout&&!Array.isArray(e.reconnectTimeout)&&!e.reconnectTimeout.map((function(e){return"number"==typeof e})).reduce((function(e,t){return e&&t}),!0))throw new Error("Invalid outQueue.reconnectTimeout parameter of config. It must be a number or array of numbers.");if(void 0!==e.maxStorageCount&&"number"!=typeof e.maxStorageCount)throw new Error("Invalid outQueue.maxStorageCount parameter of config. It must be a number.")}},i=function(e,t){void 0===t&&(t=!1);var n=t?o.DEFAULT_CONFIG.logOutQueue:o.DEFAULT_CONFIG.outQueue;return!1!==e&&(!0===e||void 0===e?n:!!e&&{maxConnectionAttempts:e.maxConnectionAttempts||n.maxConnectionAttempts,reconnectTimeout:"number"==typeof e.reconnectTimeout?[e.reconnectTimeout]:e.reconnectTimeout||n.reconnectTimeout,maxStorageCount:e.maxStorageCount||n.maxStorageCount})},a=function(e){return!1!==e&&(!0===e?o.DEFAULT_CONFIG.pagePing:!!e&&{frequencyPing:e.frequencyPing||o.DEFAULT_CONFIG.pagePing.frequencyPing,frequencySendPing:e.frequencySendPing||o.DEFAULT_CONFIG.pagePing.frequencySendPing,minVisitLength:e.minVisitLength||o.DEFAULT_CONFIG.pagePing.minVisitLength})},c=function(e){if(e.deviceId&&"string"==typeof e.deviceId)return e.deviceId;console.error("[DEPRECATED] deviceId не установлен. Пожалуйста, установите его в конфигурации. KM SDK продолжит работу в режиме совместимости, но в следующих версиях SDK это поле будет обязательным.")},u=function(e){if(e.appVersion&&"string"==typeof e.appVersion)return e.appVersion},s=function(e){if(e.deviceModel&&"string"==typeof e.deviceModel)return e.deviceModel};t.getConfig=function(e){return function(e){if(e.batching&&"boolean"!=typeof e.batching&&!e.batching.count&&!e.batching.time)throw new Error("Invalid batching parameters of config. You should set to true to use default value or choose count or time parameters.")}(e),function(e){if(!["auto","beacon","xhr","double",void 0].includes(e.sendMethod))throw new Error("Invalid sendMethod parameter of config. It must be auto, beacon, xhr or double.")}(e),r(e.outQueue),r(e.logOutQueue),function(e){if(void 0!==e&&"boolean"!=typeof e){if("object"!=typeof e||Array.isArray(e))throw new Error("Invalid pagePing parameter of config. You should set to true to use default value or specify an object with child parameters.");Object.keys(e).forEach((function(t){if(void 0!==e[t]&&"number"!=typeof e[t])throw new Error("Invalid ".concat(t," parameter of pagePing. It must be a number."));if(void 0!==e[t]&&e[t]<1e3)throw new Error("Invalid ".concat(t," parameter of pagePing. It must be more or equal than 1000."))}))}}(e.pagePing),{id:e.id,deviceId:c(e),deviceModel:s(e),appVersion:u(e),batching:(t=e.batching,!1!==t&&(t&&!0!==t?t:o.DEFAULT_CONFIG.batching)),dataLayer:!1!==e.dataLayer&&(e.dataLayer||o.DEFAULT_CONFIG.dataLayer),logDataLayer:!1!==e.logDataLayer&&(e.logDataLayer||o.DEFAULT_CONFIG.logDataLayer),sendMethod:e.sendMethod||o.DEFAULT_CONFIG.sendMethod,outQueue:i(e.outQueue,!1),logOutQueue:i(e.logOutQueue,!0),pagePing:a(e.pagePing),no_km_init:!!e.no_km_init};var t}},312:function(e,t){t.__esModule=!0,t.SESSION_TIME_SEC=t.RANDOM_LENGTH=t.STORAGE_PREFIX=t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={batching:{count:20,time:2e3},dataLayer:"dataLayer",logDataLayer:"logDataLayer",sendMethod:"auto",outQueue:{maxStorageCount:100,maxConnectionAttempts:4,reconnectTimeout:[2e3,3e4,6e4,6e4]},logOutQueue:{maxStorageCount:100,maxConnectionAttempts:2,reconnectTimeout:[2e3,6e4]},pagePing:{frequencyPing:5e3,frequencySendPing:1e4,minVisitLength:3e4}},t.STORAGE_PREFIX="km_",t.RANDOM_LENGTH=9,t.SESSION_TIME_SEC=1800},784:function(e,t){t.__esModule=!0,t.createDataLayer=void 0,t.createDataLayer=function(e,t){var n=window[e]=window[e]||[],o=n.push.bind(n);Array.from(n).forEach(t),n.push=function(e){t(e),o(e)}}},346:function(e,t){t.__esModule=!0,t.setDebugState=t.kmLog=void 0,t.kmLog=function(){},t.setDebugState=function(e){e&&console?t.kmLog=console.log.bind(console,"%c[KION METRIC]%c","background-color: black; color: white","background-color: white; color: black"):t.kmLog=function(){}}},607:function(e,t,n){var o,r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};t.__esModule=!0;var c=n(925),u=window.KMObject||"km",s=(null===(o=window[u])||void 0===o?void 0:o.a)?a([],window[u].a,!0):[];if(window[u]=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r(this,void 0,void 0,(function(){var n;return i(this,(function(o){return window[u].instanse||(window[u].instanse=(0,c.createMetricInstance)()),"string"!=typeof e?(console.error("Первым параметром ожидался доступный метод: "+Object.keys(window[u].instanse)),[2]):("init"===t[0]&&(console.warn("DEPRECATED! Вы используете устаревший скрипт инициализации. Пожалуйста, обновите его."),window[u].instanse.create({id:e,batching:!1,no_km_init:!0})),window[u].instanse[e]?[2,(n=window[u].instanse)[e].apply(n,t)]:[2])}))}))},s)for(;0!==s.length;){var d=s.shift();window[u].apply(window,d)}},447:function(e,t){t.__esModule=!0,t.LOG_LEVEL=void 0,t.LOG_LEVEL={fatal:1,critical:2,error:3,warning:4,log:5,info:6,debug:7}},342:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};t.__esModule=!0,t.createCustomLogMessage=t.createCustomMessage=void 0;var r=n(700),i=n(447);function a(e,t,n,i){void 0===i&&(i=!0),i&&e.session.update();var a=(0,r.createMessage)(e);return o(o(o({},t),a),{event:n})}t.createCustomMessage=a,t.createCustomLogMessage=function(e,t,n,o,r){var c;if((null!==(c=i.LOG_LEVEL[n])&&void 0!==c?c:i.LOG_LEVEL.log)>r)return null;var u=a(e,t,"log",o);return u?(u.km_meta.ll=n,u):null}},700:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};t.__esModule=!0,t.createMessage=void 0;var r=n(593);t.createMessage=function(e){var t=e.getVars();return{km_meta:o({dl:document.location.href,ts:(0,r.toIsoString)(new Date),sid:e.session.getSid(),sc:e.session.getSc(),mc:e.session.getAndIncMc(),sr:"".concat(window.screen.width,"x").concat(window.screen.height),wr:"".concat(window.innerWidth,"x").concat(window.innerHeight),r:"".concat((0,r.getRandom)()).concat((0,r.getUnixTimestamp)()),title:document.title,lc:e.ul,dr:document.referrer?document.referrer:""},t?o({},t):{})}}},925:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}};t.__esModule=!0,t.createMetricInstance=void 0;var i=n(585),a=n(353),c=n(913),u=n(784),s=n(342),d=n(728),l=n(912),f=n(447),g=n(346);t.createMetricInstance=function(){var e,t,n,h,v,p,m,_=this,y=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&Object.keys(e).length>0},b=new Promise((function(e){m=e})),w=function(e,n,i){return void 0===i&&(i=!1),o(_,void 0,void 0,(function(){var o,a;return r(this,(function(r){switch(r.label){case 0:return[4,b];case 1:return r.sent(),(0,g.kmLog)("MESSAGE",e,n,i),(o=y(n)?(0,s.createCustomMessage)(h,n,null!==(a=null!=e?e:n.event)&&void 0!==a?a:"custom"):(0,s.createCustomMessage)(h,{},null!=e?e:"custom"))?(i?t.sendMessageInstant(o):t.sendMessage(o),[2]):[2]}}))}))},E=function(e,t,i){return void 0===i&&(i=!1),o(_,void 0,void 0,(function(){var o,a,c;return r(this,(function(r){switch(r.label){case 0:return[4,b];case 1:return r.sent(),y(t)?((0,g.kmLog)("LOG",null!==(a=null!=e?e:t.logLevel)&&void 0!==a?a:"log",t,i),(o=(0,s.createCustomLogMessage)(h,t,null!==(c=null!=e?e:t.logLevel)&&void 0!==c?c:"log",!0,p))?(i?n.sendMessageInstant(o):n.sendMessage(o),[2]):[2]):[2]}}))}))},I=function(e){(0,g.setDebugState)(e)};return{create:function(s){return o(_,void 0,void 0,(function(){var _,y=this;return r(this,(function(b){return"boolean"==typeof s.debug&&I(s.debug),"string"==typeof s.logLevel&&(p=null!==(_=f.LOG_LEVEL[s.logLevel])&&void 0!==_?_:f.LOG_LEVEL.log,"61d3c9a5-e9d4-448a-a9c1-d68611023e78"!==s.id&&"12c2d8b1-acf1-4659-b213-6e87bfb5f10d"!==s.id||p!==f.LOG_LEVEL.debug||(p=f.LOG_LEVEL.error)),(0,g.kmLog)("VERSION ".concat("2.1.1")),(0,g.kmLog)("ID "+s.id),e=(0,c.getConfig)(s),v=(0,l.createStorage)(e),h=(0,a.createClientInfo)(v,s),t=(0,i.createBackend)(e,h,!1),n=(0,i.createBackend)(e,h,!0),e.pagePing&&(0,d.createPagePing)(e.pagePing,t,h),e.dataLayer&&(0,u.createDataLayer)(e.dataLayer,(function(e){return o(y,void 0,void 0,(function(){return r(this,(function(t){return w(void 0,e),[2]}))}))})),e.logDataLayer&&(0,u.createDataLayer)(e.logDataLayer,(function(e){return o(y,void 0,void 0,(function(){return r(this,(function(t){return E(void 0,e),[2]}))}))})),m(),e.no_km_init||w("km_init"),[2]}))}))},set:function(e,t){return o(_,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,b];case 1:return n.sent(),"userId"===e?h.setVar("uid",t):"deviceId"===e||"duid"===e?h.setVar("di",t):h.setVar(e,t),[2]}}))}))},message:w,log:E,setLogLevel:function(e){var t;p=null!==(t=f.LOG_LEVEL[e])&&void 0!==t?t:f.LOG_LEVEL.log},setDebug:I}}},728:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};t.__esModule=!0,t.createPagePing=void 0;var r=n(342),i=n(654),a=n(218);t.createPagePing=function(e,t,n){var c=(0,a.createPointPing)(),u=(0,i.createInputPing)(),s=[];function d(){if(s.length){var e=s.map((function(e){return(0,r.createCustomMessage)(n,e,"page-ping",!1)}));t.sendPagePing(e),s=[]}}setInterval((function(){var e=c.get(),t=u.get();(e.isUpdated||t)&&s.push(o(o({},e.ping),{textInput:t}))}),e.frequencyPing),setTimeout((function(){d(),setInterval((function(){d()}),e.frequencySendPing)}),e.minVisitLength)}},654:function(e,t){t.__esModule=!0,t.createInputPing=void 0,t.createInputPing=function(){var e=!1;return document.addEventListener("keydown",(function(t){e=!0}),!1),{get:function(){var t=e;return e=!1,t}}}},218:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};t.__esModule=!0,t.createPointPing=void 0,t.createPointPing=function(){var e={pageX:0,pageY:0,clientDiagonal:0},t=n({},e);function o(t){e={pageX:t.pageX,pageY:t.pageY,clientDiagonal:Math.sqrt(Math.pow(t.clientX,2)+Math.pow(t.clientY,2))}}return document.addEventListener("mousemove",(function(e){return o(e)}),!1),document.addEventListener("touchmove",(function(e){return o(e.changedTouches[0])}),!1),{get:function(){return{isUpdated:e.clientDiagonal!==t.clientDiagonal||e.pageX!==t.pageX||e.pageY!==t.pageY,ping:t=e}}}}},912:function(e,t,n){t.__esModule=!0,t.getFromCookie=t.setToCookie=t.setToLocalStorage=t.createStorage=void 0;var o=n(312),r=n(593);function i(e,t,n,r){if(n||(n=window.chrome?31536e3:604800),!r){var i=document.location.hostname.split(".");r=".".concat(i[i.length-2],".").concat(i[i.length-1])}document.cookie="".concat(o.STORAGE_PREFIX).concat(e,"=").concat(t,"; max-age=").concat(n,"; path=/; domain=").concat(r,"; ")}function a(e,t){return localStorage.setItem("".concat(o.STORAGE_PREFIX).concat(e),t)}function c(e){var t=document.cookie.split("; ").filter((function(t){return t.startsWith("".concat(o.STORAGE_PREFIX).concat(e))}));return t.length?decodeURIComponent(t[t.length-1].split("=")[1]):void 0}t.setToCookie=i,t.setToLocalStorage=a,t.getFromCookie=c,t.createStorage=function(e){return document.cookie.split("; ").map((function(e){return Array.from(e.matchAll(new RegExp("".concat(o.STORAGE_PREFIX,"ss_(\\S+)=(\\S+)"),"g")))})).filter((function(e){return e.length>0})).forEach((function(e){i("ss_".concat(e[0][1]),"".concat(e[0][2]))})),{getOrRestore:function(e){return c(e)||function(e){return localStorage.getItem("".concat(o.STORAGE_PREFIX).concat(e))}(e)},getCid:function(){var e=this.getOrRestore("cid");return e||(e="".concat((0,r.getRandom)()).concat((0,r.getUnixTimestamp)())),i("cid",e),a("cid",e),e},getSs:function(){return this.getOrRestore("ss_".concat(e.id))},setSs:function(t,n,o,r){i("ss_".concat(e.id),"".concat(t,".").concat(n,".").concat(o,".").concat(r)),a("ss_".concat(e.id),"".concat(t,".").concat(n,".").concat(o,".").concat(r))}}}},861:function(e,t){t.__esModule=!0,t.BACKEND_ENDPOINT_MESSAGE_LOG=t.BACKEND_ENDPOINT_LOG=t.BACKEND_ENDPOINT_MESSAGE=t.BACKEND_ENDPOINT_COOKIE=t.BACKEND_ENDPOINT=void 0;var n=null!=="https://km.kion.ru"?"https://km.kion.ru":"https://services.kion.ru/km";t.BACKEND_ENDPOINT="".concat(n,"/km-api/api"),t.BACKEND_ENDPOINT_COOKIE="".concat(t.BACKEND_ENDPOINT,"/cookie"),t.BACKEND_ENDPOINT_MESSAGE="".concat(t.BACKEND_ENDPOINT,"/message/json/v2");var o=null!=="https://kl.kion.ru"?"https://kl.kion.ru":n;t.BACKEND_ENDPOINT_LOG="".concat(o,"/km-api/api"),t.BACKEND_ENDPOINT_MESSAGE_LOG="".concat(t.BACKEND_ENDPOINT_LOG,"/message/json/v2")},593:function(e,t,n){t.__esModule=!0,t.addBeforeUnloadListener=t.toIsoString=t.getUnixTimestamp=t.getRandom=void 0;var o=n(312);t.getRandom=function(){return Math.random().toString().slice(2,2+o.RANDOM_LENGTH)},t.getUnixTimestamp=function(){return Math.floor(Date.now()/1e3)},t.toIsoString=function(e){var t=-e.getTimezoneOffset(),n=t>=0?"+":"-";function o(e){return(e<10?"0":"")+e}return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate())+"T"+o(e.getHours())+":"+o(e.getMinutes())+":"+o(e.getSeconds())+n+o(Math.floor(Math.abs(t)/60))+":"+o(Math.abs(t)%60)},t.addBeforeUnloadListener=function(e){window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()})),"requestIdleCallback"in window&&requestIdleCallback(e)}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(607)}();
</script>

</body>
</html>
