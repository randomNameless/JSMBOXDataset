<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>d3-lines.a5138bc7.html</title>
</head>
<body>
<script>!function(){"use strict";function t(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function e(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n(n){let i,o,a;function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(n<r){if(0!==i(e,e))return r;do{const i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}while(n<r)}return n}return 2!==n.length?(i=t,o=(e,r)=>t(n(e),r),a=(t,e)=>n(t)-e):(i=n===t||n===e?n:r,o=n,a=n),{left:s,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=s(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return r>n&&a(t[r-1],e)>-a(t[r],e)?r-1:r},right:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(n<r){if(0!==i(e,e))return r;do{const i=n+r>>>1;o(t[i],e)<=0?n=i+1:r=i}while(n<r)}return n}}}function r(){return 0}const i=n(t).right;n((function(t){return null===t?NaN:+t})).center;var o=i;function a(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}const s=Math.sqrt(50),l=Math.sqrt(10),c=Math.sqrt(2);function u(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=s?10:o>=l?5:o>=c?2:1;let h,f,d;return i<0?(d=Math.pow(10,-i)/a,h=Math.round(t*d),f=Math.round(e*d),h/d<t&&++h,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*a,h=Math.round(t/d),f=Math.round(e/d),h*d<t&&++h,f*d>e&&--f),f<h&&.5<=n&&n<2?u(t,e,2*n):[h,f,d]}function h(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?u(e,t,n):u(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(i+t)/-a;else for(let t=0;t<s;++t)l[t]=(i+t)*a;return l}function f(t,e,n){return u(t=+t,e=+e,n=+n)[2]}function d(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?f(e,t,n):f(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function p(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function g(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function m(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function y(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function b(){}var x=.7,w=1/x,_="\\s*([+-]?\\d+)\\s*",k="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T=/^#([0-9a-f]{3,8})$/,A=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),E=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),$=new RegExp("^rgba\\("+[_,_,_,k]+"\\)$"),L=new RegExp("^rgba\\("+[M,M,M,k]+"\\)$"),O=new RegExp("^hsl\\("+[k,M,M]+"\\)$"),S=new RegExp("^hsla\\("+[k,M,M,k]+"\\)$"),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function z(){return this.rgb().formatHex()}function C(){return this.rgb().formatRgb()}function j(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=T.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?D(e):3===n?new F(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?R(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?R(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=A.exec(t))?new F(e[1],e[2],e[3],1):(e=E.exec(t))?new F(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$.exec(t))?R(e[1],e[2],e[3],e[4]):(e=L.exec(t))?R(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=O.exec(t))?Y(e[1],e[2]/100,e[3]/100,1):(e=S.exec(t))?Y(e[1],e[2]/100,e[3]/100,e[4]):N.hasOwnProperty(t)?D(N[t]):"transparent"===t?new F(NaN,NaN,NaN,0):null}function D(t){return new F(t>>16&255,t>>8&255,255&t,1)}function R(t,e,n,r){return r<=0&&(t=e=n=NaN),new F(t,e,n,r)}function P(t){return t instanceof b||(t=j(t)),t?new F((t=t.rgb()).r,t.g,t.b,t.opacity):new F}function I(t,e,n,r){return 1===arguments.length?P(t):new F(t,e,n,null==r?1:r)}function F(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function U(){return"#"+B(this.r)+B(this.g)+B(this.b)}function H(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function B(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Y(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new q(t,e,n,r)}function W(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof b||(t=j(t)),!t)return new q;if(t instanceof q)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new q(a,s,l,t.opacity)}function q(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function G(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}y(b,j,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:z,formatHex:z,formatHsl:function(){return W(this).formatHsl()},formatRgb:C,toString:C}),y(F,I,v(b,{brighter:function(t){return t=null==t?w:Math.pow(w,t),new F(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?x:Math.pow(x,t),new F(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U,formatHex:U,formatRgb:H,toString:H})),y(q,(function(t,e,n,r){return 1===arguments.length?W(t):new q(t,e,n,null==r?1:r)}),v(b,{brighter:function(t){return t=null==t?w:Math.pow(w,t),new q(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?x:Math.pow(x,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new F(G(t>=240?t-240:t+120,i,r),G(t,i,r),G(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var V=Math.PI/180,X=180/Math.PI,K=.96422,Z=1,J=.82521,Q=4/29,tt=6/29,et=3*tt*tt,nt=tt*tt*tt;function rt(t){if(t instanceof ot)return new ot(t.l,t.a,t.b,t.opacity);if(t instanceof ut)return ht(t);t instanceof F||(t=P(t));var e,n,r=ct(t.r),i=ct(t.g),o=ct(t.b),a=at((.2225045*r+.7168786*i+.0606169*o)/Z);return r===i&&i===o?e=n=a:(e=at((.4360747*r+.3850649*i+.1430804*o)/K),n=at((.0139322*r+.0971045*i+.7141733*o)/J)),new ot(116*a-16,500*(e-a),200*(a-n),t.opacity)}function it(t,e,n,r){return 1===arguments.length?rt(t):new ot(t,e,n,null==r?1:r)}function ot(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function at(t){return t>nt?Math.pow(t,1/3):t/et+Q}function st(t){return t>tt?t*t*t:et*(t-Q)}function lt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ut(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ht(t){if(isNaN(t.h))return new ot(t.l,0,0,t.opacity);var e=t.h*V;return new ot(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}y(ot,it,v(b,{brighter:function(t){return new ot(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ot(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new F(lt(3.1338561*(e=K*st(e))-1.6168667*(t=Z*st(t))-.4906146*(n=J*st(n))),lt(-.9787684*e+1.9161415*t+.033454*n),lt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),y(ut,(function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ut)return new ut(t.h,t.c,t.l,t.opacity);if(t instanceof ot||(t=rt(t)),0===t.a&&0===t.b)return new ut(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*X;return new ut(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ut(t,e,n,null==r?1:r)}),v(b,{brighter:function(t){return new ut(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ut(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ht(this).rgb()}}));var ft="http://www.w3.org/1999/xhtml",dt={svg:"http://www.w3.org/2000/svg",xhtml:ft,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),dt.hasOwnProperty(e)?{space:dt[e],local:t}:t}function gt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ft&&e.documentElement.namespaceURI===ft?e.createElement(t):e.createElementNS(n,t)}}function mt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function yt(t){var e=pt(t);return(e.local?mt:gt)(e)}function vt(){}function bt(t){return null==t?vt:function(){return this.querySelector(t)}}function xt(){return[]}function wt(t){return new Array(t.length)}function _t(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_t.prototype={constructor:_t,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var kt="$";function Mt(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new _t(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Tt(t,e,n,r,i,o,a){var s,l,c,u={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(d[s]=c=kt+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<f;++s)(l=u[c=kt+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new _t(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u[d[s]]===l&&(i[s]=l)}function At(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Et(t){return function(){this.removeAttribute(t)}}function $t(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lt(t,e){return function(){this.setAttribute(t,e)}}function Ot(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function St(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ct(t){return function(){this.style.removeProperty(t)}}function jt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Dt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Rt(t){return function(){delete this[t]}}function Pt(t,e){return function(){this[t]=e}}function It(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ft(t){return t.trim().split(/^|\s+/)}function Ut(t){return t.classList||new Ht(t)}function Ht(t){this._node=t,this._names=Ft(t.getAttribute("class")||"")}function Bt(t,e){for(var n=Ut(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Yt(t,e){for(var n=Ut(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wt(t){return function(){Bt(this,t)}}function qt(t){return function(){Yt(this,t)}}function Gt(t,e){return function(){(e.apply(this,arguments)?Bt:Yt)(this,t)}}function Vt(){this.textContent=""}function Xt(t){return function(){this.textContent=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function Jt(t){return function(){this.innerHTML=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function te(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ne(){return null}function re(){var t=this.parentNode;t&&t.removeChild(this)}function ie(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Ht.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ae={},se=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ae={mouseenter:"mouseover",mouseleave:"mouseout"}));function le(t,e,n){return t=ce(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ce(t,e,n){return function(r){var i=se;se=r;try{t.call(this,this.__data__,e,n)}finally{se=i}}}function ue(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function he(t,e,n){var r=ae.hasOwnProperty(t.type)?le:ce;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function fe(t,e,n){var r=zt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function de(t,e){return function(){return fe(this,t,e)}}function pe(t,e){return function(){return fe(this,t,e.apply(this,arguments))}}var ge=[null];function me(t,e){this._groups=t,this._parents=e}function ye(){return new me([[document.documentElement]],ge)}function ve(t){return"string"==typeof t?new me([[document.querySelector(t)]],[document.documentElement]):new me([[t]],ge)}function be(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function xe(){return null}me.prototype=ye.prototype={constructor:me,select:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new me(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?xt:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new me(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new me(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n=e?Tt:Mt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],f=h.length,d=t.call(u,u&&u.__data__,c,r),p=d.length,g=s[c]=new Array(p),m=a[c]=new Array(p);n(u,h,g,m,l[c]=new Array(f),d,e);for(var y,v,b=0,x=0;b<p;++b)if(y=g[b]){for(b>=x&&(x=b+1);!(v=m[x])&&++x<p;);y._next=v||null}}return(a=new me(a,r))._enter=s,a._exit=l,a},enter:function(){return new me(this._enter||this._groups.map(wt),this._parents)},exit:function(){return new me(this._exit||this._groups.map(wt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,f=a[s]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;s<r;++s)a[s]=e[s];return new me(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=At);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new me(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=pt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?$t:Et:"function"==typeof e?n.local?Nt:St:n.local?Ot:Lt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ct:"function"==typeof e?Dt:jt)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||zt(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Rt:"function"==typeof e?It:Pt)(t,e)):this.node()[t]},classed:function(t,e){var n=Ft(t+"");if(arguments.length<2){for(var r=Ut(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Gt:e?Wt:qt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Vt:("function"==typeof t?Kt:Xt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Qt:Jt)(t)):this.node().innerHTML},raise:function(){return this.each(te)},lower:function(){return this.each(ee)},append:function(t){var e="function"==typeof t?t:yt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:yt(t),r=null==e?ne:"function"==typeof e?e:bt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(re)},clone:function(t){return this.select(t?oe:ie)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?he:ue,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?pe:de)(t,e))}};const we=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function _e(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}function ke(t){return"function"==typeof t?function(e,n){return t(e)<t(n)?-1:t(e)>t(n)?1:t(e)>=t(n)?0:NaN}:function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:e[t]>=n[t]?0:NaN}}function Me(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Te(t){return function(){return t}}function Ae(t){return 1==(t=+t)?Ee:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Te(isNaN(e)?n:e)}}function Ee(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Te(isNaN(t)?e:t)}_e.not=function(t){return!t},_e.run=function(t){return t()},_e.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==t[n]?t[n]:e}},ye.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},ye.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=be(t),e=yt(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},ye.prototype.insert=function(t,e){var n=be(t),r=yt(n.tag),i=null==e?xe:"function"==typeof e?e:bt(e),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in n.attr)o.attr(a,n.attr[a]);return o},ye.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))},ye.prototype.selectAppend=function(t){var e,n=bt(t),r=be(t);for(var i in t=yt(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},ye.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},ye.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},ye.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(we.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},ye.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();var r;return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return i(r.apply(this,arguments))}):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}},ye.prototype.prop=ye.prototype.property;var $e=function t(e){var n=Ae(e);function r(t,e){var r=n((t=I(t)).r,(e=I(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ee(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Le(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Oe(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Re(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Se(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ne(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ze(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Re(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,je=new RegExp(Ce.source,"g");function De(t,e){var n,r,i,o=Ce.lastIndex=je.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Ce.exec(t))&&(r=je.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Ne(n,r)})),o=je.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Re(t,e){var n,r=typeof e;return null==e||"boolean"===r?Te(e):("number"===r?Ne:"string"===r?(n=j(e))?(e=n,$e):De:e instanceof j?$e:e instanceof Date?Se:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Le:Array.isArray(e)?Oe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ze:Ne)(t,e)}function Pe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ie(t){return+t}var Fe=[0,1];function Ue(t){return t}function He(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Be(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=He(i,r),o=n(a,o)):(r=He(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=He(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(e){var n=o(t,e,1,r)-1;return a[n](i[n](e))}}function We(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qe(){var t,e,n,r,i,o,a=Fe,s=Fe,l=Re,c=Ue;function u(){var t=Math.min(a.length,s.length);return c!==Ue&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Ye:Be,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Ne)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Ie),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=Pe,u()},h.clamp=function(t){return arguments.length?(c=!!t||Ue,u()):c!==Ue},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Ge(){return qe()(Ue,Ue)}function Ve(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xe(t){return(t=Ve(Math.abs(t)))?t[1]:NaN}var Ke,Ze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Je(t){if(!(e=Ze.exec(t)))throw new Error("invalid format: "+t);var e;return new Qe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Qe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function tn(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Je.prototype=Qe.prototype,Qe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var en={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tn(100*t,e),r:tn,s:function(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ke=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ve(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nn(t){return t}var rn,on,an,sn=Array.prototype.map,ln=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?nn:(e=sn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?nn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(sn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Je(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):en[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?o:/[%p]/.test(v)?l:"",w=en[v],_=/[defgprs%]/.test(v);function k(t){var i,o,l,f=b,k=x;if("c"===v)k=w(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),f=(M?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===v?ln[8+Ke/3]:"")+k+(M&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=f.length+t.length+k.length,A=T<p?new Array(p-T+1).join(e):"";switch(g&&d&&(t=r(A+t,A.length?p-k.length:1/0),A=""),n){case"<":t=f+t+k+A;break;case"=":t=f+A+t+k;break;case"^":t=A.slice(0,T=A.length>>1)+f+t+k+A.slice(T);break;default:t=A+f+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Je(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Xe(e)/3))),i=Math.pow(10,-r),o=ln[8+r/3];return function(t){return n(i*t)+o}}}}function un(t,e,n,r){var i,o=d(t,e,n);switch((r=Je(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xe(e)/3)))-Xe(Math.abs(t)))}(o,a))||(r.precision=i),an(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xe(e)-Xe(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Xe(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return on(r)}function hn(){var t=Ge();return t.copy=function(){return We(t,hn())},Me.apply(t,arguments),function(t){var e=t.domain;return t.ticks=function(t){var n=e();return h(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return un(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=f(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}(t)}function fn(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function dn(t){return Math.log(t)}function pn(t){return Math.exp(t)}function gn(t){return-Math.log(-t)}function mn(t){return-Math.exp(-t)}function yn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vn(t){return(e,n)=>-t(-e,n)}function bn(t){const e=t(dn,pn),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?yn:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=vn(r),i=vn(i),t(gn,mn)):t(dn,pn),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,f=r(a),d=r(s);const p=null==t?10:+t;let g=[];if(!(o%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),a>0){for(;f<=d;++f)for(c=1;c<o;++c)if(u=f<0?c/i(-f):c*i(f),!(u<a)){if(u>s)break;g.push(u)}}else for(;f<=d;++f)for(c=o-1;c>=1;--c)if(u=f>0?c/i(-f):c*i(f),!(u<a)){if(u>s)break;g.push(u)}2*g.length<p&&(g=h(a,s,p))}else g=h(f,d,Math.min(d-f,p)).map(i);return l?g.reverse():g},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Je(n)).precision||(n.trim=!0),n=on(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(fn(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function xn(){const t=bn(qe()).domain([1,10]);return t.copy=()=>We(t,xn()).base(t.base()),Me.apply(t,arguments),t}rn=cn({thousands:",",grouping:[3],currency:["$",""]}),on=rn.format,an=rn.formatPrefix;const wn=new Date,_n=new Date;function kn(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>kn((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(wn.setTime(+e),_n.setTime(+r),t(wn),t(_n),Math.floor(n(wn,_n))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const Mn=kn((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));Mn.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?kn((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):Mn:null),Mn.range;const Tn=1e3,An=6e4,En=36e5,$n=864e5,Ln=6048e5,On=2592e6,Sn=31536e6,Nn=kn((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*Tn)}),((t,e)=>(e-t)/Tn),(t=>t.getUTCSeconds()));Nn.range;const zn=kn((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getMinutes()));zn.range;const Cn=kn((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*An)}),((t,e)=>(e-t)/An),(t=>t.getUTCMinutes()));Cn.range;const jn=kn((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn-t.getMinutes()*An)}),((t,e)=>{t.setTime(+t+e*En)}),((t,e)=>(e-t)/En),(t=>t.getHours()));jn.range;const Dn=kn((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*En)}),((t,e)=>(e-t)/En),(t=>t.getUTCHours()));Dn.range;const Rn=kn((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/$n),(t=>t.getDate()-1));Rn.range;const Pn=kn((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/$n),(t=>t.getUTCDate()-1));Pn.range;const In=kn((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/$n),(t=>Math.floor(t/$n)));function Fn(t){return kn((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*An)/Ln))}In.range;const Un=Fn(0),Hn=Fn(1),Bn=Fn(2),Yn=Fn(3),Wn=Fn(4),qn=Fn(5),Gn=Fn(6);function Vn(t){return kn((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Ln))}Un.range,Hn.range,Bn.range,Yn.range,Wn.range,qn.range,Gn.range;const Xn=Vn(0),Kn=Vn(1),Zn=Vn(2),Jn=Vn(3),Qn=Vn(4),tr=Vn(5),er=Vn(6);Xn.range,Kn.range,Zn.range,Jn.range,Qn.range,tr.range,er.range;const nr=kn((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()));nr.range;const rr=kn((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()));rr.range;const ir=kn((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));ir.every=t=>isFinite(t=Math.floor(t))&&t>0?kn((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,ir.range;const or=kn((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function ar(t,e,r,i,o,a){const s=[[Nn,1,Tn],[Nn,5,5e3],[Nn,15,15e3],[Nn,30,3e4],[a,1,An],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,En],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,$n],[i,2,1728e5],[r,1,Ln],[e,1,On],[e,3,7776e6],[t,1,Sn]];function l(e,r,i){const o=Math.abs(r-e)/i,a=n((t=>{let[,,e]=t;return e})).right(s,o);if(a===s.length)return t.every(d(e/Sn,r/Sn,i));if(0===a)return Mn.every(Math.max(d(e,r,i),1));const[l,c]=s[o/s[a-1][2]<s[a][2]/o?a-1:a];return l.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:l(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},l]}or.every=t=>isFinite(t=Math.floor(t))&&t>0?kn((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,or.range,ar(or,rr,Xn,In,Dn,Cn);const[sr,lr]=ar(ir,nr,Un,Rn,jn,zn);function cr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ur(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var fr,dr,pr={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,mr=/^%/,yr=/[\\^$*+?|[\]().{}]/g;function vr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function br(t){return t.replace(yr,"\\$&")}function xr(t){return new RegExp("^(?:"+t.map(br).join("|")+")","i")}function wr(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function _r(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function kr(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ar(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Er(t,e,n){var r=gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Lr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Or(t,e,n){var r=gr.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Sr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Nr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zr(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Cr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dr(t,e,n){var r=gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Rr(t,e,n){var r=gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pr(t,e,n){var r=gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ir(t,e,n){var r=mr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fr(t,e,n){var r=gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ur(t,e,n){var r=gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hr(t,e){return vr(t.getDate(),e,2)}function Br(t,e){return vr(t.getHours(),e,2)}function Yr(t,e){return vr(t.getHours()%12||12,e,2)}function Wr(t,e){return vr(1+Rn.count(ir(t),t),e,3)}function qr(t,e){return vr(t.getMilliseconds(),e,3)}function Gr(t,e){return qr(t,e)+"000"}function Vr(t,e){return vr(t.getMonth()+1,e,2)}function Xr(t,e){return vr(t.getMinutes(),e,2)}function Kr(t,e){return vr(t.getSeconds(),e,2)}function Zr(t){var e=t.getDay();return 0===e?7:e}function Jr(t,e){return vr(Un.count(ir(t)-1,t),e,2)}function Qr(t){var e=t.getDay();return e>=4||0===e?Wn(t):Wn.ceil(t)}function ti(t,e){return t=Qr(t),vr(Wn.count(ir(t),t)+(4===ir(t).getDay()),e,2)}function ei(t){return t.getDay()}function ni(t,e){return vr(Hn.count(ir(t)-1,t),e,2)}function ri(t,e){return vr(t.getFullYear()%100,e,2)}function ii(t,e){return vr((t=Qr(t)).getFullYear()%100,e,2)}function oi(t,e){return vr(t.getFullYear()%1e4,e,4)}function ai(t,e){var n=t.getDay();return vr((t=n>=4||0===n?Wn(t):Wn.ceil(t)).getFullYear()%1e4,e,4)}function si(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vr(e/60|0,"0",2)+vr(e%60,"0",2)}function li(t,e){return vr(t.getUTCDate(),e,2)}function ci(t,e){return vr(t.getUTCHours(),e,2)}function ui(t,e){return vr(t.getUTCHours()%12||12,e,2)}function hi(t,e){return vr(1+Pn.count(or(t),t),e,3)}function fi(t,e){return vr(t.getUTCMilliseconds(),e,3)}function di(t,e){return fi(t,e)+"000"}function pi(t,e){return vr(t.getUTCMonth()+1,e,2)}function gi(t,e){return vr(t.getUTCMinutes(),e,2)}function mi(t,e){return vr(t.getUTCSeconds(),e,2)}function yi(t){var e=t.getUTCDay();return 0===e?7:e}function vi(t,e){return vr(Xn.count(or(t)-1,t),e,2)}function bi(t){var e=t.getUTCDay();return e>=4||0===e?Qn(t):Qn.ceil(t)}function xi(t,e){return t=bi(t),vr(Qn.count(or(t),t)+(4===or(t).getUTCDay()),e,2)}function wi(t){return t.getUTCDay()}function _i(t,e){return vr(Kn.count(or(t)-1,t),e,2)}function ki(t,e){return vr(t.getUTCFullYear()%100,e,2)}function Mi(t,e){return vr((t=bi(t)).getUTCFullYear()%100,e,2)}function Ti(t,e){return vr(t.getUTCFullYear()%1e4,e,4)}function Ai(t,e){var n=t.getUTCDay();return vr((t=n>=4||0===n?Qn(t):Qn.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ei(){return"+0000"}function $i(){return"%"}function Li(t){return+t}function Oi(t){return Math.floor(+t/1e3)}function Si(t){return new Date(t)}function Ni(t){return t instanceof Date?+t:+new Date(+t)}function zi(t,e,n,r,i,o,a,s,l,c){var u=Ge(),h=u.invert,f=u.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(t){return(l(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:v:n(t)<t?b:x)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(Array.from(t,Ni)):f().map(Si)},u.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var n=f();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(fn(n,t)):u},u.copy=function(){return We(u,zi(t,e,n,r,i,o,a,s,l,c))},u}function Ci(){return Me.apply(zi(sr,lr,ir,nr,Un,Rn,jn,zn,Nn,dr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ji(t){return function(){return t}}!function(t){fr=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=xr(i),u=wr(i),h=xr(o),f=wr(o),d=xr(a),p=wr(a),g=xr(s),m=wr(s),y=xr(l),v=wr(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Hr,e:Hr,f:Gr,g:ii,G:ai,H:Br,I:Yr,j:Wr,L:qr,m:Vr,M:Xr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Li,s:Oi,S:Kr,u:Zr,U:Jr,V:ti,w:ei,W:ni,x:null,X:null,y:ri,Y:oi,Z:si,"%":$i},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:li,e:li,f:di,g:Mi,G:Ai,H:ci,I:ui,j:hi,L:fi,m:pi,M:gi,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Li,s:Oi,S:mi,u:yi,U:vi,V:xi,w:wi,W:_i,x:null,X:null,y:ki,Y:Ti,Z:Ei,"%":$i},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Nr,e:Nr,f:Pr,g:$r,G:Er,H:Cr,I:Cr,j:zr,L:Rr,m:Sr,M:jr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Or,Q:Fr,s:Ur,S:Dr,u:kr,U:Mr,V:Tr,w:_r,W:Ar,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:$r,Y:Er,Z:Lr,"%":Ir};function _(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=pr[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=hr(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ur(hr(o.y,0,1))).getUTCDay(),r=i>4||0===i?Kn.ceil(r):Kn(r),r=Pn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cr(hr(o.y,0,1))).getDay(),r=i>4||0===i?Hn.ceil(r):Hn(r),r=Rn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ur(hr(o.y,0,1)).getUTCDay():cr(hr(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ur(o)):cr(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in pr?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),x.x=_(n,x),x.X=_(r,x),x.c=_(e,x),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),dr=fr.format,fr.parse,fr.utcFormat,fr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Di(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ri,Pi,Ii,Fi,Ui,Hi,Bi,Yi,Wi,qi,Gi,Vi,Xi,Ki;const Zi=Math.PI,Ji=2*Zi,Qi=1e-6,to=Ji-Qi;function eo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class no{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?eo:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return eo;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(Ri||(Ri=Di(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Pi||(Pi=Di(["Z"]))))}lineTo(t,e){this._append(Ii||(Ii=Di(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(Fi||(Fi=Di(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(Ui||(Ui=Di(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append(Hi||(Hi=Di(["M",",",""])),this._x1=t,this._y1=e);else if(h>Qi)if(Math.abs(u*s-l*c)>Qi&&i){let f=n-o,d=r-a,p=s*s+l*l,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((Zi-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>Qi&&this._append(Yi||(Yi=Di(["L",",",""])),t+b*c,e+b*u),this._append(Wi||(Wi=Di(["A",",",",0,0,",",",",",""])),i,i,+(u*f>c*d),this._x1=t+x*s,this._y1=e+x*l)}else this._append(Bi||(Bi=Di(["L",",",""])),this._x1=t,this._y1=e);else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append(qi||(qi=Di(["M",",",""])),l,c):(Math.abs(this._x1-l)>Qi||Math.abs(this._y1-c)>Qi)&&this._append(Gi||(Gi=Di(["L",",",""])),l,c),n&&(h<0&&(h=h%Ji+Ji),h>to?this._append(Vi||(Vi=Di(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-a,e-s,n,n,u,this._x1=l,this._y1=c):h>Qi&&this._append(Xi||(Xi=Di(["A",",",",0,",",",",",",",""])),n,n,+(h>=Zi),u,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append(Ki||(Ki=Di(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function ro(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError("invalid digits: ".concat(n));e=t}return t},()=>new no(e)}function io(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function oo(t){this._context=t}function ao(t){return new oo(t)}function so(t){return t[0]}function lo(t){return t[1]}function co(t,e){var n=ji(!0),r=null,i=ao,o=null,a=ro(s);function s(s){var l,c,u,h=(s=io(s)).length,f=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?so:ji(t),e="function"==typeof e?e:void 0===e?lo:ji(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:ji(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:ji(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:ji(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function uo(t,e,n){var r=null,i=ji(!0),o=null,a=ao,s=null,l=ro(c);function c(c){var u,h,f,d,p,g=(c=io(c)).length,m=!1,y=new Array(g),v=new Array(g);for(null==o&&(s=a(p=l())),u=0;u<=g;++u){if(!(u<g&&i(d=c[u],u,c))===m)if(m=!m)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=h;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}m&&(y[u]=+t(d,u,c),v[u]=+e(d,u,c),s.point(r?+r(d,u,c):y[u],n?+n(d,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return co().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?so:ji(+t),e="function"==typeof e?e:ji(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?lo:ji(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:ji(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:ji(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ji(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:ji(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:ji(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:ji(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:ji(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function ho(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fo(t){this._context=t}function po(t){return new fo(t)}function go(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function mo(t,e){this._context=t,this._k=(1-e)/6}oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ho(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:go(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:go(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yo=function t(e){function n(t){return new mo(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vo(t,e){this._context=t,this._alpha=e}vo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bo=function t(e){function n(t){return e?new vo(t,e):new mo(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function xo(t){return t<0?-1:1}function wo(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(xo(o)+xo(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function _o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ko(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Mo(t){this._context=t}function To(t){return new Mo(t)}function Ao(t){this._context=t}function Eo(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function $o(t){return new Ao(t)}function Lo(t,e){this._context=t,this._t=e}function Oo(t){return new Lo(t,.5)}function So(t){return new Lo(t,0)}function No(t){return new Lo(t,1)}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ko(this,this._t0,_o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ko(this,_o(this,n=wo(this,t,e)),n);break;default:ko(this,this._t0,n=wo(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Mo.prototype).point=function(t,e){Mo.prototype.point.call(this,e,t)},Ao.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Eo(t),i=Eo(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var zo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jo=function(t){return function(){return t}},Do=Co(jo);var Ro=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Po="object"==typeof zo&&zo&&zo.Object===Object&&zo,Io=Po,Fo="object"==typeof self&&self&&self.Object===Object&&self,Uo=Io||Fo||Function("return this")(),Ho=Uo,Bo=function(){return Ho.Date.now()},Yo=/\s/;var Wo=function(t){for(var e=t.length;e--&&Yo.test(t.charAt(e)););return e},qo=Wo,Go=/^\s+/;var Vo=function(t){return t?t.slice(0,qo(t)+1).replace(Go,""):t},Xo=Uo.Symbol,Ko=Xo,Zo=Object.prototype,Jo=Zo.hasOwnProperty,Qo=Zo.toString,ta=Ko?Ko.toStringTag:void 0;var ea=function(t){var e=Jo.call(t,ta),n=t[ta];try{t[ta]=void 0;var r=!0}catch(t){}var i=Qo.call(t);return r&&(e?t[ta]=n:delete t[ta]),i},na=Object.prototype.toString;var ra=ea,ia=function(t){return na.call(t)},oa=Xo?Xo.toStringTag:void 0;var aa=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":oa&&oa in Object(t)?ra(t):ia(t)};var sa=function(t){return null!=t&&"object"==typeof t},la=aa,ca=sa;var ua=function(t){return"symbol"==typeof t||ca(t)&&"[object Symbol]"==la(t)},ha=Co(ua),fa=Vo,da=Ro,pa=ua,ga=/^[-+]0x[0-9a-f]+$/i,ma=/^0b[01]+$/i,ya=/^0o[0-7]+$/i,va=parseInt;var ba=function(t){if("number"==typeof t)return t;if(pa(t))return NaN;if(da(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=da(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=fa(t);var n=ma.test(t);return n||ya.test(t)?va(t.slice(2),n?2:8):ga.test(t)?NaN:+t},xa=Ro,wa=Bo,_a=ba,ka=Math.max,Ma=Math.min;var Ta=function(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||h&&t-c>=o}function g(){var t=wa();if(p(t))return m(t);s=setTimeout(g,function(t){var n=e-(t-l);return h?Ma(n,o-(t-c)):n}(t))}function m(t){return s=void 0,f&&r?d(t):(r=i=void 0,a)}function y(){var t=wa(),n=p(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return function(t){return c=t,s=setTimeout(g,e),u?d(t):a}(l);if(h)return clearTimeout(s),s=setTimeout(g,e),d(l)}return void 0===s&&(s=setTimeout(g,e)),a}return e=_a(e)||0,xa(n)&&(u=!!n.leading,o=(h="maxWait"in n)?ka(_a(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},y.flush=function(){return void 0===s?a:m(wa())},y},Aa=Co(Ta);var Ea=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};var $a=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}},La=$a();var Oa=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Sa=aa,Na=sa;var za=function(t){return Na(t)&&"[object Arguments]"==Sa(t)},Ca=sa,ja=Object.prototype,Da=ja.hasOwnProperty,Ra=ja.propertyIsEnumerable,Pa=za(function(){return arguments}())?za:function(t){return Ca(t)&&Da.call(t,"callee")&&!Ra.call(t,"callee")},Ia=Pa,Fa=Array.isArray,Ua={exports:{}};var Ha=function(){return!1};!function(t,e){var n=Uo,r=Ha,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(Ua,Ua.exports);var Ba=Ua.exports,Ya=/^(?:0|[1-9]\d*)$/;var Wa=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ya.test(t))&&t>-1&&t%1==0&&t<e};var qa=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ga=aa,Va=qa,Xa=sa,Ka={};Ka["[object Float32Array]"]=Ka["[object Float64Array]"]=Ka["[object Int8Array]"]=Ka["[object Int16Array]"]=Ka["[object Int32Array]"]=Ka["[object Uint8Array]"]=Ka["[object Uint8ClampedArray]"]=Ka["[object Uint16Array]"]=Ka["[object Uint32Array]"]=!0,Ka["[object Arguments]"]=Ka["[object Array]"]=Ka["[object ArrayBuffer]"]=Ka["[object Boolean]"]=Ka["[object DataView]"]=Ka["[object Date]"]=Ka["[object Error]"]=Ka["[object Function]"]=Ka["[object Map]"]=Ka["[object Number]"]=Ka["[object Object]"]=Ka["[object RegExp]"]=Ka["[object Set]"]=Ka["[object String]"]=Ka["[object WeakMap]"]=!1;var Za=function(t){return Xa(t)&&Va(t.length)&&!!Ka[Ga(t)]};var Ja=function(t){return function(e){return t(e)}},Qa={exports:{}};!function(t,e){var n=Po,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Qa,Qa.exports);var ts=Qa.exports,es=Za,ns=Ja,rs=ts&&ts.isTypedArray,is=rs?ns(rs):es,os=Oa,as=Ia,ss=Fa,ls=Ba,cs=Wa,us=is,hs=Object.prototype.hasOwnProperty;var fs=function(t,e){var n=ss(t),r=!n&&as(t),i=!n&&!r&&ls(t),o=!n&&!r&&!i&&us(t),a=n||r||i||o,s=a?os(t.length,String):[],l=s.length;for(var c in t)!e&&!hs.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||cs(c,l))||s.push(c);return s},ds=Object.prototype;var ps=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ds)};var gs=function(t,e){return function(n){return t(e(n))}},ms=gs(Object.keys,Object),ys=ps,vs=ms,bs=Object.prototype.hasOwnProperty;var xs=function(t){if(!ys(t))return vs(t);var e=[];for(var n in Object(t))bs.call(t,n)&&"constructor"!=n&&e.push(n);return e},ws=aa,_s=Ro;var ks=function(t){if(!_s(t))return!1;var e=ws(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Ms=ks,Ts=qa;var As=function(t){return null!=t&&Ts(t.length)&&!Ms(t)},Es=fs,$s=xs,Ls=As;var Os=function(t){return Ls(t)?Es(t):$s(t)},Ss=La,Ns=Os;var zs=function(t,e){return t&&Ss(t,e,Ns)},Cs=As;var js=function(t,e){return function(n,r){if(null==n)return n;if(!Cs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(zs);var Ds=function(t){return t},Rs=Co(Ds),Ps=Ds;var Is=function(t){return"function"==typeof t?t:Ps},Fs=Ea,Us=js,Hs=Is,Bs=Fa;var Ys=Co((function(t,e){return(Bs(t)?Fs:Us)(t,Hs(e))}));var Ws=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},qs=Ia,Gs=Fa,Vs=Xo?Xo.isConcatSpreadable:void 0;var Xs=Ws,Ks=function(t){return Gs(t)||qs(t)||!!(Vs&&t&&t[Vs])};var Zs=function t(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Ks),o||(o=[]);++a<s;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):Xs(o,l):i||(o[o.length]=l)}return o},Js=Zs;var Qs=function(t){return(null==t?0:t.length)?Js(t,1):[]},tl=Co(Qs),el=aa,nl=sa;var rl=function(t){return nl(t)&&"[object Date]"==el(t)},il=Ja,ol=ts&&ts.isDate,al=Co(ol?il(ol):rl);var sl=function(){this.__data__=[],this.size=0};var ll=function(t,e){return t===e||t!=t&&e!=e},cl=ll;var ul=function(t,e){for(var n=t.length;n--;)if(cl(t[n][0],e))return n;return-1},hl=ul,fl=Array.prototype.splice;var dl=ul;var pl=ul;var gl=ul;var ml=sl,yl=function(t){var e=this.__data__,n=hl(e,t);return!(n<0)&&(n==e.length-1?e.pop():fl.call(e,n,1),--this.size,!0)},vl=function(t){var e=this.__data__,n=dl(e,t);return n<0?void 0:e[n][1]},bl=function(t){return pl(this.__data__,t)>-1},xl=function(t,e){var n=this.__data__,r=gl(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function wl(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wl.prototype.clear=ml,wl.prototype.delete=yl,wl.prototype.get=vl,wl.prototype.has=bl,wl.prototype.set=xl;var _l=wl,kl=_l;var Ml=function(){this.__data__=new kl,this.size=0};var Tl=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Al=function(t){return this.__data__.get(t)};var El,$l=function(t){return this.__data__.has(t)},Ll=Uo["__core-js_shared__"],Ol=(El=/[^.]+$/.exec(Ll&&Ll.keys&&Ll.keys.IE_PROTO||""))?"Symbol(src)_1."+El:"";var Sl=function(t){return!!Ol&&Ol in t},Nl=Function.prototype.toString;var zl=function(t){if(null!=t){try{return Nl.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Cl=ks,jl=Sl,Dl=Ro,Rl=zl,Pl=/^\[object .+?Constructor\]$/,Il=Function.prototype,Fl=Object.prototype,Ul=Il.toString,Hl=Fl.hasOwnProperty,Bl=RegExp("^"+Ul.call(Hl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Yl=function(t,e){return null==t?void 0:t[e]},Wl=function(t){return!(!Dl(t)||jl(t))&&(Cl(t)?Bl:Pl).test(Rl(t))},ql=Yl;var Gl=function(t,e){var n=ql(t,e);return Wl(n)?n:void 0},Vl=Gl(Uo,"Map"),Xl=Gl(Object,"create"),Kl=Xl;var Zl=function(){this.__data__=Kl?Kl(null):{},this.size=0};var Jl=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ql=Xl,tc=Object.prototype.hasOwnProperty;var ec=function(t){var e=this.__data__;if(Ql){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return tc.call(e,t)?e[t]:void 0},nc=Xl,rc=Object.prototype.hasOwnProperty;var ic=Xl;var oc=Zl,ac=Jl,sc=ec,lc=function(t){var e=this.__data__;return nc?void 0!==e[t]:rc.call(e,t)},cc=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ic&&void 0===e?"__lodash_hash_undefined__":e,this};function uc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uc.prototype.clear=oc,uc.prototype.delete=ac,uc.prototype.get=sc,uc.prototype.has=lc,uc.prototype.set=cc;var hc=uc,fc=_l,dc=Vl;var pc=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var gc=function(t,e){var n=t.__data__;return pc(e)?n["string"==typeof e?"string":"hash"]:n.map},mc=gc;var yc=gc;var vc=gc;var bc=gc;var xc=function(){this.size=0,this.__data__={hash:new hc,map:new(dc||fc),string:new hc}},wc=function(t){var e=mc(this,t).delete(t);return this.size-=e?1:0,e},_c=function(t){return yc(this,t).get(t)},kc=function(t){return vc(this,t).has(t)},Mc=function(t,e){var n=bc(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Tc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tc.prototype.clear=xc,Tc.prototype.delete=wc,Tc.prototype.get=_c,Tc.prototype.has=kc,Tc.prototype.set=Mc;var Ac=Tc,Ec=_l,$c=Vl,Lc=Ac;var Oc=_l,Sc=Ml,Nc=Tl,zc=Al,Cc=$l,jc=function(t,e){var n=this.__data__;if(n instanceof Ec){var r=n.__data__;if(!$c||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Lc(r)}return n.set(t,e),this.size=n.size,this};function Dc(t){var e=this.__data__=new Oc(t);this.size=e.size}Dc.prototype.clear=Sc,Dc.prototype.delete=Nc,Dc.prototype.get=zc,Dc.prototype.has=Cc,Dc.prototype.set=jc;var Rc=Dc;var Pc=Ac,Ic=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Fc=function(t){return this.__data__.has(t)};function Uc(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Pc;++e<n;)this.add(t[e])}Uc.prototype.add=Uc.prototype.push=Ic,Uc.prototype.has=Fc;var Hc=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var Bc=Uc,Yc=Hc,Wc=function(t,e){return t.has(e)};var qc=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,d=2&n?new Bc:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var p=t[h],g=e[h];if(r)var m=a?r(g,p,h,e,t,o):r(p,g,h,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!Yc(e,(function(t,e){if(!Wc(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==g&&!i(p,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f},Gc=Uo.Uint8Array;var Vc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Xc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Kc=Gc,Zc=ll,Jc=qc,Qc=Vc,tu=Xc,eu=Xo?Xo.prototype:void 0,nu=eu?eu.valueOf:void 0;var ru=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Kc(t),new Kc(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Zc(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Qc;case"[object Set]":var l=1&r;if(s||(s=tu),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var u=Jc(s(t),s(e),r,i,o,a);return a.delete(t),u;case"[object Symbol]":if(nu)return nu.call(t)==nu.call(e)}return!1},iu=Ws,ou=Fa;var au=function(t,e,n){var r=e(t);return ou(t)?r:iu(r,n(t))};var su=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};var lu=function(){return[]},cu=su,uu=lu,hu=Object.prototype.propertyIsEnumerable,fu=Object.getOwnPropertySymbols,du=fu?function(t){return null==t?[]:(t=Object(t),cu(fu(t),(function(e){return hu.call(t,e)})))}:uu,pu=du,gu=au,mu=pu,yu=Os;var vu=function(t){return gu(t,yu,mu)},bu=vu,xu=Object.prototype.hasOwnProperty;var wu=function(t,e,n,r,i,o){var a=1&n,s=bu(t),l=s.length;if(l!=bu(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:xu.call(e,u)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++c<l;){var g=t[u=s[c]],m=e[u];if(r)var y=a?r(m,g,u,e,t,o):r(g,m,u,t,e,o);if(!(void 0===y?g===m||i(g,m,n,r,o):y)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d},_u=Gl(Uo,"DataView"),ku=Vl,Mu=Gl(Uo,"Promise"),Tu=Gl(Uo,"Set"),Au=Gl(Uo,"WeakMap"),Eu=aa,$u=zl,Lu="[object Map]",Ou="[object Promise]",Su="[object Set]",Nu="[object WeakMap]",zu="[object DataView]",Cu=$u(_u),ju=$u(ku),Du=$u(Mu),Ru=$u(Tu),Pu=$u(Au),Iu=Eu;(_u&&Iu(new _u(new ArrayBuffer(1)))!=zu||ku&&Iu(new ku)!=Lu||Mu&&Iu(Mu.resolve())!=Ou||Tu&&Iu(new Tu)!=Su||Au&&Iu(new Au)!=Nu)&&(Iu=function(t){var e=Eu(t),n="[object Object]"==e?t.constructor:void 0,r=n?$u(n):"";if(r)switch(r){case Cu:return zu;case ju:return Lu;case Du:return Ou;case Ru:return Su;case Pu:return Nu}return e});var Fu=Iu,Uu=Rc,Hu=qc,Bu=ru,Yu=wu,Wu=Fu,qu=Fa,Gu=Ba,Vu=is,Xu="[object Arguments]",Ku="[object Array]",Zu="[object Object]",Ju=Object.prototype.hasOwnProperty;var Qu=function(t,e,n,r,i,o){var a=qu(t),s=qu(e),l=a?Ku:Wu(t),c=s?Ku:Wu(e),u=(l=l==Xu?Zu:l)==Zu,h=(c=c==Xu?Zu:c)==Zu,f=l==c;if(f&&Gu(t)){if(!Gu(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new Uu),a||Vu(t)?Hu(t,e,n,r,i,o):Bu(t,e,l,n,r,i,o);if(!(1&n)){var d=u&&Ju.call(t,"__wrapped__"),p=h&&Ju.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,m=p?e.value():e;return o||(o=new Uu),i(g,m,n,r,o)}}return!!f&&(o||(o=new Uu),Yu(t,e,n,r,i,o))},th=Qu,eh=sa;var nh=function t(e,n,r,i,o){return e===n||(null==e||null==n||!eh(e)&&!eh(n)?e!=e&&n!=n:th(e,n,r,i,t,o))},rh=nh;var ih=Co((function(t,e){return rh(t,e)})),oh=aa,ah=sa;var sh=Co((function(t){return"number"==typeof t||ah(t)&&"[object Number]"==oh(t)}));var lh=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},ch=Co(lh),uh=ba,hh=1/0;var fh=function(t){return t?(t=uh(t))===hh||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},dh=fh;var ph=Oa,gh=Is,mh=function(t){var e=dh(t),n=e%1;return e==e?n?e-n:e:0},yh=4294967295,vh=Math.min;var bh=Co((function(t,e){if((t=mh(t))<1||t>9007199254740991)return[];var n=yh,r=vh(t,yh);e=gh(e),t-=yh;for(var i=ph(r,e);++n<t;)e(n);return i}));function xh(t,e,n,r){const i=it(t),[o,a]=n?[Math.min(i.l,r[0]),Math.max(i.l,r[1])]:r;let s=1===e?[i.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(Re(o,a),e);if(n&&!s.includes(i.l)){const t=s.reduce(((t,e)=>Math.abs(t)>Math.abs(i.l-e)?i.l-e:t),100);s=s.map((e=>e+t))}return s=s.map((t=>it(t,i.a,i.b))),s.map((t=>t.hex()))}function wh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("cant create getColor function without theme"),{selectedColor:e=0,customColors:n={},keys:r=[],permute:i,includeBaseColor:o=!0,lightnessRange:a=[30,90],positiveColor:s=!1,negativeColor:l=!1,negativeColorValue:c=null,neutralColor:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const h=t.colors.palette,f=Eh(e,h),d="number"==typeof e?e:h.indexOf(e);c=Eh(c,h);const p=r.length-Object.keys(n).filter((t=>""!==n[t].toString()&&r.includes(t))).length,g=[];if(n&&Object.keys(n).length){const t={};Object.keys(n).forEach((e=>{String(n[e]).length&&(t[e]=isNaN(n[e])?n[e]:h[n[e]%h.length])})),Object.keys(t).length&&g.push(_h(t))}var m;(s||l||u)&&g.push(kh(s?t.colors.positive:f,l?null!==(m=c)&&void 0!==m?m:t.colors.negative:f,u?t.colors.neutral:s?t.colors.positive:f));const{mode:y}=t.colors;if(y&&p>0&&(y.rotateLimit>=p&&d>-1?g.push(Mh(h,d)):y.shades&&y.shades[f]&&r.length>1&&g.push(Th(y.shades[f],p))),p>0){i=void 0===i?p>4:i,a=p<=3?[30,60]:a;let t=xh(f,p,o,a);i&&(t=function(t){t.reverse();const e=t.length;if(e<3)return t.slice(0);let n=0,r=-2;const i=[],o={},a=Math.ceil(e/2.5);do{n%=e,!o[n]&&(e<5||Math.abs(r-n)>1)?(i.push(t[n]),o[n]=!0,r=n,n+=a):n+=1}while(i.length<e);return i}(t)),g.push(Ah(t))}return(t,e,n)=>{let r=null;return g.find((i=>(r=i({key:t,i:e,value:n}),null!=r))),null==r&&(r=f),r}}const _h=t=>e=>({}.hasOwnProperty.call(t,e.key)?t[String(e.key)]:null),kh=(t,e,n)=>r=>r.value>0?t:r.value<0?e:n,Mh=(t,e)=>n=>t[(Math.max(0,e)+n.i)%t.length],Th=(t,e)=>function(n){if("string"!=typeof t[0]){t.sort((function(t,e){return t.length-e.length}));let r=t.length-1;return t.forEach((function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)})),t[r][n.i%t[r].length]}return t[n.i%t.length]},Ah=t=>{let e=0;const n=[];return r=>n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null},Eh=(t,e)=>null===t?e[0]:isNaN(t)?t:e[t%e.length];function $h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Lh,Oh,Sh,Nh,zh,Ch,jh,Dh,Rh,Ph,Ih,Fh,Uh,Hh,Bh,Yh,Wh,qh,Gh={exports:{}};(function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t){return null==t?"":t}function u(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function y(){return m("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}class k{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=g(e.nodeName):this.e=p(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)h(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(f)}}let M;function T(t){M=t}function A(){const t=function(){if(!M)throw new Error("Function called outside component initialization");return M}();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,r,e),i}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const $=[],L=[];let O=[];const S=[],N=Promise.resolve();let z=!1;function C(){z||(z=!0,N.then(I))}function j(){return C(),N}function D(t){O.push(t)}const R=new Set;let P=0;function I(){if(0!==P)return;const t=M;do{try{for(;P<$.length;){const t=$[P];P++,T(t),F(t.$$)}}catch(t){throw $.length=0,P=0,t}for(T(null),$.length=0,P=0;L.length;)L.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];R.has(e)||(R.add(e),e())}O.length=0}while($.length);for(;S.length;)S.pop()();z=!1,R.clear(),T(t)}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const U=new Set;let H;function B(){H={r:0,c:[],p:H}}function Y(){H.r||o(H.c),H=H.p}function W(t,e){t&&t.i&&(U.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),H.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function G(t){t&&t.c()}function V(t,e,n,i){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),i||D((()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(D)}function X(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];O.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),O=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,n,r,a,s,l,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const h=M;T(t);const d=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let p=!1;if(d.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),p&&function(t,e){-1===t.$$.dirty[0]&&($.push(t),C(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();n.intro&&W(t.$$.fragment),V(t,n.target,n.anchor,n.customElement),I()}T(h)}class Z{$destroy(){X(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t){let e,n,r=t[8](t[2])+"",i=t[3]&&Q(t);return{c(){e=p("div"),n=p("span"),i&&i.c(),b(e,"class","legend-title label"),b(e,"aria-hidden","true")},m(t,o){h(t,e,o),u(e,n),n.innerHTML=r,i&&i.m(e,null)},p(t,o){260&o&&r!==(r=t[8](t[2])+"")&&(n.innerHTML=r),t[3]?i?i.p(t,o):(i=Q(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&f(e),i&&i.d()}}}function Q(t){let e,n,r=t[8](t[2])+"";return{c(){e=p("div"),n=p("span"),w(n,"color",t[3].color),w(n,"-webkit-text-stroke",t[3].textStroke),b(e,"class","legend-title label buffer"),b(e,"aria-hidden","true")},m(t,i){h(t,e,i),u(e,n),n.innerHTML=r},p(t,e){260&e&&r!==(r=t[8](t[2])+"")&&(n.innerHTML=r),8&e&&w(n,"color",t[3].color),8&e&&w(n,"-webkit-text-stroke",t[3].textStroke)},d(t){t&&f(e)}}}function tt(t){let e,n,r,i,o,a=t[2]&&J(t);const s=t[10].default,c=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(s,t,t[9]);return{c(){e=p("div"),a&&a.c(),n=y(),c&&c.c(),b(e,"class",t[0]),b(e,"role","graphics-legend"),b(e,"aria-label",t[1]),w(e,"width",t[4]),w(e,"height",t[5]),w(e,"max-width",t[6]),w(e,"max-height",t[7])},m(s,l){h(s,e,l),a&&a.m(e,null),u(e,n),c&&c.m(e,null),r=!0,i||(o=v(e,"mouseleave",t[11]),i=!0)},p(t,i){let[o]=i;t[2]?a?a.p(t,o):(a=J(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),c&&c.p&&(!r||512&o)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(c,s,t,t[9],r?function(t,e,n,r){return t[2],e.dirty}(s,t[9]):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[9])),(!r||1&o)&&b(e,"class",t[0]),(!r||2&o)&&b(e,"aria-label",t[1]),16&o&&w(e,"width",t[4]),32&o&&w(e,"height",t[5]),64&o&&w(e,"max-width",t[6]),128&o&&w(e,"max-height",t[7])},i(t){r||(W(c,t),r=!0)},o(t){q(c,t),r=!1},d(t){t&&f(e),a&&a.d(),c&&c.d(t),i=!1,o()}}}function et(t,e,n){let{$$slots:r={},$$scope:i}=e,{className:o=""}=e,{ariaLabel:a=""}=e,{title:s=""}=e,{buffer:l}=e,{width:c="auto"}=e,{height:u="auto"}=e,{maxWidth:h=null}=e,{maxHeight:f=null}=e,{purifyHtml:d}=e;return t.$$set=t=>{"className"in t&&n(0,o=t.className),"ariaLabel"in t&&n(1,a=t.ariaLabel),"title"in t&&n(2,s=t.title),"buffer"in t&&n(3,l=t.buffer),"width"in t&&n(4,c=t.width),"height"in t&&n(5,u=t.height),"maxWidth"in t&&n(6,h=t.maxWidth),"maxHeight"in t&&n(7,f=t.maxHeight),"purifyHtml"in t&&n(8,d=t.purifyHtml),"$$scope"in t&&n(9,i=t.$$scope)},[o,a,s,l,c,u,h,f,d,i,r,function(e){E.call(this,t,e)}]}class nt extends Z{constructor(t){super(),K(this,t,et,tt,s,{className:0,ariaLabel:1,title:2,buffer:3,width:4,height:5,maxWidth:6,maxHeight:7,purifyHtml:8})}}function rt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}var it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==zo?zo:"undefined"!=typeof self?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var at,st={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function lt(){return at||(at=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),h=w(Array.prototype.pop),f=w(Array.prototype.push),d=w(String.prototype.toLowerCase),p=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function _(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function k(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function M(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}return function(t){return console.warn("fallback value for",t),null}}const T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),E=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S=o(["#text"]),N=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),D=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),R=a(/<%[\w\W]*|[\w\W]*%>/gm),P=a(/\${[\w\W]*}/gm),I=a(/^data-[\-\w.\u00B7-\uFFFF]/),F=a(/^aria-[\-\w]+$/),U=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=a(/^(?:\w+script|data):/i),B=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=a(/^html$/i);var W=Object.freeze({__proto__:null,MUSTACHE_EXPR:D,ERB_EXPR:R,TMPLIT_EXPR:P,DATA_ATTR:I,ARIA_ATTR:F,IS_ALLOWED_URI:U,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:B,DOCTYPE_NAME:Y}),q=function e(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const r=t=>e(t);if(r.version="3.0.6",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;let{document:i}=n;const a=i,l=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:w,Node:D,Element:R,NodeFilter:P,NamedNodeMap:I=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:F,DOMParser:H,trustedTypes:B}=n,q=R.prototype,G=M(q,"cloneNode"),V=M(q,"nextSibling"),X=M(q,"childNodes"),K=M(q,"parentNode");if("function"==typeof w){const t=i.createElement("template");t.content&&t.content.ownerDocument&&(i=t.content.ownerDocument)}let Z,J="";const{implementation:Q,createNodeIterator:tt,createDocumentFragment:et,getElementsByTagName:nt}=i,{importNode:rt}=a;let it={};r.isSupported="function"==typeof t&&"function"==typeof K&&Q&&void 0!==Q.createHTMLDocument;const{MUSTACHE_EXPR:ot,ERB_EXPR:at,TMPLIT_EXPR:st,DATA_ATTR:lt,ARIA_ATTR:ct,IS_SCRIPT_OR_DATA:ut,ATTR_WHITESPACE:ht}=W;let{IS_ALLOWED_URI:ft}=W,dt=null;const pt=_({},[...T,...A,...E,...L,...S]);let gt=null;const mt=_({},[...N,...z,...C,...j]);let yt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vt=null,bt=null,xt=!0,wt=!0,_t=!1,kt=!0,Mt=!1,Tt=!1,At=!1,Et=!1,$t=!1,Lt=!1,Ot=!1,St=!0,Nt=!1,zt=!0,Ct=!1,jt={},Dt=null;const Rt=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pt=null;const It=_({},["audio","video","img","source","image","track"]);let Ft=null;const Ut=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ht="http://www.w3.org/1998/Math/MathML",Bt="http://www.w3.org/2000/svg",Yt="http://www.w3.org/1999/xhtml";let Wt=Yt,qt=!1,Gt=null;const Vt=_({},[Ht,Bt,Yt],p);let Xt=null;const Kt=["application/xhtml+xml","text/html"];let Zt=null,Jt=null;const Qt=i.createElement("form"),te=function(t){return t instanceof RegExp||t instanceof Function},ee=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Jt||Jt!==t){if(t&&"object"==typeof t||(t={}),t=k(t),Xt=Xt=-1===Kt.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,Zt="application/xhtml+xml"===Xt?p:d,dt="ALLOWED_TAGS"in t?_({},t.ALLOWED_TAGS,Zt):pt,gt="ALLOWED_ATTR"in t?_({},t.ALLOWED_ATTR,Zt):mt,Gt="ALLOWED_NAMESPACES"in t?_({},t.ALLOWED_NAMESPACES,p):Vt,Ft="ADD_URI_SAFE_ATTR"in t?_(k(Ut),t.ADD_URI_SAFE_ATTR,Zt):Ut,Pt="ADD_DATA_URI_TAGS"in t?_(k(It),t.ADD_DATA_URI_TAGS,Zt):It,Dt="FORBID_CONTENTS"in t?_({},t.FORBID_CONTENTS,Zt):Rt,vt="FORBID_TAGS"in t?_({},t.FORBID_TAGS,Zt):{},bt="FORBID_ATTR"in t?_({},t.FORBID_ATTR,Zt):{},jt="USE_PROFILES"in t&&t.USE_PROFILES,xt=!1!==t.ALLOW_ARIA_ATTR,wt=!1!==t.ALLOW_DATA_ATTR,_t=t.ALLOW_UNKNOWN_PROTOCOLS||!1,kt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Mt=t.SAFE_FOR_TEMPLATES||!1,Tt=t.WHOLE_DOCUMENT||!1,$t=t.RETURN_DOM||!1,Lt=t.RETURN_DOM_FRAGMENT||!1,Ot=t.RETURN_TRUSTED_TYPE||!1,Et=t.FORCE_BODY||!1,St=!1!==t.SANITIZE_DOM,Nt=t.SANITIZE_NAMED_PROPS||!1,zt=!1!==t.KEEP_CONTENT,Ct=t.IN_PLACE||!1,ft=t.ALLOWED_URI_REGEXP||U,Wt=t.NAMESPACE||Yt,yt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&te(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(yt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Mt&&(wt=!1),Lt&&($t=!0),jt&&(dt=_({},[...S]),gt=[],!0===jt.html&&(_(dt,T),_(gt,N)),!0===jt.svg&&(_(dt,A),_(gt,z),_(gt,j)),!0===jt.svgFilters&&(_(dt,E),_(gt,z),_(gt,j)),!0===jt.mathMl&&(_(dt,L),_(gt,C),_(gt,j))),t.ADD_TAGS&&(dt===pt&&(dt=k(dt)),_(dt,t.ADD_TAGS,Zt)),t.ADD_ATTR&&(gt===mt&&(gt=k(gt)),_(gt,t.ADD_ATTR,Zt)),t.ADD_URI_SAFE_ATTR&&_(Ft,t.ADD_URI_SAFE_ATTR,Zt),t.FORBID_CONTENTS&&(Dt===Rt&&(Dt=k(Dt)),_(Dt,t.FORBID_CONTENTS,Zt)),zt&&(dt["#text"]=!0),Tt&&_(dt,["html","head","body"]),dt.table&&(_(dt,["tbody"]),delete vt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=t.TRUSTED_TYPES_POLICY,J=Z.createHTML("")}else void 0===Z&&(Z=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(B,l)),null!==Z&&"string"==typeof J&&(J=Z.createHTML(""));o&&o(t),Jt=t}},ne=_({},["mi","mo","mn","ms","mtext"]),re=_({},["foreignobject","desc","title","annotation-xml"]),ie=_({},["title","style","font","a","script"]),oe=_({},A);_(oe,E),_(oe,$);const ae=_({},L);_(ae,O);const se=function(t){f(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},le=function(t,e){try{f(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!gt[t])if($t||Lt)try{se(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ce=function(t){let e=null,n=null;if(Et)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Xt&&Wt===Yt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=Z?Z.createHTML(t):t;if(Wt===Yt)try{e=(new H).parseFromString(r,Xt)}catch(t){}if(!e||!e.documentElement){e=Q.createDocument(Wt,"template",null);try{e.documentElement.innerHTML=qt?J:r}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Wt===Yt?nt.call(e,Tt?"html":"body")[0]:Tt?e.documentElement:o},ue=function(t){return tt.call(t.ownerDocument||t,t,P.SHOW_ELEMENT|P.SHOW_COMMENT|P.SHOW_TEXT,null)},he=function(t){return"function"==typeof D&&t instanceof D},fe=function(t,e,n){it[t]&&u(it[t],(t=>{t.call(r,e,n,Jt)}))},de=function(t){let e=null;if(fe("beforeSanitizeElements",t,null),function(t){return t instanceof F&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof I)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)}(t))return se(t),!0;const n=Zt(t.nodeName);if(fe("uponSanitizeElement",t,{tagName:n,allowedTags:dt}),t.hasChildNodes()&&!he(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return se(t),!0;if(!dt[n]||vt[n]){if(!vt[n]&&ge(n)){if(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n))return!1;if(yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))return!1}if(zt&&!Dt[n]){const e=K(t)||t.parentNode,n=X(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(G(n[r],!0),V(t))}return se(t),!0}return t instanceof R&&!function(t){let e=K(t);e&&e.tagName||(e={namespaceURI:Wt,tagName:"template"});const n=d(t.tagName),r=d(e.tagName);return!!Gt[t.namespaceURI]&&(t.namespaceURI===Bt?e.namespaceURI===Yt?"svg"===n:e.namespaceURI===Ht?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(oe[n]):t.namespaceURI===Ht?e.namespaceURI===Yt?"math"===n:e.namespaceURI===Bt?"math"===n&&re[r]:Boolean(ae[n]):t.namespaceURI===Yt?!(e.namespaceURI===Bt&&!re[r])&&!(e.namespaceURI===Ht&&!ne[r])&&!ae[n]&&(ie[n]||!oe[n]):!("application/xhtml+xml"!==Xt||!Gt[t.namespaceURI]))}(t)?(se(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(Mt&&3===t.nodeType&&(e=t.textContent,u([ot,at,st],(t=>{e=m(e,t," ")})),t.textContent!==e&&(f(r.removed,{element:t.cloneNode()}),t.textContent=e)),fe("afterSanitizeElements",t,null),!1):(se(t),!0)},pe=function(t,e,n){if(St&&("id"===e||"name"===e)&&(n in i||n in Qt))return!1;if(wt&&!bt[e]&&b(lt,e));else if(xt&&b(ct,e));else if(!gt[e]||bt[e]){if(!(ge(t)&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,t)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(t))&&(yt.attributeNameCheck instanceof RegExp&&b(yt.attributeNameCheck,e)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(e))||"is"===e&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&b(yt.tagNameCheck,n)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(n))))return!1}else if(Ft[e]);else if(b(ft,m(n,ht,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Pt[t])if(_t&&!b(ut,m(n,ht,"")));else if(n)return!1;return!0},ge=function(t){return t.indexOf("-")>0},me=function(t){fe("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:gt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=Zt(a);let f="value"===a?l:v(l);if(n.attrName=c,n.attrValue=f,n.keepAttr=!0,n.forceKeepAttr=void 0,fe("uponSanitizeAttribute",t,n),f=n.attrValue,n.forceKeepAttr)continue;if(le(a,t),!n.keepAttr)continue;if(!kt&&b(/\/>/i,f)){le(a,t);continue}Mt&&u([ot,at,st],(t=>{f=m(f,t," ")}));const d=Zt(t.nodeName);if(pe(d,c,f)){if(!Nt||"id"!==c&&"name"!==c||(le(a,t),f="user-content-"+f),Z&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(s);else switch(B.getAttributeType(d,c)){case"TrustedHTML":f=Z.createHTML(f);break;case"TrustedScriptURL":f=Z.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(r.removed)}catch(t){}}}fe("afterSanitizeAttributes",t,null)},ye=function t(e){let n=null;const r=ue(e);for(fe("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)fe("uponSanitizeShadowNode",n,null),de(n)||(n.content instanceof c&&t(n.content),me(n));fe("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,s=null;if(qt=!t,qt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!he(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!r.isSupported)return t;if(At||ee(e),r.removed=[],"string"==typeof t&&(Ct=!1),Ct){if(t.nodeName){const e=Zt(t.nodeName);if(!dt[e]||vt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof D)n=ce("\x3c!----\x3e"),i=n.ownerDocument.importNode(t,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!$t&&!Mt&&!Tt&&-1===t.indexOf("<"))return Z&&Ot?Z.createHTML(t):t;if(n=ce(t),!n)return $t?null:Ot?J:""}n&&Et&&se(n.firstChild);const l=ue(Ct?t:n);for(;o=l.nextNode();)de(o)||(o.content instanceof c&&ye(o.content),me(o));if(Ct)return t;if($t){if(Lt)for(s=et.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return(gt.shadowroot||gt.shadowrootmode)&&(s=rt.call(a,s,!0)),s}let h=Tt?n.outerHTML:n.innerHTML;return Tt&&dt["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&b(Y,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Mt&&u([ot,at,st],(t=>{h=m(h,t," ")})),Z&&Ot?Z.createHTML(h):h},r.setConfig=function(){ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),At=!0},r.clearConfig=function(){Jt=null,At=!1},r.isValidAttribute=function(t,e,n){Jt||ee({});const r=Zt(t),i=Zt(e);return pe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(it[t]=it[t]||[],f(it[t],e))},r.removeHook=function(t){if(it[t])return h(it[t])},r.removeHooks=function(t){it[t]&&(it[t]=[])},r.removeAllHooks=function(){it={}},r}();return q}()}(st)),st.exports}window.DOMPurify||(window.DOMPurify=lt().default||lt());var ct,ut=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ht="object"==typeof it&&it&&it.Object===Object&&it,ft="object"==typeof self&&self&&self.Object===Object&&self,dt=ht||ft||Function("return this")(),pt=dt.Symbol,gt=pt,mt=Object.prototype,yt=mt.hasOwnProperty,vt=mt.toString,bt=gt?gt.toStringTag:void 0,xt=Object.prototype.toString,wt=function(t){var e=yt.call(t,bt),n=t[bt];try{t[bt]=void 0;var r=!0}catch(t){}var i=vt.call(t);return r&&(e?t[bt]=n:delete t[bt]),i},_t=pt?pt.toStringTag:void 0,kt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_t&&_t in Object(t)?wt(t):function(t){return xt.call(t)}(t)},Mt=ut,Tt=dt["__core-js_shared__"],At=(ct=/[^.]+$/.exec(Tt&&Tt.keys&&Tt.keys.IE_PROTO||""))?"Symbol(src)_1."+ct:"",Et=Function.prototype.toString,$t=function(t){if(!Mt(t))return!1;var e=kt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Lt=function(t){return!!At&&At in t},Ot=ut,St=/^\[object .+?Constructor\]$/,Nt=Function.prototype,zt=Object.prototype,Ct=Nt.toString,jt=zt.hasOwnProperty,Dt=RegExp("^"+Ct.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=function(t){return!(!Ot(t)||Lt(t))&&($t(t)?Dt:St).test(function(t){if(null!=t){try{return Et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))},Pt=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0},It=Pt;!function(){try{var t=It(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Ft=Pt(Object,"create"),Ut=Ft,Ht=Ft,Bt=Object.prototype.hasOwnProperty,Yt=Ft,Wt=Object.prototype.hasOwnProperty,qt=Ft,Gt=function(){this.__data__=Ut?Ut(null):{},this.size=0},Vt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Xt=function(t){var e=this.__data__;if(Ht){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Bt.call(e,t)?e[t]:void 0};function Kt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kt.prototype.clear=Gt,Kt.prototype.delete=Vt,Kt.prototype.get=Xt,Kt.prototype.has=function(t){var e=this.__data__;return Yt?void 0!==e[t]:Wt.call(e,t)},Kt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qt&&void 0===e?"__lodash_hash_undefined__":e,this};var Zt=Kt,Jt=function(t,e){return t===e||t!=t&&e!=e},Qt=function(t,e){for(var n=t.length;n--;)if(Jt(t[n][0],e))return n;return-1},te=Qt,ee=Array.prototype.splice,ne=Qt,re=Qt,ie=Qt,oe=function(){this.__data__=[],this.size=0};function ae(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ae.prototype.clear=oe,ae.prototype.delete=function(t){var e=this.__data__,n=te(e,t);return!(n<0||(n==e.length-1?e.pop():ee.call(e,n,1),--this.size,0))},ae.prototype.get=function(t){var e=this.__data__,n=ne(e,t);return n<0?void 0:e[n][1]},ae.prototype.has=function(t){return re(this.__data__,t)>-1},ae.prototype.set=function(t,e){var n=this.__data__,r=ie(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var se=ae,le=Pt(dt,"Map"),ce=Zt,ue=se,he=le,fe=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map},de=fe,pe=fe,ge=fe,me=fe;function ye(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(he||ue),string:new ce}},ye.prototype.delete=function(t){var e=de(this,t).delete(t);return this.size-=e?1:0,e},ye.prototype.get=function(t){return pe(this,t).get(t)},ye.prototype.has=function(t){return ge(this,t).has(t)},ye.prototype.set=function(t,e){var n=me(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var ve=ye;function be(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(be.Cache||ve),n}be.Cache=ve;var xe=be,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g;!function(t){var e=xe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(we,(function(t,n,r,i){e.push(r?i.replace(_e,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache}();var ke=pt?pt.prototype:void 0;ke&&ke.toString;var Me="object"==typeof it&&it&&it.Object===Object&&it,Te=Me,Ae="object"==typeof self&&self&&self.Object===Object&&self,Ee=Te||Ae||Function("return this")(),$e=Ee.Symbol,Le=$e,Oe=Object.prototype,Se=Oe.hasOwnProperty,Ne=Oe.toString,ze=Le?Le.toStringTag:void 0,Ce=Object.prototype.toString,je=function(t){var e=Se.call(t,ze),n=t[ze];try{t[ze]=void 0;var r=!0}catch(t){}var i=Ne.call(t);return r&&(e?t[ze]=n:delete t[ze]),i},De=$e?$e.toStringTag:void 0,Re=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":De&&De in Object(t)?je(t):function(t){return Ce.call(t)}(t)},Pe=function(t){return null!=t&&"object"==typeof t},Ie=Re,Fe=Pe,Ue=function(t){return Fe(t)&&"[object Arguments]"==Ie(t)},He=Pe,Be=Object.prototype,Ye=Be.hasOwnProperty,We=Be.propertyIsEnumerable,qe=Ue(function(){return arguments}())?Ue:function(t){return He(t)&&Ye.call(t,"callee")&&!We.call(t,"callee")},Ge=qe,Ve=Array.isArray,Xe={exports:{}},Ke=function(){return!1};!function(t,e){var n=Ee,r=Ke,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(Xe,Xe.exports);var Ze=/^(?:0|[1-9]\d*)$/,Je={exports:{}};!function(t,e){var n=Me,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(Je,Je.exports);var Qe=Je.exports;Qe&&Qe.isTypedArray;var tn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},en=Re,nn=tn,rn=function(t,e){return t===e||t!=t&&e!=e},on=function(t,e){for(var n=t.length;n--;)if(rn(t[n][0],e))return n;return-1},an=on,sn=Array.prototype.splice,ln=on,cn=on,un=on,hn=function(){this.__data__=[],this.size=0};function fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fn.prototype.clear=hn,fn.prototype.delete=function(t){var e=this.__data__,n=an(e,t);return!(n<0||(n==e.length-1?e.pop():sn.call(e,n,1),--this.size,0))},fn.prototype.get=function(t){var e=this.__data__,n=ln(e,t);return n<0?void 0:e[n][1]},fn.prototype.has=function(t){return cn(this.__data__,t)>-1},fn.prototype.set=function(t,e){var n=this.__data__,r=un(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var dn=fn,pn=Ee["__core-js_shared__"],gn=function(){var t=/[^.]+$/.exec(pn&&pn.keys&&pn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mn=Function.prototype.toString,yn=function(t){if(null!=t){try{return mn.call(t)}catch(t){}try{return t+""}catch(t){}}return""},vn=function(t){if(!nn(t))return!1;var e=en(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},bn=function(t){return!!gn&&gn in t},xn=tn,wn=yn,_n=/^\[object .+?Constructor\]$/,kn=Function.prototype,Mn=Object.prototype,Tn=kn.toString,An=Mn.hasOwnProperty,En=RegExp("^"+Tn.call(An).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$n=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!xn(t)||bn(t))&&(vn(t)?En:_n).test(wn(t))}(n)?n:void 0},Ln=$n(Ee,"Map"),On=$n(Object,"create"),Sn=On,Nn=On,zn=Object.prototype.hasOwnProperty,Cn=On,jn=Object.prototype.hasOwnProperty,Dn=On,Rn=function(){this.__data__=Sn?Sn(null):{},this.size=0},Pn=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},In=function(t){var e=this.__data__;if(Nn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return zn.call(e,t)?e[t]:void 0};function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fn.prototype.clear=Rn,Fn.prototype.delete=Pn,Fn.prototype.get=In,Fn.prototype.has=function(t){var e=this.__data__;return Cn?void 0!==e[t]:jn.call(e,t)},Fn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dn&&void 0===e?"__lodash_hash_undefined__":e,this};var Un=Fn,Hn=dn,Bn=Ln,Yn=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map},Wn=Yn,qn=Yn,Gn=Yn,Vn=Yn;function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Bn||Hn),string:new Un}},Xn.prototype.delete=function(t){var e=Wn(this,t).delete(t);return this.size-=e?1:0,e},Xn.prototype.get=function(t){return qn(this,t).get(t)},Xn.prototype.has=function(t){return Gn(this,t).has(t)},Xn.prototype.set=function(t,e){var n=Vn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Kn=Xn;Ee.Uint8Array;var Zn=$e?$e.prototype:void 0;Zn&&Zn.valueOf;var Jn=$n(Ee,"DataView"),Qn=Ln,tr=$n(Ee,"Promise"),er=$n(Ee,"Set"),nr=$n(Ee,"WeakMap"),rr=Re,ir=yn,or="[object Map]",ar="[object Promise]",sr="[object Set]",lr="[object WeakMap]",cr="[object DataView]",ur=ir(Jn),hr=ir(Qn),fr=ir(tr),dr=ir(er),pr=ir(nr),gr=rr;(Jn&&gr(new Jn(new ArrayBuffer(1)))!=cr||Qn&&gr(new Qn)!=or||tr&&gr(tr.resolve())!=ar||er&&gr(new er)!=sr||nr&&gr(new nr)!=lr)&&(gr=function(t){var e=rr(t),n="[object Object]"==e?t.constructor:void 0,r=n?ir(n):"";if(r)switch(r){case ur:return cr;case hr:return or;case fr:return ar;case dr:return sr;case pr:return lr}return e});var mr=Re,yr=Pe,vr=function(t){return"symbol"==typeof t||yr(t)&&"[object Symbol]"==mr(t)},br=Ve,xr=vr,wr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_r=/^\w*$/,kr=Kn;function Mr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Mr.Cache||kr),n}Mr.Cache=kr;var Tr=Mr,Ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/\\(\\)?/g,$r=function(t){var e=Tr((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ar,(function(t,n,r,i){e.push(r?i.replace(Er,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),Lr=Ve,Or=vr,Sr=$e?$e.prototype:void 0,Nr=Sr?Sr.toString:void 0,zr=function t(e){if("string"==typeof e)return e;if(Lr(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,t)+"";if(Or(e))return Nr?Nr.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Cr=Ve,jr=function(t,e){if(br(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!xr(t))||_r.test(t)||!wr.test(t)||null!=e&&t in Object(e)},Dr=$r,Rr=vr,Pr=function(t,e){return Cr(t)?t:jr(t,e)?[t]:Dr(function(t){return null==t?"":zr(t)}(t))},Ir=Ge,Fr=Ve,Ur=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ze.test(t))&&t>-1&&t%1==0&&t<e},Hr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Br=function(t){if("string"==typeof t||Rr(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Yr=ot((function(t){return t})),Wr=Object.prototype.hasOwnProperty,qr=function(t,e){return null!=t&&Wr.call(t,e)},Gr=function(t,e,n){for(var r=-1,i=(e=Pr(e,t)).length,o=!1;++r<i;){var a=Br(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Hr(i)&&Ur(a,i)&&(Fr(t)||Ir(t))},Vr=ot((function(t,e){return null!=t&&Gr(t,e,qr)}));function Xr(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var Kr=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Zr(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Zr(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Kr[0];for(var c=1;c<Kr.length;++c)n+=Kr[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var Jr=1/3,Qr=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Xr(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Zr(t+1)},gamma:Zr,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,Jr):Math.pow(t,Jr)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),ti="INUMBER",ei="IOP1",ni="IOP2",ri="IOP3",ii="IVAR",oi="IVARNAME",ai="IFUNCALL",si="IFUNDEF",li="IEXPR",ci="IEXPREVAL",ui="IMEMBER",hi="IENDSTATEMENT",fi="IARRAY";function di(t,e){this.type=t,this.value=null!=e?e:0}function pi(t){return new di(ei,t)}function gi(t){return new di(ni,t)}function mi(t,e,n){var r,i,o,a,s,l,c=[];if(vi(t))return bi(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],d=f.type;if(d===ti||d===oi)c.push(f.value);else if(d===ni)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!mi(i,e,n)):"or"===f.value?c.push(!!r||!!mi(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,mi(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(bi(r,n),bi(i,n))));else if(d===ri)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(mi(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(bi(r,n),bi(i,n),bi(o,n))));else if(d===ii){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var p=n[f.value];if(void 0===p)throw new Error("undefined variable: "+f.value);c.push(p)}}else if(d===ei)r=c.pop(),a=e.unaryOps[f.value],c.push(a(bi(r,n)));else if(d===ai){for(l=f.value,s=[];l-- >0;)s.unshift(bi(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(d===si)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return mi(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(d===li)c.push(yi(f,e));else if(d===ci)c.push(f);else if(d===ui)r=c.pop(),c.push(r[f.value]);else if(d===hi)c.pop();else{if(d!==fi)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:bi(c[0],n)}function yi(t,e,n){return vi(t)?t:{type:ci,value:function(n){return mi(t.value,e,n)}}}function vi(t){return t&&t.type===ci}function bi(t,e){return vi(t)?t.value(e):t}di.prototype.toString=function(){switch(this.type){case ti:case ei:case ni:case ri:case ii:case oi:case hi:return this.value;case ai:return"CALL "+this.value;case si:return"DEF "+this.value;case fi:return"ARRAY "+this.value;case ui:return"."+this.value;default:return"Invalid Instruction"}};var xi="TEOF",wi="TOP",_i="TNUMBER",ki="TSTRING",Mi="TPAREN",Ti="TBRACKET",Ai="TCOMMA",Ei="TNAME",$i="TSEMICOLON";function Li(t,e,n){this.type=t,this.value=e,this.index=n}function Oi(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Li.prototype.toString=function(){return this.type+": "+this.value},Oi.prototype.newToken=function(t,e,n){return new Li(t,e,null!=n?n:this.pos)},Oi.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Oi.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Oi.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(xi,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Oi.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(ki,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Oi.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Mi,t),this.pos++,!0)},Oi.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(Ti,t),this.pos++,0))},Oi.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Ai,","),this.pos++,!0)},Oi.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken($i,";"),this.pos++,!0)},Oi.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(_i,this.consts[r]),this.pos+=r.length,!0}return!1},Oi.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(wi,r),this.pos+=r.length,!0}return!1},Oi.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(Ei,i),this.pos+=i.length,!0}return!1},Oi.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Si=/^[0-9a-f]{4}$/i;function Ni(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}Oi.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);Si.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},Oi.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Oi.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(_i,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},Oi.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(_i,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},Oi.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(wi,e);else if("∙"===e||"•"===e)this.current=this.newToken(wi,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(wi,">="),this.pos++):this.current=this.newToken(wi,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(wi,"<="),this.pos++):this.current=this.newToken(wi,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(wi,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(wi,"=="),this.pos++):this.current=this.newToken(wi,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(wi,"!="),this.pos++):this.current=this.newToken(wi,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Oi.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Oi.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Oi.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},Ni.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Ni.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Xr(e,t.value):"function"==typeof e?e(t):t.value===e)},Ni.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Ni.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Ni.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},Ni.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},Ni.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Ei)||this.accept(wi,(function(t){return t.value in e})))t.push(new di(ii,this.current.value));else if(this.accept(_i))t.push(new di(ti,this.current.value));else if(this.accept(ki))t.push(new di(ti,this.current.value));else if(this.accept(Mi,"("))this.parseExpression(t),this.expect(Mi,")");else{if(!this.accept(Ti,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Ti,"]"))t.push(new di(fi,0));else{var n=this.parseArrayList(t);t.push(new di(fi,n))}}},Ni.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Ni.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},Ni.prototype.parseUntilEndStatement=function(t,e){return!!this.accept($i)&&(!this.nextToken||this.nextToken.type===xi||this.nextToken.type===Mi&&")"===this.nextToken.value||e.push(new di(hi)),this.nextToken.type!==xi&&this.parseExpression(e),t.push(new di(li,e)),!0)},Ni.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Ti,"]");)for(this.parseExpression(t),++e;this.accept(Ai);)this.parseExpression(t),++e;return e},Ni.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(wi,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==ai){if(e.type!==ii&&e.type!==ui)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new di(oi,e.value)),t.push(new di(li,n)),t.push(gi("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===ii&&(t[a]=new di(oi,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new di(li,n)),t.push(new di(si,e.value))}}},Ni.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(wi,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(wi,":"),this.parseConditionalExpression(n),t.push(new di(li,e)),t.push(new di(li,n)),t.push(new di(ri,"?"))}},Ni.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(wi,"or");){var e=[];this.parseAndExpression(e),t.push(new di(li,e)),t.push(gi("or"))}},Ni.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(wi,"and");){var e=[];this.parseComparison(e),t.push(new di(li,e)),t.push(gi("and"))}};var zi=["==","!=","<","<=",">=",">","in"];Ni.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(wi,zi);){var e=this.current;this.parseAddSub(t),t.push(gi(e.value))}};var Ci=["+","-","||"];Ni.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(wi,Ci);){var e=this.current;this.parseTerm(t),t.push(gi(e.value))}};var ji=["*","/","%"];Ni.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(wi,ji);){var e=this.current;this.parseFactor(t),t.push(gi(e.value))}},Ni.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(wi,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Mi&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===$i||this.nextToken.type===Ai||this.nextToken.type===xi||this.nextToken.type===Mi&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(pi(n.value))}else this.parseExponential(t)},Ni.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(wi,"^");)this.parseFactor(t),t.push(gi("^"))},Ni.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(wi,"!");)t.push(pi("!"))},Ni.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(wi,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(pi(n.value))}else for(this.parseMemberExpression(t);this.accept(Mi,"(");)if(this.accept(Mi,")"))t.push(new di(ai,0));else{var r=this.parseArgumentList(t);t.push(new di(ai,r))}},Ni.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Mi,")");)for(this.parseExpression(t),++e;this.accept(Ai);)this.parseExpression(t),++e;return e},Ni.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(wi,".")||this.accept(Ti,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Ei),t.push(new di(ui,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Ti,"]"),t.push(gi("["))}}};const{add:Di,sub:Ri,mul:Pi,div:Ii,mod:Fi,equal:Ui,notEqual:Hi,greaterThan:Bi,lessThan:Yi,greaterThanEqual:Wi,lessThanEqual:qi,andOperator:Gi,orOperator:Vi,log10:Xi,neg:Ki,not:Zi,trunc:Ji,random:Qi,stringOrArrayLength:to,condition:eo,roundTo:no,arrayIndex:ro,max:io,min:oo,sum:ao,arrayMap:so,arrayFold:lo,arrayFilter:co,sign:uo,log1p:ho,log2:fo}=Qr;function po(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function go(t){return t.trim()}po.prototype.evaluate=function(t){return t=t||{},mi(this.tokens,this,t)},po.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const mo=new Set(["__proto__","prototype","constructor"]);function yo(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||fo,LN:Math.log,LOG10:Math.log10||Xi,LG:Math.log10||Xi,LOG1P:Math.log1p||ho,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Ji,"-":Ki,"+":Number,EXP:Math.exp,NOT:Zi,LENGTH:to,"!":Zi,SIGN:Math.sign||uo,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":Di,"-":Ri,"*":Pi,"/":Ii,"%":Fi,"^":Math.pow,"==":Ui,"!=":Hi,">":Bi,"<":Yi,">=":Wi,"<=":qi,and:Gi,or:Vi,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":ro},this.ternaryOps={"?":eo};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:eo,RANDOM:Qi,MIN(){const t=r.apply(this,arguments);return oo(t)},MAX(){return io(r.apply(this,arguments))},SUM(){return ao(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return ao(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:no,CONCAT(){return Array.from(arguments).join("")},TRIM:go,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(mo.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:so,FOLD:lo,FILTER:co,PLUCK(t,e){if(mo.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}yo.prototype.parse=function(t){var e=[],n=new Ni(this,new Oi(this,t),{allowMemberAccess:!0,restrictMemberAccess:mo});return n.parseExpression(e),n.expect(xi,"EOF"),new po(e,this)},yo.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var vo=new yo;yo.parse=function(t){return vo.parse(t)},yo.evaluate=function(t,e){return vo.parse(t).evaluate(e)},yo.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var bo={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};yo.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(bo,t)?bo[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const xo="%UNDEFINED%",wo={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>ko(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>ko(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===xo?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function _o(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter((t=>t)).filter((t=>!t.includes(xo))).join("\n")};function r(t,e,n){return rt(t,e,void 0===n?xo:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(wo).filter((n=>{let[r]=n;return Vr(t,r)||Vr(e,r)})).map((n=>{let[r,{prop:i,tsf:o=Yr}]=n;return"".concat(i,": ").concat(o(rt(t,r,e[r])),";")})).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:xo}}function ko(t){return t===xo?t:Number.isFinite(t)?"".concat(t,"px"):t}const Mo=Math.cos,To=Math.sin,Ao=Math.sqrt,Eo=Math.PI,$o=2*Eo,Lo=Math.PI,Oo=2*Lo,So=1e-6,No=Oo-So;function Co(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class jo{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Co:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return Co;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(Lh||(Lh=$h(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Oh||(Oh=$h(["Z"]))))}lineTo(t,e){this._append(Sh||(Sh=$h(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,r){this._append(Nh||(Nh=$h(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+r)}bezierCurveTo(t,e,n,r,i,o){this._append(zh||(zh=$h(["C",",",",",",",",",",",""])),+t,+e,+n,+r,this._x1=+i,this._y1=+o)}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append(Ch||(Ch=$h(["M",",",""])),this._x1=t,this._y1=e);else if(h>So)if(Math.abs(u*s-l*c)>So&&i){let f=n-o,d=r-a,p=s*s+l*l,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((Lo-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>So&&this._append(jh||(jh=$h(["L",",",""])),t+b*c,e+b*u),this._append(Dh||(Dh=$h(["A",",",",0,0,",",",",",""])),i,i,+(u*f>c*d),this._x1=t+x*s,this._y1=e+x*l)}else this._append(Rh||(Rh=$h(["L",",",""])),this._x1=t,this._y1=e)}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append(Ph||(Ph=$h(["M",",",""])),l,c):(Math.abs(this._x1-l)>So||Math.abs(this._y1-c)>So)&&this._append(Ih||(Ih=$h(["L",",",""])),l,c),n&&(h<0&&(h=h%Oo+Oo),h>No?this._append(Fh||(Fh=$h(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,t-a,e-s,n,n,u,this._x1=l,this._y1=c):h>So&&this._append(Uh||(Uh=$h(["A",",",",0,",",",",",",",""])),n,n,+(h>=Lo),u,this._x1=t+n*Math.cos(i),this._y1=e+n*Math.sin(i)))}rect(t,e,n,r){this._append(Hh||(Hh=$h(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+r,-n)}toString(){return this._}}function Do(){return new jo}Do.prototype=jo.prototype;var Ro={draw(t,e){const n=Ao(e/Eo);t.moveTo(n,0),t.arc(0,0,n,0,$o)}},Po={draw(t,e){const n=Ao(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Io={draw(t,e){const n=Ao(e),r=-n/2;t.rect(r,r,n,n)}};const Fo=To(Eo/10)/To(7*Eo/10),Uo=To($o/10)*Fo,Ho=-Mo($o/10)*Fo;var Bo={draw(t,e){const n=Ao(.8908130915292852*e),r=Uo*n,i=Ho*n;t.moveTo(0,-n),t.lineTo(r,i);for(let e=1;e<5;++e){const o=$o*e/5,a=Mo(o),s=To(o);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}};const Yo=-.5,Wo=Ao(3)/2,qo=1/Ao(12),Go=3*(qo/2+1);var Vo={draw(t,e){const n=Ao(e/Go),r=n/2,i=n*qo,o=r,a=n*qo+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Yo*r-Wo*i,Wo*r+Yo*i),t.lineTo(Yo*o-Wo*a,Wo*o+Yo*a),t.lineTo(Yo*s-Wo*l,Wo*s+Yo*l),t.lineTo(Yo*r+Wo*i,Yo*i-Wo*r),t.lineTo(Yo*o+Wo*a,Yo*a-Wo*o),t.lineTo(Yo*s+Wo*l,Yo*l-Wo*s),t.closePath()}},Xo=Object.assign(Object.assign({name:"circle"},Ro),{bbox(t){const e=2*Math.sqrt(t/Math.PI);return{width:e,height:e}}}),Ko=Object.assign(Object.assign({name:"cross"},Po),{bbox(t){const e=3*Math.sqrt(t/5);return{width:e,height:e}},verticalAlign:"bottom"}),Zo={name:"diamond",draw(t,e){const n=.7071*Math.sqrt(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()},bbox(t){const e=.7071*Math.sqrt(t);return{width:2*e,height:2*e}}},Jo={name:"hexagon",draw(t,e){const n=.56416*Math.sqrt(e),r=1.09963*n,i=r/2,o=.952436*n;t.moveTo(0,-r),t.lineTo(o,-i),t.lineTo(o,i),t.lineTo(0,r),t.lineTo(-o,i),t.lineTo(-o,-i),t.lineTo(0,-r)},bbox(t){const e=.56416*Math.sqrt(t);return{width:.952436*e*2,height:1.09963*e*2}}},Qo={name:"marker",draw(t,e){const n=.691*Math.sqrt(e);t.moveTo(.004066*n,-2.757056*n),t.bezierCurveTo(-.462735*n,-2.757056*n,-.841214*n,-2.378661*n,-.841214*n,-1.9117769999999998*n),t.bezierCurveTo(-.841214*n,-1.7810229999999998*n,-.811497*n,-1.6570359999999997*n,-.75842*n,-1.54659*n),t.bezierCurveTo(-.75545*n,-1.5403129999999998*n,.004064999999999985*n,0,.004064999999999985*n,0),t.lineTo(.757389*n,-1.5280999999999998*n),t.bezierCurveTo(.8161619999999999*n,-1.6431679999999997*n,.849344*n,-1.7735959999999997*n,.849344*n,-1.9117769999999998*n),t.bezierCurveTo(.849344*n,-2.378662*n,.470949*n,-2.757056*n,.0040639999999999565*n,-2.757056*n),t.moveTo(.507167*n,n*(-1.404609-.507167)),t.arc(0,n*(-1.404609-.507167),.507167*n,0,2*Math.PI)},bbox(t){const e=Math.sqrt(t);return{width:1.1682*e,height:1.9051*e}},baseline:1},ta={name:"spike",draw(t,e){t.moveTo(-2,0),t.lineTo(0,-e),t.lineTo(2,0)},bbox:t=>({width:4,height:t}),baseline:1},ea=Object.assign(Object.assign({name:"square"},Io),{bbox(t){const e=Math.sqrt(t);return{width:e,height:e}}}),na=Object.assign(Object.assign({name:"star"},Bo),{bbox(t){const e=Math.sqrt(t);return{width:1.7897*e,height:1.7048*e}},baseline:.55}),ra=Object.assign(Object.assign({name:"wye"},Vo),{bbox(t){const e=Math.sqrt(t);return{width:1.472*e,height:1.2763*e}},baseline:.455});const ia=Math.sqrt(3);var oa={name:"triangleUp",draw(t,e){const n=-Math.sqrt(e/(3*ia));t.moveTo(0,2*n),t.lineTo(-ia*n,-n),t.lineTo(ia*n,-n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*ia));return{width:ia*e*2,height:3*e}},baseline:.66667};const aa=Math.sqrt(3);var sa={name:"triangleDown",draw(t,e){const n=-Math.sqrt(e/(3*aa));t.moveTo(0,2*-n),t.lineTo(-aa*n,n),t.lineTo(aa*n,n),t.closePath()},bbox(t){const e=Math.sqrt(t/(3*aa));return{width:aa*e*2,height:3*e}},baseline:.3333},la=Object.freeze({__proto__:null,symbolCircle:Xo,symbolCross:Ko,symbolDiamond:Zo,symbolHexagon:Jo,symbolMarker:Qo,symbolSpike:ta,symbolSquare:ea,symbolStar:na,symbolTriangleDown:sa,symbolTriangleUp:oa,symbolWye:ra}),ca=/\s/,ua=/^\s+/,ha="object"==typeof it&&it&&it.Object===Object&&it,fa="object"==typeof self&&self&&self.Object===Object&&self,da=(ha||fa||Function("return this")()).Symbol,pa=da,ga=Object.prototype,ma=ga.hasOwnProperty,ya=ga.toString,va=pa?pa.toStringTag:void 0,ba=Object.prototype.toString,xa=function(t){var e=ma.call(t,va),n=t[va];try{t[va]=void 0;var r=!0}catch(t){}var i=ya.call(t);return r&&(e?t[va]=n:delete t[va]),i},wa=da?da.toStringTag:void 0,_a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":wa&&wa in Object(t)?xa(t):function(t){return ba.call(t)}(t)},ka=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&ca.test(t.charAt(e)););return e}(t)+1).replace(ua,""):t},Ma=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ta=/^[-+]0x[0-9a-f]+$/i,Aa=/^0b[01]+$/i,Ea=/^0o[0-7]+$/i,$a=parseInt,La=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},Oa=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==_a(t)}(t))return NaN;if(Ma(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ma(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ka(t);var n=Aa.test(t);return n||Ea.test(t)?$a(t.slice(2),n?2:8):Ta.test(t)?NaN:+t},Sa=ot((function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Oa(n))==n?n:0),void 0!==e&&(e=(e=Oa(e))==e?e:0),La(Oa(t),e,n)}));function Na(t){let e;function n(t,e){return t[15]?Ca:za}let r=n(t),i=r(t);return{c(){i.c(),e=y()},m(t,n){i.m(t,n),h(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&f(e)}}}function za(t){let e,n;return{c(){e=p("div"),b(e,"class",n=c("legend-color buffer ".concat(t[35]))+" svelte-1a3zahf"),w(e,"width",ko((t[12]?t[12]:t[22])+t[1].size)),w(e,"height",ko(t[20]+t[1].size)),w(e,"background",t[1].color),w(e,"margin-left",t[0]?ko(t[30]):null),w(e,"margin-right",t[0]?null:ko(t[30])),w(e,"position","absolute"),w(e,"z-index","0"),w(e,"right",t[0]?ko(-t[1].size/2):null),w(e,"left",t[0]?null:ko(-t[1].size/2)),w(e,"top",t[6]?"calc(60% - ".concat(t[20]/2+t[1].size,"px)"):ko(-t[1].size/2))},m(t,n){h(t,e,n)},p(t,r){16&r[1]&&n!==(n=c("legend-color buffer ".concat(t[35]))+" svelte-1a3zahf")&&b(e,"class",n),4198402&r[0]&&w(e,"width",ko((t[12]?t[12]:t[22])+t[1].size)),1048578&r[0]&&w(e,"height",ko(t[20]+t[1].size)),2&r[0]&&w(e,"background",t[1].color),1073741825&r[0]&&w(e,"margin-left",t[0]?ko(t[30]):null),1073741825&r[0]&&w(e,"margin-right",t[0]?null:ko(t[30])),3&r[0]&&w(e,"right",t[0]?ko(-t[1].size/2):null),3&r[0]&&w(e,"left",t[0]?null:ko(-t[1].size/2)),1048642&r[0]&&w(e,"top",t[6]?"calc(60% - ".concat(t[20]/2+t[1].size,"px)"):ko(-t[1].size/2))},d(t){t&&f(e)}}}function Ca(t){let e,n,r,i=t[15].strokeWidth>0&&ja(t),o=t[15].symbol&&Da(t);return{c(){e=g("svg"),i&&i.c(),n=y(),o&&o.c(),b(e,"class",r=c("legend-color buffer ".concat(t[35]))+" svelte-1a3zahf"),w(e,"width",ko(t[22])),w(e,"height",ko(t[20])),w(e,"margin-left",t[0]?ko(t[30]):null),w(e,"margin-right",t[0]?null:ko(t[30])),w(e,"position","absolute"),w(e,"z-index","0"),w(e,"right",t[0]?ko(-t[1].size/2):null),w(e,"left",t[0]?null:ko(-t[1].size/2)),w(e,"top","calc(60% - ".concat(t[20]/2+t[1].size,"px)"))},m(t,r){h(t,e,r),i&&i.m(e,null),u(e,n),o&&o.m(e,null)},p(t,a){t[15].strokeWidth>0?i?i.p(t,a):(i=ja(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[15].symbol?o?o.p(t,a):(o=Da(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),16&a[1]&&r!==(r=c("legend-color buffer ".concat(t[35]))+" svelte-1a3zahf")&&b(e,"class",r),4194304&a[0]&&w(e,"width",ko(t[22])),1048576&a[0]&&w(e,"height",ko(t[20])),1073741825&a[0]&&w(e,"margin-left",t[0]?ko(t[30]):null),1073741825&a[0]&&w(e,"margin-right",t[0]?null:ko(t[30])),3&a[0]&&w(e,"right",t[0]?ko(-t[1].size/2):null),3&a[0]&&w(e,"left",t[0]?null:ko(-t[1].size/2)),1048578&a[0]&&w(e,"top","calc(60% - ".concat(t[20]/2+t[1].size,"px)"))},d(t){t&&f(e),i&&i.d(),o&&o.d()}}}function ja(t){let e,n,r,i,o,a,s;return{c(){e=g("line"),b(e,"x1",n=t[26][0].x+(t[0]?-t[1].size:0)),b(e,"y1",r=t[26][0].y+(t[21]?t[1].size:t[1].size/4)),b(e,"x2",i=t[26][1].x+(t[0]?0:t[1].size)),b(e,"y2",o=t[26][1].y+t[1].size/4),b(e,"stroke",a=t[1].color),b(e,"stroke-width",s=t[15].strokeWidth+t[1].size),b(e,"stroke-linecap",t[23])},m(t,n){h(t,e,n)},p(t,l){67108867&l[0]&&n!==(n=t[26][0].x+(t[0]?-t[1].size:0))&&b(e,"x1",n),69206018&l[0]&&r!==(r=t[26][0].y+(t[21]?t[1].size:t[1].size/4))&&b(e,"y1",r),67108867&l[0]&&i!==(i=t[26][1].x+(t[0]?0:t[1].size))&&b(e,"x2",i),67108866&l[0]&&o!==(o=t[26][1].y+t[1].size/4)&&b(e,"y2",o),2&l[0]&&a!==(a=t[1].color)&&b(e,"stroke",a),32770&l[0]&&s!==(s=t[15].strokeWidth+t[1].size)&&b(e,"stroke-width",s),8388608&l[0]&&b(e,"stroke-linecap",t[23])},d(t){t&&f(e)}}}function Da(t){let e,n,r,i,o;return{c(){e=g("path"),b(e,"class","symbol"),b(e,"transform",n="translate("+(t[19].x+.5*t[1].size*(t[0]?-1:1))+", "+t[19].y+")"),b(e,"d",t[27]),b(e,"fill",r=t[1].color),b(e,"stroke",i=t[1].color),b(e,"stroke-width",o=t[1].size)},m(t,n){h(t,e,n)},p(t,a){524291&a[0]&&n!==(n="translate("+(t[19].x+.5*t[1].size*(t[0]?-1:1))+", "+t[19].y+")")&&b(e,"transform",n),134217728&a[0]&&b(e,"d",t[27]),2&a[0]&&r!==(r=t[1].color)&&b(e,"fill",r),2&a[0]&&i!==(i=t[1].color)&&b(e,"stroke",i),2&a[0]&&o!==(o=t[1].size)&&b(e,"stroke-width",o)},d(t){t&&f(e)}}}function Ra(t){let e,n,r,i=t[7]&&Fa(t);return{c(){e=p("div"),i&&i.c(),r=y(),b(e,"class",n=c("legend-color ".concat(t[35]))+" svelte-1a3zahf"),w(e,"width",ko(t[12]||t[22])),w(e,"height",ko(t[13]||t[20])),w(e,"margin-left",t[0]?ko(t[30]):null),w(e,"margin-right",t[0]?null:ko(t[30])),w(e,"background",t[9]),w(e,"mix-blend-mode",t[7]?"screen":null)},m(t,n){h(t,e,n),i&&i.m(t,n),h(t,r,n)},p(t,o){16&o[1]&&n!==(n=c("legend-color ".concat(t[35]))+" svelte-1a3zahf")&&b(e,"class",n),4198400&o[0]&&w(e,"width",ko(t[12]||t[22])),1056768&o[0]&&w(e,"height",ko(t[13]||t[20])),1073741825&o[0]&&w(e,"margin-left",t[0]?ko(t[30]):null),1073741825&o[0]&&w(e,"margin-right",t[0]?null:ko(t[30])),512&o[0]&&w(e,"background",t[9]),128&o[0]&&w(e,"mix-blend-mode",t[7]?"screen":null),t[7]?i?i.p(t,o):(i=Fa(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(t){t&&f(e),i&&i.d(t),t&&f(r)}}}function Pa(t){let e,n,r=t[15].strokeWidth>0&&Ua(t),i=t[15].symbol&&Ha(t);return{c(){e=g("svg"),r&&r.c(),n=y(),i&&i.c(),b(e,"class","legend-color"),w(e,"width",ko(t[22])),w(e,"height",ko(t[20])),w(e,"margin-left",t[0]?ko(t[30]):null),w(e,"margin-right",t[0]?null:ko(t[30]))},m(t,o){h(t,e,o),r&&r.m(e,null),u(e,n),i&&i.m(e,null)},p(t,o){t[15].strokeWidth>0?r?r.p(t,o):(r=Ua(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),t[15].symbol?i?i.p(t,o):(i=Ha(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),4194304&o[0]&&w(e,"width",ko(t[22])),1048576&o[0]&&w(e,"height",ko(t[20])),1073741825&o[0]&&w(e,"margin-left",t[0]?ko(t[30]):null),1073741825&o[0]&&w(e,"margin-right",t[0]?null:ko(t[30]))},d(t){t&&f(e),r&&r.d(),i&&i.d()}}}function Ia(t){let e,n,r,i,o,a,s,l,c,d,p,m,y,v;return{c(){e=g("svg"),n=g("defs"),r=g("pattern"),i=g("line"),m=g("rect"),b(i,"x1",o=t[32]/2),b(i,"y1","0"),b(i,"x2",a=t[32]/2),b(i,"y2",t[32]),b(i,"stroke",s=t[4](t[9]).alpha(1).hex()),b(i,"opacity",l=t[4](t[9]).alpha()),b(i,"stroke-width",c=t[14].strokeWidth),b(i,"shape-rendering","crispEdges"),b(r,"id",d="color-legend-fill-pattern-".concat(t[2])),b(r,"patternTransform",p="rotate(".concat(180-(t[33]||0)," 0 0)")),b(r,"patternUnits","userSpaceOnUse"),b(r,"width",t[32]),b(r,"height",t[32]),b(m,"width",y=t[12]||t[22]),b(m,"height",t[20]),b(m,"fill",v="url(#color-legend-fill-pattern-".concat(t[2],")")),b(m,"rx",t[25]),b(m,"ry",t[25]),b(e,"class","legend-color"),w(e,"width",ko(t[12]||t[22])),w(e,"height",ko(t[20])),w(e,"margin-left",t[0]?ko(t[30]):null),w(e,"margin-right",t[0]?null:ko(t[30]))},m(t,o){h(t,e,o),u(e,n),u(n,r),u(r,i),u(e,m)},p(t,n){2&n[1]&&o!==(o=t[32]/2)&&b(i,"x1",o),2&n[1]&&a!==(a=t[32]/2)&&b(i,"x2",a),2&n[1]&&b(i,"y2",t[32]),528&n[0]&&s!==(s=t[4](t[9]).alpha(1).hex())&&b(i,"stroke",s),528&n[0]&&l!==(l=t[4](t[9]).alpha())&&b(i,"opacity",l),16384&n[0]&&c!==(c=t[14].strokeWidth)&&b(i,"stroke-width",c),4&n[0]&&d!==(d="color-legend-fill-pattern-".concat(t[2]))&&b(r,"id",d),4&n[1]&&p!==(p="rotate(".concat(180-(t[33]||0)," 0 0)"))&&b(r,"patternTransform",p),2&n[1]&&b(r,"width",t[32]),2&n[1]&&b(r,"height",t[32]),4198400&n[0]&&y!==(y=t[12]||t[22])&&b(m,"width",y),1048576&n[0]&&b(m,"height",t[20]),4&n[0]&&v!==(v="url(#color-legend-fill-pattern-".concat(t[2],")"))&&b(m,"fill",v),33554432&n[0]&&b(m,"rx",t[25]),33554432&n[0]&&b(m,"ry",t[25]),4198400&n[0]&&w(e,"width",ko(t[12]||t[22])),1048576&n[0]&&w(e,"height",ko(t[20])),1073741825&n[0]&&w(e,"margin-left",t[0]?ko(t[30]):null),1073741825&n[0]&&w(e,"margin-right",t[0]?null:ko(t[30]))},d(t){t&&f(e)}}}function Fa(t){let e,n;return{c(){e=p("div"),b(e,"class",n=c("legend-color blend-multiply-background ".concat(t[35]))+" svelte-1a3zahf"),w(e,"width",ko(t[12]||t[22])),w(e,"height",ko(t[13]||t[20])),w(e,"margin-left",t[0]?null:ko(-(t[12]||t[22])-t[30])),w(e,"margin-right",t[0]?ko(-(t[12]||t[22])-t[30]):null),w(e,"background",t[8]),w(e,"position","relative"),w(e,"z-index","-1")},m(t,n){h(t,e,n)},p(t,r){16&r[1]&&n!==(n=c("legend-color blend-multiply-background ".concat(t[35]))+" svelte-1a3zahf")&&b(e,"class",n),4198400&r[0]&&w(e,"width",ko(t[12]||t[22])),1056768&r[0]&&w(e,"height",ko(t[13]||t[20])),1077940225&r[0]&&w(e,"margin-left",t[0]?null:ko(-(t[12]||t[22])-t[30])),1077940225&r[0]&&w(e,"margin-right",t[0]?ko(-(t[12]||t[22])-t[30]):null),256&r[0]&&w(e,"background",t[8])},d(t){t&&f(e)}}}function Ua(t){let e,n,r,i,o,a,s;return{c(){e=g("line"),b(e,"x1",n=t[26][0].x),b(e,"y1",r=t[26][0].y),b(e,"x2",i=t[26][1].x),b(e,"y2",o=t[26][1].y),b(e,"stroke",t[9]),b(e,"stroke-width",a=t[15].strokeWidth),b(e,"stroke-dasharray",s=t[15].dashArray),b(e,"stroke-linecap",t[23])},m(t,n){h(t,e,n)},p(t,l){67108864&l[0]&&n!==(n=t[26][0].x)&&b(e,"x1",n),67108864&l[0]&&r!==(r=t[26][0].y)&&b(e,"y1",r),67108864&l[0]&&i!==(i=t[26][1].x)&&b(e,"x2",i),67108864&l[0]&&o!==(o=t[26][1].y)&&b(e,"y2",o),512&l[0]&&b(e,"stroke",t[9]),32768&l[0]&&a!==(a=t[15].strokeWidth)&&b(e,"stroke-width",a),32768&l[0]&&s!==(s=t[15].dashArray)&&b(e,"stroke-dasharray",s),8388608&l[0]&&b(e,"stroke-linecap",t[23])},d(t){t&&f(e)}}}function Ha(t){let e,n,r,i,o,a;return{c(){var s,l,c;e=g("path"),b(e,"class","symbol"),b(e,"transform",n="translate("+t[19].x+", "+t[19].y+")"),b(e,"d",t[27]),b(e,"fill",r="hollow"===t[28]?null===(s=t[3].colors)||void 0===s?void 0:s.background:t[9]),b(e,"stroke",i="hollow"===t[28]?t[9]:null),b(e,"stroke-width",o="hollow"===t[28]?(null===(l=t[15])||void 0===l?void 0:l.strokeWidth)||(null===(c=t[15])||void 0===c?void 0:c.defaultWidth)||2:null),b(e,"opacity",a=t[15].symbol.opacity)},m(t,n){h(t,e,n)},p(t,s){var l,c,u;524288&s[0]&&n!==(n="translate("+t[19].x+", "+t[19].y+")")&&b(e,"transform",n),134217728&s[0]&&b(e,"d",t[27]),268435976&s[0]&&r!==(r="hollow"===t[28]?null===(l=t[3].colors)||void 0===l?void 0:l.background:t[9])&&b(e,"fill",r),268435968&s[0]&&i!==(i="hollow"===t[28]?t[9]:null)&&b(e,"stroke",i),268468224&s[0]&&o!==(o="hollow"===t[28]?(null===(c=t[15])||void 0===c?void 0:c.strokeWidth)||(null===(u=t[15])||void 0===u?void 0:u.defaultWidth)||2:null)&&b(e,"stroke-width",o),32768&s[0]&&a!==(a=t[15].symbol.opacity)&&b(e,"opacity",a)},d(t){t&&f(e)}}}function Ba(t){let e,n=t[5](t[24])+"";return{c(){e=p("div"),b(e,"class","legend-label svelte-1a3zahf"),w(e,"text-shadow",t[1]?t[1].textShadow:null),w(e,"color",t[29])},m(t,r){h(t,e,r),e.innerHTML=n},p(t,r){16777248&r[0]&&n!==(n=t[5](t[24])+"")&&(e.innerHTML=n),2&r[0]&&w(e,"text-shadow",t[1]?t[1].textShadow:null),536870912&r[0]&&w(e,"color",t[29])},d(t){t&&f(e)}}}function Ya(t){let e,n,r=t[5](t[10])+"";return{c(){e=new k(!1),n=y(),e.a=n},m(t,i){e.m(r,t,i),h(t,n,i)},p(t,n){1056&n[0]&&r!==(r=t[5](t[10])+"")&&e.p(r)},d(t){t&&f(n),t&&e.d()}}}function Wa(t){let e,n,r=t[5](t[34])+"";return{c(){e=new k(!1),n=y(),e.a=n},m(t,i){e.m(r,t,i),h(t,n,i)},p(t,n){32&n[0]|8&n[1]&&r!==(r=t[5](t[34])+"")&&e.p(r)},d(t){t&&f(n),t&&e.d()}}}function qa(t){let n,r,i,a,s,l,c,d=t[1]&&Na(t);function g(t,e){return t[14]?Ia:t[15]&&(t[15].strokeWidth>0||t[15].symbol)?Pa:Ra}let m=g(t),x=m(t),k=t[6]&&Ba(t);function M(t,e){return t[6]?Wa:Ya}let T=M(t),A=T(t);return{c(){n=p("div"),r=p("div"),d&&d.c(),i=y(),x.c(),a=y(),k&&k.c(),s=p("div"),A.c(),b(r,"class","legend-no-break"),b(s,"class","legend-label svelte-1a3zahf"),w(s,"text-shadow",t[1]?t[1].textShadow:null),w(s,"color",t[29]),b(n,"class","legend-swatch"),b(n,"aria-hidden","true"),_(n,"highlight",t[18]),w(n,"margin-left",t[0]?ko(t[31]):null),w(n,"margin-right",t[0]?null:ko(t[31])),w(n,"--swatch-height",ko(t[20]))},m(e,o){h(e,n,o),u(n,r),d&&d.m(r,null),u(r,i),x.m(r,null),u(r,a),k&&k.m(r,null),u(n,s),A.m(s,null),l||(c=[v(n,"mouseenter",t[43]),v(n,"click",t[44]),v(n,"mousemove",t[41]),v(n,"mouseleave",t[42])],l=!0)},p(t,e){t[1]?d?d.p(t,e):(d=Na(t),d.c(),d.m(r,i)):d&&(d.d(1),d=null),m===(m=g(t))&&x?x.p(t,e):(x.d(1),x=m(t),x&&(x.c(),x.m(r,a))),t[6]?k?k.p(t,e):(k=Ba(t),k.c(),k.m(r,null)):k&&(k.d(1),k=null),T===(T=M(t))&&A?A.p(t,e):(A.d(1),A=T(t),A&&(A.c(),A.m(s,null))),2&e[0]&&w(s,"text-shadow",t[1]?t[1].textShadow:null),536870912&e[0]&&w(s,"color",t[29]),262144&e[0]&&_(n,"highlight",t[18]),1&e[0]|1&e[1]&&w(n,"margin-left",t[0]?ko(t[31]):null),1&e[0]|1&e[1]&&w(n,"margin-right",t[0]?null:ko(t[31])),1048576&e[0]&&w(n,"--swatch-height",ko(t[20]))},i:e,o:e,d(t){t&&f(n),d&&d.d(),x.d(),k&&k.d(),A.d(),l=!1,o(c)}}}function Ga(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,g,m,y,v;const b=A();let{rtl:x}=e,{buffer:w}=e,{id:_}=e,{themeData:k}=e,{chroma:M}=e,{purifyHtml:T}=e,{horizontal:$=!0}=e,{blendMultiply:L=!1}=e,{blendMultiplyBackground:O=""}=e;if(L&&!O)throw new Error("Property 'blendMultiplyBackground' missing from legend");let{color:S}=e,{label:N}=e,{key:z}=e,{width:C}=e,{height:j}=e,{pattern:D}=e,{line:R}=e,{min:P}=e,{max:I}=e,{highlight:F=!1}=e;const U={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45};let H,B,Y,W="fill";const q={x:0,y:0};return t.$$set=t=>{"rtl"in t&&n(0,x=t.rtl),"buffer"in t&&n(1,w=t.buffer),"id"in t&&n(2,_=t.id),"themeData"in t&&n(3,k=t.themeData),"chroma"in t&&n(4,M=t.chroma),"purifyHtml"in t&&n(5,T=t.purifyHtml),"horizontal"in t&&n(6,$=t.horizontal),"blendMultiply"in t&&n(7,L=t.blendMultiply),"blendMultiplyBackground"in t&&n(8,O=t.blendMultiplyBackground),"color"in t&&n(9,S=t.color),"label"in t&&n(10,N=t.label),"key"in t&&n(11,z=t.key),"width"in t&&n(12,C=t.width),"height"in t&&n(13,j=t.height),"pattern"in t&&n(14,D=t.pattern),"line"in t&&n(15,R=t.line),"min"in t&&n(16,P=t.min),"max"in t&&n(17,I=t.max),"highlight"in t&&n(18,F=t.highlight)},t.$$.update=()=>{var e,b,x,w,_,T,A,E;if(8&t.$$.dirty[0]&&n(25,r=rt(k,"vis.base.legend.swatch.borderRadius")),33554432&t.$$.dirty[0]&&n(35,i="50%"===r?"dw-circle":"export-rect"),1024&t.$$.dirty[0]&&n(24,o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e>0&&e<n?t.slice(0,e):t.slice(0,n+1)}(N)),16778240&t.$$.dirty[0]&&n(34,a=function(t,e){const n=t.slice(e.length),r=e.match(/<(\w*)>/);if(r){const t=r[1];if(!e.match(new RegExp("</".concat(t,">"),"g")))return"".concat(" "===n.charAt(0)?" ":"","<").concat(t,">").concat(n.trim())}return n}(N,o)),16384&t.$$.dirty[0]&&n(33,s=D?U[D.type]:0),16384&t.$$.dirty[0]&&n(32,l=D?D.lineGap+D.strokeWidth:0),8&t.$$.dirty[0]&&n(31,c=rt(k,"vis.base.legend.text.marginRight",10)),8&t.$$.dirty[0]&&n(30,u=rt(k,"vis.base.legend.swatch.marginRight",3)),8&t.$$.dirty[0]&&n(21,y=rt(k,"vis.base.legend.swatch.diagonal",!1)),2129928&t.$$.dirty[0]&&n(22,h=R?rt(k,"vis.d3-lines.legend.swatch.width",16):rt(k,"vis.base.legend.swatch.width",rt(k,"vis.base.legend.swatch.size",14))),6324232&t.$$.dirty[0]&&n(20,f=R?y?h:rt(k,"vis.d3-lines.legend.swatch.height",20):rt(k,"vis.base.legend.swatch.height",rt(k,"vis.base.legend.swatch.size",14))),8&t.$$.dirty[0]&&n(40,d=rt(k,"colors.background","#ffffff")),536&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(29,p=rt(k,"vis.base.legend.text.useSwatchColor")&&function(t,e,n,r){const[i,o,a]=r(t).lch(),s=r(e).lch()[0];if(r.contrast(t,e)>=n)return t;const l=r.contrast("#000000",e),c=r.contrast("#ffffff",e),u=s>i&&l>=n||s<=i&&c<n;return u?h(0,i,10):h(i,100,10);function h(t,i,s){const l=.5*(t+i),c=r.lch(l,o,a),f=r.contrast(c,e);return Math.abs(f-n)<.2||!s?c.hex():f<n&&u||f>n&&!u?h(t,l,s-1):h(l,i,s-1)}}(S,d,4.5,M)),8&t.$$.dirty[0]&&n(23,g=rt(k,"vis.d3-lines.legend.swatch.linecap","round")),8421376&t.$$.dirty[0]&&n(39,m=R&&"butt"!==g?.5*R.strokeWidth:0),32768&t.$$.dirty[0]&&n(38,v=null!==(e=R)&&void 0!==e&&e.symbol?(null===(b=R)||void 0===b||null===(b=b.symbol)||void 0===b?void 0:b.position)||"center":null),32768&t.$$.dirty[0]&&null!==(x=R)&&void 0!==x&&x.symbol&&n(37,B=2*Sa((null===(w=R)||void 0===w?void 0:w.symbol.size)||3.5,1,4)),7372800&t.$$.dirty[0]|192&t.$$.dirty[1]&&null!==(_=R)&&void 0!==_&&_.symbol&&(n(19,q.x="left"===v?B/2+R.strokeWidth:"right"===v?h-B/2-R.strokeWidth:h/2,q),n(19,q.y=y&&"left"===v?f-B/2-R.strokeWidth:y&&"right"===v?B/2+R.strokeWidth:f/2,q)),7897088&t.$$.dirty[0]|384&t.$$.dirty[1]&&n(26,H=R?[{x:"left"===v?q.x:m,y:y?"left"===v?q.y:f-m:f/2},{x:"right"===v?q.x:h-m,y:y?"right"===v?q.y:m:f/2}]:[{x:0,y:0},{x:0,y:0}]),32768&t.$$.dirty[0]|64&t.$$.dirty[1]&&null!==(T=R)&&void 0!==T&&T.symbol){const t=Do(),e=R.symbol,r=Object.values(la).find((t=>t.name===e.shape));if(void 0===r)throw new Error("'".concat(e.shape,"' is not a valid shape"));const i=Math.pow(B/2,2)*Math.PI;r.draw(t,i),n(27,Y=t.toString())}32768&t.$$.dirty[0]&&(null===(A=R)||void 0===A?void 0:A.symbol)&&n(28,W=(null===(E=R)||void 0===E?void 0:E.symbol.style)||"fill")},[x,w,_,k,M,T,$,L,O,S,N,z,C,j,D,R,P,I,F,q,f,y,h,g,o,r,H,Y,W,p,u,c,l,s,a,i,b,B,v,m,d,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},()=>b("mouseenter",{key:z,label:N,color:S,min:P,max:I,value:z}),()=>b("mouseenter",{key:z,label:N,color:S,min:P,max:I,value:z})]}class Va extends Z{constructor(t){super(),K(this,t,Ga,qa,s,{rtl:0,buffer:1,id:2,themeData:3,chroma:4,purifyHtml:5,horizontal:6,blendMultiply:7,blendMultiplyBackground:8,color:9,label:10,key:11,width:12,height:13,pattern:14,line:15,min:16,max:17,highlight:18},null,[-1,-1])}}function Xa(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return"";const{css:i,getProp:o,typography:a}=_o(t,e),s="vis.base.legend.caption",l="vis.base.labels.legend",c=o("vis.base.legend.alignment"),u="below"===n;return i(Bh||(Bh=$h(["\n        text-align: ",";\n        &.dir-rtl {\n            direction: rtl;\n            text-align: ",";\n        }\n\n        ","\n\n        width: ",";\n        height: ",";\n\n        .legend-title {\n            position: relative;\n            margin-bottom: ",";\n        }\n        .legend-title,\n        .legend-title span {\n            text-shadow: none;\n            ","\n        }\n        .legend-title:not(.buffer) > span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-title.buffer {\n            position: absolute;\n            top: 0;\n            width: 100%;\n            z-index: 1;\n        }\n        text:not(.buffer) {\n            fill: currentColor;\n        }\n        g.group text.label,\n        g.group text.label tspan,\n        g.swatch text,\n        g.swatch text tspan {\n            font-size: ",";\n            font-family: ",";\n        }\n    "])),c,("left"===c?"right":"right"===c?"left":null)||c,r?"":"\n        padding-top: ".concat(ko(u?o("vis.base.legend.padding.bottom",10):o("vis.base.legend.padding.top")),";\n        padding-bottom: ").concat(ko(u?o("vis.base.legend.padding.top"):o("vis.base.legend.padding.bottom",10)),";"),ko(o("".concat(l,".width"))),ko(o("".concat(l,".height"))),ko(o("".concat(s,".margin.vertical"),4)),a(rt(e,s),{fontWeight:700}),ko(o("vis.base.labels.legend.fontSize")),o("vis.base.labels.legend.typeface"))}function Ka(t,e){if(!t)return"";const{css:n}=_o(t,e);return n(Yh||(Yh=$h(["\n        /* general styles */\n        svg {\n            overflow: visible;\n            display: block;\n        }\n\n        &.dir-rtl {\n            direction: rtl;\n        }\n\n        /* shared styles */\n        g.group text.label,\n        g.group text.label tspan {\n            dominant-baseline: middle;\n        }\n\n        g.swatch path.tick {\n            shape-rendering: crispEdges;\n        }\n\n        g.swatch text {\n            transition: opacity 0.15s ease-in-out;\n        }\n\n        &.vertical {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: start;\n                dominant-baseline: middle;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                text-anchor: start;\n            }\n\n            & .group text.label,\n            & .group text.label tspan {\n                dominant-baseline: middle;\n            }\n\n            &:not(.dir-rtl) {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: end;\n                }\n            }\n\n            &.dir-rtl {\n                & .group text.label,\n                & .group text.label tspan {\n                    text-anchor: start;\n                }\n            }\n        }\n\n        &.horizontal {\n            & g.swatch text,\n            & g.swatch text tspan {\n                text-anchor: middle;\n                dominant-baseline: hanging;\n            }\n\n            & g.labels text,\n            & g.labels text tspan {\n                dominant-baseline: hanging;\n            }\n        }\n\n        & g.highlighted g.swatch {\n            & text {\n                opacity: 0.3;\n            }\n\n            & rect,\n            & path {\n                opacity: 0.2;\n            }\n\n            &.highlight {\n                & text,\n                & rect,\n                & path {\n                    opacity: 1;\n                }\n            }\n        }\n    "])))}const Za="accessibility / color-legend / ";function Ja(t,e){let{colors:n,title:r="",format:i,swatches:o,limits:a}=e;const s=e=>t("".concat(Za).concat(e));if("function"==typeof n&&a){const[t,e]=[a[0],a[a.length-1]].map(i);return r?s("continuous-title").replace("%title%",r).replace("%from%",t).replace("%to%",e):s("continuous").replace("%from%",t).replace("%to%",e)}{if(!o||!o.length)return"";const[t,e]=[o[0].label,o[o.length-1].label].map((t=>t.replace("<",s("less-than")).replace("≥",s("greater-equal-than"))));return r?s("stepped-title").replace("%title%",r).replace("%count%",String(o.length)).replace("%from%",t).replace("%to%",e):s("stepped").replace("%count%",String(o.length)).replace("%from%",t).replace("%to%",e)}}function Qa(t,e){return"ListFormat"in Intl?new Intl.ListFormat(t).format(e):e.join(", ")}function ts(t,e,n,r){if(!n||!n.length)return"";const i=e=>t("".concat(Za).concat(e)),o=n.map((t=>t.label)),a=o.length<=5?i("category-items-few").replace("%items%",Qa(e,[...o.slice(0,-1),o[o.length-1]])):i("category-items-many").replace("%items%",Qa(e,o.slice(0,3))).replace("%last%",o[o.length-1]);return 1===o.length?r?i("category-single-title").replace("%title%",r).replace("%item%",o[0]):i("category-single").replace("%item%",o[0]):o.length<=5?r?i("category-few-title").replace("%count%",String(o.length)).replace("%title%",r).replace("%items_description%",a):i("category-few").replace("%count%",String(o.length)).replace("%items_description%",a):r?i("category-many-title").replace("%count%",String(o.length)).replace("%title%",r).replace("%items_description%",a):i("category-many").replace("%count%",String(o.length)).replace("%items_description%",a)}function es(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,r=null,i=!1,o=!0;return{set(a){let s=a;"string"!=typeof a&&(s=JSON.stringify(a)),r!==s&&(e&&clearTimeout(e),e=setTimeout((()=>{o=!1,t(a)}),o?n:0)),r=s,i=!0},clear(){i&&null===r||(r=null,o=!0,e&&clearTimeout(e),t(null)),i=!0},get:()=>r}}function ns(t,e){const n="ontouchstart"in window||navigator.maxTouchPoints,r=es((t=>{o&&o("string"==typeof t||"number"==typeof t?t:null)}),n?0:700),i=e=>{r.clear(),t(e.type)};let o;return{onMouseEnter:n=>{e&&r.set(n.detail.key),t(n.type,n.detail)},onMouseLeave:i,onLegendMouseLeave:()=>{n&&i(new MouseEvent("mouseleave"))},onHighlight:t=>{o=t}}}function rs(t){const e={size:5,color:t};return{...e,textStroke:"".concat(e.size,"px ").concat(e.color),textShadow:"1px 1px 0px ".concat(e.color,", 0px 1px 0px ").concat(e.color,", -1px 1px 0px ").concat(e.color,", 1px -1px 0px ").concat(e.color,", 0px -1px 0px ").concat(e.color,", -1px -1px 0px ").concat(e.color,", 1px 0px 0px ").concat(e.color,", 0px 0px 0px ").concat(e.color,", -1px 0px 0px ").concat(e.color),svgTextStyles:{fill:e.color,stroke:e.color,"stroke-width":e.size,"stroke-linejoin":"round"}}}function is(t,e,n){const r=t.slice();return r[36]=e[n],r[38]=n,r}function os(t){let e,n,r=t[19],i=[];for(let e=0;e<r.length;e+=1)i[e]=as(is(t,r,e));const o=t=>q(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=y()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);h(t,e,r),n=!0},p(t,n){if(20453757&n[0]){let a;for(r=t[19],a=0;a<r.length;a+=1){const o=is(t,r,a);i[a]?(i[a].p(o,n),W(i[a],1)):(i[a]=as(o),i[a].c(),W(i[a],1),i[a].m(e.parentNode,e))}for(B(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)W(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)q(i[t]);n=!1},d(t){d(i,t),t&&f(e)}}}function as(t){let e,r;const i=[t[36],{id:"".concat(t[24],"-").concat(t[38])},{rtl:t[4]},{themeData:t[8]},{chroma:t[5]},{purifyHtml:t[6]},{buffer:t[20]},{highlight:t[0]?t[0]===t[36].key:t[3].includes(t[36].key)},{blendMultiply:t[11]},{blendMultiplyBackground:t[12]},{horizontal:t[2]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Va({props:o}),e.$on("mouseenter",t[21]),{c(){G(e.$$.fragment)},m(t,n){V(e,t,n),r=!0},p(t,n){const r=18356605&n[0]?function(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(i,[524288&n[0]&&(o=t[36],"object"==typeof o&&null!==o?o:{}),16777216&n[0]&&{id:"".concat(t[24],"-").concat(t[38])},16&n[0]&&{rtl:t[4]},256&n[0]&&{themeData:t[8]},32&n[0]&&{chroma:t[5]},64&n[0]&&{purifyHtml:t[6]},1048576&n[0]&&{buffer:t[20]},524297&n[0]&&{highlight:t[0]?t[0]===t[36].key:t[3].includes(t[36].key)},2048&n[0]&&{blendMultiply:t[11]},4096&n[0]&&{blendMultiplyBackground:t[12]},4&n[0]&&{horizontal:t[2]}]):{};var o;e.$set(r)},i(t){r||(W(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){X(e,t)}}}function ss(t){let e,n,r,i,o,a=t[7]&&os(t);return{c(){e=p("div"),a&&a.c(),b(e,"class",n=["legend-categories",t[17],t[16],t[15],t[2]?"horizontal":"vertical"].join(" ")),_(e,"highlighted",""!==t[0]||t[3].length)},m(n,s){h(n,e,s),a&&a.m(e,null),r=!0,i||(o=v(e,"mouseleave",t[22]),i=!0)},p(t,i){t[7]?a?(a.p(t,i),128&i[0]&&W(a,1)):(a=os(t),a.c(),W(a,1),a.m(e,null)):a&&(B(),q(a,1,1,(()=>{a=null})),Y()),(!r||229380&i[0]&&n!==(n=["legend-categories",t[17],t[16],t[15],t[2]?"horizontal":"vertical"].join(" ")))&&b(e,"class",n),(!r||229389&i[0])&&_(e,"highlighted",""!==t[0]||t[3].length)},i(t){r||(W(a),r=!0)},o(t){q(a),r=!1},d(t){t&&f(e),a&&a.d(),i=!1,o()}}}function ls(t){let e,n;return e=new nt({props:{title:t[1],buffer:t[20],className:["category-legend",t[2]?"horizontal":"vertical",t[16],t[15],t[18]].join(" "),maxWidth:ko(t[9]),maxHeight:ko(t[10]),ariaLabel:ts(t[13],t[14],t[19],t[1]),purifyHtml:t[6],$$slots:{default:[ss]},$$scope:{ctx:t}}}),e.$on("mouseleave",t[23]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),1048576&n[0]&&(r.buffer=t[20]),360452&n[0]&&(r.className=["category-legend",t[2]?"horizontal":"vertical",t[16],t[15],t[18]].join(" ")),512&n[0]&&(r.maxWidth=ko(t[9])),1024&n[0]&&(r.maxHeight=ko(t[10])),548866&n[0]&&(r.ariaLabel=ts(t[13],t[14],t[19],t[1])),64&n[0]&&(r.purifyHtml=t[6]),1808893&n[0]|256&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function cs(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let{title:f=""}=e,{horizontal:d=!0}=e,{highlight:p=!1}=e,{defaultHighlighted:g=[]}=e,{reverse:m=!1}=e,{rtl:y=!1}=e,{emotion:v}=e,{chroma:b}=e,{purifyHtml:x}=e,{swatches:w}=e,{themeData:_={}}=e,{width:k="100%"}=e,{height:M="auto"}=e,{position:T="above"}=e,{noPadding:E=!1}=e,{buffer:$=!1}=e,{blendMultiply:L=!1}=e,{blendMultiplyBackground:O=""}=e,{translate:S}=e,{locale:N}=e,{highlightedKey:z=""}=e,{highlightedValue:C=null}=e;const{onMouseEnter:j,onMouseLeave:D,onLegendMouseLeave:R,onHighlight:P}=ns(h,p);P((t=>{n(0,z=t||""),""===z&&n(25,C=null)}));const I=Math.random().toString().replace(".","");return t.$$set=t=>{"title"in t&&n(1,f=t.title),"horizontal"in t&&n(2,d=t.horizontal),"highlight"in t&&n(26,p=t.highlight),"defaultHighlighted"in t&&n(3,g=t.defaultHighlighted),"reverse"in t&&n(27,m=t.reverse),"rtl"in t&&n(4,y=t.rtl),"emotion"in t&&n(28,v=t.emotion),"chroma"in t&&n(5,b=t.chroma),"purifyHtml"in t&&n(6,x=t.purifyHtml),"swatches"in t&&n(7,w=t.swatches),"themeData"in t&&n(8,_=t.themeData),"width"in t&&n(9,k=t.width),"height"in t&&n(10,M=t.height),"position"in t&&n(29,T=t.position),"noPadding"in t&&n(30,E=t.noPadding),"buffer"in t&&n(31,$=t.buffer),"blendMultiply"in t&&n(11,L=t.blendMultiply),"blendMultiplyBackground"in t&&n(12,O=t.blendMultiplyBackground),"translate"in t&&n(13,S=t.translate),"locale"in t&&n(14,N=t.locale),"highlightedKey"in t&&n(0,z=t.highlightedKey),"highlightedValue"in t&&n(25,C=t.highlightedValue)},t.$$.update=()=>{var e;256&t.$$.dirty[0]&&n(33,r=rt(_,"colors.background","white")),5&t.$$.dirty[1]&&n(20,i=$&&rs(r)),32&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(32,o=b(r).lab()[0]<50),134217856&t.$$.dirty[0]&&n(19,a=m?w.slice(0).reverse():w),1879048448&t.$$.dirty[0]&&n(18,s=Xa(v,_,T,E)),268435712&t.$$.dirty[0]&&n(17,l=function(t,e){if(!t)return"";const{css:n,getProp:r,typography:i}=_o(t,e);return n(Wh||(Wh=$h(["\n        line-height: 1.4;\n        ","\n\n        svg {\n            overflow: visible;\n            border-radius: ",";\n            vertical-align: middle;\n            position: relative;\n            z-index: 10;\n        }\n\n        .legend-color {\n            display: inline-block;\n            vertical-align: middle;\n            border-radius: ",";\n            position: relative;\n            z-index: 10;\n        }\n\n        &:not(.dir-rtl) .legend-color {\n            margin-right: 3px;\n        }\n        &.dir-rtl .legend-color {\n            margin-left: 3px;\n        }\n\n        .legend-no-break {\n            white-space: nowrap;\n            display: inline-block;\n            position: relative;\n        }\n\n        .legend-label {\n            display: inline;\n            white-space: normal;\n            vertical-align: middle;\n            position: relative;\n        }\n        .legend-label span {\n            position: relative;\n            z-index: 10;\n        }\n        .legend-label.buffer {\n            position: absolute;\n            right: 0;\n            z-index: 1;\n        }\n\n        .legend-swatch {\n            margin-bottom: 3px;\n            margin-bottom: ",";\n        }\n        &.horizontal:not(.dir-rtl) .legend-swatch {\n            margin-right: 10px;\n        }\n        &.horizontal.dir-rtl .legend-swatch {\n            margin-left: 10px;\n        }\n        &.horizontal .legend-swatch {\n            display: inline;\n        }\n        &.horizontal .legend-swatch .legend-color {\n            display: inline-block;\n        }\n        /* if br tag is present in label, we force swatch to be full width */\n        &.horizontal .legend-swatch:has(br) {\n            display: block;\n        }\n        &.vertical .legend-swatch {\n            display: grid;\n            grid-template-columns: auto 1fr;\n            min-height: var(--swatch-height);\n            grid-template-rows: max(1lh, var(--swatch-height)) auto;\n        }\n        &.vertical .legend-no-break {\n            display: grid;\n            align-content: center;\n        }\n        &.vertical .legend-color {\n            grid-column: 1;\n            grid-row: 1;\n        }\n        &.vertical .legend-label {\n            grid-row: span 2;\n            align-self: center;\n        }\n\n        &.highlighted .legend-swatch {\n            opacity: 0.3;\n            transition: opacity 0.15s ease-in-out;\n        }\n        &.highlighted.is-dark .legend-swatch {\n            opacity: 0.4;\n        }\n        &.highlighted .legend-swatch.highlight {\n            opacity: 1;\n        }\n    "])),i(rt(e,"vis.base.labels.legend")),ko(r("vis.base.legend.swatch.borderRadius")),ko(r("vis.base.legend.swatch.borderRadius")),ko(r("vis.base.legend.rowSpacing")))}(v,_)),16&t.$$.dirty[0]&&n(16,c=y?"dir-rtl":"dir-ltr"),2&t.$$.dirty[1]&&n(15,u=o?"is-dark":""),33554560&t.$$.dirty[0]&&n(0,z=(null===(e=w.find((t=>{if(null!==C&&t.min&&t.max)return C>=t.min&&C<t.max})))||void 0===e?void 0:e.key)||"")},[z,f,d,g,y,b,x,w,_,k,M,L,O,S,N,u,c,l,s,a,i,j,D,R,I,C,p,m,v,T,E,$,o,r]}class us extends Z{constructor(t){super(),K(this,t,cs,ls,s,{title:1,horizontal:2,highlight:26,defaultHighlighted:3,reverse:27,rtl:4,emotion:28,chroma:5,purifyHtml:6,swatches:7,themeData:8,width:9,height:10,position:29,noPadding:30,buffer:31,blendMultiply:11,blendMultiplyBackground:12,translate:13,locale:14,highlightedKey:0,highlightedValue:25},null,[-1,-1])}}function hs(t,e,n){const r=t.slice();return r[65]=e[n],r}function fs(t,e,n){const r=t.slice();return r[68]=e[n],r[70]=n,r}function ds(t,e,n){const r=t.slice();return r[71]=e[n],r[73]=n,r}function ps(t,e,n){const r=t.slice();return r[71]=e[n],r[73]=n,r}function gs(t){let e,n,r,i,o,a,s,l;return{c(){e=g("g"),n=g("path"),i=g("rect"),b(n,"class","triangle"),b(n,"d",t[19]),b(n,"transform",r="translate(".concat(t[18].join(","),")")),w(n,"fill",t[24].svgTextStyles.fill),w(n,"stroke",t[24].svgTextStyles.stroke),w(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),w(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),b(e,"class","highlight"),b(e,"aria-hidden","true"),b(e,"style",t[15]),b(i,"class","buffer"),b(i,"width",o=(t[3]?t[4]:t[12])+t[24].size),b(i,"height",a=(t[3]?t[12]:t[5])+t[24].size),b(i,"x",s=-t[24].size/2),b(i,"y",l=-t[24].size/2),w(i,"fill",t[24].color),w(i,"pointer-events","none")},m(t,r){h(t,e,r),u(e,n),h(t,i,r)},p(t,c){524288&c[0]&&b(n,"d",t[19]),262144&c[0]&&r!==(r="translate(".concat(t[18].join(","),")"))&&b(n,"transform",r),16777216&c[0]&&w(n,"fill",t[24].svgTextStyles.fill),16777216&c[0]&&w(n,"stroke",t[24].svgTextStyles.stroke),16777216&c[0]&&w(n,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&c[0]&&w(n,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),32768&c[0]&&b(e,"style",t[15]),16781336&c[0]&&o!==(o=(t[3]?t[4]:t[12])+t[24].size)&&b(i,"width",o),16781352&c[0]&&a!==(a=(t[3]?t[12]:t[5])+t[24].size)&&b(i,"height",a),16777216&c[0]&&s!==(s=-t[24].size/2)&&b(i,"x",s),16777216&c[0]&&l!==(l=-t[24].size/2)&&b(i,"y",l),16777216&c[0]&&w(i,"fill",t[24].color)},d(t){t&&f(e),t&&f(i)}}}function ms(t){let e,n,r;return{c(){e=g("rect"),b(e,"width",n=t[3]?t[4]:t[12]),b(e,"height",r=t[3]?t[12]:t[5]),w(e,"fill",t[23])},m(t,n){h(t,e,n)},p(t,i){4120&i[0]&&n!==(n=t[3]?t[4]:t[12])&&b(e,"width",n),4136&i[0]&&r!==(r=t[3]?t[12]:t[5])&&b(e,"height",r),8388608&i[0]&&w(e,"fill",t[23])},d(t){t&&f(e)}}}function ys(t){let e,n,r,i=t[68],o=[];for(let e=0;e<i.length;e+=1)o[e]=vs(ps(t,i,e));return{c(){e=g("text");for(let t=0;t<o.length;t+=1)o[t].c();b(e,"class",n=["buffer",t[21][t[70]]].join(" ")),b(e,"transform",r="translate(".concat(t[20][t[70]],")")),w(e,"fill",t[24].svgTextStyles.fill),w(e,"stroke",t[24].svgTextStyles.stroke),w(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},m(t,n){h(t,e,n);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null)},p(t,a){if(512&a[0]){let n;for(i=t[68],n=0;n<i.length;n+=1){const r=ps(t,i,n);o[n]?o[n].p(r,a):(o[n]=vs(r),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length}2097152&a[0]&&n!==(n=["buffer",t[21][t[70]]].join(" "))&&b(e,"class",n),1048576&a[0]&&r!==(r="translate(".concat(t[20][t[70]],")"))&&b(e,"transform",r),16777216&a[0]&&w(e,"fill",t[24].svgTextStyles.fill),16777216&a[0]&&w(e,"stroke",t[24].svgTextStyles.stroke),16777216&a[0]&&w(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&a[0]&&w(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e),d(o,t)}}}function vs(t){let e,n,r=t[71]+"";return{c(){e=g("tspan"),n=m(r),b(e,"x","0"),b(e,"dy",0===t[73]?0:Ts)},m(t,r){h(t,e,r),u(e,n)},p(t,e){512&e[0]&&r!==(r=t[71]+"")&&x(n,r)},d(t){t&&f(e)}}}function bs(t){let e,n,r=t[71]+"";return{c(){e=g("tspan"),n=m(r),b(e,"x","0"),b(e,"dy",0===t[73]?0:Ts)},m(t,r){h(t,e,r),u(e,n)},p(t,e){512&e[0]&&r!==(r=t[71]+"")&&x(n,r)},d(t){t&&f(e)}}}function xs(t){let e,n,r,i=t[0]&&t[24]&&ys(t),o=t[68],a=[];for(let e=0;e<o.length;e+=1)a[e]=bs(ds(t,o,e));return{c(){i&&i.c(),e=g("text");for(let t=0;t<a.length;t+=1)a[t].c();b(e,"class",n=t[21][t[70]]),b(e,"transform",r="translate(".concat(t[20][t[70]],")"))},m(t,n){i&&i.m(t,n),h(t,e,n);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null)},p(t,s){if(t[0]&&t[24]?i?i.p(t,s):(i=ys(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),512&s[0]){let n;for(o=t[68],n=0;n<o.length;n+=1){const r=ds(t,o,n);a[n]?a[n].p(r,s):(a[n]=bs(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}2097152&s[0]&&n!==(n=t[21][t[70]])&&b(e,"class",n),1048576&s[0]&&r!==(r="translate(".concat(t[20][t[70]],")"))&&b(e,"transform",r)},d(t){i&&i.d(t),t&&f(e),d(a,t)}}}function ws(t){let e,n;return{c(){e=g("text"),n=m(t[17]),b(e,"class","buffer"),w(e,"fill",t[24].svgTextStyles.fill),w(e,"stroke",t[24].svgTextStyles.stroke),w(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"]),w(e,"pointer-events","none")},m(t,r){h(t,e,r),u(e,n)},p(t,r){131072&r[0]&&x(n,t[17]),16777216&r[0]&&w(e,"fill",t[24].svgTextStyles.fill),16777216&r[0]&&w(e,"stroke",t[24].svgTextStyles.stroke),16777216&r[0]&&w(e,"stroke-width",t[24].svgTextStyles["stroke-width"]),16777216&r[0]&&w(e,"stroke-linejoin",t[24].svgTextStyles["stroke-linejoin"])},d(t){t&&f(e)}}}function _s(t){let e,n;return{c(){e=g("stop"),b(e,"offset",100*t[65]+"%"),b(e,"stop-color",n=t[31](t[65],t[2]))},m(t,n){h(t,e,n)},p(t,r){4&r[0]&&n!==(n=t[31](t[65],t[2]))&&b(e,"stop-color",n)},d(t){t&&f(e)}}}function ks(t){let e,n,r,i,a,s,l,c,p,k,M,T,A,E,$,L,O,S,N,z,C,j,D,R=t[0]&&t[24]&&gs(t),P=t[8]&&ms(t),I=t[9],F=[];for(let e=0;e<I.length;e+=1)F[e]=xs(fs(t,I,e));let U=t[0]&&t[24]&&ws(t),H=t[29],B=[];for(let e=0;e<H.length;e+=1)B[e]=_s(hs(t,H,e));return{c(){e=g("svg"),n=g("g"),R&&R.c(),r=y(),P&&P.c(),i=g("rect"),l=g("g");for(let t=0;t<F.length;t+=1)F[t].c();p=g("g"),k=g("path"),T=g("g"),U&&U.c(),A=g("text"),E=m(t[17]),L=g("defs"),O=g("linearGradient");for(let t=0;t<B.length;t+=1)B[t].c();b(i,"class","legend-color"),b(i,"width",a=t[3]?t[4]:t[12]),b(i,"height",s=t[3]?t[12]:t[5]),w(i,"fill","url(#".concat(t[30],")")),w(i,"mix-blend-mode",t[8]?"screen":null),b(l,"class","labels"),b(l,"aria-hidden","true"),b(l,"transform",c="translate(".concat(t[22],")")),b(k,"class","triangle"),b(k,"d",t[19]),b(k,"transform",M="translate(".concat(t[18].join(","),")")),b(T,"class","text"),b(T,"transform",$="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")")),b(p,"class","highlight"),b(p,"aria-hidden","true"),b(p,"style",t[15]),_(n,"highlighted",null!==t[13]&&t[10]),b(O,"id",t[30]),b(O,"x2",S=t[3]?1:0),b(O,"y2",N=t[3]?0:1),b(e,"width",z=t[16].width),b(e,"height",C=t[16].height),_(e,"no-transition",t[14])},m(o,a){h(o,e,a),u(e,n),R&&R.m(n,null),u(n,r),P&&P.m(n,null),u(n,i),u(n,l);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(l,null);u(n,p),u(p,k),u(p,T),U&&U.m(T,null),u(T,A),u(A,E),t[55](n),u(e,L),u(L,O);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(O,null);j||(D=[v(e,"mouseenter",t[33]),v(e,"mouseleave",t[34]),v(e,"mousemove",t[35])],j=!0)},p(t,o){if(t[0]&&t[24]?R?R.p(t,o):(R=gs(t),R.c(),R.m(n,r)):R&&(R.d(1),R=null),t[8]?P?P.p(t,o):(P=ms(t),P.c(),P.m(n,i)):P&&(P.d(1),P=null),4120&o[0]&&a!==(a=t[3]?t[4]:t[12])&&b(i,"width",a),4136&o[0]&&s!==(s=t[3]?t[12]:t[5])&&b(i,"height",s),256&o[0]&&w(i,"mix-blend-mode",t[8]?"screen":null),19923457&o[0]){let e;for(I=t[9],e=0;e<I.length;e+=1){const n=fs(t,I,e);F[e]?F[e].p(n,o):(F[e]=xs(n),F[e].c(),F[e].m(l,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=I.length}if(4194304&o[0]&&c!==(c="translate(".concat(t[22],")"))&&b(l,"transform",c),524288&o[0]&&b(k,"d",t[19]),262144&o[0]&&M!==(M="translate(".concat(t[18].join(","),")"))&&b(k,"transform",M),t[0]&&t[24]?U?U.p(t,o):(U=ws(t),U.c(),U.m(T,A)):U&&(U.d(1),U=null),131072&o[0]&&x(E,t[17]),4168&o[0]&&$!==($="translate(".concat(t[3]?[0,t[12]+12]:[t[6]?-12:t[12]+12,0],")"))&&b(T,"transform",$),32768&o[0]&&b(p,"style",t[15]),9216&o[0]&&_(n,"highlighted",null!==t[13]&&t[10]),536870916&o[0]|1&o[1]){let e;for(H=t[29],e=0;e<H.length;e+=1){const n=hs(t,H,e);B[e]?B[e].p(n,o):(B[e]=_s(n),B[e].c(),B[e].m(O,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=H.length}8&o[0]&&S!==(S=t[3]?1:0)&&b(O,"x2",S),8&o[0]&&N!==(N=t[3]?0:1)&&b(O,"y2",N),65536&o[0]&&z!==(z=t[16].width)&&b(e,"width",z),65536&o[0]&&C!==(C=t[16].height)&&b(e,"height",C),16384&o[0]&&_(e,"no-transition",t[14])},d(n){n&&f(e),R&&R.d(),P&&P.d(),d(F,n),U&&U.d(),t[55](null),d(B,n),j=!1,o(D)}}}function Ms(t){let e,n;return e=new nt({props:{title:t[1],ariaLabel:t[25],buffer:t[24],className:["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" "),width:t[3]?ko(t[4]):void 0,purifyHtml:t[7],$$slots:{default:[ks]},$$scope:{ctx:t}}}),e.$on("mouseleave",t[32]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),33554432&n[0]&&(r.ariaLabel=t[25]),16777216&n[0]&&(r.buffer=t[24]),469762120&n[0]&&(r.className=["color-legend","continuous",t[3]?"horizontal":"vertical",t[6]?"dir-rtl":"dir-ltr",t[28],t[27],t[26]].join(" ")),24&n[0]&&(r.width=t[3]?ko(t[4]):void 0),128&n[0]&&(r.purifyHtml=t[7]),33554301&n[0]|8192&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}const Ts=15;function As(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,g,m,y,v,b,{title:x=""}=e,{colors:w=(()=>"fff")}=e,{limits:_=[0,100]}=e,{format:k=(t=>String(+t.toFixed(2)))}=e,{labels:M}=e,{horizontal:T=!0}=e,{width:E=100}=e,{height:$=200}=e,{noPadding:O=!1}=e,{position:S="above"}=e,{highlight:N=!1}=e,{rtl:z=!1}=e,{reverse:C=!1}=e,{buffer:D=!1}=e,{emotion:R}=e,{purifyHtml:P}=e,{themeData:I={}}=e,{blendMultiply:F=!1}=e,{blendMultiplyBackground:U=""}=e,{translate:H}=e;const B=new Promise((t=>{b=t})),Y=A();let W=!1,q=!1;const G=[...Array(17).keys()].map((t=>t/16)),V="g-".concat(Math.floor(1e6*Math.random()).toString(32));function X(t){return q?t<.5?u[0]+2*t*(u[1]-u[0]):u[1]+2*(t-.5)*(u[2]-u[1]):u[0]+t*(u[1]-u[0])}let K=[],Z=!1,J=!1,{highlightedValue:Q=null}=e,tt=null;const et={x:null,y:null};let nt=null,it=null;const{onMouseEnter:ot,onMouseLeave:at,onLegendMouseLeave:st,onHighlight:lt}=ns(Y,N);let ct;lt((t=>{n(10,Z=null!==t)}));const ut={width:100,height:100};return t.$$set=t=>{"title"in t&&n(1,x=t.title),"colors"in t&&n(2,w=t.colors),"limits"in t&&n(36,_=t.limits),"format"in t&&n(37,k=t.format),"labels"in t&&n(38,M=t.labels),"horizontal"in t&&n(3,T=t.horizontal),"width"in t&&n(4,E=t.width),"height"in t&&n(5,$=t.height),"noPadding"in t&&n(39,O=t.noPadding),"position"in t&&n(40,S=t.position),"highlight"in t&&n(41,N=t.highlight),"rtl"in t&&n(6,z=t.rtl),"reverse"in t&&n(42,C=t.reverse),"buffer"in t&&n(0,D=t.buffer),"emotion"in t&&n(43,R=t.emotion),"purifyHtml"in t&&n(7,P=t.purifyHtml),"themeData"in t&&n(44,I=t.themeData),"blendMultiply"in t&&n(8,F=t.blendMultiply),"blendMultiplyBackground"in t&&n(45,U=t.blendMultiplyBackground),"translate"in t&&n(46,H=t.translate),"highlightedValue"in t&&n(48,Q=t.highlightedValue)},t.$$.update=()=>{if(13056&t.$$.dirty[1]&&n(28,r=Xa(R,I,S,O)),12288&t.$$.dirty[1]&&n(27,i=Ka(R,I)),12288&t.$$.dirty[1]&&n(26,o=function(t,e){const{css:n}=_o(t,e);return n(qh||(qh=$h(["\n        &.vertical {\n            g.labels text,\n            g.labels text tspan {\n                &.min {\n                    dominant-baseline: hanging;\n                }\n                &.center {\n                    dominant-baseline: middle;\n                }\n                &.max {\n                    dominant-baseline: ideographic;\n                }\n            }\n        }\n        &.horizontal {\n            g.labels text,\n            g.labels text tspan {\n                &.center {\n                    text-anchor: middle;\n                }\n            }\n            &:not(.dir-rtl) g.labels text,\n            &:not(.dir-rtl) g.labels text tspan {\n                &.min {\n                    text-anchor: start;\n                }\n                &.max {\n                    text-anchor: end;\n                }\n            }\n            &.dir-rtl g.labels text,\n            &.dir-rtl g.labels text tspan {\n                &.min {\n                    text-anchor: end;\n                }\n                &.max {\n                    text-anchor: start;\n                }\n            }\n        }\n        g.highlight {\n            display: none;\n            transition: transform 0.4s cubic-bezier(1, 0, 0, 1);\n        }\n        .no-transition g.highlight {\n            transition: none;\n        }\n        .highlighted g.highlight {\n            display: block;\n            & path.triangle {\n                fill: #000;\n            }\n            & text {\n                font-size: 14px;\n            }\n        }\n        .highlighted g.labels text {\n            opacity: 0.3;\n        }\n        &.horizontal .highlighted rect {\n            cursor: text;\n        }\n        &.vertical .highlighted rect {\n            cursor: vertical-text;\n        }\n        &.horizontal g.highlight text,\n        &.horizontal g.highlight text tspan {\n            text-anchor: middle;\n            dominant-baseline: hanging;\n        }\n        &.vertical g.highlight text,\n        &.vertical g.highlight text tspan {\n            dominant-baseline: mathematical;\n        }\n    "])))}(R,I)),72&t.$$.dirty[0]|2048&t.$$.dirty[1]&&n(49,W=z||!T?!C:C),32&t.$$.dirty[1]&&n(50,q=3===_.length&&void 0!==_[2]),6&t.$$.dirty[0]|32864&t.$$.dirty[1]&&n(25,a=Ja(H,{colors:w,title:x,format:k,limits:_})),1&t.$$.dirty[0]|8192&t.$$.dirty[1]&&n(24,s=D&&rs(rt(I,"colors.background","white"))),8192&t.$$.dirty[1]&&n(12,l=rt(I,"vis.base.legend.ruler.thickness",13)),8192&t.$$.dirty[1]&&n(54,c=rt(I,"vis.base.legend.swatch.marginRight",3)),262176&t.$$.dirty[1]&&(u=W?[..._].reverse():[..._]),8192&t.$$.dirty[1]&&n(23,h=rt(I,"colors.background","#ffffff")),262368&t.$$.dirty[1]){const t=[...M||_.map(k)];W&&t.reverse(),n(9,K=t.map((t=>[...t.split("<br>")])))}if(4168&t.$$.dirty[0]|8388608&t.$$.dirty[1]&&n(22,f=(T?[0,l+c]:[z?-c:l+c,0]).join(",")),512&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(21,d=K.map(((t,e)=>0===e?"min":1===e&&q?"center":"max"))),568&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(20,p=K.map(((t,e)=>(T?[E*e/(q?2:1),0]:[0,$*e/(q?2:1)]).join(",")))),72&t.$$.dirty[0]&&n(19,g=T?"M-5,0 L 5,0 L 0,-7 Z":z?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z"),4168&t.$$.dirty[0]&&n(18,m=T?[0,l+7]:[z?-7:l+7,0]),1024&t.$$.dirty[0]|131072&t.$$.dirty[1]&&null!==Q&&(n(14,J=!Z),n(10,Z=!0),n(51,tt=Q)),1179648&t.$$.dirty[1]&&null===Q&&null!==tt&&(n(14,J=!1),n(10,Z=!1)),56&t.$$.dirty[0]|2097152&t.$$.dirty[1]){const t=T?et.x:et.y;n(53,nt=null!==t?Math.min(1,Math.max(0,t/(T?E:$))):null)}if(4325376&t.$$.dirty[1]&&n(13,y=null!==Q?Q:null!==nt?X(nt):null),8192&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(17,v=null!==y?k(y):""),56&t.$$.dirty[0]|4325376&t.$$.dirty[1]){const t=null!==Q?function(t){return q?(W?t>u[1]:t<u[1])?.5*(t-u[0])/(u[1]-u[0]):.5+.5*(t-u[1])/(u[2]-u[1]):(t-u[0])/(u[1]-u[0])}(Q):null!==nt?nt:null;n(15,it=null!==t?"transform: translate(".concat((T?[t*E,0]:[0,t*$]).map((t=>"".concat(t,"px"))),")"):null)}2064&t.$$.dirty[0]&&async function(){if(!ct)return;const t=D;n(0,D=!1),await j();const e=ct.getBoundingClientRect();n(16,ut.height=e.height,ut),n(16,ut.width=e.width,ut),!T&&z&&ct.setAttribute("transform","translate(".concat(e.width-l,",0)")),n(0,D=t),b(null)}()},[D,x,w,T,E,$,z,P,F,K,Z,ct,l,y,J,it,ut,v,m,g,p,d,f,h,s,a,o,i,r,G,V,function(t,e){const n=W?1-t:t;return e(q?n<=.5?2*n*(_[1]-_[0])+_[0]:2*(n-.5)*(_[2]-_[1])+_[1]:n*(_[1]-_[0])+_[0])},st,function(){N&&n(14,J=!0)},function(t){N&&(n(14,J=!1),n(52,et.x=null,et),n(52,et.y=null,et),at(t))},async function(t){if(!N)return;const e=t.currentTarget.getBoundingClientRect();if(n(52,et.x=t.clientX-e.x,et),n(52,et.y=t.clientY-e.y,et),await j(),null===nt||null===y)return;const r=X(nt+(W?.05:-.05)),i=X(nt+(W?-.05:.05));ot(new CustomEvent("mouseenter",{detail:{key:y,min:r,max:i}}))},_,k,M,O,S,N,C,R,I,U,H,B,Q,W,q,tt,et,nt,c,function(t){L[t?"unshift":"push"]((()=>{ct=t,n(11,ct)}))}]}class Es extends Z{constructor(t){super(),K(this,t,As,Ms,s,{title:1,colors:2,limits:36,format:37,labels:38,horizontal:3,width:4,height:5,noPadding:39,position:40,highlight:41,rtl:6,reverse:42,buffer:0,emotion:43,purifyHtml:7,themeData:44,blendMultiply:8,blendMultiplyBackground:45,translate:46,rendered:47,highlightedValue:48},null,[-1,-1,-1])}get rendered(){return this.$$.ctx[47]}}function $s(t){let e,n=t[4]&&Os(t);return{c(){n&&n.c(),e=g("rect"),b(e,"class","legend-color"),b(e,"width",t[12]),b(e,"height",t[13]),w(e,"fill",t[6]),w(e,"mix-blend-mode",t[4]?"screen":null)},m(t,r){n&&n.m(t,r),h(t,e,r)},p(t,r){t[4]?n?n.p(t,r):(n=Os(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),4096&r[0]&&b(e,"width",t[12]),8192&r[0]&&b(e,"height",t[13]),64&r[0]&&w(e,"fill",t[6]),16&r[0]&&w(e,"mix-blend-mode",t[4]?"screen":null)},d(t){n&&n.d(t),t&&f(e)}}}function Ls(t){let e,n,r,i,o,a;return{c(){e=g("rect"),b(e,"class","buffer"),b(e,"width",n=t[12]+t[0].size),b(e,"height",r=t[13]+t[0].size),b(e,"x",i=-t[0].size/2),b(e,"y",o=-t[0].size/2),b(e,"style",a=t[14]?"opacity: 0.2 !important;":""),w(e,"fill",t[0].color)},m(t,n){h(t,e,n)},p(t,s){4097&s[0]&&n!==(n=t[12]+t[0].size)&&b(e,"width",n),8193&s[0]&&r!==(r=t[13]+t[0].size)&&b(e,"height",r),1&s[0]&&i!==(i=-t[0].size/2)&&b(e,"x",i),1&s[0]&&o!==(o=-t[0].size/2)&&b(e,"y",o),16384&s[0]&&a!==(a=t[14]?"opacity: 0.2 !important;":"")&&b(e,"style",a),(16384&s[0]||16385&s[0])&&w(e,"fill",t[0].color)},d(t){t&&f(e)}}}function Os(t){let e;return{c(){e=g("rect"),b(e,"width",t[12]),b(e,"height",t[13]),w(e,"fill",t[5])},m(t,n){h(t,e,n)},p(t,n){4096&n[0]&&b(e,"width",t[12]),8192&n[0]&&b(e,"height",t[13]),32&n[0]&&w(e,"fill",t[5])},d(t){t&&f(e)}}}function Ss(t){let e,n;function r(t,e){return t[0]?zs:Ns}let i=r(t),o=i(t),a=t[15]>0&&Cs(t);return{c(){o.c(),e=y(),a&&a.c(),n=y()},m(t,r){o.m(t,r),h(t,e,r),a&&a.m(t,r),h(t,n,r)},p(t,s){i===(i=r(t))&&o?o.p(t,s):(o.d(1),o=i(t),o&&(o.c(),o.m(e.parentNode,e))),t[15]>0?a?a.p(t,s):(a=Cs(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){o.d(t),t&&f(e),a&&a.d(t),t&&f(n)}}}function Ns(t){let e,n;return{c(){e=g("text"),n=m(t[7]),b(e,"transform",t[18]),w(e,"text-anchor",t[3]?t[2]?"start":"end":""),w(e,"dominant-baseline",t[3]?"central":"")},m(r,i){h(r,e,i),u(e,n),t[36](e)},p(t,r){128&r[0]&&x(n,t[7]),262144&r[0]&&b(e,"transform",t[18]),12&r[0]&&w(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&w(e,"dominant-baseline",t[3]?"central":"")},d(n){n&&f(e),t[36](null)}}}function zs(t){let e,n;return{c(){e=g("text"),n=m(t[7]),b(e,"transform",t[18]),w(e,"text-anchor",t[3]?t[2]?"start":"end":""),w(e,"dominant-baseline",t[3]?"central":""),w(e,"fill",t[0].svgTextStyles.fill),w(e,"stroke",t[0].svgTextStyles.stroke),w(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),w(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},m(r,i){h(r,e,i),u(e,n),t[35](e)},p(t,r){128&r[0]&&x(n,t[7]),262144&r[0]&&b(e,"transform",t[18]),12&r[0]&&w(e,"text-anchor",t[3]?t[2]?"start":"end":""),8&r[0]&&w(e,"dominant-baseline",t[3]?"central":""),1&r[0]&&w(e,"fill",t[0].svgTextStyles.fill),1&r[0]&&w(e,"stroke",t[0].svgTextStyles.stroke),1&r[0]&&w(e,"stroke-width",t[0].svgTextStyles["stroke-width"]),1&r[0]&&w(e,"stroke-linejoin",t[0].svgTextStyles["stroke-linejoin"])},d(n){n&&f(e),t[35](null)}}}function Cs(t){let e;return{c(){e=g("path"),b(e,"class","tick"),b(e,"d",t[22]()),w(e,"stroke",t[20]),w(e,"stroke-width",t[16])},m(t,n){h(t,e,n)},p(t,n){1048576&n[0]&&w(e,"stroke",t[20]),65536&n[0]&&w(e,"stroke-width",t[16])},d(t){t&&f(e)}}}function js(t){let n,r,i,a,s;function l(t,e){return t[0]?Ls:$s}let c=l(t),d=c(t),p=("center"===t[1]||t[9]>0)&&Ss(t);return{c(){n=g("g"),d.c(),r=y(),p&&p.c(),b(n,"class","swatch"),b(n,"aria-hidden","true"),b(n,"transform",i="translate(".concat(t[17].join(),")")),_(n,"highlight",t[14]),_(n,"buffer",t[0])},m(e,i){h(e,n,i),d.m(n,null),u(n,r),p&&p.m(n,null),a||(s=[v(n,"mouseenter",t[37]),v(n,"click",t[38]),v(n,"mousemove",t[33]),v(n,"mouseleave",t[34])],a=!0)},p(t,e){c===(c=l(t))&&d?d.p(t,e):(d.d(1),d=c(t),d&&(d.c(),d.m(n,r))),"center"===t[1]||t[9]>0?p?p.p(t,e):(p=Ss(t),p.c(),p.m(n,null)):p&&(p.d(1),p=null),131072&e[0]&&i!==(i="translate(".concat(t[17].join(),")"))&&b(n,"transform",i),16384&e[0]&&_(n,"highlight",t[14]),1&e[0]&&_(n,"buffer",t[0])},i:e,o:e,d(t){t&&f(n),d.d(),p&&p.d(),a=!1,o(s)}}}function Ds(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let{buffer:f}=e,{themeData:d}=e,{horizontal:p}=e,{labelPosition:g="center"}=e,{rtl:m=!1}=e,{rotateLabel:y=!1}=e,{parentWidth:v=0}=e,{chroma:b}=e,{blendMultiply:x=!1}=e,{blendMultiplyBackground:w=""}=e;if(x&&!w)throw new Error("Property 'blendMultiplyBackground' missing from legend");let _,k,M,{color:T}=e,{label:$}=e,{key:O}=e,{index:S}=e,{min:N}=e,{max:z}=e,{width:C}=e,{height:j}=e,{highlight:D=!1}=e;return t.$$set=t=>{"buffer"in t&&n(0,f=t.buffer),"themeData"in t&&n(23,d=t.themeData),"horizontal"in t&&n(24,p=t.horizontal),"labelPosition"in t&&n(1,g=t.labelPosition),"rtl"in t&&n(2,m=t.rtl),"rotateLabel"in t&&n(3,y=t.rotateLabel),"parentWidth"in t&&n(25,v=t.parentWidth),"chroma"in t&&n(26,b=t.chroma),"blendMultiply"in t&&n(4,x=t.blendMultiply),"blendMultiplyBackground"in t&&n(5,w=t.blendMultiplyBackground),"color"in t&&n(6,T=t.color),"label"in t&&n(7,$=t.label),"key"in t&&n(8,O=t.key),"index"in t&&n(9,S=t.index),"min"in t&&n(10,N=t.min),"max"in t&&n(11,z=t.max),"width"in t&&n(12,C=t.width),"height"in t&&n(13,j=t.height),"highlight"in t&&n(14,D=t.highlight)},t.$$.update=()=>{if(2&t.$$.dirty[0]&&n(30,o="tick"===g),1082130432&t.$$.dirty[0]&&n(32,a=o?rt(d,"vis.base.legend.ruler.tickWidth",1):1),8388608&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(31,r=rt(d,"vis.base.legend.text.itemMarginBottom",a)),8388608&t.$$.dirty[0]&&n(29,i=rt(d,"vis.base.legend.swatch.marginRight",3)),8388608&t.$$.dirty[0]&&n(16,u=rt(d,"vis.base.legend.ruler.tickWidth",1)),50409988&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(17,_=!p&&m&&v?[v-C,S*(j+u)]:p?[S*(C+a),0]:[0,S*(j+r)]),25165824&t.$$.dirty[0]&&n(28,s=rt(d,"vis.base.legend.ruler.labelDistance."+(p?"horizontal":"vertical"),3)),75497472&t.$$.dirty[0]&&n(20,l=rt(d,"vis.base.legend.ruler.tickColor",function(t,e){const n=rt(t,"colors.background","#ffffff"),r=rt(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:rt(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:rt(t,"colors.bgBlendRatios.tickText.primary",.2)},series:rt(t,"colors.bgBlendRatios.series",0),value:rt(t,"colors.bgBlendRatios.value",.2),axis:rt(t,"colors.bgBlendRatios.axis",0),gridline:rt(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}(d,b).fallbackBaseColor||"#222")),1082130432&t.$$.dirty[0]&&n(15,c=o?rt(d,"vis.base.legend.ruler.tickLength",0):0),822128654&t.$$.dirty[0]){let t=[];y?n(18,k="translate(0, ".concat(j+s+c,") rotate(-90)")):"center"===g?t=p?[.5*C,j+i]:[C+i,.5*j]:"tick"===g&&(t=p?[0,j+s+c]:[m?-(c+s):C+s+c,0]),t.length&&n(18,k="translate(".concat(t.join(),")"))}},[f,g,m,y,x,w,T,$,O,S,N,z,C,j,D,c,u,_,k,M,l,h,function(){return"M".concat(p?.5*-u:m?C:0,",").concat(p?0:.5*-u).concat(p?"v":"h").concat((!p&&m?-1:1)*((p?j:C)+c))},d,p,v,b,function(){return!!M&&M.getBoundingClientRect().width>C+2},s,i,o,r,a,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},function(t){L[t?"unshift":"push"]((()=>{M=t,n(19,M)}))},function(t){L[t?"unshift":"push"]((()=>{M=t,n(19,M)}))},()=>h("mouseenter",{key:O,label:$,color:T,min:N,max:z}),()=>h("mouseenter",{key:O,label:$,color:T,min:N,max:z})]}class Rs extends Z{constructor(t){super(),K(this,t,Ds,js,s,{buffer:0,themeData:23,horizontal:24,labelPosition:1,rtl:2,rotateLabel:3,parentWidth:25,chroma:26,blendMultiply:4,blendMultiplyBackground:5,color:6,label:7,key:8,index:9,min:10,max:11,width:12,height:13,highlight:14,labelFits:27},null,[-1,-1])}get labelFits(){return this.$$.ctx[27]}}function Ps(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t=>String(+t.toFixed(0)),i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"center",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]||!(!(arguments.length>6&&void 0!==arguments[6])||arguments[6]);arguments.length>4&&void 0!==arguments[4]&&arguments[4]&&(o=!o);const a=t.map(((a,s)=>{let l=n?n[s]:0===s?"< ".concat(r(e[1])):s===t.length-1?"≥ ".concat(r(e[s])):"".concat(r(e[s]),"–").concat(r(e[s+1]));return"tick"===i&&(l=s===(o?t.length-1:0)?"":"".concat(r(e[o?s+1:s]))),{color:a,min:0===s?-1/0:+e[s],max:s===t.length-1?1/0:+e[s+1],label:l,key:l||"swatch_".concat(s)}}));return o&&a.reverse(),a}function Is(t,e,n){const r=t.slice();return r[47]=e[n],r[48]=e,r[49]=n,r}function Fs(t,e,n){const r=t.slice();return r[47]=e[n],r[49]=n,r}function Us(t){let e,n;return e=new nt({props:{title:t[1],buffer:t[32],className:["color-legend",t[2]?"horizontal":"vertical",t[29],t[31],t[30]].join(" "),ariaLabel:Ja(t[19],{colors:t[9],title:t[1],format:t[12],swatches:t[23]}),width:t[2]?ko(t[14]):void 0,purifyHtml:t[8],$$slots:{default:[qs]},$$scope:{ctx:t}}}),e.$on("mouseleave",t[35]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),2&n[1]&&(r.buffer=t[32]),1610612740&n[0]|1&n[1]&&(r.className=["color-legend",t[2]?"horizontal":"vertical",t[29],t[31],t[30]].join(" ")),8917506&n[0]&&(r.ariaLabel=Ja(t[19],{colors:t[9],title:t[1],format:t[12],swatches:t[23]})),16388&n[0]&&(r.width=t[2]?ko(t[14]):void 0),256&n[0]&&(r.purifyHtml=t[8]),530980997&n[0]|1048578&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Hs(t){let e,n;return e=new us({props:{title:t[1],horizontal:t[2],highlight:t[3],reverse:t[4],rtl:t[5],emotion:t[6],swatches:Ps(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2]),themeData:t[13],chroma:t[7],purifyHtml:t[8],width:t[2]?ko(t[14]):"auto",height:t[2]?"auto":ko(t[15]),buffer:t[0],highlightedKey:t[24]||"",position:t[16],blendMultiply:t[17],blendMultiplyBackground:t[18],translate:t[19],locale:t[20]}}),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4&n[0]&&(r.horizontal=t[2]),8&n[0]&&(r.highlight=t[3]),16&n[0]&&(r.reverse=t[4]),32&n[0]&&(r.rtl=t[5]),64&n[0]&&(r.emotion=t[6]),7732&n[0]&&(r.swatches=Ps(t[9],t[10],t[11],t[12],t[4]===t[5]?t[4]:!t[4],t[5],t[2])),8192&n[0]&&(r.themeData=t[13]),128&n[0]&&(r.chroma=t[7]),256&n[0]&&(r.purifyHtml=t[8]),16388&n[0]&&(r.width=t[2]?ko(t[14]):"auto"),32772&n[0]&&(r.height=t[2]?"auto":ko(t[15])),1&n[0]&&(r.buffer=t[0]),16777216&n[0]&&(r.highlightedKey=t[24]||""),65536&n[0]&&(r.position=t[16]),131072&n[0]&&(r.blendMultiply=t[17]),262144&n[0]&&(r.blendMultiplyBackground=t[18]),524288&n[0]&&(r.translate=t[19]),1048576&n[0]&&(r.locale=t[20]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Bs(t){let e,n,r=t[23],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ys(Fs(t,r,e));const o=t=>q(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=y()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);h(t,e,r),n=!0},p(t,n){if(427827332&n[0]|6&n[1]){let a;for(r=t[23],a=0;a<r.length;a+=1){const o=Fs(t,r,a);i[a]?(i[a].p(o,n),W(i[a],1)):(i[a]=Ys(o),i[a].c(),W(i[a],1),i[a].m(e.parentNode,e))}for(B(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)W(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)q(i[t]);n=!1},d(t){d(i,t),t&&f(e)}}}function Ys(t){let e,n;return e=new Rs({props:{buffer:t[32],color:t[47].color,label:t[47].label,min:t[47].min,max:t[47].max,index:t[49],horizontal:t[2],width:t[28],height:t[27],themeData:t[13],key:t[47].key,highlight:t[24]===t[47].key,chroma:t[7]}}),e.$on("mouseenter",t[33]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[1]&&(r.buffer=t[32]),8388608&n[0]&&(r.color=t[47].color),8388608&n[0]&&(r.label=t[47].label),8388608&n[0]&&(r.min=t[47].min),8388608&n[0]&&(r.max=t[47].max),4&n[0]&&(r.horizontal=t[2]),268435456&n[0]&&(r.width=t[28]),134217728&n[0]&&(r.height=t[27]),8192&n[0]&&(r.themeData=t[13]),8388608&n[0]&&(r.key=t[47].key),25165824&n[0]&&(r.highlight=t[24]===t[47].key),128&n[0]&&(r.chroma=t[7]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Ws(t){let e,n,r=t[49];const i=()=>t[41](e,r),o=()=>t[41](null,r);let a={buffer:!1,color:t[47].color,label:t[47].label,min:t[47].min,max:t[47].max,index:t[49],horizontal:t[2],width:t[28],height:t[27],themeData:t[13],key:t[47].key,highlight:t[24]===t[47].key,chroma:t[7],blendMultiply:t[17],blendMultiplyBackground:t[18]};return e=new Rs({props:a}),i(),e.$on("mouseenter",t[33]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){r!==t[49]&&(o(),r=t[49],i());const a={};8388608&n[0]&&(a.color=t[47].color),8388608&n[0]&&(a.label=t[47].label),8388608&n[0]&&(a.min=t[47].min),8388608&n[0]&&(a.max=t[47].max),4&n[0]&&(a.horizontal=t[2]),268435456&n[0]&&(a.width=t[28]),134217728&n[0]&&(a.height=t[27]),8192&n[0]&&(a.themeData=t[13]),8388608&n[0]&&(a.key=t[47].key),25165824&n[0]&&(a.highlight=t[24]===t[47].key),128&n[0]&&(a.chroma=t[7]),131072&n[0]&&(a.blendMultiply=t[17]),262144&n[0]&&(a.blendMultiplyBackground=t[18]),e.$set(a)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){o(),X(e,t)}}}function qs(t){let e,n,r,i,o,a,s,l,c=t[0]&&Bs(t),p=t[23],m=[];for(let e=0;e<p.length;e+=1)m[e]=Ws(Is(t,p,e));const x=t=>q(m[t],1,1,(()=>{m[t]=null}));return{c(){e=g("svg"),n=g("g"),c&&c.c(),r=y();for(let t=0;t<m.length;t+=1)m[t].c();b(n,"class",""),_(n,"highlighted",null!==t[24]),b(e,"width",i=t[25].width),b(e,"height",o=t[25].height)},m(i,o){h(i,e,o),u(e,n),c&&c.m(n,null),u(n,r);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(n,null);t[42](n),a=!0,s||(l=v(e,"mouseleave",t[34]),s=!0)},p(t,s){if(t[0]?c?(c.p(t,s),1&s[0]&&W(c,1)):(c=Bs(t),c.c(),W(c,1),c.m(n,r)):c&&(B(),q(c,1,1,(()=>{c=null})),Y()),495329412&s[0]|4&s[1]){let e;for(p=t[23],e=0;e<p.length;e+=1){const r=Is(t,p,e);m[e]?(m[e].p(r,s),W(m[e],1)):(m[e]=Ws(r),m[e].c(),W(m[e],1),m[e].m(n,null))}for(B(),e=p.length;e<m.length;e+=1)x(e);Y()}(!a||16777216&s[0])&&_(n,"highlighted",null!==t[24]),(!a||33554432&s[0]&&i!==(i=t[25].width))&&b(e,"width",i),(!a||33554432&s[0]&&o!==(o=t[25].height))&&b(e,"height",o)},i(t){if(!a){W(c);for(let t=0;t<p.length;t+=1)W(m[t]);a=!0}},o(t){q(c),m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)q(m[t]);a=!1},d(n){n&&f(e),c&&c.d(),d(m,n),t[42](null),s=!1,l()}}}function Gs(t){let e,n,r,i;const o=[Hs,Us],a=[];function s(t,e){return t[22]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=y()},m(t,n){a[e].m(t,n),h(t,r,n),i=!0},p(t,i){let l=e;e=s(t),e===l?a[e].p(t,i):(B(),q(a[l],1,1,(()=>{a[l]=null})),Y(),n=a[e],n?n.p(t,i):(n=a[e]=o[e](t),n.c()),W(n,1),n.m(r.parentNode,r))},i(t){i||(W(n),i=!0)},o(t){q(n),i=!1},d(t){a[e].d(t),t&&f(r)}}}function Vs(t,e,n){let r,i,o,a,s,l,c,u;const h=A();let f,{title:d=""}=e,{horizontal:p=!0}=e,{highlight:g=!1}=e,{reverse:m=!1}=e,{rtl:y=!1}=e,{emotion:v}=e,{chroma:b}=e,{purifyHtml:x}=e,{colors:w}=e,{breaks:_}=e,{labels:k}=e,{format:M=(t=>t.toFixed(0))}=e,{themeData:T={}}=e,{width:E=100}=e,{height:$=200}=e,{position:O="above"}=e,{noPadding:S=!1}=e,{buffer:N=!1}=e,{blendMultiply:z=!1}=e,{blendMultiplyBackground:C=""}=e,{translate:D}=e,{locale:R}=e;const P=new Promise((t=>{n(39,f=t)}));let I,{highlightedValue:F=null}=e;const{onMouseEnter:U,onMouseLeave:H,onLegendMouseLeave:B,onHighlight:Y}=ns(h,g);let W;Y((t=>{n(24,I=void 0!==t?t:null)}));const q={width:100,height:100};let G=!1;const V=[];return t.$$set=t=>{"title"in t&&n(1,d=t.title),"horizontal"in t&&n(2,p=t.horizontal),"highlight"in t&&n(3,g=t.highlight),"reverse"in t&&n(4,m=t.reverse),"rtl"in t&&n(5,y=t.rtl),"emotion"in t&&n(6,v=t.emotion),"chroma"in t&&n(7,b=t.chroma),"purifyHtml"in t&&n(8,x=t.purifyHtml),"colors"in t&&n(9,w=t.colors),"breaks"in t&&n(10,_=t.breaks),"labels"in t&&n(11,k=t.labels),"format"in t&&n(12,M=t.format),"themeData"in t&&n(13,T=t.themeData),"width"in t&&n(14,E=t.width),"height"in t&&n(15,$=t.height),"position"in t&&n(16,O=t.position),"noPadding"in t&&n(36,S=t.noPadding),"buffer"in t&&n(0,N=t.buffer),"blendMultiply"in t&&n(17,z=t.blendMultiply),"blendMultiplyBackground"in t&&n(18,C=t.blendMultiplyBackground),"translate"in t&&n(19,D=t.translate),"locale"in t&&n(20,R=t.locale),"highlightedValue"in t&&n(38,F=t.highlightedValue)},t.$$.update=()=>{var e;8193&t.$$.dirty[0]&&n(32,r=N&&rs(rt(T,"colors.background","white"))),73792&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(31,i=Xa(v,T,O,S)),8256&t.$$.dirty[0]&&n(30,o=Ka(v,T)),32&t.$$.dirty[0]&&n(29,a=y?"dir-rtl":"dir-ltr"),7732&t.$$.dirty[0]&&n(23,s=Ps(w,_,k,M,m,y,p,"center")),8192&t.$$.dirty[0]&&n(40,l=rt(T,"vis.base.legend.ruler.thickness",13)),25092&t.$$.dirty[0]&&n(28,c=p?Math.floor(E/w.length)-1:rt(T,"vis.base.legend.swatch.width",20)),8196&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(27,u=p?l:rt(T,"vis.base.legend.swatch.height",20)),8388608&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(24,I=(null===(e=s.find((t=>{if(null!==F&&t.min&&t.max)return F>=t.min&&F<t.max})))||void 0===e?void 0:e.key)||null),10502144&t.$$.dirty[0]&&async function(){if(!W||G)return;const t=N;n(0,N=!1),await j();const e=W.getBoundingClientRect();n(25,q.height=e.height,q),n(25,q.width=e.width,q),n(0,N=t),f(null)}(),8404992&t.$$.dirty[0]&&async function(){n(22,G=!1),await j();const t=V.filter((t=>!!t)),e=t.map((t=>t.labelFits()));n(22,G=p&&e.some((t=>t))||1===t.length)}(),4194304&t.$$.dirty[0]|256&t.$$.dirty[1]&&G&&f(null)},[N,d,p,g,m,y,v,b,x,w,_,k,M,T,E,$,O,z,C,D,R,W,G,s,I,q,V,u,c,a,o,i,r,U,H,B,S,P,F,f,l,function(t,e){L[t?"unshift":"push"]((()=>{V[e]=t,n(26,V)}))},function(t){L[t?"unshift":"push"]((()=>{W=t,n(21,W)}))}]}class Xs extends Z{constructor(t){super(),K(this,t,Vs,Gs,s,{title:1,horizontal:2,highlight:3,reverse:4,rtl:5,emotion:6,chroma:7,purifyHtml:8,colors:9,breaks:10,labels:11,format:12,themeData:13,width:14,height:15,position:16,noPadding:36,buffer:0,blendMultiply:17,blendMultiplyBackground:18,translate:19,locale:20,rendered:37,highlightedValue:38},null,[-1,-1])}get rendered(){return this.$$.ctx[37]}}function Ks(t,e,n){const r=t.slice();return r[47]=e[n],r[48]=e,r[49]=n,r}function Zs(t,e,n){const r=t.slice();return r[47]=e[n],r[49]=n,r}function Js(t){let e,n,r=t[12],i=[];for(let e=0;e<r.length;e+=1)i[e]=Qs(Zs(t,r,e));const o=t=>q(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=y()},m(t,r){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,r);h(t,e,r),n=!0},p(t,n){if(12810332&n[0]){let a;for(r=t[12],a=0;a<r.length;a+=1){const o=Zs(t,r,a);i[a]?(i[a].p(o,n),W(i[a],1)):(i[a]=Qs(o),i[a].c(),W(i[a],1),i[a].m(e.parentNode,e))}for(B(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)W(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)q(i[t]);n=!1},d(t){d(i,t),t&&f(e)}}}function Qs(t){let e,n;return e=new Rs({props:{color:t[47].color,label:t[47].label,min:t[47].min,max:t[47].max,index:t[49],horizontal:t[2],width:t[17],height:t[16],buffer:t[22],themeData:t[6],key:t[47].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[47].key,chroma:t[4]}}),e.$on("mouseenter",t[23]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};4096&n[0]&&(r.color=t[47].color),4096&n[0]&&(r.label=t[47].label),4096&n[0]&&(r.min=t[47].min),4096&n[0]&&(r.max=t[47].max),4&n[0]&&(r.horizontal=t[2]),131072&n[0]&&(r.width=t[17]),65536&n[0]&&(r.height=t[16]),4194304&n[0]&&(r.buffer=t[22]),64&n[0]&&(r.themeData=t[6]),4096&n[0]&&(r.key=t[47].key),2048&n[0]&&(r.rotateLabel=t[11]),8&n[0]&&(r.rtl=t[3]),16384&n[0]&&(r.parentWidth=t[14].width),12288&n[0]&&(r.highlight=t[13]===t[47].key),16&n[0]&&(r.chroma=t[4]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function tl(t){let e,n,r=t[49];const i=()=>t[40](e,r),o=()=>t[40](null,r);let a={color:t[47].color,label:t[47].label,min:t[47].min,max:t[47].max,index:t[49],horizontal:t[2],width:t[17],height:t[16],buffer:!1,themeData:t[6],key:t[47].key,labelPosition:"tick",rotateLabel:t[11],rtl:t[3],parentWidth:t[14].width,highlight:t[13]===t[47].key,chroma:t[4],blendMultiply:t[8],blendMultiplyBackground:t[9]};return e=new Rs({props:a}),i(),e.$on("mouseenter",t[23]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){r!==t[49]&&(o(),r=t[49],i());const a={};4096&n[0]&&(a.color=t[47].color),4096&n[0]&&(a.label=t[47].label),4096&n[0]&&(a.min=t[47].min),4096&n[0]&&(a.max=t[47].max),4&n[0]&&(a.horizontal=t[2]),131072&n[0]&&(a.width=t[17]),65536&n[0]&&(a.height=t[16]),64&n[0]&&(a.themeData=t[6]),4096&n[0]&&(a.key=t[47].key),2048&n[0]&&(a.rotateLabel=t[11]),8&n[0]&&(a.rtl=t[3]),16384&n[0]&&(a.parentWidth=t[14].width),12288&n[0]&&(a.highlight=t[13]===t[47].key),16&n[0]&&(a.chroma=t[4]),256&n[0]&&(a.blendMultiply=t[8]),512&n[0]&&(a.blendMultiplyBackground=t[9]),e.$set(a)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){o(),X(e,t)}}}function el(t){let e,n,r,i,o,a,s,l,c=t[0]&&Js(t),p=t[12],m=[];for(let e=0;e<p.length;e+=1)m[e]=tl(Ks(t,p,e));const x=t=>q(m[t],1,1,(()=>{m[t]=null}));return{c(){e=g("svg"),n=g("g"),c&&c.c(),r=y();for(let t=0;t<m.length;t+=1)m[t].c();b(n,"class",""),_(n,"highlighted",null!==t[13]),b(e,"width",i=t[14].width),b(e,"height",o=t[14].height)},m(i,o){h(i,e,o),u(e,n),c&&c.m(n,null),u(n,r);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(n,null);t[41](n),a=!0,s||(l=v(e,"mouseleave",t[24]),s=!0)},p(t,s){if(t[0]?c?(c.p(t,s),1&s[0]&&W(c,1)):(c=Js(t),c.c(),W(c,1),c.m(n,r)):c&&(B(),q(c,1,1,(()=>{c=null})),Y()),8649564&s[0]){let e;for(p=t[12],e=0;e<p.length;e+=1){const r=Ks(t,p,e);m[e]?(m[e].p(r,s),W(m[e],1)):(m[e]=tl(r),m[e].c(),W(m[e],1),m[e].m(n,null))}for(B(),e=p.length;e<m.length;e+=1)x(e);Y()}(!a||8192&s[0])&&_(n,"highlighted",null!==t[13]),(!a||16384&s[0]&&i!==(i=t[14].width))&&b(e,"width",i),(!a||16384&s[0]&&o!==(o=t[14].height))&&b(e,"height",o)},i(t){if(!a){W(c);for(let t=0;t<p.length;t+=1)W(m[t]);a=!0}},o(t){q(c),m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)q(m[t]);a=!1},d(n){n&&f(e),c&&c.d(),d(m,n),t[41](null),s=!1,l()}}}function nl(t){let e,n;return e=new nt({props:{title:t[1],buffer:t[22],className:["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" "),ariaLabel:t[21],width:t[2]?ko(t[7]):void 0,purifyHtml:t[5],$$slots:{default:[el]},$$scope:{ctx:t}}}),e.$on("mouseleave",t[25]),{c(){G(e.$$.fragment)},m(t,r){V(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.title=t[1]),4194304&n[0]&&(r.buffer=t[22]),1835012&n[0]&&(r.className=["color-legend","ruler",t[2]?"horizontal":"vertical",t[18],t[20],t[19]].join(" ")),2097152&n[0]&&(r.ariaLabel=t[21]),132&n[0]&&(r.width=t[2]?ko(t[7]):void 0),32&n[0]&&(r.purifyHtml=t[5]),4456285&n[0]|1048576&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function rl(t,e,n){let r,i,o,a,s,l,c,u,h;const f=A();let d,{title:p=""}=e,{horizontal:g=!0}=e,{highlight:m=!1}=e,{reverse:y=!1}=e,{rtl:v=!1}=e,{emotion:b}=e,{chroma:x}=e,{purifyHtml:w}=e,{colors:_}=e,{breaks:k}=e,{labels:M}=e,{format:T=(t=>t.toFixed(0))}=e,{themeData:E={}}=e,{width:$=100}=e,{height:O=200}=e,{position:S="above"}=e,{noPadding:N=!1}=e,{buffer:z=!1}=e,{blendMultiply:C=!1}=e,{blendMultiplyBackground:D=""}=e,{translate:R}=e;const P=new Promise((t=>{d=t}));let I,{highlightedValue:F=null}=e;const{onMouseEnter:U,onMouseLeave:H,onLegendMouseLeave:B,onHighlight:Y}=ns(f,m);let W;Y((t=>{n(13,I=void 0!==t?t:null)}));const q={width:100,height:100};let G=!1;const V=[];return t.$$set=t=>{"title"in t&&n(1,p=t.title),"horizontal"in t&&n(2,g=t.horizontal),"highlight"in t&&n(26,m=t.highlight),"reverse"in t&&n(27,y=t.reverse),"rtl"in t&&n(3,v=t.rtl),"emotion"in t&&n(28,b=t.emotion),"chroma"in t&&n(4,x=t.chroma),"purifyHtml"in t&&n(5,w=t.purifyHtml),"colors"in t&&n(29,_=t.colors),"breaks"in t&&n(30,k=t.breaks),"labels"in t&&n(31,M=t.labels),"format"in t&&n(32,T=t.format),"themeData"in t&&n(6,E=t.themeData),"width"in t&&n(7,$=t.width),"height"in t&&n(33,O=t.height),"position"in t&&n(34,S=t.position),"noPadding"in t&&n(35,N=t.noPadding),"buffer"in t&&n(0,z=t.buffer),"blendMultiply"in t&&n(8,C=t.blendMultiply),"blendMultiplyBackground"in t&&n(9,D=t.blendMultiplyBackground),"translate"in t&&n(36,R=t.translate),"highlightedValue"in t&&n(38,F=t.highlightedValue)},t.$$.update=()=>{var e;65&t.$$.dirty[0]&&n(22,r=z&&rs(rt(E,"colors.background","white"))),1744830478&t.$$.dirty[0]|35&t.$$.dirty[1]&&n(21,i=Ja(R,{colors:_,title:p,format:T,swatches:Ps(_,k,M,T,y,v,g,"center")})),268435520&t.$$.dirty[0]|24&t.$$.dirty[1]&&n(20,o=Xa(b,E,S,N)),268435520&t.$$.dirty[0]&&n(19,a=Ka(b,E)),8&t.$$.dirty[0]&&n(18,s=v?"dir-rtl":"dir-ltr"),1744830476&t.$$.dirty[0]|3&t.$$.dirty[1]&&n(12,l=Ps(_,k,M,T,y,v,g,"tick")),64&t.$$.dirty[0]&&n(39,c=rt(E,"vis.base.legend.ruler.thickness",13)),536871044&t.$$.dirty[0]|256&t.$$.dirty[1]&&n(17,u=g?Math.floor($/_.length)-1:c),536870916&t.$$.dirty[0]|260&t.$$.dirty[1]&&n(16,h=g?c:Math.floor(O/_.length)-1),4096&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(13,I=(null===(e=l.find((t=>{if(null!==F&&t.min&&t.max)return F>=t.min&&F<t.max})))||void 0===e?void 0:e.key)||null),7296&t.$$.dirty[0]&&async function(){if(!W)return;const t=z;n(0,z=!1),await j();const e=W.getBoundingClientRect();n(14,q.height=e.height,q),n(14,q.width=e.width,q),n(0,z=t),d(null)}(),4224&t.$$.dirty[0]&&async function(){n(11,G=!1),await j();const t=V.filter((t=>!!t)).map((t=>t.labelFits()));n(11,G=g&&t.some((t=>t)))}()},[z,p,g,v,x,w,E,$,C,D,W,G,l,I,q,V,h,u,s,a,o,i,r,U,H,B,m,y,b,_,k,M,T,O,S,N,R,P,F,c,function(t,e){L[t?"unshift":"push"]((()=>{V[e]=t,n(15,V)}))},function(t){L[t?"unshift":"push"]((()=>{W=t,n(10,W)}))}]}class il extends Z{constructor(t){super(),K(this,t,rl,nl,s,{title:1,horizontal:2,highlight:26,reverse:27,rtl:3,emotion:28,chroma:4,purifyHtml:5,colors:29,breaks:30,labels:31,format:32,themeData:6,width:7,height:33,position:34,noPadding:35,buffer:0,blendMultiply:8,blendMultiplyBackground:9,translate:36,rendered:37,highlightedValue:38},null,[-1,-1])}get rendered(){return this.$$.ctx[37]}}function ol(t){return"string"!=typeof t?t:parseFloat(t.replace("px",""))}t.CategoryLegend=us,t.ContinuousLegend=Es,t.RangeLegend=Xs,t.RulerLegend=il,t.categoryLegendWrapper=function(t,e){const n=new us({target:t,props:{...e,themeData:e.themeData||e.theme,swatches:e.swatches.map((t=>({...t,width:"width"in t?ol(t.width):null})))}});return{on:function(t,e){n.$on(t,(t=>{e(t.detail)}))},highlight:t=>{n.$$set&&n.$$set({highlightedKey:t||""})},container:t}},t.colorLegendWrapper=function(t,e){var n;let r=null;switch(void 0===e.horizontal&&(e.horizontal=!0),function(t){return"function"==typeof t.colors?"continuous":t.ruler?"ruler":Array.isArray(t.colors)&&t.horizontal?"range":Array.isArray(t.colors)?"category":"winner"}(e)){case"continuous":r=new Es({target:t,props:{...e,themeData:e.themeData||e.theme}});break;case"ruler":r=new il({target:t,props:{...e,themeData:e.themeData||e.theme}});break;case"category":r=new us({target:t,props:{...e,themeData:e.themeData||e.theme,swatches:Ps(e.colors,e.breaks,e.labels,e.format,!1,e.rtl,e.horizontal),reverse:e.reverse,height:"auto"}});break;case"range":r=new Xs({target:t,props:{...e,themeData:e.themeData||e.theme}});break;default:t.innerHTML="winner tk"}return{on:function(t,e){var n;null===(n=r)||void 0===n||n.$on(t,(t=>{e(t.detail)}))},highlight:t=>{var e;(null===(e=r)||void 0===e?void 0:e.$$set)&&r.$$set({highlightedValue:"number"==typeof t?t:null})},container:t,rendered:null===(n=r)||void 0===n?void 0:n.rendered}},t.highlightTimer=es})(Gh.exports);var Vh=Gh.exports;function Xh(t){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(t)}function Kh(t){var e=function(t,e){if("object"!==Xh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xh(e)?e:String(e)}function Zh(t,e,n){return(e=Kh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jh={exports:{}};!function(t,e){!function(t){function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,i){return t[1]&&i?n(r.ctx.slice(),t[1](i(e))):r.ctx}function c(t){return null==t?"":t}function u(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function y(){return m(" ")}function v(){return m("")}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){for(const n in e)b(t,n,e[n])}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function k(t,e,n){t.classList.toggle(e,!!n)}function M(t,e){return new t(e)}let T;function A(t){T=t}function E(){if(!T)throw new Error("Function called outside component initialization");return T}function $(t){E().$$.after_update.push(t)}function L(){const t=E();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}const O=[],S=[];let N=[];const z=[],C=Promise.resolve();let j=!1;function D(){j||(j=!0,C.then(U))}function R(){return D(),C}function P(t){N.push(t)}const I=new Set;let F=0;function U(){if(0!==F)return;const t=T;do{try{for(;F<O.length;){const t=O[F];F++,A(t),H(t.$$)}}catch(t){throw O.length=0,F=0,t}for(A(null),O.length=0,F=0;S.length;)S.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];I.has(e)||(I.add(e),e())}N.length=0}while(O.length);for(;z.length;)z.pop()();j=!1,I.clear(),A(t)}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const B=new Set;let Y;function W(){Y={r:0,c:[],p:Y}}function q(){Y.r||o(Y.c),Y=Y.p}function G(t,e){t&&t.i&&(B.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),Y.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function X(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function K(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const a=t[o],s=e[o];if(s){for(const t in a)t in s||(r[t]=1);for(const t in s)i[t]||(n[t]=s[t],i[t]=1);t[o]=s}else for(const t in a)i[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function Z(t){return"object"==typeof t&&null!==t?t:{}}function J(t){t&&t.c()}function Q(t,e,n){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),P((()=>{const e=t.$$.on_mount.map(r).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(P)}function tt(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];N.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),N=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function et(t,n,r,a,s,l){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const h=T;A(t);const d=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(d.root);let p=!1;if(d.ctx=r?r(t,n.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),p&&function(t,e){-1===t.$$.dirty[0]&&(O.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();n.intro&&G(t.$$.fragment),Q(t,n.target,n.anchor),U()}A(h)}class nt{constructor(){Zh(this,"$$",void 0),Zh(this,"$$set",void 0)}$destroy(){tt(this,1),this.$destroy=e}$on(t,n){if(!a(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function rt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var it="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==zo?zo:"undefined"!=typeof self?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var at,st={exports:{}};
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */function lt(){return at||(at=1,function(t,e){t.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),h=w(Array.prototype.pop),f=w(Array.prototype.push),d=w(String.prototype.toLowerCase),p=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=_(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function _(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function M(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function T(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}function n(t){return console.warn("fallback value for",t),null}return n}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=o(["#text"]),z=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),P=a(/<%[\w\W]*|[\w\W]*%>/gm),I=a(/\${[\w\W]*}/gm),F=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),H=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),Y=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=a(/^html$/i);var q=Object.freeze({__proto__:null,MUSTACHE_EXPR:R,ERB_EXPR:P,TMPLIT_EXPR:I,DATA_ATTR:F,ARIA_ATTR:U,IS_ALLOWED_URI:H,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:Y,DOCTYPE_NAME:W});const G=function(){return"undefined"==typeof window?null:window},V=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const n=t=>X(t);if(n.version="3.0.6",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;let{document:r}=e;const i=r,a=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:w,Element:_,NodeFilter:R,NamedNodeMap:P=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:I,DOMParser:F,trustedTypes:U}=e,B=_.prototype,Y=T(B,"cloneNode"),K=T(B,"nextSibling"),Z=T(B,"childNodes"),J=T(B,"parentNode");if("function"==typeof c){const t=r.createElement("template");t.content&&t.content.ownerDocument&&(r=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=r,{importNode:ot}=i;let at={};n.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:dt}=q;let{IS_ALLOWED_URI:pt}=q,gt=null;const mt=k({},[...A,...E,...$,...O,...N]);let yt=null;const vt=k({},[...z,...C,...j,...D]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,_t=!0,kt=!0,Mt=!1,Tt=!0,At=!1,Et=!1,$t=!1,Lt=!1,Ot=!1,St=!1,Nt=!1,zt=!0,Ct=!1;const jt="user-content-";let Dt=!0,Rt=!1,Pt={},It=null;const Ft=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Ht=k({},["audio","video","img","source","image","track"]);let Bt=null;const Yt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=k({},[Wt,qt,Gt],p);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=r.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?p:d,gt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,p):Zt,Bt="ADD_URI_SAFE_ATTR"in t?k(M(Yt),t.ADD_URI_SAFE_ATTR,ee):Yt,Ut="ADD_DATA_URI_TAGS"in t?k(M(Ht),t.ADD_DATA_URI_TAGS,ee):Ht,It="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ee):{},Pt="USE_PROFILES"in t&&t.USE_PROFILES,_t=!1!==t.ALLOW_ARIA_ATTR,kt=!1!==t.ALLOW_DATA_ATTR,Mt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Tt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,At=t.SAFE_FOR_TEMPLATES||!1,Et=t.WHOLE_DOCUMENT||!1,Ot=t.RETURN_DOM||!1,St=t.RETURN_DOM_FRAGMENT||!1,Nt=t.RETURN_TRUSTED_TYPE||!1,Lt=t.FORCE_BODY||!1,zt=!1!==t.SANITIZE_DOM,Ct=t.SANITIZE_NAMED_PROPS||!1,Dt=!1!==t.KEEP_CONTENT,Rt=t.IN_PLACE||!1,pt=t.ALLOWED_URI_REGEXP||H,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),At&&(kt=!1),St&&(Ot=!0),Pt&&(gt=k({},[...N]),yt=[],!0===Pt.html&&(k(gt,A),k(yt,z)),!0===Pt.svg&&(k(gt,E),k(yt,C),k(yt,D)),!0===Pt.svgFilters&&(k(gt,$),k(yt,C),k(yt,D)),!0===Pt.mathMl&&(k(gt,O),k(yt,j),k(yt,D))),t.ADD_TAGS&&(gt===mt&&(gt=M(gt)),k(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=M(yt)),k(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&k(Bt,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(It===Ft&&(It=M(It)),k(It,t.FORBID_CONTENTS,ee)),Dt&&(gt["#text"]=!0),Et&&k(gt,["html","head","body"]),gt.table&&(k(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=V(U,a)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=k({},["mi","mo","mn","ms","mtext"]),se=k({},["foreignobject","desc","title","annotation-xml"]),le=k({},["title","style","font","a","script"]),ce=k({},E);k(ce,$),k(ce,L);const ue=k({},O);k(ue,S);const he=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=d(t.tagName),r=d(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===qt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Wt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Wt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===qt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===qt&&!se[r])&&!(e.namespaceURI===Wt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},fe=function(t){f(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},de=function(t,e){try{f(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(Ot||St)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},pe=function(t){let e=null,n=null;if(Lt)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new F).parseFromString(i,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:i}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Et?"html":"body")[0]:Et?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null)},me=function(t){return t instanceof I&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof w&&t instanceof w},ve=function(t,e,r){at[t]&&u(at[t],(t=>{t.call(n,e,r,ne)}))},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return fe(t),!0;const r=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:r,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return fe(t),!0;if(!gt[r]||xt[r]){if(!xt[r]&&we(r)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,r))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(r))return!1}if(Dt&&!It[r]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(Y(n[r],!0),K(t))}return fe(t),!0}return t instanceof _&&!he(t)?(fe(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(At&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],(t=>{e=m(e,t," ")})),t.textContent!==e&&(f(n.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if(zt&&("id"===e||"name"===e)&&(n in r||n in re))return!1;if(kt&&!wt[e]&&b(ut,e));else if(_t&&b(ht,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Bt[e]);else if(b(pt,m(n,dt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(Mt&&!b(ft,m(n,dt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},_e=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let f="value"===a?l:v(l);if(r.attrName=c,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,r),f=r.attrValue,r.forceKeepAttr)continue;if(de(a,t),!r.keepAttr)continue;if(!Tt&&b(/\/>/i,f)){de(a,t);continue}At&&u([st,lt,ct],(t=>{f=m(f,t," ")}));const d=ee(t.nodeName);if(xe(d,c,f)){if(!Ct||"id"!==c&&"name"!==c||(de(a,t),f=jt+f),Q&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(s);else switch(U.getAttributeType(d,c)){case"TrustedHTML":f=Q.createHTML(f);break;case"TrustedScriptURL":f=Q.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(n.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},ke=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof l&&t(n.content),_e(n));ve("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!n.isSupported)return t;if($t||oe(e),n.removed=[],"string"==typeof t&&(Rt=!1),Rt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof w)r=pe("\x3c!----\x3e"),o=r.ownerDocument.importNode(t,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!Ot&&!At&&!Et&&-1===t.indexOf("<"))return Q&&Nt?Q.createHTML(t):t;if(r=pe(t),!r)return Ot?null:Nt?tt:""}r&&Lt&&fe(r.firstChild);const c=ge(Rt?t:r);for(;a=c.nextNode();)be(a)||(a.content instanceof l&&ke(a.content),_e(a));if(Rt)return t;if(Ot){if(St)for(s=rt.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(i,s,!0)),s}let h=Et?r.outerHTML:r.innerHTML;return Et&&gt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&b(W,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),At&&u([st,lt,ct],(t=>{h=m(h,t," ")})),Q&&Nt?Q.createHTML(h):h},n.setConfig=function(){oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$t=!0},n.clearConfig=function(){ne=null,$t=!1},n.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},n.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],f(at[t],e))},n.removeHook=function(t){if(at[t])return h(at[t])},n.removeHooks=function(t){at[t]&&(at[t]=[])},n.removeAllHooks=function(){at={}},n}return X()}()}(st)),st.exports}window.DOMPurify||(window.DOMPurify=lt().default||lt());const ct=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort();var ut,ht=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},ft=ot(ht),dt="object"==typeof it&&it&&it.Object===Object&&it,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=dt||pt||Function("return this")(),mt=gt.Symbol,yt=mt,vt=Object.prototype,bt=vt.hasOwnProperty,xt=vt.toString,wt=yt?yt.toStringTag:void 0,_t=function(t){var e=bt.call(t,wt),n=t[wt];try{t[wt]=void 0;var r=!0}catch(t){}var i=xt.call(t);return r&&(e?t[wt]=n:delete t[wt]),i},kt=Object.prototype.toString,Mt=_t,Tt=function(t){return kt.call(t)},At=mt?mt.toStringTag:void 0,Et=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":At&&At in Object(t)?Mt(t):Tt(t)},$t=Et,Lt=ht,Ot=function(t){if(!Lt(t))return!1;var e=$t(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},St=gt["__core-js_shared__"],Nt=(ut=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+ut:"",zt=function(t){return!!Nt&&Nt in t},Ct=Function.prototype.toString,jt=Ot,Dt=zt,Rt=ht,Pt=function(t){if(null!=t){try{return Ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""},It=/^\[object .+?Constructor\]$/,Ft=Function.prototype,Ut=Object.prototype,Ht=Ft.toString,Bt=Ut.hasOwnProperty,Yt=RegExp("^"+Ht.call(Bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=function(t){return!(!Rt(t)||Dt(t))&&(jt(t)?Yt:It).test(Pt(t))},qt=function(t,e){return null==t?void 0:t[e]},Gt=function(t,e){var n=qt(t,e);return Wt(n)?n:void 0},Vt=Gt,Xt=function(){try{var t=Vt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Kt=function(t,e){return t===e||t!=t&&e!=e},Zt=function(t,e,n){"__proto__"==e&&Xt?Xt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Jt=Kt,Qt=Object.prototype.hasOwnProperty,te=function(t,e,n){var r=t[e];Qt.call(t,e)&&Jt(r,n)&&(void 0!==n||e in t)||Zt(t,e,n)},ee=Array.isArray,ne=Et,re=function(t){return null!=t&&"object"==typeof t},ie=function(t){return"symbol"==typeof t||re(t)&&"[object Symbol]"==ne(t)},oe=ee,ae=ie,se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/,ce=function(t,e){if(oe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ae(t))||le.test(t)||!se.test(t)||null!=e&&t in Object(e)},ue=Gt(Object,"create"),he=ue,fe=function(){this.__data__=he?he(null):{},this.size=0},de=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},pe=ue,ge=Object.prototype.hasOwnProperty,me=function(t){var e=this.__data__;if(pe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ge.call(e,t)?e[t]:void 0},ye=ue,ve=Object.prototype.hasOwnProperty,be=ue,xe=fe,we=de,_e=me,ke=function(t){var e=this.__data__;return ye?void 0!==e[t]:ve.call(e,t)},Me=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=be&&void 0===e?"__lodash_hash_undefined__":e,this};function Te(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Te.prototype.clear=xe,Te.prototype.delete=we,Te.prototype.get=_e,Te.prototype.has=ke,Te.prototype.set=Me;var Ae=Te,Ee=function(){this.__data__=[],this.size=0},$e=Kt,Le=function(t,e){for(var n=t.length;n--;)if($e(t[n][0],e))return n;return-1},Oe=Le,Se=Array.prototype.splice,Ne=Le,ze=Le,Ce=Le,je=Ee,De=function(t){var e=this.__data__,n=Oe(e,t);return!(n<0||(n==e.length-1?e.pop():Se.call(e,n,1),--this.size,0))},Re=function(t){var e=this.__data__,n=Ne(e,t);return n<0?void 0:e[n][1]},Pe=function(t){return ze(this.__data__,t)>-1},Ie=function(t,e){var n=this.__data__,r=Ce(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Fe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fe.prototype.clear=je,Fe.prototype.delete=De,Fe.prototype.get=Re,Fe.prototype.has=Pe,Fe.prototype.set=Ie;var Ue=Fe,He=Gt(gt,"Map"),Be=Ae,Ye=Ue,We=He,qe=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},Ge=qe,Ve=function(t,e){var n=t.__data__;return Ge(e)?n["string"==typeof e?"string":"hash"]:n.map},Xe=Ve,Ke=Ve,Ze=Ve,Je=Ve,Qe=function(){this.size=0,this.__data__={hash:new Be,map:new(We||Ye),string:new Be}},tn=function(t){var e=Xe(this,t).delete(t);return this.size-=e?1:0,e},en=function(t){return Ke(this,t).get(t)},nn=function(t){return Ze(this,t).has(t)},rn=function(t,e){var n=Je(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function on(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}on.prototype.clear=Qe,on.prototype.delete=tn,on.prototype.get=en,on.prototype.has=nn,on.prototype.set=rn;var an=on;function sn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(sn.Cache||an),n}sn.Cache=an;var ln=sn,cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,un=/\\(\\)?/g,hn=function(t){var e=ln(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(cn,(function(t,n,r,i){e.push(r?i.replace(un,"$1"):n||t)})),e})),fn=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},dn=ee,pn=ie,gn=mt?mt.prototype:void 0,mn=gn?gn.toString:void 0,yn=function t(e){if("string"==typeof e)return e;if(dn(e))return fn(e,t)+"";if(pn(e))return mn?mn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},vn=yn,bn=ee,xn=ce,wn=hn,_n=function(t){return null==t?"":vn(t)},kn=/^(?:0|[1-9]\d*)$/,Mn=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&kn.test(t))&&t>-1&&t%1==0&&t<e},Tn=ie,An=te,En=function(t,e){return bn(t)?t:xn(t,e)?[t]:wn(_n(t))},$n=Mn,Ln=ht,On=function(t){if("string"==typeof t||Tn(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Sn=function(t,e,n,r){if(!Ln(t))return t;for(var i=-1,o=(e=En(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var l=On(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=Ln(u)?u:$n(e[i+1])?[]:{})}An(s,l,c),s=s[l]}return t},Nn=ot((function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Sn(t,e,n,r)}));const zn=t=>Array.isArray(t);function Cn(t,e,n){if(!(zn(e)?[...e]:e.split(".")).length)throw new Error("Key should not be empty");Nn(t,e,n,(t=>ft(t)?t:{}))}var jn="object"==typeof it&&it&&it.Object===Object&&it,Dn=jn,Rn="object"==typeof self&&self&&self.Object===Object&&self,Pn=Dn||Rn||Function("return this")(),In=Pn.Symbol,Fn=In,Un=Object.prototype,Hn=Un.hasOwnProperty,Bn=Un.toString,Yn=Fn?Fn.toStringTag:void 0,Wn=function(t){var e=Hn.call(t,Yn),n=t[Yn];try{t[Yn]=void 0;var r=!0}catch(t){}var i=Bn.call(t);return r&&(e?t[Yn]=n:delete t[Yn]),i},qn=Object.prototype.toString,Gn=Wn,Vn=function(t){return qn.call(t)},Xn=In?In.toStringTag:void 0,Kn=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Xn&&Xn in Object(t)?Gn(t):Vn(t)},Zn=function(t){return null!=t&&"object"==typeof t},Jn=Kn,Qn=Zn,tr=function(t){return Qn(t)&&"[object Arguments]"==Jn(t)},er=Zn,nr=Object.prototype,rr=nr.hasOwnProperty,ir=nr.propertyIsEnumerable,or=tr(function(){return arguments}())?tr:function(t){return er(t)&&rr.call(t,"callee")&&!ir.call(t,"callee")},ar=or,sr=Array.isArray,lr={exports:{}},cr=function(){return!1};!function(t,e){var n=Pn,r=cr,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;t.exports=s}(lr,lr.exports);var ur=/^(?:0|[1-9]\d*)$/,hr=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ur.test(t))&&t>-1&&t%1==0&&t<e},fr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},dr={exports:{}};!function(t,e){var n=jn,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a}(dr,dr.exports);var pr=dr.exports;pr&&pr.isTypedArray;var gr=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},mr=Kn,yr=gr,vr=function(t){if(!yr(t))return!1;var e=mr(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},br=function(){this.__data__=[],this.size=0},xr=function(t,e){return t===e||t!=t&&e!=e},wr=function(t,e){for(var n=t.length;n--;)if(xr(t[n][0],e))return n;return-1},_r=wr,kr=Array.prototype.splice,Mr=wr,Tr=wr,Ar=wr,Er=br,$r=function(t){var e=this.__data__,n=_r(e,t);return!(n<0||(n==e.length-1?e.pop():kr.call(e,n,1),--this.size,0))},Lr=function(t){var e=this.__data__,n=Mr(e,t);return n<0?void 0:e[n][1]},Or=function(t){return Tr(this.__data__,t)>-1},Sr=function(t,e){var n=this.__data__,r=Ar(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Nr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nr.prototype.clear=Er,Nr.prototype.delete=$r,Nr.prototype.get=Lr,Nr.prototype.has=Or,Nr.prototype.set=Sr;var zr=Nr,Cr=Pn["__core-js_shared__"],jr=function(){var t=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Dr=function(t){return!!jr&&jr in t},Rr=Function.prototype.toString,Pr=function(t){if(null!=t){try{return Rr.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ir=vr,Fr=Dr,Ur=gr,Hr=Pr,Br=/^\[object .+?Constructor\]$/,Yr=Function.prototype,Wr=Object.prototype,qr=Yr.toString,Gr=Wr.hasOwnProperty,Vr=RegExp("^"+qr.call(Gr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=function(t){return!(!Ur(t)||Fr(t))&&(Ir(t)?Vr:Br).test(Hr(t))},Kr=function(t,e){return null==t?void 0:t[e]},Zr=function(t,e){var n=Kr(t,e);return Xr(n)?n:void 0},Jr=Zr(Pn,"Map"),Qr=Zr(Object,"create"),ti=Qr,ei=function(){this.__data__=ti?ti(null):{},this.size=0},ni=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ri=Qr,ii=Object.prototype.hasOwnProperty,oi=function(t){var e=this.__data__;if(ri){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ii.call(e,t)?e[t]:void 0},ai=Qr,si=Object.prototype.hasOwnProperty,li=Qr,ci=ei,ui=ni,hi=oi,fi=function(t){var e=this.__data__;return ai?void 0!==e[t]:si.call(e,t)},di=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=li&&void 0===e?"__lodash_hash_undefined__":e,this};function pi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pi.prototype.clear=ci,pi.prototype.delete=ui,pi.prototype.get=hi,pi.prototype.has=fi,pi.prototype.set=di;var gi=pi,mi=zr,yi=Jr,vi=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},bi=vi,xi=function(t,e){var n=t.__data__;return bi(e)?n["string"==typeof e?"string":"hash"]:n.map},wi=xi,_i=xi,ki=xi,Mi=xi,Ti=function(){this.size=0,this.__data__={hash:new gi,map:new(yi||mi),string:new gi}},Ai=function(t){var e=wi(this,t).delete(t);return this.size-=e?1:0,e},Ei=function(t){return _i(this,t).get(t)},$i=function(t){return ki(this,t).has(t)},Li=function(t,e){var n=Mi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Oi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=Ti,Oi.prototype.delete=Ai,Oi.prototype.get=Ei,Oi.prototype.has=$i,Oi.prototype.set=Li;var Si=Oi;Pn.Uint8Array;var Ni=In?In.prototype:void 0;Ni&&Ni.valueOf;var zi=Zr(Pn,"DataView"),Ci=Jr,ji=Zr(Pn,"Promise"),Di=Zr(Pn,"Set"),Ri=Zr(Pn,"WeakMap"),Pi=Kn,Ii=Pr,Fi="[object Map]",Ui="[object Promise]",Hi="[object Set]",Bi="[object WeakMap]",Yi="[object DataView]",Wi=Ii(zi),qi=Ii(Ci),Gi=Ii(ji),Vi=Ii(Di),Xi=Ii(Ri),Ki=Pi;(zi&&Ki(new zi(new ArrayBuffer(1)))!=Yi||Ci&&Ki(new Ci)!=Fi||ji&&Ki(ji.resolve())!=Ui||Di&&Ki(new Di)!=Hi||Ri&&Ki(new Ri)!=Bi)&&(Ki=function(t){var e=Pi(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ii(n):"";if(r)switch(r){case Wi:return Yi;case qi:return Fi;case Gi:return Ui;case Vi:return Hi;case Xi:return Bi}return e});var Zi=Kn,Ji=Zn,Qi=function(t){return"symbol"==typeof t||Ji(t)&&"[object Symbol]"==Zi(t)},to=sr,eo=Qi,no=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ro=/^\w*$/,io=function(t,e){if(to(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!eo(t))||ro.test(t)||!no.test(t)||null!=e&&t in Object(e)},oo=Si;function ao(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ao.Cache||oo),n}ao.Cache=oo;var so=ao,lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,co=/\\(\\)?/g,uo=function(t){var e=so(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(lo,(function(t,n,r,i){e.push(r?i.replace(co,"$1"):n||t)})),e})),ho=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},fo=sr,po=Qi,go=In?In.prototype:void 0,mo=go?go.toString:void 0,yo=function t(e){if("string"==typeof e)return e;if(fo(e))return ho(e,t)+"";if(po(e))return mo?mo.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},vo=yo,bo=sr,xo=io,wo=uo,_o=function(t){return null==t?"":vo(t)},ko=Qi,Mo=function(t,e){return bo(t)?t:xo(t,e)?[t]:wo(_o(t))},To=ar,Ao=sr,Eo=hr,$o=fr,Lo=function(t){if("string"==typeof t||ko(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Oo=function(t,e,n){for(var r=-1,i=(e=Mo(e,t)).length,o=!1;++r<i;){var a=Lo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&$o(i)&&Eo(a,i)&&(Ao(t)||To(t))},So=Object.prototype.hasOwnProperty,No=function(t,e){return null!=t&&So.call(t,e)},Co=Oo,jo=ot((function(t,e){return null!=t&&Co(t,e,No)}));function Do(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var Ro=4.7421875,Po=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Io(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Io(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Po[0];for(var c=1;c<Po.length;++c)n+=Po[c]/(t+c);return e=t+Ro+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var Fo=1/3,Uo=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return Do(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return Io(t+1)},gamma:Io,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,Fo):Math.pow(t,Fo)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),Ho="INUMBER",Bo="IOP1",Yo="IOP2",Wo="IOP3",qo="IVAR",Go="IVARNAME",Vo="IFUNCALL",Xo="IFUNDEF",Ko="IEXPR",Zo="IEXPREVAL",Jo="IMEMBER",Qo="IENDSTATEMENT",ta="IARRAY";function ea(t,e){this.type=t,this.value=null!=e?e:0}function na(t){return new ea(Bo,t)}function ra(t){return new ea(Yo,t)}function ia(t,e,n){var r,i,o,a,s,l,c=[];if(aa(t))return sa(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],d=f.type;if(d===Ho||d===Go)c.push(f.value);else if(d===Yo)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!ia(i,e,n)):"or"===f.value?c.push(!!r||!!ia(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,ia(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(sa(r,n),sa(i,n))));else if(d===Wo)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(ia(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(sa(r,n),sa(i,n),sa(o,n))));else if(d===qo){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var p=n[f.value];if(void 0===p)throw new Error("undefined variable: "+f.value);c.push(p)}}else if(d===Bo)r=c.pop(),a=e.unaryOps[f.value],c.push(a(sa(r,n)));else if(d===Vo){for(l=f.value,s=[];l-- >0;)s.unshift(sa(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(d===Xo)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return ia(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(d===Ko)c.push(oa(f,e));else if(d===Zo)c.push(f);else if(d===Jo)r=c.pop(),c.push(r[f.value]);else if(d===Qo)c.pop();else{if(d!==ta)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:sa(c[0],n)}function oa(t,e,n){return aa(t)?t:{type:Zo,value:function(n){return ia(t.value,e,n)}}}function aa(t){return t&&t.type===Zo}function sa(t,e){return aa(t)?t.value(e):t}ea.prototype.toString=function(){switch(this.type){case Ho:case Bo:case Yo:case Wo:case qo:case Go:case Qo:return this.value;case Vo:return"CALL "+this.value;case Xo:return"DEF "+this.value;case ta:return"ARRAY "+this.value;case Jo:return"."+this.value;default:return"Invalid Instruction"}};var la="TEOF",ca="TOP",ua="TNUMBER",ha="TSTRING",fa="TPAREN",da="TBRACKET",pa="TCOMMA",ga="TNAME",ma="TSEMICOLON";function ya(t,e,n){this.type=t,this.value=e,this.index=n}function va(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}ya.prototype.toString=function(){return this.type+": "+this.value},va.prototype.newToken=function(t,e,n){return new ya(t,e,null!=n?n:this.pos)},va.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},va.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},va.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(la,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},va.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(ha,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},va.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(fa,t),this.pos++,!0)},va.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(da,t),this.pos++,0))},va.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(pa,","),this.pos++,!0)},va.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(ma,";"),this.pos++,!0)},va.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(ua,this.consts[r]),this.pos+=r.length,!0}return!1},va.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(ca,r),this.pos+=r.length,!0}return!1},va.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(ga,i),this.pos+=i.length,!0}return!1},va.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var ba=/^[0-9a-f]{4}$/i;function xa(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}va.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);ba.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},va.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},va.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(ua,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},va.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(ua,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},va.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(ca,e);else if("∙"===e||"•"===e)this.current=this.newToken(ca,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ca,">="),this.pos++):this.current=this.newToken(ca,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ca,"<="),this.pos++):this.current=this.newToken(ca,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ca,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ca,"=="),this.pos++):this.current=this.newToken(ca,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ca,"!="),this.pos++):this.current=this.newToken(ca,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},va.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},va.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},va.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},xa.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},xa.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?Do(e,t.value):"function"==typeof e?e(t):t.value===e)},xa.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},xa.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},xa.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},xa.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},xa.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(ga)||this.accept(ca,(function(t){return t.value in e})))t.push(new ea(qo,this.current.value));else if(this.accept(ua))t.push(new ea(Ho,this.current.value));else if(this.accept(ha))t.push(new ea(Ho,this.current.value));else if(this.accept(fa,"("))this.parseExpression(t),this.expect(fa,")");else{if(!this.accept(da,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(da,"]"))t.push(new ea(ta,0));else{var n=this.parseArrayList(t);t.push(new ea(ta,n))}}},xa.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},xa.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},xa.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(ma)&&(!this.nextToken||this.nextToken.type===la||this.nextToken.type===fa&&")"===this.nextToken.value||e.push(new ea(Qo)),this.nextToken.type!==la&&this.parseExpression(e),t.push(new ea(Ko,e)),!0)},xa.prototype.parseArrayList=function(t){for(var e=0;!this.accept(da,"]");)for(this.parseExpression(t),++e;this.accept(pa);)this.parseExpression(t),++e;return e},xa.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ca,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==Vo){if(e.type!==qo&&e.type!==Jo)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new ea(Go,e.value)),t.push(new ea(Ko,n)),t.push(ra("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===qo&&(t[a]=new ea(Go,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new ea(Ko,n)),t.push(new ea(Xo,e.value))}}},xa.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ca,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ca,":"),this.parseConditionalExpression(n),t.push(new ea(Ko,e)),t.push(new ea(Ko,n)),t.push(new ea(Wo,"?"))}},xa.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ca,"or");){var e=[];this.parseAndExpression(e),t.push(new ea(Ko,e)),t.push(ra("or"))}},xa.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ca,"and");){var e=[];this.parseComparison(e),t.push(new ea(Ko,e)),t.push(ra("and"))}};var wa=["==","!=","<","<=",">=",">","in"];xa.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ca,wa);){var e=this.current;this.parseAddSub(t),t.push(ra(e.value))}};var _a=["+","-","||"];xa.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ca,_a);){var e=this.current;this.parseTerm(t),t.push(ra(e.value))}};var ka=["*","/","%"];xa.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ca,ka);){var e=this.current;this.parseFactor(t),t.push(ra(e.value))}},xa.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(ca,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===fa&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===ma||this.nextToken.type===pa||this.nextToken.type===la||this.nextToken.type===fa&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(na(n.value))}else this.parseExponential(t)},xa.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ca,"^");)this.parseFactor(t),t.push(ra("^"))},xa.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ca,"!");)t.push(na("!"))},xa.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(ca,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(na(n.value))}else for(this.parseMemberExpression(t);this.accept(fa,"(");)if(this.accept(fa,")"))t.push(new ea(Vo,0));else{var r=this.parseArgumentList(t);t.push(new ea(Vo,r))}},xa.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(fa,")");)for(this.parseExpression(t),++e;this.accept(pa);)this.parseExpression(t),++e;return e},xa.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ca,".")||this.accept(da,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(ga),t.push(new ea(Jo,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(da,"]"),t.push(ra("["))}}};const{add:Ma,sub:Ta,mul:Aa,div:Ea,mod:$a,equal:La,notEqual:Oa,greaterThan:Sa,lessThan:Na,greaterThanEqual:za,lessThanEqual:Ca,andOperator:ja,orOperator:Da,log10:Ra,neg:Pa,not:Ia,trunc:Fa,random:Ua,stringOrArrayLength:Ha,condition:Ba,roundTo:Ya,arrayIndex:Wa,max:qa,min:Ga,sum:Va,arrayMap:Xa,arrayFold:Ka,arrayFilter:Za,sign:Ja,log1p:Qa,log2:ts}=Uo;function es(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function ns(t){return t.trim()}es.prototype.evaluate=function(t){return t=t||{},ia(this.tokens,this,t)},es.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const rs=new Set(["__proto__","prototype","constructor"]);function is(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||ts,LN:Math.log,LOG10:Math.log10||Ra,LG:Math.log10||Ra,LOG1P:Math.log1p||Qa,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||Fa,"-":Pa,"+":Number,EXP:Math.exp,NOT:Ia,LENGTH:Ha,"!":Ia,SIGN:Math.sign||Ja,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":Ma,"-":Ta,"*":Aa,"/":Ea,"%":$a,"^":Math.pow,"==":La,"!=":Oa,">":Sa,"<":Na,">=":za,"<=":Ca,and:ja,or:Da,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":Wa},this.ternaryOps={"?":Ba};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Ba,RANDOM:Ua,MIN(){const t=r.apply(this,arguments);return Ga(t)},MAX(){return qa(r.apply(this,arguments))},SUM(){return Va(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return Va(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Ya,CONCAT(){return Array.from(arguments).join("")},TRIM:ns,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(rs.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Xa,FOLD:Ka,FILTER:Za,PLUCK(t,e){if(rs.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}is.prototype.parse=function(t){var e=[],n=new xa(this,new va(this,t),{allowMemberAccess:!0,restrictMemberAccess:rs});return n.parseExpression(e),n.expect(la,"EOF"),new es(e,this)},is.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var os=new is;is.parse=function(t){return os.parse(t)},is.evaluate=function(t,e){return os.parse(t).evaluate(e)},is.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var as={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function ss(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(jo(t,["blocks",n,"styles","typography",e]))return rt(t,["blocks",n,"styles","typography",e]);return n}return rt(t,"typography.chart.".concat(e),n)}is.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(as,t)?as[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const ls=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,cs=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;var us=ot((t=>{if(t.match(ls)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(cs)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: ".concat(t))})),hs=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t<e?e:t>n?n:t};const fs=hs,ds={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])ds["[object ".concat(t,"]")]=t.toLowerCase();var ps=function(t){return ds[Object.prototype.toString.call(t)]||"object"};const gs=ps,ms=ps,ys=Math.PI;var vs={clip_rgb:t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=fs(t[e],0,255)):3===e&&(t[e]=fs(t[e],0,1));return t},limit:hs,type:ps,unpack:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.length>=3?Array.prototype.slice.call(t):"object"==gs(t[0])&&e?e.split("").filter((e=>void 0!==t[0][e])).map((e=>t[0][e])):t[0]},last:t=>{if(t.length<2)return null;const e=t.length-1;return"string"==ms(t[e])?t[e].toLowerCase():null},PI:ys,TWOPI:2*ys,PITHIRD:ys/3,DEG2RAD:ys/180,RAD2DEG:180/ys};const bs={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},{unpack:xs}=vs,{pow:ws}=Math,_s=t=>(t/=255)<=.04045?t/12.92:ws((t+.055)/1.055,2.4),ks=t=>t>bs.t3?ws(t,1/3):t/bs.t2+bs.t0,Ms=(t,e,n)=>(t=_s(t),e=_s(e),n=_s(n),[ks((.4124564*t+.3575761*e+.1804375*n)/bs.Xn),ks((.2126729*t+.7151522*e+.072175*n)/bs.Yn),ks((.0193339*t+.119192*e+.9503041*n)/bs.Zn)]);var Ts=ot((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,i,o]=xs(e,"rgb"),[a,s,l]=Ms(r,i,o),c=116*s-16;return[c<0?0:c,500*(a-s),200*(s-l)]}));function As(t,e){const n=rt(t,"colors.background","#ffffff"),r=rt(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:rt(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:rt(t,"colors.bgBlendRatios.tickText.primary",.2)},series:rt(t,"colors.bgBlendRatios.series",0),value:rt(t,"colors.bgBlendRatios.value",.2),axis:rt(t,"colors.bgBlendRatios.axis",0),gridline:rt(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}var Es=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===$s}(t)}(t)},$s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Ls(t,e){return!1!==e.clone&&e.isMergeableObject(t)?Cs((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Os(t,e,n){return t.concat(e).map((function(t){return Ls(t,n)}))}function Ss(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function Ns(t,e){try{return e in t}catch(t){return!1}}function zs(t,e,n){var r={};return n.isMergeableObject(t)&&Ss(t).forEach((function(e){r[e]=Ls(t[e],n)})),Ss(e).forEach((function(i){(function(t,e){return Ns(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(Ns(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return Cs;var n=e.customMerge(t);return"function"==typeof n?n:Cs}(i,n)(t[i],e[i],n):r[i]=Ls(e[i],n))})),r}function Cs(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Os,n.isMergeableObject=n.isMergeableObject||Es,n.cloneUnlessOtherwiseSpecified=Ls;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):zs(t,e,n):Ls(e,n)}Cs.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return Cs(t,n,e)}),{})};var js=ot(Cs);function Ds(t,e,n,r){const{fallbackBaseColor:i}=As(e,r),o=rt(e,"colors.background","#ffffff"),a=rt(e,"vis.base.grid",{}),s=[rt(a,"general"),rt(a,t)];n?s.push(rt(a,"secondary")):s.push(rt(a,"primary"));let l=s.reduce((function(t,e){return e?js(t,e):t}),{});return l=js(function(t,e,n){const r=rt(t,"colors.background","#ffffff"),i=Ts(us(r))[0]<50,{fallbackBaseColor:o}=As(t,n);return{tickLines:{aboveChart:!0,color:o,blendBaseColorWithBg:e?i?.95:.82:0,width:1,length:5,lengthInside:20,lengthInsideShort:10,distance:0},gridLines:{aboveChart:!1,major:{blendBaseColorWithBg:i?.95:.82,width:1},minor:{opacity:.5,width:1}},baseLine:{aboveChart:!0,blendBaseColorWithBg:0,width:1,strokeLinecap:"square"},tickLabels:{buffer:10,aboveChart:!0,blendBaseColorWithBg:e?i?.7:.4:.2,distance:5}}}(e,n,r),l),Cn(l,"gridLines.minor",js(rt(l,"gridLines.major",{}),rt(l,"gridLines.minor",{}))),["gridLines.major","gridLines.minor","baseLine","tickLines","tickLabels"].forEach((t=>{const{color:e,blendBaseColorWithBg:n}=rt(l,t);e||Cn(l,"".concat(t,".color"),r.mix(i,o,n))})),l.tickLabels.bufferColor=o,l}function Rs(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var i,o,a,s,l,c;e=null===e||e,n=null!==n&&n,r=null===r||r;const u=new Set(["tick-labels","base-lines"]),h=new Set(["grid-lines"]);return!1===e&&u.delete("tick-labels"),!0===n&&h.add("tick-lines"),!1===r&&h.delete("grid-lines"),(null===(i=null==t?void 0:t.tickLines)||void 0===i?void 0:i.forceOn)&&h.has("grid-lines")&&h.add("tick-lines"),h.has("tick-lines")&&(null===(o=null==t?void 0:t.tickLines)||void 0===o?void 0:o.aboveChart)&&u.add("tick-lines"),u.has("tick-labels")&&!1===(null===(a=null==t?void 0:t.tickLabels)||void 0===a?void 0:a.aboveChart)&&(u.delete("tick-labels"),h.add("tick-labels")),u.has("base-lines")&&!1===(null===(s=null==t?void 0:t.baseLine)||void 0===s?void 0:s.aboveChart)&&(u.delete("base-lines"),h.add("base-lines")),h.has("grid-lines")&&(null===(l=null==t?void 0:t.gridLines)||void 0===l?void 0:l.aboveChart)&&(h.delete("grid-lines"),u.add("grid-lines")),h.has("tick-lines")&&(null===(c=null==t?void 0:t.tickLines)||void 0===c?void 0:c.aboveChart)&&(h.delete("tick-lines"),u.add("tick-lines")),{elementsAbove:u,elementsBelow:h}}function Ps(t){return t?JSON.stringify(Object.assign(Object.assign({},Object.fromEntries(Object.entries(t).filter((t=>{let[e]=t;return!["scale"].includes(e)})))),{elements:Array.from(t.elements),domain:t.scale.domain(),range:t.scale.range(),fitLabels:t.fitLabels?Array.from(t.fitLabels):[],fitLabelsActual:t.fitLabelsActual?Array.from(t.fitLabelsActual):[]})):""}const Is={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4},Fs=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function Us(t,e){const n=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return{prefix:"",number:""};let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"−",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const h=o.indexOf("(")>-1,f=!h&&o.indexOf("|")>-1,d=o.indexOf(";")>-1;o=o.replace(/;/g,",").replace(/\|/g,"");let p=t(h?e:Math.abs(e)).format(o);if(d){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!h&&!f&&e<0&&Fs.has(s.trim().toLowerCase())?{prefix:c,number:"".concat(s).concat(p.replace("+","")).concat(l)}:s&&(e>=0||f)&&Fs.has(s.trim().toLowerCase())&&o.includes("+")?{prefix:0===e?u:"+",number:"".concat(s).concat(p.replace("+","")).concat(l)}:0===e&&o.includes("+")?(p.includes("+"),{prefix:"".concat(s).concat(u),number:"".concat(p.replace("+","")).concat(l)}):e<0&&!h&&!f?{prefix:"".concat(s).concat(c),number:"".concat(p.replace("+","")).concat(l)}:o.includes("+")?{prefix:"".concat(s,"+"),number:"".concat(p.replace("+","")).concat(l)}:{prefix:"",number:"".concat(s).concat(p).concat(l)}}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return"".concat(n.prefix).concat(n.number)}var Hs="object"==typeof it&&it&&it.Object===Object&&it,Bs="object"==typeof self&&self&&self.Object===Object&&self,Ys=Hs||Bs||Function("return this")(),Ws=Ys.Symbol,qs=Ws,Gs=Object.prototype,Vs=Gs.hasOwnProperty,Xs=Gs.toString,Ks=qs?qs.toStringTag:void 0,Zs=function(t){var e=Vs.call(t,Ks),n=t[Ks];try{t[Ks]=void 0;var r=!0}catch(t){}var i=Xs.call(t);return r&&(e?t[Ks]=n:delete t[Ks]),i},Js=Object.prototype.toString,Qs=Zs,tl=function(t){return Js.call(t)},el=Ws?Ws.toStringTag:void 0,nl=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":el&&el in Object(t)?Qs(t):tl(t)},rl=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},il=nl,ol=rl,al=function(t){if(!ol(t))return!1;var e=il(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},sl=Ys["__core-js_shared__"],ll=function(){var t=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),cl=function(t){return!!ll&&ll in t},ul=Function.prototype.toString,hl=al,fl=cl,dl=rl,pl=function(t){if(null!=t){try{return ul.call(t)}catch(t){}try{return t+""}catch(t){}}return""},gl=/^\[object .+?Constructor\]$/,ml=Function.prototype,yl=Object.prototype,vl=ml.toString,bl=yl.hasOwnProperty,xl=RegExp("^"+vl.call(bl).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=function(t){return!(!dl(t)||fl(t))&&(hl(t)?xl:gl).test(pl(t))},_l=function(t,e){return null==t?void 0:t[e]},kl=function(t,e){var n=_l(t,e);return wl(n)?n:void 0},Ml=kl(Object,"create"),Tl=Ml,Al=function(){this.__data__=Tl?Tl(null):{},this.size=0},El=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$l=Ml,Ll=Object.prototype.hasOwnProperty,Ol=function(t){var e=this.__data__;if($l){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ll.call(e,t)?e[t]:void 0},Sl=Ml,Nl=Object.prototype.hasOwnProperty,zl=Ml,Cl=Al,jl=El,Dl=Ol,Rl=function(t){var e=this.__data__;return Sl?void 0!==e[t]:Nl.call(e,t)},Pl=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zl&&void 0===e?"__lodash_hash_undefined__":e,this};function Il(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Il.prototype.clear=Cl,Il.prototype.delete=jl,Il.prototype.get=Dl,Il.prototype.has=Rl,Il.prototype.set=Pl;var Fl=Il,Ul=function(){this.__data__=[],this.size=0},Hl=function(t,e){return t===e||t!=t&&e!=e},Bl=function(t,e){for(var n=t.length;n--;)if(Hl(t[n][0],e))return n;return-1},Yl=Bl,Wl=Array.prototype.splice,ql=Bl,Gl=Bl,Vl=Bl,Xl=Ul,Kl=function(t){var e=this.__data__,n=Yl(e,t);return!(n<0||(n==e.length-1?e.pop():Wl.call(e,n,1),--this.size,0))},Zl=function(t){var e=this.__data__,n=ql(e,t);return n<0?void 0:e[n][1]},Jl=function(t){return Gl(this.__data__,t)>-1},Ql=function(t,e){var n=this.__data__,r=Vl(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function tc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tc.prototype.clear=Xl,tc.prototype.delete=Kl,tc.prototype.get=Zl,tc.prototype.has=Jl,tc.prototype.set=Ql;var ec=tc,nc=kl(Ys,"Map"),rc=Fl,ic=ec,oc=nc,ac=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},sc=ac,lc=function(t,e){var n=t.__data__;return sc(e)?n["string"==typeof e?"string":"hash"]:n.map},cc=lc,uc=lc,hc=lc,fc=lc,dc=function(){this.size=0,this.__data__={hash:new rc,map:new(oc||ic),string:new rc}},pc=function(t){var e=cc(this,t).delete(t);return this.size-=e?1:0,e},gc=function(t){return uc(this,t).get(t)},mc=function(t){return hc(this,t).has(t)},yc=function(t,e){var n=fc(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function vc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vc.prototype.clear=dc,vc.prototype.delete=pc,vc.prototype.get=gc,vc.prototype.has=mc,vc.prototype.set=yc;var bc=vc,xc=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wc=function(t){return this.__data__.has(t)};function _c(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bc;++e<n;)this.add(t[e])}_c.prototype.add=_c.prototype.push=xc,_c.prototype.has=wc;var kc=_c,Mc=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1},Tc=function(t){return t!=t},Ac=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1},Ec=function(t,e,n){return e==e?Ac(t,e,n):Mc(t,Tc,n)},$c=function(t,e){return!(null==t||!t.length)&&Ec(t,e,0)>-1},Lc=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1},Oc=function(t,e){return t.has(e)},Sc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Nc=kl(Ys,"Set"),zc=function(){},Cc=Nc&&1/Sc(new Nc([,-0]))[1]==1/0?function(t){return new Nc(t)}:zc,jc=kc,Dc=$c,Rc=Lc,Pc=Oc,Ic=Cc,Fc=Sc,Uc=function(t,e,n){var r=-1,i=Dc,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Rc;else if(o>=200){var c=e?null:Ic(t);if(c)return Fc(c);a=!1,i=Pc,l=new jc}else l=e?[]:s;t:for(;++r<o;){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s},Hc=Uc,Bc=ot((function(t){return t&&t.length?Hc(t):[]}));const Yc=Math.sqrt(50),Wc=Math.sqrt(10),qc=Math.sqrt(2);function Gc(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Yc?10:o>=Wc?5:o>=qc?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?Gc(t,e,2*n):[s,l,c]}function Vc(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?Gc(e,t,n):Gc(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let t=0;t<s;++t)l[t]=(o-t)/-a;else for(let t=0;t<s;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<s;++t)l[t]=(i+t)/-a;else for(let t=0;t<s;++t)l[t]=(i+t)*a;return l}var Xc={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",c="month",u="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),o=n-i<0,a=e.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:l,d:s,D:f,h:a,m:o,s:i,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",x={};x[b]=m;var w="$isDayjsObject",_=function(t){return t instanceof A||!(!t||!t[w])},k=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var o=e.toLowerCase();x[o]&&(i=o),n&&(x[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;x[s]=e,i=s}return!r&&i&&(b=i),i||!r&&b},M=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new A(n)},T=v;T.l=k,T.i=_,T.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var A=function(){function m(t){this.$L=k(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[w]=!0}var y=m.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return T},y.isValid=function(){return!(this.$d.toString()===d)},y.isSame=function(t,e){var n=M(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return M(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<M(t)},y.$g=function(t,e,n){return T.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!T.u(e)||e,u=T.p(t),d=function(t,e){var i=T.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(s)},p=function(t,e){return T.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case h:return r?d(1,0):d(31,11);case c:return r?d(1,m):d(0,m+1);case l:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return d(r?y-x:y+(6-x),m);case s:case f:return p(v+"Hours",0);case a:return p(v+"Minutes",1);case o:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,l=T.p(t),u="set"+(this.$u?"UTC":""),d=(n={},n[s]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[h]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===s?this.$D+(e-this.$W):e;if(l===c||l===h){var g=this.clone().set(f,1);g.$d[d](p),g.init(),this.$d=g.set(f,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[T.p(t)]()},y.add=function(r,u){var f,d=this;r=Number(r);var p=T.p(u),g=function(t){var e=M(d);return T.w(e.date(e.date()+Math.round(t*r)),d)};if(p===c)return this.set(c,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===s)return g(1);if(p===l)return g(7);var m=(f={},f[o]=e,f[a]=n,f[i]=t,f)[p]||1,y=this.$d.getTime()+r*m;return T.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,h=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},f=function(t){return T.s(o%12||12,t,"0")},p=u||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(g,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return T.s(e.$y,4,"0");case"M":return s+1;case"MM":return T.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,c,3);case"MMMM":return h(c,s);case"D":return e.$D;case"DD":return T.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,l,2);case"ddd":return h(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return T.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(e.$s);case"ss":return T.s(e.$s,2,"0");case"SSS":return T.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,f,d){var p,g=this,m=T.p(f),y=M(r),v=(y.utcOffset()-this.utcOffset())*e,b=this-y,x=function(){return T.m(g,y)};switch(m){case h:p=x()/12;break;case c:p=x();break;case u:p=x()/3;break;case l:p=(b-v)/6048e5;break;case s:p=(b-v)/864e5;break;case a:p=b/n;break;case o:p=b/e;break;case i:p=b/t;break;default:p=b}return d?p:T.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return x[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=k(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return T.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),E=A.prototype;return M.prototype=E,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",h],["$D",f]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,A,M),t.$i=!0),M},M.locale=k,M.isDayjs=_,M.unix=function(t){return M(1e3*t)},M.en=x[b],M.Ls=x,M.p={},M}()}(Xc);var Kc=ot(Xc.exports),Zc={exports:{}};!function(t,e){t.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}}}(Zc);var Jc=ot(Zc.exports),Qc={exports:{}};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})}(Qc);var tu=ot(Qc.exports),eu={exports:{}};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,i){var o=e.prototype;o.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(r).add(1,r).date(e),a=i(this).endOf(n);if(o.isBefore(a))return 1}var s=i(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),l=this.diff(s,n,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}(eu);var nu=ot(eu.exports);function ru(t){let{numeral:e,themeOptions:n,themeData:r,smartSpacing:i=!1,ticks:o,rtl:a=!1,scale:s,scaleType:l,customFormatFunction:c,tickLabelFormat:u,tickLabelUnit:h,tickLabelMultiply:f,minusChar:d,plusMinusChar:p="±"}=t;const g=(null==o?void 0:o.major)||{values:[]},m=(null==o?void 0:o.minor)||{values:[]};let y=g.values;const v=s.domain(),b=s.range(),x=g.spacing||80,w=Math.abs(b[1]-b[0])/x;if("text"===l&&c){const t=v,e=a?Vc(0,t[0],t[0]):Vc(0,t[t.length-1],t[t.length-1]),n=Math.max(1,Math.round(e.length/w)),r=e.filter((t=>t%n==0));return{ticksMajor:i?r:e,ticksMinor:[]}}y&&y.length||(y=i?function(t,e,n,r,i){const{scale:o,scaleType:a}=e,s=rt(n,"tickLabels.fontSize",ss(r,"fontSize",12)),l=rt(n,"tickLabels.buffer",10);return c(t,i);function c(t,r,i){const u=iu(a,o,o.domain(),r).sort(((t,e)=>o(t)-o(e)));if(Math.round(r)>1&&u.length>1){if(i&&u.length===i.length)return c(t,r-1,u);{const{tickFormat:i,multiFormat:a}=su(t,e,u,n),h=u.map(((t,e)=>{const n=0===e?e===u.length-1?"last":"first":"middle",r=[i(t,n,0===e)];return Math.max(...r.flat().map((t=>function(t){if(!t)return 0;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:14)/14;return t.split("").reduce(((t,e)=>t+(Is[e]||Is.a)),0)*e}(t,s))))}));let f,d=l;if(u.forEach(((t,e)=>{const n=o(t);f&&(d=Math.min(n-h[e]/2-f,d)),f=n+h[e]/2})),d<l)return c(t,r-1,u)}}return u}}(e,{scale:s,scaleType:l,tickLabelFormat:u,tickLabelUnit:h,tickLabelMultiply:f,minusChar:d,plusMinusChar:p,customFormatFunction:c},n,r,w):iu(l,s,v,w),"number"!==l&&"log"!==l||"0o"!==u||(y=y.filter((t=>t%1==0)))),"text"!==l&&(y=y.filter((t=>{if("date"===l){const e=t,n=v;return e.getTime()>=Math.min(n[0].getTime(),n[1].getTime())&&e.getTime()<=Math.max(n[0].getTime(),n[1].getTime())}const e=t,n=v;return e>=Math.min(n[0],n[1])&&e<=Math.max(n[0],n[1])})));let _=Array.isArray(m.values)?m.values:[];if(0===_.length&&m.count){_=[];for(let t=0;t<y.length-1;t++){const e=Math.min(y[t],y[t+1]),n=Math.max(y[t],y[t+1]),r=Vc(e,n,m.count).filter((t=>t>e&&t<n));_.push(...r)}}return{ticksMajor:y,ticksMinor:_}}function iu(t,e,n,r){const i=Math.round(r);switch(t){case"text":{const t=Math.max(1,Math.round(n.length/r));return n.filter(((e,n)=>n%t==0))}case"log":{const t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const n=t[0]<0&&t[1]<0;n&&(t=[-1*t[0],-1*t[1]]);const r=t[1]<t[0];if(r&&(t=t.slice(0).reverse()),t[0]<0||t[1]<0)return[];let i=1;e+=2;let o=au(t,i);if(o[0].num>e)for(;o[0].num>e;)i*=10,o=au(t,i);else if(o[o.length-1].num<e){const n=Vc(t[0],t[1],e-2);return r&&n.reverse(),n}e-=2;const a=o.map((e=>Object.assign(Object.assign({},e),{ticks:e.ticks.filter((e=>e>=t[0]&&e<=t[1]))}))).map((t=>Object.assign(Object.assign({},t),{diff:Math.abs(t.ticks.length-e)}))).sort(((t,e)=>t.diff-e.diff))[0].ticks;return r&&a.reverse(),n?a.map((t=>-1*t)):a}(n,i);return t.length>1?t:e.ticks(i)}default:{let t=e.ticks(i);return r>.5&&t.length<2&&(t=e.ticks(2)),t}}}Kc.extend(Jc),Kc.extend(nu),Kc.extend(tu),Kc.extend(((t,e)=>{const n=e.prototype,r=n.format;n.format=function(t){const e=t||"YYYY-MM-DDTHH:mm:ssZ",n=this.$locale().seasonSeparator||"-",i=e.replace(/(\[[^\]]+])|BB|B/g,((t,e)=>{const r=this.$y,i=r+1,o="B"===t,a=o?[String(r).slice(-2),2]:[r,4],s=[String(i).slice(-2),2];return e||"".concat(o?"'":"").concat(this.$utils().s(...a,"0")).concat(n).concat(o?"'":"").concat(this.$utils().s(...s,"0"))}));return r.bind(this)(i)}}));const ou=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function au(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return ou.map((n=>{let r=Math.pow(10,Math.floor(Math.log(t[0])/Math.LN10)),i=0;const o=[r];for(;r<t[1];)r*=n[i]*e,o.push(r),i=(i+1)%n.length;return{ticks:o,num:o.length}}))}function su(t,e){let{scale:n,scaleType:r,tickLabelFormat:i,tickLabelUnit:o=["",""],tickLabelMultiply:a,minusChar:s,plusMinusChar:l,customFormatFunction:c}=e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],h=arguments.length>3?arguments[3]:void 0,f=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(i&&"auto"!==i||("date"===r?i=cu(n.domain(),u):"number"!==r&&"log"!==r||(i=function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(n.domain()))),"number"===r||"log"===r){const e=rt(h,"tickLabels.units","all");return{multiFormat:!1,keepOrder:!1,tickFormat(n,r){const c=f||"all"===e||"first"===e&&"first"===r||"last"===e&&"last"===r;return Us(t,n,{multiply:a,format:c?i:i.replace(/[%$]/g,""),prepend:c?o[0]:"",append:c?o[1]:"",minusChar:s,plusMinusChar:l})}}}if("date"===r){f&&(i=i.replace(/\w+/g,(t=>lu[t]||t)));let t=null;if(i.indexOf("~~")>-1){const e=i.split("~~");t=t=>Kc(t).format(e[0]),i=e[1]}const e=i.split("|"),n=e.length>1,r=n?function(t,e){let n=new Array(t.length);return t=t.filter(((t,n)=>!n||Bc(e.map(t)).length>1)),(e,r,i)=>{let o;i&&(n=[]);const a=[];for(let r=0,i=t.length;r<i;r++)if(o=t[r](e),o!==n[r]){n[r]=o;for(let t=r+1;t<i;t++)n[t]=void 0;a.unshift(o)}return a}}(e.map((t=>e=>Kc(e).format(t))),u):t=>Kc(t).format(i);return{multiFormat:n,keepOrder:!1,tickFormat:function(e,i,o){return t&&"first"===i?n?[t(e)]:t(e):r(e,i,o)}}}return{multiFormat:!0,keepOrder:!0,tickFormat:(t,e)=>{if("number"==typeof t&&c)t=c(t);else if("number"==typeof t)throw"Requires a customFormatFunction";return(t||"").split(/(?:\n|<br>|<br\/>)/i)}}}const lu={YY:"YYYY",M:"MMMM",MM:"MMMM",MMM:"MMMM",DD:"D",dd:"dddd",ddd:"dddd"};function cu(t,e){const n=Math.abs(t[1].getTime()-t[0].getTime()),r=e&&e.length>0;let i=r,o=r,a=r,s=r,l=r,c=r;return r&&e.forEach((t=>{i=i&&0===t.getMonth()&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),o=o&&du.has(t.getMonth())&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),a=a&&1===t.getDate()&&0===t.getHours()&&0===t.getMinutes(),s=s&&0===t.getDay()&&0===t.getHours()&&0===t.getMinutes(),l=l&&0===t.getHours()&&0===t.getMinutes(),c=c&&0===t.getMinutes()})),i?"YYYY":o||a?n>5*fu?"YY|MMM":"YYYY|MMM":s?n>2*hu?"MMM|D":"MMMM|D":l?n>fu?"MMM YYYY|D":n>hu?"MMM|D":"D.M.":c?n<uu?"h a":"MMM D|h a":n<uu?"LT":"MMM D|LT"}const uu=864e5,hu=30*uu,fu=365*uu,du=new Set([0,3,6,9]);function pu(t,e,n,r,i,o){const{scale:a,scaleType:s}=n,{tickFormat:l}=su(t,n,o,r,!0),c="text"===s?"category":"date"===s?"datetime":"number",u={"aria-label":""};if("category"===c){const{customFormatFunction:t}=n,r=t?o.map((e=>t(e))).filter((t=>!!t)):[];u["aria-label"]=i("accessibility / xy-grid / axis-".concat(e,"-").concat(s,"-category")).replace("%categories%",r.join(", "))}else{const t=l(a.domain()[0],"first",!1),n=l(a.domain()[1],"last",!1);u["aria-valuemin"]=a.domain()[0],u["aria-valuemax"]=a.domain()[1],u["aria-label"]=i("accessibility / xy-grid / axis-".concat(e,"-").concat(s)).replace("%from%",t).replace("%to%",n)+("log"===s?" ".concat(i("accessibility / xy-grid / axis-log")):"")}return Object.assign({role:"graphics-axis","aria-orientation":"x"===e?"horizontal":"vertical","aria-datatype":c},u)}function gu(t,e){return e("\n    line.major {\n        ".concat(bu(t.major),"\n    }\n    line.minor {\n        ").concat(bu(t.minor),"\n    }\n"))}function mu(t,e){return e("\n    line {\n        ".concat(bu(t),"\n    }\n    ").concat(t.hideZero?"line.is-zero { display: none }":"","\n"))}function yu(t,e){return e("\n    line {\n        ".concat(bu(t),"\n    }\n"))}function vu(t,e,n,r){let{tickLabels:i}=t;var o,a,s;return n("\n    text {\n        text-anchor: middle;\n    }\n    ".concat(i.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(xu(i),"\n    }\n    div.x-tick-label {\n        ").concat(xu(i),"\n    }\n    :is(.has-highlighted) .x-tick-label:not(.highlighted),\n    :is(.has-highlighted) .x-tick-label:not(.highlighted) tspan {\n        color: ").concat(function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.65;return t.interpolate(e,n,r,"rgb").hex()}(r,i.color.toString(),(null===(o=e.colors)||void 0===o?void 0:o.background)||"white"),";\n    }\n    .x-tick-label.highlighted {\n        font-weight: 500;\n    }\n    .x-tick-label.buffer {\n        stroke: ").concat((null===(a=e.colors)||void 0===a?void 0:a.background)||"#ffffff",";\n        fill: ").concat((null===(s=e.colors)||void 0===s?void 0:s.background)||"#ffffff",";\n    }\n"))}function bu(t){return"dotted"===t.strokeDasharray&&(t.strokeDasharray="".concat(t.width," ").concat(t.width)),wu(t,[["color","stroke"],["opacity","opacity"],["width","stroke-width"],["strokeLinecap","stroke-linecap"],["strokeDasharray","stroke-dasharray"]])+(!1!==t.crisp?"\nshape-rendering: crispEdges;":"")}function xu(t){return"\n        ".concat(wu(t,[["color","fill"],["color","color"],["opacity","opacity"],["fontSize","font-size",void 0,"px"],["letterSpacing","letter-spacing"],["fontWeight","font-weight"],["fontStyle","font-style"],["typeface","font-family"],["textTransform","text-transform"]]),"\n        fill: currentColor;\n    ")}function wu(t,e){return e.filter((e=>{const n=e[0],r=e[2];return void 0!==t[n]||r})).map((e=>{let[n,r,i,o]=e;return"".concat(r,": ").concat(void 0===t[n]?i:t[n]).concat(o||"",";")})).join("\n")}function _u(t,e,n){const r=t.slice();return r[13]=e[n],r}function ku(t){let e,n,r,i;return{c(){e=g("line"),b(e,"class",n="x-tick-line ".concat(t[5])),b(e,"y1",r=t[4]*t[2]),b(e,"transform",i="translate(".concat(t[6](t[13]).join(","),")")),k(e,"is-zero",0===t[13])},m(t,n){h(t,e,n)},p(t,o){32&o&&n!==(n="x-tick-line ".concat(t[5]))&&b(e,"class",n),20&o&&r!==(r=t[4]*t[2])&&b(e,"y1",r),2&o&&i!==(i="translate(".concat(t[6](t[13]).join(","),")"))&&b(e,"transform",i),34&o&&k(e,"is-zero",0===t[13])},d(t){t&&f(e)}}}function Mu(t){let n,r,i,o=X(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=ku(_u(t,o,e));return{c(){n=g("g");for(let t=0;t<a.length;t+=1)a[t].c();b(n,"class",r="x-tick-lines ".concat(t[0]," ").concat(t[5])),b(n,"transform",i="translate(".concat(t[3].join(","),")"))},m(t,e){h(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(118&s){let e;for(o=X(t[1]),e=0;e<o.length;e+=1){const r=_u(t,o,e);a[e]?a[e].p(r,s):(a[e]=ku(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="x-tick-lines ".concat(t[0]," ").concat(t[5]))&&b(n,"class",r),8&s&&i!==(i="translate(".concat(t[3].join(","),")"))&&b(n,"transform",i)},i:e,o:e,d(t){t&&f(n),d(a,t)}}}function Tu(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{ticksMajor:d}=e,{css:p}=e;return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,h=t.scale),"className"in t&&n(0,f=t.className),"ticksMajor"in t&&n(1,d=t.ticksMajor),"css"in t&&n(11,p=t.css)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=mu(l,p)),256&t.$$.dirty&&n(2,i="bottom"===c?1:-1),128&t.$$.dirty&&(o=rt(l,"distance")),128&t.$$.dirty&&n(4,a=rt(l,"length")),768&t.$$.dirty&&n(3,s="bottom"===c?[0,u[1]]:[0,0])},[f,d,i,s,a,r,function(t){return[h(t),o*i]},l,c,u,h,p]}let Au=class extends nt{constructor(t){super(),et(this,t,Tu,Mu,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11})}};function Eu(t,e,n){const r=t.slice();return r[12]=e[n],r}function $u(t,e,n){const r=t.slice();return r[12]=e[n],r}function Lu(t){let e,n,r,i;return{c(){e=g("line"),b(e,"class",n="x-grid-line major ".concat(t[4])),b(e,"y1",r=t[0][1]),b(e,"transform",i="translate(".concat(t[5](t[12]),", 0)")),k(e,"is-zero",0===t[12])},m(t,n){h(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line major ".concat(t[4]))&&b(e,"class",n),1&o&&r!==(r=t[0][1])&&b(e,"y1",r),8&o&&i!==(i="translate(".concat(t[5](t[12]),", 0)"))&&b(e,"transform",i),24&o&&k(e,"is-zero",0===t[12])},d(t){t&&f(e)}}}function Ou(t){let e,n=X(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Su(Eu(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=v()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);h(t,e,n)},p(t,i){if(53&i){let o;for(n=X(t[2]),o=0;o<n.length;o+=1){const a=Eu(t,n,o);r[o]?r[o].p(a,i):(r[o]=Su(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&f(e),d(r,t)}}}function Su(t){let e,n,r,i;return{c(){e=g("line"),b(e,"class",n="x-grid-line minor ".concat(t[4])),b(e,"y1",r=t[0][1]),b(e,"transform",i="translate(".concat(t[5](t[12]),", 0)"))},m(t,n){h(t,e,n)},p(t,o){16&o&&n!==(n="x-grid-line minor ".concat(t[4]))&&b(e,"class",n),1&o&&r!==(r=t[0][1])&&b(e,"y1",r),4&o&&i!==(i="translate(".concat(t[5](t[12]),", 0)"))&&b(e,"transform",i)},d(t){t&&f(e)}}}function Nu(t){let n,r,i,o=X(t[3]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Lu($u(t,o,e));let s=t[2]&&Ou(t);return{c(){n=g("g");for(let t=0;t<a.length;t+=1)a[t].c();r=v(),s&&s.c(),b(n,"class",i="x-grid-lines ".concat(t[1]," ").concat(t[4]))},m(t,e){h(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);u(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(57&l){let e;for(o=X(t[3]),e=0;e<o.length;e+=1){const i=$u(t,o,e);a[e]?a[e].p(i,l):(a[e]=Lu(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=Ou(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),18&l&&i!==(i="x-grid-lines ".concat(t[1]," ").concat(t[4]))&&b(n,"class",i)},i:e,o:e,d(t){t&&f(n),d(a,t),s&&s.d()}}}function zu(t,e,n){let r,i,{themeOptionsGridLines:o}=e,{plotSize:a}=e,{scale:s}=e,{scaleType:l}=e,{className:c=""}=e,{ticksMajor:u}=e,{ticksMinor:h}=e,{baseLine:f}=e,{css:d}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(6,o=t.themeOptionsGridLines),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(7,s=t.scale),"scaleType"in t&&n(8,l=t.scaleType),"className"in t&&n(1,c=t.className),"ticksMajor"in t&&n(9,u=t.ticksMajor),"ticksMinor"in t&&n(2,h=t.ticksMinor),"baseLine"in t&&n(10,f=t.baseLine),"css"in t&&n(11,d=t.css)},t.$$.update=()=>{2112&t.$$.dirty&&n(4,r=gu(o,d)),1792&t.$$.dirty&&n(3,i=u.filter((t=>!["log","number"].includes(l)||!f.has("zero")||0!==t)))},[a,c,h,i,r,function(t){return s(t)},o,s,l,u,f,d]}let Cu=class extends nt{constructor(t){super(),et(this,t,zu,Nu,s,{themeOptionsGridLines:6,plotSize:0,scale:7,scaleType:8,className:1,ticksMajor:9,ticksMinor:2,baseLine:10,css:11})}};function ju(t,e,n){const r=t.slice();return r[10]=e[n],r}function Du(t){let e,n,r,i,o;return{c(){e=g("g"),n=g("line"),b(n,"y1",r=t[0][1]),b(n,"transform",i="translate(".concat(t[4](t[10]),", 0)")),b(e,"class",o="x-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){h(t,e,r),u(e,n)},p(t,a){1&a&&r!==(r=t[0][1])&&b(n,"y1",r),4&a&&i!==(i="translate(".concat(t[4](t[10]),", 0)"))&&b(n,"transform",i),10&a&&o!==(o="x-base-lines ".concat(t[1]," ").concat(t[3]))&&b(e,"class",o)},d(t){t&&f(e)}}}function Ru(t){let n,r=X(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Du(ju(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=v()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);h(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=X(t[2]),e=0;e<r.length;e+=1){const a=ju(t,r,e);i[e]?i[e].p(a,o):(i[e]=Du(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&f(n),d(i,t)}}}function Pu(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:h}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,h=t.css)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=yu(o,h)),384&t.$$.dirty&&n(2,i=Array.from(u).filter((t=>"zero"!==t||c.includes(0))))},[a,l,i,r,function(t){return"zero"===t?s(0):"left"===t?0:a[0]},o,s,c,u,h]}let Iu=class extends nt{constructor(t){super(),et(this,t,Pu,Ru,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9})}};var Fu=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Uu=Array.isArray,Hu=nl,Bu=function(t){return null!=t&&"object"==typeof t},Yu=Fu,Wu=Uu,qu=function(t){return"symbol"==typeof t||Bu(t)&&"[object Symbol]"==Hu(t)},Gu=Ws?Ws.prototype:void 0,Vu=Gu?Gu.toString:void 0,Xu=function t(e){if("string"==typeof e)return e;if(Wu(e))return Yu(e,t)+"";if(qu(e))return Vu?Vu.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},Ku=Xu,Zu=function(t){return null==t?"":Ku(t)},Ju=function(t){return function(e){return null==t?void 0:t[e]}}({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Qu=Zu,th=Ju,eh=/&(?:amp|lt|gt|quot|#39);/g,nh=RegExp(eh.source),rh=ot((function(t){return(t=Qu(t))&&nh.test(t)?t.replace(eh,th):t}));function ih(t,e,n,r,i,o,a,s,l){let c=arguments.length>9&&void 0!==arguments[9]&&arguments[9];const u=0===e,h=e===n.length-1,f=[t].map((t=>{const e=c||u?"first":h?"last":"middle";return a?s(t,e,u||c):[s(t,e,u||c)]})).flat().map((t=>rh(t)));return r||"top"!==i||f.reverse(),{tick:t,y:"top"===i?(f.length-1)*(o+3)*-1:0,ticks:f,isFirst:u,isLast:h,isZero:0===t,translate:[l(t),"bottom"===i?o:0],rendered:!0,index:e}}function oh(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function ah(t,e,n){const r=t.slice();return r[32]=e[n],r[34]=n,r}function sh(t,e,n){const r=t.slice();return r[32]=e[n],r[34]=n,r}function lh(t,e,n){const r=t.slice();return r[29]=e[n],r[36]=e,r[31]=n,r}function ch(t,e,n){const r=t.slice();return r[32]=e[n],r[34]=n,r}function uh(t){let e,n,r,i,o=t[31],a=X(t[29].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=hh(ch(t,a,e));const l=()=>t[25](e,o),u=()=>t[25](null,o);return{c(){e=g("text");for(let t=0;t<s.length;t+=1)s[t].c();b(e,"class",n=c("x-tick-label ".concat(t[0]))+" svelte-14mphtj"),b(e,"transform",r="translate(".concat(t[29].translate.join(","),")")),b(e,"aria-hidden","true"),b(e,"y",i=t[29].y),k(e,"dw-bold",t[12]),k(e,"dw-italic",t[11]),k(e,"is-zero",t[29].isZero),k(e,"first",t[29].isFirst),k(e,"last",t[29].isLast),_(e,"text-anchor",t[9].length?t[9][t[31]]:"")},m(t,n){h(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);l()},p(h,f){if(t=h,264&f[0]){let n;for(a=X(t[29].ticks),n=0;n<a.length;n+=1){const r=ch(t,a,n);s[n]?s[n].p(r,f):(s[n]=hh(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&f[0]&&n!==(n=c("x-tick-label ".concat(t[0]))+" svelte-14mphtj")&&b(e,"class",n),256&f[0]&&r!==(r="translate(".concat(t[29].translate.join(","),")"))&&b(e,"transform",r),256&f[0]&&i!==(i=t[29].y)&&b(e,"y",i),o!==t[31]&&(u(),o=t[31],l()),4097&f[0]&&k(e,"dw-bold",t[12]),2049&f[0]&&k(e,"dw-italic",t[11]),257&f[0]&&k(e,"is-zero",t[29].isZero),257&f[0]&&k(e,"first",t[29].isFirst),257&f[0]&&k(e,"last",t[29].isLast),512&f[0]&&_(e,"text-anchor",t[9].length?t[9][t[31]]:"")},d(t){t&&f(e),d(s,t),u()}}}function hh(t){let e,n,r,i=t[32]+"";return{c(){e=g("tspan"),n=m(i),b(e,"x","0"),b(e,"dy",r=t[34]>0?t[3]+3:0)},m(t,r){h(t,e,r),u(e,n)},p(t,o){256&o[0]&&i!==(i=t[32]+"")&&w(n,i),8&o[0]&&r!==(r=t[34]>0?t[3]+3:0)&&b(e,"dy",r)},d(t){t&&f(e)}}}function fh(t){let e,n=t[29].rendered&&uh(t);return{c(){n&&n.c(),e=v()},m(t,r){n&&n.m(t,r),h(t,e,r)},p(t,r){t[29].rendered?n?n.p(t,r):(n=uh(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){t&&f(e),n&&n.d(t)}}}function dh(t){let e,n,r,i=t[32]+"";return{c(){e=g("tspan"),n=m(i),b(e,"x","0"),b(e,"dy",r=t[34]>0?t[3]+3:0)},m(t,r){h(t,e,r),u(e,n)},p(t,o){1024&o[0]&&i!==(i=t[32]+"")&&w(n,i),8&o[0]&&r!==(r=t[34]>0?t[3]+3:0)&&b(e,"dy",r)},d(t){t&&f(e)}}}function ph(t){let e,n,r,i=t[32]+"";return{c(){e=g("tspan"),n=m(i),b(e,"x","0"),b(e,"dy",r=t[34]>0?t[3]+3:0)},m(t,r){h(t,e,r),u(e,n)},p(t,o){1024&o[0]&&i!==(i=t[32]+"")&&w(n,i),8&o[0]&&r!==(r=t[34]>0?t[3]+3:0)&&b(e,"dy",r)},d(t){t&&f(e)}}}function gh(t){let e,n,r,i,o,a,s,l,u=X(t[29].ticks),p=[];for(let e=0;e<u.length;e+=1)p[e]=dh(sh(t,u,e));let m=X(t[29].ticks),y=[];for(let e=0;e<m.length;e+=1)y[e]=ph(ah(t,m,e));return{c(){e=g("text");for(let t=0;t<p.length;t+=1)p[t].c();o=g("text");for(let t=0;t<y.length;t+=1)y[t].c();b(e,"class",n=c("x-tick-label buffer ".concat(t[0]))+" svelte-14mphtj"),b(e,"transform",r="translate(".concat(t[29].translate.join(","),")")),b(e,"aria-hidden","true"),b(e,"y",i=t[29].y),_(e,"text-anchor",t[9].length?t[9][t[31]]:""),b(o,"class",a=c("x-tick-label highlighted ".concat(t[0]))+" svelte-14mphtj"),b(o,"transform",s="translate(".concat(t[29].translate.join(","),")")),b(o,"aria-hidden","true"),b(o,"y",l=t[29].y),k(o,"dw-bold",t[12]),k(o,"dw-italic",t[11]),k(o,"is-zero",t[29].isZero),k(o,"first",t[29].isFirst),k(o,"last",t[29].isLast),_(o,"text-anchor",t[9].length?t[9][t[29].index]:"")},m(t,n){h(t,e,n);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(e,null);h(t,o,n);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(o,null)},p(t,h){if(1032&h[0]){let n;for(u=X(t[29].ticks),n=0;n<u.length;n+=1){const r=sh(t,u,n);p[n]?p[n].p(r,h):(p[n]=dh(r),p[n].c(),p[n].m(e,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=u.length}if(1&h[0]&&n!==(n=c("x-tick-label buffer ".concat(t[0]))+" svelte-14mphtj")&&b(e,"class",n),1024&h[0]&&r!==(r="translate(".concat(t[29].translate.join(","),")"))&&b(e,"transform",r),1024&h[0]&&i!==(i=t[29].y)&&b(e,"y",i),512&h[0]&&_(e,"text-anchor",t[9].length?t[9][t[31]]:""),1032&h[0]){let e;for(m=X(t[29].ticks),e=0;e<m.length;e+=1){const n=ah(t,m,e);y[e]?y[e].p(n,h):(y[e]=ph(n),y[e].c(),y[e].m(o,null))}for(;e<y.length;e+=1)y[e].d(1);y.length=m.length}1&h[0]&&a!==(a=c("x-tick-label highlighted ".concat(t[0]))+" svelte-14mphtj")&&b(o,"class",a),1024&h[0]&&s!==(s="translate(".concat(t[29].translate.join(","),")"))&&b(o,"transform",s),1024&h[0]&&l!==(l=t[29].y)&&b(o,"y",l),4097&h[0]&&k(o,"dw-bold",t[12]),2049&h[0]&&k(o,"dw-italic",t[11]),1025&h[0]&&k(o,"is-zero",t[29].isZero),1025&h[0]&&k(o,"first",t[29].isFirst),1025&h[0]&&k(o,"last",t[29].isLast),1536&h[0]&&_(o,"text-anchor",t[9].length?t[9][t[29].index]:"")},d(t){t&&(f(e),f(o)),d(p,t),d(y,t)}}}function mh(t){let r,i,o,a,s=X(t[8]),l=[];for(let e=0;e<s.length;e+=1)l[e]=fh(lh(t,s,e));let c=X(t[10]),p=[];for(let e=0;e<c.length;e+=1)p[e]=gh(oh(t,c,e));let m=[{class:o="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[6])},{transform:a="translate(".concat(t[13].join(","),")")},t[4]],y={};for(let t=0;t<m.length;t+=1)y=n(y,m[t]);return{c(){r=g("g");for(let t=0;t<l.length;t+=1)l[t].c();i=v();for(let t=0;t<p.length;t+=1)p[t].c();x(r,y),k(r,"has-highlighted",t[5].length>0),k(r,"svelte-14mphtj",!0)},m(t,e){h(t,r,e);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(r,null);u(r,i);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(r,null)},p(t,e){if(7049&e[0]){let n;for(s=X(t[8]),n=0;n<s.length;n+=1){const o=lh(t,s,n);l[n]?l[n].p(o,e):(l[n]=fh(o),l[n].c(),l[n].m(r,i))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}if(7689&e[0]){let n;for(c=X(t[10]),n=0;n<c.length;n+=1){const i=oh(t,c,n);p[n]?p[n].p(i,e):(p[n]=gh(i),p[n].c(),p[n].m(r,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=c.length}x(r,y=K(m,[70&e[0]&&o!==(o="x-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[6]))&&{class:o},8192&e[0]&&a!==(a="translate(".concat(t[13].join(","),")"))&&{transform:a},16&e[0]&&t[4]])),k(r,"has-highlighted",t[5].length>0),k(r,"svelte-14mphtj",!0)},i:e,o:e,d(t){t&&f(r),d(l,t),d(p,t)}}}function yh(t,e,n){let r,i,o,a,{themeOptions:s}=e,{tickPosition:l}=e,{plotSize:c}=e,{scale:u}=e,{className:h=""}=e,{rtl:f=!1}=e,{ticksMajor:d}=e,{tickLines:p}=e,{scaleType:g}=e,{tickFormat:m}=e,{multiFormat:y}=e,{keepOrder:v}=e,{fontSize:b}=e,{ariaDescription:x}=e,{fitLabelsActual:w}=e,{highlightedLabels:_=[]}=e,{xTickStyle:k}=e;function M(t){return _.some((e=>"number"==typeof t||t instanceof Date?+t==+e:+t.tick==+e))}const T=[];let A,E=[],$=[];async function L(t){const e=[...t];if(e.sort(((t,e)=>u(t)-u(e))),f&&e.reverse(),n(8,A=e.map(((t,e,n)=>ih(t,e,n,v,l,b,y,m,u,!!M(t))))),n(10,$=[]),_.length){const t=A.filter((t=>M(t))).map((t=>Object.assign({},t))),e=_.filter((e=>!t.some((t=>+e==+t.tick)))).map(((t,e,n)=>ih(t,0,[],!0,l,b,y,m,u,!0)));n(10,$=[...t,...e])}f&&A.reverse(),n(9,E=A.map((()=>""))),A.forEach(((t,e)=>{t.rendered=!M(t)})),n(8,A),await R();const r=T.filter(((t,e)=>t||e<=T.length-1&&T[e+1])),i=r.map((t=>t&&t.getBoundingClientRect()||!1)),o=i.find((t=>t));if(o&&0===o.width&&0===o.height)return;let a;f&&i.reverse();const s=i.map(((t,e)=>{if(!1===t)return!1;const n=function(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}(t);let i=0;return 0===e&&w.has("first")?i=.5*t.width:e===r.length-1&&w.has("last")&&(i=.5*t.width*-1),f&&(i*=-1),n.x+=i,n.left+=i,n.right+=i,!(a&&(f?n.x+n.width+4>a.x:a.x+a.width+4>n.x)||(a=n,0))}));f&&s.reverse(),A.forEach(((t,e)=>{t.rendered=(0===s.length||s[e])&&!M(t)})),n(8,A),n(9,E=A.map(((t,e)=>function(t){return t.isFirst&&w.has("first")?"start":t.isLast&&w.has("last")?"end":""}(t))))}return t.$$set=t=>{"themeOptions"in t&&n(14,s=t.themeOptions),"tickPosition"in t&&n(0,l=t.tickPosition),"plotSize"in t&&n(15,c=t.plotSize),"scale"in t&&n(16,u=t.scale),"className"in t&&n(1,h=t.className),"rtl"in t&&n(17,f=t.rtl),"ticksMajor"in t&&n(18,d=t.ticksMajor),"tickLines"in t&&n(19,p=t.tickLines),"scaleType"in t&&n(2,g=t.scaleType),"tickFormat"in t&&n(20,m=t.tickFormat),"multiFormat"in t&&n(21,y=t.multiFormat),"keepOrder"in t&&n(22,v=t.keepOrder),"fontSize"in t&&n(3,b=t.fontSize),"ariaDescription"in t&&n(4,x=t.ariaDescription),"fitLabelsActual"in t&&n(23,w=t.fitLabelsActual),"highlightedLabels"in t&&n(5,_=t.highlightedLabels),"xTickStyle"in t&&n(6,k=t.xTickStyle)},t.$$.update=()=>{540672&t.$$.dirty[0]&&n(24,r=(p?rt(s,"tickLines.distance")+rt(s,"tickLines.length"):0)+rt(s,"tickLabels.distance")),16809985&t.$$.dirty[0]&&n(13,i="bottom"===l?[0,c[1]+r]:[0,-r-3]),16384&t.$$.dirty[0]&&n(12,o="bold"===rt(s,"tickLabels.fontWeight")),16384&t.$$.dirty[0]&&n(11,a="italic"===rt(s,"tickLabels.fontStyle")),262144&t.$$.dirty[0]&&L(d)},[l,h,g,b,x,_,k,T,A,E,$,a,o,i,s,c,u,f,d,p,m,y,v,w,r,function(t,e){S[t?"unshift":"push"]((()=>{T[e]=t,n(7,T)}))}]}let vh=class extends nt{constructor(t){super(),et(this,t,yh,mh,s,{themeOptions:14,tickPosition:0,plotSize:15,scale:16,className:1,rtl:17,ticksMajor:18,tickLines:19,scaleType:2,tickFormat:20,multiFormat:21,keepOrder:22,fontSize:3,ariaDescription:4,fitLabelsActual:23,highlightedLabels:5,xTickStyle:6},null,[-1,-1])}};function bh(t,e,n){const r=t.slice();return r[29]=e[n],r[30]=e,r[31]=n,r}function xh(t){let e,n,r,i=t[4](t[29].ticks.join("<br />"),t[14])+"",o=t[31],a="".concat(t[12],"px");const s=()=>t[27](e,o),l=()=>t[27](null,o);return{c(){e=p("div"),n=p("span"),r=y(),b(e,"class","x-tick-label label svelte-1pqsxzr"),k(e,"smaller",t[12]<30),k(e,"rotated",t[10]),k(e,"highlighted",t[29].highlighted),_(e,"width",a),_(e,"left",t[10]?null:t[29].translate[0]-t[12]/2+"px"),_(e,"right",t[10]?"calc(100% - ".concat(t[29].translate[0],"px)"):null)},m(t,o){h(t,e,o),u(e,n),n.innerHTML=i,u(e,r),s()},p(r,c){t=r,272&c[0]&&i!==(i=t[4](t[29].ticks.join("<br />"),t[14])+"")&&(n.innerHTML=i),o!==t[31]&&(l(),o=t[31],s()),4096&c[0]&&k(e,"smaller",t[12]<30),1024&c[0]&&k(e,"rotated",t[10]),256&c[0]&&k(e,"highlighted",t[29].highlighted),4096&c[0]&&a!==(a="".concat(t[12],"px"))&&_(e,"width",a),5376&c[0]&&_(e,"left",t[10]?null:t[29].translate[0]-t[12]/2+"px"),1280&c[0]&&_(e,"right",t[10]?"calc(100% - ".concat(t[29].translate[0],"px)"):null)},d(t){t&&f(e),l()}}}function wh(t){let r,i,o,a,s,l,c=X(t[8]),m=[];for(let e=0;e<c.length;e+=1)m[e]=xh(bh(t,c,e));let y=[{class:s="x-tick-labels ".concat(t[1],"-axis ").concat(t[0]," ").concat(t[5])},{transform:l="translate(".concat(t[13].join(","),")")},t[2]],v={};for(let t=0;t<y.length;t+=1)v=n(v,y[t]);return{c(){r=g("g"),i=g("foreignObject"),o=p("div");for(let t=0;t<m.length;t+=1)m[t].c();b(o,"class","x-tick-labels-internal svelte-1pqsxzr"),b(i,"width",a=t[6]*t[8].length),b(i,"height",t[11]),b(i,"class","svelte-1pqsxzr"),x(r,v),k(r,"has-highlighted",t[3].length>0),k(r,"not-ready-to-measure",t[9]),k(r,"svelte-1pqsxzr",!0)},m(t,e){h(t,r,e),u(r,i),u(i,o);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(o,null)},p(t,e){if(21904&e[0]){let n;for(c=X(t[8]),n=0;n<c.length;n+=1){const r=bh(t,c,n);m[n]?m[n].p(r,e):(m[n]=xh(r),m[n].c(),m[n].m(o,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=c.length}320&e[0]&&a!==(a=t[6]*t[8].length)&&b(i,"width",a),2048&e[0]&&b(i,"height",t[11]),x(r,v=K(y,[35&e[0]&&s!==(s="x-tick-labels ".concat(t[1],"-axis ").concat(t[0]," ").concat(t[5]))&&{class:s},8192&e[0]&&l!==(l="translate(".concat(t[13].join(","),")"))&&{transform:l},4&e[0]&&t[2]])),k(r,"has-highlighted",t[3].length>0),k(r,"not-ready-to-measure",t[9]),k(r,"svelte-1pqsxzr",!0)},i:e,o:e,d(t){t&&f(r),d(m,t)}}}function _h(t,e,n){let r,i,o,a,{themeOptions:s}=e,{tickPosition:l}=e,{plotSize:c}=e,{scale:u}=e,{className:h=""}=e,{ticksMajor:f}=e,{tickLines:d}=e,{scaleType:p}=e,{tickFormat:g}=e,{multiFormat:m}=e,{keepOrder:y}=e,{fontSize:v}=e,{ariaDescription:b}=e,{highlightedLabels:x=[]}=e,{rotation:w}=e,{purifyHtml:_}=e,{xTickStyle:k}=e;if(!_)throw"XGrid: purifyHtml is required when using html labels";const M=[];let T,A=!0,$=!1,L=1;var O;O=()=>{n(11,L=1+Math.random())},E().$$.before_update.push(O);const N=[...ct,"img"];return t.$$set=t=>{"themeOptions"in t&&n(16,s=t.themeOptions),"tickPosition"in t&&n(17,l=t.tickPosition),"plotSize"in t&&n(18,c=t.plotSize),"scale"in t&&n(19,u=t.scale),"className"in t&&n(0,h=t.className),"ticksMajor"in t&&n(20,f=t.ticksMajor),"tickLines"in t&&n(21,d=t.tickLines),"scaleType"in t&&n(1,p=t.scaleType),"tickFormat"in t&&n(22,g=t.tickFormat),"multiFormat"in t&&n(23,m=t.multiFormat),"keepOrder"in t&&n(24,y=t.keepOrder),"fontSize"in t&&n(25,v=t.fontSize),"ariaDescription"in t&&n(2,b=t.ariaDescription),"highlightedLabels"in t&&n(3,x=t.highlightedLabels),"rotation"in t&&n(15,w=t.rotation),"purifyHtml"in t&&n(4,_=t.purifyHtml),"xTickStyle"in t&&n(5,k=t.xTickStyle)},t.$$.update=()=>{2162688&t.$$.dirty[0]&&n(26,r=(d?rt(s,"tickLines.distance")+rt(s,"tickLines.length"):0)+rt(s,"tickLabels.distance")),67502080&t.$$.dirty[0]&&n(13,i="bottom"===l?[0,c[1]+r]:[0,-r-3]),1048576&t.$$.dirty[0]&&async function(t){n(9,A=!0);const e=Array.from(new Set([...t,...x]));if(e.sort(((t,e)=>u(t)-u(e))),n(8,T=e.map(((t,e,n)=>ih(t,e,n,y,l,v,m,g,u)))),T.forEach((t=>t.highlighted=x.includes(t.tick))),n(10,$=!1),await R(),n(15,w=w||"auto"),"auto"!==w)return n(10,$="on"===w),void n(9,A=!1);const r=M.filter((t=>t)).map((t=>(null==t?void 0:t.children[0].getBoundingClientRect())||{width:0}));if(r.every((t=>{let{width:e}=t;return 0===e})))return void n(9,A=!1);const i=r.some((t=>t.width>a));n(10,$=i),await R(),n(9,A=!1)}(f),786432&t.$$.dirty[0]&&n(6,o=u.domain().length<=1?c[0]:Math.abs(u(1)-u(0))),64&t.$$.dirty[0]&&n(12,a=o-4)},[h,p,b,x,_,k,o,M,T,A,$,L,a,i,N,w,s,l,c,u,f,d,g,m,y,v,r,function(t,e){S[t?"unshift":"push"]((()=>{M[e]=t,n(7,M)}))}]}class kh extends nt{constructor(t){super(),et(this,t,_h,wh,s,{themeOptions:16,tickPosition:17,plotSize:18,scale:19,className:0,ticksMajor:20,tickLines:21,scaleType:1,tickFormat:22,multiFormat:23,keepOrder:24,fontSize:25,ariaDescription:2,highlightedLabels:3,rotation:15,purifyHtml:4,xTickStyle:5},null,[-1,-1])}}function Mh(t){let n,r,i,o,s;const c=t[5].default,u=function(t,e,n,r){if(t){const r=l(t,e,n,null);return t[0](r)}}(c,t,t[4]);return{c(){n=g("g"),u&&u.c(),b(n,"class","measure-offscreen svelte-td01xd"),b(n,"aria-hidden","true")},m(l,c){var f;h(l,n,c),u&&u.m(n,null),i=!0,o||(f=r=t[1].call(null,n,t[0]),s=f&&a(f.destroy)?f.destroy:e,o=!0)},p(t,e){let[n]=e;u&&u.p&&(!i||16&n)&&function(t,e,n,r,i,o){if(i){const o=l(e,n,r,null);t.p(o,i)}}(u,c,t,t[4],i?function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(c,t[4],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4])),r&&a(r.update)&&1&n&&r.update.call(null,t[0])},i(t){i||(G(u,t),i=!0)},o(t){V(u,t),i=!1},d(t){t&&f(n),u&&u.d(t),o=!1,s()}}}function Th(t,e,n){let{$$slots:r={},$$scope:i}=e,{onMeasure:o}=e,{dependencies:a}=e,{selector:s}=e;return t.$$set=t=>{"onMeasure"in t&&n(2,o=t.onMeasure),"dependencies"in t&&n(0,a=t.dependencies),"selector"in t&&n(3,s=t.selector),"$$scope"in t&&n(4,i=t.$$scope)},[a,function(t,e){let n=!0;async function r(e){if(!n)return;n=!1;const r=s?Array.from(t.querySelectorAll(s)):[t];if(!r.length)return;await R();let i=0;for(;t.querySelector(".not-ready-to-measure")&&i<=10;)await R(),i+=1;const a="getBBox"in r[0]?"getBBox":"getBoundingClientRect";if(!(a in r[0]))return o({width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0,toJSON:()=>""},r),void(n=!0);const l=r.map((t=>t[a]())),c=Math.min(...l.map((t=>{var e;return null!==(e=t.left)&&void 0!==e?e:t.x}))),u=Math.max(...l.map((t=>{var e;return null!==(e=t.right)&&void 0!==e?e:t.x+t.width}))),h=Math.min(...l.map((t=>{var e;return null!==(e=t.top)&&void 0!==e?e:t.y}))),f=Math.max(...l.map((t=>{var e;return null!==(e=t.bottom)&&void 0!==e?e:t.y+t.height})));o({width:u-c,height:f-h,top:h,left:c,right:u,bottom:f,x:c,y:h,toJSON:()=>""},r),n=!0}return r(),{update:r}},o,s,i,r]}class Ah extends nt{constructor(t){super(),et(this,t,Th,Mh,s,{onMeasure:2,dependencies:0,selector:3})}}function Eh(t){let e,n;return e=new Ah({props:{dependencies:t[9],onMeasure:t[17],selector:t[6].enabled?".x-tick-labels-internal .x-tick-label":void 0,$$slots:{default:[$h]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};512&n[0]&&(r.dependencies=t[9]),64&n[0]&&(r.selector=t[6].enabled?".x-tick-labels-internal .x-tick-label":void 0),49152&n[0]|16777216&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function $h(t){let e,r,i;const o=[t[15]];var a=t[14];function s(t,e){let r={};if(void 0!==e&&32768&e[0])r=K(o,[Z(t[15])]);else for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return{props:r}}return a&&(e=M(a,s(t))),{c(){e&&J(e.$$.fragment),r=v()},m(t,n){e&&Q(e,t,n),h(t,r,n),i=!0},p(t,n){if(16384&n[0]&&a!==(a=t[14])){if(e){W();const t=e;V(t.$$.fragment,1,0,(()=>{tt(t,1)})),q()}a?(e=M(a,s(t,n)),J(e.$$.fragment),G(e.$$.fragment,1),Q(e,r.parentNode,r)):e=null}else if(a){const r=32768&n[0]?K(o,[Z(t[15])]):{};e.$set(r)}},i(t){i||(e&&G(e.$$.fragment,t),i=!0)},o(t){e&&V(e.$$.fragment,t),i=!1},d(t){t&&f(r),e&&tt(e,t)}}}function Lh(t){let e,r,i;const o=[t[15]];var a=t[14];function s(t,e){let r={};if(void 0!==e&&32768&e[0])r=K(o,[Z(t[15])]);else for(let t=0;t<o.length;t+=1)r=n(r,o[t]);return{props:r}}return a&&(e=M(a,s(t))),{c(){e&&J(e.$$.fragment),r=v()},m(t,n){e&&Q(e,t,n),h(t,r,n),i=!0},p(t,n){if(16384&n[0]&&a!==(a=t[14])){if(e){W();const t=e;V(t.$$.fragment,1,0,(()=>{tt(t,1)})),q()}a?(e=M(a,s(t,n)),J(e.$$.fragment),G(e.$$.fragment,1),Q(e,r.parentNode,r)):e=null}else if(a){const r=32768&n[0]?K(o,[Z(t[15])]):{};e.$set(r)}},i(t){i||(e&&G(e.$$.fragment,t),i=!0)},o(t){e&&V(e.$$.fragment,t),i=!1},d(t){t&&f(r),e&&tt(e,t)}}}function Oh(t){let e,n;return e=new Au({props:{themeDataTickLines:t[11].tickLines,tickPosition:t[4],plotSize:t[12],scale:t[7],className:t[3],ticksMajor:t[10].ticksMajor,css:t[16]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};2048&n[0]&&(r.themeDataTickLines=t[11].tickLines),16&n[0]&&(r.tickPosition=t[4]),4096&n[0]&&(r.plotSize=t[12]),128&n[0]&&(r.scale=t[7]),8&n[0]&&(r.className=t[3]),1024&n[0]&&(r.ticksMajor=t[10].ticksMajor),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Sh(t){let e,n;return e=new Cu({props:{themeOptionsGridLines:t[11].gridLines,plotSize:t[12],scale:t[7],scaleType:t[1],className:t[3],ticksMajor:t[10].ticksMajor,ticksMinor:t[10].ticksMinor,baseLine:t[5],css:t[16]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};2048&n[0]&&(r.themeOptionsGridLines=t[11].gridLines),4096&n[0]&&(r.plotSize=t[12]),128&n[0]&&(r.scale=t[7]),2&n[0]&&(r.scaleType=t[1]),8&n[0]&&(r.className=t[3]),1024&n[0]&&(r.ticksMajor=t[10].ticksMajor),1024&n[0]&&(r.ticksMinor=t[10].ticksMinor),32&n[0]&&(r.baseLine=t[5]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function Nh(t){let e,n;return e=new Iu({props:{themeOptionsBaseLine:t[11].baseLine,plotSize:t[12],scale:t[7],className:t[3],ticksMajor:t[10].ticksMajor,baseLine:t[5],css:t[16]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};2048&n[0]&&(r.themeOptionsBaseLine=t[11].baseLine),4096&n[0]&&(r.plotSize=t[12]),128&n[0]&&(r.scale=t[7]),8&n[0]&&(r.className=t[3]),1024&n[0]&&(r.ticksMajor=t[10].ticksMajor),32&n[0]&&(r.baseLine=t[5]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function zh(t){let e,n,r,i,o,a,s,l=t[0].has("tick-lines"),c=t[0].has("grid-lines"),d=t[0].has("base-lines"),p=t[13]&&"standard"===t[8]&&Eh(t),m="off"!==t[8]&&Lh(t),x=l&&Oh(t),w=c&&Sh(t),_=d&&Nh(t);return{c(){p&&p.c(),e=y(),n=g("g"),m&&m.c(),r=v(),x&&x.c(),i=v(),w&&w.c(),o=v(),_&&_.c(),b(n,"class","x-grid"),b(n,"direction",a=t[2]?"rtl":"ltr")},m(t,a){p&&p.m(t,a),h(t,e,a),h(t,n,a),m&&m.m(n,null),u(n,r),x&&x.m(n,null),u(n,i),w&&w.m(n,null),u(n,o),_&&_.m(n,null),s=!0},p(t,u){t[13]&&"standard"===t[8]?p?(p.p(t,u),8448&u[0]&&G(p,1)):(p=Eh(t),p.c(),G(p,1),p.m(e.parentNode,e)):p&&(W(),V(p,1,1,(()=>{p=null})),q()),"off"!==t[8]?m?(m.p(t,u),256&u[0]&&G(m,1)):(m=Lh(t),m.c(),G(m,1),m.m(n,r)):m&&(W(),V(m,1,1,(()=>{m=null})),q()),1&u[0]&&(l=t[0].has("tick-lines")),l?x?(x.p(t,u),1&u[0]&&G(x,1)):(x=Oh(t),x.c(),G(x,1),x.m(n,i)):x&&(W(),V(x,1,1,(()=>{x=null})),q()),1&u[0]&&(c=t[0].has("grid-lines")),c?w?(w.p(t,u),1&u[0]&&G(w,1)):(w=Sh(t),w.c(),G(w,1),w.m(n,o)):w&&(W(),V(w,1,1,(()=>{w=null})),q()),1&u[0]&&(d=t[0].has("base-lines")),d?_?(_.p(t,u),1&u[0]&&G(_,1)):(_=Nh(t),_.c(),G(_,1),_.m(n,null)):_&&(W(),V(_,1,1,(()=>{_=null})),q()),(!s||4&u[0]&&a!==(a=t[2]?"rtl":"ltr"))&&b(n,"direction",a)},i(t){s||(G(p),G(m),G(x),G(w),G(_),s=!0)},o(t){V(p),V(m),V(x),V(w),V(_),s=!1},d(t){t&&(f(e),f(n)),p&&p.d(t),m&&m.d(),x&&x.d(),w&&w.d(),_&&_.d()}}}function Ch(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,{elements:g}=e,{scale:m}=e,{scaleType:y}=e,{plotSize:v}=e,{emotion:b}=e,{numeral:x}=e,{chroma:w}=e,{purifyHtml:_}=e;const k=new Promise((t=>{n(39,p=t)})),M=L();let T,A,E,O,{themeData:S={}}=e,{translate:N=(t=>t)}=e,{rtl:z=!1}=e,{ticks:C={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:j="auto"}=e,{tickLabelMultiply:D=1}=e,{tickLabelUnit:R=["",""]}=e,{secondary:P=!1}=e,{className:I=""}=e,{margin:F={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:U=g.has("tick-lines")}=e,{customFormatFunction:H}=e,{minusChar:B}=e,{plusMinusChar:Y}=e,{tickPosition:W="bottom"}=e,{baseLine:q=new Set(["zero"])}=e,{fitLabels:G=new Set}=e,{highlightedLabels:V=[]}=e,{categoryLabelsHTML:X={enabled:!1,rotation:"auto"}}=e,K=!0,Z=Ps(l),J=!1,Q=!1,tt=new Set;const{css:et}=b;let nt={ticksMajor:[],ticksMinor:[]};function it(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=rt(e.tickLines,"distance"),i=rt(e.tickLines,"length"),o=rt(e.tickLines,"strokeLinecap"),a=rt(e,"tickLines.width",0),s=rt(e,"gridLines.major.width",0),l=Math.max(g.has("tick-lines")?a:0,g.has("grid-lines")?s:0),c=g.has("tick-lines")?r+i+("square"===o||"round"===o?.5*l:0):0,u={left:.5*l,right:.5*l,[W]:c},h=rt(e,"baseLine.width"),f={left:n.has("left")?h:0,right:n.has("right")?h:0},d=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;d[n]=Math.max(t[n]||0,u[n]||0,f[n]||0)}return d}const ot="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return $((async()=>{if("standard"!==A){const t=it(void 0,c,q);p(t),M("marginUpdate",{margin:t})}})),t.$$set=t=>{"elements"in t&&n(0,g=t.elements),"scale"in t&&n(18,m=t.scale),"scaleType"in t&&n(1,y=t.scaleType),"plotSize"in t&&n(19,v=t.plotSize),"emotion"in t&&n(20,b=t.emotion),"numeral"in t&&n(21,x=t.numeral),"chroma"in t&&n(22,w=t.chroma),"purifyHtml"in t&&n(23,_=t.purifyHtml),"themeData"in t&&n(25,S=t.themeData),"translate"in t&&n(26,N=t.translate),"rtl"in t&&n(2,z=t.rtl),"ticks"in t&&n(27,C=t.ticks),"tickLabelFormat"in t&&n(28,j=t.tickLabelFormat),"tickLabelMultiply"in t&&n(29,D=t.tickLabelMultiply),"tickLabelUnit"in t&&n(30,R=t.tickLabelUnit),"secondary"in t&&n(31,P=t.secondary),"className"in t&&n(3,I=t.className),"margin"in t&&n(32,F=t.margin),"tickLines"in t&&n(33,U=t.tickLines),"customFormatFunction"in t&&n(34,H=t.customFormatFunction),"minusChar"in t&&n(35,B=t.minusChar),"plusMinusChar"in t&&n(36,Y=t.plusMinusChar),"tickPosition"in t&&n(4,W=t.tickPosition),"baseLine"in t&&n(5,q=t.baseLine),"fitLabels"in t&&n(37,G=t.fitLabels),"highlightedLabels"in t&&n(38,V=t.highlightedLabels),"categoryLabelsHTML"in t&&n(6,X=t.categoryLabelsHTML)},t.$$.update=()=>{if(33554432&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(48,r=B||rt(S,"vis.base.format.minusCharacter","−")),33554432&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(47,i=Y||rt(S,"vis.base.format.plusMinusCharacter","±")),524288&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(50,o=v[0]-F.left-Math.max(F.right,0)),262144&t.$$.dirty[0]&&n(51,a=m.range()[1]<m.range()[0]),262272&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&(n(7,T=m.copy()),a)){T.range([m.range()[1],m.range()[0]]);const t=m.domain().reverse();T.domain(t)}if(524288&t.$$.dirty[0]|524288&t.$$.dirty[1]&&n(12,s=[o,v[1]]),1&t.$$.dirty[0]|128&t.$$.dirty[1]&&(g.has("tick-labels")?n(8,A="standard"):V.length>0?n(8,A="highlights-only"):n(8,A="off")),37748736&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(11,c=Ds("horizontal",S,P,w)),2014054423&t.$$.dirty[0]|200774&t.$$.dirty[1]&&n(49,l={elements:g,scale:m,margin:F,scaleType:y,plotSize:v,themeOptions:c,minusChar:r,plusMinusChar:i,rtl:z,tickPosition:W,ticks:C,tickLabelFormat:j,tickLabelMultiply:D,tickLabelUnit:R,tickLines:U,fitLabels:G,fitLabelsActual:tt}),512&t.$$.dirty[0]|262144&t.$$.dirty[1]){const t=Ps(l);t!==Z&&(n(13,K=!0),n(9,Z=t))}if(1879048322&t.$$.dirty[0]|196616&t.$$.dirty[1]&&n(44,O={scale:T,scaleType:y,tickLabelFormat:j,tickLabelUnit:R,tickLabelMultiply:D,minusChar:r,plusMinusChar:i,customFormatFunction:H}),2048919750&t.$$.dirty[0]|196744&t.$$.dirty[1]&&n(10,nt=ru({numeral:x,scale:T,scaleType:y,customFormatFunction:H,tickLabelFormat:j,tickLabelUnit:R,tickLabelMultiply:D,minusChar:r,plusMinusChar:i,themeOptions:c,themeData:S,smartSpacing:!0!==X.enabled,ticks:C,rtl:z,highlighted:V})),2100224&t.$$.dirty[0]|8192&t.$$.dirty[1]){const t=su(x,O,nt.ticksMajor,c);n(40,E=t.tickFormat),n(41,J=t.multiFormat),n(42,Q=t.keepOrder)}if(33556480&t.$$.dirty[0]&&n(46,u=rt(c,"tickLabels.fontSize",ss(S,"fontSize",12))),69209088&t.$$.dirty[0]|8192&t.$$.dirty[1]&&n(45,h=pu(x,"x",O,c,N,nt.ticksMajor)),46144990&t.$$.dirty[0]|57028&t.$$.dirty[1]&&n(15,f={themeOptions:c,tickPosition:W,plotSize:s,scale:T,rtl:z,className:I,tickLines:U,ticksMajor:"standard"===A?nt.ticksMajor:[],fitLabels:G,scaleType:y,tickFormat:E,multiFormat:J,keepOrder:Q,fontSize:u,ariaDescription:h,fitLabelsActual:tt,highlightedLabels:V,purifyHtml:_,rotation:X.rotation,xTickStyle:vu(c,S,et,w)}),2336&t.$$.dirty[0]|256&t.$$.dirty[1]&&ot&&"standard"!==A){const t=it(void 0,c,q);p(t),M("marginUpdate",{margin:t})}64&t.$$.dirty[0]&&n(14,d=(null==X?void 0:X.enabled)?kh:vh)},[g,y,z,I,W,q,X,T,A,Z,nt,c,s,K,d,f,et,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=(U?rt(c,"tickLines.distance")+rt(c,"tickLines.length"):0)+rt(c,"tickLabels.distance"),i=rt(c,"tickLabels.extraSpace",1);e[W]=t.height+r+i;const o=Math.max(-1*t.left,0),a=t.width+(o>0?0:t.left)-s[0]-o,l=X.enabled||G.has("first")&&!z||G.has("last")&&z,u=X.enabled||G.has("last")&&!z||G.has("first")&&z;e.left=l?0:Math.min(o,v[0]),e.right=u?0:Math.min(a,v[0]),e.top=Math.min(e.top,v[0]),e.bottom=Math.min(e.bottom,v[1]);const h=z?a>0:o>0,f=z?o>0:a>0;n(43,tt=new Set),G.has("first")&&h&&tt.add("first"),G.has("last")&&f&&tt.add("last"),v[0]>0&&v[1]>0&&(p(e),M("marginUpdate",{margin:e})),n(13,K=!1)},m,v,b,x,w,_,k,S,N,C,j,D,R,P,F,U,H,B,Y,G,V,p,E,J,Q,tt,O,h,u,i,r,l,o,a]}class jh extends nt{constructor(t){super(),et(this,t,Ch,zh,s,{elements:0,scale:18,scaleType:1,plotSize:19,emotion:20,numeral:21,chroma:22,purifyHtml:23,rendered:24,themeData:25,translate:26,rtl:2,ticks:27,tickLabelFormat:28,tickLabelMultiply:29,tickLabelUnit:30,secondary:31,className:3,margin:32,tickLines:33,customFormatFunction:34,minusChar:35,plusMinusChar:36,tickPosition:4,baseLine:5,fitLabels:37,highlightedLabels:38,categoryLabelsHTML:6},null,[-1,-1])}get rendered(){return this.$$.ctx[24]}}function Dh(t,e,n){const r=t.slice();return r[16]=e[n],r}function Rh(t){let e,n,r,i;return{c(){e=g("line"),b(e,"class",n="y-tick-line ".concat(t[5])),b(e,"x2",r=t[2]*t[3]),b(e,"transform",i="translate(".concat(t[6](t[16]).join(","),")")),k(e,"is-zero",0===t[16])},m(t,n){h(t,e,n)},p(t,o){32&o&&n!==(n="y-tick-line ".concat(t[5]))&&b(e,"class",n),12&o&&r!==(r=t[2]*t[3])&&b(e,"x2",r),2&o&&i!==(i="translate(".concat(t[6](t[16]).join(","),")"))&&b(e,"transform",i),34&o&&k(e,"is-zero",0===t[16])},d(t){t&&f(e)}}}function Ph(t){let n,r,i,o=X(t[1]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Rh(Dh(t,o,e));return{c(){n=g("g");for(let t=0;t<a.length;t+=1)a[t].c();b(n,"class",r="y-tick-lines ".concat(t[0]," ").concat(t[5])),b(n,"transform",i="translate(".concat(t[4].join(","),")"))},m(t,e){h(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null)},p(t,e){let[s]=e;if(110&s){let e;for(o=X(t[1]),e=0;e<o.length;e+=1){const r=Dh(t,o,e);a[e]?a[e].p(r,s):(a[e]=Rh(r),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}33&s&&r!==(r="y-tick-lines ".concat(t[0]," ").concat(t[5]))&&b(n,"class",r),16&s&&i!==(i="translate(".concat(t[4].join(","),")"))&&b(n,"transform",i)},i:e,o:e,d(t){t&&f(n),d(a,t)}}}function Ih(t,e,n){let r,i,o,a,s,{themeDataTickLines:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{ticksMajor:d}=e,{css:p}=e,{tickLabelsInside:g}=e,{insideTickLineLength:m="long"}=e,y="length";return t.$$set=t=>{"themeDataTickLines"in t&&n(7,l=t.themeDataTickLines),"tickPosition"in t&&n(8,c=t.tickPosition),"plotSize"in t&&n(9,u=t.plotSize),"scale"in t&&n(10,h=t.scale),"className"in t&&n(0,f=t.className),"ticksMajor"in t&&n(1,d=t.ticksMajor),"css"in t&&n(11,p=t.css),"tickLabelsInside"in t&&n(12,g=t.tickLabelsInside),"insideTickLineLength"in t&&n(13,m=t.insideTickLineLength)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=mu(l,p)),256&t.$$.dirty&&n(3,i="right"===c?1:-1),12288&t.$$.dirty&&n(14,y=g&&"short"===m?"lengthInsideShort":g?"lengthInside":"length"),16512&t.$$.dirty&&n(2,o=rt(l,y)),4228&t.$$.dirty&&(a=g?-o:rt(l,"distance")),768&t.$$.dirty&&n(4,s="right"===c?[u[0],0]:[0,0])},[f,d,o,i,s,r,function(t){return[a*i,h(t)]},l,c,u,h,p,g,m,y]}class Fh extends nt{constructor(t){super(),et(this,t,Ih,Ph,s,{themeDataTickLines:7,tickPosition:8,plotSize:9,scale:10,className:0,ticksMajor:1,css:11,tickLabelsInside:12,insideTickLineLength:13})}}function Uh(t,e,n){const r=t.slice();return r[12]=e[n],r}function Hh(t,e,n){const r=t.slice();return r[12]=e[n],r}function Bh(t){let e,n,r,i,o;return{c(){e=g("line"),b(e,"class",n="y-grid-line major ".concat(t[5])),b(e,"x1",r=t[3]/2),b(e,"x2",i=t[0][0]-t[3]/2),b(e,"transform",o="translate(0, ".concat(t[6](t[12]),")")),k(e,"is-zero",0===t[12])},m(t,n){h(t,e,n)},p(t,a){32&a&&n!==(n="y-grid-line major ".concat(t[5]))&&b(e,"class",n),8&a&&r!==(r=t[3]/2)&&b(e,"x1",r),9&a&&i!==(i=t[0][0]-t[3]/2)&&b(e,"x2",i),16&a&&o!==(o="translate(0, ".concat(t[6](t[12]),")"))&&b(e,"transform",o),48&a&&k(e,"is-zero",0===t[12])},d(t){t&&f(e)}}}function Yh(t){let e,n=X(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Wh(Uh(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=v()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);h(t,e,n)},p(t,i){if(109&i){let o;for(n=X(t[2]),o=0;o<n.length;o+=1){const a=Uh(t,n,o);r[o]?r[o].p(a,i):(r[o]=Wh(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&f(e),d(r,t)}}}function Wh(t){let e,n,r,i,o;return{c(){e=g("line"),b(e,"class",n="y-grid-line minor ".concat(t[5])),b(e,"x1",r=-t[3]),b(e,"x2",i=t[0][0]+t[3]),b(e,"transform",o="translate(0, ".concat(t[6](t[12]),")"))},m(t,n){h(t,e,n)},p(t,a){32&a&&n!==(n="y-grid-line minor ".concat(t[5]))&&b(e,"class",n),8&a&&r!==(r=-t[3])&&b(e,"x1",r),9&a&&i!==(i=t[0][0]+t[3])&&b(e,"x2",i),4&a&&o!==(o="translate(0, ".concat(t[6](t[12]),")"))&&b(e,"transform",o)},d(t){t&&f(e)}}}function qh(t){let n,r,i,o=X(t[4]),a=[];for(let e=0;e<o.length;e+=1)a[e]=Bh(Hh(t,o,e));let s=t[2]&&Yh(t);return{c(){n=g("g");for(let t=0;t<a.length;t+=1)a[t].c();r=v(),s&&s.c(),b(n,"class",i="y-grid-lines ".concat(t[1]," ").concat(t[5]))},m(t,e){h(t,n,e);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(n,null);u(n,r),s&&s.m(n,null)},p(t,e){let[l]=e;if(121&l){let e;for(o=X(t[4]),e=0;e<o.length;e+=1){const i=Hh(t,o,e);a[e]?a[e].p(i,l):(a[e]=Bh(i),a[e].c(),a[e].m(n,r))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}t[2]?s?s.p(t,l):(s=Yh(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),34&l&&i!==(i="y-grid-lines ".concat(t[1]," ").concat(t[5]))&&b(n,"class",i)},i:e,o:e,d(t){t&&f(n),d(a,t),s&&s.d()}}}function Gh(t,e,n){let r,i,o,{themeOptionsGridLines:a}=e,{plotSize:s}=e,{scale:l}=e,{className:c=""}=e,{ticksMajor:u}=e,{ticksMinor:h}=e,{baseLine:f}=e,{css:d}=e;return t.$$set=t=>{"themeOptionsGridLines"in t&&n(7,a=t.themeOptionsGridLines),"plotSize"in t&&n(0,s=t.plotSize),"scale"in t&&n(8,l=t.scale),"className"in t&&n(1,c=t.className),"ticksMajor"in t&&n(9,u=t.ticksMajor),"ticksMinor"in t&&n(2,h=t.ticksMinor),"baseLine"in t&&n(10,f=t.baseLine),"css"in t&&n(11,d=t.css)},t.$$.update=()=>{2176&t.$$.dirty&&n(5,r=gu(a,d)),1536&t.$$.dirty&&n(4,i=u.filter((t=>!f.has("zero")||0!==t))),128&t.$$.dirty&&n(3,o="round"===a.major.strokeLinecap||"square"===a.major.strokeLinecap?a.major.width||1:0)},[s,c,h,o,i,r,function(t){return l(t)},a,l,u,f,d]}class Vh extends nt{constructor(t){super(),et(this,t,Gh,qh,s,{themeOptionsGridLines:7,plotSize:0,scale:8,className:1,ticksMajor:9,ticksMinor:2,baseLine:10,css:11})}}function Xh(t,e,n){const r=t.slice();return r[11]=e[n],r}function Kh(t){let e,n,r,i,o;return{c(){e=g("g"),n=g("line"),b(n,"x1",r=t[0][0]),b(n,"transform",i="translate(0, ".concat(t[4](t[11]),")")),b(e,"class",o="y-base-lines ".concat(t[1]," ").concat(t[3]))},m(t,r){h(t,e,r),u(e,n)},p(t,a){1&a&&r!==(r=t[0][0])&&b(n,"x1",r),4&a&&i!==(i="translate(0, ".concat(t[4](t[11]),")"))&&b(n,"transform",i),10&a&&o!==(o="y-base-lines ".concat(t[1]," ").concat(t[3]))&&b(e,"class",o)},d(t){t&&f(e)}}}function Jh(t){let n,r=X(t[2]),i=[];for(let e=0;e<r.length;e+=1)i[e]=Kh(Xh(t,r,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=v()},m(t,e){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(t,e);h(t,n,e)},p(t,e){let[o]=e;if(31&o){let e;for(r=X(t[2]),e=0;e<r.length;e+=1){const a=Xh(t,r,e);i[e]?i[e].p(a,o):(i[e]=Kh(a),i[e].c(),i[e].m(n.parentNode,n))}for(;e<i.length;e+=1)i[e].d(1);i.length=r.length}},i:e,o:e,d(t){t&&f(n),d(i,t)}}}function Qh(t,e,n){let r,i,{themeOptionsBaseLine:o}=e,{plotSize:a}=e,{scale:s}=e,{className:l=""}=e,{ticksMajor:c}=e,{baseLine:u}=e,{css:h}=e,{enforceZeroBaseline:f=!1}=e;return t.$$set=t=>{"themeOptionsBaseLine"in t&&n(5,o=t.themeOptionsBaseLine),"plotSize"in t&&n(0,a=t.plotSize),"scale"in t&&n(6,s=t.scale),"className"in t&&n(1,l=t.className),"ticksMajor"in t&&n(7,c=t.ticksMajor),"baseLine"in t&&n(8,u=t.baseLine),"css"in t&&n(9,h=t.css),"enforceZeroBaseline"in t&&n(10,f=t.enforceZeroBaseline)},t.$$.update=()=>{544&t.$$.dirty&&n(3,r=yu(o,h)),1408&t.$$.dirty&&n(2,i=Array.from(u).filter((t=>"zero"!==t||c.includes(0)||f)))},[a,l,i,r,function(t){return"zero"===t?s(0):"top"===t?0:a[1]},o,s,c,u,h,f]}class tf extends nt{constructor(t){super(),et(this,t,Qh,Jh,s,{themeOptionsBaseLine:5,plotSize:0,scale:6,className:1,ticksMajor:7,baseLine:8,css:9,enforceZeroBaseline:10})}}function ef(t,e,n){const r=t.slice();return r[26]=e[n],r[27]=e,r[28]=n,r}function nf(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function rf(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function of(t){let e,n,r,i,o,a=X(t[26].ticks),s=[];for(let e=0;e<a.length;e+=1)s[e]=af(rf(t,a,e));return{c(){e=g("text");for(let t=0;t<s.length;t+=1)s[t].c();b(e,"class",n="y-tick-label buffer ".concat(t[0])),b(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),b(e,"aria-hidden","true"),b(e,"x",i=t[26].x),b(e,"y",o=t[26].y),k(e,"dw-bold",t[10]),k(e,"dw-italic",t[9]),k(e,"is-zero",t[26].isZero),k(e,"first",t[26].isFirst),k(e,"last",t[26].isLast),k(e,"inside",t[5])},m(t,n){h(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,l){if(297&l[0]){let n;for(a=X(t[26].ticks),n=0;n<a.length;n+=1){const r=rf(t,a,n);s[n]?s[n].p(r,l):(s[n]=af(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}1&l[0]&&n!==(n="y-tick-label buffer ".concat(t[0]))&&b(e,"class",n),256&l[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&b(e,"transform",r),256&l[0]&&i!==(i=t[26].x)&&b(e,"x",i),256&l[0]&&o!==(o=t[26].y)&&b(e,"y",o),1025&l[0]&&k(e,"dw-bold",t[10]),513&l[0]&&k(e,"dw-italic",t[9]),257&l[0]&&k(e,"is-zero",t[26].isZero),257&l[0]&&k(e,"first",t[26].isFirst),257&l[0]&&k(e,"last",t[26].isLast),33&l[0]&&k(e,"inside",t[5])},d(t){t&&f(e),d(s,t)}}}function af(t){let e,n,r,i,o=t[29]+"";return{c(){e=g("tspan"),n=m(o),b(e,"x",r="left"===t[0]&&t[5]?0:-1),b(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){h(t,e,r),u(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&w(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&b(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&b(e,"dy",i)},d(t){t&&f(e)}}}function sf(t){let e,n,r,i,o=t[29]+"";return{c(){e=g("tspan"),n=m(o),b(e,"x",r="left"===t[0]&&t[5]?0:-1),b(e,"dy",i=t[31]>0?t[3]+3:0)},m(t,r){h(t,e,r),u(e,n)},p(t,a){256&a[0]&&o!==(o=t[29]+"")&&w(n,o),33&a[0]&&r!==(r="left"===t[0]&&t[5]?0:-1)&&b(e,"x",r),8&a[0]&&i!==(i=t[31]>0?t[3]+3:0)&&b(e,"dy",i)},d(t){t&&f(e)}}}function lf(t){let e,n,r,i,o,a=t[28],s=t[6]&&of(t),l=X(t[26].ticks),c=[];for(let e=0;e<l.length;e+=1)c[e]=sf(nf(t,l,e));const u=()=>t[24](e,a),p=()=>t[24](null,a);return{c(){s&&s.c(),e=g("text");for(let t=0;t<c.length;t+=1)c[t].c();b(e,"class",n="y-tick-label ".concat(t[0])),b(e,"transform",r="translate(".concat(t[26].translate.join(","),")")),b(e,"aria-hidden","true"),b(e,"x",i=t[26].x),b(e,"y",o=t[26].y),k(e,"dw-bold",t[10]),k(e,"dw-italic",t[9]),k(e,"is-zero",t[26].isZero),k(e,"first",t[26].isFirst),k(e,"last",t[26].isLast),k(e,"inside",t[5])},m(t,n){s&&s.m(t,n),h(t,e,n);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,null);u()},p(h,f){if((t=h)[6]?s?s.p(t,f):(s=of(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),297&f[0]){let n;for(l=X(t[26].ticks),n=0;n<l.length;n+=1){const r=nf(t,l,n);c[n]?c[n].p(r,f):(c[n]=sf(r),c[n].c(),c[n].m(e,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}1&f[0]&&n!==(n="y-tick-label ".concat(t[0]))&&b(e,"class",n),256&f[0]&&r!==(r="translate(".concat(t[26].translate.join(","),")"))&&b(e,"transform",r),256&f[0]&&i!==(i=t[26].x)&&b(e,"x",i),256&f[0]&&o!==(o=t[26].y)&&b(e,"y",o),a!==t[28]&&(p(),a=t[28],u()),1025&f[0]&&k(e,"dw-bold",t[10]),513&f[0]&&k(e,"dw-italic",t[9]),257&f[0]&&k(e,"is-zero",t[26].isZero),257&f[0]&&k(e,"first",t[26].isFirst),257&f[0]&&k(e,"last",t[26].isLast),33&f[0]&&k(e,"inside",t[5])},d(t){t&&f(e),s&&s.d(t),d(c,t),p()}}}function cf(t){let r,i,o,a=X(t[8]),s=[];for(let e=0;e<a.length;e+=1)s[e]=lf(ef(t,a,e));let l=[{class:i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12])},{transform:o="translate(".concat(t[11].join(","),")")},t[4]],c={};for(let t=0;t<l.length;t+=1)c=n(c,l[t]);return{c(){r=g("g");for(let t=0;t<s.length;t+=1)s[t].c();x(r,c),k(r,"buffer",t[6])},m(t,e){h(t,r,e);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null)},p(t,e){if(2025&e[0]){let n;for(a=X(t[8]),n=0;n<a.length;n+=1){const i=ef(t,a,n);s[n]?s[n].p(i,e):(s[n]=lf(i),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}x(r,c=K(l,[4102&e[0]&&i!==(i="y-tick-labels ".concat(t[2],"-axis ").concat(t[1]," ").concat(t[12]))&&{class:i},2048&e[0]&&o!==(o="translate(".concat(t[11].join(","),")"))&&{transform:o},16&e[0]&&t[4]])),k(r,"buffer",t[6])},i:e,o:e,d(t){t&&f(r),d(s,t)}}}function uf(t,e,n){let r,i,o,a,s,{themeOptions:l}=e,{tickPosition:c}=e,{plotSize:u}=e,{scale:h}=e,{className:f=""}=e,{rtl:d=!1}=e,{ticksMajor:p}=e,{tickLines:g}=e,{scaleType:m}=e,{tickFormat:y}=e,{multiFormat:v}=e,{keepOrder:b}=e,{fontSize:x}=e,{ariaDescription:w}=e,{tickLabelsInside:_}=e,{bufferStroke:k=!1}=e,{css:M}=e;const T=[];let A;async function E(t){const e=[...t];e.sort(((t,e)=>h(e)-h(t))),n(8,A=e.map(((t,e,n)=>function(t,e,n,r,i,o,a,s,l,c){const u=e===n.length-1,h=0===e,f=u?"first":h?"last":"middle",d=[t].map((t=>a?s(t,f,0===e):[s(t,f,0===e)])).flat().map((t=>rh(t)));return{tick:t,x:"right"===i?(d.length-1)*(o+3)*-1:0,y:c?(d.length-1)*(o+3)*-1:(d.length-1)*(o+3)*-.5,ticks:d,isFirst:u,isLast:h,isZero:0===t,translate:[0,l(t)+Math.floor(o*(c?0:.4))-(c?5:0)]}}(t,e,n,0,c,x,v,y,h,_)))),await R();const r=T.map((t=>(null==t?void 0:t.getBoundingClientRect())||{left:0,width:0}));if(r.length>0&&0===r[0].left&&0===r[0].width)return;let i;const o=r.map(((t,e)=>0===t.width||!(i&&i.y<t.y+t.height)&&(i=t,!0)));n(8,A=A.filter(((t,e)=>0===o.length||o[e])))}return t.$$set=t=>{"themeOptions"in t&&n(13,l=t.themeOptions),"tickPosition"in t&&n(0,c=t.tickPosition),"plotSize"in t&&n(14,u=t.plotSize),"scale"in t&&n(15,h=t.scale),"className"in t&&n(1,f=t.className),"rtl"in t&&n(16,d=t.rtl),"ticksMajor"in t&&n(17,p=t.ticksMajor),"tickLines"in t&&n(18,g=t.tickLines),"scaleType"in t&&n(2,m=t.scaleType),"tickFormat"in t&&n(19,y=t.tickFormat),"multiFormat"in t&&n(20,v=t.multiFormat),"keepOrder"in t&&n(21,b=t.keepOrder),"fontSize"in t&&n(3,x=t.fontSize),"ariaDescription"in t&&n(4,w=t.ariaDescription),"tickLabelsInside"in t&&n(5,_=t.tickLabelsInside),"bufferStroke"in t&&n(6,k=t.bufferStroke),"css"in t&&n(22,M=t.css)},t.$$.update=()=>{4268032&t.$$.dirty[0]&&n(12,r=function(t,e,n){let{tickLabels:r}=t;const{bufferColor:i}=r;return n("\n    text {}\n    ".concat(r.hideZero?"text.is-zero { display: none }":"","\n    text tspan {\n        ").concat(xu(r),"\n    }\n    text.right {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.right.inside {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left {\n        text-anchor: ").concat(e?"start":"end",";\n    }\n    text.left.inside {\n        text-anchor: ").concat(e?"end":"start",";\n    }\n    text.buffer {\n        fill: ").concat(i,";\n        stroke: ").concat(i,";\n        stroke-width: 2;\n    }\n"))}(l,d,M)),270368&t.$$.dirty[0]&&n(23,i=_?0:(g?rt(l,"tickLines.distance")+rt(l,"tickLines.length"):0)+rt(l,"tickLabels.distance")),8404993&t.$$.dirty[0]&&n(11,o="right"===c?[u[0]+i,0]:[-i,0]),8192&t.$$.dirty[0]&&n(10,a="bold"===rt(l,"tickLabels.fontWeight")),8192&t.$$.dirty[0]&&n(9,s="italic"===rt(l,"tickLabels.fontStyle")),131072&t.$$.dirty[0]&&E(p)},[c,f,m,x,w,_,k,T,A,s,a,o,r,l,u,h,d,p,g,y,v,b,M,i,function(t,e){S[t?"unshift":"push"]((()=>{T[e]=t,n(7,T)}))}]}class hf extends nt{constructor(t){super(),et(this,t,uf,cf,s,{themeOptions:13,tickPosition:0,plotSize:14,scale:15,className:1,rtl:16,ticksMajor:17,tickLines:18,scaleType:2,tickFormat:19,multiFormat:20,keepOrder:21,fontSize:3,ariaDescription:4,tickLabelsInside:5,bufferStroke:6,css:22},null,[-1,-1])}}function ff(t){let e,n;return e=new Ah({props:{dependencies:t[8],onMeasure:t[17],$$slots:{default:[df]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};256&n[0]&&(r.dependencies=t[8]),16384&n[0]|2097152&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function df(t){let e,r;const i=[t[14]];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new hf({props:o}),{c(){J(e.$$.fragment)},m(t,n){Q(e,t,n),r=!0},p(t,n){const r=16384&n[0]?K(i,[Z(t[14])]):{};e.$set(r)},i(t){r||(G(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){tt(e,t)}}}function pf(t){let e,r;const i=[t[14],{bufferStroke:t[7]}];let o={};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new hf({props:o}),{c(){J(e.$$.fragment)},m(t,n){Q(e,t,n),r=!0},p(t,n){const r=16512&n[0]?K(i,[16384&n[0]&&Z(t[14]),128&n[0]&&{bufferStroke:t[7]}]):{};e.$set(r)},i(t){r||(G(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){tt(e,t)}}}function gf(t){let e,n;return e=new Fh({props:{themeDataTickLines:t[10].tickLines,tickPosition:t[4],plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,css:t[16],tickLabelsInside:t[6],insideTickLineLength:t[3]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeDataTickLines=t[10].tickLines),16&n[0]&&(r.tickPosition=t[4]),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),64&n[0]&&(r.tickLabelsInside=t[6]),8&n[0]&&(r.insideTickLineLength=t[3]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function mf(t){let e,n;return e=new Vh({props:{themeOptionsGridLines:t[10].gridLines,plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,ticksMinor:t[9].ticksMinor,baseLine:t[5],css:t[16]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeOptionsGridLines=t[10].gridLines),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),512&n[0]&&(r.ticksMinor=t[9].ticksMinor),32&n[0]&&(r.baseLine=t[5]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function yf(t){let e,n;return e=new tf({props:{themeOptionsBaseLine:t[10].baseLine,plotSize:t[11],scale:t[12],className:t[2],ticksMajor:t[9].ticksMajor,baseLine:t[5],css:t[16],enforceZeroBaseline:t[15]}}),{c(){J(e.$$.fragment)},m(t,r){Q(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.themeOptionsBaseLine=t[10].baseLine),2048&n[0]&&(r.plotSize=t[11]),4096&n[0]&&(r.scale=t[12]),4&n[0]&&(r.className=t[2]),512&n[0]&&(r.ticksMajor=t[9].ticksMajor),32&n[0]&&(r.baseLine=t[5]),32768&n[0]&&(r.enforceZeroBaseline=t[15]),e.$set(r)},i(t){n||(G(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function vf(t){let e,n,r,i,o,a,s,l=t[13]&&t[0].has("tick-labels"),c=t[0].has("tick-labels"),d=t[0].has("tick-lines"),p=t[0].has("grid-lines"),m=t[0].has("base-lines"),x=l&&ff(t),w=c&&pf(t),_=d&&gf(t),k=p&&mf(t),M=m&&yf(t);return{c(){x&&x.c(),e=y(),n=g("g"),w&&w.c(),r=v(),_&&_.c(),i=v(),k&&k.c(),o=v(),M&&M.c(),b(n,"class","y-grid"),b(n,"direction",a=t[1]?"rtl":"ltr")},m(t,a){x&&x.m(t,a),h(t,e,a),h(t,n,a),w&&w.m(n,null),u(n,r),_&&_.m(n,null),u(n,i),k&&k.m(n,null),u(n,o),M&&M.m(n,null),s=!0},p(t,u){8193&u[0]&&(l=t[13]&&t[0].has("tick-labels")),l?x?(x.p(t,u),8193&u[0]&&G(x,1)):(x=ff(t),x.c(),G(x,1),x.m(e.parentNode,e)):x&&(W(),V(x,1,1,(()=>{x=null})),q()),1&u[0]&&(c=t[0].has("tick-labels")),c?w?(w.p(t,u),1&u[0]&&G(w,1)):(w=pf(t),w.c(),G(w,1),w.m(n,r)):w&&(W(),V(w,1,1,(()=>{w=null})),q()),1&u[0]&&(d=t[0].has("tick-lines")),d?_?(_.p(t,u),1&u[0]&&G(_,1)):(_=gf(t),_.c(),G(_,1),_.m(n,i)):_&&(W(),V(_,1,1,(()=>{_=null})),q()),1&u[0]&&(p=t[0].has("grid-lines")),p?k?(k.p(t,u),1&u[0]&&G(k,1)):(k=mf(t),k.c(),G(k,1),k.m(n,o)):k&&(W(),V(k,1,1,(()=>{k=null})),q()),1&u[0]&&(m=t[0].has("base-lines")),m?M?(M.p(t,u),1&u[0]&&G(M,1)):(M=yf(t),M.c(),G(M,1),M.m(n,null)):M&&(W(),V(M,1,1,(()=>{M=null})),q()),(!s||2&u[0]&&a!==(a=t[1]?"rtl":"ltr"))&&b(n,"direction",a)},i(t){s||(G(x),G(w),G(_),G(k),G(M),s=!0)},o(t){V(x),V(w),V(_),V(k),V(M),s=!1},d(t){t&&(f(e),f(n)),x&&x.d(t),w&&w.d(),_&&_.d(),k&&k.d(),M&&M.d()}}}function bf(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,g,{elements:m}=e,{scale:y}=e,{scaleType:v}=e,{plotSize:b}=e,{emotion:x}=e,{numeral:w}=e,{chroma:_}=e;const k=new Promise((t=>{n(37,g=t)})),M=L();let T,A,{themeData:E={}}=e,{translate:O=(t=>t)}=e,{rtl:S=!1}=e,{ticks:N={major:{values:[]},minor:{values:[]}}}=e,{tickLabelFormat:z="auto"}=e,{tickLabelMultiply:C=1}=e,{tickLabelUnit:j=["",""]}=e,{secondary:D=!1}=e,{className:R=""}=e,{margin:P={top:0,left:0,right:0,bottom:0,labelWidth:0}}=e,{tickLines:I=m.has("tick-lines")}=e,{insideTickLineLength:F="long"}=e,{customFormatFunction:U}=e,{minusChar:H}=e,{plusMinusChar:B}=e,{tickPosition:Y="left"}=e,{baseLine:W=new Set(["zero"])}=e,{tickLabelsInside:q=!1}=e,{bufferStroke:G=!1}=e,V=!0,X=Ps(u),K=!1,Z=!1;const{css:J}=x;let Q={ticksMajor:[],ticksMinor:[]};function tt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:0,bottom:0,top:0,labelWidth:0},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const r=rt(e,"tickLines.length"+(q?"Inside":""),rt(e,"tickLines.length")),i=q?-r:rt(e,"tickLines.distance"),o=rt(e.tickLines,"strokeLinecap"),a=rt(e.tickLines,"width");let s={};I&&(s={top:.5*a,bottom:.5*a,[Y]:i+r+("square"===o||"round"===o?.5*a:0)});const l=rt(e,"baseLine.width"),c={top:n.has("top")?l:0,bottom:n.has("bottom")?l:0},u=Object.assign({},t);for(const e of["top","right","bottom","left"]){const n=e;u[n]=Math.max(t[n]||0,s[n]||0,c[n]||0)}return u}const et="getBBox"in document.createElementNS("http://www.w3.org/2000/svg","svg")==0;return $((async()=>{if(!m.has("tick-labels")){const t=tt(void 0,h,W);g(t),M("marginUpdate",{margin:t})}})),t.$$set=t=>{"elements"in t&&n(0,m=t.elements),"scale"in t&&n(18,y=t.scale),"scaleType"in t&&n(19,v=t.scaleType),"plotSize"in t&&n(20,b=t.plotSize),"emotion"in t&&n(21,x=t.emotion),"numeral"in t&&n(22,w=t.numeral),"chroma"in t&&n(23,_=t.chroma),"themeData"in t&&n(25,E=t.themeData),"translate"in t&&n(26,O=t.translate),"rtl"in t&&n(1,S=t.rtl),"ticks"in t&&n(27,N=t.ticks),"tickLabelFormat"in t&&n(28,z=t.tickLabelFormat),"tickLabelMultiply"in t&&n(29,C=t.tickLabelMultiply),"tickLabelUnit"in t&&n(30,j=t.tickLabelUnit),"secondary"in t&&n(31,D=t.secondary),"className"in t&&n(2,R=t.className),"margin"in t&&n(32,P=t.margin),"tickLines"in t&&n(33,I=t.tickLines),"insideTickLineLength"in t&&n(3,F=t.insideTickLineLength),"customFormatFunction"in t&&n(34,U=t.customFormatFunction),"minusChar"in t&&n(35,H=t.minusChar),"plusMinusChar"in t&&n(36,B=t.plusMinusChar),"tickPosition"in t&&n(4,Y=t.tickPosition),"baseLine"in t&&n(5,W=t.baseLine),"tickLabelsInside"in t&&n(6,q=t.tickLabelsInside),"bufferStroke"in t&&n(7,G=t.bufferStroke)},t.$$.update=()=>{var e,x;if(33554432&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(45,r=H||rt(E,"vis.base.format.minusCharacter","−")),33554432&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(44,i=B||rt(E,"vis.base.format.plusMinusCharacter","±")),1048576&t.$$.dirty[0]|2&t.$$.dirty[1]&&n(47,o=b[1]-P.top-P.bottom),262144&t.$$.dirty[0]&&n(48,a=y.range()[1]>y.range()[0]),262144&t.$$.dirty[0]|196608&t.$$.dirty[1]&&n(12,s=y.copy().range(a?[0,o]:[o,0])),1048576&t.$$.dirty[0]|65536&t.$$.dirty[1]&&n(11,l=[b[0],o]),41943040&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(10,h=Ds("vertical",E,D,_)),2051544576&t.$$.dirty[0]|24584&t.$$.dirty[1]&&(n(9,Q=ru({numeral:w,scale:s,scaleType:v,customFormatFunction:U,tickLabelFormat:z,tickLabelUnit:j,tickLabelMultiply:C,minusChar:r,plusMinusChar:i,themeOptions:h,themeData:E,ticks:N})),Q.ticksMajor.reverse(),Q.ticksMinor.reverse()),786976&t.$$.dirty[0]&&n(15,c=["number"].includes(v)&&W.has("zero")&&!1===Q.ticksMajor.includes(0)&&(e=y.domain()[0],x=y.domain()[1],Math.abs(Math.sign(e)+Math.sign(x))<=1)),2015102035&t.$$.dirty[0]&&n(46,u={elements:m,scale:y,scaleType:v,plotSize:b,themeOptions:h,rtl:S,tickPosition:Y,ticks:N,tickLabelFormat:z,tickLabelMultiply:C,tickLabelUnit:j,tickLabelsInside:q}),256&t.$$.dirty[0]|32768&t.$$.dirty[1]){const t=Ps(u);t!==X&&(n(13,V=!0),n(8,X=t))}if(1879576576&t.$$.dirty[0]|24584&t.$$.dirty[1]&&n(41,A={scale:s,scaleType:v,tickLabelFormat:z,tickLabelUnit:j,tickLabelMultiply:C,minusChar:r,plusMinusChar:i,customFormatFunction:U}),4195840&t.$$.dirty[0]|1024&t.$$.dirty[1]){const t=su(w,A,Q.ticksMajor,h);n(38,T=t.tickFormat),n(39,K=t.multiFormat),n(40,Z=t.keepOrder)}if(33555456&t.$$.dirty[0]&&n(43,f=rt(h,"tickLabels.fontSize",ss(E,"fontSize",12))),71304704&t.$$.dirty[0]|1024&t.$$.dirty[1]&&n(42,d=pu(w,"y",A,h,O,Q.ticksMajor)),532054&t.$$.dirty[0]|7044&t.$$.dirty[1]&&n(14,p={themeOptions:h,tickPosition:Y,plotSize:l,scale:s,rtl:S,className:R,tickLines:I,ticksMajor:Q.ticksMajor,scaleType:v,css:J,tickFormat:T,multiFormat:K,keepOrder:Z,fontSize:f,ariaDescription:d,tickLabelsInside:q}),1057&t.$$.dirty[0]|64&t.$$.dirty[1]&&et&&!m.has("tick-labels")){const t=tt(void 0,h,W);g(t),M("marginUpdate",{margin:t})}},[m,S,R,F,Y,W,q,G,X,Q,h,l,s,V,p,c,J,async function(t){const e={top:0,left:0,bottom:0,right:0,labelWidth:0},r=q?0:(I?rt(h,"tickLines.distance")+rt(h,"tickLines.length"):0)+rt(h,"tickLabels.distance"),i=rt(h,"tickLabels.extraSpace",1);q?(e[Y]=0,e.labelWidth=t.width):(e[Y]=t.width+r+i,e.labelWidth=0);const o=Math.max(-1*t.top,0),a=t.height+(o>0?0:t.top)-l[1]-o;e.top=o,e.bottom=a,b[0]>0&&b[1]>0&&(g(tt(e,h,W)),M("marginUpdate",{margin:e})),n(13,V=!1)},y,v,b,x,w,_,k,E,O,N,z,C,j,D,P,I,U,H,B,g,T,K,Z,A,d,f,i,r,u,o,a]}class xf extends nt{constructor(t){super(),et(this,t,bf,vf,s,{elements:0,scale:18,scaleType:19,plotSize:20,emotion:21,numeral:22,chroma:23,rendered:24,themeData:25,translate:26,rtl:1,ticks:27,tickLabelFormat:28,tickLabelMultiply:29,tickLabelUnit:30,secondary:31,className:2,margin:32,tickLines:33,insideTickLineLength:3,customFormatFunction:34,minusChar:35,plusMinusChar:36,tickPosition:4,baseLine:5,tickLabelsInside:6,bufferStroke:7},null,[-1,-1])}get rendered(){return this.$$.ctx[24]}}function wf(t){if("node"in t){const e=t.node();if(!e)throw"Selected node is not valid.";return e}return t}function _f(t,e){const n=new Set;return Array.isArray(t)?t.forEach((t=>n.add(t))):"string"==typeof t?n.add(t):n.add("zero"),(e||!1===t)&&n.delete("zero"),n}t.XGrid=jh,t.YGrid=xf,t.autoTickFormatDate=cu,t.initLocales=function(t){t&&"en"!==t.name&&Kc.locale(t)},t.parseTicks=ru,t.resolveThemeOptions=Ds,t.xGridWrapper=async function(t){var e,n;for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const r=wf(t.aboveChart),i=wf(t.belowChart);for(const t of[r,i]){const e=t.querySelector(".x-grid");e&&e.remove()}const o={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:_f(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,fitLabels:new Set(t.fitLabels),plusMinusChar:t.plusMinusChar,tickLines:t.tickLines,chroma:t.chroma,purifyHtml:t.purifyHtml},a=Ds("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:s,elementsBelow:l}=Rs(a,t.tickLabels,t.tickLines,t.gridLines),c=s.has("tick-lines")||l.has("tick-lines"),u=new jh({target:r,props:Object.assign(Object.assign({elements:s},o),{tickLines:c})}),h=new jh({target:i,props:Object.assign(Object.assign({elements:l},o),{tickLines:c})}),f=await u.rendered,d=await h.rendered,p={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(p).forEach((t=>{const e=t;p[e]=Math.max(f[e],d[e])})),(null===(e=t.allowOverhang)||void 0===e?void 0:e.includes("first"))&&(p[t.rtl?"right":"left"]=0),(null===(n=t.allowOverhang)||void 0===n?void 0:n.includes("last"))&&(p[t.rtl?"left":"right"]=0),!1===t.updateMargins||(u.$$set({margin:p}),h.$$set({margin:p}),await new Promise((t=>setTimeout(t,1)))),p},t.yGridWrapper=async function(t){for(const e of["aboveChart","belowChart","emotion","scale","scaleType","plotSize"])if(e in t==0)throw'Property "'.concat(e,'" missing from options');const e=wf(t.aboveChart),n=wf(t.belowChart);for(const t of[e,n]){const e=t.querySelector(".y-grid");e&&e.remove()}const r={emotion:t.emotion,scale:t.scale,scaleType:t.scaleType,plotSize:t.plotSize,themeData:t.theme,translate:t.translate,numeral:t.numeral,baseLine:_f(t.baseLine,!!t.customFormatFunction),customFormatFunction:t.customFormatFunction,rtl:t.rtl,ticks:t.ticks,tickLabelFormat:t.tickLabelFormat,tickLabelMultiply:t.tickLabelMultiply,tickLabelUnit:t.tickLabelUnit,secondary:t.secondary,className:t.className,minusChar:t.minusChar,tickPosition:t.tickPosition,tickLines:t.tickLines,tickLabelsInside:t.tickLabelsInside,chroma:t.chroma},i=Ds("horizontal",t.theme,!!t.secondary,t.chroma),{elementsAbove:o,elementsBelow:a}=Rs(i,t.tickLabels,t.tickLines,t.gridLines),s=o.has("tick-lines")||a.has("tick-lines"),l=new xf({target:e,props:Object.assign(Object.assign({elements:o},r),{tickLines:s})}),c=new xf({target:n,props:Object.assign(Object.assign({elements:a},r),{tickLines:s})}),u=await l.rendered,h=await c.rendered,f={top:0,left:0,bottom:0,right:0,labelWidth:0};return Object.keys(f).forEach((t=>{const e=t;f[e]=Math.max(u[e],h[e])})),!1===t.updateMargins||(l.$$set({margin:f}),c.$$set({margin:f}),await new Promise((t=>setTimeout(t,1)))),f}}(e)}(0,Jh.exports);var Qh,tf=Jh.exports,ef={exports:{}};function nf(){return Qh||(Qh=1,ef.exports=function(){const{entries:t,setPrototypeOf:e,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:o,seal:a,create:s}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;o||(o=function(t){return t}),a||(a=function(t){return t}),l||(l=function(t,e,n){return t.apply(e,n)}),c||(c=function(t,e){return new t(...e)});const u=w(Array.prototype.forEach),h=w(Array.prototype.pop),f=w(Array.prototype.push),d=w(String.prototype.toLowerCase),p=w(String.prototype.toString),g=w(String.prototype.match),m=w(String.prototype.replace),y=w(String.prototype.indexOf),v=w(String.prototype.trim),b=w(RegExp.prototype.test),x=_(TypeError);function w(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function _(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,n)}}function k(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;e&&e(t,null);let o=r.length;for(;o--;){let e=r[o];if("string"==typeof e){const t=i(e);t!==e&&(n(r)||(r[o]=t),e=t)}t[e]=!0}return t}function M(e){const n=s(null);for(const[r,o]of t(e))void 0!==i(e,r)&&(n[r]=o);return n}function T(t,e){for(;null!==t;){const n=i(t,e);if(n){if(n.get)return w(n.get);if("function"==typeof n.value)return w(n.value)}t=r(t)}function n(t){return console.warn("fallback value for",t),null}return n}const A=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),S=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=o(["#text"]),z=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),C=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),P=a(/<%[\w\W]*|[\w\W]*%>/gm),I=a(/\${[\w\W]*}/gm),F=a(/^data-[\-\w.\u00B7-\uFFFF]/),U=a(/^aria-[\-\w]+$/),H=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),Y=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=a(/^html$/i);var q=Object.freeze({__proto__:null,MUSTACHE_EXPR:R,ERB_EXPR:P,TMPLIT_EXPR:I,DATA_ATTR:F,ARIA_ATTR:U,IS_ALLOWED_URI:H,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:Y,DOCTYPE_NAME:W});const G=function(){return"undefined"==typeof window?null:window},V=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G();const n=t=>X(t);if(n.version="3.0.6",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;let{document:r}=e;const i=r,a=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:w,Element:_,NodeFilter:R,NamedNodeMap:P=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:I,DOMParser:F,trustedTypes:U}=e,B=_.prototype,Y=T(B,"cloneNode"),K=T(B,"nextSibling"),Z=T(B,"childNodes"),J=T(B,"parentNode");if("function"==typeof c){const t=r.createElement("template");t.content&&t.content.ownerDocument&&(r=t.content.ownerDocument)}let Q,tt="";const{implementation:et,createNodeIterator:nt,createDocumentFragment:rt,getElementsByTagName:it}=r,{importNode:ot}=i;let at={};n.isSupported="function"==typeof t&&"function"==typeof J&&et&&void 0!==et.createHTMLDocument;const{MUSTACHE_EXPR:st,ERB_EXPR:lt,TMPLIT_EXPR:ct,DATA_ATTR:ut,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:ft,ATTR_WHITESPACE:dt}=q;let{IS_ALLOWED_URI:pt}=q,gt=null;const mt=k({},[...A,...E,...$,...O,...N]);let yt=null;const vt=k({},[...z,...C,...j,...D]);let bt=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,wt=null,_t=!0,kt=!0,Mt=!1,Tt=!0,At=!1,Et=!1,$t=!1,Lt=!1,Ot=!1,St=!1,Nt=!1,zt=!0,Ct=!1;const jt="user-content-";let Dt=!0,Rt=!1,Pt={},It=null;const Ft=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ut=null;const Ht=k({},["audio","video","img","source","image","track"]);let Bt=null;const Yt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Wt="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Gt="http://www.w3.org/1999/xhtml";let Vt=Gt,Xt=!1,Kt=null;const Zt=k({},[Wt,qt,Gt],p);let Jt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let ee=null,ne=null;const re=r.createElement("form"),ie=function(t){return t instanceof RegExp||t instanceof Function},oe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=M(t),Jt=Jt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,ee="application/xhtml+xml"===Jt?p:d,gt="ALLOWED_TAGS"in t?k({},t.ALLOWED_TAGS,ee):mt,yt="ALLOWED_ATTR"in t?k({},t.ALLOWED_ATTR,ee):vt,Kt="ALLOWED_NAMESPACES"in t?k({},t.ALLOWED_NAMESPACES,p):Zt,Bt="ADD_URI_SAFE_ATTR"in t?k(M(Yt),t.ADD_URI_SAFE_ATTR,ee):Yt,Ut="ADD_DATA_URI_TAGS"in t?k(M(Ht),t.ADD_DATA_URI_TAGS,ee):Ht,It="FORBID_CONTENTS"in t?k({},t.FORBID_CONTENTS,ee):Ft,xt="FORBID_TAGS"in t?k({},t.FORBID_TAGS,ee):{},wt="FORBID_ATTR"in t?k({},t.FORBID_ATTR,ee):{},Pt="USE_PROFILES"in t&&t.USE_PROFILES,_t=!1!==t.ALLOW_ARIA_ATTR,kt=!1!==t.ALLOW_DATA_ATTR,Mt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Tt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,At=t.SAFE_FOR_TEMPLATES||!1,Et=t.WHOLE_DOCUMENT||!1,Ot=t.RETURN_DOM||!1,St=t.RETURN_DOM_FRAGMENT||!1,Nt=t.RETURN_TRUSTED_TYPE||!1,Lt=t.FORCE_BODY||!1,zt=!1!==t.SANITIZE_DOM,Ct=t.SANITIZE_NAMED_PROPS||!1,Dt=!1!==t.KEEP_CONTENT,Rt=t.IN_PLACE||!1,pt=t.ALLOWED_URI_REGEXP||H,Vt=t.NAMESPACE||Gt,bt=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ie(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(bt.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),At&&(kt=!1),St&&(Ot=!0),Pt&&(gt=k({},[...N]),yt=[],!0===Pt.html&&(k(gt,A),k(yt,z)),!0===Pt.svg&&(k(gt,E),k(yt,C),k(yt,D)),!0===Pt.svgFilters&&(k(gt,$),k(yt,C),k(yt,D)),!0===Pt.mathMl&&(k(gt,O),k(yt,j),k(yt,D))),t.ADD_TAGS&&(gt===mt&&(gt=M(gt)),k(gt,t.ADD_TAGS,ee)),t.ADD_ATTR&&(yt===vt&&(yt=M(yt)),k(yt,t.ADD_ATTR,ee)),t.ADD_URI_SAFE_ATTR&&k(Bt,t.ADD_URI_SAFE_ATTR,ee),t.FORBID_CONTENTS&&(It===Ft&&(It=M(It)),k(It,t.FORBID_CONTENTS,ee)),Dt&&(gt["#text"]=!0),Et&&k(gt,["html","head","body"]),gt.table&&(k(gt,["tbody"]),delete xt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=t.TRUSTED_TYPES_POLICY,tt=Q.createHTML("")}else void 0===Q&&(Q=V(U,a)),null!==Q&&"string"==typeof tt&&(tt=Q.createHTML(""));o&&o(t),ne=t}},ae=k({},["mi","mo","mn","ms","mtext"]),se=k({},["foreignobject","desc","title","annotation-xml"]),le=k({},["title","style","font","a","script"]),ce=k({},E);k(ce,$),k(ce,L);const ue=k({},O);k(ue,S);const he=function(t){let e=J(t);e&&e.tagName||(e={namespaceURI:Vt,tagName:"template"});const n=d(t.tagName),r=d(e.tagName);return!!Kt[t.namespaceURI]&&(t.namespaceURI===qt?e.namespaceURI===Gt?"svg"===n:e.namespaceURI===Wt?"svg"===n&&("annotation-xml"===r||ae[r]):Boolean(ce[n]):t.namespaceURI===Wt?e.namespaceURI===Gt?"math"===n:e.namespaceURI===qt?"math"===n&&se[r]:Boolean(ue[n]):t.namespaceURI===Gt?!(e.namespaceURI===qt&&!se[r])&&!(e.namespaceURI===Wt&&!ae[r])&&!ue[n]&&(le[n]||!ce[n]):!("application/xhtml+xml"!==Jt||!Kt[t.namespaceURI]))},fe=function(t){f(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.remove()}},de=function(t,e){try{f(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!yt[t])if(Ot||St)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},pe=function(t){let e=null,n=null;if(Lt)t="<remove></remove>"+t;else{const e=g(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Jt&&Vt===Gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=Q?Q.createHTML(t):t;if(Vt===Gt)try{e=(new F).parseFromString(i,Jt)}catch(t){}if(!e||!e.documentElement){e=et.createDocument(Vt,"template",null);try{e.documentElement.innerHTML=Xt?tt:i}catch(t){}}const o=e.body||e.documentElement;return t&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),Vt===Gt?it.call(e,Et?"html":"body")[0]:Et?e.documentElement:o},ge=function(t){return nt.call(t.ownerDocument||t,t,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null)},me=function(t){return t instanceof I&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof P)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},ye=function(t){return"function"==typeof w&&t instanceof w},ve=function(t,e,r){at[t]&&u(at[t],(t=>{t.call(n,e,r,ne)}))},be=function(t){let e=null;if(ve("beforeSanitizeElements",t,null),me(t))return fe(t),!0;const r=ee(t.nodeName);if(ve("uponSanitizeElement",t,{tagName:r,allowedTags:gt}),t.hasChildNodes()&&!ye(t.firstElementChild)&&b(/<[/\w]/g,t.innerHTML)&&b(/<[/\w]/g,t.textContent))return fe(t),!0;if(!gt[r]||xt[r]){if(!xt[r]&&we(r)){if(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,r))return!1;if(bt.tagNameCheck instanceof Function&&bt.tagNameCheck(r))return!1}if(Dt&&!It[r]){const e=J(t)||t.parentNode,n=Z(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r)e.insertBefore(Y(n[r],!0),K(t))}return fe(t),!0}return t instanceof _&&!he(t)?(fe(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!b(/<\/no(script|embed|frames)/i,t.innerHTML)?(At&&3===t.nodeType&&(e=t.textContent,u([st,lt,ct],(t=>{e=m(e,t," ")})),t.textContent!==e&&(f(n.removed,{element:t.cloneNode()}),t.textContent=e)),ve("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if(zt&&("id"===e||"name"===e)&&(n in r||n in re))return!1;if(kt&&!wt[e]&&b(ut,e));else if(_t&&b(ht,e));else if(!yt[e]||wt[e]){if(!(we(t)&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,t)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(t))&&(bt.attributeNameCheck instanceof RegExp&&b(bt.attributeNameCheck,e)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(e))||"is"===e&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&b(bt.tagNameCheck,n)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(n))))return!1}else if(Bt[e]);else if(b(pt,m(n,dt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==y(n,"data:")||!Ut[t])if(Mt&&!b(ft,m(n,dt,"")));else if(n)return!1;return!0},we=function(t){return t.indexOf("-")>0},_e=function(t){ve("beforeSanitizeAttributes",t,null);const{attributes:e}=t;if(!e)return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};let i=e.length;for(;i--;){const o=e[i],{name:a,namespaceURI:s,value:l}=o,c=ee(a);let f="value"===a?l:v(l);if(r.attrName=c,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,ve("uponSanitizeAttribute",t,r),f=r.attrValue,r.forceKeepAttr)continue;if(de(a,t),!r.keepAttr)continue;if(!Tt&&b(/\/>/i,f)){de(a,t);continue}At&&u([st,lt,ct],(t=>{f=m(f,t," ")}));const d=ee(t.nodeName);if(xe(d,c,f)){if(!Ct||"id"!==c&&"name"!==c||(de(a,t),f=jt+f),Q&&"object"==typeof U&&"function"==typeof U.getAttributeType)if(s);else switch(U.getAttributeType(d,c)){case"TrustedHTML":f=Q.createHTML(f);break;case"TrustedScriptURL":f=Q.createScriptURL(f)}try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),h(n.removed)}catch(t){}}}ve("afterSanitizeAttributes",t,null)},ke=function t(e){let n=null;const r=ge(e);for(ve("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)ve("uponSanitizeShadowNode",n,null),be(n)||(n.content instanceof l&&t(n.content),_e(n));ve("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,s=null;if(Xt=!t,Xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!ye(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!n.isSupported)return t;if($t||oe(e),n.removed=[],"string"==typeof t&&(Rt=!1),Rt){if(t.nodeName){const e=ee(t.nodeName);if(!gt[e]||xt[e])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof w)r=pe("\x3c!----\x3e"),o=r.ownerDocument.importNode(t,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!Ot&&!At&&!Et&&-1===t.indexOf("<"))return Q&&Nt?Q.createHTML(t):t;if(r=pe(t),!r)return Ot?null:Nt?tt:""}r&&Lt&&fe(r.firstChild);const c=ge(Rt?t:r);for(;a=c.nextNode();)be(a)||(a.content instanceof l&&ke(a.content),_e(a));if(Rt)return t;if(Ot){if(St)for(s=rt.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return(yt.shadowroot||yt.shadowrootmode)&&(s=ot.call(i,s,!0)),s}let h=Et?r.outerHTML:r.innerHTML;return Et&&gt["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&b(W,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),At&&u([st,lt,ct],(t=>{h=m(h,t," ")})),Q&&Nt?Q.createHTML(h):h},n.setConfig=function(){oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),$t=!0},n.clearConfig=function(){ne=null,$t=!1},n.isValidAttribute=function(t,e,n){ne||oe({});const r=ee(t),i=ee(e);return xe(r,i,n)},n.addHook=function(t,e){"function"==typeof e&&(at[t]=at[t]||[],f(at[t],e))},n.removeHook=function(t){if(at[t])return h(at[t])},n.removeHooks=function(t){at[t]&&(at[t]=[])},n.removeAllHooks=function(){at={}},n}var K=X();return K}()),ef.exports}var rf=Co(window.DOMPurify||(window.DOMPurify=nf().default||nf()));const of=function(t,e){let{maxsize:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Map;return{get:function(i){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&1===r.size)return r.values().next().value;const o=t(i);if(r.has(o))return r.get(o);const a=e(i);return n&&r.size>=n&&(r=new Map),r.set(o,a),a}}},af=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"].sort(),sf=1e5,lf=of((t=>t.version),(t=>(t.addHook("afterSanitizeElements",(function(t){var e;if("a"===t.nodeName.toLowerCase()){"_self"!==t.getAttribute("target")&&t.setAttribute("target","_blank");const n=null===(e=t.getAttribute("rel"))||void 0===e?void 0:e.includes("noreferrer");t.setAttribute("rel","nofollow noopener"+(n?" noreferrer":""))}})),of((t=>String(t)),(e=>{const n={ALLOWED_TAGS:void 0===e?af:"string"==typeof e?e.toLowerCase().slice(1,-1).split("><"):e,ADD_ATTR:["target"],FORCE_BODY:!0};return of((t=>t),(e=>t.sanitize(e,n)),{maxsize:sf})}),{maxsize:sf}))));function cf(t,e){return function(t){return function(e,n){return e?lf.get(t,!0).get(n).get(e):e}}(rf)(t,e)}function uf(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return t;const r=Array.isArray(e)?e:e.split(".");let i=t;for(let t=0;t<r.length&&null!=i;t++)i=i[r[t]];return null==i?n:i}var hf=Gl,ff=function(){try{var t=hf(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),df=ff;var pf=function(t,e,n){"__proto__"==e&&df?df(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},gf=pf,mf=ll,yf=Object.prototype.hasOwnProperty;var vf=function(t,e,n){var r=t[e];yf.call(t,e)&&mf(r,n)&&(void 0!==n||e in t)||gf(t,e,n)},bf=Fa,xf=ua,wf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_f=/^\w*$/;var kf=function(t,e){if(bf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!xf(t))||(_f.test(t)||!wf.test(t)||null!=e&&t in Object(e))},Mf=Ac;function Tf(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Tf.Cache||Mf),n}Tf.Cache=Mf;var Af=Tf;var Ef=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$f=/\\(\\)?/g,Lf=function(t){var e=Af(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ef,(function(t,n,r,i){e.push(r?i.replace($f,"$1"):n||t)})),e})),Of=Lf;var Sf=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},Nf=Sf,zf=Fa,Cf=ua,jf=Xo?Xo.prototype:void 0,Df=jf?jf.toString:void 0;var Rf=function t(e){if("string"==typeof e)return e;if(zf(e))return Nf(e,t)+"";if(Cf(e))return Df?Df.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n},Pf=Rf;var If=function(t){return null==t?"":Pf(t)},Ff=Fa,Uf=kf,Hf=Of,Bf=If;var Yf=function(t,e){return Ff(t)?t:Uf(t,e)?[t]:Hf(Bf(t))},Wf=ua;var qf=function(t){if("string"==typeof t||Wf(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};function Gf(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var Vf=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Xf}(t)}(t)};var Xf="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Kf(t,e){return!1!==e.clone&&e.isMergeableObject(t)?ed((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function Zf(t,e,n){return t.concat(e).map((function(t){return Kf(t,n)}))}function Jf(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function Qf(t,e){try{return e in t}catch(t){return!1}}function td(t,e,n){var r={};return n.isMergeableObject(t)&&Jf(t).forEach((function(e){r[e]=Kf(t[e],n)})),Jf(e).forEach((function(i){(function(t,e){return Qf(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(Qf(t,i)&&n.isMergeableObject(e[i])?r[i]=function(t,e){if(!e.customMerge)return ed;var n=e.customMerge(t);return"function"==typeof n?n:ed}(i,n)(t[i],e[i],n):r[i]=Kf(e[i],n))})),r}function ed(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||Zf,n.isMergeableObject=n.isMergeableObject||Vf,n.cloneUnlessOtherwiseSpecified=Kf;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):td(t,e,n):Kf(e,n)}ed.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return ed(t,n,e)}),{})};var nd=Co(ed),rd=Rc,id=nh;var od=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var h=new rd;if(r)var f=r(c,u,l,t,e,h);if(!(void 0===f?id(u,c,3,r,h):f))return!1}}return!0},ad=Ro;var sd=function(t){return t==t&&!ad(t)},ld=sd,cd=Os;var ud=function(t){for(var e=cd(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ld(i)]}return e};var hd=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},fd=od,dd=ud,pd=hd;var gd=function(t){var e=dd(t);return 1==e.length&&e[0][2]?pd(e[0][0],e[0][1]):function(n){return n===t||fd(n,t,e)}},md=Yf,yd=qf;var vd=function(t,e){for(var n=0,r=(e=md(e,t)).length;null!=t&&n<r;)t=t[yd(e[n++])];return n&&n==r?t:void 0},bd=vd;var xd=function(t,e,n){var r=null==t?void 0:bd(t,e);return void 0===r?n:r};var wd=function(t,e){return null!=t&&e in Object(t)},_d=Yf,kd=Ia,Md=Fa,Td=Wa,Ad=qa,Ed=qf;var $d=function(t,e,n){for(var r=-1,i=(e=_d(e,t)).length,o=!1;++r<i;){var a=Ed(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ad(i)&&Td(a,i)&&(Md(t)||kd(t))},Ld=wd,Od=$d;var Sd=function(t,e){return null!=t&&Od(t,e,Ld)},Nd=nh,zd=xd,Cd=Sd,jd=kf,Dd=sd,Rd=hd,Pd=qf;var Id=function(t,e){return jd(t)&&Dd(e)?Rd(Pd(t),e):function(n){var r=zd(n,t);return void 0===r&&r===e?Cd(n,t):Nd(e,r,3)}};var Fd=function(t){return function(e){return null==e?void 0:e[t]}},Ud=vd;var Hd=function(t){return function(e){return Ud(e,t)}},Bd=Fd,Yd=Hd,Wd=kf,qd=qf;var Gd=gd,Vd=Id,Xd=Ds,Kd=Fa,Zd=function(t){return Wd(t)?Bd(qd(t)):Yd(t)};var Jd=function(t){return"function"==typeof t?t:null==t?Xd:"object"==typeof t?Kd(t)?Vd(t[0],t[1]):Gd(t):Zd(t)},Qd=ll,tp=As,ep=Wa,np=Ro;var rp=function(t,e,n){if(!np(n))return!1;var r=typeof e;return!!("number"==r?tp(n)&&ep(e,n.length):"string"==r&&e in n)&&Qd(n[e],t)},ip=Object.prototype.hasOwnProperty;var op=function(t,e){return null!=t&&ip.call(t,e)},ap=op,sp=$d;var lp=function(t,e){return null!=t&&sp(t,e,ap)},cp=Co(lp);function up(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}var hp=4.7421875,fp=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function dp(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0===i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*dp(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,a=o*t,s=a*t,l=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*a)-571/(2488320*s)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=fp[0];for(var c=1;c<fp.length;++c)n+=fp[c]/(t+c);return e=t+hp+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}var pp=1/3;var gp=Object.freeze({__proto__:null,add:function(t,e){return Number(t)+Number(e)},sub:function(t,e){return t-e},mul:function(t,e){return t*e},div:function(t,e){return t/e},mod:function(t,e){return t%e},concat:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e},equal:function(t,e){return t===e},notEqual:function(t,e){return t!==e},greaterThan:function(t,e){return t>e},lessThan:function(t,e){return t<e},greaterThanEqual:function(t,e){return t>=e},lessThanEqual:function(t,e){return t<=e},andOperator:function(t,e){return Boolean(t&&e)},orOperator:function(t,e){return Boolean(t||e)},inOperator:function(t,e){return up(e,t)},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},tanh:function(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},asinh:function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},atanh:function(t){return Math.log((1+t)/(1-t))/2},log10:function(t){return Math.log(t)*Math.LOG10E},neg:function(t){return-t},not:function(t){return!t},trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)},random:function(t){return Math.random()*(t||1)},factorial:function(t){return dp(t+1)},gamma:dp,stringOrArrayLength:function(t){return Array.isArray(t)?t.length:String(t).length},hypot:function(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r,i=Math.abs(arguments[n]);e<i?(t=t*(r=e/i)*r+1,e=i):t+=i>0?(r=i/e)*r:i}return e===1/0?1/0:e*Math.sqrt(t)},condition:function(t,e,n){return t?e:n},roundTo:function(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))},setVar:function(t,e,n){return n&&(n[t]=e),e},arrayIndex:function(t,e){return t[0|e]},max:function(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)},min:function(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)},arrayMap:function(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))},arrayFold:function(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)},arrayFilter:function(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))},stringOrArrayIndexOf:function(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)},arrayJoin:function(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)},sign:function(t){return(t>0)-(t<0)||+t},cbrt:function(t){return t<0?-Math.pow(-t,pp):Math.pow(t,pp)},expm1:function(t){return Math.exp(t)-1},log1p:function(t){return Math.log(1+t)},log2:function(t){return Math.log(t)/Math.LN2},sum:function(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}}),mp="INUMBER",yp="IOP1",vp="IOP2",bp="IOP3",xp="IVAR",wp="IVARNAME",_p="IFUNCALL",kp="IFUNDEF",Mp="IEXPR",Tp="IEXPREVAL",Ap="IMEMBER",Ep="IENDSTATEMENT",$p="IARRAY";function Lp(t,e){this.type=t,this.value=null!=e?e:0}function Op(t){return new Lp(yp,t)}function Sp(t){return new Lp(vp,t)}function Np(t,e,n){var r,i,o,a,s,l,c=[];if(Cp(t))return jp(t,n);for(var u=t.length,h=0;h<u;h++){var f=t[h],d=f.type;if(d===mp||d===wp)c.push(f.value);else if(d===vp)i=c.pop(),r=c.pop(),"and"===f.value?c.push(!!r&&!!Np(i,e,n)):"or"===f.value?c.push(!!r||!!Np(i,e,n)):"="===f.value?(a=e.binaryOps[f.value],c.push(a(r,Np(i,e,n),n))):(a=e.binaryOps[f.value],c.push(a(jp(r,n),jp(i,n))));else if(d===bp)o=c.pop(),i=c.pop(),r=c.pop(),"?"===f.value?c.push(Np(r?i:o,e,n)):(a=e.ternaryOps[f.value],c.push(a(jp(r,n),jp(i,n),jp(o,n))));else if(d===xp){if(/^__proto__|prototype|constructor$/.test(f.value))throw new Error("prototype access detected");if(f.value in e.functions)c.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))c.push(e.unaryOps[f.value]);else{var p=n[f.value];if(void 0===p)throw new Error("undefined variable: "+f.value);c.push(p)}}else if(d===yp)r=c.pop(),a=e.unaryOps[f.value],c.push(a(jp(r,n)));else if(d===_p){for(l=f.value,s=[];l-- >0;)s.unshift(jp(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,s))}else if(d===kp)c.push(function(){for(var t=c.pop(),r=[],i=f.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=Object.assign({},n),o=0,a=r.length;o<a;o++)i[r[o]]=arguments[o];return Np(t,e,i)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(d===Mp)c.push(zp(f,e));else if(d===Tp)c.push(f);else if(d===Ap)r=c.pop(),c.push(r[f.value]);else if(d===Ep)c.pop();else{if(d!==$p)throw new Error("invalid Expression");for(l=f.value,s=[];l-- >0;)s.unshift(c.pop());c.push(s)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:jp(c[0],n)}function zp(t,e,n){return Cp(t)?t:{type:Tp,value:function(n){return Np(t.value,e,n)}}}function Cp(t){return t&&t.type===Tp}function jp(t,e){return Cp(t)?t.value(e):t}Lp.prototype.toString=function(){switch(this.type){case mp:case yp:case vp:case bp:case xp:case wp:case Ep:return this.value;case _p:return"CALL "+this.value;case kp:return"DEF "+this.value;case $p:return"ARRAY "+this.value;case Ap:return"."+this.value;default:return"Invalid Instruction"}};var Dp="TEOF",Rp="TOP",Pp="TNUMBER",Ip="TSTRING",Fp="TPAREN",Up="TBRACKET",Hp="TCOMMA",Bp="TNAME",Yp="TSEMICOLON";function Wp(t,e,n){this.type=t,this.value=e,this.index=n}function qp(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Wp.prototype.toString=function(){return this.type+": "+this.value},qp.prototype.newToken=function(t,e,n){return new Wp(t,e,null!=n?n:this.pos)},qp.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},qp.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},qp.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Dp,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},qp.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(Ip,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},qp.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Fp,t),this.pos++,!0)},qp.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(Up,t),this.pos++,!0)},qp.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(Hp,","),this.pos++,!0)},qp.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Yp,";"),this.pos++,!0)},qp.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Pp,this.consts[r]),this.pos+=r.length,!0}return!1},qp.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Rp,r),this.pos+=r.length,!0}return!1},qp.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(Bp,i),this.pos+=i.length,!0}return!1},qp.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Gp=/^[0-9a-f]{4}$/i;function Vp(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess,this.restrictMemberAccess=new Set(n.restrictMemberAccess||[])}qp.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);Gp.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},qp.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},qp.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(Pp,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},qp.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var s=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!s||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,s=!1}else s=!1;n++}l||(n=i)}return e?(this.current=this.newToken(Pp,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},qp.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Rp,e);else if("∙"===e||"•"===e)this.current=this.newToken(Rp,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rp,">="),this.pos++):this.current=this.newToken(Rp,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rp,"<="),this.pos++):this.current=this.newToken(Rp,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Rp,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rp,"=="),this.pos++):this.current=this.newToken(Rp,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rp,"!="),this.pos++):this.current=this.newToken(Rp,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},qp.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},qp.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},qp.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},Vp.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},Vp.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?up(e,t.value):"function"==typeof e?e(t):t.value===e)},Vp.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},Vp.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},Vp.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},Vp.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},Vp.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Bp)||this.accept(Rp,(function(t){return t.value in e})))t.push(new Lp(xp,this.current.value));else if(this.accept(Pp))t.push(new Lp(mp,this.current.value));else if(this.accept(Ip))t.push(new Lp(mp,this.current.value));else if(this.accept(Fp,"("))this.parseExpression(t),this.expect(Fp,")");else{if(!this.accept(Up,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Up,"]"))t.push(new Lp($p,0));else{var n=this.parseArrayList(t);t.push(new Lp($p,n))}}},Vp.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},Vp.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},Vp.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(Yp)&&(!this.nextToken||this.nextToken.type===Dp||this.nextToken.type===Fp&&")"===this.nextToken.value||e.push(new Lp(Ep)),this.nextToken.type!==Dp&&this.parseExpression(e),t.push(new Lp(Mp,e)),!0)},Vp.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Up,"]");)for(this.parseExpression(t),++e;this.accept(Hp);)this.parseExpression(t),++e;return e},Vp.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Rp,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==_p){if(e.type!==xp&&e.type!==Ap)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Lp(wp,e.value)),t.push(new Lp(Mp,n)),t.push(Sp("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===xp&&(t[a]=new Lp(wp,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new Lp(Mp,n)),t.push(new Lp(kp,e.value))}}},Vp.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Rp,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Rp,":"),this.parseConditionalExpression(n),t.push(new Lp(Mp,e)),t.push(new Lp(Mp,n)),t.push(new Lp(bp,"?"))}},Vp.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Rp,"or");){var e=[];this.parseAndExpression(e),t.push(new Lp(Mp,e)),t.push(Sp("or"))}},Vp.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Rp,"and");){var e=[];this.parseComparison(e),t.push(new Lp(Mp,e)),t.push(Sp("and"))}};var Xp=["==","!=","<","<=",">=",">","in"];Vp.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Rp,Xp);){var e=this.current;this.parseAddSub(t),t.push(Sp(e.value))}};var Kp=["+","-","||"];Vp.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Rp,Kp);){var e=this.current;this.parseTerm(t),t.push(Sp(e.value))}};var Zp=["*","/","%"];Vp.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Rp,Zp);){var e=this.current;this.parseFactor(t),t.push(Sp(e.value))}},Vp.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Rp,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Fp&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===Yp||this.nextToken.type===Hp||this.nextToken.type===Dp||this.nextToken.type===Fp&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(Op(n.value))}else this.parseExponential(t)},Vp.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Rp,"^");)this.parseFactor(t),t.push(Sp("^"))},Vp.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Rp,"!");)t.push(Op("!"))},Vp.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Rp,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(Op(n.value))}else for(this.parseMemberExpression(t);this.accept(Fp,"(");)if(this.accept(Fp,")"))t.push(new Lp(_p,0));else{var r=this.parseArgumentList(t);t.push(new Lp(_p,r))}},Vp.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Fp,")");)for(this.parseExpression(t),++e;this.accept(Hp);)this.parseExpression(t),++e;return e},Vp.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Rp,".")||this.accept(Up,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(Bp),t.push(new Lp(Ap,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Up,"]"),t.push(Sp("["))}}};const{add:Jp,sub:Qp,mul:tg,div:eg,mod:ng,equal:rg,notEqual:ig,greaterThan:og,lessThan:ag,greaterThanEqual:sg,lessThanEqual:lg,andOperator:cg,orOperator:ug,log10:hg,neg:fg,not:dg,trunc:pg,random:gg,stringOrArrayLength:mg,condition:yg,roundTo:vg,arrayIndex:bg,max:xg,min:wg,sum:_g,arrayMap:kg,arrayFold:Mg,arrayFilter:Tg,sign:Ag,log1p:Eg,log2:$g}=gp;function Lg(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Og(t){return t.trim()}Lg.prototype.evaluate=function(t){return t=t||{},Np(this.tokens,this,t)},Lg.prototype.variables=function(){return(this.tokens||[]).filter((t=>"IVAR"===t.type)).map((t=>t.value))};const Sg=new Set(["__proto__","prototype","constructor"]);function Ng(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||$g,LN:Math.log,LOG10:Math.log10||hg,LG:Math.log10||hg,LOG1P:Math.log1p||Eg,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:t=>null===t,TRUNC:Math.trunc||pg,"-":fg,"+":Number,EXP:Math.exp,NOT:dg,LENGTH:mg,"!":dg,SIGN:Math.sign||Ag,TEXT:t=>e(t)?t.toISOString():String(t),NUMBER:Number},this.binaryOps={"+":Jp,"-":Qp,"*":tg,"/":eg,"%":ng,"^":Math.pow,"==":rg,"!=":ig,">":og,"<":ag,">=":sg,"<=":lg,and:cg,or:ug,in:(t,e)=>Array.isArray(e)?e.includes(t):String(e).includes(t),"[":bg},this.ternaryOps={"?":yg};const e=t=>t instanceof Date&&!isNaN(t),n=t=>{if(e(t))return t;try{const n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((t=>!isNaN(t)&&Number.isFinite(t)))}let i=/\w*/g,o=/\w\S*/g;const a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:yg,RANDOM:gg,MIN(){const t=r.apply(this,arguments);return wg(t)},MAX(){return xg(r.apply(this,arguments))},SUM(){return _g(r.apply(this,arguments))},MEAN(){const t=r.apply(this,arguments);return _g(t)/t.length},MEDIAN(){const t=r.apply(this,arguments).sort(((t,e)=>t-e)),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:vg,CONCAT(){return Array.from(arguments).join("")},TRIM:Og,SUBSTR:(t,e,n)=>t.substr(e,n),REPLACE:(t,e,n)=>t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n),REPLACE_REGEX:(t,e,n)=>t.replace(new RegExp(e,"g"),n),SPLIT:(t,e)=>String(t).split(e),LOWER:t=>String(t).toLowerCase(),UPPER:t=>String(t).toUpperCase(),PROPER:t=>String(t).replace(i,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),TITLE:t=>String(t).replace(o,(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())),SORT(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Sg.has(n))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort(((t,r)=>((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)))},SLICE(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:kg,FOLD:Mg,FILTER:Tg,PLUCK(t,e){if(Sg.has(e))throw new Error("Invalid key");if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((t=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:null))},INDEXOF:(t,e)=>(Array.isArray(t)||(t=String(t)),t.indexOf(e)),FIND(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");const n=t.length;for(let r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");const n=t.length;let r=!0;for(let i=0;i<n;i++)if(r=r&&e(t[i]),!r)return!1;return!0},SOME(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");const n=t.length;let r=!1;for(let i=0;i<n;i++)if(r=r||e(t[i]),r)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:t=>(t=n(t))?t.getFullYear():null,MONTH:t=>(t=n(t))?t.getMonth()+1:null,DAY:t=>(t=n(t))?t.getDate():null,WEEKDAY:t=>(t=n(t))?t.getDay():null,HOURS:t=>(t=n(t))?t.getHours():null,MINUTES:t=>(t=n(t))?t.getMinutes():null,SECONDS:t=>(t=n(t))?t.getSeconds():null,DATEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null),TIMEDIFF:(t,e)=>(t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Ng.prototype.parse=function(t){var e=[],n=new Vp(this,new qp(this,t),{allowMemberAccess:!0,restrictMemberAccess:Sg});return n.parseExpression(e),n.expect(Dp,"EOF"),new Lg(e,this)},Ng.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var zg=new Ng;Ng.parse=function(t){return zg.parse(t)},Ng.evaluate=function(t,e){return zg.parse(t).evaluate(e)},Ng.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var Cg={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};Ng.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(Cg,t)?Cg[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const jg="%UNDEFINED%",Dg={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:t=>Rg(t),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:t=>Rg(t)},lineHeight:{prop:"line-height",tsf:t=>{return(e=t)===jg?e:e>3?"".concat(e,"px"):String(e);var e}},underlined:{prop:"text-decoration",tsf:t=>t?"underline":"none"},cursive:{prop:"font-style",tsf:t=>t?"italic":"normal"}};function Rg(t){return t===jg?t:Number.isFinite(t)?"".concat(t,"px"):t}function Pg(t,e,n){if(2===t.version){for(const n of["chart","bodyCenter","bodyTop","body"])if(cp(t,["blocks",n,"styles","typography",e]))return uf(t,["blocks",n,"styles","typography",e]);return n}return uf(t,"typography.chart.".concat(e),n)}const Ig=864e5,Fg=30*Ig,Ug=365*Ig;const Hg=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function Bg(t,e){const n=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;if(void 0===e||isNaN(e)||null===e)return{prefix:"",number:""};let o=n.format||"0.[00]";const a=n.multiply||1,s=n.prepend||"",l=n.append||"",c=null!==(r=n.minusChar)&&void 0!==r?r:"−",u=null!==(i=n.plusMinusChar)&&void 0!==i?i:"±";o.includes("%")&&Number.isFinite(e)&&(e*=.01),e*=a;const h=o.indexOf("(")>-1,f=!h&&o.indexOf("|")>-1,d=o.indexOf(";")>-1;o=o.replace(/;/g,",").replace(/\|/g,"");let p=t(h?e:Math.abs(e)).format(o);if(d){const n=t.options.currentLocale,r=t.locales[n].delimiters.thousands,i=o.includes("%")?e/.01:e;p=Math.abs(i)<1e4?p.replace(r,""):p}return s&&!h&&!f&&e<0&&Hg.has(s.trim().toLowerCase())?{prefix:c,number:"".concat(s).concat(p.replace("+","")).concat(l)}:s&&(e>=0||f)&&Hg.has(s.trim().toLowerCase())&&o.includes("+")?{prefix:0===e?u:"+",number:"".concat(s).concat(p.replace("+","")).concat(l)}:0===e&&o.includes("+")?(p.includes("+"),{prefix:"".concat(s).concat(u),number:"".concat(p.replace("+","")).concat(l)}):e<0&&!h&&!f?{prefix:"".concat(s).concat(c),number:"".concat(p.replace("+","")).concat(l)}:o.includes("+")?{prefix:"".concat(s,"+"),number:"".concat(p.replace("+","")).concat(l)}:{prefix:"",number:"".concat(s).concat(p).concat(l)}}(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return"".concat(n.prefix).concat(n.number)}function Yg(t){return!ha(t)&&isFinite(t)&&!isNaN(parseFloat(t))}var Wg={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function qg(t,e,n,r){var i,o,a,s,l,c,u=[],h=[],f=[];return(o=t.split(" ")).forEach((function(t,e){var n=t.split("-"),r=e<o.length-1?" ":"";n.length>1?n.forEach((function(t,e){h.push(t+(e<n.length-1?"-":r))})):h.push(t+r)})),a=e||40,s=n||Math.max(3,Math.min(.5*a,.75*h.map((function(t){return t.length})).sort((function(t,e){return t-e}))[Math.round(h.length/2)])),l=a*Wg.a,c=s*Wg.a,i=0,h.forEach((function(t){var e=m(t.split("").map(d));return i+e>l&&i>c&&(u.push(f.join("")),f.length=0,i=0),i+=e,f.push(t)})),f.length&&u.push(f.join("")),u.filter((function(t){return""!==t}));function d(t){return!r&&Wg[t]||Wg.a}}function Gg(){}function Vg(t){return t()}function Xg(){return Object.create(null)}function Kg(t){t.forEach(Vg)}function Zg(t){return"function"==typeof t}function Jg(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function Qg(t){return Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(t)}function tm(t){var e=function(t,e){if("object"!==Qg(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qg(e)?e:String(e)}function em(t,e,n){return(e=tm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const nm="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function rm(t,e){t.appendChild(e)}function im(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){const t=lm("style");t.id=e,t.textContent=n,function(t,e){rm(t.head||t,e),e.sheet}(r,t)}}function om(t,e,n){t.insertBefore(e,n||null)}function am(t){t.parentNode&&t.parentNode.removeChild(t)}function sm(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function lm(t){return document.createElement(t)}function cm(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function um(t){return document.createTextNode(t)}function hm(){return um(" ")}function fm(){return um("")}function dm(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function pm(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function gm(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mm(t,e){e=""+e,t.data!==e&&(t.data=e)}function ym(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function vm(t,e,n){t.classList.toggle(e,!!n)}class bm{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];em(this,"is_svg",!1),em(this,"e",void 0),em(this,"n",void 0),em(this,"t",void 0),em(this,"a",void 0),this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=cm(e.nodeName):this.e=lm(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)om(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(am)}}let xm;function wm(t){xm=t}function _m(){if(!xm)throw new Error("Function called outside component initialization");return xm}function km(t){_m().$$.on_mount.push(t)}function Mm(t){_m().$$.after_update.push(t)}function Tm(){const t=_m();return function(e,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.$$.callbacks[e];if(i){const o=function(t,e){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return i.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function Am(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const Em=[],$m=[];let Lm=[];const Om=[],Sm=Promise.resolve();let Nm=!1;function zm(){Nm||(Nm=!0,Sm.then(Pm))}function Cm(t){Lm.push(t)}function jm(t){Om.push(t)}const Dm=new Set;let Rm=0;function Pm(){if(0!==Rm)return;const t=xm;do{try{for(;Rm<Em.length;){const t=Em[Rm];Rm++,wm(t),Im(t.$$)}}catch(t){throw Em.length=0,Rm=0,t}for(wm(null),Em.length=0,Rm=0;$m.length;)$m.pop()();for(let t=0;t<Lm.length;t+=1){const e=Lm[t];Dm.has(e)||(Dm.add(e),e())}Lm.length=0}while(Em.length);for(;Om.length;)Om.pop()();Nm=!1,Dm.clear(),wm(t)}function Im(t){if(null!==t.fragment){t.update(),Kg(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Cm)}}const Fm=new Set;let Um;function Hm(){Um={r:0,c:[],p:Um}}function Bm(){Um.r||Kg(Um.c),Um=Um.p}function Ym(t,e){t&&t.i&&(Fm.delete(t),t.i(e))}function Wm(t,e,n,r){if(t&&t.o){if(Fm.has(t))return;Fm.add(t),Um.c.push((()=>{Fm.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function qm(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function Gm(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Vm(t){t&&t.c()}function Xm(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Cm((()=>{const e=t.$$.on_mount.map(Vg).filter(Zg);t.$$.on_destroy?t.$$.on_destroy.push(...e):Kg(e),t.$$.on_mount=[]})),i.forEach(Cm)}function Km(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];Lm.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),Lm=e}(n.after_update),Kg(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zm(t,e,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=xm;wm(t);const c=t.$$={fragment:null,ctx:[],props:o,update:Gg,not_equal:i,bound:Xg(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Xg(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(function(e,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[e],c.ctx[e]=r)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](r),u&&function(t,e){-1===t.$$.dirty[0]&&(Em.push(t),zm(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],c.update(),u=!0,Kg(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(t),t.forEach(am)}else c.fragment&&c.fragment.c();e.intro&&Ym(t.$$.fragment),Xm(t,e.target,e.anchor),Pm()}wm(l)}class Jm{constructor(){em(this,"$$",void 0),em(this,"$$set",void 0)}$destroy(){Km(this,1),this.$destroy=Gg}$on(t,e){if(!Zg(e))return Gg;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Qm=Ta,ty=Ro;var ey=Co((function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return ty(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qm(t,e,{leading:r,maxWait:e,trailing:i})}));const{window:ny}=nm;function ry(t){im(t,"svelte-1f9s592",'.resize-controls.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{position:absolute;pointer-events:none}.height-resizer.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{margin-top:-10px;pointer-events:all;height:21px;cursor:ns-resize}.height-resizer.svelte-1f9s592 .height-resizer-inner.svelte-1f9s592.svelte-1f9s592{width:100%;border-top:1px solid transparent;top:calc(50% - 1.5px);position:relative;display:flex;justify-content:center}.height-resizer.svelte-1f9s592 .value-container.svelte-1f9s592.svelte-1f9s592{font-weight:bold;margin-top:8px;position:relative;color:rgb(255, 0, 221)}.height-resizer.svelte-1f9s592 .value-container.svelte-1f9s592>div.svelte-1f9s592{padding:0px 3px;border-radius:2px}.height-resizer.svelte-1f9s592 .value-container .value-background.svelte-1f9s592.svelte-1f9s592{color:transparent;opacity:0.85;position:absolute;z-index:10}.height-resizer.svelte-1f9s592 .value-container .value.svelte-1f9s592.svelte-1f9s592{position:relative;z-index:11}.height-resizer.svelte-1f9s592:hover .height-resizer-inner.svelte-1f9s592.svelte-1f9s592{border-top:1px solid rgba(255, 0, 221, 0.95)}.height-resizer-frame.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{top:0px;width:100%;height:100%;pointer-events:none;position:absolute;box-sizing:border-box;border:1px dotted transparent;background:transparent;transition:border-color 0.1s ease-in-out, background 0.1s ease-in-out}.resize-controls.resizing.svelte-1f9s592 .height-resizer-frame.svelte-1f9s592.svelte-1f9s592{border:1px dotted rgba(255, 0, 221, 0.425);background:rgba(255, 0, 221, 0.1)}.resize-controls.active.svelte-1f9s592 .height-resizer.svelte-1f9s592.svelte-1f9s592::before{content:"";position:absolute;left:calc(50% - 30px);right:calc(50% - 30px);bottom:-5px;height:4px;background:rgba(255, 0, 221, 0.4);border-radius:0 0 3px 3px;text-align:center;border-top:1px solid rgba(255, 0, 221, 0.25)}.resize-controls.active.svelte-1f9s592 .height-resizer.svelte-1f9s592.svelte-1f9s592:hover::before{background:rgba(255, 0, 221, 0.5);border-top:1px solid rgba(255, 0, 221, 0)}.hover-trigger.svelte-1f9s592.svelte-1f9s592.svelte-1f9s592{width:100%;height:100%;z-index:-100;pointer-events:all;position:relative}')}function iy(t){let e,n,r,i,o,a;return{c(){e=lm("div"),n=lm("div"),r=um(t[5]),i=hm(),o=lm("div"),a=um(t[5]),gm(n,"class","value-background svelte-1f9s592"),ym(n,"background",t[2]),gm(o,"class","value svelte-1f9s592"),gm(e,"class","value-container svelte-1f9s592")},m(t,s){om(t,e,s),rm(e,n),rm(n,r),rm(e,i),rm(e,o),rm(o,a)},p(t,e){32&e&&mm(r,t[5]),4&e&&ym(n,"background",t[2]),32&e&&mm(a,t[5])},d(t){t&&am(e)}}}function oy(t){let e,n,r,i,o,a,s,l,c,u="".concat(t[1].top,"px"),h="".concat(t[1].left,"px"),f="".concat(t[0].width,"px"),d="".concat(t[0].height,"px"),p=t[4]&&iy(t);return{c(){e=lm("div"),n=lm("div"),r=hm(),i=lm("div"),o=lm("div"),p&&p.c(),a=hm(),s=lm("div"),gm(n,"class","hover-trigger svelte-1f9s592"),gm(o,"class","height-resizer-inner svelte-1f9s592"),gm(i,"class","height-resizer svelte-1f9s592"),gm(s,"class","height-resizer-frame svelte-1f9s592"),gm(e,"class","resize-controls svelte-1f9s592"),vm(e,"active",t[3]||t[4]),vm(e,"resizing",t[4]),ym(e,"top",u),ym(e,"left",h),ym(e,"width",f),ym(e,"height",d)},m(u,h){om(u,e,h),rm(e,n),rm(e,r),rm(e,i),rm(i,o),p&&p.m(o,null),rm(e,a),rm(e,s),l||(c=[dm(ny,"mouseup",t[8]),dm(ny,"mousemove",t[7]),dm(i,"mousedown",t[6])],l=!0)},p(t,n){let[r]=n;t[4]?p?p.p(t,r):(p=iy(t),p.c(),p.m(o,null)):p&&(p.d(1),p=null),24&r&&vm(e,"active",t[3]||t[4]),16&r&&vm(e,"resizing",t[4]),2&r&&u!==(u="".concat(t[1].top,"px"))&&ym(e,"top",u),2&r&&h!==(h="".concat(t[1].left,"px"))&&ym(e,"left",h),1&r&&f!==(f="".concat(t[0].width,"px"))&&ym(e,"width",f),1&r&&d!==(d="".concat(t[0].height,"px"))&&ym(e,"height",d)},i:Gg,o:Gg,d(t){t&&am(e),p&&p.d(),l=!1,Kg(c)}}}function ay(t,e,n){let r,i,o,{plotSize:a={width:0,height:0}}=e,{positionOffset:s={top:0,left:0}}=e,{plotHeightMode:l="fixed"}=e,{chartStore:c}=e,{outerContainer:u}=e,{throttleHeightUpdate:h=!1}=e,{minPlotHeight:f=10}=e,{onResizeStart:d}=e,{onResizeEnd:p}=e,{handleResize:g}=e,{backgroundColor:m="#ffffff"}=e,y=!1,v=!1;function b(t){const e="fixed"===l?t:+(t/a.width).toFixed(3),n="fixed"===l?"plotHeightFixed":"plotHeightRatio";null==c||c.setKey("metadata.visualize.".concat(n),e),g&&g(t)}return km((()=>{if(window.parent!==window)try{window.parent.addEventListener("mousemove",(()=>n(3,y=!1)))}catch(t){}})),t.$$set=t=>{"plotSize"in t&&n(0,a=t.plotSize),"positionOffset"in t&&n(1,s=t.positionOffset),"plotHeightMode"in t&&n(9,l=t.plotHeightMode),"chartStore"in t&&n(10,c=t.chartStore),"outerContainer"in t&&n(11,u=t.outerContainer),"throttleHeightUpdate"in t&&n(12,h=t.throttleHeightUpdate),"minPlotHeight"in t&&n(13,f=t.minPlotHeight),"onResizeStart"in t&&n(14,d=t.onResizeStart),"onResizeEnd"in t&&n(15,p=t.onResizeEnd),"handleResize"in t&&n(16,g=t.handleResize),"backgroundColor"in t&&n(2,m=t.backgroundColor)},t.$$.update=()=>{513&t.$$.dirty&&n(5,r=function(t,e){const n="fixed"===e?t.height:Math.round(100*t.height/t.width);return"".concat(n).concat("fixed"===e?"px":"%")}(a,l))},[a,s,m,y,v,r,function(t){d&&d(),n(4,v=!0),o=t.clientY,i=a.height,null==u||u.classList.add("resizing")},function(t){n(3,y=document.elementsFromPoint(t.x,t.y).some((t=>t.classList.contains("hover-trigger")||t.classList.contains("height-resizer")))),v&&(n(0,a.height=Math.round(Math.max(f,i+(t.clientY-o))),a),h?ey(b,h)(a.height):b(a.height))},function(){v&&(n(4,v=!1),null==u||u.classList.remove("resizing"),p&&p(a.height))},l,c,u,h,f,d,p,g]}class sy extends Jm{constructor(t){super(),Zm(this,t,ay,oy,Jg,{plotSize:0,positionOffset:1,plotHeightMode:9,chartStore:10,outerContainer:11,throttleHeightUpdate:12,minPlotHeight:13,onResizeStart:14,onResizeEnd:15,handleResize:16,backgroundColor:2},ry)}}var ly=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n};var cy=function(t){return function(e){return null==t?void 0:t[e]}},uy=cy({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),hy=If,fy=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dy=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var py=function(t){return(t=hy(t))&&t.replace(fy,uy).replace(dy,"")},gy=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var my=function(t){return t.match(gy)||[]},yy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var vy=function(t){return yy.test(t)},by="\\ud800-\\udfff",xy="\\u2700-\\u27bf",wy="a-z\\xdf-\\xf6\\xf8-\\xff",_y="A-Z\\xc0-\\xd6\\xd8-\\xde",ky="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",My="["+ky+"]",Ty="\\d+",Ay="["+xy+"]",Ey="["+wy+"]",$y="[^"+by+ky+Ty+xy+wy+_y+"]",Ly="(?:\\ud83c[\\udde6-\\uddff]){2}",Oy="[\\ud800-\\udbff][\\udc00-\\udfff]",Sy="["+_y+"]",Ny="(?:"+Ey+"|"+$y+")",zy="(?:"+Sy+"|"+$y+")",Cy="(?:['’](?:d|ll|m|re|s|t|ve))?",jy="(?:['’](?:D|LL|M|RE|S|T|VE))?",Dy="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ry="[\\ufe0e\\ufe0f]?",Py=Ry+Dy+("(?:\\u200d(?:"+["[^"+by+"]",Ly,Oy].join("|")+")"+Ry+Dy+")*"),Iy="(?:"+[Ay,Ly,Oy].join("|")+")"+Py,Fy=RegExp([Sy+"?"+Ey+"+"+Cy+"(?="+[My,Sy,"$"].join("|")+")",zy+"+"+jy+"(?="+[My,Sy+Ny,"$"].join("|")+")",Sy+"?"+Ny+"+"+Cy,Sy+"+"+jy,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ty,Iy].join("|"),"g");var Uy=function(t){return t.match(Fy)||[]},Hy=my,By=vy,Yy=If,Wy=Uy;var qy=function(t,e,n){return t=Yy(t),void 0===(e=n?void 0:e)?By(t)?Wy(t):Hy(t):t.match(e)||[]},Gy=ly,Vy=py,Xy=qy,Ky=RegExp("['’]","g");var Zy=function(t){return function(e){return Gy(Xy(Vy(e).replace(Ky,"")),t,"")}},Jy=Co(Zy((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}))),Qy=cy({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tv=If,ev=Qy,nv=/&(?:amp|lt|gt|quot|#39);/g,rv=RegExp(nv.source);var iv=function(t){return(t=tv(t))&&rv.test(t)?t.replace(nv,ev):t},ov=Co(iv);function av(t,e=void 0){return ov(cf(t,e)).replace(/&nbsp;/gm," ")}const sv="--zero-baseline--";function lv(t){switch(t){case"cardinal":return yo;case"step":return Oo;case"step-before":return So;case"step-after":return No;case"natural":return $o;case"basis":return po;case"catmull-rom":return bo;case"monotone-x":return To;default:return ao}}const cv={title:"",width:"style0",dash:"style0",bgStroke:!1,directLabel:!0,colorKey:!1,valueLabels:{enabled:!1,first:!0,last:!0,maxInnerLabels:0,showCircles:!0},symbols:{on:"both",enabled:!1,size:3.5,opacity:1,shape:"circle",style:"fill"},connectMissingPoints:!1};function uv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.fromEntries(t.map((t=>{const i=t.name();return[i,nd(hv(r),{...e[i]||{},...i in n?{color:n[i]}:{}})]})))}function hv(t){const e=uf(t,"vis.d3-lines.lines.defaultSettings",{});return nd(cv,e)}function fv(t){let{vis:e,svgChart:n,updateCallback:r,includeXValues:i,scales:o,axes:a,dataset:s,ordinalScale:l,cm:c,getPaletteColor:u,theme:h}=t;const f=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y1",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y2";return uo().curve(lv(e.get("interpolation"))).defined((function(e){return Yg(e[t])&&Yg(e[n])})).x((t=>o.x(t.x))).y0((e=>o.y(e[t]))).y1((t=>o.y(t[n])))},d=f(),p=f("clipY1","clipY2"),g=n.append("g.area-fills");r.add((function(){const t=uv(a.y,e.get("lines",{}),h),n=dv({scaleType:e.get("scale-y","linear"),customFills:e.get("custom-area-fills",[]),numberColumns:e.axes().y,dataset:s}).map(((n,r)=>{let o=[],c=[];const h=n.from===sv,f=n.to===sv,d=h?[0,0]:s.column(n.from).range(),p=f?[0,0]:s.column(n.to).range();let g=Math.min(d[0],p[0]);g-=.25*Math.abs(g);let m=Math.max(d[1],p[1]);m>0?m+=.25*Math.abs(m):m=Math.abs(.25*m);const y=e.featurePreviews()["connect-missing-points"]&&(!h&&t[n.from].connectMissingPoints||!f&&t[n.to].connectMissingPoints),v=y&&[n.from,n.to].some((t=>function(t){const e=t.slice();for(;e.length&&!Yg(e[0]);)e.shift();if(!e.length)return!1;for(;!Yg(e[e.length-1]);)e.pop();return e.some((t=>!Yg(t)))}(s.column(t).values()))),b=y&&v;s.eachRow((t=>{if(!i[t])return;const e=h?0:s.column(n.from).val(t),r=f?0:s.column(n.to).val(t),u=l?t:a.x.val(t);n.useMixedColors||b?(o.push({x:u,y1:e,y2:m,clipY1:r,clipY2:g}),c.push({x:u,y1:e,y2:g,clipY1:r,clipY2:m})):o.push({x:u,y1:e,y2:r})})),"text"!==a.x.type()&&(o=o.sort(((t,e)=>t.x>e.x?1:-1)),c=c.sort(((t,e)=>t.x>e.x?1:-1)));const x=(t,e,r)=>({color:t in n?u(n[t]):"#999999",opacity:n.opacity||.2,interpolation:n.interpolation,data:e,useMixedColors:n.useMixedColors,connectPoints:b,id:r}),w="area-".concat(Jy(n.from),"-").concat(Jy(n.to),"-").concat(r);return n.useMixedColors||b?[x("color",o,w),x(n.useMixedColors?"colorNegative":"color",c,n.useMixedColors?"".concat(w,"-negative"):"".concat(w,"-interpolated"))]:x("color",o,w)})).flat(2);g.selectAll("clipPath.area-fill-clip").data(n.filter((t=>t.useMixedColors||t.connectPoints))).join((t=>t.append("clipPath.area-fill-clip")),(t=>(t.select("path").remove(),t)),(t=>t.remove())).attr("id",(t=>"clip-".concat(t.id))).append("path").attr("d",(t=>{d.curve(lv(t.interpolation||e.get("interpolation")));const n=t.connectPoints?t.data.filter((t=>(Yg(t.clipY1)||t.clipY1)&&(Yg(t.clipY2)||t.clipY2))):t.data;return p(n)})),g.selectAll("path.area-fill").data(n).join((t=>t.append("path.area-fill")),(t=>t),(t=>t.remove())).attr("d",(t=>{d.curve(lv(t.interpolation||e.get("interpolation")));const n=t.connectPoints?t.data.filter((t=>(Yg(t.y1)||t.y1)&&(Yg(t.y2)||t.y2))):t.data;return d(n)})).style("fill",(t=>c(t.color))).style("opacity",(t=>t.opacity)).attr("clip-path",(t=>t.useMixedColors||t.connectPoints?"url(#clip-".concat(t.id,")"):null))}))}function dv(t){let{scaleType:e,customFills:n,numberColumns:r,dataset:i}=t;if(!n||!n.length)return[];let o=n.filter((t=>{const n=t.from===sv&&"log"!==e||i.hasColumn(t.from),r=t.to===sv&&"log"!==e||i.hasColumn(t.to);return n&&r}));return r.length>1?o:(o=o.filter((t=>gv(t))),o.length?o.slice(0,1):[])}function pv(t){let{scaleType:e,customFills:n,numberColumns:r,dataset:i}=t;return dv({scaleType:e,customFills:n,numberColumns:r,dataset:i}).filter((t=>gv(t))).length}function gv(t){return t.from===sv&&t.to!==sv||t.to===sv&&t.from!==sv}function mv(t,e){const n=t.chart().get("metadata.data.column-format",{})[e]||{};return{prepend:n["number-prepend"]||"",append:n["number-append"]||"",multiply:Math.pow(10,-n["number-divisor"]||0)}}var yv={arrow:"M-0.09424777960769379,0L0.09424777960769379,0L0.16964600329384882,-1.9472847904010973L0.5428672105403163,-1.9472847904010973L0,-3.141592653589793L-0.5428672105403163,-1.9472847904010973L-0.16964600329384882,-1.9472847904010973Z",circle:"M1,0A1,1,0,1,1,-1,0A1,1,0,1,1,1,0",cross:"M-1.1889981892818033,-0.3963327297606011L-0.3963327297606011,-0.3963327297606011L-0.3963327297606011,-1.1889981892818033L0.3963327297606011,-1.1889981892818033L0.3963327297606011,-0.3963327297606011L1.1889981892818033,-0.3963327297606011L1.1889981892818033,0.3963327297606011L0.3963327297606011,0.3963327297606011L0.3963327297606011,1.1889981892818033L-0.3963327297606011,1.1889981892818033L-0.3963327297606011,0.3963327297606011L-1.1889981892818033,0.3963327297606011Z",diamond:"M0,-1.2533021179752901L1.2533021179752901,0L0,1.2533021179752901L-1.2533021179752901,0Z",hexagon:"M0,-1.0995723403806665L0.9523860585677004,-0.5497861701903333L0.9523860585677004,0.5497861701903333L0,1.0995723403806665L-0.9523860585677004,0.5497861701903333L-0.9523860585677004,-0.5497861701903333L0,-1.0995723403806665Z",marker:"M0.004979896974227243,-3.3767473763342513C-0.5667419149948458,-3.3767473763342513,-1.0302899786713222,-2.913302192969097,-1.0302899786713222,-2.3414787254543126C-1.0302899786713222,-2.181335722756794,-0.993893619009957,-2.0294807089487485,-0.9288867346761991,-1.8942102462789254C-0.9252491808116011,-1.8865223925388308,0.004978672208616249,0,0.004978672208616249,0L0.9276240013312831,-1.8715643301319844C0.9996071505851586,-2.0124956594557375,1.0402473230885547,-2.1722393885640776,1.0402473230885547,-2.3414787254543126C1.0402473230885547,-2.9133034177347077,0.5768021397234003,-3.3767473763342513,0.004977447443005238,-3.3767473763342513M0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,-0.6211607006217187,-2.341477500688702A0.6211607006217187,0.6211607006217187,0,1,1,0.6211607006217187,-2.341477500688702",spike:"M-2,0L0,-3.141592653589793L2,0",square:"M-0.8862269254527579,-0.8862269254527579h1.7724538509055159v1.7724538509055159h-1.7724538509055159Z",star:"M0,-1.6728932614097094L0.3755879381022125,-0.5169524475509316L1.5910160373299558,-0.5169524475509316L0.6077140496138717,0.19745826439700848L0.9833019877160845,1.353399078255786L1.6653345369377348e-16,0.6389883663078462L-0.983301987716084,1.3533990782557863L-0.6077140496138715,0.19745826439700861L-1.591016037329956,-0.5169524475509313L-0.37558793810221275,-0.5169524475509315Z",triangleDown:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangleUp:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z",wye:"M0.4783075492868435,0.27615099233618934L0.4783075492868435,1.2327660909098763L-0.4783075492868435,1.2327660909098763L-0.4783075492868435,0.2761509923361892L-1.3067605262954114,-0.20215655695065426L-0.8284529770085678,-1.030609533959222L2.7755575615628914e-17,-0.5523019846723786L0.8284529770085678,-1.030609533959222L1.3067605262954114,-0.20215655695065426Z",triangle_down:"M0,1.555120301556214L1.3467736870885982,-0.777560150778107L-1.3467736870885982,-0.777560150778107Z",triangle_up:"M0,-1.555120301556214L1.3467736870885982,0.777560150778107L-1.3467736870885982,0.777560150778107Z"};function vv(t){return{style0:uf(t,"vis.d3-lines.lines.widths.style0",2),style1:uf(t,"vis.d3-lines.lines.widths.style1",3),style2:uf(t,"vis.d3-lines.lines.widths.style2",4),style3:uf(t,"vis.d3-lines.lines.widths.style3",1),invisible:0}}function bv(t){return uf(t,"vis.d3-lines.mobileBreakpoint",350)}function xv(t,e){const n=e?"lines":"area";return{standard:uf(t,"vis.d3-".concat(n,".rangePadding"),10),insideLabels:uf(t,"vis.d3-".concat(n,".rangePaddingInner"),50)}}function wv(t){return{top:0,bottom:0-uf(t,"vis.base.legend.rowSpacing",0)}}function _v(t){return t.symbols.enabled}function kv(t){const e=t.settings.symbols.on;return"every"===e?t.values.filter((t=>Yg(t.y))):"first"===e?[t.first]:"last"===e?[t.last]:"both"===e?[t.first,t.last]:[]}const Mv={circle:1,square:.89,diamond:1.25,triangleUp:1.4,triangleDown:1,cross:1.18,star:1.52,wye:1.5,hexagon:1.1};function Tv(t,e){let{symbols:n,width:r}=t;const{style:i,size:o,enabled:a}=n;if(!a)return 0;const s=vv(e),l=uf(e,"vis.d3-lines.symbols.outline"),c=l?l.width||1:0;return o+("hollow"===i?s[r]:c)/2}var Av={exports:{}};
/**
   * chroma.js - JavaScript library for color conversions
   *
   * Copyright (c) 2011-2019, Gregor Aisch
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * 1. Redistributions of source code must retain the above copyright notice, this
   * list of conditions and the following disclaimer.
   *
   * 2. Redistributions in binary form must reproduce the above copyright notice,
   * this list of conditions and the following disclaimer in the documentation
   * and/or other materials provided with the distribution.
   *
   * 3. The name Gregor Aisch may not be used to endorse or promote products
   * derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * -------------------------------------------------------
   *
   * chroma.js includes colors from colorbrewer2.org, which are released under
   * the following license:
   *
   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
   * and The Pennsylvania State University.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing,
   * software distributed under the License is distributed on an
   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
   * either express or implied. See the License for the specific
   * language governing permissions and limitations under the License.
   *
   * ------------------------------------------------------
   *
   * Named colors are taken from X11 Color Names.
   * http://www.w3.org/TR/css3-color/#svg-color
   *
   * @preserve
   */Av.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=t,n=function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},r={},i=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];i<o.length;i+=1){var a=o[i];r["[object "+a+"]"]=a.toLowerCase()}var s=function(t){return r[Object.prototype.toString.call(t)]||"object"},l=s,c=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==l(t[0])&&e?e.split("").filter((function(e){return void 0!==t[0][e]})).map((function(e){return t[0][e]})):t[0]},u=s,h=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==u(t[e])?t[e].toLowerCase():null},f=Math.PI,d={clip_rgb:n,limit:t,type:s,unpack:c,last:h,PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},p={format:{},autodetect:[]},g=d.last,m=d.clip_rgb,y=d.type,v=p,b=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===y(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=g(t),i=!1;if(!r){i=!0,v.sorted||(v.autodetect=v.autodetect.sort((function(t,e){return e.p-t.p})),v.sorted=!0);for(var o=0,a=v.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t))break}}if(!v.format[r])throw new Error("unknown format: "+t);var l=v.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=m(l),3===n._rgb.length&&n._rgb.push(1)};b.prototype.toString=function(){return"function"==y(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var x=b,w=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(w.Color,[null].concat(t)))};w.Color=x,w.version="2.4.2";var _=w,k=d.unpack,M=Math.max,T=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=k(t,"rgb"),r=n[0],i=n[1],o=n[2],a=1-M(r/=255,M(i/=255,o/=255)),s=a<1?1/(1-a):0;return[(1-r-a)*s,(1-i-a)*s,(1-o-a)*s,a]},A=T,E=d.unpack,$=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=E(t,"cmyk"))[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},L=$,O=_,S=x,N=p,z=d.unpack,C=d.type,j=A;S.prototype.cmyk=function(){return j(this._rgb)},O.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(S,[null].concat(t,["cmyk"])))},N.format.cmyk=L,N.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=z(t,"cmyk"),"array"===C(t)&&4===t.length)return"cmyk"}});var D=d.unpack,R=d.last,P=function(t){return Math.round(100*t)/100},I=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=D(t,"hsla"),r=R(t)||"lsa";return n[0]=P(n[0]||0),n[1]=P(100*n[1])+"%",n[2]=P(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},F=I,U=d.unpack,H=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=U(t,"rgba"))[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,c,t[3]]:[a,o,c]},B=H,Y=d.unpack,W=d.last,q=F,G=B,V=Math.round,X=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Y(t,"rgba"),r=W(t)||"rgb";return"hsl"==r.substr(0,3)?q(G(n),r):(n[0]=V(n[0]),n[1]=V(n[1]),n[2]=V(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},K=X,Z=d.unpack,J=Math.round,Q=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var r,i,o,a=(e=Z(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],h=l<.5?l*(1+s):l+s-l*s,f=2*l-h,d=a/360;c[0]=d+1/3,c[1]=d,c[2]=d-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?u[p]=f+6*(h-f)*c[p]:2*c[p]<1?u[p]=h:3*c[p]<2?u[p]=f+(h-f)*(2/3-c[p])*6:u[p]=f;r=(t=[J(255*u[0]),J(255*u[1]),J(255*u[2])])[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},tt=Q,et=tt,nt=p,rt=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,it=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ot=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,at=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,st=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,lt=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ct=Math.round,ut=function(t){var e;if(t=t.toLowerCase().trim(),nt.format.named)try{return nt.format.named(t)}catch(t){}if(e=t.match(rt)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(it)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(ot)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=ct(2.55*a[s]);return a[3]=1,a}if(e=t.match(at)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=ct(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(st)){var u=e.slice(1,4);u[1]*=.01,u[2]*=.01;var h=et(u);return h[3]=1,h}if(e=t.match(lt)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var d=et(f);return d[3]=+e[4],d}};ut.test=function(t){return rt.test(t)||it.test(t)||ot.test(t)||at.test(t)||st.test(t)||lt.test(t)};var ht=ut,ft=_,dt=x,pt=p,gt=d.type,mt=K,yt=ht;dt.prototype.css=function(t){return mt(this._rgb,t)},ft.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(dt,[null].concat(t,["css"])))},pt.format.css=yt,pt.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===gt(t)&&yt.test(t))return"css"}});var vt=x,bt=_,xt=p,wt=d.unpack;xt.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=wt(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},bt.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(vt,[null].concat(t,["gl"])))},vt.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var _t=d.unpack,kt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=_t(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,h=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,h]},Mt=kt,Tt=d.unpack,At=Math.floor,Et=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=Tt(a,"hcg"))[0],f=a[1],d=a[2];d*=255;var p=255*f;if(0===f)l=c=u=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=At(h/=60),m=h-g,y=d*(1-f),v=y+p*(1-m),b=y+p*m,x=y+p;switch(g){case 0:l=(t=[x,b,y])[0],c=t[1],u=t[2];break;case 1:l=(e=[v,x,y])[0],c=e[1],u=e[2];break;case 2:l=(n=[y,x,b])[0],c=n[1],u=n[2];break;case 3:l=(r=[y,v,x])[0],c=r[1],u=r[2];break;case 4:l=(i=[b,y,x])[0],c=i[1],u=i[2];break;case 5:l=(o=[x,y,v])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},$t=Et,Lt=d.unpack,Ot=d.type,St=_,Nt=x,zt=p,Ct=Mt;Nt.prototype.hcg=function(){return Ct(this._rgb)},St.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Nt,[null].concat(t,["hcg"])))},zt.format.hcg=$t,zt.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Lt(t,"hcg"),"array"===Ot(t)&&3===t.length)return"hcg"}});var jt=d.unpack,Dt=d.last,Rt=Math.round,Pt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=jt(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=Dt(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l="000000"+((r=Rt(r))<<16|(i=Rt(i))<<8|(o=Rt(o))).toString(16);l=l.substr(l.length-6);var c="0"+Rt(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},It=Pt,Ft=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ut=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ht=function(t){if(t.match(Ft)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(Ut)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},Bt=Ht,Yt=_,Wt=x,qt=d.type,Gt=p,Vt=It;Wt.prototype.hex=function(t){return Vt(this._rgb,t)},Yt.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Wt,[null].concat(t,["hex"])))},Gt.format.hex=Bt,Gt.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===qt(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var Xt=d.unpack,Kt=d.TWOPI,Zt=Math.min,Jt=Math.sqrt,Qt=Math.acos,te=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r=Xt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Zt(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=Jt((i-o)*(i-o)+(i-a)*(o-a)),n=Qt(n),a>o&&(n=Kt-n),n/=Kt),[360*n,c,l]},ee=te,ne=d.unpack,re=d.limit,ie=d.TWOPI,oe=d.PITHIRD,ae=Math.cos,se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=ne(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*ae(ie*o)/ae(oe-ie*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*ae(ie*(o-=1/3))/ae(oe-ie*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*ae(ie*(o-=2/3))/ae(oe-ie*o))/3)),[255*(n=re(s*n*3)),255*(r=re(s*r*3)),255*(i=re(s*i*3)),t.length>3?t[3]:1]},le=se,ce=d.unpack,ue=d.type,he=_,fe=x,de=p,pe=ee;fe.prototype.hsi=function(){return pe(this._rgb)},he.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(fe,[null].concat(t,["hsi"])))},de.format.hsi=le,de.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ce(t,"hsi"),"array"===ue(t)&&3===t.length)return"hsi"}});var ge=d.unpack,me=d.type,ye=_,ve=x,be=p,xe=B;ve.prototype.hsl=function(){return xe(this._rgb)},ye.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ve,[null].concat(t,["hsl"])))},be.format.hsl=tt,be.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ge(t,"hsl"),"array"===me(t)&&3===t.length)return"hsl"}});var we=d.unpack,_e=Math.min,ke=Math.max,Me=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=we(t,"rgb"))[0],a=t[1],s=t[2],l=_e(o,a,s),c=ke(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]},Te=Me,Ae=d.unpack,Ee=Math.floor,$e=function(){for(var t,e,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,h=(a=Ae(a,"hsv"))[0],f=a[1],d=a[2];if(d*=255,0===f)l=c=u=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var p=Ee(h/=60),g=h-p,m=d*(1-f),y=d*(1-f*g),v=d*(1-f*(1-g));switch(p){case 0:l=(t=[d,v,m])[0],c=t[1],u=t[2];break;case 1:l=(e=[y,d,m])[0],c=e[1],u=e[2];break;case 2:l=(n=[m,d,v])[0],c=n[1],u=n[2];break;case 3:l=(r=[m,y,d])[0],c=r[1],u=r[2];break;case 4:l=(i=[v,m,d])[0],c=i[1],u=i[2];break;case 5:l=(o=[d,m,y])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},Le=$e,Oe=d.unpack,Se=d.type,Ne=_,ze=x,Ce=p,je=Te;ze.prototype.hsv=function(){return je(this._rgb)},Ne.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(ze,[null].concat(t,["hsv"])))},Ce.format.hsv=Le,Ce.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Oe(t,"hsv"),"array"===Se(t)&&3===t.length)return"hsv"}});var De={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Re=De,Pe=d.unpack,Ie=Math.pow,Fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Pe(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Be(r,i,o),s=a[0],l=a[1],c=116*l-16;return[c<0?0:c,500*(s-l),200*(l-a[2])]},Ue=function(t){return(t/=255)<=.04045?t/12.92:Ie((t+.055)/1.055,2.4)},He=function(t){return t>Re.t3?Ie(t,1/3):t/Re.t2+Re.t0},Be=function(t,e,n){return t=Ue(t),e=Ue(e),n=Ue(n),[He((.4124564*t+.3575761*e+.1804375*n)/Re.Xn),He((.2126729*t+.7151522*e+.072175*n)/Re.Yn),He((.0193339*t+.119192*e+.9503041*n)/Re.Zn)]},Ye=Fe,We=De,qe=d.unpack,Ge=Math.pow,Ve=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,r,i,o=(t=qe(t,"lab"))[0],a=t[1],s=t[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=We.Yn*Ke(r),n=We.Xn*Ke(n),i=We.Zn*Ke(i),[Xe(3.2404542*n-1.5371385*r-.4985314*i),Xe(-.969266*n+1.8760108*r+.041556*i),Xe(.0556434*n-.2040259*r+1.0572252*i),t.length>3?t[3]:1]},Xe=function(t){return 255*(t<=.00304?12.92*t:1.055*Ge(t,1/2.4)-.055)},Ke=function(t){return t>We.t1?t*t*t:We.t2*(t-We.t0)},Ze=Ve,Je=d.unpack,Qe=d.type,tn=_,en=x,nn=p,rn=Ye;en.prototype.lab=function(){return rn(this._rgb)},tn.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(en,[null].concat(t,["lab"])))},nn.format.lab=Ze,nn.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Je(t,"lab"),"array"===Qe(t)&&3===t.length)return"lab"}});var on=d.unpack,an=d.RAD2DEG,sn=Math.sqrt,ln=Math.atan2,cn=Math.round,un=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=on(t,"lab"),r=n[0],i=n[1],o=n[2],a=sn(i*i+o*o),s=(ln(o,i)*an+360)%360;return 0===cn(1e4*a)&&(s=Number.NaN),[r,a,s]},hn=un,fn=d.unpack,dn=Ye,pn=hn,gn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=fn(t,"rgb"),r=n[0],i=n[1],o=n[2],a=dn(r,i,o),s=a[0],l=a[1],c=a[2];return pn(s,l,c)},mn=gn,yn=d.unpack,vn=d.DEG2RAD,bn=Math.sin,xn=Math.cos,wn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=yn(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,xn(o*=vn)*i,bn(o)*i]},_n=wn,kn=d.unpack,Mn=_n,Tn=Ze,An=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=kn(t,"lch"))[0],r=t[1],i=t[2],o=Mn(n,r,i),a=o[0],s=o[1],l=o[2],c=Tn(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},En=An,$n=d.unpack,Ln=En,On=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=$n(t,"hcl").reverse();return Ln.apply(void 0,n)},Sn=On,Nn=d.unpack,zn=d.type,Cn=_,jn=x,Dn=p,Rn=mn;jn.prototype.lch=function(){return Rn(this._rgb)},jn.prototype.hcl=function(){return Rn(this._rgb).reverse()},Cn.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["lch"])))},Cn.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(jn,[null].concat(t,["hcl"])))},Dn.format.lch=En,Dn.format.hcl=Sn,["lch","hcl"].forEach((function(t){return Dn.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=Nn(e,t),"array"===zn(e)&&3===e.length)return t}})}));var Pn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},In=x,Fn=p,Un=d.type,Hn=Pn,Bn=Bt,Yn=It;In.prototype.name=function(){for(var t=Yn(this._rgb,"rgb"),e=0,n=Object.keys(Hn);e<n.length;e+=1){var r=n[e];if(Hn[r]===t)return r.toLowerCase()}return t},Fn.format.named=function(t){if(t=t.toLowerCase(),Hn[t])return Bn(Hn[t]);throw new Error("unknown color name: "+t)},Fn.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===Un(t)&&Hn[t.toLowerCase()])return"named"}});var Wn=d.unpack,qn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Wn(t,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]},Gn=qn,Vn=d.type,Xn=function(t){if("number"==Vn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Kn=_,Zn=x,Jn=p,Qn=d.type,tr=Gn;Zn.prototype.num=function(){return tr(this._rgb)},Kn.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Zn,[null].concat(t,["num"])))},Jn.format.num=Xn,Jn.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===Qn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var er=_,nr=x,rr=p,ir=d.unpack,or=d.type,ar=Math.round;nr.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(ar)},nr.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(e,n){return n<3?!1===t?e:ar(e):e}))},er.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(nr,[null].concat(t,["rgb"])))},rr.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ir(t,"rgba");return void 0===n[3]&&(n[3]=1),n},rr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=ir(t,"rgba"),"array"===or(t)&&(3===t.length||4===t.length&&"number"==or(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var sr=Math.log,lr=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=i<6?0:-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*sr(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*sr(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*sr(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*sr(n),r=255),[e,n,r,1]},cr=lr,ur=d.unpack,hr=Math.round,fr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,r=ur(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=cr(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return hr(n)},dr=_,pr=x,gr=p,mr=fr;pr.prototype.temp=pr.prototype.kelvin=pr.prototype.temperature=function(){return mr(this._rgb)},dr.temp=dr.kelvin=dr.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(pr,[null].concat(t,["temp"])))},gr.format.temp=gr.format.kelvin=gr.format.temperature=lr;var yr=d.unpack,vr=Math.cbrt,br=Math.pow,xr=Math.sign,wr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=yr(t,"rgb"),r=n[0],i=n[1],o=n[2],a=[kr(r/255),kr(i/255),kr(o/255)],s=a[0],l=a[1],c=a[2],u=vr(.4122214708*s+.5363325363*l+.0514459929*c),h=vr(.2119034982*s+.6806995451*l+.1073969566*c),f=vr(.0883024619*s+.2817188376*l+.6299787005*c);return[.2104542553*u+.793617785*h-.0040720468*f,1.9779984951*u-2.428592205*h+.4505937099*f,.0259040371*u+.7827717662*h-.808675766*f]},_r=wr;function kr(t){var e=Math.abs(t);return e<.04045?t/12.92:(xr(t)||1)*br((e+.055)/1.055,2.4)}var Mr=d.unpack,Tr=Math.pow,Ar=Math.sign,Er=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Mr(t,"lab"))[0],r=t[1],i=t[2],o=Tr(n+.3963377774*r+.2158037573*i,3),a=Tr(n-.1055613458*r-.0638541728*i,3),s=Tr(n-.0894841775*r-1.291485548*i,3);return[255*Lr(4.0767416621*o-3.3077115913*a+.2309699292*s),255*Lr(-1.2684380046*o+2.6097574011*a-.3413193965*s),255*Lr(-.0041960863*o-.7034186147*a+1.707614701*s),t.length>3?t[3]:1]},$r=Er;function Lr(t){var e=Math.abs(t);return e>.0031308?(Ar(t)||1)*(1.055*Tr(e,1/2.4)-.055):12.92*t}var Or=d.unpack,Sr=d.type,Nr=_,zr=x,Cr=p,jr=_r;zr.prototype.oklab=function(){return jr(this._rgb)},Nr.oklab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(zr,[null].concat(t,["oklab"])))},Cr.format.oklab=$r,Cr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Or(t,"oklab"),"array"===Sr(t)&&3===t.length)return"oklab"}});var Dr=d.unpack,Rr=_r,Pr=hn,Ir=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Dr(t,"rgb"),r=n[0],i=n[1],o=n[2],a=Rr(r,i,o),s=a[0],l=a[1],c=a[2];return Pr(s,l,c)},Fr=Ir,Ur=d.unpack,Hr=_n,Br=$r,Yr=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=Ur(t,"lch"))[0],r=t[1],i=t[2],o=Hr(n,r,i),a=o[0],s=o[1],l=o[2],c=Br(a,s,l);return[c[0],c[1],c[2],t.length>3?t[3]:1]},Wr=Yr,qr=d.unpack,Gr=d.type,Vr=_,Xr=x,Kr=p,Zr=Fr;Xr.prototype.oklch=function(){return Zr(this._rgb)},Vr.oklch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(Xr,[null].concat(t,["oklch"])))},Kr.format.oklch=Wr,Kr.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=qr(t,"oklch"),"array"===Gr(t)&&3===t.length)return"oklch"}});var Jr=x,Qr=d.type;Jr.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Qr(t)?e?(this._rgb[3]=t,this):new Jr([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},x.prototype.clipped=function(){return this._rgb._clipped||!1};var ti=x,ei=De;ti.prototype.darken=function(t){void 0===t&&(t=1);var e=this,n=e.lab();return n[0]-=ei.Kn*t,new ti(n,"lab").alpha(e.alpha(),!0)},ti.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},ti.prototype.darker=ti.prototype.darken,ti.prototype.brighter=ti.prototype.brighten,x.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var ni=x,ri=d.type,ii=Math.pow,oi=1e-7,ai=20;ni.prototype.luminance=function(t){if(void 0!==t&&"number"===ri(t)){if(0===t)return new ni([0,0,0,this._rgb[3]],"rgb");if(1===t)return new ni([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=ai,i=function(e,o){var a=e.interpolate(o,.5,n),s=a.luminance();return Math.abs(t-s)<oi||!r--?a:s>t?i(e,a):i(a,o)},o=(e>t?i(new ni([0,0,0]),this):i(this,new ni([255,255,255]))).rgb();return new ni(o.concat([this._rgb[3]]))}return si.apply(void 0,this._rgb.slice(0,3))};var si=function(t,e,n){return.2126*(t=li(t))+.7152*(e=li(e))+.0722*(n=li(n))},li=function(t){return(t/=255)<=.03928?t/12.92:ii((t+.055)/1.055,2.4)},ci={},ui=x,hi=d.type,fi=ci,di=function(t,e,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(fi[o]||r.length||(o=Object.keys(fi)[0]),!fi[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==hi(t)&&(t=new ui(t)),"object"!==hi(e)&&(e=new ui(e)),fi[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))},pi=x,gi=di;pi.prototype.mix=pi.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return gi.apply(void 0,[this,t,e].concat(n))};var mi=x;mi.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new mi([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};var yi=x,vi=De;yi.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,n=e.lch();return n[1]+=vi.Kn*t,n[1]<0&&(n[1]=0),new yi(n,"lch").alpha(e.alpha(),!0)},yi.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var bi=x,xi=d.type;bi.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o)-("ok"===i.substr(0,2)?2:0);if(s>-1){if("string"==xi(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==xi(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new bi(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a};var wi=x,_i=function(t,e,n){var r=t._rgb,i=e._rgb;return new wi(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};ci.rgb=_i;var ki=x,Mi=Math.sqrt,Ti=Math.pow,Ai=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,l=s[0],c=s[1],u=s[2];return new ki(Mi(Ti(i,2)*(1-n)+Ti(l,2)*n),Mi(Ti(o,2)*(1-n)+Ti(c,2)*n),Mi(Ti(a,2)*(1-n)+Ti(u,2)*n),"rgb")};ci.lrgb=Ai;var Ei=x,$i=function(t,e,n){var r=t.lab(),i=e.lab();return new Ei(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};ci.lab=$i;var Li=x,Oi=function(t,e,n,r){var i,o,a,s,l,c,u,h,f,d,p,g,m;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"===r||"hcl"===r?(r="hcl",a=t.hcl(),s=e.hcl()):"oklch"===r&&(a=t.oklch().reverse(),s=e.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(l=(i=a)[0],u=i[1],f=i[2],c=(o=s)[0],h=o[1],d=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?g=Number.NaN:(g=c,1!=f&&0!=f||"hsv"==r||(p=h)):(g=l,1!=d&&0!=d||"hsv"==r||(p=u)):g=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===p&&(p=u+n*(h-u)),m=f+n*(d-f),new Li("oklch"===r?[m,p,g]:[g,p,m],r)},Si=Oi,Ni=function(t,e,n){return Si(t,e,n,"lch")};ci.lch=Ni,ci.hcl=Ni;var zi=x,Ci=function(t,e,n){var r=t.num(),i=e.num();return new zi(r+n*(i-r),"num")};ci.num=Ci;var ji=Oi,Di=function(t,e,n){return ji(t,e,n,"hcg")};ci.hcg=Di;var Ri=Oi,Pi=function(t,e,n){return Ri(t,e,n,"hsi")};ci.hsi=Pi;var Ii=Oi,Fi=function(t,e,n){return Ii(t,e,n,"hsl")};ci.hsl=Fi;var Ui=Oi,Hi=function(t,e,n){return Ui(t,e,n,"hsv")};ci.hsv=Hi;var Bi=x,Yi=function(t,e,n){var r=t.oklab(),i=e.oklab();return new Bi(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};ci.oklab=Yi;var Wi=Oi,qi=function(t,e,n){return Wi(t,e,n,"oklch")};ci.oklch=qi;var Gi=x,Vi=d.clip_rgb,Xi=Math.pow,Ki=Math.sqrt,Zi=Math.PI,Ji=Math.cos,Qi=Math.sin,to=Math.atan2,eo=function(t,e,n){void 0===e&&(e="lrgb"),void 0===n&&(n=null);var r=t.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(t,e){return t+e}));if(n.forEach((function(t,e){n[e]*=i})),t=t.map((function(t){return new Gi(t)})),"lrgb"===e)return no(t,n);for(var o=t.shift(),a=o.get(e),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===e.charAt(u)&&!isNaN(a[u])){var h=a[u]/180*Zi;l+=Ji(h)*n[0],c+=Qi(h)*n[0]}var f=o.alpha()*n[0];t.forEach((function(t,r){var i=t.get(e);f+=t.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===e.charAt(o)){var u=i[o]/180*Zi;l+=Ji(u)*n[r+1],c+=Qi(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var d=0;d<a.length;d++)if("h"===e.charAt(d)){for(var p=to(c/s[d],l/s[d])/Zi*180;p<0;)p+=360;for(;p>=360;)p-=360;a[d]=p}else a[d]=a[d]/s[d];return f/=r,new Gi(a,e).alpha(f>.99999?1:f,!0)},no=function(t,e){for(var n=t.length,r=[0,0,0,0],i=0;i<t.length;i++){var o=t[i],a=e[i]/n,s=o._rgb;r[0]+=Xi(s[0],2)*a,r[1]+=Xi(s[1],2)*a,r[2]+=Xi(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Ki(r[0]),r[1]=Ki(r[1]),r[2]=Ki(r[2]),r[3]>.9999999&&(r[3]=1),new Gi(Vi(r))},ro=_,io=d.type,oo=Math.pow,ao=function(t){var e="rgb",n=ro("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,h=1,f=!1,d={},p=!0,g=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===io(t)&&ro.brewer&&ro.brewer[t.toLowerCase()]&&(t=ro.brewer[t.toLowerCase()]),"array"===io(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=ro(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return w(),l=t},y=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0},v=function(t){return t},b=function(t){return t},x=function(t,r){var i,c;if(null==r&&(r=!1),isNaN(t)||null===t)return n;c=r?t:s&&s.length>2?y(t)/(s.length-2):h!==u?(t-u)/(h-u):1,c=b(c),r||(c=v(c)),1!==g&&(c=oo(c,g)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var f=Math.floor(1e4*c);if(p&&d[f])i=d[f];else{if("array"===io(l))for(var m=0;m<o.length;m++){var x=o[m];if(c<=x){i=l[m];break}if(c>=x&&m===o.length-1){i=l[m];break}if(c>x&&c<o[m+1]){c=(c-x)/(o[m+1]-x),i=ro.interpolate(l[m],l[m+1],c,e);break}}else"function"===io(l)&&(i=l(c));p&&(d[f]=i)}return i},w=function(){return d={}};m(t);var _=function(t){var e=ro(x(t));return c&&e[c]?e[c]():e};return _.classes=function(t){if(null!=t){if("array"===io(t))s=t,i=[t[0],t[t.length-1]];else{var e=ro.analyze(i);s=0===t?[e.min,e.max]:ro.limits(e,"e",t)}return _}return s},_.domain=function(t){if(!arguments.length)return i;u=t[0],h=t[t.length-1],o=[];var e=l.length;if(t.length===e&&u!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-u)/(h-u))}else{for(var s=0;s<e;s++)o.push(s/(e-1));if(t.length>2){var c=t.map((function(e,n){return n/(t.length-1)})),f=t.map((function(t){return(t-u)/(h-u)}));f.every((function(t,e){return c[e]===t}))||(b=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=f[e+1];)e++;var n=(t-f[e])/(f[e+1]-f[e]);return c[e]+n*(c[e+1]-c[e])})}}return i=[u,h],_},_.mode=function(t){return arguments.length?(e=t,w(),_):e},_.range=function(t,e){return m(t),_},_.out=function(t){return c=t,_},_.spread=function(t){return arguments.length?(r=t,_):r},_.correctLightness=function(t){return null==t&&(t=!0),f=t,w(),v=f?function(t){for(var e=x(0,!0).lab()[0],n=x(1,!0).lab()[0],r=e>n,i=x(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),i=x(t,!0).lab()[0],a=i-o;return t}:function(t){return t},_},_.padding=function(t){return null!=t?("number"===io(t)&&(t=[t,t]),a=t,_):a},_.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[_(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=so(0,e,!1).map((function(t){return _(o+t/(e-1)*a)}))}else{t=[];var c=[];if(s&&s.length>2)for(var u=1,h=s.length,f=1<=h;f?u<h:u>h;f?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(t){return _(t)}))}return ro[n]&&(r=r.map((function(t){return t[n]()}))),r},_.cache=function(t){return null!=t?(p=t,_):p},_.gamma=function(t){return null!=t?(g=t,_):g},_.nodata=function(t){return null!=t?(n=ro(t),_):n},_};function so(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var lo=x,co=ao,uo=function(t){for(var e=[1,1],n=1;n<t;n++){for(var r=[1],i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e},ho=function(t){var e,n,r,i,o,a,s;if(t=t.map((function(t){return new lo(t)})),2===t.length)e=t.map((function(t){return t.lab()})),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map((function(e){return o[e]+t*(a[e]-o[e])}));return new lo(e,"lab")};else if(3===t.length)n=t.map((function(t){return t.lab()})),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]}));return new lo(e,"lab")};else if(4===t.length){var l;r=t.map((function(t){return t.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(t){var e=[0,1,2].map((function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]}));return new lo(e,"lab")}}else{if(!(t.length>=5))throw new RangeError("No point in running bezier with only one color.");var c,u,h;c=t.map((function(t){return t.lab()})),h=t.length-1,u=uo(h),i=function(t){var e=1-t,n=[0,1,2].map((function(n){return c.reduce((function(r,i,o){return r+u[o]*Math.pow(e,h-o)*Math.pow(t,o)*i[n]}),0)}));return new lo(n,"lab")}}return i},fo=function(t){var e=ho(t);return e.scale=function(){return co(e)},e},po=_,go=function(t,e,n){if(!go[n])throw new Error("unknown blend mode "+n);return go[n](t,e)},mo=function(t){return function(e,n){var r=po(n).rgb(),i=po(e).rgb();return po.rgb(t(r,i))}},yo=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},vo=function(t){return t},bo=function(t,e){return t*e/255},xo=function(t,e){return t>e?e:t},wo=function(t,e){return t>e?t:e},_o=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},ko=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},Mo=function(t,e){return 255*(1-(1-e/255)/(t/255))},To=function(t,e){return 255===t||(t=e/255*255/(1-t/255))>255?255:t};go.normal=mo(yo(vo)),go.multiply=mo(yo(bo)),go.screen=mo(yo(_o)),go.overlay=mo(yo(ko)),go.darken=mo(yo(xo)),go.lighten=mo(yo(wo)),go.dodge=mo(yo(To)),go.burn=mo(yo(Mo));for(var Ao=go,Eo=d.type,$o=d.clip_rgb,Lo=d.TWOPI,Oo=Math.pow,So=Math.sin,No=Math.cos,zo=_,Co=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===Eo(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=Lo*((t+120)/360+e*s),c=Oo(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,h=No(l),f=So(l);return zo($o([255*(c+u*(-.14861*h+1.78277*f)),255*(c+u*(-.29227*h-.90649*f)),255*(c+u*(1.97294*h)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===Eo(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?i:("array"===Eo(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return zo.scale(s)},s.hue(n),s},jo=x,Do="0123456789abcdef",Ro=Math.floor,Po=Math.random,Io=function(){for(var t="#",e=0;e<6;e++)t+=Do.charAt(Ro(16*Po()));return new jo(t,"hex")},Fo=s,Uo=Math.log,Ho=Math.pow,Bo=Math.floor,Yo=Math.abs,Wo=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Fo(t)&&(t=Object.values(t)),t.forEach((function(t){e&&"object"===Fo(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(t,e){return qo(n,t,e)},n},qo=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==Fo(t)&&(t=Wo(t));var r=t.min,i=t.max,o=t.values.sort((function(t,e){return t-e}));if(1===n)return[r,i];var a=[];if("c"===e.substr(0,1)&&(a.push(r),a.push(i)),"e"===e.substr(0,1)){a.push(r);for(var s=1;s<n;s++)a.push(r+s/n*(i-r));a.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*Uo(r),c=Math.LOG10E*Uo(i);a.push(r);for(var u=1;u<n;u++)a.push(Ho(10,l+u/n*(c-l)));a.push(i)}else if("q"===e.substr(0,1)){a.push(r);for(var h=1;h<n;h++){var f=(o.length-1)*h/n,d=Bo(f);if(d===f)a.push(o[d]);else{var p=f-d;a.push(o[d]*(1-p)+o[d+1]*p)}}a.push(i)}else if("k"===e.substr(0,1)){var g,m=o.length,y=new Array(m),v=new Array(n),b=!0,x=0,w=null;(w=[]).push(r);for(var _=1;_<n;_++)w.push(r+_/n*(i-r));for(w.push(i);b;){for(var k=0;k<n;k++)v[k]=0;for(var M=0;M<m;M++)for(var T=o[M],A=Number.MAX_VALUE,E=void 0,$=0;$<n;$++){var L=Yo(w[$]-T);L<A&&(A=L,E=$),v[E]++,y[M]=E}for(var O=new Array(n),S=0;S<n;S++)O[S]=null;for(var N=0;N<m;N++)null===O[g=y[N]]?O[g]=o[N]:O[g]+=o[N];for(var z=0;z<n;z++)O[z]*=1/v[z];b=!1;for(var C=0;C<n;C++)if(O[C]!==w[C]){b=!0;break}w=O,++x>200&&(b=!1)}for(var j={},D=0;D<n;D++)j[D]=[];for(var R=0;R<m;R++)j[g=y[R]].push(o[R]);for(var P=[],I=0;I<n;I++)P.push(j[I][0]),P.push(j[I][j[I].length-1]);P=P.sort((function(t,e){return t-e})),a.push(P[0]);for(var F=1;F<P.length;F+=2){var U=P[F];isNaN(U)||-1!==a.indexOf(U)||a.push(U)}}return a},Go={analyze:Wo,limits:qo},Vo=x,Xo=function(t,e){t=new Vo(t),e=new Vo(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},Ko=x,Zo=Math.sqrt,Jo=Math.pow,Qo=Math.min,ta=Math.max,ea=Math.atan2,na=Math.abs,ra=Math.cos,ia=Math.sin,oa=Math.exp,aa=Math.PI,sa=function(t,e,n,r,i){void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1);var o=function(t){return 360*t/(2*aa)},a=function(t){return 2*aa*t/360};t=new Ko(t),e=new Ko(e);var s=Array.from(t.lab()),l=s[0],c=s[1],u=s[2],h=Array.from(e.lab()),f=h[0],d=h[1],p=h[2],g=(l+f)/2,m=(Zo(Jo(c,2)+Jo(u,2))+Zo(Jo(d,2)+Jo(p,2)))/2,y=.5*(1-Zo(Jo(m,7)/(Jo(m,7)+Jo(25,7)))),v=c*(1+y),b=d*(1+y),x=Zo(Jo(v,2)+Jo(u,2)),w=Zo(Jo(b,2)+Jo(p,2)),_=(x+w)/2,k=o(ea(u,v)),M=o(ea(p,b)),T=k>=0?k:k+360,A=M>=0?M:M+360,E=na(T-A)>180?(T+A+360)/2:(T+A)/2,$=1-.17*ra(a(E-30))+.24*ra(a(2*E))+.32*ra(a(3*E+6))-.2*ra(a(4*E-63)),L=A-T;L=na(L)<=180?L:A<=T?L+360:L-360,L=2*Zo(x*w)*ia(a(L)/2);var O=f-l,S=w-x,N=1+.015*Jo(g-50,2)/Zo(20+Jo(g-50,2)),z=1+.045*_,C=1+.015*_*$,j=30*oa(-Jo((E-275)/25,2)),D=-2*Zo(Jo(_,7)/(Jo(_,7)+Jo(25,7)))*ia(2*a(j)),R=Zo(Jo(O/(n*N),2)+Jo(S/(r*z),2)+Jo(L/(i*C),2)+D*(S/(r*z))*(L/(i*C)));return ta(0,Qo(100,R))},la=x,ca=function(t,e,n){void 0===n&&(n="lab"),t=new la(t),e=new la(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},ua=x,ha=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(ua,[null].concat(t))),!0}catch(t){return!1}},fa=_,da=ao,pa={cool:function(){return da([fa.hsl(180,1,.9),fa.hsl(250,.7,.4)])},hot:function(){return da(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ga={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ma=0,ya=Object.keys(ga);ma<ya.length;ma+=1){var va=ya[ma];ga[va.toLowerCase()]=ga[va]}var ba=ga,xa=_;xa.average=eo,xa.bezier=fo,xa.blend=Ao,xa.cubehelix=Co,xa.mix=xa.interpolate=di,xa.random=Io,xa.scale=ao,xa.analyze=Go.analyze,xa.contrast=Xo,xa.deltaE=sa,xa.distance=ca,xa.limits=Go.limits,xa.valid=ha,xa.scales=pa,xa.colors=Pn,xa.brewer=ba;var wa=xa;return wa}();var Ev=Co(Av.exports);function $v(t,e){const n=uf(t,"colors.background","#ffffff"),r=uf(t,"colors.chartContentBaseColor",e.contrast(n,"#000000")<5.5?"#f1f1f1":"#333333"),i={tickText:{secondary:uf(t,"colors.bgBlendRatios.tickText.secondary",e(n).luminance()<.5?.6:.4),primary:uf(t,"colors.bgBlendRatios.tickText.primary",.2)},series:uf(t,"colors.bgBlendRatios.series",0),value:uf(t,"colors.bgBlendRatios.value",.2),axis:uf(t,"colors.bgBlendRatios.axis",0),gridline:uf(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:e.mix(r,n,i.tickText.secondary).hex(),primary:e.mix(r,n,i.tickText.primary).hex()},series:e.mix(r,n,i.series).hex(),value:e.mix(r,n,i.value).hex(),axis:e.mix(r,n,i.axis).hex(),gridline:e.mix(r,n,i.gridline).hex(),fallbackBaseColor:r,blendColor:t=>e.mix(r,n,t).hex()}}function Lv(t){const{fallbackBaseColor:e}=$v(t,Ev);return{fallback:e,tooltipText:uf(t,"vis.d3-lines.labels.tooltip.color",Pg(t,"color",e))}}function Ov(t,e){return"number"===e?Yg(t):"date"!==e||function(t){return al(t)&&!isNaN(t.getTime())}(t)}const Sv={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4},Nv=134217729,zv=33306690738754706e-32;function Cv(t,e,n,r,i){let o,a,s,l,c=e[0],u=r[0],h=0,f=0;u>c==u>-c?(o=c,c=e[++h]):(o=u,u=r[++f]);let d=0;if(h<t&&f<n)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=e[++h]):(a=u+o,s=o-(a-u),u=r[++f]),o=a,0!==s&&(i[d++]=s);h<t&&f<n;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f]),o=a,0!==s&&(i[d++]=s);for(;h<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=e[++h],o=a,0!==s&&(i[d++]=s);for(;f<n;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function jv(t){return new Float64Array(t)}const Dv=22204460492503146e-32,Rv=11093356479670487e-47,Pv=jv(4),Iv=jv(8),Fv=jv(12),Uv=jv(16),Hv=jv(4);function Bv(t,e,n,r,i,o){const a=(e-o)*(n-i),s=(t-i)*(r-o),l=a-s,c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,e,n,r,i,o,a){let s,l,c,u,h,f,d,p,g,m,y,v,b,x,w,_,k,M;const T=t-i,A=n-i,E=e-o,$=r-o;x=T*$,f=Nv*T,d=f-(f-T),p=T-d,f=Nv*$,g=f-(f-$),m=$-g,w=p*m-(x-d*g-p*g-d*m),_=E*A,f=Nv*E,d=f-(f-E),p=E-d,f=Nv*A,g=f-(f-A),m=A-g,k=p*m-(_-d*g-p*g-d*m),y=w-k,h=w-y,Pv[0]=w-(y+h)+(h-k),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-_,h=b-y,Pv[1]=b-(y+h)+(h-_),M=v+y,h=M-v,Pv[2]=v-(M-h)+(y-h),Pv[3]=M;let L=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,Pv),O=Dv*a;if(L>=O||-L>=O)return L;if(h=t-T,s=t-(T+h)+(h-i),h=n-A,c=n-(A+h)+(h-i),h=e-E,l=e-(E+h)+(h-o),h=r-$,u=r-($+h)+(h-o),0===s&&0===l&&0===c&&0===u)return L;if(O=Rv*a+zv*Math.abs(L),L+=T*u+$*s-(E*c+A*l),L>=O||-L>=O)return L;x=s*$,f=Nv*s,d=f-(f-s),p=s-d,f=Nv*$,g=f-(f-$),m=$-g,w=p*m-(x-d*g-p*g-d*m),_=l*A,f=Nv*l,d=f-(f-l),p=l-d,f=Nv*A,g=f-(f-A),m=A-g,k=p*m-(_-d*g-p*g-d*m),y=w-k,h=w-y,Hv[0]=w-(y+h)+(h-k),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-_,h=b-y,Hv[1]=b-(y+h)+(h-_),M=v+y,h=M-v,Hv[2]=v-(M-h)+(y-h),Hv[3]=M;const S=Cv(4,Pv,4,Hv,Iv);x=T*u,f=Nv*T,d=f-(f-T),p=T-d,f=Nv*u,g=f-(f-u),m=u-g,w=p*m-(x-d*g-p*g-d*m),_=E*c,f=Nv*E,d=f-(f-E),p=E-d,f=Nv*c,g=f-(f-c),m=c-g,k=p*m-(_-d*g-p*g-d*m),y=w-k,h=w-y,Hv[0]=w-(y+h)+(h-k),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-_,h=b-y,Hv[1]=b-(y+h)+(h-_),M=v+y,h=M-v,Hv[2]=v-(M-h)+(y-h),Hv[3]=M;const N=Cv(S,Iv,4,Hv,Fv);x=s*u,f=Nv*s,d=f-(f-s),p=s-d,f=Nv*u,g=f-(f-u),m=u-g,w=p*m-(x-d*g-p*g-d*m),_=l*c,f=Nv*l,d=f-(f-l),p=l-d,f=Nv*c,g=f-(f-c),m=c-g,k=p*m-(_-d*g-p*g-d*m),y=w-k,h=w-y,Hv[0]=w-(y+h)+(h-k),v=x+y,h=v-x,b=x-(v-h)+(y-h),y=b-_,h=b-y,Hv[1]=b-(y+h)+(h-_),M=v+y,h=M-v,Hv[2]=v-(M-h)+(y-h),Hv[3]=M;const z=Cv(N,Fv,4,Hv,Uv);return Uv[z-1]}(t,e,n,r,i,o,c)}const Yv=Math.pow(2,-52),Wv=new Uint32Array(512);class qv{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jv,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qv;const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new qv(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const u=(a+l)/2,h=(s+c)/2;let f,d,p,g=1/0;for(let e=0;e<o;e++){const n=Gv(u,h,t[2*e],t[2*e+1]);n<g&&(f=e,g=n)}const m=t[2*f],y=t[2*f+1];g=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=Gv(m,y,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let v=t[2*d],b=t[2*d+1],x=1/0;for(let e=0;e<o;e++){if(e===f||e===d)continue;const n=Xv(m,y,v,b,t[2*e],t[2*e+1]);n<x&&(p=e,x=n)}let w=t[2*p],_=t[2*p+1];if(x===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Kv(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Bv(m,y,v,b,w,_)<0){const t=d,e=v,n=b;d=p,v=w,b=_,p=t,w=e,_=n}const k=function(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),d=t+(c*u-s*h)*f,p=e+(a*h-l*u)*f;return{x:d,y:p}}(m,y,v,b,w,_);this._cx=k.x,this._cy=k.y;for(let e=0;e<o;e++)this._dists[e]=Gv(t[2*e],t[2*e+1],k.x,k.y);Kv(this._ids,this._dists,0,o-1),this._hullStart=f;let M=3;n[f]=e[p]=d,n[d]=e[f]=p,n[p]=e[d]=f,r[f]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,y)]=f,i[this._hashKey(v,b)]=d,i[this._hashKey(w,_)]=p,this.trianglesLen=0,this._addTriangle(f,d,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],c=t[2*l],u=t[2*l+1];if(s>0&&Math.abs(c-o)<=Yv&&Math.abs(u-a)<=Yv)continue;if(o=c,a=u,l===f||l===d||l===p)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=i[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let g,m=h;for(;g=n[m],Bv(c,u,t[2*m],t[2*m+1],t[2*g],t[2*g+1])>=0;)if(m=g,m===h){m=-1;break}if(-1===m)continue;let y=this._addTriangle(m,l,n[m],-1,-1,r[m]);r[l]=this._legalize(y+2),r[m]=y,M++;let v=n[m];for(;g=n[v],Bv(c,u,t[2*v],t[2*v+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(v,l,g,r[l],-1,r[v]),r[l]=this._legalize(y+2),n[v]=v,M--,v=g;if(m===h)for(;g=e[m],Bv(c,u,t[2*g],t[2*g+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(g,l,m,-1,r[m],r[g]),this._legalize(y+2),r[g]=y,n[m]=m,M--,m=g;this._hullStart=e[l]=m,n[m]=e[v]=l,n[l]=v,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*m],t[2*m+1])]=m}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=Wv[--i];continue}const l=a-a%3,c=s+(t+1)%3,u=l+(a+2)%3,h=e[o],f=e[t],d=e[c],p=e[u];if(Vv(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[a]=h;const r=n[u];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,u);const s=l+(a+1)%3;i<Wv.length&&(Wv[i++]=s)}else{if(0===i)break;t=Wv[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Gv(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Vv(t,e,n,r,i,o,a,s){const l=t-a,c=e-s,u=n-a,h=r-s,f=i-a,d=o-s,p=u*u+h*h,g=f*f+d*d;return l*(h*g-p*d)-c*(u*g-p*f)+(l*l+c*c)*(u*d-h*f)<0}function Xv(t,e,n,r,i,o){const a=n-t,s=r-e,l=i-t,c=o-e,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),d=(c*u-s*h)*f,p=(a*h-l*u)*f;return d*d+p*p}function Kv(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;Zv(t,n+r>>1,i),e[t[n]]>e[t[r]]&&Zv(t,n,r),e[t[i]]>e[t[r]]&&Zv(t,i,r),e[t[n]]>e[t[i]]&&Zv(t,n,i);const a=t[i],s=e[a];for(;;){do{i++}while(e[t[i]]<s);do{o--}while(e[t[o]]>s);if(o<i)break;Zv(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(Kv(t,e,i,r),Kv(t,e,n,o-1)):(Kv(t,e,n,o-1),Kv(t,e,i,r))}}function Zv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jv(t){return t[0]}function Qv(t){return t[1]}const tb=1e-6;class eb{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>tb||Math.abs(this._y1-i)>tb)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}rect(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}value(){return this._||null}}class nb{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class rb{constructor(t){let[e,n,r,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this;let i,o;const a=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let r,s,l=0,c=0,u=n.length;l<u;l+=3,c+=2){const u=2*n[l],h=2*n[l+1],f=2*n[l+2],d=t[u],p=t[u+1],g=t[h],m=t[h+1],y=t[f],v=t[f+1],b=g-d,x=m-p,w=y-d,_=v-p,k=2*(b*_-x*w);if(Math.abs(k)<1e-9){if(void 0===i){i=o=0;for(const n of e)i+=t[2*n],o+=t[2*n+1];i/=e.length,o/=e.length}const n=1e9*Math.sign((i-d)*_-(o-p)*w);r=(d+y)/2-n*_,s=(p+v)/2+n*w}else{const t=1/k,e=b*b+x*x,n=w*w+_*_;r=d+(_*e-x*n)*t,s=p+(b*n-w*e)*t}a[c]=r,a[c+1]=s}let s,l,c,u=e[e.length-1],h=4*u,f=t[2*u],d=t[2*u+1];r.fill(0);for(let n=0;n<e.length;++n)u=e[n],s=h,l=f,c=d,h=4*u,f=t[2*u],d=t[2*u+1],r[s+2]=r[h]=c-d,r[s+3]=r[h+1]=f-l}render(t){const e=null==t?t=new eb:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],c=o[a],u=o[a+1];this._renderSegment(s,l,c,u,t)}let s,l=i[i.length-1];for(let e=0;e<i.length;++e){s=l,l=i[e];const n=2*Math.floor(r[l]/3),c=o[n],u=o[n+1],h=4*s,f=this._project(c,u,a[h+2],a[h+3]);f&&this._renderSegment(c,u,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new eb:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new eb:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new nb;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]===t[o]&&e[r+1]===t[o+1]&&e[(r+2)%i]===t[(o+a-2)%a]&&e[(r+3)%i]===t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){const n=e.length;let r,i,o,a,s=null,l=e[n-2],c=e[n-1],u=this._regioncode(l,c),h=0;for(let f=0;f<n;f+=2)if(r=l,i=c,l=e[f],c=e[f+1],o=u,u=this._regioncode(l,c),0===o&&0===u)a=h,h=0,s?s.push(l,c):s=[l,c];else{let e,n,f,d,p;if(0===o){if(null===(e=this._clipSegment(r,i,l,c,o,u)))continue;[n,f,d,p]=e}else{if(null===(e=this._clipSegment(l,c,r,i,u,o)))continue;[d,p,n,f]=e,a=h,h=this._edgecode(n,f),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(n,f):s=[n,f]}a=h,h=this._edgecode(d,p),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(d,p):s=[d,p]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,e,n,r,i,o){const a=i<o;for(a&&([t,e,n,r,i,o]=[n,r,t,e,o,i]);;){if(0===i&&0===o)return a?[n,r,t,e]:[t,e,n,r];if(i&o)return null;let s,l,c=i||o;8&c?(s=t+(n-t)*(this.ymax-e)/(r-e),l=this.ymax):4&c?(s=t+(n-t)*(this.ymin-e)/(r-e),l=this.ymin):2&c?(l=e+(r-e)*(this.xmax-t)/(n-t),s=this.xmax):(l=e+(r-e)*(this.xmin-t)/(n-t),s=this.xmin),i?(t=s,e=l,i=this._regioncode(t,e)):(n=s,r=l,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,s=Array.from(e);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}return i}_project(t,e,n,r){let i,o,a,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(a=this.ymin,o=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(a=this.ymax,o=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){const n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}const ib=2*Math.PI,ob=Math.pow;function ab(t){return t[0]}function sb(t){return t[1]}function lb(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class cb{static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ab,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sb,r=arguments.length>3?arguments[3]:void 0;return new cb("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new qv(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=lb(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new qv(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new rb(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const s=e[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==s)}find(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=ob(e-l[2*t],2)+ob(n-l[2*t+1],2);const h=r[t];let f=h;do{let r=s[f];const h=ob(e-l[2*r],2)+ob(n-l[2*r+1],2);if(h<u&&(u=h,c=r),f=f%3==2?f-2:f+1,s[f]!==t)break;if(f=a[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&ob(e-l[2*f],2)+ob(n-l[2*f+1],2)<u)return f;break}}while(f!==h);return c}render(t){const e=null==t?t=new eb:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],s=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;const n=null==t?t=new eb:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,ib)}return n&&n.value()}renderHull(t){const e=null==t?t=new eb:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new nb;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new eb:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new nb;return this.renderTriangle(t,e),e.value()}}function ub(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,f,d=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+v)/2))?m=a:v=a,i=d,!(d=d[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+v)/2))?m=a:v=a}while((h=u<<1|c)==(f=(l>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function hb(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function fb(t){return t[0]}function db(t){return t[1]}function pb(t,e,n){var r=new gb(null==e?fb:e,null==n?db:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function gb(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function mb(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var yb=pb.prototype=gb.prototype;yb.copy=function(){var t,e,n=new gb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mb(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=mb(e));return n},yb.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return ub(this.cover(e,n),e,n,t)},yb.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)ub(this,a[n],s[n],t[n]);return this},yb.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},yb.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},yb.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},yb.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new hb(g,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>d||(a=l.x1)<u||(s=l.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new hb(g[3],m,y,a,s),new hb(g[2],i,y,m,s),new hb(g[1],m,o,a,y),new hb(g[0],i,o,m,y)),(c=(e>=y)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=v*v+b*b;if(x<n){var w=Math.sqrt(n=x);u=t-w,h=e-w,f=t+w,d=e+w,r=g.data}}return r},yb.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+y)/2))?g=l:y=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},yb.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},yb.root=function(){return this._root},yb.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},yb.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new hb(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new hb(n,c,u,o,a)),(n=l[2])&&s.push(new hb(n,r,u,c,a)),(n=l[1])&&s.push(new hb(n,c,i,o,u)),(n=l[0])&&s.push(new hb(n,r,i,c,u))}return this},yb.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new hb(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new hb(o,a,s,u,h)),(o=i[1])&&n.push(new hb(o,u,s,l,h)),(o=i[2])&&n.push(new hb(o,a,h,u,c)),(o=i[3])&&n.push(new hb(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},yb.x=function(t){return arguments.length?(this._x=t,this):this._x},yb.y=function(t){return arguments.length?(this._y=t,this):this._y};const vb=({a:t,b:e,point:n})=>Math.min(t.x,e.x)<=n.x&&n.x<=Math.max(t.x,e.x)&&Math.min(t.y,e.y)<=n.y&&n.y<=Math.max(t.y,e.y),bb=[{angle:0,vAlign:"center",hAlign:"left"},{angle:90,vAlign:"top",hAlign:"center"},{angle:180,vAlign:"center",hAlign:"right"},{angle:270,vAlign:"bottom",hAlign:"center"},{angle:360,vAlign:"center",hAlign:"left"}],xb=({label:t,distance:e,connectingLineThreshold:n})=>{const{point:r,centroid:i,width:o,height:a,angle:s,dodgeAngleIndex:l,dodgeAngleFactor:c,cardinalAngle:u,firstViableDistance:h}=t,f=_b({cardinalAngle:u,angle:s,dodgeAngleIndex:l,dodgeAngleFactor:c}),d=h+e,p=Math.cos(f*Math.PI/180)*d+r.x,g=Math.sin(f*Math.PI/180)*d+r.y,{hAlign:m,vAlign:y}=bb.find((t=>u===t.angle)),v="center"===m?p-o/2:"right"===m?p-o:p,b="center"===y?g-a/2:"bottom"===y?g-a:g,x=e>=n?(({a:t,b:e,dx:n,dy:r,box:i})=>{const o=i.x,a=i.x+i.w,s=i.y,l=i.y+i.h,c=r/n,u=t.y-c*t.x,h=[];let f=c*o+u;s<=f&&f<=l&&h.push([o,f]),f=c*a+u,s<=f&&f<=l&&h.push([a,f]);let d=(s-u)/c;o<=d&&d<=a&&h.push([d,s]),d=(l-u)/c,o<=d&&d<=a&&h.push([d,l]);let p=null,g=1/0;for(const n of h){const r=n[0]-t.x,i=n[1]-t.y,o=r*r+i*i;o<g&&vb({a:t,b:e,point:{x:n[0],y:n[1]}})&&(g=o,p=n)}return p})({a:r,b:{x:p,y:g},dx:i.x-p,dy:i.y-g,box:{x:v,y:b,w:o,h:a}}):[p,g],w=x&&x[0]||p,_=x&&x[1]||g;return Object.assign(Object.assign({},t),{centroid:i,labelPosition:{x:p,y:g,hAlign:m,vAlign:y},connectingLineAnchor:{x:w,y:_},x:v,y:b,bestAngle:f})},wb=(t,e)=>(t-e)/1.75,_b=({cardinalAngle:t,angle:e,dodgeAngleIndex:n,dodgeAngleFactor:r})=>{const i=Math.abs(t-e),o=Math.min(n*r,i);return e>t?t+o:t-o},kb=(t,e)=>{const n=t.x-e,r=t.y-e;return{xMin:n,xMax:t.x+t.width+e,yMin:r,yMax:t.y+t.height+e}},Mb=(t,e,n,r,i)=>{const o=[];return t.visit(((t,a,s,l,c)=>{if(!t.length)do{const a=t.data;a.x>=e&&a.x<r&&a.y>=n&&a.y<i&&o.push(a)}while(t=t.next);return a>=r||s>=i||l<e||c<n})),o},Tb=({a:t,b:e,padding:n})=>!(t.x+(t.width||1)<e.x-n||e.x+(e.width||1)<t.x-n||t.y+(t.height||1)<e.y-n||e.y+(e.height||1)<t.y-n);function Ab(t,e,n){return t.x<0||t.x+(t.width||1)>e||t.y<0||t.y+(t.height||1)>n}const Eb=of((t=>JSON.stringify(t)),(({labelsToPlace:t,plotSize:e,labelOptions:n,allFeaturesPoints:r,allDelaunayPoints:i})=>{const{connectingLineThreshold:o,minDistance:a,maxDistance:s,fontSize:l,labelPadding:c,featurePadding:u}=n,h=pb().extent([[0,0],[e[0],e[1]]]).x((t=>t.x)).y((t=>t.y)).addAll(r),f=cb.from(i||[]),d=f.voronoi([0,0,e[0],e[1]]),p=wb(s,0),g=new Map;let m=0;t.forEach(((t,e)=>{const{x:n,y:r,datum:i,content:o,minOffsetFromAnchor:c}=t,u=f.find(n,r),h=d.cellPolygon(u),[p,y]=null!==h?function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]}(h):[0,0],v=function(t){if(!t)return 0;const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:14)/14;return t.split("").reduce(((t,e)=>t+(Sv[e]||Sv.a)),0)*e}(o,l),b={x:n,y:r},x={x:p,y:y},{cardinalAngle:w,angle:_}=(({from:t,to:e})=>{const n=e.x-t.x,r=e.y-t.y,i=(Math.atan2(r,n)*(180/Math.PI)+360)%360,o=bb.sort(((t,e)=>Math.abs(i-t.angle)-Math.abs(i-e.angle)))[0].angle;return{angle:i,cardinalAngle:o%360}})({from:b,to:x}),k=((t,e)=>60/wb(t,e))(s,0);m=Math.max(m,c),g.set(String(e),{datum:i,labelPosition:{x:0,y:0,hAlign:"center",vAlign:"bottom"},point:b,centroid:x,firstViableDistance:c+a,width:v,height:l,occluded:!0,showConnectingLine:void 0,connectingLineAnchor:{x:0,y:0},angle:_,cardinalAngle:w,bestAngle:w,dodgeAngleIndex:0,dodgeAngleFactor:k,x:0,y:0})}));const y=[],v=(({maxDistance:t,nbDataPoints:e})=>{const n=e*t;return Math.floor(Math.min(Math.max(n/1e4,1),t))})({maxDistance:s,nbDataPoints:g.size});for(let t=0;t<=s;t+=v)for(const[n,r]of g.entries())if(r.occluded){let i,a=!1,s=r.dodgeAngleIndex;const l=xb({label:r,distance:t,connectingLineThreshold:o}),{xMin:f,xMax:d,yMin:v,yMax:b}=kb(l,m);if(a||(a=Ab(l,e[0],e[1]),i=a&&"outOfBounds"),!a){a=Mb(h,f,v,d,b).some((t=>Tb({a:l,b:t,padding:u}))),i=a&&"visualizationFeatures",t>=p&&s++}a||(a=y.some((t=>{const{x:e,y:n,width:r,height:i}=t;return Tb({a:l,b:{x:e,y:n,width:r,height:i},padding:c})})),i=a&&"otherLabel"),a||y.push(l),g.set(n,Object.assign(Object.assign({},l),{showConnectingLine:t>=o,occluded:a,occludedBy:i,dodgeAngleIndex:s}))}return{labelsMap:g,samplesVoronoi:d}})).get,$b=(t,e,n=1)=>{const r={x:t.x-n/2,y:t.y-n/2},i={x:e.x-n/2,y:e.y-n/2},o=Lb(r,i),a=Math.floor((o||1)/Nb);return Ob({start:r,end:i,numPoints:a})},Lb=(t,e)=>{const n=t.x-e.x,r=t.y-e.y;return Math.floor(Math.sqrt(n*n+r*r))},Ob=({start:t,end:e,numPoints:n,endOfLine:r})=>{const i=(e.y-t.y)/(e.x-t.x||.1),o=t.y-i*t.x,a=(e.x-t.x||.1)/(n-1),s=[];for(let e=0;e<n-(r?0:1);e++){const n=t.x+e*a,r=i*n+o;s.push({x:n,y:r})}return s},Sb=({start:t,end:e})=>({x:(t.x+e.x)/2,y:(t.y+e.y)/2}),Nb=6,zb=(t,e=1)=>{const n=[],r=[];for(let i=0;i<t.length-1;i++){const o=Lb(t[i],t[i+1]),a=Math.round(t[i].x),s=Math.round(t[i].y),l=Math.round(t[i+1].x),c=Math.round(t[i+1].y),u={x:a,y:s},h={x:l,y:c},f=Math.floor(o/20),d=f<=2?[u,Sb({start:u,end:h})]:Ob({start:u,end:h,numPoints:f,endOfLine:i===t.length-2});n.push(...d);const p={x:a-e/2,y:s-e/2},g={x:l-e/2,y:c-e/2},m=Math.floor(o/Nb),y=m<=2?[]:Ob({start:p,end:g,numPoints:m});r.push(...y.map((t=>Object.assign(Object.assign({},t),{width:e,height:e}))))}return{samplePoints:n.flat(),overlapPoints:r.flat()}},Cb={linear:zb,"step-after":(t,e=1)=>{const n=[],r=[];for(let i=0;i<t.length;i++){const o=t[i];if(i!==t.length-1){const a={x:t[i+1].x,y:o.y},s=t[i+1],l=$b(o,a,e),c=$b(a,s,e);r.push(o,a),n.push(...l,...c)}else r.push(o),n.push(o)}return{samplePoints:r,overlapPoints:n.map((t=>Object.assign(Object.assign({},t),{width:e,height:e})))}},"step-before":(t,e=1)=>{const n=[],r=[];for(let i=0;i<t.length;i++){const o=t[i];if(i!==t.length-1){const a=t[i+1],s={x:o.x,y:a.y},l=$b(o,s,e),c=$b(s,a,e);n.push(o,s),r.push(...l,...c)}else n.push(o),r.push(o)}return{samplePoints:n,overlapPoints:r.map((t=>Object.assign(Object.assign({},t),{width:e,height:e})))}},step:(t,e=1)=>{const n=[],r=[];for(let i=0;i<t.length;i++){const o=t[i];if(i!==t.length-1){const a=t[i+1],s={x:o.x+(a.x-o.x)/2,y:o.y},l=$b(o,s,e),c={x:o.x+(a.x-o.x)/2,y:a.y},u=$b(s,c,e),h=$b(c,a,e);r.push(o,s,c),n.push(...l,...u,...h)}else r.push(o),n.push(o)}return{samplePoints:r,overlapPoints:n.map((t=>Object.assign(Object.assign({},t),{width:e,height:e})))}},"monotone-x":zb,cardinal:zb,natural:zb},jb=of((t=>JSON.stringify(t)),(({lines:t=[],symbols:e=[]})=>{var n;const r=[],i=[];for(const e of t){const{width:t,interpolation:o,points:a}=e,s=null!==(n=Cb[o])&&void 0!==n?n:Cb.linear,{samplePoints:l,overlapPoints:c}=s(a,t);i.push(...l.map((t=>[t.x,t.y]))),r.push(...c,...a.map((t=>Object.assign(Object.assign({},t),{width:1,height:1}))))}return e.forEach((({size:t,x:e,y:n})=>{r.push({x:e-t/2,y:n-t/2,width:t,height:t})})),{allDelaunayPoints:i,allFeaturesPoints:r}})).get;function Db(t){return function(){return t}}function Rb(t){return 1e-6*(t()-.5)}function Pb(t){return t.x+t.vx}function Ib(t){return t.y+t.vy}var Fb={value:function(){}};function Ub(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Hb(r)}function Hb(t){this._=t}function Bb(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Yb(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Fb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Hb.prototype=Ub.prototype={constructor:Hb,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=Yb(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Yb(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Bb(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hb(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Wb,qb,Gb=0,Vb=0,Xb=0,Kb=1e3,Zb=0,Jb=0,Qb=0,tx="object"==typeof performance&&performance.now?performance:Date,ex="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nx(){return Jb||(ex(rx),Jb=tx.now()+Qb)}function rx(){Jb=0}function ix(){this._call=this._time=this._next=null}function ox(t,e,n){var r=new ix;return r.restart(t,e,n),r}function ax(){Jb=(Zb=tx.now())+Qb,Gb=Vb=0;try{!function(){nx(),++Gb;for(var t,e=Wb;e;)(t=Jb-e._time)>=0&&e._call.call(null,t),e=e._next;--Gb}()}finally{Gb=0,function(){var t,e,n=Wb,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wb=e);qb=t,lx(r)}(),Jb=0}}function sx(){var t=tx.now(),e=t-Zb;e>Kb&&(Qb-=e,Zb=t)}function lx(t){Gb||(Vb&&(Vb=clearTimeout(Vb)),t-Jb>24?(t<1/0&&(Vb=setTimeout(ax,t-tx.now()-Qb)),Xb&&(Xb=clearInterval(Xb))):(Xb||(Zb=tx.now(),Xb=setInterval(sx,Kb)),Gb=1,ex(ax)))}ix.prototype=ox.prototype={constructor:ix,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?nx():+n)+(null==e?0:+e),this._next||qb===this||(qb?qb._next=this:Wb=this,qb=this),this._call=t,this._time=n,lx()},stop:function(){this._call&&(this._call=null,this._time=1/0,lx())}};const cx=1664525,ux=1013904223,hx=4294967296;var fx=10,dx=Math.PI*(3-Math.sqrt(5));function px(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=ox(h),c=Ub("tick","end"),u=function(){let t=1;return()=>(t=(cx*t+ux)%hx)/hx}();function h(){f(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=fx*Math.sqrt(.5+n),o=n*dx;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}var gx=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r},mx=js;var yx=gx,vx=function(t,e,n,r){return mx(t,(function(t,i,o){e(r,t,n(t),o)})),r},bx=Jd,xx=Fa;var wx=pf,_x=function(t,e){return function(n,r){var i=xx(n)?yx:vx,o=e?e():{};return i(n,t,bx(r),o)}},kx=Object.prototype.hasOwnProperty,Mx=Co(_x((function(t,e,n){kx.call(t,n)?t[n].push(e):wx(t,n,[e])})));class Tx{constructor(t,e){this.p1=t,this.p2=e,this.lengthSquared=Ax(t,e)}getRatio(t){const{p1:e,p2:n,lengthSquared:r}=this;return 0===r?Ax(t,e):((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r}distanceToSquared(t){const{p1:e,p2:n}=this,r=this.getRatio(t);return Ax(t,r<0?e:r>1?n:{x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)})}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}}function Ax(t,e){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)}const Ex=2,$x=10,Lx=5,Ox=5,Sx=2,Nx=2.25,zx=16,Cx=1,jx={center:"middle",top:"hanging",bottom:"alphabetic"},Dx=of((t=>JSON.stringify(t)),(function({labelsToPlace:t,featuresToAvoid:e,plotSize:n,labelOptions:r={connectingLineThreshold:16,minDistance:3,maxDistance:20,fontSize:12,labelPadding:2,featurePadding:0}}){var i;const o=performance.now();if(!t.length)return{labels:[],debug:{samplesVoronoi:void 0,samplesPoints:void 0,featurePoints:void 0,time:void 0}};const{allFeaturesPoints:a,allDelaunayPoints:s}=jb(e),{labelsMap:l,samplesVoronoi:c}=Eb({plotSize:n,labelsToPlace:t,labelOptions:r,allFeaturesPoints:a,allDelaunayPoints:s}),{labelsMap:u}=(({labelsMap:t,featuresToAvoid:e,labelOptions:n})=>{const{featurePadding:r}=n;for(const[n,i]of t.entries())if(!i.occluded||"featuresToAvoid"===i.occludedBy){let o,a=!1;a=e.some((t=>Tb({a:i,b:t,padding:r}))),o=a&&"featuresToAvoid",t.set(n,Object.assign(Object.assign({},i),{occluded:a,occludedBy:o}))}return{labelsMap:t}})({labelsMap:l,featuresToAvoid:null!==(i=e.rects)&&void 0!==i?i:[],labelOptions:r}),h=performance.now();return{labels:[...u.values()],debug:{samplesVoronoi:c,samplesPoints:s,featurePoints:a,time:h-o}}})).get;function Rx(t){let{line:e,scales:n,valueLabelFormat:r}=t;const i=e.values.filter((t=>Yg(t.y))).map((t=>({id:e.id,x:n.x(t.x),y:n.y(t.y),content:r(t.y),datum:{...t,isFirst:t===e.first,isLast:t===e.last,settings:e.settings}}))),o=e.settings.valueLabels.enabled?e.settings.valueLabels.maxInnerLabels:0;if(0===o)return{lineValues:i,labelCandidates:[]};const a=function(t,e){const n=[],r=t.length;!function e(r,i){if(i>r+1){const o=new Tx(t[r],t[i]);let a,s=-1,l=0;for(let e=r+1;e<i;e+=1)a=o.distanceToSquared(t[e]),(a>s||isNaN(a))&&(isNaN(a)||(s=a),l=e);n[l]=s,e(r,l),e(l,i)}}(0,r-1),n[0]=1/0,n[r-1]=1/0;const i=n.slice();i.sort((function(t,e){return e-t}));const o=i[e-1];return t.filter((function(t,e){return n[e]>=o}))}(i,Math.min(o+2,i.length)).slice(1,-1);return a.forEach((t=>t.datum.isLabelCandidate=!0)),{lineValues:i,labelCandidates:a}}function Px(t){let{gLine:e,gValueLabels:n,lineData:r,scales:i,featuresToAvoid:o,valueLabelFormat:a,valueLabelColors:s,textColor:l,cm:c,autocolor:u,theme:h,size:f,defaultInterpolation:d,valueLabelFontSize:p,rtl:g,dev:m,debugMode:y}=t;const{labels:v,debug:b}=function(t){let{lineData:e,scales:n,featuresToAvoid:r,valueLabelFormat:i,valueLabelFontSize:o,theme:a,size:s,defaultInterpolation:l}=t;const c=[s.width,s.height];if(c.some((t=>isNaN(t)||t<=0)))return{labels:[]};const u={rects:r,lines:[],symbols:[]},h=[],f=vv(a);e.forEach((t=>{const e=t.settings,r=e.symbols,o=_v(t.settings);if("invisible"===e.width&&!o)return;const s=Tv(e,a),c=f[e.width],{lineValues:d,labelCandidates:p}=Rx({line:t,scales:n,valueLabelFormat:i});if("invisible"!==e.width&&u.lines.push({width:c,interpolation:e.interpolation||l,points:d.map((t=>{let{x:e,y:n}=t;return{x:e,y:n}}))}),o&&d.forEach((t=>{("every"===r.on||t.datum.isFirst&&["first","both"].includes(r.on)||t.datum.isLast&&["last","both"].includes(r.on))&&u.symbols.push({x:t.x,y:t.y,size:2*s})})),"invisible"!==e.width||o){const t=Wx({lineSettings:e,theme:a,datapoint:"inner"}),n=Math.max(t,c/2);p.forEach((t=>h.push({...t,minOffsetFromAnchor:n})))}}));const{labels:d,debug:p}=Dx({plotSize:c,featuresToAvoid:u,labelsToPlace:h,labelOptions:{connectingLineThreshold:zx,minDistance:Lx,maxDistance:$x,fontSize:o,labelPadding:Cx,featurePadding:Ex}});return{labels:d,debug:p}}({lineData:r,scales:i,featuresToAvoid:o,valueLabelFormat:a,valueLabelFontSize:p,theme:h,size:f,defaultInterpolation:d}),x=Object.fromEntries(r.map((t=>[t.id,t]))),w=Object.entries(Mx(v,(t=>t.datum.lineId))).map((t=>{let[e,n]=t;return{id:e,line:x[e],values:n.filter((t=>!t.occluded))}})),_=n.selectAll("g.label-line").data(w).join((t=>t.append("g.label-line")),(t=>t),(t=>t.remove()));if(!v.length)return;_.attr("data-column",(t=>m?t.id:null)).selectAll("text.value-label").data((t=>t.values)).join("text.value-label").attr("x",(t=>t.labelPosition.x)).attr("y",(t=>t.labelPosition.y)).attr("dy","0.08em").attr("text-anchor",(t=>({center:"middle",left:g?"end":"start",right:g?"start":"end"}[t.labelPosition.hAlign]))).attr("dominant-baseline",(t=>jx[t.labelPosition.vAlign])).style("fill",((t,e)=>s?l(c(u(e,t.datum.lineId))):null)).text((t=>a(t.datum.y)));const k=Object.fromEntries(w.filter((t=>{let{line:e,values:n}=t;return n.length&&e.settings.valueLabels.showCircles})).map((t=>{let{id:e,line:n,values:r}=t;return[e,{line:n,values:r}]})));e.selectAll("g.label-marks").data((t=>k[t.id]?[t]:[])).join((t=>t.append("g.label-marks")),(t=>t),(t=>t.remove())).style("color",(t=>s?l(t.color):null)).each((function(t){ve(this).selectAll("circle.label-mark").data(k[t.id].values).join("circle.label-mark").attr("transform",(t=>"translate(".concat(i.x(t.datum.x),", ").concat(i.y(t.datum.y),")"))).attr("r",qx(t.settings,h))})),y&&(n.selectAll("rect.features-to-avoid").data(o).join("rect.features-to-avoid").attr("x",(t=>t.x)).attr("y",(t=>t.y)).attr("width",(t=>t.width)).attr("height",(t=>t.height)).style("fill","tomato").style("fill-opacity",.1).style("stroke","tomato"),n.selectAll("path.voronoi-cell").data(b.samplesPoints).join((t=>t.append("path.voronoi-cell")),(t=>t),(t=>t.remove())).attr("d",((t,e)=>b.samplesVoronoi.renderCell(e))).style("fill-opacity",.05).style("fill","magenta").style("stroke","magenta").style("stroke-opacity",.5).style("stroke-width",.5),n.selectAll("circle.samples").data(b.samplesPoints).join((t=>t.append("circle.samples")),(t=>t),(t=>t.remove())).attr("cx",(t=>t[0])).attr("cy",(t=>t[1])).attr("r",3).style("fill","magenta"));const M=arguments[0];return function(){Px({...M,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}}function Ix(t){let{gLine:e,gValueLabels:n,gLineEndsValueLabels:r,annotationBboxList:i,lineData:o,scales:a,margin:s,chartHasDirectLabels:l,getElementBounds:c,measureValueLabel:u,valueLabelColors:h,textColor:f,cm:d,rtl:p,autocolor:g,valueLabelFormat:m,valueLabelFontSize:y,theme:v,size:b,defaultInterpolation:x,dev:w}=t;const _=o.some((t=>{let{settings:e}=t;return e.valueLabels.enabled&&e.valueLabels.maxInnerLabels>0}));let k;!function(t){let{gLineEndsValueLabels:e,lineData:n,scales:r,valueLabelColors:i,measureValueLabel:o,chartHasDirectLabels:a,gridLabelsRight:s,textColor:l,cm:c,rtl:u,autocolor:h,valueLabelFormat:f,theme:d,dev:p}=t;const g=n.some((t=>{let{settings:e}=t;return e.valueLabels.enabled&&(e.valueLabels.first||e.valueLabels.last)}));if(!g)return void e.html("");const m=function(t){return t.some((t=>{let{settings:e}=t;return e.directLabel&&e.valueLabels.enabled&&e.valueLabels.last}))}(n),y=function(t){let{lineData:e,scales:n,chartHasDirectLabels:r,measureValueLabel:i,gridLabelsRight:o,theme:a,padding:s,rtl:l}=t;const c=i("0,0").height,u=e.filter((t=>{let{settings:e}=t;return e.valueLabels.enabled&&e.valueLabels.first})).map((t=>({...Fx(t,n,"first"),labelHeight:c}))),h=e.some((t=>{let{settings:e}=t;return e.directLabel&&e.valueLabels.enabled&&e.valueLabels.last})),f=e.map((t=>{const e=t.settings.valueLabels;if(!e.enabled||!e.last)return!1;const s=Gx(t.settings,h,a);if(o||!r)t.lastValueOutside=!1;else{const e=n.x(t.last.x),{width:r}=i(t.formattedLabels.last,s),o=l?e-r-Ox>=n.x.range()[0]:e+r+Ox<=n.x.range()[1];t.lastValueOutside=!o}return!t.lastValueOutside&&{...Fx(t,n,"last"),labelHeight:i("0,0",s).height}})).filter(Boolean);u.length&&Ux(u,s);f.length&&Ux(f,s);return e.map((t=>({...t,first:[...u].find((e=>e.lineId===t.id)),last:[...f].find((e=>e.lineId===t.id))})))}({lineData:n,scales:r,theme:d,measureValueLabel:o,chartHasDirectLabels:a,gridLabelsRight:s,padding:2,rtl:u}),v=e.selectAll("g.line-end-value-labels").data(y).join((t=>t.append("g.line-end-value-labels")),(t=>t),(t=>t.remove()));v.attr("data-column",(t=>p?t.id:null)).selectAll("text.end-value-label").data((t=>function(t,e,n){const r=t.settings.symbols,{first:i,last:o}=t.settings.valueLabels;return i||o?["first","last"].filter((e=>{if(!t.settings.valueLabels[e]||!t[e])return!1;if("last"===e&&t.lastValueOutside)return!1;if("invisible"===t.settings.width){if(!r.enabled)return!1;if("first"===e&&!r.first)return!1;if("last"===e&&!r.last)return!1}return!0})).map((r=>({settings:t.settings,classes:"last"===r?Gx(t.settings,e,n):[],...t[r],type:r}))):[]}(t,m,d))).join("text.end-value-label").attr("x",(t=>{const e=Wx({datapoint:t.type,lineSettings:t.settings,theme:d}),n=t.type===(u?"last":"first")?-e-Lx:e+Lx;return t.x+n})).attr("y",(t=>t.y)).attr("text-anchor",(t=>"last"===t.type?"start":"end")).attr("dominant-baseline","middle").style("fill",((t,e)=>i?l(c(h(e,t.lineId))):null)).text((t=>f(t.value))).classed("last",(t=>t.classes.includes("last"))).classed("combined",(t=>t.classes.includes("combined")))}({gLineEndsValueLabels:r,lineData:o,scales:a,valueLabelColors:h,chartHasDirectLabels:l,measureValueLabel:u,textColor:f,cm:d,rtl:p,autocolor:g,valueLabelFormat:m,valueLabelFontSize:y,theme:v,dev:w});const M=r.selectAll("text.end-value-label").nodes().map((t=>{const e=c(t);return{x:e.left-s.l,y:e.top-s.t,width:e.width,height:e.height}}));return _?k=Px({gLine:e,gValueLabels:n,lineData:o,scales:a,featuresToAvoid:[...i.values(),...M],valueLabelFormat:m,valueLabelColors:h,textColor:f,cm:d,autocolor:g,theme:v,size:b,defaultInterpolation:x,valueLabelFontSize:y,rtl:p,dev:w,debugMode:!1}):n.html(""),function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=null!==(t=n[0].featuresToAvoid)&&void 0!==t?t:[];k&&k({...n[0],featuresToAvoid:[...i,...M]})}}function Fx(t,e,n){return{lineId:t.id,x:e.x(t[n].x),y:e.y(t[n].y),value:t[n].y,fx:e.x(t[n].x)}}function Ux(t,e){const n=px(t);n.force("collide",function(t){var e,n,r,i=1,o=1;function a(){for(var t,a,l,c,u,h,f,d=e.length,p=0;p<o;++p)for(a=pb(e,Pb,Ib).visitAfter(s),t=0;t<d;++t)l=e[t],h=n[l.index],f=h*h,c=l.x+l.vx,u=l.y+l.vy,a.visit(g);function g(t,e,n,o,a){var s=t.data,d=t.r,p=h+d;if(!s)return e>c+p||o<c-p||n>u+p||a<u-p;if(s.index>l.index){var g=c-s.x-s.vx,m=u-s.y-s.vy,y=g*g+m*m;y<p*p&&(0===g&&(y+=(g=Rb(r))*g),0===m&&(y+=(m=Rb(r))*m),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(g*=y)*(p=(d*=d)/(f+d)),l.vy+=(m*=y)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Db(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:Db(+e),l(),a):t},a}().radius((t=>t.labelHeight/2+e)).iterations(2).strength(1)).force("y",function(t){var e,n,r,i=Db(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Db(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Db(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Db(+e),a(),o):t},o}().y((t=>t.y)).strength(2));for(let t=0;t<100;t++)n.tick()}function Hx(t){[{scale:t.scales.x,labelPaddingUtils:Bx},{scale:t.scales.y,labelPaddingUtils:Yx,extendViaDomain:!0}].forEach((e=>{let{scale:n,labelPaddingUtils:r,extendViaDomain:i}=e;!function(t){let{scale:e,scales:n,theme:r,lineData:i,size:o,rtl:a,chartHasDirectLabels:s,valueLabelFormat:l,labelPaddingUtils:c,labelBuffer:u,measureText:h,enforceMinimumMargin:f,extendViaDomain:d=!1}=t;const p=al(e.domain()[0]),g=e.range()[1]<e.range()[0],m=e.domain()[1]<e.domain()[0],y=uf(r,"vis.d3-lines.labels.tooltip.fontSize",Pg(r,"fontSize",12)),v=i.some((t=>{let{settings:e}=t;return e.directLabel&&e.valueLabels.enabled&&e.valueLabels.last})),b=c.getLabelsToCheck({lineData:i,theme:r,rtl:a,scales:n,chartHasDirectLabels:s,chartHasCombinedLabels:v,domain:e.domain(),valueLabelFormat:l,valueLabelFontSize:y,measureText:h,labelBuffer:u,enforceMinimumMargin:f});let x=0;function w(){let t=c.findOverflow({scale:e,labels:b,size:o});if(Math.max(...t)>0)if(t=t.map((t=>Math.ceil(10*t)/10)),d){const n=e.domain(),r=t.map(((t,r)=>{let i=Math.abs(e.invert(0)-e.invert(t))*(0===r?-1:1);return m&&(i*=-1),p?new Date(+n[r]+i):n[r]+i}));r[1]>r[0]==n[1]>n[0]&&(e.domain(r),x++<20&&w())}else{const n=e.range();g&&(t=t.map((t=>-1*t)));const r=[n[0]+t[0],n[1]-t[1]];r[1]>r[0]==n[1]>n[0]&&(e.range(r),x++<20&&w())}}w()}({...t,extendViaDomain:i,scale:n,labelPaddingUtils:r})}))}const Bx={getLabelsToCheck:t=>{let{lineData:e,theme:n,rtl:r,valueLabelFormat:i,chartHasDirectLabels:o,chartHasCombinedLabels:a,measureText:s,labelBuffer:l,enforceMinimumMargin:c}=t;return e.flatMap((t=>{const{valueLabels:e}=t.settings;return e.enabled&&"invisible"!==t.settings.width?["first","last"].map((e=>{var u;if(!t.settings.valueLabels[e])return!1;if("last"===e&&o)return!1;const h=r?{first:"right",last:"left"}:{first:"left",last:"right"},f=i(t[e].y),d="last"===e?Gx(t.settings,a,n):[],p=s(f,d).width+(l[e]?Ox:0)+(null!==(u=c[h[e]])&&void 0!==u?u:0),g=Wx({datapoint:e,lineSettings:t.settings,theme:n});return{type:r?{first:"last",last:"first"}[e]:e,labelWidth:p,distanceToLabelSide:p+Lx+g,x:t[e].x}})):[!1]})).filter(Boolean)},findOverflow:t=>{let{labels:e,scale:n,size:r}=t;const i=[0,0];return e.forEach((t=>{const{type:e,distanceToLabelSide:o,x:a}=t,s=n(a);if("first"===e){const t=s-o,e=Math.max(0-t,0);i[0]=Math.max(i[0],e)}if("last"===e){const t=s+o,e=Math.max(t-r.width,0);i[1]=Math.max(i[1],e)}})),i}},Yx={getLabelsToCheck:t=>{let{lineData:e,theme:n,valueLabelFontSize:r,domain:i,scales:o}=t;return e.flatMap((t=>{if(!t.settings.valueLabels.enabled)return[];if(0===t.settings.valueLabels.maxInnerLabels)return[];if("invisible"===t.settings.width){if(!t.settings.symbols.enabled)return[];if("every"!==t.settings.symbols.on)return[]}const e=Wx({datapoint:"inner",lineSettings:t.settings,theme:n}),a=vv(n)[t.settings.width],{labelCandidates:s}=Rx({line:t,scales:o,valueLabelFormat:t=>t});return s.filter((t=>t.datum.y>=Math.min(...i)&&t.datum.y<=Math.max(...i))).map((t=>({y:t.datum.y,distanceToLabelSide:r+Math.max(e,a/2)+Lx})))}))},findOverflow:t=>{let{labels:e,scale:n,size:r}=t;const i=[0,0],o=n.range(),a=o[0]<o[1];return e.forEach((t=>{const e=n(t.y),o=e-t.distanceToLabelSide,s=e+t.distanceToLabelSide,l=[Math.max(s-r.height,0),Math.max(0-o,0)];a&&l.reverse(),i[0]=Math.max(i[0],l[0]),i[1]=Math.max(i[1],l[1])})),i}};function Wx(t){let{datapoint:e,lineSettings:n,theme:r}=t;const{symbols:i,valueLabels:o}=n,a="inner"===e?["every"]:[e,"both","every"],s=i.enabled&&a.includes(i.on);return o.enabled&&o.showCircles&&"inner"===e?qx(n,r):s?Tv(n,r):0}function qx(t,e){const{symbols:n}=t,r=vv(e),i=Tv(t,e),o=r[t.width];return n.enabled&&"every"===n.on?i+Sx:o/2+Nx}function Gx(t,e,n){const r=[];return e&&r.push("combined"),Vx(t,n)&&r.push("last"),r}function Vx(t,e){const n=uf(e,"vis.d3-lines.labels.values.last.when");return!n||!(t.valueLabels.maxInnerLabels>0)&&("lastOnly"===n?t.valueLabels.last&&!t.valueLabels.first:t.valueLabels.first&&t.valueLabels.last)}function Xx(t,e){if("area"===e.type())return!1;const n="off"!==e.get("y-grid-labels","auto"),r=e.get("y-grid-label-align","left");return(!n||"right"!==r)&&(!(e.size()[0]<bv(e.theme()))&&t.some((t=>t.settings.directLabel)))}function Kx(t){return cf(t.trim().replace(/<br *\/?>|\n/g,""))}var Zx=vf,Jx=pf;var Qx=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Jx(n,s,l):Zx(n,s,l)}return n},tw=Qx,ew=Os;var nw=function(t,e){return t&&tw(e,ew(e),t)};var rw=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},iw=Ro,ow=ps,aw=rw,sw=Object.prototype.hasOwnProperty;var lw=function(t){if(!iw(t))return aw(t);var e=ow(t),n=[];for(var r in t)("constructor"!=r||!e&&sw.call(t,r))&&n.push(r);return n},cw=fs,uw=lw,hw=As;var fw=function(t){return hw(t)?cw(t,!0):uw(t)},pw=Qx,gw=fw;var mw=function(t,e){return t&&pw(e,gw(e),t)},yw={exports:{}};!function(t,e){var n=Uo,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}(yw,yw.exports);var vw=yw.exports;var bw=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},xw=Qx,ww=pu;var _w=function(t,e){return xw(t,ww(t),e)},kw=gs(Object.getPrototypeOf,Object),Mw=Ws,Tw=kw,Aw=pu,Ew=lu,$w=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Mw(e,Aw(t)),t=Tw(t);return e}:Ew,Lw=Qx,Ow=$w;var Sw=function(t,e){return Lw(t,Ow(t),e)},Nw=au,zw=$w,Cw=fw;var jw=function(t){return Nw(t,Cw,zw)},Dw=Object.prototype.hasOwnProperty;var Rw=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dw.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Pw=Gc;var Iw=function(t){var e=new t.constructor(t.byteLength);return new Pw(e).set(new Pw(t)),e},Fw=Iw;var Uw=function(t,e){var n=e?Fw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Hw=/\w*$/;var Bw=function(t){var e=new t.constructor(t.source,Hw.exec(t));return e.lastIndex=t.lastIndex,e},Yw=Xo?Xo.prototype:void 0,Ww=Yw?Yw.valueOf:void 0;var qw=Iw;var Gw=Iw,Vw=Uw,Xw=Bw,Kw=function(t){return Ww?Object(Ww.call(t)):{}},Zw=function(t,e){var n=e?qw(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Jw=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Gw(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Vw(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Zw(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Xw(t);case"[object Symbol]":return Kw(t)}},Qw=Ro,t_=Object.create,e_=function(){function t(){}return function(e){if(!Qw(e))return{};if(t_)return t_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),n_=e_,r_=kw,i_=ps;var o_=function(t){return"function"!=typeof t.constructor||i_(t)?{}:n_(r_(t))},a_=Fu,s_=sa;var l_=function(t){return s_(t)&&"[object Map]"==a_(t)},c_=Ja,u_=ts&&ts.isMap,h_=u_?c_(u_):l_,f_=Fu,d_=sa;var p_=function(t){return d_(t)&&"[object Set]"==f_(t)},g_=Ja,m_=ts&&ts.isSet,y_=m_?g_(m_):p_,v_=Rc,b_=Ea,x_=vf,w_=nw,__=mw,k_=vw,M_=bw,T_=_w,A_=Sw,E_=vu,$_=jw,L_=Fu,O_=Rw,S_=Jw,N_=o_,z_=Fa,C_=Ba,j_=h_,D_=Ro,R_=y_,P_=Os,I_=fw,F_="[object Arguments]",U_="[object Function]",H_="[object Object]",B_={};B_[F_]=B_["[object Array]"]=B_["[object ArrayBuffer]"]=B_["[object DataView]"]=B_["[object Boolean]"]=B_["[object Date]"]=B_["[object Float32Array]"]=B_["[object Float64Array]"]=B_["[object Int8Array]"]=B_["[object Int16Array]"]=B_["[object Int32Array]"]=B_["[object Map]"]=B_["[object Number]"]=B_[H_]=B_["[object RegExp]"]=B_["[object Set]"]=B_["[object String]"]=B_["[object Symbol]"]=B_["[object Uint8Array]"]=B_["[object Uint8ClampedArray]"]=B_["[object Uint16Array]"]=B_["[object Uint32Array]"]=!0,B_["[object Error]"]=B_[U_]=B_["[object WeakMap]"]=!1;var Y_=function t(e,n,r,i,o,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=o?r(e,i,o,a):r(e)),void 0!==s)return s;if(!D_(e))return e;var h=z_(e);if(h){if(s=O_(e),!l)return M_(e,s)}else{var f=L_(e),d=f==U_||"[object GeneratorFunction]"==f;if(C_(e))return k_(e,l);if(f==H_||f==F_||d&&!o){if(s=c||d?{}:N_(e),!l)return c?A_(e,__(s,e)):T_(e,w_(s,e))}else{if(!B_[f])return o?e:{};s=S_(e,f,l)}}a||(a=new v_);var p=a.get(e);if(p)return p;a.set(e,s),R_(e)?e.forEach((function(i){s.add(t(i,n,r,i,e,a))})):j_(e)&&e.forEach((function(i,o){s.set(o,t(i,n,r,o,e,a))}));var g=h?void 0:(u?c?$_:E_:c?I_:P_)(e);return b_(g||e,(function(i,o){g&&(i=e[o=i]),x_(s,o,t(i,n,r,o,e,a))})),s};var W_=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o},q_=vd,G_=W_;var V_=function(t,e){return e.length<2?t:q_(t,G_(e,0,-1))},X_=Yf,K_=lh,Z_=V_,J_=qf;var Q_=function(t,e){return e=X_(e,t),null==(t=Z_(t,e))||delete t[J_(K_(e))]},tk=aa,ek=kw,nk=sa,rk=Function.prototype,ik=Object.prototype,ok=rk.toString,ak=ik.hasOwnProperty,sk=ok.call(Object);var lk=function(t){if(!nk(t)||"[object Object]"!=tk(t))return!1;var e=ek(t);if(null===e)return!0;var n=ak.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ok.call(n)==sk};var ck=function(t){return lk(t)?void 0:t};var uk=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},hk=Math.max;var fk=function(t,e,n){return e=hk(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=hk(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),uk(t,this,s)}},dk=jo,pk=ff,gk=pk?function(t,e){return pk(t,"toString",{configurable:!0,enumerable:!1,value:dk(e),writable:!0})}:Ds,mk=gk,yk=Date.now;var vk=function(t){var e=0,n=0;return function(){var r=yk(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},bk=vk(mk),xk=Qs,wk=fk,_k=bk;var kk=Sf,Mk=Y_,Tk=Q_,Ak=Yf,Ek=Qx,$k=ck,Lk=jw,Ok=function(t){return _k(wk(t,void 0,xk),t+"")}((function(t,e){var n={};if(null==t)return n;var r=!1;e=kk(e,(function(e){return e=Ak(e,t),r||(r=e.length>1),e})),Ek(t,Lk(t),n),r&&(n=Mk(n,7,$k));for(var i=e.length;i--;)Tk(n,e[i]);return n})),Sk=Co(Ok);function Nk(){const t=window.getSelection();t&&t.removeAllRanges()}function zk({start:t,end:e,bounds:n,type:r,move:i}){const o="x"===r?n.x:n.y,a="x"===r?n.x+n.width:n.y+n.height;return function(t,e,n,r){return t>=n&&e<=r}(t,e,o,a)||function(t,e,n){return t>e&&n<0}(e,a,i)||function(t,e,n){return t<e&&n>0}(t,o,i)}function Ck(t){im(t,"svelte-gqfmpf",".resizers.svelte-gqfmpf.svelte-gqfmpf{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.resizer.svelte-gqfmpf.svelte-gqfmpf{position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto}.resizer.x.svelte-gqfmpf.svelte-gqfmpf{top:0;width:5px;height:100%;cursor:ew-resize}.resizer.y.svelte-gqfmpf.svelte-gqfmpf{height:5px;width:100%;left:0;cursor:ns-resize}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf{cursor:grab}.resizer.drag.svelte-gqfmpf.svelte-gqfmpf:active{cursor:grabbing}.resizer-inner.svelte-gqfmpf.svelte-gqfmpf{position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s}.resizer.x.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{width:5px;height:50%;min-height:10px;max-height:40px}.resizer.y.svelte-gqfmpf .resizer-inner.svelte-gqfmpf{height:5px;width:50%;min-width:10px;max-width:40px}.text:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf,.range-annotation:hover .resizer-inner.svelte-gqfmpf.svelte-gqfmpf{opacity:1}")}function jk(t,e,n){const r=t.slice();return r[21]=e[n],r}function Dk(t){let e,n,r,i,o,a,s;function l(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[18](t[21],...n)}return{c(){e=lm("div"),n=lm("div"),r=hm(),gm(n,"class","resizer-inner svelte-gqfmpf"),gm(e,"class",i="resizer "+t[7]+" svelte-gqfmpf"),gm(e,"style",o=t[8](t[21],t[6],t[1],t[2])),vm(e,"drag","line"===t[0].display),ym(e,"display",Pk(t[21],t[3],t[4])?"none":null)},m(t,i){om(t,e,i),rm(e,n),rm(e,r),a||(s=dm(e,"mousedown",l),a=!0)},p(n,r){t=n,128&r&&i!==(i="resizer "+t[7]+" svelte-gqfmpf")&&gm(e,"class",i),102&r&&o!==(o=t[8](t[21],t[6],t[1],t[2]))&&gm(e,"style",o),129&r&&vm(e,"drag","line"===t[0].display);(126&r||102&r)&&ym(e,"display",Pk(t[21],t[3],t[4])?"none":null)},d(t){t&&am(e),a=!1,s()}}}function Rk(t){let e,n=qm(t[5]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Dk(jk(t,n,e));return{c(){e=lm("div");for(let t=0;t<r.length;t+=1)r[t].c();gm(e,"class","resizers svelte-gqfmpf")},m(t,n){om(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){let[o]=i;if(1023&o){let i;for(n=qm(t[5]),i=0;i<n.length;i+=1){const a=jk(t,n,i);r[i]?r[i].p(a,o):(r[i]=Dk(a),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:Gg,o:Gg,d(t){t&&am(e),sm(r,t)}}}function Pk(t,e,n){return e&&("t"===t||"l"===t)||n&&("b"===t||"r"===t)}function Ik(t,e,n){let r,i,o,{annotation:a}=e,{type:s}=e,{index:l}=e,{repeatedIndex:c}=e,{activeResizer:u}=e,{resizing:h=!1}=e,{noOffsetAtEventStart:f=!1}=e,{orientation:d}=e,{lineOverPlotStart:p=!1}=e,{lineOverPlotEnd:g=!1}=e,{rangeOverPlotStart:m=!1}=e,{rangeOverPlotEnd:y=!1}=e;const v=Tm();let b;const x={l:"left",r:"right",t:"top",b:"bottom"};function w(t,e){t.stopPropagation(),Nk(),v("selectAnnotation",{type:s,index:l,repeatedIndex:c,id:a.id}),void 0===a.width&&v("setWidth"),n(10,u=e),n(11,h=!0),n(12,f=0===a.dx&&0===a.dy)}return t.$$set=t=>{"annotation"in t&&n(0,a=t.annotation),"type"in t&&n(13,s=t.type),"index"in t&&n(14,l=t.index),"repeatedIndex"in t&&n(15,c=t.repeatedIndex),"activeResizer"in t&&n(10,u=t.activeResizer),"resizing"in t&&n(11,h=t.resizing),"noOffsetAtEventStart"in t&&n(12,f=t.noOffsetAtEventStart),"orientation"in t&&n(16,d=t.orientation),"lineOverPlotStart"in t&&n(1,p=t.lineOverPlotStart),"lineOverPlotEnd"in t&&n(2,g=t.lineOverPlotEnd),"rangeOverPlotStart"in t&&n(3,m=t.rangeOverPlotStart),"rangeOverPlotEnd"in t&&n(4,y=t.rangeOverPlotEnd)},t.$$.update=()=>{65537&t.$$.dirty&&n(5,b="y"===d?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),65536&t.$$.dirty&&n(7,r="y"===d?"y":"x"),1&t.$$.dirty&&n(17,i=a.strokeWidth||1),131073&t.$$.dirty&&n(6,o="line"===a.display?i:1)},[a,p,g,m,y,b,o,r,function(t,e,n,r){let i=e/2+2.5;return n&&(i-=e),r&&(i+=e),"".concat(x[t],": -").concat(i,"px")},w,u,h,f,s,l,c,d,i,(t,e)=>w(e,t)]}class Fk extends Jm{constructor(t){super(),Zm(this,t,Ik,Rk,Jg,{annotation:0,type:13,index:14,repeatedIndex:15,activeResizer:10,resizing:11,noOffsetAtEventStart:12,orientation:16,lineOverPlotStart:1,lineOverPlotEnd:2,rangeOverPlotStart:3,rangeOverPlotEnd:4},Ck)}}const Uk=Math.cos(.25*Math.PI),Hk=Math.sin(.25*Math.PI);function Bk(t){let[e,n]=t;return[e*Uk-n*Hk,e*Hk+n*Uk]}function Yk(t){let[e,n]=t;return[e*Uk+n*Hk,n*Uk-e*Hk]}function Wk(t,e,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=r?1:0,o=(n-t[i])/(e[i]-t[i]);if(o<0||o>1)return null;const a=r?0:1;return t[a]+o*(e[a]-t[a])}function qk(t,e,n,r,i,o,a){if(r!==o&&i!==a)throw new Error("only horizontal and vertical lines are supported");const s=i===a,l=function(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=i?1:0;let a=t[o]-2*e[o]+n[o];a||(a=.1);const s=2*(e[o]-t[o]),l=t[o]-r,c=(-s+Math.sqrt(s*s-4*a*l))/(2*a),u=(-s-Math.sqrt(s*s-4*a*l))/(2*a),h=i?0:1,f=[];if(c>=0&&c<=1){const o=Math.pow(1-c,2)*t[h]+2*(1-c)*c*e[h]+c*c*n[h];f.push(i?[o,r,c]:[r,o,c])}if(u>=0&&u<=1){const o=Math.pow(1-u,2)*t[h]+2*(1-u)*u*e[h]+u*u*n[h];f.push(i?[o,r,u]:[r,o,u])}return f}(t,e,n,s?i:r,s);return l.filter((t=>{let[e,n]=t;return s?e>=r&&e<=o:n>=i&&n<=a}))}function Gk(t,e,n,r){const i=Math.pow(1-r,2)*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=Math.pow(1-r,2)*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return[t,[(1-r)*t[0]+r*e[0],(1-r)*t[1]+r*e[1]],[i,o],[i,o],[(1-r)*e[0]+r*n[0],(1-r)*e[1]+r*n[1]],n]}function Vk(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(e){let{source:n,sourcePadding:r,targetPadding:i,circle:o,circleRadius:a}=e;return e=>{o&&a&&(i+=a),r>0&&(n={...n},n.x-=r,n.y-=r,n.width+=2*r,n.height+=2*r);let s=n.x+.5*n.width,l=n.y+.5*n.height,c=0,u=0,[h,f]=function(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a=n-t,s=r-e,l=s,c=-a,u=.5*(t+n),h=.5*(e+r),f=Math.sqrt(l*l+c*c),d=Math.sqrt(a*a+s*s)*i/f*(o?-1:1);return[u+l*d,h+c*d]}(s,l,c,u,.3,t);const d=function(t,e,n,r,i,o,a){const s=[[r,i,r+o,i],[r+o,i,r+o,i+a],[r,i+a,r+o,i+a],[r,i,r,i+a]],l=[];for(const r of s){const i=qk(t,e,n,...r);for(const t of i)l.push(t)}return l}([s,l],[h,f],[c,u],n.x,n.y,n.width,n.height);if(d.length>0){const t=d.map((t=>{let[,,e]=t;return e})).sort(((t,e)=>e-t)),[,,,e,n]=Gk([s,l],[h,f],[c,u],t[0]);[s,l]=e,[h,f]=n}if(i>0){const t=function(t,e,n,r){let i,o,a=0,s=1,l=20;do{if(i=.5*(a+s),o=c(i),Math.abs(o-r)<.1)return i;o>r?a=i:s=i}while(l-- >0);return i;function c(r){const i=(1-r)**2*t[0]+2*(1-r)*r*e[0]+r*r*n[0],o=(1-r)**2*t[1]+2*(1-r)*r*e[1]+r*r*n[1];return Math.sqrt((i-n[0])**2+(o-n[1])**2)}}([s,l],[h,f],[c,u],i),[,e,n]=Gk([s,l],[h,f],[c,u],t);[h,f]=e,[c,u]=n}e.attr("d","M ".concat(s,",").concat(l," Q ").concat(h,",").concat(f," ").concat(c,",").concat(u))}}}const Xk=function(t){let{source:e,sourcePadding:n,targetPadding:r,circle:i,circleRadius:o}=t;return t=>{i&&o&&(r+=o),n&&(e={...e},e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n);let a=e.x+.5*e.width,s=e.y+.5*e.height,l=0,c=0,u=!0,h=-a,f=-s;const d=e.height/e.width;if(2*Math.abs(a)<e.width)a=0,l=0,c=r*(s>0?1:-1),s+=.5*e.height*(s<0?1:-1),u=!1;else if(2*Math.abs(s)<e.height)s=0,c=0,l=r*(a>0?1:-1),a+=.5*e.width*(a<0?1:-1),u=!1;else{const[t,n]=Bk([-.5*e.width,0]),[r,i]=Bk([.5*e.width,0]),[o,l]=Bk([0,-.5*e.height]),[c,u]=Bk([0,.5*e.height]),[p,g]=Bk([-a,-s]);let m,y;if(a>0&&s>0&&p>=t&&p<=o){const[r,i]=Bk([-.5*e.width,-.5*e.height]),a=Wk(p<r?[t,n]:[o,l],[r,i],p,!1);[m,y]=Yk([p,a])}else if(a<0&&s<0&&p>=c&&p<=r){const[t,n]=Bk([.5*e.width,.5*e.height]),o=Wk(p<t?[c,u]:[r,i],[t,n],p,!1);[m,y]=Yk([p,o])}else if(a>0&&s<0&&g>=n&&g<=u){const[r,i]=Bk([-.5*e.width,.5*e.height]),o=Wk(g<i?[t,n]:[c,u],[r,i],g,!0);[m,y]=Yk([o,g])}else if(a<0&&s>0&&g>=l&&g<=i){const[t,n]=Bk([.5*e.width,-.5*e.height]),a=Wk(g<n?[o,l]:[r,i],[t,n],g,!0);[m,y]=Yk([a,g])}else Math.abs(f/h)<d?(m=.5*e.width*(h>0?1:-1),y=.5*e.width*f/h*(h>0?1:-1)):(m=.5*e.height*h/f*(f>0?1:-1),y=.5*e.height*(f>0?1:-1));a+=m,s+=y}if(r>0&&u){h=-a,f=-s;const t=Math.atan2(f,h);l=-Math.cos(t)*r,c=-Math.sin(t)*r}t.attr("d","M ".concat(a,",").concat(s," L ").concat(l,",").concat(c)),t.classed("crisp",a.toFixed(1)===l.toFixed(1)||s.toFixed(1)===c.toFixed(1))}},Kk=Vk(!0),Zk=Vk(!1);var Jk=Object.freeze({__proto__:null,straight:Xk,curveLeft:Kk,curveRight:Zk});function Qk(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t={sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black",...t},function(e){return e.each((function(e){const n={...t,...e},r=ve(this).append("g.callout-line").attr("aria-hidden",!0);n.arrowHead&&(n.targetPadding+=n.strokeWidth,n.circleRadius+=n.strokeWidth);const i=r.append("path").style("stroke-width",n.strokeWidth).style("stroke",n.color).call(Jk[n.type](n));var o;n.arrowHead&&function(t,e,n,r,i){const o=tM[n];if(!e.getTotalLength)return;const a=e.getTotalLength();if(0===a)return;const s=e.getPointAtLength(a),l=e.getPointAtLength(a-10),c=Math.min(1,a/o.minLen/r),[u,h]=[s.x-l.x,s.y-l.y],f=Math.atan2(h,u)/Math.PI*180,d=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate(".concat(s.x,", ").concat(s.y,") rotate(").concat(f,") scale(").concat(r*c,") ")).classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?d.style("stroke",i).style("fill","none").style("stroke-width",1/c):d.style("fill",i).style("stroke","none")}(r,i.node(),n.arrowHead,n.strokeWidth,n.color),n.circle&&r.append("circle").style("stroke",n.color).style("stroke-width",n.strokeWidth).style("stroke-dasharray","dashed"===n.circleStyle?(o=n.strokeWidth,"".concat(2+o,", ").concat(4+o)):void 0).attr("r",n.circleRadius-(n.arrowHead?n.strokeWidth:0))}))}}const tM={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};var eM=Math.ceil,nM=Math.max;var rM=function(t,e,n,r){for(var i=-1,o=nM(eM((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a},iM=rp,oM=fh;var aM=Co(function(t){return function(e,n,r){return r&&"number"!=typeof r&&iM(e,n,r)&&(n=r=void 0),e=oM(e),void 0===n?(n=e,e=0):n=oM(n),r=void 0===r?e<n?1:-1:oM(r),rM(e,n,r,t)}}());function sM(t,e){return`translate(${Math.round(t)}px, ${Math.round(e)}px);`}function lM(t){return!0===t||void 0===t}function cM(t){return!(!lM(t.showDesktop)||!1!==t.showMobile)}function uM(t){return!1===t.showDesktop&&!1===t.showMobile}function hM(t,e=1){const n=I(t);return n.opacity=e,n.formatRgb()}function fM(t,e){return{x:0,y:0,width:t,height:e}}const dM=180/Math.PI;function pM(t,e){return Math.atan(t/e)*dM}function gM(t){im(t,"svelte-1j9q1i5",".callout-line path{stroke:#222;fill:none}.callout-line path.crisp{shape-rendering:crispEdges}.callout-line circle{stroke:#222;fill:none}.callout-line-arrow-head{fill:#222}.callout-line-arrow-head.callout-line-arrow-head-stroke{stroke:#222;fill:none}")}class mM extends Jm{constructor(t){super(),Zm(this,t,null,null,Jg,{},gM)}}function yM(t){im(t,"svelte-k3ilzm",".text-annotation.svelte-k3ilzm.svelte-k3ilzm{position:relative;z-index:2;pointer-events:auto}.text.svelte-k3ilzm.svelte-k3ilzm{left:0px;position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0)}.dw-bold.svelte-k3ilzm.svelte-k3ilzm{font-weight:700}.italic.svelte-k3ilzm.svelte-k3ilzm{font-style:italic}.underline.svelte-k3ilzm.svelte-k3ilzm{-webkit-text-decoration:underline;text-decoration:underline}.num.svelte-k3ilzm.svelte-k3ilzm{display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.connector-line.svelte-k3ilzm.svelte-k3ilzm{left:0px;position:absolute;direction:ltr;pointer-events:none}svg.svelte-k3ilzm.svelte-k3ilzm{position:absolute;overflow:visible}.reference-point.svelte-k3ilzm.svelte-k3ilzm,.offset-point.svelte-k3ilzm.svelte-k3ilzm{left:0px;position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1}.reference-point.hollow.svelte-k3ilzm.svelte-k3ilzm{background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto}.reference-point.svelte-k3ilzm.svelte-k3ilzm::before{content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab}.edit-mode.svelte-k3ilzm:not(.key) .text.svelte-k3ilzm{cursor:grab}.edit-mode.svelte-k3ilzm:not(.key) .text .text-inner.svelte-k3ilzm:after{outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s, outline-style 0.2s}.edit-mode.svelte-k3ilzm:not(.key):not(.selected) .text:hover .text-inner.svelte-k3ilzm:after{outline:1px dotted rgba(255, 0, 221, 0.95)}.edit-mode.svelte-k3ilzm:not(.key) .text.svelte-k3ilzm::before{content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab}.edit-mode.selected.svelte-k3ilzm .text.svelte-k3ilzm{outline-style:solid}.edit-mode.svelte-k3ilzm .text-background.svelte-k3ilzm{position:relative}.edit-mode.selected.svelte-k3ilzm:not(.editable) .text-inner.svelte-k3ilzm::after{background:rgba(255, 0, 221, 0.1)}.edit-mode.svelte-k3ilzm:not(.selected):hover .text-inner.svelte-k3ilzm::after,.edit-mode.selected.editable.svelte-k3ilzm:hover .text-inner.svelte-k3ilzm::after{background:rgba(255, 0, 221, 0.05)}.edit-mode.svelte-k3ilzm .text:hover .text-inner.svelte-k3ilzm::after,.edit-mode.selected.svelte-k3ilzm .text .text-inner.svelte-k3ilzm::after{outline:1px solid rgba(255, 0, 221, 0.95)}.edit-mode.editable.svelte-k3ilzm:hover .text-inner.svelte-k3ilzm:hover:after{background:transparent !important}.edit-mode.svelte-k3ilzm .text-inner.svelte-k3ilzm:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none}.edit-mode.selected.editable.svelte-k3ilzm .text.svelte-k3ilzm{background:transparent}.edit-mode.selected.editable.svelte-k3ilzm .text-inner.svelte-k3ilzm{background:rgba(255, 255, 255, 0.9);cursor:text}.edit-mode.not-editable.svelte-k3ilzm.svelte-k3ilzm:not(.key){-webkit-user-select:none;user-select:none;cursor:grab}.edit-mode.svelte-k3ilzm .text-inner.svelte-k3ilzm{outline:0}.edit-mode.dragging.svelte-k3ilzm.svelte-k3ilzm,.edit-mode.dragging.svelte-k3ilzm .text.svelte-k3ilzm::before,.edit-mode.dragging.selected.svelte-k3ilzm .text-inner.svelte-k3ilzm,.edit-mode.dragging.svelte-k3ilzm .reference-point.svelte-k3ilzm::before{cursor:grabbing}.edit-mode.svelte-k3ilzm .helper.svelte-k3ilzm{left:0px;position:absolute;direction:ltr}.edit-mode.svelte-k3ilzm .helper-line.svelte-k3ilzm{stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none}.edit-mode.svelte-k3ilzm .num.text.svelte-k3ilzm{outline:0}.edit-mode.selected.svelte-k3ilzm .num .text-inner.svelte-k3ilzm{background:transparent}.edit-mode.selected.dragging.out-of-bounds.svelte-k3ilzm.svelte-k3ilzm{display:block !important;opacity:0.25}")}function vM(t){let e,n,r,i,o,a,s,l,c,u,h,f,d=t[0].connectorLine&&t[0].connectorLine.enabled&&bM(t),p=t[17]&&xM(t),g=t[35]&&wM(t),m=t[32]&&_M(t);function y(t,e){return t[8]?MM:kM}let v=y(t),b=v(t),x=t[8]&&!t[18]&&SM(t);return{c(){e=lm("div"),d&&d.c(),n=hm(),p&&p.c(),r=hm(),g&&g.c(),i=hm(),m&&m.c(),o=hm(),a=lm("div"),b.c(),s=hm(),x&&x.c(),gm(a,"class","text svelte-k3ilzm"),gm(a,"style",l=t[36](t[0])),vm(a,"dw-bold",t[0].bold||t[18]),vm(a,"italic",t[0].italic&&!t[18]),vm(a,"underline",t[0].underline&&!t[18]),vm(a,"dw-circle",t[18]),vm(a,"num",t[18]),gm(e,"role","listitem"),gm(e,"class","text-annotation svelte-k3ilzm"),gm(e,"data-annotation-id",c=t[0].id),vm(e,"hide",t[37]),vm(e,"edit-mode",t[8]),vm(e,"selected",t[14]),vm(e,"editable",t[1]&&t[14]),vm(e,"not-editable",!t[1]||!t[14]),vm(e,"key",t[18]),vm(e,"dragging",t[2]),vm(e,"resizing",t[5]),vm(e,"out-of-bounds",t[13])},m(l,c){om(l,e,c),d&&d.m(e,null),rm(e,n),p&&p.m(e,null),rm(e,r),g&&g.m(e,null),rm(e,i),m&&m.m(e,null),rm(e,o),rm(e,a),b.m(a,null),rm(a,s),x&&x.m(a,null),t[91](a),u=!0,h||(f=[dm(a,"mousedown",pm(t[38])),dm(a,"click",t[39]),dm(a,"contextmenu",t[40])],h=!0)},p(t,h){t[0].connectorLine&&t[0].connectorLine.enabled?d?d.p(t,h):(d=bM(t),d.c(),d.m(e,n)):d&&(d.d(1),d=null),t[17]?p?p.p(t,h):(p=xM(t),p.c(),p.m(e,r)):p&&(p.d(1),p=null),t[35]?g?g.p(t,h):(g=wM(t),g.c(),g.m(e,i)):g&&(g.d(1),g=null),t[32]?m?m.p(t,h):(m=_M(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),v===(v=y(t))&&b?b.p(t,h):(b.d(1),b=v(t),b&&(b.c(),b.m(a,s))),t[8]&&!t[18]?x?(x.p(t,h),262400&h[0]&&Ym(x,1)):(x=SM(t),x.c(),Ym(x,1),x.m(a,null)):x&&(Hm(),Wm(x,1,1,(()=>{x=null})),Bm()),(!u||1&h[0]|32&h[1]&&l!==(l=t[36](t[0])))&&gm(a,"style",l),(!u||262145&h[0])&&vm(a,"dw-bold",t[0].bold||t[18]),(!u||262145&h[0])&&vm(a,"italic",t[0].italic&&!t[18]),(!u||262145&h[0])&&vm(a,"underline",t[0].underline&&!t[18]),(!u||262144&h[0])&&vm(a,"dw-circle",t[18]),(!u||262144&h[0])&&vm(a,"num",t[18]),(!u||1&h[0]&&c!==(c=t[0].id))&&gm(e,"data-annotation-id",c),(!u||64&h[1])&&vm(e,"hide",t[37]),(!u||256&h[0])&&vm(e,"edit-mode",t[8]),(!u||16384&h[0])&&vm(e,"selected",t[14]),(!u||16386&h[0])&&vm(e,"editable",t[1]&&t[14]),(!u||16386&h[0])&&vm(e,"not-editable",!t[1]||!t[14]),(!u||262144&h[0])&&vm(e,"key",t[18]),(!u||4&h[0])&&vm(e,"dragging",t[2]),(!u||32&h[0])&&vm(e,"resizing",t[5]),(!u||8192&h[0])&&vm(e,"out-of-bounds",t[13])},i(t){u||(Ym(x),u=!0)},o(t){Wm(x),u=!1},d(n){n&&am(e),d&&d.d(),p&&p.d(),g&&g.d(),m&&m.d(),b.d(),x&&x.d(),t[91](null),h=!1,Kg(f)}}}function bM(t){let e,n,r;return{c(){e=lm("div"),n=cm("svg"),gm(n,"width",t[24]),gm(n,"height",t[25]),gm(n,"class","svelte-k3ilzm"),gm(e,"class","connector-line svelte-k3ilzm"),gm(e,"aria-hidden","true"),gm(e,"style",r="transform: ".concat(sM(t[11],t[12])))},m(r,i){om(r,e,i),rm(e,n),t[81](n)},p(t,i){16777216&i[0]&&gm(n,"width",t[24]),33554432&i[0]&&gm(n,"height",t[25]),6144&i[0]&&r!==(r="transform: ".concat(sM(t[11],t[12])))&&gm(e,"style",r)},d(n){n&&am(e),t[81](null)}}}function xM(t){let e,n,r,i;return{c(){e=lm("div"),n=cm("svg"),r=cm("path"),gm(r,"class","helper-line svelte-k3ilzm"),gm(r,"d",i=t[30](t[0])),gm(n,"width",t[28]),gm(n,"height",t[29]),gm(n,"class","svelte-k3ilzm"),gm(e,"class","helper svelte-k3ilzm")},m(i,o){om(i,e,o),rm(e,n),rm(n,r),t[82](n)},p(t,e){1073741825&e[0]&&i!==(i=t[30](t[0]))&&gm(r,"d",i),268435456&e[0]&&gm(n,"width",t[28]),536870912&e[0]&&gm(n,"height",t[29])},d(n){n&&am(e),t[82](null)}}}function wM(t){let e,n,r,i;return{c(){e=lm("div"),gm(e,"class","reference-point svelte-k3ilzm"),gm(e,"style",n="transform: ".concat(t[33]())),vm(e,"hollow",t[34])},m(n,o){om(n,e,o),r||(i=dm(e,"mousedown",pm(t[41])),r=!0)},p(t,r){4&r[1]&&n!==(n="transform: ".concat(t[33]()))&&gm(e,"style",n),8&r[1]&&vm(e,"hollow",t[34])},d(t){t&&am(e),r=!1,i()}}}function _M(t){let e,n;return{c(){e=lm("div"),gm(e,"class","offset-point svelte-k3ilzm"),gm(e,"style",n="transform: ".concat(t[31]()))},m(t,n){om(t,e,n)},p(t,r){1&r[1]&&n!==(n="transform: ".concat(t[31]()))&&gm(e,"style",n)},d(t){t&&am(e)}}}function kM(t){let e;function n(t,e){return t[18]?AM:TM}let r=n(t),i=r(t);return{c(){e=lm("span"),i.c(),gm(e,"class","export-text")},m(n,r){om(n,e,r),i.m(e,null),t[86](e)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(n){n&&am(e),i.d(),t[86](null)}}}function MM(t){let e;function n(t,e){return t[18]?$M:EM}let r=n(t),i=r(t);return{c(){i.c(),e=fm()},m(t,n){i.m(t,n),om(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){t&&am(e),i.d(t)}}}function TM(t){let e,n,r=t[6](t[0].text)+"";return{c(){e=new bm(!1),n=fm(),e.a=n},m(t,i){e.m(r,t,i),om(t,n,i)},p(t,n){65&n[0]&&r!==(r=t[6](t[0].text)+"")&&e.p(r)},d(t){t&&(am(n),e.d())}}}function AM(t){let e,n=t[7].num+"";return{c(){e=um(n)},m(t,n){om(t,e,n)},p(t,r){128&r[0]&&n!==(n=t[7].num+"")&&mm(e,n)},d(t){t&&am(e)}}}function EM(t){let e;function n(t,e){return t[1]&&t[14]?OM:LM}let r=n(t),i=r(t);return{c(){e=lm("div"),i.c(),gm(e,"class","text-background svelte-k3ilzm")},m(t,n){om(t,e,n),i.m(e,null)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&am(e),i.d()}}}function $M(t){let e,n,r=t[7].num+"";return{c(){e=lm("span"),n=um(r)},m(t,r){om(t,e,r),rm(e,n)},p(t,e){128&e[0]&&r!==(r=t[7].num+"")&&mm(n,r)},d(t){t&&am(e)}}}function LM(t){let e,n=t[6](t[0].text)+"";return{c(){e=lm("span"),gm(e,"class","text-inner text-edit svelte-k3ilzm")},m(r,i){om(r,e,i),e.innerHTML=n,t[85](e)},p(t,r){65&r[0]&&n!==(n=t[6](t[0].text)+"")&&(e.innerHTML=n)},d(n){n&&am(e),t[85](null)}}}function OM(t){let e,n,r,i=t[6](t[27])+"";return{c(){e=lm("span"),gm(e,"contenteditable",""),gm(e,"class","text-inner text-edit svelte-k3ilzm"),void 0===t[26]&&Cm((()=>t[84].call(e)))},m(o,a){om(o,e,a),e.innerHTML=i,t[83](e),void 0!==t[26]&&(e.innerHTML=t[26]),n||(r=[dm(e,"input",t[84]),dm(e,"input",t[42]),dm(e,"blur",t[43])],n=!0)},p(t,n){134217792&n[0]&&i!==(i=t[6](t[27])+"")&&(e.innerHTML=i),67108864&n[0]&&t[26]!==e.innerHTML&&(e.innerHTML=t[26])},d(i){i&&am(e),t[83](null),n=!1,Kg(r)}}}function SM(t){let e,n,r,i,o;function a(e){t[87](e)}function s(e){t[88](e)}function l(e){t[89](e)}let c={type:"text",annotation:t[0],index:t[9],repeatedIndex:t[10]};return void 0!==t[3]&&(c.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(c.activeResizer=t[4]),void 0!==t[5]&&(c.resizing=t[5]),e=new Fk({props:c}),$m.push((()=>Gm(e,"noOffsetAtEventStart",a))),$m.push((()=>Gm(e,"activeResizer",s))),$m.push((()=>Gm(e,"resizing",l))),e.$on("selectAnnotation",t[90]),e.$on("setWidth",t[45]),{c(){Vm(e.$$.fragment)},m(t,n){Xm(e,t,n),o=!0},p(t,o){const a={};1&o[0]&&(a.annotation=t[0]),512&o[0]&&(a.index=t[9]),1024&o[0]&&(a.repeatedIndex=t[10]),!n&&8&o[0]&&(n=!0,a.noOffsetAtEventStart=t[3],jm((()=>n=!1))),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],jm((()=>r=!1))),!i&&32&o[0]&&(i=!0,a.resizing=t[5],jm((()=>i=!1))),e.$set(a)},i(t){o||(Ym(e.$$.fragment,t),o=!0)},o(t){Wm(e.$$.fragment,t),o=!1},d(t){Km(e,t)}}}function NM(t){let e,n,r,i,o,a;e=new mM({});let s=!t[20]&&!t[19]&&vM(t);return{c(){Vm(e.$$.fragment),n=hm(),s&&s.c(),r=fm()},m(l,c){Xm(e,l,c),om(l,n,c),s&&s.m(l,c),om(l,r,c),i=!0,o||(a=dm(window,"keydown",t[44]),o=!0)},p(t,e){t[20]||t[19]?s&&(Hm(),Wm(s,1,1,(()=>{s=null})),Bm()):s?(s.p(t,e),1572864&e[0]&&Ym(s,1)):(s=vM(t),s.c(),Ym(s,1),s.m(r.parentNode,r))},i(t){i||(Ym(e.$$.fragment,t),Ym(s),i=!0)},o(t){Wm(e.$$.fragment,t),Wm(s),i=!1},d(t){t&&(am(n),am(r)),Km(e,t),s&&s.d(t),o=!1,a()}}}function zM(t,e,n){let r,i,o,a,s,l,c,u,h,f,d,p,g,m,y,v,b,x,w,_,k,M,T,A,E,$,L;var O,S=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};let N,z,{annotation:C}=e,{dataToPx:j}=e,{pxToData:D}=e,{bounds:R}=e,{theme:P}=e,{cm:I}=e,{chroma:F}=e,{purifyHtml:U}=e,{key:H}=e,{rtl:B=!1}=e,{mirrorX:Y=!1}=e,{isMobileWidth:W=!1}=e,{allowRepeated:q=!0}=e,G=0,V=0,X=0,K=0,Z=0;function J(){N&&N.offsetWidth&&N.offsetHeight&&(n(63,X=N.offsetWidth),n(64,K=N.offsetHeight),n(65,Z=z&&z.offsetWidth||pt&&pt.offsetWidth||0),function(){if(!C.connectorLine||!C.connectorLine.enabled)return;const t=ve(Q);t.selectAll("*").remove();const{circle:e,circleRadius:r,stroke:i,inheritColor:a,targetPadding:s}=C.connectorLine,[l,c]=y(C,{useInnerText:!0});let h=l-G;B&&d&&(h-=p);const g=c-V,m=a&&u&&!f?u:Pg(P,"color",o),v={curveLeft:Y?"curveRight":"curveLeft",curveRight:Y?"curveLeft":"curveRight",straight:"straight"},b=f?X:Z,x=Object.assign(Object.assign({},C.connectorLine),{circle:e,circleRadius:r,source:{x:h,y:g,width:b,height:K},sourcePadding:rt(),targetPadding:f?0:s,strokeWidth:f?1:i,color:m,type:v[C.connectorLine.type]}),w=Qk(x);t.call(w);const _=Q.getBBox();n(24,it=Math.max(Math.ceil(_.width),1)),n(25,ot=Math.max(Math.ceil(_.height),1));const k=t.select(".callout-line").select("path").attr("d");(function(t,e){const n=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(",");let r=Math.max(Math.abs(Number(n[0])),Math.abs(Number(n[1])))-e;return isNaN(r)&&(r=0),r})(k,s)<10||nt(5)||function(t,e,n){if(!t||!n)return;const r=e.indexOf("M ")+2,i=e.indexOf(" ",r),o=e.substring(r,i).split(",").map((t=>parseInt(t,10)));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(n,2)}(e,k,r)?(t.selectAll("*").remove(),gt&&at("updateEditorState",{hideConnectorLine:!0})):gt&&at("updateEditorState",{hideConnectorLine:!1})}())}Mm((()=>{st?J():(zm(),Sm).then(J)})),km((()=>{const t=new ResizeObserver((()=>{J()}));N&&t.observe(N)}));let Q,tt=!1;function et(){let t=pM(C.dy,C.dx)+90;return C.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function nt(t){const[e,n]=y(C,{useInnerText:!0});let r=e,i=e+Z;B&&d&&(r-=p,i-=p);return G>r-t&&G<i+t&&V>n-t&&V<n+K+t}function rt(){if(!f)return 4;const t=et();if(!!(t.includes("c")||t.includes("m")))return 0;const e=(X*Math.sqrt(2)-X)/2;return-Math.sqrt(Math.pow(e,2)/2)}let it=1,ot=1;const at=Tm();let{editMode:st=!1}=e,{isEditable:lt=!1}=e,{editorState:ct}=e,{index:ut}=e,{repeatedIndex:ht}=e,ft=!1;function dt(){ft||at("updateAnnotation",{annotation:C,type:"text"})}let pt,gt=!1;let{moveX:mt=0}=e,{moveY:yt=0}=e,{dragging:vt=!1}=e,{noOffsetAtEventStart:bt}=e,{forceOffsetDrag:xt}=e,{forceAnchorDrag:wt}=e,{forceAnchorDragTemp:_t}=e;let kt,Mt,{activeResizer:Tt}=e,{resizing:At=!1}=e,Et=C.text;let $t=1,Lt=1;return t.$$set=t=>{"annotation"in t&&n(0,C=t.annotation),"dataToPx"in t&&n(51,j=t.dataToPx),"pxToData"in t&&n(52,D=t.pxToData),"bounds"in t&&n(53,R=t.bounds),"theme"in t&&n(54,P=t.theme),"cm"in t&&n(55,I=t.cm),"chroma"in t&&n(56,F=t.chroma),"purifyHtml"in t&&n(6,U=t.purifyHtml),"key"in t&&n(7,H=t.key),"rtl"in t&&n(57,B=t.rtl),"mirrorX"in t&&n(58,Y=t.mirrorX),"isMobileWidth"in t&&n(59,W=t.isMobileWidth),"allowRepeated"in t&&n(60,q=t.allowRepeated),"editMode"in t&&n(8,st=t.editMode),"isEditable"in t&&n(1,lt=t.isEditable),"editorState"in t&&n(46,ct=t.editorState),"index"in t&&n(9,ut=t.index),"repeatedIndex"in t&&n(10,ht=t.repeatedIndex),"moveX"in t&&n(47,mt=t.moveX),"moveY"in t&&n(48,yt=t.moveY),"dragging"in t&&n(2,vt=t.dragging),"noOffsetAtEventStart"in t&&n(3,bt=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&n(49,xt=t.forceOffsetDrag),"forceAnchorDrag"in t&&n(50,wt=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&n(61,_t=t.forceAnchorDragTemp),"activeResizer"in t&&n(4,Tt=t.activeResizer),"resizing"in t&&n(5,At=t.resizing)},t.$$.update=()=>{if(8388608&t.$$.dirty[1]&&n(80,r={mobile:uf(P,"vis.base.annotations.mobile",{}),desktop:uf(P,"vis.base.annotations.text",{})}),8388608&t.$$.dirty[1]&&n(77,i=uf(P,"colors.background","#ffffff")),41943040&t.$$.dirty[1]&&n(70,o=$v(P,F).fallbackBaseColor),294912&t.$$.dirty[2]&&n(75,a=uf(r.mobile,"icons.background",hM(i,.7))),262400&t.$$.dirty[2]&&n(76,s=uf(r.mobile,"icons.outline","1px solid ".concat(o))),262144&t.$$.dirty[2]&&n(79,l=r.desktop.color),134217728&t.$$.dirty[1]&&n(67,c=Y?-1:1),1&t.$$.dirty[0]&&n(0,C.dx=+C.dx||0,C),1&t.$$.dirty[0]&&n(0,C.dy=+C.dy||0,C),16397&t.$$.dirty[0]|1614741504&t.$$.dirty[1]|48&t.$$.dirty[2]&&gt&&vt&&(mt||yt)&&!ft){if(bt&&!xt||wt||_t){let[t,e]=j({position:Object.assign(Object.assign({},C.position),{plot:C._plot})});t+=mt,e+=yt;const{position:r,validPosition:i}=D({x:t,y:e,plot:C.showInAllPlots&&q?C._plot:void 0}),{plot:o}=r,a=S(r,["plot"]);n(46,ct.draggingOutOfBounds=!1===i,ct),C.showInAllPlots&&q||!o||(C.position.plot!==o&&n(46,ct.plotHasUpdated=!0,ct),n(0,C.position=Object.assign(Object.assign({},C.position),{plot:o}),C)),n(0,C.position=Object.assign(Object.assign({},C.position),a),C)}else n(0,C.dx+=mt*c,C),n(0,C.dy+=yt,C);xt&&bt&&!C.connectorLine.enabled&&!nt(20)&&(n(0,C.connectorLine.enabled=!0,C),n(0,C.connectorLine.type="curveLeft",C)),n(47,mt=0),n(48,yt=0),dt()}if(17413&t.$$.dirty[0]|540049408&t.$$.dirty[1]&&!vt&&gt&&!0===ct.draggingOutOfBounds&&(!C.showInAllPlots||!q||ht===ct.activeRepeatedAnnotationIndex)){const t=j({position:Object.assign(Object.assign({},C.position),{plot:C._plot})}),{position:e}=D({x:t[0],y:t[1],plot:C._plot,clamped:!0});n(0,C.position=Object.assign(Object.assign({},C.position),e),C),n(46,ct.draggingOutOfBounds=!1,ct),dt()}if(16441&t.$$.dirty[0]|141754368&t.$$.dirty[1]&&gt&&At&&(mt||yt)){let t=mt/R.width*100,e=0;if(C.align.includes("c")?(e+=mt/2,"l"===Tt&&(t=-t)):C.align.includes(Y?"r":"l")?"l"===Tt&&(e+=mt,t=-t):C.align.includes(Y?"l":"r")&&("l"===Tt&&(t=-t),"r"===Tt&&(e+=mt)),bt){const t=j({position:Object.assign(Object.assign({},C.position),{plot:C._plot})});let r=t[0];r+=e;const{position:i}=D({x:r,y:t[1]});n(0,C.position=Object.assign(Object.assign({},C.position),Sk(i,["plot"])),C)}else n(0,C.dx+=e,C);n(0,C.width+=t,C),n(0,C.width=Math.max(5,C.width),C),n(47,mt=0),dt()}if(1&t.$$.dirty[0]|16777216&t.$$.dirty[1]|131072&t.$$.dirty[2]&&n(71,u=C.color?I(C.color):I(l,{noInvert:!0})),1&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&n(11,[G,V]=j({position:Object.assign(Object.assign({},C.position),{plot:C._plot})}),G,(n(12,V),n(51,j),n(0,C),n(14,gt),n(2,vt),n(47,mt),n(48,yt),n(66,ft),n(3,bt),n(49,xt),n(50,wt),n(61,_t),n(52,D),n(60,q),n(93,S),n(67,c),n(46,ct),n(10,ht),n(5,At),n(53,R),n(4,Tt),n(58,Y))),2048&t.$$.dirty[0]&&n(20,g=void 0===G),4096&t.$$.dirty[0]&&n(19,m=void 0===V),1579009&t.$$.dirty[0]|6291456&t.$$.dirty[1]&&R&&!g&&!m){const{validPosition:t}=D({x:G,y:V,plot:C._plot});!1===t&&void 0!==C._plot?n(13,tt=!0):n(13,tt=!1)}if(8193&t.$$.dirty[0]|268435456&t.$$.dirty[1]&&n(37,h=uM(C)||function(t){return!(!lM(t.showMobile)||!1!==t.showDesktop)}(C)&&!W||cM(C)&&W||tt),128&t.$$.dirty[0]&&n(18,f=H&&H.render),262144&t.$$.dirty[0]|10&t.$$.dirty[2]&&n(72,d=!f&&Z>X),10&t.$$.dirty[2]&&(p=Z-X),1&t.$$.dirty[0]&&n(68,w=0===C.dx&&0===C.dy),268288&t.$$.dirty[0]|134217728&t.$$.dirty[1]|1134&t.$$.dirty[2]&&n(73,y=function(t){let{useInnerText:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[n,r]=[G,V],i=t.align;f||(n+=t.dx*c,r+=t.dy),f&&!w&&([n,r]=function(t,e){const n=C.connectorLine.circle?Math.max(0,C.connectorLine.circleRadius):0,r=22+n,i=(27+n)*c,o=et(),[a,s]={br:[-r,-r],bc:[-i,0],bl:[-r,r],mr:[0,-i],mc:[-i-.5*K,0],ml:[0,i],tr:[r,-r],tc:[i,0],tl:[r,r]}[o];return[t+=s,e+=a]}(n,r),i="mc");const o={l:Y?"r":"l",c:"c",r:Y?"l":"r"}[i.charAt(1)],a=i.charAt(0);return n-=(!e||d||f?X:Z)*{l:0,c:.5,r:1}[o],r-=K*{t:0,m:.5,b:1}[a],[n,r]}),2048&t.$$.dirty[2]&&n(74,v=t=>{const[e,n]=y(t);return sM(e,n)}),262144&t.$$.dirty[0]|127488&t.$$.dirty[2]&&n(36,x=t=>{const e=[];return f?(e.push("border: ".concat(s)),e.push("background-color: ".concat(a))):(e.push(...b(t)),u&&e.push("color: ".concat(u)),t.bg&&i&&e.push("text-shadow: ".concat(function(t,e,n){const r=[],i=aM(-t,t+1);return i.forEach((t=>{i.forEach((i=>{(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:e)+"px "+n)}))})),r.join(", ")}(2,2,i)))),e.push("transform: ".concat(v(t))),e.join("; ")}),1025&t.$$.dirty[0]|32768&t.$$.dirty[1]&&function(t,e,r){n(66,ft=!(!t.showInAllPlots||!q)&&void 0!==e&&e!==r.activeRepeatedAnnotationIndex)}(C,ht,ct),32768&t.$$.dirty[1]&&function(t){n(14,gt=t.selectedTextAnnotations.includes(C.id))}(ct),32770&t.$$.dirty[0]&&!lt&&pt&&pt.blur(),1857537&t.$$.dirty[0]|6&t.$$.dirty[2]&&gt){const t={x:G,y:V,invalidX:g,invalidY:m,width:X,height:K,mobileFallback:f,text:C.text,plot:C._plot};at("updateEditorState",{selectedAnnotationProps:t})}if(1&t.$$.dirty[0]&&n(69,_="mc"===C.align),278784&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(35,k=st&&gt&&!f&&!(w&&_)),278784&t.$$.dirty[0]|64&t.$$.dirty[2]&&n(34,M=st&&gt&&!f&&!w),6144&t.$$.dirty[0]&&n(33,T=()=>{let[t,e]=[G,V];return t-=2.5,e-=2.5,sM(t,e)}),278784&t.$$.dirty[0]|192&t.$$.dirty[2]&&n(32,A=st&&gt&&!f&&!w&&!_),6145&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(31,E=()=>{let[t,e]=[G,V];return t-=2.5,e-=2.5,t+=C.dx*c,e+=C.dy,sM(t,e)}),32833&t.$$.dirty[0]){pt&&pt===document.activeElement||(n(26,kt=U(C.text)),n(27,Et=C.text))}if(278785&t.$$.dirty[0]|65&t.$$.dirty[2]&&n(17,$=st&&gt&&!(null===n(62,O=C.connectorLine)||void 0===O?void 0:O.enabled)&&!w&&!f),6144&t.$$.dirty[0]|32&t.$$.dirty[2]&&n(30,L=t=>{const[e,n]=[G,V];return"M ".concat(e,",").concat(n," L").concat(e+t.dx*c,",").concat(n+t.dy)}),196608&t.$$.dirty[0]&&Mt&&$){const t=Mt.getBBox();n(28,$t=Math.max(Math.ceil(t.width),1)),n(29,Lt=Math.max(Math.ceil(t.height),1))}},n(78,b=t=>{const e=[];return t.width&&e.push("width: ".concat(function(t){const e=R.width*(t.width/100);return"".concat(e,"px")}(t))),e.push("font-size: ".concat(t.size||14,"px")),e.push("min-height: ".concat(t.size||14,"px")),e.push("text-align: ".concat(function(t){return t.align?{l:Y?"right":"left",c:"center",r:Y?"left":"right"}[t.align.charAt(1)]:"center"}(t))),e}),[C,lt,vt,bt,Tt,At,U,H,st,ut,ht,G,V,tt,gt,pt,Mt,$,f,m,g,N,z,Q,it,ot,kt,Et,$t,Lt,L,E,A,T,M,k,x,h,function(t){if(!st)return;Nk(),at("selectAnnotation",{type:"text",index:ut,repeatedIndex:ht,id:C.id});const e=t.target,r=e.parentNode,i="true"===e.contentEditable||"true"===r.contentEditable;f||i&&gt||(n(47,mt=0),n(48,yt=0),n(2,vt=!0),n(49,xt=t.ctrlKey),xt&&at("updateEditorState",{forceOffsetDrag:!0}),n(3,bt=0===C.dx&&0===C.dy))},function(t){st&&t.preventDefault()},function(t){st&&t.preventDefault()},function(){st&&(Nk(),at("selectAnnotation",{type:"text",index:ut,repeatedIndex:ht,id:C.id}),n(2,vt=!0),n(50,wt=!0))},function(){n(0,C.text=kt.slice&&"&nbsp;"===kt.slice(-6)&&"&nbsp;&nbsp;"!==kt.slice(-12)?"".concat(kt.slice(0,-6)," "):kt,C),dt()},function(){Nk()},function(t){if(!st||f)return;const e="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&gt&&lt)pt.blur(),n(1,lt=!1);else if("Escape"===t.key&&gt)at("selectAnnotation",null);else if(e&&gt&&!lt){t.preventDefault();const e="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,r="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)n(0,C.dx+=e*c,C),n(0,C.dy+=r,C);else{let[t,i]=j({position:Object.assign(Object.assign({},C.position),{plot:C._plot})});t+=e,i+=r;const{position:o,validPosition:a}=D({x:t,y:i});(void 0===C._plot||!0===a)&&n(0,C.position=Object.assign(Object.assign({},C.position),Sk(o,["plot"])),C)}}dt()},function(){n(0,C.width=X/R.width*100,C),dt()},ct,mt,yt,xt,wt,j,D,R,P,I,F,B,Y,W,q,_t,O,X,K,Z,ft,c,w,_,o,u,d,y,v,a,s,i,b,l,r,function(t){$m[t?"unshift":"push"]((()=>{Q=t,n(23,Q)}))},function(t){$m[t?"unshift":"push"]((()=>{Mt=t,n(16,Mt)}))},function(t){$m[t?"unshift":"push"]((()=>{pt=t,n(15,pt)}))},function(){kt=this.innerHTML,n(26,kt),n(15,pt),n(6,U),n(0,C),n(14,gt),n(2,vt),n(47,mt),n(48,yt),n(66,ft),n(3,bt),n(49,xt),n(50,wt),n(61,_t),n(51,j),n(52,D),n(60,q),n(93,S),n(67,c),n(46,ct),n(10,ht),n(5,At),n(53,R),n(4,Tt),n(58,Y)},function(t){$m[t?"unshift":"push"]((()=>{pt=t,n(15,pt)}))},function(t){$m[t?"unshift":"push"]((()=>{z=t,n(22,z)}))},function(t){bt=t,n(3,bt)},function(t){Tt=t,n(4,Tt)},function(t){At=t,n(5,At)},function(e){Am.call(this,t,e)},function(t){$m[t?"unshift":"push"]((()=>{N=t,n(21,N)}))}]}class CM extends Jm{constructor(t){super(),Zm(this,t,zM,NM,Jg,{annotation:0,dataToPx:51,pxToData:52,bounds:53,theme:54,cm:55,chroma:56,purifyHtml:6,key:7,rtl:57,mirrorX:58,isMobileWidth:59,allowRepeated:60,editMode:8,isEditable:1,editorState:46,index:9,repeatedIndex:10,moveX:47,moveY:48,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:49,forceAnchorDrag:50,forceAnchorDragTemp:61,activeResizer:4,resizing:5},yM,[-1,-1,-1,-1])}}const jM={text:{dx:0,dy:0,width:void 0,align:"tl",size:14,color:!1,bg:!1,bold:!1,italic:!1,underline:!1,showMobile:!0,showDesktop:!0,mobileFallback:!0,text:"",connectorLine:{enabled:!1,arrowHead:"lines",type:"straight",targetPadding:4,stroke:1,inheritColor:!1,circle:!1,circleStyle:"solid",circleRadius:15}},range:{color:"#888888",opacity:10,strokeWidth:1,strokeType:"solid"},line:{color:"#888888",opacity:50,strokeWidth:1,strokeType:"solid"}};function DM(t){im(t,"svelte-f85b34",".create-mode .range-annotation{pointer-events:none !important}.range-annotation.svelte-f85b34.svelte-f85b34{position:absolute;top:0px;left:0px;pointer-events:none}.range-annotation.edit-mode.svelte-f85b34.svelte-f85b34{display:flex;justify-content:center;align-items:center;pointer-events:auto;z-index:1}.range-annotation.edit-mode.svelte-f85b34:hover .dot.svelte-f85b34{opacity:1 !important}.range-annotation.edit-mode.range.svelte-f85b34.svelte-f85b34{z-index:1;background:transparent !important;border:1px solid transparent;box-sizing:border-box}.range-annotation.edit-mode.range.x.svelte-f85b34.svelte-f85b34{border-width:0 1px 0 1px}.range-annotation.edit-mode.range.x.start-out-of-bounds.svelte-f85b34.svelte-f85b34{border-left-width:0 !important}.range-annotation.edit-mode.range.x.end-out-of-bounds.svelte-f85b34.svelte-f85b34{border-right-width:0 !important}.range-annotation.edit-mode.range.y.svelte-f85b34.svelte-f85b34{border-width:1px 0 1px 0}.range-annotation.edit-mode.range.y.start-out-of-bounds.svelte-f85b34.svelte-f85b34{border-top-width:0 !important}.range-annotation.edit-mode.range.y.end-out-of-bounds.svelte-f85b34.svelte-f85b34{border-bottom-width:0 !important}.range-annotation.edit-mode.selected.svelte-f85b34.svelte-f85b34{z-index:2}.range-annotation.edit-mode.selected.svelte-f85b34 .dot.svelte-f85b34{opacity:1}.range-annotation.edit-mode.selected.range.svelte-f85b34.svelte-f85b34{z-index:2;border:1px solid rgba(255, 0, 221, 0.95)}.range-annotation.edit-mode.selected.range.x.svelte-f85b34.svelte-f85b34{border-width:0 1px 0 1px}.range-annotation.edit-mode.selected.range.y.svelte-f85b34.svelte-f85b34{border-width:1px 0 1px 0}.range-annotation.edit-mode.selected.line.svelte-f85b34.svelte-f85b34{border-color:rgba(255, 0, 221, 0.95) !important}.range-annotation.edit-mode.range.svelte-f85b34 .dot-drag.svelte-f85b34{width:20px;height:20px;cursor:grab;display:flex;align-items:center;justify-content:center}.range-annotation.edit-mode.dragging.svelte-f85b34 .dot-drag.svelte-f85b34{cursor:grabbing}.range-annotation.edit-mode.range.svelte-f85b34 .dot-drag .dot.svelte-f85b34{width:5px;height:5px;background:rgba(255, 0, 221, 0.95);opacity:0;transition:opacity 0.2s}.range-annotation.x.svelte-f85b34.svelte-f85b34{height:100%}.range-annotation.y.svelte-f85b34.svelte-f85b34{width:100%}.range-annotation.range.svelte-f85b34.svelte-f85b34{z-index:-1}.range-annotation.line.svelte-f85b34.svelte-f85b34{z-index:1;border-width:0;background:transparent;-webkit-transform:scale(1)}.range-annotation.line.x.svelte-f85b34.svelte-f85b34{height:100%;width:0px}.range-annotation.line.y.svelte-f85b34.svelte-f85b34{width:100%;height:0px}.create-mode .range-annotation{pointer-events:none}")}function RM(t){let e,n,r,i,o,a,s=t[5]&&IM(t);return{c(){e=lm("div"),i=hm(),s&&s.c(),o=fm(),gm(e,"class",n="range-annotation dw-rect range "+t[0].type+" svelte-f85b34"),gm(e,"style",r=t[16](t[0],t[4]))},m(t,n){om(t,e,n),om(t,i,n),s&&s.m(t,n),om(t,o,n),a=!0},p(t,i){(!a||1&i[0]&&n!==(n="range-annotation dw-rect range "+t[0].type+" svelte-f85b34"))&&gm(e,"class",n),(!a||65553&i[0]&&r!==(r=t[16](t[0],t[4])))&&gm(e,"style",r),t[5]?s?(s.p(t,i),32&i[0]&&Ym(s,1)):(s=IM(t),s.c(),Ym(s,1),s.m(o.parentNode,o)):s&&(Hm(),Wm(s,1,1,(()=>{s=null})),Bm())},i(t){a||(Ym(s),a=!0)},o(t){Wm(s),a=!1},d(t){t&&(am(e),am(i),am(o)),s&&s.d(t)}}}function PM(t){let e,n,r,i,o,a,s=t[5]&&FM(t);return{c(){e=lm("div"),s&&s.c(),gm(e,"class",n="range-annotation dw-line line "+t[0].type+" svelte-f85b34"),gm(e,"style",r=t[15](t[0],t[4])),vm(e,"edit-mode",t[5]),vm(e,"no-edit-mode",!t[5]),vm(e,"selected",t[8])},m(n,r){om(n,e,r),s&&s.m(e,null),i=!0,o||(a=dm(e,"mousedown",pm(t[32])),o=!0)},p(t,o){t[5]?s?(s.p(t,o),32&o[0]&&Ym(s,1)):(s=FM(t),s.c(),Ym(s,1),s.m(e,null)):s&&(Hm(),Wm(s,1,1,(()=>{s=null})),Bm()),(!i||1&o[0]&&n!==(n="range-annotation dw-line line "+t[0].type+" svelte-f85b34"))&&gm(e,"class",n),(!i||32785&o[0]&&r!==(r=t[15](t[0],t[4])))&&gm(e,"style",r),(!i||33&o[0])&&vm(e,"edit-mode",t[5]),(!i||33&o[0])&&vm(e,"no-edit-mode",!t[5]),(!i||257&o[0])&&vm(e,"selected",t[8])},i(t){i||(Ym(s),i=!0)},o(t){Wm(s),i=!1},d(t){t&&am(e),s&&s.d(),o=!1,a()}}}function IM(t){let e,n,r,i,o,a,s,l,c,u,h;function f(e){t[36](e)}function d(e){t[37](e)}let p={type:"range",annotation:t[0],index:t[6],repeatedIndex:t[7],orientation:t[0].type,rangeOverPlotStart:t[11],rangeOverPlotEnd:t[12]};return void 0!==t[3]&&(p.activeResizer=t[3]),void 0!==t[1]&&(p.resizing=t[1]),i=new Fk({props:p}),$m.push((()=>Gm(i,"activeResizer",f))),$m.push((()=>Gm(i,"resizing",d))),i.$on("selectAnnotation",t[38]),{c(){e=lm("div"),n=lm("div"),n.innerHTML='<div class="dot svelte-f85b34"></div>',r=hm(),Vm(i.$$.fragment),gm(n,"class","dot-drag svelte-f85b34"),gm(e,"style",s=t[16](t[0],t[4])),gm(e,"class",l="range-annotation edit-mode range "+t[0].type+" svelte-f85b34"),vm(e,"edit-mode",t[5]),vm(e,"no-edit-mode",!t[5]),vm(e,"selected",t[8]),vm(e,"dragging",t[2]),vm(e,"start-out-of-bounds",t[11]),vm(e,"end-out-of-bounds",t[12])},m(o,a){om(o,e,a),rm(e,n),rm(e,r),Xm(i,e,null),c=!0,u||(h=dm(n,"mousedown",pm(t[18])),u=!0)},p(t,n){const r={};1&n[0]&&(r.annotation=t[0]),64&n[0]&&(r.index=t[6]),128&n[0]&&(r.repeatedIndex=t[7]),1&n[0]&&(r.orientation=t[0].type),2048&n[0]&&(r.rangeOverPlotStart=t[11]),4096&n[0]&&(r.rangeOverPlotEnd=t[12]),!o&&8&n[0]&&(o=!0,r.activeResizer=t[3],jm((()=>o=!1))),!a&&2&n[0]&&(a=!0,r.resizing=t[1],jm((()=>a=!1))),i.$set(r),(!c||65553&n[0]&&s!==(s=t[16](t[0],t[4])))&&gm(e,"style",s),(!c||1&n[0]&&l!==(l="range-annotation edit-mode range "+t[0].type+" svelte-f85b34"))&&gm(e,"class",l),(!c||33&n[0])&&vm(e,"edit-mode",t[5]),(!c||33&n[0])&&vm(e,"no-edit-mode",!t[5]),(!c||257&n[0])&&vm(e,"selected",t[8]),(!c||5&n[0])&&vm(e,"dragging",t[2]),(!c||2049&n[0])&&vm(e,"start-out-of-bounds",t[11]),(!c||4097&n[0])&&vm(e,"end-out-of-bounds",t[12])},i(t){c||(Ym(i.$$.fragment,t),c=!0)},o(t){Wm(i.$$.fragment,t),c=!1},d(t){t&&am(e),Km(i),u=!1,h()}}}function FM(t){let e,n,r,i;function o(e){t[33](e)}function a(e){t[34](e)}let s={type:"line",annotation:t[0],index:t[6],repeatedIndex:t[7],orientation:t[0].type,lineOverPlotStart:t[13],lineOverPlotEnd:t[14]};return void 0!==t[3]&&(s.activeResizer=t[3]),void 0!==t[1]&&(s.resizing=t[1]),e=new Fk({props:s}),$m.push((()=>Gm(e,"activeResizer",o))),$m.push((()=>Gm(e,"resizing",a))),e.$on("selectAnnotation",t[35]),{c(){Vm(e.$$.fragment)},m(t,n){Xm(e,t,n),i=!0},p(t,i){const o={};1&i[0]&&(o.annotation=t[0]),64&i[0]&&(o.index=t[6]),128&i[0]&&(o.repeatedIndex=t[7]),1&i[0]&&(o.orientation=t[0].type),8192&i[0]&&(o.lineOverPlotStart=t[13]),16384&i[0]&&(o.lineOverPlotEnd=t[14]),!n&&8&i[0]&&(n=!0,o.activeResizer=t[3],jm((()=>n=!1))),!r&&2&i[0]&&(r=!0,o.resizing=t[1],jm((()=>r=!1))),e.$set(o)},i(t){i||(Ym(e.$$.fragment,t),i=!0)},o(t){Wm(e.$$.fragment,t),i=!1},d(t){Km(e,t)}}}function UM(t){let e,n,r,i,o,a;const s=[PM,RM],l=[];function c(t,e){return"line"!==t[0].display||t[10]?t[10]||t[9]?-1:1:0}return~(e=c(t))&&(n=l[e]=s[e](t)),{c(){n&&n.c(),r=fm()},m(n,s){~e&&l[e].m(n,s),om(n,r,s),i=!0,o||(a=dm(window,"keydown",t[17]),o=!0)},p(t,i){let o=e;e=c(t),e===o?~e&&l[e].p(t,i):(n&&(Hm(),Wm(l[o],1,1,(()=>{l[o]=null})),Bm()),~e?(n=l[e],n?n.p(t,i):(n=l[e]=s[e](t),n.c()),Ym(n,1),n.m(r.parentNode,r)):n=null)},i(t){i||(Ym(n),i=!0)},o(t){Wm(n),i=!1},d(t){t&&am(r),~e&&l[e].d(t),o=!1,a()}}}function HM(t,e,n){let r,i,o,a,s,l,c,u,{annotation:h}=e,{dataToPx:f}=e,{pxToData:d}=e,{bounds:p}=e,{theme:g}=e,{cm:m}=e,{editMode:y=!1}=e,{editorState:v}=e,{index:b}=e,{repeatedIndex:x}=e,{moveX:w=0}=e,{moveY:_=0}=e,{resizing:k=!1}=e,{dragging:M=!1}=e,{activeResizer:T}=e,{forceAnchorDragTemp:A}=e,{allowRepeated:E=!0}=e,$=!1;const L=Tm();function O(t,e){const{color:n,opacity:r,display:i}=t,o=function(t,e){var n,r,i,o,a;const{display:s}=t,l=(null===(i=null===(r=null===(n=e._computed)||void 0===n?void 0:n.original)||void 0===r?void 0:r.annotations)||void 0===i?void 0:i[s])||{},c=l.color||jM[s].color,u=100*(l.opacity||jM[s].opacity/100),h=null!==(o=t.color)&&void 0!==o?o:c,f=null!==(a=t.opacity)&&void 0!==a?a:u;return I(c).toString()===I(h).toString()&&u===f}(t,e),a=uf(e,"vis.base.annotations.".concat(i),{}),s=o&&a.color&&"opacity"in a?hM(a.color,a.opacity):hM(n,r/100);return m(s,{noInvert:o})}function S(t){const e="x"===t?p.x:p.y;return{plotStart:e,plotEnd:e+("x"===t?p.width:p.height),plotOtherAxisStart:"x"===t?p.y:p.x,plotOtherAxisSize:"x"===t?p.height:p.width}}let N=!1,z=!1,C=!1,j=!1;function D(){h.showInAllPlots&&E&&x!==v.activeRepeatedAnnotationIndex||L("updateAnnotation",{annotation:h,index:b,type:"range",id:h.id})}function R(t,e,n){return!(t.showInAllPlots&&E)||t.showInAllPlots&&E&&e===n.activeRepeatedAnnotationIndex}return t.$$set=t=>{"annotation"in t&&n(0,h=t.annotation),"dataToPx"in t&&n(21,f=t.dataToPx),"pxToData"in t&&n(22,d=t.pxToData),"bounds"in t&&n(23,p=t.bounds),"theme"in t&&n(4,g=t.theme),"cm"in t&&n(24,m=t.cm),"editMode"in t&&n(5,y=t.editMode),"editorState"in t&&n(25,v=t.editorState),"index"in t&&n(6,b=t.index),"repeatedIndex"in t&&n(7,x=t.repeatedIndex),"moveX"in t&&n(19,w=t.moveX),"moveY"in t&&n(20,_=t.moveY),"resizing"in t&&n(1,k=t.resizing),"dragging"in t&&n(2,M=t.dragging),"activeResizer"in t&&n(3,T=t.activeResizer),"forceAnchorDragTemp"in t&&n(26,A=t.forceAnchorDragTemp),"allowRepeated"in t&&n(27,E=t.allowRepeated)},t.$$.update=()=>{if(33554432&t.$$.dirty[0]&&function(t){n(8,$=1===t.selectedRangeAnnotations.length&&t.selectedRangeAnnotations[0]===h.id)}(v),116916619&t.$$.dirty[0]&&$&&R(h,x,v)&&k&&(w||_)){if(["l","r"].includes(T)){const t=f({position:{x:h.position.x0,y:0,plot:h._plot}})[0],e=f({position:{x:h.position.x1,y:0,plot:h._plot}})[0];let r="x0";"l"===T&&"line"===h.display?r="x0":"l"===T?r=t>e?"x1":"x0":"r"===T&&(r=t>e?"x0":"x1");let[i]=f({position:{x:h.position[r],y:0,plot:h._plot}}),o=f({position:{x:h.position["x1"===r?"x0":"x1"],y:0,plot:h._plot}})[0];i-o>0!=i+w-o>0&&n(3,T="l"===T?"r":"l"),i+=w;const a=p.x,s=p.x+p.width;if(i>=a&&i<=s){const{position:t}=d({x:i,y:p.y}),e=t.x;if(n(0,h.position=Object.assign(Object.assign({},h.position),{[r]:e}),h),A&&(o-=w,o>=a&&o<=s)){const{position:t}=d({x:o,y:p.y}),e=t.x;n(0,h.position=Object.assign(Object.assign({},h.position),{["x1"===r?"x0":"x1"]:e}),h)}}}else{const t=f({position:{x:0,y:h.position.y0,plot:h._plot}})[1],e=f({position:{x:0,y:h.position.y1,plot:h._plot}})[1];let r="y0";"t"===T&&"line"===h.display?r="y0":"t"===T?r=t<e?"y0":"y1":"b"===T&&(r=t<e?"y1":"y0");let[,i]=f({position:{x:0,y:h.position[r],plot:h._plot}});const o=f({position:{x:0,y:h.position["y1"===r?"y0":"y1"],plot:h._plot}})[1];i-o>0!=i+_-o>0&&n(3,T="t"===T?"b":"t"),i+=_;const a=p.y,s=p.y+p.height;if(i>=a&&i<=s){const{position:t}=d({x:p.x,y:i}),e=t.y;n(0,h.position=Object.assign(Object.assign({},h.position),{[r]:e}),h)}}n(19,w=0),n(20,_=0),D()}if(49807749&t.$$.dirty[0]&&$&&R(h,x,v)&&M&&(w||_)){const t=h.type;if("x"===t){let[e]=f({position:{x:h.position.x0,y:0,plot:h._plot}}),[r]=f({position:{x:h.position.x1,y:0,plot:h._plot}});e+=w,r+=w;if(zk({start:Math.min(e,r),end:Math.max(e,r),bounds:p,type:t,move:w})){const{position:t}=d({x:e,y:p.y}),i=t.x,{position:o}=d({x:r,y:p.y}),a=o.x;n(0,h.position=Object.assign(Object.assign({},h.position),{x0:i,x1:a}),h)}}else{let[,e]=f({position:{x:0,y:h.position.y0,plot:h._plot}}),[,r]=f({position:{x:0,y:h.position.y1,plot:h._plot}});e+=_,r+=_;if(zk({start:Math.min(e,r),end:Math.max(e,r),bounds:p,type:t,move:_})){const{position:t}=d({x:p.x,y:e}),i=t.y,{position:o}=d({x:p.x,y:r}),a=o.y;n(0,h.position=Object.assign(Object.assign({},h.position),{y0:i,y1:a}),h)}}n(19,w=0),n(20,_=0),D()}if(2097153&t.$$.dirty[0]&&n(29,[r,i]=function(t,e){return["x"===t.type?e({position:{x:t.position.x0,y:0,plot:t._plot}})[0]:e({position:{x:0,y:t.position.y0,plot:t._plot}})[1],"x"===t.type?e({position:{x:t.position.x1,y:0,plot:t._plot}})[0]:e({position:{x:0,y:t.position.y1,plot:t._plot}})[1]]}(h,f),r,(n(28,i),n(0,h),n(21,f),n(8,$),n(7,x),n(25,v),n(1,k),n(19,w),n(20,_),n(3,T),n(23,p),n(22,d),n(26,A),n(2,M))),536870912&t.$$.dirty[0]&&n(10,o=void 0===r),268435456&t.$$.dirty[0]&&n(9,a=void 0===i),805306368&t.$$.dirty[0]&&n(31,s=Math.min(r,i)),805306368&t.$$.dirty[0]&&n(30,l=Math.max(r,i)),1073741824&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(16,c=(t,e)=>{const{type:r}=t,i=[],{plotStart:o,plotEnd:a,plotOtherAxisStart:c,plotOtherAxisSize:u}=S(r),h=Math.max(s,o),f=Math.min(l-s,a-s,l-o);return n(11,N=s<o),n(12,z=l>a),f>=0?(i.push("".concat("x"===r?"left":"top",": ").concat(h,"px")),i.push("".concat("x"===r?"width":"height",": ").concat(f,"px")),i.push("".concat("x"===r?"top":"left",": ").concat(c,"px")),i.push("".concat("x"===r?"height":"width",": ").concat(u,"px"))):i.push("display: none"),i.push("background-color: ".concat(O(t,e))),i.join("; ")}),536870912&t.$$.dirty[0]&&n(15,u=(t,e)=>{const{type:i,strokeWidth:o,strokeType:a}=t,s=o||1,l=[],{plotStart:c,plotEnd:u,plotOtherAxisStart:h,plotOtherAxisSize:f}=S(i),d=r-s/2;if(r<=u&&r>=c){l.push("".concat("x"===i?"left":"top",": ").concat(d,"px")),l.push("".concat("x"===i?"top":"left",": ").concat(h,"px")),l.push("".concat("x"===i?"height":"width",": ").concat(f,"px")),l.push("".concat("x"===i?"border-left-width":"border-top-width",": ").concat(s,"px"));const t=r+s/2-s,e=r-s/2+s,o=-5;if(n(13,C=!1),n(14,j=!1),t<c){const e=Number((c-t).toFixed(1)),r="x"===i?"0 ".concat(o,"px 0 ").concat(e,"px"):"".concat(e,"px 0 ").concat(o,"px 0");l.push("clip-path: inset(".concat(r,")")),n(13,C=!0)}if(e>u){const t=Number((e-u).toFixed(1)),r="x"===i?"0 ".concat(t,"px 0 ").concat(o,"px"):"".concat(o,"px 0 ").concat(t,"px 0");l.push("clip-path: inset(".concat(r,")")),n(14,j=!0)}}else l.push("display: none");return l.push("border-color: ".concat(O(t,e))),l.push("border-style: ".concat(a||"solid")),l.join("; ")}),813696769&t.$$.dirty[0]&&$){const t={start:r,end:i,invalidStart:o,invalidEnd:a,bounds:p,plot:h._plot};L("updateEditorState",{selectedAnnotationProps:t})}},[h,k,M,T,g,y,b,x,$,a,o,N,z,C,j,u,c,function(t){y&&"Escape"===t.key&&$&&L("selectAnnotation",null)},function(){y&&(L("selectAnnotation",{type:"range",index:b,repeatedIndex:x,id:h.id}),n(2,M=!0))},w,_,f,d,p,m,v,A,E,i,r,l,s,function(e){Am.call(this,t,e)},function(t){T=t,n(3,T),n(8,$),n(0,h),n(7,x),n(25,v),n(1,k),n(19,w),n(20,_),n(21,f),n(23,p),n(22,d),n(26,A),n(2,M)},function(t){k=t,n(1,k)},function(e){Am.call(this,t,e)},function(t){T=t,n(3,T),n(8,$),n(0,h),n(7,x),n(25,v),n(1,k),n(19,w),n(20,_),n(21,f),n(23,p),n(22,d),n(26,A),n(2,M)},function(t){k=t,n(1,k)},function(e){Am.call(this,t,e)}]}class BM extends Jm{constructor(t){super(),Zm(this,t,HM,UM,Jg,{annotation:0,dataToPx:21,pxToData:22,bounds:23,theme:4,cm:24,editMode:5,editorState:25,index:6,repeatedIndex:7,moveX:19,moveY:20,resizing:1,dragging:2,activeResizer:3,forceAnchorDragTemp:26,allowRepeated:27},DM,[-1,-1])}}var YM=Y_;var WM=Co((function(t){return YM(t,5)}));let qM=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[t]];return e};function GM(){return qM(10)}const{document:VM}=nm;function XM(t){im(t,"svelte-1sizfln","body{overflow-x:hidden}.annotations-inner.svelte-1sizfln.svelte-1sizfln{width:100%;height:100%;pointer-events:none}.annotations-inner.editing.svelte-1sizfln.svelte-1sizfln{pointer-events:auto}.annotations-inner.disable-annotation-interactions *{pointer-events:none !important}.annotations-inner.create-mode.svelte-1sizfln.svelte-1sizfln{cursor:crosshair;-webkit-user-select:none;user-select:none}.annotations-inner.create-mode.svelte-1sizfln .text-annotation,.annotations-inner.create-mode.svelte-1sizfln .text-annotation .resizer,.annotations-inner.create-mode.svelte-1sizfln .range-annotation,.annotations-inner.create-mode.svelte-1sizfln .range-annotation .resizer{pointer-events:none}.create-rect.svelte-1sizfln.svelte-1sizfln{z-index:1}.create-rect.text.svelte-1sizfln.svelte-1sizfln{position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1)}.create-rect.range.svelte-1sizfln.svelte-1sizfln{position:absolute;background:rgba(0, 0, 0, 0.1)}.annotation-keys{display:flex;flex-direction:column;gap:5px;width:100%;margin-top:10px}.annotation-keys.hide{display:none}.annotation-keys .key{display:flex;align-items:baseline}.annotation-keys .num{flex:0 0 auto;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;width:20px;height:20px}.annotation-keys.dir-rtl .num{margin-left:5px}.annotation-keys:not(.dir-rtl) .num{margin-right:5px}.annotation-keys .num.dw-bold{font-weight:700}.annotation-plot.svelte-1sizfln.svelte-1sizfln{position:absolute;width:100%;height:100%;box-sizing:border-box;border:1px dashed rgba(255, 0, 221, 0);transition:border-color 200ms}.annotation-plot.show-bounds.svelte-1sizfln.svelte-1sizfln{border-color:rgba(255, 0, 221, 0.5);transition-delay:100ms}.annotations-inner.creating.svelte-1sizfln .annotation-plot.svelte-1sizfln:not(.create-plot){cursor:default}.enter-plot.svelte-1sizfln.svelte-1sizfln{background:rgba(255, 0, 221, 0.1)}")}function KM(t,e,n){const r=t.slice();return r[89]=e[n],r}function ZM(t,e,n){const r=t.slice();return r[89]=e[n],r}function JM(t,e,n){const r=t.slice();return r[94]=e[n],r}function QM(t){let e,n=qm(t[11]),r=[];for(let e=0;e<n.length;e+=1)r[e]=tT(JM(t,n,e));return{c(){e=lm("div");for(let t=0;t<r.length;t+=1)r[t].c();gm(e,"class","annotation-plots")},m(t,n){om(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,i){if(3147777&i[0]|6&i[1]){let o;for(n=qm(t[11]),o=0;o<n.length;o+=1){const a=JM(t,n,o);r[o]?r[o].p(a,i):(r[o]=tT(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&am(e),sm(r,t)}}}function tT(t){let e;return{c(){e=lm("div"),gm(e,"class","annotation-plot svelte-1sizfln"),vm(e,"create-plot",t[20]&&t[21]&&t[94].name===t[21].name),vm(e,"enter-plot",t[0].plotHasUpdated&&t[0].selectedAnnotationProps.plot===t[94].name),vm(e,"show-bounds",t[33][t[94].name]),vm(e,"assigned-plot",t[32]===t[94].name),ym(e,"width","".concat(t[94].width,"px")),ym(e,"height","".concat(t[94].height,"px")),ym(e,"left","".concat(t[94].x,"px")),ym(e,"top","".concat(t[94].y,"px")),ym(e,"opacity","1")},m(t,n){om(t,e,n)},p(t,n){3147776&n[0]&&vm(e,"create-plot",t[20]&&t[21]&&t[94].name===t[21].name),2049&n[0]&&vm(e,"enter-plot",t[0].plotHasUpdated&&t[0].selectedAnnotationProps.plot===t[94].name),2048&n[0]|4&n[1]&&vm(e,"show-bounds",t[33][t[94].name]),2048&n[0]|2&n[1]&&vm(e,"assigned-plot",t[32]===t[94].name),2048&n[0]&&ym(e,"width","".concat(t[94].width,"px")),2048&n[0]&&ym(e,"height","".concat(t[94].height,"px")),2048&n[0]&&ym(e,"left","".concat(t[94].x,"px")),2048&n[0]&&ym(e,"top","".concat(t[94].y,"px"))},d(t){t&&am(e)}}}function eT(t){let e,n,r,i,o,a,s,l,c,u,h;function f(e){t[62](e)}function d(e){t[63](e)}function p(e){t[64](e)}function g(e){t[65](e)}function m(e){t[66](e)}function y(e){t[67](e)}function v(e){t[68](e)}function b(e){t[69](e)}function x(e){t[70](e)}let w={annotation:t[89],dataToPx:t[2],pxToData:t[3],bounds:t[89]._bounds,theme:t[4],cm:t[5],chroma:t[7],purifyHtml:t[8],key:t[15][t[89]._index],rtl:t[9],mirrorX:t[10],isMobileWidth:t[23],editMode:t[13],editorState:t[0],forceAnchorDragTemp:t[29],index:t[89]._index,repeatedIndex:t[89]._repeatedIndex,allowRepeated:t[12].includes("text")};return void 0!==t[26]&&(w.noOffsetAtEventStart=t[26]),void 0!==t[31]&&(w.isEditable=t[31]),void 0!==t[18]&&(w.dragging=t[18]),void 0!==t[28]&&(w.forceAnchorDrag=t[28]),void 0!==t[27]&&(w.forceOffsetDrag=t[27]),void 0!==t[16]&&(w.moveX=t[16]),void 0!==t[17]&&(w.moveY=t[17]),void 0!==t[19]&&(w.resizing=t[19]),void 0!==t[30]&&(w.activeResizer=t[30]),e=new CM({props:w}),$m.push((()=>Gm(e,"noOffsetAtEventStart",f))),$m.push((()=>Gm(e,"isEditable",d))),$m.push((()=>Gm(e,"dragging",p))),$m.push((()=>Gm(e,"forceAnchorDrag",g))),$m.push((()=>Gm(e,"forceOffsetDrag",m))),$m.push((()=>Gm(e,"moveX",y))),$m.push((()=>Gm(e,"moveY",v))),$m.push((()=>Gm(e,"resizing",b))),$m.push((()=>Gm(e,"activeResizer",x))),e.$on("selectAnnotation",t[37]),e.$on("updateEditorState",t[39]),e.$on("updateAnnotation",t[38]),{c(){Vm(e.$$.fragment)},m(t,n){Xm(e,t,n),h=!0},p(t,h){const f={};32&h[1]&&(f.annotation=t[89]),4&h[0]&&(f.dataToPx=t[2]),8&h[0]&&(f.pxToData=t[3]),32&h[1]&&(f.bounds=t[89]._bounds),16&h[0]&&(f.theme=t[4]),32&h[0]&&(f.cm=t[5]),128&h[0]&&(f.chroma=t[7]),256&h[0]&&(f.purifyHtml=t[8]),32768&h[0]|32&h[1]&&(f.key=t[15][t[89]._index]),512&h[0]&&(f.rtl=t[9]),1024&h[0]&&(f.mirrorX=t[10]),8388608&h[0]&&(f.isMobileWidth=t[23]),8192&h[0]&&(f.editMode=t[13]),1&h[0]&&(f.editorState=t[0]),536870912&h[0]&&(f.forceAnchorDragTemp=t[29]),32&h[1]&&(f.index=t[89]._index),32&h[1]&&(f.repeatedIndex=t[89]._repeatedIndex),4096&h[0]&&(f.allowRepeated=t[12].includes("text")),!n&&67108864&h[0]&&(n=!0,f.noOffsetAtEventStart=t[26],jm((()=>n=!1))),!r&&1&h[1]&&(r=!0,f.isEditable=t[31],jm((()=>r=!1))),!i&&262144&h[0]&&(i=!0,f.dragging=t[18],jm((()=>i=!1))),!o&&268435456&h[0]&&(o=!0,f.forceAnchorDrag=t[28],jm((()=>o=!1))),!a&&134217728&h[0]&&(a=!0,f.forceOffsetDrag=t[27],jm((()=>a=!1))),!s&&65536&h[0]&&(s=!0,f.moveX=t[16],jm((()=>s=!1))),!l&&131072&h[0]&&(l=!0,f.moveY=t[17],jm((()=>l=!1))),!c&&524288&h[0]&&(c=!0,f.resizing=t[19],jm((()=>c=!1))),!u&&1073741824&h[0]&&(u=!0,f.activeResizer=t[30],jm((()=>u=!1))),e.$set(f)},i(t){h||(Ym(e.$$.fragment,t),h=!0)},o(t){Wm(e.$$.fragment,t),h=!1},d(t){Km(e,t)}}}function nT(t){let e,n,r,i,o,a,s;function l(e){t[72](e)}function c(e){t[73](e)}function u(e){t[74](e)}function h(e){t[75](e)}function f(e){t[76](e)}let d={annotation:t[89],dataToPx:t[2],pxToData:t[3],bounds:t[89]._bounds,theme:t[4],cm:t[5],editMode:t[13],editorState:t[0],forceAnchorDragTemp:t[29],index:t[89]._index,repeatedIndex:t[89]._repeatedIndex,allowRepeated:t[12].includes("range")};return void 0!==t[18]&&(d.dragging=t[18]),void 0!==t[16]&&(d.moveX=t[16]),void 0!==t[17]&&(d.moveY=t[17]),void 0!==t[19]&&(d.resizing=t[19]),void 0!==t[30]&&(d.activeResizer=t[30]),e=new BM({props:d}),$m.push((()=>Gm(e,"dragging",l))),$m.push((()=>Gm(e,"moveX",c))),$m.push((()=>Gm(e,"moveY",u))),$m.push((()=>Gm(e,"resizing",h))),$m.push((()=>Gm(e,"activeResizer",f))),e.$on("selectAnnotation",t[37]),e.$on("updateEditorState",t[39]),e.$on("updateAnnotation",t[38]),{c(){Vm(e.$$.fragment)},m(t,n){Xm(e,t,n),s=!0},p(t,s){const l={};16&s[1]&&(l.annotation=t[89]),4&s[0]&&(l.dataToPx=t[2]),8&s[0]&&(l.pxToData=t[3]),16&s[1]&&(l.bounds=t[89]._bounds),16&s[0]&&(l.theme=t[4]),32&s[0]&&(l.cm=t[5]),8192&s[0]&&(l.editMode=t[13]),1&s[0]&&(l.editorState=t[0]),536870912&s[0]&&(l.forceAnchorDragTemp=t[29]),16&s[1]&&(l.index=t[89]._index),16&s[1]&&(l.repeatedIndex=t[89]._repeatedIndex),4096&s[0]&&(l.allowRepeated=t[12].includes("range")),!n&&262144&s[0]&&(n=!0,l.dragging=t[18],jm((()=>n=!1))),!r&&65536&s[0]&&(r=!0,l.moveX=t[16],jm((()=>r=!1))),!i&&131072&s[0]&&(i=!0,l.moveY=t[17],jm((()=>i=!1))),!o&&524288&s[0]&&(o=!0,l.resizing=t[19],jm((()=>o=!1))),!a&&1073741824&s[0]&&(a=!0,l.activeResizer=t[30],jm((()=>a=!1))),e.$set(l)},i(t){s||(Ym(e.$$.fragment,t),s=!0)},o(t){Wm(e.$$.fragment,t),s=!1},d(t){Km(e,t)}}}function rT(t){let e,n,r;return{c(){e=lm("div"),gm(e,"class",n="create-rect "+t[0].createMode+" svelte-1sizfln"),gm(e,"style",r=t[34](t[21]))},m(t,n){om(t,e,n)},p(t,i){1&i[0]&&n!==(n="create-rect "+t[0].createMode+" svelte-1sizfln")&&gm(e,"class",n),2097152&i[0]|8&i[1]&&r!==(r=t[34](t[21]))&&gm(e,"style",r)},d(t){t&&am(e)}}}function iT(t){let e,n,r,i,o,a,s,l,c,u;Cm(t[61]);let h=t[13]&&t[11]&&t[11].length&&QM(t),f=qm(t[36]),d=[];for(let e=0;e<f.length;e+=1)d[e]=eT(ZM(t,f,e));const p=t=>Wm(d[t],1,1,(()=>{d[t]=null}));let g=qm(t[35]),m=[];for(let e=0;e<g.length;e+=1)m[e]=nT(KM(t,g,e));const y=t=>Wm(m[t],1,1,(()=>{m[t]=null}));let v=t[13]&&t[20]&&rT(t);return{c(){e=hm(),n=lm("div"),h&&h.c(),r=hm(),i=lm("div");for(let t=0;t<d.length;t+=1)d[t].c();o=hm(),a=lm("div");for(let t=0;t<m.length;t+=1)m[t].c();s=hm(),v&&v.c(),gm(i,"class","text-annotations"),gm(i,"aria-label",t[6]),gm(i,"role","list"),gm(a,"class","range-annotations"),gm(n,"data-uid",t[1]),gm(n,"class","annotations-inner svelte-1sizfln"),vm(n,"editing",t[22]),vm(n,"create-mode",!!t[0].createMode),vm(n,"creating",t[20]),vm(n,"disable-annotation-interactions",t[0].disableAnnotationInteractions)},m(f,p){om(f,e,p),om(f,n,p),h&&h.m(n,null),rm(n,r),rm(n,i);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(i,null);t[71](i),rm(n,o),rm(n,a);for(let t=0;t<m.length;t+=1)m[t]&&m[t].m(a,null);var g;rm(n,s),v&&v.m(n,null),t[77](n),l=!0,c||(u=[dm(window,"keydown",t[40]),dm(window,"mousedown",t[41]),dm(window,"mousemove",t[42]),dm(window,"mouseup",t[43]),dm(window,"resize",t[61]),dm(VM.body,"mouseleave",t[44]),dm(n,"mousedown",(g=t[45],function(t){return t.preventDefault(),g.call(this,t)}))],c=!0)},p(t,e){if(t[13]&&t[11]&&t[11].length?h?h.p(t,e):(h=QM(t),h.c(),h.m(n,r)):h&&(h.d(1),h=null),2089793469&e[0]|481&e[1]){let n;for(f=qm(t[36]),n=0;n<f.length;n+=1){const r=ZM(t,f,n);d[n]?(d[n].p(r,e),Ym(d[n],1)):(d[n]=eT(r),d[n].c(),Ym(d[n],1),d[n].m(i,null))}for(Hm(),n=f.length;n<d.length;n+=1)p(n);Bm()}if((!l||64&e[0])&&gm(i,"aria-label",t[6]),1611608125&e[0]|464&e[1]){let n;for(g=qm(t[35]),n=0;n<g.length;n+=1){const r=KM(t,g,n);m[n]?(m[n].p(r,e),Ym(m[n],1)):(m[n]=nT(r),m[n].c(),Ym(m[n],1),m[n].m(a,null))}for(Hm(),n=g.length;n<m.length;n+=1)y(n);Bm()}t[13]&&t[20]?v?v.p(t,e):(v=rT(t),v.c(),v.m(n,null)):v&&(v.d(1),v=null),(!l||2&e[0])&&gm(n,"data-uid",t[1]),(!l||4194304&e[0])&&vm(n,"editing",t[22]),(!l||1&e[0])&&vm(n,"create-mode",!!t[0].createMode),(!l||1048576&e[0])&&vm(n,"creating",t[20]),(!l||1&e[0])&&vm(n,"disable-annotation-interactions",t[0].disableAnnotationInteractions)},i(t){if(!l){for(let t=0;t<f.length;t+=1)Ym(d[t]);for(let t=0;t<g.length;t+=1)Ym(m[t]);l=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)Wm(d[t]);m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)Wm(m[t]);l=!1},d(r){r&&(am(e),am(n)),h&&h.d(),sm(d,r),t[71](null),sm(m,r),v&&v.d(),t[77](null),c=!1,Kg(u)}}}function oT(t){let{type:e,createPlot:n,createX:r,createY:i,moveX:o,moveY:a}=t;const s="x"===e?o:a,l="x"===e?r:i,c="x"===e?n.x:n.y,u=c+("x"===e?n.width:n.height),h=s<0?l+s:l,f=Math.max(h,c),d=s<0?l:l+s;return{rangeStart:f,rangeSize:Math.min(d-f,u-f,d-c)}}function aT(t,e,n){let r,i,o,a,s,l,c,u,{uid:h=null}=e,{textAnnotations:f=[]}=e,{rangeAnnotations:d=[]}=e,{dataToPx:p}=e,{pxToData:g}=e,{theme:m}=e,{cm:y=(t=>t)}=e,{visWidth:v}=e,{visHeight:b}=e,{annotationKeysSel:x=null}=e,{ariaLabel:w=""}=e,{chroma:_}=e,{purifyHtml:k}=e,{rtl:M=!1}=e,{mirrorX:T=!1}=e,{plots:A=null}=e,{allowedRangeAnnotationOrientations:E=["x","y"]}=e,{allowRepeated:$=["text","range"]}=e,{repeatRangeOnSave:L=!1}=e;function O(t,e,n,r){return null===e?fM(n,r):t._plot?e.find((e=>e.name===t._plot)):e[0]}function S(t){let{type:e,annotations:n,plots:r,visWidth:i,visHeight:o}=t;const a=n.map(((t,e)=>Object.assign(Object.assign({},t),{_index:e}))),s=r?a.flatMap((t=>t.showInAllPlots&&$.includes(e)?function(t,e){return e.map(((e,n)=>Object.assign(Object.assign({},t),{_plot:e.name,_repeatedIndex:n})))}(t,r):Object.assign(Object.assign({},t),{_plot:t.position.plot}))):a;return s.map((t=>Object.assign(Object.assign({},t),{_bounds:O(t,r,i,o)}))).filter((t=>!!t._bounds))}function N(t){let{textAnnotation:e,isMobileWidth:n,dataToPx:r}=t;return n&&e.mobileFallback&&!cM(e)&&!uM(e)&&function(t,e){const[n,r]=e({position:t.position});return void 0!==n&&void 0!==r}(e,r)}let z,C,j=[],{editMode:D=!1}=e,{editorState:R={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,disableControls:!1,hideConnectorLine:!1,forceOffsetDrag:!1,width:null,height:null,dataToPx:null,pxToData:null,plotHasUpdated:!1,draggingOutOfBounds:!1,activeRepeatedAnnotationIndex:null,disableAnnotationInteractions:!1,messages:{disableControls:""},selectedAnnotationProps:{id:null,plot:null,x:null,y:null,dx:null,dy:null,invalidX:!1,invalidY:!1,width:null,height:null,mobileFallback:!1,text:null,start:null,end:null,invalidStart:!1,invalidEnd:!1,bounds:{}}}}=e;Mm((()=>{R&&C&&(A&&A.length?(n(0,R.width=A[0].width,R),n(0,R.height=A[0].height,R)):(n(0,R.width=C.offsetWidth,R),n(0,R.height=C.offsetHeight,R)))}));let P,I,F,U,H,B=0,Y=0,W=!1,q=!1,G=!1,V=!1,X=0,K=0,Z=null,J=!1,Q=null;function tt(){n(26,P=!1),n(27,I=!1),n(28,F=!1),n(29,U=!1),n(0,R.forceOffsetDrag=!1,R),n(18,W=!1),q=!1,n(19,G=!1),n(0,R.plotHasUpdated=!1,R)}function et(){n(16,B=0),n(17,Y=0),n(20,V=!1),n(55,X=0),n(56,K=0),n(21,Z=null),n(0,R.createMode=!1,R)}const nt=Tm();let rt,it=!1;km((()=>{n(57,rt=document.querySelector(".dw-chart-body"))}));const ot={};return t.$$set=t=>{"uid"in t&&n(1,h=t.uid),"textAnnotations"in t&&n(46,f=t.textAnnotations),"rangeAnnotations"in t&&n(47,d=t.rangeAnnotations),"dataToPx"in t&&n(2,p=t.dataToPx),"pxToData"in t&&n(3,g=t.pxToData),"theme"in t&&n(4,m=t.theme),"cm"in t&&n(5,y=t.cm),"visWidth"in t&&n(48,v=t.visWidth),"visHeight"in t&&n(49,b=t.visHeight),"annotationKeysSel"in t&&n(50,x=t.annotationKeysSel),"ariaLabel"in t&&n(6,w=t.ariaLabel),"chroma"in t&&n(7,_=t.chroma),"purifyHtml"in t&&n(8,k=t.purifyHtml),"rtl"in t&&n(9,M=t.rtl),"mirrorX"in t&&n(10,T=t.mirrorX),"plots"in t&&n(11,A=t.plots),"allowedRangeAnnotationOrientations"in t&&n(51,E=t.allowedRangeAnnotationOrientations),"allowRepeated"in t&&n(12,$=t.allowRepeated),"repeatRangeOnSave"in t&&n(52,L=t.repeatRangeOnSave),"editMode"in t&&n(13,D=t.editMode),"editorState"in t&&n(0,R=t.editorState)},t.$$.update=()=>{if(2048&t.$$.dirty[0]|425984&t.$$.dirty[1]&&n(60,r=S({type:"text",annotations:f,plots:A,visWidth:v,visHeight:b})),2048&t.$$.dirty[0]|1507328&t.$$.dirty[1]&&n(59,i=S({type:"range",annotations:d.filter((t=>{let{type:e}=t;return E.includes(e)})),plots:A,visWidth:v,visHeight:b})),536870912&t.$$.dirty[1]&&n(36,o=[...r].reverse()),268435456&t.$$.dirty[1]&&n(35,a=[...i].reverse()),16384&t.$$.dirty[0]&&n(23,s=u<=450),144&t.$$.dirty[0]&&n(58,l=$v(m,_).fallbackBaseColor),8421892&t.$$.dirty[0]|134774784&t.$$.dirty[1]&&x&&(n(15,j=function(t){let{textAnnotations:e,isMobileWidth:n,dataToPx:r}=t,i=0;return e.map((t=>{const e=N({textAnnotation:t,isMobileWidth:n,dataToPx:r});return e&&i++,{render:e,num:e?i:null}}))}({textAnnotations:f,isMobileWidth:s,dataToPx:p})),x.classed("hide",!0).html(""),x.classed("dir-rtl",M),s)){let t=!1;f.forEach(((e,n)=>{const r=j[n];r.render&&(t=!0,null==x||x.append("div.key").html(function(t,e,n){return'<div style="border: 1px solid '.concat(t,'" class="num dw-circle dw-bold"><span class="export-text">').concat(e.num,'</span></div><span class="text export-text">').concat(k(n.text),"</span>")}(l,r,e)))})),x.classed("hide",!t)}5&t.$$.dirty[0]&&R&&n(0,R.dataToPx=p,R),9&t.$$.dirty[0]&&R&&n(0,R.pxToData=g,R),196609&t.$$.dirty[0]|51380224&t.$$.dirty[1]&&n(34,c=t=>{if(!t)return;const e=[];if("text"===R.createMode){if(Math.abs(B)<1)return;return e.push("top: ".concat(Y>0?K:K+Y,"px")),e.push("height: ".concat(Y>0?Y:-Y,"px")),e.push("left: ".concat(B>0?X:X+B,"px")),e.push("width: ".concat(B>0?B:-B,"px")),e.join("; ")}if("range"===R.createMode){if(Math.abs(B)<1&&Math.abs(Y)<1)return;if(Math.abs(Y)>Math.abs(B)&&E.includes("y")){const{rangeStart:n,rangeSize:r}=oT({type:"y",createPlot:t,createX:X,createY:K,moveX:B,moveY:Y});e.push("top: ".concat(n,"px")),e.push("height: ".concat(r,"px")),e.push("left: ".concat(t.x,"px")),e.push("width: ".concat(t.width,"px"))}else{const{rangeStart:n,rangeSize:r}=oT({type:"x",createPlot:t,createX:X,createY:K,moveX:B,moveY:Y});e.push("left: ".concat(n,"px")),e.push("width: ".concat(r,"px")),e.push("top: ".concat(t.y,"px")),e.push("height: ".concat(t.height,"px"))}}return e.join("; ")}),8193&t.$$.dirty[0]|98304&t.$$.dirty[1]&&D&&nt("update",{rangeAnnotations:WM(d),textAnnotations:WM(f),editorState:WM(R)}),6029313&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&(n(22,it=W||G||V||!!R.createMode),rt&&(it?rt.classList.add("editing-annotations"):rt.classList.remove("editing-annotations"))),788481&t.$$.dirty[0]&&A&&A.forEach((t=>{const e=R.selectedRangeAnnotations.length>0&&(G||W)&&R.selectedAnnotationProps&&(R.selectedAnnotationProps.plot===t.name||null!==R.activeRepeatedAnnotationIndex&&R.activeRepeatedAnnotationIndex>=0),r=R.selectedTextAnnotations.length>0&&W;n(33,ot[t.name]=!!R.createMode||r||e,ot)}))},[R,h,p,g,m,y,w,_,k,M,T,A,$,D,u,j,B,Y,W,G,V,Z,it,s,z,C,P,I,F,U,H,J,Q,ot,c,a,o,function(t){if(null===t.detail)return n(0,R.selectedTextAnnotations=[],R),n(0,R.selectedRangeAnnotations=[],R),n(0,R.activeRepeatedAnnotationIndex=null,R),void n(31,J=!1);if(n(0,R.activeRepeatedAnnotationIndex=t.detail.repeatedIndex,R),"text"===t.detail.type){const e=R.selectedTextAnnotations,r=e.length>1;(e[0]!==t.detail.id||r)&&(n(31,J=!1),n(0,R.selectedTextAnnotations=[t.detail.id],R),n(0,R.selectedRangeAnnotations=[],R))}else n(0,R.selectedRangeAnnotations=[t.detail.id],R),n(0,R.selectedTextAnnotations=[],R)},function(t){const{annotation:e,type:r}=t.detail,i=WM(e);if(delete i._index,delete i._bounds,delete i._plot,delete i._repeatedIndex,"text"===r){const t=f.findIndex((t=>t.id===e.id));ih(f[t],i)||n(46,f[t]=i,f)}else{const t=d.findIndex((t=>t.id===e.id));ih(d[t],i)||n(47,d[t]=i,d)}},function(t){const[e,r]=Object.entries(t.detail)[0];n(0,R[e]=r,R)},function(t){D&&"Escape"===t.key&&V&&et()},function(){D&&(n(0,R.selectedTextAnnotations=[],R),n(0,R.selectedRangeAnnotations=[],R),n(0,R.activeRepeatedAnnotationIndex=null,R))},function(t){D&&((W||V||G&&["l","r"].includes(H))&&(n(16,B+=t.movementX),t.movementX&&(n(31,J=!1),q=!0)),(W||V||G&&["t","b"].includes(H))&&(n(17,Y+=t.movementY),t.movementY&&(n(31,J=!1),q=!0)),n(29,U=!1),t.ctrlKey&&!P&&n(29,U=!0))},function(t){if(D){if(!q){const e=t.target,r=e.parentNode;n(31,J=e.classList.contains("text-edit")||r.classList&&r.classList.contains("text-edit"))}if(q&&R.plotHasUpdated&&n(32,Q=R.selectedAnnotationProps.plot),tt(),V&&Z){const t=function(t){if("text"===R.createMode){const{position:e}=g({x:X,y:K}),r=function(t,e){const n=t*(T?-1:1)<0,r=e<0;if(n&&r)return"br";if(n&&!r)return"tr";if(!n&&r)return"bl";return"tl"}(B,Y),i=Math.abs(B/t.width*100),o=Object.assign(Object.assign({},WM(R.defaults.text)),{position:e,align:r,width:i,id:GM()});return null!==A&&(o.position.plot=t.name),Math.abs(B)<10&&Math.abs(Y)<10&&(o.width=25,o.align="mc",o.dy=K-t.y<100?50:-50,o.connectorLine.enabled=!0),s&&(o.mobileFallback=!1),f.unshift(o),n(46,f),o.id}{const e=Math.min(Math.max(X+B,t.x),t.x+t.width),r=Math.min(Math.max(K+Y,t.y),t.y+t.height),{position:i}=g({x:X,y:K}),o=i.x,a=i.y,{position:s}=g({x:e,y:r}),l=s.x,c=s.y,u=E.length>1?Math.abs(B)>Math.abs(Y)?"x":"y":E[0];let h="range";("x"===u&&Math.abs(B)<10||"y"===u&&Math.abs(Y)<10)&&(h="line");const f=Object.assign(Object.assign({},WM(R.defaults[h])),{position:Object.assign(Object.assign({},E.includes("x")&&{x0:o,x1:l}),E.includes("y")&&{y0:a,y1:c}),type:u,display:h,id:GM()});return null!==A&&(f.position.plot=t.name),L&&(f.showInAllPlots=!0),d.unshift(f),n(47,d),f.id}}(Z);!function(t){if("text"===R.createMode){n(0,R.selectedTextAnnotations=[t],R),n(0,R.selectedRangeAnnotations=[],R);const e=f.find((e=>e.id===t));if(e&&N({textAnnotation:e,isMobileWidth:s,dataToPx:p}))return;n(31,J=!0),setTimeout((()=>{const e=z.querySelector('[data-annotation-id="'.concat(t,'"]'));if(e){const t=e.querySelector(".text-edit");t.focus(),function(t){const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e))}(t)}}))}"range"===R.createMode&&(n(0,R.selectedTextAnnotations=[],R),n(0,R.selectedRangeAnnotations=[t],R))}(t),et()}}},function(){D&&(W||G)&&tt()},function(t){if(D&&R.createMode&&!1===V){if(n(20,V=!0),null===A)n(21,Z=fM(v,b));else{const e=t.target,r=[...e.parentElement.children].indexOf(e);n(21,Z=A[r])}n(55,X=t.offsetX+Z.x),n(56,K=t.offsetY+Z.y)}},f,d,v,b,x,E,L,function(t){let{textAnnotations:e,rangeAnnotations:r,editorState:i}=t;void 0===e||ih(f,e)||n(46,f=e),void 0===r||ih(d,r)||n(47,d=r),void 0===i||ih(R,i)||n(0,R=i)},et,X,K,rt,l,i,r,function(){n(14,u=window.innerWidth)},function(t){P=t,n(26,P)},function(t){J=t,n(31,J)},function(t){W=t,n(18,W)},function(t){F=t,n(28,F)},function(t){I=t,n(27,I)},function(t){B=t,n(16,B)},function(t){Y=t,n(17,Y)},function(t){G=t,n(19,G)},function(t){H=t,n(30,H)},function(t){$m[t?"unshift":"push"]((()=>{z=t,n(24,z)}))},function(t){W=t,n(18,W)},function(t){B=t,n(16,B)},function(t){Y=t,n(17,Y)},function(t){G=t,n(19,G)},function(t){H=t,n(30,H)},function(t){$m[t?"unshift":"push"]((()=>{C=t,n(25,C)}))}]}class sT extends Jm{constructor(t){super(),Zm(this,t,aT,iT,Jg,{uid:1,textAnnotations:46,rangeAnnotations:47,dataToPx:2,pxToData:3,theme:4,cm:5,visWidth:48,visHeight:49,annotationKeysSel:50,ariaLabel:6,chroma:7,purifyHtml:8,rtl:9,mirrorX:10,plots:11,allowedRangeAnnotationOrientations:51,allowRepeated:12,repeatRangeOnSave:52,editMode:13,editorState:0,setAnnotationState:53,stopCreatingAnnotation:54},XM,[-1,-1,-1,-1])}get setAnnotationState(){return this.$$.ctx[53]}get stopCreatingAnnotation(){return this.$$.ctx[54]}}function lT(t){return al(t)?t:dw.column("x",[t],"date").val(0)}var cT;function uT(t,e,n){const{css:r,getProp:i,typography:o}=function(t,e){const n=function(t){let e="";for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const n of t)e+=n+(r.length?r.shift():"");return e.split("\n").filter((t=>t)).filter((t=>!t.includes(jg))).join("\n")};function r(t,e,n){return uf(t,e,void 0===n?jg:n)}return{getProp:(t,n)=>r(e,t,n),getObjProp:r,typography:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(Dg).filter((n=>{let[r]=n;return cp(t,r)||cp(e,r)})).map((n=>{let[r,{prop:i,tsf:o=Rs}]=n;const a=uf(t,r,e[r]);return"".concat(i,": ").concat(o(a),";")})).join("\n")},css:function(){return t.css(n(...arguments))},cssTemplate:n,UNDEFINED_STYLE:jg}}(t,e),a=i("vis.d3-lines.lines.widths.style0",2),s=i("vis.d3-lines.lines.widths.style1",3),l=i("vis.d3-lines.lines.widths.style2",4),c=i("vis.d3-lines.lines.widths.style3",1),u=i("vis.d3-lines.lines.defaultSettings.bgStrokeWidth",1);return r(cT||(cT=Di(["\n        ","\n\n        /** Single labels */\n        /* styles for series labels, unless overwritten by higher specificity */\n        .d3l-line-labels .series-label {\n            ","\n        }\n\n        /* styles for value labels */\n        .value-labels text.value-label,\n        .line-end-value-labels text.end-value-label,\n        .d3l-line-labels .value-label {\n            ","\n        }\n        .value-labels text.value-label,\n        .line-end-value-labels text.end-value-label {\n            fill: currentColor;\n            paint-order: stroke;\n            stroke-width: 2px;\n            stroke: ",";\n        }\n\n        /* custom styles for last value label */\n        .line-end-value-labels text.end-value-label.last,\n        .d3l-line-labels .value-label.last {\n            ","\n        }\n\n        /* styles for series labels when combined with value label */\n        .d3l-line-labels .d3l-line-label.combined .series-label {\n            ","\n        }\n\n        /* styles for value labels when combined with series label */\n        .d3l-line-labels .d3l-line-label.combined .value-label,\n        .line-end-value-labels text.end-value-label.combined {\n            ","\n        }\n\n        g.tooltip {\n            font-size: ",";\n            fill: ",";\n        }\n\n        svg g.line-symbols {\n            stroke: ",";\n        }\n\n        .line-style-dash-style1 path,\n        .line-style-dash-style2 path,\n        .line-style-dash-style3 path {\n            stroke-linecap: ","!important;\n        }\n\n        svg .lines .line.line-style-dash-style0 path {\n            stroke-linecap: ",";\n        }\n\n        .legend-key .key-line {\n            stroke-linecap: ",";\n        }\n\n        .line-style-width-style0 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style1 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style2 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-style3 {\n            stroke-width: ",";\n            path.bg-stroke {\n                stroke-width: ",";\n            }\n        }\n        .line-style-width-invisible {\n            stroke-width: ",";\n        }\n\n        ","\n    "])),"center"===uf(e,"vis.base.legend.alignment")?"\n    .d3l-color-key:not(.d3l-hidden) {\n        display: inline-flex !important;\n        justify-content: center;\n        width: 100%;\n        flex-wrap: wrap;\n    }\n    .d3l-color-key:not(.d3l-hidden) div {\n        position: relative;\n    }":"",o(uf(e,"vis.d3-lines.labels.lineLabels.series")),o(uf(e,"vis.d3-lines.labels.values")),uf(e,"colors.background","#ffffff"),o(uf(e,"vis.d3-lines.labels.values.last")),o(uf(e,"vis.d3-lines.labels.lineLabels.combined.series"),{fontWeight:"bold"}),o(uf(e,"vis.d3-lines.labels.lineLabels.combined.value")),i("vis.d3-lines.labels.tooltip.fontSize"),i("vis.d3-lines.labels.tooltip.color"),i("vis.d3-lines.symbols.outline.color"),i("vis.d3-lines.lines.linecap.dashed","round"),i("vis.d3-lines.lines.linecap.normal","round"),i("vis.d3-lines.legend.swatch.linecap","round"),Rg(a),Rg(a+2*u),Rg(s),Rg(s+2*u),Rg(l),Rg(l+2*u),Rg(c),Rg(c+2*u),Rg(0),n?"\n        .d3l-key.legend-key div {\n            border-radius: ".concat(i("vis.base.legend.swatch.borderRadius"),";\n        }\n        path.area {\n            mix-blend-mode: ").concat(i("vis.d3-area.areas.blendMode"),";\n        }"):"")}function hT(t,e){const n=t.get("number-format-characters",{minus:"-",plusMinus:"±"}),r=t.get("tooltip-number-format",t.get("y-grid-format","0,0.[00]")),i=t.get("value-labels-format",t.get("y-grid-format","0,0.[00]")),{numeral:o}=t.libraries();return{ttFormatY:t=>Bg(o,t,{format:"auto"===r?"0,0.[00]":r,minusChar:n.minus,plusMinusChar:n.plusMinus,...e.xAxis}),valueLabelFormat:t=>Bg(o,t,{format:"auto"===i?"0,0.[00]":i,minusChar:n.minus,plusMinusChar:n.plusMinus,multiply:e.xAxis.multiply})}}dw.visualization.register("d3-lines","base",(function(){let t=!0;const e={};let n,r,i,o,s,l=!1;function c(){l=!0}function u(t){const e=t.chart();!function(t,e,n,r,i,o){var a;const{visualize:s,publish:l={}}=e;if(void 0===s["text-annotations"]&&(s["text-annotations"]=[]),s["text-annotations"].forEach((t=>{void 0===t.mobileFallback&&(t.mobileFallback=!1,t.connectorLine||(t.connectorLine={}),t.text&&(t.text=t.text.replace(/<br\s*\/?>(\\n|\n)?|(\\n|\n)/g,"<br/>")))})),void 0===s["range-annotations"]&&(s["range-annotations"]=[]),void 0===s["custom-colors"]&&(s["custom-colors"]={}),s["range-annotations"].length>0&&void 0===s["range-annotations"][0].display&&s["range-annotations"].reverse(),s["range-annotations"].forEach((t=>{void 0===t.y0&&(t.y0=t.x0),void 0===t.y1&&(t.y1=t.x1),void 0===t.display&&(t.display=t.x0===t.x1?"line":"range"),void 0===t.strokeWidth&&(t.strokeWidth=1),void 0===t.strokeType&&(t.strokeType="solid")})),void 0===s["tooltip-use-custom-formats"]||s["tooltip-x-format"]||(s["tooltip-x-format"]=s["x-tick-format"]&&"auto"!==s["x-tick-format"]?s["x-tick-format"]:"ll"),s["tooltip-number-format"]&&void 0===s["tooltip-use-custom-formats"]&&(s["tooltip-use-custom-formats"]=!0),s["fill-between"]){const t=n.columns().filter((t=>"number"===t.type()));if(2===t.length){const e={from:t[0].name(),to:t[1].name(),color:s["area-fill-color-between"]||"#cccccc",opacity:.2};s["custom-area-fills"]=Array.isArray(s["custom-area-fills"])?[...s["custom-area-fills"],e]:[e]}}if(delete s["fill-between"],delete s["area-fill-color-between"],s["fill-below"]){const t=n.columns().filter((t=>"number"===t.type()));if(1===t.length){const e={from:t[0].name(),to:sv,color:s["area-fill-color-below"]||"#cccccc",opacity:.2};s["custom-area-fills"]=Array.isArray(s["custom-area-fills"])?[...s["custom-area-fills"],e]:[e]}}if(delete s["fill-below"],delete s["area-fill-color-below"],void 0!==s["tooltip-use-custom-formats"]&&(!1===s["tooltip-use-custom-formats"]&&(s["tooltip-number-format"]=null,s["tooltip-x-format"]=null),delete s["tooltip-use-custom-formats"]),s["color-category"]&&s["color-category"].map&&Object.keys(s["color-category"].map).length&&!Object.keys(s["custom-colors"]||{}).length&&(s["custom-colors"]=s["color-category"].map,delete s["color-category"].map),s["x-tick-format"]&&(s["x-grid-format"]=s["x-tick-format"],delete s["x-tick-format"]),!s.plotHeightMode&&l["chart-height"]){const t=Number(l["chart-height"]);if(Number.isFinite(t)){const e=Math.max(t,50);s.plotHeightFixed=e,s.plotHeightMode="fixed"}}"d3-area"===t&&("right"!==s.labeling&&"top"!==s.labeling||(s["show-color-key"]=!0),"off"===s.labeling&&(s["show-color-key"]=!1),delete s.labeling),"d3-area"!==t||Object.keys(s["custom-colors"]||{}).length||"lines"in s&&Object.keys(s.lines).length>0&&Object.entries(s.lines).forEach((t=>{let[e,n]=t;"color"in n&&("custom-colors"in s||(s["custom-colors"]={}),s["custom-colors"][e]=n.color,delete s.lines[e].color)})),"d3-lines"===t&&(s.lines||(s.lines={}),"custom-colors"in s&&Object.keys(s["custom-colors"]).length>0&&Object.entries(s["custom-colors"]).forEach((t=>{let[e,n]=t;e in s.lines||(s.lines[e]={}),"color"in s.lines[e]||(s.lines[e].color=n)})),delete s["custom-colors"]);const c={0:"style0",1:"style1",2:"style2",3:"style3",4:"invisible"};"line-widths"in s&&Object.keys(s["line-widths"]).length>0&&(s.lines||(s.lines={}),Object.entries(s["line-widths"]).forEach((t=>{let[e,n]=t;e in s.lines||(s.lines[e]={}),"width"in s.lines[e]||(s.lines[e].width=c[n])}))),delete s["line-widths"],"line-dashes"in s&&Object.keys(s["line-dashes"]).length>0&&(s.lines||(s.lines={}),Object.entries(s["line-dashes"]).forEach((t=>{let[e,n]=t;e in s.lines||(s.lines[e]={}),"dash"in s.lines[e]||(s.lines[e].dash=c[n])}))),delete s["line-dashes"],"d3-lines"===t&&(["right","top","off"].includes(s.labeling)&&i.y.forEach((t=>{t in s.lines||(s.lines[t]={}),"directLabel"in s.lines[t]||(s.lines[t].directLabel="right"===s.labeling),"colorKey"in s.lines[t]||(s.lines[t].colorKey="top"===s.labeling)})),delete s.labeling),"line-value-labels"in s&&(s.lines||(s.lines={}),i.y.forEach((t=>{t in s.lines||(s.lines[t]={}),"labelLastValue"in s.lines[t]||(s.lines[t].labelLastValue=s["line-value-labels"])}))),delete s["line-value-labels"];const u=["","circle","square","diamond","triangleUp","triangleDown","cross","hexagon","star","wye"],h=Object.fromEntries(u.map((t=>[t.replace(/[A-Z]/g,(t=>"_".concat(t.toLowerCase()))),t]))),f=[{oldKey:"line-symbols-on",newKey:"on"},{oldKey:"line-symbols-size",newKey:"size"},{oldKey:"line-symbols-opacity",newKey:"opacity"}];if("multiple"!==s["line-symbols-shape"]&&f.push({oldKey:"line-symbols",newKey:"enabled"},{oldKey:"line-symbols-shape",newKey:"shape",tsf:t=>h[t]}),i.y.forEach((t=>{s.lines||(s.lines={}),t in s.lines||(s.lines[t]={}),"symbols"in s.lines[t]||(s.lines[t].symbols={});const e=s.lines[t].symbols;f.forEach((t=>{let{oldKey:n,newKey:r,tsf:i=(t=>t)}=t;n in s&&!(r in e)&&(e[r]=i(s[n]))}))})),"multiple"===s["line-symbols-shape"]){s.lines||(s.lines={});const t=s["line-symbols-shape-multiple"]||{};i.y.forEach((e=>{e in s.lines||(s.lines[e]={}),"symbols"in s.lines[e]||(s.lines[e].symbols={});const n=s.lines[e].symbols;"enabled"in n||(n.enabled=!(!s["line-symbols"]||!t[e])),!("shape"in n)&&t[e]&&(n.shape="number"==typeof t[e]?u[t[e]]:h[t[e]])}))}if(s.lines&&Object.values(s.lines).forEach((t=>{t.symbols&&!Object.keys(t.symbols).length&&delete t.symbols})),delete s["line-symbols"],delete s["line-symbols-shape"],delete s["line-symbols-shape-multiple"],delete s["line-symbols-on"],delete s["line-symbols-size"],delete s["line-symbols-opacity"],s["custom-area-fills"]&&Array.isArray(s["custom-area-fills"])){const t=n.columns().filter((t=>"number"===t.type())),e=1===i.y.length;s["custom-area-fills"]=s["custom-area-fills"].map((n=>{const r=n.colorNegative||"#E31A1C",i=n.useMixedColors||!1;return e&&void 0===n.useMixedColors&&n.from===t[0].name()&&n.to===sv?{...n,from:sv,to:t[0].name(),colorNegative:r,useMixedColors:i}:{...n,colorNegative:r,useMixedColors:i}}))}if("d3-lines"===t&&(s.lines&&Object.values(s.lines).forEach((t=>{"labelLastValue"in t&&(t.labelLastValue&&(t.valueLabels={enabled:!0,last:!0,first:!1}),delete t.labelLastValue)})),"value-label-colors"in s||(!("value-labels-format"in s)&&"tooltip-number-format"in s&&(s["value-labels-format"]=s["tooltip-number-format"]),"label-colors"in s&&(s["value-label-colors"]=s["label-colors"]))),void 0!==s["text-annotations"]&&s["text-annotations"].forEach((t=>{void 0===t.position&&(t.position={}),void 0===t.position.x&&void 0!==t.x&&(t.position.x=t.x,delete t.x),void 0===t.position.y&&void 0!==t.y&&(t.position.y=t.y,delete t.y),void 0===t.position.plot&&void 0!==t.plot&&(t.position.plot=t.plot,delete t.plot)})),void 0!==s["range-annotations"]&&s["range-annotations"].forEach((t=>{void 0===t.position&&(t.position={}),void 0===t.position.x0&&void 0!==t.x0&&(t.position.x0=t.x0,delete t.x0),void 0===t.position.x1&&void 0!==t.x1&&(t.position.x1=t.x1,delete t.x1),void 0===t.position.y0&&void 0!==t.y0&&(t.position.y0=t.y0,delete t.y0),void 0===t.position.y1&&void 0!==t.y1&&(t.position.y1=t.y1,delete t.y1),void 0===t.position.plot&&void 0!==t.plot&&(t.position.plot=t.plot,delete t.plot)})),s.lines&&Object.keys(s.lines).length){const t=Object.entries(s.lines).reduce(((t,e)=>{let[n,r]=e;return"color"in r&&(t[n]=r.color,delete r.color),t}),{});s["color-category"]?s["color-category"].map={...s["color-category"].map||{},...t}:s["color-category"]={map:t}}s["custom-colors"]&&Object.keys(s["custom-colors"]).length&&!Object.keys((null===(a=s["color-category"])||void 0===a?void 0:a.map)||{}).length&&(s["color-category"]||(s["color-category"]={}),s["color-category"].map=s["custom-colors"],delete s["custom-colors"])}(e.get("type"),e.get("metadata"),t.dataset,t.theme(),t.axes(),t.featurePreviews())}function h(r,l){const{numeral:h,dayjs:f,chroma:d}=l.libraries(),{purifyHtml:y}=dw.utils;if(t){try{const t=l.chart();tf.initLocales(t.locales.dayjs);const e=t.locales.dayjs;e&&"en"!==e.name&&f.locale(e),t.onDatasetChange(c)}catch(t){}t=!1}r.innerHTML="";const v=l.chart(),b=l.type(),x=l.size(),w=l.axes(!0);if(p("fixed"===v.getHeightMode()?[x[0]]:x)<=0)return l.renderingComplete(),!1;const _=v.translate,k="rtl"===l.textDirection,M="date"===w.x.type()?w.x.type(!0).precision():null,T={year:"YYYY",quarter:"YYYY-MM-DD",month:"YYYY-MM-DD",week:"YYYY-MM-DD",day:"YYYY-MM-DD"},A="date"===w.x.type()&&T[M]?t=>f(t).format(T[M]):t=>t,E=l.theme();let $=bv(E),L=Lv(E);wv(E);let O=xv(E,z);const S={plusMinus:uf(E,"vis.base.format.plusMinusCharacter","±"),minus:uf(E,"vis.base.format.minusCharacter","−")};uf(E,"vis.base.legend.position","top");const N=v.createPostEvent();var z="lines"===b,C="area"===b,j=ve(r);const D=j.append("div.d3l-chart-body");var R=dw.utils.clone(v.get("metadata")),P=v.dataset();const I={xAxis:mv(l,w.y[0]?w.y[0].name():""),yAxis:mv(l,w.x.name())},F=!!w.y.filter((t=>t.values().filter((t=>Yg(t))).length)).length;if(0===P.numRows()||!F)return l.showError(v.translate("insufficient-data-lines",!0).replace("%chartid%",v.get("id"))),l.renderingComplete(),!1;const U=w.y.filter((t=>t.values().filter((t=>Yg(t)&&t<=0)).length)).length;var H=l.colorMap();const B={t:0,l:0,r:0,b:0,outer:{b:0,t:0},annotationKeyMarginBottom:0,gridTop:0,gridBottom:0,xGridLeft:0,yGridLeft:0,xGridRight:0,yGridRight:0,yGridInnerMargin:0,directLabels:0,userValueLabelMargin:0,colorKeyMarginBottom:0,colorKeyMarginTop:0,bufferTop:6},Y={left:0,right:0},W={outerWidth:x[0],outerHeight:x[1]};let q={...B,...W},G={},V=jt();var X=0;let K;const Z="ontouchstart"in window||navigator.msMaxTouchPoints,J=function(t){let e,n,r,i;t="string"==typeof t?function(t){const e=/[^\x20\t\r\n\f]+/g,n={};return(t.match(e)||[]).forEach((t=>n[t]=!0)),n}(t):Object.assign({},t);let o=[],a=[],s=-1;const l=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){if(o){n&&!e&&(s=o.length-1,a.push(n));for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];!function e(n){n.forEach((function(n){var r;"function"==typeof(r=n)&&"number"!=typeof r.nodeType?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!=typeof n&&e(n)}))}(i),n&&!e&&l()}return this},remove:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach((function(t){for(var e;(e=o.indexOf(t,e))>-1;)o.splice(e,1),e<=s&&s--})),this},has:function(t){return t?o.indexOf(t)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.fireWith(this,e),this},fired:function(){return!!r}};return c}("stopOnFalse"),Q=Aa((()=>{u(l),J.fire()}),50);var tt=!1,et=!1;const nt=z&&!U&&"log"===l.get("scale-y"),rt="text"===w.x.type();var{ticks:ot,autoComputed:at}=It("x"),st=Ft();const lt=w.x.values().map((t=>!!rt||!!Ov(t,w.x.type())&&(t>=st[0]&&t<=st[1]))),ct=Ut(),ut={x:("date"===w.x.type()?Ci():hn()).domain(st),y:(nt?xn():hn()).domain(ct)},ht={left:k?"right":"left",right:k?"left":"right"}[l.get("y-grid-label-align","left")]||(k?"right":"left"),ft="left"===ht,dt="right"===ht;Ct();let{ttFormatY:pt,valueLabelFormat:gt}=hT(l,I);var mt,yt,vt=Ht();if(!vt.length)return l.showError(v.translate("insufficient-data-lines",!0).replace("%chartid%",v.get("id"))),l.renderingComplete(),!1;let bt=Xx(vt,l);J.add((function(){P=v.dataset(),H=l.colorMap(),V=jt(),L=Lv(E),S.minus=uf(E,"vis.base.format.minusCharacter","−"),S.plusMinus=uf(E,"vis.base.format.plusMinusCharacter","±"),O=xv(E,z),wv(E),$=bv(E),({ttFormatY:pt,valueLabelFormat:gt}=hT(l,I)),vt=Ht(),bt=Xx(vt,l);const t=B.yGridInnerMargin>0?Math.min(B.yGridInnerMargin+15,O.insideLabels):O.insideLabels,e=Bt(),n=e&&ft?t:0,r=e&&dt?t:0;ut.x.range(tt?[W.width,0]:[0,W.width]),ut.y.range(et?[0,W.height]:[W.height,0]);const i=n?0:O.standard,o=r?0:O.standard;if(ut.x.domain(st).domain([ut.x.invert(k?W.width+i:0-i),ut.x.invert(k?0-o:W.width+o)]).range([n,W.width-r]),ut.y.domain(ct),z){const t="off"!==l.get("y-grid-labels","auto"),i=[...ut.x.range()],o={left:t&&ft,right:t&&dt},a=k?["right","left"]:["left","right"];Hx({scales:ut,vis:l,theme:E,lineData:vt,chartHasDirectLabels:bt,rtl:k,size:W,margin:B,valueLabelFormat:gt,measureText:s,labelBuffer:{first:o[a[0]]&&!e,last:o[a[1]]&&!e||bt},enforceMinimumMargin:{left:n,right:r}});const c=[...ut.x.range()],u={left:c[0]-i[0],right:i[1]-c[1]};["left","right"].forEach((t=>{Y[t]=o[t]?0:u[t]}))}mt=a(ut.x.range()),yt=a(ut.y.range()),vt.slice(0).sort(ke("columnIndex")).forEach(((t,e)=>{Dt(e,t.id)}))}));const{svgRoot:xt,tooltipLayer:wt}=function(){const t={},e={},n=[{class:"svg-main",type:"svgRoot",attrs:{role:"graphics-datachart","aria-label":_("accessibility / ".concat(C?l.get("stack-areas",!0)?"stacked-area-chart":"area-chart":"line-chart"," / ").concat(vt.length>1?"multiple":"single")).replace("%count%",vt.length)}},{class:"tooltip-layer",type:"tooltipLayer",attrs:{"aria-hidden":!0}}];n.forEach((n=>{let{class:r,type:i,attrs:o}=n;t[i]=D.append("svg.".concat(r)).st({width:"100%"}).at(o),e[i]=t[i].append("g").attr("clip-path","url(#content-clip)").append("g")}));const r=t.svgRoot.append("defs").append("clipPath").attr("id","content-clip").append("rect");return J.add((function(){Object.entries(t).forEach((t=>{let[n,r]=t;r.at({width:W.outerWidth,height:W.outerHeight}),e[n].translate([B.l,B.t])})),r.at({x:0,y:B.bufferTop<B.outer.t?-B.bufferTop:0,width:W.outerWidth,height:W.outerHeight+B.outer.t})})),e}(),_t=function(){const t=D.append("div.d3l-main");return J.add((function(){t.style("left",B.l+"px").style("top",B.t+"px")})),t}();var kt;kt=xt.append("rect.bg"),J.add((function(){kt.at({width:W.outerWidth,height:W.outerHeight})}));const Mt=xt.append("g"),Tt=xt.append("g"),At=xt.append("g"),Et=xt.append("g"),$t=Vh.highlightTimer((t=>{const e=C?"path.area":["g.lines g.line-group","g.lbl-connect-lines path","g.value-labels g","g.inner-value-labels g"].join(", ");if(t){var n,r;const o=xt.selectAll(e).style("opacity",(function(e){return e.id===t?Wt():.15}));C||o.filter((function(e){return e.id===t})).each((function(){this.parentNode.append(this)})),null===(n=i)||void 0===n||n.highlight(t),_t.selectAll(".d3l-line-label").style("opacity",(function(e){return e.id===t?1:.15})),null===(r=i)||void 0===r||r.highlight(t),N("highlight.set",{column:t})}else{var o;const t=xt.selectAll(e).style("opacity",Wt());C||t.data(vt,(t=>t.id)).order(),_t.selectAll(".d3l-line-label,.d3l-item").style("opacity",1),null===(o=i)||void 0===o||o.highlight(""),N("highlight.clear")}}),Z?0:700);J.add((function(){const t=uf(E,"vis.base.legend.position","top");j.selectAll("div.d3l-color-key").remove();const e="top"===t?j.insert("div.d3l-color-key",".d3l-chart-body"):j.append("div.d3l-color-key"),n={right:k?"left":"right",left:k?"right":"left"},r=uv(w.y,l.get("lines",{}),l.get("color-category.map",{}),E),o=Object.fromEntries(Object.entries(r).filter((t=>{let[,e]=t;const n="invisible"!==e.width,r=_v(e);return n||r}))),a=new Set(Object.values(o).map((t=>t.symbols.shape))).size>1||2===new Set(Object.values(o).map((t=>_v(t)))).size,s=vv(E),c=Object.keys(r).filter((t=>r[t].directLabel)),u=c.length>0&&(C||W.outerWidth<$||ht===n.right),h=Object.keys(r).filter((t=>r[t].colorKey||u&&r[t].directLabel)),f=z&&h.length>0||C&&l.get("show-color-key",!0),p=l.get("reverse-color-legend",!1);if(e.classed("d3l-hidden",!f),f){const t=function(){const t={dash_style1:{width_style0:"0.5, 4",width_style1:"0.25, 5",width_style2:"0.0001, 6",width_style3:"0.5, 2"},dash_style2:{width_style0:"3, 6",width_style1:"4, 8",width_style2:"5, 10",width_style3:"2, 4"},dash_style3:{width_style0:"6, 6",width_style1:"8, 8",width_style2:"10, 10",width_style3:"4, 4"}};return function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style0";return uf(t,"dash_".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"style0",".width_").concat(e),"none")}}(),o=l.axes().y.filter((t=>P.column(t).values().filter(Yg).length)).map((t=>{for(var e=null,n=0;n<vt.length;n++)if(vt[n].id===t){e=vt[n];break}return e})).filter((t=>t&&qt(t.id))).filter((t=>t&&h.includes(t.id))).map(((e,i)=>{let o=H(Dt(i,e.id));if(C){const t=l.get("area-opacity",.5);o=d(o).alpha(t)}const c=s[r[e.id].width],u=r[e.id].symbols,h=_v(r[e.id])&&"invisible"!==r[e.id].width&&a&&u.shape||"invisible"===r[e.id].width&&"every"===u.on,f=parseFloat(u.size),p=["every","both"].includes(u.on)?"center":n["first"===u.on?"left":"right"],g={strokeWidth:c,defaultWidth:s[cv.width],dashArray:t(r[e.id].dash,r[e.id].width),symbol:h&&{position:p,opacity:r[e.id].symbols.opacity,size:f,shape:r[e.id].symbols.shape,style:r[e.id].symbols.style}};return{key:e.id,label:r[e.id].title||e.title,color:o,line:z&&g}})).filter((t=>!!C||t.line&&(t.line.strokeWidth||t.line.symbol)));i=Vh.categoryLegendWrapper(e.node(),{emotion:v.emotion,chroma:d,purifyHtml:y,themeData:E,swatches:o,horizontal:!(l.get("stack-color-legend",!1)&&o.length>1),reverse:p&&C&&l.get("stack-areas",!0),position:"above",rtl:k,translate:_,locale:v.locale()}),i.on("mouseenter",(t=>{let{value:e}=t;$t.set(e)})),i.on("mouseleave",(()=>{$t.clear()}))}const g=f?v.getElementBounds(e.node()).height:0,m=f&&"top"===t?g:0,b=f&&"bottom"===t?g:0;m===B.colorKeyMarginTop&&b===B.colorKeyMarginBottom||(B.colorKeyMarginTop=m,B.colorKeyMarginBottom=b,Ct())}));const Lt=l.get("text-annotations",[]).length;n=function(t){let{vis:e,htmlRoot:n,updateCallback:r,scales:i,$chart:o,rtl:a,getPlotSize:s,margin:l,marginsChanged:c,annotationLayer:u,ariaLabel:h,chroma:f,purifyHtml:d}=t;const p=e.chart().inEditor()&&window.parent!==window&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.hooks,g=e.chart().flags().isEditingAllowed,m=p&&g?function(){const{results:t}=window.parent.dw.backend.hooks.call("get-annotation-controls");if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){u.$set({editMode:!0}),t.syncAnnotationLayer(u)}}():null,y=Gf(e.get("text-annotations",[])),v=Gf(e.get("range-annotations",[]));if(!y.length&&!v.length&&!p)return;const b=e.axes(!0),x="number"===b.x.type(),w="date"===b.x.type();y.forEach((t=>{x?t.x=+t.x:w&&(t.x=lT(t.x)),t.y=+t.y}));const _=t=>{let{position:{x:e,y:n}}=t;return e=w?lT(e):e,[i.x(e),i.y(n)].map((t=>isNaN(+t)?void 0:+t.toFixed(1)))},k=t=>{let{x:e,y:n}=t;return e=i.x.invert(e),n=i.y.invert(n),x?e=e.toFixed(4):w&&(e=dr("%Y/%m/%d %H:%M")(e)),n=n.toFixed(4),{position:{x:e,y:n}}},M=s(),T=n.append("div.annotations").style("width","".concat(M[0],"px")).style("height","".concat(M[1],"px")),A=o.append("div.annotation-keys");if(r.add((function(){"fit"===e.chart().getHeightMode()&&E(!1)})),u)try{u.$destroy()}catch(t){}function E(t){const{height:n}=e.chart().getElementBounds(A.node()),r=n>0?20:0;n+r!==l.annotationKeyMarginBottom&&(l.annotationKeyMarginBottom=n+r,c(!t))}return u=new sT({target:o.select(".annotations").node(),props:{textAnnotations:y,rangeAnnotations:v,dataToPx:_,pxToData:k,theme:e.theme(),cm:e.colorMap(),visWidth:M[0],visHeight:M[1],annotationKeysSel:A,ariaLabel:h,rtl:a,mirrorX:a,chroma:f,purifyHtml:d}}),u.$on("update",(function(){"fit"===e.chart().getHeightMode()&&E(!0)})),r.add((()=>{const t=s();T.style("width","".concat(t[0],"px")).style("height","".concat(t[1],"px")),u.$set({dataToPx:_,pxToData:k,visWidth:t[0],visHeight:t[1],theme:e.theme(),cm:e.colorMap()})})),m&&(u.$set({editMode:!0}),m.syncAnnotationLayer(u)),u}({vis:l,htmlRoot:_t,updateCallback:J,scales:ut,$chart:j,margin:B,getPlotSize:()=>[W.width-Y.left-Y.right,W.height],rtl:k,chroma:d,purifyHtml:y,marginsChanged:Ct,annotationLayer:n,ariaLabel:Lt>0?_("accessibility / annotations / "+(Lt>1?"multiple":"single")).replace("%count%",Lt):""});const Ot=new Map;function St(){Ot.clear(),_t.selectAll(".text-annotation > div.text").nodes().forEach((t=>{const e=t.parentNode.getAttribute("data-annotation-id"),n=v.getElementBounds(t),r={x:n.left-B.l,y:n.top-B.t,width:n.width,height:n.height};Ot.set(e,r)}))}return z&&n&&l.chart().inEditor()&&n.$on("update",(()=>{Aa((()=>{K&&(St(),K({featuresToAvoid:[...Ot.values()]}))}),200)()})),J.add((async function(){let t=!1;const e=l.get("x-grid","off"),n=uf(E,"vis.d3-lines.axes.gridlines.verticalAxis",!1);let r,i=ut.x;rt&&(i=hn().domain([0,w.x.values().length-1]).range([ut.x(st[0]),ut.x(st[1])]),r=t=>w.x.values()[t]),!rt&&ot.length&&(t=ot);const o="off"===l.get("y-grid-labels","auto"),a=await tf.xGridWrapper({visId:"d3-lines",className:"grid-x",belowChart:Mt,aboveChart:At,tickPosition:"bottom",scale:i,scaleType:w.x.type(),gridLines:"on"===e,tickLines:"ticks"===e,baseLine:!n||Bt()||o?"on"===e&&"zero":l.get("y-grid-label-align","left"),theme:E,tickLabelMultiply:I.yAxis.multiply,tickLabelUnit:[I.yAxis.prepend,I.yAxis.append],plotSize:[W.width,W.height],tickLabelFormat:l.get("x-grid-format","auto"),ticks:{major:{values:t,spacing:60}},emotion:v.emotion,numeral:h,translate:_,customFormatFunction:r,chroma:d,updateMargins:!1,rtl:k});await new Promise((t=>setTimeout(t,100))),a.right.toFixed(1)===B.xGridRight.toFixed(1)&&a.left===B.xGridLeft||(B.xGridRight=a.right,B.xGridLeft=a.left,Ct()),a.bottom!==B.gridBottom&&(B.gridBottom=a.bottom,Ct())})),J.add((async function(){const t=l.get("y-grid","on"),e=l.get("y-grid-subdivide",!0)&&nt,n=Bt();j.classed("y-grid-subdivide",e),j.classed("grid-labels-inside",n),j.classed("grid-labels-right",dt);const{ticks:r}=It("y"),i=!!r.length&&r,o=l.get("stack-areas",!0),a=C&&o&&l.get("stack-to-100"),s=await tf.yGridWrapper({className:"grid-y",belowChart:Mt,aboveChart:At,tickPosition:ht,visId:"d3-lines",scale:ut.y,theme:E,scaleType:nt?"log":"number",plotSize:[W.width-Y.right-Y.left,W.height],secondary:!0,gridLines:"on"===t,tickLines:"ticks"===t,tickLabelsInside:n,tickLabels:"off"!==l.get("y-grid-labels","auto"),tickLabelFormat:a?"0.[0]%":l.get("y-grid-format","auto"),tickLabelUnit:a?["",""]:[I.xAxis.prepend,I.xAxis.append],tickLabelMultiply:a?1:I.xAxis.multiply,ticks:{major:{values:i,spacing:40},minor:{count:nt&&e?9:0}},rtl:k,emotion:v.emotion,numeral:h,translate:_,chroma:d,updateMargins:!1});[Mt,At].forEach((t=>{t.selectAll(".y-grid").translate([Y.left,0])})),s.top!==B.gridTop&&(B.gridTop=s.top,Ct()),s.left===B.yGridLeft&&s.right===B.yGridRight&&s.labelWidth===B.yGridInnerMargin||(B.yGridLeft=s.left,B.yGridRight=s.right,B.yGridInnerMargin=s.labelWidth,Ct())})),z&&fv({vis:l,dataset:P,svgChart:Tt,updateCallback:J,axes:w,scales:ut,ordinalScale:rt,includeXValues:lt,cm:H,getPaletteColor:Pt,theme:E}),C&&function(){const t=Tt.append("g.areas"),e=Tt.append("g.area-separator-lines");J.add((function(){const n=uo().curve(lv(l.get("interpolation","linear"))).defined((function(t){return Yg(t.y1)&&Yg(t.y2)&&Nt(t.x)})).x(_e("x",ut.x)).y0(_e("y1",ut.y)).y1(_e("y2",ut.y)),r=co().curve(lv(l.get("interpolation","linear"))).defined((function(t){return Yg(t.y1)&&Yg(t.y2)&&Nt(t.x)})).x(_e("x",ut.x)).y(_e("y1",ut.y)),i=l.get("stack-areas",!0),o=bh(w.y[0].length,Do(0));"keep"!==l.get("sort-areas","keep")&&vt.sort((function(t,e){return(t.last.y-e.last.y)*("asc"===l.get("sort-areas","keep")?1:-1)}));const a=vt.map((function(t,e){const n=P.column(t.id),r=n.values().map(((t,e)=>({v:t,_i:e}))).filter(((t,e)=>lt[e])).map((function(t,n){let{v:r,_i:a}=t;const s={x:rt?a:w.x.val(a),y1:Yg(r)?o[a]+r:o[a],y2:o[a],_i:a};return vt[e].values[n].dy=o[a],i&&(o[a]+=Yg(r)?r:0),s}));return{id:n.name(),col:n,data:"text"===w.x.type()?r:r.sort(ke("x"))}}));l.get("stack-areas",!0)&&l.get("stack-to-100")&&a.forEach((t=>{t.data.forEach((t=>{Yg(t.y1)&&(t.y1=t.y1/o[t._i]*100),Yg(t.y2)&&(t.y2=t.y2/o[t._i]*100)}))}));const s=t.selectAll("path.area").data(a).join((t=>t.append("path.area")),(t=>t),(t=>t.remove())).attr("role","graphics-dataregion").attr("aria-label",(t=>t.values?_("accessibility / area-values").replace("%count%",t.values.filter((t=>null!==t.y1&&null!==t.y2)).length).replace("%name%",t.id):"")).attr("d",(t=>n(t.data))).style("opacity",l.get("area-opacity",.5)).style("fill",(function(t,e){return H(Dt(e,t.id))}));s.on("click",(t=>{N("area.click",t.id)})),s.on("mouseenter",(t=>{N("area.mouseenter",t.id)})),s.on("mouseleave",(t=>{N("area.mouseleave",t.id)}));const c=(u="area-separator-color",h=uf(E,"colors.background","#ffffff"),Pt(l.get(u,h)));var u,h;e.selectAll("path.line").data(l.get("area-separator-lines")?a.slice(0,-1):[]).join((t=>t.append("path.line")),(t=>t),(t=>t.remove())).style("stroke",H(c)).attr("d",(t=>r(t.data)))}))}(),z&&function(){const t=Tt.append("g.lines"),e=co().defined((function(t){return Yg(t.y)&&!(nt&&t.y<=0)&&Nt(t.x)})).x(_e("x",ut.x)).y(_e("y",ut.y));J.add((function(){t.html(" ");const n=t.selectAll("g.line-group").data(vt.filter((t=>"invisible"!==t.settings.width||t.settings.symbols.enabled))).join("g.line-group").attr("data-column",(t=>l.chart().flags().dev?t.id:null)),r=n.filter((t=>"invisible"!==t.settings.width)).append("g.line").attr("class",(t=>{let{settings:e}=t;return["line","line-style-width-".concat(e.width),"line-style-dash-".concat(e.dash||"style0")].join(" ")}));r.filter((t=>t.settings.bgStroke)).append("path").attr("class","bg-stroke").style("stroke",E.colors.background),r.append("path").attr("role","graphics-dataline").attr("aria-datascales","x-axis, y-axis").attr("aria-dataproperty","x,y").attr("aria-label",(t=>_("accessibility / line-values").replace("%count%",t.values.filter((t=>null!==t.y)).length).replace("%name%",t.id))).attr("aria-datavariables",(t=>"".concat(l.axes(!0).x.name(),", ").concat(t.id))).attr("aria-datavaluearray",(t=>t.values.filter((t=>null!==t.y)).map((t=>"[".concat(JSON.stringify(A(t.x)),", ").concat(JSON.stringify(t.y),"]"))).join(","))).style("stroke",((t,e)=>H(Dt(e,t.id)))).on("click",(t=>N("line.click",t.id))).on("mouseenter",(t=>N("line.mouseenter",t.id))).on("mouseleave",(t=>N("line.mouseleave",t.id))),r.selectAll("path").attr("d",(t=>{var n;let{settings:r,values:i}=t;const o=null!==(n=r.interpolation)&&void 0!==n?n:l.get("interpolation","linear");return e.curve(lv(o))(l.featurePreviews()["connect-missing-points"]&&r.connectMissingPoints?i.filter((t=>Yg(t.y)||t.y)):i)}));const i=function(t){let{gLineGroup:e,lineWidthMap:n,axes:r,cm:i,autocolor:o,theme:a,scales:s,ariaXFormat:l}=t;const c=uf(a,"vis.d3-lines.symbols.outline");let u=0;return e.filter((t=>t.settings.symbols.enabled)).append("g.line-symbols").style("fill",(function(t,e){return"fill"===t.settings.symbols.style?i(o(e,t.id)):a.colors.background||"transparent"})).style("stroke",(function(t,e){return"hollow"===t.settings.symbols.style?i(o(e,t.id)):null})).style("stroke-width",(function(t){const e=n["invisible"!==t.settings.width?t.settings.width:cv.width];return"hollow"===t.settings.symbols.style?e/t.settings.symbols.size:c?(c.width||1)/t.settings.symbols.size:null})).each((function(t){const e=t.settings;ve(this).selectAll("path.symbol").data(kv).join("path.symbol").attr("role","graphics-dataunit").attr("aria-datascales","x-axis, y-axis").attr("aria-datavariables",(t=>"".concat(r.x.name(),", ").concat(t.lineId))).attr("aria-datavalues",(t=>"".concat(JSON.stringify(l(t.x)),", ").concat(JSON.stringify(t.y)))).attr("d",(t=>{if(t.y===s.y.domain()[1]){const t=e.symbols.size*(Mv[e.symbols.shape]||1)+("hollow"===e.symbols.style?n[e.width]:0);u=Math.max(u,t)}return yv[e.symbols.shape]})).attr("transform",(function(t){return"translate("+[s.x(t.x),s.y(t.y)]+") scale("+parseFloat(e.symbols.size)+")"})).style("opacity",e.symbols.opacity)})),u}({gLineGroup:n,lineWidthMap:vv(E),axes:w,cm:H,autocolor:Dt,theme:E,scales:ut,ariaXFormat:A}),o=Math.max(6,i);o!==B.bufferTop&&(B.bufferTop=o,Ct())}))}(),z&&function(){const t=l.chart().flags().dev,e=Et.append("g.value-labels"),n=Et.append("g.inner-value-labels");J.add((function(){const r=uf(E,"vis.d3-lines.labels.values.fontSize",Pg(E,"fontSize",12)),i=vt.some((t=>{let{settings:e}=t;return e.valueLabels.enabled&&e.valueLabels.last}));St(),K=Ix({gLine:Tt.selectAll("g.line-group"),gValueLabels:e,gLineEndsValueLabels:n,valueLabelColors:l.get("value-label-colors"),defaultInterpolation:l.get("interpolation","linear"),annotationBboxList:Ot,lineData:vt,margin:B,measureValueLabel:s,chartHasDirectLabels:bt,getElementBounds:v.getElementBounds,gridLabelsRight:"right"===l.get("y-grid-label-align","left")&&"off"!==l.get("y-grid-labels","auto"),scales:ut,textColor:Rt,autocolor:Dt,valueLabelFormat:gt,valueLabelFontSize:r,theme:E,size:W,cm:H,rtl:k,dev:t});const o=+l.get("label-margin",0),a=o>0&&!bt&&i?Math.max(0,o-Y[k?"left":"right"]):0;a!==B.userValueLabelMargin&&(B.userValueLabelMargin=a,Ct())}))}(),function(){const t=_t.append("div.d3l-line-labels");J.add((function(){if(z&&ht!==(k?"left":"right")){let e=!1,n=!1;const r=Object.fromEntries(vt.map((t=>{const r=function(t){const e=t.settings,n=e.valueLabels.enabled&&e.valueLabels.last,r=n&&t.lastValueOutside;switch(!0){case!e.directLabel&&!n:return"none";case e.directLabel&&!n:return"seriesLabel";case!e.directLabel&&r:return"valueLabel";case e.directLabel&&n:return"combined";default:return"none"}}(t);return"none"!==r&&(e=!0),"combined"===r&&(n=!0),[t.id,r]})));t.html("");const i=W.outerWidth<$,o=+l.get("label-margin",0),a=l.get("connector-lines",!0),s=vt.filter((t=>qt(t.id)&&"none"!==r[t.id]));!function(t){let{labelContainer:e,lineLabelData:n,hasSomeCombinedLabels:r,lineLabelTypes:i,highlight:o,vis:a,valueLabelFormat:s,isMobile:l,seriesLabelColors:c,valueLabelColors:u,textColor:h,cm:f,autocolor:d,postEvent:p}=t;const g=e.selectAll("div.d3l-line-label.connected-label.label").data(n).join("div.d3l-line-label.connected-label.label").classed("combined",r).classed("value-label",(t=>!r&&"valueLabel"===i[t.id])).classed("series-label",(t=>!r&&"seriesLabel"===i[t.id])).attr("column",_e("id")).attr("aria-hidden",!0).on("mouseenter",(function(t){o.set(t.id)})).on("mouseleave",(function(){o.clear()}));g.filter(".value-label, .series-label").append("span"),g.filter(".combined").each((function(t){["series","value"].forEach((e=>{if(["combined","".concat(e,"Label")].includes(i[t.id])){if("value"===e&&!1===t.lastValueOutside)return;ve(this).append("div").classed("".concat(e,"-label label"),!0).append("span")}}))})),a.chart().flags().allowEditing&&a.chart().inEditor()&&e.selectAll(".series-label span").attr("contenteditable",!0).attr("role","textbox").on("blur",(function(t){const e=Kx(ve(this).html());p("editor:patch:chart",{key:["metadata","visualize","lines",t.id,"title"],value:e}),ve(this).html(e)})).on("keydown",(function(t){if("Enter"===se.key){const e=Kx(ve(this).html());p("editor:patch:chart",{key:["metadata","visualize","lines",t.id,"title"],value:e}),this.blur()}if("Escape"===se.key){const e=a.get(["lines",t.id,"title"],"");ve(this).html(e),this.blur()}})),e.selectAll(".series-label, .value-label").each((function(t,e){var n;const r=ve(this).classed("series-label")?"seriesLabel":"valueLabel",i=l&&"seriesLabel"===r;if(ve(this).style("color",function(t,e,n,r,i,o,a,s){return"seriesLabel"===t?e?r(i(o(a,s.id))):null:n?r(i(o(a,s.id))):null}(r,c,u,h,f,d,e,t)),ve(this).classed("last",(t=>"valueLabel"===r&&Vx(t.settings,a.theme()))).classed("d3l-hidden",i),!(null!==(n=t._measuredLabelHeight)&&void 0!==n&&n[r]||i)){const e=a.chart().getElementBounds(ve(this).select("span").text("X").node());t._measuredLabelHeight||(t._measuredLabelHeight={}),t._measuredLabelHeight[r]=e.height}ve(this).select("span").html(function(t,e,n,r){switch(r){case"seriesLabel":return e.title||t.dataset.column(e.column.name()).title();case"valueLabel":return n(e.last.y).replaceAll(" ","&nbsp;");default:return""}}(a,t,s,r))}))}({labelContainer:t,lineLabelData:s,hasSomeCombinedLabels:n,lineLabelTypes:r,highlight:$t,vis:l,valueLabelFormat:gt,isMobile:i,seriesLabelColors:l.get("label-colors"),valueLabelColors:l.get("value-label-colors"),textColor:Rt,cm:H,autocolor:Dt,postEvent:N}),function(t){let{labelContainer:e,lineLabelData:n,labelMargin:r,hasSomeDirectLabels:i,margin:o,marginsChanged:a,isMobile:s,chart:l,labelWidth:c,scales:u,preventLabelOverlap:h,size:f,rtl:d}=t;const p=e.selectAll("div.d3l-line-label.connected-label.label"),g=e.selectAll(".value-label");let m=0;r>0&&!s?m=r:(s?g:p).style("width","auto").selectAll("span").each((function(){m=Math.max(m,l.getElementBounds(this).width)})),c=0,p.style("width",m+"px").each((function(t){t.lh=l.getElementBounds(this).height})),c=s?0:Math.round(m),n.forEach((function(t){t.ly=u.y(t.last.y),t._direct=!1,t._show=!0})),h(n.filter(_e("_show")),"ly",0,f.height,"lh"),p.style("display",(function(t){return t._show?"block":"none"})).filter(_e("_show")).style("left",(function(t){return(t._direct?u.x(t.last.x)+5:d?-m:f.width)+"px"})).style("top",(function(t){if(!t._measuredLabelHeight)return t.ly;const e=(this.classList.contains("combined")?this.childNodes[0]:this).classList.contains("series-label"),n=t._measuredLabelHeight[e?"seriesLabel":"valueLabel"];return t.ly-n/2+"px"})),i?c!==o.directLabels&&(o.directLabels=c,a()):(o.directLabels=0,c=0,a())}({labelContainer:t,lineLabelData:s,labelMargin:o,hasSomeDirectLabels:e,margin:B,marginsChanged:Ct,isMobile:i,chart:v,labelWidth:0,scales:ut,preventLabelOverlap:Yt,size:W,rtl:k}),function(t){let{svgChart:e,lineLabelData:n,connectingLines:r,scales:i,rtl:o,size:a,isMobile:s,lineLabelTypes:l,cm:c,autocolor:u,dev:h}=t;e.select("g.lbl-connect-lines").remove(),r&&e.append("g.lbl-connect-lines").selectAll("path").data(n.filter((function(t){let n=i.x(t.last.x),r=i.y(t.last.y);const{valueLabels:s}=t.settings;if(s.enabled&&!t.lastValueOutside&&s.last){const i=e.parent().selectAll("g.line-end-value-labels text").filter((e=>e.lineId===t.id&&"last"===e.type)).nodes()[0];if(i){const e=i.getBBox(),s={x1:n,y1:r,x2:o?0:a.width,y2:t.ly},l=o?Math.max(e.x-3,0):Math.min(e.x+e.width+3,a.width),c=function(t,e){let{x1:n,y1:r,x2:i,y2:o}=t,{x1:a,y1:s,x2:l,y2:c}=e;if(n===i&&r===o||a===l&&s===c)return!1;const u=(c-s)*(i-n)-(l-a)*(o-r);if(0===u)return!1;const h=((l-a)*(r-s)-(c-s)*(n-a))/u,f=((i-n)*(r-s)-(o-r)*(n-a))/u;if(h<0||h>1||f<0||f>1)return!1;return{x:n+h*(i-n),y:r+h*(o-r)}}(s,{x1:l,y1:e.y,x2:l,y2:e.y+e.height});c&&(n=c.x,r=c.y)}}const l=n-(o?0:a.width),c=r-t.ly,u=Math.sqrt(l*l+c*c);return t._connectorLineStart={x:n,y:r},u>10}))).join("path").attr("data-column",(t=>h?t.id:null)).style("stroke",(function(t,e){return c(u(e,t.id))})).classed("d3l-hidden",(t=>s&&"seriesLabel"===l[t.id])).attr("d",(function(t){const{x:e,y:n}=t._connectorLineStart;return"M"+[e,n]+"L"+[o?3:a.width-3,t.ly]}))}({svgChart:Tt,lineLabelData:s,connectingLines:a,scales:ut,rtl:k,size:W,isMobile:i,lineLabelTypes:r,cm:H,autocolor:Dt,dev:l.chart().flags().dev}),function(t){t.selectAll("text.end-value-label").each((function(e){const n=this;"last"===e.type&&e.settings.directLabel&&t.selectAll(".d3l-line-label").each((t=>{if(t.id===e.lineId){const r=t._measuredLabelHeight;ve(n).attr("y",e.y-(r?r.seriesLabel/2:0)).attr("dominant-baseline",r?"text-before-edge":"middle")}}))}))}(j)}}))}(),function(t){const e=xt.select("rect.bg"),n=wt.append("g.tooltip").attr("aria-hidden",!0);let r,i,o,a,s;n.append("text.tooltip.bg"),n.append("text.tooltip.fg");const c=n.append("line").attr("y1",-13).attr("y2",-5).style("stroke-width",C?3:1);C||n.append("circle").attr("r",5);const u=()=>/<br *\/?>|\n/g;function d(t,e,n,r){ve(t).tspans(e).attr("dy",((t,e)=>0===e&&n?0:r))}function p(t,e,n,r){const i=v.getElementBounds(t).width;if(u().test(e))!function(t,e,n,r){t.innerHTML="";let i=e.trim().split(u());i=i.filter((t=>""!==t)),d(t,i,n,r)}(t,e,r,a);else if(i>150){t.innerHTML="";const n=i/150;d(t,qg(e,Math.ceil(e.length/Math.ceil(n)*1.1)),r,a)}if(v.getElementBounds(t).width/n>1){t.innerHTML="";const o=i/n,s=Math.floor(e.length/o);d(t,qg(e.replace(u()," "),s),r,a)}}function m(){n.classed("show",!1),$t.clear()}J.add((function(){let e=l.get("x-grid-format","auto");"auto"===e&&(e="number"===w.x.type()?function(t){const e=Math.abs(t[1]-t[0]);return e<1?"0,0.00[0]":e<3?"0,0.0[0]":e<1e4?"0,0.[0]":e>1e6||Math.abs(t[0])>1e5||Math.abs(t[1])>1e5?"0,0.[0]a":"0,0"}(ut.x.domain()):"date"===w.x.type()?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";const n=Math.abs(t[1].getTime()-t[0].getTime());return"year"===e?n>5*Ug?"YYYY~~'YY":n>3*Ug?"YYYY":"YYYY|MMM":"quarter"===e?n>6*Fg?"YYYY|[Q]Q":"YYYY [Q]Q|MMM":"week"===e?"YYYY|[W]wo":n<48e4?"LTS":n<Ig?"LT":n<5*Ig?"dddd|LT":n<3*Fg?"MMMM|D":n<Ug?"MMM|D":"YYYY|MMM|D"}(ut.x.domain()):"");const u=l.get("tooltip-x-format",e);r="date"===w.x.type()?t=>t?f(t).format(u.replace(/\|/g," ")).split("~~")[0]:"":"number"===w.x.type()?t=>Bg(h,t,{format:u,minusChar:S.minus,plusMinusChar:S.plusMinus,...I.yAxis}):t=>t;const d=uf(E,"vis.d3-lines.labels.tooltip.fontSize",Pg(E,"fontSize",12));s=n.selectAll("text"),n.select("text.tooltip.bg").style("stroke",E.colors.background),n.select("text.tooltip.fg").style("fill",L.tooltipText),c.style("stroke",L.fallback),n.select("circle").style("stroke",L.fallback),a=Math.round(1.1*d),i=B.t,s.selectAll("tspan").remove(),o=s.tspans(t?["","",""]:["",""],a)})),xt.on("mousemove",(function(){const u=uv(w.y,l.get("lines",{}),l.get("color-category.map",{}),E);if(!o)return;if(!1===l.get("show-tooltips"))return;const h=v.getRelativeMousePosition(se,e.node());if(y(h[0],mt,10)&&y(h[1],yt,20)){let e=-1,y=9999999;if(vt[0].values.forEach((function(t,n){var r=Math.abs(ut.x(t.x)-h[0]);r<y&&(e=n,y=r)})),e<0)return;const v=C&&l.get("stack-to-100");var f=vt.map((function(t,n){const r=vt.reduce(((t,n)=>t+n.values[e].y),0),i=dw.utils.clone(t.values[e]);v&&(i.y=i.y/r*100,i.dy=i.dy/r*100);const o=C&&l.get("stack-areas",!0),a=h[1];return{i:n,d:t,item:i,dst:isNaN(i.y)||!qt(t.id)?9999999:Math.abs(ut.y(i.y*(o?.5:1)+i.dy)-a)}})).filter((t=>!Number.isNaN(t.dst))).sort(ke("dst"));if(f[0].dst<100){const l=k?h[0]/W.width>=.4:h[0]/W.width<.6;var d=vt[f[0].i].values[e];const m=v?f[0].item:vt[f[0].i].values[e];if(!qt(d.col.name())||null===m.y||""===m.y)return;N("tooltip",{x:d.x,y:d.y,col:d.col.name()}),$t.set(d.col.name());const y=ut.x(m.x),b=ut.y(m.y+m.dy),x=W.width,_=(l?x-y:y)-10;if(o.style("text-anchor",l?"start":"end"),o.each((function(e,n){if(t){if(0===n){var i;const t=av((null===(i=u[d.col.name()])||void 0===i?void 0:i.title)||d.col.title(),["br"]);return this.textContent=t,void p(this,t,_,!0)}n--}const o=0===n?r(rt?av(w.x.val(d.x),["br"]):d.x):null===d.y?"0":pt(d.y);this.textContent=o,0===n&&rt&&p(this,o,_,!t)})),t){const t=Rt(H(Dt(d.columnIndex,d.col.name())));n.select("text.tooltip.fg tspan:first-child").style("fill",t)}const M=s.nodes()[0],T=Array.from(M.getElementsByTagName("tspan")).filter((t=>0===t.children.length)).length;let A=h[1]>60;if(C){const t=(a+1)*(T-1),e=.5*(ut.y(m.dy)+b)+t,n=Math.max(0,e-ut.y.range()[0]);c.at({y1:ut.y(m.dy)-b,y2:0}),s.translate([(l?10:-10)*(k?-1:1),.5*(ut.y(m.dy)-b)-n])}else{const e=a*(T+1)+(A?2:5),n=g(ut.y.range());!A&&b+e>n[0]&&(A=!0),A&&b-e<n[1]-i&&(A=!1),c.at(A?{y1:-a,y2:-5}:{y1:5,y2:a+3}),s.translate([l?-3:3,A?-T*a-(t?3:2):2*a+2])}n.translate([ut.x(d.x),b]),n.classed("show",!0)}else m()}else m();function y(t,e,n){return n=n||0,t>=e[0]-n&&t<=e[1]+n}})).on("mouseleave",(function(){m()}))}(vt.length>1),"fixed"===l.chart().getHeightMode()&&l.chart().flags().allowEditing&&l.chart().inEditor()&&(o=function(t){let{element:e,scales:n,updateCallback:r,rerender:i,vis:o}=t,a=null;const s=o.target(),l=()=>uf(o.theme(),"colors.background","#ffffff");let c=!1;const u=o.chartStore();u&&(c=!0);const h=new sy({target:e.node(),props:{outerContainer:s,chartStore:u,plotHeightMode:o.get("plotHeightMode","fixed"),plotSize:{width:n.x.range()[1],height:Math.max(...n.y.range())},backgroundColor:l(),handleResize:t=>{a=t,i()},onResizeEnd:()=>{const t=()=>{a=null,r.remove(t)};r.add(t)}}});return r.add((()=>{const t=o.chartStore(),e={backgroundColor:l(),plotHeightMode:o.get("plotHeightMode","fixed"),plotSize:{width:n.x.range()[1],height:Math.max(...n.y.range())}};!c&&t&&(e.chartStore=t,c=!0),h.$$set(e)})),{getHeight:()=>a}}({element:_t,scales:ut,margin:B,vis:l,updateCallback:J,rerender:()=>e.context.vis.update(l)})),J.fire(!0),setTimeout((()=>{l.renderingComplete()}),20),{update:function(t){const e=(l=t).size();W.outerWidth=e[0],W.width=W.outerWidth-B.l-B.r;const{height:n,outerHeight:r}=zt(W.width);W.height=n,W.outerHeight=r,X=0,W.outerHeight<=0||W.outerWidth<=0||J.fire(),l.renderingComplete()},settings:function(){return R}};function Nt(t){return"date"===w.x.type()?al(t):"number"===w.x.type()?Yg(t):void 0!==t}function zt(t){const e={height:0,outerHeight:0};if("fit"===l.chart().getHeightMode())e.outerHeight=l.size()[1]-B.outer.b-B.outer.t,e.height=e.outerHeight-B.t-B.b;else if(o&&o.getHeight())e.height=o.getHeight(),e.outerHeight=e.height+B.t+B.b;else{const n=l.get("plotHeightMode","fixed");e.height="ratio"===n?t*l.get("plotHeightRatio",.6):l.get("plotHeightFixed",300),e.outerHeight=e.height+B.t+B.b}return e}function Ct(){if((!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&X++>15)return;B.b=B.gridBottom,B.t=Math.max(B.gridTop,Math.max(B.bufferTop-B.colorKeyMarginTop,0)),B.outer.b=B.annotationKeyMarginBottom+B.colorKeyMarginBottom,B.outer.t=B.colorKeyMarginTop;const t=[B.xGridLeft,B.yGridLeft],e=[B.xGridRight,B.yGridRight];(k?t:e).push(B.directLabels,B.userValueLabelMargin),B.l=Math.max(...t),B.r=Math.max(...e),W.width=W.outerWidth-B.l-B.r;const{height:n,outerHeight:r}=zt(W.width);W.height=n,W.outerHeight=r,ih(q,{...B,...W})||(q={...B,...W},Q())}function jt(){const t=l.get("color-category.map",{}),e=uv(w.y,l.get("lines",{}),t,E),n=l.get("base-color",0),r=C?t:Object.fromEntries(Object.entries(e).filter((t=>{let[,e]=t;return"color"in e})).map((t=>{let[e,{color:n}]=t;return[e,n]}))),i={customColors:r,selectedColor:n,keys:l.keys(),permute:!0};return l.get("variate-colors",!1)&&(i.positiveColor=!0,i.negativeColor=!0,i.neutralColor=!0),G={},wh(E,i)}function Dt(t,e){const n=e;return G[n]||(G[n]=V(n,t,function(t){var e="equal";return l.dataset.eachColumn((n=>{n.name()===t&&(e=n.values()[n.values().length-1]-n.values()[0])})),e}(e))),G[n]}function Rt(t){let e=1;t.match(/^#[0-9a-f]{8}$/i)&&(e=parseInt(t.slice(-2),16)/255,t=t.slice(0,-2));const n=it(t),r=it(uf(E,"colors.background")).l>50;return n.l=r?Math.min(n.l*e,50):Math.max(n.l*e,65),n}function Pt(t){const e=E.colors.palette;return sh(t)?e[t%e.length]:t}function It(t){const e="x"===t?w.x:w.y[0];if(!e)return[];const n=e.type();return function(t,e,n,r){const{dayjs:i}=r,o=t.split(","),a=dw.column("",o,e);return"date"===e&&"MMM"===a.type(!0).format()?{ticks:(s=o,l=n,g(l[0].getFullYear(),l[1].getFullYear()+1).map((t=>s.map((e=>i("1 ".concat(e," ").concat(t)).toDate())))).flat().filter((t=>t>=l[0]&&t<=l[1]))),autoComputed:!0}:{ticks:a.values().filter((t=>Ov(t,e))),autoComputed:!1};var s,l}(l.get("custom-ticks-".concat(t),""),n,"x"===t?Ft():Ut(),{dayjs:f})}function Ft(){if(rt)return[0,w.x.length-1];let t=a(w.x.values().filter(((t,e)=>w.y.find((t=>Ov(t.val(e),"number"))))));const e=w.x.type(!0),n=l.get("custom-range-x",["",""]).map(String),r=dw.column("x",n,e.name()).values(),i=r.map((t=>Ov(t,e.name())));return 2===i.filter(Boolean).length&&(tt=e.toNum(r[1])<e.toNum(r[0])),tt&&r.reverse(),t=t.map(((t,e)=>i[e]?r[e]:t)),at?t:a(t.concat(ot))}function Ut(){let t=tl(w.y.map((function(t){return t.values().filter(((t,e)=>lt[e]))}))).filter(Yg);if(C&&l.get("stack-areas",!0)){if(l.get("stack-to-100"))return[0,100];t=g(w.y[0].length).map((function(t){return m(w.y.map((function(e){var n=e.val(t);return lt[t]&&Yg(n)?n:0})))}))}if(l.get("custom-range-y")){const e=l.get("custom-range-y").map((t=>Yg(t)?parseFloat(t):null)),n=null===e[0]^null===e[1],r=null!==e[0]&&null!==e[1];(n||r)&&(t=t.concat(e).filter((function(t){return n&&null===e[0]?t<=e[1]:n&&null===e[1]?t>=e[0]:t>=p(e)&&t<=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(e)}))),et=2===e.filter((t=>null!==t)).length&&e[1]<e[0]}(C||pv({scaleType:l.get("scale-y","linear"),customFills:l.get("custom-area-fills",[]),numberColumns:l.axes().y,dataset:P}))&&t.push(0);let e=a(t);const[n,r]=e;if(!l.get("custom-range-y",[])[0]&&!nt){(n>0&&r>0&&n/r<=.5||n<0&&r<0&&r/n<=.5)&&(e=a([0,n,r]))}return nt&&0===e[0]&&(e[0]=.001),e}function Ht(){const t=it(uf(E,"colors.background","#ffffff")).l,e=uv(w.y,l.get("lines",{}),l.get("color-category.map",{}),E),n=w.y.filter((t=>t.values().filter(Yg).length)).map((function(n,r){let i=n.values().map(((t,e)=>({v:t,_i:e}))).filter(((t,e)=>lt[e])).map((t=>{let{v:e,_i:i}=t;return{lineId:n.name(),x:rt?i:w.x.val(i),y:e,dy:0,col:n,columnIndex:r}}));if(!i.length)return!1;if(0===i.filter(_e("y",Yg)).length)return!1;rt||C||(i=i.sort(ke(_e("x"))));let o=H(Dt(r,n.name())),a=1;"#"===o.substr(0,1)&&o.length>7&&(a=parseInt(o.substr(7,2),16)/255,o=o.substr(0,7));const s=Math.abs((t-it(o).l)*a),l={id:n.name(),title:e[n.name()].title||n.title(),column:n,values:i,first:i.filter(_e("y",Yg))[0],last:ch(i.filter(_e("y",Yg))),bgContrast:e[n.name()].bgStroke?100+s:s,color:o};if(z&&(l.settings=e[l.id]),tt){const t=l.last;l.last=l.first,l.first=t}return l.columnIndex=r,l.values.forEach(((t,e)=>{var n,r;t.datapointId=(n=l.id,r=e,"".concat(n,"-").concat(r)),t.isFirst=t===l.first,t.isLast=t===l.last})),z&&(l.formattedLabels={first:gt(l.first.y),last:gt(l.last.y)}),l})).filter((t=>t));return z?n.sort(ke("bgContrast")):n}function Bt(){const t=l.get("y-grid-labels","auto");return"inside"===t||"auto"===t&&W.outerWidth<=$}function Yt(t,e,n,r,i){var o=[];t.forEach((function(t){o.push({node:t,y:t[e],dy:0,oy:t[e],h:i?t[i]:0})}));var a=0;!function t(){var e=!1;o.forEach((function(t,n){o.forEach((function(r,i){if(i>n){var o,a,s=t.y,l=r.y,c=5+.5*t.h+.5*r.h;Math.abs(s-l)<c&&(e=!0,o=.35*(Math.abs(s-l)-c),a=s<l,t.dy+=a?o:-o,r.dy-=a?o:-o)}}))})),e&&o.forEach((function(t){t.y=Math.min(Math.max(n,t.y+t.dy),r),t.dy=0})),e&&++a<10&&t()}(),o.forEach((function(t){t.node[e+"_d"]=t.y-t.oy,t.node[e]=t.y}))}function Wt(){return C?l.get("area-opacity",.5):1}function qt(t){if(C)return!0;const e=uv(w.y,l.get("lines",{}),l.get("color-category.map",{}),E),n="invisible"!==e[t].width,r=_v(e[t]);return n||r}}return{type:function(){return"lines"},render:function(t){const n=this,i=n.chart().get("metadata");i.visualize||(i.visualize={});const o=e.context||{};e.context=o;const a=n.chart(),c=n.theme();u(n),r&&t.classList.remove(r),t.classList["rtl"===n.textDirection?"add":"remove"]("dir-rtl"),r=uT(a.emotion,c,"area"===this.type()),t.classList.add(r),s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=new Map;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=i+o.sort().join(" ");if(r.has(a))return r.get(a);let s,l=t;const c=[...e];for(;c.length;)l.querySelector(c[0])?l=l.querySelector(c[0]):(l=ve(l).append(c[0]).node(),s||(s=l)),c.shift();s&&ve(s).style("visibility","hidden").classed("measure-text",!0);const u=ve(l).append("text").attr("class",n.concat(o).join(" ")).classed("measure-text",!s).text(i).style("visibility","hidden"),h=u.node().getBoundingClientRect();return r.set(a,{width:h.width,height:h.height}),(s||u).remove(),r.get(a)}}(t,["g.inner-value-labels","g.line-end-value-labels"],["end-value-label"]),!o.vis||l||function(t,e){t=dw.utils.clone(t),e=dw.utils.clone(e);const r=pv({scaleType:t.visualize["scale-type"]||"linear",customFills:t.visualize["custom-area-fills"],numberColumns:n.axes().y,dataset:n.dataset}),i=pv({scaleType:e.visualize["scale-type"]||"linear",customFills:e.visualize["custom-area-fills"],numberColumns:n.axes().y,dataset:n.dataset}),o=r===i||r>=1&&i>=1;return Ys([t,e],(function(t){delete t.visualize.lines,delete t.visualize["color-category"],delete t.visualize["base-color"],delete t.visualize["show-tooltips"],delete t.visualize["tooltip-x-format"],delete t.visualize["tooltip-number-format"],delete t.visualize["area-opacity"],delete t.visualize["sort-areas"],delete t.visualize["area-separator-color"],delete t.visualize["area-separator-lines"],delete t.visualize["show-color-key"],delete t.visualize["stack-color-legend"],delete t.visualize["reverse-color-legend"],delete t.visualize["x-grid"],delete t.visualize["x-grid-format"],delete t.visualize["y-grid"],delete t.visualize["y-grid-subdivide"],delete t.visualize["y-grid-labels"],delete t.visualize["y-grid-format"],delete t.visualize["connector-lines"],delete t.visualize["label-colors"],delete t.visualize["label-margin"],delete t.visualize["value-labels-format"],delete t.visualize["value-label-colors"],o&&delete t.visualize["custom-area-fills"],delete t.visualize.interpolation,delete t.visualize.plotHeightMode,delete t.visualize.plotHeightFixed,delete t.visualize.plotHeightRatio,delete t.publish})),!ih(t,e)}(i,o.vis.settings())?(o.vis=h(t,n),l=!1):o.vis.update(n)},keys:function(){return this.axes(!0).y.map((function(t){return t.name()}))},reset:function(){},supportsSmartRendering:()=>!0}}),...dw.visualization.hasVisHash?["9f8732aa","%%a0157475%%".slice(2,-2)]:[])}();</script>
</body>
</html>
