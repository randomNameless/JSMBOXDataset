<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iframe-player.html</title>
</head>
<body>

<script>
import{g as e,E as t,c as n,l as i,a as r,b as o,P as s,S as a,d as l,e as c,f as d,h as u}from"./playback-adapter-60948683.js";var p,m,h,g={exports:{}};p=g,m=g.exports,h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==h)return h;throw new Error("unable to locate global object")}(),p.exports=m=h.fetch,h.fetch&&(m.default=h.fetch.bind(h)),m.Headers=h.Headers,m.Request=h.Request,m.Response=h.Response;var y=e(g.exports),E={exports:{}};const{AbortController:_,AbortSignal:f}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;E.exports=_,E.exports.AbortSignal=f,E.exports.default=_;var I=e(E.exports);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b.apply(this,arguments)}!function(e){function t(){var t=this||self;t.globalThis=t,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object);const v=["body"];function T(e,t,n={}){return function(e,t={},{fetch:n=globalThis.fetch,AbortController:i=globalThis.AbortController,responseType:r="text",timeout:o}={}){let s,{body:a}=t,l=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t.indexOf(n=o[i])>=0||(r[n]=e[n]);return r}(t,v);o&&(s=function(e,t){const n=new e,i=globalThis.setTimeout((()=>{n.abort()}),t);return{signal:n.signal,clear:()=>{globalThis.clearTimeout(i)}}}(i,o));const c=b({method:a?"POST":"GET"},l);return a&&"object"==typeof a&&"function"!=typeof a.append?(c.body=JSON.stringify(a),c.headers=b({},c.headers,{"content-type":"application/json"})):a&&(c.body=a),s&&(c.signal=s.signal),n(e,c).then((async e=>{if(s&&s.clear(),!e.ok){const t=await e.text();return Promise.reject(new Error(t))}const t={};for(const n in e)"function"!=typeof e[n]&&(t[n]=e[n]);const n=await e[r]();t.data=n;try{t.data=JSON.parse(n)}catch(e){}return t}))}(e,t,b({},n,{fetch:y,AbortController:globalThis.AbortController||I}))}const A="play",w="pause";class P extends t{destroy(){this.removeAllListeners()}setAutoplay(e){this._autoplay=e}setMinVisibility(e){this._minVisibility=Number(e)||0}setDimensions(e,t){this._currentWidth=e,this._currentHeight=t}setBackgroundPlayback(e){this._allowBackgroundPlayback=e}handleAutoplay(){this._autoplay&&this._currentWidth&&this._currentHeight&&(this._currentVisibility>=this._minVisibility||this._minVisibility<=0?this.emit(A,{origin:"autoplay",initial:this._pausedBy||"autoplay"}):this._pausedBy="autoplay",this._autoplay=!1)}activate(){this._isActive=!0}deactivate(){this._isActive=!1}validate(){this._onVisibilityChange()}setPlayedByUser(){this._pausedBy=""}setPausedByUser(){this._pausedBy="user"}setPlayedByExternalApi(){this._pausedBy=""}setPausedByExternalApi(){this._pausedBy="external-api"}setVisibility(e){this._currentVisibility!==e&&(this._currentVisibility=e,this._onVisibilityChange())}_onVisibilityChange(){-1!==this._currentVisibility&&(this._currentVisibility>=this._minVisibility?this._play("visibility"):this._pause("visibility"),0===this._currentVisibility&&(this._fireVisibilityChange=!0))}_play(e){e&&(this._isActive||"autoplay"===this._pausedBy)&&(""!==this._pausedBy&&this._pausedBy!==e&&"autoplay"!==this._pausedBy||(this.emit(A,{origin:e,initial:e}),this._playedOnce=!0,this._pausedBy=""))}_pause(e){this._allowBackgroundPlayback&&this._playedOnce&&"visibility"===e||e&&this._isActive&&(""===this._pausedBy&&(this._pausedBy=e),this.emit(w,{origin:e,initial:this._pausedBy}))}constructor(){super(),this._autoplay=!1,this._minVisibility=0,this._allowBackgroundPlayback=!1,this._playedOnce=!1,this._currentVisibility=-1,this._currentWidth=0,this._currentHeight=0,this._pausedBy="",this._isActive=!1,this._fireVisibilityChange=!0}}class N{setup(...e){return this._bootstrap.setup(...e)}destroy(){this._documentHiddenObserver.disconnect(),this._visbilityObserver.disconnect()}_setVisibility(e,{scrollDown:t}={}){this._bootstrap.setVisibility(e,{scrollDown:t})}_onPlaybackHandlerPlay(){this._bootstrap.play()}_onPlaybackHandlerPause(){this._bootstrap.pause({byExternalApi:!1})}_connectPlaybackHandler(){this._bootstrap.playbackHandler.on(A,(()=>{this._onPlaybackHandlerPlay()})),this._bootstrap.playbackHandler.on(w,(()=>{this._onPlaybackHandlerPause()}))}constructor({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}){this._bootstrap=t,this._connectPlaybackHandler(),this._documentHiddenObserver=n({window:e},(({hidden:e})=>{t.setDocumentHidden(e)})),this._pageVisibilityHiddenObserver=r({window:e},(()=>{t.unload()})),this._visbilityObserver=i((e=>{this._setVisibility(e.ceiledIntersectionRatio,{scrollDown:e.scrollDown})}))}}const S="allowed",C="allowed-muted",O="disallowed",x=["nn.de","pnp.de","donaukurier.de","mittelbayerische.de","infranken.de"],R=["eexbs17lxlvyaf7"];function L(e,{browserType:t,osMajorVersion:n,muted:i=!0,integrationId:r,pageSecondLevelDomain:o}){if(("ios-webview"===t||"ios"===t)&&!1===i)return Promise.resolve(!1);if("ios-webview"===t&&i&&(x.includes(o)&&!R.includes(r)||n<17))return Promise.resolve(!1);const s=new e.Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"}),a=e.document.createElement("video");if(i&&a.setAttribute("muted",""),a.setAttribute("playsinline",""),a.setAttribute("webkit-playsinline",""),a.setAttribute("height","0"),a.setAttribute("width","0"),a.muted=i,a.playsinline=!0,a.webkitPlaysinline=!0,a.src=e.URL.createObjectURL(s),"ios"===t||"safari_desktop"===t||"firefox"===t){const e=new Promise((e=>e(a.play()))).then((()=>!0)).catch((()=>!1)),t=new Promise((e=>{setTimeout((()=>{e(!1)}),2e3)}));return Promise.race([e,t])}return new Promise((e=>e(a.play()))).catch((()=>{})),Promise.resolve(!a.paused)}const k=e=>{if("string"!=typeof e)throw new Error("Argument must be a string");const t=e.replace(/^\?/,""),n={};return t.split("&").forEach((e=>{const[t,i]=e.split("=");n[t]=decodeURIComponent(i)})),n};const U=(e,{ignoreEmptyFields:t=!1}={})=>{if("object"!=typeof e)throw new Error("Argument must be an object");return Object.keys(e).filter((n=>!t||null!=e[n])).map((t=>{let n;return n=0===e[t]||"boolean"==typeof e[t]?JSON.stringify(e[t]):e[t]||"",`${t}=${i=n,encodeURIComponent(i).replace(/['()]/g,escape).replace(/\*/g,"%2A").replace(/%(?:7C|60|5E)/g,unescape)}`;var i})).join("&")};function M(e){let t=e,n="";do{try{t.parent.document&&(t=t.parent)}catch(e){break}}while(t!==e.top);if(t===t.top)n=t.location.href;else if(null!=t.document.referrer){const i=function(e){let t;try{if(t=e.location.ancestorOrigins,!t)return;return t.item(t.length-1)}catch(e){}}(t);n=t.document.referrer,!function(e,t){try{const n=new t.URL(e);return Boolean(D.find((e=>n.hostname&&n.hostname.indexOf(e)>0&&n.hostname.indexOf(e)===n.hostname.length-e.length)))}catch(e){return!1}}(n,e)&&i&&0!==n.indexOf(i)&&(n=i)}const i=t.location.href.indexOf("#amp=1");n&&"null"!==n||(n="about:blank"),n=function(e,t){let n=e;try{const i=new t.URL(e);D.forEach((e=>{const{host:t,pathname:r,search:o}=i;if(t&&t.indexOf(e)>0&&t.indexOf(e)===t.length-e.length){const i=r.match(/^\/[c|v]\/s\//),s=r.replace(/^\/[c|v](\/s){0,1}\//,"");if(n=`${i?"https":"http"}://${s}${o}`,""===s||"/"===s){const i=t.replace(e,"").replace(/-{2}/g,"DASHCHAR").replace(/-{1}/g,"DOTCHAR").replace(/DASHCHAR/g,"-").replace(/DOTCHAR/g,".");n=`https://${i}/${o}`}return n}}))}catch(e){}return n}(n,e);const r=function(e){let t={};try{t=JSON.parse(e.name)}catch(e){}return t}(t),o=function(e){if(e)return{...k(e)};return{}}(t.location&&t.location.search);r.pageUrl&&0===r.pageUrl.indexOf(n)?n=r.pageUrl:o.pageUrl&&0===o.pageUrl.indexOf(n)?n=o.pageUrl:r.canonicalUrl&&i?n=r.canonicalUrl:r.sourceUrl&&i?n=r.sourceUrl:t.context&&t.context.sourceUrl&&(n=t.context.sourceUrl);let s=n;return r.sourceUrl&&i&&(s=r.sourceUrl),{referrer:s.split("#")[0],pageUrl:n.split("#")[0],window:t}}const D=[".cdn.ampproject.org",".amp.cloudflare.com",".bing-amp.com"];const V="amp-ad",B="amp-video-iframe",H="content-plugin",j="glomex-player",Y="glomex-integration",G="amp-glomex-integration",F="amp-glomex-player",z="amp-ad-glomex-script",W="glomex-script",$="iframe-facebook-ia",K="iframe",q="fullpage";var Z={init:({actionCreators:e})=>({externalSetupConfig:t,externalPageEnvironment:n}={})=>(i,r,{global:o,getAbSlot:s})=>{const{pageStartTime:a,pageSessionId:l,variantId:c,placement:d,queryProps:u,renderMode:p,otherIntegrations:m,ab:h,cpm:g,presentationMode:y,supportedPresentationModes:E,inlineSettings:_,pageTitle:f,pageDescription:I,pageLanguage:b,pagePublishedTime:v}=n||X(o.name),{pageUrl:T,referrer:A,window:w}=M(o),P=new o.URL(T),N=J(new o.URL(A)),S=P.origin,C=function(e,t){const n=/[^.]*\.[^.]{2,10}(?:\.[^.]{2,10})?$/g,i=/[^.]*\.[^.]{2,10}(?:\.[^.])?$/g,r=[".co.at",".or.at",".priv.at",".ac.at",".gov.ua",".com.ua",".in.ua",".org.ua",".net.ua",".edu.ua",".ac.uk",".co.uk",".gov.uk",".jcpc.uk",".judiciary.uk ",".ltd.uk",".me.uk",".mod.uk",".mil.uk",".net.uk",".nhs.uk",".nic.uk",".org.uk",".plc.uk",".police.uk",".royal.uk",".sch.uk",".supremecourt.uk","com.gr"];try{const{hostname:o}=new t(decodeURIComponent(e));let s=!1;new RegExp(r.join("|")).test(o)&&(s=!0);const a=o.match(s?n:i);return a?a.join(""):o}catch(e){return"unknown"}}(T,o.URL),O=(o.document.querySelector("base")||{}).href,x=O?new o.URL(O):void 0,R=t||u||J(x||o.location);R.playerId&&!R.integrationId&&(R.integrationId=R.playerId,delete R.playerId);const L=((k=o).navigator.language||k.navigator.userLanguage||"en").toLowerCase().split("-")[0];var k;const U=Number(N.glomexAbSlot)||s(),D=function({topMostWindow:e,currentWindow:t},n={}){const i=e&&e.context&&e.context.noContentAvailable,r=e.location.href.indexOf("#amp=1")>-1,o=X(e.name),s=r&&(o.canonicalUrl||o.sourceUrl),a=e.navigator.userAgent.indexOf("FBIA/FB4A;FBAV")>-1||e.navigator.userAgent.indexOf(";FBIA/FBIOS]")>-1;if(a)return $;if(i)return n.origin===W?z:V;if(s)return B;if(r)return n.origin===j?F:n.origin===Y?G:"amp";if(t===t.top&&function(e){return!!e.location.pathname.match(/iframe-player\.html$/)}(t))return q;return n.origin||K}({topMostWindow:w,currentWindow:o},R),H=new Date;i(e.environment.create({origin:D,renderMode:p||"iframe",pageUrl:T,pageOrigin:S,pageUrlProps:N,setupConfig:R,iframeStartTime:Q(o),pageStartTime:a,pageSessionId:l,variantId:c,placement:d,cpm:g,pageSecondLevelDomain:C,pageHostname:re(T,o.URL),integrationVersion:o.GLOMEX_IFRAME_PLAYER_VERSION||"unknown",referrer:w.document.referrer,abSlot:U,browserType:ne(o),osMajorVersion:ie(o).major,device:ee(o)?"mobile":"desktop",connection:te(o),language:L,otherIntegrations:m,externalAbDetected:h,presentationMode:y||"inline",supportedPresentationModes:E||(D===B?["inline","amp-dock"]:["inline"]),inlineSettings:_,hourOfDay:H.getUTCHours(),dayOfMonth:H.getUTCDate(),dayOfWeek:0===H.getUTCDay()?7:H.getUTCDay(),pageTitle:f,pageDescription:I,pageLanguage:b,pagePublishedTime:v}))}};function J(e){return e&&e.search?{...k(e.search)}:{}}function X(e){let t={};try{t=JSON.parse(e)}catch(e){}return t}function Q(e){return e.performance&&e.performance.timing&&e.performance.timing.requestStart}function ee(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(e.navigator.userAgent)}function te(e){if(!e.navigator.connection)return{downlink:-1,effectiveType:"unknown",rtt:-1,type:"unknown"};const{downlink:t,effectiveType:n,rtt:i,type:r}=e.navigator.connection;return{downlink:t,effectiveType:n,rtt:i,type:r||"unknown"}}function ne(e){const t=e.navigator.userAgent;if(/SamsungBrowser/.test(t))return"samsung";if(/MSIE/.test(t)||/Trident\//.test(t))return"ie";if(/ Edge/.test(t))return"legacy_edge";if(/iPad|iPhone|iPod/.test(t))return/Safari/i.test(t)?"ios":"ios-webview";if(/Chrome/.test(t))return"chrome";return/^((?!chrome|android).)*safari/i.test(t)?"safari_desktop":/Firefox/.test(t)?"firefox":void 0}function ie(e){const t=e.navigator.userAgent.match(/(?:Windows NT|Mac OS X|Android|CPU (?:iPhone )?OS|Linux|CrOS)[/; ]?(\d+)[._]?(\d+)?/);try{return{major:t?parseInt(t[1],10):void 0,minor:t?parseInt(t[2],10):void 0}}catch(e){return{major:void 0,minor:void 0}}}function re(e,t){try{const{hostname:n}=new t(decodeURIComponent(e));return n}catch(e){return"unknown"}}const oe="click-to-play",se="scroll-to-play",ae="scroll-to-play-with-silent-fallback",le="scroll-to-play-with-out-to-play-fallback",ce="silent-scroll-to-play",de="scroll-out-to-play",ue="silent-scroll-to-play-when-ad",pe="scroll-out-to-play-when-ad",me="scroll-to-play-when-ad",he="endscreen-revolver-play",ge=({startBehavior:e,startVolume:t,autoplayPolicy:n,origin:i,positionOnPage:r,supportedPresentationModes:o=[],stickyEnabled:s=!1,preventAutoplay:a=!1})=>{const l=null!=r?r:"",c=function({startBehavior:e,autoplayPolicy:t,origin:n,supportedPresentationModes:i=[],positionOnPage:r="",preventAutoplay:o=!1}){if(t===O||o)return oe;const s={[oe]:{[S]:oe,[C]:oe},[se]:{[S]:se,[C]:oe},[ce]:{[S]:ce,[C]:ce},[ae]:{[S]:se,[C]:ce},[le]:{[S]:se,[C]:de},[de]:{[S]:de,[C]:de},[ue]:{[S]:ce,[C]:ce},[pe]:{[S]:de,[C]:de},[me]:{[S]:se,[C]:oe}};if(n===$||n===H)return oe;if(-1===i.indexOf("dock")&&-1===i.indexOf("amp-dock")&&(e===de||e===pe))return ce;const a=s[e][t];if(a===se&&0!==r.indexOf("uppertop"))return s[e][C];return a}({startBehavior:e,autoplayPolicy:n,origin:i,supportedPresentationModes:o,positionOnPage:l,preventAutoplay:a}),d=function(e,t){return!(e!==ue&&e!==pe&&e!==me||t!==ce&&t!==de&&t!==se)}(e,c);let u;return null!=t&&n===S&&0===l.indexOf("uppertop")&&(u=Number(t),(u<0||u>1)&&(u=void 0)),{startBehavior:c,startVolume:u,dockEnabled:ye(c,o,s),shouldAutoplay:Ee(c),preloadAds:_e(c,d),shouldMute:fe(c,d),autoplayWhenAd:d}};function ye(e,t,n){return(-1!==t.indexOf("dock")||-1!==t.indexOf("amp-dock"))&&(e===de||n)}function Ee(e){return e!==oe&&e!==de}function _e(e,t){return t||e!==oe&&e!==de}function fe(e,t){return e===ce||e===de&&t}const Ie={SHOULD_PLAY:"shouldplay"};class be extends N{activate(){this._bootstrap.activate()}setup(...e){return this._onConnectPromise.then((()=>this._bootstrap.setup(...e))).catch((()=>{}))}reset(){this._bootstrap.reset()}stop(){this._bootstrap.stop()}play({byUser:e=!1}={}){this._bootstrap.play({byUser:e,byExternalApi:!0})}pause({byUser:e=!1}={}){this._bootstrap.pause({byUser:e,byExternalApi:!0})}mute(){this._bootstrap.mute()}unmute(){this._bootstrap.unmute()}disconnect(){this._globalDestroy()}setPlaylistIndex(e){this._bootstrap.setPlaylistIndex(e).catch((()=>{}))}setConsent(e){this._transparencyAndConsent.setExternalConsent(e)}track(e,t){this._bootstrap.trackExternalEvent(e,t)}setVisibility(e,{scrollDown:t=!1}={}){this._setVisibility(e,{scrollDown:t})}_setVisibility(e,{scrollDown:t=!1}={}){1===e&&(this._wasFullyVisible=!0);(t||0===e&&1===this._lastVisibility)&&this._wasFullyVisible&&e>=0&&e<1&&!this._switchedToDialogOnce&&this._isDockEnabled&&(this._isPlaying&&"dock"!==this._currentPresentationMode&&"fullscreen"!==this._currentPresentationMode&&this.updatePresentationMode({mode:"dock"}),this._isScrollOutToPlay&&!this._playedOnce&&(this.updatePresentationMode({mode:"dock"}),this._startVolume?this._bootstrap.setVolume(this._startVolume):this._bootstrap.mute(),this._bootstrap.setPlaylistIndex(this._currentPlaylistIndex),this._bootstrap.play(),this._playedOnce=!0)),this._bootstrap.setVisibility(e),this._lastVisibility=e}setPageDimensions(e){const{top:t,left:n,width:i,height:r,pageWidth:o,viewportHeight:s,topWindow:a,articleTop:l}=e;if(i<=0&&r<=0||!a)return this._bootstrap.updateDimensions({...e,positionOnPage:"invalid",positionInArticle:"invalid"});const c=n+i/2,d=t+r/2,u=o/2,p=.1*o;let m,h;m=Math.abs(c-u)<p?"center":c<o/2?"left":"right",h=t>=0&&d<=s?"uppertop":t>=0&&d>s&&d<=2*s?"lowertop":"other";const g=d-l;let y;y=g?t>=0&&g<=s?"uppertop":t>=0&&g>s&&g<=2*s?"lowertop":"other":"unknown","unknown"===y&&(y=`${h}`),this._bootstrap.updateDimensions({...e,positionOnPage:`${h}-${m}`,positionInArticle:y})}updateUserIds(e){this._bootstrap.updateUserIds(e)}updatePresentationMode({mode:e,shouldFocus:t=!1}){"lightbox"!==e&&"fullscreen"!==e&&"external-modal"!==e||(this._switchedToDialogOnce=!0),this._bootstrap.updatePresentationMode({mode:e,shouldFocus:t})}exitCurrentPresentationMode(){this._bootstrap.exitCurrentPresentationMode()}hideUi(){this._bootstrap.hideUi()}showUi(){this._bootstrap.showUi()}_onPlaybackHandlerPlay(){this._onConnectPromise.then((()=>{this._communication.sendEvent(Ie.SHOULD_PLAY,{})}))}constructor({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r,iframePlayerCommunication:o,publicApiEmitter:s,globalDestroy:a,transparencyAndConsent:l}){super({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}),this._visbilityObserver.disconnect(),this._communication=o,this._globalDestroy=a,this._transparencyAndConsent=l,this._wasFullyVisible=!1,this._playedOnce=!1,this._isPlaying=!1,this._currentPlaylistIndex=0,this._isScrollOutToPlay=!1,this._startVolume=void 0,this._isDockEnabled=!1,this._switchedToDialogOnce=!1,this._currentPresentationMode=void 0,this._playOnVisibility=void 0,this._lastVisibility=void 0,o.expose(this,{...Ie,...s.EVENT}),this._onConnectPromise=new Promise((e=>{o.once(o.EVENT_CONNECT,e)})),s.on("event",(({eventName:e,payload:t,context:n})=>{if(e===s.EVENT.PLAYER_PLAY)this._playedOnce=!0,this._isPlaying=!0;else if(e===s.EVENT.PLAYLISTITEM_BEGIN)setTimeout((()=>{0===this._playOnVisibility&&this._bootstrap.getVisibility()<=0&&!this._switchedToDialogOnce&&this._isDockEnabled&&this.updatePresentationMode({mode:"dock"})}),50);else if(e===s.EVENT.PLAYER_PAUSE)this._isPlaying=!1;else if(e===s.EVENT.PLAYLISTITEM_SELECT)this._currentPlaylistIndex=t.playlistContext.playlistIndex;else if(e===s.EVENT.PLAYER_READY)this._isDockEnabled=t.player.dockEnabled,this._playOnVisibility=t.config.playOnVisibility,this._startVolume=t.player.startVolume,this._isScrollOutToPlay=this._isDockEnabled&&de===t.player.startBehavior;else if(e===s.EVENT.INTEGRATION_ABORT)this._isDockEnabled=!1;else if(e===s.EVENT.ENVIRONMENT_UPDATEPRESENTATIONMODE){const{player:{presentationMode:e}}=t;"hidden"===e||"inline"===e||"fullscreen"===e||this._switchedToDialogOnce||(this._switchedToDialogOnce=!0),this._currentPresentationMode=e}this._onConnectPromise.then((()=>{o.sendEvent(e,t,n.pageUrl)}))}))}}function ve(e){return function(e){try{return e.self!==e.top}catch(e){return!0}}(e)&&function(e){try{return!!e.parent.document}catch(e){return!1}}(e)&&!function(e){try{return e.parent===e.top}catch(e){return!1}}(e)?ve(e.parent):e}class Te extends N{_onWindowMessage(e){e.source===this._window.parent&&e.origin!==this._window.location.origin&&e.data&&"amp"===e.data.sentinel&&"intersection"===e.data.type&&e.data.changes.forEach((e=>{this._setVisibility(e.intersectionRatio)}))}constructor({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}){super({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}),this._window=ve(e),e.IntersectionObserver||(this._window.parent.postMessage({sentinel:"amp",type:"send-intersections"},"*"),this._window.addEventListener("message",this._onWindowMessage.bind(this)))}}class Ae extends N{setup(...e){return this._loadAmpVideoIntegration.then((()=>(this._ampIntegration.postEvent("canplay"),this._connectIntersections(),this._connectPublicApiEvents(),this._connectAmpMethods(),this._bootstrap.setup(...e)))).catch((()=>{this._ampIntegration.postEvent("canplay")}))}_setVisibility(e){1===e&&(this._wasFullyVisible=!0),this._wasFullyVisible&&this._isScrollOutToPlay&&!this._wasPlayed&&e<1&&e>=.8&&(this._bootstrap.mute(),this._bootstrap.setPlaylistIndex(this._currentPlaylistIndex),this._bootstrap.play(),this._wasPlayed=!0),this._bootstrap.setVisibility(e)}_connectIntersections(){this._window.IntersectionObserver||setInterval((()=>{this._ampIntegration.getIntersection((e=>{this._setVisibility(e.intersectionRatio)}))}),1e3)}_connectPublicApiEvents(){const e=this._publicApiEmitter,t=this._ampIntegration;e.on("event",(({eventName:n,payload:i})=>{const{muted:r,startBehavior:o}=i.player;n===e.EVENT.PLAYLISTITEM_BEGIN||n===e.EVENT.PLAYER_PLAY?(t.postEvent("playing"),this._wasPlayed=!0):n===e.EVENT.PLAYER_PAUSE?t.postEvent("pause"):n===e.EVENT.PLAYLISTITEM_COMPLETE||(n===e.EVENT.PLAYER_VOLUMECHANGE&&r?t.postEvent("muted"):n!==e.EVENT.PLAYER_VOLUMECHANGE||r?n===e.EVENT.AD_BEGIN?t.postEvent("ad_start"):n===e.EVENT.AD_COMPLETE||n===e.EVENT.AD_SKIP?t.postEvent("ad_end"):n===e.EVENT.PLAYLISTITEM_SELECT?this._currentPlaylistIndex=i.playlistContext.playlistIndex:n===e.EVENT.PLAYER_READY&&(this._isScrollOutToPlay=o===de):t.postEvent("unmuted"))}))}_connectAmpMethods(){const e=this._ampIntegration,t=this._bootstrap;e.method("play",(()=>{t.play()})),e.method("pause",(()=>{t.pause({byExternalApi:!0})})),e.method("mute",(()=>{t.mute()})),e.method("unmute",(()=>{t.unmute()})),e.method("showcontrols",(()=>{t.updatePresentationMode({mode:"inline"})})),e.method("hidecontrols",(()=>{t.updatePresentationMode({mode:"amp-dock"})})),e.method("fullscreenenter",(()=>{t.requestFullscreen()})),e.method("fullscreenexit",(()=>{t.exitFullscreen()}))}constructor({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r,publicApiEmitter:o}){super({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}),this._window=ve(e),this._publicApiEmitter=o,this._ampIntegration=void 0,this._wasFullyVisible=!1,this._wasPlayed=!1,this._currentPlaylistIndex=0,this._isScrollOutToPlay=!1,this._loadAmpVideoIntegration=new Promise((e=>{(this._window.AmpVideoIframe=this._window.AmpVideoIframe||[]).push((t=>{this._ampIntegration=t,e()})),function(e,t){const n=e.document.createElement("script");n.src=t;const i=e.document.head||e.document.body;i.appendChild(n)}(this._window,"https://cdn.ampproject.org/video-iframe-integration-v0.js")}))}}class we extends N{constructor({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r}){super({window:e,bootstrap:t,documentHidden:n,visibilityObserver:i,pageVisibilityHidden:r})}}const Pe=void 0!==(Ne=window.document).msHidden?{hidden:"msHidden",visibilityChange:"msvisibilitychange"}:void 0!==Ne.webkitHidden?{hidden:"webkitHidden",visibilityChange:"webkitvisibilitychange"}:{hidden:"hidden",visibilityChange:"visibilitychange"};var Ne;const Se=e=>["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].some((t=>e.document[t])),Ce=({window:e},t)=>{const n=((e,t)=>{let n=Boolean(t.document[Pe.hidden]),i=Se(t);const r=()=>{const r=Se(t),o=Boolean(t.document[Pe.hidden]);r||n===o||i?i=(r||o||!i)&&r:(n=o,e(o))};return r(),r})((e=>t({hidden:e})),e);return e.document.addEventListener(Pe.visibilityChange,n,!1),{disconnect:()=>{e.document.removeEventListener(Pe.visibilityChange,n)}}};function Oe(){const e=[];for(let t=0;t<1.01;t+=.01)e.push(+t.toFixed(2));return e}const xe=({window:e},t)=>{let n=!1,i=()=>{};const r=()=>{n||(i(),n=!0,t())};return i=()=>{e.removeEventListener("pagehide",r,{capture:!0}),e.removeEventListener("unload",r,{capture:!0}),e.removeEventListener("beforeunload",r,{capture:!0})},"onpagehide"in e?e.addEventListener("pagehide",r,{capture:!0}):(e.addEventListener("unload",r,{capture:!0}),e.addEventListener("beforeunload",r,{capture:!0})),{disconnect:i}},Re=({origin:e,bootstrap:t,iframePlayerCommunication:n,window:i,publicApiEmitter:r,playerContainer:o,globalDestroy:s,transparencyAndConsent:a})=>{const l=e=>(({window:e,observedNode:t,customThreshold:n,marginTop:i=0},r)=>{let o,s;try{o=new e.IntersectionObserver((e=>{if(e&&e.length<1)return;const{intersectionRatio:t,boundingClientRect:n,intersectionRect:o,rootBounds:a}=e[0],l=parseFloat(String(parseFloat(Math.ceil(100*t)/100)).substring(0,3));let c;a?(c=n.top-i<0&&s>n.top,s=n.top):(c=s<o.top,s=o.top),r({ceiledIntersectionRatio:l,intersectionRatio:t,scrollDown:c,entries:e})}),{threshold:n||Oe(),rootMargin:(i?-i:0)+"px 0px 0px 0px"}),o.observe(t)}catch(e){r({ceiledIntersectionRatio:-1,intersectionRatio:-1,autoDock:!1,entries:[]})}return{disconnect:()=>{o&&o.disconnect()}}})({window:i,observedNode:o},e);return"iframe"===e||"iframe-facebook-ia"===e?new we({window:i,bootstrap:t,documentHidden:Ce,visibilityObserver:l,pageVisibilityHidden:xe}):"amp"===e?new Te({window:i,bootstrap:t,documentHidden:Ce,visibilityObserver:l,pageVisibilityHidden:xe}):"amp-video-iframe"===e?new Ae({window:i,bootstrap:t,documentHidden:Ce,visibilityObserver:l,pageVisibilityHidden:xe,publicApiEmitter:r}):new be({window:i,bootstrap:t,documentHidden:Ce,visibilityObserver:l,pageVisibilityHidden:xe,publicApiEmitter:r,iframePlayerCommunication:n,globalDestroy:s,transparencyAndConsent:a})};var Le=e=>JSON.parse(JSON.stringify(e));const ke="connect",Ue="send-command",Me="send-event";class De extends t{expose(e={},t={}){this.events=t,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).filter((e=>0!==e.indexOf("_")&&"constructor"!==e)).forEach((t=>{"function"==typeof e[t]&&(this._commandRegistry[t]=e[t].bind(e),this._apiToExpose[t]="function")}))}_attachRemoteApi(e={}){Object.keys(e.api||{}).forEach((t=>{this.api[t]||"function"!==e.api[t]||(this.api[t]=(...e)=>{this.sendCommand(t,...e)})})),e.events&&(this.events=e.events)}_onMessage(e={}){const t=e.data||{};t.type===ke&&t.sentinel===this._sentinel&&(this._port.onmessage=this._onRemoteMessage.bind(this),this._attachRemoteApi(t),this.emit(this.EVENT_CONNECT))}_checkIfChannelExists(){if(!this._port)throw new Error("Remote port not connected.")}_onRemoteMessage(e={}){const t=e.data||{};if(t.sentinel===this._sentinel)switch(t.type){case Me:this.emit(t.payload.eventName,...t.payload.eventArgs);break;case Ue:this._commandRegistry[t.payload.commandName]&&this._commandRegistry[t.payload.commandName](...t.payload.commandArgs)}}sendCommand(e,...t){const{_port:n}=this;this._checkIfChannelExists(),n.postMessage({type:Ue,payload:{commandName:e,commandArgs:t},sentinel:this._sentinel},...this._channelMessageArgs)}sendEvent(e,t,n=""){this._checkIfChannelExists();let i=[];try{i=Le(t)}catch(e){console.error(e)}this._port.postMessage({type:Me,payload:{eventName:e,eventArgs:[i]},sentinel:this._sentinel},...this._channelMessageArgs),this._handleMsnSpecialCase(e,n,t)}_handleMsnSpecialCase(e,t,n){if(!t)return;const i={playlistitembegin:"Lifecycle Start",contentbegin:"Content Begin",contentcomplete:"Content Complete"},{hostname:r}=new URL(t);i[e]&&r.indexOf("msn.com")>-1&&this._port.postMessage({eventName:"event",payload:{payload:{...n,name:i[e]}}},...this._channelMessageArgs)}constructor(e,t){super(),this._sentinel=e,this._port=void 0,this._commandRegistry={},this._sentinel=e,this._channelMessageArgs=[],this.api={},this._apiToExpose={},this.events={},this.EVENT_CONNECT="connect",t().then((e=>{this._port=e,this._port.onmessage=this._onMessage.bind(this),"iframe"===e.type&&(this._channelMessageArgs=["*"]),this._port.postMessage({type:ke,sentinel:this._sentinel,api:this._apiToExpose,events:this.events},...this._channelMessageArgs)}))}}class Ve{get data(){return{consentStatus:this._data.consentStatus}}constructor(e){this._data=e}}var Be={exports:{}};!function(e){!function(t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,i,r,o,s){return n((a=n(n(t,e),n(r,s)))<<(l=o)|a>>>32-l,i);var a,l}function r(e,t,n,r,o,s,a){return i(t&n|~t&r,e,t,o,s,a)}function o(e,t,n,r,o,s,a){return i(t&r|n&~r,e,t,o,s,a)}function s(e,t,n,r,o,s,a){return i(t^n^r,e,t,o,s,a)}function a(e,t,n,r,o,s,a){return i(n^(t|~r),e,t,o,s,a)}function l(e,t){var i,l,c,d,u;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var p=1732584193,m=-271733879,h=-1732584194,g=271733878;for(i=0;i<e.length;i+=16)l=p,c=m,d=h,u=g,p=r(p,m,h,g,e[i],7,-680876936),g=r(g,p,m,h,e[i+1],12,-389564586),h=r(h,g,p,m,e[i+2],17,606105819),m=r(m,h,g,p,e[i+3],22,-1044525330),p=r(p,m,h,g,e[i+4],7,-176418897),g=r(g,p,m,h,e[i+5],12,1200080426),h=r(h,g,p,m,e[i+6],17,-1473231341),m=r(m,h,g,p,e[i+7],22,-45705983),p=r(p,m,h,g,e[i+8],7,1770035416),g=r(g,p,m,h,e[i+9],12,-1958414417),h=r(h,g,p,m,e[i+10],17,-42063),m=r(m,h,g,p,e[i+11],22,-1990404162),p=r(p,m,h,g,e[i+12],7,1804603682),g=r(g,p,m,h,e[i+13],12,-40341101),h=r(h,g,p,m,e[i+14],17,-1502002290),p=o(p,m=r(m,h,g,p,e[i+15],22,1236535329),h,g,e[i+1],5,-165796510),g=o(g,p,m,h,e[i+6],9,-1069501632),h=o(h,g,p,m,e[i+11],14,643717713),m=o(m,h,g,p,e[i],20,-373897302),p=o(p,m,h,g,e[i+5],5,-701558691),g=o(g,p,m,h,e[i+10],9,38016083),h=o(h,g,p,m,e[i+15],14,-660478335),m=o(m,h,g,p,e[i+4],20,-405537848),p=o(p,m,h,g,e[i+9],5,568446438),g=o(g,p,m,h,e[i+14],9,-1019803690),h=o(h,g,p,m,e[i+3],14,-187363961),m=o(m,h,g,p,e[i+8],20,1163531501),p=o(p,m,h,g,e[i+13],5,-1444681467),g=o(g,p,m,h,e[i+2],9,-51403784),h=o(h,g,p,m,e[i+7],14,1735328473),p=s(p,m=o(m,h,g,p,e[i+12],20,-1926607734),h,g,e[i+5],4,-378558),g=s(g,p,m,h,e[i+8],11,-2022574463),h=s(h,g,p,m,e[i+11],16,1839030562),m=s(m,h,g,p,e[i+14],23,-35309556),p=s(p,m,h,g,e[i+1],4,-1530992060),g=s(g,p,m,h,e[i+4],11,1272893353),h=s(h,g,p,m,e[i+7],16,-155497632),m=s(m,h,g,p,e[i+10],23,-1094730640),p=s(p,m,h,g,e[i+13],4,681279174),g=s(g,p,m,h,e[i],11,-358537222),h=s(h,g,p,m,e[i+3],16,-722521979),m=s(m,h,g,p,e[i+6],23,76029189),p=s(p,m,h,g,e[i+9],4,-640364487),g=s(g,p,m,h,e[i+12],11,-421815835),h=s(h,g,p,m,e[i+15],16,530742520),p=a(p,m=s(m,h,g,p,e[i+2],23,-995338651),h,g,e[i],6,-198630844),g=a(g,p,m,h,e[i+7],10,1126891415),h=a(h,g,p,m,e[i+14],15,-1416354905),m=a(m,h,g,p,e[i+5],21,-57434055),p=a(p,m,h,g,e[i+12],6,1700485571),g=a(g,p,m,h,e[i+3],10,-1894986606),h=a(h,g,p,m,e[i+10],15,-1051523),m=a(m,h,g,p,e[i+1],21,-2054922799),p=a(p,m,h,g,e[i+8],6,1873313359),g=a(g,p,m,h,e[i+15],10,-30611744),h=a(h,g,p,m,e[i+6],15,-1560198380),m=a(m,h,g,p,e[i+13],21,1309151649),p=a(p,m,h,g,e[i+4],6,-145523070),g=a(g,p,m,h,e[i+11],10,-1120210379),h=a(h,g,p,m,e[i+2],15,718787259),m=a(m,h,g,p,e[i+9],21,-343485551),p=n(p,l),m=n(m,c),h=n(h,d),g=n(g,u);return[p,m,h,g]}function c(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=i.charAt(t>>>4&15)+i.charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function m(e){return function(e){return c(l(d(e),8*e.length))}(p(e))}function h(e,t){return function(e,t){var n,i,r=d(e),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=l(r,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=l(o.concat(d(t)),512+8*t.length),c(l(s.concat(i),640))}(p(e),p(t))}function g(e,t,n){return t?n?h(t,e):u(h(t,e)):n?m(e):u(m(e))}e.exports?e.exports=g:t.md5=g}(n)}(Be);var He=e(Be.exports),je={exports:{}};!function(e){!function(t,n){e.exports?e.exports=n():t.TCStringParse=n()}("undefined"==typeof self?n:self,(function(){var e=function(e){for(var t="",n=0,i=e.length;n<i;n+=1){var r=e.charCodeAt(n).toString(2);t+="00000000".slice(0,8-r.length)+r}return t},t=function(e){if("function"==typeof atob){var t=e.replace(/_/g,"/").replace(/-/g,"+");try{return atob(t)}catch(e){throw new Error("Unable to decode transparency and consent string")}}if("function"==typeof Buffer)return Buffer.from(e,"base64").toString("binary");throw new Error("Unable to detect base64 decoder")},n=function(e){return parseInt(e,2)||0},i=function(e){return 100*n(e)},r=function(e){for(var t="A".charCodeAt(),i=e.match(/.{6}/g)||[],r="",o=0,s=i.length;o<s;o+=1){var a=n(i[o])+t;r+=String.fromCharCode(a)}return r},o=function(e){return Boolean(Number(e))},s=function(e){for(var t=e.split(""),n={},i=0,r=t.length;i<r;i+=1)o(t[i])&&(n[i+1]=!0);return n};return function(a){var l=function(e,t,n,i){var r=function(){if(i.pubRestrictionEntry&&i.rangeEntry)for(var t in i.rangeEntry)Object.prototype.hasOwnProperty.call(i.rangeEntry,t)&&(i.pubRestrictionEntry[t]=(i.pubRestrictionEntry[t]||[]).concat(i.rangeEntry[t]));i.numPubRestrictions&&(i.numPubRestrictions-=1,e.push({key:"purposeId",size:6},{key:"restrictionType",size:2},{key:"numEntries",size:12}))},a=function(){i.numEntries?(i.numEntries-=1,e.push({key:"isRange",size:1,decoder:o},{key:"startVendorId",size:16})):r()},l=function(){return!i.purposeId||[{purpose:i.purposeId,isAllowed:0!==i.restrictionType,isConsentRequired:1===i.restrictionType,isLegitimateInterestRequired:2===i.restrictionType}]};if("isRangeEncoding"===t.key)e.push(n?{key:"numEntries",size:12}:{key:"bitField",size:i.maxVendorId,decoder:s});else if("numEntries"===t.key)i.rangeEntry={},a();else if("isRange"===t.key)n&&e.push({key:"endVendorId",size:16});else if("startVendorId"===t.key)i.isRange||(i.rangeEntry[n]=l(),a());else if("endVendorId"===t.key){for(var c=i.startVendorId;c<=i.endVendorId;c+=1)i.rangeEntry[c]=l();a()}else"numCustomPurposes"===t.key?e.push({key:"customPurposeConsents",size:i.numCustomPurposes,decoder:s},{key:"customPurposeLegitimateInterests",size:i.numCustomPurposes,decoder:s}):"numPubRestrictions"===t.key&&(i.pubRestrictionEntry={},r())},c=function(e){return e.pubRestrictionEntry||e.rangeEntry||e.bitField||e},d=0,u=function(e,t){var i=t.slice(d,d+e.size);return d+=e.size,(e.decoder||n)(i)},p=function(e,t){if(!e.queue)return u(e,t);for(var n={},i=0;i<e.queue.length;i+=1){var r=e.queue[i],o=u(r,t);r.key&&(n[r.key]=o),l(e.queue,r,o,n)}return c(n)},m=function(e,t){for(var n={},i=0;i<e.queue.length;i+=1){var r=e.queue[i],o=p(r,t);r.key&&(n[r.key]=o),l(e.queue,r,o,n)}return c(n)};return function(){for(var l=function(i){if("string"!=typeof i)throw new Error("Invalid transparency and consent string specified");for(var r=i.split("."),o=[],s=0,a=r.length;s<a;s+=1)o.push(e(t(r[s])));var l=n(o[0].slice(0,6));if(2!==l)throw new Error("Unsupported transparency and consent string version “"+l+"”");return o}(a),c=function(e){for(var t=[{key:"purposeConsents",size:24,decoder:s},{key:"purposeLegitimateInterests",size:24,decoder:s}],a=[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:o}],l=[{key:"version",size:6},{key:"created",size:36,decoder:i},{key:"lastUpdated",size:36,decoder:i},{key:"cmpId",size:12},{key:"cmpVersion",size:12},{key:"consentScreen",size:6},{key:"consentLanguage",size:12,decoder:r},{key:"vendorListVersion",size:12},{key:"policyVersion",size:6},{key:"isServiceSpecified",size:1,decoder:o},{key:"useNonStandardStacks",size:1,decoder:o},{key:"specialFeatureOptins",size:12,decoder:s}].concat(t).concat({key:"purposeOneTreatment",size:1,decoder:o},{key:"publisherCountryCode",size:12,decoder:r},{key:"vendorConsents",queue:[{key:"maxVendorId",size:16},{key:"isRangeEncoding",size:1,decoder:o}]},{key:"vendorLegitimateInterests",queue:a},{key:"publisherRestrictions",queue:[{key:"numPubRestrictions",size:12}]}),c=[{size:3}],d=[].concat(c).concat(a),u=[].concat(c).concat(a),p=[].concat(c).concat(t).concat({key:"numCustomPurposes",size:6}),m=[{key:"core",queue:l}],h=1;h<e.length;h+=1){var g=e[h],y=n(g.slice(0,3));1===y?m.push({key:"disclosedVendors",queue:d}):2===y?m.push({key:"allowedVendors",queue:u}):3===y&&m.push({key:"publisherTC",queue:p})}return m}(l),u={},p=0;p<c.length;p+=1){var h=c[p],g=l[p],y=m(h,g);h.key&&(u[h.key]=y),d=0}return u}()}}))}(je);var Ye=e(je.exports);const Ge=e=>parseInt(e,2)||0;class Fe extends Ve{get cacheFriendlyConsentString(){return this._cacheFriendlyConsentString}_generateCacheFriendlyStringAndGetPlausibility(){if(!this._data.consentString)throw new Error("Empty consent string given");const e=this._data.consentString.split(".");let t=e[0],n=(e=>{let t="";for(let n=0,{length:i}=e;n<i;n+=1){const i=e.charCodeAt(n).toString(2);t+="00000000".slice(0,8-i.length)+i}return t})((e=>{if("function"==typeof atob){const t=e.replace(/_/g,"/").replace(/-/g,"+");try{return atob(t)}catch(e){throw new Error("Unable to decode base64 string")}}throw new Error("Unable to detect base64 decoder")})(t));const i=n.split("");if(2!==Ge(n.slice(0,6)))throw new Error("Unsupported transparency and consent string version");const r=new Date(100*Ge(i.slice(42,78).join("")));i.splice(6,72,...ze(72)),i.splice(102,6,...ze(6)),i.splice(108,12,...ze(12)),i.splice(201,12,...ze(12)),n=i.join(""),t=(e=>{if("function"==typeof btoa)try{let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return btoa(t).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}catch(e){throw new Error("Unable to encode base64 string",e)}throw new Error("Unable to detect base64 encoder")})((e=>{const t=new Uint8Array(e.length/8);for(let n=0,{length:i}=e;n<i/8;n+=1){const i=e.slice(8*n,8*n+8),r=parseInt(i,2);t[n]=r}return t})(n)),e[0]=t;return{cacheFriendlyConsentString:e.join("."),consentUpdated:parseInt(`${r.toISOString().replace(/-/g,"").substring(0,8)}`,10)}}_extractEssentialConsentData(){const{core:e}=Ye(this._data.consentString);return e?{policyVersion:e.policyVersion,cmpId:e.cmpId,vendorListVersion:e.vendorListVersion,hasPurpose1Consent:Boolean(e.purposeConsents[1]),vendorConsents:e.vendorConsents,vendorLegitimateInterests:e.vendorLegitimateInterests,purposeConsents:e.purposeConsents,purposeLegitimateInterests:e.purposeLegitimateInterests,glomexVendor:We(e)}:{policyVersion:void 0,cmpId:void 0,vendorListVersion:void 0,vendorConsents:{},vendorLegitimateInterests:{},purposeConsents:{},purposeLegitimateInterests:{},hasPurpose1Consent:!1,glomexVendor:"unknown"}}get data(){const{_data:{gdprApplies:e,consentString:t,eventStatus:n},_parsedData:{cmpId:i,vendorListVersion:r,policyVersion:o,hasPurpose1Consent:s,vendorConsents:a,vendorLegitimateInterests:l,purposeConsents:c,purposeLegitimateInterests:d,glomexVendor:u}={}}=this;let p="unknown";return o<4?p="2.0":[4,5].includes(o)?p="2.2":o>4&&(p="2.?"),{...super.data,gdprApplies:e,consentString:t,eventStatus:n,cacheFriendlyConsentString:this.cacheFriendlyConsentString,cacheFriendlyConsentStringMd5:this._cacheFriendlyConsentStringMd5,tcfVersion:p,cmpId:i,vendorListVersion:r,hasPurpose1Consent:s,vendorConsents:a,vendorLegitimateInterests:l,purposeConsents:c,purposeLegitimateInterests:d,consentUpdated:this._consentUpdated,glomexVendor:u}}constructor(e){super(e),this._data=e;try{const{cacheFriendlyConsentString:e,consentUpdated:t}=this._generateCacheFriendlyStringAndGetPlausibility();this._parsedData=this._extractEssentialConsentData(),this._cacheFriendlyConsentString=e,this._cacheFriendlyConsentStringMd5=He(this._cacheFriendlyConsentString),this._consentUpdated=t}catch(e){this._cacheFriendlyConsentString="",this._cacheFriendlyConsentStringMd5=void 0,this._data.consentStatus=`${this._data.consentStatus}-invalid`}}}function ze(e){const t=[];for(let n=0;n<e;++n)t[n]=0;return t}function We(e){return e.vendorConsents[967]?"consent":e.vendorLegitimateInterests[967]?"li":"none"}const $e={cmpStatus:"loaded",eventStatus:"tcloaded",tcfPolicyVersion:2};class Ke{install(e){this._window.__tcfapi||this._installed||!e.data.consentString||(this._installed=!0,this._consentData=e.data,this._window.__tcfapi=(e,t,n,i)=>{const{consentString:r,vendorConsents:o={},vendorLegitimateInterests:s={},purposeConsents:a={},purposeLegitimateInterests:l={},gdprApplies:c=!0}=this._consentData;if("ping"===e&&n({...$e,cmpLoaded:!0,gdprApplies:c,displayStatus:"hidden"},!0),"addEventListener"===e&&"function"==typeof n){const e=this._listenerCount+1;this._listeners[e]=n,n({...$e,tcString:r,gdprApplies:c,vendor:{consents:o,legitimateInterests:s},purpose:{consents:a,legitimateInterests:l},listenerId:e},!0)}"removeEventListener"===e&&delete this._listeners[i]})}onChange(e){this._installed||this.install(e),this._consentData=e.data;const{consentString:t,vendorConsents:n={},vendorLegitimateInterests:i={},purposeConsents:r={},purposeLegitimateInterests:o={},gdprApplies:s=!0}=this._consentData;Object.keys(this._listeners).forEach((e=>{try{(0,this._listeners[e])({...$e,tcString:t,gdprApplies:s,vendor:{consents:n,legitimateInterests:i},purpose:{consents:r,legitimateInterests:o},listenerId:e},!0)}catch(e){}}))}constructor({window:e}){this._window=e,this._listenerCount=0,this._listeners={},this._consentData={},this._installed=!1}}const qe=["auto-service.de","gmx.at","web.de","gmx.ch","gmx.net","1und1.de"];class Ze{getConsent(){return 0===this._origin.indexOf("amp-ad")?this._requestConsentAmpAd().then((e=>(this._onConsentChange(e),e))):0===this._origin.indexOf("amp")&&"amp-video-iframe"!==this._origin?this._requestConsentAmp().then((e=>(this._onConsentChange(e),e))):this._getConsentPromise}destroy(){this._connected=!1,this._window.removeEventListener("message",this._onRemoteMessage,!1),this._window.clearTimeout(this._waitForCmpAnswerTimeout)}setExternalConsent({tcString:e,cmpStatus:t,eventStatus:n,gdprApplies:i}){if(Xe({cmpStatus:t,eventStatus:n})){const t=new Fe({gdprApplies:i,eventStatus:n,consentString:e,consentStatus:"2.0"});this._onConsentChange(t),this._tcfMirror.onChange(t)}}_onConsentChange(e){const{tcfVersion:t,eventStatus:n,consentStatus:i,consentString:r,gdprApplies:o}=e.data;"2.0"===this._lastConsentStatus&&"2.0"!==i||(this._lastConsentStatus=i,this._onChange(e),this._window.clearTimeout(this._waitForCmpAnswerTimeout),t&&0===t.indexOf("2.")&&("cmpuishown"===n||null==n)||o&&!r&&"2.0-invalid"===i||(this._resolveInitialConsentPromise?(this._resolveInitialConsentPromise(e),this._resolveInitialConsentPromise=void 0):this._getConsentPromise=Promise.resolve(e)))}_connect(){this._connected||(this._connected=!0,this._window.addEventListener("message",this._onRemoteMessage,!1))}_createStubConsentString(e){return new Ve({consentStatus:e})}_onRemoteMessage(e){let t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}const n=t.__tcfapiReturn||{},{returnValue:i={},success:r}=n;if(r&&i&&Xe(i)){const e=new Fe({gdprApplies:i.gdprApplies,consentString:i.tcString,consentStatus:"2.0",eventStatus:i.eventStatus});this._onConsentChange(e),this._tcfMirror.onChange(e)}}_sendAndRegisterMessage({command:e,frame:t}){if(!t)return;const n={__tcfapiCall:{command:e,parameter:void 0,callId:String(1e20*Math.random()),version:2}};t.postMessage(n,"*")}_requestConsentAmp(){const e=ve(this._window);let t;return Promise.race([new Promise((n=>{t=i=>{if(i.source!==e.parent||i.origin===e.location.origin||!i.data||"amp"!==i.data.sentinel||"consent-data"!==i.data.type)return;e.removeEventListener("message",t);const{consentString:r}=i.data||{};n(this._createAmpConsentStringObject({consentString:r}))},e.addEventListener("message",t),e.parent.postMessage({sentinel:"amp",type:"send-consent-data"},"*")})),new Promise((n=>{setTimeout((()=>{t&&e.removeEventListener("message",t),n(this._createStubConsentString("timeout"))}),2e3)}))])}_createAmpConsentStringObject({consentString:e}){if(e){const t=new Fe({gdprApplies:!0,consentString:e,consentStatus:"2.0",eventStatus:"tcloaded"});if(t.data.cacheFriendlyConsentString)return t}return this._createStubConsentString("notfound")}_requestConsentAmpAd(){const e=ve(this._window),{initialConsentValue:t}=e.context||{};return Promise.resolve(this._createAmpConsentStringObject({consentString:t}))}_getCmpLocator(){return this._cmpLocator?this._cmpLocator:this._window===this._window.top&&this._window.location.pathname.match(/iframe-player\.html$/)?Promise.reject():(this._cmpLocator=Je((()=>new Promise(((e,t)=>{let n=function(e,t){let n,i=e;for(;i;){try{if(i.frames[t]){n=i;break}}catch(e){}if(i===e.top)break;i=i.parent}return n}(this._window,"__tcfapiLocator");qe.indexOf(this._pageSecondLevelDomain)>-1&&(n=this._window.top),n||t(),e({frame:n,type:"tcf",version:"2",consentStatus:"2.0"})}))),5,200),this._cmpLocator)}constructor(e,{pageSecondLevelDomain:t,origin:n,onChange:i}){this._window=e,this._origin=n,this._pageSecondLevelDomain=t,this._onChange=i,this._connected=!1,this._lastConsentStatus=void 0,this._onRemoteMessage=this._onRemoteMessage.bind(this),this._cmpLocator=void 0,this._tcfMirror=new Ke({window:e}),this._resolveInitialConsentPromise=void 0,this._getConsentPromise=new Promise((e=>{this._resolveInitialConsentPromise=e})),this._connect(),this._getCmpLocator().then((({frame:e,version:t})=>{"2"===t&&(this._waitForCmpAnswerTimeout=this._window.setTimeout((()=>{this._onConsentChange(this._createStubConsentString("timeout"))}),1e4),this._sendAndRegisterMessage({command:"getTCData",frame:e}),this._sendAndRegisterMessage({command:"addEventListener",frame:e}))})).catch((()=>{this._onConsentChange(this._createStubConsentString("notfound"))})).then((()=>this.getConsent())).then((e=>{this._tcfMirror.install(e)}))}}function Je(e,t=5,n=1e3){return new Promise(((i,r)=>{const o=(o={})=>{if(1===t)return r(o);Je(e,t-1,n).then(i,r)};Promise.race([e(),new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout error"))),n)}))]).then((e=>{i(e)})).catch((e=>{if(e&&"Timeout error"===e.message)return o(e);setTimeout((()=>o(e)),n)}))}))}function Xe(e){const{cmpStatus:t,eventStatus:n}=e;return(["tcloaded","useractioncomplete","cmpuishown"].indexOf(n)>-1||null==n)&&"loaded"===t}const Qe=Object.prototype.toString,et=Array.isArray||function(e){return"[object Array]"===Qe.call(e)};function tt(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function nt(e){let t;return t="function"==typeof Number.parseInt?Number.parseInt(e,10):parseInt(e,10),t.toString()===e?t:e}function it(e={}){const t=function(e){return Object.keys(t).reduce(((n,i)=>("create"===i||"function"==typeof t[i]&&(n[i]=t[i].bind(t,e)),n)),{})};function n(t,n){if(function(t,n){return e.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||tt(t,n)}(t,n))return t[n]}function i(e,t,r,o){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return i(e,t.split(".").map(nt),r,o);const s=t[0],a=n(e,s);return 1===t.length?(void 0!==a&&o||(e[s]=r),a):(void 0===a&&("number"==typeof t[1]?e[s]=[]:e[s]={}),i(e[s],t.slice(1),r,o))}return t.has=function(t,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(let i=0;i<n.length;i++){const r=nt(n[i]);if(!("number"==typeof r&&et(t)&&r<t.length||(e.includeInheritedProps?r in Object(t):tt(t,r))))return!1;t=t[r]}return!0},t.set=function(e,t,n,r){return i(e,t,n,r)},t.get=function(e,i,r){if("number"==typeof i&&(i=[i]),!i||0===i.length)return e;if(null==e)return r;if("string"==typeof i)return t.get(e,i.split("."),r);const o=nt(i[0]),s=n(e,o);return void 0===s?r:1===i.length?s:t.get(e[o],i.slice(1),r)},t}const rt=it();rt.create=it,rt.withInheritedProps=it({includeInheritedProps:!0});const ot={urlencode:e=>encodeURIComponent(e),urlencodelist:(e=[])=>e.map(encodeURIComponent),booltoint:e=>!0===e?"1":!1===e?"0":"",ifempty:(e,t,n)=>t||e.get(n)||"",round:e=>`${Math.round(e)}`,limit:(e="",t=0)=>e.substring(0,t),lowercase:(e="")=>e.toLowerCase(),dasherize:(e="")=>e.split(" & ").join("-").split(" ").join("-"),joinunderscore:(e=[])=>e.join("_"),joincomma:(e=[],t=void 0)=>e.slice(0,t).join(","),joinpipe:(e=[],t=void 0)=>e.slice(0,t).join("|"),joinampersand:(e=[],t=void 0)=>e.slice(0,t).join("&"),objecttokeyvaluearray:(e={})=>Object.keys(e).map((t=>`${t}=${e[t]}`)),prefixandjoin:(e,t,n)=>(e||[]).map((e=>`${t}${e}`)).join(n),defaultvalue:(e,t)=>e||t||"",stripsuffix:e=>{const t=e.split("-");if(3!==t.length)return e;const[n,i]=t;return`${n}-${i}`},extract:(e,t)=>e.map((e=>e[t])),contains:(e,t)=>-1!==e.indexOf(t),ifelse:(e,t,n)=>e?t:n};function st(e,...t){return function(...n){const i=n[n.length-1];if(!i)throw new Error("PlaceholdersNotPassed");const r=[e[0]];return t.forEach(((t,n)=>{const o=t.split("|"),s=o.shift();let a=i.get(s);for("string"==typeof a&&(a=a.replace(/\\([\s\S])|(")/g,"\\$1$2"));o.length>0;){const e=o.shift().split(","),t=e.shift(),n=ot[t];n&&(a="ifempty"===t?n(i,a,...e):n(a,...e))}r.push(a,e[n+1])})),r.join("")}}const at=(e,t)=>e.replace(/\[\[.*?\]\]/g,(e=>{let n=e.substring(2,e.length-2);const i=n.split("|");return n=i.join("|"),void 0===t.get(i[0])&&1===i.length?e:st`${n}`(t)})),lt=function(e){return new pt(e)},ct=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t},dt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ut=function(e,t){if(e.forEach)return e.forEach(t);for(let n=0;n<e.length;n++)t(e[n],n,e)};function pt(e){this.value=e}pt.prototype.forEach=function(e){return this.value=function(e,t){const n=[],i=[];let r=!0;return function e(o){const s={};let a=!0;const l={node:o,node_:o,path:[].concat(n),parent:i[i.length-1],parents:i,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update(e,t){l.isRoot||(l.parent.node[l.key]=e),l.node=e,t&&(a=!1)},delete(e){delete l.parent.node[l.key],e&&(a=!1)},remove(e){dt(l.parent.node)?l.parent.node.splice(l.key,1):delete l.parent.node[l.key],e&&(a=!1)},keys:null,before(e){s.before=e},after(e){s.after=e},pre(e){s.pre=e},post(e){s.post=e},stop(){r=!1},block(){a=!1}};if(!r)return l;function c(){if("object"==typeof l.node&&null!==l.node){l.keys&&l.node_===l.node||(l.keys=ct(l.node)),l.isLeaf=0==l.keys.length;for(let e=0;e<i.length;e++)if(i[e].node_===o){l.circular=i[e];break}}else l.isLeaf=!0,l.keys=null;l.notLeaf=!l.isLeaf,l.notRoot=!l.isRoot}c();const d=t.call(l,l.node);return void 0!==d&&l.update&&l.update(d),s.before&&s.before.call(l,l.node),a?("object"!=typeof l.node||null===l.node||l.circular||(i.push(l),c(),ut(l.keys,((t,i)=>{n.push(t),s.pre&&s.pre.call(l,l.node[t],t);const r=e(l.node[t]);r.isLast=i==l.keys.length-1,r.isFirst=0==i,s.post&&s.post.call(l,r),n.pop()})),i.pop()),s.after&&s.after.call(l,l.node),l):l}(e).node}(this.value,e),this.value},ut(ct(pt.prototype),(e=>{lt[e]=function(t){const n=[].slice.call(arguments,1),i=new pt(t);return i[e].apply(i,n)}}));const mt=(e,t)=>{const n={},i=[];return lt(t).forEach((function(t){const r=this.path.join(".");if(this.isLeaf){const s="string"!=typeof(o=t)?[]:(o.match(/{{\s*[(\w|\-).]+\s*}}/g)||[]).map((e=>e.match(/[(\w|\-).]+/)[0]));if(s&&1===s.length){const t=s[0];if(!rt.has(e,t))return i.push(new Error(`Origin Path does not exist: ${t}`));const o=rt.get(e,t);return void rt.set(n,r,o)}rt.set(n,r,t)}var o})),{errors:i,transformed:n}};function ht({salesHouseConfig:e,store:t,bidConfig:n}){const i=()=>{const i=t.getState(),{config:r,runtime:o,environment:s,integration:a,playlistContext:l,content:c,monetization:d}=i;return{config:r,runtime:o,environment:s,integration:a,playlistContext:l,content:c,salesHouseConfig:e,bidConfig:n,monetization:d}},r=(({getState:e})=>{const t=e();return{get:e=>{if(e&&0!==e.length)return rt.get(t,e)}}})({getState:i}),o=JSON.parse(at(JSON.stringify(n||e),r)),s=i();return n&&(s.bidConfig=o),e&&(s.salesHouseConfig=o),mt(s,o).transformed}class gt{get bidderName(){throw new Error("A `bidderName` getter must be implemented.")}get adapterScript(){throw new Error("An `adapterScript` getter must be implemented.")}static hasVendor(e,t,n=!0){const{vendor:{consents:i,legitimateInterests:r}}=e;return n&&i?!0===i[t]:i&&!0===i[t]||r&&!0===r[t]}static hasPurpose(e,t,n=!0){const{purpose:{consents:i,legitimateInterests:r}}=e;return n&&i?!0===i[t]:i&&!0===i[t]||r&&!0===r[t]}load(){return this._initPromise||(this._initPromise=i(this.adapterScript,{win:this._window})),this._initPromise}getBids(){throw new Error("`getBids` must be implemented.")}constructor(e){this._window=e,this._initPromise=void 0}}class yt extends gt{get adapterScript(){return"https://c.amazon-adsystem.com/aax2/apstag.js"}get bidderName(){return"aps"}_hasValidConsent(e){return gt.hasVendor(e,967,!0)&&gt.hasVendor(e,793,!0)&&gt.hasPurpose(e,1,!0)}getBids(e,t){if(!this._hasValidConsent(t))return Promise.resolve({});const{slots:n,...i}=e.bidderConfig;return this.load().then((()=>{const{_window:t}=this;return t.apstag.init(i),new Promise((i=>{const r=n.map((({lineItemId:e,salesHouseId:t,slot:n,...i})=>i));t.apstag.fetchBids({slots:r},(t=>{const n=function(e=[]){const t={};return e.forEach((e=>Object.keys(e.targeting).forEach((n=>{t[n]=String(e.targeting[n])})))),t}(t);if(Object.keys(n).length>0){var r,o;const t=(null===(o=e.bidderConfig)||void 0===o||null===(r=o.slots)||void 0===r?void 0:r.filter((e=>{var t;return(null===(t=e.slotID)||void 0===t?void 0:t.indexOf("preroll"))>-1}))[0])||{};n.amzn_li_id=t.lineItemId||e.lineItemId}i(n)}))}))})).catch((()=>{}))}}class Et extends gt{get bidderName(){return"dfp"}_hasValidConsent(e){return gt.hasVendor(e,967,!1)&&gt.hasVendor(e,755,!1)}getBids(e,t){return this._hasValidConsent(t)?Promise.resolve(e.bid):Promise.resolve({})}}class _t extends gt{get adapterScript(){return"https://player.glomex.com/integration/1.1218.8/prebid.js"}get bidderName(){return"prebid"}_hasValidConsent(e){return gt.hasVendor(e,967,!1)}_hasValidConfig(e){const{bidderConfig:t}=e;if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++){const{bids:n}=t[e];if(Array.isArray(n)&&n.length>0)return!0}return!1}getBids(e,t){return this._hasValidConsent(t)&&this._hasValidConfig(e)?this.load().then((()=>{const{_window:{glmxpbjs:t}}=this;t.bidderSettings={standard:{allowAlternateBidderCodes:!0,allowedAlternateBidderCodes:["*"],adserverTargeting:[{key:"hb_bidder",val:e=>e.bidderCode},{key:"hb_adid",val:e=>e.adId},{key:"hb_size",val:e=>e.size},{key:"hb_pb",val(e){const{cpmAfterAdjustments:t}=e.floorData||{};if(!Number.isNaN(Number(t))){const e=Math.floor(10*Number(t))/10;return Math.min(e,20).toFixed(2)}return e.pbMg}},{key:"hb_pbo",val:e=>e.pbMg},{key:"hb_li_id",val(e,t){var n;return e.bidder!==t.bidder&&(null===(n=t.alternativeBidderCodeLineItemIds)||void 0===n?void 0:n[e.bidder])?t.alternativeBidderCodeLineItemIds[e.bidder]:t.lineItemId}}],inverseBidAdjustment:(e,t)=>{const{bidCpmAdjustments:n=[]}=t||{},i=n.find((e=>"static"===e.adjtype));if(i&&!Number.isNaN(i.value))return Number(i.value);let r=e;return n.reverse().forEach(((e={})=>{"multiplier"!==e.adjtype||Number.isNaN(e.value)||(r/=Number(e.value)),"cpm"!==e.adjtype||Number.isNaN(e.value)||(r+=Number(e.value))})),r},bidCpmAdjustment:(e,t,n)=>{const{bidCpmAdjustments:i=[]}=n||{},r=i.find((e=>"static"===e.adjtype));if(r&&!Number.isNaN(r.value))return Number(r.value);let o=e;return i.forEach(((e={})=>{"multiplier"!==e.adjtype||Number.isNaN(e.value)||(o*=Number(e.value)),"cpm"!==e.adjtype||Number.isNaN(e.value)||(o-=Number(e.value))})),o}},yieldlab:{sendStandardTargeting:!0,adserverTargeting:[{key:"hb_deal_yieldlab",val:e=>e.dealId}]}},Object.keys(e.aliases||[]).forEach((n=>{const i=e.aliases[n];t.aliasBidder(i.adapter,n,i.options)}));const{bidderConfig:n=[]}=e;return n.forEach((({bids:n=[]})=>{n.forEach((({bidder:n,additionalSupplyChainNode:i})=>{i&&e.schain&&e.schain.config&&t.setBidderConfig({bidders:[n],config:{schain:{validation:e.schain.validation,config:{ver:e.schain.config.ver,complete:e.schain.config.complete,nodes:[...e.schain.config.nodes,i]}}}})}))})),t.setConfig({debug:!1,...e.globalSettings,cache:{url:"https://prebid-cache.mes.glomex.cloud/cache",ignoreBidderCacheKey:!0},enableSendAllBids:!1,targetingControls:{alwaysIncludeDeals:!0},priceGranularity:"medium",userSync:e.userSync,floors:{enforcement:{floorDeals:!1}},consentManagement:{gdpr:{cmpApi:"iab"}},currency:{adServerCurrency:"EUR",granularityMultiplier:1,rates:e.currency.rates},pageUrl:e.pageUrl,schain:e.schain&&e.schain.config?e.schain:void 0,ortb2:e.ortb2}),t.refreshUserIds().then((()=>new Promise((n=>{t.requestBids({adUnits:e.bidderConfig,bidsBackHandler:()=>{n(t.getAdserverTargeting().preroll||{})}})}))))})).catch((()=>[])):Promise.resolve({})}}class ft{getUserIds(e){if(this._createIframePromise)return this._createIframePromise;const{content:{createdAt:t},environment:{pageUrl:n,pageHostname:i,consentData:{consentString:o="",vendorConsents:s={},vendorLegitimateInterests:a={}}={}},playlistContext:{publisherCountryCode:l,userCountryCode:c,publisherId:d,partnerId:u}={}}=this._store.getState();return"t-bip0op7p8x55"===u||"t-bip0op7p8x55"===d?(this._createIframePromise=Promise.resolve([]),this._createIframePromise):(this._createIframePromise=new Promise((e=>{r({iframe:this._iframe,doc:bt({createdAt:t,pageUrl:n,pageHostname:i,consentString:o,vendorConsents:s,vendorLegitimateInterests:a,publisherCountryCode:l,userCountryCode:c}),targetNode:this._window.document.body,onAppended:t=>{const n=t.contentWindow;n.__tcfapi=n.parent.__tcfapi,e()}})})).then((()=>{let t=this._window;const n=this._iframe.contentWindow;this._window===this._window.top&&(t=n),this._bidAdapters=[new yt(t),new _t(this._window),new Et(this._window)];const i="useractioncomplete"===e?250:0;return Promise.race([new Promise(((e,t)=>{const{document:r}=n||{},o=r&&r.querySelector("#adexScript");if(o){const r=Date.now();return o.addEventListener("load",(()=>{try{Object.defineProperty(n.adex,"tracedata",{_value:void 0,set:t=>{this._value=t;const n=Date.now(),o=i-(n-r);setTimeout((()=>{e([{name:"theAdexId",source:"theadex.com",id:t&&t.adexid,ext:{stype:"dmp"},gvlId:44}])}),o>0?o:0)},get:()=>this._value})}catch(e){t()}})),void o.addEventListener("error",(()=>t()))}setTimeout((()=>e([])),i)})),new Promise((e=>{setTimeout((()=>e([])),1e3)}))]).catch((()=>new Promise((e=>setTimeout((()=>e([])),i)))))})),this._createIframePromise)}get(){const{content:{labels:e},player:{wasMutedAdChainSet:t},playlistContext:{publisherCountryCode:n,userCountryCode:i,publisherId:r,partnerId:s,articleBrandSafetyRisk:a},environment:{abSlot:l,browserType:c,origin:d,pageUrl:u,pageUrlProps:{glomexSalesHouseConfigEnvironment:p}={},device:m,hourOfDay:h,pageHostname:g,pageSecondLevelDomain:y,consentData:{consentString:E="",vendorConsents:_={},vendorLegitimateInterests:f={},purposeConsents:I={},purposeLegitimateInterests:b={}}={}},abTest:{abExperiments:v}}=this._store.getState();if("t-bip0op7p8x55"===s||"t-bip0op7p8x55"===r)return Promise.resolve({bids:{}});this._window.context||0!==d.indexOf("amp")||(this._window.context={sourceUrl:u,canonicalUrl:u,tagName:"AMP-AD",pageViewId:"1337"});const T="local"===(A=p)?"https://localhost:8000/v2/bid-configs":"stage"===A?"https://sales-house-configuration.stage.mes.glomex.cloud/v2/bid-configs":"https://sales-house-configuration.mes.glomex.cloud/v2/bid-configs";var A;return Promise.all([this._window.fetch(o(T,{device:m,muted:t,pageHostname:g,pageSecondLevelDomain:y,publisherCountryCode:n,userCountryCode:i,hourOfDay:h,abExperiments:v||[],labelIds:e.length>0?e.map((e=>e.id)):"",abSlot:l?10*Math.ceil(l/10):"",browserType:c||"",articleBrandSafetyRisk:a||""})).then((e=>e.json())).catch((()=>[])),this.getUserIds()]).then((([e])=>{const t=(Array.isArray(e)?e:[]).map((e=>ht({store:this._store,bidConfig:e}))),n={gdprApplies:!0,vendor:{consents:_,legitimateInterests:f},purpose:{consents:I,legitimateInterests:b},tcString:E};return Promise.all(this._bidAdapters.map((e=>{const i=t.find((t=>t.bidder===e.bidderName));return i?e.getBids(i,n):Promise.resolve({})}))).then((e=>{let t={};return e.forEach((e=>{t={...t,...e}})),{bids:{preroll:t}}}))})).catch((()=>({bids:{}})))}constructor({window:e,store:t}){const{document:n}=e;this._store=t,this._window=e;const i=n.createElement("iframe");i.style.display="none",i.setAttribute("referrerpolicy","unsafe-url"),i.setAttribute("id","bidHelper"),this._iframe=i}}const It=["de","at","ch"];function bt({pageUrl:e,pageHostname:t,vendorConsents:n,consentString:i,userCountryCode:r,publisherCountryCode:o}){let s="";if(-1===It.indexOf(r)||-1===It.indexOf(o))return s;const a=`<script>\n(function() {\n  window._adexc = window._adexc || [];\n  window._adexc.push(['/1083/4995/','ut','_kv',{\n    'pageUrl':'${e}',\n    'pageHostname':'${t}'\n  }]);\n  var axd = document.createElement('script');\n  axd.id = 'adexScript';\n  axd.src = "https://dmp.theadex.com/d/1083/4995/s/adex.js";\n  var s = document.getElementsByTagName('script')[0];\n  s.parentNode.insertBefore(axd, s);\n})();\n<\/script>`,l=vt(`https://pbs.publishers.tremorhub.com/pubsync?gdpr=1&gdpr_consent=${i}&us_privacy=&redir=https%3A%2F%2Fsync.springserve.com%2Fusersync%3Faid%3D1000015%26gdpr%3D1%26gdpr_consent%3D${i}%26us_privacy%3D%26uuid%3D%5Btvid%5D`),c=vt(`https://image8.pubmatic.com/AdServer/ImgSync?p=157310&gdpr=1&gdpr_consent=${i}&pu=https%3A%2F%2Fimage4.pubmatic.com%2FAdServer%2FSPug%3Fp%3D157310%26gdpr%3DPM_GDPR%26gdpr_consent%3DPM_CONSENT%26pmc%3DPM_PMC%26pr%3Dhttps%253A%252F%252Fsync.springserve.com%252Fusersync%253Faid%253D1000010%2526uuid%253D%2523PMUID%2526gdpr%253DPM_GDPR%2526gdpr_consent%253DPM_CONSENT`),d=vt(`https://pixel.rubiconproject.com/exchange/sync.php?p=springserve_magnite_internal&gdpr=1&gdpr_consent=${i}&us_privacy=`),u=vt(`https://ib.adnxs.com/getuid?https%3A%2F%2Fvid-io-dub.springserve.com%2Fusersync%3Faid%3D1000001%26gdpr%3D1%26gdpr_consent%3D${i}%26us_privacy%3D%26uuid%3D%24UID`),p=vt(`https://ssbsync.smartadserver.com/api/sync?callerId=52&gdpr=1&gdpr_consent=${i}&us_privacy=&redirectUri=https%3A%2F%2Fsync.springserve.com%2Fusersync%3Faid%3D1000018%26gdpr%3D1%26gdpr_consent%3D${i}%26us_privacy%3D%26uuid%3D%5Bssb_sync_pid%5D`);return n[44]&&(s+=a),n[293]&&(n[52]&&(s+=l,s+=d),n[76]&&(s+=c),n[32]&&(s+=u),n[45]&&(s+=p)),s}function vt(e){return`<script>\n  (function() {\n    (new Image()).src = "${e}";\n  })();\n  <\/script>`}const Tt={ADBREAK_READY:"adbreakready",PLAYER_READY:"ready",PLAYLIST_CREATE:"playlistcreate",PLAYLISTITEM_SELECT:"playlistitemselect",PLAYLISTITEM_READY:"playlistitemready",PLAYLISTITEM_BEGIN:"playlistitembegin",PLAYLISTITEM_STOP:"playlistitemstop",PLAYLISTITEM_COMPLETE:"playlistitemcomplete",PLAYER_PLAY:"play",PLAYER_PAUSE:"pause",PLAYER_VOLUMECHANGE:"volumechange",CONTENT_BEGIN:"contentbegin",CONTENT_COMPLETE:"contentcomplete",AD_BEGIN:"adbegin",AD_COMPLETE:"adcomplete",INTEGRATION_ABORT:"integrationabort",ENVIRONMENT_UPDATEPRESENTATIONMODE:"updatepresentationmode",ENVIRONMENT_CONSENTDATA:"updateconsentdata",AD_TIMEUPDATE:"adtimeupdate",CONTENT_TIMEUPDATE:"contenttimeupdate",AD_CLICK:"adclick"},At=["PLAYLISTITEM_SELECT","PLAYLISTITEM_READY","PLAYLISTITEM_BEGIN","PLAYLISTITEM_STOP","PLAYLISTITEM_COMPLETE","CONTENT_BEGIN","CONTENT_COMPLETE","PLAYER_PLAY","PLAYER_PAUSE","CONTENT_TIMEUPDATE"],wt=["ADBREAK_READY","AD_BEGIN","AD_COMPLETE","AD_CLICK","AD_TIMEUPDATE"],Pt=["id","duration","title","description","poster","aspectRatio","thumbnail","isRecommendation","taxonomies","show","channel","category","contentOwner","keywords","teaser","portalReleaseDate","portalEndDate","regionsAllowed","enableBranding","tracking","type","livestream"],Nt=["id","breakName","breakIndex","adSessionId","positionIndex","mimetype","duration"],St=["isAdBlocker","pageUrl","pageSecondLevelDomain","pageHostname","origin","integrationVersion","consentData","referrer","device","presentationMode"],Ct=["code","name","message"],Ot=(e,t={})=>{const n={};return e.forEach((e=>{n[e]=t[e]})),n};class xt extends t{destroy(){this.removeAllListeners()}constructor(){super(),this.EVENT=Tt}}const Rt=({publicApiEmitter:e})=>t=>n=>i=>{n(i);const r=t.getState(),o=r.player||{},s=r.abTest||{},a=i.type;if(!Tt[a])return;const l={};r.content&&r.content.id&&(l.content=Ot(Pt,r.content));const c={environment:Ot(St,r.environment),player:{muted:o.muted,volume:o.volume,contentCurrentTime:o.contentCurrentTime,contentWallClockTime:o.contentWallClockTime,adCurrentTime:o.adCurrentTime},abTest:{abExperiments:s.abExperiments},...l};let d;"PLAYER_READY"===a&&(c.config=r.config,c.player.dockEnabled=r.runtime.dockEnabled,c.player.autoplay=r.runtime.shouldAutoplay,c.player.startBehavior=r.runtime.startBehavior,c.player.startVolume=r.runtime.startVolume),"PLAYER_PLAY"===a&&(c.player.byUser=o.lastPlayByUser),"PLAYLIST_CREATE"===a&&(c.playlist=((e=[])=>e.map((e=>Ot(Pt,e))))(r.playlist),c.playlistContext=r.playlistContext),"ADBREAK_READY"===a&&(c.player.adsAvailable=i.payload.adsAvailable),-1!==At.indexOf(a)&&(c.playlistContext=r.playlistContext),"INTEGRATION_ABORT"===a&&(c.player.error=Ot(Ct,o.error)),"ENVIRONMENT_UPDATEPRESENTATIONMODE"===a&&(c.player.presentationMode=i.payload.presentationMode,c.player.shouldFocus=i.payload.shouldFocus,c.player.byUser=i.payload.byUser),-1!==wt.indexOf(a)&&(c.ad=Ot(Nt,r.ad)),r.environment&&(d=r.environment.pageUrl),e.emit("event",{eventName:Tt[a],payload:c,context:{pageUrl:d}})};function Lt(){return window&&window.crypto&&"function"==typeof window.crypto.randomUUID?window.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Ut(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=kt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:String(t)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){var i,r,o;i=e,r=t,o=n[t],(r=Ut(r))in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Bt="function"==typeof Symbol&&Symbol.observable||"@@observable",Ht=function(){return Math.random().toString(36).substring(7).split("").join(".")},jt={INIT:"@@redux/INIT"+Ht(),REPLACE:"@@redux/REPLACE"+Ht(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ht()}};function Yt(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Vt(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Vt(1));return n(Yt)(e,t)}if("function"!=typeof e)throw new Error(Vt(2));var r=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(Vt(3));return o}function u(e){if("function"!=typeof e)throw new Error(Vt(4));if(l)throw new Error(Vt(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Vt(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(Vt(7));if(void 0===e.type)throw new Error(Vt(8));if(l)throw new Error(Vt(9));try{l=!0,o=r(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:jt.INIT}),(i={dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Vt(10));r=e,p({type:jt.REPLACE})}})[Bt]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Vt(11));function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[Bt]=function(){return this},e},i}function Gt(e,t){return function(){return t(e.apply(this,arguments))}}function Ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function zt(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}var Wt=zt();Wt.withExtraArgument=zt;var $t=Wt,Kt={AB_ASSIGN:"AB_ASSIGN",AD_IMPRESSION:"AD_IMPRESSION",AD_BEGIN:"AD_BEGIN",AD_CLICK:"AD_CLICK",AD_SKIP:"AD_SKIP",AD_COMPLETE:"AD_COMPLETE",AD_CREATE:"AD_CREATE",AD_VIEWABLE:"AD_VIEWABLE",AD_VIEWABLE_50_2:"AD_VIEWABLE_50_2",AD_VIEWABLE_100_15:"AD_VIEWABLE_100_15",AD_SHOWCOMPANION:"AD_SHOWCOMPANION",AD_HIDECOMPANION:"AD_HIDECOMPANION",AD_TIMEUPDATE:"AD_TIMEUPDATE",ADBREAK_READY:"ADBREAK_READY",CONFIG_CREATE:"CONFIG_CREATE",CONFIG_UPDATE:"CONFIG_UPDATE",CONFIG_RESTORE:"CONFIG_RESTORE",CONTENT_PAUSEREQUESTED:"CONTENT_PAUSEREQUESTED",CONTENT_RESUME:"CONTENT_RESUME",CONTENT_BEGIN:"CONTENT_BEGIN",CONTENT_COMPLETE:"CONTENT_COMPLETE",CONTENT_TELEMETRY:"CONTENT_TELEMETRY",CONTENT_TIMEUPDATE:"CONTENT_TIMEUPDATE",CONTENT_USERINTERACTION:"CONTENT_USERINTERACTION",ENVIRONMENT_AUTOPLAYPOLICY:"ENVIRONMENT_AUTOPLAYPOLICY",ENVIRONMENT_CHANGEVISIBILITY:"ENVIRONMENT_CHANGEVISIBILITY",ENVIRONMENT_CREATE:"ENVIRONMENT_CREATE",ENVIRONMENT_FOUNDADBLOCKER:"ENVIRONMENT_FOUNDADBLOCKER",ENVIRONMENT_RESIZE:"ENVIRONMENT_RESIZE",ENVIRONMENT_UPDATEORIGIN:"ENVIRONMENT_UPDATEORIGIN",ENVIRONMENT_UPDATEDIMENSIONS:"ENVIRONMENT_UPDATEDIMENSIONS",ENVIRONMENT_CONSENTDATA:"ENVIRONMENT_CONSENTDATA",ENVIRONMENT_UPDATEPRESENTATIONMODE:"ENVIRONMENT_UPDATEPRESENTATIONMODE",ENVIRONMENT_USERIDS:"ENVIRONMENT_USERIDS",ENVIRONMENT_RESETUSERIDS:"ENVIRONMENT_RESETUSERIDS",INTEGRATION_CREATE:"INTEGRATION_CREATE",INTEGRATION_SETUP:"INTEGRATION_SETUP",INTEGRATION_IMPRESSION:"INTEGRATION_IMPRESSION",INTEGRATION_ABORT:"INTEGRATION_ABORT",INTEGRATION_UNLOAD:"INTEGRATION_UNLOAD",INTEGRATION_TELEMETRY:"INTEGRATION_TELEMETRY",INTEGRATION_PASSBACK:"INTEGRATION_PASSBACK",INTEGRATION_ADAVAILABLE:"INTEGRATION_ADAVAILABLE",TEASER_IMPRESSION:"TEASER_IMPRESSION",TEASER_CLICK:"TEASER_CLICK",RUNTIME_CREATE:"RUNTIME_CREATE",RUNTIME_SETBEHAVIOR:"RUNTIME_SETBEHAVIOR",RUNTIME_UPDATE:"RUNTIME_UPDATE",RUNTIME_UPDATESTARTBEHAVIOR:"RUNTIME_UPDATESTARTBEHAVIOR",RUNTIME_SETENDSCREENCONTINUATIONBEHAVIOR:"RUNTIME_SETENDSCREENCONTINUATIONBEHAVIOR",PLAYER_LOAD:"PLAYER_LOAD",PLAYER_READY:"PLAYER_READY",PLAYER_PAUSE:"PLAYER_PAUSE",PLAYER_PLAY:"PLAYER_PLAY",PLAYER_PLAYING:"PLAYER_PLAYING",PLAYER_VOLUMECHANGE:"PLAYER_VOLUMECHANGE",PLAYER_SETADCHAIN:"PLAYER_SETADCHAIN",PLAYER_BUFFERINGBEGIN:"PLAYER_BUFFERINGBEGIN",PLAYER_BUFFERINGCOMPLETE:"PLAYER_BUFFERINGCOMPLETE",PLAYER_INFO:"PLAYER_INFO",PLAYLIST_ADD:"PLAYLIST_ADD",PLAYLIST_CREATE:"PLAYLIST_CREATE",PLAYLIST_RESET:"PLAYLIST_RESET",PLAYLIST_SETINDEX:"PLAYLIST_SETINDEX",PLAYLISTITEM_SELECT:"PLAYLISTITEM_SELECT",PLAYLISTITEM_READY:"PLAYLISTITEM_READY",PLAYLISTITEM_STOP:"PLAYLISTITEM_STOP",PLAYLISTITEM_COMPLETE:"PLAYLISTITEM_COMPLETE",PLAYLISTITEM_BEGIN:"PLAYLISTITEM_BEGIN",PLAYLISTITEMMONETIZATION_ERROR:"PLAYLISTITEMMONETIZATION_ERROR",PLAYLISTITEMMONETIZATION_BEGIN:"PLAYLISTITEMMONETIZATION_BEGIN",PLAYLISTITEMMONETIZATION_UPDATEBIDS:"PLAYLISTITEMMONETIZATION_UPDATEBIDS",RESET:"RESET",UI_PLAY:"UI_PLAY",UI_PAUSE:"UI_PAUSE",UI_SEEK:"UI_SEEK",UI_ENTERFULLSCREEN:"UI_ENTERFULLSCREEN",UI_EXITFULLSCREEN:"UI_EXITFULLSCREEN",UI_MUTE:"UI_MUTE",UI_UNMUTE:"UI_UNMUTE",UI_VOLUMECHANGE:"UI_VOLUMECHANGE",UI_SEEKSTART:"UI_SEEKSTART",UI_SEEKEND:"UI_SEEKEND",UI_CHANGECOMPOSITION:"UI_CHANGECOMPOSITION",UI_SETDEFAULTCONTENTCOMPOSITION:"UI_SETDEFAULTCONTENTCOMPOSITION",UI_HIDE:"UI_HIDE",UI_SHOW:"UI_SHOW",UI_RELOAD:"UI_RELOAD",UI_SKIPTOANDPLAY:"UI_SKIPTOANDPLAY",UI_EJECT:"UI_EJECT",UI_EXITCURRENTPRESENTATIONMODE:"UI_EXITCURRENTPRESENTATIONMODE",UI_ENTERDOCK:"UI_ENTERDOCK",UI_ENTERINLINE:"UI_ENTERINLINE",UI_ENTERLIGHTBOX:"UI_ENTERLIGHTBOX",UI_ENTEREXTERNALMODAL:"UI_ENTEREXTERNALMODAL",UI_RESIZE:"UI_RESIZE",UI_USERSTILLINTERESTED:"UI_USERSTILLINTERESTED",UI_DISABLEBRANDING:"UI_DISABLEBRANDING",UI_TEASERCLICK:"UI_TEASERCLICK",UI_TEASERIMPRESSION:"UI_TEASERIMPRESSION"};const qt=(e,t={})=>n=>i=>r=>{const o=i(r);if("function"!=typeof t.isViewabilityMeasurementActive)return o;const s=t.isViewabilityMeasurementActive();switch(r.type){case Kt.CONTENT_BEGIN:case Kt.AD_COMPLETE:s&&t.reset();break;case Kt.AD_BEGIN:e(t,r,n),t.updateAdPlaying(!0);break;case Kt.PLAYER_PLAY:s&&t.updateAdPlaying(!0);break;case Kt.PLAYER_PAUSE:s&&t.updateAdPlaying(!1);break;case Kt.INTEGRATION_ABORT:t.destroy();break;case Kt.ENVIRONMENT_CHANGEVISIBILITY:t.updateVisibility(r.payload.visibility);break;default:return o}return o},{INTEGRATION_SETUP:Zt,INTEGRATION_ABORT:Jt,INTEGRATION_IMPRESSION:Xt,INTEGRATION_PASSBACK:Qt,PLAYLISTITEMMONETIZATION_ERROR:en,CONTENT_TELEMETRY:tn,PLAYER_PAUSE:nn,INTEGRATION_TELEMETRY:rn,PLAYLISTITEMMONETIZATION_BEGIN:on}=Kt,sn="Base",an="Integration",ln="Teaser",cn="PlaylistItem",dn="PlaylistItem Monetization",un="Content",pn="Ad",mn="Telemetry",hn={[sn]:{events:{},properties:["integrationId","playlistId","playerVersion","adBlockerActive","href","domain","uniqueTrackId","integrationSessionId","presentationMode","origin","width","height","variantId","placement","muted","volume","impressionCount","product","eventName","clientName","otherIntegrationsCount","integrationCpm"]},[an]:{events:{INTEGRATION_CREATE:"Integration Create",INTEGRATION_IMPRESSION:"Integration Impression",INTEGRATION_ABORT:"Integration Abort",INTEGRATION_HIDDEN:"Integration Hidden",INTEGRATION_PASSBACK:"Integration Passback",INTEGRATION_ADAVAILABLE:"Integration Ad Available"},properties:["publisherId","playerAbGroup","playerAbExperiments","publishingMode","geoLocation","autoplayPolicy","startBehaviorRuntime","startBehaviorConfig","productName","productFormat","timeSinceIntegrationCreate","errorMessage","errorCode","errorName","gdprApplies","consentString","tcfVersion","consentStatus","consentUpdated","reason","playlistItemBeginCount","visibility","adSdk","glomexVendor","userId","articleBrandSafetyRisk","positionOnPage","positionInArticle"]},[ln]:{events:{TEASER_IMPRESSION:"Teaser Impression",TEASER_CLICK:"Teaser Click"},properties:["teaserContentId","teaserEnvironment"]},[cn]:{events:{PLAYLISTITEM_BEGIN:"PlaylistItem Begin",PLAYLISTITEMMONETIZATION_ERROR:"PlaylistItem Monetization Error",PLAYLISTITEMMONETIZATION_BEGIN:"PlaylistItem Monetization Begin"},properties:["contentId","contentOwnerId","contentType","playlistIndex","duration","isRecommendation","contentSessionId","salesHouseId","lineItemId","mutedChain","streamType","dynamicContentUrl"]},[dn]:{events:{},properties:["cmpId","cmpName","vendorAcceptance","vendorListVersion","hasPurpose1Consent","missingVendorsCount","cfConsentStringMd5","vendorConsents","vendorLegitimateInterests","purposeConsents","purposeLegitimateInterests","adWaterfallLength","reason","consentUpdated","userIdNames"]},[un]:{events:{CONTENT_BEGIN:"Content Begin",PLAYER_PAUSE:"Content Pause",CONTENT_COMPLETE:"Content Complete"},properties:[]},[pn]:{events:{AD_ERROR:"Ad Error",AD_BEGIN:"Ad Begin",AD_CLICK:"Ad Click",AD_SKIP:"Ad Skip",AD_COMPLETE:"Ad Complete",AD_VIEWABLE_50_2:"Ad Viewable 50/2",AD_VIEWABLE_100_15:"Ad Viewable 100/15"},properties:["adBreakIndex","adBreakName","salesHouseId","lineItemId","adPositionIndex","adMimetype","adUrl","adId","adWaterfallIndex","adWaterfallLength","adDuration","adIsLinear","adNonLinearWidth","adNonLinearHeight"]},[mn]:{events:{INTEGRATION_TELEMETRY:"Integration Telemetry",CONTENT_TELEMETRY:"Content Telemetry"},properties:["contentViewableTime","contentNonviewableTime","contentTotalTime","contentAudibleTime","contentNonaudibleTime","adViewableTime","adNonviewableTime","adTotalTime","timeToPlaylistItemPlay"]}},gn={};Object.keys(hn).forEach((e=>Object.keys(hn[e].events).forEach((t=>{gn[t]=hn[e].events[t]}))));const yn=e=>{const t=Object.keys(hn);for(let n=0;n<t.length;n++){const i=t[n],r=Object.keys(hn[i].events);for(let t=0;t<r.length;t++){if(hn[i].events[r[t]]===e)return i}}},En="muted",_n="unmuted",fn="unknown";function In({createUuid:e},t,n,i){const r=yn(n);let o={...bn(t,e,i),eventName:n};return r===pn&&(o={...o,...vn(t)}),r===mn&&(o={...o,...Tn(t,n)}),r===ln&&(o={...o,teaserContentId:i.teaserContentId,teaserEnvironment:i.teaserEnvironment}),n===gn[en]&&(o={...o,errorMessage:t.monetization.error.message}),n===gn[Jt]&&(o="PlaylistHiddenError"===t.player.error.name?{...o,eventName:"Integration Hidden",reason:t.player.error.code}:{...o,errorMessage:t.player.error.message,errorCode:t.player.error.code,errorName:t.player.error.name}),n===gn[Qt]&&(o={...o,reason:t.integration.reason}),n===gn[on]&&(o={...o,cfConsentStringMd5:t.environment.consentData.cacheFriendlyConsentStringMd5,adWaterfallLength:t.monetization.adWaterfallLength,reason:t.monetization.reason,consentUpdated:t.environment.consentData.consentUpdated,userIdNames:Object.keys(t.environment.userIds||{})}),function(e,t,n){const i=function(e,t){let n=hn[sn].properties;e===an&&(n=[...hn[sn].properties,...hn[an].properties]);e===ln&&(n=[...hn[sn].properties,...hn[an].properties,...hn[ln].properties]);e===cn&&(n=[...hn[sn].properties,...hn[an].properties,...hn[cn].properties],["PlaylistItem Begin","PlaylistItem Monetization Begin"].indexOf(t)>-1&&(n=[...n,...hn[dn].properties]));e===un&&(n=[...hn[sn].properties,...hn[an].properties,...hn[cn].properties,...hn[un].properties]);e===pn&&(n=[...hn[sn].properties,...hn[an].properties,...hn[cn].properties,...hn[un].properties,...hn[pn].properties],"Ad Begin"===t&&(n=[...n,...hn[dn].properties]));e===mn&&(n=[...hn[sn].properties,...hn[an].properties,...hn[cn].properties,...hn[un].properties,...hn[mn].properties]);return n}(e,n),r={};return i.forEach((e=>{void 0!==t[e]&&(r[e]=t[e])})),r}(r,o,n)}function bn(e,t,n){const{ad:i,content:r,integration:o,playlistContext:s,environment:a,abTest:l,player:c,runtime:d,config:u}=e,{id:p,type:m,playlistId:h,isRecommendation:g=!1,contentSessionId:y,duration:E,sources:_=[],contentOwner:{id:f}={}}=r,{abExperiments:I}=l,{salesHouseId:b,lineItemId:v}=i,{integrationId:T,integrationSessionId:A,playlistId:w,playlistItemBeginCount:P}=o,{publisherId:N,publishingMode:S,playlistIndex:C,userCountryCode:O,product:x,productFormat:R,articleBrandSafetyRisk:L}=s,{integrationVersion:k,pageUrl:U,pageSecondLevelDomain:M,visibility:D,origin:V,isAdBlocker:B,autoplayPolicy:H,width:j,height:Y,positionOnPage:G,positionInArticle:F,variantId:z,placement:W,otherIntegrations:$,presentationMode:K,cpm:q,consentData:{gdprApplies:Z,consentString:J,tcfVersion:X,consentStatus:Q,consentUpdated:ee,cmpId:te,cmpName:ne,vendorAcceptance:ie,vendorListVersion:re,hasPurpose1Consent:oe,missingVendorsCount:se,minimalVendorConsents:ae,minimalVendorLegitimateInterests:le,purposeConsents:ce,purposeLegitimateInterests:de,glomexVendor:ue}={},userIds:{glomexId:pe={}}={}}=a,me=function({player:e}){switch(e.wasMutedAdChainSet){case!0:return En;case!1:return _n;default:return}}(e),he=Date.now(),ge=Number.isNaN(he-e.integration.createdAt)?void 0:he-e.integration.createdAt,{startBehavior:ye}=d,{startBehavior:Ee}=u,{muted:_e,volume:fe,adSdk:Ie}=c,be=m&&0===m.indexOf("dynamic-content")?(_.find((e=>"text/html"===e.mimetype))||{}).url:void 0;let ve;const Te=n&&n.teaserContentId;return Array.isArray(I)&&I.length>0&&(ve={},I.filter((({type:e,identifier:t})=>"content"!==e||(t===p||t===Te))).forEach((({name:e,selectedVariant:t})=>{ve[e]=t}))),{clientName:"embed",contentId:p,integrationId:T,publisherId:N,contentOwnerId:f,playerAbExperiments:ve,publishingMode:S,playlistIndex:C,duration:E,playlistId:h||w||fn,presentationMode:K,geoLocation:O||fn,autoplayPolicy:H,isRecommendation:g,playerVersion:k,adBlockerActive:B,href:U,domain:M,salesHouseId:b||fn,lineItemId:v||fn,contentSessionId:y,uniqueTrackId:t("unique"),integrationSessionId:A,visibility:D,origin:V,timeSinceIntegrationCreate:ge,width:j,height:Y,positionOnPage:G,positionInArticle:F,variantId:z,placement:W,mutedChain:me,muted:_e,volume:fe,impressionCount:e.integration.impressionCount,startBehaviorRuntime:ye,startBehaviorConfig:Ee,contentType:m,dynamicContentUrl:be,adSdk:Ie,productName:x,productFormat:R,gdprApplies:Z,consentString:J,tcfVersion:X,consentStatus:Q,consentUpdated:ee,cmpId:te,cmpName:ne,vendorAcceptance:ie,vendorListVersion:re,hasPurpose1Consent:oe,missingVendorsCount:se,vendorConsents:ae,vendorLegitimateInterests:le,glomexVendor:ue,userId:pe.id,purposeConsents:An(ce),purposeLegitimateInterests:An(de),otherIntegrationsCount:($||[]).length,playlistItemBeginCount:P,integrationCpm:q,articleBrandSafetyRisk:L,product:"MES"}}function vn(e){return{adBreakIndex:e.ad.breakIndex,adBreakName:e.ad.breakName,adPositionIndex:e.ad.positionIndex,adMimetype:e.ad.mimetype,adUrl:e.ad.adUrl,adId:e.ad.id,adWaterfallIndex:e.ad.waterfallIndex,adWaterfallLength:e.ad.waterfallLength,adDuration:e.ad.duration,adIsLinear:e.ad.isLinear,adNonLinearWidth:e.ad.nonLinearWidth,adNonLinearHeight:e.ad.nonLinearHeight}}function Tn(e,t){let n;return t===gn[tn]&&(n=e.content),t===gn[rn]&&(n=e.integration),{contentViewableTime:n.contentViewableTime,contentNonviewableTime:n.contentNonviewableTime,contentAudibleTime:n.contentAudibleTime,contentNonaudibleTime:n.contentNonaudibleTime,contentTotalTime:n.contentTotalTime,adViewableTime:n.adViewableTime,adNonviewableTime:n.adNonviewableTime,adTotalTime:n.adTotalTime,timeToPlaylistItemPlay:n.timeToPlaylistItemPlay}}function An(e={}){return Object.keys(e).map((e=>Number(e))).filter((t=>!Number.isNaN(t)&&e[t]))}let wn=!1,Pn=!1,Nn=!1;function Sn({global:e}){return t=>n=>i=>{const r=n(i),s=t.getState();let a=!1;try{a=void 0!==e.history.state&&e.history.replaceState&&"ie"!==s.environment.browserType}catch(e){}const{environment:l,integration:c}=s,{amzn_debug_mode:d}=l.pageUrlProps||{};let u="";"stage"===c.environment&&(u="@stage");const p={origin:l.origin,pageUrl:l.pageUrl,integrationId:`${c.integrationId}${u}`,playlistId:c.playlistId,playlistIndex:c.playlistIndex,title:c.title,poster:c.poster,amzn_debug_mode:d};if(i.type===Kt.INTEGRATION_SETUP&&a&&function(e,t){const n=k(t.location.search);return!Object.keys(e).every((t=>String(e[t])===String(n[t])))}(p,e)&&e.top!==e&&e.location.pathname&&e.location.pathname.match(/iframe-player\.html$/)){const t=o(e.location.pathname,p);return e.history.replaceState({},e.title,`${t}${e.location.hash}`)}return r}}var Cn=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===On}(e)}(e)};var On="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function xn(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Mn((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Rn(e,t,n){return e.concat(t).map((function(e){return xn(e,n)}))}function Ln(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function kn(e,t){try{return t in e}catch(e){return!1}}function Un(e,t,n){var i={};return n.isMergeableObject(e)&&Ln(e).forEach((function(t){i[t]=xn(e[t],n)})),Ln(t).forEach((function(r){(function(e,t){return kn(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(kn(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return Mn;var n=t.customMerge(e);return"function"==typeof n?n:Mn}(r,n)(e[r],t[r],n):i[r]=xn(t[r],n))})),i}function Mn(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Rn,n.isMergeableObject=n.isMergeableObject||Cn,n.cloneUnlessOtherwiseSpecified=xn;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):Un(e,t,n):xn(t,n)}Mn.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Mn(e,n,t)}),{})};var Dn=e(Mn);const Vn=967;const Bn=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:jt.INIT}))throw new Error(Vt(12));if(void 0===n(void 0,{type:jt.PROBE_UNKNOWN_ACTION()}))throw new Error(Vt(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},a=0;a<s.length;a++){var l=s[a],c=n[l],d=e[l],u=c(d,t);if(void 0===u)throw t&&t.type,new Error(Vt(14));r[l]=u,i=i||u!==d}return(i=i||s.length!==Object.keys(e).length)?r:e}}({config:function(e={},{type:t,payload:n}={}){const i=e.ui||{};switch(t){case Kt.CONFIG_CREATE:return{...n,originalConfig:n};case Kt.CONFIG_UPDATE:return{...Dn(e,n),originalConfig:e.originalConfig};case Kt.CONFIG_RESTORE:return{...e.originalConfig,originalConfig:e.originalConfig};case Kt.PLAYLIST_CREATE:return{...e,ui:{...i,contentPreview:i.contentPreview&&!n.isPhaistosTraffic}};case Kt.INTEGRATION_SETUP:return{};default:return e}},runtime:function(e={},{type:t,payload:n}={}){switch(t){case Kt.RUNTIME_CREATE:case Kt.RUNTIME_SETBEHAVIOR:case Kt.RUNTIME_UPDATE:case Kt.RUNTIME_SETENDSCREENCONTINUATIONBEHAVIOR:case Kt.RUNTIME_UPDATESTARTBEHAVIOR:return{...e,...n};default:return e}},environment:function(e={},{type:t,payload:n}={}){switch(t){case Kt.ENVIRONMENT_CREATE:return{...e,...n,visibility:e.visibility};case Kt.ENVIRONMENT_UPDATEPRESENTATIONMODE:return{...e,...n};case Kt.PLAYER_INFO:return n.isFullscreenEnabled&&e.supportedPresentationModes&&-1===e.supportedPresentationModes.indexOf("fullscreen")?{...e,supportedPresentationModes:[...e.supportedPresentationModes,"fullscreen"]}:!n.isFullscreenEnabled&&e.supportedPresentationModes&&e.supportedPresentationModes.indexOf("fullscreen")>-1?{...e,supportedPresentationModes:(e.supportedPresentationModes||[]).filter((e=>"fullscreen"!==e))}:e;case Kt.RUNTIME_SETBEHAVIOR:return n.dockEnabled?e:{...e,supportedPresentationModes:(e.supportedPresentationModes||[]).filter((e=>"dock"!==e))};case Kt.ENVIRONMENT_UPDATEORIGIN:case Kt.ENVIRONMENT_UPDATEDIMENSIONS:case Kt.ENVIRONMENT_CHANGEVISIBILITY:case Kt.ENVIRONMENT_FOUNDADBLOCKER:case Kt.ENVIRONMENT_RESIZE:case Kt.ENVIRONMENT_AUTOPLAYPOLICY:return{...e,...n};case Kt.ENVIRONMENT_CONSENTDATA:{const{vendorConsents:t}=n.consentData,i=e.userIds||{},r={};Object.values(i).forEach((e=>{t&&t[e.gvlId]&&t[967]&&(r[e.name]={...e})}));const o=Object.values(r).map((({id:e,source:t,additionalUids:n,ext:i,atype:r})=>({source:t,uids:[{id:e,atype:r,ext:i},...n]})));return{...e,consentData:{...e.consentData,...n.consentData},userIds:r,userIdsAsEids:o}}case Kt.CONFIG_UPDATE:return{...e,enabledUserIdNames:n.enabledUserIdNames};case Kt.ENVIRONMENT_USERIDS:{const{vendorConsents:t}=e.consentData||{},i=(n.userIds||[]).filter((n=>t&&t[n.gvlId||Vn]&&t[967]&&n.id&&n.name&&n.source&&(!e.enabledUserIdNames||e.enabledUserIdNames.indexOf(n.name)>-1))).reduce(((e,{name:t,id:n,source:i,additionalUids:r=[],gvlId:o=967,atype:s=1,ext:a={}})=>(e[t]={name:t,id:n,source:i,gvlId:o,atype:s,ext:a,additionalUids:r},e)),{}),r={...e,userIds:{...e.userIds,...i}};return r.userIds.glomexId&&!r.userIds.sharedId&&(r.userIds.sharedId={...r.userIds.glomexId,name:"sharedId",source:"pubcid.org",ext:{}}),r.userIdsAsEids=Object.values(r.userIds).map((({id:e,source:t,additionalUids:n,ext:i,atype:r})=>({source:t,uids:[{id:e,atype:r,ext:i},...n]}))),r}case Kt.ENVIRONMENT_RESETUSERIDS:return{...e,userIds:{},userIdsAsEids:[]};case Kt.PLAYLISTITEMMONETIZATION_BEGIN:return{...e,consentData:{...e.consentData,...n.consent}};default:return e}},integration:function(e={},{type:t,payload:n}={}){switch(t){case Kt.INTEGRATION_SETUP:return{...n,allowTeaserExperiments:!n.poster&&!n.title&&!n.teaserVideo};case Kt.INTEGRATION_UNLOAD:return{...e,...n,windowUnloaded:!0};case Kt.INTEGRATION_CREATE:case Kt.INTEGRATION_IMPRESSION:case Kt.INTEGRATION_TELEMETRY:case Kt.INTEGRATION_PASSBACK:return{...e,...n};case Kt.PLAYLISTITEM_BEGIN:return{...e,playlistItemBeginCount:e.playlistItemBeginCount+1};default:return e}},playlist:function(e=[],{type:t,payload:n}={}){switch(t){case Kt.PLAYLIST_ADD:return[...e,{...n}];case Kt.PLAYLIST_RESET:case Kt.INTEGRATION_SETUP:return[];default:return e}},playlistContext:function(e={},{type:t,payload:n}={}){switch(t){case Kt.PLAYLIST_CREATE:return{...n};case Kt.PLAYLIST_SETINDEX:return{...e,playlistIndex:n,lastPlaylistIndex:void 0};case Kt.PLAYLISTITEM_STOP:return{...e,playlistIndex:void 0,lastPlaylistIndex:e.playlistIndex};case Kt.INTEGRATION_SETUP:return{};default:return e}},player:function(e={},{type:t,payload:n}={}){switch(t){case Kt.PLAYER_LOAD:return{...e,...n};case Kt.INTEGRATION_ABORT:return{...e,error:n,isBuffering:!1,isPlaying:!1,isPlaybackStarted:!1};case Kt.PLAYER_PLAY:return{...e,...n,isPlaybackStarted:!0};case Kt.CONTENT_PAUSEREQUESTED:case Kt.PLAYER_PLAYING:return{...e,isPlaying:!0};case Kt.PLAYER_PAUSE:return{...e,...n,isPlaying:!1,isPlaybackStarted:!1};case Kt.AD_TIMEUPDATE:return{...e,...n,isPlaying:!0,isPlaybackStarted:!0};case Kt.CONTENT_TIMEUPDATE:case Kt.PLAYER_VOLUMECHANGE:case Kt.PLAYER_INFO:case Kt.PLAYER_SETADCHAIN:return{...e,...n};case Kt.PLAYER_BUFFERINGBEGIN:return{...e,isBuffering:!0};case Kt.PLAYER_BUFFERINGCOMPLETE:return{...e,isBuffering:!1};case Kt.PLAYLISTITEM_SELECT:return{...e,isLinearAdPlaying:!1,isCompleted:!1,contentCurrentTime:0,contentWallClockTime:0,isBuffering:!1,adCurrentTime:void 0,isPlaying:!1,isPlaybackStarted:e.isPlaybackStarted&&!e.isPlaying,error:void 0};case Kt.PLAYLISTITEM_COMPLETE:return{...e,isCompleted:!0};case Kt.PLAYLISTITEM_STOP:return{...e,isPlaying:!1,isPlaybackStarted:!1};case Kt.CONTENT_BEGIN:return{...e,isPlaying:!0,isPlaybackStarted:!0};case Kt.AD_COMPLETE:case Kt.AD_SKIP:return{...e,isPlaying:!1,isLinearAdPlaying:!1,adCurrentTime:void 0,isPlaybackStarted:!1};case Kt.AD_BEGIN:return{...e,isPlaying:!0,isLinearAdPlaying:n.isLinear,adCurrentTime:n.isLinear?0:void 0};case Kt.UI_SEEK:return{...e,contentCurrentTime:n.currentTime};default:return e}},content:function(e={},{type:t,payload:n}={}){switch(t){case Kt.PLAYLISTITEM_SELECT:return{...n};case Kt.CONTENT_TELEMETRY:case Kt.PLAYLISTITEM_BEGIN:return{...e,...n};case Kt.PLAYLIST_RESET:case Kt.INTEGRATION_SETUP:return{};case Kt.CONTENT_USERINTERACTION:return{...e,...n};default:return e}},monetization:function(e={},{type:t,payload:n}={}){switch(t){case Kt.PLAYLISTITEM_SELECT:return{};case Kt.PLAYLISTITEMMONETIZATION_UPDATEBIDS:return{...e,...n};case Kt.PLAYLISTITEMMONETIZATION_ERROR:return{...e,error:n};case Kt.PLAYLISTITEMMONETIZATION_BEGIN:return{...e,adWaterfallLength:n.adWaterfallLength,...n.reason?{reason:n.reason}:{}};default:return e}},abTest:function(e={},{type:t,payload:n}={}){return t===Kt.AB_ASSIGN?{...e,...n}:e},ad:function(e={},{type:t,payload:n}={}){switch(t){case Kt.AD_SHOWCOMPANION:return{...e,activeCompanions:[...e.activeCompanions||[],n.activeCompanion]};case Kt.AD_HIDECOMPANION:return{...e,activeCompanions:(e.activeCompanions||[]).filter((e=>e!==n.activeCompanion))};case Kt.AD_TIMEUPDATE:return{...e,duration:n.adDuration};case Kt.AD_CREATE:return{...n};case Kt.AD_BEGIN:case Kt.AD_CLICK:case Kt.AD_SKIP:return{...e,...n};case Kt.AD_VIEWABLE:return{...e,viewable:[...e.viewable||[],n]};case Kt.INTEGRATION_SETUP:case Kt.PLAYLIST_RESET:case Kt.PLAYLISTITEM_SELECT:return{};default:return e}},ui:function(e={},{type:t,payload:n}={}){switch(t){case Kt.PLAYER_PLAY:case Kt.CONTENT_PAUSEREQUESTED:return{...e};case Kt.AD_IMPRESSION:return{...e,composition:n.isLinear?"ad":e.defaultContentComposition||"content"};case Kt.PLAYLISTITEM_BEGIN:return{...e,composition:e.composition};case Kt.AD_SKIP:case Kt.CONTENT_RESUME:case Kt.CONTENT_BEGIN:return{...e,composition:e.defaultContentComposition||"content"};case Kt.UI_SEEK:return{...e,...n};case Kt.UI_SEEKSTART:return{...e,isSeeking:!0};case Kt.UI_SEEKEND:case Kt.PLAYLISTITEM_SELECT:return{...e,isSeeking:!1};case Kt.INTEGRATION_ABORT:return{...e,composition:"error"};case Kt.UI_CHANGECOMPOSITION:return{...e,...n};case Kt.UI_HIDE:return{...e,hidden:!0};case Kt.UI_SHOW:return{...e,hidden:!1};case Kt.PLAYLISTITEM_STOP:return{...e,defaultContentComposition:"content",composition:"teaser"};case Kt.ENVIRONMENT_CHANGEVISIBILITY:return{...e,visible:n.visibility>=.5};case Kt.UI_DISABLEBRANDING:return{...e,brandingDisabled:!0};case Kt.UI_SETDEFAULTCONTENTCOMPOSITION:return{...e,composition:"content"===e.composition&&e.composition!==n.defaultContentComposition?n.defaultContentComposition:e.composition,defaultContentComposition:n.defaultContentComposition};default:return e}}}),Hn=(e,t)=>t.type===Kt.RESET?{...Bn(void 0,t),environment:e.environment}:Bn(e,t);var jn=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},Yn=e(jn);function Gn(e){return"function"==typeof e}function Fn(e){return"string"==typeof e}var zn="/",Wn="||";function $n(e){return e}function Kn(e){return null===e}function qn(e,t,n){void 0===t&&(t=$n),Yn(Gn(t)||Kn(t),"Expected payloadCreator to be a function, undefined or null");var i=Kn(t)||t===$n?$n:function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e instanceof Error?e:t.apply(void 0,[e].concat(i))},r=Gn(n),o=e.toString(),s=function(){var t=i.apply(void 0,arguments),o={type:e};return t instanceof Error&&(o.error=!0),void 0!==t&&(o.payload=t),r&&(o.meta=n.apply(void 0,arguments)),o};return s.toString=function(){return o},s}function Zn(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jn(e){return Array.isArray(e)}var Xn=function(e){return Qn.test(e)?e.toLowerCase():ei.test(e)?(function(e){return e.replace(ni,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():ti.test(e)?function(e){return e.replace(ii,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()},Qn=/\s/,ei=/(_|-|\.|:)/,ti=/([a-z][A-Z]|[A-Z][a-z])/;var ni=/[\W_]+(.|$)/g;var ii=/(.)([A-Z]+)/g;var ri=Xn;var oi=function(e){return ri(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()};var si=e((function(e){return oi(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))})),ai="/";function li(e){return-1===e.indexOf(ai)?si(e):e.split(ai).map(si).join(ai)}function ci(e,t){return e.reduce((function(e,n){return t(e,n)}),{})}function di(e){return"undefined"!=typeof Map&&e instanceof Map}var ui,pi=(ui=Zn,function e(t,n,i,r){var o=void 0===n?{}:n,s=o.namespace,a=void 0===s?zn:s,l=o.prefix;return void 0===i&&(i={}),void 0===r&&(r=""),function(e){if(di(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}(t).forEach((function(n){var o,s,c=function(e){return r||!l||l&&new RegExp("^"+l+a).test(e)?e:""+l+a+e}(function(e){var t;if(!r)return e;var n=e.toString().split(Wn),i=r.split(Wn);return(t=[]).concat.apply(t,i.map((function(e){return n.map((function(t){return""+e+a+t}))}))).join(Wn)}(n)),d=(o=n,di(s=t)?s.get(o):s[o]);ui(d)?e(d,{namespace:a,prefix:l},i,c):i[c]=d})),i});function mi(e,t){var n=void 0===t?{}:t,i=n.namespace,r=void 0===i?zn:i,o=n.prefix;function s(t,n,i){var r=li(i.shift());0===i.length?n[r]=e[t]:(n[r]||(n[r]={}),s(t,n[r],i))}var a={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=o?e.replace(""+o+r,""):e;return s(e,a,t.split(r))})),a}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){gi(e,t,n[t])}))}return e}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=Zn((r=n)[r.length-1])?n.pop():{};return Yn(n.every(Fn)&&(Fn(e)||Zn(e)),"Expected optional object followed by string action types"),Fn(e)?_i([e].concat(n),o):hi({},function(e,t){var n=pi(e,t);return mi(Ei(n),t)}(e,o),_i(n,o))}function Ei(e,t){var n=void 0===t?{}:t,i=n.prefix,r=n.namespace,o=void 0===r?zn:r;return ci(Object.keys(e),(function(t,n){var r,s=e[n];Yn(function(e){if(Gn(e)||null==e)return!0;if(Jn(e)){var t=e[0],n=void 0===t?$n:t,i=e[1];return Gn(n)&&Gn(i)}return!1}(s),"Expected function, undefined, null, or array with payload and meta functions for "+n);var a=i?""+i+o+n:n,l=Jn(s)?qn.apply(void 0,[a].concat(s)):qn(a,s);return hi({},t,((r={})[n]=l,r))}))}function _i(e,t){var n=Ei(ci(e,(function(e,t){var n;return hi({},e,((n={})[t]=$n,n))})),t);return ci(Object.keys(n),(function(e,t){var i;return hi({},e,((i={})[li(t)]=n[t],i))}))}const{init:fi}=Z,Ii=qn(Kt.PLAYLISTITEM_BEGIN),bi=qn(Kt.PLAYLISTITEM_SELECT),vi=qn(Kt.PLAYLISTITEM_COMPLETE),Ti=({createUuid:e,btoa:t})=>{const n=yi({[Kt.RESET]:()=>({}),[Kt.RUNTIME_CREATE]:()=>({activated:!1}),[Kt.RUNTIME_SETBEHAVIOR]:({dockEnabled:e,startBehavior:t,startVolume:n,shouldAutoplay:i,shouldMute:r,preloadAds:o,autoplayWhenAd:s})=>({dockEnabled:e,startBehavior:t,startVolume:n,shouldAutoplay:i,shouldMute:r,preloadAds:o,autoplayWhenAd:s}),[Kt.RUNTIME_UPDATE]:({startBehavior:e,endscreenContinuationBehavior:t,activated:n})=>({...void 0!==e&&{startBehavior:e},...void 0!==t&&{endscreenContinuationBehavior:t},...void 0!==n&&{activated:n}}),[Kt.ENVIRONMENT_CREATE]:({pageSessionId:e,variantId:t,pageStartTime:n,setupConfig:i,iframeStartTime:r,pageUrl:o,pageOrigin:s,pageUrlProps:a={},pageSecondLevelDomain:l,pageHostname:c,origin:d,integrationVersion:u,referrer:p,browserType:m,osMajorVersion:h,device:g,abSlot:y,renderMode:E,connection:_,language:f,otherIntegrations:I,externalAbDetected:b=!1,cpm:v,presentationMode:T,supportedPresentationModes:A,inlineSettings:w,placement:P,hourOfDay:N,dayOfMonth:S,dayOfWeek:C,pageTitle:O,pageDescription:x,pageLanguage:R,pagePublishedTime:L})=>({abSlot:y,pageSessionId:e,variantId:t,placement:P,pageStartTime:n,setupConfig:i,iframeStartTime:r,pageUrl:o,pageOrigin:s,pageUrlProps:a,pageSecondLevelDomain:l,pageHostname:c,origin:d,renderMode:E,integrationVersion:u,referrer:p,browserType:m,osMajorVersion:h,inlineSettings:w,visibility:void 0,device:g,connection:_,consentData:{},userIds:{},userIdsAsEids:[],language:f,otherIntegrations:I,externalAbDetected:b,cpm:v,presentationMode:T,presentationModes:{initial:T,intermediate:void 0,final:void 0},supportedPresentationModes:A,firstVisibleMode:T,positionOnPage:"unknown",positionInArticle:"unknown",hourOfDay:N,dayOfMonth:S,dayOfWeek:C,pageTitle:O,pageDescription:x,pageLanguage:R,pagePublishedTime:L}),[Kt.ENVIRONMENT_UPDATEORIGIN]:({origin:e})=>({origin:e}),[Kt.ENVIRONMENT_UPDATEDIMENSIONS]:({top:e,left:t,pageWidth:n,pageHeight:i,viewportHeight:r,viewportWidth:o,positionOnPage:s,positionInArticle:a})=>({top:e,left:t,pageWidth:n,pageHeight:i,viewportHeight:r,viewportWidth:o,positionOnPage:s,positionInArticle:a}),[Kt.ENVIRONMENT_FOUNDADBLOCKER]:()=>({isAdBlocker:!0}),[Kt.ENVIRONMENT_RESIZE]:({width:e,height:t})=>({width:e,height:t}),[Kt.AB_ASSIGN]:({abExperiments:e})=>({abExperiments:e}),[Kt.ENVIRONMENT_AUTOPLAYPOLICY]:e=>({autoplayPolicy:e}),[Kt.ENVIRONMENT_CONSENTDATA]:({gdprApplies:e,consentString:t,cacheFriendlyConsentString:n,cacheFriendlyConsentStringMd5:i,tcfVersion:r,consentStatus:o,eventStatus:s,cmpId:a,policyVersion:l,vendorListVersion:c,hasPurpose1Consent:d,vendorConsents:u,vendorLegitimateInterests:p,purposeConsents:m,purposeLegitimateInterests:h,consentUpdated:g,glomexVendor:y="unknown"})=>({consentData:{gdprApplies:e,consentString:t,cacheFriendlyConsentString:n,cacheFriendlyConsentStringMd5:i,tcfVersion:r,consentStatus:o,eventStatus:s,cmpId:a,policyVersion:l,vendorListVersion:c,hasPurpose1Consent:d,vendorConsents:u,vendorLegitimateInterests:p,purposeConsents:m,purposeLegitimateInterests:h,consentUpdated:g,glomexVendor:y}}),[Kt.ENVIRONMENT_USERIDS]:(e=[])=>({userIds:e}),[Kt.ENVIRONMENT_RESETUSERIDS]:()=>({}),[Kt.INTEGRATION_SETUP]:({integrationId:t="",playlistId:n,playlistIndex:i,aspectRatio:r,title:o,poster:s,teaserVideo:a})=>{const l=t.split("@");return{integrationSessionId:e("integration"),integrationId:l[0]||void 0,environment:l[1]||"prod",playlistId:n,title:o,poster:s,teaserVideo:a,playlistIndex:Number(i)||0,aspectRatio:r,impressionCount:0,windowUnloaded:!1,playlistItemBeginCount:0}},[Kt.INTEGRATION_CREATE]:()=>({createdAt:Date.now()}),[Kt.INTEGRATION_TELEMETRY]:({contentViewableTime:e,contentNonviewableTime:t,contentAudibleTime:n,contentNonaudibleTime:i,contentTotalTime:r,adViewableTime:o,adNonviewableTime:s,adTotalTime:a})=>({contentViewableTime:e,contentNonviewableTime:t,contentAudibleTime:n,contentNonaudibleTime:i,contentTotalTime:r,adViewableTime:o,adNonviewableTime:s,adTotalTime:a}),[Kt.TEASER_IMPRESSION]:({teaserEnvironment:e,teaserContentId:t})=>({teaserEnvironment:e,teaserContentId:t}),[Kt.TEASER_CLICK]:({teaserEnvironment:e,teaserContentId:t})=>({teaserEnvironment:e,teaserContentId:t}),[Kt.CONFIG_CREATE]:({id:e,name:t,colors:n,sticky:i,playOnVisibility:r,enableRevolverPlay:o,enableRecommendations:s=!0,startBehavior:a,startVolume:l,ui:c,ad:d,enableEarlyRecommendations:u,enableBranding:p,contentPlaybackRate:m,revolverPlayTime:h,autoplayContentPlaybackRate:g,enableContentFrequencyCapping:y,autoplayRevolverPlayTime:E,earlyRecommendations:_,loadThirdPartyOnlyIfConsent:f,revolverPlayWhenAd:I,noConsentNoAutoplay:b,enabledUserIdNames:v,articleAugmentation:T,preferMp4:A})=>({id:e,name:t,colors:n,sticky:i,playOnVisibility:r,startBehavior:a,startVolume:l,enableRevolverPlay:o,enableRecommendations:s,enableEarlyRecommendations:u,enableBranding:p,ui:c,ad:d,earlyRecommendations:_,loadThirdPartyOnlyIfConsent:f,revolverPlayWhenAd:I,contentPlaybackRate:m,revolverPlayTime:Number.isNaN(Number(h))?8e3:Number(h),autoplayContentPlaybackRate:g,enableContentFrequencyCapping:y,autoplayRevolverPlayTime:Number.isNaN(Number(E))?4e3:Number(E),noConsentNoAutoplay:b,enabledUserIdNames:v,articleAugmentation:T,preferMp4:A}),[Kt.CONFIG_UPDATE]:e=>e,[Kt.CONFIG_RESTORE]:()=>({}),[Kt.PLAYLIST_ADD]:({id:e,playlistId:t,duration:n,title:i,description:r,language:o,poster:s,aspectRatio:a,genre:l,sources:c=[],thumbnail:d,error:u,showProductPlacement:p=!1,isRecommendation:m=!1,taxonomies:h=[],labels:g=[],iabCategories:y=[],oldIabCategories:E=[],show:_={},channel:f={},category:I={},contentOwner:b={},keywords:v,teaser:T,fskAgeRating:A,ageRatingDetails:w,portalReleaseDate:P,portalEndDate:N,regionsAllowed:S,tracking:C={},branding:O,livestream:x,type:R,drm:L,experiments:k})=>({id:e,playlistId:t,duration:n,title:i,description:r,language:o,poster:s,aspectRatio:a,teaser:T,sources:c,thumbnail:d,showProductPlacement:p,isRecommendation:m,taxonomies:h,labels:g,iabCategories:y,oldIabCategories:E,show:_,channel:f,genre:l,category:I,contentOwner:b,error:u,keywords:v,fskAgeRating:A,ageRatingDetails:w,portalReleaseDate:P,portalEndDate:N,regionsAllowed:S,tracking:C,branding:O,livestream:x,type:R,drm:L,experiments:k}),[Kt.PLAYLIST_CREATE]:({id:e,publisherId:t,publisherName:n,publisherCountryCode:i,partnerId:r,parentId:o,userCountryCode:s,publishingMode:a="normal",playlistIndex:l,product:c,productFormat:d,contextualBackfill:u,articleBrandSafetyRisk:p})=>({id:e,publisherId:t,publisherName:n,publisherCountryCode:i,isPhaistosTraffic:"t-bip0op7p8x55"===r||"t-bip0op7p8x55"===t,partnerId:r,parentId:o,userCountryCode:s,publishingMode:a,playlistIndex:l,product:c,productFormat:d,contextualBackfill:u,articleBrandSafetyRisk:p}),[Kt.PLAYLIST_RESET]:()=>{},[Kt.PLAYLIST_SETINDEX]:e=>e,[Kt.PLAYLISTITEM_BEGIN]:()=>{},[Kt.PLAYLISTITEM_READY]:()=>{},[Kt.PLAYLISTITEM_STOP]:()=>{},[Kt.PLAYLISTITEMMONETIZATION_ERROR]:e=>e,[Kt.PLAYLISTITEMMONETIZATION_BEGIN]:({consent:{cmpId:e,cmpName:t="unknown",vendorListVersion:n,vendorAcceptance:i="unknown",hasPurpose1Consent:r,missingVendorsCount:o,vendorConsents:s,vendorLegitimateInterests:a}={},adWaterfallLength:l,reason:c})=>({consent:{cmpId:e,cmpName:t,vendorListVersion:n,vendorAcceptance:i,hasPurpose1Consent:r,missingVendorsCount:o,minimalVendorConsents:s,minimalVendorLegitimateInterests:a},adWaterfallLength:l,reason:c}),[Kt.PLAYER_LOAD]:()=>({isPlaying:!1,isLinearAdPlaying:!1,wasMutedAdChainSet:!1,adSdk:void 0,contentCurrentTime:void 0,contentWallClockTime:void 0,adCurrentTime:void 0,muted:!1,volume:1}),[Kt.PLAYER_SETADCHAIN]:({wasMutedAdChainSet:e})=>({wasMutedAdChainSet:e}),[Kt.PLAYER_READY]:()=>({}),[Kt.PLAYER_INFO]:({adSdk:e,isFullscreenEnabled:t,usesVideoFullscreen:n})=>({adSdk:e,isFullscreenEnabled:t,usesVideoFullscreen:n}),[Kt.INTEGRATION_ABORT]:e=>e,[Kt.INTEGRATION_UNLOAD]:()=>({}),[Kt.INTEGRATION_PASSBACK]:({reason:e})=>({reason:e}),[Kt.INTEGRATION_ADAVAILABLE]:()=>({}),[Kt.PLAYER_PLAY]:({byUser:e})=>({lastPlayByUser:e}),[Kt.PLAYER_PLAYING]:()=>({}),[Kt.PLAYER_PAUSE]:({byUser:e})=>({lastPauseByUser:e}),[Kt.PLAYER_BUFFERINGBEGIN]:()=>({}),[Kt.PLAYER_BUFFERINGCOMPLETE]:()=>({}),[Kt.CONTENT_PAUSEREQUESTED]:()=>({}),[Kt.CONTENT_USERINTERACTION]:()=>({userInteracted:!0}),[Kt.CONTENT_RESUME]:()=>({}),[Kt.CONTENT_BEGIN]:()=>({}),[Kt.CONTENT_COMPLETE]:()=>({}),[Kt.CONTENT_TELEMETRY]:({contentViewableTime:e,contentNonviewableTime:t,contentAudibleTime:n,contentNonaudibleTime:i,contentTotalTime:r,adViewableTime:o,adNonviewableTime:s,adTotalTime:a,timeToPlaylistItemPlay:l})=>({contentViewableTime:e,contentNonviewableTime:t,contentAudibleTime:n,contentNonaudibleTime:i,contentTotalTime:r,adViewableTime:o,adNonviewableTime:s,adTotalTime:a,timeToPlaylistItemPlay:l}),[Kt.CONTENT_TIMEUPDATE]:({currentTime:e,wallClockTime:t})=>({contentCurrentTime:e,contentWallClockTime:t,adCurrentTime:void 0}),[Kt.AD_TIMEUPDATE]:({currentTime:e,duration:t})=>({adCurrentTime:e,adDuration:t}),[Kt.AD_CLICK]:({clickTarget:e})=>({clickTarget:e}),[Kt.AD_SKIP]:()=>({}),[Kt.ADBREAK_READY]:({adsAvailable:e})=>({adsAvailable:e}),[Kt.AD_CREATE]:({positionIndex:t,waterfallIndex:n,waterfallLength:i,adUrl:r,salesHouseId:o,lineItemId:s,salesHouseViewability:a,breakName:l,breakIndex:c,totalAds:d,maxDuration:u})=>({adSessionId:e("ad"),waterfallIndex:n,waterfallLength:i,positionIndex:t,adUrl:r,salesHouseId:o,lineItemId:s,salesHouseViewability:a,error:void 0,viewable:[],activeCompanions:[],breakName:l,breakIndex:c,totalAds:d,maxDuration:u}),[Kt.AD_IMPRESSION]:({isLinear:e})=>({isLinear:e}),[Kt.AD_BEGIN]:({mimetype:e,id:t,duration:n,isLinear:i=!0,nonLinearWidth:r,nonLinearHeight:o,companion:s})=>({mimetype:e,id:t,duration:n,isLinear:i,nonLinearWidth:r,nonLinearHeight:o,companion:s}),[Kt.AD_VIEWABLE]:({strategy:e})=>({strategy:e}),[Kt.AD_COMPLETE]:()=>({}),[Kt.AD_SHOWCOMPANION]:e=>({activeCompanion:e}),[Kt.AD_HIDECOMPANION]:e=>({activeCompanion:e}),[Kt.UI_PLAY]:()=>({}),[Kt.UI_PAUSE]:()=>({}),[Kt.UI_MUTE]:()=>({}),[Kt.UI_UNMUTE]:()=>({}),[Kt.UI_VOLUMECHANGE]:({volume:e})=>({volume:e}),[Kt.UI_SEEKSTART]:()=>({}),[Kt.UI_SEEKEND]:()=>({}),[Kt.UI_ENTERFULLSCREEN]:()=>({}),[Kt.UI_EXITFULLSCREEN]:()=>({}),[Kt.UI_EXITCURRENTPRESENTATIONMODE]:()=>({}),[Kt.UI_ENTERDOCK]:()=>({}),[Kt.UI_ENTERINLINE]:()=>({}),[Kt.UI_ENTERLIGHTBOX]:()=>({}),[Kt.UI_ENTEREXTERNALMODAL]:()=>({}),[Kt.UI_USERSTILLINTERESTED]:()=>({}),[Kt.UI_SEEK]:e=>({currentTime:e}),[Kt.UI_CHANGECOMPOSITION]:({composition:e})=>({composition:e}),[Kt.UI_SETDEFAULTCONTENTCOMPOSITION]:({defaultContentComposition:e})=>({defaultContentComposition:e}),[Kt.UI_HIDE]:()=>({}),[Kt.UI_SHOW]:()=>({}),[Kt.UI_RELOAD]:()=>({}),[Kt.UI_SKIPTOANDPLAY]:({playlistIndex:e,byUser:t})=>({playlistIndex:e,byUser:t}),[Kt.UI_EJECT]:()=>({}),[Kt.UI_RESIZE]:({uiLayer:e,width:t,height:n})=>({uiLayer:e,width:t,height:n}),[Kt.UI_DISABLEBRANDING]:()=>({}),[Kt.UI_TEASERCLICK]:({teaserEnvironment:e,teaserContentId:t})=>({teaserEnvironment:e,teaserContentId:t}),[Kt.UI_TEASERIMPRESSION]:({teaserEnvironment:e,teaserContentId:t})=>({teaserEnvironment:e,teaserContentId:t})},{namespace:"_"});return n.environment.init=fi({actionCreators:n,createUuid:e}),n.playlist.init=({items:e=[],...t})=>i=>{i(n.playlist.reset()),e.forEach((e=>i(n.playlist.add(e)))),i(n.playlist.create(t))},n.environment.changevisibility=({visibility:e})=>(t,i)=>{const r=i();t({type:Kt.ENVIRONMENT_CHANGEVISIBILITY,payload:{visibility:e}}),e>=.5&&(r.environment.visibility<.5||void 0===r.environment.visibility)&&t(n.integration.impression())},n.playlistitemmonetization.updatebids=(e={})=>(n,i)=>{const{content:{iabCategories:r=[],fskAgeRating:{startAge:o}={}}}=i(),s={PublisherProvidedTaxonomySignals:[{taxonomy:"IAB_CONTENT_2_2",values:r.map((e=>String(e)))}],PublisherProvidedStructuredSignals:[{type:"content_rating",single_value:{0:"cr_1",6:"cr_2",12:"cr_3",16:"cr_4",18:"cr_4"}[o]||"cr_4"},{type:"delivery",values:["cd_1"]},{type:"prodq",single_value:"pq_1"}]};n({type:Kt.PLAYLISTITEMMONETIZATION_UPDATEBIDS,payload:{bids:e,ppsj:t(JSON.stringify(s))}})},n.playlist.select=e=>(t,i)=>{const r=i(),o=r.player.muted,s=r.config.ui||{};t(n.player.setadchain({wasMutedAdChainSet:o})),t(n.runtime.update({endscreenContinuationBehavior:o?s.endscreenContinuationBehavior||"gt0":"gte50"}));const a=r.playlist[e],l=r.playlistContext.playlistIndex!==e,c=Boolean(r.config.enableBranding&&a.branding&&a.branding.cutInZoomAssetUrl);a&&(t(n.playlist.setindex(e)),l&&t(n.playlistitem.select({...a,enableBranding:c})))},n.playlistitem.select=({id:t,playlistId:n,duration:i,title:r,description:o,language:s,poster:a,aspectRatio:l,genre:c,thumbnail:d,error:u,sources:p=[],taxonomies:m=[],labels:h=[],iabCategories:g=[],oldIabCategories:y=[],show:E={},channel:_={},category:f={},contentOwner:I={},showProductPlacement:b=!1,isRecommendation:v=!1,keywords:T,teaser:A,fskAgeRating:w,ageRatingDetails:P,portalReleaseDate:N,portalEndDate:S,regionsAllowed:C,tracking:O={},branding:x,livestream:R,enableBranding:L,type:k,drm:U,experiments:M})=>D=>{D(bi({contentSessionId:e("content"),id:t,playlistId:n,duration:i,title:r,description:o,language:s,poster:a,aspectRatio:l,teaser:A,sources:p,thumbnail:d,showProductPlacement:b,isRecommendation:v,taxonomies:m,labels:h,iabCategories:g,oldIabCategories:y,show:{name:E.name||"",id:E.id||""},channel:_,genre:c,category:{name:f.name||"",id:f.id||""},contentOwner:I,error:u,startedByUser:void 0,createdAt:Date.now(),keywords:T,fskAgeRating:w,ageRatingDetails:P,portalReleaseDate:N,portalEndDate:S,regionsAllowed:C,tracking:O,branding:x,livestream:R,enableBranding:L,userInteracted:!1,type:k,drm:U,wasStarted:!1,experiments:M}))},n.playlistitem.begin=({streamType:e,sourceUrl:t})=>(n,i)=>{const{player:{lastPlayByUser:r}}=i();n(Ii({startedByUser:Boolean(r),streamType:e,sourceUrl:t,wasStarted:!0}))},n.playlistitem.complete=()=>e=>{e(vi({}))},n.player.volumechange=({muted:e,volume:t})=>n=>{n({type:Kt.PLAYER_VOLUMECHANGE,payload:{muted:e,volume:t}})},n.integration.impression=()=>(e,t)=>{const n=t(),{impressionCount:i=0}=n.integration;e({type:Kt.INTEGRATION_IMPRESSION,payload:{impressionCount:i+1}})},n.environment.updatepresentationmode=({mode:e,shouldFocus:t=!1,byUser:n=!1})=>(i,r)=>{let{environment:{presentationModes:{initial:o,intermediate:s,final:a},supportedPresentationModes:l}}=r();l=[...l],a=void 0,"dock"!==e&&"lightbox"!==e&&"external-modal"!==e||(s=e),"inline"!==e&&"hidden"!==e||(s=void 0,o=e),"fullscreen"===e&&(a="fullscreen"),"external-modal"===e&&(l=l.filter((e=>-1===["dock","lightbox"].indexOf(e))));let c="inline";"external-modal"===s?c="external-modal":"hidden"===o&&(c="lightbox"),i({type:Kt.ENVIRONMENT_UPDATEPRESENTATIONMODE,payload:{shouldFocus:t,presentationMode:e,presentationModes:{initial:o,intermediate:s,final:a},supportedPresentationModes:l,firstVisibleMode:c,byUser:n}})},n};function Ai(e={}){let t=Ft;const n=function(e){const{referrer:t,window:n}=M(e);return t.indexOf("glomexRedux")>-1?n.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:void 0}(e.global);if(n){const i=function(e){let t=0;try{t=(Number(e.sessionStorage.getItem("glomex-integration-key"))||0)+1,t>99&&(t=1),e.sessionStorage.setItem("glomex-integration-key",t)}catch(e){}return`glomex-integration-${t}`}(e.global);t=n({name:i,features:{pause:!0,dispatch:!0,test:!0},serialize:{options:{error:!0}}})}const i={},r=Yt(Hn,{},t(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(Vt(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=Ft.apply(void 0,o)(n.dispatch),Dt(Dt({},n),{},{dispatch:i})}}}($t.withExtraArgument({...e,getAbSlot:()=>e.generateAbSlot()}),Sn({global:e.global}),e.playerMiddlewareConnector.middleware,function({performanceStopwatches:e}){const t=()=>{e.reset("playlistItem.content"),e.reset("playlistItem.ad"),e.reset("playlistItem.timeToPlay"),Pn=!1};return n=>i=>r=>{const{integration:{playlistItemBeginCount:o,windowUnloaded:s},config:{contentPlaybackRate:a,autoplayContentPlaybackRate:l},content:{wasStarted:c},player:{muted:d,volume:u},runtime:{activated:p}}=n.getState(),m=p?a:l;r.type===Kt.INTEGRATION_SETUP&&(e.prepare("playlistItem.content"),e.prepare("integration.content"),e.prepare("playlistItem.ad"),e.prepare("integration.ad"),e.prepare("playlistItem.timeToPlay"),e.setAudibility({muted:d,volume:u}));const h=i(r);if((r.type===Kt.PLAYLIST_SETINDEX||r.type===Kt.CONTENT_COMPLETE)&&o>0){const{playlistItem:{content:t,ad:i,timeToPlay:o}}=e.calculate();if(Nn)return void(Nn=!1);r.type===Kt.CONTENT_COMPLETE&&(Nn=!0);const s={type:Kt.CONTENT_TELEMETRY,payload:{contentViewableTime:t.viewable*m,contentNonviewableTime:t.nonviewable*m,contentTotalTime:t.total*m,contentAudibleTime:t.audible*m,contentNonaudibleTime:t.nonaudible*m,adViewableTime:i.viewable,adNonviewableTime:i.nonviewable,adTotalTime:i.total,timeToPlaylistItemPlay:o?o.viewable:0}};c&&n.dispatch(s)}if(r.type===Kt.INTEGRATION_UNLOAD){if(s)return;const{playlistItem:t,integration:i}=e.calculate(),{timeToPlay:r}=t,a={type:Kt.INTEGRATION_TELEMETRY,payload:{contentViewableTime:i.content.viewable*m,contentNonviewableTime:i.content.nonviewable*m,contentTotalTime:i.content.total*m,contentAudibleTime:i.content.audible*m,contentNonaudibleTime:i.content.nonaudible*m,adViewableTime:i.ad.viewable,adNonviewableTime:i.ad.nonviewable,adTotalTime:i.ad.total,timeToPlaylistItemPlay:-1}},l={type:Kt.CONTENT_TELEMETRY,payload:{contentViewableTime:t.content.viewable*m,contentNonviewableTime:t.content.nonviewable*m,contentTotalTime:t.content.total*m,contentAudibleTime:t.content.audible*m,contentNonaudibleTime:t.content.nonaudible*m,adViewableTime:t.ad.viewable,adNonviewableTime:t.ad.nonviewable,adTotalTime:t.ad.total,timeToPlaylistItemPlay:r?r.total:0}};o>0&&c&&n.dispatch(l),n.dispatch(a)}if(r.type===Kt.PLAYLISTITEM_BEGIN&&e.getTimerWithTimestamp((e=>{e.reset("playlistItem.timeToPlay"),e.start("playlistItem.timeToPlay")})),r.type===Kt.AD_BEGIN&&(e.getTimerWithTimestamp((e=>{e.stop("playlistItem.content"),e.stop("integration.content"),e.reset("playlistItem.ad"),e.start("playlistItem.ad"),e.start("integration.ad"),e.stop("playlistItem.timeToPlay")})),wn=!0),r.type!==Kt.AD_COMPLETE&&r.type!==Kt.AD_SKIP||(wn=!1,e.getTimerWithTimestamp((e=>{e.stop("playlistItem.ad"),e.stop("integration.ad")}))),r.type===Kt.CONTENT_BEGIN&&(e.getTimerWithTimestamp((e=>{e.start("playlistItem.content"),e.start("integration.content"),e.stop("playlistItem.timeToPlay")})),Pn=!0),r.type===Kt.PLAYER_PAUSE&&(wn?e.getTimerWithTimestamp((e=>{e.stop("playlistItem.ad"),e.stop("integration.ad")})):e.getTimerWithTimestamp((e=>{e.stop("playlistItem.content"),e.stop("integration.content")}))),r.type===Kt.PLAYER_PLAY&&(wn?e.getTimerWithTimestamp((e=>{e.start("playlistItem.ad"),e.start("integration.ad")})):Pn&&e.getTimerWithTimestamp((e=>{e.start("playlistItem.content"),e.start("integration.content")}))),r.type===Kt.CONTENT_COMPLETE&&e.getTimerWithTimestamp((e=>{e.stop("playlistItem.content"),e.stop("integration.content"),t()})),r.type===Kt.PLAYLIST_SETINDEX&&t(),[Kt.INTEGRATION_PASSBACK,Kt.INTEGRATION_ABORT].indexOf(r.type)>-1&&e.getTimerWithTimestamp((e=>{e.stop("playlistItem.timeToPlay")})),r.type===Kt.ENVIRONMENT_CHANGEVISIBILITY){const{environment:t}=n.getState();e.setVisibility(t.visibility)}if(r.type===Kt.PLAYER_VOLUMECHANGE){const{player:t}=n.getState(),{muted:i,volume:r}=t;e.setAudibility({muted:i,volume:r})}return h}}({performanceStopwatches:e.performanceStopwatches}),function({requestService:e,createUuid:t}){return n=>i=>r=>{const o=i(r),s=n.getState(),a=r.type,{strategy:l}=r.payload||{};let c=gn[a];if("AD_VIEWABLE"===a&&(c=`Ad Viewable ${l}`),a===Zt&&"stage"===s.integration.environment&&e&&e.switchToStage(),!e||!c)return o;switch(a){case Xt:if(1!==s.integration.impressionCount)return o;break;case Jt:if("content-plugin"===s.environment.origin&&"integration-id-missing"===s.player.error.code)return o;break;case nn:if(!s.player.lastPauseByUser||s.player.isLinearAdPlaying)return o}const d=In({createUuid:t},s,c,r.payload);return s.integration&&!0===s.integration.windowUnloaded?e.send(d,{forceBeacon:!0}):e.send(d),o}}({requestService:e.requestService,createUuid:e.createUuid}),Rt({publicApiEmitter:e.publicApiEmitter}),qt(e.addStrategies,e.viewabilityMeasurement)))),o=Ti({...e});return Object.keys(o).forEach((e=>{i[e]=function(e,t){if("function"==typeof e)return Gt(e,t);if("object"!=typeof e||null===e)throw new Error(Vt(16));var n={};for(var i in e){var r=e[i];"function"==typeof r&&(n[i]=Gt(r,t))}return n}(o[e],r.dispatch)})),{actions:i,store:r}}let wi;const Pi="All fetch technologies failed to perform a successful request",Ni="https://player-feedback-v1.stage.ds.glomex.cloud/pf/",Si="https://player-feedback-v1.glomex.com/pf/";function Ci({window:e,fetch:n,baseUrl:i=Si,forceBeacon:r=!1}){const o=new t;return{switchToStage:()=>{i=Ni},send:(t,s={})=>{!function(e,{window:t,fetch:n,data:i,forceBeacon:r}){let o={};const[s,a]=e.split("?");a&&(o=k(a));const l={...o,...i},c={mode:"cors",cache:"no-cache",method:"POST"};if(c.body=JSON.stringify(l),r)return void t.navigator.sendBeacon(s,JSON.stringify(l));n(s,c).catch((()=>{console.error(Pi)}))}(i,{window:e,fetch:n,forceBeacon:s.forceBeacon||r,data:t}),o.emit("Tracking Event",t)}}}const Oi=["mediaget","jorgee","analyza","analyzer","aggregator","archive","archiving","auto","bot","capture","check","classify","clown","collect","control","crawl","deep[-\\s]?link","detector","download(?:s|er)","extract","eyes","fantom","feed","fetch","finder","gather","getter","gopher","hack","harvest","hound","html2","http_client","images","index","java/","leech","library","library","link check","linkman","links?\\s?check","loader","locate","locator","mack","monitor","parse","perl","phantom","php/\\d","program","python","rating","reader","reaper","retrieve","scan","scrape","search","search[-\\s]?engine","seer","siphon","site[-\\s]?check","site[-\\s]?scan","sniff","somewhere","spider","spy","spyder","sweep","thumb","tracker","url","utility","validator","verifier","verify","warez","web[-\\s]?search","webinator","worth","yahoo","!Susie","/www\\.answerbus\\.com","/www\\.unchaos\\.com","/www\\.wmtips\\.com","008/","192\\.comAgent","8484 Boston Project","<http://www\\.sygol\\.com/>","A-Online Search","A6-Indexer","ADmantX","AVSearch","Aberja Checkomat","Abonti","Aboundex","Accoona-AI-Agent","Ad Muncher","AddThis","AltaVista Intranet","Anemone","Anturis Agent","Aport","AppEngine-Google","Arachmo","Arachnoidea","Arachnophilia/","AspTear","Avirt Gateway Server","Azureus","B-l-i-t-z-B-O-T","BCKLINKS 1\\.0","BingPreview","BMLAUNCHER","BStop\\.BravoBrian\\.it Agent Detector","BUbiNG","BW-C-2","B_l_i_t_z_B_O_T","BackStreet Browser","Big Brother","Big Fish","BigBozz/","BilderSauger","BlackWidow","BlogPulseLive","Blogpulse","Bookmark Buddy","Bookmark Renewal","BorderManager","BravoBrian","Browsershots","BullsEye","BunnySlippers","Buscaplus","Butterfly/","CC Metadata Scaper","CE-Preload","CERN-HTTPD","CJB\\.NET Proxy","COAST WebMaster Pro/","CSE HTML Validator Professional","Ceramic Tile Installation Guide","Cerberian Drtrs","Charlotte","Chat Catcher/","CheckWeb","China Local Browse","Chitika ContentHit","Claymont\\.com","CloudFlare-AlwaysOnline","CoBITSProbe","ColdFusion","Commons-HttpClient","ContentSmartz","Covac UPPS Cathan","Covario-IDS","Custo x\\.x \\(www\\.netwu\\.com\\)","CyberPatrol","DA \\d","DAP x","DAUMOA-video","DBrowse \\d","DDD","DISCo Pump x\\.x","DNS-Tools Header-Analyzer","DSurf15","DTAAgent","DTS Agent","DataparkSearch","DepSpid","DigOut4U","Digg","DnloadMage","DomainAppender","Download Demon","Download Druid","Download Express","Download Master","Download Ninja","Download Wonder","DownloadDirect","Download\\.exe","DreamPassport","Drupal","Dual Proxy","EARTHCOM","EBrowse \\d","ESurf15","Educate Search VxB","EldoS TimelyWeb/","ElectricMonk","EmailWolf","Embedly/","Evliya Celebi","Exalead","Expired Domain Sleuth","Exploratodo/","ExtractorPro","Extreme Picture Finder","EyeCatcher","FDM \\d","FLATARTS_FAVICO","FSurf","FairAd Client","FastBug","FavIconizer","FavOrg","Faveeo/","Feedfetcher-Google","FindAnISP\\.com","FindLinks","Flamingo_SearchEngine","FlashGet","FlipboardRSS/","FollowSite","FollowSite\\.com","FuseBulb\\.Com","GTmetrix","Genieo","GigablastOpenSource","Go!Zilla","GoBeez","GoForIt\\.com","GoForIt\\.com","Goldfire Server","Google Wireless Transcoder","Google Favicon","Google Page Speed Insights","GroupHigh/","H010818","HTTPGet","HTTPResume","Hatena Mobile Gateway/","Hatena Pagetitle Agent/","Hatena RSS/","HiDownload","HitList","Holmes","HubSpot Marketing Grader","HyperixScoop","IDA","IEFav172Free","IODC","IOI","ISC Systems iRc Search","IlTrovatore-Setaccio","InAGist","InfoSeek Sidewinder/","InfoWizards Reciprocal Link System PRO","Inktomi Search","Insitor\\.com search","Insitornaut","InstallShield DigitalWizard","Internet Ninja","InterseekWeb","JBH Agent 2\\.0","Jack","JemmaTheTourist","JetCar","Journster","KDDI-SN22","Kapere","Kevin","KimonoLabs","KnowItAll","Kontiki Client","L\\.webis","Lachesis","Larbin","LibertyW","Lincoln State Web Browser","Link Commander","Link Valet","LinkExaminer","LinkPimpin","LinkProver","LinkStash","LinkTiger","LinkWalker","Linkguard","Links2Go","Lipperhey Link Explorer","Lipperhey SEO Service","Lipperhey-Kaus-Australis/","Look\\.com","Lovel","MARTINI","MFHttpScan","MSIE or Firefox mutant","MVAClient","Mac Finder","MantraAgent","MapoftheInternet\\.com","Marketwave Hit List","Martini","Marvin","MasterSeek","Mata Hari/","Mediapartners-Google","MegaIndex\\.ru","MegaSheep","Megite","Mercator","MetaProducts Download Express","MetaURI","MicroBaz","Microsoft_Internet_Explorer_5","Mindjet MindManager","Missouri College Browse","Mister Pix","Mizzu Labs","Mnogosearch","Mo College","MonTools\\.com","Morning Paper","Mrcgiguy","Mulder","MuscatFerret","MusicWalker2","NG-Search","NORAD National Defence Network","NetMechanic","NetSprint","Netcraft Web Server Survey","NetcraftSurveyAgent/","NewsGator","Norton-Safeweb","Notifixious","NutchCVS","Nymesis","ODP links","OSSProxy","Octopus","Octora Beta","OliverPerry","Onet\\.pl","Online Website Link Checker","Oracle Application","Orbiter","PBrowse","PEval","PSurf15a","Page Analyzer","Page Valet/","Pagebull","PagmIEDownload","Panopta v","PayPal IPN","Peew","Perman Surfer","Pingdom","Pingoscope","Pita","Pizilla","Ploetz \\+ Zeller","Plukkie","Pockey7","Pogodak","Poirot","Pompos","Port Huron Labs","PostFavorites","PostPost","Powermarks","Project XP5","PureSight","PuxaRapido","PycURL","QXW03018","Qango\\.com Web Directory","Qseero","QuepasaCreep","Qwantify","REL Link Checker","RMA/1\\.0","RSurf15a","Radian6","RankSonicSiteAuditor/","ReGet","RetrevoPageAnalyzer","Riddler","Rival IQ","RoboPal","Robosourcer","SBIder","SEOCentro","SEOstats","SSurf15a","Scooter","ScoutAbout","ScoutJet","Scrapy","Scrubby","SearchSight","Seeker\\.lookseek\\.com","Seznam screenshot-generator","Shagseeker","ShopWiki","Siigle Orumcex","SimplyFast\\.info","Simpy","Site Server","Site24x7","SiteBar","SiteCondor","SiteRecon","SiteSnagger","SiteUptime\\.com","SiteXpert","SkypeUriPreview","Snappy","Sphere Scout","Sphider","SquidClamAV_Redirector","Sqworm","StackRambler","StatusCake","SuperCleaner","SurfMaster","SurferF3","T-H-U-N-D-E-R-S-T-O-N-E","TSurf15a","Tagword","Talkro Web-Shot","TargetSeek","Teleport Pro","Teradex Mapper","Theophrastus","TinEye","Twingly Recon","Twotrees Reactive Filter","TygoProwler","Ultraseek","Under the Rainbow","UnwindFetchor","UofTDB_experiment","User-Agent: ","VYU2","Vagabondo","Version: xxxx Type:xx","Vivante Link Checker","Vonna\\.com b o t\\","Vortex","WFARC","WSN Links","Wappalyzer","Watchfire WebXM","Waypath Scout","WeSEE:Search","Web Snooper","WebCompass","WebPix","WebVac","Webclipping\\.com","Webglimpse","Weblog Attitude Diffusion","Website Explorer","Websnapr/","Websquash\\.com","Webster v0\\.","Webverzeichnis\\.de","WhizBang! Lab","Whizbang","Wildsoft Surfer","WinGet","WinHTTP","WoW Lemmings Kathune","WomlpeFactory","WordPress\\.com mShots","WorldLight","XML Sitemaps Generator","Xenu Link Sleuth","Xenu's Link Sleuth","Xylix","Y!J-ASR","YandeG","Yoleo","Yoono","Zao","Zearchit","Zippy","ZnajdzFoto/Image","ZyBorg","\\(privoxy/","^ng/","aboutthedomain","accoona","acoon","adbeat\\.com","agada.de","agadine/","aiderss/","airmail\\.etn","airmail\\net","aladin/","alexa site audit","allrati/","alyze\\.info","amzn_assoc","appie","arachnode\\.net","araneo/","archive-com","asafaweb\\.com","asahina-antenna/","ask[-\\s]?jeeves","ask\\.24x\\.info","aspseek/","assort/","asterias/","atomic_email_hunter/","atomz/","augurfind","augurnfind","avsearch-3\\.0\\(altavista/avc\\)","beammachine/","beebwaredirectory/v0\\.01","bibnum\\.bnf","bigbrother/","biglotron","bilbo/","binlar","blaiz-bee/","bloglines-images/","bloglines/","blogsearch/","blogzice/","bobby/","boitho\\.com-dc","bookdog/x\\.x","bookmarkbase\\(2/;http://bookmarkbase\\.com\\)","bpimagewalker/","bsdseek/","btwebclient/","bumblebee@relevare\\.com","bwh3_user_agent","calif/","carleson/","ccubee/x\\.x","cfetch/","cg-eye interactive","changedetection","charon/","checklinks/","cloakdetect/","cnet\\.com","coccoc","cocoal\\.icio\\.us/","collage\\.cgi/","combine/","combine/x\\.0","contenttabreceiver","convera","copperegg/revealuptime/fremontca","coralwebprx/","cosmos","cougarsearch/","crowsnest/","csci_b659/","curl","cuwhois/","datacha0s/","datafountains/dmoz","dataprovider","dbdig\\(http://www\\.prairielandconsulting\\.com\\)","dc-sakura/x\\.xx","deepak-usc/isi","del\\.icio\\.us-thumbnails/","delegate/","diagem/","diamond/x\\.0","dlman","dlvr\\.it/","docomo/","drupact","e-sense","easydl/","ec2linkfinder","ecairn\\.com/grabber","echo!/","efp@gmx\\.net","egothor/","ejupiter\\.com","enterprise_search/","envolk","europarchive\\.org","eventax/","exactseek\\.com","ezooms","facebookexternalhit","faedit/","favcollector/","feeltiptop\\.com","fileboost\\.net/","filtrbox/","findlink","findthatfile","firefly/","flexum/","fluffy","flunky","focusedsampler/","forensiq\\.com","francis/","freshdownload/x\\.xx","g00g1e\\.net","galaxy\\.com","gazz/x\\.x","geek-tools\\.org","genderanalyzer","genieknows","geourl/","getright/","getrightpro/","ghostroutehunter/","gigabaz/","go!zilla/","go-ahead-got-it/","goblin/","gonzo1","gonzo2","gooblog/","goofer/","gossamer-threads\\.com","grapefx/","gromit/","grub-client","gulliver/","harvest-ng/","haste/","hatenascreenshot/","helix/","heritrix","hippias/","hotmail.com","htdig","htmlparser/","http-header-abfrage/","http://anonymouse\\.org/","http://ask\\.24x\\.info/","http://ozysoftware\\.com/index\\.html","http://www\\.ip2location\\.com","http://www\\.monogol\\.de","http://www\\.sygol\\.com","http://www\\.timelyweb\\.com/","http::lite/","httpunit","httrack","hyperestraier/","iZSearch","ichiro","ics \\d","ideare - SignSite","idwhois\\.info","iframely/","igdeSpyder","igetter/","iltrovatore-setaccio/","imageengine/","imagewalker/","incywincy\\(http://www\\.look\\.com\\)","info@pubblisito\\.com","infofly/","infolink/","infomine/","inkpeek\\.com","inspectorwww/","integrity/","integromedb","intelix/","intelliseek\\.com","internetlinkagent/","ips-agent","iqdb/","iria/","irvine/","isitup\\.org","isurf","ivia/","iwagent/","j-phone/","jchecklinks/","jigsaw/","kalooga/kalooga-4\\.0-dev-datahouse","kasparek@naparek\\.cz","ke_1\\.0/","kit-fireball/","knowledge\\.com/","kulturarw3/","kummhttp/","labrador/","lecodechecker/","leia/","libweb/clshttp","lightningdownload/","linkalarm/","linkdex","linklint-checkonly/","linkscan/","linkscan/x\\.x","linksonar/","linksweeper/","loadimpactrload/","ltx71","lwp-","lwp-trivial","lwp::","mabontland","magicwml/","mail\\.ru/","mammoth/","masagool/","mediasearch/","metainspector/","metaspinner/","metatagsdir/","miixpc/","miniflux\\.net","moget/x\\.x","mogimogi","moiNAG","monkeyagent","msnptc/","msproxy/","multiBlocker browser","multitext/","mygetright/","naofavicon4ie/","naparek\\.cz\\","nationaldirectoryaddurl/","netants/","netlookout/","netluchs/","netpumper/x\\.xx","netresearchserver","netwu\\.com","neutrinoapi/","newt","nico/","noyona_0_1","nsauditor/","nutch","ocelli/","oegp","online link validator","openisearch/","ow\\.ly","ownCloud News/","ozelot/","page2rss","panscient","parasite/","pavuk/","pd02_1","photon/","picosearch/","pingspot/","https://www\\.pinterest\\.com/bot\\.html","pockey-gethtml/","pockey-gethtml/x\\.xx","pockey/x\\.x\\.x","popdexter/","postrank","pricepi\\.com","privacyfinder/","prlog\\.ru","pro-sitemaps\\.com","protopage/","proximic","psycheclone","puf/","rabaz","readability/","realdownload/","reaper/","responsecodetest/","rico/","robozilla/","rotondo/","rpt-httpclient/","samualt9","saucenao/","scooter/","scoutant/","scoutmaster","searchguild/dmoz/experiment","semaforo\\.net","semager/","semanticdiscovery","seo-nastroj\\.cz","siteexplorer\\.info","sitesucker/","sitexy\\.com","skampy/","skimpy/","skywalker/","slarp/","slider\\.com","slurp","slysearch/","smartdownload/","smartwit\\.com","sogou","sohu agent","speeddownload/","speedy","speng","spida/","spinne/","squidclam","stamina/","suchbaer\\.de","summify","suzuran","synapse","syncit/x\\.x","szukacz/","tags2dir\\.com/","targetblaster\\.com/","teoma","therarestparser/","tkensaku/x\\.x\\(http://www\\.tkensaku\\.com/q\\.html\\)","truwoGPS","tuezilla","tumblr/","unknownght\\.com","updated","uri::fetch/","urlbase/","urlresolver","user-agent=mozilla/","utorrent/","vakes/","vb wininet","versus","verzamelgids/","viking","vkshare","voltron","vonna","voyager-hc/","w3c-webcon/","w3dt\\.net","wavefire/","wbsrch\\.com","wdg_validator/","web-bekannt","webauto/","webbandit/","webbug/","webcollage","webcookies","webcorp/","webcraft","webfetch/","webgobbler/","weblight/","webmastercoffee/","webminer/x\\.x","webmon ","websearch\\.com\\.au/","webspinne/","webstat/","webstripper/","webtrafficexpress/x\\.0","webtrends/","webval/","webwatchermonitor/","wf84","wget","whatsapp","whatsmyip\\.org","whatsup/x\\.x","whatuseek_winona/","whoami","whoiam","wish-project","worqmada/","wotbox","wusage/x\\.0@boutell\\.com","wwlib/linux","www-mechanize/","www\\.ackerm\\.com","www\\.alertra\\.com","www\\.arianna\\.it","www\\.ba\\.be","www\\.de\\.com","www\\.evri\\.com/evrinid","www\\.gozilla\\.com\\","www\\.idealobserver\\.com","www\\.iltrovatore\\.it","www\\.iskanie\\.com","www\\.kosmix\\.com","www\\.megaproxy\\.com","www\\.moreover\\.com","www\\.mowser\\.com","www\\.nearsoftware\\.com","www\\.ssllabs\\.com","wwwc/","wwwoffle/","wwwster/","wxDownload Fast","xirq/","xrl/","y!j-srd/","y!oasis/test","yacy","yandex","yanga","yarienavoir\\.net/","yeti","yoogliFetchAgent","youtube-dl","zedzo\\.digest/","zeus","developers\\.google\\.com\\/\\+\\/web\\/snippet\\/"];var xi=e((function(e,t=!1){const n=new RegExp("("+Oi.join("|")+")","i").test(e);return t&&Oi.forEach((t=>{const n=new RegExp(`(${t}|D0CA717F-E1E5-47F7-AC24-F923ED7DB6DB)`,"i");e.match(n)&&console.log(`UserAgent Regex match: ${t}`)})),n}));const Ri=["IppenHybridApp","CUBOT","native-20minDE","jackpotlte","native-heute.at"],Li=["Mozilla/5.0"];var ki=e=>function(e){for(let t=0;t<Li.length;t++)if(Li[t]===e)return!0;return!1}(e)||!function(e){for(let t=0;t<Ri.length;t++)if(e.match(Ri[t]))return!0;return!1}(e)&&xi(e)?-1:((e=0,t=99)=>Math.floor(Math.random()*(t-e+1)+e))(0,99);const Ui=(e,t,n)=>{e.addStrategy({name:"measurement10015",minVisibility:1,minTime:Math.min(500*t.payload.duration,15e3),continuous:!1},(()=>{n.dispatch({type:Kt.AD_VIEWABLE,payload:{strategy:"100/15"}})})),e.addStrategy({name:"measurement502",minVisibility:.5,minTime:2e3,continuous:!0},(()=>{n.dispatch({type:Kt.AD_VIEWABLE,payload:{strategy:"50/2"}})}))};function Mi(e,t,n,{integrationId:i,playlistId:r}){const s=t.querySelector('[type="application/ld+json"]'),a=s||e.createElement("script");a.type="application/ld+json";const l={"@context":"http://schema.org","@type":"VideoObject",name:n.title,description:n.description||n.title,thumbnailUrl:n.poster,duration:Di(n.duration),uploadDate:n.portalReleaseDate?new Date(n.portalReleaseDate).toISOString():void 0,contentUrl:n.teaser&&n.teaser.seoContentUrl,embedUrl:`${o("https://player.glomex.com/integration/1/iframe-player.html",{integrationId:i,playlistId:r})}`,regionsAllowed:-1===n.regionsAllowed.indexOf("all")?n.regionsAllowed.map((e=>e.toUpperCase())).join(","):void 0,expires:n.portalEndDate?new Date(n.portalEndDate).toISOString():void 0,producer:n.channel.name&&n.contentOwner.logo?{"@type":"Organization",name:n.channel.name,logo:{"@type":"ImageObject",url:n.contentOwner.logo,width:60,height:60}}:void 0,provider:{"@type":"Organization",name:"glomex GmbH",logo:{"@type":"ImageObject",url:"https://player.glomex.com/logo_v@2x.png",width:136,height:146}},genre:"unknown"!==n.category.name?n.category.name:void 0,publication:n.livestream&&n.livestream.startTime&&{"@type":"BroadcastEvent",name:"Livestream",isLiveBroadcast:!0,startDate:new Date(n.livestream.startTime).toISOString(),endDate:n.livestream.endTime?new Date(n.livestream.endTime).toISOString():void 0}};a.innerHTML=JSON.stringify(l),s||t.appendChild(a)}function Di(e){if(!e)return;const t=e%60,n=Math.floor(e/60)%60,i=Math.floor(e/3600),r=[];return t&&r.push(`${t}S`),n&&r.push(`${n}M`),i&&r.push(`${i}H`),`PT${r.reverse().join("")}`}var Vi=[];class Bi extends Error{constructor(e,{code:t}={}){super(e),this.name="InterventionError",this.code=t}}class Hi{_onKeydown(e){const{environment:{presentationMode:t,presentationModes:{initial:n}}}=this._store.getState();"lightbox"===t&&this._window!==this._window.top&&("Escape"!==e.code&&"Esc"!==e.code||this.updatePresentationMode({mode:n}))}_loadConfigAndPlaylist(e){const{integration:{integrationId:t,environment:n},environment:{pageUrlProps:i,browserType:r,osMajorVersion:o,inlineSettings:{config:s={}}={},pageSecondLevelDomain:a}}=this._store.getState();return Promise.allSettled([this._detectAutoplayPolicy(r,o,t,a),this.remoteConfig.get({integrationId:t,environment:n,pageUrlProps:i,inlineConfig:s}),this._requestPlaylist(e)]).then((([{status:e,value:t,reason:n},{status:i,value:r,reason:o},{status:s,value:a,reason:l}])=>{if("fulfilled"!==e)throw new Error(n);if(this._actions.environment.autoplaypolicy(t),"fulfilled"!==i)throw new Error(o);if(this._actions.config.create(r),"fulfilled"===s)return this._onPlaylistServiceResponse(a);throw new Error(l)})).catch((e=>this._onPlayerBootstrapError(e)))}_adjustContent({items:e,mergedContentOverride:t}){const{environment:{pageUrlProps:n},config:{enableContentFrequencyCapping:i}}=this._store.getState();let r=e;if(n&&n.glomexLivestreamHlsSource){const t=Number(n.glomexLivestreamStart),i=Number(n.glomexLivestreamEnd)||void 0;r=Le(e).map((e=>({...e,livestream:{startTime:t,endTime:i},duration:1/0,sources:[{mimetype:"application/x-mpegURL",url:n.glomexLivestreamHlsSource,validUntil:new Date(Date.now()+864e5)}]})))}if(n&&n.glomexBrandingAssetUrl&&(r=Le(e).map((e=>({...e,branding:{cutInZoomAssetUrl:n.glomexBrandingAssetUrl,backgroundColor:n.glomexBrandingBackgroundColor||"#000000",cutInZoomHideTimeout:n.glomexBrandingHideTimeout||0}})))),i){const e=this._getViewedContentIds();r=r.sort(((t,n)=>{const i=e.includes(t.id),r=e.includes(n.id);return i&&!r?1:!i&&r?-1:0}))}return r.map((e=>t[e.id]?Dn(e,t[e.id]):e))}updateDimensions(e){this._actions.environment.updatedimensions(e),this._actions.environment.resize({width:e.width,height:e.height}),e.width&&e.height&&(this._actions.environment.resize({width:e.width,height:e.height}),this.playbackHandler.setDimensions(e.width,e.height),this.playbackHandler.handleAutoplay())}_resizeAd(){if(!this.player)return;const{environment:{width:e,height:t}}=this._store.getState();e&&t&&(e<250?this.player.resizeAd({width:2*e,height:2*t,scale:.5}):this.player.resizeAd({width:e,height:t,scale:1}))}_determineRuntimePlayerBehavior(){return this._transparencyAndConsent.getConsent().then((()=>{const{environment:e,config:t}=this._store.getState(),{autoplayPolicy:n,origin:i,supportedPresentationModes:r,positionOnPage:o,pageHostname:s,consentData:{glomexVendor:a,hasPurpose1Consent:l,eventStatus:c}={},userIds:d}=e,{startBehavior:u,startVolume:p,noConsentNoAutoplay:m,ad:h}=t,g=Boolean(m)&&"consent"!==a,y=ge({startBehavior:u,startVolume:p,autoplayPolicy:n,origin:i,supportedPresentationModes:r,positionOnPage:o,stickyEnabled:t.sticky.enabled,preventAutoplay:g});if(this._actions.runtime.setbehavior(y),!d.glomexId&&"consent"===a&&h.enabled){const{userId:e}=this._getUserDetails({glomexVendor:a,hasPurpose1Consent:l,pageHostname:s});e&&this.updateUserIds([{name:"glomexId",source:"glomex.com",id:e,ext:{stype:"ppuid"},gvlId:967}])}h.enabled&&this._bidding.getUserIds(c).then((e=>{this.updateUserIds(e)}))}))}_requestPlaylist(e){const{integration:{playlistId:t},environment:{otherIntegrations:n,externalAbDetected:i,pageUrlProps:r}}=this._store.getState();this.playlist=this._createPlaylist({store:this._store,externalPlaylist:e}),i&&this._actions.environment.foundadblocker();let o=Promise.resolve();return r.glomexAdLoadingDelay&&(o=new Promise((e=>{setTimeout(e,r.glomexAdLoadingDelay)}))),this.ad=this._createAd({store:this._store,actions:this._actions,getSalesHouseConfigurations:()=>this._transparencyAndConsent.getConsent().then((()=>this._bidding.get())).then((({bids:e})=>(this._actions.playlistitemmonetization.updatebids(e),o.then((()=>this._getSalesHouseConfigurations().then((({error:e,configs:t,consent:n})=>{const i=e&&e.name?-1:(t||[]).length,r=e&&e.name;this._actions.playlistitemmonetization.begin({consent:n,adWaterfallLength:i,...r?{reason:r}:{}});const{config:{ad:{maxWaterfallLength:o}}}=this._store.getState();return t.slice(0,o)})))))))}),this.playlist.get({playlistId:t,otherIntegrations:n})}_handleInitPlayerError(e){throw this._actions.integration.abort(e),this.reset({resetUi:!1}),e}_onPlaylistServiceResponse({error:e,context:t,items:n}){if(e instanceof Error)throw"PlaylistError"!==e.name&&"PlaylistHiddenError"!==e.name||this._actions.playlist.init({...t,items:n}),e;const{config:{enableRecommendations:i},environment:{origin:r}}=this._store.getState();let o=Promise.resolve([...n]);return i&&[Y,W].indexOf(r)>-1&&n.length<6&&(o=this.playlist.getRecommendations().then((({items:e})=>[...n].concat(e))).catch((()=>[...n]))),o.then((e=>{const i=e.reduce(((e,t)=>(t.experiments&&e.push(...t.experiments),e)),[]),{mergedContentOverride:r}=this._setupAbTest(i);this._actions.playlist.init({...t,items:this._adjustContent({items:n,mergedContentOverride:r})})}))}_getPlaylistIndex(){const{playlistContext:{playlistIndex:e}}=this._store.getState();return e}_getInitialPlaylistIndex(){const{integration:{playlistIndex:e}}=this._store.getState();return e}_setupAbTest(e=[]){this._abTest=this._createAbTest({store:this._store,additionalData:{},experiments:[...Vi,...e]});const{assignedExperiments:t,mergedConfigOverride:n,mergedContentOverride:i}=this._abTest.assign();return this._actions.config.restore(),t.length>0&&(this._actions.ab.assign({abExperiments:t}),Object.keys(n).length>0&&this._actions.config.update(n),this._setupPromise.then((()=>{const{environment:{consentData:{glomexVendor:e,hasPurpose1Consent:t}}}=this._store.getState();"consent"===e&&t&&this._abTest.storeAssignedExperiments()}))),{mergedContentOverride:i}}_onPlayerBootstrapError(e){return console.error("Player bootstrap error",e),this._createUi().then((e=>{this._ui=e,this._videoElement.poster=""})),this._determineRuntimePlayerBehavior().then((()=>{throw this._actions.integration.abort(e),this.reset({resetUi:!1}),e}))}_createSetupPromise(){this._setupPromise&&!this._setupPromise.resolved||(this._setupDone=null,this._setupPromise=new Promise((e=>{this._setupDone=()=>{e(),this._setupPromise.resolved=!0}})))}_createIntegrationCreatePromise(){this._integrationCreatePromise=new Promise((e=>{this._integrationCreateResolve=e}))}_createAllowLoadPromise(){this._allowLoadPromise=new Promise((e=>{this._allowLoad=()=>this._transparencyAndConsent.getConsent().then(e)}))}setup({integrationId:e,playlistId:t,playlistIndex:n=0,origin:i,playlist:r,...o}){if(!e)return Promise.reject(new Error("MissingIntegrationId"));const s=i===H||"dynamic-glomex-player"===i;return this.reset({resetUi:!1}),i&&s&&this._actions.environment.updateorigin({origin:i}),this._actions.integration.setup({...o,integrationId:e,playlistId:t,playlistIndex:n}),this._previousSetupOptions={...o,integrationId:e,playlistId:t,playlistIndex:n,origin:i,playlist:r},this._loadConfigAndPlaylist(r).then((()=>this._initialRender())).then((()=>this._integrationCreate())).then((()=>this._integrationCreateResolve()))}_initialRender(){const e=this._getInitialPlaylistIndex();this.setPlaylistIndex(e,{switchToTeaserComposition:!1}).catch((e=>{console.error("Setting playlist index failed",e)}))}_integrationCreate(){return this._determineRuntimePlayerBehavior().then((()=>{var e,t;const{config:n,runtime:{shouldAutoplay:i,shouldMute:r,startVolume:o,startBehavior:s},environment:{origin:a},playlist:l}=this._store.getState();this._actions.integration.create();const c=this._getPlaylistIndex(),d=this._getInitialPlaylistIndex();r&&this.mute(),!(null===(t=l[c])||void 0===t||null===(e=t.teaser)||void 0===e?void 0:e.firstFrame)||s!==se&&s!==ce?this._videoElement.poster=l[c].poster:this._videoElement.poster=l[c].teaser.firstFrame;let u=!1;s!==se&&s!==ce?u=!0:setTimeout((()=>{var e;(null===(e=this._store.getState().ui)||void 0===e?void 0:e.composition)||this._actions.ui.changecomposition({composition:"loading"})}),1500),this.setPlaylistIndex(d!==c?c:d,{switchToTeaserComposition:u}),i&&!r&&(this._actions.content.userinteraction(),o&&this.setVolume(o));const{player:{error:p}={},content:m,integration:{integrationId:h,playlistId:g},environment:{width:y,height:E}}=this._store.getState();if(p)return;this._actions.player.ready();a===W&&this.load(),this._window.location.pathname.match(/iframe-player\.html$/)&&this._addVideoObjectJsonLd(m,{integrationId:h,playlistId:g}),this._setupDone();let _=n.playOnVisibility/100;Number.isNaN(_)&&(_=.5),this.playbackHandler.setDimensions(y,E),this.playbackHandler.setMinVisibility(_),this.playbackHandler.setAutoplay(i),this.playbackHandler.handleAutoplay()})).catch((e=>{throw console.error(e),e}))}reset({resetUi:e=!0}={}){this._iphoneInNonRevolverPlayFullscreen=!1,this._createSetupPromise(),e&&this._actions.ui.changecomposition({composition:"hidden"}),this.player&&(this.player.destroy(),this.player=void 0,this._setupPlayerPromise=void 0,this._actions.player.pause({byUser:!1})),clearTimeout(this._livestreamStartTimer),clearTimeout(this._livestreamEndTimer)}stop(){this.player&&(this._actions.playlistitem.stop(),this.player.reset().catch((()=>{})))}trackExternalEvent(e,t){"integration.impression"===e?this._actions.integration.impression(t):"integration.passback"===e?this._actions.integration.passback(t):"integration.adavailable"===e&&this._actions.integration.adavailable(t),this._integrationCreatePromise.then((()=>{"teaser.click"===e&&this._actions.teaser.click(t),"teaser.impression"===e&&this._actions.teaser.impression(t)}))}unload(){const{content:{id:e}={},player:{isCompleted:t}}=this._store.getState();e&&!t&&this.stop(),this._actions.integration.unload(),this._reportingObserver&&this._cachedReports.forEach((e=>{"intervention"===e.type&&this._actions.integration.abort(new Bi(e.body.message,{code:e.body.id}))}))}destroy(){var e;this.unload(),null===(e=this._ui)||void 0===e||e.destroy(),this.playbackHandler.destroy(),this._companionScheduler.destroy(),this.reset(),window.document.removeEventListener("keydown",this._onKeydown)}load(){const{playlistContext:{playlistIndex:e,lastPlaylistIndex:t}}=this._store.getState();return this._setupPlayerPromise||(this._setupPlayerPromise=this._allowLoadPromise.then((()=>this._setupPromise.then((()=>this._createPlayer({window:this._window,domNode:this._playerContainer,videoElement:this._videoElement,audioContext:this._audioContext,store:this._store}))).then((e=>this._connectPlayer(e))).then((e=>{const{config:{enableRecommendations:t,startBehavior:n},playlist:i,playlistContext:r,runtime:{preloadAds:o}}=this._store.getState();let s=Promise.resolve();return t&&i.length<6&&(s=this.playlist.getRecommendations().then((({items:e=[]})=>{e.forEach((e=>{this._actions.playlist.add(e)})),this._actions.playlist.create(r)})).catch((()=>{}))),s.then((()=>{this.player=e,this._resizeAd();let t=!1;return n!==se&&n!==ce&&(t=!0),this.setPlaylistIndex(r.playlistIndex,{force:!0,preloadAds:o,switchToTeaserComposition:t}).catch((()=>{}))}))})).catch((e=>this._handleInitPlayerError(new s(e.message,a)))))).then((()=>{"none"!==this._rootNode.style.background&&(this._rootNode.style.background="black")}))),void 0===e&&void 0!==t?this._setupPlayerPromise.then((()=>this.setPlaylistIndex(t))):this._setupPlayerPromise}_connectPlayer(e){if(!e)return;const{playbackHandler:t,_actions:n,_companionScheduler:i}=this;return e.on(e.EVENT.USE_INTERACTIVE_CONTENT_COMPOSITION,(()=>{this._actions.ui.setdefaultcontentcomposition({defaultContentComposition:"interactive-content"})})),e.on(e.EVENT.PLAYER_INFO,(e=>{n.player.info(e)})),e.on(e.EVENT.PLAYER_START,(({streamType:e,sourceUrl:i})=>{this._iphoneInNonRevolverPlayFullscreen&&this.play({byUser:!0}),this._videoElement.poster="";const{wasMutedAdChainSet:r}=this._store.getState().player||{};t.setBackgroundPlayback(r||!1),n.playlistitem.begin({streamType:e,sourceUrl:i})})),e.on(e.EVENT.CONTENT_BEGIN,(()=>{n.content.begin();const{ad:e,content:t,config:r,environment:{consentData:{glomexVendor:o,hasPurpose1Consent:s}}}=this._store.getState();"consent"===o&&s&&this._markContentAsViewed(t.id),this._isAutoplay()?this.player.playbackRate=r.autoplayContentPlaybackRate:this.player.playbackRate=r.contentPlaybackRate,e.companion&&i.setup({contentDuration:t.duration,start:e.companion.start,end:e.companion.end,renderingMode:e.companion.renderingMode})})),e.on(e.EVENT.PLAYER_ERROR,(({error:t})=>{const{playlistContext:{playlistIndex:i}}=this._store.getState();if(t&&t.code===l)return n.player.pause({byUser:!1}),void this.setup({...this._previousSetupOptions,playlistIndex:i});n.integration.abort(t),e.destroy()})),e.on(e.EVENT.CONTENT_COMPLETE,(()=>{i.reset(),n.content.complete(),clearTimeout(this._livestreamStartTimer),clearTimeout(this._livestreamEndTimer)})),e.on(e.EVENT.CONTENT_PAUSEREQUESTED,(()=>{n.content.pauserequested()})),e.on(e.EVENT.CONTENT_RESUME,(()=>{n.content.resume()})),e.on(e.EVENT.PLAYER_STOP,(()=>{n.playlistitem.complete(),this._onEject()})),e.on(e.EVENT.ADBREAK_READY,(({adsAvailable:e})=>{n.adbreak.ready({adsAvailable:e})})),e.on(e.EVENT.AD_IMPRESSION,(({isLinear:e})=>{n.ad.impression({isLinear:e})})),e.on(e.EVENT.AD_CAN_PLAY,(e=>{const{mimetype:t}=e,{player:{wasMutedAdChainSet:n}}=this._store.getState();n&&"application/javascript"===t&&this.mute()})),e.on(e.EVENT.AD_BEGIN,(e=>{const{breakName:i,breakIndex:r,positionIndex:o,waterfallIndex:s,waterfallLength:a,adUrl:l,salesHouseId:c,lineItemId:d,id:u,mimetype:p,duration:m,isLinear:h,nonLinearWidth:g,nonLinearHeight:y,companion:E,maxDuration:_,totalAds:f}=e,{player:{wasMutedAdChainSet:I}}=this._store.getState();if(n.ad.create({breakName:i,breakIndex:r,positionIndex:o,waterfallIndex:s,waterfallLength:a,adUrl:l,salesHouseId:c,lineItemId:d,maxDuration:_,totalAds:0===f?f:f-1}),n.ad.begin({id:u,mimetype:p,duration:m,isLinear:h,nonLinearWidth:g,nonLinearHeight:y,companion:E}),this.player.playbackRate=1,!h)return t.deactivate();I||(t.activate(),t.validate())})),e.on(e.EVENT.AD_COMPLETE,(()=>{n.ad.complete(),t.deactivate()})),e.on(e.EVENT.AD_CLICK,(()=>n.ad.click({clickTarget:"linear"}))),e.on(e.EVENT.AD_SKIP,(()=>{n.ad.skip(),t.deactivate()})),e.on(e.EVENT.AD_TIME_UPDATE,(({currentTime:e,duration:t})=>{n.ad.timeupdate({currentTime:e,duration:t})})),i.onShowCompanion((e=>{n.ad.showcompanion(e)})),i.onHideCompanion((e=>{n.ad.hidecompanion(e)})),e.on(e.EVENT.TIME_UPDATE,(({currentTime:e,wallClockTime:t})=>{n.content.timeupdate({currentTime:e,wallClockTime:t}),i.setCurrentTime(e),this._checkIfEarlyRecommendations()})),e.on(e.EVENT.PLAY,(({byUser:e,byExternalApi:i})=>{n.player.play({byUser:e}),e?t.setPlayedByUser():i&&t.setPlayedByExternalApi()})),e.on(e.EVENT.PLAYING,(()=>n.player.playing())),e.on(e.EVENT.PAUSE,(({byUser:e,byExternalApi:i})=>{n.player.pause({byUser:e}),e?t.setPausedByUser():i&&t.setPausedByExternalApi()})),e.on(e.EVENT.BUFFERING_BEGIN,(()=>n.player.bufferingbegin())),e.on(e.EVENT.BUFFERING_COMPLETE,(()=>n.player.bufferingcomplete())),e.on(e.EVENT.VOLUME_CHANGE,(({volume:e,muted:t})=>{if(n.player.volumechange({volume:e,muted:t}),!t){const{config:{contentPlaybackRate:e}}=this._store.getState();this.player.playbackRate=e}})),e.on(e.EVENT.FULLSCREEN_CHANGE,(({isInFullscreen:e})=>{const{environment:{browserType:n,presentationMode:i}}=this._store.getState();e?this.updatePresentationMode({mode:"fullscreen"}):"fullscreen"===i&&(this._iphoneInNonRevolverPlayFullscreen=!1,this.exitCurrentPresentationMode()),e||"ios-webview"!==n||t.setPausedByUser()})),e}play({byUser:e=!1,byExternalApi:t=!1,playWhenAd:n=!1}={}){const{runtime:{autoplayWhenAd:i},integration:{playlistItemBeginCount:r}}=this._store.getState(),o=i||n,s=0===r;e&&this.activate(),e&&s&&this._actions.runtime.update({startBehavior:oe}),!e&&o||this._actions.player.play({byUser:e}),this.load().then((({adsAvailable:n}={})=>{if(!this.player)return;e&&this._actions.content.userinteraction();const{environment:{width:i,height:r}}=this._store.getState(),a=0===i&&0===r;if(this._createUi().then((e=>{this._ui=e,this._videoElement.poster=""})),o||a){if(e&&s)return this.playbackHandler.setAutoplay(!1),this.unmute(),this.setPlaylistIndex(this._getPlaylistIndex()),void this.player.play({byUser:e,byExternalApi:t});if(!e){if(!1===n)return;this._actions.player.play({byUser:e})}}this.player.play({byUser:e,byExternalApi:t})}))}pause({byUser:e=!1,byExternalApi:t=!1}={}){this.load().then((()=>{this.player&&this.player.pause({byUser:e,byExternalApi:t})}))}setPlaylistIndex(e,{force:t=!1,preloadAds:n=!1,switchToTeaserComposition:i=!0}={}){const{content:{id:r}={},playlist:o,player:{wasMutedAdChainSet:a,muted:l,isCompleted:d},playlistContext:{playlistIndex:u},config:{ad:{adIntensity:p,maxAdDuration:m}},integration:{playlistItemBeginCount:h}}=this._store.getState();if(!o[e]){if(null!=u)return console.error(`Invalid Playlist Index: ${e}`),Promise.resolve();const t=`Invalid initial "data-playlist-index" = ${e}`;return console.error(t),this._handleInitPlayerError(new s(t,c)),Promise.resolve()}const g=o[e].error;if(i&&!g){var y,E;const{content:e}=this._store.getState();(!(null==e?void 0:e.livestream)||(null==e||null===(y=e.livestream)||void 0===y?void 0:y.startTime)<Date.now()&&(null==e||null===(E=e.livestream)||void 0===E?void 0:E.endTime)>Date.now())&&this._actions.ui.changecomposition({composition:"teaser"})}const _=a!==l,f=this._getPlaylistIndex()===e;if(!_&&!t&&f)return Promise.resolve();if(this._actions.ui.setdefaultcontentcomposition({defaultContentComposition:"content"}),!r||f||d||this.stop(),this.playbackHandler.deactivate(),this._actions.playlist.select(e),this._earlyRecommendationsWasActive=!1,g)return this._actions.integration.abort(o[e].error),this.player?this.player.reset():(this._allowLoad(),Promise.resolve());clearTimeout(this._livestreamStartTimer),clearTimeout(this._livestreamEndTimer);const{content:I}=this._store.getState(),b=2147483647;if(I&&I.livestream&&I.livestream.startTime>Date.now()){const e=I.livestream.startTime-Date.now();return this._actions.ui.changecomposition({composition:"livestream-starting-soon"}),this._livestreamStartTimer=setTimeout((()=>{this._actions.ui.changecomposition({composition:"teaser"}),this._allowLoad()}),Math.min(b,e)),Promise.resolve()}if(I&&I.livestream&&I.livestream.endTime<=Date.now())return this._actions.ui.changecomposition({composition:"livestream-ended"}),Promise.reject(new Error("Livestream ended"));if(this._allowLoad(),I&&I.livestream&&I.livestream.endTime>Date.now()){const e=I.livestream.endTime-Date.now();this._livestreamEndTimer=setTimeout((()=>{this._actions.ui.changecomposition({composition:"livestream-ended"}),this.pause(),this.player&&this.stop()}),Math.min(b,e))}if(!this.player)return Promise.resolve();let v=()=>Promise.resolve({start:[],end:[]});return("number"!=typeof p||0!==p&&h%(1/p)==0)&&(v=()=>this.ad.get()),this._setupPlayerPromise=this.player.setContent(o[e],v,{preloadAds:n,maxAdDuration:m}).then((({adsAvailable:e}={})=>(this._actions.playlistitem.ready(),{adsAvailable:e}))).catch((e=>{if(!e||"AbortError"!==e.name){if(!e||"PlaybackError"!==e.name)throw e;this._actions.integration.abort(e)}})),this._setupPlayerPromise}setVisibility(e){null!=e&&(this._currentVisibility=e,this._setupPromise.then((()=>{const{runtime:{preloadAds:t}}=this._store.getState();t&&(-3===e||e>0)&&this.load(),this._actions.environment.changevisibility({visibility:e}),this.playbackHandler.setVisibility(e)})))}getVisibility(){return this._currentVisibility}setDocumentHidden(e){e?(this._visibilityBeforeHidden=this._currentVisibility,this.setVisibility(-2)):this.setVisibility(this._visibilityBeforeHidden)}activate(){this._isActivated||(this._isActivated=!0,this._actions.runtime.update({activated:!0}),this.player?this.player.activate():(this._videoElement.load(),this._audioContext&&"closed"!==this._audioContext.state&&this._audioContext.resume()))}mute(){this.player?this.player.mute():this._videoElement.muted=!0;const e=this.player||this._videoElement;this._actions.player.volumechange({volume:e.volume,muted:!0})}unmute(){this.player?this.player.unmute():this._videoElement.muted=!1,this._actions.runtime.update({activated:!0});const e=this.player||this._videoElement;this._actions.player.volumechange({volume:e.volume,muted:!1}),0===e.volume&&(e.volume=.6,this._actions.player.volumechange({volume:e.volume,muted:!1}))}setVolume(e){const t=this.player||this._videoElement;t.volume=e,this._actions.player.volumechange({volume:t.volume,muted:t.muted})}requestFullscreen(){this.player&&this.player.requestFullscreen().then((()=>{this.updatePresentationMode({mode:"fullscreen",byUser:!0})})).catch((e=>{console.warn(`Error occurred entering fullscreen: ${e}`)}))}exitFullscreen(){this.player&&this.player.exitFullscreen()}updatePresentationMode({mode:e,shouldFocus:t=!1,byUser:n=!1}){const{environment:{presentationMode:i}}=this._store.getState();i!==e&&("fullscreen"===i&&this.exitFullscreen(),this._actions.environment.updatepresentationmode({mode:e,shouldFocus:t,byUser:n}))}exitCurrentPresentationMode(){const{environment:{presentationMode:e,presentationModes:{initial:t,intermediate:n,final:i}}}=this._store.getState();"fullscreen"===e&&this.exitFullscreen(),this.updatePresentationMode({mode:i&&n?n:t})}updateUserIds(e){Array.isArray(e)&&0!==e.length&&this._setupPromise.then((()=>{this._actions.environment.userids(e)}))}_onEject(){const e=this._actions,{config:t,playlist:n,environment:{presentationMode:i},player:{usesVideoFullscreen:r}}=this._store.getState(),o="fullscreen"===i&&r,s=this._isAutoplay()?t.autoplayRevolverPlayTime:t.revolverPlayTime;if(1===n.length)e.runtime.update({startBehavior:he}),this.setPlaylistIndex(this._getPlaylistIndex(),{force:!0,switchToTeaserComposition:!1}),o?t.enableRevolverPlay?this.play():this._iphoneInNonRevolverPlayFullscreen=!0:t.enableRevolverPlay&&0===s&&this._currentVisibility>=.5?this.play():e.ui.changecomposition({composition:"replay"});else{e.runtime.update({startBehavior:he});let i=this._getPlaylistIndex()+1;if(n[i]||(i=0),this.setPlaylistIndex(i,{force:!0,switchToTeaserComposition:!1}),o){const{content:{type:e}}=this._store.getState();"dynamic-content"===e&&setTimeout((()=>{this.exitFullscreen(),t.enableRevolverPlay&&setTimeout((()=>{this.play()}),100)}),100),t.enableRevolverPlay?this.play():this._iphoneInNonRevolverPlayFullscreen=!0}else t.enableRevolverPlay&&0===s&&this._currentVisibility>=.5?this.play():e.ui.changecomposition({composition:"recommendation"})}}_isAutoplay(){const{runtime:{activated:e}}=this._store.getState();return!e}hideUi(){this._actions.ui.hide(),this._rootNode.style.background="none"}showUi(){this._actions.ui.show(),this._rootNode.style.background="black"}_checkIfEarlyRecommendations(){const{player:e,content:t,environment:n,config:i,playlistContext:r}=this._store.getState(),{buttonCountdownSeconds:o}=i.earlyRecommendations;let{showAfterSeconds:s}=i.earlyRecommendations;t.duration-o<=s&&(s=Math.round(.8*(t.duration-o)));const a=["t-bysodthydwm9","t-cjsq45b85lox","t-cdof519s1m15"].includes(r.publisherId);!this._earlyRecommendationsWasActive&&i.enableEarlyRecommendations&&i.enableRecommendations&&!r.isPhaistosTraffic&&t.duration>=i.earlyRecommendations.minimumContentDurationSeconds&&e.contentCurrentTime>=s&&(n.visibility<=.7||"dock"===n.presentationMode||a)&&!t.userInteracted&&!this._isActivated&&(this._earlyRecommendationsWasActive=!0,this._actions.ui.changecomposition({composition:"early-recommendation"}))}constructor({videoElement:e,audioContext:t,rootNode:n,playerContainer:i,createUi:r,store:o,actions:s,window:a,createPlayer:l,createRemoteConfig:c,createPlaybackHandler:d,createPlaylist:u,createAd:p,detectAutoplayPolicy:m,createAbTest:h,createCompanionScheduler:g,getSalesHouseConfigurations:y,playerMiddlewareConnector:E,transparencyAndConsent:_,bidding:f,addVideoObjectJsonLd:I,getUserDetails:b,getViewedContentIds:v,markContentAsViewed:T}){this._videoElement=e,this._audioContext=t,this._rootNode=n,this._playerContainer=i,this._ui=void 0,this._createUi=r,this._currentVisibility=void 0,this._visibilityBeforeHidden=void 0,this._store=o,this._actions=s,this._isActivated=!1,this._earlyRecommendationsWasActive=!1,this._iphoneInNonRevolverPlayFullscreen=!1,this._autoplayHandled=!1,this._createPlaylist=u,this._createAd=p,this._detectAutoplayPolicy=m,this._createAbTest=h,this._getSalesHouseConfigurations=y,this._playerMiddlewareConnector=E,this._transparencyAndConsent=_,this._bidding=f,this._getUserDetails=b,this._addVideoObjectJsonLd=I,this._getViewedContentIds=v,this._markContentAsViewed=T;const A=a.fetch.bind(a);this._window=a,this._setupPlayerPromise=void 0,this.playbackHandler=d(),this.remoteConfig=c({fetch:A,isMobile:"mobile"===o.getState().environment.device}),this._companionScheduler=g(),this._createPlayer=l,this._abTest=void 0,this._createSetupPromise(),this._createAllowLoadPromise(),this._createIntegrationCreatePromise(),n.addEventListener("pointerover",(()=>{this.load()}),{once:!0}),this._onKeydown=this._onKeydown.bind(this),this._window.document.addEventListener("keydown",this._onKeydown),"undefined"!=typeof ReportingObserver&&(this._cachedReports=[],this._reportingObserver=new a.ReportingObserver((e=>{this._cachedReports=e}),{buffered:!0}),this._reportingObserver.observe()),this._playerMiddlewareConnector.connect((()=>{let e=!1;return t=>n=>{const{type:i,payload:r}=n;if("UI_CHANGECOMPOSITION"===i&&this._createUi().then((e=>{this._ui=e,this._videoElement.poster=""})),"INTEGRATION_ABORT"===i&&this._createUi().then((e=>{this._ui=e,this._videoElement.poster=""})),"UI_RELOAD"===i){const{playlistContext:{playlistIndex:e}}=this._store.getState();this.setup({...this._previousSetupOptions,playlistIndex:e})}if("UI_RESIZE"===i){const{uiLayer:e,width:t,height:n}=r;this.playbackHandler.setDimensions(t,n),this.playbackHandler.handleAutoplay(),"player"===e&&(this._actions.environment.resize({width:t,height:n}),this._resizeAd())}if("UI_PLAY"===i&&(this.play({byUser:!0}),this._actions.content.userinteraction()),"UI_TEASERCLICK"===i&&this._integrationCreatePromise.then((()=>{this._actions.teaser.click({teaserEnvironment:r.teaserEnvironment,teaserContentId:r.teaserContentId})})),"UI_TEASERIMPRESSION"===i&&this._integrationCreatePromise.then((()=>{this._actions.teaser.impression({teaserEnvironment:r.teaserEnvironment,teaserContentId:r.teaserContentId})})),"UI_PAUSE"===i&&(this.pause({byUser:!0}),this._actions.content.userinteraction()),"UI_MUTE"===i&&(this.mute(),e=!1,this._actions.content.userinteraction()),"UI_UNMUTE"===i&&(this.unmute(),this._actions.content.userinteraction()),"UI_VOLUMECHANGE"===i&&(this.setVolume(r.volume),this._actions.content.userinteraction()),"UI_ENTERFULLSCREEN"===i&&(this.requestFullscreen(),this._actions.content.userinteraction()),"UI_EXITFULLSCREEN"===i&&(this.exitFullscreen(),this._actions.content.userinteraction()),"UI_EXITCURRENTPRESENTATIONMODE"===i&&(this.exitCurrentPresentationMode(),this._actions.content.userinteraction()),"UI_ENTERDOCK"===i&&(this.updatePresentationMode({mode:"dock",byUser:!0}),this._actions.content.userinteraction()),"UI_ENTERINLINE"===i&&(this.updatePresentationMode({mode:"inline",shouldFocus:!0}),this._actions.content.userinteraction()),"UI_ENTERLIGHTBOX"===i&&(this.updatePresentationMode({mode:"lightbox"}),this._actions.content.userinteraction()),"UI_ENTEREXTERNALMODAL"===i&&(this.updatePresentationMode({mode:"external-modal"}),this._actions.content.userinteraction()),"UI_SEEK"===i&&(this.player.setCurrentTime(r.currentTime),this._actions.content.userinteraction()),"UI_SKIPTOANDPLAY"===i){r.byUser?this._actions.runtime.update({startBehavior:"endscreen-click-to-play"}):this._actions.runtime.update({startBehavior:he}),r.byUser&&!e?(this.unmute(),this.setPlaylistIndex(r.playlistIndex,{force:!0}),e=!0):this.setPlaylistIndex(r.playlistIndex,{preloadAds:!0}),r.byUser&&this._actions.content.userinteraction();const{config:{revolverPlayWhenAd:t}}=this._store.getState();this.play({byUser:r.byUser,playWhenAd:!r.byUser&&t}),this._actions.ui.changecomposition({composition:"teaser"})}if("UI_EJECT"===i&&this._onEject(),"UI_USERSTILLINTERESTED"===i){const{ui:{defaultContentComposition:e}}=this._store.getState();this._actions.ui.changecomposition({composition:e}),this._actions.content.userinteraction()}return t(n)}})),this._actions.player.load()}}class ji{run(){this._isPaused&&(this._startTime=new Date,clearTimeout(this._timerId),this._timerId=setTimeout((()=>{this._isFulfilled=!0,this.pause(),this._callback()}),this._timeRemaining),this._isPaused=!1)}pause(){this._isPaused||(clearTimeout(this._timerId),this._continuous?this._timeRemaining=this._minTime:this._timeRemaining-=new Date-this._startTime,this._isPaused=!0)}getMinVisibility(){return this._minVisibility}getMinTime(){return this._minTime}isFulfilled(){return this._isFulfilled}isPaused(){return this._isPaused}getTimeRemaining(){return this._timeRemaining}stop(){clearTimeout(this._timerId),this._isPaused=!0}constructor(e,t,n,i,r){this._name=e,this._minVisibility=t,this._minTime=n,this._continuous=i,this._callback=r,this._timeRemaining=n,this._isPaused=!0,this._isFulfilled=!1}}class Yi{addStrategy(e,t){this._strategies[e.name]=new ji(e.name,e.minVisibility,e.minTime,e.continuous,t),this._updateStrategies()}updateAdPlaying(e){this._adPlaying=e,this._updateStrategies()}updateVisibility(e){this._visibility=e,this._updateStrategies()}_updateStrategies(){Object.keys(this._strategies).forEach((e=>{const t=this._strategies[e];this._adPlaying&&this._visibility>=t.getMinVisibility()&&!t.isFulfilled()?t.run():t.pause()}))}getStrategy(e){return this._strategies[e]}isViewabilityMeasurementActive(){return Object.keys(this._strategies).length>0}reset(){Object.keys(this._strategies).forEach((e=>{this._strategies[e].stop(),this._strategies[e]={},delete this._strategies[e]})),this._strategies={},this._adPlaying=!1}destroy(){this.reset(),this._visibility=-1}constructor(){this._adPlaying=!1,this._visibility=-1,this._strategies={}}}const Gi=(...e)=>{window.console&&window.console.warn&&window.console.warn(...e)},Fi={colors:{primaryColor:"rgb(255, 255, 255)"},sticky:{enabled:!1,position:"bottomRight",top:"auto",right:20,bottom:0,left:"auto",allowAdClose:!1,snapTop:void 0,dockTargetSelector:void 0},mobileOverrides:{sticky:{}},enableRevolverPlay:!0,revolverPlayWhenAd:!1,enableRecommendations:!0,startBehavior:"click-to-play",startVolume:void 0,playOnVisibility:50,enableEarlyRecommendations:!0,loadThirdPartyOnlyIfConsent:!1,noConsentNoAutoplay:!0,earlyRecommendations:{showAfterSeconds:15,minimumContentDurationSeconds:30,buttonCountdownSeconds:5},enableBranding:!0,contentPlaybackRate:1,revolverPlayTime:8e3,autoplayRevolverPlayTime:0,autoplayContentPlaybackRate:1,enableContentFrequencyCapping:!1,preferMp4:!1,ui:{title:!0,poweredBy:!0,contentOwnerLogo:!0,contentPreview:!0,nextVideoButton:!1},ad:{maxRedirectCount:10,videoLoadTimeout:7500,vastLoadTimeout:5e3,enabled:!0,adIntensity:1,showImaUi:!1,maxWaterfallLength:1/0,maxAdDuration:void 0,showroom:void 0},articleAugmentation:{imageSelector:void 0,verticalPosition:"center",horizontalPosition:"center"}};class zi{_handleRemoteConfig({mobileOverrides:e,...t},{mobileOverrides:n,...i}){const r=Wi(t,i),o=Wi(e,n);return this._isMobile?Wi(r,o):r}_applyPageUrlProps({glomexConfigOverrides:e,glomexEnableBranding:t}){let n,i={};try{({mobileOverrides:n,...i}=JSON.parse(e))}catch(t){e&&Gi("Config overrides provided in URL is invalid.")}const r=Wi(i,n);return t&&(r.enableBranding=!0),r}_applyIntegrationIdOverrides(e){const t={};return"40599z1tm17odw13"===e.id&&(t.preferMp4=!0,t.ad={enabled:!1}),"40599x1im17ofkdk"===e.id&&(t.preferMp4=!0,t.ad={maxWaterfallLength:1}),"40599x1im17ogxlv"===e.id&&(t.preferMp4=!0),"40599z1tlzs2aau7"===e.id&&(t.ad={maxAdDuration:23}),Wi(e,t)}get({integrationId:e,environment:t,pageUrlProps:n={},inlineConfig:i={}}){const r="stage"===t?"https://vvs-config.stage.mes.glomex.cloud":"https://config-vvs.glomex.com",o=Fi,s=t=>{if(t.id!==e)return Gi("Id in remote config does not match given integration id. Using default configuration."),$i(Wi({id:e,...o}));const r=this._applyIntegrationIdOverrides(this._handleRemoteConfig(o,t)),s=this._applyPageUrlProps(n);return $i(Wi(Wi(r,i),s))};return this._fetch(`${r}/${e}.json`).catch((()=>({status:500}))).then((t=>t.status>=400?(Gi(`Cannot fetch integration config (${e}), code=${t.status}. Using default configuration.`),{id:e,...o}):t.json())).then(s,s)}constructor({fetch:e,isMobile:t}){this._fetch=e,this._isMobile=t}}function Wi(e,t){return Dn(e||{},t||{})}function $i(e){const t=function(e){const t={top:{top:"0px",right:"auto",bottom:"auto",left:"50%"},bottom:{top:"auto",right:"auto",bottom:"0px",left:"50%"},left:{top:"50%",right:"auto",bottom:"auto",left:"0px"},right:{top:"50%",right:"0px",bottom:"auto",left:"auto"},bottomLeft:{top:"auto",right:"auto",bottom:"0px",left:"0px"},bottomRight:{top:"auto",right:"20px",bottom:"0px",left:"auto"},topLeft:{top:"0px",right:"auto",bottom:"auto",left:"0px"},topRight:{top:"0px",right:"20px",bottom:"auto",left:"auto"},stickyTop:{top:"0px",right:"auto",bottom:"auto",left:"auto"},stickyTopExpanded:{top:"0px",right:"auto",bottom:"auto",left:"auto"}},n={};return["top","right","bottom","left"].forEach((t=>{const i=parseInt(String(e[t]).replace(/[^\d].*/,""),10);null!=e[t]&&(e.position||"").toLowerCase().indexOf(t)>-1&&Number.isInteger(i)&&(String(e[t]).match(/%$/)?n[t]=`${i||0}%`:n[t]=`${i||0}px`)})),{...t[e.position],...n}}(e.sticky);return Object.keys(t).forEach((n=>{e.sticky[n]=t[n]})),e}function Ki(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}var qi=({mapContentResource:e,integrationService:t,integrationId:n,variantId:i,title:r,poster:o,teaserVideo:s,pageTitle:a,pageDescription:l,pageLanguage:c,pagePublishedTime:d})=>new class{get({playlistId:n,otherIntegrations:i}){return t.get(n,this.integrationId,i,this.variantId,this.pageTitle,this.pageDescription,this.pageLanguage,this.pagePublishedTime).then((({items:t=[],context:i={},error:a})=>{this.nextPlaylistId=i.next_playlist_id,this.currentPlaylist=t;const l=this.currentPlaylist.map((t=>e(t,{playlistId:i.playlist_id||n})));return n&&(0===n.indexOf("v-")||0===n.indexOf("dv-"))&&Array.isArray(l)&&l.length>0&&(l[0].title=r||l[0].title,l[0].poster=o||l[0].poster,l[0].teaser&&s&&(l[0].teaser.video=s)),{error:a,items:l,context:Zi(i,n)}}))}getRecommendations(){return t.get(this.nextPlaylistId,this.integrationId,void 0,this.variantId,this.pageTitle,this.pageDescription,this.pageLanguage,this.pagePublishedTime).then((({items:t=[],context:n={},error:i})=>{const r=Zi(n,this.nextPlaylistId);let o=t.map((t=>e(t,{playlistId:r.id,isRecommendation:!0})));const s=this.currentPlaylist.map((e=>e.id));return this.nextPlaylistId=n.next_playlist_id,o=o.filter((e=>s.indexOf(e.id)<0)),{error:i,items:o,context:r}}))}constructor(e){this.integrationId=e,this.variantId=i,this.pageTitle=a,this.pageDescription=l,this.pageLanguage=c,this.pagePublishedTime=d,this.currentPlaylist=[],this.nextPlaylistId=void 0}}(n);function Zi(e,t){let n=e||{};n.payload&&n.error&&(n=n.payload);const{playlist_id:i,geolocation:r,integration:o,publisher:{id:s,country_code:a="unknown",name:l="unknown",parent:{id:c}={},partner:{id:d}={}}={},article:u}=n,{publishing_mode:p,product:m,product_format:h,contextual_backfill:g}=o||{},y=function(e={}){const{topics:{data:t}={}}=e;if(!t)return Ji.UNKNOWN;const n=t["Sensitive Keywords"];if(void 0===n)return Ji.UNKNOWN;if(null===n)return Ji.NONE;if(0===Object.keys(n).length)return Ji.NONE;if(n.high)return Ji.HIGH;if(n.medium)return Ji.MEDIUM;if(n.low)return Ji.LOW;return Ji.NONE}(u);return{id:i||t,userCountryCode:r,publisherId:s,publisherName:l,publisherCountryCode:a.toLowerCase(),partnerId:d,parentId:c,publishingMode:p,product:m,productFormat:h,contextualBackfill:Boolean(g),articleBrandSafetyRisk:y}}const Ji={HIGH:"high",MEDIUM:"medium",LOW:"low",NONE:"none",UNKNOWN:"unknown"};function Xi(e,t){let n="",i=0;for(let r=0;r<e.length;r++){const o=encodeURIComponent(e[r]);if(i+o.length>t)break;n+=o,i+=o.length}return n}class Qi extends Error{constructor(e,{code:t}={}){super(e),this.name="PlaylistError",this.code=t}}class er extends Error{constructor(e,{code:t}={}){super(e),this.name="PlaylistHiddenError",this.code=t}}class tr{get(e,t,n,i,r,o,s,a){const l=this._createUrl(t,e,n,i);let c=encodeURIComponent(r||""),d=encodeURIComponent(o||"");c.length>2e3&&(c=Xi(r,2e3)),d.length>4e3&&(d=Xi(o,4e3));const u={"Glomex-Article-Title":c,"Glomex-Article-Description":d,"Glomex-Article-Language":encodeURIComponent(s||""),"Glomex-Article-Published-Time":a||""};return this._performRequest(l,u)}_performRequest(e,t={}){return this._externalPlaylist?Promise.resolve(this._handleResponse(this._externalPlaylist)):this._fetch(e,{method:"GET",credentials:"omit",headers:t}).then((e=>{const{status:t}=e;return e.json().then((e=>({...e,statusCode:t})))})).then(((...e)=>this._handleResponse(...e)),(e=>({error:new Qi(e.message)})))}_handleResponse({statusCode:e,videos:t,...n}){if(e>=400)return{error:new Qi(n.error||"Playlist service error",{code:e}),context:n};if(200===e&&"hidden"===n.status)return{error:new er(`Playlist hidden: ${n.reason}`,{code:n.reason}),context:n};if(!t||!Array.isArray(t))return{error:new Qi(n.error||"Playlist videos malformed",{code:e}),context:n};if(0===t.length)return{context:n,error:new Qi("playlistEmpty",{code:"playlistEmpty"})};n.sort_order&&"random"===n.sort_order&&this._arrayShuffle(t);let i=t;return t.length>1&&(i=t.filter((e=>null==e.error_code)),0===i.length&&(i=t)),{items:i,context:n}}static removeUndefinedProperties(e){const t={};return Object.keys(e).forEach((n=>{const i=e[n];void 0!==i&&(t[n]=i)})),t}_createUrl(e,t,n,i){const r=tr.removeUndefinedProperties({integration_id:e,playlist_id:t||void 0,player_variant_id:i||void 0,current_url:this._pageUrl}),o=U(r);return`${this._baseUrl}?${o}${this._stringifyOtherIntegrations(n)}`}_stringifyOtherIntegrations(e=[]){if(0===e.length)return"";let t="";return e.slice(0,10).forEach(((e,n)=>{const i=e.integrationId.split("@")[0];t+=`&other_integrations[${n}][integration_id]=${encodeURIComponent(i)}`,e.playlistId&&(t+=`&other_integrations[${n}][playlist_id]=${encodeURIComponent(e.playlistId)}`),e.variantId&&(t+=`&other_integrations[${n}][player_variant_id]=${encodeURIComponent(e.variantId)}`)})),t}constructor({fetch:e,baseUrl:t,store:n,arrayShuffle:i,externalPlaylist:r}){this._fetch=e,this._baseUrl=t;const{environment:{pageUrl:o}}=n.getState();this._pageUrl=o,this._arrayShuffle=i,this._externalPlaylist=r}}function nr(e){this.message=e}nr.prototype=new Error,nr.prototype.name="InvalidCharacterError";var ir="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new nr("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,o=0,s="";i=t.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function rr(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(ir(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return ir(t)}}function or(e){this.message=e}or.prototype=new Error,or.prototype.name="InvalidTokenError";const sr={1:"IAB2",42:"IAB1-1",52:"IAB3",123:"IAB4",132:"IAB5",186:"IAB6",201:"IAB1-3",210:"IAB8",223:"IAB7",239:"IAB9",274:"IAB10",324:"IAB1-5",338:"IAB1-6",379:"IAB12",391:"IAB13",422:"IAB16",432:"IAB1-2",441:"IAB21",453:"IAB23",464:"IAB15",473:"IAB22",483:"IAB17",552:"IAB18",596:"IAB19",640:"IAB1-7",653:"IAB20",680:"IAB9-30"},ar={"tx-b5mmqcm19f29":"Automotive","tx-b5mmqcmm6s7d":"Cooking","tx-b5mmqcogkgr5":"Entertainment","tx-b5mmqcp0vy35":"Entertainment","tx-b5mmqcq91awp":"Entertainment","tx-b5mmqcrgvqzd":"Entertainment","tx-bh0kk4urc929":"Entertainment","tx-b5mmqcn9hu81":"Fashion","tx-b5mmqcpooa0p":"News","tx-b5mmqcs46zy1":"Travel","tx-b5mmqcqwv8pl":"Sports","tx-b5mmqcnthx29":"Health"},lr={"tx-b5moncvytli1":0,"tx-b6h8afx7dyxt":6,"tx-b5moncx79xdt":12,"tx-b6h8afx8o4z5":16,"tx-b5moncyezund":18};class cr extends Error{constructor(e,{code:t}={}){super(e),this.name="ContentError",this.code=t}}function dr(e,t){return e.filter((e=>e.typeId===t))[0]||{}}function ur(e=[]){const t=e.find((e=>e&&e.teaser_url&&-1!==e.teaser_url.indexOf(".mp4")));return t?t.teaser_url:void 0}const pr=(e,{playlistId:t,isRecommendation:n=!1}={})=>{const i=[],r=[],o=[],s=[],a=function(e){return e&&Array.isArray(e)?e.map((e=>({id:e.id,parentId:e.parent_id,typeId:e.type_id,title:e.title}))):[]}(e.taxonomies),l=e.channel||{},c=e.content_owner||{},d=l.images&&l.images.logo_sq_lbg||{},u={progressive:"video/mp4",hls:"application/x-mpegURL",dash:"application/dash+xml",html:"text/html"},p=dr(a,"tx-b5mh30osx3bt"),m=dr(a,"tx-b5mh30oq7yex"),h=dr(a,"tx-b5mh30osd8tl"),g=dr(a,"tx-b5mh30oth1ox"),y=a.filter((e=>"tx-d0qkyqo7hecx"===e.typeId));a.forEach((e=>{"tx-bxv6cw0lfwe9"===e.typeId&&r.push({id:e.id,title:e.title}),"tx-bw8k8061vtcx"===e.typeId&&(o.push(e.title),sr[e.title]&&s.push(sr[e.title]))})),e.source&&Object.keys(e.source).length>0&&Object.keys(e.source).forEach((t=>{u[t]&&e.source[t]&&i.push({mimetype:u[t],url:e.source[t],validUntil:gr(e.source[t])})}));const E=function(e,t){let n,i={};const r=function(e=[]){const t=e.find((e=>e&&e.image&&e.image.url));if(t)return t}(e.teasers);return e.image&&(i=e.image),r&&(i=r.image,n=r.title),{firstFrame:e.source&&e.source.first_frame,seoContentUrl:e.source&&e.source.seo_content_url,poster:`${i.url}/profile:player-960x540`,thumbnail:`${i.url}/profile:new-video-224x126`,video:ur(e.teasers),title:n||t}}(e,mr(e,e.title,"alternative_titles")),_={id:e.clip_id,duration:Math.round(e.clip_duration/1e3),title:E.title,description:mr(e,e.description,"alternative_descriptions"),language:e.language,poster:E.poster,thumbnail:E.thumbnail,isRecommendation:n,playlistId:t,teaser:E,taxonomies:a,labels:r,type:`${e.type}${e.is_drm?"-drm":""}`,iabCategories:o,oldIabCategories:s,aspectRatio:hr(e),contentOwner:{id:e.tenant_id,name:c.display_name,url:d.url_external_page||c.link_url,logo:d.url&&`${d.url}/profile:content-owner-logo`},fskAgeRating:{id:g.id,name:g.title||"0+",startAge:lr[g.id]||0},ageRatingDetails:y,channel:{name:p.title||c.display_name,id:p.id||""},show:{name:h.title||"",id:h.id||""},category:{name:m.title||"",id:m.id||""},genre:ar[m.id]||"Other",showProductPlacement:e.product_placement,sources:i,error:e.error_code?new cr(e.error_code,{code:e.error_code}):void 0,keywords:e.keywords,portalReleaseDate:null==e.portal_release_date||Number.isNaN(Number(e.portal_release_date))?void 0:1e3*e.portal_release_date,portalEndDate:null==e.portal_end_date||Number.isNaN(Number(e.portal_end_date))?void 0:1e3*e.portal_end_date,regionsAllowed:e.geo_locations||["all"],experiments:e.experiments,branding:{logoUrl:void 0,logoLinkUrl:void 0}};if(e.branding_parameters&&e.branding_parameters.assetUrl&&(_.branding={..._.branding,backgroundColor:e.branding_parameters.backgroundColor,cutInZoomAssetUrl:e.branding_parameters.assetUrl,cutInZoomHideTimeout:e.branding_parameters.hideTimeout||0}),e.branding&&"object"==typeof e.branding){const t=e.branding||{};_.branding={backgroundColor:t.background_color,cutInZoomAssetUrl:t.cut_in_zoom_asset_url,cutInZoomHideTimeout:t.cut_in_zoom_hide_timeout||0,logoUrl:t.logo_url||_.branding.logoUrl,logoLinkUrl:t.logo_link_url||_.branding.logoLinkUrl}}return e.tracking&&e.tracking.name&&(_.tracking={name:e.tracking.name,scriptUrl:e.tracking.script_url,data:yr(e.tracking.data)}),e.is_drm&&(_.drm=e.drm),e.livestream&&(_.livestream={startTime:1e3*e.livestream.start_time},e.livestream.end_time&&(_.livestream.endTime=1e3*e.livestream.end_time)),_};function mr(e,t,n){let i=t;if(e[n]){let t;Array.isArray(e[n])?e[n].length&&(t=[e[n].length-1]):t=Object.getOwnPropertyNames(e[n]),t&&t.length>0&&(i=e[n][t[t.length-1]])}return i}function hr(e){const t=e.video_orientations&&e.video_orientations[0];return"V"===t?"9:16":"S"===t?"1:1":"16:9"}function gr(e){let t=Date.now()+36e5;try{const n=e.split("/");t=1e3*function(e,t){if("string"!=typeof e)throw new or("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(rr(e.split(".")[n]))}catch(e){throw new or("Invalid token specified: "+e.message)}}(n[n.length-2]).exp||t}catch(e){}return t}function yr(e){const t={};return Object.keys(e).forEach((n=>{const i=n.replace(/_([a-z])/g,(e=>e[1].toUpperCase()));t[i]=e[n]})),t}class Er{constructor({store:e,externalPlaylist:t}){const{environment:{variantId:n,pageUrlProps:i,pageTitle:r,pageDescription:o,pageLanguage:s,pagePublishedTime:a},integration:{integrationId:l,environment:c,title:d,poster:u,teaserVideo:p}}=e.getState();let m="stage"===c?"https://integration-cloudfront-eu-west-1.stage.mes.glomex.cloud/":"https://integration-cloudfront-eu-west-1.mes.glomex.cloud/";i.glomexIntegrationServiceBaseUrl&&(m=i.glomexIntegrationServiceBaseUrl);const h=new tr({fetch:window.fetch.bind(window),baseUrl:m,store:e,arrayShuffle:Ki,externalPlaylist:t});return qi({mapContentResource:pr,integrationService:h,integrationId:l,variantId:n,title:d,poster:u,teaserVideo:p,pageTitle:r,pageDescription:o,pageLanguage:s,pagePublishedTime:a})}}function _r({createUuid:e},t,n,i,r=[]){r.forEach(((r,s)=>r.forEach(((a,l)=>{const{salesHouseId:c,lineItemId:d}=a.schedulerInfo||{};a.errorPixel=function({createUuid:e},t,n,i,r,s,a,l,c,d){const u={...In({createUuid:e},t,"Ad Error"),adWaterfallIndex:n,adWaterfallLength:i,adPositionIndex:r,adUrl:s,salesHouseId:a,lineItemId:l,adBreakName:c,adBreakIndex:d},p="stage"===t.environment?Ni:Si;let m={};const[h,g]=p.split("?");g&&(m=k(g));const y={...m,...u};return`${o(h,y)}&errorCode=[ERRORCODE]&assetUri=[ASSETURI]`}({createUuid:e},t,l,r.length,s,a.url,c,d,n,i)}))))}class fr{get(){return Promise.resolve(this._getSalesHouseConfigurations()).then(((e=[])=>e.map((e=>ht({store:this._store,salesHouseConfig:e}))))).then((e=>e.map((e=>(({salesHouseConfiguration:e})=>(e=>({get:()=>Promise.resolve(e.schedule||{}),getInfo:()=>({salesHouseId:e.salesHouseId,lineItemId:e.lineItemId})}))(e))({salesHouseConfiguration:e}))))).then((e=>Promise.all(e.map((e=>e.get().then((t=>(function(e,t){if(!e)return;Object.keys(e).forEach((n=>{e[n].forEach((({schedulerInfo:i},r)=>{e[n][r].schedulerInfo={...i,...t}}))}))}(t,e.getInfo()),t))).catch((e=>(this._actions.playlistitemmonetization.error(new Error(`Single schedule error: ${e.message}`)),console.error(e),{})))))).then((e=>function(...e){const t={},n=e.map((e=>Object.keys(e)));return[].concat(...n).filter(((e,t,n)=>n.indexOf(e)===t)).forEach((n=>{t[n]=function(e,t){const n=[];return t.forEach((t=>{t[e]&&t[e].forEach(((e,t)=>{n[t]||(n[t]=[]);const i={...e,schedulerInfo:{...e.schedulerInfo}};n[t].push(i)}))})),n}(n,e)})),t}(...e))))).then((e=>function({createUuid:e},t,n){const{start:i=[],end:r=[]}=t;return 0===i.length&&0===r.length?{}:(_r({createUuid:e},n,"preroll",0,i),_r({createUuid:e},n,"postroll",0,r),{start:i,end:r})}({createUuid:this._createUuid},e,this._store.getState()))).catch((e=>(console.error(e),this._actions.playlistitemmonetization.error(new Error(`General schedule error: ${e.message}`)),{})))}constructor({getSalesHouseConfigurations:e,store:t,createUuid:n,actions:i}){this._store=t,this._createUuid=n,this._getSalesHouseConfigurations=e,this._actions=i,this._salesHouseLifecycleHooks={}}}function Ir({store:e,actions:t,getSalesHouseConfigurations:n}){return new fr({store:e,createUuid:Lt,getSalesHouseConfigurations:n,actions:t})}const br=Object.prototype.toString,vr=Array.isArray||function(e){return"[object Array]"===br.call(e)};function Tr(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function Ar(e){let t;return t="function"==typeof Number.parseInt?Number.parseInt(e,10):parseInt(e,10),t.toString()===e?t:e}function wr(e={}){const t=function(e){return Object.keys(t).reduce(((n,i)=>("create"===i||"function"==typeof t[i]&&(n[i]=t[i].bind(t,e)),n)),{})};function n(t,n){if(function(t,n){return e.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||Tr(t,n)}(t,n))return t[n]}function i(e,t,r,o){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return i(e,t.split(".").map(Ar),r,o);const s=t[0],a=n(e,s);return 1===t.length?(void 0!==a&&o||(e[s]=r),a):(void 0===a&&("number"==typeof t[1]?e[s]=[]:e[s]={}),i(e[s],t.slice(1),r,o))}return t.has=function(t,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(let i=0;i<n.length;i++){const r=Ar(n[i]);if(!("number"==typeof r&&vr(t)&&r<t.length||(e.includeInheritedProps?r in Object(t):Tr(t,r))))return!1;t=t[r]}return!0},t.set=function(e,t,n,r){return i(e,t,n,r)},t.get=function(e,i,r){if("number"==typeof i&&(i=[i]),!i||0===i.length)return e;if(null==e)return r;if("string"==typeof i)return t.get(e,i.split("."),r);const o=Ar(i[0]),s=n(e,o);return void 0===s?r:1===i.length?s:t.get(e[o],i.slice(1),r)},t}const Pr=wr();Pr.create=wr,Pr.withInheritedProps=wr({includeInheritedProps:!0});const Nr="$and",Sr="$or";function Cr(e,t,n=Nr){const i=Object.keys(e);let r=0;for(let o=0;o<i.length;o++){const s=i[o];if((!Array.isArray(e)||!Cr(e[s],t))&&((s!==Nr&&s!==Sr||!Cr(e[s],t,s))&&("$eq"!==s||e[s]!==t)&&("$ne"!==s||e[s]===t)&&("$in"!==s||-1===e[s].indexOf(t))&&("$nin"!==s||-1!==e[s].indexOf(t))&&!("$lt"===s&&t<Number(e[s]))&&!("$gt"===s&&t>Number(e[s]))&&!("$lte"===s&&t<=Number(e[s]))&&!("$gte"===s&&t>=Number(e[s]))&&("$regex"!==s||!0!==new RegExp(e[s]).test(t))&&("$regexInverse"!==s||!0===new RegExp(e[s]).test(t))&&("$notContains"!==s||(Array.isArray(t)?t:[]).includes(e[s]))&&("$contains"!==s||!(Array.isArray(t)?t:[]).includes(e[s])))){if(n===Nr)return!1;r+=1}}return n!==Sr||i.length!==r}const Or=(e,t,n)=>"boolean"==typeof e?e===!!t:"object"!=typeof e?e===t:"object"==typeof e&&Cr(e,t,n);function xr(e,t,n,i=Nr){const r=Object.keys(e);let o=0;for(let s=0;s<r.length;s++){const a=r[s],l=e[a];if(Array.isArray(e)){if(xr(l,t,n))continue}else if(a===Nr||a===Sr){if(xr(l,t,n,a))continue}else{if(-1!==n.indexOf(a))continue;if(Or(l,Pr.get(t,a)))continue}if(i===Nr)return!1;o+=1}return i!==Sr||r.length!==o}const Rr=(e={},t={},n=[])=>{if("object"!=typeof e)throw new Error("Evaluation of conditions failed. Conditions must be an object");return xr(e,t,n)},Lr=(e,t,n={},i=[])=>{let r=e.filter((e=>Rr(e.conditions,t,i)));return r=r.map((e=>{const i={...e,settings:{...e.settings,...n}};if(i.dynamicSettings){const e=((e,t)=>{const n={};return e.forEach((e=>{const{key:i}=e;if(e.values)(e.conditions&&Rr(e.conditions,t)||!e.conditions)&&(n[i]||(n[i]=[]),n[i].push(...e.values.map((e=>{if(Rr(e.conditions,t))return e.value})).filter((e=>void 0!==e))));else{const{value:r,conditions:o,isDefault:s}=e;(s||Rr(o,t))&&(n[i]=r)}})),n})(i.dynamicSettings,t);i.settings={...i.settings,...e}}return i})),r};class kr{_getExperimentByName(e){return this._experiments.find((t=>t.name===e))}assign(){const e=this._assignExperiments(),{environment:{pageUrlProps:t}}=this._getState();return t.glomexAbExperiment&&this._addExperimentFromUrl(e,t),{assignedExperiments:e.map((e=>{const t={name:e.name,selectedVariant:e.selectedVariant,type:e.type};return"content"===e.type&&(t.identifier=e.identifier),t})),mergedConfigOverride:this._mergeConfigOverride(e),mergedContentOverride:this._mergeContentOverride(e)}}_mergeConfigOverride(e){return e.reduce(((e,t)=>Dn(e,t.configOverride)),{})}_mergeContentOverride(e){return e.reduce(((e,t)=>(t.identifier&&(e[t.identifier]=Dn(e[t.identifier]||{},t.contentOverride)),e)),{})}_addExperimentFromUrl(e,t){const n=e.find((e=>e.name===t.glomexAbExperiment));if(n){if(!n.variants[t.glomexAbGroup])return void console.warn(`Group ${t.glomexAbGroup} not found in experiment ${t.glomexAbExperiment}`);n.selectedVariant=t.glomexAbGroup,n.configOverride=n.variants[t.glomexAbGroup].configOverride||{},n.contentOverride=n.variants[t.glomexAbGroup].contentOverride||{}}else{const n=this._getExperimentByName(t.glomexAbExperiment);if(!n)return void console.warn(`Experiment ${t.glomexAbExperiment} not found`);const i=n.variants[t.glomexAbGroup];if(!i)return void console.warn(`Group ${t.glomexAbGroup} not found in experiment ${t.glomexAbExperiment}`);const r={name:t.glomexAbExperiment,selectedVariant:t.glomexAbGroup,type:n.type,configOverride:i.configOverride||{},contentOverride:i.contentOverride||{}};"content"===n.type&&(r.identifier=n.identifier),e.push(r)}}_assignExperiments(){const e=Lr(this._experiments,{...this._additionalData,...this._getState()}).filter((e=>e.enabled)),t=this._getAbExperiments();let n=[];this._excludedExperimentNames=[],e.forEach((e=>{t.included[e.name]?n.push(e):t.excluded.includes(e.name)?this._excludedExperimentNames.push(e.name):this._isParticipatingByChance(e)?n.push(e):e.persist&&this._excludedExperimentNames.push(e.name)}));return n.some((e=>e.exclusive))&&(n=n.filter((e=>e.exclusive)),n=[Ki(n)[0]]),this._includedExperiments=n.map((e=>{let n;n=t.included[e.name]?t.included[e.name]:this._pickVariant(e);const i={name:e.name,selectedVariant:n,type:e.type,configOverride:e.variants[n].configOverride||{},contentOverride:e.variants[n].contentOverride||{},persist:e.persist||!1};return"content"===e.type&&(i.identifier=e.identifier),i})),this._includedExperiments}storeAssignedExperiments(){const e={included:{},excluded:this._excludedExperimentNames};this._includedExperiments.forEach((t=>{t.persist&&(e.included[t.name]=t.selectedVariant)})),this._storeAbExperiments(e)}_checkConditions(e){if(!e.conditions)return!0;const t=this._getState(),n={...this._additionalData,...t},i=Object.keys(e.conditions);for(let t=0;t<i.length;t++){const r=i[t];if(e.conditions[r]!==rt.get(n,r))return!1}return!0}constructor({store:e,additionalData:t,experiments:n,isParticipatingByChance:i,pickVariant:r,getAbExperiments:o,storeAbExperiments:s}){this._experiments=n,this._getState=()=>e.getState(),this._additionalData=t,this._isParticipatingByChance=i,this._pickVariant=r,this._excludedExperimentNames=[],this._includedExperiments=[],this._getAbExperiments=o,this._storeAbExperiments=s}}class Ur extends t{addEventListener(...e){return this.on(...e)}removeEventListener(...e){return this.off(...e)}destroy(){this.removeAllListeners()}}const Mr="https://player.glomex.com/integration/1.1218.8";var Dr=null;var Vr=function(){return Dr||(Dr=`${Mr}/`),Dr};class Br{initialize({script:e}){return e?(this._initializationPromise||(this._initializationPromise=(({window:e})=>new Promise(((t,n)=>{const i=function(e){const t=e.createElement("iframe");return t.style.display="none",t}(e.document);i.addEventListener("load",(()=>{t(i)})),i.addEventListener("error",(e=>{n(new Error(`Error loading partner script iframe: "${e}".`))}));const o=`<!DOCTYPE html>\n  <meta charset="utf-8">\n  <title>partner-iframe</title>\n  <base href="${Vr()}">\n  <script>\n    window.Promise || document.write('<script src="es6-promise@4.2.4/es6-promise.auto.min.js"><\\x2fscript>');\n    window.fetch || document.write('<script src="whatwg-fetch@2.0.4/fetch.min.js"><\\x2fscript>');\n    typeof window.URL === 'function' || document.write('<script src="url-polyfill@1.1.0/url-polyfill.min.js"><\\x2fscript>');\n    window.navigator.sendBeacon || document.write('<script src="sendbeacon-polyfill@1.0.0.js"><\\x2fscript>');\n    if (window.scriptReadyCallback) { window.scriptReadyCallback() };\n  <\/script>`;r({iframe:i,targetNode:e.document.body,doc:o})})))({window:this._window}).then((t=>{this._iframe=t,this._iframeApi=new Ur,this._iframe.contentWindow.connectGlomexPlayer=e=>{e(this._iframeApi),this._initialResolve()},this._loadScript(e),setTimeout((()=>this._initialReject(new Error(`Missing call to "connectGlomexPlayer(...)" via partnerScript "${e}" within 3000ms.`))),3e3)})).catch((e=>{console.error(e)}))),this._initializationPromise):Promise.resolve()}track(e,t){return this._initialization.then((()=>{this._iframeApi.emit(e,{detail:t})}))}_loadScript(e){const t=this._iframe.contentWindow.document,n=t.createElement("script");n.setAttribute("src",e),t.body.appendChild(n)}destroy(){const e=()=>{this._iframeApi&&this._iframeApi.destroy(),this._iframe&&this._iframe.parentNode.removeChild(this._iframe)};this._initialization.then(e).catch(e)}constructor({window:e}){this._iframe=null,this._window=e,this._initializationPromise=void 0,this._initialization=new Promise(((e,t)=>{this._initialResolve=e,this._initialReject=t})).catch((e=>{console.error(e)}))}}const Hr={"t-bip0op7p8x55":"https://static.adman.gr/glomex/events.js"};class jr extends t{setCurrentTime(e){this._schedule.forEach((t=>{e>=t.startTime&&e<t.endTime&&!t.active&&!t.shown&&(t.active=!0,this.emit("onShowCompanion",t.renderingMode)),e>t.endTime&&t.active&&(t.active=!1,t.shown=!0,this.emit("onHideCompanion",t.renderingMode))}))}setup({start:e,end:t,contentDuration:n,renderingMode:i}){this.reset(),this._schedule.push({renderingMode:i,startTime:e*n/100,endTime:t*n/100,active:!1,shown:!1})}reset(){this._schedule=[]}destroy(){this.reset(),this.removeAllListeners()}onShowCompanion(e){this.on("onShowCompanion",e)}onHideCompanion(e){this.on("onHideCompanion",e)}constructor(){super(),this._schedule=[]}}class Yr{get name(){return this._name}get lastEntry(){return this._timeline[this._timeline.length-1]}get isStarted(){return this.lastEntry&&"start"===this.lastEntry.type}get isStopped(){return 0===this._timeline.length||this.lastEntry&&"stop"===this.lastEntry.type}start(e){this.isStarted||this._timeline.push({type:"start",timestamp:e||this._getCurrentTime()})}stop(e){this.isStopped||this._timeline.push({type:"stop",timestamp:e||this._getCurrentTime()})}calculate(e){if(0===this._timeline.length)return 0;let t=0;for(let e=0;e<this._timeline.length;e++)if("stop"===this._timeline[e].type){const n=this._timeline[e].timestamp,i=this._timeline[e-1].timestamp;n>i&&(t+=n-i)}if("stop"!==this.lastEntry.type){const n=e,i=this.lastEntry.timestamp;n>i&&(t+=n-i)}return t=Math.max(0,Math.min(t,432e5)),t}constructor({getCurrentTime:e,name:t}){this._timeline=[],this._name=t,this._getCurrentTime=e}}const Gr="viewability";class Fr{_switchActiveTimers(e){let t;const n=e===Gr?"activeViewabilityTimer":"activeAudibilityTimer",i=e===Gr?"inactiveViewabilityTimer":"inactiveAudibilityTimer";Object.keys(this._timers).forEach((e=>{const r=this._timers[e][n],o=this._timers[e][i];r.isStarted&&(t||(t=this._getCurrentTime()),r.stop(t),o.start(t)),this._timers[e][n]=o,this._timers[e][i]=r}))}prepare(e){if(2!==e.split(".").length)throw new Error("Invalid name: A timer name must always contain scope and name (scope.name)");this._timers[e]||(this._timers[e]={},["total","visible","nonVisible","audible","nonAudible"].forEach((t=>{this._timers[e][t]=new Yr({getCurrentTime:this._getCurrentTime,name:`${e}-${t}`})})),this._timers[e].activeViewabilityTimer=this._viewable?this._timers[e].visible:this._timers[e].nonVisible,this._timers[e].inactiveViewabilityTimer=this._viewable?this._timers[e].nonVisible:this._timers[e].visible,this._timers[e].activeAudibilityTimer=this._audible?this._timers[e].audible:this._timers[e].nonAudible,this._timers[e].inactiveAudibilityTimer=this._audible?this._timers[e].nonAudible:this._timers[e].audible)}start(e,t){this.prepare(e);const n=t||this._getCurrentTime();this._timers[e]&&["total","activeViewabilityTimer","activeAudibilityTimer"].forEach((t=>{this._timers[e][t].start(n)}))}stop(e,t){this.prepare(e);const n=t||this._getCurrentTime();this._timers[e]&&["total","activeViewabilityTimer","activeAudibilityTimer"].forEach((t=>{this._timers[e][t].stop(n)}))}reset(e){delete this._timers[e],this.prepare(e)}setVisibility(e){const t=e>=.5;this._viewable!==t&&(this._switchActiveTimers(Gr,t),this._viewable=!this._viewable)}setAudibility({volume:e=0,muted:t=!0}){const n=!t&&e>.1;this._audible!==n&&(this._switchActiveTimers("audibility",n),this._audible=!this._audible)}calculate(){const e={},t=this._getCurrentTime();return Object.keys(this._timers).forEach((n=>{const i=this._timers[n].nonVisible.calculate(t),r=this._timers[n].visible.calculate(t),o=this._timers[n].nonAudible.calculate(t),s=this._timers[n].audible.calculate(t),a=this._timers[n].total.calculate(t),[l,c]=n.split(".");e[l]||(e[l]={}),e[l][c]={},e[l][c].viewable=r,e[l][c].nonviewable=i,e[l][c].audible=s,e[l][c].nonaudible=o,e[l][c].total=a})),e}getTimerWithTimestamp(e){const t=this._getCurrentTime();e({start:e=>this.start(e,t),stop:e=>this.stop(e,t),reset:(...e)=>this.reset(...e)})}constructor({getCurrentTime:e}){this._viewable=!1,this._audible=!1,this._timers={},this._getCurrentTime=e}}const zr=e=>d(e),Wr=e=>{const t=e.split("-");if(3!==t.length)return e;const[n,i]=t;return`${n}-${i}`},$r=(e,t)=>{if(!e&&!t)return[];const n={salesHouseId:"glomexShowroom",lineItemId:0,schedule:{}};return e&&(n.schedule.start=[{type:"linear",url:e}]),t&&(n.schedule.end=[{type:"linear",url:t}]),[n]},Kr=(e,t)=>{const{content:{id:n,category:{id:i},channel:{id:r},contentOwner:{id:o},show:{id:s},duration:a,labels:l},player:{wasMutedAdChainSet:c},integration:{integrationId:d,playlistItemBeginCount:u,environment:p},environment:{abSlot:m,device:h,origin:g,pageHostname:y,pageSecondLevelDomain:E,positionOnPage:_,positionInArticle:f,pageUrlProps:I={},consentData:{cacheFriendlyConsentString:b}={},browserType:v,width:T,height:A,variantId:w},playlistContext:{publisherId:P,publisherCountryCode:N,partnerId:S,userCountryCode:C,product:O,productFormat:x,articleBrandSafetyRisk:R},config:{ad:{showroom:L}={}}={},runtime:{startBehavior:k},monetization:{bids:U},abTest:{abExperiments:M=[]}}=t.getState();if("gr"===C&&("t-bip0op7p8x55"===P||"t-bip0op7p8x55"===S)){const e=[967,47],{environment:{consentData:{consentString:n,vendorConsents:i=[],vendorLegitimateInterests:r=[]}}}=t.getState(),o=e.map((e=>i[e]||r[e])).every((e=>!!e));if(!n||o){const e={start:[{type:"linear",url:"https://x.grxchange.gr/videoad/[[salesHouseConfig.settings.prerollAdUnitId]]?vast=2&profile=keywords:[[content.keywords|joinunderscore|limit,100|defaultvalue,none|urlencode]],labels:[[content.labels|extract,id|joinunderscore|limit,100|defaultvalue,none|urlencode]],integrationid:[[integration.integrationId]],playlistid:[[playlistContext.id|urlencode]],playlistindex:[[playlistContext.playlistIndex]],publisherid:[[playlistContext.publisherId|urlencode]],publishercountry:[[playlistContext.publisherCountryCode]],videoid:[[content.id|stripsuffix|urlencode]],ab:[[environment.isAdBlocker|defaultvalue,false]],category:[[content.category.name|dasherize|lowercase|urlencode]],domain:[[environment.pageSecondLevelDomain|urlencode]],pageurl:[[environment.pageUrl|urlencode]],channel:[[content.channel.name|urlencode]],channelid:[[content.channel.id]],contentownerid:[[content.contentOwner.id]],origin:[[salesHouseConfig.settings.mappedOrigin]],showid:[[content.show.id]],contentduration:[[content.duration]],roll:pre&cmpavail=[[environment.consentData.gdprApplies|booltoint]]&cmpconsent=[[environment.consentData.consentString|defaultvalue]]&cmpv=2"}],end:[{type:"linear",url:"https://x.grxchange.gr/videoad/862?vast=2&profile=keywords:[[content.keywords|joinunderscore|limit,100|defaultvalue,none|urlencode]],labels:[[content.labels|extract,id|joinunderscore|limit,100|defaultvalue,none|urlencode]],integrationid:[[integration.integrationId]],playlistid:[[playlistContext.id|urlencode]],playlistindex:[[playlistContext.playlistIndex]],publisherid:[[playlistContext.publisherId|urlencode]],publishercountry:[[playlistContext.publisherCountryCode]],videoid:[[content.id|stripsuffix|urlencode]],ab:[[environment.isAdBlocker|defaultvalue,false]],category:[[content.category.name|dasherize|lowercase|urlencode]],domain:[[environment.pageSecondLevelDomain|urlencode]],pageurl:[[environment.pageUrl|urlencode]],channel:[[content.channel.name|urlencode]],channelid:[[content.channel.id]],contentownerid:[[content.contentOwner.id]],origin:[[salesHouseConfig.settings.mappedOrigin]],showid:[[content.show.id]],contentduration:[[content.duration]],roll:pre&cmpavail=[[environment.consentData.gdprApplies|booltoint]]&cmpconsent=[[environment.consentData.consentString|defaultvalue]]&cmpv=2"}]},t={mappedOrigin:(e=>["content-plugin","glomex-integration","glomex-script","amp-glomex-integration"].includes(e)?"custom-integration":["amp","amp-ad","amp-ad-glomex-script","amp-video-iframe","amp-glomex-player"].includes(e)?"amp":"iframe-facebook-ia"===e?"facebook":"embed")(g),prerollAdUnitId:-1!==["feed","feed-lightbox","template:feed-lightbox","template:feed"].indexOf(w)?"10806":"402"};return Promise.resolve({configs:[{salesHouseId:c?"t-ccioqoqf8hft":"t-biv4g10oc55t",lineItemId:c?56:55,schedule:e,settings:t}]})}return Promise.resolve({configs:[]})}const D={},V=["hb_pb","hb_pbo","hb_li_id","hb_bidder","amznbid","amznbid_sp","amznp_sp","amzndeal_sp","amzndeals","amzn_li_id","dfp_nc","dfp_li_id","dfp_au","dfp_f","dfp_vpa"];Object.keys(U||{}).forEach((e=>{Object.keys(U[e]).filter((e=>V.indexOf(e)>-1||0===e.indexOf("hb_deal_")||0===e.indexOf("hb_pb_"))).forEach((t=>{D[`${e}_${t}`]=U[e][t]}))}));const B=((e,t)=>{if(e.glomexShowroom||t)try{const n=e.glomexShowroom?JSON.parse(e.glomexShowroom):t;if(n&&Array.isArray(n)&&n.length>0){const e=n.map((e=>({...e,salesHouseId:e.salesHouseId||"glomexShowroom",lineItemId:e.lineItemId||0})));return e}}catch(e){console.error("could not parse showroom object",e)}})(I,L);if(B)return Promise.resolve({configs:B});let H=I.glomexSalesHouseConfigEnvironment;H||"stage"!==p||(H="stage");const j=(e=>"local"===e?"https://localhost:8000/v2/config/":"stage"===e?"https://sales-house-configuration.stage.mes.glomex.cloud/v2/config/":"https://sales-house-configuration.mes.glomex.cloud/v2/config/")(H);return function(e,t,n,i){const r=zr(t),o=`${e}?${r}`;return i(o,{mode:"cors"},{timeout:5e3,responseType:"json"}).then((e=>e.data))}(j,{contentCategoryId:i||"",contentChannelId:r||"",contentId:Wr(n||""),contentOwnerId:o||"",contentShowId:s||"",duration:a||"",device:h||"",integrationId:d||"",muted:c||!1,origin:g||"",pageHostname:y||"",pageSecondLevelDomain:E||"",playlistItemBeginCount:u||0,publisherId:P||"",publisherCountryCode:N||"",partnerId:S||"",userCountryCode:C||"",product:O||"",productFormat:x||"",startBehaviorRuntime:k||"",cfConsentString:b||"",labelIds:l.length>0?l.map((e=>e.id)):"",abSlot:m?10*Math.ceil(m/10):"",abExperiments:M||[],positionOnPage:_||"",positionInArticle:f||"",bidParams:encodeURIComponent(zr(D))||"",browserType:v||"",articleBrandSafetyRisk:R||"",width:T||"",height:A||"",variant:w||""},0,e).then((e=>{let t=e.configs||[];e.error&&(t=[]);const n=I&&I.glomexShowroomVastUrl,i=I&&I.glomexShowroomPostrollVastUrl,r=[...$r(n,i),...t];return{...e,configs:r}}))};class qr{get middleware(){return e=>t=>n=>this._connectedMiddleware?(this._initializedMiddleware||(this._initializedMiddleware=this._connectedMiddleware(e)),this._initializedMiddleware(t)(n)):t(n)}connect(e){this.disconnect(),this._connectedMiddleware=e}disconnect(){this._connectedMiddleware=null,this._initializedMiddleware=null}constructor(){this._connectedMiddleware=null,this._initializedMiddleware=null}}const Zr="glomexUser",Jr=/^[0-9a-zA-Z+.=/_\-$,{}]{22,150}$/,Xr=31536e6;function Qr(e){let t={};try{t=JSON.parse(window.localStorage.getItem(Zr))||{}}catch(e){}t.abExperiments=e,window.localStorage.setItem(Zr,JSON.stringify(t))}function eo(){let e={};try{e=JSON.parse(window.localStorage.getItem(Zr))||{}}catch(e){}return e.abExperiments||{included:{},excluded:[]}}function to(e,{getPort:t,setupConfig:n,pageEnvironment:i}={}){e.destroyIframePlayer||(e.destroyIframePlayer=()=>{}),e.destroyIframePlayer();const r=new Fr({getCurrentTime:()=>Date.now()});e.innerHTML='<div class="companion-container ui-layer">\n  </div>\n  <div class="player-container ui-layer">\n    <div class="inner-container"></div>\n  </div>';const o=e.querySelector(".player-container"),s=e.querySelector(".companion-container"),a=e.querySelector(".inner-container"),l=new xt,c=new qr,d=new Yi,p=Ci({window:window,fetch:window.fetch.bind(window),addIgnoreFlag:!1}),m=new De("glomex-player",t||(()=>function(e,t){const n={type:"iframe",_onmessage:void 0,postMessage:(...n)=>{e.parent===t()&&n[0]&&n[0].type===ke&&e.postMessage(...n);const i=t();if(i)return i.postMessage(...n)},get onmessage(){return this._onmessage},set onmessage(n){e.removeEventListener("message",this._onmessage,!1),this._onmessage=i=>{const r=t();i.source!==r&&i.source!==e||!n||n(i)},n&&e.addEventListener("message",this._onmessage,!1)}};return new Promise((i=>{e.parent===t()?"complete"===e.document.readyState||"interactive"===e.document.readyState?setTimeout((()=>i(n)),1):e.addEventListener("load",(()=>i(n)),{once:!0}):i(n)}))}(window,(()=>window.parent)))),h=function({window:e,publicApiEmitter:t}){const n=new Br({window:e,publicApiEmitter:t}),i={};return t.on("event",(({eventName:r,payload:o})=>{var s,a;if(r===t.EVENT.PLAYLIST_CREATE){const e=Hr[o.playlistContext.partnerId]||Hr[o.playlistContext.publisherId];e&&n.initialize({script:e}).catch((e=>{console.error(e)}))}const l="consent"===(null===(a=o.environment)||void 0===a||null===(s=a.consentData)||void 0===s?void 0:s.glomexVendor);(r===t.EVENT.PLAYER_READY||r===t.EVENT.PLAYLISTITEM_SELECT)&&o.content.tracking&&o.content.tracking.name&&o.content.tracking.scriptUrl&&l&&(i[o.content.tracking.name]||(i[o.content.tracking.name]=new Br({window:e,publicApiEmitter:t}),i[o.content.tracking.name].initialize({script:o.content.tracking.scriptUrl}).catch((e=>{console.error(e)})))),n.track(r,o),o.content&&o.content.tracking&&o.content.tracking.name&&i[o.content.tracking.name]&&l&&i[o.content.tracking.name].track(r,o)})),{destroy:()=>{n&&n.destroy(),Object.keys(i).forEach((e=>{i[e].destroy()}))},integrationPartnerApi:n}}({window:window,publicApiEmitter:l}),g=u(window.document);let y;o.insertBefore(g,o.firstChild),(window.AudioContext||window.webkitAudioContext)&&(y=new(window.AudioContext||window.webkitAudioContext));const{actions:E,store:_}=Ai({viewabilityMeasurement:d,global:window,createUuid:Lt,btoa:window.btoa,requestService:p,generateAbSlot:()=>ki(window.navigator.userAgent),addStrategies:Ui,performanceStopwatches:r,publicApiEmitter:l,playerMiddlewareConnector:c});E.runtime.create({}),E.environment.init({externalSetupConfig:n,externalPageEnvironment:i});const{environment:{setupConfig:f,pageSecondLevelDomain:I,origin:b}}=_.getState();["iframe","amp","amp-video-iframe","amp-ad","fullpage","iframe-facebook-ia"].indexOf(b)>-1&&(e.style.background="black");const v=new Ze(window,{origin:b,pageSecondLevelDomain:I,onChange:e=>{E.environment.consentdata({...e.data})}});v.getConsent();const A=function({window:e,store:t,transparencyAndConsent:n,onBidsResponse:i}){return new ft({window:e,store:t,transparencyAndConsent:n,onBidsResponse:i})}({window:window,store:_});let w;const N=new Hi({videoElement:g,audioContext:y,rootNode:e,playerContainer:o,createUi:()=>w||(w=import("./index-48799853.js").then((function(e){return e.i})).then((({default:t})=>t({store:_,actions:E,playerContainer:o,companionContainer:s,rootNode:e,adContainer:a}))),w),actions:E,store:_,window:window,createPlayer:(...e)=>(e=>{const t=import("./blur.js");return wi=wi?wi.then((e=>{e&&e.destroy&&e.destroy()})):Promise.resolve(),wi.then((()=>t.then((t=>t.create(e)))))})(...e),createRemoteConfig:(...e)=>new zi(...e),createPlaylist:(...e)=>new Er(...e),createAd:(...e)=>new Ir(...e),createAbTest:e=>new kr({isParticipatingByChance:({participantPercentage:e})=>!(Math.random()>e/100),pickVariant:e=>{const t=Object.keys(e.variants),n=t.map((t=>e.variants[t].weight||1)),i=n.reduce(((e,t)=>e+t),0),r=Math.random()*i;let o,s=0;for(let e=0;e<t.length;e++)if(s+=n[e],r<=s){o=t[e];break}return o},getAbExperiments:eo,storeAbExperiments:Qr,...e}),createPlaybackHandler:()=>new P,detectAutoplayPolicy:(...e)=>function(e,t,n,i,r){return Promise.all([L(e,{browserType:t,osMajorVersion:n,muted:!1,integrationId:i,pageSecondLevelDomain:r}),L(e,{browserType:t,osMajorVersion:n,muted:!0,integrationId:i,pageSecondLevelDomain:r})]).then((([e,t])=>e?S:t?C:O))}(window,...e),createCompanionScheduler:()=>new jr,getSalesHouseConfigurations:()=>Kr(T,_),playerMiddlewareConnector:c,transparencyAndConsent:v,bidding:A,addVideoObjectJsonLd:Mi.bind(null,window.document,e),getUserDetails:({glomexVendor:e,hasPurpose1Consent:t,pageHostname:n})=>function({window:e,createUuid:t,glomexVendor:n,hasPurpose1Consent:i,pageHostname:r}){if("consent"!==n||!i)return{};let o={domains:new Set,id:void 0,created:void 0};try{o=JSON.parse(e.localStorage.getItem(Zr))||{}}catch(e){}o.id&&Date.now()-o.created>Xr&&(o.id=void 0,o.created=void 0,o.domains=new Set),o.id&&Jr.test(o.id)||(o.id=t("user-id"),o.created=Date.now()),Array.isArray(o.domains)?o.domains=new Set(o.domains):o.domains=new Set,o.domains.add(r),o.domains=Array.from(o.domains);try{e.localStorage.setItem(Zr,JSON.stringify(o))}catch(e){return{}}return{userId:o.id,userDomainCount:o.domains.length}}({window:window,createUuid:Lt,glomexVendor:e,hasPurpose1Consent:t,pageHostname:n}),markContentAsViewed:e=>function({window:e,contentId:t}){let n={};try{n=JSON.parse(e.localStorage.getItem(Zr))||{}}catch(e){}Array.isArray(n.viewedContentIds)||(n.viewedContentIds=[]),n.viewedContentIds=Array.from(new Set([...n.viewedContentIds,t])),n.viewedContentIds.length>100&&n.viewedContentIds.shift(),e.localStorage.setItem(Zr,JSON.stringify(n))}({window:window,contentId:e}),getViewedContentIds:()=>function({window:e}){let t={};try{t=JSON.parse(e.localStorage.getItem(Zr))||{}}catch(e){}return t.viewedContentIds||[]}({window:window})}),x=Re({origin:b,bootstrap:N,iframePlayerCommunication:m,window:window,publicApiEmitter:l,playerContainer:o,globalDestroy:()=>e.destroyIframePlayer(),transparencyAndConsent:v});return e.destroyIframePlayer=()=>{d.destroy(),h.destroy(),N.destroy(),x.destroy(),l.destroy(),e.innerHTML=""},x.setup(f).catch((()=>{})),x}window.GLOMEX_IFRAME_PLAYER_VERSION="1.1218.8";export{to as init};

</script>

</body>
</html>
