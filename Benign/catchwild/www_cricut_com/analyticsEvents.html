<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>analyticsEvents.html</title>
</head>
<body>

<script>
!function(){var t={558:function(t){"use strict";t.exports=function(t){"function"==typeof t?t():"object"==typeof t&&Object.keys(t).forEach((function(e){"function"==typeof t[e]&&t[e]()}))}},884:function(t,e,n){"use strict";var i=!!window.OneTrust,s=i?n(107):{},o=window.cricutOneTrustConfig||{};function c(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(e))return s.substring(e.length,s.length)}return""}t.exports={getCookie:c,pushIntoDataLayer:function(t){if(t&&Object.keys(t).length){window.dataLayer=window.dataLayer||[];var e=t;"cartInteraction"==e.event&&window.dataLayer.push({ecommerce:{products:null}}),window.dataLayer.push(e)}},setProductDetailsViewSource:function(){document.querySelector(".js-recommendations")&&document.querySelector(".js-recommendations").addEventListener("click",(function(){if(!i||!o.blockPDVScookieEnabled||s.isTargetingCatActive()){var t=encodeURIComponent($(".js-recommendations-title").text());document.cookie=`actionFieldList=${t}; max-age=86400; path=/; secure`}}),!0),document.querySelector(".js-product-grid")&&document.querySelector(".js-product-grid").addEventListener("click",(function(){if(!i||!o.blockPDVScookieEnabled||s.isTargetingCatActive()){var t=$(".js-analytics-search").data("cgid")||"SearchResult";document.cookie="actionFieldList="+t+"; max-age=86400; path=/; secure"}}),!0),document.querySelector(".js-savedForLaterItemCards")&&document.querySelector(".js-savedForLaterItemCards").addEventListener("click",(function(){i&&o.blockPDVScookieEnabled&&!s.isTargetingCatActive()||(document.cookie="actionFieldList=Save%20For%20Later; max-age=86400; path=/; secure")}),!0),$("body").on("analytics:setProductViewSourceSearchSuggestions",(function(){$(".js-analytics-suggestions-item").off("click.analyticsEvents").on("click.analyticsEvents",(function(){i&&o.blockPDVScookieEnabled&&!s.isTargetingCatActive()||(document.cookie="actionFieldList=SearchResult; max-age=86400; path=/; secure")}))}))},getButtonClickElementTitle:function(t){return(t.title||$(t).find(":header").text()||$(t).find("span").text()||t.innerText||"").trim()},getButtonClickSection:function(t){let e,n={};return $(t).parents(".footer").length>0?e=t.title.toLowerCase().includes("contact")?"contact us":"footer":(n={homepage:".home-page__content",cart:".cart__container",plp:".js-search-result-count",pdp:".js-product-detail","my account":".account-nav",checkout:".js-checkout","order confirmation":".js-analytics-confirmation"},e=Object.keys(n).find((function(t){if($(n[t]).length>0)return t}))),e},setReturningCustomerVariables:function(){c("dw_analytics_returning_customer")||i&&o.blockReturnUserCookieEnabled&&!s.isTargetingCatActive()||(sessionStorage.setItem("returningCustomerSession",!0),document.cookie="dw_analytics_returning_customer=true; max-age=63072000; path=/; secure")},isReturningCustomer:function(){var t=sessionStorage.getItem("returningCustomerSession"),e=c("dw_analytics_returning_customer");return!(t||!e)}}},881:function(t,e,n){"use strict";var i=n(884),s=n(544);function o(t,e,n,s){if(s){var o=JSON.parse(e);o.ecommerce&&o.ecommerce.checkout&&(o.ecommerce.checkout.actionField.returning=s),e=JSON.stringify(o)}i.pushIntoDataLayer(e)}function c(t){var e=$(this);if(!e.hasClass("quickview")&&![".cart__items-wrapper",".js-checkout-main",".account-page__order-list"].some((function(t){return $(e).parents(t).length}))){var n=e.parents(".js-analytics-product-tile").data("analytics-click-event-json");if(n&&n.ecommerce){n.ecommerce.click.actionField.list=i.getCookie("actionFieldList");var s=e.parents(".js-product-grid__item").data("position");n.ecommerce.click.products.forEach((function(t){t.url=window.location.href,t.position=s})),o(0,n)}window.location.href=this.href}}t.exports=function(){if(i.setProductDetailsViewSource(),$((function(){s.initializeImpressionsTrackers()})),$(".js-saved-for-later, .js-recommendations, .js-product-grid").on("click",".js-analytics-product-tile a:not(.js-save-for-later-quickview)",c),$(".js-analytics-checkout").length&&($(".js-analytics-checkout").data("analytics-digital-data")||[]).forEach((function(t){o(0,t)})),$(".js-product-detail").length&&o(0,$(".js-analytics-product-container").data("analytics-event-json")),$(".js-analytics-confirmation").length){let t=$(".js-analytics-confirmation").data("analytics-event-purchase-json")||null;t&&(t.ecommerce.purchase.actionField.returning=i.isReturningCustomer(),o(0,t))}$("body").on("analytics:reinitializeImpressionsTrackers",(()=>s.reInitializeImpressionsTrackers())),$("body").on("analytics:pushEventIntoDataLayer",o)}},422:function(t,e,n){var i=n(700);t.exports=class extends i{constructor(t,e){super(t,e)}getImpressionPosition(t){let e=t.parents(".slick-slide");return e.length?e.data("slick-index")+1:t.data("impression-position")}}},700:function(t,e,n){"use strict";var i=n(884);t.exports=class{constructor(t,e){this.$el=t,this.impressions=[],this.config=e||this.$el.data("analytics-impressions-constants")||{event:"productImpression"},this.IMPRESSIONS_CHUNK_LENGTH=20,this.initializeImpressionsPositions(),this.pushProductImpressionEvent()}initializeImpressionsPositions(){$(".js-analytics-product-tile",this.$el).each(((t,e)=>$(e).data("impression-position",t+1)))}addImpression(t){this.impressions.push(t)}getEvent(t){return{event:this.config.event,ecommerce:{currencyCode:this.config.currency,impressions:t}}}beforeSendImpressions(){}sendImpressions(){if(!this.impressions.length)return;this.beforeSendImpressions();let t=[];for(let e=0;e<this.impressions.length;e+=this.IMPRESSIONS_CHUNK_LENGTH)t.push(this.impressions.slice(e,e+this.IMPRESSIONS_CHUNK_LENGTH));t.forEach((t=>{i.pushIntoDataLayer(this.getEvent(t))})),this.impressions=[]}isImpressionValid(t){return!t.data("productViewed")&&this.getImpressionPosition(t)}getImpressionPosition(t){return t.data("impression-position")}pushProductImpressionEvent(){$(".js-analytics-product-tile",this.$el).each(((t,e)=>{let n=$(e);if(this.isImpressionValid(n)){let t=Object.assign({list:this.config.list,position:this.getImpressionPosition(n)},n.data("analytics-impression-data"));this.addImpression(t),n.data("productViewed",!0)}})),this.sendImpressions()}destroy(){$("body").off("analytics:windowScroll")}}},544:function(t,e,n){"use strict";let i={"[data-analytics-search-impressions-tracker]":n(700),"[data-analytics-carousel-impressions-tracker]":n(422)};t.exports={trackers:[],initializeImpressionsTrackers(){for(const t in i)$(t).each(((e,n)=>{this.trackers.push(new i[t]($(n)))}))},reInitializeImpressionsTrackers(){for(let t of this.trackers)t=null;this.trackers=[],this.initializeImpressionsTrackers()}}},970:function(t,e,n){"use strict";let i=n(884);const s={TOPHEADER:1,MAINHEADER:2,CATEGORY:3},o="Logo",c="Minicart",r="Search",a="Sign up",u={COUNTRY_SELECTOR:"Country Selector"},l={HEADER_CLICK:"headerClick",SOCIAL_MEDIA_CLICK:"socialMediaClicks",FOOTER_CLICK:"footerClick",SEARCH_RESULT:"searchResults",SEARCH_SUGGESTION_CLICK:"searchSuggestionClick",SEARCH_VIEW_ALL_RESULTS:"searchViewAllResult",ERROR:"error",LOGIN:"login",LOGOUT:"logout",CREATE:"sign_up"};function d(t){i.pushIntoDataLayer(t||{})}function f(t,e){e||(e=s.MAINHEADER),d({event:l.HEADER_CLICK,header:{element:t,level:e}})}function p(t,e){d({event:l.FOOTER_CLICK,footer:{text:t,section:e}})}function m(){let t=this.title;d({event:l.SOCIAL_MEDIA_CLICK,social_network:t||""})}function h(){let t=$(this).data("breadcrumbs"),e=[];e=t&&t.length?t:[$(this).text()],f(e.join(" - "),s.CATEGORY+e.length-1)}function g(){f(this.id||this.innerText,s.TOPHEADER)}function y(){let t=this.dataset.analyticsSearchTerm;t=t||"";let e=$(".search__control").val();d({event:l.SEARCH_SUGGESTION_CLICK,search:{term:e,clickedsuggestion:t}})}function k(){let t=$(".js-analytics-search-control").val();d({event:l.SEARCH_VIEW_ALL_RESULTS,search:{term:t}})}function C(t){d({event:l.ERROR,error_Type:t})}function v(t,e){return[...t.classList].some((t=>e.some((e=>-1!==t.indexOf(e)))))}function E(t){let e=t.target,n=e.tagName.toLowerCase(),s=e.closest("button"),o=v(e,["btn-cta","pd-button"]),c=null;if(["svg","path","img"].includes(n)||"button"!==n&&!s&&!o)return;"button"===n||o?c=e:s&&(c=s);let r=c.closest(".slick-slider"),a=v(c,["btn-link","slick","product-collapse__toggle","close","refinements"]);if(!c||a||r)return;let u={event:"buttonClick",button:{name:i.getButtonClickElementTitle(c),section:i.getButtonClickSection(c)}};u.button.name&&u.button.section&&d(u)}t.exports=function(){window.OneTrust||d({event:"cricutCookieConsent",cricutConsentedTags:"all"}),$(".js-analytics-header-top a").on("click",g),$(".js-analytics-header-logo").on("click",(function(){f(o)})),$(".js-analytics-search-control").on("click",(function(){f(r)})),$(".js-analytics-user-wrapper a").on("click",(function(){f($(this).text().trim())})),$(".js-analytics-minicart-header").on("click",(function(){f(c)})),document.querySelectorAll(".js-main-menu a").forEach((function(t){t.addEventListener("click",h,!0)})),$(".js-analytics-search-result").length&&function(){let t=$(".js-analytics-search-keywords").data("analytics-keywords"),e=$(".js-analytics-search-result-count").data("results")||0;d({event:l.SEARCH_RESULT,search:{term:t,results:e}})}(),$(".js-analytics-footer-navigation a").on("click",(function(){let t=$(this).closest("ul").siblings(".footer-navigation__header"),e=t.length?t.find(".footer-navigation__title"):"",n=e.length?e.text().trim():"";p(this.innerText||"",n)})),$(".js-analytics-footer-signup a").on("click",(function(){p(a,"")})),$(".js-analytics-footer-social a").on("click",m),$(".js-analytics-footer-locale a").on("click",(function(){p(u.COUNTRY_SELECTOR,"")})),$(document).on("click",".js-analytics-suggestions-item",y),$(document).on("click",".js-analytics-suggestions__button a",k),$(".js-analytics-auth-event").length&&function(){let t=$(".js-analytics-auth-event").val(),e=JSON.parse($(".js-analytics-auth-data").val());d({event:l[t],user:{id:parseInt(e.id),subscriberType:e.subscriber.toLowerCase()}})}(),$(".js-analytics-error-forbidden").length&&C("500"),$(".js-analytics-error-notfound").length&&C("404"),$(document).get(0).addEventListener("click",E,!0)}},107:function(t){"use strict";const e={required:"C0001",performance:"C0002",functional:"C0003",targeting:"C0004",socialMedia:"C0005",youtube:"C0007"};function n(t){return(window.OnetrustActiveGroups||"").includes(t)}function i(){return n(e.youtube)}function s(){if(!i()){var t=$('.ot-subgrp[data-optanongroupid="C0007"]').closest(".ot-vs-config").find("button:first-child");0===t.length&&(t=$('.ot-vs-config[data-optanongroupid="C0007"]').find("button:first-child")),OneTrust.ToggleInfoDisplay(),t.attr("aria-expanded","false"),t.trigger("click"),$("#ot-pc-content").animate({scrollTop:900},1500)}}t.exports={isPerformanceCatActive:function(){return n(e.performance)},isFunctionalCatActive:function(){return n(e.functional)},isTargetingCatActive:function(){return n(e.targeting)},setYTplayButtonsHandler:function(){$("#maincontent").on("click","button.js-embed-play",(function(){s()}))},isYoutubeCatActive:i,updateTagData:function(t){return t.type="text/plain",t.className="optanon-category-"+e.youtube,t},showCookiesPreferenceCenter:s}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}!function(){"use strict";var t=n(558),e=n(884);$(document).ready((function(){e.setReturningCustomerVariables(),t(n(970)),t(n(881))}))}()}();
</script>

</body>
</html>
