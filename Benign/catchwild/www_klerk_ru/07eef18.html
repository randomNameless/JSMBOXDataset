<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>07eef18.html</title>
</head>
<body>

<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[229,371],{2126:function(e,t,n){"use strict";n.r(t);var r=n(9),o=n(0),l=n(1),c=n(6),d=(n(17),n(26),n(16),n(27),n(75),n(5),Object(o.defineComponent)({name:"BaseSocialWidgetsGrades",inheritAttrs:!1,props:{entityId:{type:Number,default:null},likes:{type:Number,default:null},amILike:{type:Boolean,default:null},likedUsers:{type:Array,default:function(){return[]}},iconClasses:{type:String,default:null},counterClasses:{type:String,default:null}},setup:function(e,t){var n=t.emit,d=Object(r.d)(),f=d.$auth,v=d.$axios,m=Object(o.ref)(),h=Object(o.ref)(e.amILike);Object(o.watch)((function(){return e.amILike}),(function(e){return h.value=e}));var k=Object(o.computed)((function(){return null!=f&&f.loggedIn?e.likedUsers.filter((function(e){return e.id!==f.user.id})):e.likedUsers})),C=Object(o.computed)((function(){if(!h.value)return k.value;var e={displayName:f.user.name,url:f.user.url,avatar:f.user.avatar,id:f.user.id};return[].concat(Object(c.a)(k.value),[e])})),y=Object(o.ref)(e.likes),x=Object(o.computed)((function(){return{url:h.value?"/v4/feedback/add":"v4/feedback/remove",method:"post",data:{entity_id:e.entityId,value:h.value?1:void 0}}})),w=function(){null!==y.value&&(h.value?y.value--:y.value++,h.value=!h.value)},O=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.user.confirm.email){e.next=4;break}return n("confirm-email"),e.abrupt("return");case 4:return w(),e.next=7,v(x.value);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),w(),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return{BASIC_ICON_CLASSES:"text-grey-300 group-hover:text-grey-400 group-focus-visible:text-grey-400",computedUsers:C,gradesWidget:m,liked:h,likesCount:y,toggleLike:O}}})),f=d,v=n(59),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CoreAuthRequired",{attrs:{"login-data":{title:"Войдите, чтобы поставить лайк"}},scopedSlots:e._u([{key:"default",fn:function(n){var r,o=n.withAuth;return[t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Нравится",duration:[300,50],onShow:function(){return!e.likesCount}},expression:"{\n      content: 'Нравится',\n      duration: [300, 50],\n      onShow: () => !likesCount,\n    }"}],ref:"gradesWidget",staticClass:"flex group items-center gap-x-2 text-text-3 relative focus-visible:outline-none focus-visible:before:block focus-visible:before:bg-grey-200 focus-visible:before:opacity-30 focus-visible:before:-left-1.45 focus-visible:before:size-7 focus-visible:before:top-1/2 focus-visible:before:-translate-y-1/2 focus-visible:before:absolute focus-visible:before:rounded-full",attrs:{"aria-label":"Нравится","aria-expanded":"".concat(null!==(r=e.liked)&&void 0!==r&&r)},on:{click:function(t){return o(e.toggleLike,t)}}},[t("FontAwesomeIcon",{staticClass:"text-text-2 size-4",class:e.liked?"text-red-500":e.iconClasses||e.BASIC_ICON_CLASSES,attrs:{icon:"fa-solid fa-heart"}}),e._v(" "),e.likesCount?t("span",{class:e.counterClasses},[e._v(e._s(e.likesCount))]):e._e(),e._v(" "),e.likesCount&&e.gradesWidget?t("ClientOnly",[t("BaseSocialWidgetsLikesDropdown",{attrs:{users:e.computedUsers,element:e.gradesWidget,options:{interactive:!0,maxWidth:192,theme:"menu"}}})],1):e._e()],1)]}}])})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BaseSocialWidgetsLikesDropdown:n(1618).default,CoreAuthRequired:n(628).default})},628:function(e,t,n){"use strict";n.r(t);var r={name:"CoreAuthRequired",props:{loginData:{type:Object,default:function(){}}},methods:{openAuthPage:function(e){e.preventDefault(),e.stopPropagation(),this.$auth.open.login(this.loginData)}},render:function(){var e=this;return this.$scopedSlots.default({withAuth:function(t,n){return e.$auth.loggedIn?t():e.openAuthPage(n)}})}},o=n(59),component=Object(o.a)(r,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);
</script>

</body>
</html>
