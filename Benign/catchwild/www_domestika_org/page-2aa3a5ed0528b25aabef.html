<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page-2aa3a5ed0528b25aabef.html</title>
</head>
<body>

<script>
/*! For license information please see page-2aa3a5ed0528b25aabef.js.LICENSE.txt */
!function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,c=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={394:0,279:0,280:0,290:0,337:0,338:0,345:0,346:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+"js/"+({0:"vendors~AddClosedAlertIDUseCase~CreateDeviceUseCase~CreateDomestikaFollowUseCase~CreateJWTUserUseCas~e39eff3e",1:"vendors~AddClosedAlertIDUseCase~CreateDeviceUseCase~CreateDomestikaFollowUseCase~CreateJWTUserUseCas~19435117",2:"vendors~AddClosedAlertIDUseCase~CurrentUserUseCase~GetAreasCourseUseCase~GetCartCourseUseCase~GetCat~cc70658c",3:"vendors~SendHeaderTrackingUseCase~SendPlayerTrackingUseCase~SendTrackingUseCase",4:"INTERNAL",216:"AddClosedAlertIDUseCase",217:"CreateDeviceUseCase",218:"CreateDomestikaFollowUseCase",219:"CreateJWTUserUseCase",220:"CreateUserLiveSessionUseCase",221:"CurrentUserUseCase",222:"CurrentWithoutRelationshipsUserUseCase",223:"DeleteDeviceUseCase",224:"DeleteFollowUseCase",225:"ENV_CONFIG1",226:"ENV_CONFIG4",227:"ENV_CONFIG5",228:"ENV_CONFIG6",229:"ENV_CONFIG7",230:"FinishUserLiveSessionUseCase",231:"GetAccessTokenUserUseCase",232:"GetAdvanceGDPRStatusUserUseCase",233:"GetAllBlogUseCase",234:"GetAreasCourseUseCase",235:"GetCartCourseUseCase",236:"GetCategoriesCourseUseCase",237:"GetCourseUseCase",238:"GetFinalProjectVideoByCourseIDCourseUseCase",239:"GetGDPRStatusUserUseCase",240:"GetListLiveFeedbackQuestionUseCase",241:"GetListLiveSessionUseCase",242:"GetListLiveStreamUseCase",243:"GetLiveChannelUseCase",244:"GetLiveSessionUseCase",245:"GetOrganizationUseCase",246:"GetPlusPromotionUseCase",247:"GetPostContentBlogUseCase",248:"GetPromotionCodeAlertUseCase",249:"GetPromotionUseCase",250:"GetPubnubCredentialsUseCase",251:"GetSessionDataUserUseCase",252:"GetSimpleUserUseCase",253:"GetSoftwaresCourseUseCase",254:"GetUserAlertUseCase",255:"GetVideoProgressListCourseUseCase",256:"GetVideoSpeedUserUseCase",257:"GetVideoVolumeUserUseCase",258:"LogoutUserUseCase",259:"PathToRegexp",260:"RefreshAccessTokenUserUseCase",261:"RemoveAccessTokenUserUseCase",262:"SearchCourseUseCase",263:"SendHeaderTrackingUseCase",264:"SendLiveFeedbackAnswersUseCase",265:"SendPlayerTrackingUseCase",266:"SendTrackingUseCase",267:"SendVideoProgressCourseUseCase",268:"SetAdvanceGDPRStatusUserUseCase",269:"SetGDPRStatusUserUseCase",270:"SetVideoSpeedUserUseCase",271:"SetVideoVolumeUserUseCase",272:"UpdateLanguageUserUseCase",273:"UpdateLiveSessionUseCase",274:"UpdateVideoAudioAndSubtitlesCourseUseCase",275:"UpdateVideoProgressCourseUseCase",276:"ViewPageTrackingUseCase",347:"vendors~AddClosedAlertIDUseCase",348:"vendors~AmplitudeJS",349:"vendors~SearchCourseUseCase",350:"vendors~ViewPageTrackingUseCase"}[e]||e)+"-"+{0:"66db01f00ebfe8e162fe",1:"f27153cdfaaf92f49d93",2:"40d5f3788759120550f0",3:"a77e2d878dbe7cd235dc",4:"3aca559bb6770c33b53c",5:"7f995e6f95a3eeb4a230",215:"9a1b3e8f8832398fb0cd",216:"951cd8af73b356155a6b",217:"4313a57f72cbc6ca8c89",218:"66993b459367039ef13a",219:"944c404e98e3e316cd6c",220:"3099d9e339fd13dc021e",221:"34f79850c9d43b10b6ba",222:"10482a0970c0b7a1f84e",223:"1f2b2ea765b673910053",224:"d9c227d68c56d5a21e06",225:"15a1ece8c1ae33a9de31",226:"2b75c5ee0adcdac9f15d",227:"800806284dba6c947482",228:"d463d5d245b85890dd43",229:"e5c747383534b9b83ab0",230:"82cf6b178521a3053f5a",231:"34816a7c1436edbb89c0",232:"74e049c8a5b804ca2be5",233:"c9b6ed0a831f0f0ccd23",234:"b06d9073529d1849ac78",235:"131ca11459f96657e074",236:"20622e74c0eac47233c4",237:"deaf83900a17470f2eb5",238:"b122fbc03f5b7a0f284d",239:"ee235f49381e34092414",240:"9dabb264cebe68b94cba",241:"6dc9f473c120e8bd9f33",242:"aefe8928a40fd3992b66",243:"ca5464209f045f613b43",244:"cba6858dd85429f301ca",245:"4c9ce8a845c7d7e634b5",246:"835ec0f0f0862d3b0a3c",247:"50c6155bbe6c5313d9ee",248:"7be18609ce8c9abc1a7f",249:"bf20cd128b06010d1bf0",250:"88e257ef8ae173276a1b",251:"ea358e1d7a239a4272e8",252:"755b35688dd4a29e0131",253:"03736b036572846142b2",254:"ce7b7e3d54052040cc9d",255:"241bd2e45a54d3951257",256:"3fa18b7e2be722561d27",257:"77f1938bef4fb2994e0a",258:"42146ab3c46009ae3477",259:"965d3c814858bd192a99",260:"49243c80f608bc9813ca",261:"dd1747c1dc0d099e107e",262:"dbfe3e27c661d7329c2f",263:"7bf8ec0fe68b241272ef",264:"04c0e07e47c0939db6e0",265:"710678e8bae535da683b",266:"58e14f5c9b15cf81c47a",267:"b63be16df5d29b68ccb6",268:"ebb6cf797c242f74da30",269:"77a3b8db09eb142a3577",270:"dc5c1e19168aa3bc4218",271:"0dea50b9d7b1b23f7d62",272:"1628e6d42ed16b3f0d12",273:"80f597281cfb8583fc3f",274:"411b98d77ef47c135ff3",275:"19b1c4aa0b3d84e0821f",276:"bf869e61cb0f482126bf",347:"279d42803025cdd1e2bf",348:"adf0c2846f3796f7df84",349:"ea3dfb4fb867f7f251bb",350:"7c978a7d7b5b901b7269",420:"97b98a4096cb4d65726f",422:"f0627eb3f80db0d82987",423:"a0c755f4e5f1f798970d",641:"ae19899ac4afd88519a6",642:"79ef9b61976b7b3d9d13",643:"a90ad7dd753e9de6c11b"}[e]+".chunk.js"}(e);var u=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://cdn2.domestika.org/packs/",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var u=s;i(i.s=2215)}({1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c}));var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},100:function(e,t,n){var r=n(37);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},101:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookie=t.removeCookies=t.getCookie=t.deleteCookie=void 0;var r=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="expires=".concat(r.toUTCString());document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/")};t.setCookie=r;t.getCookie=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""};var i=function(e){r(e,"",0)};t.deleteCookie=i;t.removeCookies=function(){i(window.ENV.AMPLITUDE_COOKIE_DEVICE_NAME),i(window.ENV.AMPLITUDE_COOKIE_SESSION_NAME),i("_fbp"),i("_fbc")}},105:function(e,t,n){"use strict";var r,i,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(r||(r={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(i||(i={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(o||(o={}))},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var r=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],i="data-amp-track-",o=["div","span","h1","h2","h3","h4","h5","h6"]},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(306),u=n(33),c=n(191),l="Remote config fetch rejected due to timeout after 5 seconds",f="Unexpected error occurred",d=function(){function e(e){var t=e.localConfig,n=e.configKeys,c=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(e,t,n){return i(c,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(n)];case 1:return(i=o.sent())&&(s=i.configs&&i.configs[e])?(this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,s[t]]):(this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0])}}))}))},this.fetchWithTimeout=function(e){return i(c,void 0,void 0,(function(){var t,n,r;return o(this,(function(i){switch(i.label){case 0:return t=new AbortController,n=setTimeout((function(){return t.abort()}),5e3),[4,this.fetchRemoteConfig(t.signal,e)];case 1:return r=i.sent(),clearTimeout(n),[2,r]}}))}))},this.fetchRemoteConfig=function(e,t){return i(c,void 0,void 0,(function(){var n,i,c,d,h,p,v,g,m,y,b,w;return o(this,(function(o){switch(o.label){case 0:if(t===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(e.aborted)return[2,this.completeRequest({err:l})];t!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=t,this.attempts=0),o.label=1;case 1:o.trys.push([1,3,,4]),n=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(i=s(this.configKeys),c=i.next();!c.done;c=i.next())d=c.value,n.append("config_keys",d)}catch(S){y={error:S}}finally{try{c&&!c.done&&(b=i.return)&&b.call(i)}finally{if(y)throw y.error}}return t&&n.set("session_id",String(t)),h={headers:{Accept:"*/*"},method:"GET"},p="".concat(this.getServerUrl(),"?").concat(n.toString()),this.attempts+=1,[4,fetch(p,r(r({},h),{signal:e}))];case 2:if(null===(v=o.sent()))return[2,this.completeRequest({err:f})];switch((new a.a).buildStatus(v.status)){case u.a.Success:return this.attempts=0,[2,this.parseAndStoreConfig(v)];case u.a.Failed:return[2,this.retryFetch(e,t)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}return[3,4];case 3:return g=o.sent(),m=g,e.aborted?[2,this.completeRequest({err:l})]:[2,this.completeRequest({err:null!==(w=m.message)&&void 0!==w?w:f})];case 4:return[2]}}))}))},this.retryFetch=function(e,t){return i(c,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e){return setTimeout(e,n.attempts*n.retryTimeout)}))];case 1:return r.sent(),[2,this.fetchRemoteConfig(e,t)]}}))}))},this.parseAndStoreConfig=function(e){return i(c,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,e.json()];case 1:return t=n.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,t]}}))}))},this.localConfig=t,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===c.a.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===c.a.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},e.prototype.completeRequest=function(e){var t=e.err,n=e.success;if(t)throw new Error(t);n&&this.localConfig.loggerProvider.log(n)},e}(),h=function(e){var t=e.localConfig,n=e.configKeys;return i(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,new d({localConfig:t,configKeys:n})]}))}))}},108:function(e,t,n){"use strict";var r=n(49),i=n(14),o=n(84),s=n(37),a=n(50),u=n(163),c=n(51),l=n(118),f=n(18)("iterator"),d=!([].keys&&"next"in[].keys()),h="keys",p="values",v=function(){return this};e.exports=function(e,t,n,g,m,y,b){u(n,t,g);var w,S,O,k=function(e){if(!d&&e in T)return T[e];switch(e){case h:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",I=m==p,x=!1,T=e.prototype,C=T[f]||T["@@iterator"]||m&&T[m],_=C||k(m),A=m?I?k("entries"):_:void 0,P="Array"==t&&T.entries||C;if(P&&(O=l(P.call(new e)))!==Object.prototype&&O.next&&(c(O,E,!0),r||"function"==typeof O[f]||s(O,f,v)),I&&C&&C.name!==p&&(x=!0,_=function(){return C.call(this)}),r&&!b||!d&&!x&&T[f]||s(T,f,_),a[t]=_,a[E]=v,m)if(w={values:I?_:k(p),keys:y?_:k(h),entries:A},b)for(S in w)S in T||o(T,S,w[S]);else i(i.P+i.F*(d||x),t,w);return w}},11:function(e,t,n){e.exports=n(233)},110:function(e,t,n){e.exports=!n(28)&&!n(34)((function(){return 7!=Object.defineProperty(n(81)("div"),"a",{get:function(){return 7}}).a}))},111:function(e,t,n){var r=n(36),i=n(32),o=n(165)(!1),s=n(71)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},112:function(e,t,n){e.exports=n(224)},113:function(e,t,n){e.exports=n(227)},114:function(e,t,n){var r=n(44),i=n(89),o=n(43),s=n(64),a=n(235);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,h=t||a;return function(t,a,p){for(var v,g,m=o(t),y=i(m),b=r(a,p,3),w=s(y.length),S=0,O=n?h(t,w):u?h(t,0):void 0;w>S;S++)if((d||S in y)&&(g=b(v=y[S],S,m),e))if(n)O[S]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:O.push(v)}else if(l)return!1;return f?-1:c||l?l:O}}},115:function(e,t,n){var r=n(19);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},117:function(e,t,n){var r=n(12).document;e.exports=r&&r.documentElement},118:function(e,t,n){var r=n(36),i=n(43),o=n(71)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},119:function(e,t,n){e.exports=n(218)},12:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},122:function(e,t,n){"use strict";(function(t){var r=n(30),i=n(264),o=n(155),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(u=n(156)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c}).call(this,n(188))},123:function(e,t,n){var r=n(52);e.exports=Array.isArray||function(e){return"Array"==r(e)}},124:function(e,t,n){"use strict";var r=n(12),i=n(36),o=n(28),s=n(14),a=n(84),u=n(68).KEY,c=n(34),l=n(73),f=n(51),d=n(60),h=n(18),p=n(77),v=n(79),g=n(173),m=n(123),y=n(26),b=n(19),w=n(43),S=n(32),O=n(76),k=n(48),E=n(82),I=n(174),x=n(94),T=n(62),C=n(31),_=n(47),A=x.f,P=C.f,j=I.f,M=r.Symbol,N=r.JSON,L=N&&N.stringify,R=h("_hidden"),D=h("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),q=l("symbols"),B=l("op-symbols"),V=Object.prototype,K="function"==typeof M&&!!T.f,z=r.QObject,W=!z||!z.prototype||!z.prototype.findChild,H=o&&c((function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=A(V,t);r&&delete V[t],P(e,t,n),r&&e!==V&&P(V,t,r)}:P,G=function(e){var t=q[e]=E(M.prototype);return t._k=e,t},$=K&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},Y=function(e,t,n){return e===V&&Y(B,t,n),y(e),t=O(t,!0),y(n),i(q,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=E(n,{enumerable:k(0,!1)})):(i(e,R)||P(e,R,k(1,{})),e[R][t]=!0),H(e,t,n)):P(e,t,n)},J=function(e,t){y(e);for(var n,r=g(t=S(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},X=function(e){var t=U.call(this,e=O(e,!0));return!(this===V&&i(q,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(q,e)||i(this,R)&&this[R][e])||t)},Z=function(e,t){if(e=S(e),t=O(t,!0),e!==V||!i(q,t)||i(B,t)){var n=A(e,t);return!n||!i(q,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=j(S(e)),r=[],o=0;n.length>o;)i(q,t=n[o++])||t==R||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=j(n?B:S(e)),o=[],s=0;r.length>s;)!i(q,t=r[s++])||n&&!i(V,t)||o.push(q[t]);return o};K||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(B,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),H(this,e,k(1,n))};return o&&W&&H(V,e,{configurable:!0,set:t}),G(e)},a(M.prototype,"toString",(function(){return this._k})),x.f=Z,C.f=Y,n(85).f=I.f=Q,n(53).f=X,T.f=ee,o&&!n(49)&&a(V,"propertyIsEnumerable",X,!0),p.f=function(e){return G(h(e))}),s(s.G+s.W+s.F*!K,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=_(h.store),ie=0;re.length>ie;)v(re[ie++]);s(s.S+s.F*!K,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=M(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!K,"Object",{create:function(e,t){return void 0===t?E(e):J(E(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=c((function(){T.f(1)}));s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),N&&s(s.S+s.F*(!K||c((function(){var e=M();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!$(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,L.apply(N,r)}}),M.prototype[D]||n(37)(M.prototype,D,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},127:function(e,t,n){var r=n(52),i=n(18)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},128:function(e,t,n){var r=n(26);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e.return;throw void 0!==o&&r(o.call(e)),s}}},129:function(e,t,n){var r=n(50),i=n(18)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},130:function(e,t,n){var r=n(127),i=n(18)("iterator"),o=n(50);e.exports=n(9).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},131:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},132:function(e,t,n){var r=n(26),i=n(45),o=n(18)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},133:function(e,t,n){var r,i,o,s=n(44),a=n(131),u=n(117),c=n(81),l=n(12),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){b.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){a("function"==typeof e?e:Function(e),t)},r(g),g},h=function(e){delete m[e]},"process"==n(52)(f)?r=function(e){f.nextTick(s(b,e,1))}:v&&v.now?r=function(e){v.now(s(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",w,!1)):r=y in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),e.exports={set:d,clear:h}},134:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},135:function(e,t,n){var r=n(26),i=n(19),o=n(97);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},138:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:i(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),i=function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},o=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++){if(i[r]===n)return e===t}if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(!o||!s){var u=Object.keys(e).sort(),c=Object.keys(t).sort();if(!a(u,c))return!1;var l=!0;return Object.keys(e).forEach((function(n){a(e[n],t[n])||(l=!1)})),l}for(var f=0;f<e.length;f++)if(!a(e[f],t[f]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var u=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=s({},this.identity.userProperties),n=s(s({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(s){case"$set":for(var u=0,c=Object.entries(a);u<c.length;u++){var l=c[u],f=l[0],d=l[1];t[f]=d}break;case"$unset":for(var h=0,p=Object.keys(a);h<p.length;h++){delete t[f=p[h]]}break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return s({},this.identity)},e.prototype.setIdentity=function(e){var t=s({},this.identity);this.identity=s({},e),a(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof e?e:self,l=function(){function e(){this.identityStore=new u,this.eventBridge=new o,this.applicationContextProvider=new r}return e.getInstance=function(t){return c.analyticsConnectorInstances||(c.analyticsConnectorInstances={}),c.analyticsConnectorInstances[t]||(c.analyticsConnectorInstances[t]=new e),c.analyticsConnectorInstances[t]},e}()}).call(this,n(57))},139:function(e,t,n){var r=n(18)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},14:function(e,t,n){var r=n(12),i=n(9),o=n(44),s=n(37),a=n(36),u=function(e,t,n){var c,l,f,d=e&u.F,h=e&u.G,p=e&u.S,v=e&u.P,g=e&u.B,m=e&u.W,y=h?i:i[t]||(i[t]={}),b=y.prototype,w=h?r:p?r[t]:(r[t]||{}).prototype;for(c in h&&(n=t),n)(l=!d&&w&&void 0!==w[c])&&a(y,c)||(f=l?w[c]:n[c],y[c]=h&&"function"!=typeof w[c]?n[c]:g&&l?o(f,r):m&&w[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&b&&!b[c]&&s(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(41),i=n(40),o=n(193),s=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:r.a.Warn,loggerProvider:new o.a,offline:!1,optOut:!1,serverUrl:i.c,serverZone:"US",useBatch:!1}},a=function(){function e(e){var t,n,r,i;this._optOut=!1;var o=s();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(r=e.optOut)&&void 0!==r?r:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=c(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),u=function(e,t){return"EU"===e?t?i.d:i.e:t?i.a:i.c},c=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=s().serverZone),void 0===n&&(n=s().useBatch),e)return{serverUrl:e,serverZone:void 0};var r=["US","EU"].includes(t)?t:s().serverZone;return{serverZone:r,serverUrl:u(r,n)}},l=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}()},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(194),i=function(e){return void 0===e&&(e="$default_instance"),r.a.getInstance(e)},o=function(e,t){i(t).identityStore.editIdentity().setUserId(e).commit()},s=function(e,t){i(t).identityStore.editIdentity().setDeviceId(e).commit()}},143:function(e,t,n){"use strict";var r=n(31),i=n(48);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},144:function(e,t,n){"use strict";var r=n(22),i=n(15),o=n(25),s=n(8),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.TIMEOUT=t.PopoverTooltip=void 0;var u,c=(u=n(27))&&u.__esModule?u:{default:u},l=n(145),f=n(38),d=n(302);function h(e,t){var n=i(e);if(o){var r=o(e);t&&(r=r.filter((function(t){return s(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):a?Object.defineProperties(e,a(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,s(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,i,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):r.resolve(c).then(i,o)}function m(e){return function(){var t=this,n=arguments;return new r((function(r,i){var o=e.apply(t,n);function s(e){g(o,r,i,s,a,"next",e)}function a(e){g(o,r,i,s,a,"throw",e)}s(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.TIMEOUT=150;var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,e);var n=t.type,r=t.content,i=t.isStatic,o=t.position,s=t.id,a=t.alignment,u=t.data;this.type=(null===n||void 0===n?void 0:n.toLowerCase())===d.POPOVER?d.POPOVER:d.TOOLTIP,this.content=(0,d.setContent)(this.type,r),this.isStatic=i||!1,this.position=o||d.TOP,this.ID=s||(0,f.createID)("dmstkPopoverTooltip"),this.alignment=(0,d.setAlignment)(a),this.showTimer=null,this.hideTimer=null,this.htmlElement=null,this.isMouseOver=!1,this.data=u}var t,n,r,i,o;return t=e,n=[{key:"createInvisiblePopoverTooltip",value:(o=m(c.default.mark((function e(){var t,n,r,i,o,s,a,u,h,v;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.type,n=this.position,r=this.ID,i=this.alignment,(o=document.createElement("div")).classList.add("a-".concat(t)),o.classList.add("a-".concat(t,"--").concat(i)),o.classList.add("show"),o.setAttribute("role",t),o.setAttribute("id",r),o.setAttribute("x-placement",n),(s=document.createElement("div")).classList.add("a-".concat(t,"__arrow")),o.appendChild(s),(a=document.createElement("div")).classList.add("a-".concat(t,"__inner")),t!==d.POPOVER){e.next=30;break}if(!this.isStatic){e.next=19;break}u=document.getElementById(this.content),a.innerHTML=u.innerHTML,e.next=30;break;case 19:return h=(0,f.getRequestConfiguration)("/popovers",p({partialToRender:this.content},this.data)),e.prev=20,e.next=23,(0,l.requestApi)(h);case 23:v=e.sent,a.innerHTML=v.data.trim(),e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(20),new Error("error injecting modal HTML: ".concat(e.t0));case 30:t===d.TOOLTIP&&(a.innerHTML=this.content),o.appendChild(a),o.style.visible=!1,o.style.position="absolute",o.style.willChange="transform",o.style.top="0px",o.style.left="0px",document.body.appendChild(o),this.htmlElement=o;case 39:case"end":return e.stop()}}),e,this,[[20,27]])}))),function(){return o.apply(this,arguments)})},{key:"applyPosition",value:function(){this.htmlElement.classList.add("a-".concat(this.type,"--").concat(this.position))}},{key:"getXTranslation",value:function(e,t){var n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageXOffset,i=window.pageXOffset+window.innerWidth,o=0,s=8;if(this.type===d.POPOVER&&(o=12,s=12),"left"===this.position){var a=t.left+n-s-e.width;if(a<r){var u=t.right+o+n;if(u+e.width<=i)return this.position="right",u}return a}if("right"===this.position){var c=t.right+o+n;if(c+e.width>i){var l=t.left+n-s-e.width;if(l>=r)return this.position="left",l}return c}if(this.type===d.POPOVER){if(this.alignment===d.START)return t.left+n;if(this.alignment===d.END)return t.right-e.width}var f=t.width/2-e.width/2;return t.left+f+n}},{key:"getYTranslation",value:function(e,t){var n=window.pageYOffset||document.documentElement.scrollTop,r=window.pageYOffset,i=window.pageYOffset+window.innerHeight,o=0,s=8;if(this.type===d.POPOVER&&(o=12,s=12),"top"===this.position){var a=t.top+n-s-e.height;if(a<r){var u=t.bottom+o+n;if(u+e.height<=i)return this.position="bottom",u}return a}if("bottom"===this.position){var c=t.bottom+o+n;if(c+e.height>i){var l=t.top+n-o-e.height;if(l>=r)return this.position="top",l}return c}var f=t.height/2-e.height/2;return t.top+f+n}},{key:"getCoordinates",value:function(e,t){return{x:Math.trunc(this.getXTranslation(e,t)),y:Math.trunc(this.getYTranslation(e,t))}}},{key:"show",value:(i=m(c.default.mark((function e(t){var n,r,i,o,s=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,d.hideAllPopoverTooltips)(),n=t.getBoundingClientRect(),e.next=4,this.createInvisiblePopoverTooltip();case 4:r=this.htmlElement,i=r.getBoundingClientRect(),o=this.getCoordinates(i,n),this.applyPosition(),r.style.transform="translate3d(".concat(o.x,"px, ").concat(o.y,"px, 0px)"),this.showTimer=setTimeout((function(){r.style.visible=!0}),150),clearTimeout(this.hideTimer),r.addEventListener("mouseenter",(function(){s.isMouseOver=!0})),r.addEventListener("mouseleave",(function(){s.isMouseOver=!1,s.hide()}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"hide",value:function(){document.getElementById(this.ID)&&(this.isMouseOver||(this.hideTimer=setTimeout((function(){(0,d.hideAllPopoverTooltips)()}),150),clearTimeout(this.showTimer)))}}],n&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.PopoverTooltip=w},145:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0});var i=n(152);r(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(258);r(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(277);r(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},147:function(e,t,n){"use strict";var r=n(28),i=n(47),o=n(62),s=n(53),a=n(43),u=n(89),c=Object.assign;e.exports=!c||n(34)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=a(e),c=arguments.length,l=1,f=o.f,d=s.f;c>l;)for(var h,p=u(arguments[l++]),v=f?i(p).concat(f(p)):i(p),g=v.length,m=0;g>m;)h=v[m++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:c},148:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},149:function(e,t,n){e.exports=n(259)},15:function(e,t,n){e.exports=n(198)},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOKEN_TYPE=t.CREDENTIALS_TOKEN_KEY=t.AUTHORIZATION_KEY=t.API_PREFIX=t.AJAX_COMPLETE=void 0;t.API_PREFIX="api/";t.CREDENTIALS_TOKEN_KEY="_credentials_";t.AUTHORIZATION_KEY="Authorization";t.TOKEN_TYPE="Bearer";t.AJAX_COMPLETE="ajaxComplete"},153:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},154:function(e,t,n){"use strict";var r=n(30);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},155:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},156:function(e,t,n){"use strict";var r=n(30),i=n(265),o=n(266),s=n(154),a=n(267),u=n(270),c=n(271),l=n(157);e.exports=function(e){return new Promise((function(t,n){var f=e.data,d=e.headers,h=e.responseType;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(v+":"+g)}var m=a(e.baseURL,e.url);function y(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),s(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(d,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),f||(f=null),p.send(f)}))}},157:function(e,t,n){"use strict";var r=n(155);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},158:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},159:function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},160:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},161:function(e,t,n){"use strict";var r=n(15),i=n(25),o=n(8),s=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.getHeaders=void 0;var a,u=(a=n(56))&&a.__esModule?a:{default:a},c=n(38);function l(e,t){var n=r(e);if(i){var s=i(e);t&&(s=s.filter((function(t){return o(e,t).enumerable}))),n.push.apply(n,s)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):s?Object.defineProperties(e,s(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,o(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customHeaders,n=void 0===t?{}:t,r=e.hasFormData,i=void 0!==r&&r;return(0,u.default)(i?{}:f({Accept:"application/json","Content-Type":"application/json"},c.getLang?{"Accept-Language":c.getLang}:{}),n)}},162:function(e,t,n){var r=n(70),i=n(61);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},163:function(e,t,n){"use strict";var r=n(82),i=n(48),o=n(51),s={};n(37)(s,n(18)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},164:function(e,t,n){var r=n(31),i=n(26),o=n(47);e.exports=n(28)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},165:function(e,t,n){var r=n(32),i=n(64),o=n(166);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},166:function(e,t,n){var r=n(70),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},167:function(e,t,n){"use strict";var r=n(168),i=n(169),o=n(50),s=n(32);e.exports=n(108)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},168:function(e,t){e.exports=function(){}},169:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},173:function(e,t,n){var r=n(47),i=n(62),o=n(53);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),u=o.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},174:function(e,t,n){var r=n(32),i=n(85).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return s.slice()}}(e):i(r(e))}},175:function(e,t,n){n(124),n(90),n(176),n(177),e.exports=n(9).Symbol},176:function(e,t,n){n(79)("asyncIterator")},177:function(e,t,n){n(79)("observable")},178:function(e,t,n){n(88),n(91),e.exports=n(77).f("iterator")},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PUSH_NOTIFICATIONS_SETTINGS_KEY=t.PUSH_NOTIFICATIONS_PLATFORM=t.GRANTED=t.DENIED=t.DEFAULT=void 0;t.GRANTED="granted";t.DENIED="denied";t.DEFAULT="default";t.PUSH_NOTIFICATIONS_SETTINGS_KEY="__PUSH_NOTIFICATIONS_SETTINGS__";t.PUSH_NOTIFICATIONS_PLATFORM="web"},18:function(e,t,n){var r=n(73)("wks"),i=n(60),o=n(12).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},186:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",u="object",c="string",l="model",f="name",d="type",h="vendor",p="version",v="architecture",g="console",m="mobile",y="tablet",b="smarttv",w="wearable",S="embedded",O="Amazon",k="Apple",E="ASUS",I="BlackBerry",x="Firefox",T="Google",C="Huawei",_="LG",A="Microsoft",P="Motorola",j="Opera",M="Samsung",N="Sharp",L="Sony",R="Xiaomi",D="Zebra",U="Facebook",F=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},q=function(e,t){return typeof e===c&&-1!==B(t).indexOf(B(e))},B=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},K=function(e,t){for(var n,r,i,a,c,l,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(n=r=0;n<d.length&&!c;)if(c=d[n++].exec(e))for(i=0;i<h.length;i++)l=c[++r],typeof(a=h[i])===u&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;f+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(q(t[n][r],e))return"?"===n?o:n}else if(q(t[n],e))return"?"===n?o:n;return e},W={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,p],[/opios[\/ ]+([\w\.]+)/i],[p,[f,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[f,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[f,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[f,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[f,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[f,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[f,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[f,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[f,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[p,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,p],[/(cobalt)\/([\w\.]+)/i],[f,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,B]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,M],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,M],[d,m]],[/((ipod|iphone)\d+,\d+)/i],[l,[h,k],[d,m]],[/(ipad\d+,\d+)/i],[l,[h,k],[d,y]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,k],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,k],[d,y]],[/(macintosh);/i],[l,[h,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,C],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,C],[d,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,R],[d,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,R],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,P],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,P],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,_],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,_],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,m]],[/(pixel c)\b/i],[l,[h,T],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,T],[d,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,L],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,L],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,O],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,O],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,I],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,E],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,E],[d,m]],[/(nexus 9)/i],[l,[h,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,N],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,y]],[/(surface duo)/i],[l,[h,A],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,m]],[/(u304aa)/i],[l,[h,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,m]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[h,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,A],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,D],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,D],[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[l,[h,L],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,A],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,M],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,_],[d,b]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[d,b]],[/crkey/i],[[l,"Chromecast"],[h,T],[d,b]],[/droid.+aft(\w)( bui|\))/i],[l,[h,O],[d,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,N],[d,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,L],[d,b]],[/(mitv-\w{5}) bui/i],[l,[h,R],[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,V],[l,V],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/((pebble))app/i],[h,l,[d,w]],[/droid.+; (glass) \d/i],[l,[h,T],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,D],[d,w]],[/(quest( 2)?)/i],[l,[h,U],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[p,z,W]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[p,z,W]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,p],[/\(bb(10);/i],[p,[f,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[f,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,p],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,p]]},G=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof G))return new G(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(H,t):H;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,K.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,K.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,K.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,K.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,K.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>350?V(e,350):e,this},this.setUA(n),this};G.VERSION="0.7.33",G.BROWSER=F([f,p,"major"]),G.CPU=F([v]),G.DEVICE=F([l,h,d,g,m,b,y,w,S]),G.ENGINE=G.OS=F([f,p]),typeof t!==a?(typeof e!==a&&e.exports&&(t=e.exports=G),t.UAParser=G):n(250)?(r=function(){return G}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=G);var $=typeof i!==a&&(i.jQuery||i.Zepto);if($&&!$.ua){var Y=new G;$.ua=Y.getResult(),$.ua.get=function(){return Y.getUA()},$.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"===typeof window?window:this)},188:function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},19:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},191:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.US="US",e.EU="EU"}(r||(r={}))},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=null},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(41),i="Amplitude Logger ",o=function(){function e(){this.logLevel=r.a.None}return e.prototype.disable=function(){this.logLevel=r.a.None},e.prototype.enable=function(e){void 0===e&&(e=r.a.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.a.Verbose||console.log("".concat(i,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.a.Warn||console.warn("".concat(i,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.a.Error||console.error("".concat(i,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.a.Debug||console.log("".concat(i,"[Debug]: ").concat(e.join(" ")))},e}()},194:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:i(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),i=function(){return"undefined"!==typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},o=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach((function(t){e(t)})),this.queue=[])},e}(),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++){if(i[r]===n)return e===t}if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;var o=Array.isArray(e),s=Array.isArray(t);if(o!==s)return!1;if(!o||!s){var u=Object.keys(e).sort(),c=Object.keys(t).sort();if(!a(u,c))return!1;var l=!0;return Object.keys(e).forEach((function(n){a(e[n],t[n])||(l=!1)})),l}for(var f=0;f<e.length;f++)if(!a(e[f],t[f]))return!1;return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var u=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=s({},this.identity.userProperties),n=s(s({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],a=o[1];switch(s){case"$set":for(var u=0,c=Object.entries(a);u<c.length;u++){var l=c[u],f=l[0],d=l[1];t[f]=d}break;case"$unset":for(var h=0,p=Object.keys(a);h<p.length;h++){delete t[f=p[h]]}break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return s({},this.identity)},e.prototype.setIdentity=function(e){var t=s({},this.identity);this.identity=s({},e),a(t,this.identity)||this.listeners.forEach((function(t){t(e)}))},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof e?e:self,l=function(){function e(){this.identityStore=new u,this.eventBridge=new o,this.applicationContextProvider=new r}return e.getInstance=function(t){return c.analyticsConnectorInstances||(c.analyticsConnectorInstances={}),c.analyticsConnectorInstances[t]||(c.analyticsConnectorInstances[t]=new e),c.analyticsConnectorInstances[t]},e}()}).call(this,n(57))},197:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=I(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function g(){}function m(){}function y(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(_([])));S&&S!==n&&r.call(S,o)&&(b=S);var O=y.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=y,u(O,"constructor",y),u(y,"constructor",m),m.displayName=u(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,a,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(O),u(O,a,"Generator"),u(O,o,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},198:function(e,t,n){n(199),e.exports=n(9).Object.keys},199:function(e,t,n){var r=n(43),i=n(47);n(98)("keys",(function(){return function(e){return i(r(e))}}))},20:function(e,t,n){e.exports=n(211)},200:function(e,t,n){n(90),n(88),n(91),n(201),n(205),n(206),e.exports=n(9).Promise},201:function(e,t,n){"use strict";var r,i,o,s,a=n(49),u=n(12),c=n(44),l=n(127),f=n(14),d=n(19),h=n(45),p=n(101),v=n(78),g=n(132),m=n(133).set,y=n(202)(),b=n(97),w=n(134),S=n(203),O=n(135),k="Promise",E=u.TypeError,I=u.process,x=I&&I.versions,T=x&&x.v8||"",C=u.Promise,_="process"==l(I),A=function(){},P=i=b.f,j=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(18)("species")]=function(e){e(A,A)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==T.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(r){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(i||(2==e._h&&D(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?c(E("Promise-chain cycle")):(o=M(n))?o.call(n,u,c):u(n)):c(r)}catch(f){l&&!s&&l.exit(),c(f)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){m.call(u,(function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=w((function(){_?I.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=_||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){m.call(u,(function(){var t;_?I.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=M(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(F,r,1),c(U,r,1))}catch(i){U.call(r,i)}})):(n._v=e,n._s=1,N(n,!1))}catch(r){U.call({_w:n,_d:!1},r)}}};j||(C=function(e){p(this,C,k,"_h"),h(e),r.call(this);try{e(c(F,this,1),c(U,this,1))}catch(t){U.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(100)(C.prototype,{then:function(e,t){var n=P(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(F,e,1),this.reject=c(U,e,1)},b.f=P=function(e){return e===C||e===s?new o(e):i(e)}),f(f.G+f.W+f.F*!j,{Promise:C}),n(51)(C,k),n(204)(k),s=n(9).Promise,f(f.S+f.F*!j,k,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!j),k,{resolve:function(e){return O(a&&this===s?C:this,e)}}),f(f.S+f.F*!(j&&n(139)((function(e){C.all(e).catch(A)}))),k,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;v(e,!1,(function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=w((function(){v(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},202:function(e,t,n){var r=n(12),i=n(133).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(52)(s);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},203:function(e,t,n){var r=n(12).navigator;e.exports=r&&r.userAgent||""},204:function(e,t,n){"use strict";var r=n(12),i=n(9),o=n(31),s=n(28),a=n(18)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},205:function(e,t,n){"use strict";var r=n(14),i=n(9),o=n(12),s=n(132),a=n(135);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},206:function(e,t,n){"use strict";var r=n(14),i=n(97),o=n(134);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},21:function(e,t,n){"use strict";n.r(t);var r=n(105);n.d(t,"SpecialEventType",(function(){return r.c})),n.d(t,"IdentifyOperation",(function(){return r.a})),n.d(t,"RevenueProperty",(function(){return r.b}));var i=n(41);n.d(t,"LogLevel",(function(){return i.a}));var o=n(191);n.d(t,"ServerZone",(function(){return o.a}));var s=n(33);n.d(t,"Status",(function(){return s.a}));var a=n(192);n.d(t,"OfflineDisabled",(function(){return a.a}));var u=n(106);n.d(t,"DEFAULT_CSS_SELECTOR_ALLOWLIST",(function(){return u.b})),n.d(t,"DEFAULT_DATA_ATTRIBUTE_PREFIX",(function(){return u.c})),n.d(t,"DEFAULT_ACTION_CLICK_ALLOWLIST",(function(){return u.a}))},211:function(e,t,n){n(88),n(212),e.exports=n(9).Array.from},212:function(e,t,n){"use strict";var r=n(44),i=n(14),o=n(43),s=n(128),a=n(129),u=n(64),c=n(143),l=n(130);i(i.S+i.F*!n(139)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&a(y))for(n=new h(t=u(d.length));t>m;m++)c(n,m,g?v(d[m],m):d[m]);else for(f=y.call(d),n=new h;!(i=f.next()).done;m++)c(n,m,g?s(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},213:function(e,t,n){e.exports=n(243)},214:function(e,t,n){var r=n(14),i=n(61),o=n(34),s=n(148),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(e,t,n){var i={},a=o((function(){return!!s[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),u=i[e]=a?t(f):s[e];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},215:function(e,t,n){n(216),e.exports=n(9).Object.assign},216:function(e,t,n){var r=n(14);r(r.S+r.F,"Object",{assign:n(147)})},217:function(e,t,n){var r=n(9),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},218:function(e,t,n){n(219),e.exports=n(9).parseInt},219:function(e,t,n){var r=n(14),i=n(220);r(r.G+r.F*(parseInt!=i),{parseInt:i})},22:function(e,t,n){e.exports=n(200)},220:function(e,t,n){var r=n(12).parseInt,i=n(214).trim,o=n(148),s=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(s.test(n)?16:10))}:r},221:function(e,t,n){n(222);var r=n(9).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},2215:function(e,t,n){"use strict";n(354)},222:function(e,t,n){var r=n(32),i=n(94).f;n(98)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},223:function(e,t,n){var r=n(28),i=n(47),o=n(32),s=n(53).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=i(a),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!s.call(a,n)||f.push(e?[n,a[n]]:a[n]);return f}}},224:function(e,t,n){n(225),e.exports=n(9).Reflect.construct},225:function(e,t,n){var r=n(14),i=n(82),o=n(45),s=n(26),a=n(19),u=n(34),c=n(226),l=(n(12).Reflect||{}).construct,f=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),d=!u((function(){l((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,h=i(a(u)?u:Object.prototype),p=Function.apply.call(e,h,t);return a(p)?p:h}})},226:function(e,t,n){"use strict";var r=n(45),i=n(19),o=n(131),s=[].slice,a={},u=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("F,a","return new F("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(a.prototype=t.prototype),a}},227:function(e,t,n){n(228),e.exports=n(9).Object.getPrototypeOf},228:function(e,t,n){var r=n(43),i=n(118);n(98)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},229:function(e,t,n){n(124),e.exports=n(9).Object.getOwnPropertySymbols},230:function(e,t,n){n(231),e.exports=n(9).Object.getOwnPropertyDescriptors},231:function(e,t,n){var r=n(14),i=n(232),o=n(32),s=n(94),a=n(143);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=s.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,t=c[f++]))&&a(l,t,n);return l}})},232:function(e,t,n){var r=n(85),i=n(62),o=n(26),s=n(12).Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},233:function(e,t,n){n(90),n(91),n(234),n(239),n(241),e.exports=n(9).WeakMap},234:function(e,t,n){"use strict";var r,i=n(12),o=n(114)(0),s=n(84),a=n(68),u=n(147),c=n(237),l=n(19),f=n(115),d=n(115),h=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",v=a.getWeak,g=Object.isExtensible,m=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(l(e)){var t=v(e);return!0===t?m(f(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(f(this,p),e,t)}},w=e.exports=n(238)(p,y,b,c,!0,!0);d&&h&&(u((r=c.getConstructor(y,p)).prototype,b),a.NEED=!0,o(["delete","has","get","set"],(function(e){var t=w.prototype,n=t[e];s(t,e,(function(t,i){if(l(t)&&!g(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},235:function(e,t,n){var r=n(236);e.exports=function(e,t){return new(r(e))(t)}},236:function(e,t,n){var r=n(19),i=n(123),o=n(18)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},237:function(e,t,n){"use strict";var r=n(100),i=n(68).getWeak,o=n(26),s=n(19),a=n(101),u=n(78),c=n(114),l=n(36),f=n(115),d=c(5),h=c(6),p=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},m=function(e,t){return d(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){a(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!s(e))return!1;var n=i(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=i(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},238:function(e,t,n){"use strict";var r=n(12),i=n(14),o=n(68),s=n(34),a=n(37),u=n(100),c=n(78),l=n(101),f=n(19),d=n(51),h=n(31).f,p=n(114)(0),v=n(28);e.exports=function(e,t,n,g,m,y){var b=r[e],w=b,S=m?"set":"add",O=w&&w.prototype,k={};return v&&"function"==typeof w&&(y||O.forEach&&!s((function(){(new w).entries().next()})))?(w=t((function(t,n){l(t,w,e,"_c"),t._c=new b,void 0!=n&&c(n,m,t[S],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in O)||y&&"clear"==e||a(w.prototype,e,(function(n,r){if(l(this,w,e),!t&&y&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||h(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(t,e,m,S),u(w.prototype,n),o.NEED=!0),d(w,e),k[e]=w,i(i.G+i.W+i.F,k),y||g.setStrong(w,e,m),w}},239:function(e,t,n){n(240)("WeakMap")},240:function(e,t,n){"use strict";var r=n(14);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},241:function(e,t,n){n(242)("WeakMap")},242:function(e,t,n){"use strict";var r=n(14),i=n(45),o=n(44),s=n(78);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,a,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,a=o(u,arguments[2],2),s(e,!1,(function(e){n.push(a(e,r++))}))):s(e,!1,n.push,n),new this(n))}})}},243:function(e,t,n){n(244),e.exports=n(9).Object.entries},244:function(e,t,n){var r=n(14),i=n(223)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},245:function(e,t,n){e.exports=n(246)},246:function(e,t,n){n(247),e.exports=n(9).Number.isInteger},247:function(e,t,n){var r=n(14);r(r.S,"Number",{isInteger:n(248)})},248:function(e,t,n){var r=n(19),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},249:function(e,t,n){"use strict";(function(e){var r=n(255),i=n(256),o=n(257);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return K(B(t,e.length-n),e,n,r)}function S(e,t,n,r){return K(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return S(e,t,n,r)}function k(e,t,n,r){return K(V(t),e,n,r)}function E(e,t,n,r){return K(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"===typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:B(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(57))},25:function(e,t,n){e.exports=n(229)},250:function(e,t){(function(t){e.exports=t}).call(this,{})},255:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(l(e,a,a+s>u?u:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},256:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*v}},257:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestGraphQL=void 0;var r,i=(r=n(149))&&r.__esModule?r:{default:r},o=n(161);t.requestGraphQL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.headers,n=e.data,r={method:"post",credentials:"same-origin","Access-Control-Allow-Origin":"*",headers:(0,o.getHeaders)({customHeaders:t}),url:"/api/graphql",data:n};return(0,i.default)(r.url,r).then((function(e){return e})).catch((function(e){throw e}))}},259:function(e,t,n){"use strict";var r=n(30),i=n(153),o=n(260),s=n(159);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(n(122));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(160),u.CancelToken=n(274),u.isCancel=n(158),u.all=function(e){return Promise.all(e)},u.spread=n(275),u.isAxiosError=n(276),e.exports=u,e.exports.default=u},26:function(e,t,n){var r=n(19);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},260:function(e,t,n){"use strict";var r=n(30),i=n(154),o=n(261),s=n(262),a=n(159),u=n(272),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var d=n.shift(),h=n.shift();try{f=d(f)}catch(p){h(p);break}}try{i=s(f)}catch(p){return Promise.reject(p)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},261:function(e,t,n){"use strict";var r=n(30);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},262:function(e,t,n){"use strict";var r=n(30),i=n(263),o=n(158),s=n(122);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},263:function(e,t,n){"use strict";var r=n(30),i=n(122);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},264:function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},265:function(e,t,n){"use strict";var r=n(157);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},266:function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},267:function(e,t,n){"use strict";var r=n(268),i=n(269);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},268:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},269:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},27:function(e,t,n){e.exports=n(197)},270:function(e,t,n){"use strict";var r=n(30),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},271:function(e,t,n){"use strict";var r=n(30);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},272:function(e,t,n){"use strict";var r=n(273),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},273:function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},274:function(e,t,n){"use strict";var r=n(160);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},275:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},276:function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},277:function(e,t,n){"use strict";var r=n(22),i=n(15),o=n(25),s=n(8),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AUTHORIZATION_KEY",{enumerable:!0,get:function(){return h.AUTHORIZATION_KEY}}),Object.defineProperty(t,"TOKEN_TYPE",{enumerable:!0,get:function(){return h.TOKEN_TYPE}}),t.requestApi=S,t.restAxiosInstance=void 0;var u=v(n(27)),c=v(n(22)),l=v(n(92)),f=v(n(149)),d=v(n(278)),h=n(152),p=n(161);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n=i(e);if(o){var r=o(e);t&&(r=r.filter((function(t){return s(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):a?Object.defineProperties(e,a(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,s(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):r.resolve(c).then(i,o)}var w=f.default.create();function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,n=e.headers,r=void 0===n?{}:n,i=e.route,o=e.data,s=e.formData,a={method:t,credentials:"same-origin","Access-Control-Allow-Origin":"*",headers:(0,p.getHeaders)({customHeaders:r,hasFormData:!!s}),url:i,data:o},u=["post","put","patch"];return u.indexOf(t.toLowerCase())>=0&&(a.data=s?o:(0,l.default)(o)),w(a.url,a)}t.restAxiosInstance=w,w.interceptors.request.use((function(e){if(e.url.includes(h.API_PREFIX)){var t,n=null===(t=JSON.parse(d.default.get(h.CREDENTIALS_TOKEN_KEY)))||void 0===t?void 0:t.accessToken;e.headers[h.AUTHORIZATION_KEY]="".concat(h.TOKEN_TYPE," ").concat(n)}return e})),w.interceptors.response.use((function(e){return e}),function(){var e,t=(e=u.default.mark((function e(t){var n,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.url.includes(h.API_PREFIX)||!t.response||401!==t.response.status){e.next=17;break}if((n=m({},t.config))._retry){e.next=17;break}return n._retry=!0,e.prev=4,e.next=7,i=void 0,o=void 0,(o=null===(i=JSON.parse(d.default.get(h.CREDENTIALS_TOKEN_KEY)))||void 0===i?void 0:i.refreshToken)?S({method:"POST",route:"/oauth/token?grant_type=refresh_token&refresh_token=".concat(o)}).then((function(e){if(e.data){var t=e.data,n=t.access_token,r=t.refresh_token;return d.default.set(h.CREDENTIALS_TOKEN_KEY,(0,l.default)({accessToken:n,refreshToken:r,isEmpty:!n&&!r}),{path:"/",expires:14}),n}})):c.default.reject();case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",c.default.reject("It was not possible to get the new token!"));case 10:return w.defaults.headers[h.AUTHORIZATION_KEY]="".concat(h.TOKEN_TYPE," ").concat(r),e.abrupt("return",w(n));case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",c.default.reject(e.t0));case 17:return e.abrupt("return",c.default.reject(t));case 18:case"end":return e.stop()}var i,o}),e,null,[[4,14]])})),function(){var t=this,n=arguments;return new r((function(r,i){var o=e.apply(t,n);function s(e){b(o,r,i,s,a,"next",e)}function a(e){b(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}())},278:function(e,t,n){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function t(n,r){function i(t,i,o){if("undefined"!==typeof document){"number"===typeof(o=e({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=t+"="+n.write(i,t)+s}}function o(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},i=0;i<t.length;i++){var o=t[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=n.read(s,a),e===a)break}catch(u){}}return e?r[e]:r}}return Object.create({set:i,get:o,remove:function(t,n){i(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}return t({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openModal=t.closeModal=void 0;t.closeModal=function(e){var t=e.closest(".js-modal, .js-modal-default-placeholder");t&&(t.innerHTML=null,t.classList.remove("show"),document.querySelector("body").classList.remove("modal-open"),document.dispatchEvent(new Event("modal.".concat(t.dataset.modalName,".close"))))};t.openModal=function(e,t){var n=e.dataset.modalToShow,r=document.getElementsByClassName(n);if(r[0]){var i=r[0];if(document.querySelector("body").classList.add("modal-open"),i.innerHTML=t,i.classList.add("show"),i.firstChild.classList.contains("js-has-tracking")&&Domestika.startGlobalEventsTracker(),i.firstChild.classList.contains("js-has-amplitude-event")){var o=JSON.parse(i.firstChild.dataset.amplitudeProps),s=o.eventName,a=o.eventProperties;Domestika.amplitude.trackEvent(s,a)}}}},28:function(e,t,n){e.exports=!n(34)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushNotification=void 0;var r=n(285).DomestikaPushNotification.create();t.pushNotification=r},281:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof u?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var i=n(22),o=n(11),s=n(8),a=n(6),u=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.copyField=void 0;var c=v(n(27)),l=v(n(20)),f=n(38),d=n(144),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&s;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?s(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(303));function p(e){if("function"!==typeof o)return null;var t=new o,n=new o;return(p=function(e){return e?n:t})(e)}function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):i.resolve(c).then(r,o)}var m=function(){var e=document.querySelectorAll(".js-copy-to-clipboard");(0,l.default)(e).forEach((function(e){e.addEventListener("click",function(){var t,n=(t=c.default.mark((function t(n){var r,i,o,s,a,u,l,p,v;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getAttribute("data-clipboard-target"),i=n.target.parentElement.querySelectorAll(r)){t.next=4;break}return t.abrupt("return");case 4:return o=i[0].value,s=navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),window.innerWidth>800&&window.innerHeight>600&&i[0].select(),s&&(a=h.createTextArea(o),h.selectText(a),o=a.value),e.setAttribute("title",""),u=(0,f.createID)("tooltip"),e.setAttribute("aria-described-by",u),t.prev=11,t.next=14,h.copyToClipboard(o,n);case 14:l=e.getAttribute("data-clipboard-success-text"),p=e.getAttribute("data-clipboard-success-text-position"),(v=new d.PopoverTooltip({type:"tooltip",content:l,position:p,id:u})).show(e),e.addEventListener("mouseup",(function(){e.setAttribute("aria-described-by",u),v.show(e,p)})),e.addEventListener("mouseleave",(function(){e.removeAttribute("aria-described-by"),v.hide()})),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(11),console.error("copy to clipboard did not work");case 25:case"end":return t.stop()}}),t,null,[[11,22]])})),function(){var e=this,n=arguments;return new i((function(r,i){var o=t.apply(e,n);function s(e){g(o,r,i,s,a,"next",e)}function a(e){g(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}())}))};t.copyField=m,m()},282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UUIDv4=void 0;t.UUIDv4=function(){return crypto.randomUUID instanceof Function?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCookieSessionId=t.getCookieDeviceId=t.experiment=t.cookieSessionName=t.cookieDeviceName=t.amplitudeKey=t.amplitudeExperimentDeploymentKey=void 0;var r=n(284),i=n(104),o=n(282),s=window.ENV.AMPLITUDE_COOKIE_SESSION_NAME;t.cookieSessionName=s;var a=window.ENV.AMPLITUDE_COOKIE_DEVICE_NAME;t.cookieDeviceName=a;var u=window.ENV.AMPLITUDE_KEY;t.amplitudeKey=u;var c=window.ENV.AMPLITUDE_EXPERIMENT_DEPLOYMENT_KEY;t.amplitudeExperimentDeploymentKey=c;var l=r.Experiment.initializeWithAmplitudeAnalytics(c);t.experiment=l;t.setCookieSessionId=function(e){if(window.AmplitudeData.enable_tracking){var t=(0,i.getCookie)(s);t&&t===e||(0,i.setCookie)(s,e)}};t.getCookieDeviceId=function(){var e=(0,i.getCookie)(a);if(e)return e;var t=(0,o.UUIDv4)();return window.AmplitudeData.enable_tracking?((0,i.setCookie)(a,t),t):null}},284:function(e,t,n){"use strict";n.r(t),n.d(t,"AmplitudeAnalyticsProvider",(function(){return a})),n.d(t,"AmplitudeUserProvider",(function(){return s})),n.d(t,"Experiment",(function(){return U})),n.d(t,"ExperimentClient",(function(){return R})),n.d(t,"Source",(function(){return p})),n.d(t,"StubExperimentClient",(function(){return F}));var r=n(138),i=n(39),o=n(186),s=function(){function e(e){this.amplitudeInstance=e}return e.prototype.getUser=function(){var e,t,n,r,i,o,s,a,u,c;return{device_id:null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e.options)||void 0===t?void 0:t.deviceId,user_id:null===(r=null===(n=this.amplitudeInstance)||void 0===n?void 0:n.options)||void 0===r?void 0:r.userId,version:null===(o=null===(i=this.amplitudeInstance)||void 0===i?void 0:i.options)||void 0===o?void 0:o.versionName,language:null===(a=null===(s=this.amplitudeInstance)||void 0===s?void 0:s.options)||void 0===a?void 0:a.language,platform:null===(c=null===(u=this.amplitudeInstance)||void 0===u?void 0:u.options)||void 0===c?void 0:c.platform,os:this.getOs(),device_model:this.getDeviceModel()}},e.prototype.getOs=function(){var e,t,n,r,i,o;return[null===(n=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.name,null===(o=null===(i=null===(r=this.amplitudeInstance)||void 0===r?void 0:r._ua)||void 0===i?void 0:i.browser)||void 0===o?void 0:o.major].filter((function(e){return null!==e&&void 0!==e})).join(" ")},e.prototype.getDeviceModel=function(){var e,t,n;return null===(n=null===(t=null===(e=this.amplitudeInstance)||void 0===e?void 0:e._ua)||void 0===t?void 0:t.os)||void 0===n?void 0:n.name},e}(),a=function(){function e(e){this.amplitudeInstance=e}return e.prototype.track=function(e){this.amplitudeInstance.logEvent(e.name,e.properties)},e.prototype.setUserProperty=function(e){var t,n;this.amplitudeInstance.setUserProperties(((t={})[e.userProperty]=null===(n=e.variant)||void 0===n?void 0:n.value,t))},e.prototype.unsetUserProperty=function(e){var t;this.amplitudeInstance._logEvent("$identify",null,null,{$unset:(t={},t[e.userProperty]="-",t)})},e}(),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var p,v,g=i.f.fetch||function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))},m=function(){function e(e){this.client=e}return e.prototype.request=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.client.request(e.requestUrl,e.method,e.headers,null,e.timeoutMillis)];case 1:return[2,t.sent()]}}))}))},e}(),y={request:function(e,t,n,r,o){return function(e,t){return null==t||t<=0?e:new Promise((function(n,r){i.f.setTimeout((function(){r(Error("Request timeout after "+t+" milliseconds"))}),t),e.then(n,r)}))}(c(void 0,void 0,void 0,(function(){var i,o;return l(this,(function(s){switch(s.label){case 0:return[4,g(e,{method:t,headers:n,body:r})];case 1:return i=s.sent(),o={status:i.status},[4,i.text()];case 2:return o.body=s.sent(),[2,o]}}))})),o)}};!function(e){e.LocalStorage="localStorage",e.InitialVariants="initialVariants"}(p||(p={})),function(e){e.LocalStorage="storage",e.InitialVariants="initial",e.SecondaryLocalStorage="secondary-storage",e.SecondaryInitialVariants="secondary-initial",e.FallbackInline="fallback-inline",e.FallbackConfig="fallback-config",e.LocalEvaluation="local-evaluation"}(v||(v={}));var b=function(e){return!e||e===v.FallbackInline||e===v.FallbackConfig||e===v.SecondaryInitialVariants},w={debug:!1,instanceName:"$default_instance",fallbackVariant:{},initialVariants:{},initialFlags:void 0,source:p.LocalStorage,serverUrl:"https://api.lab.amplitude.com",flagsServerUrl:"https://flag.lab.amplitude.com",serverZone:"US",fetchTimeoutMillis:1e4,retryFetchOnFailure:!0,automaticExposureTracking:!0,pollOnStart:!0,fetchOnStart:!0,automaticFetchOnAmplitudeIdentityChange:!1,userProvider:null,analyticsProvider:null,exposureTrackingProvider:null,httpClient:y},S="1.10.2",O=function(){function e(e){this.identityStore=e}return e.prototype.identityReady=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(r){return(t=this.identityStore.getIdentity()).userId||t.deviceId?[2]:[2,Promise.race([new Promise((function(e){var t=function(){e(void 0),n.identityStore.removeIdentityListener(t)};n.identityStore.addIdentityListener(t)})),new Promise((function(t,n){i.f.setTimeout(n,e,"Timed out waiting for Amplitude Analytics SDK to initialize. You must ensure that the analytics SDK is initialized prior to calling fetch().")}))])]}))}))},e.prototype.getUser=function(){var e=this.identityStore.getIdentity(),t=void 0;try{t=e.userProperties}catch(n){console.warn("[Experiment] failed to cast user properties")}return{user_id:e.userId,device_id:e.deviceId,user_properties:t}},e}(),k=function(){function e(e){this.eventBridge=e}return e.prototype.track=function(e){this.eventBridge.logEvent({eventType:"$exposure",eventProperties:e})},e}(),E=function(){function e(e,t){this.ua=new o.UAParser("undefined"!==typeof navigator?navigator.userAgent:null).getResult(),this.contextProvider=e,this.userProvider=t}return e.prototype.getUser=function(){var e,t=(null===(e=this.userProvider)||void 0===e?void 0:e.getUser())||{},n=this.contextProvider.getApplicationContext();return u({version:n.versionName,language:n.language,platform:n.platform,os:n.os||this.getOs(this.ua),device_model:n.deviceModel||this.getDeviceModel(this.ua)},t)},e.prototype.getOs=function(e){var t,n;return[null===(t=e.browser)||void 0===t?void 0:t.name,null===(n=e.browser)||void 0===n?void 0:n.major].filter((function(e){return null!==e&&void 0!==e})).join(" ")},e.prototype.getDeviceModel=function(e){var t;return null===(t=e.os)||void 0===t?void 0:t.name},e}(),I=function(){function e(){}return e.prototype.get=function(e){return localStorage.getItem(e)},e.prototype.put=function(e,t){localStorage.setItem(e,t)},e.prototype.delete=function(e){localStorage.removeItem(e)},e}(),x=function(){function e(e,t,n){this.cache={},this.namespace=e,this.storage=t,this.transformer=n}return e.prototype.get=function(e){return this.cache[e]},e.prototype.getAll=function(){return u({},this.cache)},e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.putAll=function(e){var t,n;try{for(var r=f(Object.keys(e)),i=r.next();!i.done;i=r.next()){var o=i.value;this.cache[o]=e[o]}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.clear=function(){this.cache={}},e.prototype.load=function(){var e,t,n,r=this.storage.get(this.namespace);try{n=JSON.parse(r)||{}}catch(c){return}var i={};try{for(var o=f(Object.keys(n)),s=o.next();!s.done;s=o.next()){var a=s.value;try{var u=void 0;(u=this.transformer?this.transformer(n[a]):n[a])&&(i[a]=u)}catch(l){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this.clear(),this.putAll(i)},e.prototype.store=function(e){void 0===e&&(e=this.cache),this.storage.put(this.namespace,JSON.stringify(e))},e}(),T=function(e){if("string"===typeof e)return{key:e,value:e};if("object"===typeof e){var t=e.key,n=e.value,r=e.payload,i=e.metadata,o=e.expKey;i&&i.experimentKey?o=i.experimentKey:o&&((i=i||{}).experimentKey=o);var s={};return t?s.key=t:n&&(s.key=n),n&&(s.value=n),i&&(s.metadata=i),r&&(s.payload=r),o&&(s.expKey=o),s}},C=function(e){return null===e||void 0===e},_=function(e){return!!C(e)||e&&0===Object.keys(e).length},A=function(e){var t;return"local"===(null===(t=null===e||void 0===e?void 0:e.metadata)||void 0===t?void 0:t.evaluationMode)},P=function(){function e(e,t,n,r){this.started=!1,this.done=!1,this.attempts=e,this.min=t,this.max=n,this.scalar=r}return e.prototype.start=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:if(this.started)throw Error("Backoff already started");return this.started=!0,[4,this.backoff(e,0,this.min)];case 1:return t.sent(),[2]}}))}))},e.prototype.cancel=function(){this.done=!0,clearTimeout(this.timeoutHandle)},e.prototype.backoff=function(e,t,n){return c(this,void 0,void 0,(function(){var r=this;return l(this,(function(o){return this.done||(this.timeoutHandle=i.f.setTimeout((function(){return c(r,void 0,void 0,(function(){var r,i;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e()];case 1:return o.sent(),[3,3];case 2:return o.sent(),(r=t+1)<this.attempts&&(i=Math.min(n*this.scalar,this.max),this.backoff(e,r,i)),[3,3];case 3:return[2]}}))}))}),n)),[2]}))}))},e}(),j=function(e){return null===e||void 0===e?{}:"string"==typeof e?{key:e,value:e}:e},M=function(e){if(!e)return{};var t=void 0;e.metadata&&(t=e.metadata.experimentKey);var n={};return e.key&&(n.key=e.key),e.value&&(n.value=e.value),e.payload&&(n.payload=e.payload),t&&(n.expKey=t),e.metadata&&(n.metadata=e.metadata),n},N=function(){function e(e){this.setProperties={},this.unsetProperties={},this.analyticsProvider=e}return e.prototype.track=function(e){this.setProperties[e.key]!=e.variant.value&&(this.setProperties[e.key]=e.variant.value,delete this.unsetProperties[e.key],this.analyticsProvider.track(e))},e.prototype.setUserProperty=function(e){this.setProperties[e.key]!=e.variant.value&&this.analyticsProvider.setUserProperty(e)},e.prototype.unsetUserProperty=function(e){this.unsetProperties[e.key]||(this.unsetProperties[e.key]="unset",delete this.setProperties[e.key],this.analyticsProvider.unsetUserProperty(e))},e}(),L=function(){function e(e){this.tracked={},this.exposureTrackingProvider=e}return e.prototype.track=function(e){var t=this.tracked[e.flag_key];t&&t.variant===e.variant||(this.tracked[e.flag_key]=e,this.exposureTrackingProvider.track(e))},e}(),R=function(){function e(e,t){var n,r,o=this;if(this.engine=new i.a,this.poller=new i.c((function(){return o.doFlags()}),6e4),this.isRunning=!1,this.apiKey=e,this.config=u(u(u({},w),t),{serverUrl:(null===t||void 0===t?void 0:t.serverUrl)||("eu"===(null===(n=null===t||void 0===t?void 0:t.serverZone)||void 0===n?void 0:n.toLowerCase())?"https://api.lab.eu.amplitude.com":w.serverUrl),flagsServerUrl:(null===t||void 0===t?void 0:t.flagsServerUrl)||("eu"===(null===(r=null===t||void 0===t?void 0:t.serverZone)||void 0===r?void 0:r.toLowerCase())?"https://flag.lab.eu.amplitude.com":w.flagsServerUrl)}),this.config.initialVariants)for(var s in this.config.initialVariants)this.config.initialVariants[s]=T(this.config.initialVariants[s]);this.config.userProvider&&(this.userProvider=this.config.userProvider),this.config.analyticsProvider&&(this.analyticsProvider=new N(this.config.analyticsProvider)),this.config.exposureTrackingProvider&&(this.exposureTrackingProvider=new L(this.config.exposureTrackingProvider));var a=new m(this.config.httpClient||y);this.flagApi=new i.e(this.apiKey,this.config.flagsServerUrl,a),this.evaluationApi=new i.d(this.apiKey,this.config.serverUrl,a);var c=new I;this.variants=function(e,t,n){var r=e.substring(e.length-6),i="amp-exp-".concat(t,"-").concat(r);return new x(i,n,T)}(this.apiKey,this.config.instanceName,c),this.flags=function(e,t,n){void 0===n&&(n=new I);var r=e.substring(e.length-6),i="amp-exp-".concat(t,"-").concat(r,"-flags");return new x(i,n)}(this.apiKey,this.config.instanceName,c);try{this.flags.load(),this.variants.load()}catch(l){}this.mergeInitialFlagsWithStorage()}return e.prototype.start=function(e){var t;return c(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return this.isRunning?[2]:(this.isRunning=!0,this.setUser(e),n=this.doFlags(),null===(t=this.config.fetchOnStart)||void 0===t||t?[4,Promise.all([this.fetch(e),n])]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,n];case 3:r.sent(),r.label=4;case 4:return this.config.pollOnStart&&this.poller.start(),[2]}}))}))},e.prototype.stop=function(){this.isRunning&&(this.poller.stop(),this.isRunning=!1)},e.prototype.fetch=function(e,t){return void 0===e&&(e=this.user),c(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:this.setUser(e||{}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.fetchInternal(e,this.config.fetchTimeoutMillis,this.config.retryFetchOnFailure,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),console.error(n),[3,4];case 4:return[2,this]}}))}))},e.prototype.variant=function(e,t){var n,r;if(!this.apiKey)return{value:void 0};var i=this.variantAndSource(e,t);return this.config.automaticExposureTracking&&this.exposureInternal(e,i),this.debug("[Experiment] variant for ".concat(e," is ").concat((null===(n=i.variant)||void 0===n?void 0:n.key)||(null===(r=i.variant)||void 0===r?void 0:r.value))),i.variant||{}},e.prototype.exposure=function(e){var t=this.variantAndSource(e);this.exposureInternal(e,t)},e.prototype.all=function(){if(!this.apiKey)return{};var e=this.evaluate();for(var t in e){var n=this.flags.get(t);A(n)||delete e[t]}return u(u(u({},this.secondaryVariants()),this.sourceVariants()),e)},e.prototype.clear=function(){this.variants.clear();try{this.variants.store()}catch(e){}},e.prototype.getUser=function(){var e;if(!this.user)return this.user;if(null===(e=this.user)||void 0===e?void 0:e.user_properties){var t=u({},this.user.user_properties);return u(u({},this.user),{user_properties:t})}return u({},this.user)},e.prototype.setUser=function(e){var t;if(e)if(null===(t=this.user)||void 0===t?void 0:t.user_properties){var n=u({},e.user_properties);this.user=u(u({},e),{user_properties:n})}else this.user=u({},e);else this.user=null},e.prototype.getUserProvider=function(){return this.userProvider},e.prototype.setUserProvider=function(e){return this.userProvider=e,this},e.prototype.mergeInitialFlagsWithStorage=function(){var e=this;this.config.initialFlags&&JSON.parse(this.config.initialFlags).forEach((function(t){e.flags.get(t.key)||e.flags.put(t.key,t)}))},e.prototype.evaluate=function(e){var t,n,r=this.addContext(this.user),o=Object(i.g)(this.flags.getAll(),e),s=function(e){var t,n,r,i;if(!e)return{};var o={user:e},s={};if(!e.groups)return o;try{for(var a=f(Object.keys(e.groups)),u=a.next();!u.done;u=a.next()){var c=u.value,l=e.groups[c];if(l.length>0&&l[0]){var d=l[0],h={group_name:d},p=null===(i=null===(r=e.group_properties)||void 0===r?void 0:r[c])||void 0===i?void 0:i[d];p&&Object.keys(p).length>0&&(h.group_properties=p),s[c]=h}}}catch(v){t={error:v}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return Object.keys(s).length>0&&(o.groups=s),delete o.user.groups,delete o.user.group_properties,o}(r),a=this.engine.evaluate(s,o),u={};try{for(var c=f(Object.keys(a)),l=c.next();!l.done;l=c.next()){var d=l.value;u[d]=M(a[d])}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.variantAndSource=function(e,t){var n={};this.config.source===p.LocalStorage?n=this.localStorageVariantAndSource(e,t):this.config.source===p.InitialVariants&&(n=this.initialVariantsVariantAndSource(e,t));var r=this.flags.get(e);return(A(r)||!n.variant&&r)&&(n=this.localEvaluationVariantAndSource(e,r,t)),n},e.prototype.localEvaluationVariantAndSource=function(e,t,n){var r,i={},o=this.evaluate([t.key])[e],s=v.LocalEvaluation,a=null===(r=null===o||void 0===o?void 0:o.metadata)||void 0===r?void 0:r.default;if(!C(o)&&!a)return{variant:j(o),source:s,hasDefaultVariant:!1};if(a&&(i={variant:j(o),source:s,hasDefaultVariant:!0}),!C(n))return{variant:j(n),source:v.FallbackInline,hasDefaultVariant:i.hasDefaultVariant};var u=this.config.initialVariants[e];if(!C(u))return{variant:j(u),source:v.SecondaryInitialVariants,hasDefaultVariant:i.hasDefaultVariant};var c=j(this.config.fallbackVariant),l={variant:c,source:v.FallbackConfig,hasDefaultVariant:i.hasDefaultVariant};return _(c)?i:l},e.prototype.localStorageVariantAndSource=function(e,t){var n,r={},i=this.variants.get(e),o=null===(n=null===i||void 0===i?void 0:i.metadata)||void 0===n?void 0:n.default;if(!C(i)&&!o)return{variant:j(i),source:v.LocalStorage,hasDefaultVariant:!1};if(o&&(r={variant:j(i),source:v.LocalStorage,hasDefaultVariant:!0}),!C(t))return{variant:j(t),source:v.FallbackInline,hasDefaultVariant:r.hasDefaultVariant};var s=this.config.initialVariants[e];if(!C(s))return{variant:j(s),source:v.SecondaryInitialVariants,hasDefaultVariant:r.hasDefaultVariant};var a=j(this.config.fallbackVariant),u={variant:a,source:v.FallbackConfig,hasDefaultVariant:r.hasDefaultVariant};return _(a)?r:u},e.prototype.initialVariantsVariantAndSource=function(e,t){var n,r={},i=this.config.initialVariants[e];if(!C(i))return{variant:j(i),source:v.InitialVariants,hasDefaultVariant:!1};var o=this.variants.get(e),s=null===(n=null===o||void 0===o?void 0:o.metadata)||void 0===n?void 0:n.default;if(!C(o)&&!s)return{variant:j(o),source:v.LocalStorage,hasDefaultVariant:!1};if(s&&(r={variant:j(o),source:v.LocalStorage,hasDefaultVariant:!0}),!C(t))return{variant:j(t),source:v.FallbackInline,hasDefaultVariant:r.hasDefaultVariant};var a=j(this.config.fallbackVariant),u={variant:a,source:v.FallbackConfig,hasDefaultVariant:r.hasDefaultVariant};return _(a)?r:u},e.prototype.fetchInternal=function(e,t,n,r){return c(this,void 0,void 0,(function(){var i,o;return l(this,(function(s){switch(s.label){case 0:if(!this.apiKey)throw Error("Experiment API key is empty");this.debug("[Experiment] Fetch all: retry=".concat(n)),n&&this.stopRetries(),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this.doFetch(e,t,r)];case 2:return i=s.sent(),[4,this.storeVariants(i,r)];case 3:return s.sent(),[2,i];case 4:throw o=s.sent(),n&&this.shouldRetryFetch(o)&&this.startRetries(e,r),o;case 5:return[2]}}))}))},e.prototype.doFetch=function(e,t,n){return c(this,void 0,void 0,(function(){var r,i,o,s,a,u,c;return l(this,(function(l){switch(l.label){case 0:return[4,this.addContextOrWait(e,1e4)];case 1:return e=l.sent(),this.debug("[Experiment] Fetch variants for user: ",e),[4,this.evaluationApi.getVariants(e,{timeoutMillis:t,flagKeys:null===n||void 0===n?void 0:n.flagKeys})];case 2:r=l.sent(),i={};try{for(o=f(Object.keys(r)),s=o.next();!s.done;s=o.next())a=s.value,i[a]=M(r[a])}catch(d){u={error:d}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(u)throw u.error}}return this.debug("[Experiment] Received variants: ",i),[2,i]}}))}))},e.prototype.doFlags=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.flagApi.getFlags({libraryName:"experiment-js-client",libraryVersion:S,timeoutMillis:this.config.fetchTimeoutMillis})];case 1:e=t.sent(),this.flags.clear(),this.flags.putAll(e);try{this.flags.store()}catch(n){}return this.mergeInitialFlagsWithStorage(),[2]}}))}))},e.prototype.storeVariants=function(e,t){return c(this,void 0,void 0,(function(){var n,r,i,o;return l(this,(function(s){for(o in 0===(n=t&&t.flagKeys?t.flagKeys:[]).length&&this.variants.clear(),r=function(t){n=n.filter((function(e){return e!==t})),i.variants.put(t,e[t])},i=this,e)r(o);for(o in n)this.variants.remove(o);try{this.variants.store()}catch(a){}return this.debug("[Experiment] Stored variants: ",e),[2]}))}))},e.prototype.startRetries=function(e,t){return c(this,void 0,void 0,(function(){var n=this;return l(this,(function(r){return this.debug("[Experiment] Retry fetch"),this.retriesBackoff=new P(8,500,1e4,1.5),this.retriesBackoff.start((function(){return c(n,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,this.fetchInternal(e,1e4,!1,t)];case 1:return n.sent(),[2]}}))}))})),[2]}))}))},e.prototype.stopRetries=function(){this.retriesBackoff&&this.retriesBackoff.cancel()},e.prototype.addContext=function(e){var t,n,r=null===(t=this.userProvider)||void 0===t?void 0:t.getUser(),i=u(u({},null===e||void 0===e?void 0:e.user_properties),null===r||void 0===r?void 0:r.user_properties);return u(u(u({library:"experiment-js-client/".concat(S)},null===(n=this.userProvider)||void 0===n?void 0:n.getUser()),e),{user_properties:i})},e.prototype.addContextOrWait=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return this.userProvider instanceof E&&this.userProvider.userProvider instanceof O?[4,this.userProvider.userProvider.identityReady(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,this.addContext(e)]}}))}))},e.prototype.sourceVariants=function(){return this.config.source==p.LocalStorage?this.variants.getAll():this.config.source==p.InitialVariants?this.config.initialVariants:void 0},e.prototype.secondaryVariants=function(){return this.config.source==p.LocalStorage?this.config.initialVariants:this.config.source==p.InitialVariants?this.variants.getAll():void 0},e.prototype.exposureInternal=function(e,t){var n,r,i,o,s,a;this.legacyExposureInternal(e,t.variant,t.source);var u={flag_key:e},c=b(t.source);if(!c||t.hasDefaultVariant){(null===(n=t.variant)||void 0===n?void 0:n.expKey)&&(u.experiment_key=null===(r=t.variant)||void 0===r?void 0:r.expKey);var l=null===(i=t.variant)||void 0===i?void 0:i.metadata;c||(null===l||void 0===l?void 0:l.default)||((null===(o=t.variant)||void 0===o?void 0:o.key)?u.variant=t.variant.key:(null===(s=t.variant)||void 0===s?void 0:s.value)&&(u.variant=t.variant.value)),l&&(u.metadata=l),null===(a=this.exposureTrackingProvider)||void 0===a||a.track(u)}},e.prototype.legacyExposureInternal=function(e,t,n){var r,i,o,s,a;if(this.analyticsProvider){var u=function(e,t,n,r){var i,o=null===n||void 0===n?void 0:n.value,s="[Experiment] ".concat(t);return{name:"[Experiment] Exposure",user:e,key:t,variant:n,userProperty:s,properties:{key:t,variant:o,source:r},userProperties:(i={},i[s]=o,i)}}(this.addContext(this.getUser()),e,t,n);b(n)||!(null===t||void 0===t?void 0:t.value)?null===(i=null===(r=this.analyticsProvider)||void 0===r?void 0:r.unsetUserProperty)||void 0===i||i.call(r,u):(null===t||void 0===t?void 0:t.value)&&(null===(s=null===(o=this.analyticsProvider)||void 0===o?void 0:o.setUserProperty)||void 0===s||s.call(o,u),null===(a=this.analyticsProvider)||void 0===a||a.track(u))}},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.config.debug&&console.debug.apply(console,h([e],d(t),!1))},e.prototype.shouldRetryFetch=function(e){return!(e instanceof i.b)||(e.statusCode<400||e.statusCode>=500||429===e.statusCode)},e}(),D={},U={initialize:function(e,t){var n=(null===t||void 0===t?void 0:t.instanceName)||w.instanceName,i="".concat(n,".").concat(e),o=r.a.getInstance(n);return D[i]||(t=u(u({},t),{userProvider:new E(o.applicationContextProvider,null===t||void 0===t?void 0:t.userProvider)}),D[i]=new R(e,t)),D[i]},initializeWithAmplitudeAnalytics:function(e,t){var n=(null===t||void 0===t?void 0:t.instanceName)||w.instanceName,i="".concat(n,".").concat(e),o=r.a.getInstance(n);return D[i]||(t=u({userProvider:new E(o.applicationContextProvider,new O(o.identityStore)),exposureTrackingProvider:new k(o.eventBridge)},t),D[i]=new R(e,t),t.automaticFetchOnAmplitudeIdentityChange&&o.identityStore.addIdentityListener((function(){D[i].fetch()}))),D[i]}},F=function(){function e(){}return e.prototype.getUser=function(){return{}},e.prototype.start=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.stop=function(){},e.prototype.setUser=function(e){},e.prototype.fetch=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this]}))}))},e.prototype.getUserProvider=function(){return null},e.prototype.setUserProvider=function(e){return this},e.prototype.variant=function(e,t){return w.fallbackVariant},e.prototype.all=function(){return{}},e.prototype.clear=function(){},e.prototype.exposure=function(e){},e}()},285:function(e,t,n){"use strict";function r(e){return r="function"==typeof o&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},r(e)}var i=n(22),o=n(6),s=n(7),a=n(20),u=n(11),c=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.DomestikaPushNotification=void 0;var l,f=(l=n(27))&&l.__esModule?l:{default:l},d=n(38),h=n(286),p=m(n(179)),v=m(n(287));function g(e){if("function"!==typeof u)return null;var t=new u,n=new u;return(g=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&c;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?c(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof o&&e[s]||e["@@iterator"];if(null==n)return;var r,i,a=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{u||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return a(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):i.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new i((function(r,i){var o=e.apply(t,n);function s(e){w(o,r,i,s,a,"next",e)}function a(e){w(o,r,i,s,a,"throw",e)}s(void 0)}))}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isEnabled=function(){var e,t;return(null===(e=window)||void 0===e||null===(t=e.ENV)||void 0===t?void 0:t.PUSH_NOTIFICATION_ENABLED)&&v.browserHasNotificationAPI()},this.isPermissionDenied=function(e){var t=e.permission;return v.isNotificationPermissionDenied({permission:t})},this.isPermissionGranted=function(e){var t=e.permission;return v.isNotificationPermissionGranted({permission:t})},this.getSettings=function(){return v.getPushNotificationSettings()||{}},this.updateSettings=function(e){var t=e.settings;v.setPushNotificationSettings({settings:t})},this.registerMessagesListener=function(e){var n=e.swRegistration;v.registerFirebaseOnMessage({callback:function(e){var t=(null===e||void 0===e?void 0:e.notification)||{},r=t.title,i=t.body,o=(null===e||void 0===e?void 0:e.data)||{},s=o.link,a=o.tag,u=o.icon;n.showNotification(r,{body:i,icon:u,tag:a,data:{link:s}})}}),t.pushNotificationsRegistered=!0},this.registerDevice=function(){var e=S(f.default.mark((function e(n){var r,i,o,s,a,u,c,l,h;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.swRegistration,e.next=3,v.getFirebaseToken({swRegistration:r});case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(o=t.getSettings(),s=o.tokenId,o.token!==i){e.next=9;break}return e.abrupt("return",!0);case 9:return e.next=11,v.getDomestikaDomain();case 11:if(a=e.sent){e.next=14;break}return e.abrupt("return",!1);case 14:if(!s){e.next=17;break}return e.next=17,a.DeleteDeviceUseCase.execute({id:s});case 17:return e.next=19,a.CreateDeviceUseCase.execute({token:i,locale:d.getLang,platform:p.PUSH_NOTIFICATIONS_PLATFORM});case 19:if(u=e.sent,c=y(u,2),l=c[0],h=c[1],!l){e.next=26;break}return console.warn("Couldn't register Notifications!",l),e.abrupt("return",!1);case 26:return v.setPushNotificationToken({tokenId:h.id,token:i}),e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setupFirebase=S(f.default.mark((function e(){var n,r;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=window)&&void 0!==n&&null!==(r=n.navigator)&&void 0!==r&&r.serviceWorker){e.next=3;break}return console.warn("This browser doesn't support Notifications!"),e.abrupt("return");case 3:return e.next=5,v.initializeFirebaseApp();case 5:window.navigator.serviceWorker.register(h.config.SERVICE_WORKER_PATH).then(function(){var e=S(f.default.mark((function e(n){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.registerDevice({swRegistration:n});case 2:e.sent&&t.registerMessagesListener({swRegistration:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.warn("Couldn't register Notifications!",e)}));case 6:case"end":return e.stop()}}),e)}))),this.register=S(f.default.mark((function e(){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isEnabled()){e.next=2;break}return e.abrupt("return");case 2:if(v.isNotificationPermissionGranted({permission:window.Notification.permission})){e.next=4;break}return e.abrupt("return");case 4:if(!t.pushNotificationsRegistered){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,t.setupFirebase();case 8:case"end":return e.stop()}}),e)}))),this.isEnabled()&&(this.pushNotificationsRegistered=!1,v.isNotificationPermissionGranted({permission:window.Notification.permission})&&this.register())}var t,n,r;return t=e,r=[{key:"create",value:function(){return new e}}],(n=null)&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.DomestikaPushNotification=k},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;t.config={SERVICE_WORKER_PATH:"/service-worker/service-worker.js"}},287:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var i=n(15),o=n(25),s=n(8),a=n(29),u=n(22),c=n(11),l=n(6),f=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.setPushNotificationToken=t.setPushNotificationSettings=t.registerFirebaseOnMessage=t.isNotificationPermissionGranted=t.isNotificationPermissionDenied=t.isNotificationPermissionDefault=t.initializeFirebaseApp=t.getPushNotificationSettings=t.getFirebaseToken=t.getDomestikaDomain=t.browserHasNotificationAPI=void 0;var d=m(n(27)),h=m(n(92)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&s;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?s(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(179)),v=n(38);function g(e){if("function"!==typeof c)return null;var t=new c,n=new c;return(g=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):u.resolve(c).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new u((function(r,i){var o=e.apply(t,n);function s(e){y(o,r,i,s,a,"next",e)}function a(e){y(o,r,i,s,a,"throw",e)}s(void 0)}))}}function w(e,t){var n=i(e);if(o){var r=o(e);t&&(r=r.filter((function(t){return s(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):a?Object.defineProperties(e,a(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,s(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.browserHasNotificationAPI=function(){var e;return!(null===(e=window)||void 0===e||!e.Notification)};var k=function(){var e=localStorage.getItem(p.PUSH_NOTIFICATIONS_SETTINGS_KEY);return e?JSON.parse(e):null};t.getPushNotificationSettings=k;var E=function(e){var t=e.settings;localStorage.setItem(p.PUSH_NOTIFICATIONS_SETTINGS_KEY,(0,h.default)(t))};t.setPushNotificationSettings=E;t.setPushNotificationToken=function(e){var t=e.tokenId,n=e.token,r=k()||{};E({settings:S(S({},r),{},{tokenId:t,token:n})})};t.isNotificationPermissionGranted=function(e){return e.permission===p.GRANTED};t.isNotificationPermissionDenied=function(e){return e.permission===p.DENIED};t.isNotificationPermissionDefault=function(e){return e.permission===p.DEFAULT};var I=function(){var e=b(d.default.mark((function e(){var t,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(423).then(n.bind(null,370));case 3:return t=e.sent,r=t.Domestika,e.abrupt("return",r.create({API_PERFORMANCE_METRICS:[],LANGUAGE:v.getLang,API_URL:window.ENV.API_URL,API_LEGACY_URL:window.ENV.API_LEGACY_URL,API_AUTH_URL:window.ENV.API_AUTH_URL,APP_URL:window.ENV.APP_URL}));case 8:return e.prev=8,e.t0=e.catch(0),console.warn("Couldn't register Notifications!"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.getDomestikaDomain=I;var x=null,T=function(){var e=b(d.default.mark((function e(){var t,r,i,o,s,a;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",x);case 2:return e.next=4,Promise.all([n.e(5),n.e(641)]).then(n.bind(null,400));case 4:return t=e.sent,r=t.initializeApp,e.next=8,Promise.all([n.e(5),n.e(642)]).then(n.bind(null,401));case 8:return i=e.sent,o=i.getMessaging,s=i.getToken,a=i.onMessage,x={initializeApp:r,getMessaging:o,getToken:s,onMessage:a},e.abrupt("return",x);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=b(d.default.mark((function e(){var t;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,(0,t.initializeApp)((n=void 0,r=void 0,i=void 0,{apiKey:(i=(null===(n=window)||void 0===n||null===(r=n.ENV)||void 0===r?void 0:r.FIREBASE)||{}).apiKey,authDomain:i.authDomain,projectId:i.projectId,appId:i.appId,messagingSenderId:i.messagingSenderId}));case 5:case"end":return e.stop()}var n,r,i}),e)})));return function(){return e.apply(this,arguments)}}();t.initializeFirebaseApp=C;var _=function(){var e=b(d.default.mark((function e(t){var n,r,i,o,s,a,u,c,l;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.swRegistration,e.next=3,T();case 3:return s=e.sent,a=s.getMessaging,u=s.getToken,c=a(),e.next=9,u(c,{vapidKey:null===(n=window)||void 0===n||null===(r=n.ENV)||void 0===r||null===(i=r.FIREBASE)||void 0===i?void 0:i.vapidKey,serviceWorkerRegistration:o}).catch((function(e){return console.warn("Couldn't register Notifications!",e),null}));case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.getFirebaseToken=_;var A=function(){var e=b(d.default.mark((function e(t){var n,r,i,o,s;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.callback,e.next=3,T();case 3:r=e.sent,i=r.getMessaging,o=r.onMessage,s=i(),o(s,n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.registerFirebaseOnMessage=A},29:function(e,t,n){e.exports=n(230)},296:function(e,t,n){"use strict";var r=n(15),i=n(25);Object.defineProperty(t,"__esModule",{value:!0}),t.showHandler=t.setUpPopovers=t.hideHandler=t.handleClick=t.disablePopovers=void 0;var o=n(38),s=n(144),a=["popoverPosition","popoverAlignment"];function u(e,t){if(null==e)return{};var n,o,s=function(e,t){if(null==e)return{};var n,i,o={},s=r(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(i){var a=i(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var c,l=function(e,t,n){var r=e.target;(0,o.hasSomeChildWithClass)(r,"a-popover")||(t.show(n),clearTimeout(c))};t.showHandler=l;var f=function(e){c=setTimeout((function(){e.hide()}),150)};t.hideHandler=f;var d=function(e){e.preventDefault()};t.handleClick=d;var h=function(){document.querySelectorAll(".js-show-popover").forEach((function(e){e.addEventListener("click",d);var t=e.dataset,n=t.popoverPosition,r=t.popoverAlignment,i=u(t,a),o=!!i.popoverStaticContent,c=o?i.popoverStaticContent:i.popoverContent,h=new s.PopoverTooltip({content:c,isStatic:o,position:n,type:"popover",alignment:r,data:i});e.addEventListener("mouseenter",(function(t){l(t,h,e)})),e.addEventListener("mouseleave",(function(){f(h)}))}))};t.setUpPopovers=h;var p=function(){document.querySelectorAll(".js-show-popover").forEach((function(e){e.removeEventListener("click",d),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",f)}))};t.disablePopovers=p,enquire.register(Domestika.enquire.tablet_down,{match:p}),enquire.register(Domestika.enquire.tablet_up,{match:h})},297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatePassword=t.validateEmail=void 0;t.validateEmail=function(e){if(!e)return!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())};t.validatePassword=function(e){return!!e&&e.length>=8}},30:function(e,t,n){"use strict";var r=n(153),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},301:function(e,t,n){"use strict";function r(e){return r="function"==typeof l&&"symbol"==typeof f?function(e){return typeof e}:function(e){return e&&"function"==typeof l&&e.constructor===l&&e!==l.prototype?"symbol":typeof e},r(e)}var i,o=n(15),s=n(25),a=n(8),u=n(29),c=n(11),l=n(6),f=n(7),d=(i=n(15))&&i.__esModule?i:{default:i},h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&a;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?a(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(304)),p=n(305),v=n(283);function g(e){if("function"!==typeof c)return null;var t=new c,n=new c;return(g=function(e){return e?n:t})(e)}function m(e,t){var n=o(e);if(s){var r=s(e);t&&(r=r.filter((function(t){return a(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):u?Object.defineProperties(e,u(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,a(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=(0,p.sessionReplayPlugin)({forceSessionTracking:!1,sampleRate:1});h.add(t),h.init(v.amplitudeKey,{defaultTracking:{attribution:!0,pageViews:!1,sessions:!0,formInteractions:!1,fileDownloads:!1},deviceId:(0,v.getCookieDeviceId)()}).promise.then((function(){(0,v.setCookieSessionId)(h.getSessionId())})),this.amplitude=h,this.setUserProperties()}var t,n,r;return t=e,(n=[{key:"setUserProperties",value:function(){if(window.AmplitudeData.enable_tracking){var e=JSON.parse(decodeURI(atob(window.AmplitudeData.userProperties))),t=new this.amplitude.Identify;(0,d.default)(e).length&&(this.amplitude.setUserId(e.user_id),(0,d.default)(e).forEach((function(n){t.set(n,e[n])}))),h.identify(t)}}},{key:"trackEvent",value:function(e,t){window.AmplitudeData.enable_tracking&&("string"===typeof e?this.amplitude.track(e,y(y({},window.AmplitudeData.mandatoryProperties||{}),t)):(e.event_properties=y(y({},window.AmplitudeData.mandatoryProperties||{}),e.event_properties),this.amplitude.track(e,t)))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.amplitude=new S},302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setContent=t.setAlignment=t.hideAllPopoverTooltips=t.TOP=t.TOOLTIP=t.START=t.POPOVER=t.END=t.CENTRE=t.BOTTOM=void 0;var r="popover";t.POPOVER=r;var i="tooltip";t.TOOLTIP=i;t.TOP="top";t.BOTTOM="bottom";var o="center";t.CENTRE=o;var s="start";t.START=s;t.END="end";t.setContent=function(e,t){return e!==i||t&&"string"===typeof t?e!==r||t&&"string"===typeof t?t:"test_partial":"I'm a PopoverTooltip"};t.setAlignment=function(e){var t=(null===e||void 0===e?void 0:e.toLowerCase())||o;return t!==s&&"end"!==t?o:t};t.hideAllPopoverTooltips=function(){var e=document.querySelectorAll(".a-popover"),t=document.querySelectorAll(".a-tooltip");e.forEach((function(e){e.parentNode.removeChild(e)})),t.forEach((function(e){e.parentNode.removeChild(e)}))}},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectText=t.createTextArea=t.copyToClipboard=void 0;var r,i=(r=n(22))&&r.__esModule?r:{default:r};t.copyToClipboard=function(e,t){return navigator.clipboard?navigator.clipboard.writeText(e):(t.clipboardData.setData("text/plain",e),i.default.resolve())};t.createTextArea=function(e){var t=document.createElement("textArea");return t.setAttribute("readonly",!0),t.contentEditable=!0,t.value=e,document.body.appendChild(t),t};t.selectText=function(e){var t=document.createRange(),n=window.getSelection();t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)}},304:function(e,t,n){"use strict";n.r(t),n.d(t,"createInstance",(function(){return xr})),n.d(t,"add",(function(){return _r})),n.d(t,"extendSession",(function(){return Ar})),n.d(t,"flush",(function(){return Pr})),n.d(t,"getDeviceId",(function(){return jr})),n.d(t,"getSessionId",(function(){return Mr})),n.d(t,"getUserId",(function(){return Nr})),n.d(t,"groupIdentify",(function(){return Lr})),n.d(t,"identify",(function(){return Rr})),n.d(t,"init",(function(){return Dr})),n.d(t,"logEvent",(function(){return Ur})),n.d(t,"remove",(function(){return Fr})),n.d(t,"reset",(function(){return qr})),n.d(t,"revenue",(function(){return Br})),n.d(t,"setDeviceId",(function(){return Vr})),n.d(t,"setGroup",(function(){return Kr})),n.d(t,"setOptOut",(function(){return zr})),n.d(t,"setSessionId",(function(){return Wr})),n.d(t,"setTransport",(function(){return Hr})),n.d(t,"setUserId",(function(){return Gr})),n.d(t,"track",(function(){return $r})),n.d(t,"runQueuedFunctions",(function(){return $})),n.d(t,"Revenue",(function(){return k})),n.d(t,"Identify",(function(){return O})),n.d(t,"Types",(function(){return Cr}));var r=n(453),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;"function"===typeof SuppressedError&&SuppressedError;var l=n(42),f=n(1),d=n(33),h=n(40),p=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=d.a.Unknown),{event:e,code:t,message:n}},v=n(141),g=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,g)};function m(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(n){}return t}var y=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return Object(f.b)(this,void 0,void 0,(function(){var n,r=this;return Object(f.c)(this,(function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(h.f,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(n=i.sent())&&n.length>0&&Promise.all(n.map((function(e){return r.execute(e)}))).catch(),[2,Promise.resolve(void 0)]}}))}))},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=g()),new Promise((function(n){var r={event:e,attempts:0,callback:function(e){return n(e)},timeout:0};t.addToQueue(r)}))},e.prototype.getTryableList=function(e){var t=this;return e.filter((function(e){return e.attempts<t.config.flushMaxRetries?(e.attempts+=1,!0):(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)}))},e.prototype.scheduleTryable=function(e,t){var n=this;void 0===t&&(t=!1),e.forEach((function(e){t&&(n.queue=n.queue.concat(e)),0!==e.timeout?setTimeout((function(){e.timeout=0,n.schedule(0)}),e.timeout):n.schedule(n.config.flushIntervalMillis)}))},e.prototype.addToQueue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getTryableList(e);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout((function(){t.flush(!0).then((function(){t.queue.length>0&&t.schedule(e)}))}),e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),Object(f.b)(this,void 0,void 0,(function(){var t,n,r,i=this;return Object(f.c)(this,(function(o){switch(o.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(t=[],n=[],this.queue.forEach((function(e){return 0===e.timeout?t.push(e):n.push(e)})),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),s=t,a=this.config.flushQueueSize,u=Math.max(a,1),r=s.reduce((function(e,t,n){var r=Math.floor(n/u);return e[r]||(e[r]=[]),e[r].push(t),e}),[]),[4,Promise.all(r.map((function(t){return i.send(t,e)})))]);case 1:return o.sent(),this.scheduleTryable(n),[2]}var s,a,u}))}))},e.prototype.send=function(e,t){return void 0===t&&(t=!0),Object(f.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(f.c)(this,(function(a){switch(a.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map((function(e){var t=e.event;t.extra;return Object(f.e)(t,["extra"])})),options:{min_id_length:this.config.minIdLength},client_upload_time:(new Date).toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new v.b,a.label=1;case 1:return a.trys.push([1,3,,4]),r=Object(v.c)(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,n)];case 2:return null===(i=a.sent())?(this.fulfillRequest(e,0,"Unexpected error occurred"),[2]):t?(this.handleResponse(i,e),[3,4]):("body"in i?this.fulfillRequest(e,i.statusCode,"".concat(i.status,": ").concat(m(i))):this.fulfillRequest(e,i.statusCode,i.status),[2]);case 3:return o=a.sent(),s=(u=o)instanceof Error?u.message:String(u),this.config.loggerProvider.error(s),this.handleResponse({status:d.a.Failed,statusCode:0},e),[3,4];case 4:return[2]}var u}))}))},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case d.a.Success:this.handleSuccessResponse(e,t);break;case d.a.Invalid:this.handleInvalidResponse(e,t);break;case d.a.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case d.a.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key"))this.fulfillRequest(t,e.statusCode,e.body.error);else{var r=Object(f.f)(Object(f.f)(Object(f.f)(Object(f.f)([],Object(f.d)(Object.values(e.body.eventsWithInvalidFields)),!1),Object(f.d)(Object.values(e.body.eventsWithMissingFields)),!1),Object(f.d)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),Object(f.d)(e.body.silencedEvents),!1).flat(),i=new Set(r),o=t.filter((function(t,r){if(!i.has(r))return!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));o.length>0&&this.config.loggerProvider.warn(m(e));var s=this.getTryableList(o);this.scheduleTryable(s)}},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1!==t.length){this.config.loggerProvider.warn(m(e)),this.config.flushQueueSize/=2;var n=this.getTryableList(t);this.scheduleTryable(n)}else this.fulfillRequest(t,e.statusCode,e.body.error)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,r=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,s=new Set(r),a=new Set(i),u=new Set(o),c=t.filter((function(t,r){if(!(t.event.user_id&&s.has(t.event.user_id)||t.event.device_id&&a.has(t.event.device_id)))return u.has(r)&&(t.timeout=n.throttleTimeout),!0;n.fulfillRequest([t],e.statusCode,e.body.error)}));c.length>0&&this.config.loggerProvider.warn(m(e));var l=this.getTryableList(c);this.scheduleTryable(l)},e.prototype.handleOtherResponse=function(e){var t=this,n=e.map((function(e){return e.timeout=e.attempts*t.retryTimeout,e})),r=this.getTryableList(n);this.scheduleTryable(r)},e.prototype.fulfillRequest=function(e,t,n){this.removeEvents(e),e.forEach((function(e){return e.callback(p(e.event,t,n))}))},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map((function(e){return e.event}));this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter((function(t){return!e.some((function(e){return e.event.insert_id===t.event.insert_id}))})),this.saveEvents()},e}(),b=n(105),w=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!S(t,n))return!1}return!0},S=function(e,t){var n,r;if("string"!==typeof e)return!1;if(Array.isArray(t)){var i=!0;try{for(var o=Object(f.g)(t),s=o.next();!s.done;s=o.next()){var a=s.value;if(Array.isArray(a))return!1;if("object"===typeof a)i=i&&w(a);else if(!["number","string"].includes(typeof a))return!1;if(!i)return!1}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else{if(null===t||void 0===t)return!1;if("object"===typeof t)return w(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},O=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return Object(f.a)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(b.a.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(b.a.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(b.a.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(b.a.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(b.a.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(b.a.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(b.a.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(b.a.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(b.a.UNSET,e,h.g),this},e.prototype.clearAll=function(){return this._properties={},this._properties[b.a.CLEAR_ALL]=h.g,this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var r=this._properties[e];return void 0===r&&(r={},this._properties[e]=r),r[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return void 0===this._properties[b.a.CLEAR_ALL]&&(!this._propertySet.has(t)&&(e===b.a.ADD?"number"===typeof n:e===b.a.UNSET||e===b.a.REMOVE||S(t,n)))},e}(),k=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return w(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?Object(f.a)({},this.properties):{};return e[b.b.REVENUE_PRODUCT_ID]=this.productId,e[b.b.REVENUE_QUANTITY]=this.quantity,e[b.b.REVENUE_PRICE]=this.price,e[b.b.REVENUE_TYPE]=this.revenueType,e[b.b.REVENUE]=this.revenue,e},e}(),E=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var n,r;return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(i){switch(i.label){case 0:return this.plugins.some((function(t){return t.name===e.name}))?(t.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(void 0===e.name&&(e.name=g(),t.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(e.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),e.type=null!==(n=e.type)&&void 0!==n?n:"enrichment",[4,null===(r=e.setup)||void 0===r?void 0:r.call(e,t,this.client)]);case 1:return i.sent(),this.plugins.push(e),[2]}}))}))},e.prototype.deregister=function(e){var t;return Object(f.b)(this,void 0,void 0,(function(){var n,r;return Object(f.c)(this,(function(i){switch(i.label){case 0:return n=this.plugins.findIndex((function(t){return t.name===e})),r=this.plugins[n],this.plugins.splice(n,1),[4,null===(t=r.teardown)||void 0===t?void 0:t.call(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.reset=function(e){this.applying=!1,this.plugins.map((function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)})),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise((function(n){t.queue.push([e,n]),t.scheduleApply(0)}))},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout((function(){t.apply(t.queue.shift()).then((function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)}))}),e))},e.prototype.apply=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,d,h,v,g,m,y,b,w,S,O;return Object(f.c)(this,(function(k){switch(k.label){case 0:if(!e)return[2];t=Object(f.d)(e,1),n=t[0],r=Object(f.d)(e,2),i=r[1],o=this.plugins.filter((function(e){return"before"===e.type})),k.label=1;case 1:k.trys.push([1,6,7,8]),s=Object(f.g)(o),a=s.next(),k.label=2;case 2:return a.done?[3,5]:(h=a.value).execute?[4,h.execute(Object(f.a)({},n))]:[3,4];case 3:if(null===(v=k.sent()))return i({event:n,code:0,message:""}),[2];n=v,k.label=4;case 4:return a=s.next(),[3,2];case 5:return[3,8];case 6:return u=k.sent(),b={error:u},[3,8];case 7:try{a&&!a.done&&(w=s.return)&&w.call(s)}finally{if(b)throw b.error}return[7];case 8:c=this.plugins.filter((function(e){return"enrichment"===e.type||void 0===e.type})),k.label=9;case 9:k.trys.push([9,14,15,16]),l=Object(f.g)(c),d=l.next(),k.label=10;case 10:return d.done?[3,13]:(h=d.value).execute?[4,h.execute(Object(f.a)({},n))]:[3,12];case 11:if(null===(v=k.sent()))return i({event:n,code:0,message:""}),[2];n=v,k.label=12;case 12:return d=l.next(),[3,10];case 13:return[3,16];case 14:return g=k.sent(),S={error:g},[3,16];case 15:try{d&&!d.done&&(O=l.return)&&O.call(l)}finally{if(S)throw S.error}return[7];case 16:return m=this.plugins.filter((function(e){return"destination"===e.type})),y=m.map((function(e){var t=Object(f.a)({},n);return e.execute(t).catch((function(e){return p(t,0,String(e))}))})),Promise.all(y).then((function(e){var t=Object(f.d)(e,1)[0]||p(n,100,"Event not tracked, no destination plugins on the instance");i(t)})),[2]}}))}))},e.prototype.flush=function(){return Object(f.b)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(f.c)(this,(function(i){switch(i.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map((function(e){return r.apply(e)})))];case 1:return i.sent(),t=this.plugins.filter((function(e){return"destination"===e.type})),n=t.map((function(e){return e.flush&&e.flush()})),[4,Promise.all(n)];case 2:return i.sent(),[2]}}))}))},e}(),I=function(e,t){return Object(f.a)(Object(f.a)({},t),{event_type:b.c.IDENTIFY,user_properties:e.getUserProperties()})},x=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new E(this),this.name=e}return e.prototype._init=function(e){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}}))}))},e.prototype.runQueuedFunctions=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u;return Object(f.c)(this,(function(c){switch(c.label){case 0:t=this[e],this[e]=[],c.label=1;case 1:c.trys.push([1,8,9,10]),n=Object(f.g)(t),r=n.next(),c.label=2;case 2:return r.done?[3,7]:(i=r.value,(o=i())&&"promise"in o?[4,o.promise]:[3,4]);case 3:return c.sent(),[3,6];case 4:return[4,o];case 5:c.sent(),c.label=6;case 6:return r=n.next(),[3,2];case 7:return[3,10];case 8:return s=c.sent(),a={error:s},[3,10];case 9:try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:c.sent(),c.label=12;case 12:return[2]}}))}))},e.prototype.track=function(e,t,n){var r=function(e,t,n){var r="string"===typeof e?{event_type:e}:e;return Object(f.a)(Object(f.a)(Object(f.a)({},r),n),t&&{event_properties:t})}(e,t,n);return Object(l.a)(this.dispatch(r))},e.prototype.identify=function(e,t){var n=I(e,t);return Object(l.a)(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,r){var i=function(e,t,n,r){var i;return Object(f.a)(Object(f.a)({},r),{event_type:b.c.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[e]=t,i)})}(e,t,n,r);return Object(l.a)(this.dispatch(i))},e.prototype.setGroup=function(e,t,n){var r=function(e,t,n){var r,i=new O;return i.set(e,t),Object(f.a)(Object(f.a)({},n),{event_type:b.c.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[e]=t,r)})}(e,t,n);return Object(l.a)(this.dispatch(r))},e.prototype.revenue=function(e,t){var n=function(e,t){return Object(f.a)(Object(f.a)({},t),{event_type:b.c.REVENUE,event_properties:e.getEventProperties()})}(e,t);return Object(l.a)(this.dispatch(n))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),Object(l.a)())},e.prototype._addPlugin=function(e){return Object(l.a)(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),Object(l.a)())},e.prototype._removePlugin=function(e){return Object(l.a)(this.timeline.deregister(e))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(p(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t=this;return Object(f.c)(this,(function(n){return this.isReady?[2,this.process(e)]:[2,new Promise((function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))}))]}))}))},e.prototype.process=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t,n,r;return Object(f.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.config.optOut?[2,p(e,0,"Event skipped due to optOut config")]:[4,this.timeline.push(e)];case 1:return 200===(r=i.sent()).code?this.config.loggerProvider.log(r.message):100===r.code?this.config.loggerProvider.warn(r.message):this.config.loggerProvider.error(r.message),[2,r];case 2:return t=i.sent(),n=String(t),this.config.loggerProvider.error(n),[2,r=p(e,0,n)];case 3:return[2]}}))}))},e.prototype.setOptOut=function(e){this.isReady?this._setOptOut(e):this.q.push(this._setOptOut.bind(this,Boolean(e)))},e.prototype._setOptOut=function(e){this.config.optOut=Boolean(e)},e.prototype.flush=function(){return Object(l.a)(this.timeline.flush())},e}(),T=n(5),C=function(e,t){return"boolean"===typeof e?e:!1!==(null===e||void 0===e?void 0:e[t])},_=function(e){return C(e,"attribution")},A=function(e){return C(e,"pageViews")},P=function(e){return C(e,"sessions")},j=function(e){return"boolean"===typeof e?e:"object"===typeof e&&(!0===e.elementInteractions||"object"===typeof e.elementInteractions)},M=function(e){if(j(e.autocapture)&&"object"===typeof e.autocapture&&"object"===typeof e.autocapture.elementInteractions)return e.autocapture.elementInteractions},N=function(e){var t,n=function(){return!1},r=void 0,i=e.pageCounter;return A(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"===typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"===typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:r,eventType:t,pageCounter:i}},L={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},R=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},D=function(e,t,n,r){void 0===r&&(r=!0);e.referrer;var i=e.referring_domain,o=Object(T.f)(e,["referrer","referring_domain"]),s=t||{},a=(s.referrer,s.referring_domain),u=Object(T.f)(s,["referrer","referring_domain"]);if(U(n.excludeReferrers,e.referring_domain))return!1;if(!r&&function(e){return Object.values(e).every((function(e){return!e}))}(e)&&t)return!1;var c=JSON.stringify(o)!==JSON.stringify(u),l=R(i||"")!==R(a||"");return!t||c||l},U=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))},F=n(66),q=function(){var e,t=Object(F.a)();return(null===(e=null===t||void 0===t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce((function(e,t){var n=t.split("=",2),r=B(n[0]),i=B(n[1]);return i?(e[r]=i,e):e}),{}):{}},B=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(t){return""}},V=function(){function e(){}return e.prototype.parse=function(){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2,Object(T.a)(Object(T.a)(Object(T.a)(Object(T.a)({},L),this.getUtmParam()),this.getReferrer()),this.getClickIds())]}))}))},e.prototype.getUtmParam=function(){var e=q();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(r){}return n},e.prototype.getClickIds=function(){var e,t=q();return(e={}).dclid=t.dclid,e.fbclid=t.fbclid,e.gbraid=t.gbraid,e.gclid=t.gclid,e.ko_click_id=t.ko_click_id,e.li_fat_id=t.li_fat_id,e.msclkid=t.msclkid,e.rtd_cid=t.rtd_cid,e.ttclid=t.ttclid,e.twclid=t.twclid,e.wbraid=t.wbraid,e},e}(),K=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},z=function(){function e(e,t){var n,r,i,o,s,a;this.shouldTrackNewCampaign=!1,this.options=Object(T.a)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:(r=null===(n=t.cookieOptions)||void 0===n?void 0:n.domain,i=r,i?(i.startsWith(".")&&(i=i.substring(1)),[new RegExp("".concat(i.replace(".","\\."),"$"))]):[])},e),this.storage=t.cookieStorage,this.storageKey=(o=t.apiKey,void 0===(s="MKTG")&&(s=""),void 0===a&&(a=10),[h.b,s,o.substring(0,a)].filter(Boolean).join("_")),this.currentCampaign=L,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return Object(T.b)(this,void 0,void 0,(function(){var e,t;return Object(T.d)(this,(function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return t=T.e.apply(void 0,[n.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||K(this.sessionTimeout,this.lastEventTime),D(this.currentCampaign,this.previousCampaign,this.options,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.fetchCampaign=function(){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([(new V).parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}}))}))},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,n,r,i,o=(t=this.currentCampaign,n=this.options,r=Object(T.a)(Object(T.a)({},L),t),i=Object.entries(r).reduce((function(e,t){var r,i=Object(T.e)(t,2),o=i[0],s=i[1];return e.setOnce("initial_".concat(o),null!==(r=null!==s&&void 0!==s?s:n.initialEmptyValue)&&void 0!==r?r:"EMPTY"),s?e.set(o,s):e.unset(o)}),new O),I(i));return e&&(o.event_id=e),o},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),W=n(142),H=function(){function e(){this.name="identity",this.type="before",this.identityStore=Object(W.a)().identityStore}return e.prototype.execute=function(e){return Object(T.b)(this,void 0,void 0,(function(){var t;return Object(T.d)(this,(function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]}))}))},e.prototype.setup=function(e){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(t){return e.instanceName&&(this.identityStore=Object(W.a)(e.instanceName).identityStore),[2]}))}))},e}(),G=n(192),$=function(e,t){Y(e,t)},Y=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.args,s=r.resolve,a=e&&e[i];if("function"===typeof a){var u=a.apply(e,o);"function"===typeof s&&s(null===u||void 0===u?void 0:u.promise)}}return e},J=function(e){return e&&void 0!==e._q},X=function(){var e,t,n,r;if("undefined"===typeof navigator)return"";var i=navigator.userLanguage;return null!==(r=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:i)&&void 0!==r?r:""},Z=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat("2.11.7"),"undefined"!==typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return a(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(a){return r=(new Date).getTime(),i=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,o=null!==(n=e.event_id)&&void 0!==n?n:i+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=r),[2,s(s(s(s(s(s(s(s({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:X()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:g(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent})]}))}))},e}(),Q=n(41),ee=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(e){return[2,!0]}))}))},e.prototype.get=function(e){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(t){return[2,this.memoryStorage.get(e)]}))}))},e.prototype.getRaw=function(e){return Object(f.b)(this,void 0,void 0,(function(){var t;return Object(f.c)(this,(function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}}))}))},e.prototype.set=function(e,t){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(n){return this.memoryStorage.set(e,t),[2]}))}))},e.prototype.remove=function(e){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(t){return this.memoryStorage.delete(e),[2]}))}))},e.prototype.reset=function(){return Object(f.b)(this,void 0,void 0,(function(){return Object(f.c)(this,(function(e){return this.memoryStorage.clear(),[2]}))}))},e}(),te=n(193),ne=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[h.b,t,e.substring(0,n)].filter(Boolean).join("_")},re=function(){function e(e){this.options=Object(T.a)({},e)}return e.prototype.isEnabled=function(){return Object(T.b)(this,void 0,void 0,(function(){var t,n;return Object(T.d)(this,(function(r){switch(r.label){case 0:if(!Object(F.a)())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return r.sent(),[4,t.get(n)];case 3:return[2,r.sent()===e.testValue];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){var t;return Object(T.b)(this,void 0,void 0,(function(){var n,r;return Object(T.d)(this,(function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(n=i.sent()))return[2,void 0];try{return void 0===(r=null!==(t=ie(n))&&void 0!==t?t:oe(n))?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(r)]}catch(o){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}}))}))},e.prototype.getRaw=function(e){var t,n;return Object(T.b)(this,void 0,void 0,(function(){var r,i,o;return Object(T.d)(this,(function(s){return r=Object(F.a)(),i=null!==(n=null===(t=null===r||void 0===r?void 0:r.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==n?n:[],(o=i.find((function(t){return 0===t.indexOf(e+"=")})))?[2,o.substring(e.length+1)]:[2,void 0]}))}))},e.prototype.set=function(e,t){var n;return Object(T.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c;return Object(T.d)(this,(function(l){try{r=null!==(n=this.options.expirationDays)&&void 0!==n?n:0,o=void 0,(i=null!==t?r:-1)&&((s=new Date).setTime(s.getTime()+24*i*60*60*1e3),o=s),a="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(a+="; expires=".concat(o.toUTCString())),a+="; path=/",this.options.domain&&(a+="; domain=".concat(this.options.domain)),this.options.secure&&(a+="; Secure"),this.options.sameSite&&(a+="; SameSite=".concat(this.options.sameSite)),(u=Object(F.a)())&&(u.document.cookie=a)}catch(f){c=f instanceof Error?f.message:String(f),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]}))}))},e.prototype.remove=function(e){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}}))}))},e.prototype.reset=function(){return Object(T.b)(this,void 0,void 0,(function(){return Object(T.d)(this,(function(e){return[2]}))}))},e}(),ie=function(e){try{return decodeURIComponent(atob(e))}catch(t){return}},oe=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(t){return}},se=n(452),ae=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return a(this,void 0,void 0,(function(){var t,n,r;return u(this,(function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return i.sent(),[4,n.get(r)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}}))}))},e.prototype.get=function(e){return a(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return(t=n.sent())?[2,JSON.parse(t)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}}))}))},e.prototype.getRaw=function(e){var t;return a(this,void 0,void 0,(function(){return u(this,(function(n){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]}))}))},e.prototype.set=function(e,t){var n;return a(this,void 0,void 0,(function(){return u(this,(function(r){try{null===(n=this.storage)||void 0===n||n.setItem(e,JSON.stringify(t))}catch(i){}return[2]}))}))},e.prototype.remove=function(e){var t;return a(this,void 0,void 0,(function(){return u(this,(function(n){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(r){}return[2]}))}))},e.prototype.reset=function(){var e;return a(this,void 0,void 0,(function(){return u(this,(function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(n){}return[2]}))}))},e}(),ue=1e3,ce=function(e){function t(t){var n,r=this;return(r=e.call(this,null===(n=Object(F.a)())||void 0===n?void 0:n.localStorage)||this).loggerProvider=null===t||void 0===t?void 0:t.loggerProvider,r}return o(t,e),t.prototype.set=function(t,n){var r;return a(this,void 0,void 0,(function(){var i;return u(this,(function(o){switch(o.label){case 0:return Array.isArray(n)&&n.length>ue?(i=n.length-ue,[4,e.prototype.set.call(this,t,n.slice(0,ue))]):[3,2];case 1:return o.sent(),null===(r=this.loggerProvider)||void 0===r||r.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(ue,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,n)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t}(ae),le=function(e){function t(){var t;return e.call(this,null===(t=Object(F.a)())||void 0===t?void 0:t.sessionStorage)||this}return o(t,e),t}(ae),fe=n(306),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return o(t,e),t.prototype.send=function(e,t){return a(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){return[2,new Promise((function(i,o){"undefined"===typeof XMLHttpRequest&&o(new Error("XHRTransport is not supported."));var s=new XMLHttpRequest;s.open("POST",e,!0),s.onreadystatechange=function(){if(s.readyState===n.state.done){var e=s.responseText;try{i(n.buildResponse(JSON.parse(e)))}catch(r){i(n.buildResponse({code:s.status}))}}},s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","*/*"),s.send(JSON.stringify(t))}))]}))}))},t}(fe.a),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.send=function(e,t){return a(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){return[2,new Promise((function(r,i){var o=Object(F.a)();if(!(null===o||void 0===o?void 0:o.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var s=JSON.stringify(t);return r(o.navigator.sendBeacon(e,JSON.stringify(t))?n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}):n.buildResponse({code:500}))}catch(a){i(a)}}))]}))}))},t}(fe.a),pe=function(e,t,n){return void 0===n&&(n=!0),a(void 0,void 0,void 0,(function(){var r,i,o,s,a,l,f,d,p;return u(this,(function(u){switch(u.label){case 0:return r=function(e){return"".concat(h.b.toLowerCase(),"_").concat(e.substring(0,6))}(e),[4,t.getRaw(r)];case 1:return(i=u.sent())?n?[4,t.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:u.sent(),u.label=3;case 3:return o=c(i.split("."),6),s=o[0],a=o[1],l=o[2],f=o[3],d=o[4],p=o[5],[2,{deviceId:s,userId:ge(a),sessionId:ve(f),lastEventId:ve(p),lastEventTime:ve(d),optOut:Boolean(l)}]}}))}))},ve=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},ge=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(t){return}},me="[Amplitude]",ye=("".concat(me," Page Viewed"),"".concat(me," Form Started")),be="".concat(me," Form Submitted"),we="".concat(me," File Downloaded"),Se="session_start",Oe="session_end",ke="".concat(me," File Extension"),Ee="".concat(me," File Name"),Ie="".concat(me," Link ID"),xe="".concat(me," Link Text"),Te="".concat(me," Link URL"),Ce="".concat(me," Form ID"),_e="".concat(me," Form Name"),Ae="".concat(me," Form Destination"),Pe="cookie",je=function(e){function t(t,n,r,i,o,s,a,u,c,l,f,d,h,p,v,g,m,y,b,w,S,O,k,E,I,x,T,C,_,A,P,j,M,N){void 0===r&&(r=new ee),void 0===i&&(i={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===u&&(u=1e3),void 0===c&&(c=5),void 0===l&&(l=30),void 0===f&&(f=Pe),void 0===g&&(g=new te.a),void 0===m&&(m=Q.a.Warn),void 0===b&&(b=!1),void 0===w&&(w=!1),void 0===k&&(k=""),void 0===E&&(E="US"),void 0===x&&(x=18e5),void 0===T&&(T=new ce({loggerProvider:g})),void 0===C&&(C={ipAddress:!0,language:!0,platform:!0}),void 0===_&&(_="fetch"),void 0===A&&(A=!1),void 0===P&&(P=!1);var L=e.call(this,{apiKey:t,storageProvider:T,transportProvider:Le(_)})||this;return L.apiKey=t,L.appVersion=n,L.cookieOptions=i,L.defaultTracking=o,L.autocapture=s,L.flushIntervalMillis=u,L.flushMaxRetries=c,L.flushQueueSize=l,L.identityStorage=f,L.ingestionMetadata=d,L.instanceName=h,L.loggerProvider=g,L.logLevel=m,L.minIdLength=y,L.offline=b,L.partnerId=S,L.plan=O,L.serverUrl=k,L.serverZone=E,L.sessionTimeout=x,L.storageProvider=T,L.trackingOptions=C,L.transport=_,L.useBatch=A,L.fetchRemoteConfig=P,L._optOut=!1,L._cookieStorage=r,L.deviceId=a,L.lastEventId=p,L.lastEventTime=v,L.optOut=w,L.sessionId=I,L.pageCounter=M,L.userId=j,L.debugLogsEnabled=N,L.loggerProvider.enable(N?Q.a.Debug:L.logLevel),L}return o(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ne(this.apiKey),e)},t}(v.a),Me=function(e,t,n){return void 0===t&&(t={}),a(void 0,void 0,void 0,(function(){var r,i,o,a,c,l,f,d,h,p,v,m,y,b,w,S,O,k,E,I,x,T,C,_,A,P,j,M,N,L,R,D,U,F,B,V,K,z,W,H,G,$,Y;return u(this,(function(u){switch(u.label){case 0:return r=t.identityStorage||Pe,E={},r===Pe?[3,1]:(o="",[3,5]);case 1:return null===(x=null===(I=t.cookieOptions)||void 0===I?void 0:I.domain)||void 0===x?[3,2]:(a=x,[3,4]);case 2:return[4,Re()];case 3:a=u.sent(),u.label=4;case 4:o=a,u.label=5;case 5:return i=s.apply(void 0,[(E.domain=o,E.expiration=365,E.sameSite="Lax",E.secure=!1,E.upgrade=!0,E),t.cookieOptions]),c=Ne(t.identityStorage,i),[4,pe(e,c,null===(C=null===(T=t.cookieOptions)||void 0===T?void 0:T.upgrade)||void 0===C||C)];case 6:return l=u.sent(),[4,c.get(ne(e))];case 7:return f=u.sent(),d=q(),h=null!==(M=null!==(j=null!==(P=null!==(A=null!==(_=t.deviceId)&&void 0!==_?_:d.ampDeviceId)&&void 0!==A?A:d.deviceId)&&void 0!==P?P:null===f||void 0===f?void 0:f.deviceId)&&void 0!==j?j:l.deviceId)&&void 0!==M?M:g(),p=null!==(N=null===f||void 0===f?void 0:f.lastEventId)&&void 0!==N?N:l.lastEventId,v=null!==(L=null===f||void 0===f?void 0:f.lastEventTime)&&void 0!==L?L:l.lastEventTime,m=null!==(D=null!==(R=t.optOut)&&void 0!==R?R:null===f||void 0===f?void 0:f.optOut)&&void 0!==D?D:l.optOut,y=null!==(U=null===f||void 0===f?void 0:f.sessionId)&&void 0!==U?U:l.sessionId,b=null!==(B=null!==(F=t.userId)&&void 0!==F?F:null===f||void 0===f?void 0:f.userId)&&void 0!==B?B:l.userId,n.previousSessionDeviceId=null!==(V=null===f||void 0===f?void 0:f.deviceId)&&void 0!==V?V:l.deviceId,n.previousSessionUserId=null!==(K=null===f||void 0===f?void 0:f.userId)&&void 0!==K?K:l.userId,w={ipAddress:null===(W=null===(z=t.trackingOptions)||void 0===z?void 0:z.ipAddress)||void 0===W||W,language:null===(G=null===(H=t.trackingOptions)||void 0===H?void 0:H.language)||void 0===G||G,platform:null===(Y=null===($=t.trackingOptions)||void 0===$?void 0:$.platform)||void 0===Y||Y},S=null===f||void 0===f?void 0:f.pageCounter,O=null===f||void 0===f?void 0:f.debugLogsEnabled,void 0!==t.autocapture&&(t.defaultTracking=t.autocapture),[4,(k=new je(e,t.appVersion,c,i,t.defaultTracking,t.autocapture,h,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,r,t.ingestionMetadata,t.instanceName,p,v,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,m,t.partnerId,t.plan,t.serverUrl,t.serverZone,y,t.sessionTimeout,t.storageProvider,w,t.transport,t.useBatch,t.fetchRemoteConfig,b,S,O)).storageProvider.isEnabled()];case 8:return u.sent()||(k.loggerProvider.warn("Storage provider ".concat(k.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),k.storageProvider=new ee),[2,k]}}))}))},Ne=function(e,t){switch(void 0===e&&(e=Pe),void 0===t&&(t={}),e){case"localStorage":return new ce;case"sessionStorage":return new le;case"none":return new ee;default:return new re(s(s({},t),{expirationDays:t.expiration}))}},Le=function(e){return"xhr"===e?new de:"beacon"===e?new he:new se.a},Re=function(e){return a(void 0,void 0,void 0,(function(){var t,n,r,i,o,s,a;return u(this,(function(u){switch(u.label){case 0:return[4,(new re).isEnabled()];case 1:if(!u.sent()||!e&&("undefined"===typeof location||!location.hostname))return[2,""];for(t=null!==e&&void 0!==e?e:location.hostname,n=t.split("."),r=[],i="AMP_TLDTEST",o=n.length-2;o>=0;--o)r.push(n.slice(o).join("."));o=0,u.label=2;case 2:return o<r.length?(s=r[o],[4,(a=new re({domain:"."+s})).set(i,1)]):[3,7];case 3:return u.sent(),[4,a.get(i)];case 4:return u.sent()?[4,a.remove(i)]:[3,6];case 5:return u.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}}))}))};var De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},De.apply(this,arguments)};function Ue(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Fe(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function qe(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Be(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ve=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},Ke=function(e){var t;void 0===e&&(e={});var n,r,i=Object(F.a)(),o=void 0,s=e.trackOn,a=e.trackHistoryChanges,u=e.eventType,c=void 0===u?"[Amplitude] Page Viewed":u,l=function(e){var t=e;try{t=decodeURI(e)}catch(n){null===o||void 0===o||o.error("Malformed URI sequence: ",n)}return t},f=function(){return Ue(void 0,void 0,void 0,(function(){var e,t,n;return Fe(this,(function(r){switch(r.label){case 0:return e=l("undefined"!==typeof location&&location.href||""),n={event_type:c},t=[{}],[4,ze()];case 1:return[2,(n.event_properties=De.apply(void 0,[De.apply(void 0,t.concat([r.sent()])),{"[Amplitude] Page Domain":"undefined"!==typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!==typeof location&&l(location.pathname)||"","[Amplitude] Page Title":"undefined"!==typeof document&&document.title||"","[Amplitude] Page URL":e.split("?")[0]}]),n)]}}))}))},d=function(){return"undefined"===typeof s||"function"===typeof s&&s()},h="undefined"!==typeof location?location.href:null,p=function(){return Ue(void 0,void 0,void 0,(function(){var e,n,r,i;return Fe(this,(function(s){switch(s.label){case 0:return e=location.href,n=He(a,e,h||"")&&d(),h=e,n?(null===o||void 0===o||o.log("Tracking page view event"),null!==t&&void 0!==t?[3,1]:(void 0,[3,3])):[3,4];case 1:return i=(r=t).track,[4,f()];case 2:i.apply(r,[s.sent()]),s.label=3;case 3:s.label=4;case 4:return[2]}}))}))},v=function(){p()},g={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,s){return Ue(void 0,void 0,void 0,(function(){var a,u;return Fe(this,(function(c){switch(c.label){case 0:return t=s,r=e,(o=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",v),n=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(e,t,n){var r=qe(n,3),i=r[0],o=r[1],s=r[2];e.apply(t,[i,o,s]),p()}})),d()?(o.log("Tracking page view event"),u=(a=t).track,[4,f()]):[3,2];case 1:u.apply(a,[c.sent()]),c.label=2;case 2:return[2]}}))}))},execute:function(e){return Ue(void 0,void 0,void 0,(function(){var t;return Fe(this,(function(n){switch(n.label){case 0:return"attribution"===s&&We(e)?(null===o||void 0===o||o.log("Enriching campaign event to page view event with campaign parameters"),[4,f()]):[3,2];case 1:t=n.sent(),e.event_type=t.event_type,e.event_properties=De(De({},e.event_properties),t.event_properties),n.label=2;case 2:return r&&e.event_type===c&&(r.pageCounter=r.pageCounter?r.pageCounter+1:1,e.event_properties=De(De({},e.event_properties),{"[Amplitude] Page Counter":r.pageCounter})),[2,e]}}))}))},teardown:function(){return Ue(void 0,void 0,void 0,(function(){return Fe(this,(function(e){return i&&(i.removeEventListener("popstate",v),n&&(i.history.pushState=n)),[2]}))}))}};return g},ze=function(){return Ue(void 0,void 0,void 0,(function(){var e;return Fe(this,(function(t){switch(t.label){case 0:return e=Ve,[4,(new V).parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}}))}))},We=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[b.a.SET]||{},r=t[b.a.UNSET]||{},i=Be(Be([],qe(Object.keys(n)),!1),qe(Object.keys(r)),!1);return Object.keys(L).every((function(e){return i.includes(e)}))}return!1},He=function(e,t,n){if("pathOnly"===e){if(""==n)return!0;var r=new URL(t),i=new URL(n);return r.origin+r.pathname!==i.origin+i.pathname}return t!==n},Ge=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,r){return a(void 0,void 0,void 0,(function(){var i;return u(this,(function(o){return null===(i=Object(F.a)())||void 0===i||i.addEventListener("load",(function(){if(r){if("undefined"!==typeof document){var i=function(e){var t=!1;n(e,"change",(function(){var n;t||r.track(ye,((n={})[Ce]=$e(e.id),n[_e]=$e(e.name),n[Ae]=e.action,n)),t=!0})),n(e,"submit",(function(){var n,i;t||r.track(ye,((n={})[Ce]=$e(e.id),n[_e]=$e(e.name),n[Ae]=e.action,n)),r.track(be,((i={})[Ce]=$e(e.id),i[_e]=$e(e.name),i[Ae]=e.action,i)),t=!1}))};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!==typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"===typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)}))}))}))).observe(document.body,{subtree:!0,childList:!0})}}else t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.")})),[2]}))}))},execute:function(e){return a(void 0,void 0,void 0,(function(){return u(this,(function(t){return[2,e]}))}))},teardown:function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(n){return null===e||void 0===e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,r=e.handler;null===t||void 0===t||t.removeEventListener(n,r)})),t=[],[2]}))}))}}},$e=function(e){if("string"===typeof e)return e},Ye=function(){var e,t=[];return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(n,r){return a(void 0,void 0,void 0,(function(){var i;return u(this,(function(o){return null===(i=Object(F.a)())||void 0===i||i.addEventListener("load",(function(){if(r){if("undefined"!==typeof document){var o=function(e){var n;try{n=new URL(e.href,window.location.href)}catch(i){return}var o=s.exec(n.href),a=null===o||void 0===o?void 0:o[1];a&&function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})}(e,"click",(function(){var t;a&&r.track(we,((t={})[ke]=a,t[Ee]=n.pathname,t[Ie]=e.id,t[xe]=e.text,t[Te]=e.href,t))}))},s=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;Array.from(document.getElementsByTagName("a")).forEach(o),"undefined"!==typeof MutationObserver&&(e=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){"A"===e.nodeName&&o(e),"querySelectorAll"in e&&"function"===typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(o)}))}))}))).observe(document.body,{subtree:!0,childList:!0})}}else n.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.")})),[2]}))}))},execute:function(e){return a(void 0,void 0,void 0,(function(){return u(this,(function(t){return[2,e]}))}))},teardown:function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(n){return null===e||void 0===e||e.disconnect(),t.forEach((function(e){var t=e.element,n=e.type,r=e.handler;null===t||void 0===t||t.removeEventListener(n,r)})),t=[],[2]}))}))}}},Je=!1,Xe=function(){var e=Object(F.a)(),t=[],n=function(n,r){e&&(e.addEventListener(n,r),t.push({type:n,handler:r}))};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return a(void 0,void 0,void 0,(function(){return u(this,(function(r){return"undefined"===typeof navigator?(e.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),e.offline=!1,[2]):(e.offline=!navigator.onLine,n("online",(function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout((function(){t.flush()}),e.flushIntervalMillis)})),n("offline",(function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2])}))}))},teardown:function(){return a(void 0,void 0,void 0,(function(){return u(this,(function(n){return t.forEach((function(t){var n=t.type,r=t.handler;e&&e.removeEventListener(n,r)})),t=[],[2]}))}))}}},Ze=n(107),Qe=function(){function e(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return a(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this,[4,Object(Ze.a)({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=t.sent(),[2]}}))}))},e.prototype.generateJoinedConfig=function(){var e,t,n,r;return a(this,void 0,void 0,(function(){var i,o,a;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),(o=this.remoteConfigFetch)?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:o=u.sent(),u.label=2;case 2:return i=o,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(i,null,2)),i&&"autocapture"in i&&("boolean"===typeof i.autocapture&&(this.config.autocapture=i.autocapture),"object"===typeof i.autocapture&&(void 0===this.config.autocapture&&(this.config.autocapture=i.autocapture),"boolean"===typeof this.config.autocapture&&(this.config.autocapture=s({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},i.autocapture)),"object"===typeof this.config.autocapture&&(this.config.autocapture=s(s({},this.config.autocapture),i.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),null!==(e=(r=this.config).requestMetadata)&&void 0!==e||(r.requestMetadata=new v.b),(null===(t=this.remoteConfigFetch)||void 0===t?void 0:t.metrics.fetchTimeAPISuccess)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),(null===(n=this.remoteConfigFetch)||void 0===n?void 0:n.metrics.fetchTimeAPIFail)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return a=u.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",a),[3,4];case 4:return[2,this.config]}}))}))},e}(),et=function(e,t){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},et(e,t)};function tt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}et(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nt.apply(this,arguments)};function rt(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function it(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function ot(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function st(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function at(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function ut(e){return this instanceof ut?(this.v=e,this):new ut(e)}function ct(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=i[e](t)).value instanceof ut?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function lt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=ot(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;var ft=n(106),dt="[Amplitude] Element Clicked",ht="https://app.amplitude.com",pt={US:ht,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},vt="amp-visual-tagging-selector-highlight",gt=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function mt(e){return"function"===typeof e}function yt(e){return mt(null===e||void 0===e?void 0:e.then)}function bt(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wt=bt((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function St(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ot=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=ot(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(mt(u))try{u()}catch(p){i=p instanceof wt?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=ot(c),f=l.next();!f.done;f=l.next()){var d=f.value;try{Et(d)}catch(v){i=null!==i&&void 0!==i?i:[],v instanceof wt?i=at(at([],st(i)),st(v.errors)):i.push(v)}}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new wt(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Et(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&St(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&St(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Ot.EMPTY;function kt(e){return e instanceof Ot||e&&"closed"in e&&mt(e.remove)&&mt(e.add)&&mt(e.unsubscribe)}function Et(e){mt(e)?e():e.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xt={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=xt.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,at([e,t],st(n))):setTimeout.apply(void 0,at([e,t],st(n)))},clearTimeout:function(e){var t=xt.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Tt(e){xt.setTimeout((function(){var t=It.onUnhandledError;if(!t)throw e;t(e)}))}function Ct(){}var _t=At("C",void 0,void 0);function At(e,t,n){return{kind:e,value:t,error:n}}var Pt=null;var jt=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,kt(t)&&t.add(n)):n.destination=Ft,n}return tt(t,e),t.create=function(e,t,n){return new Rt(e,t,n)},t.prototype.next=function(e){this.isStopped?Ut(function(e){return At("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Ut(At("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Ut(_t,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ot),Mt=Function.prototype.bind;function Nt(e,t){return Mt.call(e,t)}var Lt=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){Dt(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){Dt(n)}else Dt(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Dt(t)}},e}(),Rt=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;mt(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&It.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&Nt(t.next,o),error:t.error&&Nt(t.error,o),complete:t.complete&&Nt(t.complete,o)}):i=t;return s.destination=new Lt(i),s}return tt(t,e),t}(jt);function Dt(e){var t;It.useDeprecatedSynchronousErrorHandling?(t=e,It.useDeprecatedSynchronousErrorHandling&&Pt&&(Pt.errorThrown=!0,Pt.error=t)):Tt(e)}function Ut(e,t){var n=It.onStoppedNotification;n&&xt.setTimeout((function(){return n(e,t)}))}var Ft={closed:!0,next:Ct,error:function(e){throw e},complete:Ct},qt="function"===typeof Symbol&&Symbol.observable||"@@observable";function Bt(e){return e}function Vt(e){return 0===e.length?Bt:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Kt=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof jt||function(e){return e&&mt(e.next)&&mt(e.error)&&mt(e.complete)}(r)&&kt(r)?e:new Rt(e,t,n);return function(e){if(It.useDeprecatedSynchronousErrorHandling){var t=!Pt;if(t&&(Pt={errorThrown:!1,error:null}),e(),t){var n=Pt,r=n.errorThrown,i=n.error;if(Pt=null,r)throw i}}else e()}((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=zt(t))((function(t,r){var i=new Rt({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[qt]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vt(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=zt(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function zt(e){var t;return null!==(t=null!==e&&void 0!==e?e:It.Promise)&&void 0!==t?t:Promise}function Wt(e){return mt(e[qt])}function Ht(e){return Symbol.asyncIterator&&mt(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function Gt(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $t="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Yt(e){return mt(null===e||void 0===e?void 0:e[$t])}function Jt(e){return ct(this,arguments,(function(){var t,n,r;return it(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,ut(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,ut(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,ut(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function Xt(e){return mt(null===e||void 0===e?void 0:e.getReader)}function Zt(e){if(e instanceof Kt)return e;if(null!=e){if(Wt(e))return i=e,new Kt((function(e){var t=i[qt]();if(mt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(gt(e))return r=e,new Kt((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(yt(e))return n=e,new Kt((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Tt)}));if(Ht(e))return Qt(e);if(Yt(e))return t=e,new Kt((function(e){var n,r;try{for(var i=ot(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(Xt(e))return Qt(Jt(e))}var t,n,r,i;throw Gt(e)}function Qt(e){return new Kt((function(t){(function(e,t){var n,r,i,o;return rt(this,void 0,void 0,(function(){var s,a;return it(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=lt(e),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function en(e){return function(t){if(function(e){return mt(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function tn(e,t,n,r,i){return new nn(e,t,n,r,i)}var nn=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return tt(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(jt);function rn(e,t){return en((function(n,r){var i=0;n.subscribe(tn(r,(function(n){r.next(e.call(t,n,i++))})))}))}function on(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function sn(e,t,n){return void 0===n&&(n=1/0),mt(t)?sn((function(n,r){return rn((function(e,i){return t(n,e,r,i)}))(Zt(e(n,r)))}),n):("number"===typeof t&&(n=t),en((function(t,r){return function(e,t,n,r,i,o,s,a){var u=[],c=0,l=0,f=!1,d=function(){!f||u.length||c||t.complete()},h=function(e){return c<r?p(e):u.push(e)},p=function(e){o&&t.next(e),c++;var a=!1;Zt(n(e,l++)).subscribe(tn(t,(function(e){null===i||void 0===i||i(e),o?h(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{c--;for(var e=function(){var e=u.shift();s?on(t,s,(function(){return p(e)})):p(e)};u.length&&c<r;)e();d()}catch(n){t.error(n)}})))};return e.subscribe(tn(t,h,(function(){f=!0,d()}))),function(){null===a||void 0===a||a()}}(t,r,e,n)})))}var an=Array.isArray;function un(e){return rn((function(t){return function(e,t){return an(t)?e.apply(void 0,at([],st(t))):e(t)}(e,t)}))}var cn,ln,fn=["addListener","removeListener"],dn=["addEventListener","removeEventListener"],hn=["on","off"];function pn(e,t,n,r){if(mt(n)&&(r=n,n=void 0),r)return pn(e,t,n).pipe(un(r));var i=st(function(e){return mt(e.addEventListener)&&mt(e.removeEventListener)}(e)?dn.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return mt(e.addListener)&&mt(e.removeListener)}(e)?fn.map(vn(e,t)):function(e){return mt(e.on)&&mt(e.off)}(e)?hn.map(vn(e,t)):[],2),o=i[0],s=i[1];if(!o&&gt(e))return sn((function(e){return pn(e,t,n)}))(Zt(e));if(!o)throw new TypeError("Invalid event target");return new Kt((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return s(t)}}))}function vn(e,t){return function(n){return function(r){return e[n](t,r)}}}function gn(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};cn=nt(nt({},n),t),ln=function(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return e;if(e===t.root)return e.ownerDocument;return e}(cn.root,n);var r=mn(e,"all",(function(){return mn(e,"two",(function(){return mn(e,"one",(function(){return mn(e,"none")}))}))}));if(r){var i=Tn(Cn(r,e));return i.length>0&&(r=i[0]),bn(r)}throw new Error("Selector was not found.")}function mn(e,t,n){for(var r=null,i=[],o=e,s=0,a=function(){var e,a,u=En(function(e){var t=e.getAttribute("id");if(t&&cn.idName(t))return{name:"#"+CSS.escape(t),penalty:0};return null}(o))||En.apply(void 0,at([],st(function(e){return Array.from(e.attributes).filter((function(e){return cn.attr(e.name,e.value)})).map((function(e){return{name:"[".concat(CSS.escape(e.name),'="').concat(CSS.escape(e.value),'"]'),penalty:.5}}))}(o)),!1))||En.apply(void 0,at([],st(function(e){return Array.from(e.classList).filter(cn.className).map((function(e){return{name:"."+CSS.escape(e),penalty:1}}))}(o)),!1))||En(function(e){var t=e.tagName.toLowerCase();if(cn.tagName(t))return{name:t,penalty:2};return null}(o))||[{name:"*",penalty:3}],c=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;var r=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(o);if("all"==t)c&&(u=u.concat(u.filter(kn).map((function(e){return On(e,c)}))));else if("two"==t)u=u.slice(0,1),c&&(u=u.concat(u.filter(kn).map((function(e){return On(e,c)}))));else if("one"==t){var l=st(u=u.slice(0,1),1)[0];c&&kn(l)&&(u=[On(l,c)])}else"none"==t&&(u=[{name:"*",penalty:3}],c&&(u=[On(u[0],c)]));try{for(var f=(e=void 0,ot(u)),d=f.next();!d.done;d=f.next()){(l=d.value).level=s}}catch(h){e={error:h}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(e)throw e.error}}if(i.push(u),i.length>=cn.seedMinLength&&(r=yn(i,n)))return"break";o=o.parentElement,s++};o;){if("break"===a())break}return r||(r=yn(i,n)),!r&&n?n():r}function yn(e,t){var n,r;if(e.reduce((function(e,t){return e*t.length}),1)>cn.threshold)return t?t():null;var i=Tn(xn(e));try{for(var o=ot(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(Sn(a))return a}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function bn(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function wn(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function Sn(e){var t=bn(e);switch(ln.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function On(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function kn(e){return"html"!==e.name&&!e.name.startsWith("#")}function En(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(In);return n.length>0?n:null}function In(e){return null!==e&&void 0!==e}function xn(e,t){var n,r,i,o,s,a;return void 0===t&&(t=[]),it(this,(function(u){switch(u.label){case 0:if(!(e.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),n=ot(e[0]),r=n.next(),u.label=2;case 2:return r.done?[3,5]:(i=r.value,[5,ot(xn(e.slice(1,e.length),t.concat(i)))]);case 3:u.sent(),u.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return o=u.sent(),s={error:o},[3,8];case 7:try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:u.sent(),u.label=11;case 11:return[2]}}))}function Tn(e){return at([],st(e),!1).sort((function(e,t){return wn(e)-wn(t)}))}function Cn(e,t,n){var r,i,o;return void 0===n&&(n={counter:0,visited:new Map}),it(this,(function(s){switch(s.label){case 0:if(!(e.length>2&&e.length>cn.optimizedMinLength))return[3,5];r=1,s.label=1;case 1:return r<e.length-1?n.counter>cn.maxNumberOfTries?[2]:(n.counter+=1,(i=at([],st(e),!1)).splice(r,1),o=bn(i),n.visited.has(o)?[2]:Sn(i)&&function(e,t){return ln.querySelector(bn(e))===t}(i,t)?[4,i]:[3,4]):[3,5];case 2:return s.sent(),n.visited.set(o,!0),[5,ot(Cn(i,t,n))];case 3:s.sent(),s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}var _n=["input","select","textarea"],An=function(e,t){return function(n,r){var i,o,s,a=e.pageUrlAllowlist,u=e.shouldTrackEventResolver,c=null===(o=null===(i=null===r||void 0===r?void 0:r.tagName)||void 0===i?void 0:i.toLowerCase)||void 0===o?void 0:o.call(i);if(!c)return!1;if(u)return u(n,r);if(!Ln(window.location.href,a))return!1;var l=String(null===r||void 0===r?void 0:r.getAttribute("type"))||"";if("string"===typeof l)switch(l.toLowerCase()){case"hidden":case"password":return!1}if(t){var f=t.some((function(e){var t;return!!(null===(t=null===r||void 0===r?void 0:r.matches)||void 0===t?void 0:t.call(r,e))}));if(!f)return!1}switch(c){case"input":case"select":case"textarea":return"change"===n||"click"===n;default:var d=null===(s=null===window||void 0===window?void 0:window.getComputedStyle)||void 0===s?void 0:s.call(window,r);return!(!d||"pointer"!==d.getPropertyValue("cursor")||"click"!==n)||"click"===n}}},Pn=function(e){if(null==e)return!1;if("string"===typeof e){if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(e))return!1}return!0},jn=function(e){var t,n,r,i=null===(n=null===(t=null===e||void 0===e?void 0:e.tagName)||void 0===t?void 0:t.toLowerCase)||void 0===n?void 0:n.call(t),o=e instanceof HTMLElement&&"true"===(null===(r=e.getAttribute("contenteditable"))||void 0===r?void 0:r.toLowerCase());return!_n.includes(i)&&!o},Mn=function(e){var t="";return jn(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach((function(e){var n,r="";(n=e)&&3===n.nodeType?e.textContent&&(r=e.textContent):r=Mn(e),t+=r.split(/(\s+)/).filter(Pn).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)})),t},Nn=function(e,t){var n,r,i="";try{return i=gn(e,{className:function(e){return e!==vt},maxNumberOfTries:1e3})}catch(l){if(t){var o=l;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(o.toString()))}}var s=null===(r=null===(n=null===e||void 0===e?void 0:e.tagName)||void 0===n?void 0:n.toLowerCase)||void 0===r?void 0:r.call(n);s&&(i=s);var a=e.getAttribute("id"),u=e.getAttribute("class");if(a)i="#".concat(a);else if(u){var c=u.split(" ").filter((function(e){return e!==vt})).join(".");c&&(i="".concat(i,".").concat(c))}return i},Ln=function(e,t){return!t||!t.length||t.some((function(t){return"string"===typeof t?e===t:e.match(t)}))},Rn=function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}(r)||(t[n]=r),t}),{})},Dn=function(e){var t,n=e.parentElement;if(!n)return"";try{t=n.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(i){t=null}if(t){var r=t.textContent||"";return Pn(r)?r:""}return Dn(n)},Un=function(e,t){return e?t.some((function(t){var n;return null===(n=null===e||void 0===e?void 0:e.matches)||void 0===n?void 0:n.call(e,t)}))?e:Un(null===e||void 0===e?void 0:e.parentElement,t):null},Fn=function(e,t){var n,r,i;if(!e)return{};var o=null===(i=null===(r=null===e||void 0===e?void 0:e.tagName)||void 0===r?void 0:r.toLowerCase)||void 0===i?void 0:i.call(r),s=Nn(e,t),a=((n={})["[Amplitude] Element Tag"]=o,n["[Amplitude] Element Text"]=Mn(e),n["[Amplitude] Element Selector"]=s,n["[Amplitude] Page URL"]=window.location.href.split("?")[0],n);return Rn(a)};var qn=function(e){return!(null===e.event.target||!e.closestTrackedAncestor)},Bn=function(){function e(e){var t=(void 0===e?{}:e).origin,n=void 0===t?ht:t,r=this;this.endpoint=ht,this.requestCallbacks={},this.onSelect=function(e){r.notify({action:"element-selected",data:e})},this.onTrack=function(e,t){"selector-mode-changed"===e?r.notify({action:"track-selector-mode-changed",data:t}):"selector-moved"===e&&r.notify({action:"track-selector-moved",data:t})},this.endpoint=n}return e.prototype.notify=function(e){var t,n,r,i;null===(n=null===(t=this.logger)||void 0===t?void 0:t.debug)||void 0===n||n.call(t,"Message sent: ",JSON.stringify(e)),null===(i=null===(r=window.opener)||void 0===r?void 0:r.postMessage)||void 0===i||i.call(r,e,this.endpoint)},e.prototype.sendRequest=function(e,t,n){var r=this;void 0===n&&(n={timeout:15e3});var i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o={id:i,action:e,args:t};return new Promise((function(t,s){r.requestCallbacks[i]={resolve:t,reject:s},r.notify(o),(null===n||void 0===n?void 0:n.timeout)>0&&setTimeout((function(){s(new Error("".concat(e," timed out (id: ").concat(i,")"))),delete r.requestCallbacks[i]}),n.timeout)}))},e.prototype.handleResponse=function(e){var t;this.requestCallbacks[e.id]?(this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]):null===(t=this.logger)||void 0===t||t.warn("No callback found for request id: ".concat(e.id))},e.prototype.setup=function(e){var t=this,n=void 0===e?{}:e,r=n.logger,i=n.endpoint,o=n.isElementSelectable,s=n.cssSelectorAllowlist,a=n.actionClickAllowlist;this.logger=r,i&&this.endpoint===ht&&(this.endpoint=i);var u=null;window.addEventListener("message",(function(e){var n,r,i,c,l;if(null===(r=null===(n=t.logger)||void 0===n?void 0:n.debug)||void 0===r||r.call(n,"Message received: ",JSON.stringify(e)),t.endpoint===e.origin){var f,d=null===e||void 0===e?void 0:e.data,h=null===d||void 0===d?void 0:d.action;if(h)if("id"in d)null===(c=null===(i=t.logger)||void 0===i?void 0:i.debug)||void 0===c||c.call(i,"Received Response to previous request: ",JSON.stringify(e)),t.handleResponse(d);else if("ping"===h)t.notify({action:"pong"});else if("initialize-visual-tagging-selector"===h){var p=null===d||void 0===d?void 0:d.data;(f="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise((function(e,t){var n;try{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=f,r.addEventListener("load",(function(){e({status:!0})}),{once:!0}),r.addEventListener("error",(function(){t({status:!1,message:"Failed to load the script ".concat(f)})})),null===(n=document.head)||void 0===n||n.appendChild(r)}catch(i){t(i)}}))).then((function(){var e;u=null===(e=null===window||void 0===window?void 0:window.amplitudeVisualTaggingSelector)||void 0===e?void 0:e.call(window,{getEventTagProps:Fn,isElementSelectable:function(e){return!o||o((null===p||void 0===p?void 0:p.actionType)||"click",e)},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:vt,messenger:t,cssSelectorAllowlist:s,actionClickAllowlist:a}),t.notify({action:"selector-loaded"})})).catch((function(){var e;null===(e=t.logger)||void 0===e||e.warn("Failed to initialize visual tagging selector")}))}else"close-visual-tagging-selector"===h&&(null===(l=null===u||void 0===u?void 0:u.close)||void 0===l||l.call(u))}})),this.notify({action:"page-loaded"})},e}(),Vn=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],Kn=["type"],zn=["svg","path","g"],Wn=["password","hidden"];var Hn=function(e){var t;return e?(t=function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(null===i)n+=4;else{var o=Gn(i);n+=o?Array.from(o).length:4}if(n>t)return e.slice(0,r)}return e}(function(e){var t=[];if(!e)return t;t.push(e);for(var n=e.parentElement;n&&"HTML"!==n.tagName;)t.push(n),n=n.parentElement;return t}(e).map((function(e){return function(e){var t,n,r,i,o,s;if(null===e)return null;var a=String(e.tagName).toLowerCase(),u={tag:a},c=Array.from(null!==(i=null===(r=e.parentElement)||void 0===r?void 0:r.children)&&void 0!==i?i:[]);c.length&&(u.index=c.indexOf(e),u.indexOfType=c.filter((function(t){return t.tagName===e.tagName})).indexOf(e));var l=null===(s=null===(o=e.previousElementSibling)||void 0===o?void 0:o.tagName)||void 0===s?void 0:s.toLowerCase();l&&(u.prevSib=String(l));var f=e.getAttribute("id");f&&(u.id=String(f));var d=Array.from(e.classList);d.length&&(u.classes=d);var h={},p=Array.from(e.attributes).filter((function(e){return!Vn.includes(e.name)})),v=!jn(e);if(!Wn.includes(String(e.getAttribute("type")))&&!zn.includes(a))try{for(var g=ot(p),m=g.next();!m.done;m=g.next()){var y=m.value;v&&!Kn.includes(y.name)||(h[y.name]=String(y.value).substring(0,128))}}catch(b){t={error:b}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}return Object.keys(h).length&&(u.attrs=h),u}(e)})),1024),t):[]};function Gn(e,t){void 0===t&&(t=!1);try{if(null==e)return t?"None":null;if("string"===typeof e)return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")).includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'"):e;if("boolean"===typeof e)return e?"True":"False";if(Array.isArray(e)){var n=e.map((function(e){return Gn(e,!0)}));return"[".concat(n.join(", "),"]")}if("object"===typeof e){var r=Object.entries(e).filter((function(e){return null!=st(e,1)[0]})).map((function(e){var t=st(e,2),n=t[0],r=t[1];return"".concat(String(Gn(n,!0)),": ").concat(String(Gn(r,!0)))})),i="{".concat(r.join(", "),"}");return i.includes("\\'")&&(i=i.replace(/'/g,"'").replace(/'/g,"\\'")),i}return e.toString()}catch(o){return null}}function $n(e,t){return en((function(n,r){var i=0;n.subscribe(tn(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}var Yn=function(e){function t(t,n){return e.call(this)||this}return tt(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Ot),Jn={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Jn.delegate;return(null===i||void 0===i?void 0:i.setInterval)?i.setInterval.apply(i,at([e,t],st(n))):setInterval.apply(void 0,at([e,t],st(n)))},clearInterval:function(e){var t=Jn.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Xn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return tt(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Jn.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Jn.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,St(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Yn),Zn={now:function(){return(Zn.delegate||Date).now()},delegate:void 0},Qn=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=Zn.now,e}(),er=new(function(e){function t(t,n){void 0===n&&(n=Qn.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return tt(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Qn))(Xn),tr=er;function nr(e){return void 0===e&&(e=1/0),sn(Bt,e)}var rr=new Kt((function(e){return e.complete()}));function ir(e){return e&&mt(e.schedule)}function or(e){return e[e.length-1]}function sr(e){return ir(or(e))?e.pop():void 0}function ar(e,t){return"number"===typeof or(e)?e.pop():t}function ur(e,t){return void 0===t&&(t=0),en((function(n,r){n.subscribe(tn(r,(function(n){return on(r,e,(function(){return r.next(n)}),t)}),(function(){return on(r,e,(function(){return r.complete()}),t)}),(function(n){return on(r,e,(function(){return r.error(n)}),t)})))}))}function cr(e,t){return void 0===t&&(t=0),en((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function lr(e,t){if(!e)throw new Error("Iterable cannot be null");return new Kt((function(n){on(n,t,(function(){var r=e[Symbol.asyncIterator]();on(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function fr(e,t){if(null!=e){if(Wt(e))return function(e,t){return Zt(e).pipe(cr(t),ur(t))}(e,t);if(gt(e))return function(e,t){return new Kt((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(yt(e))return function(e,t){return Zt(e).pipe(cr(t),ur(t))}(e,t);if(Ht(e))return lr(e,t);if(Yt(e))return function(e,t){return new Kt((function(n){var r;return on(n,t,(function(){r=e[$t](),on(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(o){return void n.error(o)}i?n.complete():n.next(t)}),0,!0)})),function(){return mt(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(Xt(e))return function(e,t){return lr(Jt(e),t)}(e,t)}throw Gt(e)}function dr(e,t){return t?fr(e,t):Zt(e)}function hr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=sr(e),r=ar(e,1/0),i=e;return i.length?1===i.length?Zt(i[0]):nr(r)(dr(i,n)):rr}function pr(){return nr(1)}function vr(e){return e<=0?function(){return rr}:en((function(t,n){var r=0;t.subscribe(tn(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function gr(e,t){return t?function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pr()(dr(e,sr(e)))}(t.pipe(vr(1),en((function(e,t){e.subscribe(tn(t,Ct))}))),n.pipe(gr(e)))}:sn((function(t,n){return Zt(e(t,n)).pipe(vr(1),function(e){return rn((function(){return e}))}(t))}))}function mr(e){return e instanceof Date&&!isNaN(e)}function yr(e,t){void 0===t&&(t=er);var n=function(e,t,n){void 0===e&&(e=0),void 0===n&&(n=tr);var r=-1;return null!=t&&(ir(t)?n=t:r=t),new Kt((function(t){var i=mr(e)?+e-n.now():e;i<0&&(i=0);var o=0;return n.schedule((function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}(e,t);return gr((function(){return n}))}function br(e){var t,n,r,i=e.amplitude,o=e.allObservables,s=e.options,a=e.shouldTrackEvent,u=o.clickObservable,c=u.pipe(en((function(e,t){var n,r=!1;e.subscribe(tn(t,(function(e){var i=n;n=e,r&&t.next([i,e]),r=!0})))})),$n((function(e){var t=st(e,2),n=t[0],r=t[1],i=n.event.target!==r.event.target,o=Math.abs(r.event.screenX-n.event.screenX)<=20&&Math.abs(r.event.screenY-n.event.screenY)<=20;return i&&!o}))),l=hr(c,u.pipe((t=s.debounceTime,void 0===n&&(n=er),en((function(e,r){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,r.next(e)}};function u(){var e=s+t,o=n.now();if(o<e)return i=this.schedule(void 0,e-o),void r.add(i);a()}e.subscribe(tn(r,(function(e){o=e,s=n.now(),i||(i=n.schedule(u,t),r.add(i))}),(function(){a(),r.complete()}),void 0,(function(){o=i=null})))}))),rn((function(){return"timeout"}))));return u.pipe(yr(0),$n(qn),$n((function(e){return a("click",e.closestTrackedAncestor)})),(r=l,en((function(e,t){var n=[];return e.subscribe(tn(t,(function(e){return n.push(e)}),(function(){t.next(n),t.complete()}))),Zt(r).subscribe(tn(t,(function(){var e=n;n=[],t.next(e)}),Ct)),function(){n=null}})))).subscribe((function(e){var t,n,r=(e.length,dt);try{for(var o=ot(e),s=o.next();!s.done;s=o.next()){var a=s.value;null===i||void 0===i||i.track(r,a.targetElementProperties,{time:a.timestamp})}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}))}var wr,Sr=bt((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function Or(e){throw new Sr(e)}function kr(e){var t=e.amplitude,n=e.allObservables,r=e.options,i=e.getEventProperties,o=e.shouldTrackEvent,s=e.shouldTrackActionClick,a=n.clickObservable,u=n.mutationObservable,c=n.navigateObservable,l=a.pipe($n((function(e){return!o("click",e.closestTrackedAncestor)})),rn((function(e){var t=Un(e.event.target,r.actionClickAllowlist);return e.closestTrackedAncestor=t,null!==e.closestTrackedAncestor&&(e.targetElementProperties=i(e.type,e.closestTrackedAncestor)),e})),$n(qn),$n((function(e){return s("click",e.closestTrackedAncestor)}))),f=[u];c&&f.push(c);var d,h,p=hr.apply(void 0,at([],st(f),!1)),v=l.pipe((d=function(e){return p.pipe(vr(1),function(e,t){var n=mr(e)?{first:e}:"number"===typeof e?{each:e}:e,r=n.first,i=n.each,o=n.with,s=void 0===o?Or:o,a=n.scheduler,u=void 0===a?null!==t&&void 0!==t?t:er:a,c=n.meta,l=void 0===c?null:c;if(null==r&&null==i)throw new TypeError("No timeout provided.");return en((function(e,t){var n,o,a=null,c=0,f=function(e){o=on(t,u,(function(){try{n.unsubscribe(),Zt(s({meta:l,lastValue:a,seen:c})).subscribe(t)}catch(e){t.error(e)}}),e)};n=e.subscribe(tn(t,(function(e){null===o||void 0===o||o.unsubscribe(),c++,t.next(a=e),i>0&&f(i)}),void 0,void 0,(function(){(null===o||void 0===o?void 0:o.closed)||null===o||void 0===o||o.unsubscribe(),a=null}))),!c&&f(null!=r?"number"===typeof r?r:+r-u.now():i)}))}({first:500,with:function(){return rr}}),rn((function(){return e})))},en((function(e,t){var n=null,r=0,i=!1,o=function(){return i&&!n&&t.complete()};e.subscribe(tn(t,(function(e){null===n||void 0===n||n.unsubscribe();var i=0,s=r++;Zt(d(e,s)).subscribe(n=tn(t,(function(n){return t.next(h?h(e,n,s,i++):n)}),(function(){n=null,o()})))}),(function(){i=!0,o()})))}))));return v.subscribe((function(e){null===t||void 0===t||t.track(dt,i("click",e.closestTrackedAncestor),{time:e.timestamp})}))}!function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"}(wr||(wr={}));var Er=function(e){var t,n,r;void 0===e&&(e={});var i=e.dataAttributePrefix,o=void 0===i?ft.c:i,s=e.visualTaggingOptions,a=void 0===s?{enabled:!0,messenger:new Bn}:s;e.cssSelectorAllowlist=null!==(t=e.cssSelectorAllowlist)&&void 0!==t?t:ft.b,e.actionClickAllowlist=null!==(n=e.actionClickAllowlist)&&void 0!==n?n:ft.a,e.debounceTime=null!==(r=e.debounceTime)&&void 0!==r?r:0;var u="@amplitude/plugin-autocapture-browser",c=[],l=void 0,f=function(e,t){var n,r,i,s=null===(i=null===(r=null===t||void 0===t?void 0:t.tagName)||void 0===r?void 0:r.toLowerCase)||void 0===i?void 0:i.call(r),a="function"===typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:null,top:null},u=t.getAttribute("aria-label"),c=function(e,t){return e.getAttributeNames().reduce((function(n,r){if(r.startsWith(t)){var i=r.replace(t,""),o=e.getAttribute(r);i&&(n[i]=o||"")}return n}),{})}(t,o),f=Dn(t),d=Nn(t,l),h=((n={})["[Amplitude] Element ID"]=t.getAttribute("id")||"",n["[Amplitude] Element Class"]=t.getAttribute("class"),n["[Amplitude] Element Hierarchy"]=Hn(t),n["[Amplitude] Element Tag"]=s,n["[Amplitude] Element Text"]=Mn(t),n["[Amplitude] Element Position Left"]=null==a.left?null:Math.round(a.left),n["[Amplitude] Element Position Top"]=null==a.top?null:Math.round(a.top),n["[Amplitude] Element Aria Label"]=u,n["[Amplitude] Element Attributes"]=c,n["[Amplitude] Element Selector"]=d,n["[Amplitude] Element Parent Label"]=f,n["[Amplitude] Page URL"]=window.location.href.split("?")[0],n["[Amplitude] Page Title"]="undefined"!==typeof document&&document.title||"",n["[Amplitude] Viewport Height"]=window.innerHeight,n["[Amplitude] Viewport Width"]=window.innerWidth,n);return"a"===s&&"click"===e&&t instanceof HTMLAnchorElement&&(h["[Amplitude] Element Href"]=t.href),Rn(h)},d=function(t,n){var r={event:t,timestamp:Date.now(),type:n};if(function(e){return"click"===e.type||"change"===e.type}(r)&&null!==r.event.target){var i=Un(r.event.target,e.cssSelectorAllowlist);return i&&(r.closestTrackedAncestor=i,r.targetElementProperties=f(r.type,i)),r}return r};return{name:u,type:"enrichment",setup:function(t,n){return rt(void 0,void 0,void 0,(function(){var r,i,o,s,h,p,v,g,m,y;return it(this,(function(b){return l=t.loggerProvider,"undefined"===typeof document||(r=An(e,e.cssSelectorAllowlist),i=An(e,e.actionClickAllowlist),o=function(){var e,t,n=pn(document,"click",{capture:!0}).pipe(rn((function(e){return d(e,"click")}))),r=pn(document,"change",{capture:!0}).pipe(rn((function(e){return d(e,"change")})));window.navigation&&(t=pn(window.navigation,"navigate").pipe(rn((function(e){return d(e,"navigate")}))));var i=new Kt((function(e){var t=new MutationObserver((function(t){e.next(t)}));return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}})).pipe(rn((function(e){return d(e,"mutation")})));return(e={})[wr.ClickObservable]=n,e[wr.ChangeObservable]=r,e[wr.NavigateObservable]=t,e[wr.MutationObservable]=i,e}(),s=br({allObservables:o,options:e,amplitude:n,shouldTrackEvent:r}),c.push(s),h=function(e){var t=e.amplitude,n=e.allObservables,r=e.getEventProperties,i=e.shouldTrackEvent;return n.changeObservable.pipe($n(qn),$n((function(e){return i("change",e.closestTrackedAncestor)}))).subscribe((function(e){null===t||void 0===t||t.track("[Amplitude] Element Changed",r("change",e.closestTrackedAncestor))}))}({allObservables:o,getEventProperties:f,amplitude:n,shouldTrackEvent:r}),c.push(h),p=kr({allObservables:o,options:e,getEventProperties:f,amplitude:n,shouldTrackEvent:r,shouldTrackActionClick:i}),c.push(p),null===(m=null===t||void 0===t?void 0:t.loggerProvider)||void 0===m||m.log("".concat(u," has been successfully added.")),window.opener&&a.enabled&&(v=e.cssSelectorAllowlist,g=e.actionClickAllowlist,null===(y=a.messenger)||void 0===y||y.setup(nt(nt({logger:null===t||void 0===t?void 0:t.loggerProvider},(null===t||void 0===t?void 0:t.serverZone)&&{endpoint:pt[t.serverZone]}),{isElementSelectable:An(e,at(at([],st(v),!1),st(g),!1)),cssSelectorAllowlist:v,actionClickAllowlist:g})))),[2]}))}))},execute:function(e){return rt(void 0,void 0,void 0,(function(){return it(this,(function(t){return[2,e]}))}))},teardown:function(){return rt(void 0,void 0,void 0,(function(){var e,t,n,r;return it(this,(function(i){try{for(e=ot(c),t=e.next();!t.done;t=e.next())t.value.unsubscribe()}catch(o){n={error:o}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]}))}))}}},Ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.init=function(e,t,n){var r,i;return void 0===e&&(e=""),arguments.length>2?(r=t,i=n):"string"===typeof t?(r=t,i=void 0):(r=null===t||void 0===t?void 0:t.userId,i=t),Object(l.a)(this._init(s(s({},i),{userId:r,apiKey:e})))},t.prototype._init=function(t){var n,r,i;return a(this,void 0,void 0,(function(){var o,s,c,l,f,d=this;return u(this,(function(h){switch(h.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,Me(t.apiKey,t,this)]);case 1:return o=h.sent(),t.fetchRemoteConfig?[4,(g=o,a(void 0,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,(e=new Qe(g)).initialize()];case 1:return t.sent(),[2,e]}}))})))]:[3,4];case 2:return[4,h.sent().generateJoinedConfig()];case 3:o=h.sent(),h.label=4;case 4:return[4,e.prototype._init.call(this,o)];case 5:return h.sent(),this.logBrowserOptions(o),_(this.config.defaultTracking)?(v=this.config,s=_(v.defaultTracking)&&v.defaultTracking&&"object"===typeof v.defaultTracking&&v.defaultTracking.attribution&&"object"===typeof v.defaultTracking.attribution?Object(T.a)({},v.defaultTracking.attribution):{},this.webAttribution=new z(s,this.config),[4,this.webAttribution.init()]):[3,7];case 6:h.sent(),h.label=7;case 7:return c=q(),l=Number.isNaN(Number(c.ampSessionId))?void 0:Number(c.ampSessionId),this.setSessionId(null!==(i=null!==(r=null!==(n=t.sessionId)&&void 0!==n?n:l)&&void 0!==r?r:this.config.sessionId)&&void 0!==i?i:Date.now()),(f=Object(W.a)(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===G.a?[3,9]:[4,this.add(Xe()).promise];case 8:h.sent(),h.label=9;case 9:return[4,this.add(new y).promise];case 10:return h.sent(),[4,this.add(new Z).promise];case 11:return h.sent(),[4,this.add(new H).promise];case 12:return h.sent(),function(e){Je||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),Je=!0)}(this.config),p=this.config.defaultTracking,C(p,"fileDownloads")?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(Ye()).promise]):[3,14];case 13:h.sent(),h.label=14;case 14:return function(e){return C(e,"formInteractions")}(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(Ge()).promise]):[3,16];case 15:h.sent(),h.label=16;case 16:return A(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(Ke(N(this.config))).promise]):[3,18];case 17:h.sent(),h.label=18;case 18:return j(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(Er(M(this.config))).promise]):[3,20];case 19:h.sent(),h.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return h.sent(),f.eventBridge.setEventReceiver((function(e){d.track(e.eventType,e.eventProperties)})),[2]}var p,v,g}))}))},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){this.config?(this.config.loggerProvider.debug("function setUserId: ",e),e===this.config.userId&&void 0!==e||(this.config.userId=e,Object(W.c)(e,this.config.instanceName))):this.q.push(this.setUserId.bind(this,e))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){this.config?(this.config.loggerProvider.debug("function setDeviceId: ",e),this.config.deviceId=e,Object(W.b)(e,this.config.instanceName)):this.q.push(this.setDeviceId.bind(this,e))},t.prototype.reset=function(){this.setDeviceId(g()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,n=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),Object(l.a)(Promise.resolve());if(e===this.config.sessionId)return Object(l.a)(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var r=this.getSessionId(),i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,P(this.config.defaultTracking)&&(r&&i&&n.push(this.track(Oe,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:r,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var s=this.trackCampaignEventIfNeeded(++o,n);return P(this.config.defaultTracking)&&n.push(this.track(Se,void 0,{event_id:s?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Object(l.a)(Promise.all(n))},t.prototype.extendSession=function(){this.config?this.config.lastEventTime=Date.now():this.q.push(this.extendSession.bind(this))},t.prototype.setTransport=function(e){this.config?this.config.transportProvider=Le(e):this.q.push(this.setTransport.bind(this,e))},t.prototype.identify=function(t,n){if(J(t)){var r=t._q;t._q=[],t=Y(new O,r)}return(null===n||void 0===n?void 0:n.user_id)&&this.setUserId(n.user_id),(null===n||void 0===n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,r,i){if(J(r)){var o=r._q;r._q=[],r=Y(new O,o)}return e.prototype.groupIdentify.call(this,t,n,r,i)},t.prototype.revenue=function(t,n){if(J(t)){var r=t._q;t._q=[],t=Y(new k,r)}return e.prototype.revenue.call(this,t,n)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var n=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(n).promise):this.track(n),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return a(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){return n=Date.now(),r=K(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===Se||t.event_type===Oe||t.session_id&&t.session_id!==this.getSessionId()||(r||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):r||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]}))}))},t.prototype.logBrowserOptions=function(e){try{var t=s(s({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(n){this.config.loggerProvider.error("Error logging browser config",n)}},t}(x),xr=function(){var e=new Ir;return{init:Object(r.a)(e.init.bind(e),"init",Object(r.b)(e),Object(r.c)(e,["config"])),add:Object(r.a)(e.add.bind(e),"add",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.plugins"])),remove:Object(r.a)(e.remove.bind(e),"remove",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.plugins"])),track:Object(r.a)(e.track.bind(e),"track",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),logEvent:Object(r.a)(e.logEvent.bind(e),"logEvent",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),identify:Object(r.a)(e.identify.bind(e),"identify",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),groupIdentify:Object(r.a)(e.groupIdentify.bind(e),"groupIdentify",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),setGroup:Object(r.a)(e.setGroup.bind(e),"setGroup",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),revenue:Object(r.a)(e.revenue.bind(e),"revenue",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),flush:Object(r.a)(e.flush.bind(e),"flush",Object(r.b)(e),Object(r.c)(e,["config.apiKey","timeline.queue.length"])),getUserId:Object(r.a)(e.getUserId.bind(e),"getUserId",Object(r.b)(e),Object(r.c)(e,["config","config.userId"])),setUserId:Object(r.a)(e.setUserId.bind(e),"setUserId",Object(r.b)(e),Object(r.c)(e,["config","config.userId"])),getDeviceId:Object(r.a)(e.getDeviceId.bind(e),"getDeviceId",Object(r.b)(e),Object(r.c)(e,["config","config.deviceId"])),setDeviceId:Object(r.a)(e.setDeviceId.bind(e),"setDeviceId",Object(r.b)(e),Object(r.c)(e,["config","config.deviceId"])),reset:Object(r.a)(e.reset.bind(e),"reset",Object(r.b)(e),Object(r.c)(e,["config","config.userId","config.deviceId"])),getSessionId:Object(r.a)(e.getSessionId.bind(e),"getSessionId",Object(r.b)(e),Object(r.c)(e,["config"])),setSessionId:Object(r.a)(e.setSessionId.bind(e),"setSessionId",Object(r.b)(e),Object(r.c)(e,["config"])),extendSession:Object(r.a)(e.extendSession.bind(e),"extendSession",Object(r.b)(e),Object(r.c)(e,["config"])),setOptOut:Object(r.a)(e.setOptOut.bind(e),"setOptOut",Object(r.b)(e),Object(r.c)(e,["config"])),setTransport:Object(r.a)(e.setTransport.bind(e),"setTransport",Object(r.b)(e),Object(r.c)(e,["config"]))}},Tr=xr(),Cr=n(21),_r=Tr.add,Ar=Tr.extendSession,Pr=Tr.flush,jr=Tr.getDeviceId,Mr=Tr.getSessionId,Nr=Tr.getUserId,Lr=Tr.groupIdentify,Rr=Tr.identify,Dr=Tr.init,Ur=Tr.logEvent,Fr=Tr.remove,qr=Tr.reset,Br=Tr.revenue,Vr=Tr.setDeviceId,Kr=Tr.setGroup,zr=Tr.setOptOut,Wr=Tr.setSessionId,Hr=Tr.setTransport,Gr=Tr.setUserId,$r=Tr.track},305:function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return yi})),n.d(t,"sessionReplayPlugin",(function(){return yi}));var r={};n.r(r),n.d(r,"StyleSheetMirror",(function(){return He})),n.d(r,"_mirror",(function(){return Se})),n.d(r,"closestElementOfNode",(function(){return Ae})),n.d(r,"getBaseDimension",(function(){return Be})),n.d(r,"getNestedRule",(function(){return Ke})),n.d(r,"getPositionsAndIndex",(function(){return ze})),n.d(r,"getRootShadowHost",(function(){return $e})),n.d(r,"getShadowHost",(function(){return Ge})),n.d(r,"getWindowHeight",(function(){return Ce})),n.d(r,"getWindowScroll",(function(){return Te})),n.d(r,"getWindowWidth",(function(){return _e})),n.d(r,"hasShadowRoot",(function(){return Ve})),n.d(r,"hookSetter",(function(){return ke})),n.d(r,"inDom",(function(){return Je})),n.d(r,"isAncestorRemoved",(function(){return Ne})),n.d(r,"isBlocked",(function(){return Pe})),n.d(r,"isIgnored",(function(){return Me})),n.d(r,"isSerialized",(function(){return je})),n.d(r,"isSerializedIframe",(function(){return Fe})),n.d(r,"isSerializedStylesheet",(function(){return qe})),n.d(r,"iterateResolveTree",(function(){return Ue})),n.d(r,"legacy_isTouchEvent",(function(){return Le})),n.d(r,"nowTimestamp",(function(){return xe})),n.d(r,"on",(function(){return be})),n.d(r,"patch",(function(){return Ee})),n.d(r,"polyfill",(function(){return Re})),n.d(r,"queueToResolveTrees",(function(){return De})),n.d(r,"shadowHostInDom",(function(){return Ye})),n.d(r,"throttle",(function(){return Oe})),n.d(r,"uniqueTextMutations",(function(){return We}));var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(453),u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)};function f(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var g,m=n(452),y=n(193),b=n(141),w=n(41),S=n(40),O=n(191),k="[Amplitude]",E="".concat(k," Session Replay ID"),I=O.a.US,x="".concat(k," Session Replay Debug"),T="amp-mask";"".concat(S.b,"_replay_unsent");!function(e){e.GET_SR_PROPS="get-sr-props",e.DEBUG_INFO="debug-info"}(g||(g={}));var C,_=function(){return{flushMaxRetries:2,logLevel:w.a.Warn,loggerProvider:new y.a,transportProvider:new m.a}},A=function(e){function t(t,n){var r,i=this,o=_();return(i=e.call(this,l(l({transportProvider:o.transportProvider},n),{apiKey:t}))||this).flushMaxRetries=void 0!==n.flushMaxRetries&&n.flushMaxRetries<=o.flushMaxRetries?n.flushMaxRetries:o.flushMaxRetries,i.apiKey=t,i.sampleRate=n.sampleRate||0,i.serverZone=n.serverZone||I,i.configEndpointUrl=n.configEndpointUrl,i.shouldInlineStylesheet=n.shouldInlineStylesheet,i.version=n.version,i.performanceConfig=n.performanceConfig,i.storeType=null!==(r=n.storeType)&&void 0!==r?r:"idb",n.privacyConfig&&(i.privacyConfig=n.privacyConfig),n.debugMode&&(i.debugMode=n.debugMode),i}return c(t,e),t}(b.a),P=n(66),j=n(142),M=n(42);function N(e){return e.nodeType===e.ELEMENT_NODE}function L(e){const t=null===e||void 0===e?void 0:e.host;return Boolean((null===t||void 0===t?void 0:t.shadowRoot)===e)}function R(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function D(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,U).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function U(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=D(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(C||(C={}));class F{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){var t;if(!e)return-1;const n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!==n&&void 0!==n?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function q({element:e,maskInputOptions:t,tagName:n,type:r,value:i,maskInputFn:o}){let s=i||"";const a=r&&B(r);return(t[n.toLowerCase()]||a&&t[a])&&(s=o?o(s,e):"*".repeat(s.length)),s}function B(e){return e.toLowerCase()}const V="__rrweb_original__";function K(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?B(t):null}let z=1;const W=new RegExp("[^a-z0-9-_:]");function H(){return z++}let G,$;const Y=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,J=/^(?:[a-z+]+:)?\/\//i,X=/^www\..*/i,Z=/^(data:)([^,]*),(.*)/i;function Q(e,t){return(e||"").replace(Y,((e,n,r,i,o,s)=>{const a=r||o||s,u=n||i||"";if(!a)return e;if(J.test(a)||X.test(a))return`url(${u}${a}${u})`;if(Z.test(a))return`url(${u}${a}${u})`;if("/"===a[0])return`url(${u}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${u})`;const c=t.split("/"),l=a.split("/");c.pop();for(const t of l)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${u}${c.join("/")}${u})`}))}const ee=/^[^ \t\n\r\u000c]+/,te=/^[, \t\n\r\u000c]+/;function ne(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function re(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function ie(){const e=document.createElement("a");return e.href="",e.href}function oe(e,t,n,r){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?ne(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(te),!(n>=t.length);){let o=r(ee);if(","===o.slice(-1))o=ne(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=ne(e,o);let s=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(s=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?Q(r,ie()):"object"===t&&"data"===n?ne(e,r):r:ne(e,r):r}function se(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ae(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&ae(e.parentNode,t,n);for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}return!!n&&ae(e.parentNode,t,n)}function ue(e,t,n){try{const r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===r)return!1;if("string"===typeof t){if(r.classList.contains(t))return!0;if(r.closest(`.${t}`))return!0}else if(ae(r,t,!0))return!0;if(n){if(r.matches(n))return!0;if(r.closest(n))return!0}}catch(r){}return!1}function ce(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,inlineStylesheet:u,maskInputOptions:c={},maskTextFn:l,maskInputFn:f,dataURLOptions:d={},inlineImages:h,recordCanvas:p,keepIframeSrcFn:v,newlyAddedElement:g=!1}=t,m=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:C.Document,childNodes:[],compatMode:e.compatMode}:{type:C.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:C.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:m};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,inlineStylesheet:o,maskInputOptions:s={},maskInputFn:a,dataURLOptions:u={},inlineImages:c,recordCanvas:l,keepIframeSrcFn:f,newlyAddedElement:d=!1,rootId:h}=t,p=function(e,t,n){try{if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(r){}return!1}(e,r,i),v=function(e){if(e instanceof HTMLFormElement)return"form";const t=B(e.tagName);return W.test(t)?"div":t}(e);let g={};const m=e.attributes.length;for(let y=0;y<m;y++){const t=e.attributes[y];se(v,t.name,t.value)||(g[t.name]=oe(n,v,B(t.name),t.value))}if("link"===v&&o){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=D(t)),r&&(delete g.rel,delete g.href,g._cssText=Q(r,t.href))}if("style"===v&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=D(e.sheet);t&&(g._cssText=Q(t,ie()))}if("input"===v||"textarea"===v||"select"===v){const t=e.value,n=e.checked;"radio"!==g.type&&"checkbox"!==g.type&&"submit"!==g.type&&"button"!==g.type&&t?g.value=q({element:e,type:K(e),tagName:v,value:t,maskInputOptions:s,maskInputFn:a}):n&&(g.checked=n)}"option"===v&&(e.selected&&!s.select?g.selected=!0:delete g.selected);if("canvas"===v&&l)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=V in i?i.__rrweb_original__:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(g.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(g.rr_dataURL=t)}if("img"===v&&c){G||(G=n.createElement("canvas"),$=G.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const i=()=>{t.removeEventListener("load",i);try{G.width=t.naturalWidth,G.height=t.naturalHeight,$.drawImage(t,0,0),g.rr_dataURL=G.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?g.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}"audio"!==v&&"video"!==v||(g.rr_mediaState=e.paused?"paused":"played",g.rr_mediaCurrentTime=e.currentTime);d||(e.scrollLeft&&(g.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(g.rr_scrollTop=e.scrollTop));if(p){const{width:t,height:n}=e.getBoundingClientRect();g={class:g.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==v||f(g.src)||(e.contentDocument||(g.rr_src=g.src),delete g.src);return{type:C.Element,tagName:v,attributes:g,childNodes:[],isSVG:re(e)||void 0,needBlock:p,rootId:h}}(e,{doc:n,blockClass:i,blockSelector:o,inlineStylesheet:u,maskInputOptions:c,maskInputFn:f,dataURLOptions:d,inlineImages:h,recordCanvas:p,keepIframeSrcFn:v,newlyAddedElement:g,rootId:m});case e.TEXT_NODE:return function(e,t){var n;const{maskTextClass:r,maskTextSelector:i,maskTextFn:o,rootId:s}=t,a=e.parentNode&&e.parentNode.tagName;let u=e.textContent;const c="STYLE"===a||void 0,l="SCRIPT"===a||void 0;if(c&&u){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(u=D(e.parentNode.sheet))}catch(f){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${f}`,e)}u=Q(u,ie())}l&&(u="SCRIPT_PLACEHOLDER");!c&&!l&&u&&ue(e,r,i)&&(u=o?o(u,e.parentElement):u.replace(/[\S]/g,"*"));return{type:C.Text,textContent:u||"",isStyle:c,rootId:s}}(e,{maskTextClass:s,maskTextSelector:a,maskTextFn:l,rootId:m});case e.CDATA_SECTION_NODE:return{type:C.CDATA,textContent:"",rootId:m};case e.COMMENT_NODE:return{type:C.Comment,textContent:e.textContent||"",rootId:m};default:return!1}}function le(e){return void 0===e||null===e?"":e.toLowerCase()}function fe(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:u=!1,inlineStylesheet:c=!0,maskInputOptions:l={},maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p={},inlineImages:v=!1,recordCanvas:g=!1,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:b=5e3,onStylesheetLoad:w,stylesheetLoadTimeout:S=5e3,keepIframeSrcFn:O=(()=>!1),newlyAddedElement:k=!1}=t;let{preserveWhiteSpace:E=!0}=t;const I=ce(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,inlineStylesheet:c,maskInputOptions:l,maskTextFn:f,maskInputFn:d,dataURLOptions:p,inlineImages:v,recordCanvas:g,keepIframeSrcFn:O,newlyAddedElement:k});if(!I)return console.warn(e,"not serialized"),null;let x;x=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===C.Comment)return!0;if(e.type===C.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===le(e.attributes.name)||"icon"===le(e.attributes.rel)||"apple-touch-icon"===le(e.attributes.rel)||"shortcut icon"===le(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===le(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===le(e.attributes.name)||"googlebot"===le(e.attributes.name)||"bingbot"===le(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===le(e.attributes.name)||"generator"===le(e.attributes.name)||"framework"===le(e.attributes.name)||"publisher"===le(e.attributes.name)||"progid"===le(e.attributes.name)||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===le(e.attributes.name)||"yandex-verification"===le(e.attributes.name)||"csrf-token"===le(e.attributes.name)||"p:domain_verify"===le(e.attributes.name)||"verify-v1"===le(e.attributes.name)||"verification"===le(e.attributes.name)||"shopify-checkout-api-token"===le(e.attributes.name)))return!0}}return!1}(I,h)&&(E||I.type!==C.Text||I.isStyle||I.textContent.replace(/^\s+|\s+$/gm,"").length)?H():-2;const T=Object.assign(I,{id:x});if(r.add(e,T),-2===x)return null;m&&m(e);let _=!u;if(T.type===C.Element){_=_&&!T.needBlock,delete T.needBlock;const t=e.shadowRoot;t&&R(t)&&(T.isShadowHost=!0)}if((T.type===C.Document||T.type===C.Element)&&_){h.headWhitespace&&T.type===C.Element&&"head"===T.tagName&&(E=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:u,inlineStylesheet:c,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:g,preserveWhiteSpace:E,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:S,keepIframeSrcFn:O};if(T.type===C.Element&&"textarea"===T.tagName&&void 0!==T.attributes.value);else for(const n of Array.from(e.childNodes)){const e=fe(n,t);e&&T.childNodes.push(e)}if(N(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=fe(n,t);r&&(R(e.shadowRoot)&&(r.isShadow=!0),T.childNodes.push(r))}}return e.parentNode&&L(e.parentNode)&&R(e.parentNode)&&(T.isShadow=!0),T.type===C.Element&&"iframe"===T.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(a){return}if("complete"!==i){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const s="about:blank";if(r.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&y){const n=fe(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:g,preserveWhiteSpace:E,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:S,keepIframeSrcFn:O});n&&y(e,n)}}),b),T.type===C.Element&&"link"===T.tagName&&"stylesheet"===T.attributes.rel&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(s){return}if(r)return;const o=setTimeout((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(o),i=!0,t()}))}(e,(()=>{if(w){const t=fe(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:c,maskInputOptions:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:h,dataURLOptions:p,inlineImages:v,recordCanvas:g,preserveWhiteSpace:E,onSerialize:m,onIframeLoad:y,iframeLoadTimeout:b,onStylesheetLoad:w,stylesheetLoadTimeout:S,keepIframeSrcFn:O});t&&w(e,t)}}),S),T}const de=/(max|min)-device-(width|height)/,he=(new RegExp(de.source,"g"),/([^\\]):hover/);new RegExp(he.source,"g");var pe=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(pe||{}),ve=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e))(ve||{}),ge=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ge||{}),me=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(me||{}),ye=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(ye||{});function be(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const we="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Se={map:{},getId:()=>(console.error(we),-1),getNode:()=>(console.error(we),null),removeNodeFromMap(){console.error(we)},has:()=>(console.error(we),!1),reset(){console.error(we)}};function Oe(e,t,n={}){let r=null,i=0;return function(...o){const s=Date.now();i||!1!==n.leading||(i=s);const a=t-(s-i),u=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=s,e.apply(u,o)):r||!1===n.trailing||(r=setTimeout((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(u,o)}),a))}}function ke(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>ke(e,t,o||{},!0)}function Ee(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"===typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(r){return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(Se=new Proxy(Se,{get:(e,t,n)=>("map"===t&&console.error(we),Reflect.get(e,t,n))}));let Ie,xe=Date.now;function Te(e){var t,n,r,i,o,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null===a||void 0===a?void 0:a.documentElement.scrollLeft)||(null===(n=null===(t=null===a||void 0===a?void 0:a.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null===a||void 0===a?void 0:a.body)||void 0===r?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null===a||void 0===a?void 0:a.documentElement.scrollTop)||(null===(o=null===(i=null===a||void 0===a?void 0:a.body)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollTop)||(null===(s=null===a||void 0===a?void 0:a.body)||void 0===s?void 0:s.scrollTop)||0}}function Ce(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function _e(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ae(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function Pe(e,t,n,r){if(!e)return!1;const i=Ae(e);if(!i)return!1;try{if("string"===typeof t){if(i.classList.contains(t))return!0;if(r&&null!==i.closest("."+t))return!0}else if(ae(i,t,r))return!0}catch(o){}if(n){if(i.matches(n))return!0;if(r&&null!==i.closest(n))return!0}return!1}function je(e,t){return-1!==t.getId(e)}function Me(e,t){return-2===t.getId(e)}function Ne(e,t){if(L(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Ne(e.parentNode,t))}function Le(e){return Boolean(e.changedTouches)}function Re(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}function De(e){const t={},n=(e,n)=>{const r={value:e,parent:n,children:[]};return t[e.node.id]=r,r},r=[];for(const i of e){const{nextId:e,parentId:o}=i;if(e&&e in t){const o=t[e];if(o.parent){const e=o.parent.children.indexOf(o);o.parent.children.splice(e,0,n(i,o.parent))}else{const e=r.indexOf(o);r.splice(e,0,n(i,null))}}else if(o in t){const e=t[o];e.children.push(n(i,e))}else r.push(n(i,null))}return r}function Ue(e,t){t(e.value);for(let n=e.children.length-1;n>=0;n--)Ue(e.children[n],t)}function Fe(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function qe(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Be(e,t){var n,r;const i=null===(r=null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.frameElement;if(!i||i===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const o=i.getBoundingClientRect(),s=Be(i,t),a=o.height/i.clientHeight;return{x:o.x*s.relativeScale+s.x,y:o.y*s.relativeScale+s.y,relativeScale:a,absoluteScale:s.absoluteScale*a}}function Ve(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}function Ke(e,t){const n=e[t[0]];return 1===t.length?n:Ke(n.cssRules[t[1]].cssRules,t.slice(2))}function ze(e){const t=[...e],n=t.pop();return{positions:t,index:n}}function We(e){const t=new Set,n=[];for(let r=e.length;r--;){const i=e[r];t.has(i.id)||(n.push(i),t.add(i.id))}return n}/[1-9][0-9]{12}/.test(Date.now().toString())||(xe=()=>(new Date).getTime());class He{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ge(e){var t,n;let r=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function $e(e){let t,n=e;for(;t=Ge(n);)n=t;return n}function Ye(e){const t=e.ownerDocument;if(!t)return!1;const n=$e(e);return t.contains(n)}function Je(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Ye(e))}const Xe=e=>{if(!Ie)return e;return(...t)=>{try{return e(...t)}catch(n){if(Ie&&!0===Ie(n))return;throw n}}};function Ze(e){return(...t)=>{try{return e(...t)}catch(n){try{n._external_=!0}catch(r){}throw n}}}class Qe{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let s=i.get(t);return s||(s=this.generateIdFn(),i.set(t,s),o.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class et{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qe(H),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qe(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case pe.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:pe.IncrementalSnapshot,data:{source:ve.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case pe.Meta:case pe.Load:case pe.DomContentLoaded:return!1;case pe.Plugin:return t;case pe.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case pe.IncrementalSnapshot:switch(t.data.source){case ve.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case ve.Drag:case ve.TouchMove:case ve.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case ve.ViewportResize:return!1;case ve.MediaInteraction:case ve.MouseInteraction:case ve.Scroll:case ve.CanvasMutation:case ve.Input:return this.replaceIds(t.data,e,["id"]),t;case ve.StyleSheetRule:case ve.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case ve.Font:return t;case ve.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case ve.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"===typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===C.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}function tt(e){return"__ln"in e}class nt{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null===t||void 0===t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&tt(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&tt(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const rt=(e,t)=>`${e}@${t}`;class it{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new nt,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!Je(i)||"TEXTAREA"===i.parentNode.tagName)return;const o=L(i.parentNode)?this.mirror.getId(Ge(i)):this.mirror.getId(i.parentNode),s=r(i);if(-1===o||-1===s)return n.addNode(i);const a=fe(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Fe(e,this.mirror)&&this.iframeManager.addIframe(e),qe(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Ve(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:o,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)st(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||i(a);for(const a of this.addedSet)ut(this.droppedSet,a)||st(this.removes,a,this.mirror)?ut(this.movedSet,a)?i(a):this.droppedSet.add(a):i(a);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}const s={texts:this.texts.map((e=>{const t=e.node;return t.parentNode&&"TEXTAREA"===t.parentNode.tagName&&this.genTextAreaValueMutation(t.parentNode),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.genTextAreaValueMutation=e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(e.childNodes,(e=>e.textContent||"")).join("")},this.processMutation=e=>{if(!Me(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Pe(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:ue(e.target,this.maskTextClass,this.maskTextSelector)&&t?this.maskTextFn?this.maskTextFn(t,Ae(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){const e=K(n);i=q({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:e,value:i,maskInputFn:this.maskInputFn})}if(Pe(e.target,this.blockClass,this.blockSelector,!1)||i===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(i)){if(n.contentDocument)return;r="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!se(n.tagName,r)&&(o.attributes[r]=oe(this.doc,B(n.tagName),B(r),i),"style"===r)){let r;try{r=document.implementation.createHTMLDocument()}catch(t){r=this.doc}const i=r.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),r=n.style.getPropertyPriority(e);t!==i.style.getPropertyValue(e)||r!==i.style.getPropertyPriority(e)?o.styleDiff[e]=""===r?t:[t,r]:o._unchangedStyles[e]=[t,r]}for(const e of Array.from(i.style))""===n.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(Pe(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=L(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Pe(e.target,this.blockClass,this.blockSelector,!1)||Me(t,this.mirror)||!je(t,this.mirror)||(this.addedSet.has(t)?(ot(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||Ne(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[rt(n,r)]?ot(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!L(e.target)||!R(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Me(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[rt(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Pe(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Ve(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ot(e,t){e.delete(t),t.childNodes.forEach((t=>ot(e,t)))}function st(e,t,n){return 0!==e.length&&at(e,t,n)}function at(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return!!e.some((e=>e.id===i))||at(e,r,n)}function ut(e,t){return 0!==e.size&&ct(e,t)}function ct(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||ct(e,n))}const lt=[];function ft(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function dt(e,t){var n,r;const i=new it;lt.push(i),i.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const s=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");s&&window[s]&&(o=window[s]);const a=new o(Xe(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function ht({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){if(!1===o.mouseInteraction)return()=>{};const s=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,a=[];let u=null;return Object.keys(ge).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((o=>{let s=B(o);const c=(t=>o=>{const s=ft(o);if(Pe(s,r,i,!0))return;let a=null,c=t;if("pointerType"in o){switch(o.pointerType){case"mouse":a=me.Mouse;break;case"touch":a=me.Touch;break;case"pen":a=me.Pen}a===me.Touch?ge[t]===ge.MouseDown?c="TouchStart":ge[t]===ge.MouseUp&&(c="TouchEnd"):me.Pen}else Le(o)&&(a=me.Touch);null!==a?(u=a,(c.startsWith("Touch")&&a===me.Touch||c.startsWith("Mouse")&&a===me.Mouse)&&(a=null)):ge[t]===ge.Click&&(a=u,u=null);const l=Le(o)?o.changedTouches[0]:o;if(!l)return;const f=n.getId(s),{clientX:d,clientY:h}=l;Xe(e)(Object.assign({type:ge[c],id:f,x:d,y:h},null!==a&&{pointerType:a}))})(o);if(window.PointerEvent)switch(ge[o]){case ge.MouseDown:case ge.MouseUp:s=s.replace("mouse","pointer");break;case ge.TouchStart:case ge.TouchEnd:return}a.push(be(s,c,t))})),Xe((()=>{a.forEach((e=>e()))}))}function pt({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:o}){return be("scroll",Xe(Oe(Xe((o=>{const s=ft(o);if(!s||Pe(s,r,i,!0))return;const a=n.getId(s);if(s===t&&t.defaultView){const n=Te(t.defaultView);e({id:a,x:n.left,y:n.top})}else e({id:a,x:s.scrollLeft,y:s.scrollTop})})),o.scroll||100)),t)}function vt(e,t){const n=Object.assign({},e);return t||delete n.userTriggered,n}const gt=["INPUT","TEXTAREA","SELECT"],mt=new WeakMap;function yt(e){return function(e,t){if(Ot("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Ot("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Ot("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Ot("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function bt(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function wt({mirror:e,stylesheetManager:t},n){var r,i,o;let s=null;s="#document"===n.nodeName?e.getId(n):e.getId(n.host);const a="#document"===n.nodeName?null===(r=n.defaultView)||void 0===r?void 0:r.Document:null===(o=null===(i=n.ownerDocument)||void 0===i?void 0:i.defaultView)||void 0===o?void 0:o.ShadowRoot,u=(null===a||void 0===a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null===a||void 0===a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&u?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var e;return null===(e=u.get)||void 0===e?void 0:e.call(this)},set(e){var n;const r=null===(n=u.set)||void 0===n?void 0:n.call(this,e);if(null!==s&&-1!==s)try{t.adoptStyleSheets(e,s)}catch(i){}return r}}),Xe((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):()=>{}}function St(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;!function(e,t){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:o,viewportResizeCb:s,inputCb:a,mediaInteractionCb:u,styleSheetRuleCb:c,styleDeclarationCb:l,canvasMutationCb:f,fontCb:d,selectionCb:h}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),n(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),r(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),i(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),o(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),s(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),u(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),c(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),l(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),f(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),h(...e)}}(e,t),e.recordDOM&&(r=dt(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"===typeof t.mousemove?t.mousemove:50,o="number"===typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const u=Oe(Xe((t=>{const n=Date.now()-s;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null})),o),c=Xe(Oe(Xe((e=>{const t=ft(e),{clientX:n,clientY:i}=Le(e)?e.changedTouches[0]:e;s||(s=xe()),a.push({x:n,y:i,id:r.getId(t),timeOffset:xe()-s}),u("undefined"!==typeof DragEvent&&e instanceof DragEvent?ve.Drag:e instanceof MouseEvent?ve.MouseMove:ve.TouchMove)})),i,{trailing:!1})),l=[be("mousemove",c,n),be("touchmove",c,n),be("drag",c,n)];return Xe((()=>{l.forEach((e=>e()))}))}(e),o=ht(e),s=pt(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return be("resize",Xe(Oe(Xe((()=>{const t=Ce(),i=_e();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)})),200)),t)}(e,{win:n}),u=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,ignoreClass:o,ignoreSelector:s,maskInputOptions:a,maskInputFn:u,sampling:c,userTriggeredOnInput:l}){function f(e){let n=ft(e);const c=e.isTrusted,f=n&&n.tagName;if(n&&"OPTION"===f&&(n=n.parentElement),!n||!f||gt.indexOf(f)<0||Pe(n,r,i,!0))return;if(n.classList.contains(o)||s&&n.matches(s))return;let h=n.value,p=!1;const v=K(n)||"";"radio"===v||"checkbox"===v?p=n.checked:(a[f.toLowerCase()]||a[v])&&(h=q({element:n,maskInputOptions:a,tagName:f,type:v,value:h,maskInputFn:u})),d(n,Xe(vt)({text:h,isChecked:p,userTriggered:c},l));const g=n.name;"radio"===v&&g&&p&&t.querySelectorAll(`input[type="radio"][name="${g}"]`).forEach((e=>{e!==n&&d(e,Xe(vt)({text:e.value,isChecked:!p,userTriggered:!1},l))}))}function d(t,r){const i=mt.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){mt.set(t,r);const i=n.getId(t);Xe(e)(Object.assign(Object.assign({},r),{id:i}))}}const h=("last"===c.input?["change"]:["input","change"]).map((e=>be(e,Xe(f),t))),p=t.defaultView;if(!p)return()=>{h.forEach((e=>e()))};const v=p.Object.getOwnPropertyDescriptor(p.HTMLInputElement.prototype,"value"),g=[[p.HTMLInputElement.prototype,"value"],[p.HTMLInputElement.prototype,"checked"],[p.HTMLSelectElement.prototype,"value"],[p.HTMLTextAreaElement.prototype,"value"],[p.HTMLSelectElement.prototype,"selectedIndex"],[p.HTMLOptionElement.prototype,"selected"]];return v&&v.set&&h.push(...g.map((e=>ke(e[0],e[1],{set(){Xe(f)({target:this,isTrusted:!1})}},!1,p)))),Xe((()=>{h.forEach((e=>e()))}))}(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:i,doc:o}){const s=Xe((o=>Oe(Xe((i=>{const s=ft(i);if(!s||Pe(s,t,n,!0))return;const{currentTime:a,volume:u,muted:c,playbackRate:l}=s;e({type:o,id:r.getId(s),currentTime:a,volume:u,muted:c,playbackRate:l})})),i.media||500))),a=[be("play",s(0),o),be("pause",s(1),o),be("seeked",s(2),o),be("volumechange",s(3),o),be("ratechange",s(4),o)];return Xe((()=>{a.forEach((e=>e()))}))}(e);let l=()=>{},f=()=>{},d=()=>{},h=()=>{};e.recordDOM&&(l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Xe(((r,i,o)=>{const[s,a]=o,{id:u,styleId:c}=bt(i,t,n.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,adds:[{rule:s,index:a}]}),Ze((()=>r.apply(i,o)))()}))});const o=r.CSSStyleSheet.prototype.deleteRule;let s,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Xe(((r,i,o)=>{const[s]=o,{id:a,styleId:u}=bt(i,t,n.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,removes:[{index:s}]}),Ze((()=>r.apply(i,o)))()}))}),r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Xe(((r,i,o)=>{const[s]=o,{id:a,styleId:u}=bt(i,t,n.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,replace:s}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Xe(((r,i,o)=>{const[s]=o,{id:a,styleId:u}=bt(i,t,n.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,replaceSync:s}),r.apply(i,o)}))}));const u={};kt("CSSGroupingRule")?u.CSSGroupingRule=r.CSSGroupingRule:(kt("CSSMediaRule")&&(u.CSSMediaRule=r.CSSMediaRule),kt("CSSConditionRule")&&(u.CSSConditionRule=r.CSSConditionRule),kt("CSSSupportsRule")&&(u.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(u).forEach((([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:Xe(((r,i,o)=>{const[s,a]=o,{id:u,styleId:c}=bt(i.parentStyleSheet,t,n.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,adds:[{rule:s,index:[...yt(i),a||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:Xe(((r,i,o)=>{const[s]=o,{id:a,styleId:u}=bt(i.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,removes:[{index:[...yt(i),s]}]}),r.apply(i,o)}))})})),Xe((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(u).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),f=wt(e,e.doc),d=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Xe(((i,s,a)=>{var u;const[c,l,f]=a;if(n.has(c))return o.apply(s,[c,l,f]);const{id:d,styleId:h}=bt(null===(u=s.parentRule)||void 0===u?void 0:u.parentStyleSheet,t,r.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:c,value:l,priority:f},index:yt(s.parentRule)}),i.apply(s,a)}))});const s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Xe(((i,o,a)=>{var u;const[c]=a;if(n.has(c))return s.apply(o,[c]);const{id:l,styleId:f}=bt(null===(u=o.parentRule)||void 0===u?void 0:u.parentStyleSheet,t,r.styleMirror);return(l&&-1!==l||f&&-1!==f)&&e({id:l,styleId:f,remove:{property:c},index:yt(o.parentRule)}),i.apply(o,a)}))}),Xe((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:n}),e.collectFonts&&(h=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const s=Ee(t.fonts,"add",(function(t){return function(n){return setTimeout(Xe((()=>{const t=i.get(n);t&&(e(t),i.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(s),Xe((()=>{r.forEach((e=>e()))}))}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,selectionCb:o}=e;let s=!0;const a=Xe((()=>{const e=t.getSelection();if(!e||s&&(null===e||void 0===e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;const a=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const o=e.getRangeAt(t),{startContainer:s,startOffset:u,endContainer:c,endOffset:l}=o;Pe(s,r,i,!0)||Pe(c,r,i,!0)||a.push({start:n.getId(s),startOffset:u,end:n.getId(c),endOffset:l})}o({ranges:a})}));return a(),be("selectionchange",a)}(e),v=[];for(const g of e.plugins)v.push(g.observer(g.callback,n,g.options));return Xe((()=>{lt.forEach((e=>e.reset())),null===r||void 0===r||r.disconnect(),i(),o(),s(),a(),u(),c(),l(),f(),d(),h(),p(),v.forEach((e=>e()))}))}function Ot(e){return"undefined"!==typeof window[e]}function kt(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}function Et(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}for(var It,xt,Tt,Ct=(It=function(){!function(){function e(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"===typeof Uint8Array?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;var i=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;n<i;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const o=new Map,s=new Map,a=self;a.onmessage=function(t){return e(this,void 0,void 0,(function*(){if(!("OffscreenCanvas"in globalThis))return a.postMessage({id:t.data.id});{const{id:n,bitmap:r,width:u,height:c,dataURLOptions:l}=t.data,f=function(t,n,r){return e(this,void 0,void 0,(function*(){const e=`${t}-${n}`;if("OffscreenCanvas"in globalThis){if(s.has(e))return s.get(e);const o=new OffscreenCanvas(t,n);o.getContext("2d");const a=yield o.convertToBlob(r),u=yield a.arrayBuffer(),c=i(u);return s.set(e,c),c}return""}))}(u,c,l),d=new OffscreenCanvas(u,c);d.getContext("2d").drawImage(r,0,0),r.close();const h=yield d.convertToBlob(l),p=h.type,v=yield h.arrayBuffer(),g=i(v);if(!o.has(n)&&(yield f)===g)return o.set(n,g),a.postMessage({id:n});if(o.get(n)===g)return a.postMessage({id:n});a.postMessage({id:n,type:p,base64:g,width:u,height:c}),o.set(n,g)}}))}}()},xt=null,function(e){return Tt=Tt||function(e,t){var n=function(e,t){var n=void 0===t?null:t,r=e.toString().split("\n");r.pop(),r.shift();for(var i=r[0].search(/\S/),o=/(['"])__worker_loader_strict__(['"])/g,s=0,a=r.length;s<a;++s)r[s]=r[s].substring(i).replace(o,"$1use strict$2")+"\n";return n&&r.push("//# sourceMappingURL="+n+"\n"),r}(e,t),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}(It,xt),new Worker(Tt,e)}),_t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",At="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Pt=0;Pt<_t.length;Pt++)At[_t.charCodeAt(Pt)]=Pt;const jt=new Map;const Mt=(e,t,n)=>{if(!e||!Rt(e,t)&&"object"!==typeof e)return;const r=function(e,t){let n=jt.get(e);return n||(n=new Map,jt.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let i=r.indexOf(e);return-1===i&&(i=r.length,r.push(e)),i};function Nt(e,t,n){if(e instanceof Array)return e.map((e=>Nt(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=_t[n[t]>>2],i+=_t[(3&n[t])<<4|n[t+1]>>4],i+=_t[(15&n[t+1])<<2|n[t+2]>>6],i+=_t[63&n[t+2]];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i}(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Nt(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Nt(e.data,t,n),e.width,e.height]}}if(Rt(e,t)||"object"===typeof e){return{rr_type:e.constructor.name,index:Mt(e,t,n)}}return e}const Lt=(e,t,n)=>[...e].map((e=>Nt(e,t,n))),Rt=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"===typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Dt(e,t,n,r){const i=[];try{const o=Ee(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...o){if(!Pe(this,t,n,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),r&&["webgl","webgl2"].includes(e))if(o[0]&&"object"===typeof o[0]){const e=o[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else o.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...o])}}));i.push(o)}catch(o){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function Ut(e,t,n,r,i,o,s){const a=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if("function"!==typeof e[l])continue;const o=Ee(e,l,(function(e){return function(...o){const a=e.apply(this,o);if(Mt(a,s,this),"tagName"in this.canvas&&!Pe(this.canvas,r,i,!0)){const e=Lt([...o],s,this),r={type:t,property:l,args:e};n(this.canvas,r)}return a}}));a.push(o)}catch(c){const r=ke(e,l,{set(e){n(this.canvas,{type:t,property:l,args:[e],setter:!0})}});a.push(r)}return a}class Ft{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:i,recordCanvas:o,dataURLOptions:s}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,o&&"all"===t&&this.initCanvasMutationObserver(n,r,i),o&&"number"===typeof t&&this.initCanvasFPSObserver(t,n,r,i,{dataURLOptions:s})}initCanvasFPSObserver(e,t,n,r,i){const o=Dt(t,n,r,!0),s=new Map,a=new Ct;a.onmessage=e=>{const{id:t}=e.data;if(s.set(t,!1),!("base64"in e.data))return;const{base64:n,type:r,width:i,height:o}=e.data;this.mutationCb({id:t,type:ye["2D"],commands:[{property:"clearRect",args:[0,0,i,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:r}]},0,0]}]})};const u=1e3/e;let c,l=0;const f=e=>{l&&e-l<u||(l=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{Pe(t,n,r,!0)||e.push(t)})),e})().forEach((e=>Et(this,void 0,void 0,(function*(){var t;const n=this.mirror.getId(e);if(s.get(n))return;if(s.set(n,!0),["webgl","webgl2"].includes(e.__context)){const n=e.getContext(e.__context);!1===(null===(t=null===n||void 0===n?void 0:n.getContextAttributes())||void 0===t?void 0:t.preserveDrawingBuffer)&&n.clear(n.COLOR_BUFFER_BIT)}const r=yield createImageBitmap(e);a.postMessage({id:n,bitmap:r,width:e.width,height:e.height,dataURLOptions:i.dataURLOptions},[r])}))))),c=requestAnimationFrame(f)};c=requestAnimationFrame(f),this.resetObservers=()=>{o(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=Dt(e,t,n,!1),i=function(e,t,n,r){const i=[],o=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of o)try{if("function"!==typeof t.CanvasRenderingContext2D.prototype[a])continue;const o=Ee(t.CanvasRenderingContext2D.prototype,a,(function(i){return function(...o){return Pe(this.canvas,n,r,!0)||setTimeout((()=>{const n=Lt([...o],t,this);e(this.canvas,{type:ye["2D"],property:a,args:n})}),0),i.apply(this,o)}}));i.push(o)}catch(s){const n=ke(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:ye["2D"],property:a,args:[t],setter:!0})}});i.push(n)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n),o=function(e,t,n,r,i){const o=[];return o.push(...Ut(t.WebGLRenderingContext.prototype,ye.WebGL,e,n,r,0,t)),"undefined"!==typeof t.WebGL2RenderingContext&&o.push(...Ut(t.WebGL2RenderingContext.prototype,ye.WebGL2,e,n,r,0,t)),()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,this.mirror);this.resetObservers=()=>{r(),i(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["type"]))),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e)}}class qt{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}class Bt{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!R(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=dt(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(pt(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(wt({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Ee(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&Je(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Vt{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new He,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const i of e){let e;this.styleMirror.has(i)?e=this.styleMirror.getId(i):(e=this.styleMirror.add(i),r.push({styleId:e,rules:Array.from(i.rules||CSSRule,((e,t)=>({rule:U(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}function Kt(e){return Object.assign(Object.assign({},e),{timestamp:xe()})}let zt,Wt,Ht,Gt=!1;const $t=new F;function Yt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,ignoreClass:s="rr-ignore",ignoreSelector:a=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,inlineStylesheet:l=!0,maskAllInputs:f,maskInputOptions:d,slimDOMOptions:h,maskInputFn:p,maskTextFn:v,hooks:g,packFn:m,sampling:y={},dataURLOptions:b={},mousemoveWait:w,recordDOM:S=!0,recordCanvas:O=!1,recordCrossOriginIframes:k=!1,recordAfter:E=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:x=!1,inlineImages:T=!1,plugins:C,keepIframeSrcFn:_=(()=>!1),ignoreCSSAttributes:A=new Set([]),errorHandler:P}=e;Ie=P;const j=!k||window.parent===window;let M=!1;if(!j)try{window.parent.document&&(M=!1)}catch(G){M=!0}if(j&&!t)throw new Error("emit function is required");void 0!==w&&void 0===y.mousemove&&(y.mousemove=w),$t.reset();const N=!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==d?d:{password:!0},L=!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===h,headMetaDescKeywords:"all"===h}:h||{};let R;Re();let D=0;const U=e=>{for(const t of C||[])t.eventProcessor&&(e=t.eventProcessor(e));return m&&!M&&(e=m(e)),e};zt=(e,i)=>{var o;if(!(null===(o=lt[0])||void 0===o?void 0:o.isFrozen())||e.type===pe.FullSnapshot||e.type===pe.IncrementalSnapshot&&e.data.source===ve.Mutation||lt.forEach((e=>e.unfreeze())),j)null===t||void 0===t||t(U(e),i);else if(M){const t={type:"rrweb",event:U(e),origin:window.location.origin,isCheckout:i};window.parent.postMessage(t,"*")}if(e.type===pe.FullSnapshot)R=e,D=0;else if(e.type===pe.IncrementalSnapshot){if(e.data.source===ve.Mutation&&e.data.isAttachIframe)return;D++;const t=r&&D>=r,i=n&&e.timestamp-R.timestamp>n;(t||i)&&Wt(!0)}};const q=e=>{zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.Mutation},e)}))},B=e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.Scroll},e)})),V=e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.CanvasMutation},e)})),K=new Vt({mutationCb:q,adoptedStyleSheetCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.AdoptedStyleSheet},e)}))}),z=new et({mirror:$t,mutationCb:q,stylesheetManager:K,recordCrossOriginIframes:k,wrappedEmit:zt});for(const F of C||[])F.getMirror&&F.getMirror({nodeMirror:$t,crossOriginIframeMirror:z.crossOriginIframeMirror,crossOriginIframeStyleMirror:z.crossOriginIframeStyleMirror});const W=new qt;Ht=new Ft({recordCanvas:O,mutationCb:V,win:window,blockClass:i,blockSelector:o,mirror:$t,sampling:y.canvas,dataURLOptions:b});const H=new Bt({mutationCb:q,scrollCb:B,bypassOptions:{blockClass:i,blockSelector:o,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskInputOptions:N,dataURLOptions:b,maskTextFn:v,maskInputFn:p,recordCanvas:O,inlineImages:T,sampling:y,slimDOMOptions:L,iframeManager:z,stylesheetManager:K,canvasManager:Ht,keepIframeSrcFn:_,processedNodeManager:W},mirror:$t});Wt=(e=!1)=>{if(!S)return;zt(Kt({type:pe.Meta,data:{href:window.location.href,width:_e(),height:Ce()}}),e),K.reset(),H.init(),lt.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new F,blockClass:r="rr-block",blockSelector:i=null,maskTextClass:o="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:u=!1,recordCanvas:c=!1,maskAllInputs:l=!1,maskTextFn:f,maskInputFn:d,slimDOM:h=!1,dataURLOptions:p,preserveWhiteSpace:v,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:S=(()=>!1)}=t||{};return fe(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===l?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===l?{password:!0}:l,maskTextFn:f,maskInputFn:d,slimDOMOptions:!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===h,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===h?{}:h,dataURLOptions:p,inlineImages:u,recordCanvas:c,preserveWhiteSpace:v,onSerialize:g,onIframeLoad:m,iframeLoadTimeout:y,onStylesheetLoad:b,stylesheetLoadTimeout:w,keepIframeSrcFn:S,newlyAddedElement:!1})}(document,{mirror:$t,blockClass:i,blockSelector:o,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskAllInputs:N,maskTextFn:v,maskInputFn:p,slimDOM:L,dataURLOptions:b,recordCanvas:O,inlineImages:T,onSerialize:e=>{Fe(e,$t)&&z.addIframe(e),qe(e,$t)&&K.trackLinkElement(e),Ve(e)&&H.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{z.attachIframe(e,t),H.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{K.attachLinkElement(e,t)},keepIframeSrcFn:_});if(!t)return console.warn("Failed to snapshot the document");zt(Kt({type:pe.FullSnapshot,data:{node:t,initialOffset:Te(window)}}),e),lt.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&K.adoptStyleSheets(document.adoptedStyleSheets,$t.getId(document))};try{const e=[],t=e=>{var t;return Xe(St)({mutationCb:q,mousemoveCb:(e,t)=>zt(Kt({type:pe.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.MouseInteraction},e)})),scrollCb:B,viewportResizeCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.ViewportResize},e)})),inputCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.Input},e)})),mediaInteractionCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.MediaInteraction},e)})),styleSheetRuleCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.StyleSheetRule},e)})),styleDeclarationCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.StyleDeclaration},e)})),canvasMutationCb:V,fontCb:e=>zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.Font},e)})),selectionCb:e=>{zt(Kt({type:pe.IncrementalSnapshot,data:Object.assign({source:ve.Selection},e)}))},blockClass:i,ignoreClass:s,ignoreSelector:a,maskTextClass:u,maskTextSelector:c,maskInputOptions:N,inlineStylesheet:l,sampling:y,recordDOM:S,recordCanvas:O,inlineImages:T,userTriggeredOnInput:I,collectFonts:x,doc:e,maskInputFn:p,maskTextFn:v,keepIframeSrcFn:_,blockSelector:o,slimDOMOptions:L,dataURLOptions:b,mirror:$t,iframeManager:z,stylesheetManager:K,shadowDomManager:H,processedNodeManager:W,canvasManager:Ht,ignoreCSSAttributes:A,plugins:(null===(t=null===C||void 0===C?void 0:C.filter((e=>e.observer)))||void 0===t?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>zt(Kt({type:pe.Plugin,data:{plugin:e.name,payload:t}}))}))))||[]},g)};z.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{Wt(),e.push(t(document)),Gt=!0};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(be("DOMContentLoaded",(()=>{zt(Kt({type:pe.DomContentLoaded,data:{}})),"DOMContentLoaded"===E&&n()}))),e.push(be("load",(()=>{zt(Kt({type:pe.Load,data:{}})),"load"===E&&n()}),window))),()=>{e.forEach((e=>e())),W.destroy(),Gt=!1,Ie=void 0}}catch($){console.warn($)}}Yt.addCustomEvent=(e,t)=>{if(!Gt)throw new Error("please add custom event after start recording");zt(Kt({type:pe.Custom,data:{tag:e,payload:t}}))},Yt.freezePage=()=>{lt.forEach((e=>e.freeze()))},Yt.takeFullSnapshot=e=>{if(!Gt)throw new Error("please take full snapshot after start recording");Wt(e)},Yt.mirror=$t;var Jt,Xt=n(107),Zt="medium";!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Jt||(Jt={}));function Qt(e){return e.toLowerCase()}function en(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Qt(t):null}new RegExp("[^a-z0-9-_:]");const tn=/(max|min)-device-(width|height)/,nn=(new RegExp(tn.source,"g"),/([^\\]):hover/);new RegExp(nn.source,"g");var rn=function(e,t,n){switch(t){case"light":if("input"!==e)return!0;var r=n?en(n):"";return!!r&&(!!["password","hidden","email","tel"].includes(r)||!!n.autocomplete.startsWith("cc-"));case"medium":case"conservative":return!0;default:return rn(e,Zt,n)}},on=function(e,t){return function(n,r){return function(e,t,n){var r,i,o;if(void 0===t&&(t={defaultMaskLevel:Zt}),n){if(n.closest(".amp-mask"))return!0;if((null!==(r=t.maskSelector)&&void 0!==r?r:[]).some((function(e){return n.closest(e)})))return!0;if(n.closest(".amp-unmask"))return!1;if((null!==(i=t.unmaskSelector)&&void 0!==i?i:[]).some((function(e){return n.closest(e)})))return!1}return rn(e,null!==(o=t.defaultMaskLevel)&&void 0!==o?o:Zt,n)}(e,t,r)?n.replace(/[^\s]/g,"*"):n}},sn=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t},an=function(e){return e===O.a.STAGING?"https://api-sr.stag2.amplitude.com/sessions/v2/track":e===O.a.EU?"https://api-sr.eu.amplitude.com/sessions/v2/track":"https://api-sr.amplitude.com/sessions/v2/track"},un=function(){return f(void 0,void 0,void 0,(function(){var e,t,n,r,i,o,s;return d(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),(e=Object(P.a)())?[4,e.navigator.storage.estimate()]:[3,2];case 1:return t=a.sent(),n=t.usage,r=t.quota,i=t.usageDetails,o=n?Math.round(n/1024):0,s=n&&r?Math.round(1e3*(n/r+Number.EPSILON))/1e3:0,[2,{totalStorageSize:o,percentOfQuota:s,usageDetails:JSON.stringify(i)}];case 2:return[3,4];case 3:return a.sent(),[3,4];case 4:return[2,{totalStorageSize:0,percentOfQuota:0,usageDetails:""}]}}))}))},cn=function(e){var t=l({},e),n=t.apiKey;return t.apiKey="****".concat(n.substring(n.length-4)),t},ln=function(){function e(e,t){this.localConfig=t,this.remoteConfigFetch=e}return e.prototype.generateJoinedConfig=function(e){var t,n,r;return f(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,v,g,m,y,b,w,S,O,k,E,I,x,T;return d(this,(function(d){switch(d.label){case 0:(i=l({},this.localConfig)).optOut=this.localConfig.optOut,i.captureEnabled=!0,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_sampling_config",e)];case 2:return s=d.sent(),[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_privacy_config",e)];case 3:return a=d.sent(),u=i,[4,this.remoteConfigFetch.getRemoteConfig("sessionReplay","sr_interaction_config",e)];case 4:return u.interactionConfig=d.sent(),(s||a)&&(o={},s&&(o.sr_sampling_config=s),a&&(o.sr_privacy_config=a)),[3,6];case 5:return c=d.sent(),f=c,this.localConfig.loggerProvider.warn(f.message),i.captureEnabled=!1,[3,6];case 6:if(!o)return[2,i];if(v=o.sr_sampling_config,g=o.sr_privacy_config,v&&Object.keys(v).length>0?(Object.prototype.hasOwnProperty.call(v,"capture_enabled")?i.captureEnabled=v.capture_enabled:i.captureEnabled=!1,Object.prototype.hasOwnProperty.call(v,"sample_rate")&&(i.sampleRate=v.sample_rate)):(i.captureEnabled=!0,this.localConfig.loggerProvider.debug("Remote config successfully fetched, but no values set for project, Session Replay capture enabled.")),g){m=null!==(t=i.privacyConfig)&&void 0!==t?t:{},y={defaultMaskLevel:null!==(r=null!==(n=g.defaultMaskLevel)&&void 0!==n?n:m.defaultMaskLevel)&&void 0!==r?r:"medium",blockSelector:[],maskSelector:[],unmaskSelector:[]},b=function(e){var t,n,r,i,o,s,a,u,c,l={};"string"===typeof e.blockSelector&&(e.blockSelector=[e.blockSelector]);try{for(var f=h(null!==(a=e.blockSelector)&&void 0!==a?a:[]),d=f.next();!d.done;d=f.next()){l[d.value]="block"}}catch(y){t={error:y}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}try{for(var p=h(null!==(u=e.maskSelector)&&void 0!==u?u:[]),v=p.next();!v.done;v=p.next()){l[v.value]="mask"}}catch(b){r={error:b}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var g=h(null!==(c=e.unmaskSelector)&&void 0!==c?c:[]),m=g.next();!m.done;m=g.next()){l[m.value]="unmask"}}catch(w){o={error:w}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return l},w=l(l({},b(m)),b(g));try{for(S=h(Object.entries(w)),O=S.next();!O.done;O=S.next())k=p(O.value,2),E=k[0],"mask"===(I=k[1])?y.maskSelector.push(E):"block"===I?y.blockSelector.push(E):"unmask"===I&&y.unmaskSelector.push(E)}catch(C){x={error:C}}finally{try{O&&!O.done&&(T=S.return)&&T.call(S)}finally{if(x)throw x.error}}i.privacyConfig=function(e,n){var r=document.createDocumentFragment(),i=function(e){if(void 0===e&&(e=[]),"string"===typeof e&&(e=[e]),0!==(e=e.filter((function(e){try{r.querySelector(e)}catch(t){return n.warn('[session-replay-browser] omitting selector "'.concat(e,'" because it is invalid')),!1}return!0}))).length)return e};return e.blockSelector=i(e.blockSelector),e.maskSelector=i(e.maskSelector),e.unmaskSelector=i(e.unmaskSelector),e}(y,this.localConfig.loggerProvider)}return this.localConfig.loggerProvider.debug(JSON.stringify({name:"session replay joined config",config:cn(i)},null,2)),[2,i]}}))}))},e}(),fn=function(e,t){return f(void 0,void 0,void 0,(function(){var n,r;return d(this,(function(i){switch(i.label){case 0:return n=new A(e,t),[4,Object(Xt.a)({localConfig:n,configKeys:["sessionReplay"]})];case 1:return r=i.sent(),[2,new ln(r,n)]}}))}))},dn=n(306),hn=n(33),pn="Session replay event batch rejected due to exceeded retry count",vn="Failed to store session replay events in IndexedDB",gn="1.15.0",mn=function(){function e(e){var t=e.loggerProvider,n=e.payloadBatcher;this.storageKey="",this.retryTimeout=1e3,this.scheduled=null,this.queue=[],this.loggerProvider=t,this.payloadBatcher=n||function(e){return e}}return e.prototype.sendEventsList=function(e){this.addToQueue(l(l({},e),{attempts:0,timeout:0}))},e.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.filter((function(t){return t.attempts<(t.flushMaxRetries||0)?(t.attempts+=1,!0):(e.completeRequest({context:t,err:pn}),!1)}));r.forEach((function(t){e.queue=e.queue.concat(t),0!==t.timeout?setTimeout((function(){t.timeout=0,e.schedule(0)}),t.timeout):e.schedule(0)}))},e.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout((function(){t.flush(!0).then((function(){t.queue.length>0&&t.schedule(e)}))}),e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),f(this,void 0,void 0,(function(){var t,n,r=this;return d(this,(function(i){switch(i.label){case 0:return t=[],n=[],this.queue.forEach((function(e){return 0===e.timeout?t.push(e):n.push(e)})),this.queue=n,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(t.map((function(t){return r.send(t,e)})))];case 1:return i.sent(),[2]}}))}))},e.prototype.send=function(e,t){var n,r;return void 0===t&&(t=!0),f(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,h,p,v,g,m;return d(this,(function(d){switch(d.label){case 0:if(!(i=e.apiKey))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing api key"})];if(!(o=e.deviceId))return[2,this.completeRequest({context:e,err:"Session replay event batch not sent due to missing device ID"})];if(y=Object(P.a)(),s=(null===y||void 0===y?void 0:y.location)?y.location.href:"",a=gn,u=e.sampleRate,c=new URLSearchParams({device_id:o,session_id:"".concat(e.sessionId),type:"".concat(e.type)}),l="".concat((null===(n=e.version)||void 0===n?void 0:n.type)||"standalone","/").concat((null===(r=e.version)||void 0===r?void 0:r.version)||a),0===(f=this.payloadBatcher({version:1,events:e.events})).events.length)return this.completeRequest({context:e}),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),h={headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer ".concat(i),"X-Client-Version":a,"X-Client-Library":l,"X-Client-Url":s,"X-Client-Sample-Rate":"".concat(u)},body:JSON.stringify(f),method:"POST"},p="".concat(an(e.serverZone),"?").concat(c.toString()),[4,fetch(p,h)];case 2:if(null===(v=d.sent()))return this.completeRequest({context:e,err:"Unexpected error occurred"}),[2];if(t)this.handleReponse(v.status,e);else{g="";try{g=JSON.stringify(v.body,null,2)}catch(b){}this.completeRequest({context:e,success:"".concat(v.status,": ").concat(g)})}return[3,4];case 3:return m=d.sent(),this.completeRequest({context:e,err:m}),[3,4];case 4:return[2]}var y}))}))},e.prototype.handleReponse=function(e,t){switch((new dn.a).buildStatus(e)){case hn.a.Success:this.handleSuccessResponse(t);break;case hn.a.Failed:this.handleOtherResponse(t);break;default:this.completeRequest({context:t,err:"Network error occurred, event batch rejected"})}},e.prototype.handleSuccessResponse=function(e){var t=Math.round(new Blob(e.events).size/1024);this.completeRequest({context:e,success:"Session replay event batch tracked successfully for session id ".concat(e.sessionId,", size of events: ").concat(t," KB")})},e.prototype.handleOtherResponse=function(e){this.addToQueue(l(l({},e),{timeout:e.attempts*this.retryTimeout}))},e.prototype.completeRequest=function(e){var t=e.context,n=e.err,r=e.success;t.onComplete(),n?this.loggerProvider.warn(n):r&&this.loggerProvider.log(r)},e}();const yn=(e,t)=>t.some((t=>e instanceof t));let bn,wn;const Sn=new WeakMap,On=new WeakMap,kn=new WeakMap;let En={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Sn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function In(e){En=e(En)}function xn(e){return(wn||(wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(_n(this),t),Cn(this.request)}:function(...t){return Cn(e.apply(_n(this),t))}}function Tn(e){return"function"===typeof e?xn(e):(e instanceof IDBTransaction&&function(e){if(Sn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Sn.set(e,t)}(e),yn(e,bn||(bn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,En):e)}function Cn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Cn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return kn.set(t,e),t}(e);if(On.has(e))return On.get(e);const t=Tn(e);return t!==e&&(On.set(e,t),kn.set(t,e)),t}const _n=e=>kn.get(e);function An(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Cn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Cn(s.result),e.oldVersion,e.newVersion,Cn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const Pn=["get","getKey","getAll","getAllKeys","count"],jn=["put","add","delete","clear"],Mn=new Map;function Nn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Mn.get(t))return Mn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=jn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pn.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Mn.set(t,o),o}In((e=>({...e,get:(t,n,r)=>Nn(t,n)||e.get(t,n,r),has:(t,n)=>!!Nn(t,n)||e.has(t,n)})));const Ln=["continue","continuePrimaryKey","advance"],Rn={},Dn=new WeakMap,Un=new WeakMap,Fn={get(e,t){if(!Ln.includes(t))return e[t];let n=Rn[t];return n||(n=Rn[t]=function(...e){Dn.set(this,Un.get(this)[t](...e))}),n}};async function*qn(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Fn);for(Un.set(n,t),kn.set(n,_n(t));t;)yield n,t=await(Dn.get(n)||t.continue()),Dn.delete(n)}function Bn(e,t){return t===Symbol.asyncIterator&&yn(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&yn(e,[IDBIndex,IDBObjectStore])}In((e=>({...e,get:(t,n,r)=>Bn(t,n)?qn:e.get(t,n,r),has:(t,n)=>Bn(t,n)||e.has(t,n)})));var Vn,Kn=function(){function e(e){var t,n,r,i=this;this.minInterval=500,this.maxInterval=1e4,this.maxPersistedEventsSize=1e6,this.interval=this.minInterval,this._timeAtLastSplit=Date.now(),this.shouldSplitEventsList=function(e,t){var n=new Blob([t]).size;return new Blob(e).size+n>=i.maxPersistedEventsSize||!!(Date.now()-i.timeAtLastSplit>i.interval&&e.length)&&(i.interval=Math.min(i.maxInterval,i.interval+i.minInterval),i._timeAtLastSplit=Date.now(),!0)},this.loggerProvider=e.loggerProvider,this.minInterval=null!==(t=e.minInterval)&&void 0!==t?t:this.minInterval,this.maxInterval=null!==(n=e.maxInterval)&&void 0!==n?n:this.maxInterval,this.maxPersistedEventsSize=null!==(r=e.maxPersistedEventsSize)&&void 0!==r?r:this.maxPersistedEventsSize}return Object.defineProperty(e.prototype,"timeAtLastSplit",{get:function(){return this._timeAtLastSplit},enumerable:!1,configurable:!0}),e}();!function(e){e.RECORDING="recording",e.SENT="sent"}(Vn||(Vn={}));var zn,Wn,Hn,Gn="sessionCurrentSequence",$n="sequencesToSend",Yn=function(){var e=Object(P.a)();return new Promise((function(t,n){if(!e)return n(new Error("Global scope not found"));if(!e.indexedDB)return n(new Error("Session Replay: cannot find indexedDB"));try{var r=e.indexedDB.open("keyval-store");r.onupgradeneeded=function(){1===r.result.version&&(r.result.close(),r.transaction&&r.transaction.abort(),e.indexedDB.deleteDatabase("keyval-store"),t())},r.onsuccess=function(){t(r.result)}}catch(i){n(i)}}))},Jn=function(e){return f(void 0,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return e.length>0?(10,t=e.splice(0,10),[4,Promise.all(t)]):[3,2];case 1:return n.sent(),[3,0];case 2:return[2]}}))}))},Xn=function(e){var t,n;return e.objectStoreNames.contains(Gn)||(n=e.createObjectStore(Gn,{keyPath:"sessionId"})),e.objectStoreNames.contains($n)||(t=e.createObjectStore($n,{keyPath:"sequenceId",autoIncrement:!0})).createIndex("sessionId","sessionId"),{sequencesStore:t,currentSequenceStore:n}},Zn=function(e){return f(void 0,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,An(e,1,{upgrade:Xn})];case 1:return[2,t.sent()]}}))}))},Qn=function(e){function t(t){var n=e.call(this,t)||this;return n.getSequencesToSend=function(){return f(n,void 0,void 0,(function(){var e,t,n,r,i,o;return d(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),e=[],[4,this.db.transaction("sequencesToSend").store.openCursor()];case 1:t=s.sent(),s.label=2;case 2:return t?(n=t.value,r=n.sessionId,i=n.events,e.push({events:i,sequenceId:t.key,sessionId:r}),[4,t.continue()]):[3,4];case 3:return t=s.sent(),[3,2];case 4:return[2,e];case 5:return o=s.sent(),this.loggerProvider.warn("".concat(vn,": ").concat(o)),[3,6];case 6:return[2,void 0]}}))}))},n.storeCurrentSequence=function(e){return f(n,void 0,void 0,(function(){var t,n,r;return d(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,this.db.get(Gn,e)];case 1:return(t=i.sent())?[4,this.db.put($n,{sessionId:e,events:t.events})]:[2,void 0];case 2:return n=i.sent(),[4,this.db.put(Gn,{sessionId:e,events:[]})];case 3:return i.sent(),[2,l(l({},t),{sessionId:e,sequenceId:n})];case 4:return r=i.sent(),this.loggerProvider.warn("".concat(vn,": ").concat(r)),[3,5];case 5:return[2,void 0]}}))}))},n.addEventToCurrentSequence=function(e,t){return f(n,void 0,void 0,(function(){var n,r,i,o,s,a;return d(this,(function(u){switch(u.label){case 0:return u.trys.push([0,10,,11]),[4,(n=this.db.transaction(Gn,"readwrite")).store.get(e)];case 1:return(r=u.sent())?[3,3]:[4,n.store.put({sessionId:e,events:[t]})];case 2:return u.sent(),[2];case 3:return i=void 0,this.shouldSplitEventsList(r.events,t)?(i=r.events,[4,n.store.put({sessionId:e,events:[t]})]):[3,5];case 4:return u.sent(),[3,7];case 5:return o=r.events.concat(t),[4,n.store.put({sessionId:e,events:o})];case 6:u.sent(),u.label=7;case 7:return[4,n.done];case 8:return u.sent(),i?[4,this.storeSendingEvents(e,i)]:[2,void 0];case 9:return(s=u.sent())?[2,{events:i,sessionId:e,sequenceId:s}]:[2,void 0];case 10:return a=u.sent(),this.loggerProvider.warn("".concat(vn,": ").concat(a)),[3,11];case 11:return[2,void 0]}}))}))},n.storeSendingEvents=function(e,t){return f(n,void 0,void 0,(function(){var n;return d(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.db.put($n,{sessionId:e,events:t})];case 1:return[2,r.sent()];case 2:return n=r.sent(),this.loggerProvider.warn("".concat(vn,": ").concat(n)),[3,3];case 3:return[2,void 0]}}))}))},n.cleanUpSessionEventsStore=function(e,t){return f(n,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:if(!t)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.db.delete($n,t)];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),this.loggerProvider.warn("".concat(vn,": ").concat(e)),[3,4];case 4:return[2]}}))}))},n.transitionFromKeyValStore=function(e){return f(n,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c=this;return d(this,(function(l){switch(l.label){case 0:return l.trys.push([0,6,,7]),[4,Yn()];case 1:if(!(t=l.sent()))return[2];n=function(e,t){return f(c,void 0,void 0,(function(){var n,r,i=this;return d(this,(function(o){switch(o.label){case 0:return n=t.sessionSequences,r=[],Object.keys(n).forEach((function(o){var s=parseInt(o,10),a=n[s];if(s===t.currentSequenceId){var u=a.events.map((function(t){return f(i,void 0,void 0,(function(){return d(this,(function(n){return[2,this.addEventToCurrentSequence(e,t)]}))}))}));r.concat(u)}else a.status!==Vn.SENT&&r.push(i.storeSendingEvents(e,a.events))})),[4,Jn(r)];case 1:return o.sent(),[2]}}))}))},r="".concat(S.f,"_").concat(this.apiKey.substring(0,10)),l.label=2;case 2:return l.trys.push([2,4,,5]),i=t.transaction("keyval").objectStore("keyval").getAll(r),o=new Promise((function(t){i.onsuccess=function(r){return f(c,void 0,void 0,(function(){var i,o,s,a=this;return d(this,(function(u){switch(u.label){case 0:return i=r&&r.target.result,(o=i&&i[0])?(s=[],Object.keys(o).forEach((function(t){var r=parseInt(t,10),i=o[r];if(e===r)s.push(n(r,i));else{var u=i.sessionSequences;Object.keys(u).forEach((function(e){var t=parseInt(e,10);u[t].status!==Vn.SENT&&s.push(a.storeSendingEvents(r,u[t].events))}))}})),[4,Jn(s)]):[3,2];case 1:u.sent(),u.label=2;case 2:return t(),[2]}}))}))}})),[4,o];case 3:return l.sent(),(s=Object(P.a)())&&s.indexedDB.deleteDatabase("keyval-store"),[3,5];case 4:return a=l.sent(),this.loggerProvider.warn("Failed to transition session replay events from keyval to new store: ".concat(a)),[3,5];case 5:return[3,7];case 6:return u=l.sent(),this.loggerProvider.warn("Failed to access keyval store: ".concat(u,". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices")),[3,7];case 7:return[2]}}))}))},n.apiKey=t.apiKey,n.db=t.db,n}return c(t,e),t.new=function(e,n,r){return f(this,void 0,void 0,(function(){var i,o,s,a,u;return d(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),i="replay"===e?"":"_".concat(e),o="".concat(n.apiKey.substring(0,10),"_amp_session_replay_events").concat(i),[4,Zn(o)];case 1:return s=c.sent(),[4,(a=new t(l(l({},n),{db:s}))).transitionFromKeyValStore(r)];case 2:return c.sent(),[2,a];case 3:return u=c.sent(),n.loggerProvider.warn("".concat(vn,": ").concat(u)),[3,4];case 4:return[2]}}))}))},t.prototype.getCurrentSequenceEvents=function(e){return f(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return d(this,(function(u){switch(u.label){case 0:return e?[4,this.db.get("sessionCurrentSequence",e)]:[3,2];case 1:return(i=u.sent())?[2,[i]]:[2,void 0];case 2:t=[],u.label=3;case 3:return u.trys.push([3,8,9,10]),[4,this.db.getAll("sessionCurrentSequence")];case 4:n=h.apply(void 0,[u.sent()]),r=n.next(),u.label=5;case 5:if(r.done)return[3,7];i=r.value,t.push(i),u.label=6;case 6:return r=n.next(),[3,5];case 7:return[3,10];case 8:return o=u.sent(),s={error:o},[3,10];case 9:try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}return[7];case 10:return[2,t]}}))}))},t}(Kn),er=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.finalizedSequences={},t.sequences={},t.sequenceId=0,t}return c(t,e),t.prototype.resetCurrentSequence=function(e){this.sequences[e]=[]},t.prototype.addSequence=function(e){var t=this.sequenceId++,n=v([],p(this.sequences[e]),!1);return this.finalizedSequences[t]={sessionId:e,events:n},this.resetCurrentSequence(e),{sequenceId:t,events:n,sessionId:e}},t.prototype.getSequencesToSend=function(){return f(this,void 0,void 0,(function(){return d(this,(function(e){return[2,Object.entries(this.finalizedSequences).map((function(e){var t=p(e,2),n=t[0],r=t[1],i=r.sessionId,o=r.events;return{sequenceId:Number(n),sessionId:i,events:o}}))]}))}))},t.prototype.storeCurrentSequence=function(e){return f(this,void 0,void 0,(function(){return d(this,(function(t){return this.sequences[e]?[2,this.addSequence(e)]:[2,void 0]}))}))},t.prototype.addEventToCurrentSequence=function(e,t){return f(this,void 0,void 0,(function(){var n;return d(this,(function(r){return this.sequences[e]||this.resetCurrentSequence(e),this.shouldSplitEventsList(this.sequences[e],t)&&(n=this.addSequence(e)),this.sequences[e].push(t),[2,n]}))}))},t.prototype.storeSendingEvents=function(e,t){return f(this,void 0,void 0,(function(){return d(this,(function(n){return this.finalizedSequences[this.sequenceId]={sessionId:e,events:t},[2,this.sequenceId++]}))}))},t.prototype.cleanUpSessionEventsStore=function(e,t){return f(this,void 0,void 0,(function(){return d(this,(function(e){return void 0!==t&&delete this.finalizedSequences[t],[2]}))}))},t}(Kn),tr=function(e){var t=e.config,n=e.sessionId,r=e.minInterval,i=e.maxInterval,o=e.type,s=e.payloadBatcher,a=e.storeType;return f(void 0,void 0,void 0,(function(){function e(e){return void 0===e&&(e=!1),f(this,void 0,void 0,(function(){return d(this,(function(t){return[2,u.flush(e)]}))}))}var u,c,l,h,p,v,g,m,y;return d(this,(function(b){switch(b.label){case 0:return u=new mn({loggerProvider:t.loggerProvider,payloadBatcher:s}),c=function(){return new er({loggerProvider:t.loggerProvider,maxInterval:i,minInterval:r})},l=function(){return f(void 0,void 0,void 0,(function(){var e;return d(this,(function(s){switch(s.label){case 0:return[4,Qn.new(o,{loggerProvider:t.loggerProvider,minInterval:r,maxInterval:i,apiKey:t.apiKey},n)];case 1:return e=s.sent(),t.loggerProvider.log("Failed to initialize idb store, falling back to memory store."),[2,null!==e&&void 0!==e?e:c()]}}))}))},"idb"!==a?[3,2]:[4,l()];case 1:return p=b.sent(),[3,3];case 2:p=c(),b.label=3;case 3:return h=p,v=function(e){var n=e.events,r=e.sessionId,i=e.deviceId,s=e.sequenceId;t.debugMode&&un().then((function(e){var n=e.totalStorageSize,r=e.percentOfQuota,i=e.usageDetails;t.loggerProvider.debug("Total storage size: ".concat(n," KB, percentage of quota: ").concat(r,"%, usage details: ").concat(i))})).catch((function(){})),u.sendEventsList({events:n,sessionId:r,flushMaxRetries:t.flushMaxRetries,apiKey:t.apiKey,deviceId:i,sampleRate:t.sampleRate,serverZone:t.serverZone,version:t.version,type:o,onComplete:function(){return f(void 0,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,h.cleanUpSessionEventsStore(r,s)];case 1:return e.sent(),[2]}}))}))}})},g=function(e){var n=e.sessionId,r=e.deviceId;h.storeCurrentSequence(n).then((function(e){e&&v({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:r})})).catch((function(e){t.loggerProvider.warn("Failed to get current sequence of session replay events for session:",e)}))},m=function(e){var t=e.deviceId;return f(void 0,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return[4,h.getSequencesToSend()];case 1:return(e=n.sent())&&e.forEach((function(e){v({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:t})})),[2]}}))}))},y=function(e){var n=e.event,r=e.sessionId,i=e.deviceId;h.addEventToCurrentSequence(r,n.data).then((function(e){return e&&v({sequenceId:e.sequenceId,events:e.events,sessionId:e.sessionId,deviceId:i})})).catch((function(e){t.loggerProvider.warn("Failed to add event to session replay capture:",e)}))},[2,{sendCurrentSequenceEvents:g,addEvent:y,sendStoredEvents:m,flush:e}]}}))}))},nr=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new Map;e.forEach((function(e){n.set(e.name,e.manager)})),this.managers=n}return e.prototype.sendStoredEvents=function(e){return f(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return t=[],this.managers.forEach((function(n){t.push(n.sendStoredEvents(e))})),[4,Promise.all(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.addEvent=function(e){var t,n=e.sessionId,r=e.event,i=e.deviceId;null===(t=this.managers.get(r.type))||void 0===t||t.addEvent({sessionId:n,event:r,deviceId:i})},e.prototype.sendCurrentSequenceEvents=function(e){var t=e.sessionId,n=e.deviceId;this.managers.forEach((function(e){e.sendCurrentSequenceEvents({sessionId:t,deviceId:n})}))},e.prototype.flush=function(e){return f(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return t=[],this.managers.forEach((function(n){t.push(n.flush(e))})),[4,Promise.all(t)];case 1:return n.sent(),[2]}}))}))},e}(),rr=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(rr||{});function ir(e,t){if(Hn=new Date,e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4,timeoutMs:void 0};zn=l(l({},n),t),Wn=function(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return e;if(e===t.root)return e.ownerDocument;return e}(zn.root,n);var r=or(e,"all",(function(){return or(e,"two",(function(){return or(e,"one",(function(){return or(e,"none")}))}))}));if(r){var i=vr(gr(r,e));return i.length>0&&(r=i[0]),ar(r)}throw new Error("Selector was not found.")}function or(e,t,n){for(var r=null,i=[],o=e,s=0,a=function(){var e,a,u=(new Date).getTime()-Hn.getTime();if(void 0!==zn.timeoutMs&&u>zn.timeoutMs)throw new Error("Timeout: Can't find a unique selector after ".concat(u,"ms"));var c=dr(function(e){var t=e.getAttribute("id");if(t&&zn.idName(t))return{name:"#"+CSS.escape(t),penalty:0};return null}(o))||dr.apply(void 0,v([],p(function(e){var t=Array.from(e.attributes).filter((function(e){return zn.attr(e.name,e.value)}));return t.map((function(e){return{name:"[".concat(CSS.escape(e.name),'="').concat(CSS.escape(e.value),'"]'),penalty:.5}}))}(o)),!1))||dr.apply(void 0,v([],p(function(e){return Array.from(e.classList).filter(zn.className).map((function(e){return{name:"."+CSS.escape(e),penalty:1}}))}(o)),!1))||dr(function(e){var t=e.tagName.toLowerCase();if(zn.tagName(t))return{name:t,penalty:2};return null}(o))||[{name:"*",penalty:3}],l=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;var r=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&r++,n!==e);)n=n.nextSibling;return r}(o);if("all"==t)l&&(c=c.concat(c.filter(fr).map((function(e){return lr(e,l)}))));else if("two"==t)c=c.slice(0,1),l&&(c=c.concat(c.filter(fr).map((function(e){return lr(e,l)}))));else if("one"==t){var f=p(c=c.slice(0,1),1)[0];l&&fr(f)&&(c=[lr(f,l)])}else"none"==t&&(c=[{name:"*",penalty:3}],l&&(c=[lr(c[0],l)]));try{for(var d=(e=void 0,h(c)),g=d.next();!g.done;g=d.next()){(f=g.value).level=s}}catch(m){e={error:m}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}if(i.push(c),i.length>=zn.seedMinLength&&(r=sr(i,n)))return"break";o=o.parentElement,s++};o;){if("break"===a())break}return r||(r=sr(i,n)),!r&&n?n():r}function sr(e,t){var n,r,i=vr(pr(e));if(i.length>zn.threshold)return t?t():null;try{for(var o=h(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(cr(a))return a}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function ar(e){for(var t=e[0],n=t.name,r=1;r<e.length;r++){var i=e[r].level||0;n=t.level===i-1?"".concat(e[r].name," > ").concat(n):"".concat(e[r].name," ").concat(n),t=e[r]}return n}function ur(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function cr(e){var t=ar(e);switch(Wn.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function lr(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function fr(e){return"html"!==e.name&&!e.name.startsWith("#")}function dr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(hr);return n.length>0?n:null}function hr(e){return null!==e&&void 0!==e}function pr(e,t){var n,r,i,o,s,a;return void 0===t&&(t=[]),d(this,(function(u){switch(u.label){case 0:if(!(e.length>0))return[3,9];u.label=1;case 1:u.trys.push([1,6,7,8]),n=h(e[0]),r=n.next(),u.label=2;case 2:return r.done?[3,5]:(i=r.value,[5,h(pr(e.slice(1,e.length),t.concat(i)))]);case 3:u.sent(),u.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return o=u.sent(),s={error:o},[3,8];case 7:try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:u.sent(),u.label=11;case 11:return[2]}}))}function vr(e){return v([],p(e),!1).sort((function(e,t){return ur(e)-ur(t)}))}function gr(e,t,n){var r,i,o;return void 0===n&&(n={counter:0,visited:new Map}),d(this,(function(s){switch(s.label){case 0:if(!(e.length>2&&e.length>zn.optimizedMinLength))return[3,5];r=1,s.label=1;case 1:return r<e.length-1?n.counter>zn.maxNumberOfTries?[2]:(n.counter+=1,(i=v([],p(e),!1)).splice(r,1),o=ar(i),n.visited.has(o)?[2]:cr(i)&&function(e,t){return Wn.querySelector(ar(e))===t}(i,t)?[4,i]:[3,4]):[3,5];case 2:return s.sent(),n.visited.set(o,!0),[5,h(gr(i,t,n))];case 3:s.sent(),s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}var mr=function(e){var t=e.version,n=e.events,r=[];return n.forEach((function(e){var t=JSON.parse(e);t.count=1,"click"===t.type&&r.push(t)})),{version:t,events:r}},yr=function(e){var t=e.version,n=e.events,r=[];n.forEach((function(e){var t=JSON.parse(e);"click"===t.type&&r.push(t)}));var i=r.reduce((function(e,t){var n=t.x,r=t.y,i=t.selector,o=t.timestamp,s=o-o%36e5,a="".concat(n,":").concat(r,":").concat(null!==i&&void 0!==i?i:"",":").concat(s);return e[a]?e[a].count+=1:e[a]=l(l({},t),{timestamp:s,count:1}),e}),{});return{version:t,events:Object.values(i)}},br=function(e){var t=e.eventsManager,n=e.sessionId,i=e.deviceIdFn;return function(e){if(e.type===rr.Click){var o=Object(P.a)();if(o){var s=o.location,a=o.innerHeight,u=o.innerWidth;if(s){var c,l=e.x,f=e.y,d=Yt.mirror.getNode(e.id);d&&(c=ir(d));var h=r.getWindowScroll(o),p={x:l+h.left,y:f+h.top,selector:c,viewportHeight:a,viewportWidth:u,pageUrl:s.href,timestamp:Date.now(),type:"click"},v=i();v&&t.addEvent({sessionId:n,event:{type:"interaction",data:JSON.stringify(p)},deviceId:v})}}}}},wr=function(){function e(e,t){var n=Object(P.a)();n&&n.navigator&&"function"===typeof n.navigator.sendBeacon?this.sendBeacon=function(e,t){try{if(n.navigator.sendBeacon(e,JSON.stringify(t)))return!0}catch(r){}return!1}:this.sendBeacon=function(){return!1},this.sendXhr=function(e,t){var n=new XMLHttpRequest;return n.open("POST",e,!0),n.setRequestHeader("Accept","*/*"),n.send(JSON.stringify(t)),!0},this.basePageUrl=an(t.serverZone),this.apiKey=t.apiKey,this.context=e}return e.prototype.send=function(e,t){var n=this.context,r=n.sessionId,i=n.type,o=new URLSearchParams({device_id:e,session_id:String(r),type:String(i),api_key:this.apiKey}),s="".concat(this.basePageUrl,"?").concat(o.toString());this.sendBeacon(s,t)||this.sendXhr(s,t)},e}(),Sr=r.getWindowHeight,Or=r.getWindowWidth,kr=function(){function e(e){var t=this;this.timestamp=Date.now(),this.hook=function(e){t.update(e)},this.send=function(e){return function(n){var r=e(),i=Object(P.a)();i&&r&&t.transport.send(r,{version:1,events:[{maxScrollX:t._maxScrollX,maxScrollY:t._maxScrollY,maxScrollWidth:t._maxScrollWidth,maxScrollHeight:t._maxScrollHeight,viewportHeight:Sr(),viewportWidth:Or(),pageUrl:i.location.href,timestamp:t.timestamp,type:"scroll"}]})}},this._maxScrollX=0,this._maxScrollY=0,this._maxScrollWidth=Or(),this._maxScrollHeight=Sr(),this.transport=e}return e.default=function(t,n){return new e(new wr(t,n))},Object.defineProperty(e.prototype,"maxScrollX",{get:function(){return this._maxScrollX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollY",{get:function(){return this._maxScrollY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollWidth",{get:function(){return this._maxScrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScrollHeight",{get:function(){return this._maxScrollHeight},enumerable:!1,configurable:!0}),e.prototype.update=function(e){var t=Date.now();if(e.x>this._maxScrollX){var n=Or();this._maxScrollX=e.x;var r=e.x+n;r>this._maxScrollWidth&&(this._maxScrollWidth=r),this.timestamp=t}if(e.y>this._maxScrollY){var i=Sr();this._maxScrollY=e.y;var o=e.y+i;o>this._maxScrollHeight&&(this._maxScrollHeight=o),this.timestamp=t}},e}(),Er=function(e){var t=e.sessionId,n=e.deviceId;this.deviceId=n,this.sessionId=t,t&&n&&(this.sessionReplayId=function(e,t){return"".concat(t,"/").concat(e)}(t,n))},Ir=Uint8Array,xr=Uint16Array,Tr=Uint32Array,Cr=new Ir([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_r=new Ir([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ar=new Ir([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pr=function(e,t){for(var n=new xr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Tr(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},jr=Pr(Cr,2),Mr=jr[0],Nr=jr[1];Mr[28]=258,Nr[258]=28;for(var Lr=Pr(_r,0),Rr=(Lr[0],Lr[1]),Dr=new xr(32768),Ur=0;Ur<32768;++Ur){var Fr=(43690&Ur)>>>1|(21845&Ur)<<1;Fr=(61680&(Fr=(52428&Fr)>>>2|(13107&Fr)<<2))>>>4|(3855&Fr)<<4,Dr[Ur]=((65280&Fr)>>>8|(255&Fr)<<8)>>>1}var qr=function(e,t,n){for(var r=e.length,i=0,o=new xr(t);i<r;++i)++o[e[i]-1];var s,a=new xr(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new xr(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],f=a[e[i]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)s[Dr[f]>>>u]=c}else for(s=new xr(r),i=0;i<r;++i)s[i]=Dr[a[e[i]-1]++]>>>15-e[i];return s},Br=new Ir(288);for(Ur=0;Ur<144;++Ur)Br[Ur]=8;for(Ur=144;Ur<256;++Ur)Br[Ur]=9;for(Ur=256;Ur<280;++Ur)Br[Ur]=7;for(Ur=280;Ur<288;++Ur)Br[Ur]=8;var Vr=new Ir(32);for(Ur=0;Ur<32;++Ur)Vr[Ur]=5;var Kr=qr(Br,9,0),zr=qr(Vr,5,0),Wr=function(e){return(e/8>>0)+(7&e&&1)},Hr=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof xr?xr:e instanceof Tr?Tr:Ir)(n-t);return r.set(e.subarray(t,n)),r},Gr=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},$r=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Yr=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Ir(0),0];if(1==i){var s=new Ir(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],u=n[1],c=0,l=1,f=2;for(n[0]={s:-1,f:a.f+u.f,l:a,r:u};l!=i-1;)a=n[n[c].f<n[f].f?c++:f++],u=n[c!=l&&n[c].f<n[f].f?c++:f++],n[l++]={s:-1,f:a.f+u.f,l:a,r:u};var d=o[0].s;for(r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var h=new xr(d+1),p=Jr(n[l-1],h,0);if(p>t){r=0;var v=0,g=p-t,m=1<<g;for(o.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<i;++r){var y=o[r].s;if(!(h[y]>t))break;v+=m-(1<<p-h[y]),h[y]=t}for(v>>>=g;v>0;){var b=o[r].s;h[b]<t?v-=1<<t-h[b]++-1:++r}for(;r>=0&&v;--r){var w=o[r].s;h[w]==t&&(--h[w],++v)}p=t}return[new Ir(h),p]},Jr=function(e,t,n){return-1==e.s?Math.max(Jr(e.l,t,n+1),Jr(e.r,t,n+1)):t[e.s]=n},Xr=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new xr(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},Zr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Qr=function(e,t,n){var r=n.length,i=Wr(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},ei=function(e,t,n,r,i,o,s,a,u,c,l){Gr(t,l++,n),++i[256];for(var f=Yr(i,15),d=f[0],h=f[1],p=Yr(o,15),v=p[0],g=p[1],m=Xr(d),y=m[0],b=m[1],w=Xr(v),S=w[0],O=w[1],k=new xr(19),E=0;E<y.length;++E)k[31&y[E]]++;for(E=0;E<S.length;++E)k[31&S[E]]++;for(var I=Yr(k,7),x=I[0],T=I[1],C=19;C>4&&!x[Ar[C-1]];--C);var _,A,P,j,M=c+5<<3,N=Zr(i,Br)+Zr(o,Vr)+s,L=Zr(i,d)+Zr(o,v)+s+14+3*C+Zr(k,x)+(2*k[16]+3*k[17]+7*k[18]);if(M<=N&&M<=L)return Qr(t,l,e.subarray(u,u+c));if(Gr(t,l,1+(L<N)),l+=2,L<N){_=qr(d,h,0),A=d,P=qr(v,g,0),j=v;var R=qr(x,T,0);Gr(t,l,b-257),Gr(t,l+5,O-1),Gr(t,l+10,C-4),l+=14;for(E=0;E<C;++E)Gr(t,l+3*E,x[Ar[E]]);l+=3*C;for(var D=[y,S],U=0;U<2;++U){var F=D[U];for(E=0;E<F.length;++E){var q=31&F[E];Gr(t,l,R[q]),l+=x[q],q>15&&(Gr(t,l,F[E]>>>5&127),l+=F[E]>>>12)}}}else _=Kr,A=Br,P=zr,j=Vr;for(E=0;E<a;++E)if(r[E]>255){q=r[E]>>>18&31;$r(t,l,_[q+257]),l+=A[q+257],q>7&&(Gr(t,l,r[E]>>>23&31),l+=Cr[q]);var B=31&r[E];$r(t,l,P[B]),l+=j[B],B>3&&($r(t,l,r[E]>>>5&8191),l+=_r[B])}else $r(t,l,_[r[E]]),l+=A[r[E]];return $r(t,l,_[256]),l+A[256]},ti=new Tr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ni=new Ir(0),ri=function(e,t,n,r,i){return function(e,t,n,r,i,o){var s=e.length,a=new Ir(r+s+5*(1+Math.floor(s/7e3))+i),u=a.subarray(r,a.length-i),c=0;if(!t||s<8)for(var l=0;l<=s;l+=65535){var f=l+65535;f<s?c=Qr(u,c,e.subarray(l,f)):(u[l]=o,c=Qr(u,c,e.subarray(l,s)))}else{for(var d=ti[t-1],h=d>>>13,p=8191&d,v=(1<<n)-1,g=new xr(32768),m=new xr(v+1),y=Math.ceil(n/3),b=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&v},S=new Tr(25e3),O=new xr(288),k=new xr(32),E=0,I=0,x=(l=0,0),T=0,C=0;l<s;++l){var _=w(l),A=32767&l,P=m[_];if(g[A]=P,m[_]=A,T<=l){var j=s-l;if((E>7e3||x>24576)&&j>423){c=ei(e,u,0,S,O,k,I,x,C,l-C,c),x=E=I=0,C=l;for(var M=0;M<286;++M)O[M]=0;for(M=0;M<30;++M)k[M]=0}var N=2,L=0,R=p,D=A-P&32767;if(j>2&&_==w(l-D))for(var U=Math.min(h,j)-1,F=Math.min(32767,l),q=Math.min(258,j);D<=F&&--R&&A!=P;){if(e[l+N]==e[l+N-D]){for(var B=0;B<q&&e[l+B]==e[l+B-D];++B);if(B>N){if(N=B,L=D,B>U)break;var V=Math.min(D,B-2),K=0;for(M=0;M<V;++M){var z=l-D+M+32768&32767,W=z-g[z]+32768&32767;W>K&&(K=W,P=z)}}}D+=(A=P)-(P=g[A])+32768&32767}if(L){S[x++]=268435456|Nr[N]<<18|Rr[L];var H=31&Nr[N],G=31&Rr[L];I+=Cr[H]+_r[G],++O[257+H],++k[G],T=l+N,++E}else S[x++]=e[l],++O[e[l]]}}c=ei(e,u,o,S,O,k,I,x,C,l-C,c),o||(c=Qr(u,c,ni))}return Hr(a,0,r+Wr(c)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)};function ii(e,t){void 0===t&&(t={});var n=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)i+=r+=n[s];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}}();n.p(e);var r=ri(e,t,2,4);return function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)}(r,t),function(e,t,n){for(;n;++t)e[t]=n,n>>>=8}(r,r.length-4,n.d()),r}const oi=e=>{const t=Object.assign(Object.assign({},e),{v:"v1"});return function(e,t){var n="";if(!t&&"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var r=0;r<e.length;){var i=e[r++];i<128||t?n+=String.fromCharCode(i):i<224?n+=String.fromCharCode((31&i)<<6|63&e[r++]):i<240?n+=String.fromCharCode((15&i)<<12|(63&e[r++])<<6|63&e[r++]):(i=((15&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,n+=String.fromCharCode(55296|i>>10,56320|1023&i))}return n}(ii(function(e,t){var n=e.length;if(!t&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new Ir(e.length+(e.length>>>1)),i=0,o=function(e){r[i++]=e},s=0;s<n;++s){if(i+5>r.length){var a=new Ir(i+8+(n-s<<1));a.set(r),r=a}var u=e.charCodeAt(s);u<128||t?o(u):u<2048?(o(192|u>>>6),o(128|63&u)):u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++s))>>>18),o(128|u>>>12&63),o(128|u>>>6&63),o(128|63&u)):(o(224|u>>>12),o(128|u>>>6&63),o(128|63&u))}return Hr(r,0,i)}(JSON.stringify(t))),!0)};var si,ai=function(){function e(e,t,n){var r,i=this;this.taskQueue=[],this.isProcessing=!1,this.compressEvent=function(e){var t=oi(e);return JSON.stringify(t)},this.addCompressedEvent=function(e,t){var n=i.compressEvent(e);i.eventsManager&&i.deviceId&&i.eventsManager.addEvent({event:{type:"replay",data:n},sessionId:t,deviceId:i.deviceId})};var o=Object(P.a)();this.canUseIdleCallback=o&&"requestIdleCallback"in o,this.eventsManager=e,this.config=t,this.deviceId=n,this.timeout=(null===(r=t.performanceConfig)||void 0===r?void 0:r.timeout)||2e3}return e.prototype.scheduleIdleProcessing=function(){var e=this;this.isProcessing||(this.isProcessing=!0,requestIdleCallback((function(t){e.processQueue(t)}),{timeout:this.timeout}))},e.prototype.enqueueEvent=function(e,t){var n;this.canUseIdleCallback&&(null===(n=this.config.performanceConfig)||void 0===n?void 0:n.enabled)?(this.config.loggerProvider.debug("Enqueuing event for processing during idle time."),this.taskQueue.push({event:e,sessionId:t}),this.scheduleIdleProcessing()):(this.config.loggerProvider.debug("Processing event without idle callback."),this.addCompressedEvent(e,t))},e.prototype.processQueue=function(e){for(var t=this;this.taskQueue.length>0&&(e.timeRemaining()>0||e.didTimeout);){var n=this.taskQueue.shift();if(n){var r=n.event,i=n.sessionId;this.addCompressedEvent(r,i)}}this.taskQueue.length>0?requestIdleCallback((function(e){t.processQueue(e)}),{timeout:this.timeout}):this.isProcessing=!1},e}(),ui=function(){function e(){var e=this;this.name="@amplitude/session-replay-browser",this.recordCancelCallback=null,this.eventCount=0,this.pageLeaveFns=[],this.teardownEventListeners=function(t){var n=Object(P.a)();n&&(n.removeEventListener("blur",e.blurListener),n.removeEventListener("focus",e.focusListener),!t&&n.addEventListener("blur",e.blurListener),!t&&n.addEventListener("focus",e.focusListener),n.self&&"onpagehide"in n.self?(n.removeEventListener("pagehide",e.pageLeaveListener),!t&&n.addEventListener("pagehide",e.pageLeaveListener)):(n.removeEventListener("beforeunload",e.pageLeaveListener),!t&&n.addEventListener("beforeunload",e.pageLeaveListener)))},this.blurListener=function(){e.sendEvents()},this.focusListener=function(){e.recordEvents()},this.pageLeaveListener=function(t){e.pageLeaveFns.forEach((function(e){e(t)}))},this.addCustomRRWebEvent=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r=!0),f(e,void 0,void 0,(function(){var e,i,o,s;return d(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),e=void 0,(i=this.config)?(e={config:cn(i),version:gn},r?[4,un()]:[3,2]):[3,2];case 1:o=a.sent(),e=l(l({},o),e),a.label=2;case 2:return this.recordCancelCallback?Yt.addCustomEvent(t,l(l({},n),e)):this.loggerProvider.debug("Not able to add custom replay capture event ".concat(t," due to no ongoing recording.")),[3,4];case 3:return s=a.sent(),this.loggerProvider.debug("Error while adding custom replay capture event: ",s),[3,4];case 4:return[2]}}))}))},this.stopRecordingEvents=function(){try{e.loggerProvider.log("Session Replay capture stopping."),e.recordCancelCallback&&e.recordCancelCallback(),e.recordCancelCallback=null}catch(n){var t=n;e.loggerProvider.warn("Error occurred while stopping replay capture: ".concat(t.toString()))}},this.loggerProvider=new y.a}return e.prototype.init=function(e,t){return Object(M.a)(this._init(e,t))},e.prototype._init=function(e,t){var n,r,i,o;return f(this,void 0,void 0,(function(){var s,a,u,c,l,f,h,g,m,b,w;return d(this,(function(d){switch(d.label){case 0:return this.loggerProvider=t.loggerProvider||new y.a,Object.prototype.hasOwnProperty.call(t,"logLevel")&&this.loggerProvider.enable(t.logLevel),this.identifiers=new Er({sessionId:t.sessionId,deviceId:t.deviceId}),s=this,[4,fn(e,t)];case 1:return s.joinedConfigGenerator=d.sent(),a=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)];case 2:a.config=d.sent(),t.sessionId&&(null===(n=this.config.interactionConfig)||void 0===n?void 0:n.enabled)&&(u=kr.default({sessionId:t.sessionId,type:"interaction"},this.config),this.pageLeaveFns=[u.send(this.getDeviceId.bind(this)).bind(u)],this.scrollHook=u.hook.bind(u)),c=[],"idb"!==(l=this.config.storeType)||(null===(r=Object(P.a)())||void 0===r?void 0:r.indexedDB)||(l="memory",this.loggerProvider.warn("Could not use preferred indexedDB storage, reverting to in memory option.")),this.loggerProvider.log("Using ".concat(l," for event storage.")),d.label=3;case 3:return d.trys.push([3,5,,6]),[4,tr({config:this.config,sessionId:this.identifiers.sessionId,type:"replay",storeType:l})];case 4:return f=d.sent(),c.push({name:"replay",manager:f}),[3,6];case 5:return h=d.sent(),w=h,this.loggerProvider.warn("Error occurred while creating replay events manager: ".concat(w.toString())),[3,6];case 6:if(!(null===(i=this.config.interactionConfig)||void 0===i?void 0:i.enabled))return[3,10];g=this.config.interactionConfig.batch?yr:mr,d.label=7;case 7:return d.trys.push([7,9,,10]),[4,tr({config:this.config,sessionId:this.identifiers.sessionId,type:"interaction",minInterval:null!==(o=this.config.interactionConfig.trackEveryNms)&&void 0!==o?o:3e4,maxInterval:6e4,payloadBatcher:g,storeType:l})];case 8:return m=d.sent(),c.push({name:"interaction",manager:m}),[3,10];case 9:return b=d.sent(),w=b,this.loggerProvider.warn("Error occurred while creating interaction events manager: ".concat(w.toString())),[3,10];case 10:return this.eventsManager=new(nr.bind.apply(nr,v([void 0],p(c),!1))),this.eventCompressor=new ai(this.eventsManager,this.config,this.getDeviceId()),this.loggerProvider.log("Installing @amplitude/session-replay-browser."),this.teardownEventListeners(!1),this.initialize(!0),[2]}}))}))},e.prototype.setSessionId=function(e,t){return Object(M.a)(this.asyncSetSessionId(e,t))},e.prototype.asyncSetSessionId=function(e,t){return f(this,void 0,void 0,(function(){var n,r,i;return d(this,(function(o){switch(o.label){case 0:return(n=this.identifiers&&this.identifiers.sessionId)&&this.sendEvents(n),r=t||this.getDeviceId(),this.identifiers=new Er({sessionId:e,deviceId:r}),this.joinedConfigGenerator&&n?(i=this,[4,this.joinedConfigGenerator.generateJoinedConfig(this.identifiers.sessionId)]):[3,2];case 1:i.config=o.sent(),o.label=2;case 2:return this.recordEvents(),[2]}}))}))},e.prototype.getSessionReplayProperties=function(){var e,t=this.config,n=this.identifiers;if(!t||!n)return this.loggerProvider.warn("Session replay init has not been called, cannot get session replay properties."),{};var r=this.getShouldRecord(),i={};return r&&((e={})[E]=n.sessionReplayId?n.sessionReplayId:null,i=e,t.debugMode&&(i[x]=JSON.stringify({appHash:sn(t.apiKey).toString()}))),this.addCustomRRWebEvent(g.GET_SR_PROPS,{shouldRecord:r,eventProperties:i},10===this.eventCount),10===this.eventCount&&(this.eventCount=0),this.eventCount++,i},e.prototype.sendEvents=function(e){var t,n=e||(null===(t=this.identifiers)||void 0===t?void 0:t.sessionId),r=this.getDeviceId();this.eventsManager&&n&&r&&this.eventsManager.sendCurrentSequenceEvents({sessionId:n,deviceId:r})},e.prototype.initialize=function(e){var t;if(void 0===e&&(e=!1),null===(t=this.identifiers)||void 0===t?void 0:t.sessionId){var n=this.getDeviceId();n?(this.eventsManager&&e&&this.eventsManager.sendStoredEvents({deviceId:n}),this.recordEvents()):this.loggerProvider.log("Session is not being recorded due to lack of device id.")}else this.loggerProvider.log("Session is not being recorded due to lack of session id.")},e.prototype.shouldOptOut=function(){var e,t,n;(null===(e=this.config)||void 0===e?void 0:e.instanceName)&&(n=Object(j.a)(this.config.instanceName).identityStore.getIdentity().optOut);return void 0!==n?n:null===(t=this.config)||void 0===t?void 0:t.optOut},e.prototype.getShouldRecord=function(){if(!this.identifiers||!this.config||!this.identifiers.sessionId)return this.loggerProvider.warn("Session is not being recorded due to lack of config, please call sessionReplay.init."),!1;if(!this.config.captureEnabled)return this.loggerProvider.log("Session ".concat(this.identifiers.sessionId," not being captured due to capture being disabled for project or because the remote config could not be fetched.")),!1;if(this.shouldOptOut())return this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to optOut config.")),!1;var e,t,n,r=(e=this.identifiers.sessionId,t=this.config.sampleRate,n=sn(e.toString()),31*Math.abs(n)%1e6/1e6<t);return r||this.loggerProvider.log("Opting session ".concat(this.identifiers.sessionId," out of recording due to sample rate.")),r},e.prototype.getBlockSelectors=function(){var e,t,n,r=null!==(n=null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.blockSelector)&&void 0!==n?n:[];if(0!==r.length)return r},e.prototype.getMaskTextSelectors=function(){var e,t,n,r;if("conservative"===(null===(t=null===(e=this.config)||void 0===e?void 0:e.privacyConfig)||void 0===t?void 0:t.defaultMaskLevel))return"*";var i=null===(r=null===(n=this.config)||void 0===n?void 0:n.privacyConfig)||void 0===r?void 0:r.maskSelector;return i||void 0},e.prototype.recordEvents=function(){var e,t=this,n=this.config,r=this.getShouldRecord(),i=null===(e=this.identifiers)||void 0===e?void 0:e.sessionId;if(r&&i&&n){this.stopRecordingEvents();var o=n.privacyConfig;this.loggerProvider.log("Session Replay capture beginning for ".concat(i,".")),this.recordCancelCallback=Yt({emit:function(e){if(t.shouldOptOut())return t.loggerProvider.log("Opting session ".concat(i," out of recording due to optOut config.")),t.stopRecordingEvents(),void t.sendEvents();t.eventCompressor&&t.eventCompressor.enqueueEvent(e,i)},inlineStylesheet:n.shouldInlineStylesheet,hooks:{mouseInteraction:this.eventsManager&&br({eventsManager:this.eventsManager,sessionId:i,deviceIdFn:this.getDeviceId.bind(this)}),scroll:this.scrollHook},maskAllInputs:!0,maskTextClass:T,blockClass:"amp-block",blockSelector:this.getBlockSelectors(),maskInputFn:on("input",o),maskTextFn:on("text",o),maskTextSelector:this.getMaskTextSelectors(),recordCanvas:!1,errorHandler:function(e){var n=e;if(n.message.includes("insertRule")&&n.message.includes("CSSStyleSheet"))throw n;if(n._external_)throw n;return t.loggerProvider.warn("Error while capturing replay: ",n.toString()),!0}}),this.addCustomRRWebEvent(g.DEBUG_INFO)}},e.prototype.getDeviceId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.deviceId},e.prototype.getSessionId=function(){var e;return null===(e=this.identifiers)||void 0===e?void 0:e.sessionId},e.prototype.flush=function(e){var t;return void 0===e&&(e=!1),f(this,void 0,void 0,(function(){return d(this,(function(n){return[2,null===(t=this.eventsManager)||void 0===t?void 0:t.flush(e)]}))}))},e.prototype.shutdown=function(){this.teardownEventListeners(!0),this.stopRecordingEvents(),this.sendEvents()},e}(),ci=function(e){return function(){var t=e.config||_();return{logger:t.loggerProvider,logLevel:t.logLevel}}},li=(si=new ui,{init:Object(a.a)(si.init.bind(si),"init",ci(si)),setSessionId:Object(a.a)(si.setSessionId.bind(si),"setSessionId",ci(si)),getSessionId:Object(a.a)(si.getSessionId.bind(si),"getSessionId",ci(si)),getSessionReplayProperties:Object(a.a)(si.getSessionReplayProperties.bind(si),"getSessionReplayProperties",ci(si)),flush:Object(a.a)(si.flush.bind(si),"flush",ci(si)),shutdown:Object(a.a)(si.shutdown.bind(si),"shutdown",ci(si))}),fi=li.init,di=li.setSessionId,hi=li.getSessionId,pi=li.getSessionReplayProperties,vi=li.shutdown,gi="1.8.0",mi=function(){function e(e){this.name="@amplitude/plugin-session-replay-browser",this.type="enrichment",this.options=i({},e),!1!==this.options.forceSessionTracking&&(this.options.forceSessionTracking=!0)}return e.prototype.setup=function(e){var t,n,r,a;return o(this,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return e.loggerProvider.log("Installing @amplitude/plugin-session-replay, version ".concat(gi,".")),this.config=e,this.options.forceSessionTracking&&("boolean"===typeof e.defaultTracking?!1===e.defaultTracking&&(e.defaultTracking={pageViews:!1,formInteractions:!1,fileDownloads:!1,sessions:!0}):e.defaultTracking=i(i({},e.defaultTracking),{sessions:!0})),[4,fi(e.apiKey,{instanceName:this.config.instanceName,deviceId:this.config.deviceId,optOut:this.config.optOut,sessionId:this.config.sessionId,loggerProvider:this.config.loggerProvider,logLevel:this.config.logLevel,flushMaxRetries:this.config.flushMaxRetries,serverZone:this.config.serverZone,sampleRate:this.options.sampleRate,privacyConfig:{blockSelector:null===(t=this.options.privacyConfig)||void 0===t?void 0:t.blockSelector,maskSelector:null===(n=this.options.privacyConfig)||void 0===n?void 0:n.maskSelector,unmaskSelector:null===(r=this.options.privacyConfig)||void 0===r?void 0:r.unmaskSelector,defaultMaskLevel:null===(a=this.options.privacyConfig)||void 0===a?void 0:a.defaultMaskLevel},debugMode:this.options.debugMode,configEndpointUrl:this.options.configEndpointUrl,shouldInlineStylesheet:this.options.shouldInlineStylesheet,version:{type:"plugin",version:gi},performanceConfig:this.options.performanceConfig,storeType:this.options.storeType}).promise];case 1:return o.sent(),[2]}}))}))},e.prototype.execute=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.config.sessionId&&this.config.sessionId!==hi()?[4,di(this.config.sessionId).promise]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.config.sessionId&&this.config.sessionId===e.session_id&&(t=pi(),e.event_properties=i(i({},e.event_properties),t)),[2,Promise.resolve(e)]}}))}))},e.prototype.teardown=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return vi(),this.config=null,[2]}))}))},e.prototype.getSessionReplayProperties=function(){return pi()},e}(),yi=function(e){return new mi(e)}},306:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(33),i=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){var t,n,i,o,s,a,u,c,l,f,d,h,p,v,g,m,y,b,w,S,O,k;if("object"!==typeof e)return null;var E=e.code||0,I=this.buildStatus(E);switch(I){case r.a.Success:return{status:I,statusCode:E,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(i=e.server_upload_time)&&void 0!==i?i:0}};case r.a.Invalid:return{status:I,statusCode:E,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(s=e.missing_field)&&void 0!==s?s:"",eventsWithInvalidFields:null!==(a=e.events_with_invalid_fields)&&void 0!==a?a:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(c=e.events_with_invalid_id_lengths)&&void 0!==c?c:{},epsThreshold:null!==(l=e.eps_threshold)&&void 0!==l?l:0,exceededDailyQuotaDevices:null!==(f=e.exceeded_daily_quota_devices)&&void 0!==f?f:{},silencedDevices:null!==(d=e.silenced_devices)&&void 0!==d?d:[],silencedEvents:null!==(h=e.silenced_events)&&void 0!==h?h:[],throttledDevices:null!==(p=e.throttled_devices)&&void 0!==p?p:{},throttledEvents:null!==(v=e.throttled_events)&&void 0!==v?v:[]}};case r.a.PayloadTooLarge:return{status:I,statusCode:E,body:{error:null!==(g=e.error)&&void 0!==g?g:""}};case r.a.RateLimit:return{status:I,statusCode:E,body:{error:null!==(m=e.error)&&void 0!==m?m:"",epsThreshold:null!==(y=e.eps_threshold)&&void 0!==y?y:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(w=e.throttled_users)&&void 0!==w?w:{},exceededDailyQuotaDevices:null!==(S=e.exceeded_daily_quota_devices)&&void 0!==S?S:{},exceededDailyQuotaUsers:null!==(O=e.exceeded_daily_quota_users)&&void 0!==O?O:{},throttledEvents:null!==(k=e.throttled_events)&&void 0!==k?k:[]}};case r.a.Timeout:default:return{status:I,statusCode:E}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?r.a.Success:429===e?r.a.RateLimit:413===e?r.a.PayloadTooLarge:408===e?r.a.Timeout:e>=400&&e<500?r.a.Invalid:e>=500?r.a.Failed:r.a.Unknown},e}()},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var r=n(38),i=n(144);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hideHandler=function(e){var n=e.target;t.hideTimer=setTimeout((function(){t.tooltip.hide(),n.removeEventListener("mouseleave",t.hideHandler)}),150)},this.tooltip,this.hideTimer}var t,n,s;return t=e,(n=[{key:"init",value:function(){var e=this;document.body.addEventListener("mouseover",(function(t){t.target.matches(".js-show-tooltip")&&e.showHandler(t.target)}))}},{key:"showHandler",value:function(e){if(!(0,r.hasSomeChildWithClass)(e,"a-popover")){var t=e.dataset,n=t.tooltipMessage,o=t.tooltipPosition;this.tooltip=new i.PopoverTooltip({content:n,position:o,type:"tooltip"}),this.tooltip.show(e),clearTimeout(this.hideTimer),e.addEventListener("mouseleave",this.hideHandler)}}}])&&o(t.prototype,n),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Tooltip=s,Domestika.tooltip=new s,Domestika.tooltip.init()},308:function(e,t,n){"use strict";var r=n(15),i=n(25),o=n(8),s=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.emailCorrectorFieldsInit=void 0;var a=d(n(20)),u=d(n(22)),c=d(n(27)),l=n(314),f=n(65);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=r(e);if(i){var s=i(e);t&&(s=s.filter((function(t){return o(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):s?Object.defineProperties(e,s(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,o(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):u.default.resolve(c).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new u.default((function(r,i){var o=e.apply(t,n);function s(e){g(o,r,i,s,a,"next",e)}function a(e){g(o,r,i,s,a,"throw",e)}s(void 0)}))}}var y=function(e){var t,r,i,o,s=e.querySelector("input"),a=e.getAttribute("data-email-corrector-copy"),u=e.dataset;function d(){t||((t=document.createElement("div")).id="email-suggestion",t.classList.add("o-email-corrector__message"))}function h(){t&&t.classList.add("d-none")}function v(e){s.value="".concat(s.value.split("@")[0],"@").concat(e),s.dispatchEvent(new Event("change")),h(),(0,f.trackAmplitudeEvents)("signup_email_suggestion_clicked",i)}function g(e){return y.apply(this,arguments)}function y(){return(y=m(c.default.mark((function e(t){var r,i,o,s;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(643).then(n.bind(null,454));case 2:if(r=e.sent,i=r.default,o=new i(l.mostUsedDomains,{shouldSort:!0,threshold:.3,location:0,distance:10,maxPatternLength:32,minMatchCharLength:2}),0===(s=o.search(t)).length){e.next=8;break}return e.abrupt("return",s[0].item);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=m(c.default.mark((function e(n){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.mostUsedDomains.includes(n)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,g(n);case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return d(),t.innerHTML=a.replace("[DOMAIN]",r),t.dataset.domain=r,t.classList.remove("d-none"),s.after(t),o!==r&&(i=p(p({},i),{},{suggested_value:r}),(0,f.trackAmplitudeEvents)("signup_email_suggestion_viewed",i)),o=r,t.addEventListener("click",(function(){v(r)})),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){h();var t,n,r=e.target.value;-1!==r.indexOf("@")&&""!==r.split("@")[0]&&s.hasAttribute("data-valid")?(t=e.target,(n=function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}return n}(t,".invalid-feedback"))&&(t.classList.remove("is-invalid"),n.remove()),function(e){b.apply(this,arguments)}(r.split("@")[1])):h()}i={page_uri:u.amplitudePropsPrevPageUri,page_type:u.amplitudePropsPageType,page_subtype:u.amplitudePropsPageSubtype,prev_page_uri:u.amplitudePropsPageUri,validated_at:"frontend",error_field:"email"},s.addEventListener("input",(function(e){clearTimeout(r),r=setTimeout((function(){w(e)}),1e3)}),!1)},b=function(){var e=document.querySelectorAll(".js-email-corrector");(0,a.default)(e).forEach((function(e){y(e)}))};t.emailCorrectorFieldsInit=b,Domestika.emailCorrectorFieldsInit=b,Domestika.emailCorrectorFieldsInit()},309:function(e,t,n){"use strict";var r,i=n(15),o=n(25),s=n(8),a=n(29),u=(r=n(20))&&r.__esModule?r:{default:r},c=n(297),l=n(65);function f(e,t){var n=i(e);if(o){var r=o(e);t&&(r=r.filter((function(t){return s(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):a?Object.defineProperties(e,a(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,s(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(t){var n={field:e.querySelector(t),input:e.querySelector("".concat(t," input")),error:e.querySelector("".concat(t," .js-invalid-feedback"))};return n.field&&n.input&&n.error?n:null}var n=t(".js-signup-email"),r=t(".js-signup-password"),i=e.querySelector(".js-signup-submit"),o=e.dataset.disableSubmitOnValidation,s=(0,l.readAmplitudeProps)(e.dataset.amplitudeProps),a=null,f=!1,h=!1;function p(e){clearTimeout(a),e.input.setAttribute("data-valid",!0),e.input.classList.remove("is-invalid"),e.error.innerHTML=""}function v(){var e;e=f&&h,"true"===o&&i&&(i.disabled=!e)}function g(e,t){clearTimeout(a),function(e){var t=e.field.querySelectorAll(".invalid-feedback");0!==t.length&&(e.input.classList.remove("is-invalid"),(0,u.default)(t).forEach((function(t){e.field.removeChild(t)})))}(e),e.input.removeAttribute("data-valid"),a=setTimeout((function(){e.input.classList.contains("is-invalid")||function(e){var t="email"===e?"invalid":"too_short",n="".concat(e,"-").concat(t);(0,l.trackAmplitudeEvents)("authentication_error",d(d({},s),{validated_at:"frontend",error_type:[n]}))}(t),e.input.classList.add("is-invalid"),"errorMessage"in e.field.dataset&&(e.error.innerHTML=e.field.dataset.errorMessage)}),1e3)}function m(){(f=(0,c.validateEmail)(n.input.value))?p(n):g(n,"email"),v()}function y(){(h=(0,c.validatePassword)(r.input.value))?p(r):g(r,"password"),v()}n&&(n.input.addEventListener("input",m),n.input.addEventListener("change",m)),r&&(r.input.addEventListener("input",y),r.input.addEventListener("change",y))},v=function(){var e=document.querySelectorAll(".js-signup-form");(0,u.default)(e).forEach((function(e){p(e)}))};v(),document.addEventListener("signUpModalOpen",v)},31:function(e,t,n){var r=n(26),i=n(110),o=n(76),s=Object.defineProperty;t.f=n(28)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},310:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"handle",value:function(){var e=this,t=document.querySelector(".js-close-fixed-alert");t&&t.addEventListener("click",(function(t){return e.hideAdvice(t)}))}},{key:"hideAdvice",value:function(e){var t=e.target.dataset.closeTargetAttr,n=document.querySelector("[".concat(t,"]"));this.close=n.classList.add("d-none")}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.fixedAlert=new i,Domestika.fixedAlert.handle()},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){document.querySelectorAll(e).forEach((function(e){e.addEventListener("click",(function(e){window.location.href=e.currentTarget.dataset.href}))}))};t.default=r},312:function(e,t,n){"use strict";var r=n(22),i=s(n(27)),o=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,i,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):r.resolve(c).then(i,o)}function u(e){return function(){var t=this,n=arguments;return new r((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=document.querySelectorAll(".js-show-password");(0,o.default)(e).forEach((function(e){var t=e.querySelector(".js-show-password-action");t.addEventListener("click",u(i.default.mark((function n(){var r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.querySelector("input")){n.next=3;break}return n.abrupt("return");case 3:"password"===r.type?r.type="text":r.type="password",t.querySelectorAll(".js-show-password-icon").forEach((function(e){e.classList.toggle("d-none")}));case 6:case"end":return n.stop()}}),n)}))))}))}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.showPasswordField=new l,Domestika.showPasswordField.init()},313:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=document.querySelectorAll(".js-apple-sign-in");if(null!==e&&void 0!==e&&e.length){var t,n=null===(t=e[0])||void 0===t?void 0:t.dataset;AppleID.auth.init({clientId:n.clientId,redirectURI:n.redirectUri,scope:n.scope,state:n.state,usePopup:!1}),e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),AppleID.auth.signIn()}))}))}}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.widgets||(Domestika.widgets={}),Domestika.widgets.apple=new i,Domestika.widgets.apple.init()},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mostUsedDomains=void 0;t.mostUsedDomains=["gmail.com","hotmail.com","yahoo.com","outlook.com","icloud.com","yahoo.es","hotmail.es","live.com","yahoo.com.mx","yahoo.com.br","yahoo.com.ar","me.com","msn.com","live.com.mx","outlook.es","aol.com","hotmail.co.uk","hotmail.it","yahoo.co.uk","gmx.de","mac.com","web.de","googlemail.com","mail.ru","hotmail.com.ar","live.com.ar","hotmail.fr","yahoo.it","libero.it","uol.com.br","ymail.com","yahoo.fr","comcast.net","live.cl","uc.cl","yahoo.de","yandex.ru","btinternet.com","terra.com.br"]},315:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"init",value:function(){document.querySelectorAll(".js-email-field").forEach((function(e){e.addEventListener("keypress",(function(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.target.closest("fieldset").querySelector(".js-password-field").focus())}))}))}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i.init(),document.addEventListener("signUpModalOpen",(function(){return i.init()})),document.addEventListener("signInModalOpen",(function(){return i.init()}))},316:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof u?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var i,o=n(11),s=n(8),a=n(6),u=n(7),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&s;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?s(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(104));function l(e){if("function"!==typeof o)return null;var t=new o,n=new o;return(l=function(e){return e?n:t})(e)}function f(){c.getCookie("user_consent")!==OnetrustActiveGroups&&(c.setCookie("user_consent",OnetrustActiveGroups,365),!1===window.ENV.USER_CONSENT_CHECKER&&c.removeCookies())}i=setInterval((function(){"undefined"!==typeof OneTrust&&(clearInterval(i),"undefined"!==typeof OnetrustActiveGroups&&f(),OneTrust.OnConsentChanged(f))}),100)},317:function(e,t,n){"use strict";var r=n(75),i=".js-amplitude-track",o=".js-gtm-track",s=function(e,t,n){var i=[];e&&i.push(e),t&&i.push(t),n&&i.push(n),i.length&&(0,r.trackMultipleComponents)(i.join(","))};s(i,o),Domestika.startGlobalEventsTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;s(e,t)}},318:function(e,t,n){"use strict";var r=n(15),i=n(25),o=n(8),s=n(29);function a(e,t){var n=r(e);if(i){var s=i(e);t&&(s=s.filter((function(t){return o(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.trackGTMEvents=void 0;t.trackGTMEvents=function(e){var t=JSON.parse(e);(Array.isArray(t)?t:[t]).forEach((function(e){Domestika.datalayer.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):s?Object.defineProperties(e,s(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,o(n,t))}))}return e}({event:e.event},e.attributes))}))}},319:function(e,t,n){"use strict";var r,i=(r=n(311))&&r.__esModule?r:{default:r},o=n(65);var s=!1,a=function(e){var t,n;e.addEventListener("mouseenter",(function(r){var a=r.target;!function(e){var t,n=e.querySelector("li .js-dropdown-menu"),r=null===n||void 0===n||null===(t=n.dataset)||void 0===t?void 0:t.amplitudeProps;if(r&&"string"===typeof r){var i=(0,o.readAmplitudeProps)(r),s=i.eventName,a=i.eventProperties;(0,o.trackAmplitudeEvents)(s,a)}}(e),n=setTimeout((function(){document.querySelectorAll(".js-dropdown-hover, .js-dropdown-menu").forEach((function(e){e.classList.remove("show")})),a.classList.add("show"),a.querySelector(".js-dropdown-menu").classList.add("show")}),150),clearTimeout(t),s||((0,i.default)(".js-dropdown-course-link"),s=!0)})),e.addEventListener("mouseleave",(function(e){var r=e.target;t=setTimeout((function(){r.classList.remove("show"),r.querySelector(".js-dropdown-menu").classList.remove("show")}),150),clearTimeout(n)}))};document.querySelectorAll(".js-dropdown-hover").forEach((function(e){return a(e)}))},32:function(e,t,n){var r=n(89),i=n(61);e.exports=function(e){return r(i(e))}},320:function(e,t,n){"use strict";var r=n(75);(0,r.trackComponent)({selector:".js-navbar-track",childrenSelector:".js-dropdown-course-link",category:"header"}),(0,r.trackComponent)({selector:".js-notifications-dropdown",category:"header",action:"click - notifications_icon"})},321:function(e,t,n){"use strict";var r=document.querySelectorAll('[data-target="#login-modal"]'),i=document.querySelectorAll('[data-target="#signup-modal"]');r&&r.forEach((function(e){e.href="".concat(e.href,"&from_modal=true")})),i&&i.forEach((function(e){e.href="".concat(e.href,"&from_modal=true")}))},322:function(e,t,n){"use strict";var r=document.querySelector("#js-modal-course");document.contains(r)&&$(r).on("hidden.bs.modal",(function(){var e,t;t=(e=r).querySelector(".modal-content"),e.contains(t)&&(t.innerHTML="")}))},323:function(e,t,n){"use strict";function r(e){return r="function"==typeof a&&"symbol"==typeof u?function(e){return typeof e}:function(e){return e&&"function"==typeof a&&e.constructor===a&&e!==a.prototype?"symbol":typeof e},r(e)}var i=n(22),o=n(11),s=n(8),a=n(6),u=n(7),c=h(n(27)),l=h(n(20)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&s;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?s(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(104));function d(e){if("function"!==typeof o)return null;var t=new o,n=new o;return(d=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):i.resolve(c).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new i((function(r,i){var o=e.apply(t,n);function s(e){p(o,r,i,s,a,"next",e)}function a(e){p(o,r,i,s,a,"throw",e)}s(void 0)}))}}var g,m,y="collapsed";g=document.querySelectorAll(".js-alert-juguetona-toggle"),m=document.querySelectorAll(".js-alert-juguetona-close"),(0,l.default)(g).forEach((function(e){e.addEventListener("click",function(){var e=v(c.default.mark((function e(t){var n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.closest(".js-alert-juguetona-collapsible")){e.next=3;break}return e.abrupt("return");case 3:n.classList.toggle(y),f.setCookie("dmstkAlertJuguetonaCollapsed",n.classList.contains(y),4e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),(0,l.default)(m).forEach((function(e){e.addEventListener("click",function(){var e=v(c.default.mark((function e(t){var n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.closest(".js-alert-juguetona-closable")){e.next=3;break}return e.abrupt("return");case 3:n.remove(),f.setCookie("dmstkAlertJuguetonaClosed",!0,90);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},324:function(e,t,n){"use strict";var r=n(75);(0,r.trackComponent)({selector:".js-alert-juguetona-track-event",trackIfShown:!0,ifShownAction:"show-popup",childrenDefaultAction:"popup",category:"mgm"}),(0,r.trackComponent)({selector:".js-alert-juguetona-track-event",childrenSelector:".js-alert-juguetona-close",childrenDefaultAction:"close-popup",category:"mgm"})},325:function(e,t,n){"use strict";function r(e){return r="function"==typeof u&&"symbol"==typeof c?function(e){return typeof e}:function(e){return e&&"function"==typeof u&&e.constructor===u&&e!==u.prototype?"symbol":typeof e},r(e)}var i,o=n(22),s=n(11),a=n(8),u=n(6),c=n(7),l=(i=n(27))&&i.__esModule?i:{default:i},f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&a;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?a(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(104));function d(e){if("function"!==typeof s)return null;var t=new s,n=new s;return(d=function(e){return e?n:t})(e)}function h(e,t,n,r,i,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):o.resolve(c).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new o((function(r,i){var o=e.apply(t,n);function s(e){h(o,r,i,s,a,"next",e)}function a(e){h(o,r,i,s,a,"throw",e)}s(void 0)}))}}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=document.querySelector(".js-sticky-banner");if(e){var t=document.querySelector("body");t.classList.add("js-sticky-banner-on");var n=e.dataset.bannerId,r=e.querySelector(".js-sticky-banner-close-button");document.querySelector("body").classList.add("js-sticky-banner-on"),r&&r.addEventListener("click",p(l.default.mark((function r(){return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.remove(),f.setCookie("stickyBannerClosed_".concat(n),!0,4e3),t.classList.remove("js-sticky-banner-on");case 3:case"end":return r.stop()}}),r)}))))}}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.stickyBanner=new g,Domestika.stickyBanner.init()},326:function(e,t,n){"use strict";var r=s(n(20)),i=s(n(56)),o=s(n(92));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"handle",value:function(){var e=document.querySelectorAll(".js-course-card-list"),t=document.querySelectorAll(".js-course-card-list .js-course-item").length;(0,r.default)(e).forEach((function(e){var n=e.querySelectorAll(".js-course-item");(0,r.default)(n).forEach((function(e,n){var r={product_relative_position:n+1,total_number_products_per_page:t},s=e.dataset.amplitudeParentProps||"{}",a=JSON.parse(s),u=(0,i.default)(a,r);e.dataset.amplitudeParentProps=(0,o.default)(u)}))}))}}],(n=null)&&a(t.prototype,n),s&&a(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.CourseCardEvents=u,Domestika.CourseCardEvents.handle()},327:function(e,t,n){"use strict";var r,i=(r=n(20))&&r.__esModule?r:{default:r};var o=document.querySelectorAll(".js-follow-button-wrapper");(0,i.default)(o).forEach((function(e){e.addEventListener("click",(function(){e.classList.add("js-follow-button-just-clicked")})),e.addEventListener("mouseenter",(function(t){var n=t.currentTarget.children[0];if(!e.classList.contains("js-follow-button-just-clicked")&&n.classList.contains("js-unfollow-button-change-text")){var r=n.dataset.hoverLinkText;n.innerHTML=r}})),e.addEventListener("mouseleave",(function(t){var n=t.currentTarget.children[0];if(e.classList.remove("js-follow-button-just-clicked"),n.classList.contains("js-unfollow-button-change-text")){var r=n.dataset.disableWith;n.innerHTML=r}}))}))},328:function(e,t,n){"use strict";var r=l(n(119)),i=l(n(22)),o=l(n(27)),s=n(145),a=n(38),u=n(279),c=n(281);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,o,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):i.default.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new i.default((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))}}function h(e){return p.apply(this,arguments)}function p(){return(p=d(o.default.mark((function e(t){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.getRequestConfiguration)("/modals",t.dataset),e.prev=1,e.next=4,(0,s.requestApi)(n);case 4:r=e.sent,(0,u.openModal)(t,r.data.trim()),document.dispatchEvent(new Event("modal.".concat(t.dataset.modalName,".open"))),(0,c.copyField)(),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),new Error("error injecting modal HTML: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var v=function(){document.body.addEventListener("click",function(){var e=d(o.default.mark((function e(t){var n,r,i,s,c,l,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target).classList.contains("js-show-modal")&&(t.preventDefault(),h(n)),r=(0,a.hasSomeParentWithClass)(n,"js-close-modal"),i=(0,a.hasSomeParentWithClass)(n,"js-modal"),s=(0,a.hasSomeParentWithClass)(n,"js-modal-default-placeholder"),c=(0,a.hasSomeParentWithClass)(n,"js-modal-content"),l=(i||s)&&!c,f=(0,a.hasSomeParentWithClass)(n,"js-confirm-modal"),(r||l||f)&&setTimeout((function(){return(0,u.closeModal)(n)}),0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.querySelectorAll(".js-show-modal-now").forEach((function(e){var t=(0,r.default)(e.dataset.showModalNowDelay,10)||0;setTimeout((function(){h(e)}),t)}))};Domestika.Modal=v,v()},329:function(e,t,n){"use strict";var r=n(75),i=n(65),o=document.querySelector(".topalert__inner .container p a");o&&(0,r.createEventListener)(o,(function(){var e=document.querySelector(".amplitude-link-props").dataset,t=JSON.parse(e.amplitudeProps);(0,i.trackAmplitudeEvents)("click-user-alert",t.eventProperties)}),"click"),(0,r.trackComponent)({selector:".topalert--mgm",trackIfShown:!0,ifShownAction:"show-alert",childrenDefaultAction:"alert",category:"mgm",nonInteraction:!0,gaOnly:!0}),(0,r.trackComponent)({selector:".topalert--basic",trackIfShown:!0,ifShownAction:"show-alert",childrenDefaultAction:"alert",category:"promo-alert-basic",nonInteraction:!0,gaOnly:!0})},33:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(r||(r={}))},330:function(e,t,n){"use strict";(0,n(75).trackComponent)({selector:".js-user-menu-wrapper",childrenDefaultAction:"menu",category:"mgm"})},331:function(e,t,n){"use strict";(0,n(75).trackComponent)({selector:".site-footer",childrenDefaultAction:"footer",category:"mgm"})},332:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"init",value:function(e,t){var n=/\[\/?(?:b|i|url|email|img|list|code|h|quote|\*)(?:=[^\]\s]+)?\]/g,r=document.querySelector(e),i=document.querySelector(t),o=function(){var e=r.value.replaceAll(n,""),t=r.maxLength,o=e.length;i.innerHTML="".concat(o," / ").concat(t)};o(),r.addEventListener("keyup",(function(){o()}))}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();Domestika.charsCounter=new i},333:function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(20);function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof r&&null!=e[i]||null!=e["@@iterator"])return o(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return o(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.navItem=".js-expand-search-item",this.input=".js-search-form-input"}var t,n,r;return t=e,(n=[{key:"toggle",value:function(e){s(document.querySelectorAll(this.navItem)||[]).filter((function(e){return"nav-courses"!==e.id})).forEach((function(t){t.hidden="focus"===e}))}},{key:"bind",value:function(){var e=this,t=document.querySelector(this.input);null===t||void 0===t||t.addEventListener("focus",(function(){return e.toggle("focus")})),null===t||void 0===t||t.addEventListener("blur",(function(){return e.toggle("blur")}))}},{key:"init",value:function(){this.bind()}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();try{Domestika.inputSearchExpand=new c,Domestika.inputSearchExpand.init()}catch(l){console.error("[Domestika.inputSearchExpand]",l)}},334:function(e,t,n){"use strict";function r(e){return r="function"==typeof o&&"symbol"==typeof s?function(e){return typeof e}:function(e){return e&&"function"==typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},r(e)}var i=n(112),o=n(6),s=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(335)),u=c(n(113));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=i(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?u.default:function(e){return e.__proto__||(0,u.default)(e)},v(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,r,i=h(o);function o(){return l(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"connect",value:function(){var e=this;this.endsAtTime=this.endsAtValue.replace(/-/g,"/"),this.timer=setInterval((function(){e.update()}),1e3)}},{key:"update",value:function(){var e,t=+new Date(this.endsAtTime)-+new Date;(0,a.default)(t)?this.stopTimer():(t<=0?(e={days:0,hours:0,minutes:0,seconds:0},this.stopTimer()):e={days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)},this.hasDaysBlockTarget&&(this.daysTarget.innerText=String(e.days).padStart(this.daysPaddingZeroesValue,"0")),this.hoursTarget.innerText=String(e.hours).padStart(this.paddingZeroesValue,"0"),this.minutesTarget.innerText=String(e.minutes).padStart(this.paddingZeroesValue,"0"),this.secondsTarget.innerText=String(e.seconds).padStart(this.paddingZeroesValue,"0"))}},{key:"stopTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"disconnect",value:function(){this.stopTimer()}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(n(95).Controller);t.default=g,g.targets=["days","hours","minutes","seconds","daysBlock"],g.values={endsAt:String,hideZeroDays:Boolean,paddingZeroes:Number,daysPaddingZeroes:Number},g.timer=void 0,g.endsAtTime=void 0},335:function(e,t,n){e.exports=n(336)},336:function(e,t,n){n(337),e.exports=n(9).Number.isNaN},337:function(e,t,n){var r=n(14);r(r.S,"Number",{isNaN:function(e){return e!=e}})},338:function(e,t,n){"use strict";function r(e){return r="function"==typeof s&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof s&&e.constructor===s&&e!==s.prototype?"symbol":typeof e},r(e)}var i=n(112),o=n(22),s=n(6),a=n(7);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=d(n(113)),c=d(n(27)),l=n(95),f=n(65);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,i,s,a){try{var u=e[s](a),c=u.value}catch(l){return void n(l)}u.done?t(c):o.resolve(c).then(r,i)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=i(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?u.default:function(e){return e.__proto__||(0,u.default)(e)},b(e)}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(l,e);var t,r,i,s,a,u=m(l);function l(){return p(this,l),u.apply(this,arguments)}return t=l,r=[{key:"initialize",value:function(){this.searchBoxIsLoaded=!1}},{key:"connect",value:function(){!this.isTraditionalSearchValue&&this.inputFieldTarget.value.length&&(this.handleSpinner(),this.initSearchBox())}},{key:"initSearchBox",value:(s=c.default.mark((function e(){var t=this;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(215),n.e(420),n.e(422)]).then(n.t.bind(null,455,7)).then((function(){t.searchSpinnerTarget.classList.add("d-none"),t.searchBoxIsLoaded=!0}));case 2:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new o((function(n,r){var i=s.apply(e,t);function o(e){h(i,n,r,o,a,"next",e)}function a(e){h(i,n,r,o,a,"throw",e)}o(void 0)}))},function(){return a.apply(this,arguments)})},{key:"handleSpinner",value:function(){this.searchBoxIsLoaded||this.searchSpinnerTarget.classList.remove("d-none")}},{key:"trackEventSearchStarted",value:function(){if(this.amplitudePropsValue){var e=JSON.parse(this.amplitudePropsValue);(0,f.trackAmplitudeEvents)("search_started",e)}}},{key:"showMobileSearchForm",value:function(){this.searchFormTarget.classList.remove("d-none"),this.inputFieldTarget.focus()}},{key:"resetSearchForm",value:function(e){this.searchFormTarget.classList.add("d-none"),this.searchResultsTarget.classList.remove("show"),this.inputFieldTarget.value="",this.inputFieldTarget.focus(),e.target.classList.add("d-none")}},{key:"handleSubmit",value:function(e){e.preventDefault()}}],r&&v(t.prototype,r),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(l.Controller);t.default=w,w.targets=["searchForm","inputField","searchResults","searchSpinner"],w.values={isTraditionalSearch:Boolean,amplitudeProps:String}},34:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},354:function(e,t,n){"use strict";n(317),n(319),n(320),n(312),n(321),n(322),n(301),n(310),n(313),n(323),n(324),n(325),n(326),n(296),n(307),n(327),n(308),n(309),n(328),n(329),n(330),n(331),n(332),n(315),n(316),n(280),n(333),n(355),n(356);var r=n(95),i=s(n(334)),o=s(n(338));function s(e){return e&&e.__esModule?e:{default:e}}window.Stimulus=r.Application.start(),window.Stimulus.register("countdown",i.default),window.Stimulus.register("header",o.default)},355:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=".js-checkout-countdown"}var t,n,i;return t=e,(n=[{key:"countdown",value:function(e,t){var n=this,r=60,i=t||3,o=e||{};!function e(){var t=i-1;r-=1;var s="".concat(t.toString(),"m:").concat(r<10?"0":"").concat(r,"s");o.innerHTML=I18n.t("generic.checkout_ends_in",{date:s}),r>0?setTimeout(e,1e3):0===t?o.innerHTML=I18n.t("generic.checkout_ended"):n.countdown(o,i-1)}()}},{key:"init",value:function(){var e=this;(document.querySelectorAll(this.selector)||[]).forEach((function(t){return e.countdown(t,3)}))}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();try{Domestika.countdownFake=new i,Domestika.countdownFake.init()}catch(o){console.error("[Domestika.countdownFake]",o)}},356:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=".js-link"}var t,n,i;return t=e,(n=[{key:"init",value:function(){(document.querySelectorAll(this.selector)||[]).forEach((function(e){var t=e.dataset.href||e.querySelector("[data-href]").dataset.href;t&&(e.style.cursor="pointer",e.addEventListener("click",(function(e){e.preventDefault(),window.location.href=t})))}))}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();try{Domestika.link=new i,Domestika.link.init()}catch(o){console.error("[Domestika.link]",o)}},36:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},37:function(e,t,n){var r=n(31),i=n(48);e.exports=n(28)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},38:function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.setIfUrlExist=t.sanitizeText=t.removeNode=t.removeHeadNode=t.rafAsync=t.isNumberInRange=t.isBase64Valid=t.insertStyle=t.insertScriptAsync=t.insertScript=t.hasSomeParentWithClass=t.hasSomeChildWithClass=t.getYearsForNow=t.getSeconds=t.getRequestConfiguration=t.getNextSibling=t.getMonthsNames=t.getMinutes=t.getLang=t.getHours=t.getDaysNumber=t.getDays=t.getAbbrMonthsNames=t.flattenMessages=t.decrypt=t.createID=t.convertTimestampToDate=t.convertSecondsToMinutes=t.convertDateToTimestamp=t.awaitForReCaptchaLoad=void 0;var s,a,u=p(n(15)),c=p(n(56)),l=p(n(213)),f=p(n(119)),d=p(n(245)),h=p(n(22));function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof r&&e[i]||e["@@iterator"];if(null==n)return;var o,s,a=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);u=!0);}catch(l){c=!0,s=l}finally{try{u||null==n.return||n.return()}finally{if(c)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return o(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return m="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},m(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.decrypt=function(e){return atob(e)};t.convertSecondsToMinutes=function(e){var t=e/60,n=Math.floor(t),r=60*(t-n);return{duration:e,minutes:n||null,seconds:Math.round(r)||null}};t.getDays=function(e){switch(!0){case 1===e:return I18n.t("datetime.distance_in_words.x_days.one");case e>1:return I18n.t("datetime.distance_in_words.x_days.other",{count:e});default:return 0}};t.getHours=function(e){switch(!0){case 1===e:return I18n.t("datetime.distance_in_words.x_hours.one");case e>1:return I18n.t("datetime.distance_in_words.x_hours.other",{count:e});default:return 0}};t.getMinutes=function(e){switch(!0){case 1===e:return I18n.t("datetime.distance_in_words.x_minutes.one");case e>1:return I18n.t("datetime.distance_in_words.x_minutes.other",{count:e});default:return 0}};t.getSeconds=function(e){switch(!0){case 1===e:return I18n.t("datetime.distance_in_words.x_seconds.one");case e>1:return I18n.t("datetime.distance_in_words.x_seconds.other",{count:e});default:return 0}};t.flattenMessages=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null===t?{}:(0,u.default)(t).reduce((function(r,i){var o=t[i],s=n?"".concat(n,".").concat(i):i;return"string"===typeof o?(0,c.default)(r,y({},s,o)):"undefined"!==typeof o&&(0,c.default)(r,e(o,s)),r}),{})};var b=null===(s=document.querySelector("body"))||void 0===s||null===(a=s.dataset)||void 0===a?void 0:a.locale;t.getLang=b;t.createID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return"".concat(e).concat(Math.floor(1e3*Math.random()+1))};t.hasSomeChildWithClass=function(e,t){return!(!e.classList||!e.classList.contains(t))||!!e.querySelector(".".concat(t))};t.hasSomeParentWithClass=function e(t,n){return!(!t.classList||!t.classList.contains(n))||t.parentNode&&e(t.parentNode,n)};t.getRequestConfiguration=function(e,t){var n=t;n&&"object"===m(n)||(n={});for(var r=e,i=0,o=0,s=(0,l.default)(n);o<s.length;o++){var a=v(s[o],2),u=a[0],c=a[1];0===i&&(r+="?"),0!==i&&(r+="&"),r+="".concat(u,"=").concat(c),i+=1}return{headers:{Accept:"text/html, */*; q=0.01","X-Requested-With":"XMLHttpRequest"},method:"GET",route:r}};t.getNextSibling=function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}};t.setIfUrlExist=function(e){return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)};t.getDaysNumber=function(){for(var e=[],t=1;t<=31;t+=1)e.push({value:t,label:t});return e};t.getMonthsNames=function(){return I18n.t("date.month_names")};t.getAbbrMonthsNames=function(){return I18n.t("date.abbr_month_names")};t.getYearsForNow=function(){for(var e=(new Date).getFullYear(),t=e-60,n=[],r=e;r>=t;r-=1)n.push({value:r,label:r});return n};t.isBase64Valid=function(e){return e.includes("base64")};var w=function(e,t,n){var r=(0,f.default)(e,10);return r>=t&&r<=n&&(0,d.default)(r)};t.isNumberInRange=w;t.convertDateToTimestamp=function(e,t,n){return w(e,0,31)&&w(t,0,12)&&w(n,1800,3e3)?new Date("".concat(n,"/").concat(t,"/").concat(e)).getTime()/1e3:null};t.convertTimestampToDate=function(e){var t=new Date(1e3*e);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}};var S=function(){return new h.default((function(e){requestAnimationFrame(e)}))};t.rafAsync=S;t.insertScript=function(e){var t=document.createElement("script");return t.src=e,t.async=!0,t.defer=!0,document.body.appendChild(t),t};t.insertScriptAsync=function(e){var t=e.url,n=e.crossOrigin,r=void 0===n?null:n;return new h.default((function(e,n){var i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,r&&(i.crossOrigin=r),i.onload=function(){return e(i)},i.onerror=function(e){return n(e.error)},document.body.appendChild(i)}))};t.insertStyle=function(e){var t=document.createElement("link");return t.href=e,t.rel="stylesheet",document.head.appendChild(t),t};t.removeNode=function(e){document.body.contains(e)&&document.body.removeChild(e)};t.removeHeadNode=function(e){document.head.contains(e)&&document.head.removeChild(e)};t.awaitForReCaptchaLoad=function e(){return void 0===window.grecaptcha?S().then((function(){return e()})):h.default.resolve(!0)};t.sanitizeText=function(e){return e?"".concat(e).replace(/[<>]/g,""):""}},39:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return ae})),n.d(t,"c",(function(){return fe})),n.d(t,"d",(function(){return ue})),n.d(t,"e",(function(){return ce})),n.d(t,"f",(function(){return le})),n.d(t,"g",(function(){return K}));var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var f="is",d="is not",h="contains",p="does not contain",v="less",g="less or equal",m="greater",y="greater or equal",b="version less",w="version less or equal",S="version greater",O="version greater or equal",k="set is",E="set is not",I="set contains",x="set does not contain",T="set contains any",C="set does not contain any",_="regex match",A="regex does not match",P=-862048943,j=461845907,M=function(e,t){void 0===t&&(t=0);for(var n=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return Uint8Array.from(t)}(e),r=n.length,i=r>>2,o=t,s=0;s<i;s++){var a=D(n,s<<2);o=N(a,o)}var u=i<<2,c=0;switch(r-u){case 3:c^=n[u+2]<<16,c^=n[u+1]<<8,c^=n[u],c=Math.imul(c,P),c=R(c,15),o^=c=Math.imul(c,j);break;case 2:c^=n[u+1]<<8,c^=n[u],c=Math.imul(c,P),c=R(c,15),o^=c=Math.imul(c,j);break;case 1:c^=n[u],c=Math.imul(c,P),c=R(c,15),o^=c=Math.imul(c,j)}return L(o^=r)>>>0},N=function(e,t){var n=e,r=t;return n=Math.imul(n,P),n=R(n,15),n=Math.imul(n,j),r=R(r^=n,13),(r=Math.imul(r,5))+-430675100|0},L=function(e){var t=e;return t^=t>>>16,t=Math.imul(t,-2048144789),t^=t>>>13,t=Math.imul(t,-1028477387),t^=t>>>16},R=function(e,t,n){return void 0===n&&(n=32),t>n&&(t%=n),(e<<t|(e&4294967295<<n-t>>>0)>>>0>>>n-t>>>0)>>>0},D=function(e,t){void 0===t&&(t=0);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return U(n)},U=function(e){return(-16777216&e)>>>24|(16711680&e)>>>8|(65280&e)<<8|(255&e)<<24},F=function(e,t){var n,r;if(t&&0!==t.length){try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!s||!e||"object"!==typeof e)return;e=e[s]}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e||void 0}},q="^".concat("(\\d+)\\.(\\d+)","(\\.").concat("(\\d+)").concat("(-(([-\\w]+\\.?)*))?",")?$"),B=function(){function e(e,t,n,r){void 0===r&&(r=void 0),this.major=e,this.minor=t,this.patch=n,this.preRelease=r}return e.parse=function(t){if(t){var n=new RegExp(q).exec(t);if(n){var r=Number(n[1]),i=Number(n[2]);if(!isNaN(r)&&!isNaN(i))return new e(r,i,Number(n[4])||0,n[5]||void 0)}}},e.prototype.compareTo=function(e){return this.major>e.major?1:this.major<e.major?-1:this.minor>e.minor?1:this.minor<e.minor?-1:this.patch>e.patch?1:this.patch<e.patch||this.preRelease&&!e.preRelease?-1:!this.preRelease&&e.preRelease?1:this.preRelease&&e.preRelease?this.preRelease>e.preRelease?1:this.preRelease<e.preRelease?-1:0:0},e}(),V=function(){function e(){}return e.prototype.evaluate=function(e,t){var n,r,i={},o={context:e,result:i};try{for(var s=u(t),a=s.next();!a.done;a=s.next()){var c=a.value,l=this.evaluateFlag(o,c);l&&(i[c.key]=l)}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.evaluateFlag=function(e,t){var n,r,i;try{for(var s=u(t.segments),a=s.next();!a.done;a=s.next()){var c=a.value;if(i=this.evaluateSegment(e,t,c)){var l=o(o(o({},t.metadata),c.metadata),i.metadata);i=o(o({},i),{metadata:l});break}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.evaluateSegment=function(e,t,n){var r,i,o,s;if(!n.conditions)return void 0!==(l=this.bucket(e,n))?t.variants[l]:void 0;try{for(var a=u(n.conditions),c=a.next();!c.done;c=a.next()){var l,f=c.value,d=!0;try{for(var h=(o=void 0,u(f)),p=h.next();!p.done;p=h.next()){var v=p.value;if(!(d=this.matchCondition(e,v)))break}}catch(g){o={error:g}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}if(d)return void 0!==(l=this.bucket(e,n))?t.variants[l]:void 0}}catch(m){r={error:m}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.matchCondition=function(e,t){var n=F(e,t.selector);if(n){if(this.isSetOperator(t.op)){var r=this.coerceStringArray(n);return!!r&&this.matchSet(r,t.op,t.values)}var i=this.coerceString(n);return void 0!==i&&this.matchString(i,t.op,t.values)}return this.matchNull(t.op,t.values)},e.prototype.getHash=function(e){return M(e)},e.prototype.bucket=function(e,t){var n,r,i,o;if(!t.bucket)return t.variant;var s=this.coerceString(F(e,t.bucket.selector));if(!s||0===s.length)return t.variant;var a="".concat(t.bucket.salt,"/").concat(s),c=this.getHash(a),l=c%100,f=Math.floor(c/100);try{for(var d=u(t.bucket.allocations),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.range[0],g=p.range[1];if(l>=v&&l<g)try{for(var m=(i=void 0,u(p.distributions)),y=m.next();!y.done;y=m.next()){var b=y.value,w=b.range[0],S=b.range[1];if(f>=w&&f<S)return b.variant}}catch(O){i={error:O}}finally{try{y&&!y.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}}}catch(k){n={error:k}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return t.variant},e.prototype.matchNull=function(e,t){var n=this.containsNone(t);switch(e){case f:case h:case v:case g:case m:case y:case b:case w:case S:case O:case k:case I:case T:return n;case d:case p:case x:case C:return!n;default:return!1}},e.prototype.matchSet=function(e,t,n){switch(t){case k:return this.setEquals(e,n);case E:return!this.setEquals(e,n);case I:return this.matchesSetContainsAll(e,n);case x:return!this.matchesSetContainsAll(e,n);case T:return this.matchesSetContainsAny(e,n);case C:return!this.matchesSetContainsAny(e,n);default:return!1}},e.prototype.matchString=function(e,t,n){var r=this;switch(t){case f:return this.matchesIs(e,n);case d:return!this.matchesIs(e,n);case h:return this.matchesContains(e,n);case p:return!this.matchesContains(e,n);case v:case g:case m:case y:return this.matchesComparable(e,t,n,(function(e){return r.parseNumber(e)}),this.comparator);case b:case w:case S:case O:return this.matchesComparable(e,t,n,(function(e){return B.parse(e)}),this.versionComparator);case _:return this.matchesRegex(e,n);case A:return!this.matchesRegex(e,n);default:return!1}},e.prototype.matchesIs=function(e,t){if(this.containsBooleans(t)){var n=e.toLowerCase();if("true"===n||"false"===n)return t.some((function(e){return e.toLowerCase()===n}))}return t.some((function(t){return e===t}))},e.prototype.matchesContains=function(e,t){var n,r;try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.toLowerCase().includes(s.toLowerCase()))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.matchesComparable=function(e,t,n,r,i){var o=this,s=r(e),a=n.map((function(e){return r(e)})).filter((function(e){return void 0!==e}));return void 0===s||0===a.length?n.some((function(n){return o.comparator(e,t,n)})):a.some((function(e){return i(s,t,e)}))},e.prototype.comparator=function(e,t,n){switch(t){case v:case b:return e<n;case g:case w:return e<=n;case m:case S:return e>n;case y:case O:return e>=n;default:return!1}},e.prototype.versionComparator=function(e,t,n){var r=e.compareTo(n);switch(t){case v:case b:return r<0;case g:case w:return r<=0;case m:case S:return r>0;case y:case O:return r>=0;default:return!1}},e.prototype.matchesRegex=function(e,t){return t.some((function(t){return Boolean(new RegExp(t).exec(e))}))},e.prototype.containsNone=function(e){return e.some((function(e){return"(none)"===e}))},e.prototype.containsBooleans=function(e){return e.some((function(e){switch(e.toLowerCase()){case"true":case"false":return!0;default:return!1}}))},e.prototype.parseNumber=function(e){var t;return null!==(t=Number(e))&&void 0!==t?t:void 0},e.prototype.coerceString=function(e){if(e)return"object"===typeof e?JSON.stringify(e):String(e)},e.prototype.coerceStringArray=function(e){var t=this;if(Array.isArray(e))return e.map((function(e){return t.coerceString(e)})).filter(Boolean);var n=String(e);try{var r=JSON.parse(n);return Array.isArray(r)?e.map((function(e){return t.coerceString(e)})).filter(Boolean):void 0}catch(i){return}},e.prototype.isSetOperator=function(e){switch(e){case k:case E:case I:case x:case T:case C:return!0;default:return!1}},e.prototype.setEquals=function(e,t){var n=new Set(e),r=new Set(t);return n.size===r.size&&l([],c(r),!1).every((function(e){return n.has(e)}))},e.prototype.matchesSetContainsAll=function(e,t){var n,r;if(e.length<t.length)return!1;try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(!this.matchesIs(s,e))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0},e.prototype.matchesSetContainsAny=function(e,t){var n,r;try{for(var i=u(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(this.matchesIs(s,e))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e}(),K=function(e,t){var n,r,i=o({},e),s=[],a=t||Object.keys(i);try{for(var f=u(a),d=f.next();!d.done;d=f.next()){var h=d.value,p=z(h,i);p&&s.push.apply(s,l([],c(p),!1))}}catch(v){n={error:v}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return s},z=function(e,t,n){var r,i;void 0===n&&(n=[]);var o=t[e];if(o){if(!o.dependencies||0===o.dependencies.length)return delete t[o.key],[o];n.push(o.key);var s=[],a=function(e){if(n.some((function(t){return t===e})))throw Error("Detected a cycle between flags ".concat(n));var r=z(e,t,n);r&&s.push.apply(s,l([],c(r),!1))};try{for(var f=u(o.dependencies),d=f.next();!d.done;d=f.next()){a(d.value)}}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return s.push(o),n.pop(),delete t[o.key],s}};const W="function"===typeof btoa,H="function"===typeof e,G=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),$=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})($),String.fromCharCode.bind(String)),J=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),X=e=>{let t,n,r,i,o="";const s=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(r=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=$[t>>18&63]+$[t>>12&63]+$[t>>6&63]+$[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},Z=W?e=>btoa(e):H?t=>e.from(t,"binary").toString("base64"):X,Q=H?t=>e.from(t).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Y.apply(null,e.subarray(n,n+4096)));return Z(t.join(""))},ee=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Y(192|t>>>6)+Y(128|63&t):Y(224|t>>>12&15)+Y(128|t>>>6&63)+Y(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Y(240|t>>>18&7)+Y(128|t>>>12&63)+Y(128|t>>>6&63)+Y(128|63&t)},te=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ne=e=>e.replace(te,ee),re=H?t=>e.from(t,"utf8").toString("base64"):G?e=>Q(G.encode(e)):e=>Z(ne(e)),ie=(e,t=!1)=>t?J(re(e)):re(e),oe=e=>ie(e,!0),se=oe;var ae=function(e){function t(n,r){var i=e.call(this,r)||this;return i.statusCode=n,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),ue=function(){function e(e,t,n){this.deploymentKey=e,this.serverUrl=t,this.httpClient=n}return e.prototype.getVariants=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i;return a(this,(function(o){switch(o.label){case 0:return n=se(JSON.stringify(e)),r={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":n},(null===t||void 0===t?void 0:t.flagKeys)&&(r["X-Amp-Exp-Flag-Keys"]=se(JSON.stringify(t.flagKeys))),(null===t||void 0===t?void 0:t.trackingOption)&&(r["X-Amp-Exp-Track"]=t.trackingOption),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/vardata?v=0"),method:"GET",headers:r,timeoutMillis:null===t||void 0===t?void 0:t.timeoutMillis})];case 1:if(200!=(i=o.sent()).status)throw new ae(i.status,"Fetch error response: status=".concat(i.status));return[2,JSON.parse(i.body)]}}))}))},e}(),ce=function(){function e(e,t,n){this.deploymentKey=e,this.serverUrl=t,this.httpClient=n}return e.prototype.getFlags=function(e){return s(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return t={Authorization:"Api-Key ".concat(this.deploymentKey)},(null===e||void 0===e?void 0:e.libraryName)&&(null===e||void 0===e?void 0:e.libraryVersion)&&(t["X-Amp-Exp-Library"]="".concat(e.libraryName,"/").concat(e.libraryVersion)),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags"),method:"GET",headers:t,timeoutMillis:null===e||void 0===e?void 0:e.timeoutMillis})];case 1:if(200!=(n=r.sent()).status)throw Error("Flags error response: status=".concat(n.status));return[2,JSON.parse(n.body).reduce((function(e,t){return e[t.key]=t,e}),{})]}}))}))},e}(),le="undefined"!==typeof globalThis?globalThis:r||self,fe=function(){function e(e,t){this.poller=void 0,this.action=e,this.ms=t}return e.prototype.start=function(){this.poller||(this.poller=le.setInterval(this.action,this.ms),this.action())},e.prototype.stop=function(){this.poller&&(le.clearInterval(this.poller),this.poller=void 0)},e}()}).call(this,n(249).Buffer,n(57))},40:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return c}));var r="-",i="AMP",o="".concat(i,"_unsent"),s="https://api2.amplitude.com/2/httpapi",a="https://api.eu.amplitude.com/2/httpapi",u="https://api2.amplitude.com/batch",c="https://api.eu.amplitude.com/batch"},41:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(r||(r={}))},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return{promise:e||Promise.resolve()}}},43:function(e,t,n){var r=n(61);e.exports=function(e){return Object(r(e))}},44:function(e,t,n){var r=n(45);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},45:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.send=function(e,t){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:if("undefined"===typeof fetch)throw new Error("FetchTransport is not supported");return n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,n)];case 1:return[4,(i=r.sent()).text()];case 2:o=r.sent();try{return[2,this.buildResponse(JSON.parse(o))]}catch(s){return[2,this.buildResponse({code:i.status})]}return[2]}}))}))},t}(n(306).a)},453:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(1),i=n(41),o=function(e){return void 0===e&&(e=0),((new Error).stack||"").split("\n").slice(2+e).map((function(e){return e.trim()}))},s=function(e){return function(){var t=Object(r.a)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},a=function(e,t){var n,i;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var o=Object(r.g)(t.split(".")),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(a in e))return;e=e[a]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e},u=function(e,t){return function(){var n,i,o={};try{for(var s=Object(r.g)(t),u=s.next();!u.done;u=s.next()){var c=u.value;o[c]=a(e,c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}},c=function(e,t,n,r,s){return void 0===s&&(s=null),function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=n(),l=c.logger,f=c.logLevel;if(f&&f<i.a.Debug||!f||!l)return e.apply(s,a);var d={type:"invoke public method",name:t,args:a,stacktrace:o(1),time:{start:(new Date).toISOString()},states:{}};r&&d.states&&(d.states.before=r());var h=e.apply(s,a);return h&&h.promise?h.promise.then((function(){r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=(new Date).toISOString()),l.debug(JSON.stringify(d,null,2))})):(r&&d.states&&(d.states.after=r()),d.time&&(d.time.end=(new Date).toISOString()),l.debug(JSON.stringify(d,null,2))),h}}},47:function(e,t,n){var r=n(111),i=n(74);e.exports=Object.keys||function(e){return r(e,i)}},48:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},49:function(e,t){e.exports=!0},5:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;"function"===typeof SuppressedError&&SuppressedError},50:function(e,t){e.exports={}},51:function(e,t,n){var r=n(31).f,i=n(36),o=n(18)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},52:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},53:function(e,t){t.f={}.propertyIsEnumerable},56:function(e,t,n){e.exports=n(215)},57:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},6:function(e,t,n){e.exports=n(175)},60:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},61:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},62:function(e,t){t.f=Object.getOwnPropertySymbols},64:function(e,t,n){var r=n(70),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAmplitudeParentProps=function(e,t){if(!e)throw Error("No parent selector found!");if(!t)throw Error("No Amplitude props to read!");var n=JSON.parse(e.dataset.amplitudeParentProps),o=JSON.parse(t),s=(0,r.default)(o.eventProperties,n);return(0,i.default)((0,r.default)(o,{eventProperties:s}))},t.readAmplitudeProps=function(e){if(!e)throw Error("No Amplitude props to read!");return JSON.parse(e)},t.trackAmplitudeEvents=function(e,t){if(!e)throw Error("No event to be tracked");Domestika.amplitude.trackEvent(e,t)};var r=o(n(56)),i=o(n(92));function o(e){return e&&e.__esModule?e:{default:e}}},66:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(){return"undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.ampIntegrationContext?globalThis.ampIntegrationContext:"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof e?e:void 0}}).call(this,n(57))},68:function(e,t,n){var r=n(60)("meta"),i=n(19),o=n(36),s=n(31).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(34)((function(){return u(Object.preventExtensions({}))})),l=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},7:function(e,t,n){e.exports=n(178)},70:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},71:function(e,t,n){var r=n(73)("keys"),i=n(60);e.exports=function(e){return r[e]||(r[e]=i(e))}},73:function(e,t,n){var r=n(9),i=n(12),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(49)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},74:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEventListener=o,t.trackMultipleComponents=t.trackComponent=void 0;var r=n(65),i=n(318);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if(!e)throw Error("The element is mandatory for registering an Event Listener");if(!t)throw Error("The callback function is mandatory for registering an Event Listener");e.addEventListener(n,t)}function s(e){o(e,(function(t){var n=e.dataset.amplitudeParentPropsSelector,o=e.dataset.amplitudeProps,s=e.dataset.gtmProps,a=[];s&&a.push((function(){return(0,i.trackGTMEvents)(s)})),o&&a.push((function(){if(n){var e=document.getElementById(n);o=(0,r.addAmplitudeParentProps)(e,o)}var t=(0,r.readAmplitudeProps)(o),i=t.eventName,s=t.eventProperties;(0,r.trackAmplitudeEvents)(i,s)})),a.length&&a.forEach((function(e){window.scheduler?window.scheduler.postTask(e,{priority:"background"}):e()}))}))}t.trackComponent=function(e){var t=e.selector,n=(e.category,e.action,e.label,e.childrenSelector),r=void 0===n?".js-track-event":n,i=(e.childrenDefaultCategory,e.childrenDefaultAction,document.querySelector(t));if(i){s(i);var o=i.querySelectorAll(r);o&&o.length&&o.forEach((function(e){s(e)}))}};t.trackMultipleComponents=function(e){e=e.split(",").map((function(e){return e+":not(.js-component-tracked)"})).join(",");var t=document.querySelectorAll(e);t&&t.forEach((function(e){s(e),e.classList.add("js-component-tracked")}))}},76:function(e,t,n){var r=n(19);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},77:function(e,t,n){t.f=n(18)},78:function(e,t,n){var r=n(44),i=n(128),o=n(129),s=n(26),a=n(64),u=n(130),c={},l={};(t=e.exports=function(e,t,n,f,d){var h,p,v,g,m=d?function(){return e}:u(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(h=a(e.length);h>b;b++)if((g=t?y(s(p=e[b])[0],p[1]):y(e[b]))===c||g===l)return g}else for(v=m.call(e);!(p=v.next()).done;)if((g=i(v,y,p.value,t))===c||g===l)return g}).BREAK=c,t.RETURN=l},79:function(e,t,n){var r=n(12),i=n(9),o=n(49),s=n(77),a=n(31).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},8:function(e,t,n){e.exports=n(221)},81:function(e,t,n){var r=n(19),i=n(12).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},82:function(e,t,n){var r=n(26),i=n(164),o=n(74),s=n(71)("IE_PROTO"),a=function(){},u=function(){var e,t=n(81)("iframe"),r=o.length;for(t.style.display="none",n(117).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},84:function(e,t,n){e.exports=n(37)},85:function(e,t,n){var r=n(111),i=n(74).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},88:function(e,t,n){"use strict";var r=n(162)(!0);n(108)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},89:function(e,t,n){var r=n(52);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},9:function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},90:function(e,t){},91:function(e,t,n){n(167);for(var r=n(12),i=n(37),o=n(50),s=n(18)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&i(f,s,c),o[c]=o.Array}},92:function(e,t,n){e.exports=n(217)},94:function(e,t,n){var r=n(53),i=n(48),o=n(32),s=n(76),a=n(36),u=n(110),c=Object.getOwnPropertyDescriptor;t.f=n(28)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},95:function(e,t,n){"use strict";n.r(t),n.d(t,"Application",(function(){return W})),n.d(t,"AttributeObserver",(function(){return v})),n.d(t,"Context",(function(){return C})),n.d(t,"Controller",(function(){return Q})),n.d(t,"ElementObserver",(function(){return p})),n.d(t,"IndexedMultimap",(function(){return O})),n.d(t,"Multimap",(function(){return S})),n.d(t,"StringMapObserver",(function(){return g})),n.d(t,"TokenListObserver",(function(){return k})),n.d(t,"ValueListObserver",(function(){return E})),n.d(t,"add",(function(){return m})),n.d(t,"defaultSchema",(function(){return z})),n.d(t,"del",(function(){return y})),n.d(t,"fetch",(function(){return b})),n.d(t,"prune",(function(){return w}));class r{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=function(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}(e);for(const n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const n=e.index,r=t.index;return n<r?-1:n>r?1:0}))}}class i{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:n,eventOptions:r}=e;return this.fetchEventListener(t,n,r)}fetchEventListener(e,t,n){const r=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,n);let o=r.get(i);return o||(o=this.createEventListener(e,t,n),r.set(i,o)),o}createEventListener(e,t,n){const i=new r(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const n=[e];return Object.keys(t).sort().forEach((e=>{n.push(`${t[e]?"":"!"}${e}`)})),n.join(":")}}const o=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function s(e){return"window"==e?window:"document"==e?document:void 0}function a(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}const l={a:e=>"click",button:e=>"click",form:e=>"submit",details:e=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:e=>"change",textarea:e=>"input"};function f(e){throw new Error(e)}function d(e){try{return JSON.parse(e)}catch(t){return e}}class h{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}invokeWithEvent(e){const{target:t,currentTarget:n}=e;try{const{params:r}=this.action,i=Object.assign(e,{params:r});this.method.call(this.controller,i),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(f){const{identifier:n,controller:r,element:i,index:o}=this,s={identifier:n,controller:r,element:i,index:o,event:e};this.context.handleError(f,`invoking action "${this.action}"`,s)}}willBeInvokedByEvent(e){const t=e.target;return this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class p{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){const n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class v{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new p(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}class g{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const n=this.delegate.getStringMapKeyForAttribute(e);if(null!=n){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);const r=this.element.getAttribute(e);if(this.stringMap.get(e)!=r&&this.stringMapValueChanged(r,n,t),null==r){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(n,e,t)}else this.stringMap.set(e,r)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}function m(e,t,n){b(e,t).add(n)}function y(e,t,n){b(e,t).delete(n),w(e,t)}function b(e,t){let n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function w(e,t){const n=e.get(t);null!=n&&0==n.size&&e.delete(t)}class S{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){m(this.valuesByKey,e,t)}delete(e,t){y(this.valuesByKey,e,t)}has(e,t){const n=this.valuesByKey.get(e);return null!=n&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,n])=>n.has(e))).map((([e,t])=>e))}}class O extends S{constructor(){super(),this.keysByValue=new Map}get values(){return Array.from(this.keysByValue.keys())}add(e,t){super.add(e,t),m(this.keysByValue,t,e)}delete(e,t){super.delete(e,t),y(this.keysByValue,t,e)}hasValue(e){return this.keysByValue.has(e)}getKeysForValue(e){const t=this.keysByValue.get(e);return t?Array.from(t):[]}}class k{constructor(e,t,n){this.attributeObserver=new v(e,t,this),this.delegate=n,this.tokensByElement=new S}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=function(e,t){const n=Math.max(e.length,t.length);return Array.from({length:n},((n,r)=>[e[r],t[r]]))}(t,n).findIndex((([e,t])=>{return r=t,!((n=e)&&r&&n.index==r.index&&n.content==r.content);var n,r}));return-1==r?[[],[]]:[t.slice(r),n.slice(r)]}readTokensForElement(e){const t=this.attributeName;return function(e,t,n){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,r)=>({element:t,attributeName:n,content:e,index:r})))}(e.getAttribute(t)||"",e,t)}}class E{constructor(e,t,n){this.tokenListObserver=new k(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(f){return{error:f}}}}class I{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new E(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new h(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e))),this.bindingsByAction.clear()}parseValueForToken(e){const t=class{constructor(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){const t=e.tagName.toLowerCase();if(t in l)return l[t](e)}(e)||f("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||f("missing identifier"),this.methodName=n.methodName||f("missing method name")}static forToken(e){return new this(e.element,e.index,function(e){const t=e.trim().match(o)||[];return{eventTarget:s(t[4]),eventName:t[2],eventOptions:t[9]?(n=t[9],n.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})):{},identifier:t[5],methodName:t[7]};var n}(e.content))}toString(){const e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}->${this.identifier}#${this.methodName}`}get params(){return this.eventTarget instanceof Element?this.getParamsFromEventTargetAttributes(this.eventTarget):{}}getParamsFromEventTargetAttributes(e){const t={},n=new RegExp(`^data-${this.identifier}-(.+)-param$`);return Array.from(e.attributes).forEach((({name:e,value:r})=>{const i=e.match(n),o=i&&i[1];o&&Object.assign(t,{[a(o)]:d(r)})})),t}get eventTargetName(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e}}.forToken(e);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class x{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new g(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}start(){this.stringMapObserver.start()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){const r=this.valueDescriptorNameMap[t];null!==e&&(null===n&&(n=r.writer(r.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){const r=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,r.writer(this.receiver[e]),n):this.invokeChangedCallback(e,r.writer(r.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:n,writer:r}of this.valueDescriptors)void 0==n||this.controller.data.has(e)||this.invokeChangedCallback(t,r(n),void 0)}invokeChangedCallback(e,t,n){const r=`${e}Changed`,i=this.receiver[r];if("function"==typeof i){const r=this.valueDescriptorNameMap[e],o=r.reader(t);let s=n;n&&(s=r.reader(n)),i.call(this.receiver,o,s)}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const n=this.valueDescriptorMap[t];e[n.name]=n})),e}hasValue(e){const t=`has${u(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}}class T{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new S}start(){this.tokenListObserver||(this.tokenListObserver=new k(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class C{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:n,controller:r,element:i}=this;t=Object.assign({identifier:n,controller:r,element:i},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new I(this,this.dispatcher),this.valueObserver=new x(this,this.controller),this.targetObserver=new T(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(f){this.handleError(f,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(f){this.handleError(f,"connecting controller")}}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(f){this.handleError(f,"disconnecting controller")}this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){const{identifier:r,controller:i,element:o}=this;n=Object.assign({identifier:r,controller:i,element:o},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}invokeControllerMethod(e,...t){const n=this.controller;"function"==typeof n[e]&&n[e](...t)}}function _(e,t){const n=P(e);return Array.from(n.reduce(((e,n)=>(function(e,t){const n=e[t];return Array.isArray(n)?n:[]}(n,t).forEach((t=>e.add(t))),e)),new Set))}function A(e,t){return P(e).reduce(((e,n)=>(e.push(...function(e,t){const n=e[t];return n?Object.keys(n).map((e=>[e,n[e]])):[]}(n,t)),e)),[])}function P(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function j(e){return function(e,t){const n=N(e),r=function(e,t){return M(t).reduce(((n,r)=>{const i=function(e,t,n){const r=Object.getOwnPropertyDescriptor(e,n);if(!r||!("value"in r)){const e=Object.getOwnPropertyDescriptor(t,n).value;return r&&(e.get=r.get||e.get,e.set=r.set||e.set),e}}(e,t,r);return i&&Object.assign(n,{[r]:i}),n}),{})}(e.prototype,t);return Object.defineProperties(n.prototype,r),n}(e,function(e){return _(e,"blessings").reduce(((t,n)=>{const r=n(e);for(const e in r){const n=t[e]||{};t[e]=Object.assign(n,r[e])}return t}),{})}(e))}const M="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,N=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(f){return e=>class extends e{}}})();class L{constructor(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:j(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new C(this,e),this.contextsByScope.set(e,t)),t}}class R{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return t.match(/[^\s]+/g)||[]}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class D{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${c(e)}`}}class U{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let r=this.warnedKeysByObject.get(e);r||(r=new Set,this.warnedKeysByObject.set(e,r)),r.has(t)||(r.add(t),this.logger.warn(n,e))}}function F(e,t){return`[${e}~="${t}"]`}class q{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return F(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return F(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:n}=this,r=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${r}="${n}.${t}" with ${i}="${t}". The ${r} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class B{constructor(e,t,n,r){this.targets=new q(this),this.classes=new R(this),this.data=new D(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new U(r)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return F(this.schema.controllerAttribute,this.identifier)}}class V{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new E(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:n}=e,r=this.fetchScopesByIdentifierForElement(t);let i=r.get(n);return i||(i=this.delegate.createScopeForElementAndIdentifier(t,n),r.set(n,i)),i}elementMatchedValue(e,t){const n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class K{constructor(e){this.application=e,this.scopeObserver=new V(this.element,this.schema,this),this.scopesByIdentifier=new S,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new L(this.application,e);this.connectModule(t)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((t=>t.element==e))}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new B(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}}const z={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`};class W{constructor(e=document.documentElement,t=z){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,n={})=>{this.debug&&this.logFormattedMessage(e,t,n)},this.element=e,this.schema=t,this.dispatcher=new i(this),this.router=new K(this)}static start(e,t){const n=new W(e,t);return n.start(),n}async start(){await new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){t.shouldLoad&&this.load({identifier:e,controllerConstructor:t})}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.loadDefinition(e)))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var r;this.logger.error("%s\n\n%o\n\n%o",t,e,n),null===(r=window.onerror)||void 0===r||r.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function H([e,t]){return function(e,t){const n=`${c(e)}-value`,r=function(e){const t=function(e){const t=G(e.type);if(t){const n=$(e.default);if(t!==n)throw new Error(`Type "${t}" must match the type of the default value. Given default value: "${e.default}" as "${n}"`);return t}}(e),n=$(e),r=G(e),i=t||n||r;if(i)return i;throw new Error(`Unknown value type "${e}"`)}(t);return{type:r,key:n,name:a(n),get defaultValue(){return function(e){const t=G(e);if(t)return Y[t];const n=e.default;return void 0!==n?n:e}(t)},get hasCustomDefaultValue(){return void 0!==$(t)},reader:J[r],writer:X[r]||X.default}}(e,t)}function G(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function $(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const Y={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},J={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError("Expected array");return t},boolean:e=>!("0"==e||"false"==e),number:e=>Number(e),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Expected object");return t},string:e=>e},X={default:function(e){return`${e}`},array:Z,object:Z};function Z(e){return JSON.stringify(e)}class Q{constructor(e){this.context=e}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:o=!0}={}){const s=new CustomEvent(r?`${r}:${e}`:e,{detail:n,bubbles:i,cancelable:o});return t.dispatchEvent(s),s}}Q.blessings=[function(e){return _(e,"classes").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Class`]:{get(){const{classes:e}=this;if(e.has(n))return e.get(n);{const t=e.getAttributeName(n);throw new Error(`Missing attribute "${t}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${u(n)}Class`]:{get(){return this.classes.has(n)}}});var n}),{})},function(e){return _(e,"targets").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Target`]:{get(){const e=this.targets.find(n);if(e)return e;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${u(n)}Target`]:{get(){return this.targets.has(n)}}});var n}),{})},function(e){const t=A(e,"values"),n={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const n=H(t),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e){const t=H(e),{key:n,name:r,reader:i,writer:o}=t;return{[r]:{get(){const e=this.data.get(n);return null!==e?i(e):t.defaultValue},set(e){void 0===e?this.data.delete(n):this.data.set(n,o(e))}},[`has${u(r)}`]:{get(){return this.data.has(n)||t.hasCustomDefaultValue}}}}(t))),n)}],Q.targets=[],Q.values={}},97:function(e,t,n){"use strict";var r=n(45);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},98:function(e,t,n){var r=n(14),i=n(9),o=n(34);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}}});
//# sourceMappingURL=page-2aa3a5ed0528b25aabef.js.map
</script>

</body>
</html>
