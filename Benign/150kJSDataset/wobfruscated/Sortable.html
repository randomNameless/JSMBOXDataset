<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Sortable.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG3YGAgAAmfwBBAQt/AEEMC38AQRILfwBBGAt/AEEeC38AQSQLfwBBLgt/AEE8C38AQcIAC38AQcQAC38AQc4AC38AQdIAC38AQdoAC38AQeAAC38AQegAC38AQfAAC38AQfgAC38AQYABC38AQYoBC38AQZIBC38AQZ4BC38AQaQBC38AQbABC38AQboBC38AQcABC38AQcQBC38AQcgBC38AQdABC38AQdwBC38AQeABC38AQeQBC38AQeYBC38AQewBC38AQfIBC38AQfQBC38AQYICC38AQYgCC38AQZQCCwfWgoCAACcGbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAZkYXRhMTcDEQZkYXRhMTgDEgZkYXRhMTkDEwZkYXRhMjADFAZkYXRhMjEDFQZkYXRhMjIDFgZkYXRhMjMDFwZkYXRhMjQDGAZkYXRhMjUDGQZkYXRhMjYDGgZkYXRhMjcDGwZkYXRhMjgDHAZkYXRhMjkDHQZkYXRhMzADHgZkYXRhMzEDHwZkYXRhMzIDIAZkYXRhMzMDIQZkYXRhMzQDIgZkYXRhMzUDIwZkYXRhMzYDJAZkYXRhMzcDJQvBg4CAACYAQQELCVNvcnRhYmxlAABBDAsEMS41AABBEgsFQmFzZQAAQRgLBUl0ZXIAAEEeCwRET00AAEEkCwlQb3NpdGlvbgAAQS4LDERyYWdBbmREcm9wAABBPAsFQk9EWQAAQcIACwEAAEHEAAsJc29ydGFibGUAAEHOAAsDaWQAAEHSAAsGc3RhcnQAAEHaAAsEZW5kAABB4AALB2JlZm9yZQAAQegACwdoaWRkZW4AAEHwAAsGYWZ0ZXIAAEH4AAsHaGlkZGVuAABBgAELCXZlcnRpY2FsAABBigELB2hlaWdodAAAQZIBCwtkcm9wbWFya2VyAABBngELBERJVgAAQaQBCwtkcm9wbWFya2VyAABBsAELCWFic29sdXRlAABBugELBWJvZHkAAEHAAQsDcHgAAEHEAQsDcHgAAEHIAQsGYWZ0ZXIAAEHQAQsLaG9yaXpvbnRhbAAAQdwBCwNweAAAQeABCwNweAAAQeQBCwEAAEHmAQsEJTVCAABB7AELBCU1RAAAQfIBCwEAAEH0AQsMJTVCaWQlNUQlM0QAAEGCAgsEJTI2AABBiAILCiU1QiU1RCUzRAAAQZQCCwQlMjYA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
(() => {
    const __callInstance46 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                MochiKit.Base._module(lS(0, 0), lS(0, 1), [
                    lS(0, 2),
                    lS(0, 3),
                    lS(0, 4),
                    lS(0, 5),
                    lS(0, 6)
                ]);
            }
        }
    });
    const __exports = __callInstance46.exports;
    return __exports.data();
})();
(() => {
    const __callInstance45 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                MochiKit.Base.update(MochiKit.Sortable, {
                    __export__: false,
                    sortables: {},
                    _findRootElement: function (element) {
                        while (element.tagName.toUpperCase() != lS(0, 7)) {
                            if (element.id && MochiKit.Sortable.sortables[element.id]) {
                                return element;
                            }
                            element = element.parentNode;
                        }
                    },
                    _createElementId: function (element) {
                        (() => {
                            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            var d = MochiKit.DOM;
                                            var id;
                                            var count = 1;
                                            (() => {
                                                const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return d.getElement(id = lS(0, 9) + count) != null ? 1 : 0;
                                                        },
                                                        update: () => {
                                                        },
                                                        body: () => {
                                                            {
                                                                count += 1;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance0.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance44 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            d.setNodeAttribute(element, lS(0, 10), id);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance44.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance0.exports;
                            return __exports.data(element.id == null || element.id == lS(0, 8) ? 1 : 0);
                        })();
                    },
                    options: function (element) {
                        element = MochiKit.Sortable._findRootElement(MochiKit.DOM.getElement(element));
                        if (!element) {
                            return;
                        }
                        return MochiKit.Sortable.sortables[element.id];
                    },
                    destroy: function (element) {
                        var s = MochiKit.Sortable.options(element);
                        var b = MochiKit.Base;
                        var d = MochiKit.DragAndDrop;
                        (() => {
                            const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance43 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            MochiKit.Signal.disconnect(s.startHandle);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance43.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance42 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            MochiKit.Signal.disconnect(s.endHandle);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance42.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance41 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            b.map(function (dr) {
                                                                (() => {
                                                                    const __callInstance40 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                d.Droppables.remove(dr);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance40.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }, s.droppables);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance41.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance39 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            b.map(function (dr) {
                                                                (() => {
                                                                    const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                dr.destroy();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance38.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }, s.draggables);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance39.exports;
                                                return __exports.data();
                                            })();
                                            delete MochiKit.Sortable.sortables[s.element.id];
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance1.exports;
                            return __exports.data(s ? 1 : 0);
                        })();
                    },
                    create: function (element, options) {
                        element = MochiKit.DOM.getElement(element);
                        var self = MochiKit.Sortable;
                        (() => {
                            const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        self._createElementId(element);
                                    }
                                }
                            });
                            const __exports = __callInstance37.exports;
                            return __exports.data();
                        })();
                        options = MochiKit.Base.update({
                            element: element,
                            tag: 'li',
                            dropOnEmpty: false,
                            tree: false,
                            treeTag: 'ul',
                            overlap: 'vertical',
                            constraint: 'vertical',
                            containment: [element],
                            handle: false,
                            only: false,
                            hoverclass: null,
                            ghosting: false,
                            scroll: false,
                            scrollSensitivity: 20,
                            scrollSpeed: 15,
                            format: /^[^_]*_(.*)$/,
                            onChange: MochiKit.Base.noop,
                            onUpdate: MochiKit.Base.noop,
                            accept: null
                        }, options);
                        (() => {
                            const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        self.destroy(element);
                                    }
                                }
                            });
                            const __exports = __callInstance36.exports;
                            return __exports.data();
                        })();
                        var options_for_draggable = {
                            revert: true,
                            ghosting: options.ghosting,
                            scroll: options.scroll,
                            scrollSensitivity: options.scrollSensitivity,
                            scrollSpeed: options.scrollSpeed,
                            constraint: options.constraint,
                            handle: options.handle
                        };
                        (() => {
                            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            options_for_draggable.starteffect = options.starteffect;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance2.exports;
                            return __exports.data(options.starteffect ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            options_for_draggable.reverteffect = options.reverteffect;
                                        }
                                    },
                                    impFunc2: () => {
                                        (() => {
                                            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                                env: {
                                                    impFunc1: () => {
                                                        {
                                                            options_for_draggable.reverteffect = function (innerelement) {
                                                                innerelement.style.top = 0;
                                                                innerelement.style.left = 0;
                                                            };
                                                        }
                                                    },
                                                    impFunc2: () => {
                                                    }
                                                }
                                            });
                                            const __exports = __ifInstance4.exports;
                                            return __exports.data(options.ghosting ? 1 : 0);
                                        })();
                                    }
                                }
                            });
                            const __exports = __ifInstance3.exports;
                            return __exports.data(options.reverteffect ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            options_for_draggable.endeffect = options.endeffect;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance5.exports;
                            return __exports.data(options.endeffect ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            options_for_draggable.zindex = options.zindex;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance6.exports;
                            return __exports.data(options.zindex ? 1 : 0);
                        })();
                        var options_for_droppable = {
                            overlap: options.overlap,
                            containment: options.containment,
                            hoverclass: options.hoverclass,
                            onhover: self.onHover,
                            tree: options.tree,
                            accept: options.accept
                        };
                        var options_for_tree = {
                            onhover: self.onEmptyHover,
                            overlap: options.overlap,
                            containment: options.containment,
                            hoverclass: options.hoverclass,
                            accept: options.accept
                        };
                        (() => {
                            const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        MochiKit.DOM.removeEmptyTextNodes(element);
                                    }
                                }
                            });
                            const __exports = __callInstance35.exports;
                            return __exports.data();
                        })();
                        options.draggables = [];
                        options.droppables = [];
                        (() => {
                            const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            new MochiKit.DragAndDrop.Droppable(element, options_for_tree);
                                            (() => {
                                                const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            options.droppables.push(element);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance34.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance7.exports;
                            return __exports.data(options.dropOnEmpty || options.tree ? 1 : 0);
                        })();
                        (() => {
                            const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        MochiKit.Base.map(function (e) {
                                            var handle = options.handle ? MochiKit.DOM.getFirstElementByTagAndClassName(null, options.handle, e) : e;
                                            (() => {
                                                const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            options.draggables.push(new MochiKit.DragAndDrop.Draggable(e, MochiKit.Base.update(options_for_draggable, { handle: handle })));
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance32.exports;
                                                return __exports.data();
                                            })();
                                            new MochiKit.DragAndDrop.Droppable(e, options_for_droppable);
                                            (() => {
                                                const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                e.treeNode = element;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance8.exports;
                                                return __exports.data(options.tree ? 1 : 0);
                                            })();
                                            (() => {
                                                const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            options.droppables.push(e);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance31.exports;
                                                return __exports.data();
                                            })();
                                        }, self.findElements(element, options) || []);
                                    }
                                }
                            });
                            const __exports = __callInstance33.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            MochiKit.Base.map(function (e) {
                                                                new MochiKit.DragAndDrop.Droppable(e, options_for_tree);
                                                                e.treeNode = element;
                                                                (() => {
                                                                    const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                options.droppables.push(e);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance29.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }, self.findTreeElements(element, options) || []);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance30.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance9.exports;
                            return __exports.data(options.tree ? 1 : 0);
                        })();
                        self.sortables[element.id] = options;
                        options.lastValue = self.serialize(element);
                        options.startHandle = MochiKit.Signal.connect(MochiKit.DragAndDrop.Draggables, lS(0, 11), MochiKit.Base.partial(self.onStart, element));
                        options.endHandle = MochiKit.Signal.connect(MochiKit.DragAndDrop.Draggables, lS(0, 12), MochiKit.Base.partial(self.onEnd, element));
                    },
                    onStart: function (element, draggable) {
                        var self = MochiKit.Sortable;
                        var options = self.options(element);
                        options.lastValue = self.serialize(options.element);
                    },
                    onEnd: function (element, draggable) {
                        var self = MochiKit.Sortable;
                        (() => {
                            const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        self.unmark();
                                    }
                                }
                            });
                            const __exports = __callInstance28.exports;
                            return __exports.data();
                        })();
                        var options = self.options(element);
                        (() => {
                            const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            options.onUpdate(options.element);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance27.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance10.exports;
                            return __exports.data(options.lastValue != self.serialize(options.element) ? 1 : 0);
                        })();
                    },
                    findElements: function (element, options) {
                        return MochiKit.Sortable.findChildren(element, options.only, options.tree, options.tag);
                    },
                    findTreeElements: function (element, options) {
                        return MochiKit.Sortable.findChildren(element, options.only, options.tree ? true : false, options.treeTag);
                    },
                    findChildren: function (element, only, recursive, tagName) {
                        if (!element.hasChildNodes()) {
                            return null;
                        }
                        tagName = tagName.toUpperCase();
                        (() => {
                            const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            only = MochiKit.Base.flattenArray([only]);
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance11.exports;
                            return __exports.data(only ? 1 : 0);
                        })();
                        var elements = [];
                        (() => {
                            const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        MochiKit.Base.map(function (e) {
                                            if (e.tagName && e.tagName.toUpperCase() == tagName && (!only || MochiKit.Iter.some(only, function (c) {
                                                    return MochiKit.DOM.hasElementClass(e, c);
                                                }))) {
                                                (() => {
                                                    const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                elements.push(e);
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance25.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                            (() => {
                                                const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                var grandchildren = MochiKit.Sortable.findChildren(e, only, recursive, tagName);
                                                                (() => {
                                                                    const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    elements = elements.concat(grandchildren);
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance13.exports;
                                                                    return __exports.data(grandchildren && grandchildren.length > 0 ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance12.exports;
                                                return __exports.data(recursive ? 1 : 0);
                                            })();
                                        }, element.childNodes);
                                    }
                                }
                            });
                            const __exports = __callInstance26.exports;
                            return __exports.data();
                        })();
                        return elements;
                    },
                    onHover: function (element, dropon, overlap) {
                        if (MochiKit.DOM.isChildNode(dropon, element)) {
                            return;
                        }
                        var self = MochiKit.Sortable;
                        if (overlap > 0.33 && overlap < 0.66 && self.options(dropon).tree) {
                            return;
                        } else
                            (() => {
                                const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self.mark(dropon, lS(0, 13));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance24.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    var oldParentNode = element.parentNode;
                                                                    element.style.visibility = lS(0, 14);
                                                                    (() => {
                                                                        const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    dropon.parentNode.insertBefore(element, dropon);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance23.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __ifInstance16 = new WebAssembly.Instance(__ifWasmModule, {
                                                                            env: {
                                                                                impFunc1: () => {
                                                                                    {
                                                                                        (() => {
                                                                                            const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                env: {
                                                                                                    impFunc: () => {
                                                                                                        self.options(oldParentNode).onChange(element);
                                                                                                    }
                                                                                                }
                                                                                            });
                                                                                            const __exports = __callInstance22.exports;
                                                                                            return __exports.data();
                                                                                        })();
                                                                                    }
                                                                                },
                                                                                impFunc2: () => {
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __ifInstance16.exports;
                                                                        return __exports.data(dropon.parentNode != oldParentNode ? 1 : 0);
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    self.options(dropon.parentNode).onChange(element);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance21.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance15.exports;
                                                    return __exports.data(dropon.previousSibling != element ? 1 : 0);
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                (() => {
                                                    const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self.mark(dropon, lS(0, 15));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance20.exports;
                                                    return __exports.data();
                                                })();
                                                var nextElement = dropon.nextSibling || null;
                                                (() => {
                                                    const __ifInstance17 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    var oldParentNode = element.parentNode;
                                                                    element.style.visibility = lS(0, 16);
                                                                    (() => {
                                                                        const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    dropon.parentNode.insertBefore(element, nextElement);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance19.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __ifInstance18 = new WebAssembly.Instance(__ifWasmModule, {
                                                                            env: {
                                                                                impFunc1: () => {
                                                                                    {
                                                                                        (() => {
                                                                                            const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                env: {
                                                                                                    impFunc: () => {
                                                                                                        self.options(oldParentNode).onChange(element);
                                                                                                    }
                                                                                                }
                                                                                            });
                                                                                            const __exports = __callInstance18.exports;
                                                                                            return __exports.data();
                                                                                        })();
                                                                                    }
                                                                                },
                                                                                impFunc2: () => {
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __ifInstance18.exports;
                                                                        return __exports.data(dropon.parentNode != oldParentNode ? 1 : 0);
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    self.options(dropon.parentNode).onChange(element);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance17.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance17.exports;
                                                    return __exports.data(nextElement != element ? 1 : 0);
                                                })();
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance14.exports;
                                return __exports.data(overlap > 0.5 ? 1 : 0);
                            })();
                    },
                    _offsetSize: function (element, type) {
                        if (type == lS(0, 17) || type == lS(0, 18)) {
                            return element.offsetHeight;
                        } else {
                            return element.offsetWidth;
                        }
                    },
                    onEmptyHover: function (element, dropon, overlap) {
                        var oldParentNode = element.parentNode;
                        var self = MochiKit.Sortable;
                        var droponOptions = self.options(dropon);
                        if (!MochiKit.DOM.isChildNode(dropon, element)) {
                            var index;
                            var children = self.findElements(dropon, {
                                tag: droponOptions.tag,
                                only: droponOptions.only
                            });
                            var child = null;
                            if (children) {
                                var offset = self._offsetSize(dropon, droponOptions.overlap) * (1 - overlap);
                                for (index = 0; index < children.length; index += 1) {
                                    if (offset - self._offsetSize(children[index], droponOptions.overlap) >= 0) {
                                        offset -= self._offsetSize(children[index], droponOptions.overlap);
                                    } else if (offset - self._offsetSize(children[index], droponOptions.overlap) / 2 >= 0) {
                                        child = index + 1 < children.length ? children[index + 1] : null;
                                        break;
                                    } else {
                                        child = children[index];
                                        break;
                                    }
                                }
                            }
                            (() => {
                                const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            dropon.insertBefore(element, child);
                                        }
                                    }
                                });
                                const __exports = __callInstance16.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            self.options(oldParentNode).onChange(element);
                                        }
                                    }
                                });
                                const __exports = __callInstance15.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            droponOptions.onChange(element);
                                        }
                                    }
                                });
                                const __exports = __callInstance14.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    unmark: function () {
                        var m = MochiKit.Sortable._marker;
                        (() => {
                            const __ifInstance19 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            MochiKit.Style.hideElement(m);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance13.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance19.exports;
                            return __exports.data(m ? 1 : 0);
                        })();
                    },
                    mark: function (dropon, position) {
                        var d = MochiKit.DOM;
                        var self = MochiKit.Sortable;
                        var sortable = self.options(dropon.parentNode);
                        if (sortable && !sortable.ghosting) {
                            return;
                        }
                        (() => {
                            const __ifInstance20 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            self._marker = d.getElement(lS(0, 19)) || document.createElement(lS(0, 20));
                                            (() => {
                                                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            MochiKit.Style.hideElement(self._marker);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance12.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            d.addElementClass(self._marker, lS(0, 21));
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance11.exports;
                                                return __exports.data();
                                            })();
                                            self._marker.style.position = lS(0, 22);
                                            (() => {
                                                const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            document.getElementsByTagName(lS(0, 23)).item(0).appendChild(self._marker);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance10.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance20.exports;
                            return __exports.data(!self._marker ? 1 : 0);
                        })();
                        var offsets = MochiKit.Position.cumulativeOffset(dropon);
                        self._marker.style.left = offsets.x + lS(0, 24);
                        self._marker.style.top = offsets.y + lS(0, 25);
                        (() => {
                            const __ifInstance21 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __ifInstance22 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                self._marker.style.left = offsets.x + dropon.clientWidth + lS(0, 28);
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                self._marker.style.top = offsets.y + dropon.clientHeight + lS(0, 29);
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance22.exports;
                                                return __exports.data(sortable.overlap == lS(0, 27) ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance21.exports;
                            return __exports.data(position == lS(0, 26) ? 1 : 0);
                        })();
                        (() => {
                            const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        MochiKit.Style.showElement(self._marker);
                                    }
                                }
                            });
                            const __exports = __callInstance9.exports;
                            return __exports.data();
                        })();
                    },
                    _tree: function (element, options, parent) {
                        var self = MochiKit.Sortable;
                        var children = self.findElements(element, options) || [];
                        for (var i = 0; i < children.length; ++i) {
                            var match = children[i].id.match(options.format);
                            if (!match) {
                                continue;
                            }
                            var child = {
                                id: encodeURIComponent(match ? match[1] : null),
                                element: element,
                                parent: parent,
                                children: [],
                                position: parent.children.length,
                                container: self._findChildrenElement(children[i], options.treeTag.toUpperCase())
                            };
                            (() => {
                                const __ifInstance23 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self._tree(child.container, options, child);
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance8.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance23.exports;
                                return __exports.data(child.container ? 1 : 0);
                            })();
                            (() => {
                                const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            parent.children.push(child);
                                        }
                                    }
                                });
                                const __exports = __callInstance7.exports;
                                return __exports.data();
                            })();
                        }
                        return parent;
                    },
                    _findChildrenElement: function (element, containerTag) {
                        if (element && element.hasChildNodes) {
                            containerTag = containerTag.toUpperCase();
                            for (var i = 0; i < element.childNodes.length; ++i) {
                                if (element.childNodes[i].tagName.toUpperCase() == containerTag) {
                                    return element.childNodes[i];
                                }
                            }
                        }
                        return null;
                    },
                    tree: function (element, options) {
                        element = MochiKit.DOM.getElement(element);
                        var sortableOptions = MochiKit.Sortable.options(element);
                        options = MochiKit.Base.update({
                            tag: sortableOptions.tag,
                            treeTag: sortableOptions.treeTag,
                            only: sortableOptions.only,
                            name: element.id,
                            format: sortableOptions.format
                        }, options || {});
                        var root = {
                            id: null,
                            parent: null,
                            children: new Array(),
                            container: element,
                            position: 0
                        };
                        return MochiKit.Sortable._tree(element, options, root);
                    },
                    setSequence: function (element, newSequence, options) {
                        var self = MochiKit.Sortable;
                        var b = MochiKit.Base;
                        element = MochiKit.DOM.getElement(element);
                        options = b.update(self.options(element), options || {});
                        var nodeMap = {};
                        (() => {
                            const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b.map(function (n) {
                                            var m = n.id.match(options.format);
                                            (() => {
                                                const __ifInstance24 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                nodeMap[m[1]] = [
                                                                    n,
                                                                    n.parentNode
                                                                ];
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance24.exports;
                                                return __exports.data(m ? 1 : 0);
                                            })();
                                            (() => {
                                                const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            n.parentNode.removeChild(n);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance5.exports;
                                                return __exports.data();
                                            })();
                                        }, self.findElements(element, options));
                                    }
                                }
                            });
                            const __exports = __callInstance6.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b.map(function (ident) {
                                            var n = nodeMap[ident];
                                            (() => {
                                                const __ifInstance25 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                n[1].appendChild(n[0]);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance3.exports;
                                                                    return __exports.data();
                                                                })();
                                                                delete nodeMap[ident];
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance25.exports;
                                                return __exports.data(n ? 1 : 0);
                                            })();
                                        }, newSequence);
                                    }
                                }
                            });
                            const __exports = __callInstance4.exports;
                            return __exports.data();
                        })();
                    },
                    _constructIndex: function (node) {
                        var index = lS(0, 30);
                        do {
                            (() => {
                                const __ifInstance26 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                index = lS(0, 31) + node.position + lS(0, 32) + index;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance26.exports;
                                return __exports.data(node.id ? 1 : 0);
                            })();
                        } while ((node = node.parent) != null);
                        return index;
                    },
                    sequence: function (element, options) {
                        element = MochiKit.DOM.getElement(element);
                        var self = MochiKit.Sortable;
                        var options = MochiKit.Base.update(self.options(element), options || {});
                        return MochiKit.Base.map(function (item) {
                            return item.id.match(options.format) ? item.id.match(options.format)[1] : lS(0, 33);
                        }, MochiKit.DOM.getElement(self.findElements(element, options) || []));
                    },
                    serialize: function (element, options) {
                        element = MochiKit.DOM.getElement(element);
                        var self = MochiKit.Sortable;
                        options = MochiKit.Base.update(self.options(element), options || {});
                        var name = encodeURIComponent(options.name || element.id);
                        if (options.tree) {
                            return MochiKit.Base.flattenArray(MochiKit.Base.map(function (item) {
                                return [name + self._constructIndex(item) + lS(0, 34) + encodeURIComponent(item.id)].concat(item.children.map(arguments.callee));
                            }, self.tree(element, options).children)).join(lS(0, 35));
                        } else {
                            return MochiKit.Base.map(function (item) {
                                return name + lS(0, 36) + encodeURIComponent(item);
                            }, self.sequence(element, options)).join(lS(0, 37));
                        }
                    }
                });
            }
        }
    });
    const __exports = __callInstance45.exports;
    return __exports.data();
})();
MochiKit.Sortable.Sortable = MochiKit.Sortable;
MochiKit.Sortable.__new__ = function () {
    (() => {
        const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    MochiKit.Base.nameFunctions(this);
                }
            }
        });
        const __exports = __callInstance2.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                MochiKit.Sortable.__new__();
            }
        }
    });
    const __exports = __callInstance1.exports;
    return __exports.data();
})();
(() => {
    const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                MochiKit.Base._exportSymbols(this, MochiKit.Sortable);
            }
        }
    });
    const __exports = __callInstance0.exports;
    return __exports.data();
})();</script>
</body>
</html>
