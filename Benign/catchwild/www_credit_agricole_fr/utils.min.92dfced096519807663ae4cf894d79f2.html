<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>utils.min.92dfced096519807663ae4cf894d79f2.html</title>
</head>
<body>

<script>
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory();else{var g=window.Granite=window.Granite||{};g.Sling=factory()}})(function(){return{SELECTOR_INFINITY:".infinity",CHARSET:"_charset_",STATUS:":status",STATUS_BROWSER:"browser",OPERATION:":operation",OPERATION_DELETE:"delete",OPERATION_MOVE:"move",DELETE_SUFFIX:"@Delete",TYPEHINT_SUFFIX:"@TypeHint",COPY_SUFFIX:"@CopyFrom",MOVE_SUFFIX:"@MoveFrom",ORDER:":order",REPLACE:":replace",DESTINATION:":dest",SAVE_PARAM_PREFIX:":saveParamPrefix",
IGNORE_PARAM:":ignore",REQUEST_LOGIN_PARAM:"sling:authRequestLogin",LOGIN_URL:"/system/sling/login.html",LOGOUT_URL:"/system/sling/logout.html"}});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory();else{var g=window.Granite=window.Granite||{};g.Util=factory()}})(function(){var isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"};return{patchText:function(text,snippets){if(snippets)if(!isArray(snippets))text=text.replace("{0}",snippets);else for(var i=0;i<snippets.length;i++)text=text.replace("{"+i+"}",snippets[i]);return text},getTopWindow:function(){var win=window;if(this.iFrameTopWindow)return this.iFrameTopWindow;
try{while(win.parent&&win!==win.parent&&win.parent.location.href)win=win.parent}catch(error){}return win},setIFrameMode:function(topWindow){this.iFrameTopWindow=topWindow||window},applyDefaults:function(){var override;var base=arguments[0]||{};for(var i=1;i<arguments.length;i++){override=arguments[i];for(var name in override){var value=override[name];if(override.hasOwnProperty(name)&&value!==undefined)if(value!==null&&typeof value==="object"&&!(value instanceof Array))base[name]=this.applyDefaults(base[name],
value);else if(value instanceof Array)base[name]=value.slice(0);else base[name]=value}}return base},getKeyCode:function(event){return event.keyCode?event.keyCode:event.which}}});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory(require("@granite/util"),require("jquery"));else window.Granite.HTTP=factory(Granite.Util,jQuery)})(function(util,$){return function(){var contextPath=null;var SCRIPT_URL_REGEXP=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/;var ENCODE_PATH_REGEXP=/[^\w-.~%:/?[\]@!$&'()*+,;=]/;var URI_REGEXP=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;
var loginRedirected=false;var self={};self.getSchemeAndAuthority=function(uri){if(!uri)return"";var result=URI_REGEXP.exec(uri);if(result===null)return"";return[result[1],result[3]].join("")};self.getContextPath=function(){if(contextPath===null)contextPath=self.detectContextPath();return contextPath};self.detectContextPath=function(){try{if(window.CQURLInfo)contextPath=CQURLInfo.contextPath||"";else{var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var result=SCRIPT_URL_REGEXP.exec(scripts[i].src);
if(result){contextPath=result[1];return contextPath}}contextPath=""}}catch(e){}return contextPath};self.externalize=function(url){try{if(url.indexOf("/")===0&&self.getContextPath()&&url.indexOf(self.getContextPath()+"/")!==0)url=self.getContextPath()+url}catch(e){}return url};self.internalize=function(url,doc){if(url.charAt(0)==="/")if(contextPath===url)return"";else if(contextPath&&url.indexOf(contextPath+"/")===0)return url.substring(contextPath.length);else return url;if(!doc)doc=document;var docHost=
self.getSchemeAndAuthority(doc.location.href);var urlHost=self.getSchemeAndAuthority(url);if(docHost===urlHost)return url.substring(urlHost.length+(contextPath?contextPath.length:0));else return url};self.getPath=function(url){if(!url)if(window.CQURLInfo&&CQURLInfo.requestPath)return CQURLInfo.requestPath;else url=window.location.pathname;else{url=self.removeParameters(url);url=self.removeAnchor(url)}url=self.internalize(url);var i=url.indexOf(".",url.lastIndexOf("/"));if(i!==-1)url=url.substring(0,
i);return url};self.removeAnchor=function(uri){var fragmentIndex=uri.indexOf("#");if(fragmentIndex>=0)return uri.substring(0,fragmentIndex);else return uri};self.removeParameters=function(uri){var queryIndex=uri.indexOf("?");if(queryIndex>=0)return uri.substring(0,queryIndex);else return uri};self.encodePathOfURI=function(uri){var DELIMS=["?","#"];var parts=[uri];var delim;for(var i=0,ln=DELIMS.length;i<ln;i++){delim=DELIMS[i];if(uri.indexOf(delim)>=0){parts=uri.split(delim);break}}if(ENCODE_PATH_REGEXP.test(parts[0]))parts[0]=
self.encodePath(parts[0]);return parts.join(delim)};self.encodePath=function(uri){uri=encodeURI(uri);uri=uri.replace(/%5B/g,"[").replace(/%5D/g,"]");uri=uri.replace(/\?/g,"%3F");uri=uri.replace(/#/g,"%23");return uri};self.handleLoginRedirect=function(){if(!loginRedirected){loginRedirected=true;alert(Granite.I18n.get("Your request could not be completed because you have been signed out."));var l=util.getTopWindow().document.location;l.href=self.externalize("/")+"?resource\x3d"+encodeURIComponent(l.pathname+
l.search+l.hash)}};self.getXhrHook=function(url,method,params){method=method||"GET";if(window.G_XHR_HOOK&&typeof G_XHR_HOOK==="function"){var p={"url":url,"method":method};if(params)p["params"]=params;return G_XHR_HOOK(p)}return null};self.eval=function(response){if(typeof response!=="object")response=$.ajax({url:response,type:"get",async:false});try{var text=response.body?response.body:response.responseText;return JSON.parse(text)}catch(e){}return null};return self}()});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory(require("@granite/http"));else window.Granite.I18n=factory(window.Granite.HTTP)})(function(HTTP){return function(){var dicts={};var urlPrefix="/libs/cq/i18n/dict.";var urlSuffix=".json";var manualLocale=undefined;var pseudoTranslations=false;var languages=null;var self={};var manualDictionary=false;var getDictionaryUrl=function(locale){if(manualDictionary)return urlPrefix+locale+urlSuffix;var dictionarySrc;var htmlEl=
document.querySelector("html");if(htmlEl)dictionarySrc=htmlEl.getAttribute("data-i18n-dictionary-src");if(!dictionarySrc)return urlPrefix+locale+urlSuffix;return dictionarySrc.replace("{locale}",encodeURIComponent(locale)).replace("{+locale}",locale)};var patchText=function(text,snippets){if(snippets)if(Array.isArray(snippets))for(var i=0;i<snippets.length;i++)text=text.replace("{"+i+"}",snippets[i]);else text=text.replace("{0}",snippets);return text};self.LOCALE_DEFAULT="en";self.PSEUDO_LANGUAGE=
"zz";self.PSEUDO_PATTERN_KEY="_pseudoPattern_";self.init=function(config){config=config||{};this.setLocale(config.locale);this.setUrlPrefix(config.urlPrefix);this.setUrlSuffix(config.urlSuffix)};self.setLocale=function(locale){if(!locale)return;manualLocale=locale};self.getLocale=function(){if(typeof manualLocale==="function")manualLocale=manualLocale();return manualLocale||document.documentElement.lang||self.LOCALE_DEFAULT};self.setUrlPrefix=function(prefix){if(!prefix)return;urlPrefix=prefix;manualDictionary=
true};self.setUrlSuffix=function(suffix){if(!suffix)return;urlSuffix=suffix;manualDictionary=true};self.getDictionary=function(locale){locale=locale||self.getLocale();if(!dicts[locale]){pseudoTranslations=locale.indexOf(self.PSEUDO_LANGUAGE)===0;try{var xhr=new XMLHttpRequest;xhr.open("GET",HTTP.externalize(getDictionaryUrl(locale)),false);xhr.send();dicts[locale]=JSON.parse(xhr.responseText)}catch(e){}if(!dicts[locale])dicts[locale]={}}return dicts[locale]};self.get=function(text,snippets,note){var dict;
var newText;var lookupText;dict=self.getDictionary();lookupText=pseudoTranslations?self.PSEUDO_PATTERN_KEY:note?text+" (("+note+"))":text;if(dict)newText=dict[lookupText];if(!newText)newText=text;if(pseudoTranslations)newText=newText.replace("{string}",text).replace("{comment}",note?note:"");return patchText(newText,snippets)};self.getVar=function(text,note){if(!text)return null;return self.get(text,null,note)};self.getLanguages=function(){if(!languages)try{var url=HTTP.externalize("/libs/wcm/core/resources/languages.overlay.infinity.json");
var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send();var json=JSON.parse(xhr.responseText);Object.keys(json).forEach(function(prop){var lang=json[prop];if(lang.language)lang.title=self.getVar(lang.language);if(lang.title&&lang.country&&lang.country!=="*")lang.title+=" ("+self.getVar(lang.country)+")"});languages=json}catch(e){languages={}}return languages};self.parseLocale=function(langCode){if(!langCode)return null;var pos=langCode.indexOf("_");if(pos<0)pos=langCode.indexOf("-");var language;
var country;if(pos<0){language=langCode;country=null}else{language=langCode.substring(0,pos);country=langCode.substring(pos+1)}return{code:langCode,language:language,country:country}};return self}()});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory();else{var g=window.Granite=window.Granite||{};g.TouchIndicator=factory()}})(function(){function createIndicator(){var el=document.createElement("div");el.style.visibility="hidden";el.style.position="absolute";el.style.width="30px";el.style.height="30px";el.style.borderRadius="20px";el.style.border="5px solid orange";el.style.userSelect="none";el.style.opacity="0.5";el.style.zIndex="2000";el.style.pointerEvents=
"none";return el}var used={};var unused=[];return{debugWithMouse:false,init:function(){var self=this;var update=function(e){self.update(e.touches);return true};document.addEventListener("touchstart",update);document.addEventListener("touchmove",update);document.addEventListener("touchend",update);if(this.debugWithMouse)document.addEventListener("mousemove",function(e){e.identifer="fake";self.update([e]);return true})},update:function(touches){var retained={};for(var i=0;i<touches.length;i++){var touch=
touches[i];var id=touch.identifier;var indicator=used[id];if(!indicator){indicator=unused.pop();if(!indicator){indicator=createIndicator();document.body.appendChild(indicator)}}retained[id]=indicator;indicator.style.left=touch.pageX-20+"px";indicator.style.top=touch.pageY-20+"px";indicator.style.visibility="visible"}for(id in used)if(used.hasOwnProperty(id)&&!retained[id]){indicator=used[id];indicator.style.visibility="hidden";unused.push(indicator)}used=retained}}});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory();else{var g=window.Granite=window.Granite||{};g.OptOutUtil=factory()}})(function($){function trim(s){if(String.prototype.trim)return s.trim();return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return function(){var self={};var optOutCookieNames=[];var whitelistedCookieNames=[];self.init=function(config){if(config){optOutCookieNames=config.cookieNames||[];whitelistedCookieNames=config.whitelistCookieNames||
[]}else{optOutCookieNames=[];whitelistedCookieNames=[]}};self.getCookieNames=function(){return optOutCookieNames};self.getWhitelistCookieNames=function(){return whitelistedCookieNames};self.isOptedOut=function(){var browserCookies=document.cookie.split(";");for(var i=0;i<browserCookies.length;i++){var cookie=browserCookies[i];var cookieName=trim(cookie.split("\x3d")[0]);if(self.getCookieNames().indexOf(cookieName)>=0)return true}return false};self.maySetCookie=function(cookieName){return!(self.isOptedOut()&&
self.getWhitelistCookieNames().indexOf(cookieName)===-1)};return self}()});
(function(factory){if(typeof module==="object"&&module.exports)module.exports=factory();else{var g=window.Granite=window.Granite||{};g.Toggles=factory()}})(function(){var toggles=null;return{isEnabled:function(toggleName){toggles=toggles||fetchToggles();return(toggles||{enabled:[]}).enabled.includes(toggleName);function fetchToggles(){var request=new XMLHttpRequest;request.open("GET",Granite.HTTP.externalize("/etc.clientlibs/toggles.json"),false);request.send(null);if(request.status===200)return JSON.parse(request.responseText);
else return null}}}});Granite.OptOutUtil.init(window.GraniteOptOutConfig);Granite.HTTP.detectContextPath();
</script>

</body>
</html>
