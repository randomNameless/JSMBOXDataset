<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmt.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports._pmt6837=t():e._pmt6837=t()}(this,(function(){return function(){"use strict";var e={};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(e){try{return sessionStorage.getItem(e)}catch(t){return null}},o=function(e,t){try{sessionStorage.setItem(e,t)}catch(i){}},r=function(){function e(i){t(this,e),s(this,"sessionStorageKey","__im_uid_ses_".concat("6837")),s(this,"defaultUidUrl","https://dmp.im-apps.net/sdk/im-uid.js"),s(this,"ttlSeconds",1800),e.userCallbackName=i?i.getAttribute("data-uid-callback"):"",e.uid=this.getUidFromLocal()}return a(e,[{key:"setUidTag",value:function(){window.IMUIDRequest=window.IMUIDRequest||[];var e=document.getElementsByTagName("script")[0],t=document.createElement("script");t.async=!0,t.src=undefined||this.defaultUidUrl,e.parentNode.insertBefore(t,e)}},{key:"getUidFromLocal",value:function(){return function(e){try{return localStorage.getItem(e)}catch(t){return null}}(e.storageKey)}},{key:"processSdkCallback",value:function(t){t.uid&&(e.setVariable(t.uid),function(e,t){try{localStorage.setItem(e,t)}catch(i){}}(e.storageKey,t.uid))}},{key:"getVariable",value:function(){return e.uid}},{key:"update",value:function(){var t=(parseInt(n(this.sessionStorageKey))||0)+this.ttlSeconds<Math.floor(Date.now()/1e3);if(!e.uid||t){var i=Math.floor(Date.now()/1e3);o(this.sessionStorageKey,i.toString()),this.setUidTag(),window.IMUIDRequest.push({customerId:"6837",callback:this.processSdkCallback})}}}],[{key:"uid",get:function(){return e._uid||""},set:function(t){e._uid=t}},{key:"userCallbackName",get:function(){return e._userCallbackName},set:function(t){e._userCallbackName=t}},{key:"executedCallback",get:function(){return e._executedCallback},set:function(t){e._executedCallback=t}},{key:"setVariable",value:function(t){t&&(e.uid=t),window[e.storageKey]=e.uid,e.uid&&!e.executedCallback&&e.processUserCallback(e.uid)}},{key:"processUserCallback",value:function(t){e.userCallbackName&&"function"==typeof window[e.userCallbackName]&&(e.executedCallback=!0,window[e.userCallbackName](t))}}]),e}();s(r,"_uid",void 0),s(r,"_userCallbackName",void 0),s(r,"_executedCallback",void 0),s(r,"storageKey","__im_uid_".concat("6837"));var c=function(){function e(i){t(this,e),s(this,"sids",void 0),s(this,"token",void 0),s(this,"executedCallback",void 0),s(this,"userCallbackName",void 0),s(this,"baseStorageKey","__im_sids"),s(this,"storageKey","".concat(this.baseStorageKey,"_").concat("6837")),s(this,"sessionStorageKey","".concat(this.baseStorageKey,"_ses_").concat("6837")),s(this,"sidsUrl","https://sync6.im-apps.net/segment"),s(this,"ttlSeconds",3600),this.userCallbackName=i?i.getAttribute("data-sids-callback"):"",this.token=this.getUniq(),this.sids=this.getSeg(n("".concat(this.storageKey,"_").concat(this.token)))}return a(e,[{key:"getUniq",value:function(){var e=new Date,t=this.baseStorageKey+e.getUTCDate()%5;return btoa(t).replace(/=*$/g,"")}},{key:"getSeg",value:function(e){if(!e)return"";var t=[];try{for(var i=atob(decodeURIComponent(e)).replace(/=*$/g,""),a=0;a<i.length;a++){var s=i.charCodeAt(a)^this.token.charCodeAt(a%this.token.length);t.push(String.fromCharCode(s))}return t.join("")}catch(n){return""}}},{key:"processUserCallback",value:function(e){this.userCallbackName&&"function"==typeof window[this.userCallbackName]&&(this.executedCallback=!0,window[this.userCallbackName](e))}},{key:"getVariable",value:function(){return this.sids}},{key:"setVariable",value:function(e){e&&(this.sids=this.getSeg(e));var t=this.sids?this.sids.split(","):[];window[this.storageKey]=t,t.length&&!this.executedCallback&&this.processUserCallback(t)}},{key:"update",value:function(){var e=this,t=(parseInt(n("".concat(this.sessionStorageKey,"_").concat(this.token)))||0)+this.ttlSeconds<Math.floor(Date.now()/1e3);if(!this.sids.length||t){var i=new XMLHttpRequest,a=this.token;i.open("GET","".concat(this.sidsUrl,"?token=").concat(a),!0),i.timeout=3e3,i.withCredentials=!0,i.addEventListener("load",(function(){if(4===i.readyState)if(200===i.status){var t="";try{t=JSON.parse(i.responseText).encrypted}catch(a){console.error(a)}t&&(e.setVariable(t),o("".concat(e.storageKey,"_").concat(e.token),t),o("".concat(e.sessionStorageKey,"_").concat(e.token),Math.floor(Date.now()/1e3).toString()))}else console.error(i.statusText)})),i.addEventListener("timeout",(function(){console.error("request for ".concat(e.sidsUrl," timed out."))})),i.addEventListener("error",(function(){console.error(i.statusText)})),i.send(null)}}}]),e}();var u=function(){function e(){t(this,e),s(this,"uid",void 0),s(this,"sids",void 0),s(this,"audience",void 0),s(this,"imPmtScriptElement",document.querySelector("script#imPmt6837")),this.uid=new r(this.imPmtScriptElement),this.sids=new c(this.imPmtScriptElement)}return a(e,[{key:"setupVariables",value:function(){r.setVariable(),this.sids.setVariable()}},{key:"pushGPTs",value:function(){var e,t;window.googletag=window.googletag||{cmd:[]},e="im_segments",t=this.sids.getVariable().split(","),window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting(e,t)}))}},{key:"initTagManager",value:function(){var e={cid:"6837"};e.uid=r.uid,e.sids=this.sids.getVariable()}},{key:"updateVariables",value:function(){this.uid.update(),this.sids.update()}},{key:"run",value:function(){this.setupVariables(),this.updateVariables()}}]),e}();return window.__pmt_6837="__pmt_6837"in window?window.__pmt_6837:new u,window.__pmt_6837.run(),e=e._pmt6837}()}));
</script>

</body>
</html>
