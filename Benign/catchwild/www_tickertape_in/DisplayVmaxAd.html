<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DisplayVmaxAd.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DisplayVmaxAd=t()}(this,(function(){"use strict";function e(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{d(n.next(e))}catch(e){r(e)}}function a(e){try{d(n.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}d((n=n.apply(e,t||[])).next())}))}function t(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function i(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}function n(...e){console.log.apply(console,e)}function s(...e){console.error.apply(console,e)}"function"==typeof SuppressedError&&SuppressedError;const r=e=>"string"==typeof e&&e.length>0;var o,a,d,c,l,h,u,f,p,E,v,m,w,A,g,b,I,y,T,k,D,_,S,C,O;class R{constructor(e){var n;(o.add(this),a.set(this,void 0),d.set(this,void 0),c.set(this,[]),l.set(this,[]),h.set(this,[]),u.set(this,[]),f.set(this,"hidden"),p.set(this,null),E.set(this,null),v.set(this,!0),m.set(this,null),e instanceof HTMLElement)?(i(this,a,(n=t(this,o,"m",w).bind(this),new IntersectionObserver(n,{root:null,rootMargin:"0px",threshold:.5})),"f"),i(this,d,e,"f"),t(this,a,"f").observe(e),i(this,f,function(e){let t="hidden",i="visibilitychange";const n=window.document;return void 0!==n[t]?(t="hidden",i="visibilitychange"):void 0!==n.msHidden?(t="msHidden",i="msvisibilitychange"):void 0!==n.webkitHidden?(t="webkitHidden",i="webkitvisibilitychange"):void 0!==n.oHidden?(t="oHidden",i="ovisibilitychange"):void 0!==n.mozHidden?(t="mozHidden",i="mozvisibilitychange"):void 0!==n.khtmlHidden&&(t="khtmlHidden",i="khtmlvisibilitychange"),n.addEventListener(i,e,!0),t}(t(this,o,"m",A).bind(this)),"f"),function(e){window.addEventListener("focus",e),window.addEventListener("pageshow",e)}(t(this,o,"m",g).bind(this)),function(e){window.addEventListener("blur",e),window.addEventListener("pagehide",e)}(t(this,o,"m",b).bind(this)),this.check()):function(...e){console.warn.apply(console,e)}("Container must be a valid HTMLElement")}destroy(){var e;null===(e=t(this,a,"f"))||void 0===e||e.unobserve(t(this,d,"f")),i(this,c,[],"f"),i(this,l,[],"f"),i(this,h,[],"f"),i(this,u,[],"f"),i(this,p,null,"f"),i(this,E,null,"f"),i(this,v,null,"f"),clearInterval(t(this,m,"f"))}check(){t(this,o,"m",A).call(this)}enter(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,c,"f").push(e),this}exit(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,l,"f").push(e),this}enterOnce(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,h,"f").push(e),this}exitOnce(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,u,"f").push(e),this}}a=new WeakMap,d=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap,E=new WeakMap,v=new WeakMap,m=new WeakMap,o=new WeakSet,w=function(e){var n;const s=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.isIntersecting;"boolean"==typeof s&&(i(this,p,!0===s,"f"),t(this,o,"m",I).call(this))},A=function(){const e=window.document;i(this,E,!1===(null==e?void 0:e[t(this,f,"f")])||"visible"===(null==e?void 0:e.visibilityState),"f"),t(this,o,"m",I).call(this)},g=function(){i(this,E,!0,"f"),t(this,o,"m",I).call(this)},b=function(){const e=window.document;clearInterval(t(this,m,"f")),i(this,m,setTimeout((()=>{!1===(!1===(null==e?void 0:e[t(this,f,"f")])||"visible"===(null==e?void 0:e.visibilityState))&&(i(this,E,!1,"f"),t(this,o,"m",I).call(this))}),1),"f")},I=function(){const e=t(this,p,"f")&&t(this,E,"f");if(t(this,v,"f")===e)return;const n=t(this,p,"f")&&t(this,E,"f"),s=t(this,n?c:l,"f"),r=t(this,n?h:u,"f");s.forEach((e=>e())),r.forEach((e=>e())),i(this,n?h:u,[],"f"),i(this,v,e,"f")},function(e){e.errorCode="{errorcode}",e.noFill="<NOFILL>",e.noFillError="[nofill.error]",e.demandPartnerSDKVersion="[demand.partner.sdkversion]",e.eventName="[event.name]",e.vastErrorCode="[vast.error]",e.OmidSDKVersion="[omid.partner.sdkversion]",e.eventAttribute1="[event.attribute1]",e.eventAttribute2="[event.attribute2]",e.eventAttribute3="[event.attribute3]",e.randomCcb="[random.ccb]",e.deviceIFA="[device.ifa]"}(y||(y={})),function(e){e.AD_READY="adReady",e.AD_IMPRESSION="adImpression",e.AD_RENDERED="adRendered",e.AD_REFRESHED="adRefreshed",e.AD_ERROR="adError",e.AD_CLOSED="adClosed",e.AD_CLICKED="adClicked",e.AD_SKIPPED="adSkipped",e.AD_SKIPPABLE_STATE_CHANGE="adSkippableStateChange",e.AD_PAUSED="adPaused",e.AD_RESUMED="adResumed",e.AD_VIDEO_START="adVideoStart",e.AD_VIDEO_FIRST_QUARTILE="adVideoFirstQuartile",e.AD_VIDEO_MIDPOINT="adVideoMidpoint",e.AD_VIDEO_THIRD_QUARTILE="adVideoThirdQuartile",e.AD_VIDEO_COMPLETE="adVideoComplete",e.AD_VOLUME_CHANGED="adVolumeChanged",e.AD_MUTED="adMuted",e.AD_UNMUTED="adUnmuted",e.AD_PROGRESS="adProgress",e.AD_USER_CLOSE="adUserClose",e.AD_INSERTION_START="adInsertionStart",e.AD_INSERTION_END="adInsertionEnd",e.AD_MEDIA_EXPAND="onFullScreen",e.AD_MEDIA_COLLAPSE="onExitFullScreen"}(T||(T={})),function(e){e.PERSONAL_COMPUTER="2",e.CONNECTED_TV="3",e.PHONE="4",e.TABLET="5",e.CONNECTED_DEVICE="6",e.SET_TOP_BOX="7"}(k||(k={})),function(e){e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile"}(D||(D={})),function(e){e.APP_ID="appId",e.ACCOUNT_KEY="accountKey",e.SECRET_KEY="secretKey",e.SDK_INITIALIZED="sdkInitialized",e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile",e.IS_APP="isApp"}(_||(_={})),function(e){e.UID="uid",e.GENDER="gender",e.AGE="age",e.COUNTRY="country",e.REGION="region",e.CITY="city",e.ZIPCODE="zip",e.KEYWORDS="keywords"}(S||(S={})),function(e){e.PLAY_ONCE="play_once",e.REPEAT="repeat"}(C||(C={}));class P{constructor(){O.set(this,new Map)}static getInstance(){return P.instance}set(e,i){"object"!=typeof e?t(this,O,"f").set(e,i):Object.entries(e).forEach((([e,i])=>{const n=r(i)||(e=>"number"==typeof e)(i)||(e=>"boolean"==typeof e)(i);n&&t(this,O,"f").set(e,i)}))}get(e){var i;return"string"!=typeof e||0==e.length?t(this,O,"f"):null!==(i=t(this,O,"f").get(e))&&void 0!==i?i:null}get isSDKInitialized(){return Boolean(t(this,O,"f").get(_.SDK_INITIALIZED))}}O=new WeakMap,P.instance=new P;const M=P.getInstance();var N,L,U,W;class x{static post(t){return e(this,void 0,void 0,(function*(){const{url:e,payload:i,headers:s={},credentials:r}=t||{};let o={method:"POST",body:JSON.stringify(i)};return r&&(o.credentials=r),s&&(o.headers=s),fetch(e,o).then((e=>e.json())).catch((e=>(n("Error in Fetch.post",e),Promise.reject(e))))}))}static get(t){return e(this,arguments,void 0,(function*(e,t={}){return fetch(e,t).then((e=>e.json()))}))}static DeviceGeoService(){const e=M.get(_.ACCOUNT_KEY),t="https://dgs.tickertape.in/ACCOUNT_KEY".replace("ACCOUNT_KEY",e);return N.get(t)}static UserProfileService(e,t){const i=M.get(_.ACCOUNT_KEY),n="https://ups.tickertape.in/ACCOUNT_KEY/".replace("ACCOUNT_KEY",i);return N.post({url:n,headers:{"X-AUTH":t},payload:e})}static AdQuery(e){const{ACCOUNT_KEY:t}=_,i=M.get(t)||"";return N.post({url:"https://as.tickertape.in/account-key/adspot/1.0.1/query/".replace("account-key",i),payload:e,credentials:"include"})}static replaceAllMacros(e,t){const i=Object.keys(y);if(0===i.length)return e;const{ifa:n=""}=window.VmaxAdManager.getDevice().getPayload();return i.forEach((i=>{var s;const r=y[i];let o;o=r===y.randomCcb?Date.now().toString():r===y.deviceIFA?n:t&&(null===(s=t[r])||void 0===s?void 0:s.toString())||"";const a=new RegExp(this.escapeRegExp(r),"g");e=e.replace(a,o)})),t||i.forEach((t=>{const i=y[t],n=new RegExp(this.escapeRegExp(i),"g");e=e.replace(n,"")})),e}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static FireTracker(i,n){return e(this,void 0,void 0,(function*(){if(!r(i)&&(e=i,!Array.isArray(e)))return Promise.reject("No url to fire tracker");var e;for(let e of i)e=this.replaceAllMacros(e,n),yield t(N,N,"m",L).call(N,e)}))}}N=x,L=function(t){return e(this,void 0,void 0,(function*(){try{const e=window.VmaxAdManager.getSite().getPayload(),{pageUrl:i,referrerUrl:r}=e,o=yield fetch(t,{method:"GET",headers:{Connection:"keep-alive","X-Requested-with":`${i}`},credentials:"include"});o.ok?n("Tracker fired successfully."):s("Tracker request failed:",o.status,o.statusText)}catch(e){s("Error while firing the tracker:",e)}}))};class F{constructor(e=new Map){U.set(this,new Map),i(this,U,e,"f")}fireTracker(e,i){const n=t(this,U,"f").get(e);n&&x.FireTracker(n,i)}}U=new WeakMap,function(e){e.IMPRESSION="impression",e.NO_FILL="nofill",e.FILL="fill",e.CLICK="click",e.ERROR="error",e.START="start",e.FIRST_QUARTILE="firstQuartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="thirdQuartile",e.COMPLETE="complete",e.PAUSE="pause",e.RESUME="resume",e.SKIP="skip",e.MUTE="mute",e.UNMUTE="unmute",e.SKIPPABLE_STATE_CHANGE="skippableStateChange"}(W||(W={}));var K,H,V,Y,j,G,Q,$,z,B,X,q,Z,J,ee,te,ie,ne,se,re=W;return H=new WeakMap,V=new WeakMap,Y=new WeakMap,j=new WeakMap,G=new WeakMap,Q=new WeakMap,$=new WeakMap,z=new WeakMap,B=new WeakMap,X=new WeakMap,q=new WeakMap,K=new WeakSet,Z=function(){const{adm:e}=t(this,H,"f"),i=function(e,t){const i=Object.keys(y);return 0===i.length||i.forEach((i=>{var n;const s=y[i],r=s===y.randomCcb?Date.now().toString():t&&(null===(n=t[s])||void 0===n?void 0:n.toString())||"",o=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");e=e.replace(o,r)})),e}(e);console.log(">>>replacedMacroString",i);return`<!DOCTYPE html><style>a{display: flex;}</style>${i}`},J=function(){const{w:e,h:i}=t(this,H,"f"),n=document.createElement("iframe");return n.setAttribute("marginwidth","0"),n.setAttribute("marginheight","0"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),n.setAttribute("hspace","0"),n.setAttribute("vspace","0"),n.style.border="none",n.style.margin="0",n.style.width=`${e}px`,n.style.height=`${i}px`,n.srcdoc=t(this,K,"m",Z).call(this),n},ee=function(e){const t=e instanceof HTMLElement,i=null!==e.parentNode,n=e.ownerDocument===document;return t&&i&&n},te=function(){const{IMPRESSION:e,NO_FILL:n,FILL:s}=re,{burl:r,nurl:o,lurl:a}=t(this,H,"f")||{};r&&t(this,B,"f").set(e,[r]),o&&t(this,B,"f").set(n,[o]),a&&t(this,B,"f").set(s,[a]),i(this,z,new F(t(this,B,"f")),"f")},ie=function(e){t(this,z,"f").fireTracker(re.FILL),i(this,Y,new R(t(this,V,"f")),"f"),t(this,Y,"f").enter(t(this,j,"f")),t(this,Y,"f").exit(t(this,G,"f")),t(this,Y,"f").enterOnce(t(this,K,"m",ne).bind(this)),e.onload=t(this,K,"m",se).bind(this,e)},ne=function(){var e;t(this,z,"f").fireTracker(re.IMPRESSION),null===(e=t(this,q,"f"))||void 0===e||e.AdImpression()},se=function(e){var i,n;null===(n=null===(i=e.contentWindow)||void 0===i?void 0:i.document)||void 0===n||n.body.addEventListener("click",t(this,Q,"f").bind(this))},class{constructor(){K.add(this),H.set(this,void 0),V.set(this,void 0),Y.set(this,void 0),j.set(this,(()=>{})),G.set(this,(()=>{})),Q.set(this,(()=>{})),$.set(this,(()=>{})),z.set(this,void 0),B.set(this,new Map),this.shouldProcessRefresh=!0,X.set(this,void 0),q.set(this,void 0),this.canRefresh=!0}getAllSignatures(){return["iab.smartphonebanner","iab.mediumrectangle","iab.leaderboard","iab.superleaderboard"]}prepare(n){return e(this,void 0,void 0,(function*(){const{bid:e,listeners:s}=n||{};i(this,H,e,"f");const{AdPaused:r,AdResumed:o,AdClicked:a}=s||{};return"function"==typeof r&&i(this,G,r,"f"),"function"==typeof o&&i(this,j,o,"f"),"function"==typeof a&&i(this,Q,a,"f"),i(this,q,s,"f"),t(this,K,"m",te).call(this),Promise.resolve()}))}render(n){return e(this,void 0,void 0,(function*(){const{container:e}=n||{};return e&&t(this,K,"m",ee).call(this,e)?(i(this,V,e,"f"),i(this,X,t(this,K,"m",J).call(this),"f"),e.appendChild(t(this,X,"f")),t(this,K,"m",ie).call(this,t(this,X,"f")),Promise.resolve()):Promise.reject("Not a valid container")}))}destroy(){var e,n,s;null===(e=t(this,Y,"f"))||void 0===e||e.destroy(),i(this,Y,null,"f"),i(this,H,{},"f"),null===(s=null===(n=t(this,X,"f"))||void 0===n?void 0:n.parentNode)||void 0===s||s.removeChild(t(this,X,"f")),i(this,V,{},"f"),i(this,j,(()=>{}),"f"),i(this,G,(()=>{}),"f"),i(this,Q,(()=>{}),"f"),i(this,z,{},"f"),i(this,B,new Map,"f")}closeAd(){var e;return null===(e=t(this,q,"f"))||void 0===e||e.AdClosed(),this.canRefresh=!1,this.destroy(),Promise.resolve()}getVmaxEventTracker(){return t(this,z,"f")}getVmaxAdInfo(){const e=function(e){var t,i,n;const{ext:s}=e||{},r=s&&s["ad-meta"]||{},{id:o="",name:a=""}=r,d=r["campaign-meta"]||{},{id:c="",name:l="",marketer:h={},order:u={}}=d,{id:f="",name:p="",agency:E="",brand:v=""}=h||{},{id:m="",name:w=""}=u;return{adId:o,adName:a,campaignId:c,campaignName:l,marketerId:f,marketerName:p,brand:v,agency:E,orderId:m,orderName:w,signature:(null===(n=null===(i=null===(t=null==e?void 0:e.ext)||void 0===t?void 0:t.modules)||void 0===i?void 0:i.render)||void 0===n?void 0:n.signature)||""}}(t(this,H,"f"));return Object.assign({},e)}}}));

</script>

</body>
</html>
