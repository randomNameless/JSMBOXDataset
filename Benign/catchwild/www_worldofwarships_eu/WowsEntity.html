<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WowsEntity.html</title>
</head>
<body>

<script>
import{d as y,r as b,o as k,E as _,R as F,a9 as T,f as E,g as L,t as M,u as g,_ as w}from"./_plugin-vue_export-helper.js";import{a as R}from"./index.js";import{g as v}from"./getRandomHash.js";import{_ as a}from"./index2.js";import{a as r,h as I,n as l}from"./commonAppInit.js";import"./common.js";function O(t,e){if(!("IntersectionObserver"in window))e();else{if(!t)return;const s=new IntersectionObserver(o=>{o[0].isIntersecting&&(e(),s.disconnect())});s.observe(t)}}const d={[a.assets.CREDITS]:"silver",[a.assets.WOWS_PREMIUM]:"wows-premium",[a.assets.FREE_XP]:"free-exp",[a.assets.PARAGON_XP]:"paragon",[a.assets.ELITE_XP]:"exp"},n={vehicleFallback(t){t.innerHTML=r("Корабль")},slotFallback(t,e){t.innerHTML=I(r("Слот &times;%(count)s"),{count:e.amount},!0)},currencyFallback(t,e){const s=d[e.type]||e.type;t.innerHTML=`<small class="game-currency ${s}">${e.amount}</small>`},premiumFallback(t,e){const{amount:s,type:o}=e,c=d[o]||o,u=o===a.assets.PREMIUM?l("Общий премиум: {days} день","Общий премиум: {days} дней",s):l("Корабельный премиум: {days} день","Корабельный премиум: {days} дней",s);t.innerHTML=`<small class="game-currency ${c}">${u.replace("{days}",s)}</small>`},signalFallback(t,e){t.innerHTML=r("Сигнал &times;{count}").replace("{count}",e.amount)},modernizationFallback(t){t.innerHTML=r("Модернизация")},defaultCrewFallback(t,e){t.innerHTML=l("Командир с {points} очком навыков","Командир с {points} очками навыков",e.customisation.points).replace("{points}",e.customisation.points)},lootboxFallback(t,e){t.innerHTML=r("Контейнер &times;{count}").replace("{count}",e.amount)},camouflageFallback(t,e){t.innerHTML=r("Камуфляж &times;{count}").replace("{count}",e.amount)},permoflageFallback(t){t.innerHTML=r("Постоянный камуфляж")},dogTagFallback(t){t.innerHTML=r("Символ")},commanderFallback(t,e){t.innerHTML=l("Командир с {points} очком навыков","Командир с {points} очками навыков",e.customisation.points).replace("{points}",e.customisation.points)},defaultFallback(t){t.innerHTML=r("Товар в составе набора")}};function S(t,e){switch(e.type){case a.items.VEHICLES:return n.vehicleFallback(t);case a.items.SIGNAL:return n.signalFallback(t,e);case a.items.MODERNIZATION:return n.modernizationFallback(t);case a.items.DEFAULT_CREW:return n.defaultCrewFallback(t,e);case a.items.LOOTBOX:return n.lootboxFallback(t,e);case a.items.CAMOUFLAGE:return n.camouflageFallback(t,e);case a.items.PERMOFLAGES:return n.permoflageFallback(t);case a.items.DOG_TAG:return n.dogTagFallback(t);case a.items.CREWS:return n.commanderFallback(t,e);case a.assets.SLOT:return n.slotFallback(t,e);case a.assets.GOLD:case a.assets.CREDITS:case a.assets.COAL:case a.assets.STEEL:case a.assets.PARAGON_XP:case a.assets.FREE_XP:case a.assets.ELITE_XP:case a.assets.SALTPETER:return n.currencyFallback(t,e);case a.assets.PREMIUM:case a.assets.WOWS_PREMIUM:return n.premiumFallback(t,e);default:return n.defaultFallback(t)}}const A=["data-we-id"],P=y({__name:"WowsEntity",props:{entity:{},instersect:{type:Boolean,default:!0},withUpdate:{type:Boolean}},setup(t){const e=t,s=b(null),o=b(),c=v(),u=()=>({type:e.entity.type,id:e.entity.id||e.entity.cd,elementId:c,presentation:e.entity.presentation||{withTooltip:!0},customisation:e.entity.customisation||{points:null},amount:e.entity.amount,loading:e.entity.loading,fallback:e.entity.fallback||f,onRender:e.entity.onRender,disableVortexRequest:e.entity.disableVortexRequest,data:e.entity.data,events:e.entity.events,container:s.value}),p=()=>{o.value=R.WoWSEntities.get().registerElement(u())},f=()=>S(s.value,e.entity);function m(){var i;o.value&&(o.value.$destroy(),(i=document.querySelector(".we-tooltip__container"))==null||i.removeAttribute("style"))}return k(()=>{e.entity&&(e.instersect?_(()=>O(s.value,p)):p())}),F(()=>{m()}),T(()=>{e.withUpdate&&(m(),e.entity&&p())}),(i,W)=>(E(),L("div",{ref_key:"container",ref:s,class:M(["wows-entity",i.entity.className]),"data-we-id":g(c)},null,10,A))}}),H=w(P,[["__scopeId","data-v-bc4bc87b"]]),D=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as W,D as a,O as o};

</script>

</body>
</html>
