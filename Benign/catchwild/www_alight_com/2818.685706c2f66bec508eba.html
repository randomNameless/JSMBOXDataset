<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2818.685706c2f66bec508eba.html</title>
</head>
<body>

<script>
(self.webpackChunk_cleverpush_cleverpush_js_sdk=self.webpackChunk_cleverpush_cleverpush_js_sdk||[]).push([[2818],{5533:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(6875);function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=(0,i.Z)(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(arguments.length<3?e:r):s.value}},n.apply(this,arguments)}},8193:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(6875),n=r(6156);function s(e,t,r,o){return s="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,s){var o,c=(0,i.Z)(e,t);if(c){if((o=Object.getOwnPropertyDescriptor(c,t)).set)return o.set.call(s,r),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(s,t)){if(!o.writable)return!1;o.value=r,Object.defineProperty(s,t,o)}else(0,n.Z)(s,t,r);return!0},s(e,t,r,o)}function o(e,t,r,i,n){if(!s(e,t,r,i||e)&&n)throw new Error("failed to set property");return r}},6875:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(7608);function n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i.Z)(e)););return e}},8606:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(5991),n=r(6610),s=r(379),o=r(6070),c=r(7608);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,c.Z)(e);if(t){var n=(0,c.Z)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,o.Z)(this,r)}}var a=function(e){(0,s.Z)(r,e);var t=u(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r)}(r(4740).Z)},2818:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var i=r(6610),n=r(5991),s=r(3349),o=r(379),c=r(6070),u=r(8193),a=r(5533),f=r(7608),l=r(3251),b=r(4005),d=r(9649),p=r(1078),g=r(8606),h=r(7159);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=(0,f.Z)(e);if(t){var n=(0,f.Z)(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return(0,c.Z)(this,r)}}var v=function(e){(0,o.Z)(r,e);var t=Z(r);function r(e,n,o){var b,g,Z,v,y,m,S,P,w,R,k,M;if((0,i.Z)(this,r),(k=t.call(this,e,n,o)).isSubscribed().then((function(e){e&&k.storageManager.initDb()})),k.config=e,k.api=n,k.isSubscribing=!1,(window.opener||window.parent)===window)return document.write('<p style="font-size: 14px; color: red; font-family: sans-serif;">CleverPush: This page cannot be directly opened, and\nmust be opened as a result of a subscription call.</p>'),(0,c.Z)(k);if("undefined"!=typeof URLSearchParams&&location.search){var N=new URLSearchParams(location.search.slice(1));N.get("origin")&&(M=N.get("origin"))}return p.cM.debug("PenPal parentOrigin",M),l.ZP.debug=p.cM.getLevel()<2,l.ZP.connectToParent({parentOrigin:M,methods:{subscribe:k.subscribe.bind((0,s.Z)(k)),setSubscribed:k.setSubscribed.bind((0,s.Z)(k)),setDenied:k.setDenied.bind((0,s.Z)(k)),setClosed:k.setClosed.bind((0,s.Z)(k)),setUnsubscribed:k.setUnsubscribed.bind((0,s.Z)(k)),unsubscribe:k.unsubscribe.bind((0,s.Z)(k)),isSubscribed:k.isSubscribed.bind((0,s.Z)(k)),canSubscribe:k.canSubscribe.bind((0,s.Z)(k)),setTopics:(0,a.Z)((b=(0,s.Z)(k),(0,f.Z)(r.prototype)),"setTopics",b).bind((0,s.Z)(k)),getTopics:(0,a.Z)((g=(0,s.Z)(k),(0,f.Z)(r.prototype)),"getTopics",g).bind((0,s.Z)(k)),getSubscriptionId:(0,a.Z)((Z=(0,s.Z)(k),(0,f.Z)(r.prototype)),"getSubscriptionId",Z).bind((0,s.Z)(k)),hasNotificationPermission:(0,a.Z)((v=(0,s.Z)(k),(0,f.Z)(r.prototype)),"hasNotificationPermission",v).bind((0,s.Z)(k)),getNotificationPermission:(0,a.Z)((y=(0,s.Z)(k),(0,f.Z)(r.prototype)),"getNotificationPermission",y).bind((0,s.Z)(k)),setClickedNotification:(0,a.Z)((m=(0,s.Z)(k),(0,f.Z)(r.prototype)),"setClickedNotification",m).bind((0,s.Z)(k)),getClickedNotification:(0,a.Z)((S=(0,s.Z)(k),(0,f.Z)(r.prototype)),"getClickedNotification",S).bind((0,s.Z)(k)),getStoredNotifications:(0,a.Z)((P=(0,s.Z)(k),(0,f.Z)(r.prototype)),"getStoredNotifications",P).bind((0,s.Z)(k)),deleteStoredNotification:(0,a.Z)((w=(0,s.Z)(k),(0,f.Z)(r.prototype)),"deleteStoredNotification",w).bind((0,s.Z)(k)),setConfig:function(e){return(0,u.Z)((R=(0,s.Z)(k),(0,f.Z)(r.prototype)),"config",e,R,!0),k.config=e,k.config.confirmAlertTestId&&k.api.setConfirmAlertTestId(k.config.confirmAlertTestId),k.config.forcedOptInResetAt&&(k.storageManager=new d.Z(k.config)),Promise.resolve()},setLocalStorage:function(e,t){try{localStorage.setItem(e,t)}catch(e){p.cM.warn(e)}return Promise.resolve()},getLocalStorage:function(e){try{return Promise.resolve(localStorage.getItem(e))}catch(e){p.cM.warn(e)}return Promise.resolve()},removeLocalStorage:function(e){try{return Promise.resolve(localStorage.removeItem(e))}catch(e){p.cM.warn(e)}return Promise.resolve()},getStorage:function(){try{Promise.resolve({"cleverpush-subscription-id":localStorage.get("cleverpush-subscription-id"),"cleverpush-subscription-status":localStorage.get("cleverpush-subscription-status")})}catch(e){Promise.resolve({"cleverpush-subscription-id":void 0,"cleverpush-subscription-status":void 0})}}}}),!navigator.permissions||"Firefox"===h.Xh.name&&h.x_<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){k.isSubscribing||("granted"!==window.Notification.permission?k.unsubscribe():k.isSubscribed((function(e){e||k.subscribe()})))}})),k}return(0,n.Z)(r,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.isSubscribed(!1,!1,!0).then((function(e){p.cM.debug("Status: storage status:",e),t(e)}))}catch(e){t(!1)}}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.canSubscribe().then((function(r){r?e.isSubscribed().then((function(e){t(e?{result:!1,message:"User is already subscribed",reason:"subscribed"}:{result:!0})})):t({result:!1,message:"User has manually unsubscribed or denied notifications",reason:"unsubscribed"})}))}catch(e){t({result:!0})}}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,r){if(e.isSubscribing)p.cM.error("A subscription process is already in progress."),r(new g.Z);else{e.isSubscribing=!0;var i=function(){e.storageManager.isSubscribed().then((function(e){t({permission:"granted",serviceWorkerInstalled:e})}))};"default"===Notification.permission?(Notification.requestPermission((function(r){e.isSubscribing=!1,"granted"===r?i():t({permission:r}),p.cM.debug("HTTP Permission Request Result:",r)})),e.api.confirmAlertShown(!1,"native-confirm-alert")):"denied"===Notification.permission?(e.isSubscribing=!1,t({permission:"denied"})):(e.isSubscribing=!1,p.cM.debug("PermissionAlreadyGranted"),i())}}))}},{key:"setSubscribed",value:function(e){try{this.storageManager.setSubscribed(e,!0)}catch(e){}}},{key:"setDenied",value:function(){try{this.storageManager.setDenied()}catch(e){}}},{key:"setClosed",value:function(){try{this.storageManager.setClosed()}catch(e){}}},{key:"setUnsubscribed",value:function(e){try{this.storageManager.setUnsubscribed(e)}catch(e){}}},{key:"unsubscribe",value:function(e){var t=this;return new Promise((function(r){var i;try{i=t.storageManager.getSubscriptionId()}catch(e){}return i?t.api.unsubscribe(i).then((function(){try{t.storageManager.setUnsubscribed(e)}catch(e){}return r()})).catch((function(){return r()})):r()}))}}]),r}(b.default)}}]);
//# sourceMappingURL=2818.685706c2f66bec508eba.js.map
</script>

</body>
</html>
