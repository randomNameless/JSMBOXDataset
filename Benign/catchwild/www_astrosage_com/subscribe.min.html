<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>subscribe.min.html</title>
</head>
<body>

<script>
function subscribeTokenId(o){$.ajax({type:"POST",url:"https://fcmweb.astrosage.com/gcm/FCMServices.aspx?op=registerFCM",async:!0,data:{value:'{"tokenid":"'+o+'","packagename":"'+getHostName+'","applang":"'+getAppLang+'"}'},dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonCallbackToken",contentType:"application/json",success:function(){}})}
var getHostName=document.domain,config={apiKey:"AIzaSyDrWYist5YgTmA37uG9sGmhumI45S45pKw",authDomain:"web-notification-ojas.firebaseapp.com",databaseURL:"https://web-notification-ojas.firebaseio.com",projectId:"web-notification-ojas",storageBucket:"web-notification-ojas.appspot.com",messagingSenderId:"1086293657530"};firebase.initializeApp(config);const messaging=firebase.messaging();navigator.serviceWorker.register("https://www.astrosage.com/firebase-messaging-sw.js").then(function(o){messaging.useServiceWorker(o),"denied"!=Notification.permission&&"default"!=Notification.permission||Notification.requestPermission(function(o){"granted"===o?messaging.getToken().then(function(o){o?subscribeTokenId(o):console.log("No Instance ID token available. Request permission to generate one.")})["catch"](function(o){console.log("An error occurred while retrieving token. ",o)}):console.log("Notifications blocked. Please enable them in your browser")})["catch"](function(o){console.log("Unable to get permission to notify.",o)})}),messaging.onMessage(function(o){console.log("Notification received: ",o);const e=o.notification.title,n={body:o.notification.body,icon:o.notification.icon};if("Notification"in window){if("granted"===Notification.permission){var i=new Notification(e,n);i.onclick=function(e){e.preventDefault(),window.open(o.notification.click_action,"_blank"),i.close()}}}else console.log("This browser does not support system notifications")}),messaging.onTokenRefresh(function(){messaging.getToken().then(function(){console.log("Token refreshed.")})["catch"](function(o){console.log("Unable to retrieve refreshed token ",o)})});
</script>

</body>
</html>
