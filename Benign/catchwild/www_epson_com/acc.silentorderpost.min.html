<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acc.silentorderpost.min.html</title>
</head>
<body>

<script>
ACC.silentorderpost={spinner:$("<img>").attr("src",ACC.config.commonResourcePath+"/images/spinner.gif"),bindUseDeliveryAddress:function(){$("#useDeliveryAddress").on("change",function(){if($("#useDeliveryAddress").is(":checked")){var b={countryIsoCode:$("#useDeliveryAddressData").data("countryisocode"),useDeliveryAddress:true};ACC.silentorderpost.enableAddressForm();ACC.silentorderpost.displayCreditCardAddressForm(b,ACC.silentorderpost.useDeliveryAddressSelected);ACC.silentorderpost.disableAddressForm()}else{ACC.silentorderpost.clearAddressForm();ACC.silentorderpost.enableAddressForm()}});if($("#useDeliveryAddress").is(":checked")){var a={countryIsoCode:$("#useDeliveryAddressData").data("countryisocode"),useDeliveryAddress:true};ACC.silentorderpost.enableAddressForm();ACC.silentorderpost.displayCreditCardAddressForm(a,ACC.silentorderpost.useDeliveryAddressSelected);ACC.silentorderpost.disableAddressForm()}},bindSubmitSilentOrderPostForm:function(){$(".submit_silentOrderPostForm").on("click",function(){var a=document.getElementById("silentOrderPostForm")==null?true:$("#silentOrderPostForm").valid();if(a&&document.getElementById("PayNowButton")!=null){document.getElementById("PayNowButton").click();return false}})},bindCycleFocusEvent:function(){$("#lastInTheForm").blur(function(){$('#silentOrderPostForm [tabindex$="10"]').focus()})},isEmpty:function(a){if(typeof a=="undefined"||a===null||a===""){return true}return false},disableAddressForm:function(){$('input[id^="address\\."]').prop("disabled",true);$('select[id^="address\\."]').prop("disabled",true)},enableAddressForm:function(){$('input[id^="address\\."]').prop("disabled",false);$('select[id^="address\\."]').prop("disabled",false)},clearAddressForm:function(){$('input[id^="address\\."]').val("");$('select[id^="address\\."]').val("")},useDeliveryAddressSelected:function(){if($("#useDeliveryAddress").is(":checked")){var a=$("#address\\.country").val($("#useDeliveryAddressData").data("countryisocode")).val();if(ACC.silentorderpost.isEmpty(a)){$("#useDeliveryAddress").click();$("#useDeliveryAddress").parent().hide()}else{ACC.silentorderpost.disableAddressForm()}}else{ACC.silentorderpost.clearAddressForm();ACC.silentorderpost.enableAddressForm()}},bindCreditCardAddressForm:function(){if($("#displayBillingCountry").val()==""){var c=$('#address\\.country option[value!=""]');var d=c.val();var a=c.text().trim();$("#displayBillingCountry").val(a);console.log("selected country value"+a+d);$("#address\\.country").val(d).hide();var b={useDeliveryAddress:false,countryIsoCode:d};if(b.countryIsoCode){ACC.silentorderpost.displayCreditCardAddressForm(b,ACC.silentorderpost.showAddressFormButtonPanel)}}},displayCreditCardAddressForm:function(a,b){$.ajax({url:ACC.config.encodedContextPath+"/checkout/multi/paymetric/billingaddressform",async:true,data:a,dataType:"html",beforeSend:function(){}}).done(function(c){$("#billingAddressForm").html(c);if(typeof b=="function"){b.call()}})}};$(document).ready(function(){ACC.silentorderpost.bindUseDeliveryAddress();ACC.silentorderpost.bindSubmitSilentOrderPostForm();ACC.silentorderpost.bindCreditCardAddressForm();var a=["firstName","surname","line1","line2","townCity","region","postcode","phone"];function d(){var g=true;for(var e=0;e<a.length;++e){var f=$("#address\\."+a[e]).val();if(!(f==""||f==undefined||f=="undefined")){g=false}}return !g}function c(){for(var e=0;e<a.length;++e){if($("#useDeliveryAddressData").data(a[e])!=$("#address\\."+a[e]).val()){return false}}return true}function b(){for(var e=0;e<a.length;++e){$("#billingAddressForm #address."+a[e]).val($("#address\\."+a[e]).val())}}if(d()&&!c()){b()}else{$(window).ready(function(){var e=document.getElementById("useDeliveryAddress");if(e){e.checked=false;e.click()}})}});
</script>

</body>
</html>
