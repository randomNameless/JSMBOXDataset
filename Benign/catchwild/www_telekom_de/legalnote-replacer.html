<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>legalnote-replacer.html</title>
</head>
<body>

<script>
(()=>{function e(){var e,t=this.parentNode,r=arguments.length;if(t)for(r||t.removeChild(this);r--;)"object"!=typeof(e=arguments[r])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),r?t.insertBefore(e,this.nextSibling):t.replaceChild(e,this)}Element.prototype.replaceWith||(Element.prototype.replaceWith=e),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=e),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=e),function(){var e=[];e.push("\\{ln:[^\\}]+\\}");var t,r=new RegExp("("+e.join("|")+")","ig");function n(e){e.stopPropagation(),e.preventDefault()}function o(e){if(!e)throw new Error("No node was specified in which to search for legalnotes.");for(var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return e.nodeType===Node.TEXT_NODE&&e.textContent.match(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=t.currentNode,o=!1;null!==n;)if(n.nodeType===Node.TEXT_NODE){var i=n;n=t.nextNode();var c=a(i);o=o||c}else n=t.nextNode();o&&window.dispatchEvent(new CustomEvent("MatrixAsteriskPlaceholdersReplaced"))}function a(e){var t=[];if(1===(d=e.textContent.split(r)).length)return!1;for(var o=0;o<d.length;o++){var a=d[o];if(a.match(r)){var i=document.createElement("matrix-asterisk"),c=a.substring(4,a.length-1);if(-1===c.indexOf("?"))i.matrixId=c;else{var d=c.split("?");i.matrixId=d[0];var l=d[1].split("&");for(o=0;o<l.length;o++){var p=l[o].split("=");i.setAttribute("matrix-"+p[0],p[1])}}i.variant="currentcolor",i.addEventListener("click",n),t.push(i)}else t.push(a)}return e.replaceWith.apply(e,t),!0}window.test=r,t=function(){o(document.body)},"interactive"===document.readyState||"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t),function(e){"complete"===document.readyState?e():window.addEventListener("load",e)}((function(){!function(){for(var e=document.querySelectorAll(".dynamic-matrix-asterisk-placeholder"),t=new MutationObserver((function(e){e.forEach((function(e){o(e.target)}))})),r={childList:!0,characterData:!0,subtree:!0},n=0;n<e.length;n++)t.observe(e[n],r)}(),o(document.body)}))}()})();
</script>

</body>
</html>
