<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pubmaticBidAdapter-js.4b98c248dd7afb21.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["8991"],{88059:function(e,t,r){r.r(t),r.d(t,{_getDomainFromURL:function(){return j},assignDealTier:function(){return F},checkVideoPlacement:function(){return X},getDeviceConnectionType:function(){return M},prepareMetaObject:function(){return Y},spec:function(){return V},toOrtbNativeRequest:function(){return J}});var a=r(4511),i=r(60340),n=r(36621),o=r(39864),s=r(94329),d=r(12827),p=r(92618),c=r(67007),l=r(14615),u=r(5850),m=r(39724),g=r(8755),f=r(77062),h=r(31144);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v="pubmatic",w="PubMatic: ",x=void 0,N="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),O={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},I={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array"},R={mimes:I.ARRAY,minduration:I.NUMBER,maxduration:I.NUMBER,startdelay:I.NUMBER,playbackmethod:I.ARRAY,api:I.ARRAY,protocols:I.ARRAY,w:I.NUMBER,h:I.NUMBER,battr:I.ARRAY,linearity:I.NUMBER,placement:I.NUMBER,plcmt:I.NUMBER,minbitrate:I.NUMBER,maxbitrate:I.NUMBER,skip:I.NUMBER},T={ICON:1,IMAGE:3},k={battr:I.ARRAY},E={1:"PMP",5:"PREF",6:"PMPG"},P={bootstrapPlayer:function(e){var t,r={code:e.adUnitCode};if(e.vastXml?r.vastXml=e.vastXml:e.vastUrl&&(r.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl){(0,d.yN)("".concat(w,": No vastXml or vastUrl on bid, bailing..."));return}for(var a=P.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),n=0;n<window.bluebillywig.renderers.length;n++)if(window.bluebillywig.renderers[n]._id===a){t=window.bluebillywig.renderers[n];break}t?t.bootstrap(r,i):(0,d.yN)("".concat(w,": Couldn't find a renderer with ").concat(a))},newRenderer:function(e,t){var r=N.replace("$RENDERER",e),a=g.Th.install({url:r,loaded:!1,adUnitCode:t});try{a.setRender(P.outstreamRender)}catch(e){(0,d.yN)("".concat(w,": Error tying to setRender on renderer"),e)}return a},outstreamRender:function(e){e.renderer.push(function(){P.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},U=[u.Mk,u.pX,u.B5],z=0,C=!1,S=["pubmatic"],_=["all"];function j(e){var t=document.createElement("a");return t.href=e,t.hostname}function A(e,t){if(!(0,d.d8)(t))return t&&(0,d.yN)(w+"Ignoring param key: "+e+", expects string-value, found "+(0,o.Z)(t)),x;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||x;case"yob":return parseInt(t)||x;default:return t}}function M(){var e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(null==e?void 0:e.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function B(e,t,r){var a,i="Ignoring param key: "+e+", expects "+r+", found "+(0,o.Z)(t);switch(r){case I.BOOLEAN:a=d.jn;break;case I.NUMBER:a=d.hj;break;case I.STRING:a=d.d8;break;case I.ARRAY:a=d.kJ}return a(t)?t:((0,d.yN)(w+i),x)}var q={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Z=Object.values(q);function J(e){if(!e&&!(0,d.PO)(e)){(0,d.yN)("".concat(w,": Native assets object is empty or not an object: ").concat(e)),C=!0;return}var t={ver:"1.2",assets:[]};for(var r in e)if(!h.zA.includes(r)){if(!h.FY.hasOwnProperty(r)&&!Z.includes(r)){(0,d.yN)("".concat(w,": Unrecognized native asset code: ").concat(r,". Asset will be ignored."));continue}var a=e[r],i=0;a.required&&(0,d.jn)(a.required)&&(i=Number(a.required));var n={id:t.assets.length,required:i};if(r in q)n.data={type:h.s$[q[r]]},(a.len||a.length)&&(n.data.len=a.len||a.length),a.ext&&(n.data.ext=a.ext);else if("icon"===r||"image"===r){if(n.img={type:"icon"===r?h.oF.ICON:h.oF.MAIN},a.aspect_ratios){if((0,d.kJ)(a.aspect_ratios)){if(a.aspect_ratios.length){var o=a.aspect_ratios[0],s=o.min_width,p=o.min_height;(0,d.U)(s)&&(0,d.U)(p)?(n.img.wmin=s,n.img.hmin=p):(0,d.yN)("".concat(w,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(p));var c=a.aspect_ratios.filter(function(e){return e.ratio_width&&e.ratio_height}).map(function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)});c.length>0&&(n.img.ext={aspectratios:c})}else(0,d.yN)("".concat(w,": image.aspect_ratios was passed, but it's empty: ").concat(a.aspect_ratios))}else(0,d.yN)("".concat(w,": image.aspect_ratios was passed, but it's not a an array: ").concat(a.aspect_ratios))}n.img.w=a.w||a.width,n.img.h=a.h||a.height,n.img.wmin=a.wmin||a.minimumWidth||(a.minsizes?a.minsizes[0]:x),n.img.hmin=a.hmin||a.minimumHeight||(a.minsizes?a.minsizes[1]:x),a.sizes&&(2===a.sizes.length&&(0,d.U)(a.sizes[0])&&(0,d.U)(a.sizes[1])?((0,d.PN)("".concat(w,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),n.img.w=a.sizes[0],n.img.h=a.sizes[1],delete n.img.hmin,delete n.img.wmin):(0,d.yN)("".concat(w,": image.sizes was passed, but its value is not an array of integers: ").concat(a.sizes))),a.ext&&(n.img.ext=a.ext),a.mimes&&(n.img.mimes=a.mimes)}else"title"===r?(n.title={len:a.len||a.length||140},a.ext&&(n.title.ext=a.ext)):"ext"===r&&(n.ext=a,delete n.required);t.assets.push(n)}if(t.assets.length<1){(0,d.yN)("".concat(w,": Could not find any valid asset")),C=!0;return}return t}function X(e,t){!(0,p.Z)(e,"plcmt")&&(0,d.yN)("Video.plcmt param missing for "+t)}function D(e,t){(t=t.filter(function(e){return"string"==typeof e||((0,d.yN)(w+"acat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){return r.indexOf(e)===t})).length>0&&((0,d.yN)(w+"acat: Selected: ",t),e.ext.acat=t)}function F(e,t,r){if(!!(null!=t&&null!==(a=t.ext)&&void 0!==a&&a.prebiddealpriority)){var a,i,n=(0,d.zE)(e.requestId,[r.bidderRequest]),o=(0,p.Z)(n,"mediaTypes.video");if((null==o?void 0:o.context)==u.Oh){var s=(null==t||null===(i=t.ext)||void 0===i||null===(i=i.video)||void 0===i?void 0:i.duration)||(null==o?void 0:o.maxduration);e.video={context:u.Oh,durationSeconds:s,dealTier:t.ext.prebiddealpriority}}}}function L(e){return!0===(0,d.kJ)(e)&&!!(e.length>0)||!1}function Y(e,t,r){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var a=r||t.ext&&t.ext.advid;a&&(e.meta.advertiserId=a,e.meta.agencyId=a,e.meta.buyerId=a),t.adomain&&L(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&L(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0]),t.ext&&t.ext.dsa&&Object.keys(t.ext.dsa).length&&(e.meta.dsa=t.ext.dsa)}var V={code:v,gvlid:76,supportedMediaTypes:[u.Mk,u.pX,u.B5],isBidRequestValid:function(e){if(e&&e.params){if(!(0,d.d8)(e.params.publisherId))return(0,d.yN)(w+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.pX)){var t=(0,p.Z)(e.mediaTypes,"video.mimes"),r=(0,p.Z)(e,"params.video.mimes");if(!1===L(t)&&!1===L(r))return(0,d.yN)(w+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[u.pX].hasOwnProperty("context"))return(0,d.H)("".concat(w,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[u.pX].context&&!(0,d.d8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[u.pX].hasOwnProperty("renderer")){if(!(e.mediaTypes.hasOwnProperty(u.Mk)||e.mediaTypes.hasOwnProperty(u.B5)))return(0,d.H)("".concat(w,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1;delete e.mediaTypes[u.pX],(0,d.yN)("".concat(w,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e)}}return!0}return!1},buildRequests:function(e,t){t&&t.refererInfo&&(Z=t.refererInfo);var r,a,n,s,l,g,h,y,N,I,E,P,U,q,Z,F,L,Y={pageURL:(null==(h=Z)?void 0:h.page)||window.location.href,refURL:(null==h?void 0:h.ref)||window.document.referrer};var V=(r=Y,{id:""+new Date().getTime(),at:1,cur:["USD"],imp:[],site:{page:r.pageURL,ref:r.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:M()},user:{},ext:{}}),G="",H=[],$=[],W=[],K=(0,d.DO)();if(e.forEach(function(e){if(e.params.wiid=e.params.wiid||t.auctionId||K,(F=(0,d.I8)(e)).params.adSlot=F.params.adSlot||"",!function(e){e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,d.d8)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,d.yN)(v+": adSlot must be a string. Ignoring adSlot"),""));var t,r=e.params.adSlot,a=r.split(":");if(r=a[0],2==a.length&&(e.params.adUnitIndex=a[1]),a=r.split("@"),e.params.adUnit=a[0],a.length>1){if(2!=(a=a[1].split("x")).length){(0,d.yN)(w+"AdSlot Error: adSlot not in required format");return}e.params.width=parseInt(a[0],10),e.params.height=parseInt(a[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(u.Mk)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,n=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&n.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=n,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(F),F.mediaTypes&&F.mediaTypes.hasOwnProperty("video")||F.params.hasOwnProperty("video"));else if(!(F.hasOwnProperty("mediaTypes")&&F.mediaTypes.hasOwnProperty(u.B5))&&0===F.params.width&&0===F.params.height){(0,d.yN)(w+"Skipping the non-standard adslot: ",F.params.adSlot,JSON.stringify(F));return}Y.pubId=Y.pubId||F.params.publisherId,(Y=function(e,t){var r,a,i;for(r in!t.kadpageurl&&(t.kadpageurl=t.pageURL),O)O.hasOwnProperty(r)&&(a=e[r])&&(i=O[r],"object"===(0,o.Z)(i)&&(a=i.f(a,t)),(0,d.d8)(a)?t[r]=a:(0,d.yN)(w+"Ignoring param : "+r+" with value : "+O[r]+", expects string-value, found "+(0,o.Z)(a)));return t}(F.params,Y)).transactionId=null===(r=F.ortb2Imp)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.tid,""===G?G=F.params.currency||x:F.params.hasOwnProperty("currency")&&G!==F.params.currency&&(0,d.yN)(w+"Currency specifier ignored. Only one currency permitted."),F.params.currency=G,F.params.hasOwnProperty("dctr")&&(0,d.d8)(F.params.dctr)&&H.push(F.params.dctr),F.params.hasOwnProperty("bcat")&&(0,d.kJ)(F.params.bcat)&&($=$.concat(F.params.bcat)),F.params.hasOwnProperty("acat")&&(0,d.kJ)(F.params.acat)&&(W=W.concat(F.params.acat));var r,a=function(e,t){var r,a,i,n,s,l,g={},f={},h=e.hasOwnProperty("sizes")?e.sizes:[],y="",v=[],N=null==t||null===(i=t.paapi)||void 0===i?void 0:i.enabled;if(r=g={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:A("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:A("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?A("currency",e.params.currency):"USD",displaymanager:"Prebid.js",displaymanagerver:"9.18.0",pmp:(null===(n=e.ortb2Imp)||void 0===n?void 0:n.pmp)||void 0},(a=e).params.deals&&((0,d.kJ)(a.params.deals)?a.params.deals.forEach(function(e){(0,d.d8)(e)&&e.length>3?(!r.pmp&&(r.pmp={private_auction:0,deals:[]}),r.pmp.deals.push({id:e})):(0,d.yN)(w+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):(0,d.yN)(w+"Error: bid.params.deals should be an array of strings.")),!function(e,t){var r,a="";if(t.params.dctr){if(a=t.params.dctr,(0,d.d8)(a)&&a.length>0){var i=a.split("|");a="",i.forEach(function(e){a+=e.length>0?e.trim()+"|":""}),r=a.length,"|"===a.substring(r,r-1)&&(a=a.substring(0,r-1)),e.ext.key_val=a.trim()}else(0,d.yN)(w+"Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value")}}(g,e),!function(e,t){var r,a=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,i="";if(void 0!==a&&""!==a&&a.hasOwnProperty("segments")){var n=a.segments.length;i+="jw-id="+a.content.id;for(var o=0;o<n;o++)i+="|jw-"+a.segments[o]+"=1";(r=e.ext)&&void 0===r.key_val?r.key_val=i:r.key_val+="|"+i}}(g,e),e.hasOwnProperty("mediaTypes"))for(y in e.mediaTypes)switch(y){case u.Mk:(s=function(e){var t,r=e.mediaTypes.banner.sizes,a=[];if(r!==x&&(0,d.kJ)(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=x,(0,d.yN)(w+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}r.length>0&&(a=[],r.forEach(function(e){e.length>1&&a.push({w:e[0],h:e[1]})}),a.length>0&&(t.format=a)),t.pos=0,t.topframe=(0,d.yL)()?0:1;var i=b({},(0,p.Z)(e,"ortb2Imp.banner"));for(var n in k)i.hasOwnProperty(n)&&(t[n]=B(n,i[n],k[n]))}else(0,d.yN)(w+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=x;return t}(e))!==x&&(g.banner=s);break;case u.B5:f.request=JSON.stringify(function(e){var t;if(e.ortb){t=b(b({ver:"1.2"},e=e.ortb),{},{assets:[]});var r=e.assets,a=function(e){return e.title||e.img||e.data||e.video};if(r.length<1||!r.some(function(e){return a(e)}))return(0,d.yN)("".concat(w,": Native assets object is empty or contains some invalid object")),C=!0,t;r.forEach(function(e){e.img&&(e.img.type==T.IMAGE?(e.w=e.w||e.width||(e.sizes?e.sizes[0]:x),e.h=e.h||e.height||(e.sizes?e.sizes[1]:x),e.wmin=e.wmin||e.minimumWidth||(e.minsizes?e.minsizes[0]:x),e.hmin=e.hmin||e.minimumHeight||(e.minsizes?e.minsizes[1]:x)):e.img.type==T.ICON&&(e.w=e.w||e.width||(e.sizes?e.sizes[0]:x),e.h=e.h||e.height||(e.sizes?e.sizes[1]:x))),e&&void 0!==e.id&&a(e)&&t.assets.push(e)})}else t=J(e);return t}(e.nativeParams)),C?((0,d.yN)(w+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),C=!1):g.native=f;break;case u.pX:(l=function(e){var t,r=(0,d.Ee)((0,p.Z)(e.mediaTypes,"video"),e.params.video);if(r!==x){for(var a in t={},X(r,e.adUnitCode),R)r.hasOwnProperty(a)&&(t[a]=B(a,r[a],R[a]));(0,d.kJ)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,d.hj)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=x,(0,d.yN)(w+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}(e))!==x&&(g.video=l)}else s={pos:0,w:e.params.width,h:e.params.height,topframe:(0,d.yL)()?0:1},(0,d.kJ)(h)&&h.length>1&&((h=h.splice(1,h.length-1)).forEach(function(e){v.push({w:e[0],h:e[1]})}),s.format=v),g.banner=s;return function(e,t){var r=b({},(0,p.Z)(t,"ortb2Imp.ext.data"));Object.keys(r).forEach(function(t){"pbadslot"===t?"string"==typeof r[t]&&r[t]&&(0,c.N)(e,"ext.data.pbadslot",r[t]):"adserver"===t?["name","adslot"].forEach(function(t){var a=(0,p.Z)(r,"adserver.".concat(t));"string"==typeof a&&a&&((0,c.N)(e,"ext.data.adserver.".concat(t.toLowerCase()),a),"adslot"===t&&(0,c.N)(e,"ext.dfp_ad_unit_code",a))}):(0,c.N)(e,"ext.data.".concat(t),r[t])});var a=(0,p.Z)(t,"ortb2Imp.ext.gpid");a&&(0,c.N)(e,"ext.gpid",a)}(g,e),function(e,t){var r=-1;"function"==typeof t.getFloor&&!m.vc.getConfig("pubmatic.disableFloors")&&[u.Mk,u.pX,u.B5].forEach(function(a){if(e.hasOwnProperty(a)){var i=[];"banner"===a&&(e[a].w&&e[a].h&&i.push([e[a].w,e[a].h]),(0,d.kJ)(e[a].format)&&e[a].format.forEach(function(e){return i.push([e.w,e.h])})),0===i.length&&i.push("*"),i.forEach(function(i){var n=t.getFloor({currency:e.bidfloorcur,mediaType:a,size:i});if((0,d.PN)(w,"floor from floor module returned for mediatype:",a," and size:",i," is: currency",n.currency,"floor",n.floor),"object"===(0,o.Z)(n)&&n.currency===e.bidfloorcur&&!isNaN(parseInt(n.floor))){var s=parseFloat(n.floor);(0,d.PN)(w,"floor from floor module:",s,"previous floor value",r,"Min:",Math.min(s,r)),r=-1===r?s:Math.min(s,r),(0,d.PN)(w,"new floor value:",r)}})}}),e.bidfloor&&((0,d.PN)(w,"floor from floor module:",r,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(r,e.bidfloor)),r=Math.max(r,e.bidfloor)),e.bidfloor=!isNaN(r)&&r>0?r:x,(0,d.PN)(w,"new impObj.bidfloor value:",e.bidfloor)}(g,e),function(e,t,r){var a,i;r?(e.ext=e.ext||{},(null==t||null===(a=t.ortb2Imp)||void 0===a||null===(a=a.ext)||void 0===a?void 0:a.ae)!==void 0&&(e.ext.ae=t.ortb2Imp.ext.ae)):null!==(i=e.ext)&&void 0!==i&&i.ae&&delete e.ext.ae}(g,e,N),g.hasOwnProperty(u.Mk)||g.hasOwnProperty(u.B5)||g.hasOwnProperty(u.pX)?g:x}(F,t);a&&V.imp.push(a)}),0!=V.imp.length){V.site.publisher.id=Y.pubId.trim(),z=Y.pubId.trim(),V.ext.wrapper={},V.ext.wrapper.profile=parseInt(Y.profId)||x,V.ext.wrapper.version=parseInt(Y.verId)||x,V.ext.wrapper.wiid=Y.wiid||t.auctionId,V.ext.wrapper.wv="prebid_prebid_9.18.0",V.ext.wrapper.transactionId=Y.transactionId,V.ext.wrapper.wp="pbjs";var Q=t?f.S.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==Q){if(V.ext.marketplace={},t&&!0==Q){var ee=f.S.get(t.bidderCode,"allowedAlternateBidderCodes");S=(0,d.kJ)(ee)?(ee=ee.map(function(e){return e.trim().toLowerCase()}).filter(function(e){return!!e}).filter(d.tT)).includes("*")?_:[].concat((0,i.Z)(S),(0,i.Z)(ee)):_}V.ext.marketplace.allowedbidders=S.filter(d.tT)}V.user.gender=Y.gender?Y.gender.trim():x,V.user.geo={},V.user.yob=A("yob",Y.yob),V.site.page=Y.kadpageurl.trim()||V.site.page.trim(),V.site.domain=j(V.site.page),"object"===(0,o.Z)(m.vc.getConfig("content"))&&(V.site.content=m.vc.getConfig("content")),"object"===(0,o.Z)(m.vc.getConfig("device"))&&(V.device=Object.assign(V.device,m.vc.getConfig("device"))),V.device.language=V.device.language&&V.device.language.split("-")[0],(0,c.N)(V,"source.tid",null==t||null===(y=t.ortb2)||void 0===y||null===(y=y.source)||void 0===y?void 0:y.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(V.test=1),e[0].schain&&(0,c.N)(V,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,c.N)(V,"user.ext.consent",t.gdprConsent.consentString),(0,c.N)(V,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,c.N)(V,"regs.ext.us_privacy",t.uspConsent),null!=t&&null!==(N=t.gppConsent)&&void 0!==N&&N.gppString?((0,c.N)(V,"regs.gpp",t.gppConsent.gppString),(0,c.N)(V,"regs.gpp_sid",t.gppConsent.applicableSections)):null!=t&&null!==(I=t.ortb2)&&void 0!==I&&null!==(I=I.regs)&&void 0!==I&&I.gpp&&((0,c.N)(V,"regs.gpp",t.ortb2.regs.gpp),(0,c.N)(V,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===m.vc.getConfig("coppa")&&(0,c.N)(V,"regs.coppa",1),null!=t&&null!==(E=t.ortb2)&&void 0!==E&&null!==(E=E.regs)&&void 0!==E&&null!==(E=E.ext)&&void 0!==E&&E.dsa&&(0,c.N)(V,"regs.ext.dsa",t.ortb2.regs.ext.dsa),a=V,n=e,s=(0,p.Z)(n,"0.userIdAsEids"),(0,d.kJ)(s)&&s.length>0&&(0,c.N)(a,"user.eids",s);var et=t&&t.ortb2||{},er=et.user,ea=et.device,ei=et.site,en=et.bcat,eo=et.badv;if(ei){var es=V.site,ed=es.page,ep=es.domain,ec=es.ref;(0,d.Ee)(V,{site:ei}),V.site.page=ed,V.site.domain=ep,V.site.ref=ec}return er&&(0,d.Ee)(V,{user:er}),eo&&(0,d.Ee)(V,{badv:eo}),en&&($=$.concat(en)),null!=ea&&ea.sua&&(V.device.sua=null==ea?void 0:ea.sua),null!=ea&&null!==(P=ea.ext)&&void 0!==P&&P.cdep&&(0,c.N)(V,"device.ext.cdep",ea.ext.cdep),null!=er&&er.geo&&null!=ea&&ea.geo?(V.device.geo=b(b({},V.device.geo),ea.geo),V.user.geo=b(b({},V.user.geo),er.geo)):(null!=er&&er.geo||null!=ea&&ea.geo)&&(V.user.geo=V.device.geo=null!=er&&er.geo?b(b({},V.user.geo),er.geo):b(b({},V.user.geo),ea.geo)),null!=t&&null!==(U=t.ortb2)&&void 0!==U&&U.device&&(0,d.Ee)(V.device,t.ortb2.device),null!==(q=et.ext)&&void 0!==q&&null!==(q=q.prebid)&&void 0!==q&&null!==(q=q.bidderparams)&&void 0!==q&&null!==(q=q[t.bidderCode])&&void 0!==q&&q.acat?D(V,et.ext.prebid.bidderparams[t.bidderCode].acat):W.length&&D(V,W),l=V,(g=(g=$).filter(function(e){return"string"==typeof e||((0,d.yN)(w+"bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){if(e.length>3)return r.indexOf(e)===t;(0,d.yN)(w+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length>0&&((0,d.yN)(w+"bcat: Selected: ",g),l.bcat=g),null!=t&&t.timeout?V.tmax=t.timeout:V.tmax=null===(L=window)||void 0===L||null===(L=L.PWT)||void 0===L||null===(L=L.versionDetails)||void 0===L?void 0:L.timeout,V.ext.epoch=new Date().getTime(),"object"===(0,o.Z)(m.vc.getConfig("app"))&&(V.app=m.vc.getConfig("app"),V.app.publisher=V.site.publisher,V.app.ext=V.site.ext||x,"object"!==(0,o.Z)(V.app.content)&&(V.app.content=V.site.content||x),delete V.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(V),bidderRequest:t}}},interpretResponse:function(e,t){var r=[],i="USD",n=JSON.parse(t.data),o=n.site&&n.site.ref?n.site.ref:"";try{e.body&&e.body.seatbid&&(0,d.kJ)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(function(e){e.bid&&(0,d.kJ)(e.bid)&&e.bid.forEach(function(a){var s={requestId:a.impid,cpm:parseFloat((a.price||0).toFixed(2)),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:i,netRevenue:!0,ttl:300,referrer:o,ad:a.adm,pm_seat:e.seat||null,pm_dspid:a.ext&&a.ext.dspid?a.ext.dspid:null,partnerImpId:a.id||""};n.imp&&n.imp.length>0&&n.imp.forEach(function(e){if(a.impid===e.id)switch(!function(e,t){if(e.ext&&void 0!=e.ext.bidtype)t.mediaType=U[e.ext.bidtype];else{(0,d.PN)(w+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var r=e.adm,a="",i=new RegExp(/VAST\s+version/);if(r.indexOf('span class="PubAPIAd"')>=0)t.mediaType=u.Mk;else if(i.test(r))t.mediaType=u.pX;else try{(a=JSON.parse(r.replace(/\\/g,"")))&&a.native&&(t.mediaType=u.B5)}catch(e){(0,d.yN)(w+"Error: Cannot parse native reponse for ad response: "+r)}}}(a,s),s.mediaType){case u.Mk:break;case u.pX:s.width=a.hasOwnProperty("w")?a.w:e.video.w,s.height=a.hasOwnProperty("h")?a.h:e.video.h,s.vastXml=a.adm,!function(e,t){var r,a,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var n=0;n<t.bidderRequest.bids.length;n++)if(t.bidderRequest.bids[n].bidId===e.requestId){r=t.bidderRequest.bids[n].params;a=t.bidderRequest.bids[n].mediaTypes[u.pX].context,i=t.bidderRequest.bids[n].adUnitCode}a&&"outstream"===a&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=P.newRenderer(e.rendererCode,i))}}(s,t),F(s,a,t);break;case u.B5:!function(e,t){if(e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){(0,d.yN)(w+"Error: Cannot parse native reponse for ad response: "+t.adm);return}t.native={ortb:b({},r.native)},t.mediaType=u.B5,!t.width&&(t.width=0),!t.height&&(t.height=0)}}(a,s)}}),a.ext&&a.ext.deal_channel&&(s.dealChannel=E[a.ext.deal_channel]||null),Y(s,a,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),a.ext&&a.ext.marketplace&&(s.bidderCode=a.ext.marketplace),r.push(s)})}));var s=(0,p.Z)(e.body,"ext.fledge_auction_configs");if(s)return s=Object.entries(s).map(function(e){var t=(0,a.Z)(e,2),r=t[0],i=t[1];return{bidId:r,config:Object.assign({auctionSignals:{}},i)}}),{bids:r,paapi:s}}catch(e){(0,d.H)(e)}return r},getUserSyncs:function(e,t,r,a,i){var n,o,s=""+z;return(r&&(s+="&gdpr="+(r.gdprApplies?1:0)+("&gdpr_consent="+encodeURIComponent(r.consentString||""))),a&&(s+="&us_privacy="+encodeURIComponent(a)),null!=i&&i.gppString&&null!=i&&null!==(n=i.applicableSections)&&void 0!==n&&n.length&&(s+="&gpp="+encodeURIComponent(i.gppString)+("&gpp_sid="+encodeURIComponent(null==i||null===(o=i.applicableSections)||void 0===o?void 0:o.join(",")))),!0===m.vc.getConfig("coppa")&&(s+="&coppa=1"),e.iframeEnabled)?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+s}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+s}]}};(0,l.dX)(V),(0,s.z)("pubmaticBidAdapter")},67007:function(e,t,r){r.d(t,{N:function(){return a}});function a(e,t,r){t.split&&(t=t.split("."));for(var a,i,n=0,o=t.length,s=e;n<o&&"__proto__"!=(i=""+t[n++])&&"constructor"!==i&&"prototype"!==i;){;s=s[i]=n===o?r:typeof(a=s[i])==typeof t?a:0*t[n]!=0||~(""+t[n]).indexOf(".")?{}:[]}}}}]);
//# sourceMappingURL=pubmaticBidAdapter-js.4b98c248dd7afb21.js.map
</script>

</body>
</html>
