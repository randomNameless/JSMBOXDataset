<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>aon-a9a86b59.html</title>
</head>
<body>
<script>var ks=Object.defineProperty;var xs=(s,e,t)=>e in s?ks(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var y=(s,e,t)=>(xs(s,typeof e!="symbol"?e+"":e,t),t);import{C as m,_ as at,c as Cs,A as As,m as Ts,d as Es,r as Pt}from"./index-c8557f21.js";import{u as lt,a as Mt,b as Ls,c as Is,g as zt,i as re,d as ne,S as $t,_ as g,r as Ft,n as L,w as te,e as oe,x as z,f as ue,h as Y,s as N,H as Vt,L as Me,j as he,k as fe,l as ye,m as gt,o as Ee,p as js,q as Ps}from"./chunk.Q6NMJ6U4-35e725db.js";import{e as ce,l as de,t as Ms,S as ct,M as zs,a as Ve,u as qe,s as mt,b as $s}from"./stimulus-timeago.es-9b3eee1f.js";import{u as qt}from"./stimulus_reflex.min-af4899eb.js";import{d as Fs}from"./chunk.HXDEZU3K-3b59c50b.js";/*! js-cookie v3.0.1 | MIT */function we(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)s[i]=t[i]}return s}var Vs={read:function(s){return s[0]==='"'&&(s=s.slice(1,-1)),s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(s){return encodeURIComponent(s).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Je(s,e){function t(r,o,n){if(!(typeof document>"u")){n=we({},e,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in n)n[l]&&(a+="; "+l,n[l]!==!0&&(a+="="+n[l].split(";")[0]));return document.cookie=r+"="+s.write(o,r)+a}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var o=document.cookie?document.cookie.split("; "):[],n={},a=0;a<o.length;a++){var l=o[a].split("="),c=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(n[d]=s.read(c,d),r===d)break}catch{}}return r?n[r]:n}}return Object.create({set:t,get:i,remove:function(r,o){t(r,"",we({},o,{expires:-1}))},withAttributes:function(r){return Je(this.converter,we({},this.attributes,r))},withConverter:function(r){return Je(we({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(s)}})}var ee=Je(Vs,{path:"/"});class Ze extends m{connect(){lt(this),Mt(this),this.element.activityButtonsController=this,this.boundMarkedListener=this.handleMarked.bind(this),this.boundUnmarkedListener=this.handleUnmarked.bind(this),this.element.addEventListener("activity-streams--button:marked",this.boundMarkedListener),this.element.addEventListener("activity-streams--button:unmarked",this.boundUnmarkedListener)}disconnect(){this.element.removeEventListener("activity-streams--button:marked",this.boundMarkedListener),this.element.removeEventListener("activity-streams--button:unmarked",this.boundUnmarkedListener)}appear(){const e=ee.get("user_signed_in")==="true";!this.markedOnAppearance&&e&&(this.markButtons(),this.markedOnAppearance=!0)}markButtons(){let e=[],t=[];this.buttonTargets.forEach(o=>{e.push(o.activityStreamButton.resourceIdValue),t.push(o.activityStreamButton.resourceTypeValue)}),e=[...new Set(e)].join(","),t=[...new Set(t)].join(",");const i=new URLSearchParams({ids:e,streamable_types:t}),r=`${this.urlValue}?${i.toString()}`;fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(o=>{this.buttonTargets.forEach(n=>{let a=o[n.activityStreamButton.markIdValue],l=n.activityStreamButton.kindValue.replace(/-/g,"_");a&&a.includes(l)&&(n.activityStreamButton.marked=!0)})}).catch(o=>{})}handleMarked(e){ee.get("user_signed_in")==="true"?this._toggleMarked(e,this.markUrlValue):window.location.href=this.joinUrlValue}handleUnmarked(e){ee.get("user_signed_in")==="true"?this._toggleMarked(e,this.unmarkUrlValue):window.location.href=this.joinUrlValue}_toggleMarked(e,t){e.detail.source.activityStreamButton.disabled=!0,fetch(t,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-Token":this.csrfToken},body:JSON.stringify({sgid:e.detail.resourceSgid,kind:e.detail.kind})}).then(i=>i.json()).then(i=>{i.message&&i.message==="ok"&&(e.detail.source.activityStreamButton.disabled=!1)}).catch(i=>{e.detail.source.activityStreamButton.disabled=!1,e.detail.source.classList.remove("disabled")})}}y(Ze,"targets",["button"]),y(Ze,"values",{url:String,markUrl:String,unmarkUrl:String,joinUrl:String});const qs=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));class Ds extends m{connect(){this.boundAnalyticsEventListener=this.analyticsEventListener.bind(this),document.addEventListener("analytics:userEvent",this.boundAnalyticsEventListener)}disconnect(){document.removeEventListener("analytics:userEvent",this.boundAnalyticsEventListener)}analyticsEventListener(e){let t=this[e.detail.handler];typeof t=="function"&&t.call(this,{detail:e.detail.data})}sendEvent(e){this.sendGtagEvent(e.currentTarget.dataset.gaEventAction,{event_category:e.currentTarget.dataset.gaEventCategory,event_label:e.currentTarget.dataset.gaEventLabel})}handleBasicGaEvent({detail:{gaAction:e,gaCategory:t,gaLabel:i}}){this.sendGtagEvent(e,{event_category:t,event_label:i})}handleAtlasAction({detail:{marked:e,kind:t}}){const i={"has-done":"I've Been Here","wants-to":"I Want to Go Here"},r=e==!0?i[t]:`Deleted ${i[t]}`;this.sendGtagEvent(r,{event_category:"Atlas Action"})}handleAtlasListAction({detail:{marked:e}}){const t=e==!0?"Added to List":"Removed from List";this.sendGtagEvent(t,{event_category:"Atlas Action"})}handleAtlasListCreateAction(){this.sendGtagEvent("Created List and Added",{event_category:"Atlas Action"})}sendGtagEvent(e,t={}){t.event_label==="@PATH@"&&(t.event_label=window.location.pathname),gtag("event",e,t)}}const Bs=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"}));class Dt extends m{toggle(){this.targetElements().forEach(e=>{e.classList.contains("hidden")?ce(e):de(e)})}appear(){this.targetElements().forEach(e=>{ce(e)})}vanish(e){this.targetElements().forEach(t=>{de(t)})}vanishOutsideClick(e){this.triggerTarget.contains(e.target)||this.targetElements().forEach(i=>{de(i)})}targetElements(){const e=this.triggerTarget.dataset.apparateSubjectSelector;return typeof e<"u"?document.querySelectorAll(e):[this.subjectTarget]}}y(Dt,"targets",["trigger","subject"]);const Hs=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"}));class Ks extends m{connect(){qt.register(this)}beforeReflex(e,t,i,r){}reflexSuccess(e,t,i,r){}reflexError(e,t,i,r){}reflexHalted(e,t,i,r){}afterReflex(e,t,i,r){}finalizeReflex(e,t,i,r){}}const Rs=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"}));class Bt extends m{close(){ee.set(this.cookieNameValue,!0,{expires:10}),this.element.remove()}}y(Bt,"values",{cookieName:String});const Ns=Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}));class Us extends m{selectAll(e){e.preventDefault(),this.element.querySelectorAll("input[type='checkbox']").forEach(t=>{t.checked=!0})}}const Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"}));class Ys extends m{connect(){fetch("/aon/csrf.json",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e=>e.json()).then(e=>{this.setCsrfTokens(e.param,e.token),this.reEnableForms()})}setCsrfTokens(e,t){const i=document.querySelector('meta[name="csrf-param"]'),r=document.querySelector('meta[name="csrf-token"]'),o=document.querySelectorAll(`input[name="${e}"]`);i&&(i.content=e),r&&(r.content=t),o.length>0&&o.forEach(n=>{n.value=t})}reEnableForms(){document.querySelector("body").removeAttribute("data-js-forms-disabled")}}const Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Ys},Symbol.toStringTag,{value:"Module"}));class Ht extends m{open(){this.dialogTarget.show()}}y(Ht,"targets",["dialog"]);const Qs=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"}));class Js extends m{filter(e){e.preventDefault();const t=document.querySelectorAll(this.element.dataset.filterElementsSelector),i=this.element.querySelectorAll("[data-action='element-filter#filter']"),r=e.srcElement.dataset.filterClass;r&&(i.forEach(o=>{o.disabled=!0;let n=o.dataset.filterActiveClass.split(" "),a=o.dataset.filterInactiveClass.split(" ");o===e.srcElement?(o.classList.add(...n),o.classList.remove(...a)):(o.classList.remove(...a),o.classList.remove(...n))}),t.forEach(o=>{o.classList.remove("hidden"),o.classList.contains(r)||o.classList.add("hidden")}),i.forEach(o=>{o.disabled=!1}))}}const Zs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"}));class Xs extends m{connect(){this.isLoaded&&this.fadeIn()}fadeIn(){this.element.querySelector("img").classList.remove("opacity-0")}get isLoaded(){return this.element.querySelector("img").complete}}const ei=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"}));class Xe extends m{connect(){lt(this),Mt(this),this.element.listButtonsController=this,this.boundListener=this.listPopupComponentUpdated.bind(this),this.element.addEventListener("aon--lists-popup-component:updated",this.boundListener)}disconnect(){this.element.removeEventListener("aon--lists-popup-component:updated",this.boundListener)}listPopupComponentUpdated(){this.markButtons()}appear(){ee.get("user_signed_in")==="true"&&!this.markedOnAppearance&&(this.markButtons(),this.markedOnAppearance=!0)}markButtons(){let e=[],t=[];this.buttonTargets.forEach(r=>{e.push(r.dataset.listButtonsListableId),t.push(r.dataset.listButtonsListableType)}),e=[...new Set(e)].join(","),t=[...new Set(t)].join(",");const i=new URLSearchParams({ids:e,types:t});fetch(`${this.urlValue}?`+i,{method:"GET",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{let o=r.map(n=>`lists-popup-button-${n}`);this.buttonTargets.forEach(n=>{var l;let a=n.querySelector(".aon-toggle-button").toggleButton;o.includes((l=n.dataset)==null?void 0:l.listButtonId)?(a.active=!0,a.markClones(!0)):(a.active=!1,a.markClones(!1))})})}}y(Xe,"targets",["button"]),y(Xe,"values",{url:String});const ti=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));class Kt extends m{open(e){e.preventDefault(),window.open(this.hrefValue,this.titleValue,this.optionsValue)}}y(Kt,"values",{href:String,title:String,options:String});const si=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));class ii extends m{scrollToLink(e){e.preventDefault(),document.querySelector(e.currentTarget.hash).scrollIntoView({behavior:"smooth",block:"start"})}}const ri=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"}));class Rt extends m{tabShown(e){this.dispatch("userEvent",{prefix:"analytics",detail:{handler:"handleBasicGaEvent",data:{gaAction:`Viewed ${this.sectionValue} Tab`,gaCategory:this.pageValue,gaLabel:e.detail.name}}})}}y(Rt,"values",{page:String,section:String});const ni=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"}));class oi extends m{connect(){const e=this.element;Ls(this,{attributes:!0,attributeFilter:["data-tooltip"]}),tippy(e,{theme:"aon",content:e.dataset.tooltip,delay:[500,100],allowHTML:!0,zIndex:500,onShow(t){tippy.currentInput.isTouch&&setTimeout(()=>{t.hide()},4e3)}})}mutate(e){e.forEach(t=>{t.target._tippy.setProps({content:t.target.dataset.tooltip})})}}const ai=Object.freeze(Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"}));class Nt extends m{connect(){this.menuTarget.classList.remove("hidden"),Ms(this.buttonTarget,{theme:"aon",trigger:"click",placement:"bottom-end",interactive:!0,content:this.menuTarget,delay:[100,100],allowHTML:!0,zIndex:500})}}y(Nt,"targets",["button","menu"]);const li=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));class Ut extends m{showTargets(){this.hideableTargets.forEach(e=>{e.classList.remove("hidden")})}hideTargets(){this.hideableTargets.forEach(e=>{e.classList.add("hidden")})}removeTrigger(){this.triggerTarget.remove()}toggleTargets(){this.hideableTargets.forEach(e=>{e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden")})}}y(Ut,"targets",["hideable","trigger"]);const ci=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));class Gt extends m{connect(){this.element.activityStreamButton=this,this.refreshButton()}refreshButton(){this.markedValue?this.element.classList.add("marked"):this.element.classList.remove("marked")}redirectIfGuest(e){ee.get("user_signed_in")==="true"||(e.preventDefault(),e.stopPropagation(),window.location.href="/join")}markedValueChanged(){this.refreshButton()}handleToggled(e){if(this.element.classList.contains("disabled")){e.preventDefault(),e.stopPropagation();return}const t={resourceSgid:this.resourceSgidValue,source:this.element,kind:this.kindValue};this.markedValue=e.detail.active,this.markedValue?(this.dispatch("marked",{detail:t,prefix:"activity-streams--button"}),this.dispatch("activityButtonToggled",{detail:{marked:this.markedValue,kind:this.kindValue},prefix:"aon-event"})):(this.dispatch("unmarked",{detail:t,prefix:"activity-streams--button"}),this.dispatch("activityButtonToggled",{detail:{marked:this.markedValue,kind:this.kindValue},prefix:"aon-event"}))}set disabled(e){e===!0?this.element.classList.add("disabled"):this.element.classList.remove("disabled")}set marked(e){let t=e.toString().toLowerCase();t!==this.markedValue.toString().toLowerCase()&&(this.markedValue=t!=="false",this.element.querySelector(".aon-toggle-button").toggleButton.active=this.markedValue)}get marked(){return this.markedValue}}y(Gt,"values",{marked:Boolean,markId:String,resourceSgid:String,resourceId:String,resourceType:String,kind:String});const di=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"}));class Yt extends m{connect(){at(()=>import("./splide.esm-4df1a7b1.js"),[]).then(e=>{this.splide=e.default,this.initCarousel()})}disconnect(){this.carousel.destroy("completely")}initCarousel(){let e={};this.carousel=new this.splide(this.element,{...e,...this.optsValue}),this.carousel.mount()}}y(Yt,"values",{opts:Object});const ui=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"}));class pi extends m{connect(){}}const hi=Object.freeze(Object.defineProperty({__proto__:null,default:pi},Symbol.toStringTag,{value:"Module"}));var De=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Be(s,e,t,i){s.addEventListener?s.addEventListener(e,t,i):s.attachEvent&&s.attachEvent("on".concat(e),function(){t(window.event)})}function Wt(s,e){for(var t=e.slice(0,e.length-1),i=0;i<t.length;i++)t[i]=s[t[i].toLowerCase()];return t}function Qt(s){typeof s!="string"&&(s=""),s=s.replace(/\s/g,"");for(var e=s.split(","),t=e.lastIndexOf("");t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function fi(s,e){for(var t=s.length>=e.length?s:e,i=s.length>=e.length?e:s,r=!0,o=0;o<t.length;o++)i.indexOf(t[o])===-1&&(r=!1);return r}var ge={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":De?173:189,"=":De?61:187,";":De?59:186,"'":222,"[":219,"]":221,"\\":220},G={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},et={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},M={16:!1,18:!1,17:!1,91:!1},I={};for(var Se=1;Se<20;Se++)ge["f".concat(Se)]=111+Se;var k=[],vt=!1,Jt="all",Zt=[],ze=function(e){return ge[e.toLowerCase()]||G[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},gi=function(e){return Object.keys(ge).find(function(t){return ge[t]===e})},mi=function(e){return Object.keys(G).find(function(t){return G[t]===e})};function Xt(s){Jt=s||"all"}function me(){return Jt||"all"}function vi(){return k.slice(0)}function bi(){return k.map(function(s){return gi(s)||mi(s)||String.fromCharCode(s)})}function _i(s){var e=s.target||s.srcElement,t=e.tagName,i=!0;return(e.isContentEditable||(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(i=!1),i}function yi(s){return typeof s=="string"&&(s=ze(s)),k.indexOf(s)!==-1}function wi(s,e){var t,i;s||(s=me());for(var r in I)if(Object.prototype.hasOwnProperty.call(I,r))for(t=I[r],i=0;i<t.length;)t[i].scope===s?t.splice(i,1):i++;me()===s&&Xt(e||"all")}function Si(s){var e=s.keyCode||s.which||s.charCode,t=k.indexOf(e);if(t>=0&&k.splice(t,1),s.key&&s.key.toLowerCase()==="meta"&&k.splice(0,k.length),(e===93||e===224)&&(e=91),e in M){M[e]=!1;for(var i in G)G[i]===e&&(R[i]=!1)}}function Oi(s){if(typeof s>"u")Object.keys(I).forEach(function(n){return delete I[n]});else if(Array.isArray(s))s.forEach(function(n){n.key&&He(n)});else if(typeof s=="object")s.key&&He(s);else if(typeof s=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=t[0],o=t[1];typeof r=="function"&&(o=r,r=""),He({key:s,scope:r,method:o,splitKey:"+"})}}var He=function(e){var t=e.key,i=e.scope,r=e.method,o=e.splitKey,n=o===void 0?"+":o,a=Qt(t);a.forEach(function(l){var c=l.split(n),d=c.length,u=c[d-1],p=u==="*"?"*":ze(u);if(I[p]){i||(i=me());var _=d>1?Wt(G,c):[];I[p]=I[p].filter(function(h){var w=r?h.method===r:!0;return!(w&&h.scope===i&&fi(h.mods,_))})}})};function bt(s,e,t,i){if(e.element===i){var r;if(e.scope===t||e.scope==="all"){r=e.mods.length>0;for(var o in M)Object.prototype.hasOwnProperty.call(M,o)&&(!M[o]&&e.mods.indexOf(+o)>-1||M[o]&&e.mods.indexOf(+o)===-1)&&(r=!1);(e.mods.length===0&&!M[16]&&!M[18]&&!M[17]&&!M[91]||r||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(k),e.method(s,e)===!1&&(s.preventDefault?s.preventDefault():s.returnValue=!1,s.stopPropagation&&s.stopPropagation(),s.cancelBubble&&(s.cancelBubble=!0)))}}}function _t(s,e){var t=I["*"],i=s.keyCode||s.which||s.charCode;if(R.filter.call(this,s)){if((i===93||i===224)&&(i=91),k.indexOf(i)===-1&&i!==229&&k.push(i),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(h){var w=et[h];s[h]&&k.indexOf(w)===-1?k.push(w):!s[h]&&k.indexOf(w)>-1?k.splice(k.indexOf(w),1):h==="metaKey"&&s[h]&&k.length===3&&(s.ctrlKey||s.shiftKey||s.altKey||(k=k.slice(k.indexOf(w))))}),i in M){M[i]=!0;for(var r in G)G[r]===i&&(R[r]=!0);if(!t)return}for(var o in M)Object.prototype.hasOwnProperty.call(M,o)&&(M[o]=s[et[o]]);s.getModifierState&&!(s.altKey&&!s.ctrlKey)&&s.getModifierState("AltGraph")&&(k.indexOf(17)===-1&&k.push(17),k.indexOf(18)===-1&&k.push(18),M[17]=!0,M[18]=!0);var n=me();if(t)for(var a=0;a<t.length;a++)t[a].scope===n&&(s.type==="keydown"&&t[a].keydown||s.type==="keyup"&&t[a].keyup)&&bt(s,t[a],n,e);if(i in I){for(var l=0;l<I[i].length;l++)if((s.type==="keydown"&&I[i][l].keydown||s.type==="keyup"&&I[i][l].keyup)&&I[i][l].key){for(var c=I[i][l],d=c.splitKey,u=c.key.split(d),p=[],_=0;_<u.length;_++)p.push(ze(u[_]));p.sort().join("")===k.sort().join("")&&bt(s,c,n,e)}}}}function ki(s){return Zt.indexOf(s)>-1}function R(s,e,t){k=[];var i=Qt(s),r=[],o="all",n=document,a=0,l=!1,c=!0,d="+",u=!1;for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(o=e.scope),e.element&&(n=e.element),e.keyup&&(l=e.keyup),e.keydown!==void 0&&(c=e.keydown),e.capture!==void 0&&(u=e.capture),typeof e.splitKey=="string"&&(d=e.splitKey)),typeof e=="string"&&(o=e);a<i.length;a++)s=i[a].split(d),r=[],s.length>1&&(r=Wt(G,s)),s=s[s.length-1],s=s==="*"?"*":ze(s),s in I||(I[s]=[]),I[s].push({keyup:l,keydown:c,scope:o,mods:r,shortcut:i[a],method:t,key:i[a],splitKey:d,element:n});typeof n<"u"&&!ki(n)&&window&&(Zt.push(n),Be(n,"keydown",function(p){_t(p,n)},u),vt||(vt=!0,Be(window,"focus",function(){k=[]},u)),Be(n,"keyup",function(p){_t(p,n),Si(p)},u))}function xi(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(I).forEach(function(t){var i=I[t].filter(function(r){return r.scope===e&&r.shortcut===s});i.forEach(function(r){r&&r.method&&r.method()})})}var Ke={getPressedKeyString:bi,setScope:Xt,getScope:me,deleteScope:wi,getPressedKeyCodes:vi,isPressed:yi,filter:_i,trigger:xi,unbind:Oi,keyMap:ge,modifier:G,modifierMap:et};for(var Re in Ke)Object.prototype.hasOwnProperty.call(Ke,Re)&&(R[Re]=Ke[Re]);if(typeof window<"u"){var Ci=window.hotkeys;R.noConflict=function(s){return s&&window.hotkeys===R&&(window.hotkeys=Ci),R},window.hotkeys=R}function Ai(s,e){var t={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(s);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(s,i[r])&&(t[i[r]]=s[i[r]]);return t}const Ne={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0};class Ti{constructor(e,t={}){var i,r,o;this.log=(l,c)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${l}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},c)),this.logger.groupEnd())},this.warn=l=>{this.logger.warn(`%c${this.controller.identifier} %c${l}`,"color: #3B82F6; font-weight: bold","color: unset")},this.dispatch=(l,c={})=>{if(this.dispatchEvent){const{event:d}=c,u=Ai(c,["event"]),p=this.extendedEvent(l,d||null,u);this.targetElement.dispatchEvent(p),this.log("dispatchEvent",Object.assign({eventName:p.type},u))}},this.call=(l,c={})=>{const d=this.controller[l];if(typeof d=="function")return d.call(this.controller,c)},this.extendedEvent=(l,c,d)=>{const{bubbles:u,cancelable:p,composed:_}=c||{bubbles:!0,cancelable:!0,composed:!0};return c&&Object.assign(d,{originalEvent:c}),new CustomEvent(this.composeEventName(l),{bubbles:u,cancelable:p,composed:_,detail:d})},this.composeEventName=l=>{let c=l;return this.eventPrefix===!0?c=`${this.controller.identifier}:${l}`:typeof this.eventPrefix=="string"&&(c=`${this.eventPrefix}:${l}`),c},this.debug=(r=(i=t==null?void 0:t.debug)!==null&&i!==void 0?i:e.application.stimulusUseDebug)!==null&&r!==void 0?r:Ne.debug,this.logger=(o=t==null?void 0:t.logger)!==null&&o!==void 0?o:Ne.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.targetElement=(t==null?void 0:t.element)||e.element;const{dispatchEvent:n,eventPrefix:a}=Object.assign({},Ne,t);Object.assign(this,{dispatchEvent:n,eventPrefix:a}),this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)}}class Ei extends Ti{constructor(e,t){super(e,t),this.bind=()=>{for(const[i,r]of Object.entries(this.hotkeysOptions.hotkeys)){const o=r.handler.bind(this.controller);R(i,r.options,n=>o(n,n))}},this.unbind=()=>{for(const i in this.hotkeysOptions.hotkeys)R.unbind(i)},this.controller=e,this.hotkeysOptions=t,this.enhanceController(),this.bind()}enhanceController(){this.hotkeysOptions.filter&&(R.filter=this.hotkeysOptions.filter);const e=this.controller.disconnect.bind(this.controller),t=()=>{this.unbind(),e()};Object.assign(this.controller,{disconnect:t})}}const Li=s=>({handler:s[0],options:{element:s[1]}}),Ii=s=>{if(!s.hotkeys){const e={};Object.entries(s).forEach(([t,i])=>{Object.defineProperty(e,t,{value:Li(i),writable:!1,enumerable:!0})}),s={hotkeys:e}}return s},es=(s,e)=>new Ei(s,Ii(e));class xe extends m{async connect(){await fetch("/aon/map/token",{method:"GET",headers:{"Content-Type":"text/plain"}}).then(e=>e.text()).then(e=>{this.mapTokenValue=e}),this.initMap()}disconnect(){}async setupMapKit(){(!window.mapkit||window.mapkit.loadedLibraries.length===0)&&(await new Promise(e=>{window.initMapKit=e}),delete window.initMapKit),window.mapKitInitialized||(mapkit.init({authorizationCallback:e=>{e(this.mapTokenValue)}}),window.mapKitInitialized=!0)}async initMap(){await this.setupMapKit();const e=await at(()=>import("./index-f03e6f00.js"),[]);this.supercluster=e.default,es(this,{esc:[this.escapeHandler]}),this.refreshMap()}escapeHandler(){this.element.classList.contains(...this.openClasses)&&this.minimizeMap()}refreshMap(){this.loadSupercluster(),this.showMap()}loadSupercluster(){const e=[];this.scIndex=new this.supercluster({radius:120,maxZoom:16,minPoints:3}),JSON.parse(Fs(this.startingPointsValue)).forEach(i=>{i.latitude&&i.longitude&&e.push({type:"Feature",geometry:{type:"Point",coordinates:[i.longitude,i.latitude]},properties:{id:i.id,title:i.title,gastro:i.gastro}})}),this.scIndex.load(e)}_equals(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e.prototype!==t.prototype)return!1;const i=Object.keys(e);return i.length!==Object.keys(t).length?!1:i.every(r=>this._equals(e[r],t[r]))}_annotationId(e){return e.properties.cluster_id?`c-${e.properties.cluster_id}`:`p-${e.properties.id}`}annotateMap(e,t){const i=e.region.toBoundingRegion(),r=this.scIndex.getClusters([i.westLongitude,i.southLatitude,i.eastLongitude,i.northLatitude],t);this.currentZoomLevel||(this.currentZoomLevel=t);let o=this.currentZoomLevel!=t,n=[];if(this.currentAnnotationIds?n=r.filter(a=>!this.currentAnnotationIds.includes(this._annotationId(a))):(this.currentAnnotationIds=[],n=r),n.length>0){const a=n.map(l=>this._createAnnotation(l));e.addAnnotations(a)}if(o&&this.annotations){const a=this.annotations.filter(l=>!r.map(c=>this._annotationId(c)).includes(l.data.annotationId));e.removeAnnotations(a)}this.annotations=e.annotations,this.currentAnnotationIds=e.annotations.map(a=>a.data.annotationId),this.currentZoomLevel=t}_createAnnotation(e){if(e.properties.point_count){const t=new mapkit.Coordinate(parseFloat(e.geometry.coordinates[1]),parseFloat(e.geometry.coordinates[0])),i=this.clusterTemplateTarget.content.firstElementChild.cloneNode(!0),r=e.properties.point_count.toString(),o=40+Math.min(40,e.properties.point_count/10);let n=14;switch(r.length){case 1:n=14;break;case 2:n=16;break;case 3:n=18;break;case 4:n=20;break;default:n=14}return i.querySelector(".cluster-count").innerText=r,i.style.height=`${o}px`,i.style.width=`${o}px`,i.style.fontSize=`${n}px`,i.dataset.latitude=t.latitude,i.dataset.longitude=t.longitude,new mapkit.Annotation(t,()=>i,{animates:!1,data:{annotationId:`c-${e.id}`,clusterId:e.id,isCluster:!0}})}else{const t=new mapkit.Coordinate(parseFloat(e.geometry.coordinates[1]),parseFloat(e.geometry.coordinates[0]));let i={calloutElementForAnnotation:n=>this.fetchCallout(e.properties.id),calloutAnchorOffsetForAnnotation:(n,a)=>new DOMPoint(0,-(a.height+40)),calloutShouldAnimateForAnnotation:n=>!1},r;return e.properties.gastro===!0?r=this.gastroMarkerTemplateTarget.content.firstElementChild.cloneNode(!0):r=this.placeMarkerTemplateTarget.content.firstElementChild.cloneNode(!0),r.setAttribute("title",e.properties.title),new mapkit.Annotation(t,()=>r,{animates:!1,callout:i,data:{annotationId:`p-${e.properties.id}`,isCluster:!1}})}}fetchCallout(e){const t=this.calloutTemplateTarget.content.firstElementChild.cloneNode(!0);let i=t.dataset.url.replace("ID",e);return fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{this.dispatchGaEventOnPinClick(e),t.innerHTML=r.html}),t}dispatchGaEventOnPinClick(e){this.dispatch("userEvent",{prefix:"analytics",detail:{handler:"handleBasicGaEvent",data:{gaAction:"Clicked Pin: "+e,gaCategory:"Dynamic Map",gaLabel:"@PATH@"}}})}_mapkitMapType(){switch(this.mapTypeValue){case"standard":return mapkit.Map.MapTypes.Standard;case"hybrid":return mapkit.Map.MapTypes.Hybrid;case"satellite":return mapkit.Map.MapTypes.Satellite;case"muted-standard":return mapkit.Map.MapTypes.MutedStandard;default:return mapkit.Map.MapTypes.Standard}}showMap(){this.mapTarget.innerHTML="";const e=new mapkit.Coordinate(this.latitudeValue,this.longitudeValue),t=this.scIndex.points.map(r=>{let o=r.geometry.coordinates;return{latitude:parseFloat(o[1]),longitude:parseFloat(o[0])}}),i={mapType:this._mapkitMapType(),isScrollEnabled:this.draggableValue,padding:new mapkit.Padding({top:14,right:14,bottom:14,left:14}),showsMapTypeControl:!1,pointOfInterestFilter:mapkit.PointOfInterestFilter.including(["Aquarium","Hotel","Library","Museum","NationalPark","Park","Zoo"])};if(t.length===1)i.center=e,this.bigMap=new mapkit.Map(this.mapTarget,i),this.bigMap._impl.zoomLevel=this.startingZoomValue;else{const r=this._calcDeltas(t),o=new mapkit.CoordinateSpan(r.latitudeDelta,r.longitudeDelta),n=new mapkit.CoordinateRegion(e,o);i.region=n,this.bigMap&&this._clearMapEventListeners(),this.bigMap=new mapkit.Map(this.mapTarget,i)}this._setMapEventListeners(),this.annotateMap(this.bigMap,this._zoomLevel())}_setMapEventListeners(){this.bigMap.addEventListener("region-change-start",e=>{const t=(function(){let i=e.target;this.annotateMap(i,this._zoomLevel())}).bind(this);this.mapChangeHeartbeat=setInterval(t,50)}),this.bigMap.addEventListener("region-change-end",()=>{this.annotateMap(this.bigMap,this.bigMap._impl.zoomLevel),clearInterval(this.mapChangeHeartbeat)}),this.bigMap.addEventListener("select",e=>{let t=e.annotation;if(t.data.isCluster){let i=this.scIndex.getClusterExpansionZoom(t.data.clusterId),r=new mapkit.Coordinate(t.coordinate.latitude,t.coordinate.longitude);this._centerAndZoomTo(r,i)}else this._enlargeMarker(t)}),this.bigMap.addEventListener("deselect",e=>{const t=e.annotation;t.data.isCluster||t.element.classList.remove("scale-125")})}_clearMapEventListeners(){this.bigMap.removeEventListener("region-change-start"),this.bigMap.removeEventListener("region-change-end"),this.bigMap.removeEventListener("select"),this.bigMap.removeEventListener("deselect")}_enlargeMarker(e){e.element.classList.add("scale-125")}_zoomLevel(){return this.bigMap._impl.zoomLevel}_centerAndZoomTo(e,t){e instanceof mapkit.Coordinate||(e=new mapkit.Coordinate(e.latitude,e.longitude)),this.bigMap.setCenterAnimated(e,!0),t>this.bigMap._impl.zoomLevel&&(this.bigMap._impl.zoomLevel=t)}_calcDeltas(e){let t,i,r,o;(d=>{t=d.latitude,i=d.latitude,r=d.longitude,o=d.longitude})(e[0]),e.map(d=>{t=Math.min(t,d.latitude),i=Math.max(i,d.latitude),r=Math.min(r,d.longitude),o=Math.max(o,d.longitude)});const n=(t+i)/2,a=(r+o)/2,l=i-t,c=o-r;return{latitude:n,longitude:a,latitudeDelta:l,longitudeDelta:c}}maximizeMap(){let e=this.element;e.classList.remove(...this.closedClasses),e.classList.add(...this.openClasses),this.maximizeButtonTarget.classList.add("hidden"),this.minimizeButtonTarget.classList.remove("hidden")}minimizeMap(){let e=this.element;e.classList.remove(...this.openClasses),e.classList.add(...this.closedClasses),this.maximizeButtonTarget.classList.remove("hidden"),this.minimizeButtonTarget.classList.add("hidden")}}y(xe,"values",{startingPoints:String,startingZoom:Number,longitude:Number,latitude:Number,mapType:{type:String,default:"Standard"},draggable:Boolean}),y(xe,"classes",["open","closed"]),y(xe,"targets",["map","maximizeButton","minimizeButton","placeMarkerTemplate","gastroMarkerTemplate","clusterTemplate","calloutTemplate"]);const ji=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));function Ue(s,e){s.split(/\s+/).forEach(t=>{e(t)})}class Pi{constructor(){this._events=void 0,this._events={}}on(e,t){Ue(e,i=>{const r=this._events[i]||[];r.push(t),this._events[i]=r})}off(e,t){var i=arguments.length;if(i===0){this._events={};return}Ue(e,r=>{if(i===1){delete this._events[r];return}const o=this._events[r];o!==void 0&&(o.splice(o.indexOf(t),1),this._events[r]=o)})}trigger(e,...t){var i=this;Ue(e,r=>{const o=i._events[r];o!==void 0&&o.forEach(n=>{n.apply(i,t)})})}}function Mi(s){return s.plugins={},class extends s{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,t){s.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,i;const r=this,o=[];if(Array.isArray(e))e.forEach(n=>{typeof n=="string"?o.push(n):(r.plugins.settings[n.name]=n.options,o.push(n.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(r.plugins.settings[t]=e[t],o.push(t));for(;i=o.shift();)r.require(i)}loadPlugin(e){var t=this,i=t.plugins,r=s.plugins[e];if(!s.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(t,[t.plugins.settings[e]||{}]),i.names.push(e)}require(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]}}}/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const $e=s=>(s=s.filter(Boolean),s.length<2?s[0]||"":$i(s)==1?"["+s.join("")+"]":"(?:"+s.join("|")+")"),ts=s=>{if(!zi(s))return s.join("");let e="",t=0;const i=()=>{t>1&&(e+="{"+t+"}")};return s.forEach((r,o)=>{if(r===s[o-1]){t++;return}i(),e+=r,t=1}),i(),e},ss=s=>{let e=dt(s);return $e(e)},zi=s=>new Set(s).size!==s.length,ve=s=>(s+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),$i=s=>s.reduce((e,t)=>Math.max(e,Fi(t)),0),Fi=s=>dt(s).length,dt=s=>Array.from(s);/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const is=s=>{if(s.length===1)return[[s]];let e=[];const t=s.substring(1);return is(t).forEach(function(r){let o=r.slice(0);o[0]=s.charAt(0)+o[0],e.push(o),o=r.slice(0),o.unshift(s.charAt(0)),e.push(o)}),e};/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const Vi=[[0,65535]],qi="[̀-ͯ·ʾʼ]";let Le,rs;const Di=3,ut={},yt={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let s in yt){let e=yt[s]||"";for(let t=0;t<e.length;t++){let i=e.substring(t,t+1);ut[i]=s}}const Bi=new RegExp(Object.keys(ut).join("|")+"|"+qi,"gu"),Hi=s=>{Le===void 0&&(Le=Ui(s||Vi))},wt=(s,e="NFKD")=>s.normalize(e),Ie=s=>dt(s).reduce((e,t)=>e+Ki(t),""),Ki=s=>(s=wt(s).toLowerCase().replace(Bi,e=>ut[e]||""),wt(s,"NFC"));function*Ri(s){for(const[e,t]of s)for(let i=e;i<=t;i++){let r=String.fromCharCode(i),o=Ie(r);o!=r.toLowerCase()&&(o.length>Di||o.length!=0&&(yield{folded:o,composed:r,code_point:i}))}}const Ni=s=>{const e={},t=(i,r)=>{const o=e[i]||new Set,n=new RegExp("^"+ss(o)+"$","iu");r.match(n)||(o.add(ve(r)),e[i]=o)};for(let i of Ri(s))t(i.folded,i.folded),t(i.folded,i.composed);return e},Ui=s=>{const e=Ni(s),t={};let i=[];for(let o in e){let n=e[o];n&&(t[o]=ss(n)),o.length>1&&i.push(ve(o))}i.sort((o,n)=>n.length-o.length);const r=$e(i);return rs=new RegExp("^"+r,"u"),t},Gi=(s,e=1)=>{let t=0;return s=s.map(i=>(Le[i]&&(t+=i.length),Le[i]||i)),t>=e?ts(s):""},Yi=(s,e=1)=>(e=Math.max(e,s.length-1),$e(is(s).map(t=>Gi(t,e)))),St=(s,e=!0)=>{let t=s.length>1?1:0;return $e(s.map(i=>{let r=[];const o=e?i.length():i.length()-1;for(let n=0;n<o;n++)r.push(Yi(i.substrs[n]||"",t));return ts(r)}))},Wi=(s,e)=>{for(const t of e){if(t.start!=s.start||t.end!=s.end||t.substrs.join("")!==s.substrs.join(""))continue;let i=s.parts;const r=n=>{for(const a of i){if(a.start===n.start&&a.substr===n.substr)return!1;if(!(n.length==1||a.length==1)&&(n.start<a.start&&n.end>a.start||a.start<n.start&&a.end>n.start))return!0}return!1};if(!(t.parts.filter(r).length>0))return!0}return!1};class je{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let i=new je,r=JSON.parse(JSON.stringify(this.parts)),o=r.pop();for(const l of r)i.add(l);let n=t.substr.substring(0,e-o.start),a=n.length;return i.add({start:o.start,end:o.start+a,length:a,substr:n}),i}}const Qi=s=>{Hi(),s=Ie(s);let e="",t=[new je];for(let i=0;i<s.length;i++){let o=s.substring(i).match(rs);const n=s.substring(i,i+1),a=o?o[0]:null;let l=[],c=new Set;for(const d of t){const u=d.last();if(!u||u.length==1||u.end<=i)if(a){const p=a.length;d.add({start:i,end:i+p,length:p,substr:a}),c.add("1")}else d.add({start:i,end:i+1,length:1,substr:n}),c.add("2");else if(a){let p=d.clone(i,u);const _=a.length;p.add({start:i,end:i+_,length:_,substr:a}),l.push(p)}else c.add("3")}if(l.length>0){l=l.sort((d,u)=>d.length()-u.length());for(let d of l)Wi(d,t)||t.push(d);continue}if(i>0&&c.size==1&&!c.has("3")){e+=St(t,!1);let d=new je;const u=t[0];u&&d.add(u.last()),t=[d]}}return e+=St(t,!0),e};/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */const Ji=(s,e)=>{if(s)return s[e]},Zi=(s,e)=>{if(s){for(var t,i=e.split(".");(t=i.shift())&&(s=s[t]););return s}},Ge=(s,e,t)=>{var i,r;return!s||(s=s+"",e.regex==null)||(r=s.search(e.regex),r===-1)?0:(i=e.string.length/s.length,r===0&&(i+=.5),i*t)},Ye=(s,e)=>{var t=s[e];if(typeof t=="function")return t;t&&!Array.isArray(t)&&(s[e]=[t])},q=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},Xi=(s,e)=>typeof s=="number"&&typeof e=="number"?s>e?1:s<e?-1:0:(s=Ie(s+"").toLowerCase(),e=Ie(e+"").toLowerCase(),s>e?1:e>s?-1:0);/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */class er{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,i){if(!e||!e.length)return[];const r=[],o=e.split(/\s+/);var n;return i&&(n=new RegExp("^("+Object.keys(i).map(ve).join("|")+"):(.*)$")),o.forEach(a=>{let l,c=null,d=null;n&&(l=a.match(n))&&(c=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?d=Qi(a)||null:d=ve(a),d&&t&&(d="\\b"+d)),r.push({string:a,regex:d?new RegExp(d,"iu"):null,field:c})}),r}getScoreFunction(e,t){var i=this.prepareSearch(e,t);return this._getScoreFunction(i)}_getScoreFunction(e){const t=e.tokens,i=t.length;if(!i)return function(){return 0};const r=e.options.fields,o=e.weights,n=r.length,a=e.getAttrFn;if(!n)return function(){return 1};const l=function(){return n===1?function(c,d){const u=r[0].field;return Ge(a(d,u),c,o[u]||1)}:function(c,d){var u=0;if(c.field){const p=a(d,c.field);!c.regex&&p?u+=1/n:u+=Ge(p,c,1)}else q(o,(p,_)=>{u+=Ge(a(d,_),c,p)});return u/n}}();return i===1?function(c){return l(t[0],c)}:e.options.conjunction==="and"?function(c){var d,u=0;for(let p of t){if(d=l(p,c),d<=0)return 0;u+=d}return u/i}:function(c){var d=0;return q(t,u=>{d+=l(u,c)}),d/i}}getSortFunction(e,t){var i=this.prepareSearch(e,t);return this._getSortFunction(i)}_getSortFunction(e){var t,i=[];const r=this,o=e.options,n=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof n=="function")return n.bind(this);const a=function(d,u){return d==="$score"?u.score:e.getAttrFn(r.items[u.id],d)};if(n)for(let c of n)(e.query||c.field!=="$score")&&i.push(c);if(e.query){t=!0;for(let c of i)if(c.field==="$score"){t=!1;break}t&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(c=>c.field!=="$score");return i.length?function(c,d){var u,p;for(let _ of i)if(p=_.field,u=(_.direction==="desc"?-1:1)*Xi(a(p,c),a(p,d)),u)return u;return 0}:null}prepareSearch(e,t){const i={};var r=Object.assign({},t);if(Ye(r,"sort"),Ye(r,"sort_empty"),r.fields){Ye(r,"fields");const o=[];r.fields.forEach(n=>{typeof n=="string"&&(n={field:n,weight:1}),o.push(n),i[n.field]="weight"in n?n.weight:1}),r.fields=o}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:r.nesting?Zi:Ji}}search(e,t){var i=this,r,o;o=this.prepareSearch(e,t),t=o.options,e=o.query;const n=t.score||i._getScoreFunction(o);e.length?q(i.items,(l,c)=>{r=n(l),(t.filter===!1||r>0)&&o.items.push({score:r,id:c})}):q(i.items,(l,c)=>{o.items.push({score:1,id:c})});const a=i._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof t.limit=="number"&&(o.items=o.items.slice(0,t.limit)),o}}const le=(s,e)=>{if(Array.isArray(s))s.forEach(e);else for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)},P=s=>{if(s.jquery)return s[0];if(s instanceof HTMLElement)return s;if(ns(s)){var e=document.createElement("template");return e.innerHTML=s.trim(),e.content.firstChild}return document.querySelector(s)},ns=s=>typeof s=="string"&&s.indexOf("<")>-1,tr=s=>s.replace(/['"\\]/g,"\\$&"),We=(s,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),s.dispatchEvent(t)},Oe=(s,e)=>{Object.assign(s.style,e)},V=(s,...e)=>{var t=os(e);s=as(s),s.map(i=>{t.map(r=>{i.classList.add(r)})})},Z=(s,...e)=>{var t=os(e);s=as(s),s.map(i=>{t.map(r=>{i.classList.remove(r)})})},os=s=>{var e=[];return le(s,t=>{typeof t=="string"&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},as=s=>(Array.isArray(s)||(s=[s]),s),Ce=(s,e,t)=>{if(!(t&&!t.contains(s)))for(;s&&s.matches;){if(s.matches(e))return s;s=s.parentNode}},Ot=(s,e=0)=>e>0?s[s.length-1]:s[0],sr=s=>Object.keys(s).length===0,Pe=(s,e)=>{if(!s)return-1;e=e||s.nodeName;for(var t=0;s=s.previousElementSibling;)s.matches(e)&&t++;return t},A=(s,e)=>{le(e,(t,i)=>{t==null?s.removeAttribute(i):s.setAttribute(i,""+t)})},tt=(s,e)=>{s.parentNode&&s.parentNode.replaceChild(e,s)},ir=(s,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const t=o=>{var n=o.data.match(e);if(n&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(n.index);l.splitText(n[0].length);var c=l.cloneNode(!0);return a.appendChild(c),tt(l,a),1}return 0},i=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(n=>{r(n)})},r=o=>o.nodeType===3?t(o):(i(o),0);r(s)},rr=s=>{var e=s.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var i=t.parentNode;i.replaceChild(t.firstChild,t),i.normalize()})},nr=65,or=13,ls=27,st=37,ar=38,cs=39,lr=40,kt=8,cr=46,it=9,dr=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ke=dr?"metaKey":"ctrlKey";var xt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(s){return s.length>0},render:{}};const K=s=>typeof s>"u"||s===null?null:Ae(s),Ae=s=>typeof s=="boolean"?s?"1":"0":s+"",Te=s=>(s+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ur=(s,e)=>{var t;return function(i,r){var o=this;t&&(o.loading=Math.max(o.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,o.loadedSearches[i]=!0,s.call(o,i,r)},e)}},Ct=(s,e,t)=>{var i,r=s.trigger,o={};s.trigger=function(){var n=arguments[0];if(e.indexOf(n)!==-1)o[n]=arguments;else return r.apply(s,arguments)},t.apply(s,[]),s.trigger=r;for(i of e)i in o&&r.apply(s,o[i])},pr=s=>({start:s.selectionStart||0,length:(s.selectionEnd||0)-(s.selectionStart||0)}),O=(s,e=!1)=>{s&&(s.preventDefault(),e&&s.stopPropagation())},E=(s,e,t,i)=>{s.addEventListener(e,t,i)},se=(s,e)=>{if(!e||!e[s])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},Qe=(s,e)=>{const t=s.getAttribute("id");return t||(s.setAttribute("id",e),e)},At=s=>s.replace(/[\\"']/g,"\\$&"),ie=(s,e)=>{e&&s.append(e)};function Tt(s,e){var t=Object.assign({},xt,e),i=t.dataAttr,r=t.labelField,o=t.valueField,n=t.disabledField,a=t.optgroupField,l=t.optgroupLabelField,c=t.optgroupValueField,d=s.tagName.toLowerCase(),u=s.getAttribute("placeholder")||s.getAttribute("data-placeholder");if(!u&&!t.allowEmptyOption){let w=s.querySelector('option[value=""]');w&&(u=w.textContent)}var p={placeholder:u,options:[],optgroups:[],items:[],maxItems:null},_=()=>{var w,j=p.options,x={},f=1,T=b=>{var S=Object.assign({},b.dataset),v=i&&S[i];return typeof v=="string"&&v.length&&(S=Object.assign(S,JSON.parse(v))),S},U=(b,S)=>{var v=K(b.value);if(v!=null&&!(!v&&!t.allowEmptyOption)){if(x.hasOwnProperty(v)){if(S){var F=x[v][a];F?Array.isArray(F)?F.push(S):x[v][a]=[F,S]:x[v][a]=S}}else{var C=T(b);C[r]=C[r]||b.textContent,C[o]=C[o]||v,C[n]=C[n]||b.disabled,C[a]=C[a]||S,C.$option=b,x[v]=C,j.push(C)}b.selected&&p.items.push(v)}},ae=b=>{var S,v;v=T(b),v[l]=v[l]||b.getAttribute("label")||"",v[c]=v[c]||f++,v[n]=v[n]||b.disabled,p.optgroups.push(v),S=v[c],le(b.children,F=>{U(F,S)})};p.maxItems=s.hasAttribute("multiple")?null:1,le(s.children,b=>{w=b.tagName.toLowerCase(),w==="optgroup"?ae(b):w==="option"&&U(b)})},h=()=>{const w=s.getAttribute(i);if(w)p.options=JSON.parse(w),le(p.options,x=>{p.items.push(x[o])});else{var j=s.value.trim()||"";if(!t.allowEmptyOption&&!j.length)return;const x=j.split(t.delimiter);le(x,f=>{const T={};T[r]=f,T[o]=f,p.options.push(T)}),p.items=x}};return d==="select"?_():h(),Object.assign({},xt,p,e)}var Et=0;class D extends Mi(Pi){constructor(e,t){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],Et++;var i,r=P(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(r,null);i=o.getPropertyValue("direction");const n=Tt(r,t);this.settings=n,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=Qe(r,"tomselect-"+Et),this.isRequired=r.required,this.sifter=new er(this.options,{diacritics:n.diacritics}),n.mode=n.mode||(n.maxItems===1?"single":"multi"),typeof n.hideSelected!="boolean"&&(n.hideSelected=n.mode==="multi"),typeof n.hidePlaceholder!="boolean"&&(n.hidePlaceholder=n.mode!=="multi");var a=n.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?n.createFilter=j=>a.test(j):n.createFilter=j=>this.settings.duplicates||!this.options[j]),this.initializePlugins(n.plugins),this.setupCallbacks(),this.setupTemplates();const l=P("<div>"),c=P("<div>"),d=this._render("dropdown"),u=P('<div role="listbox" tabindex="-1">'),p=this.input.getAttribute("class")||"",_=n.mode;var h;if(V(l,n.wrapperClass,p,_),V(c,n.controlClass),ie(l,c),V(d,n.dropdownClass,_),n.copyClassesToDropdown&&V(d,p),V(u,n.dropdownContentClass),ie(d,u),P(n.dropdownParent||l).appendChild(d),ns(n.controlInput)){h=P(n.controlInput);var w=["autocorrect","autocapitalize","autocomplete"];q(w,j=>{r.getAttribute(j)&&A(h,{[j]:r.getAttribute(j)})}),h.tabIndex=-1,c.appendChild(h),this.focus_node=h}else n.controlInput?(h=P(n.controlInput),this.focus_node=h):(h=P("<input/>"),this.focus_node=c);this.wrapper=l,this.dropdown=d,this.dropdown_content=u,this.control=c,this.control_input=h,this.setup()}setup(){const e=this,t=e.settings,i=e.control_input,r=e.dropdown,o=e.dropdown_content,n=e.wrapper,a=e.control,l=e.input,c=e.focus_node,d={passive:!0},u=e.inputId+"-ts-dropdown";A(o,{id:u}),A(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":u});const p=Qe(c,e.inputId+"-ts-control"),_="label[for='"+tr(e.inputId)+"']",h=document.querySelector(_),w=e.focus.bind(e);if(h){E(h,"click",w),A(h,{for:p});const f=Qe(h,e.inputId+"-ts-label");A(c,{"aria-labelledby":f}),A(o,{"aria-labelledby":f})}if(n.style.width=l.style.width,e.plugins.names.length){const f="plugin-"+e.plugins.names.join(" plugin-");V([n,r],f)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&A(l,{multiple:"multiple"}),t.placeholder&&A(i,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+ve(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=ur(t.load,t.loadThrottle)),e.control_input.type=l.type,E(r,"mousemove",()=>{e.ignoreHover=!1}),E(r,"mouseenter",f=>{var T=Ce(f.target,"[data-selectable]",r);T&&e.onOptionHover(f,T)},{capture:!0}),E(r,"click",f=>{const T=Ce(f.target,"[data-selectable]");T&&(e.onOptionSelect(f,T),O(f,!0))}),E(a,"click",f=>{var T=Ce(f.target,"[data-ts-item]",a);if(T&&e.onItemSelect(f,T)){O(f,!0);return}i.value==""&&(e.onClick(),O(f,!0))}),E(c,"keydown",f=>e.onKeyDown(f)),E(i,"keypress",f=>e.onKeyPress(f)),E(i,"input",f=>e.onInput(f)),E(c,"blur",f=>e.onBlur(f)),E(c,"focus",f=>e.onFocus(f)),E(i,"paste",f=>e.onPaste(f));const j=f=>{const T=f.composedPath()[0];if(!n.contains(T)&&!r.contains(T)){e.isFocused&&e.blur(),e.inputState();return}T==i&&e.isOpen?f.stopPropagation():O(f,!0)},x=()=>{e.isOpen&&e.positionDropdown()};E(document,"mousedown",j),E(window,"scroll",x,d),E(window,"resize",x,d),this._destroy=()=>{document.removeEventListener("mousedown",j),window.removeEventListener("scroll",x),window.removeEventListener("resize",x),h&&h.removeEventListener("click",w)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,E(l,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():e.enable(),e.on("change",this.onChange),V(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),q(t,i=>{this.registerOptionGroup(i)})}setupTemplates(){var e=this,t=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:o=>{let n=document.createElement("div");return n.className="optgroup",n.appendChild(o.options),n},optgroup_header:(o,n)=>'<div class="optgroup-header">'+n(o[i])+"</div>",option:(o,n)=>"<div>"+n(o[t])+"</div>",item:(o,n)=>"<div>"+n(o[t])+"</div>",option_create:(o,n)=>'<div class="create">Add <strong>'+n(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)t=this.settings[i[e]],t&&this.on(e,t)}sync(e=!0){const t=this,i=e?Tt(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(i.options,i.optgroups),t.setValue(i.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){We(this.input,"input"),We(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){O(e);return}t.settings.splitOn&&setTimeout(()=>{var i=t.inputValue();if(i.match(t.settings.splitOn)){var r=i.trim().split(t.settings.splitOn);q(r,o=>{K(o)&&(this.options[o]?t.addItem(o):t.createItem(o))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){O(e);return}var i=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&i===t.settings.delimiter){t.createItem(),O(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==it&&O(e);return}switch(e.keyCode){case nr:if(se(ke,e)&&t.control_input.value==""){O(e),t.selectAll();return}break;case ls:t.isOpen&&(O(e,!0),t.close()),t.clearActiveItems();return;case lr:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let i=t.getAdjacent(t.activeOption,1);i&&t.setActiveOption(i)}O(e);return;case ar:if(t.activeOption){let i=t.getAdjacent(t.activeOption,-1);i&&t.setActiveOption(i)}O(e);return;case or:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),O(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&O(e);return;case st:t.advanceSelection(-1,e);return;case cs:t.advanceSelection(1,e);return;case it:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),O(e)),t.settings.create&&t.createItem()&&O(e));return;case kt:case cr:t.deleteSelection(e);return}t.isInputHidden&&!se(ke,e)&&O(e)}onInput(e){var t=this;if(!t.isLocked){var i=t.inputValue();t.lastValue!==i&&(t.lastValue=i,t.settings.shouldLoad.call(t,i)&&t.load(i),t.refreshOptions(),t.trigger("type",i))}}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,i=t.isFocused;if(t.isDisabled){t.blur(),O(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),i||t.trigger("focus"),t.activeItems.length||(t.showInput(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var i=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,i):i()}}}onOptionSelect(e,t){var i,r=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(i=t.dataset.value,typeof i<"u"&&(r.lastQuery=null,r.addItem(i),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(O(e),i.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const t=this;if(!t.canLoad(e))return;V(t.wrapper,t.settings.loadingClass),t.loading++;const i=t.loadCallback.bind(t);t.settings.load.call(t,e,i)}loadCallback(e,t){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(e,t),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||Z(i.wrapper,i.settings.loadingClass),i.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,i=t.value!==e;i&&(t.value=e,We(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var i=t?[]:["change"];Ct(this,i,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var i=this,r,o,n,a,l,c;if(i.settings.mode!=="single"){if(!e){i.clearActiveItems(),i.isFocused&&i.showInput();return}if(r=t&&t.type.toLowerCase(),r==="click"&&se("shiftKey",t)&&i.activeItems.length){for(c=i.getLastActive(),n=Array.prototype.indexOf.call(i.control.children,c),a=Array.prototype.indexOf.call(i.control.children,e),n>a&&(l=n,n=a,a=l),o=n;o<=a;o++)e=i.control.children[o],i.activeItems.indexOf(e)===-1&&i.setActiveItemClass(e);O(t)}else r==="click"&&se(ke,t)||r==="keydown"&&se("shiftKey",t)?e.classList.contains("active")?i.removeActiveItem(e):i.setActiveItemClass(e):(i.clearActiveItems(),i.setActiveItemClass(e));i.hideInput(),i.isFocused||i.focus()}}setActiveItemClass(e){const t=this,i=t.control.querySelector(".last-active");i&&Z(i,"last-active"),V(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),Z(e,"active")}clearActiveItems(){Z(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,A(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),A(e,{"aria-selected":"true"}),V(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const i=this.dropdown_content,r=i.clientHeight,o=i.scrollTop||0,n=e.offsetHeight,a=e.getBoundingClientRect().top-i.getBoundingClientRect().top+o;a+n>r+o?this.scroll(a-r+n,t):a<o&&this.scroll(a,t)}scroll(e,t){const i=this.dropdown_content;t&&(i.style.scrollBehavior=t),i.scrollTop=e,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Z(this.activeOption,"active"),A(this.activeOption,{"aria-selected":null})),this.activeOption=null,A(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const t=e.controlChildren();t.length&&(e.hideInput(),e.close(),e.activeItems=t,q(t,i=>{e.setActiveItemClass(i)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(A(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&A(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,i,r=this,o=this.getSearchOptions();if(r.settings.score&&(i=r.settings.score.call(r,e),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,t=r.sifter.search(e,Object.assign(o,{score:i})),r.currentResults=t):t=Object.assign({},r.currentResults),r.settings.hideSelected&&(t.items=t.items.filter(n=>{let a=K(n.id);return!(a&&r.items.indexOf(a)!==-1)})),t}refreshOptions(e=!0){var t,i,r,o,n,a,l,c,d,u;const p={},_=[];var h=this,w=h.inputValue();const j=w===h.lastQuery||w==""&&h.lastQuery==null;var x=h.search(w),f=null,T=h.settings.shouldOpen||!1,U=h.dropdown_content;for(j&&(f=h.activeOption,f&&(d=f.closest("[data-group]"))),o=x.items.length,typeof h.settings.maxOptions=="number"&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(T=!0),t=0;t<o;t++){let b=x.items[t];if(!b)continue;let S=b.id,v=h.options[S];if(v===void 0)continue;let F=Ae(S),C=h.getOption(F,!0);for(h.settings.hideSelected||C.classList.toggle("selected",h.items.includes(F)),n=v[h.settings.optgroupField]||"",a=Array.isArray(n)?n:[n],i=0,r=a&&a.length;i<r;i++){n=a[i],h.optgroups.hasOwnProperty(n)||(n="");let X=p[n];X===void 0&&(X=document.createDocumentFragment(),_.push(n)),i>0&&(C=C.cloneNode(!0),A(C,{id:v.$id+"-clone-"+i,"aria-selected":null}),C.classList.add("ts-cloned"),Z(C,"active"),h.activeOption&&h.activeOption.dataset.value==S&&d&&d.dataset.group===n.toString()&&(f=C)),X.appendChild(C),p[n]=X}}h.settings.lockOptgroupOrder&&_.sort((b,S)=>{const v=h.optgroups[b],F=h.optgroups[S],C=v&&v.$order||0,X=F&&F.$order||0;return C-X}),l=document.createDocumentFragment(),q(_,b=>{let S=p[b];if(!S||!S.children.length)return;let v=h.optgroups[b];if(v!==void 0){let F=document.createDocumentFragment(),C=h.render("optgroup_header",v);ie(F,C),ie(F,S);let X=h.render("optgroup",{group:v,options:F});ie(l,X)}else ie(l,S)}),U.innerHTML="",ie(U,l),h.settings.highlight&&(rr(U),x.query.length&&x.tokens.length&&q(x.tokens,b=>{ir(U,b.regex)}));var ae=b=>{let S=h.render(b,{input:w});return S&&(T=!0,U.insertBefore(S,U.firstChild)),S};if(h.loading?ae("loading"):h.settings.shouldLoad.call(h,w)?x.items.length===0&&ae("no_results"):ae("not_loading"),c=h.canCreate(w),c&&(u=ae("option_create")),h.hasOptions=x.items.length>0||c,T){if(x.items.length>0){if(!f&&h.settings.mode==="single"&&h.items[0]!=null&&(f=h.getOption(h.items[0])),!U.contains(f)){let b=0;u&&!h.settings.addPrecedence&&(b=1),f=h.selectable()[b]}}else u&&(f=u);e&&!h.isOpen&&(h.open(),h.scrollToOption(f,"auto")),h.setActiveOption(f)}else h.clearActiveOption(),e&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const i=this;if(Array.isArray(e))return i.addOptions(e,t),!1;const r=K(e[i.settings.valueField]);return r===null||i.options.hasOwnProperty(r)?!1:(e.$order=e.$order||++i.order,e.$id=i.inputId+"-opt-"+e.$order,i.options[r]=e,i.lastQuery=null,t&&(i.userOptions[r]=t,i.trigger("option_add",r,e)),r)}addOptions(e,t=!1){q(e,i=>{this.addOption(i,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=K(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var i;t[this.settings.optgroupValueField]=e,(i=this.registerOptionGroup(t))&&this.trigger("optgroup_add",i,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const i=this;var r,o;const n=K(e),a=K(t[i.settings.valueField]);if(n===null)return;const l=i.options[n];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const c=i.getOption(n),d=i.getItem(n);if(t.$order=t.$order||l.$order,delete i.options[n],i.uncacheValue(a),i.options[a]=t,c){if(i.dropdown_content.contains(c)){const u=i._render("option",t);tt(c,u),i.activeOption===c&&i.setActiveOption(u)}c.remove()}d&&(o=i.items.indexOf(n),o!==-1&&i.items.splice(o,1,a),r=i._render("item",t),d.classList.contains("active")&&V(r,"active"),tt(d,r)),i.lastQuery=null}removeOption(e,t){const i=this;e=Ae(e),i.uncacheValue(e),delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};q(this.options,(r,o)=>{t(r,o)&&(i[o]=r)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const i=K(e);if(i===null)return null;const r=this.options[i];if(r!=null){if(r.$div)return r.$div;if(t)return this._render("option",r)}return null}getAdjacent(e,t,i="option"){var r=this,o;if(!e)return null;i=="item"?o=r.controlChildren():o=r.dropdown_content.querySelectorAll("[data-selectable]");for(let n=0;n<o.length;n++)if(o[n]==e)return t>0?o[n+1]:o[n-1];return null}getItem(e){if(typeof e=="object")return e;var t=K(e);return t!==null?this.control.querySelector(`[data-value="${At(t)}"]`):null}addItems(e,t){var i=this,r=Array.isArray(e)?e:[e];r=r.filter(n=>i.items.indexOf(n)===-1);const o=r[r.length-1];r.forEach(n=>{i.isPending=n!==o,i.addItem(n,t)})}addItem(e,t){var i=t?[]:["change","dropdown_close"];Ct(this,i,()=>{var r,o;const n=this,a=n.settings.mode,l=K(e);if(!(l&&n.items.indexOf(l)!==-1&&(a==="single"&&n.close(),a==="single"||!n.settings.duplicates))&&!(l===null||!n.options.hasOwnProperty(l))&&(a==="single"&&n.clear(t),!(a==="multi"&&n.isFull()))){if(r=n._render("item",n.options[l]),n.control.contains(r)&&(r=r.cloneNode(!0)),o=n.isFull(),n.items.splice(n.caretPos,0,l),n.insertAtCaret(r),n.isSetup){if(!n.isPending&&n.settings.hideSelected){let c=n.getOption(l),d=n.getAdjacent(c,1);d&&n.setActiveOption(d)}!n.isPending&&!n.settings.closeAfterSelect&&n.refreshOptions(n.isFocused&&a!=="single"),n.settings.closeAfterSelect!=!1&&n.isFull()?n.close():n.isPending||n.positionDropdown(),n.trigger("item_add",l,r),n.isPending||n.updateOriginalInput({silent:t})}(!n.isPending||!o&&n.isFull())&&(n.inputState(),n.refreshState())}})}removeItem(e=null,t){const i=this;if(e=i.getItem(e),!e)return;var r,o;const n=e.dataset.value;r=Pe(e),e.remove(),e.classList.contains("active")&&(o=i.activeItems.indexOf(e),i.activeItems.splice(o,1),Z(e,"active")),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(n)&&i.removeOption(n,t),r<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:t}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",n,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var i=this,r=i.caretPos,o;if(e=e||i.inputValue(),!i.canCreate(e))return t(),!1;i.lock();var n=!1,a=l=>{if(i.unlock(),!l||typeof l!="object")return t();var c=K(l[i.settings.valueField]);if(typeof c!="string")return t();i.setTextboxValue(),i.addOption(l,!0),i.setCaret(r),i.addItem(c),t(l),n=!0};return typeof i.settings.create=="function"?o=i.settings.create.call(this,e,a):o={[i.settings.labelField]:e,[i.settings.valueField]:e},n||a(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),i=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",i),r.toggle("full",t),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",sr(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var i,r;const o=t.input.querySelector('option[value=""]');if(t.is_select_tag){let l=function(c,d,u){return c||(c=P('<option value="'+Te(d)+'">'+Te(u)+"</option>")),c!=o&&t.input.append(c),n.push(c),(c!=o||a>0)&&(c.selected=!0),c};const n=[],a=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(c=>{c.selected=!1}),t.items.length==0&&t.settings.mode=="single"?l(o,"",""):t.items.forEach(c=>{if(i=t.options[c],r=i[t.settings.labelField]||"",n.includes(i.$option)){const d=t.input.querySelector(`option[value="${At(c)}"]:not(:checked)`);l(d,c,r)}else i.$option=l(i.$option,c,r)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,A(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),Oe(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),Oe(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,i=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.hideInput()),t.isOpen=!1,A(t.focus_node,{"aria-expanded":"false"}),Oe(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),i&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),i=e.offsetHeight+t.top+window.scrollY,r=t.left+window.scrollX;Oe(this.dropdown,{width:t.width+"px",top:i+"px",left:r+"px"})}}clear(e){var t=this;if(t.items.length){var i=t.controlChildren();q(i,r=>{t.removeItem(r,!0)}),t.showInput(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,i=t.caretPos,r=t.control;r.insertBefore(e,r.children[i]||null),t.setCaret(i+1)}deleteSelection(e){var t,i,r,o,n=this;t=e&&e.keyCode===kt?-1:1,i=pr(n.control_input);const a=[];if(n.activeItems.length)o=Ot(n.activeItems,t),r=Pe(o),t>0&&r++,q(n.activeItems,l=>a.push(l));else if((n.isFocused||n.settings.mode==="single")&&n.items.length){const l=n.controlChildren();let c;t<0&&i.start===0&&i.length===0?c=l[n.caretPos-1]:t>0&&i.start===n.inputValue().length&&(c=l[n.caretPos]),c!==void 0&&a.push(c)}if(!n.shouldDelete(a,e))return!1;for(O(e,!0),typeof r<"u"&&n.setCaret(r);a.length;)n.removeItem(a.pop());return n.showInput(),n.positionDropdown(),n.refreshOptions(!1),!0}shouldDelete(e,t){const i=e.map(r=>r.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,t)===!1)}advanceSelection(e,t){var i,r,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(se(ke,t)||se("shiftKey",t)?(i=o.getLastActive(e),i?i.classList.contains("active")?r=o.getAdjacent(i,e,"item"):r=i:e>0?r=o.control_input.nextElementSibling:r=o.control_input.previousElementSibling,r&&(r.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(r))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var i=this.control.querySelectorAll(".active");if(i)return Ot(i,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var e=this;e.input.disabled=!0,e.control_input.disabled=!0,e.focus_node.tabIndex=-1,e.isDisabled=!0,this.close(),e.lock()}enable(){var e=this;e.input.disabled=!1,e.control_input.disabled=!1,e.focus_node.tabIndex=e.tabIndex,e.isDisabled=!1,e.unlock()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,Z(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var i,r;const o=this;if(typeof this.settings.render[e]!="function"||(r=o.settings.render[e].call(this,t,Te),!r))return null;if(r=P(r),e==="option"||e==="option_create"?t[o.settings.disabledField]?A(r,{"aria-disabled":"true"}):A(r,{"data-selectable":""}):e==="optgroup"&&(i=t.group[o.settings.optgroupValueField],A(r,{"data-group":i}),t.group[o.settings.disabledField]&&A(r,{"data-disabled":""})),e==="option"||e==="item"){const n=Ae(t[o.settings.valueField]);A(r,{"data-value":n}),e==="item"?(V(r,o.settings.itemClass),A(r,{"data-ts-item":""})):(V(r,o.settings.optionClass),A(r,{role:"option",id:t.$id}),t.$div=r,o.options[n]=t)}return r}_render(e,t){const i=this.render(e,t);if(i==null)throw"HTMLElement expected";return i}clearCache(){q(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,i){var r=this,o=r[t];r[t]=function(){var n,a;return e==="after"&&(n=o.apply(r,arguments)),a=i.apply(r,arguments),e==="instead"?a:(e==="before"&&(n=o.apply(r,arguments)),n)}}}function hr(){E(this.input,"change",()=>{this.sync()})}function fr(){var s=this,e=s.onOptionSelect;s.settings.hideSelected=!1;var t=function(r){setTimeout(()=>{var o=r.querySelector("input");o instanceof HTMLInputElement&&(r.classList.contains("selected")?o.checked=!0:o.checked=!1)},1)};s.hook("after","setupTemplates",()=>{var i=s.settings.render.option;s.settings.render.option=(r,o)=>{var n=P(i.call(s,r,o)),a=document.createElement("input");a.addEventListener("click",function(c){O(c)}),a.type="checkbox";const l=K(r[s.settings.valueField]);return l&&s.items.indexOf(l)>-1&&(a.checked=!0),n.prepend(a),n}}),s.on("item_remove",i=>{var r=s.getOption(i);r&&(r.classList.remove("selected"),t(r))}),s.on("item_add",i=>{var r=s.getOption(i);r&&t(r)}),s.hook("instead","onOptionSelect",(i,r)=>{if(r.classList.contains("selected")){r.classList.remove("selected"),s.removeItem(r.dataset.value),s.refreshOptions(),O(i,!0);return}e.call(s,i,r),t(r)})}function gr(s){const e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},s);e.on("initialize",()=>{var i=P(t.html(t));i.addEventListener("click",r=>{e.isDisabled||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),r.preventDefault(),r.stopPropagation())}),e.control.appendChild(i)})}function mr(){var s=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if(s.settings.mode==="multi"){var e=s.lock,t=s.unlock;s.hook("instead","lock",()=>{var i=$(s.control).data("sortable");return i&&i.disable(),e.call(s)}),s.hook("instead","unlock",()=>{var i=$(s.control).data("sortable");return i&&i.enable(),t.call(s)}),s.on("initialize",()=>{var i=$(s.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:s.isLocked,start:(r,o)=>{o.placeholder.css("width",o.helper.css("width")),i.css({overflow:"visible"})},stop:()=>{i.css({overflow:"hidden"});var r=[];i.children("[data-value]").each(function(){this.dataset.value&&r.push(this.dataset.value)}),s.setValue(r)}})})}}function vr(s){const e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},s);e.on("initialize",()=>{var i=P(t.html(t)),r=i.querySelector("."+t.closeClass);r&&r.addEventListener("click",o=>{O(o,!0),e.close()}),e.dropdown.insertBefore(i,e.dropdown.firstChild)})}function br(){var s=this;s.hook("instead","setCaret",e=>{s.settings.mode==="single"||!s.control.contains(s.control_input)?e=s.items.length:(e=Math.max(0,Math.min(s.items.length,e)),e!=s.caretPos&&!s.isPending&&s.controlChildren().forEach((t,i)=>{i<e?s.control_input.insertAdjacentElement("beforebegin",t):s.control.appendChild(t)})),s.caretPos=e}),s.hook("instead","moveCaret",e=>{if(!s.isFocused)return;const t=s.getLastActive(e);if(t){const i=Pe(t);s.setCaret(e>0?i+1:i),s.setActiveItem(),Z(t,"last-active")}else s.setCaret(s.caretPos+e)})}function _r(){const s=this;s.settings.shouldOpen=!0,s.hook("before","setup",()=>{s.focus_node=s.control,V(s.control_input,"dropdown-input");const e=P('<div class="dropdown-input-wrap">');e.append(s.control_input),s.dropdown.insertBefore(e,s.dropdown.firstChild);const t=P('<input class="items-placeholder" tabindex="-1" />');t.placeholder=s.settings.placeholder||"",s.control.append(t)}),s.on("initialize",()=>{s.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case ls:s.isOpen&&(O(t,!0),s.close()),s.clearActiveItems();return;case it:s.focus_node.tabIndex=-1;break}return s.onKeyDown.call(s,t)}),s.on("blur",()=>{s.focus_node.tabIndex=s.isDisabled?-1:s.tabIndex}),s.on("dropdown_open",()=>{s.control_input.focus()});const e=s.onBlur;s.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==s.control_input))return e.call(s)}),E(s.control_input,"blur",()=>s.onBlur()),s.hook("before","close",()=>{s.isOpen&&s.focus_node.focus({preventScroll:!0})})})}function yr(){var s=this;s.on("initialize",()=>{var e=document.createElement("span"),t=s.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",s.wrapper.appendChild(e);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of i)e.style[o]=t.style[o];var r=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};r(),s.on("update item_add item_remove",r),E(t,"input",r),E(t,"keyup",r),E(t,"blur",r),E(t,"update",r)})}function wr(){var s=this,e=s.deleteSelection;this.hook("instead","deleteSelection",t=>s.activeItems.length?e.call(s,t):!1)}function Sr(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function Or(){var s=this,e=s.onKeyDown;s.hook("instead","onKeyDown",t=>{var i,r,o,n;if(!s.isOpen||!(t.keyCode===st||t.keyCode===cs))return e.call(s,t);s.ignoreHover=!0,n=Ce(s.activeOption,"[data-group]"),i=Pe(s.activeOption,"[data-selectable]"),n&&(t.keyCode===st?n=n.previousSibling:n=n.nextSibling,n&&(o=n.querySelectorAll("[data-selectable]"),r=o[Math.min(o.length-1,i)],r&&s.setActiveOption(r)))})}function kr(s){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},s);var t=this;if(e.append){var i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+Te(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var r=t.settings.render.item;t.settings.render.item=(o,n)=>{var a=P(r.call(t,o,n)),l=P(i);return a.appendChild(l),E(l,"mousedown",c=>{O(c,!0)}),E(l,"click",c=>{O(c,!0),!t.isLocked&&t.shouldDelete([a],c)&&(t.removeItem(a),t.refreshOptions(!1),t.inputState())}),a}})}}function xr(s){const e=this,t=Object.assign({text:i=>i[e.settings.labelField]},s);e.on("item_remove",function(i){if(e.isFocused&&e.control_input.value.trim()===""){var r=e.options[i];r&&e.setTextboxValue(t.text.call(e,r))}})}function Cr(){const s=this,e=s.canLoad,t=s.clearActiveOption,i=s.loadCallback;var r={},o,n=!1,a,l=[];if(s.settings.shouldLoadMore||(s.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(s.activeOption){var p=s.selectable(),_=Array.from(p).indexOf(s.activeOption);if(_>=p.length-2)return!0}return!1}),!s.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";s.settings.sortField=[{field:"$order"},{field:"$score"}];const c=u=>typeof s.settings.maxOptions=="number"&&o.children.length>=s.settings.maxOptions?!1:!!(u in r&&r[u]),d=(u,p)=>s.items.indexOf(p)>=0||l.indexOf(p)>=0;s.setNextUrl=(u,p)=>{r[u]=p},s.getUrl=u=>{if(u in r){const p=r[u];return r[u]=!1,p}return r={},s.settings.firstUrl.call(s,u)},s.hook("instead","clearActiveOption",()=>{if(!n)return t.call(s)}),s.hook("instead","canLoad",u=>u in r?c(u):e.call(s,u)),s.hook("instead","loadCallback",(u,p)=>{if(!n)s.clearOptions(d);else if(a){const _=u[0];_!==void 0&&(a.dataset.value=_[s.settings.valueField])}i.call(s,u,p),n=!1}),s.hook("after","refreshOptions",()=>{const u=s.lastValue;var p;c(u)?(p=s.render("loading_more",{query:u}),p&&(p.setAttribute("data-selectable",""),a=p)):u in r&&!o.querySelector(".no-results")&&(p=s.render("no_more_results",{query:u})),p&&(V(p,s.settings.optionClass),o.append(p))}),s.on("initialize",()=>{l=Object.keys(s.options),o=s.dropdown_content,s.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},s.settings.render),o.addEventListener("scroll",()=>{s.settings.shouldLoadMore.call(s)&&c(s.lastValue)&&(n||(n=!0,s.load.call(s,s.lastValue)))})})}D.define("change_listener",hr);D.define("checkbox_options",fr);D.define("clear_button",gr);D.define("drag_drop",mr);D.define("dropdown_header",vr);D.define("caret_position",br);D.define("dropdown_input",_r);D.define("input_autogrow",yr);D.define("no_backspace_delete",wr);D.define("no_active_items",Sr);D.define("optgroup_columns",Or);D.define("remove_button",kr);D.define("restore_on_backspace",xr);D.define("virtual_scroll",Cr);class ds extends m{connect(){const e=this.element.querySelector("select");let t={...this.paramsValue};this.select=new D(e,t),this.select.on("change",this._handleSelect.bind(this)),this.select.on("dropdown_open",this._handleDropdownOpen.bind(this)),this.select.on("dropdown_close",this._handleDropdownClose.bind(this))}disconnect(){this.select&&this.select.destroy()}dispatchGaEventOnSelect(e){this.dispatch("userEvent",{prefix:"analytics",detail:{handler:"handleBasicGaEvent",data:{gaCategory:"Combobox",gaAction:`Clicked ${e}`,gaLabel:"@PATH@"}}})}_handleDropdownOpen(){this.element.querySelector(".ts-dropdown").style.opacity=1}_handleDropdownClose(){this.element.querySelector(".ts-dropdown").style.opacity=0}_handleSelect(){if(this.linkMenuValue===!1)return;const e=this.select.getValue();this.dispatchGaEventOnSelect(e),this._jumpTo(e)}_jumpTo(e){this.turboValue===!0?Turbo.visit(e):window.location.href=e}}y(ds,"values",{linkMenu:Boolean,params:Object,turbo:{type:Boolean,default:!0}});const Ar=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"}));class us extends m{changed(e){let t=e.currentTarget;t.value=t.checked?this.checkedValue:this.uncheckedValue,this.dispatch("toggled",{detail:{checked:t.checked,source:this.element.querySelector("sl-checkbox")},prefix:"fancy-checkbox"})}}y(us,"values",{checked:String,unchecked:String});const Tr=Object.freeze(Object.defineProperty({__proto__:null,default:us},Symbol.toStringTag,{value:"Module"}));class rt extends m{connect(){location.hash===""?this._doMarkActive(this.linkTargets[0]):this._doMarkActive(this.element.querySelector(`a[href='${location.hash}']`).parentElement)}markActive(e){this.linkTargets.forEach(t=>{e.target===t.querySelector("a")?this._doMarkActive(t):this._doMarkInactive(t)})}_doMarkActive(e){e.classList.remove(this.inactiveClassValue),e.classList.add(this.activeClassValue)}_doMarkInactive(e){e.classList.add(this.inactiveClassValue),e.classList.remove(this.activeClassValue)}}y(rt,"targets",["link"]),y(rt,"values",{inactiveClass:String,activeClass:String});const Er=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"}));class ps extends m{scrollTo(e){const o=document.querySelector(this.targetValue).getBoundingClientRect().top+window.pageYOffset-10;e.currentTarget.closest("details").open||window.scrollTo({top:o,behavior:"smooth"})}}y(ps,"values",{target:String});const Lr=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));class Ir extends m{clickSearchButton(){const e=document.getElementById("aon--navbar--open-search-button");e&&e.click()}}const jr=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"}));class hs extends m{connect(){at(()=>import("./splide.esm-4df1a7b1.js"),[]).then(e=>{this.splide=e.default,this.initGalleries()})}disconnect(){this.gallery.destroy("completely"),this.thumbnailGallery.destroy("completely")}initGalleries(){let e={};this.gallery=new this.splide("#main-gallery",{...e,...this.mainOptsValue}),this.thumbnailGallery=new this.splide("#thumbnail-gallery",{...e,...this.thumbnailOptsValue}),this.gallery.sync(this.thumbnailGallery),this.gallery.mount(),this.thumbnailGallery.mount()}}y(hs,"values",{mainOpts:Object,thumbnailOpts:Object});const Pr=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"}));class fs extends m{initialize(){lt(this,{overwriteDispatch:!1})}connect(){}handleCheckboxToggled(e){e.stopPropagation(),e.preventDefault();const t=e.detail.checked,i=e.target.closest("[data-checkbox-list-update-url]").dataset.checkboxListUpdateUrl.replace("CHECKED",t);let r=document.querySelector(`[data-aon--lists-popup-component-resource-sgid-value='${this.resourceSgidValue}']`);fetch(i,{method:"PATCH",headers:{"X-CSRF-Token":this.csrfToken,"Content-Type":"application/json"}}).then(o=>{o.status===200&&(r.listsPopupController.handleUserListsUpdate(),this.dispatch("userEvent",{prefix:"analytics",detail:{handler:"handleAtlasListAction",data:{marked:t}}}))})}createNewList(e){e.preventDefault();const t=e.target.closest("form"),i=t.querySelector('input[type="text"]');let r=document.querySelector(`[data-aon--lists-popup-component-resource-sgid-value='${this.resourceSgidValue}']`);i.value.length>0?fetch(t.action,{method:"POST",headers:{"X-CSRF-Token":this.csrfToken,"Content-Type":"application/json"},body:JSON.stringify({list:{title:i.value}})}).then(o=>{o.status===200?(r.listsPopupController.handleUserListsUpdate(),this.dispatch("userEvent",{prefix:"analytics",detail:{handler:"handleAtlasListCreateAction",data:{}}})):(i.setAttribute("aria-invalid",!0),t.querySelector(".error-message").content="Something went wrong",t.querySelector(".error-message").classList.remove("invisible"))}):(i.setAttribute("aria-invalid",!0),t.querySelector(".error-message").classList.remove("invisible"))}}y(fs,"values",{resourceSgid:String});const Mr=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));class gs extends m{connect(){this.element.listsPopupController=this,this.systemDrawer=document.getElementById("system-drawer"),this.boundOnHide=this.onHide.bind(this),this.systemDrawer.addEventListener("sl-hide",this.boundOnHide),this.boundHideAllTooltips=this.hideAllTooltips.bind(this),this.systemDrawer.addEventListener("sl-after-show",this.boundHideAllTooltips),Is(this,{element:this.systemDrawer.querySelector(".drawer-content"),dispatchEvent:!1,events:["mousedown","touchstart"]})}disconnect(){this.systemDrawer.removeEventListener("sl-hide",this.boundOnHide),this.systemDrawer.removeEventListener("sl-after-show",this.boundHideAllTooltips)}clickOutside(e){e.composedPath().map(t=>t.className).includes("drawer__panel")||this.systemDrawer.hide()}triggerDrawer(e){e.stopPropagation(),e.preventDefault(),ee.get("user_signed_in")==="true"?this.systemDrawer.open?this.systemDrawer.hide():(this.systemDrawer.label="My Lists",document.querySelector("html").clientWidth<768?this.systemDrawer.placement="bottom":this.systemDrawer.placement="end",this.refreshListsTool(),this.systemDrawer.show()):window.location.href="/join"}hideAllTooltips(){document.querySelectorAll("sl-tooltip").forEach(e=>{e.hide()})}onHide(){this.loadedValue=!1}refreshListsTool(){this.loadedValue||fetch(this.listsIndexUrlValue).then(e=>e.json()).then(e=>{CableReady.performAsync(e).then(()=>{this.loadedValue=!0})})}handleUserListsUpdate(){this.dispatch("updated"),document.querySelectorAll("[data-user-lists-popup-component]").forEach(e=>{e.listsPopupController.loadedValue=!1}),this.refreshListsTool()}}y(gs,"values",{listsIndexUrl:String,loaded:Boolean});const zr=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"}));class $r extends m{connect(){document.addEventListener("mouseleave",function(e){if(e.clientY<=0||e.clientX<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight)for(const t of document.querySelectorAll("[data-popdown]"))t.classList.add("hidden"),t.classList.remove("flex")}),this.boundHideMobile=this.hideMobile.bind(this),document.addEventListener("mobile-nav:hide",this.boundHideMobile)}disconnect(){document.removeEventListener("mobile-nav:hide",this.boundHideMobile)}show(e){const t=document.querySelector(e.target.dataset.popdownTarget);setTimeout(()=>{if(this.element.querySelectorAll("[data-popdown]:hover").length>0)return;const i=[...document.querySelectorAll(":hover")].map(r=>r.className).join(" ");!i.includes("popdown-menu")&&!i.includes("navbar-link")?this.hideAllPopdowns():(t.classList.remove("hidden"),t.classList.add("flex"),this.hideOtherPopdowns(t))},100)}hide(e){const t=e.target;this.element.querySelectorAll("[data-popdown]:hover").length>0||this.element.querySelectorAll("a:hover").length>0||(t.classList.add("hidden"),t.classList.remove("flex"))}hideAllPopdowns(){const e=document.querySelectorAll("[data-popdown]");for(const t of e)t.classList.add("hidden"),t.classList.remove("flex")}hideOtherPopdowns(e){const t=document.querySelectorAll("[data-popdown]");for(const i of t)i!==e&&(i.classList.add("hidden"),i.classList.remove("flex"))}toggleMobile(){const e=this.element.querySelector("#mobile-menu"),t=this.element.querySelector("#mobile-nav-button");t.disabled=!0,e.classList.contains("hidden")?this.showMobile():this.hideMobile()}showMobile(){const e=this.element.querySelector("#mobile-menu"),t=this.element.querySelector("svg[data-icon-open]"),i=this.element.querySelector("svg[data-icon-close]"),r=this.element.querySelector("#mobile-nav-button");t.classList.add("hidden"),i.classList.remove("hidden"),this.dispatch("search:close",{prefix:!1}),ce(e).then(()=>{r.disabled=!1})}hideMobile(){const e=this.element.querySelector("#mobile-menu"),t=this.element.querySelector("svg[data-icon-open]"),i=this.element.querySelector("svg[data-icon-close]"),r=this.element.querySelector("#mobile-nav-button");t.classList.remove("hidden"),i.classList.add("hidden"),de(e).then(()=>{r.disabled=!1})}}const Fr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"}));class Vr extends m{connect(){}switchTo(e){let t=document.getElementById(e.params.id);const i=document.querySelectorAll("[data-places-panel]"),r=document.querySelectorAll("[data-places-panel-trigger]");for(const o of i)o===t?o.classList.remove("hidden"):o.classList.add("hidden");for(const o of r)o===e.target?o.classList.add(...e.target.dataset.triggerActiveClass.split(" ")):o.classList.remove(...e.target.dataset.triggerActiveClass.split(" "))}}const qr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"}));class Dr extends m{initialize(){this.element.addEventListener("turbo:frame-render",function(e){let t=e.target,i=t.closest("[data-search-results-background]");if(t.querySelector("[data-search-results-empty='true']")?i.classList=i.dataset.noResultsClass:i.classList=i.dataset.resultsClass,t.id=="search-results"){this.querySelector("[data-static-links-panel]").classList.add("hidden");let r=t.closest("[data-search-results-canvas]");r.classList.contains("hidden")&&ce(r)}})}connect(){es(this,{esc:[this.escapeHandler]}),this.boundEscapeHandler=this.escapeHandler.bind(this),document.addEventListener("search:close",this.boundEscapeHandler)}disconnect(){document.removeEventListener("search:close",this.boundEscapeHandler)}closeOnEscape(e){e.key==="Escape"&&this.escapeHandler()}escapeHandler(){const e=this.element.querySelector("[data-close-search-button]");e&&e.click()}performSearch(e){let t=e.target.value;const i=this.element.querySelector("[data-static-links-panel]"),r=this.element.querySelector("[data-search-results-panel]"),o=this.element.querySelector("[data-search-results-canvas]"),n=this.element.querySelector("[data-search-results-frame]"),a=this.element.querySelector("[data-search-results-background]"),l=this.element.querySelector("[data-search-form]");if(t===""){l.querySelector("button[type='submit']").disabled=!0,a.classList=a.dataset.resultsClass,o.classList.add("hidden"),i.classList.remove("hidden");return}else if(t.length<2){l.querySelector("button[type='submit']").disabled=!0;return}l.querySelector("button[type='submit']").disabled=!1;let c=r.dataset.searchResultsHref.replace("q=query",new URLSearchParams(`q=${t}`).toString());n.setAttribute("src",c)}showSearch(e){const t=document.querySelector(e.currentTarget.dataset.searchPanel);document.querySelector("body").style.overflow="hidden",document.querySelector("#page-and-footer").style.display="none",this.dispatch("mobile-nav:hide",{prefix:!1}),document.querySelectorAll('[data-hide-on-search="true"]').forEach(i=>{i.style.display="none"}),ce(t).then(()=>{t.querySelector("[data-search-input]").value="",t.querySelectorAll("[data-animate-me]").forEach(i=>{ce(i)}),t.querySelector("[data-search-input]").focus()})}hideSearch(e){const t=document.querySelector(e.currentTarget.dataset.searchPanel),i=this.element.querySelector("[data-static-links-panel]"),r=this.element.querySelector("[data-search-results-canvas]");document.querySelector("body").style.overflow="auto",document.querySelector("#page-and-footer").style.display="",document.querySelectorAll('[data-hide-on-search="true"]').forEach(o=>{o.style.display=""}),r.classList.add("hidden"),i.classList.remove("hidden"),this.element.querySelector("[data-search-input]").value="",de(t).then(()=>{t.querySelectorAll("[data-animate-me]").forEach(o=>{de(o)})})}}const Br=Object.freeze(Object.defineProperty({__proto__:null,default:Dr},Symbol.toStringTag,{value:"Module"}));class ms extends m{dismiss(){ee.set(this.cookieNameValue,!0,{expires:60}),this.element.remove()}followLink(){window.location=this.element.dataset.href}}y(ms,"values",{cookieName:String});const Hr=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"}));class Kr extends m{connect(){this.element.querySelectorAll("h2").forEach(t=>{t.id=this.parameterize(t.textContent)})}parameterize(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}}const Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"}));class vs extends m{recordShare(e){const t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/html"),t.append("X-CSRF-Token",Rails.csrfToken());const i=this.urlValue,r={id:this.shareableIdValue,type:this.shareableTypeValue};fetch(i,{method:"POST",headers:t,body:JSON.stringify(r)})}}y(vs,"values",{url:String,shareableId:String,shareableType:String});const Nr=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"}));class Ur extends m{connect(){}share(e){e.preventDefault(),typeof FB<"u"&&FB.ui({method:"share",href:window.location.href},function(t){})}}const Gr=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"}));class Yr extends m{connect(){}share(e){e.preventDefault();let t=this.element.dataset.shareText,i=window.location.href,r=`https://www.reddit.com/submit?title=${t}&url=${i}`;window.open(r,"_blank")}}const Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Yr},Symbol.toStringTag,{value:"Module"}));class Qr extends m{connect(){}share(e){e.preventDefault();let t=this.element.dataset.shareText,i=window.location.href,r=`https://twitter.com/share?text=${t}&url=${i}`;window.open(r,"_blank")}}const Jr=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"}));class nt extends m{connect(){this.element.toggleButton=this,this.refreshButton()}disconnect(){}refreshButton(){const e=this.element.closest("[data-tooltip]");this.activeValue?(this._activateButton(),e&&(e.content=this.activeTooltipValue)):(this._deactivateButton(),e&&(e.content=this.inactiveTooltipValue))}_activateButton(){const e=this.element;e.classList.add(...this.activeClasses),e.classList.remove(...this.inactiveClasses),e.setAttribute("aria-pressed","true"),e.querySelector("span.sr-only").textContent=this.activeTitleValue,e.querySelector("[data-icon-toggle]")&&(e.querySelector("[data-icon-off]").classList.replace("block","hidden"),e.querySelector("[data-icon-on]").classList.replace("hidden","block"))}_deactivateButton(){const e=this.element;e.classList.add(...this.inactiveClasses),e.classList.remove(...this.activeClasses),e.setAttribute("aria-pressed","false"),e.querySelector("span.sr-only").textContent=this.inactiveTitleValue,e.querySelector("[data-icon-toggle]")&&(e.querySelector("[data-icon-off]").classList.replace("hidden","block"),e.querySelector("[data-icon-on]").classList.replace("block","hidden"))}clicked(e){e.stopPropagation(),e.preventDefault(),e.isTrusted&&this.dispatch("clicked",{detail:e,prefix:"aon-toggle-button"})}toggle(e){if(e.stopPropagation(),e.preventDefault(),!e.isTrusted)return;const t=!this.activeValue;this.activeValue=t,this.dispatch("toggled",{detail:{active:this.activeValue},prefix:"aon-toggle-button"}),this.markClones(t)}markClones(e){const t=this.element.dataset.toggleButtonId;t&&document.querySelectorAll(`[data-toggle-button-id="${t}"]`).forEach(i=>{i.toggleButton.active=e})}set active(e){let t=e.toString().toLowerCase();t!==this.activeValue.toString().toLowerCase()&&(this.activeValue=t!=="false")}get active(){return this.activeValue}activeValueChanged(){this.refreshButton()}}y(nt,"classes",["active","inactive"]),y(nt,"values",{active:Boolean,activeTooltip:String,inactiveTooltip:String,activeTitle:String,inactiveTitle:String});const Zr=Object.freeze(Object.defineProperty({__proto__:null,default:nt},Symbol.toStringTag,{value:"Module"}));class bs extends m{playVideo(){this.posterTarget.classList.add("hidden"),this.videoTarget.classList.remove("hidden"),this.videoTarget.play()}videoEnded(){this.posterTarget.classList.remove("hidden"),this.videoTarget.classList.add("hidden")}}y(bs,"targets",["poster","video"]);const Xr=Object.freeze(Object.defineProperty({__proto__:null,default:bs},Symbol.toStringTag,{value:"Module"})),_s=Cs();zt.initialize({consumer:_s});zt.operations.turbolessNavigateTo=s=>{window.location.href=s.url};const W=As.start();W.warnings=!0;W.debug=!1;window.Stimulus=W;Ts.start();qt.initialize(W,{isolate:!0});W.consumer=_s;var en=re`
  ${ne}

  :host {
    display: inline-block;

    --size: 3rem;
  }

  .avatar {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: var(--size);
    height: var(--size);
    background-color: var(--sl-color-neutral-400);
    font-family: var(--sl-font-sans);
    font-size: calc(var(--size) * 0.5);
    font-weight: var(--sl-font-weight-normal);
    color: var(--sl-color-neutral-0);
    user-select: none;
    -webkit-user-select: none;
    vertical-align: middle;
  }

  .avatar--circle,
  .avatar--circle .avatar__image {
    border-radius: var(--sl-border-radius-circle);
  }

  .avatar--rounded,
  .avatar--rounded .avatar__image {
    border-radius: var(--sl-border-radius-medium);
  }

  .avatar--square {
    border-radius: 0;
  }

  .avatar__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .avatar__initials {
    line-height: 1;
    text-transform: uppercase;
  }

  .avatar__image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    overflow: hidden;
  }
`,Q=class extends oe{constructor(){super(...arguments),this.hasError=!1,this.image="",this.label="",this.initials="",this.loading="eager",this.shape="circle"}handleImageChange(){this.hasError=!1}render(){const s=z`
      <img
        part="image"
        class="avatar__image"
        src="${this.image}"
        loading="${this.loading}"
        alt=""
        @error="${()=>this.hasError=!0}"
      />
    `;let e=z``;return this.initials?e=z`<div part="initials" class="avatar__initials">${this.initials}</div>`:e=z`
        <div part="icon" class="avatar__icon" aria-hidden="true">
          <slot name="icon">
            <sl-icon name="person-fill" library="system"></sl-icon>
          </slot>
        </div>
      `,z`
      <div
        part="base"
        class=${ue({avatar:!0,"avatar--circle":this.shape==="circle","avatar--rounded":this.shape==="rounded","avatar--square":this.shape==="square"})}
        role="img"
        aria-label=${this.label}
      >
        ${this.image&&!this.hasError?s:e}
      </div>
    `}};Q.styles=en;Q.dependencies={"sl-icon":$t};g([Ft()],Q.prototype,"hasError",2);g([L()],Q.prototype,"image",2);g([L()],Q.prototype,"label",2);g([L()],Q.prototype,"initials",2);g([L()],Q.prototype,"loading",2);g([L({reflect:!0})],Q.prototype,"shape",2);g([te("image")],Q.prototype,"handleImageChange",1);Q.define("sl-avatar");var tn=re`
  ${ne}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function Lt(s){return s.charAt(0).toUpperCase()+s.slice(1)}var B=class extends oe{constructor(){super(...arguments),this.hasSlotController=new Vt(this,"footer"),this.localize=new Me(this),this.modal=new zs(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=s=>{this.contained||s.key==="Escape"&&this.modal.isActive()&&this.open&&(s.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),Ve(this)))}disconnectedCallback(){super.disconnectedCallback(),qe(this)}requestClose(s){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:s}}).defaultPrevented){const t=he(this,"drawer.denyClose",{dir:this.localize.dir()});fe(this.panel,t.keyframes,t.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),Ve(this));const s=this.querySelector("[autofocus]");s&&s.removeAttribute("autofocus"),await Promise.all([ye(this.drawer),ye(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(s?s.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),s&&s.setAttribute("autofocus","")});const e=he(this,`drawer.show${Lt(this.placement)}`,{dir:this.localize.dir()}),t=he(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([fe(this.panel,e.keyframes,e.options),fe(this.overlay,t.keyframes,t.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),qe(this)),await Promise.all([ye(this.drawer),ye(this.overlay)]);const s=he(this,`drawer.hide${Lt(this.placement)}`,{dir:this.localize.dir()}),e=he(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([fe(this.overlay,e.keyframes,e.options).then(()=>{this.overlay.hidden=!0}),fe(this.panel,s.keyframes,s.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const t=this.originalTrigger;typeof(t==null?void 0:t.focus)=="function"&&setTimeout(()=>t.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),Ve(this)),this.open&&this.contained&&(this.modal.deactivate(),qe(this))}async show(){if(!this.open)return this.open=!0,gt(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,gt(this,"sl-after-hide")}render(){return z`
      <div
        part="base"
        class=${ue({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${Ee(this.noHeader?this.label:void 0)}
          aria-labelledby=${Ee(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":z`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};B.styles=tn;B.dependencies={"sl-icon-button":ct};g([Y(".drawer")],B.prototype,"drawer",2);g([Y(".drawer__panel")],B.prototype,"panel",2);g([Y(".drawer__overlay")],B.prototype,"overlay",2);g([L({type:Boolean,reflect:!0})],B.prototype,"open",2);g([L({reflect:!0})],B.prototype,"label",2);g([L({reflect:!0})],B.prototype,"placement",2);g([L({type:Boolean,reflect:!0})],B.prototype,"contained",2);g([L({attribute:"no-header",type:Boolean,reflect:!0})],B.prototype,"noHeader",2);g([te("open",{waitUntilFirstUpdate:!0})],B.prototype,"handleOpenChange",1);g([te("contained",{waitUntilFirstUpdate:!0})],B.prototype,"handleNoModalChange",1);N("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});N("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});N("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});N("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});N("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});N("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});N("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});N("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});N("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});N("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});N("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});B.define("sl-drawer");var sn=re`
  ${ne}

  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,pe=class extends oe{constructor(){super(...arguments),this.localize=new Me(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const e=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[e,...e.querySelectorAll("[id]")].forEach(t=>t.removeAttribute("id")),e.setAttribute("data-default",""),e.slot="separator",e}handleSlotChange(){const s=[...this.defaultSlot.assignedElements({flatten:!0})].filter(e=>e.tagName.toLowerCase()==="sl-breadcrumb-item");s.forEach((e,t)=>{const i=e.querySelector('[slot="separator"]');i===null?e.append(this.getSeparator()):i.hasAttribute("data-default")&&i.replaceWith(this.getSeparator()),t===s.length-1?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),z`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <span hidden aria-hidden="true">
        <slot name="separator">
          <sl-icon name=${this.localize.dir()==="rtl"?"chevron-left":"chevron-right"} library="system"></sl-icon>
        </slot>
      </span>
    `}};pe.styles=sn;pe.dependencies={"sl-icon":$t};g([Y("slot")],pe.prototype,"defaultSlot",2);g([Y('slot[name="separator"]')],pe.prototype,"separatorSlot",2);g([L()],pe.prototype,"label",2);pe.define("sl-breadcrumb");var rn=re`
  ${ne}

  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
    -webkit-user-select: none;
  }
`,be=class extends oe{constructor(){super(...arguments),this.hasSlotController=new Vt(this,"prefix","suffix"),this.rel="noreferrer noopener"}render(){const s=!!this.href;return z`
      <div
        part="base"
        class=${ue({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <span part="prefix" class="breadcrumb-item__prefix">
          <slot name="prefix"></slot>
        </span>

        ${s?z`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${Ee(this.target?this.target:void 0)}"
                rel=${Ee(this.target?this.rel:void 0)}
              >
                <slot></slot>
              </a>
            `:z`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot></slot>
              </button>
            `}

        <span part="suffix" class="breadcrumb-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span part="separator" class="breadcrumb-item__separator" aria-hidden="true">
          <slot name="separator"></slot>
        </span>
      </div>
    `}};be.styles=rn;g([L()],be.prototype,"href",2);g([L()],be.prototype,"target",2);g([L()],be.prototype,"rel",2);be.define("sl-breadcrumb-item");var nn=re`
  ${ne}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,on=0,J=class extends oe{constructor(){super(...arguments),this.localize=new Me(this),this.attrId=++on,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(s){s.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(s){this.tab.focus(s)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,z`
      <div
        part="base"
        class=${ue({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?z`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};J.styles=nn;J.dependencies={"sl-icon-button":ct};g([Y(".tab")],J.prototype,"tab",2);g([L({reflect:!0})],J.prototype,"panel",2);g([L({type:Boolean,reflect:!0})],J.prototype,"active",2);g([L({type:Boolean})],J.prototype,"closable",2);g([L({type:Boolean,reflect:!0})],J.prototype,"disabled",2);g([te("active")],J.prototype,"handleActiveChange",1);g([te("disabled")],J.prototype,"handleDisabledChange",1);J.define("sl-tab");var an=re`
  ${ne}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,ln=0,_e=class extends oe{constructor(){super(...arguments),this.attrId=++ln,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return z`
      <slot
        part="base"
        class=${ue({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};_e.styles=an;g([L({reflect:!0})],_e.prototype,"name",2);g([L({type:Boolean,reflect:!0})],_e.prototype,"active",2);g([te("active")],_e.prototype,"handleActiveChange",1);_e.define("sl-tab-panel");var cn=re`
  ${ne}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,H=class extends oe{constructor(){super(...arguments),this.localize=new Me(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const s=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(e=>{e.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),e.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),s.then(()=>{new IntersectionObserver((t,i)=>{var r;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((r=this.getActiveTab())!=null?r:this.tabs[0],{emitEvents:!1}),i.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(s={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>s.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(s=>s.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(s=>s.active)}handleClick(s){const t=s.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(s){const t=s.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(s.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),s.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(s.key))){const r=this.tabs.find(n=>n.matches(":focus")),o=this.localize.dir()==="rtl";if((r==null?void 0:r.tagName.toLowerCase())==="sl-tab"){let n=this.tabs.indexOf(r);s.key==="Home"?n=0:s.key==="End"?n=this.tabs.length-1:["top","bottom"].includes(this.placement)&&s.key===(o?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&s.key==="ArrowUp"?n--:(["top","bottom"].includes(this.placement)&&s.key===(o?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&s.key==="ArrowDown")&&n++,n<0&&(n=this.tabs.length-1),n>this.tabs.length-1&&(n=0),this.tabs[n].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[n],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&mt(this.tabs[n],this.nav,"horizontal"),s.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(s,e){if(e=js({emitEvents:!0,scrollBehavior:"auto"},e),s!==this.activeTab&&!s.disabled){const t=this.activeTab;this.activeTab=s,this.tabs.forEach(i=>i.active=i===this.activeTab),this.panels.forEach(i=>{var r;return i.active=i.name===((r=this.activeTab)==null?void 0:r.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&mt(this.activeTab,this.nav,"horizontal",e.scrollBehavior),e.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(s=>{const e=this.panels.find(t=>t.name===s.panel);e&&(s.setAttribute("aria-controls",e.getAttribute("id")),e.setAttribute("aria-labelledby",s.getAttribute("id")))})}repositionIndicator(){const s=this.getActiveTab();if(!s)return;const e=s.clientWidth,t=s.clientHeight,i=this.localize.dir()==="rtl",r=this.getAllTabs(),n=r.slice(0,r.indexOf(s)).reduce((a,l)=>({left:a.left+l.clientWidth,top:a.top+l.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${e}px`,this.indicator.style.height="auto",this.indicator.style.translate=i?`${-1*n.left}px`:`${n.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${n.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(s){const e=this.tabs.find(t=>t.panel===s);e&&this.setActiveTab(e,{scrollBehavior:"smooth"})}render(){const s=this.localize.dir()==="rtl";return z`
      <div
        part="base"
        class=${ue({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?z`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${s?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?z`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${s?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};H.styles=cn;H.dependencies={"sl-icon-button":ct};g([Y(".tab-group")],H.prototype,"tabGroup",2);g([Y(".tab-group__body")],H.prototype,"body",2);g([Y(".tab-group__nav")],H.prototype,"nav",2);g([Y(".tab-group__indicator")],H.prototype,"indicator",2);g([Ft()],H.prototype,"hasScrollControls",2);g([L()],H.prototype,"placement",2);g([L()],H.prototype,"activation",2);g([L({attribute:"no-scroll-controls",type:Boolean})],H.prototype,"noScrollControls",2);g([te("noScrollControls",{waitUntilFirstUpdate:!0})],H.prototype,"updateScrollControls",1);g([te("placement",{waitUntilFirstUpdate:!0})],H.prototype,"syncIndicator",1);H.define("sl-tab-group");function dn(s){return s.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function pt(s){return s.charAt(0).toUpperCase()+s.slice(1)}function un(s){return s.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function ys(s,e){const t=ws(s);return Array.from(t.reduce((i,r)=>(hn(r,e).forEach(o=>i.add(o)),i),new Set))}function pn(s,e){return ws(s).reduce((i,r)=>(i.push(...fn(r,e)),i),[])}function ws(s){const e=[];for(;s;)e.push(s),s=Object.getPrototypeOf(s);return e.reverse()}function hn(s,e){const t=s[e];return Array.isArray(t)?t:[]}function fn(s,e){const t=s[e];return t?Object.keys(t).map(i=>[i,t[i]]):[]}(()=>{function s(t){function i(){return Reflect.construct(t,arguments,new.target)}return i.prototype=Object.create(t.prototype,{constructor:{value:i}}),Reflect.setPrototypeOf(i,t),i}function e(){const i=s(function(){this.a.call(this)});return i.prototype.a=function(){},new i}try{return e(),s}catch{return i=>class extends i{}}})();function gn(s){return ys(s,"classes").reduce((t,i)=>Object.assign(t,mn(i)),{})}function mn(s){return{[`${s}Class`]:{get(){const{classes:e}=this;if(e.has(s))return e.get(s);{const t=e.getAttributeName(s);throw new Error(`Missing attribute "${t}"`)}}},[`${s}Classes`]:{get(){return this.classes.getAll(s)}},[`has${pt(s)}Class`]:{get(){return this.classes.has(s)}}}}function vn(s){return ys(s,"targets").reduce((t,i)=>Object.assign(t,bn(i)),{})}function bn(s){return{[`${s}Target`]:{get(){const e=this.targets.find(s);if(e)return e;throw new Error(`Missing target element "${s}" for "${this.identifier}" controller`)}},[`${s}Targets`]:{get(){return this.targets.findAll(s)}},[`has${pt(s)}Target`]:{get(){return this.targets.has(s)}}}}function _n(s){const e=pn(s,"values"),t={valueDescriptorMap:{get(){return e.reduce((i,r)=>{const o=Ss(r),n=this.data.getAttributeNameForKey(o.key);return Object.assign(i,{[n]:o})},{})}}};return e.reduce((i,r)=>Object.assign(i,yn(r)),t)}function yn(s){const e=Ss(s),{key:t,name:i,reader:r,writer:o}=e;return{[i]:{get(){const n=this.data.get(t);return n!==null?r(n):e.defaultValue},set(n){n===void 0?this.data.delete(t):this.data.set(t,o(n))}},[`has${pt(i)}`]:{get(){return this.data.has(t)||e.hasCustomDefaultValue}}}}function Ss([s,e]){return kn(s,e)}function ht(s){switch(s){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ft(s){switch(typeof s){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(s))return"array";if(Object.prototype.toString.call(s)==="[object Object]")return"object"}function wn(s){const e=ht(s.type);if(e){const t=ft(s.default);if(e!==t)throw new Error(`Type "${e}" must match the type of the default value. Given default value: "${s.default}" as "${t}"`);return e}}function Sn(s){const e=wn(s),t=ft(s),i=ht(s),r=e||t||i;if(r)return r;throw new Error(`Unknown value type "${s}"`)}function On(s){const e=ht(s);if(e)return xn[e];const t=s.default;return t!==void 0?t:s}function kn(s,e){const t=`${un(s)}-value`,i=Sn(e);return{type:i,key:t,name:dn(t),get defaultValue(){return On(e)},get hasCustomDefaultValue(){return ft(e)!==void 0},reader:Cn[i],writer:It[i]||It.default}}const xn={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Cn={array(s){const e=JSON.parse(s);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean(s){return!(s=="0"||s=="false")},number(s){return Number(s)},object(s){const e=JSON.parse(s);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError("Expected object");return e},string(s){return s}},It={default:An,array:jt,object:jt};function jt(s){return JSON.stringify(s)}function An(s){return`${s}`}class Fe{constructor(e){this.context=e}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:i={},prefix:r=this.identifier,bubbles:o=!0,cancelable:n=!0}={}){const a=r?`${r}:${e}`:e,l=new CustomEvent(a,{detail:i,bubbles:o,cancelable:n});return t.dispatchEvent(l),l}}Fe.blessings=[gn,vn,_n];Fe.targets=[];Fe.values={};class Os extends Fe{initialize(){this.scroll=this.scroll.bind(this)}connect(){this.element.addEventListener("click",this.scroll)}disconnect(){this.element.removeEventListener("click",this.scroll)}scroll(e){e.preventDefault();const t=this.element.hash.replace(/^#/,""),i=document.getElementById(t);if(!i){console.warn(`[stimulus-scroll-to] The element with the id: "${t}" does not exist on the page.`);return}const o=i.getBoundingClientRect().top+window.pageYOffset-this.offset;window.scrollTo({top:o,behavior:this.behavior})}get offset(){return this.hasOffsetValue?this.offsetValue:this.defaultOptions.offset!==void 0?this.defaultOptions.offset:10}get behavior(){return this.behaviorValue||this.defaultOptions.behavior||"smooth"}get defaultOptions(){return{}}}Os.values={offset:Number,behavior:String};const ot=class extends m{initialize(){this.intersectionObserverCallback=this.intersectionObserverCallback.bind(this)}connect(){this.class=this.classValue||this.defaultOptions.class||"in",this.threshold=this.thresholdValue||this.defaultOptions.threshold||.1,this.rootMargin=this.rootMarginValue||this.defaultOptions.rootMargin||"0px",this.observer=new IntersectionObserver(this.intersectionObserverCallback,this.intersectionObserverOptions),this.itemTargets.forEach(e=>this.observer.observe(e))}disconnect(){this.itemTargets.forEach(e=>this.observer.unobserve(e))}intersectionObserverCallback(e,t){e.forEach(i=>{if(i.intersectionRatio>this.threshold){const r=i.target;r.classList.add(...this.class.split(" ")),r.dataset.delay&&(r.style.transitionDelay=r.dataset.delay),t.unobserve(r)}})}get intersectionObserverOptions(){return{threshold:this.threshold,rootMargin:this.rootMargin}}get defaultOptions(){return{}}};ot.targets=["item"],ot.values={class:String,threshold:Number,rootMargin:String};let Tn=ot;Ps("/shoelace-assets");W.register("timeago",$s);Es.initialize();W.register("scroll-to",Os);W.register("scroll-reveal",Tn);const En=Object.assign({"./activity_streams_controller.js":qs,"./analytics_controller.js":Bs,"./apparate_controller.js":Hs,"./application_controller.js":Rs,"./blocking_modal_controller.js":Ns,"./checkboxes_controller.js":Gs,"./csrf_controller.js":Ws,"./dialog_controller.js":Qs,"./element_filter_controller.js":Zs,"./image_fade_in_controller.js":ei,"./list_buttons_controller.js":ti,"./new_window_controller.js":si,"./scroll_controller.js":ri,"./tab_group_controller.js":ni,"./tooltip_controller.js":ai,"./tooltip_menu_controller.js":li,"./visibility_controller.js":ci});Pt(W,En);const Ln=Object.assign({"../../components/aon/activity_streams/button_component_controller.js":di,"../../components/aon/carousel_component_controller.js":ui,"../../components/aon/dynamic_map/callout_component_controller.js":hi,"../../components/aon/dynamic_map_component_controller.js":ji,"../../components/aon/form/combobox_component_controller.js":Ar,"../../components/aon/form/fancy_checkbox_component_controller.js":Tr,"../../components/aon/geos/affixed_nav_component_controller.js":Er,"../../components/aon/geos/drilldown_component_controller.js":Lr,"../../components/aon/home/hero_component_controller.js":jr,"../../components/aon/hub/gallery_component_controller.js":Pr,"../../components/aon/lists_popup/drawer_component_controller.js":Mr,"../../components/aon/lists_popup_component_controller.js":zr,"../../components/aon/navbar/nav_component_controller.js":Fr,"../../components/aon/navbar/popdown_places_component_controller.js":qr,"../../components/aon/navbar/search_component_controller.js":Br,"../../components/aon/notification_component_controller.js":Hr,"../../components/aon/pages/static_page_component_controller.js":Rr,"../../components/aon/social/email_button_component_controller.js":Nr,"../../components/aon/social/facebook_button_component_controller.js":Gr,"../../components/aon/social/reddit_button_component_controller.js":Wr,"../../components/aon/social/twitter_button_component_controller.js":Jr,"../../components/aon/toggle_button_component_controller.js":Zr,"../../components/aon/vertical_video_component_controller.js":Xr});Pt(W,Ln);
//# sourceMappingURL=aon-a9a86b59.js.map</script>
</body>
</html>
