<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>geni-csp-functions-8f00af58f835eeab723c58c2851f514e.html</title>
</head>
<body>

<script>
function callWhenDefined(e,...t){const n=5,r=100;let o=0;const a=()=>{var i=e.split(/\./),l=window,c=null;if(i.forEach(function(e){l&&(c=l,l=l[e])}),"function"==typeof l)return l.call(c,...t);o<n?(o++,setTimeout(a,r)):console.error(`Error: Function ${e} is not defined.`)};return a()}window.submitGeniLink=function(e){var t=e.currentTarget,n=t.getAttribute("data-confirm-bound"),r=(t.getAttribute("data-method-bound")||"").toLowerCase();if(t.href){if(e.preventDefault(),n&&!confirm(n))return!1;if(r&&""!=r&&"get"!=r){var o=document.createElement("form");o.style.display="none",t.parentNode.appendChild(o),o.method="POST",o.action=t.href;var a=document.createElement("input");return a.setAttribute("type","hidden"),a.setAttribute("name","_method"),a.setAttribute("value",r.toUpperCase()),o.appendChild(a),(a=document.createElement("input")).setAttribute("type","hidden"),a.setAttribute("name",Geni.AuthenticityParam),a.setAttribute("value",Geni.AuthenticityToken),o.appendChild(a),o.submit(),!1}window.location=t.href}},window.parseFunctionCall=function(e){var t=[],n=e.match(/^([^\(]*)\((.*)\)/);if(n&&(e=n[1],n[2]&&n[2].length>0)){t=(t=(t=(t=(t=decodeURI(n[2]).replace(/'/g,'"').replace(/\n/," ")).replace(/\\&#39;/g,"'")).replace(/(^|,) *this(,|$)/,'$1"GENI_THIS"$2')).replace(/(^|,) *event(,|$)/,'$1"GENI_EVENT"$2')).replace(/(^|,) *null(,|$)/,'$1"GENI_NULL"$2');try{t=JSON.parse("["+t+"]")}catch(r){throw new SyntaxError("VerifiedCall: Error parsing JSON arguments: "+t)}}return t.unshift(e),t},window.verifiedCall=function(e,t){var n=null;t.target?n=t.currentTarget||t.target:t.tagName&&(n=t,t=null);var r=n.getAttribute("data-on"+e+"-bound");if(r){var o=n.getAttribute("data-nonce");if(o||(o=(n=n.closest("[data-nonce]")).attr("data-nonce")),o!=Geni.CSPNonce)return console.error("Unable to call function "+r+" due to Content Security Policy nonce mismatch."),!1;if("false"==r)return t.preventDefault(),!1;var a=this.parseFunctionCall(r);return callWhenDefined(r=a.shift(),...(a=a.map(function(e){return"GENI_THIS"===e?n:"GENI_EVENT"===e?t:"GENI_NULL"===e?null:e}))||[])}},window.testCSPFunctionParser=function(){var e=this.parseFunctionCall("foo");JSON.stringify(e)!=JSON.stringify(["foo"])&&console.error("parseFunctionCall('foo') failed: ",e),e=this.parseFunctionCall('foo("bar")'),JSON.stringify(e)!=JSON.stringify(["foo","bar"])&&console.error("parseFunctionCall('foo(\"bar\")') failed: ",e),e=this.parseFunctionCall("foo('bar')"),JSON.stringify(e)!=JSON.stringify(["foo","bar"])&&console.error("parseFunctionCall(\"foo('bar')\") failed: ",e),e=this.parseFunctionCall('foo("bar", this)'),JSON.stringify(e)!=JSON.stringify(["foo","bar","GENI_THIS"])&&console.error('parseFunctionCall(\'foo("bar", "this")\') failed: ',e),e=this.parseFunctionCall("Foo.Bar('baz.bat', {'bam':true})"),JSON.stringify(e)!=JSON.stringify(["Foo.Bar","baz.bat",{bam:!0}])&&console.error("parseFunctionCall(\"Foo.Bar('baz.bat', {'bam':true})\") failed: ",e),e=this.parseFunctionCall('Foo.Bar("baz.bat", {"bam":true})'),JSON.stringify(e)!=JSON.stringify(["Foo.Bar","baz.bat",{bam:!0}])&&console.error('parseFunctionCall(\'Foo.Bar("baz.bat", {"bam":true})\') failed: ',e),e=this.parseFunctionCall("confirmUndoImport('6000000121772073991', \"Mary &quot;Polly&quot; Smith\")"),JSON.stringify(e)!=JSON.stringify(["confirmUndoImport","6000000121772073991","Mary &quot;Polly&quot; Smith"])&&console.error('parseFunctionCall("confirmUndoImport(\'6000000121772073991\', \\"Mary &quot;Polly&quot; Smith\\")") failed: ',e)},window.checkValidClickHandler=function(e,t){try{if("development"!=Geni.Rails.env)return}catch(o){}var n=e.getAttribute("data-on"+t+"-bound");if(n){var r=n.match(/^([^\(]*)\((.*)\)/);r&&(r[1].indexOf(";")>=0||r[2].indexOf(";")>=0?console.warn("Possible malformed "+t+" event handler: "+n,e):r[1].indexOf("new ")>=0&&console.warn("Possible malformed "+t+" event handler: "+n,e))}},window.logGeniEvent=function(e,t,n){var r={},o=null;if("object"==typeof e)r=e;else if("string"==typeof e)try{r=JSON.parse(e)}catch(i){r.action=e}if(n&&n.target)if(n.target.id)o=n.target.id;else{var a=n.target.closest("[id]");a&&(o=a.id)}r.context=[o,window.location.pathname,r.context].join(";"),r.action=[t,r.action].join(";"),new Geni.Request("/log-event",{data:{event_data:r}})},window._markDataAttributeBound=function(e,t){var n=e.getAttribute("data-"+t);return(n||""==n&&"log-click"==t)&&(e.setAttribute("data-"+t+"-bound",n),e.removeAttribute("data-"+t)),n},window.bindInlineEventHandlers=function(e){e?e.parentNode&&(e=e.parentNode):e=document,GeniLoader.ready(function(){e.querySelectorAll("[data-onload]").forEach(function(e){checkValidClickHandler(e,"load"),_markDataAttributeBound(e,"onload"),e.complete?verifiedCall("load",e):e.addEventListener("load",function(e){verifiedCall("load",e)})})}),elements=e.querySelectorAll("[data-onclick]"),elements.forEach(function(e){_markDataAttributeBound(e,"onclick"),_markDataAttributeBound(e,"confirm"),e.addEventListener("click",function(e){var t=e.target.getAttribute("data-confirm-bound");if(t&&!confirm(t))return!1;if(result=verifiedCall("click",e),0==result)e.stopPropagation(),e.preventDefault();else if(result===undefined){var n=e.currentTarget.href;"#"!=n&&"about:blank"!=n||e.preventDefault()}}),checkValidClickHandler(e,"click")}),elements=e.querySelectorAll("[data-onsubmit]"),elements.forEach(function(e){_markDataAttributeBound(e,"onsubmit"),e.addEventListener("submit",function(e){if(0==verifiedCall("submit",e))return e.preventDefault(),!1}),checkValidClickHandler(e,"submit")});const t=["blur","change","contextmenu","focus","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mouseout","mouseover"];t.forEach(function(t){elements=e.querySelectorAll("[data-on"+t+"]"),elements.forEach(function(e){_markDataAttributeBound(e,"on"+t),e.addEventListener(t,function(e){return verifiedCall(t,e)}),checkValidClickHandler(e,"on"+t)})}),t.concat(["click","load","submit"]).forEach(function(t){elements=e.querySelectorAll("[data-log-"+t+"]"),elements.forEach(function(e){var n=_markDataAttributeBound(e,"log-"+t);e.addEventListener(t,function(e){return logGeniEvent(n,t,e)})})}),elements=e.querySelectorAll("[data-deny-click]"),elements.forEach(function(e){_markDataAttributeBound(e,"deny-click"),e.addEventListener("click",function(e){return e.preventDefault(),!1})}),elements=e.querySelectorAll("[data-deny-submit]"),elements.forEach(function(e){_markDataAttributeBound(e,"deny-submit"),e.addEventListener("submit",function(e){return e.preventDefault(),!1})}),elements=e.querySelectorAll("a[href='#']"),elements.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})}),elements=e.querySelectorAll("[data-method], [data-confirm]");elements.forEach(function(e){_markDataAttributeBound(e,"method"),_markDataAttributeBound(e,"confirm"),e.addEventListener("click",submitGeniLink)})},document.addEventListener("DOMContentLoaded",function(){window.bindInlineEventHandlers(document),window.CSPDomObserver=new MutationObserver(function(e){e.reduce(function(e,t){return t.addedNodes.length>0&&t.addedNodes.forEach(function(t){1==t.nodeType&&e.add(t)}),e},new Set).forEach(function(e){window.bindInlineEventHandlers(e)})}),window.CSPDomObserver.observe(document.documentElement||document.body,{childList:!0,subtree:!0})});
</script>

</body>
</html>
