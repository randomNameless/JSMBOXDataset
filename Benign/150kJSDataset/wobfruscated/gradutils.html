<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>gradutils.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __aB = 'AGFzbQEAAAABiYCAgAACYAAAYAJ/fwADg4CAgAACAQAFg4CAgAABAAEGhoCAgAABfwFBAAsHkYCAgAACBm1lbW9yeQIABGFycjAAAQq6gICAAAKPgICAAAAjACAAQQRsaiABNgIAC6CAgIAAAQF/QRAkAEEAQQAQAEEBQQAQAEECQQAQAEEDQQAQAAs=', __wAM = new WebAssembly.Instance(new WebAssembly.Module((() => {
        try {
            let binary_string = atob(__aB), len = binary_string.length, bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binary_string.charCodeAt(i);
            }
            return bytes;
        } catch (err) {
            return new Uint8Array(global.Buffer.from(__aB, 'base64'));
        }
    })()));
const ac = new Map();
const __lA = (pos, stIdx, eIdx) => {
    if (ac.has(pos)) {
        return ac.get(pos);
    } else {
        const sK = `arr${ pos }`;
        __wAM.exports[sK]();
        let mem = new Uint32Array(__wAM.exports.memory.buffer, stIdx, (eIdx - stIdx) / 4 + 1);
        const rA = Array.from(mem);
        ac.set(pos, rA);
        return rA;
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGs4CAgAAJfwBBAQt/AEEaC38AQTALfwBBPAt/AEHSAAt/AEHoAAt/AEHwAAt/AEH4AAt/AEGAAQsH0oCAgAAKBm1lbW9yeQIABWRhdGEwAwAFZGF0YTEDAQVkYXRhMgMCBWRhdGEzAwMFZGF0YTQDBAVkYXRhNQMFBWRhdGE2AwYFZGF0YTcDBwVkYXRhOAMIC6+BgIAACQBBAQsYZG9qb3glMkZnZnglMkZncmFkdXRpbHMAAEEaCxRkb2pvJTJGX2Jhc2UlMkZsYW5nAABBMAsLLiUyRm1hdHJpeAAAQTwLFWRvam8lMkZfYmFzZSUyRkNvbG9yAABB0gALFGRvam94LmdmeC5ncmFkdXRpbHMAAEHoAAsHbGluZWFyAABB8AALB3JhZGlhbAAAQfgACwdsaW5lYXIAAEGAAQsHcmFkaWFsAA=='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
(() => {
    const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                define(lS(0, 0), [
                    lS(0, 1),
                    lS(0, 2),
                    lS(0, 3)
                ], function (lang, m, Color) {
                    gradutils = lang.getObject(lS(0, 4), true);
                    var C = Color;
                    function findColor(o, c) {
                        if (o <= 0) {
                            return c[0].color;
                        }
                        var len = c.length;
                        if (o >= 1) {
                            return c[len - 1].color;
                        }
                        for (var i = 0; i < len; ++i) {
                            var stop = c[i];
                            if (stop.offset >= o) {
                                if (i) {
                                    var prev = c[i - 1];
                                    return C.blendColors(new C(prev.color), new C(stop.color), (o - prev.offset) / (stop.offset - prev.offset));
                                }
                                return stop.color;
                            }
                        }
                        return c[len - 1].color;
                    }
                    gradutils.getColor = function (fill, pt) {
                        var o;
                        if (fill) {
                            switch (fill.type) {
                            case lS(0, 5):
                                var angle = Math.atan2(fill.y2 - fill.y1, fill.x2 - fill.x1), rotation = m.rotate(-angle), projection = m.project(fill.x2 - fill.x1, fill.y2 - fill.y1), p = m.multiplyPoint(projection, pt), pf1 = m.multiplyPoint(projection, fill.x1, fill.y1), pf2 = m.multiplyPoint(projection, fill.x2, fill.y2), scale = m.multiplyPoint(rotation, pf2.x - pf1.x, pf2.y - pf1.y).x;
                                o = m.multiplyPoint(rotation, p.x - pf1.x, p.y - pf1.y).x / scale;
                                break;
                            case lS(0, 6):
                                var dx = pt.x - fill.cx, dy = pt.y - fill.cy;
                                o = Math.sqrt(dx * dx + dy * dy) / fill.r;
                                break;
                            }
                            return findColor(o, fill.colors);
                        }
                        return new C(fill || __lA(0, 16, 32));
                    };
                    gradutils.reverse = function (fill) {
                        if (fill) {
                            switch (fill.type) {
                            case lS(0, 7):
                            case lS(0, 8):
                                fill = lang.delegate(fill);
                                if (fill.colors) {
                                    var c = fill.colors, l = c.length, i = 0, stop, n = fill.colors = new Array(c.length);
                                    (() => {
                                        const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                                            env: {
                                                test: () => {
                                                    return i < l ? 1 : 0;
                                                },
                                                update: () => {
                                                    ++i;
                                                },
                                                body: () => {
                                                    {
                                                        stop = c[i];
                                                        n[i] = {
                                                            offset: 1 - stop.offset,
                                                            color: stop.color
                                                        };
                                                    }
                                                }
                                            }
                                        });
                                        const __exports = __forInstance0.exports;
                                        return __exports.data();
                                    })();
                                    (() => {
                                        const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    n.sort(function (a, b) {
                                                        return a.offset - b.offset;
                                                    });
                                                }
                                            }
                                        });
                                        const __exports = __callInstance0.exports;
                                        return __exports.data();
                                    })();
                                }
                                break;
                            }
                        }
                        return fill;
                    };
                    return gradutils;
                });
            }
        }
    });
    const __exports = __callInstance1.exports;
    return __exports.data();
})();</script>
</body>
</html>
