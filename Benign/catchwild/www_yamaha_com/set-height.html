<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>set-height.html</title>
</head>
<body>

<script>
/* ========================================================================
 * set-height.js v0.0.1
 * ======================================================================== */
$(function() {
  'use strict';
  var target_obj = $('.set-height');
  $.fn.setHeight = function() {
    var this_obj = this,
      children_obj = this_obj.find('img'),
      height_array = [],
      height_num = 0;
      children_obj.css('height', '');
      this_obj.children().css('width', '');

    if(window.matchMedia('(min-width: 768px)').matches){
      children_obj.each(function() {
        $(this).height('auto');
        height_array.push($(this).height());
      });
      height_num = Math.min.apply(null, height_array);
      children_obj.height(height_num);
      this_obj.children().width("auto");
    }
  };
  $(window).on('load resize', function() {
    target_obj.each(function() {
      $(this).setHeight();
    });
  });
});
</script>

</body>
</html>
