<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vidoomy-player.html</title>
</head>
<body>

<script>
/*! For license information please see vidoomy-player.js.LICENSE.txt */
(()=>{var t={4655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ApmBase:()=>Pn,apm:()=>On,apmBase:()=>On,default:()=>Ln,init:()=>In});const r=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}const o=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(i(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function a(t,n){if(n&&("object"===i(n)||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){a(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var s=0;s<r.length;s++)a(s,r[s])}))};function a(t,e){this.name="AggregateError",this.errors=t,this.message=e||""}a.prototype=Error.prototype;const s=function(t){var e=this;return new e((function(n,r){if(!t||void 0===t.length)return r(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r();for(var o=[],s=0;s<i.length;s++)try{e.resolve(i[s]).then(n).catch((function(t){o.push(t),o.length===i.length&&r(new a(o,"All promises were rejected"))}))}catch(t){r(t)}}))};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var c=setTimeout;function l(t){return Boolean(t&&void 0!==t.length)}function d(){}function f(t){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],y(t,this)}function p(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,f._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void v(e.promise,t)}h(e.promise,r)}else(1===t._state?h:v)(e.promise,t._value)}))):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===u(e)||"function"==typeof e)){var n=e.then;if(e instanceof f)return t._state=3,t._value=e,void m(t);if("function"==typeof n)return void y((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,m(t)}catch(e){v(t,e)}var r,i}function v(t,e){t._state=2,t._value=e,m(t)}function m(t){2===t._state&&0===t._deferreds.length&&f._immediateFn((function(){t._handled||f._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)p(t,t._deferreds[e]);t._deferreds=null}function g(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function y(t,e){var n=!1;try{t((function(t){n||(n=!0,h(e,t))}),(function(t){n||(n=!0,v(e,t))}))}catch(t){if(n)return;n=!0,v(e,t)}}f.prototype.catch=function(t){return this.then(null,t)},f.prototype.then=function(t,e){var n=new this.constructor(d);return p(this,new g(t,e,n)),n},f.prototype.finally=r,f.all=function(t){return new f((function(e,n){if(!l(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===u(a)||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(t,e)}),n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},f.any=s,f.allSettled=o,f.resolve=function(t){return t&&"object"===u(t)&&t.constructor===f?t:new f((function(e){e(t)}))},f.reject=function(t){return new f((function(e,n){n(t)}))},f.race=function(t){return new f((function(e,n){if(!l(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)f.resolve(t[r]).then(e,n)}))},f._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){c(t,0)},f._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const b=f;var w={};S?w=window:"undefined"!=typeof self&&(w=self);var E="Promise"in w?w.Promise:b;function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var T=[].slice,S="undefined"!=typeof window,k=S&&"undefined"!=typeof performance?performance:{};for(var x=[],_=0;_<256;++_)x[_]=(_+256).toString(16).substr(1);var C=new Uint8Array(16);function P(t){return function(t){for(var e=[],n=0;n<t.length;n++)e.push(x[t[n]]);return e.join("")}("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(C):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(C):C).substr(0,t)}function O(t,e,n){"function"==typeof t.setRequestHeader?t.setRequestHeader(e,n):t.headers&&"function"==typeof t.headers.append?t.headers.append(e,n):t[e]=n}function I(t,e){var n=!1;return"string"==typeof e?n=t===e:e&&"function"==typeof e.test?n=e.test(t):Array.isArray(e)&&e.forEach((function(e){n||(n=I(t,e))})),n}function L(){return S&&"function"==typeof Set&&"function"==typeof JSON.stringify&&k&&"function"==typeof k.now&&"withCredentials"in new window.XMLHttpRequest}function j(t,e,n){if(n&&t){var r=q(t),i=A(e);return null!=e&&"boolean"!==i&&"number"!==i&&(e=String(e)),n[r]=e,n}}function M(t){return t&&t.split("?")[0]}function R(t){return null!==t&&"object"===A(t)}function N(t,e,n){for(var r=0,i=e.length;r<i;++r){var o=e[r];if(R(o)||"function"==typeof o)for(var a=Object.keys(o),s=0,u=a.length;s<u;s++){var c=a[s],l=o[c];n&&R(l)?(R(t[c])||(t[c]=Array.isArray(l)?[]:{}),N(t[c],[l],!1)):t[c]=l}}return t}function D(){if("undefined"!=typeof document){var t=document.currentScript;return t||function(){if("undefined"!=typeof document)for(var t=document.getElementsByTagName("script"),e=0,n=t.length;e<n;e++){var r=t[e];if(r.src.indexOf("elastic")>0)return r}}()}}function U(t){return N(t,T.call(arguments,1),!1)}function V(t){return N(t,T.call(arguments,1),!0)}function F(t){return void 0===t}function B(){}function q(t){return t.replace(/[.*"]/g,"_")}function z(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r];e&&e(i.type)&&(!n||n._end<i._end)&&(n=i)}return n}function G(){return k.now()}function H(t){return"number"==typeof t&&t>=0?t:G()}function W(t,e){return F(e)||F(t)?null:parseInt(e-t)}function J(t){E.resolve().then(t)}function Q(){return"function"==typeof k.getEntriesByType}function Y(t){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(t)>=0}function X(){return"interactionCount"in performance}function K(t){return t.redirectStart>0}var Z={fetchInProgress:!1};function $(t){return"__apm_symbol__"+t}function tt(t,e,n){for(var r=t;r&&!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);!r&&t[e]&&(r=t);var i,o,a,s,u=$(e);if(r&&!(i=r[u])){i=r[u]=r[e];var c=r&&Object.getOwnPropertyDescriptor(r,e);if(!(s=c)||!1!==s.writable&&("function"!=typeof s.get||void 0!==s.set)){var l=n(i,u,e);r[e]=function(){return l(this,arguments)},o=r[e],a=i,o[$("OriginalDelegate")]=a}}return i}var et=$("xhrIgnore"),nt=$("xhrSync"),rt=$("xhrURL"),it=$("xhrMethod"),ot="schedule",at="invoke",st="addEventListener",ut=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"],ct=3e5,lt="page-load",dt="custom",ft="user-interaction",pt="http-request",ht="temporary",vt="Unknown",mt="page-exit",gt=[lt,"route-change",ft,pt,dt,ht],yt="transaction:end",bt="config:change",wt="queue:flush",Et="queue:add_transaction",At="transaction:ignore",Tt="xmlhttprequest",St="fetch",kt="history",xt="eventtarget",_t="click",Ct="error",Pt=":after",Ot="elastic_apm_config",It="longtask",Lt="largest-contentful-paint",jt="first-input",Mt="layout-shift",Rt="errors",Nt="transactions",Dt="ConfigService",Ut="LoggingService",Vt="TransactionService",Ft="ApmServer",Bt="PerformanceMonitoring",qt="ErrorLogging",zt=".truncated",Gt=1024;function Ht(t){var e=XMLHttpRequest.prototype;if(e&&e[st])var n="readystatechange",r="load",i="error",o=tt(e,"open",(function(){return function(t,e){return t[et]||(t[it]=e[0],t[rt]=e[1],t[nt]=!1===e[2]),o.apply(t,e)}})),a=tt(e,"send",(function(){return function(e,o){if(e[et])return a.apply(e,o);var u={source:Tt,state:"",type:"macroTask",data:{target:e,method:e[it],sync:e[nt],url:e[rt],status:""}};try{return function(e){if(e.state!==ot){e.state=ot,t(ot,e);var o=e.data.target;a(n),a(r),a("timeout"),a(i),a("abort")}function a(t){o[st](t,(function(t){var i=t.type;i===n?4===o.readyState&&0!==o.status&&s(e,"success"):s(e,i===r?"success":i)}))}}(u),a.apply(e,o)}catch(t){throw s(u,i),t}}}));function s(e,n){e.state!==at&&(e.state=at,e.data.status=n,t(at,e))}}function Wt(t){return!(0===t||t>399&&t<600)}function Jt(){return Jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(this,arguments)}function Qt(t,e){if(!Yt())return!1;if(!("keepalive"in new Request("")))return!1;var n=function(t){if(!t)return 0;if(t instanceof Blob)return t.size;return new Blob([t]).size}(e);return"POST"===t&&n<6e4}function Yt(){return"function"==typeof window.fetch&&"function"==typeof window.Request}function Xt(t){if(Yt()){var e=window.fetch;window.fetch=function(i,o){var a,s,u=this,c=arguments,l=i instanceof URL;if("string"==typeof i||l)a=new Request(i,o),s=l?a.url:i;else{if(!i)return e.apply(u,c);s=(a=i).url}var d={source:St,state:"",type:"macroTask",data:{target:a,method:a.method,url:s,aborted:!1}};return new E((function(i,o){var s;Z.fetchInProgress=!0,function(e){e.state=ot,t(ot,e)}(d);try{s=e.apply(u,[a])}catch(t){return o(t),d.data.error=t,n(d),void(Z.fetchInProgress=!1)}s.then((function(t){var e=t.clone?t.clone():{};i(t),J((function(){d.data.response=t;var i=e.body;i?function(t,e){var i=t.getReader();!function t(){i.read().then((function(r){r.done?n(e):t()}),(function(t){r(e,t)}))}()}(i,d):n(d)}))}),(function(t){o(t),J((function(){r(d,t)}))})),Z.fetchInProgress=!1}))}}function n(e){e.state=at,t(at,e)}function r(t,e){t.data.aborted=function(t){return t&&"AbortError"===t.name}(e),t.data.error=e,n(t)}}const Kt=function(){function t(){this.observers={}}var e=t.prototype;return e.observe=function(t,e){var n=this;if("function"==typeof e)return this.observers[t]||(this.observers[t]=[]),this.observers[t].push(e),function(){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}},e.sendOnly=function(t,e){var n=this.observers[t];n&&n.forEach((function(t){try{t.apply(void 0,e)}catch(t){console.log(t,t.stack)}}))},e.send=function(t,e){this.sendOnly(t+":before",e),this.sendOnly(t,e),this.sendOnly(t+Pt,e)},t}();var Zt=new Kt,$t=!1;function te(){return $t||($t=!0,Ht((function(t,e){Zt.send(Tt,[t,e])})),Xt((function(t,e){Zt.send(St,[t,e])})),function(t){if(window.history){var e=history.pushState;"function"==typeof e&&(history.pushState=function(n,r,i){t(at,{source:kt,data:{state:n,title:r,url:i}}),e.apply(this,arguments)})}}((function(t,e){Zt.send(kt,[t,e])}))),Zt}var ee=!1,ne={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER},re=!1;function ie(){return L()?(te(),ne.bootstrapTime=G(),re=!0):S&&console.log("[Elastic APM] platform is not supported!"),re}function oe(t,e){var n=e.error,r=e.filename,i=e.lineno,o=e.colno,a=[];if(n)try{a=t.parse(n)}catch(t){}return function(t){return 0!==t.length&&(1!==t.length||"lineNumber"in t[0])}(a)||(a=[{fileName:r,lineNumber:i,columnNumber:o}]),a.map((function(t){return t.functionName&&(t.functionName=(e=t.functionName,n=e.split("/"),e=n.length>1?["Object",n[n.length-1]].join("."):n[0],e=(n=(e=(e=e.replace(/.<$/gi,".<anonymous>")).replace(/^Anonymous function$/,"<anonymous>")).split(".")).length>1?n[n.length-1]:n[0])),t;var e,n})).map((function(t){var e=t.fileName,n=t.lineNumber,r=t.columnNumber,i=t.functionName,o=void 0===i?"<anonymous>":i;if(!e&&!n)return{};if(!r&&!n)return{};var a,s,u=function(t){return void 0===t&&(t=""),"<anonymous>"===t&&(t=""),t}(e),c=(a=u,s=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),a.indexOf(s)>-1&&(a=a.replace(s+"/","")),a);return function(t){return!!t&&0===window.location.href.indexOf(t)}(u)&&(c="(inline script)"),{abs_path:e,filename:c,function:o,lineno:n,colno:r}}))}var ae=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],se=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,ue=function(){function t(t){var e,n=this.extractProtocol(t||""),r=n.protocol,i=n.address,o=n.slashes,a=!r&&!o,s=this.getLocation(),u=ae.slice();i=i.replace("\\","/"),o||(u[2]=[NaN,"path"]);for(var c=0;c<u.length;c++){var l=u[c],d=l[0],f=l[1];if("string"==typeof d){if(~(e=i.indexOf(d))){var p=l[2];if(p){var h=i.lastIndexOf(d);e=Math.max(e,h),this[f]=i.slice(0,e),i=i.slice(e+p)}else this[f]=i.slice(e),i=i.slice(0,e)}}else this[f]=i,i="";this[f]=this[f]||a&&l[3]&&s[f]||"",l[3]&&(this[f]=this[f].toLowerCase())}if(a&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=a,this.protocol=r||s.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var v=this.host.split(":"),m=v.pop(),g=v.join(":");!function(t,e){switch(e){case"http:":return"80"===t;case"https:":return"443"===t}return!0}(m,this.protocol)?this.port=m:this.host=g,this.hostname=g}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var e=t.prototype;return e.toString=function(){var t=this.protocol;if(t+="//",this.auth){var e="[REDACTED]",n=this.auth.split(":");t+=(n[0]?e:"")+(n[1]?":"+e:"")+"@"}return t+=this.host,t+=this.path,t+=this.query,t+=this.hash},e.getLocation=function(){var t={};return S&&(t=window),t.location},e.extractProtocol=function(t){var e=se.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],address:e[3]}},t}();var ce=["tags"];function le(t){var e={transfer_size:t.transferSize,encoded_body_size:t.encodedBodySize,decoded_body_size:t.decodedBodySize},n=function(t){void 0===t&&(t=[]);for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.duration,a=r.description,s=i;a&&(s+=";desc="+a),o&&(s+=";dur="+o),e.push(s)}return e.join(", ")}(t.serverTiming);return n&&(e.headers={"server-timing":n}),e}function de(t){var e=t.port,n=t.protocol,r=t.hostname,i=function(t,e){return""===t&&(t="http:"===e?"80":"https:"===e?"443":""),t}(e,n),o=91===r.charCodeAt(0)&&93===r.charCodeAt(r.length-1),a=r;return o&&(a=r.slice(1,-1)),{service:{resource:r+":"+i,name:"",type:""},address:a,port:Number(i)}}function fe(){return{page:{referer:document.referrer,url:location.href}}}function pe(t,e){if(e){var n;switch(t.type){case"external":n=function(t){var e,n=t.url,r=t.method,i=t.target,o=t.response,a=new ue(n),s=de(a),u={http:{method:r,url:a.href},destination:s};return i&&void 0!==i.status?e=i.status:o&&(e=o.status),u.http.status_code=e,u}(e);break;case"resource":n=function(t){var e=t.entry,n=t.url,r=de(new ue(n));return{http:{url:n,response:le(e)},destination:r}}(e);break;case"hard-navigation":n=function(t){var e=t.url;return{destination:de(new ue(e))}}(e)}t.addContext(n)}}function he(t,e){var n=void 0===e?{}:e,r=(n.tags,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,ce)),i=fe(),o={};if(t.type===mt)t.ensureContext(),t.context.page&&t.context.page.url&&(i.page.url=t.context.page.url);else if(t.type===lt&&Q()){var a=k.getEntriesByType("navigation");a&&a.length>0&&(o={response:le(a[0])})}t.addContext(i,o,r)}var ve={service:{name:[Gt,!0],version:!0,agent:{version:[Gt,!0]},environment:!0},labels:{"*":!0}},me={"*":!0,headers:{"*":!0}},ge={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:me},destination:{address:[Gt],service:{"*":[Gt,!0]}},response:me},ye={name:[Gt,!0],type:[Gt,!0],id:[Gt,!0],trace_id:[Gt,!0],parent_id:[Gt,!0],transaction_id:[Gt,!0],subtype:!0,action:!0,context:ge},be={name:!0,parent_id:!0,type:[Gt,!0],id:[Gt,!0],trace_id:[Gt,!0],span_count:{started:[Gt,!0]},context:ge},we={id:[Gt,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:ge};function Ee(t){return null==t||""===t||void 0===t}function Ae(t,e,n){var r=function(t,e,n,r){return void 0===e&&(e=Gt),void 0===n&&(n=!1),void 0===r&&(r="N/A"),n&&Ee(t)&&(t=r),"string"==typeof t?t.substring(0,e):t}(t[e],n[0],n[1]);Ee(r)?delete t[e]:t[e]=r}function Te(t,e,n){void 0===t&&(t={}),void 0===n&&(n=e);for(var r=Object.keys(t),i=[],o=function(o){var a=r[o],s=!0===t[a]?i:t[a];Array.isArray(s)?"*"===a?Object.keys(n).forEach((function(t){return Ae(n,t,s)})):Ae(n,a,s):Te(s,e,n[a])},a=0;a<r.length;a++)o(a);return e}var Se=n(8372),ke=n.n(Se);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}var _e=["tags"];var Ce=["stack","message"],Pe="Unhandled promise rejection: ";var Oe=function(){function t(t,e,n){this._apmServer=t,this._configService=e,this._transactionService=n}var e=t.prototype;return e.createErrorDataModel=function(t){var e=function(t){return t.filter((function(t){var e=t.filename,n=t.lineno;return void 0!==e&&void 0!==n}))}(oe(ke(),t)),n="(inline script)",r=e[e.length-1];r&&r.filename&&(n=r.filename);var i=t.message,o=t.error,a=i,s="",u={};if(o&&"object"===xe(o)){a=a||o.message,s=o.name;var c=function(t){var e=!1,n={};if(Object.keys(t).forEach((function(r){if(!(Ce.indexOf(r)>=0)){var i=t[r];if(null!=i&&"function"!=typeof i){if("object"===xe(i)){if("function"!=typeof i.toISOString)return;i=i.toISOString()}n[r]=i,e=!0}}})),e)return n}(o);c&&(u.custom=c)}s||a&&a.indexOf(":")>-1&&(s=a.split(":")[0]);var l=this._transactionService.getCurrentTransaction(),d=l?l.context:{},f=this._configService.get("context"),p=(f.tags,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(f,_e)),h=V({},fe(),d,p,u),v={id:P(),culprit:n,exception:{message:a,stacktrace:e,type:s},context:h};return l&&(v=U(v,{trace_id:l.traceId,parent_id:l.id,transaction_id:l.id,transaction:{type:l.type,sampled:l.sampled}})),Te(we,v)},e.logErrorEvent=function(t){if(void 0!==t){var e=this.createErrorDataModel(t);void 0!==e.exception.message&&this._apmServer.addError(e)}},e.registerListeners=function(){var t=this;window.addEventListener("error",(function(e){return t.logErrorEvent(e)})),window.addEventListener("unhandledrejection",(function(e){return t.logPromiseEvent(e)}))},e.logPromiseEvent=function(t){var e,n=t.reason;if(null==n&&(n="<no reason specified>"),"string"==typeof n.message){var r=n.name?n.name+": ":"";e={error:n,message:Pe+r+n.message}}else e=this._parseRejectReason(n);this.logErrorEvent(e)},e.logError=function(t){var e={};return"string"==typeof t?e.message=t:e.error=t,this.logErrorEvent(e)},e._parseRejectReason=function(t){var e={message:Pe};if(Array.isArray(t))e.message+="<object>";else if("object"===xe(t))try{e.message+=JSON.stringify(t),e.error=t}catch(t){e.message+="<object>"}else e.message+="function"==typeof t?"<function>":t;return e},t}();const Ie=Oe;const Le=function(){function t(t,e){void 0===e&&(e={}),this.onFlush=t,this.items=[],this.queueLimit=e.queueLimit||-1,this.flushInterval=e.flushInterval||0,this.timeoutId=void 0}var e=t.prototype;return e._setTimer=function(){var t=this;this.timeoutId=setTimeout((function(){return t.flush()}),this.flushInterval)},e._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},e.flush=function(){this.onFlush(this.items),this._clear()},e.add=function(t){this.items.push(t),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},t}();const je=function(){function t(){}return t.stringify=function(t){return JSON.stringify(t)+"\n"},t}();var Me=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],Re=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function Ne(t){var e=function(t){var e=t.redirectStart,n=t.fetchStart,r=t.navigationStart,i=t.responseStart,o=t.responseEnd;if(n>=r&&i>=n&&o>=i){var a={};return Me.forEach((function(r){var i=t[r];i&&i>=n&&(K(t)?a[r]=parseInt(i-e):a[r]=parseInt(i-n))})),a}return null}(t);return null==e?null:{navigationTiming:e,agent:{timeToFirstByte:e.responseStart,domInteractive:e.domInteractive,domComplete:e.domComplete}}}function De(t){return{ts:t.transfer_size,ebs:t.encoded_body_size,dbs:t.decoded_body_size}}function Ue(t){if(!t)return null;var e={},n=t.page,r=t.http,i=t.response,o=t.destination,a=t.user,s=t.custom;if(n&&(e.p={rf:n.referer,url:n.url}),r&&(e.h=function(t){var e={},n=t.method,r=t.status_code,i=t.url,o=t.response;return e.url=i,n&&(e.mt=n),r&&(e.sc=r),o&&(e.r=De(o)),e}(r)),i&&(e.r=De(i)),o){var u=o.service;e.dt={se:{n:u.name,t:u.type,rc:u.resource},ad:o.address,po:o.port}}return a&&(e.u={id:a.id,un:a.username,em:a.email}),s&&(e.cu=s),e}function Ve(t){if(!t)return null;var e=function(t){if(!t)return null;var e={};return Re.forEach((function(n,r){var i=Me[r];e[n]=t[i]})),e}(t.navigationTiming);return{nt:e,a:Fe(e,t.agent)}}function Fe(t,e){var n={};if(t&&(n={fb:t.rs,di:t.di,dc:t.dc}),e){var r=e.firstContentfulPaint,i=e.largestContentfulPaint;r&&(n.fp=r),i&&(n.lp=i)}return 0===Object.keys(n).length?null:n}function Be(t,e){void 0===e&&(e="gzip");var n="function"==typeof CompressionStream;return new E((function(r){if(!n)return r(t);if(function(){var t="_elastic_inspect_beacon_";if(null!=sessionStorage.getItem(t))return!0;if(!window.URL||!window.URLSearchParams)return!1;try{var e=new URL(window.location.href).searchParams.has(t);return e&&sessionStorage.setItem(t,!0),e}catch(t){}return!1}())return r(t);var i=t.payload,o=t.headers,a=t.beforeSend,s=new Blob([i]).stream().pipeThrough(new CompressionStream(e));return new Response(s).blob().then((function(t){return o["Content-Encoding"]=e,r({payload:t,headers:o,beforeSend:a})}))}))}function qe(t,e,n){var r=n.timeout,i=void 0===r?HTTP_REQUEST_TIMEOUT:r,o=n.payload,a=n.headers,s=n.beforeSend,u=n.sendCredentials;return new E((function(n,r){var c=new window.XMLHttpRequest;if(c[et]=!0,c.open(t,e,!0),c.timeout=i,c.withCredentials=u,a)for(var l in a)a.hasOwnProperty(l)&&c.setRequestHeader(l,a[l]);c.onreadystatechange=function(){if(4===c.readyState){var t=c.status,i=c.responseText;Wt(t)?n(c):r({url:e,status:t,responseText:i})}},c.onerror=function(){var t=c.status,n=c.responseText;r({url:e,status:t,responseText:n})};var d=!0;"function"==typeof s&&(d=s({url:e,method:t,headers:a,payload:o,xhr:c})),d?c.send(o):r({url:e,status:0,responseText:"Request rejected by user configuration."})}))}var ze=function(){function t(t,e){this._configService=t,this._loggingService=e,this.queue=void 0,this.throttleEvents=B}var e=t.prototype;return e.init=function(){var t=this,e=this._configService.get("queueLimit"),n=this._configService.get("flushInterval"),r=this._configService.get("eventsLimit");this.queue=new Le((function(e){var n=t.sendEvents(e);n&&n.catch((function(e){t._loggingService.warn("Failed sending events!",t._constructError(e))}))}),{queueLimit:e,flushInterval:n}),this.throttleEvents=function(t,e,n){var r,i=this,o=n.limit,a=n.interval,s=0;return function(){return s++,void 0===r&&(r=setTimeout((function(){s=0,r=void 0}),a)),s>o&&"function"==typeof e?e.apply(i,arguments):t.apply(i,arguments)}}(this.queue.add.bind(this.queue),(function(){return t._loggingService.warn("Dropped events due to throttling!")}),{limit:r,interval:6e4}),this._configService.observeEvent(wt,(function(){t.queue.flush()}))},e._postJson=function(t,e){var n=this,r={payload:e,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return Be(r).catch((function(t){return r})).then((function(e){return n._makeHttpRequest("POST",t,e)})).then((function(t){return t.responseText}))},e._constructError=function(t){var e=t.url,n=t.status;t.responseText;if(void 0===n)return t;var r=e+" HTTP status: "+n;return new Error(r)},e._makeHttpRequest=function(t,e,n){var r=void 0===n?{}:n,i=r.timeout,o=void 0===i?1e4:i,a=r.payload,s=r.headers,u=r.beforeSend,c=this._configService.get("sendCredentials");return!u&&Qt(t,a)?function(t,e,n){var r,i=n.keepalive,o=void 0!==i&&i,a=n.timeout,s=void 0===a?1e4:a,u=n.payload,c=n.headers,l=n.sendCredentials,d={};if("function"==typeof AbortController){var f=new AbortController;d.signal=f.signal,setTimeout((function(){return f.abort()}),s)}return window.fetch(e,Jt({body:u,headers:c,method:t,keepalive:o,credentials:l?"include":"omit"},d)).then((function(t){return(r=t).text()})).then((function(t){var n={url:e,status:r.status,responseText:t};if(!Wt(r.status))throw n;return n}))}(t,e,{keepalive:!0,timeout:o,payload:a,headers:s,sendCredentials:c}).catch((function(n){if(n instanceof TypeError)return qe(t,e,{timeout:o,payload:a,headers:s,beforeSend:u,sendCredentials:c});throw n})):qe(t,e,{timeout:o,payload:a,headers:s,beforeSend:u,sendCredentials:c})},e.fetchConfig=function(t,e){var n=this,r=this.getEndpoints().configEndpoint;if(!t)return E.reject("serviceName is required for fetching central config.");r+="?service.name="+t,e&&(r+="&service.environment="+e);var i=this._configService.getLocalConfig();i&&(r+="&ifnonematch="+i.etag);var o=this._configService.get("apmRequest");return this._makeHttpRequest("GET",r,{timeout:5e3,beforeSend:o}).then((function(t){var e=t.status,r=t.responseText;if(304===e)return i;var o=JSON.parse(r),a=t.getResponseHeader("etag");return a&&(o.etag=a.replace(/["]/g,""),n._configService.setLocalConfig(o,!0)),o})).catch((function(t){var e=n._constructError(t);return E.reject(e)}))},e.createMetaData=function(){var t=this._configService,e={service:{name:t.get("serviceName"),version:t.get("serviceVersion"),agent:{name:"rum-js",version:t.version},language:{name:"javascript"},environment:t.get("environment")},labels:t.get("context.tags")};return Te(ve,e)},e.addError=function(t){var e;this.throttleEvents(((e={})[Rt]=t,e))},e.addTransaction=function(t){var e;this.throttleEvents(((e={})[Nt]=t,e))},e.ndjsonErrors=function(t,e){var n=e?"e":"error";return t.map((function(t){var r;return je.stringify(((r={})[n]=e?function(t){var e,n=t.exception,r={id:t.id,cl:t.culprit,ex:{mg:n.message,st:(e=n.stacktrace,e.map((function(t){return{ap:t.abs_path,f:t.filename,fn:t.function,li:t.lineno,co:t.colno}}))),t:t.type},c:Ue(t.context)},i=t.transaction;return i&&(r.tid=t.trace_id,r.pid=t.parent_id,r.xid=t.transaction_id,r.x={t:i.type,sm:i.sampled}),r}(t):t,r))}))},e.ndjsonMetricsets=function(t){return t.map((function(t){return je.stringify({metricset:t})})).join("")},e.ndjsonTransactions=function(t,e){var n=this,r=e?"x":"transaction";return t.map((function(t){var i,o="",a="";return e||(t.spans&&(o=t.spans.map((function(t){return je.stringify({span:t})})).join(""),delete t.spans),t.breakdown&&(a=n.ndjsonMetricsets(t.breakdown),delete t.breakdown)),je.stringify(((i={})[r]=e?function(t){var e,n=t.spans.map((function(e){var n={id:e.id,n:e.name,t:e.type,s:e.start,d:e.duration,c:Ue(e.context),o:e.outcome,sr:e.sample_rate};return e.parent_id!==t.id&&(n.pid=e.parent_id),!0===e.sync&&(n.sy=!0),e.subtype&&(n.su=e.subtype),e.action&&(n.ac=e.action),n})),r={id:t.id,tid:t.trace_id,n:t.name,t:t.type,d:t.duration,c:Ue(t.context),k:Ve(t.marks),me:(e=t.breakdown,e.map((function(t){var e=t.span,n=t.samples;return{y:{t:e.type},sa:{ysc:{v:n["span.self_time.count"].value},yss:{v:n["span.self_time.sum.us"].value}}}}))),y:n,yc:{sd:n.length},sm:t.sampled,sr:t.sample_rate,o:t.outcome};if(t.experience){var i=t.experience,o=i.cls,a=i.fid,s=i.tbt,u=i.longtask;r.exp={cls:o,fid:a,tbt:s,lt:u}}if(t.session){var c=t.session,l=c.id,d=c.sequence;r.ses={id:l,seq:d}}return r}(t):t,i))+o+a}))},e.sendEvents=function(t){var e,n;if(0!==t.length){for(var r=[],i=[],o=0;o<t.length;o++){var a=t[o];a[Nt]&&r.push(a[Nt]),a[Rt]&&i.push(a[Rt])}if(0!==r.length||0!==i.length){var s=this._configService,u=((e={})[Nt]=r,e[Rt]=i,e),c=s.applyFilters(u);if(c){var l=s.get("apiVersion")>2,d=[],f=this.createMetaData(),p=l?"m":"metadata";d.push(je.stringify(((n={})[p]=l?function(t){var e=t.service,n=t.labels,r=e.agent,i=e.language;return{se:{n:e.name,ve:e.version,a:{n:r.name,ve:r.version},la:{n:i.name},en:e.environment},l:n}}(f):f,n)));var h=(d=d.concat(this.ndjsonErrors(c[Rt],l),this.ndjsonTransactions(c[Nt],l))).join(""),v=this.getEndpoints().intakeEndpoint;return this._postJson(v,h)}this._loggingService.warn("Dropped payload due to filtering!")}}},e.getEndpoints=function(){var t=this._configService.get("serverUrl"),e=this._configService.get("apiVersion");return{intakeEndpoint:t+(this._configService.get("serverUrlPrefix")||"/intake/v"+e+"/rum/events"),configEndpoint:t+"/config/v1/rum/agents"}},t}();const Ge=ze;function He(){return He=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},He.apply(this,arguments)}var We=function(){function t(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",serverUrlPrefix:"",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null,sendCredentials:!1},this.events=new Kt,this.filters=[],this.version=""}var e=t.prototype;return e.init=function(){var t,e=(t=function(t){if(!t)return{};for(var e={},n=/^data-([\w-]+)$/,r=t.attributes,i=0;i<r.length;i++){var o=r[i];n.test(o.nodeName)&&(e[o.nodeName.match(n)[1].split("-").map((function(t,e){return e>0?t.charAt(0).toUpperCase()+t.substring(1):t})).join("")]=o.value||o.nodeValue)}return e}(D()),t);this.setConfig(e)},e.setVersion=function(t){this.version=t},e.addFilter=function(t){if("function"!=typeof t)throw new Error("Argument to must be function");this.filters.push(t)},e.applyFilters=function(t){for(var e=0;e<this.filters.length;e++)if(!(t=this.filters[e](t)))return;return t},e.get=function(t){return t.split(".").reduce((function(t,e){return t&&t[e]}),this.config)},e.setUserContext=function(t){void 0===t&&(t={});var e={},n=t,r=n.id,i=n.username,o=n.email;"number"!=typeof r&&"string"!=typeof r||(e.id=r),"string"==typeof i&&(e.username=i),"string"==typeof o&&(e.email=o),this.config.context.user=U(this.config.context.user||{},e)},e.setCustomContext=function(t){void 0===t&&(t={}),this.config.context.custom=U(this.config.context.custom||{},t)},e.addLabels=function(t){var e=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(t).forEach((function(n){return j(n,t[n],e.config.context.tags)}))},e.setConfig=function(t){void 0===t&&(t={});var e=t,n=e.transactionSampleRate,r=e.serverUrl;r&&(t.serverUrl=r.replace(/\/+$/,"")),F(n)||(n<1e-4&&n>0&&(n=1e-4),t.transactionSampleRate=Math.round(1e4*n)/1e4),V(this.config,t),this.events.send(bt,[this.config])},e.validate=function(t){void 0===t&&(t={});var e=["serviceName","serverUrl"],n=Object.keys(this.config),r={missing:[],invalid:[],unknown:[]};Object.keys(t).forEach((function(i){-1===e.indexOf(i)||t[i]||r.missing.push(i),-1===n.indexOf(i)&&r.unknown.push(i)})),t.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(t.serviceName)&&r.invalid.push({key:"serviceName",value:t.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var i=t.transactionSampleRate;return void 0!==i&&("number"!=typeof i||isNaN(i)||i<0||i>1)&&r.invalid.push({key:"transactionSampleRate",value:i,allowed:"Number between 0 and 1"}),r},e.getLocalConfig=function(){var t=sessionStorage;this.config.session&&(t=localStorage);var e=t.getItem(Ot);if(e)return JSON.parse(e)},e.setLocalConfig=function(t,e){if(t){if(e)t=He({},this.getLocalConfig(),t);var n=sessionStorage;this.config.session&&(n=localStorage),n.setItem(Ot,JSON.stringify(t))}},e.dispatchEvent=function(t,e){this.events.send(t,e)},e.observeEvent=function(t,e){return this.events.observe(t,e)},t}();const Je=We;const Qe=function(){function t(t){void 0===t&&(t={}),this.levels=["trace","debug","info","warn","error"],this.level=t.level||"warn",this.prefix=t.prefix||"",this.resetLogMethods()}var e=t.prototype;return e.shouldLog=function(t){return this.levels.indexOf(t)>=this.levels.indexOf(this.level)},e.setLevel=function(t){t!==this.level&&(this.level=t,this.resetLogMethods())},e.resetLogMethods=function(){var t=this;this.levels.forEach((function(e){t[e]=t.shouldLog(e)?function(){var t=e;"trace"!==e&&"debug"!==e||(t="info");var n=arguments;if(n[0]=this.prefix+n[0],console){var r=console[t]||console.log;"function"==typeof r&&r.apply(console,n)}}:B}))},t}();var Ye,Xe=((Ye={})[Dt]=function(){return new Je},Ye[Ut]=function(){return new Qe({prefix:"[Elastic APM] "})},Ye[Ft]=function(t){var e=t.getService([Dt,Ut]),n=e[0],r=e[1];return new Ge(n,r)},Ye),Ke=function(){function t(){this.instances={},this.initialized=!1}var e=t.prototype;return e.init=function(){if(!this.initialized){this.initialized=!0;var t=this.getService(Dt);t.init();var e=this.getService([Ut,Ft]),n=e[0],r=e[1];t.events.observe(bt,(function(){var e=t.get("logLevel");n.setLevel(e)})),r.init()}},e.getService=function(t){var e=this;return"string"==typeof t?(this.instances[t]||"function"==typeof Xe[t]&&(this.instances[t]=Xe[t](this)),this.instances[t]):Array.isArray(t)?t.map((function(t){return e.getService(t)})):void 0},t}();var Ze=function(){function t(t,e,n,r){this._apmServer=t,this._configService=e,this._logginService=n,this._transactionService=r}var e=t.prototype;return e.init=function(t){var e=this;void 0===t&&(t={}),this._configService.events.observe(yt+Pt,(function(t){var n=e.createTransactionPayload(t);n&&(e._apmServer.addTransaction(n),e._configService.dispatchEvent(Et))})),t[kt]&&Zt.observe(kt,this.getHistorySub()),t[Tt]&&Zt.observe(Tt,this.getXHRSub()),t[St]&&Zt.observe(St,this.getFetchSub())},e.getHistorySub=function(){var t=this._transactionService;return function(e,n){n.source===kt&&e===at&&t.startTransaction(n.data.title,"route-change",{managed:!0,canReuse:!0})}},e.getXHRSub=function(){var t=this;return function(e,n){n.source!==Tt||Z.fetchInProgress||t.processAPICalls(e,n)}},e.getFetchSub=function(){var t=this;return function(e,n){n.source===St&&t.processAPICalls(e,n)}},e.processAPICalls=function(t,e){var n=this._configService,r=this._transactionService;if(e.data&&e.data.url){var i=this._apmServer.getEndpoints();if(Object.keys(i).some((function(t){return-1!==e.data.url.indexOf(i[t])})))return}if(t===ot&&e.data){var o=e.data,a=new ue(o.url),s=o.method+" "+(a.relative?a.path:M(a.href));r.getCurrentTransaction()||r.startTransaction(s,pt,{managed:!0});var u=r.startSpan(s,"external.http",{blocking:!0});if(!u)return;var c=n.get("distributedTracing"),l=n.get("distributedTracingOrigins"),d=new ue(window.location.href),f=I(a.origin,d.origin)||I(a.origin,l),p=o.target;if(c&&f&&p)this.injectDtHeader(u,p),n.get("propagateTracestate")&&this.injectTSHeader(u,p);else ee;o.sync&&(u.sync=o.sync),o.span=u}else if(t===at){var h=e.data;if(h&&h.span){var v,m,g=h.span,y=h.response,b=h.target;v=y?y.status:b.status,m="abort"==h.status||h.aborted?"unknown":v>=400||0==v?"failure":"success",g.outcome=m;var w=r.getCurrentTransaction();w&&w.type===pt&&(w.outcome=m),r.endSpan(g,h)}}},e.injectDtHeader=function(t,e){var n,r=this._configService.get("distributedTracingHeaderName"),i=function(t){if(t&&t.traceId&&t.id&&t.parentId){var e=t.sampled?"01":"00",n=t.sampled?t.id:t.parentId;return"00-"+t.traceId+"-"+n+"-"+e}}(t);/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(n=i)&&"00000000000000000000000000000000"!==n.slice(3,35)&&"0000000000000000"!==n.slice(36,52)&&i&&r&&O(e,r,i)},e.injectTSHeader=function(t,e){var n=function(t){var e=t.sampleRate;if(!("number"!=typeof e||String(e).length>256))return"es=s:"+e}(t);n&&O(e,"tracestate",n)},e.extractDtHeader=function(t){var e=this._configService.get("distributedTracingHeaderName");if(t)return function(t){var e=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(t);if(e){var n="00"!==e[4];return{traceId:e[2],id:e[3],sampled:n}}}(t[e])},e.filterTransaction=function(t){var e=t.duration();if(!e)return!1;if(t.isManaged()){if(e>6e4)return!1;if(t.sampled&&0===t.spans.length)return!1}return!0},e.createTransactionDataModel=function(t){var e=t._start,n=t.spans.map((function(n){var r={id:n.id,transaction_id:t.id,parent_id:n.parentId||t.id,trace_id:t.traceId,name:n.name,type:n.type,subtype:n.subtype,action:n.action,sync:n.sync,start:parseInt(n._start-e),duration:n.duration(),context:n.context,outcome:n.outcome,sample_rate:n.sampleRate};return Te(ye,r)})),r={id:t.id,trace_id:t.traceId,session:t.session,name:t.name,type:t.type,duration:t.duration(),spans:n,context:t.context,marks:t.marks,breakdown:t.breakdownTimings,span_count:{started:n.length},sampled:t.sampled,sample_rate:t.sampleRate,experience:t.experience,outcome:t.outcome};return Te(be,r)},e.createTransactionPayload=function(t){var e=function(t){if(t.sampled){var e=t.spans.filter((function(e){return e.duration()>0&&e._start>=t._start&&e._end<=t._end}));if(t.isManaged()){var n=function(t,e,n){t.sort((function(t,e){return t._start-e._start}));var r=[],i=1;return t.forEach((function(o,a){if(0===r.length)r.push(o);else{var s=r[r.length-1],u=s.type===o.type&&s.subtype===o.subtype&&s.action===o.action&&s.name===o.name&&o.duration()/e<n&&(o._start-s._end)/e<n,c=t.length===a+1;u&&(i++,s._end=o._end),i>1&&(!u||c)&&(s.name=i+"x "+s.name,i=1),u||r.push(o)}})),r}(e,t.duration(),.05);t.spans=n}else t.spans=e}else t.resetFields();return t}(t);if(this.filterTransaction(e))return this.createTransactionDataModel(t);this._configService.dispatchEvent(At)},t}();const $e=function(){function t(t,e,n){void 0===n&&(n={}),t||(t=vt),e||(e=dt),this.name=t,this.type=e,this.options=n,this.id=n.id||P(16),this.traceId=n.traceId,this.sampled=n.sampled,this.sampleRate=n.sampleRate,this.timestamp=n.timestamp,this._start=H(n.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=n.onEnd}var e=t.prototype;return e.ensureContext=function(){this.context||(this.context={})},e.addLabels=function(t){this.ensureContext();var e=this.context;e.tags||(e.tags={}),Object.keys(t).forEach((function(n){return j(n,t[n],e.tags)}))},e.addContext=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];0!==e.length&&(this.ensureContext(),V.apply(void 0,[this.context].concat(e)))},e.end=function(t){this.ended||(this.ended=!0,this._end=H(t),this.callOnEnd())},e.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},e.duration=function(){return W(this._start,this._end)},t}();function tn(t,e){return tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tn(t,e)}const en=function(t){var e,n;function r(e,n,r){var i;if((i=t.call(this,e,n,r)||this).parentId=i.options.parentId,i.subtype=void 0,i.action=void 0,-1!==i.type.indexOf(".")){var o=i.type.split(".",3);i.type=o[0],i.subtype=o[1],i.action=o[2]}return i.sync=i.options.sync,i}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,tn(e,n),r.prototype.end=function(e,n){t.prototype.end.call(this,e),pe(this,n)},r}($e);var nn=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function rn(t){return{value:t}}function on(t,e){var n=e.details,r=e.count,i=void 0===r?1:r,o=e.duration;return{transaction:t,span:n,samples:{"span.self_time.count":rn(i),"span.self_time.sum.us":rn(1e3*o)}}}function an(t,e){void 0===e&&(e=k.timing);var n=[],r=t.name,i=t.type,o=t.sampled,a={name:r,type:i};if(!o)return n;if(i===lt&&e)for(var s=0;s<nn.length;s++){var u=nn[s],c=W(e[u[0]],e[u[1]]);0!==c&&null!=c&&n.push(on(a,{details:{type:u[2]},duration:c}))}else{var l=function(t){var e={},n=function(t){var e=t.spans,n=t._start,r=t._end;if(0===e.length)return t.duration();e.sort((function(t,e){return t._start-e._start}));for(var i=e[0],o=i._end,a=i._start,s=o,u=a-n,c=1;c<e.length;c++)a=(i=e[c])._start,o=i._end,a>s?(u+=a-s,s=o):o>s&&(s=o);return s<r&&(u+=r-s),u}(t);e.app={count:1,duration:n};for(var r=t.spans,i=0;i<r.length;i++){var o=r[i],a=o.duration();if(0!==a&&null!=a){var s=o.type,u=o.subtype,c=s.replace(zt,"");u&&(c+="."+u),e[c]||(e[c]={duration:0,count:0}),e[c].count++,e[c].duration+=a}}return e}(t);Object.keys(l).forEach((function(t){var e=t.split("."),r=e[0],i=e[1],o=l[t],s=o.duration,u=o.count;n.push(on(a,{details:{type:r,subtype:i},duration:s,count:u}))}))}return n}function sn(t,e){return sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sn(t,e)}const un=function(t){var e,n;function r(e,n,r){var i;return(i=t.call(this,e,n,r)||this).traceId=P(),i.marks=void 0,i.spans=[],i._activeSpans={},i._activeTasks=new Set,i.blocked=!1,i.captureTimings=!1,i.breakdownTimings=[],i.sampleRate=i.options.transactionSampleRate,i.sampled=Math.random()<=i.sampleRate,i}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,sn(e,n);var i=r.prototype;return i.addMarks=function(t){this.marks=V(this.marks||{},t)},i.mark=function(t){var e=q(t),n=G()-this._start,r={};r[e]=n,this.addMarks({custom:r})},i.canReuse=function(){var t=this.options.reuseThreshold||5e3;return!!this.options.canReuse&&!this.ended&&G()-this._start<t},i.redefine=function(t,e,n){t&&(this.name=t),e&&(this.type=e),n&&(this.options.reuseThreshold=n.reuseThreshold,U(this.options,n))},i.startSpan=function(t,e,n){var r=this;if(!this.ended){var i=U({},n);i.onEnd=function(t){r._onSpanEnd(t)},i.traceId=this.traceId,i.sampled=this.sampled,i.sampleRate=this.sampleRate,i.parentId||(i.parentId=this.id);var o=new en(t,e,i);return this._activeSpans[o.id]=o,i.blocking&&this.addTask(o.id),o}},i.isFinished=function(){return!this.blocked&&0===this._activeTasks.size},i.detectFinish=function(){this.isFinished()&&this.end()},i.end=function(t){if(!this.ended){for(var e in this.ended=!0,this._end=H(t),this._activeSpans){var n=this._activeSpans[e];n.type=n.type+zt,n.end(t)}this.callOnEnd()}},i.captureBreakdown=function(){this.breakdownTimings=an(this)},i.block=function(t){this.blocked=t,this.blocked||this.detectFinish()},i.addTask=function(t){return t||(t="task-"+P(16)),this._activeTasks.add(t),t},i.removeTask=function(t){this._activeTasks.delete(t)&&this.detectFinish()},i.resetFields=function(){this.spans=[],this.sampleRate=0},i._onSpanEnd=function(t){this.spans.push(t),delete this._activeSpans[t.id],this.removeTask(t.id)},i.isManaged=function(){return!!this.options.managed},r}($e);function cn(){return cn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cn.apply(this,arguments)}var ln={fid:0,fcp:0,tbt:{start:1/0,duration:0},cls:{score:0,firstEntryTime:Number.NEGATIVE_INFINITY,prevEntryTime:Number.NEGATIVE_INFINITY,currentSessionScore:0},longtask:{count:0,duration:0,max:0}};function dn(t,e){var n=e.isHardNavigation,r=e.trStart,i=t.getEntriesByType(It).filter((function(t){return t.startTime>=r})),o=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i.name,a=i.startTime,s=i.duration,u=i.attribution,c=a+s,l=new en("Longtask("+o+")",It,{startTime:a});if(e.count++,e.duration+=s,e.max=Math.max(s,e.max),u.length>0){var d=u[0],f=d.name,p=d.containerType,h=d.containerName,v=d.containerId,m={attribution:f,type:p};h&&(m.name=h),v&&(m.id=v),l.addContext({custom:m})}l.end(c),n.push(l)}return n}(i,ln.longtask),a={spans:o,marks:{}};if(!n)return a;var s=t.getEntriesByType(Lt),u=s[s.length-1];if(u){var c=parseInt(u.startTime);ln.lcp=c,a.marks.largestContentfulPaint=c}var l=k.timing,d=l.fetchStart-l.navigationStart;K(l)&&(d=0);var f=t.getEntriesByName("first-contentful-paint")[0];if(f){var p=parseInt(d>=0?f.startTime-d:f.startTime);ln.fcp=p,a.marks.firstContentfulPaint=p}var h=function(t){var e=t[0];if(e){var n=e.startTime,r=e.processingStart,i=new en("First Input Delay",jt,{startTime:n});return i.end(r),i}}(t.getEntriesByType(jt));return h&&(ln.fid=h.duration(),a.spans.push(h)),function(t){t.forEach((function(t){var e=t.name,n=t.startTime,r=t.duration;if(!(n<ln.fcp||"self"!==e&&-1===e.indexOf("same-origin"))){ln.tbt.start=Math.min(ln.tbt.start,n);var i=r-50;i>0&&(ln.tbt.duration+=i)}}))}(i),function(t){t.forEach((function(t){!t.hadRecentInput&&t.value&&((t.startTime-ln.cls.firstEntryTime>5e3||t.startTime-ln.cls.prevEntryTime>1e3)&&(ln.cls.firstEntryTime=t.startTime,ln.cls.currentSessionScore=0),ln.cls.prevEntryTime=t.startTime,ln.cls.currentSessionScore+=t.value,ln.cls.score=Math.max(ln.cls.score,ln.cls.currentSessionScore))}))}(t.getEntriesByType(Mt)),a}var fn=function(){function t(t){this.po={observe:B,disconnect:B},window.PerformanceObserver&&(this.po=new PerformanceObserver(t))}var e=t.prototype;return e.start=function(t,e){void 0===e&&(e={buffered:!0});try{if(!Y(t))return;this.po.observe(cn({type:t},e))}catch(t){}},e.stop=function(){this.po.disconnect()},t}();function pn(t,e,n,r,i){return void 0===i&&(i=0),"number"==typeof t&&"number"==typeof e&&t>=i&&e>t&&t-i>=n&&e-i<=r&&e-t<ct&&t-i<ct&&e-i<ct}var hn=[["redirectStart","redirectEnd","Redirect"],["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function vn(t){var e=t.name,n=t.initiatorType,r=t.startTime,i=t.responseEnd,o="resource";n&&(o+="."+n);var a=M(e),s=new en(a,o);return s._start=r,s.end(i,{url:e,entry:t}),s}function mn(t,e){return null!=e&&t>e}function gn(t){if(t.captureTimings){var e=t._end;if(t.type===lt){if(t.marks&&t.marks.custom){var n=t.marks.custom;Object.keys(n).forEach((function(e){n[e]+=t._start}))}t._start=0;var r=k.timing;(function(t,e,n,r){for(var i=[],o=0;o<hn.length;o++){var a=t[hn[o][0]],s=t[hn[o][1]];if(pn(a,s,n,r,e)){var u=new en(hn[o][2],"hard-navigation.browser-timing"),c=null;"requestStart"===hn[o][0]&&(u.pageResponse=!0,c={url:location.origin}),u._start=a-e,u.end(s-e,c),i.push(u)}}return i})(r,K(r)?r.redirectStart:r.fetchStart,0,e).forEach((function(e){e.traceId=t.traceId,e.sampled=t.sampled,e.pageResponse&&t.options.pageLoadSpanId&&(e.id=t.options.pageLoadSpanId),t.spans.push(e)})),t.addMarks(Ne(r))}if(Q()){var i=t._start;(function(t,e,n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],s=a.initiatorType,u=a.name,c=a.startTime,l=a.responseEnd;-1!==ut.indexOf(s)&&null!=u&&(("xmlhttprequest"===s||"fetch"===s)&&(/intake\/v\d+\/rum\/events/.test(u)||mn(c,e))||pn(c,l,n,r)&&i.push(vn(t[o])))}return i})(k.getEntriesByType("resource"),ne.bootstrapTime,i,e).forEach((function(e){return t.spans.push(e)})),function(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=t[i],a=o.name,s=o.startTime,u=o.duration,c=s+u;if(!(u<=60)&&pn(s,c,e,n)){var l=new en(a,"app");l._start=s,l.end(c),r.push(l)}}return r}(k.getEntriesByType("measure"),i,e).forEach((function(e){return t.spans.push(e)}))}}else t.type===lt&&(t._start=0)}var yn=function(){function t(t,e){var n=this;this._config=e,this._logger=t,this.currentTransaction=void 0,this.respIntervalId=void 0,this.recorder=new fn((function(t){var e=n.getCurrentTransaction();if(e&&e.captureTimings){var r,i=e.type===lt,o=dn(t,{isHardNavigation:i,trStart:i?0:e._start}),a=o.spans,s=o.marks;(r=e.spans).push.apply(r,a),e.addMarks({agent:s})}}))}var e=t.prototype;return e.createCurrentTransaction=function(t,e,n){var r=new un(t,e,n);return this.currentTransaction=r,r},e.getCurrentTransaction=function(){if(this.currentTransaction&&!this.currentTransaction.ended)return this.currentTransaction},e.createOptions=function(t){var e=this._config.config,n=U({transactionSampleRate:e.transactionSampleRate},t);return n.managed&&(n=U({pageLoadTraceId:e.pageLoadTraceId,pageLoadSampled:e.pageLoadSampled,pageLoadSpanId:e.pageLoadSpanId,pageLoadTransactionName:e.pageLoadTransactionName},n)),n},e.startManagedTransaction=function(t,e,n){var r=this.getCurrentTransaction(),i=!1;if(r)if(r.canReuse()&&n.canReuse){var o=r.type,a=gt.indexOf(r.type),s=gt.indexOf(e);a>=0&&s<a&&(o=e),r.redefine(t,o,n),i=!0}else r.end(),r=this.createCurrentTransaction(t,e,n);else r=this.createCurrentTransaction(t,e,n);return r.type===lt&&(i||(this.recorder.start(Lt),this.recorder.start("paint"),this.recorder.start(jt),this.recorder.start(Mt)),n.pageLoadTraceId&&(r.traceId=n.pageLoadTraceId),n.pageLoadSampled&&(r.sampled=n.pageLoadSampled),r.name===vt&&n.pageLoadTransactionName&&(r.name=n.pageLoadTransactionName)),!i&&this._config.get("monitorLongtasks")&&this.recorder.start(It),r.sampled&&(r.captureTimings=!0),r},e.startTransaction=function(t,e,n){var r,i=this,o=this.createOptions(n),a=!0;o.managed?this.currentTransaction===(r=this.startManagedTransaction(t,e,o))&&(a=!1):r=new un(t,e,o);return r.onEnd=function(){return i.handleTransactionEnd(r)},a&&this._config.events.send("transaction:start",[r]),r},e.handleTransactionEnd=function(t){var e=this;this.recorder.stop();var n=window.location.href;return E.resolve().then((function(){var r=t.name,i=t.type;if(ne.lastHiddenStart>=t._start)e._config.dispatchEvent(At);else if(e.shouldIgnoreTransaction(r)||i===ht)e._config.dispatchEvent(At);else{if(i===lt){var o=e._config.get("pageLoadTransactionName");if(r===vt&&o&&(t.name=o),t.captureTimings){var a=ln.cls,s=ln.fid,u=ln.tbt,c=ln.longtask;u.duration>0&&t.spans.push((d=(l=u).start,f=l.duration,(p=new en("Total Blocking Time",It,{startTime:d})).end(d+f),p)),t.experience={},Y(It)&&(t.experience.tbt=u.duration),Y(Mt)&&(t.experience.cls=a.score),s>0&&(t.experience.fid=s),c.count>0&&(t.experience.longtask={count:c.count,sum:c.duration,max:c.max})}e.setSession(t)}var l,d,f,p;t.name===vt&&(t.name=function(t,e){void 0===e&&(e=2);for(var n=new ue(t),r=n.query,i=n.path.substring(1).split("/"),o=":id",a=/\W|_/g,s=/[0-9]/g,u=/[a-z]/g,c=/[A-Z]/g,l=[],d=!1,f=0;f<i.length;f++){var p=i[f];if(d||f>e-1){p&&l.push("*");break}if((p.match(a)||[]).length>=2)l.push(o),d=!0;else{var h=(p.match(s)||[]).length;if(h>3||p.length>3&&h/p.length>=.3)l.push(o),d=!0;else{var v=(p.match(c)||[]).length,m=(p.match(u)||[]).length/p.length,g=v/p.length;p.length>5&&(g>.3&&g<.6||m>.3&&m<.6)?(l.push(o),d=!0):p&&l.push(p)}}}return"/"+(l.length>=2?l.join("/"):l.join(""))+(r?"?{query}":"")}(n)),gn(t),e.adjustTransactionTime(t),e._config.get("breakdownMetrics")&&t.captureBreakdown();var h=e._config.get("context");he(t,h),e._config.events.send(yt,[t])}}),(function(t){ee}))},e.setSession=function(t){var e=this._config.get("session");if(e){"boolean"==typeof e||e.timestamp&&Date.now()-e.timestamp>18e5?t.session={id:P(16),sequence:1}:t.session={id:e.id,sequence:e.sequence?e.sequence+1:1};var n={session:{id:t.session.id,sequence:t.session.sequence,timestamp:Date.now()}};this._config.setConfig(n),this._config.setLocalConfig(n,!0)}},e.adjustTransactionTime=function(t){var e=t.spans,n=function(t){for(var e=t[0],n=1;n<t.length;n++){var r=t[n];e._start>r._start&&(e=r)}return e}(e);n&&n._start<t._start&&(t._start=n._start);var r=function(t){return z(t,(function(t){return-1===String(t).indexOf("external")}))}(e)||{},i=r._end||0;if(t.type===lt){var o=t._end-1e3,a=ln.lcp||0,s=function(t){return z(t,(function(t){return-1!==String(t).indexOf("external")}))}(e)||{},u=s._end||0;t._end=Math.max(i,u,a,o)}else i>t._end&&(t._end=i);this.truncateSpans(e,t._end)},e.truncateSpans=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r._end>e&&(r._end=e,r.type+=zt),r._start>e&&(r._start=e)}},e.shouldIgnoreTransaction=function(t){var e=this._config.get("ignoreTransactions");if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if("function"==typeof r.test){if(r.test(t))return!0}else if(r===t)return!0}return!1},e.startSpan=function(t,e,n){var r=this.getCurrentTransaction();r||(r=this.createCurrentTransaction(void 0,ht,this.createOptions({canReuse:!0,managed:!0})));var i=r.startSpan(t,e,n);return i},e.endSpan=function(t,e){t&&t.end(null,e)},t}();const bn=yn;function wn(){return Xe[Vt]=function(t){var e=t.getService([Ut,Dt]),n=e[0],r=e[1];return new bn(n,r)},Xe[Bt]=function(t){var e=t.getService([Ft,Dt,Ut,Vt]),n=e[0],r=e[1],i=e[2],o=e[3];return new Ze(n,r,i,o)},Xe[qt]=function(t){var e=t.getService([Ft,Dt,Vt]),n=e[0],r=e[1],i=e[2];return new Ie(n,r,i)},new Ke}var En={minInteractionId:1/0,maxInteractionId:0,interactionCount:0,longestInteractions:[]};function An(t){t.getEntries().forEach((function(t){t.interactionId&&(function(t){if(X())return;En.minInteractionId=Math.min(En.minInteractionId,t.interactionId),En.maxInteractionId=Math.max(En.maxInteractionId,t.interactionId),En.interactionCount=(En.maxInteractionId-En.minInteractionId)/7+1}(t),t.duration<40||function(t){var e=En.longestInteractions[En.longestInteractions.length-1];if(void 0!==e&&t.duration<=e.duration&&t.interactionId!=e.id)return;var n=En.longestInteractions.filter((function(e){return e.id===t.interactionId}));if(n.length>0){var r=n[0];r.duration=Math.max(r.duration,t.duration)}else En.longestInteractions.push({id:t.interactionId,duration:t.duration});En.longestInteractions.sort((function(t,e){return e.duration-t.duration})),En.longestInteractions.splice(10)}(t))}))}function Tn(){return performance.interactionCount||En.interactionCount}function Sn(t){var e=function(){if(0===En.longestInteractions.length)return Tn()>0?0:void 0;var t=Math.min(En.longestInteractions.length-1,Math.floor(Tn()/50));return En.longestInteractions[t].duration}();if(e>=0){var n=G(),r=t.startTransaction(mt,mt,{startTime:n}),i=performance.getEntriesByType("navigation");if(i.length>0){var o=i[0].name;r.addContext({page:{url:o}})}r.addLabels({inp_value:e});var a=n+e+1;return r.end(a),En.minInteractionId=1/0,En.maxInteractionId=0,En.interactionCount=0,En.longestInteractions=[],r}}function kn(t,e){if(Sn(e))var n=t.observeEvent(Et,(function(){xn(t,e),n()}));else xn(t,e)}function xn(t,e){var n=e.getCurrentTransaction();if(n){var r=t.observeEvent(At,(function(){ne.lastHiddenStart=G(),r(),i()})),i=t.observeEvent(Et,(function(){t.dispatchEvent(wt),ne.lastHiddenStart=G(),i(),r()}));n.end()}else t.dispatchEvent(wt),ne.lastHiddenStart=G()}var _n="a[data-transaction-name], button[data-transaction-name]";function Cn(t){var e=function(e){e.target instanceof Element&&function(t,e){var n=function(t){var e={transactionName:null,context:null};e.transactionName=function(t){var e=function(t){var e="data-transaction-name",n=t.getAttribute(e);if(t.closest){var r=t.closest(_n);return r?r.getAttribute(e):n}return n}(t);if(e)return e;var n=t.tagName.toLowerCase(),r=t.getAttribute("name");if(r)return n+'["'+r+'"]';return n}(t);var n=t.getAttribute("class");n&&(e.context={custom:{classes:n}});return e}(e),r=n.transactionName,i=n.context,o=t.startTransaction("Click - "+r,ft,{managed:!0,canReuse:!0,reuseThreshold:300});o&&i&&o.addContext(i)}(t,e.target)},n="click",r=!0;return window.addEventListener(n,e,r),function(){window.removeEventListener(n,e,r)}}var Pn=function(){function t(t,e){this._disable=e,this.serviceFactory=t,this._initialized=!1}var e=t.prototype;return e.isEnabled=function(){return!this._disable},e.isActive=function(){var t=this.serviceFactory.getService(Dt);return this.isEnabled()&&this._initialized&&t.get("active")},e.init=function(t){var e=this;if(this.isEnabled()&&!this._initialized){this._initialized=!0;var n=this.serviceFactory.getService([Dt,Ut,Vt]),r=n[0],i=n[1],o=n[2];r.setVersion("5.16.0"),this.config(t);var a=r.get("logLevel");if(i.setLevel(a),r.get("active")){this.serviceFactory.init();var s=function(t,e){var n,r=((n={})[Tt]=!1,n[St]=!1,n[kt]=!1,n[lt]=!1,n[Ct]=!1,n[xt]=!1,n[_t]=!1,n);return t?(Object.keys(r).forEach((function(t){-1===e.indexOf(t)&&(r[t]=!0)})),r):r}(r.get("instrument"),r.get("disableInstrumentations"));if(this.serviceFactory.getService(Bt).init(s),s[Ct])this.serviceFactory.getService(qt).registerListeners();if(r.get("session")){var u=r.getLocalConfig();u&&u.session&&r.setConfig({session:u.session})}var c=function(){return s[lt]&&e._sendPageLoadMetrics()};r.get("centralConfig")?this.fetchCentralConfig().then(c):c(),function(t,e){"hidden"===document.visibilityState&&(ne.lastHiddenStart=0);var n=function(){"hidden"===document.visibilityState&&kn(t,e)},r=function(){return kn(t,e)},i=!0;window.addEventListener("visibilitychange",n,i),window.addEventListener("pagehide",r,i)}(r,o),s[xt]&&s[_t]&&Cn(o),function(t){void 0===t&&(t=new fn(An));var e=X(),n=e?40:16;t.start("event",{buffered:!0,durationThreshold:n}),e||t.start(jt)}()}else this._disable=!0,i.warn("RUM agent is inactive")}return this},e.fetchCentralConfig=function(){var t=this.serviceFactory.getService([Ft,Ut,Dt]),e=t[0],n=t[1],r=t[2];return e.fetchConfig(r.get("serviceName"),r.get("environment")).then((function(t){var e=t.transaction_sample_rate;if(e){var i={transactionSampleRate:e=Number(e)},o=r.validate(i).invalid;if(0===o.length)r.setConfig(i);else{var a=o[0],s=a.key,u=a.value,c=a.allowed;n.warn('invalid value "'+u+'" for '+s+". Allowed: "+c+".")}}return t})).catch((function(t){n.warn("failed fetching config:",t)}))},e._sendPageLoadMetrics=function(){var t=this.startTransaction(void 0,lt,{managed:!0,canReuse:!0});if(t){t.addTask(lt);var e=function(){setTimeout((function(){return t.removeTask(lt)}),1e3)};"complete"===document.readyState?e():window.addEventListener("load",e)}},e.observe=function(t,e){this.serviceFactory.getService(Dt).events.observe(t,e)},e.config=function(t){var e=this.serviceFactory.getService([Dt,Ut]),n=e[0],r=e[1],i=n.validate(t),o=i.missing,a=i.invalid,s=i.unknown;if(s.length>0){var u="Unknown config options are specified for RUM agent: "+s.join(", ");r.warn(u)}if(0===o.length&&0===a.length)n.setConfig(t);else{var c=", ",l="RUM agent isn't correctly configured. ";o.length>0&&(l+=o.join(c)+" is missing",a.length>0&&(l+=c)),a.forEach((function(t,e){var n=t.key,r=t.value,i=t.allowed;l+=n+' "'+r+'" contains invalid characters! (allowed: '+i+")"+(e!==a.length-1?c:"")})),r.error(l),n.setConfig({active:!1})}},e.setUserContext=function(t){this.serviceFactory.getService(Dt).setUserContext(t)},e.setCustomContext=function(t){this.serviceFactory.getService(Dt).setCustomContext(t)},e.addLabels=function(t){this.serviceFactory.getService(Dt).addLabels(t)},e.setInitialPageLoadName=function(t){this.serviceFactory.getService(Dt).setConfig({pageLoadTransactionName:t})},e.startTransaction=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(Vt).startTransaction(t,e,n)},e.startSpan=function(t,e,n){if(this.isEnabled())return this.serviceFactory.getService(Vt).startSpan(t,e,n)},e.getCurrentTransaction=function(){if(this.isEnabled())return this.serviceFactory.getService(Vt).getCurrentTransaction()},e.captureError=function(t){if(this.isEnabled())return this.serviceFactory.getService(qt).logError(t)},e.addFilter=function(t){this.serviceFactory.getService(Dt).addFilter(t)},t}();var On=function(){if(S&&window.elasticApm)return window.elasticApm;var t=ie(),e=wn(),n=new Pn(e,!t);return S&&(window.elasticApm=n),n}(),In=On.init.bind(On);const Ln=In},8787:function(t,e,n){var r,i,o,a;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}a=function(t){"use strict";var e,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i=(function(t){!function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=w;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==r&&i.call(y,a)&&(m=y);var b=S.prototype=A.prototype=Object.create(m);T.prototype=b.constructor=S,S.constructor=T,S[c]=T.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===T||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},k(x.prototype),x.prototype[u]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,r){var i=new x(w(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(b),b[c]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var i=e&&e.prototype instanceof A?e:A,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(t,e,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=E(t,e,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function E(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function A(){}function T(){}function S(){}function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(n,r){function o(){return new Promise((function(e,o){!function e(n,r,o,a){var u=E(t[n],t,r);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==s(l)&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(l).then((function(t){c.value=t,o(c)}),a)}a(u.arg)}(n,r,e,o)}))}return e=e?e.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,_(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=E(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}(e={exports:{}}),e.exports),o=function(){return this}()||Function("return this")(),a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,u=a&&o.regeneratorRuntime;o.regeneratorRuntime=void 0;var c=i;if(a)o.regeneratorRuntime=u;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}var l,d,f,p=c,h={clickThrough:"clickThrough",closeLinear:"closeLinear",complete:"complete",error:"error",exitFullscreen:"exitFullscreen",firstQuartile:"firstQuartile",fullscreen:"fullscreen",iconClick:"iconClick",iconView:"iconView",impression:"impression",loaded:"loaded",midpoint:"midpoint",mute:"mute",otherAdInteraction:"otherAdInteraction",pause:"pause",playerCollapse:"playerCollapse",playerExpand:"playerExpand",progress:"progress",resume:"resume",rewind:"rewind",skip:"skip",start:"start",thirdQuartile:"thirdQuartile",timeSpentViewing:"timeSpentViewing",unmute:"unmute"},v="acceptInvitation",m="adCollapse",g="creativeView",y={acceptInvitation:v,adCollapse:m,close:"close",creativeView:g},b=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],w=function(t){return function(t){var e;if(null===t)throw new Error("Parse error");var n=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0}(t);if(void 0!==n)throw e=function(t){var e,n,r,i,o=(e=t,n=new XMLSerializer,Array.prototype.map.call(e.childNodes,(function(t){return n.serializeToString(t)})).join(""));for(r=0;r<b.length;r++)if(i=b[r].exec(o))return i[1]}(n)||"Parse error",new Error(e)}(t),t},E="element",A="text",T=function t(e){var n=function(t){if(1===t.nodeType)return E;if(3===t.nodeType||4===t.nodeType)return A;if(9===t.nodeType)return"document";throw new Error("Unsupported element type")}(e),r={type:n};if(n===E){if(r.name=e.nodeName.toLowerCase(),e.attributes.length>0){r.attributes={};var i=!0,o=!1,a=void 0;try{for(var s,u=Array.from(e.attributes)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r.attributes[c.nodeName]=c.nodeValue}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}else n===A&&(r.text=e.nodeValue.replace("<![CDATA[","").replace("]]>","").trim());if(e.hasChildNodes()){var l=Array.from(e.childNodes).filter((function(t){return[1,3,4].includes(t.nodeType)})),d=[];r.elements=d;var f=!0,p=!1,h=void 0;try{for(var v,m=l[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var g=t(v.value);(g.type!==A||g.text.length>0)&&d.push(g)}}catch(t){p=!0,h=t}finally{try{!f&&m.return&&m.return()}finally{if(p)throw h}}}return r},S=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===t?[]:t},k=function(t,e){return S(t).find((function(t){var n=t.name;return(void 0===n?"":n).toUpperCase()===e.toUpperCase()}))},x=function(t,e){return"string"==typeof e?function(t,e){return S(t).filter((function(t){var n=t.name;return(void 0===n?"":n).toUpperCase()===e.toUpperCase()}))}(t,e):S(t)},_=function(t){return S(t)[0]||null},C=function(t){var e=t&&_(t);return e&&e.text||null},P=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===t?{}:t},O=function(t,e){return P(t)[e]},I=new DOMParser,L=function(t){return function(t,e){var n=t.parseFromString(e,"application/xml");return w(n),T(n)}(I,t)},j=function(t){if("string"==typeof t){var e=t.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/);if(e){var n=(o=e[1],60*parseInt(o,10)*60*1e3+(i=e[2],60*parseInt(i,10)*1e3)+(r=e[3],1e3*parseInt(r,10))+parseInt(e[5]||0,10));if(!isNaN(n))return n}}var r,i,o;return null},M=function(t){return function(t){return/^\d+(\.\d+)?%$/g.test(t)}(t)?t:j(t)},R=function(t){var e=_(t),n=e&&k(e,"creatives");return n&&x(n).find((function(t){return k(t,"linear")}))||null},N=function(t,e){var n=t&&R(t);if(n){var r=k(n,"Linear"),i=r&&k(r,"TrackingEvents"),o=i&&x(i,"Tracking");if(o&&o.length>0){var a=o.map((function(t){var e=P(t),n=e.event,r=e.offset,i=C(t);return{event:n,offset:r&&M(r),uri:i}})).filter((function(t){return t.uri}));if(!e)return a;var s=a.filter((function(t){return t.event===e}));if(s.length>0)return s}}return null},D=function(t,e){var n=t&&R(t);if(n){var r=k(n,"NonLinearAds"),i=r&&k(r,"TrackingEvents"),o=i&&x(i,"Tracking");if(o&&o.length>0){var a=o.map((function(t){return{event:P(t).event,uri:C(t)}}));if(!e)return a;var s=a.filter((function(t){return t.event===e}));if(s.length>0)return s}}return null},U=function(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(s)}("next")}))}},V=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},F=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),B=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},G=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+s(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=s(e)&&"function"!=typeof e?t:e},W=function(t){return Array.isArray(t)?t:Array.from(t)},J=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Q=function(t){var e=(""+t).match(/\d+/g);return parseInt(e[0],10)},Y=function(t){return/\d+/.test(t)?Q(t):t},X=function(t){var e=t&&R(t),n=e&&k(e,"linear"),r=n&&k(n,"Icons"),i=r&&x(r,"Icon");return i&&i.length>0?i.map((function(t){return q({},function(t){var e=P(t),n=e.duration,r=e.height,i=e.offset,o=e.program,a=e.pxratio,s=e.width,u=e.xPosition,c=void 0===u?"right":u,l=e.yPosition,d=void 0===l?"top":l;return{duration:n&&j(n),height:r&&Q(r),offset:i&&j(i),program:o,pxratio:a&&parseInt(a,10),width:s&&Q(s),xPosition:c&&Y(c),yPosition:d&&Y(d)}}(t),function(t){var e=k(t,"StaticResource"),n=k(t,"HTMLResource"),r=k(t,"IFrameResource");return e?{staticResource:C(e)}:n?{htmlResource:C(n)}:r?{iFrameResource:C(r)}:{staticResource:C(t)}}(t),function(t){var e=x(t,"IconViewTracking").map((function(t){return C(t)}));return 0===e.length?{}:{iconViewTracking:e}}(t),function(t){var e=k(t,"IconClicks"),n=e&&k(e,"IconClickThrough"),r=e&&x(e,"IconClickTracking").map((function(t){return C(t)}));return{iconClickThrough:n&&C(n),iconClickTracking:r&&r.length>0?r:void 0}}(t))})):null},K=function(t){return"string"==typeof t?"true"===t:Boolean(t)},Z=function(t,e){var n=parseInt(O(t,"sequence"),10),r=parseInt(O(e,"sequence"),10);return n<r?-1:n>r?1:0},$=function(t){var e=t&&k(t,"VAST"),n=e&&x(e,"Ad");return n&&n.length>0?n:[]},tt=function(t){var e=t&&k(t,"VAST");if(e){var n=k(e,"Error");if(n)return C(n)}return null},et=function(t){var e=parseInt(O(t,"sequence"),10);return"number"!=typeof e||isNaN(e)?null:e},nt=function(t){return Boolean(et(t))},rt=function(t){var e=$(t);return Array.isArray(e)&&e.filter(nt).length>1},it=function(t){var e=$(t);return Array.isArray(e)&&e.length>0?rt(t)?e.filter(nt).sort(Z)[0]:e[0]:null},ot=function(){return Boolean(k((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},"Wrapper"))},at=function(t){return Boolean(k(t||{},"Inline"))},st=function(t){var e=k(t,"Wrapper"),n=e&&k(e,"VastAdTagUri");return n&&C(n)||null},ut=function(t){var e=P(k(t,"Wrapper")),n=e.allowMultipleAds,r=e.fallbackOnNoAd,i=e.followAdditionalWrappers,o={};return n&&(o.allowMultipleAds=K(n)),r&&(o.fallbackOnNoAd=K(r)),i&&(o.followAdditionalWrappers=K(i)),o},ct=function(t){var e=t&&_(t);if(e){var n=k(e,"Error");if(n)return C(n)}return null},lt=function(t){var e=t&&_(t);if(e){var n=x(e,"Impression");if(Array.isArray(n)&&n.length>0){var r=n.map((function(t){return{uri:C(t)}})).filter((function(t){return t.uri}));return r.length?r:null}}return null},dt=function(t){var e=t&&R(t);if(e){var n=k(e,"UniversalAdId"),r=n&&C(n)||null,i=k(e,"Linear"),o=k(i,"MediaFiles"),a=o&&x(o,"MediaFile");if(a&&a.length>0)return a.map((function(t){var e=C(t),n=P(t),i=n.apiFramework,o=n.bitrate,a=n.codec,s=n.delivery,u=n.height,c=n.id,l=n.maintainAspectRatio,d=n.maxBitrate,f=n.minBitrate,p=n.scalable,h=n.type,v=n.width;return{apiFramework:i,bitrate:o,codec:a,delivery:s,height:u,id:c,maintainAspectRatio:l,maxBitrate:d,minBitrate:f,scalable:p,src:e,type:h,universalAdId:r,width:v}}))}return null},ft=function(t){var e=t&&R(t);if(e){var n=k(e,"Linear"),r=k(n,"MediaFiles"),i=r&&x(r,"InteractiveCreativeFile");if(i&&i.length>0)return i.map((function(t){var e=P(t),n=e.apiFramework,r=e.type;return{apiFramework:n,src:C(t),type:r}}))}return null},pt=function(t){var e=ft(t);if(e)return e;var n=dt(t);return n&&(e=n.filter((function(t){var e=t.apiFramework;return"vpaid"===(void 0===e?"":e).toLowerCase()})).map((function(t){return{apiFramework:t.apiFramework,src:t.src,type:t.type}}))).length>0?e:null},ht=function(t){var e=t&&R(t),n=e&&k(e,"Linear");return n&&k(n,"VideoClicks")||null},vt=function(t){var e=ht(t),n=e&&k(e,"ClickThrough");return n?C(n):null},mt=function(t){var e=ht(t),n=e&&x(e,"ClickTracking");return n&&n.length>0?n.map((function(t){return C(t)})):null},gt=function(t){var e=ht(t),n=e&&x(e,"CustomClick");return n&&n.length>0?n.map((function(t){return C(t)})).filter((function(t){return t})):null},yt=function(t){var e=t&&R(t),n=e&&k(e,"Linear"),r=n&&O(n,"skipoffset");return r?M(r):null},bt=function(t){var e=function(t){var e=/<Linear([\s\S]*)<\/Linear/gm.exec(t);return e&&e[1]}(t);return{AdParameters:e&&function(t){var e=/<AdParameters[\s\w="]*>([\s\S]*)<\/AdParameters>/gm.exec(t);return e&&e[1].replace(/[\n\s]*<!\[CDATA\[[\n\s]*/,"").replace(/[\n\s]*\]\]>[\n\s]*$/,"").replace(/\]\]\]\]><!\[CDATA\[>/,"]]>").trim()}(e),xmlEncoded:e&&function(t){var e=/<AdParameters[\s]*xmlEncoded="(.*?)">/gim.exec(t);return Boolean(e)&&"true"===e[1]}(e)}},wt=Object.freeze({getAds:$,getVastErrorURI:tt,getPodAdSequence:et,isPodAd:nt,hasAdPod:rt,isAdPod:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){return t.parsedXML})).some(rt)},getFirstAd:it,isWrapper:ot,isInline:at,getVASTAdTagURI:st,getWrapperOptions:ut,getAdErrorURI:ct,getImpressionUri:function(t){var e=t&&_(t);if(e){var n=k(e,"Impression");if(n)return C(n)}return null},getAllImpressionUris:lt,getMediaFiles:dt,getInteractiveCreativeFiles:ft,getInteractiveFiles:pt,getClickThrough:vt,getClickTracking:mt,getCustomClick:gt,getSkipOffset:yt,getCreativeData:bt,getIcons:X,getLinearTrackingEvents:N,getNonLinearTrackingEvents:D}),Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=function(t){var e,n,r=t,i=(e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},Object.keys(e).forEach((function(t){n[t.toUpperCase()]=e[t]})),n);return Boolean(i.CACHEBUSTING)||(i.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(i.TIMESTAMP)||(i.TIMESTAMP=(new Date).toISOString()),Object.keys(i).forEach((function(t){if(r&&"string"==typeof r){var e=encodeURIComponent(i[t]);r=r.replace(new RegExp("\\["+t+"\\]","gm"),e)}})),r}(t,e),i=null;if(!r||!r.startsWith("http://")&&!r.startsWith("https://"))return i;var o=new URL(r).href;if(o.includes(".js")||o.includes("adsafeprotected.com")&&!o.includes(".gif")&&!o.includes(".png"))try{(i=top.document.createElement("script")).src=r,n&&n.element?n.element.parentElement.parentElement.appendChild(i):top.document.body.appendChild(i)}catch(t){}else try{(i=new Image).src=r}catch(t){}return i},At=function(t,e,n){var r=e.errorCode,i=e.tracker,o=void 0===i?Et:i;t.forEach((function(t){var e=t.ad,i=t.parsedXML,a=ct(e)||tt(i);Boolean(a)&&o(a,{errorCode:r},n)}))},Tt=function(t){return function(e,n,r,i){var o=n.data,a=n.tracker,s=void 0===a?Et:a;e.forEach((function(e){var n=e.ad,a=t(n);if(Boolean(a))switch(!0){case"string"==typeof a:s(a,o,r);break;case Array.isArray(a):a.map((function(t){var e=t.uri,n="function"==typeof i.macroReplacer?i.macroReplacer(e):e;return s(n,o,r)}))}}))}},St=function(t){return function(e){return N(e,t)}},kt=(B(l={},"clickThrough",Tt((function(t){var e=[],n=mt(t),r=gt(t);return Array.isArray(n)&&n.length>0&&e.push.apply(e,J(n.map((function(t){return{uri:t}})))),Array.isArray(r)&&r.length>0&&e.push.apply(e,J(r.map((function(t){return{uri:t}})))),e}))),B(l,"closeLinear",Tt(St("closeLinear"))),B(l,"complete",Tt(St("complete"))),B(l,"error",At),B(l,"exitFullscreen",Tt(St("exitFullscreen"))),B(l,"firstQuartile",Tt(St("firstQuartile"))),B(l,"fullscreen",Tt(St("fullscreen"))),B(l,"iconClick",(function(t,e,n){var r=e.data,i=e.tracker,o=void 0===i?Et:i,a=r.iconClickTracking;if(Array.isArray(a)){var s=!0,u=!1,c=void 0;try{for(var l,d=a[Symbol.iterator]();!(s=(l=d.next()).done);s=!0)o(l.value,q({},r),n)}catch(t){u=!0,c=t}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}}})),B(l,"iconView",(function(t,e,n){var r=e.data,i=e.tracker,o=void 0===i?Et:i,a=r.iconViewTracking;if(Array.isArray(a)){var s=!0,u=!1,c=void 0;try{for(var l,d=a[Symbol.iterator]();!(s=(l=d.next()).done);s=!0)o(l.value,q({},r),n)}catch(t){u=!0,c=t}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}}})),B(l,"impression",Tt(lt)),B(l,"loaded",Tt(St("loaded"))),B(l,"midpoint",Tt(St("midpoint"))),B(l,"mute",Tt(St("mute"))),B(l,"pause",Tt(St("pause"))),B(l,"playerCollapse",Tt(St("playerCollapse"))),B(l,"playerExpand",Tt(St("playerExpand"))),B(l,"progress",(function(t,e){var n=e.data,r=e.tracker,i=void 0===r?Et:r,o=n.progressUri;Boolean(o)&&i(o,q({},n))})),B(l,"resume",Tt(St("resume"))),B(l,"rewind",Tt(St("rewind"))),B(l,"skip",Tt(St("skip"))),B(l,"start",Tt(St("start"))),B(l,"thirdQuartile",Tt(St("thirdQuartile"))),B(l,"unmute",Tt(St("unmute"))),l),xt=function(t){return function(e){return D(e,t)}},_t=(B(d={},v,Tt(xt(v))),B(d,m,Tt(xt(m))),B(d,"close",Tt(xt("close"))),B(d,g,Tt(xt(g))),d),Ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.async,r=void 0!==n&&n,i=e.defer,o=void 0!==i&&i,a=e.type,s=void 0===a?"text/javascript":a,u=e.placeholder;if(!t)throw new TypeError('Missing required "src" parameter');return new Promise((function(e,n){var i=document.createElement("script"),a=u;i.type=s,i.async=r,i.defer=o,i.onerror=function(){return n(new URIError("The script "+t+" is not accessible."))},i.onload=function(){return e(i)},a||(a=document.currentScript?document.currentScript.parentNode:document.head),i.src=t,a.appendChild(i)}))},Pt=function(t){return t.contentDocument||t.contentWindow&&t.contentWindow.document},Ot="srcdoc"in document.createElement("iframe"),It=function(){var t=document.createElement("IFRAME");return t.sandbox="allow-forms allow-popups allow-scripts allow-same-origin",t.style.margin="0",t.style.padding="0",t.style.border="none",t.style.width="0",t.style.height="0",t.style.position="absolute",t},Lt=function(t,e){return new Promise((function(n,r){var i,o=function(t,e){return"<!DOCTYPE html>\n<html>\n  <head><meta charset='UTF-8'></head>\n  <body style='margin:0;padding:0'>\n  <script type='text/javascript'>window.parent.postMessage('"+t+"_ready', '"+e+"');<\/script>\n  </body>\n</html>"}(e,(i=window.location).origin?i.origin:i.protocol+"//"+i.hostname+(i.port?":"+i.port:"")),a=void 0;try{(a=It()).src="about:blank",t.appendChild(a),Pt(a).write(o)}catch(e){t.removeChild(a),Ot?((a=It()).src="about:srcdoc",a.srcdoc=o,t.appendChild(a)):r(e)}window.addEventListener("message",(function t(r){r.data===e+"_ready"&&(window.removeEventListener("message",t),n(a))}),!1)}))},jt=(f=-1,function(){return"videoAdContainer_"+ ++f}),Mt=Symbol("hidden"),Rt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(V(this,t),this[Mt]={destroyed:!1,iframe:null,readyPromise:null},!(e instanceof Element))throw new TypeError("placeholder is not an Element");this[Mt].id=jt(),this.element=function(){var t=document.createElement("DIV");return t.classList.add("mol-video-ad-container"),t.style.width="100%",t.style.height="100%",t.style.zIndex=1,t}(),this.executionContext=null,this.isOriginalVideoElement=Boolean(n),n?this.videoElement=n:(this.videoElement=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).createElement("VIDEO");return t.style.width="100%",t.style.height="100%",t}(),this.element.appendChild(this.videoElement)),e.appendChild(this.element)}return F(t,[{key:"addScript",value:function(){var t=U(p.mark((function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isDestroyed()){t.next=2;break}throw new Error("VideoAdContainer has been destroyed");case 2:if(this[Mt].iframe){t.next=7;break}return t.next=5,Lt(this.element,this[Mt].id);case 5:this[Mt].iframe=t.sent,this.executionContext=this[Mt].iframe.contentWindow;case 7:return n=Pt(this[Mt].iframe).body,t.abrupt("return",Ct(e,q({placeholder:n},r)));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"destroy",value:function(t){var e=this,n=function(){e.element&&e.element.parentNode&&(e.element.parentNode.removeChild(e.element),e[Mt].destroyed=!0)};t?setTimeout((function(){return n()}),t):n()}},{key:"isDestroyed",value:function(){return this[Mt].destroyed}}]),t}(),Nt=function(t,e){if(!t)throw new TypeError("placeholder is required");return new Rt(t,e)},Dt=function(t,e){var n=e.src,r=e.type;return t.canPlayType(r||function(t){var e=t.match(/\.([^./?]+)(\?[^/]+)?$/i),n=e&&e[1];return{"3gp":"video/3gpp",avi:"video/x-msvideo",flv:"video/x-flv",m3u8:"application/x-mpegURL",m4v:"video/mp4",mov:"video/quicktime",mp4:"video/mp4",mpd:"application/dash+xml",ogv:"video/ogg",ts:"video/MP2T",webm:"video/webm",wmv:"video/x-ms-wmv"}[n]||"video/"+n}(n))},Ut=function(t,e,n){var r=n.getBoundingClientRect(),i=dt(t);return i?function(t,e){var n=e.width;return t.slice(0).sort((function(t,e){return Math.abs(n-(t.width||0))-Math.abs(n-(e.width||0))}))}(i.filter((function(t){return Dt(e,t)})),r)[0]:null},Vt=function(t,e,n){var r=function r(){return t.removeEventListener(e,r),n.apply(void 0,arguments)};return t.addEventListener(e,r),function(){t.removeEventListener(e,r)}},Ft=h.progress,Bt=function(t,e){return function(){try{t.apply(void 0,arguments)}catch(t){e&&e.error(t)}}},qt=h.fullscreen,zt=h.exitFullscreen,Gt=h.playerCollapse,Ht=h.playerExpand,Wt=h.pause,Jt=h.resume,Qt=h.rewind,Yt=h.skip,Xt=function(){var t=document.createElement("BUTTON");return t.classList.add("mol-vast-skip-control"),t.type="button",t.innerHTML="skip",t.style.position="absolute",t.style.bottom="15px",t.style.right="15px",t},Kt=h.error,Zt="volumeChanged",$t="finish",te="adProgress",ee=h.complete,ne=h.firstQuartile,re=h.midpoint,ie=h.start,oe=h.loaded,ae=h.thirdQuartile,se=function(t,e){return 100*t/e},ue=function(t,e){return se(t,e)>=99},ce=h.mute,le=h.unmute,de=function(t){return t.muted||0===t.volume},fe=h.impression,pe=function(t,e){for(var n=String(t);n.length<e;)n="0"+n;return n},he=h.progress,ve=function(t){return 1e3*t},me=function(t){var e=t.offset,n=t.uri,r="number"==typeof e||function(t){return/^\d+(\.\d+)?%$/g.test(t)&&!isNaN(parseFloat(t))}(e),i="string"==typeof n&&n.length>0;return r&&i},ge=function(t,e){return"number"==typeof t?t:parseFloat(t)/100*e},ye=h.clickThrough,be=[function(t,e){var n=t.videoElement,r=t.element,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,o=r||n.parentNode,a=document.createElement("A");return a.classList.add("mol-vast-clickthrough"),a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.left=0,a.style.top=0,i&&(a.href=i,a.target="_blank"),a.onclick=function(t){void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),n.paused&&n.play(),e(ye)},o.appendChild(a),function(){return o.removeChild(a)}},function(t,e){var n=t.videoElement,r=function(){e(Kt,n.error)};return n.addEventListener("error",r),function(){n.removeEventListener("error",r)}},function(t,e){var n=t.videoElement,r=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],i=!1,o=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===n?(i=!0,e(Ht),e(qt)):i&&(i=!1,e(Gt),e(zt))},a=!0,s=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var d=c.value;document.addEventListener(d,o)}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return function(){var t=!0,e=!1,n=void 0;try{for(var i,a=r[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;document.removeEventListener(s,o)}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}}},function(t,e){var n=t.videoElement,r=function t(){n.currentTime>=1&&(e(fe),n.removeEventListener("timeupdate",t))};return n.addEventListener("timeupdate",r),function(){n.removeEventListener("timeupdate",r)}},function(t,e){var n=t.videoElement,r=!1,i=!0,o=function(){r?i&&(i=!1,e(Jt)):(r=!0,i=!1)},a=function(){i||(i=!0,e(Wt))};return n.addEventListener("play",o),n.addEventListener("pause",a),function(){n.removeEventListener("play",o),n.removeEventListener("pause",a)}},function(t,e){var n=t.videoElement,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,i=void 0===r?[]:r,o=n.duration,a=ve(o),s=0,u=ve(n.currentTime),c=i.filter(me).map((function(t){var e=t.offset,n=t.uri;return{offset:ge(e,a),uri:n}})),l=function t(){var r=n.currentTime,i=Math.abs(r-u);s+=ve(i),u=r;var o=c.reduce((function(t,e){var n=e.offset;return s>=n?t.toCall.push(e):t.stillPending.push(e),t}),{stillPending:[],toCall:[]}),a=o.stillPending,l=o.toCall;c=a,l.forEach((function(t){var n,r,i,o,a,u=t.uri;e(he,{contentplayhead:(n=s,r=Math.floor(n/36e5),i=Math.floor(n/6e4%60),o=Math.floor(n/1e3%60),a=n%1e3,pe(r,2)+":"+pe(i,2)+":"+pe(o,2)+"."+pe(a,3)),progressUri:u})})),0===c.length&&n.removeEventListener("timeupdate",t)};return c.length>0&&n.addEventListener("timeupdate",l),function(){n.removeEventListener("timeupdate",l)}},function(t,e){var n=t.videoElement,r=n.currentTime,i=function(){var t=n.currentTime-r;t<0&&Math.abs(t)>=1&&e(Qt),r=n.currentTime};return n.addEventListener("timeupdate",i),function(){n.removeEventListener("timeupdate",i)}},function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipoffset,i=n.createSkipControl,o=void 0===i?Xt:i;if(!Boolean(r))return function(){};var a=void 0,s=t.videoElement,u=t.element,c=function t(){var n=1e3*s.currentTime;!Boolean(a)&&n>=r&&((a=o()).onclick=function(t){return void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),e(Yt),!1},u.appendChild(a),s.removeEventListener("timeupdate",t))};return s.addEventListener("timeupdate",c),function(){s.removeEventListener("timeupdate",c),Boolean(a)&&u.removeChild(a)}},function(t,e){var n=t.videoElement,r=!1,i=!1,o=!1,a=!1,s=!1,u=function(){var t=n.duration,u=n.currentTime;!r&&u>0?(r=!0,e(oe),e(ie)):i?o?a?s||ue(u,t)&&(s=!0,e(ee)):function(t,e){return se(t,e)>=75}(u,t)&&(a=!0,e(ae)):function(t,e){return se(t,e)>=50}(u,t)&&(o=!0,e(re)):function(t,e){return se(t,e)>=25}(u,t)&&(i=!0,e(ne)),e(te)},c=function t(){var r=n.duration,i=n.currentTime;!s&&ue(i,r)&&(s=!0,e(ee)),n.removeEventListener("ended",t),n.removeEventListener("timeupdate",u)};return n.addEventListener("timeupdate",u),n.addEventListener("ended",c),function(){n.removeEventListener("timeupdate",u),n.removeEventListener("ended",c)}},function(t,e){var n=t.videoElement,r=de(n),i=function(){e(Zt),r&&!de(n)?e(le):!r&&de(n)&&e(ce),r=de(n)};return n.addEventListener("volumechange",i),function(){n.removeEventListener("volumechange",i)}}],we=function(t,e){return new Promise((function(n){var r={currentTime:t.currentTime,playing:!t.paused};r.playing&&t.pause(),t.src=e.src,t.load(),Vt(t,"loadeddata",(function(){t.currentTime=r.currentTime,r.playing&&t.play(),n()}))}))},Ee=/^\s+|\s+$/g,Ae=/^[-+]0x[0-9a-f]+$/i,Te=/^0b[01]+$/i,Se=/^0o[0-7]+$/i,ke=parseInt,xe="object"==s(r)&&r&&r.Object===Object&&r,_e="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,Ce=xe||_e||Function("return this")(),Pe=Object.prototype.toString,Oe=Math.max,Ie=Math.min,Le=function(){return Ce.Date.now()};function je(t){var e=s(t);return!!t&&("object"==e||"function"==e)}function Me(t){if("number"==typeof t)return t;if(function(t){return"symbol"==s(t)||function(t){return!!t&&"object"==s(t)}(t)&&"[object Symbol]"==Pe.call(t)}(t))return NaN;if(je(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=je(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ee,"");var n=Te.test(t);return n||Se.test(t)?ke(t.slice(2),n?2:8):Ae.test(t)?NaN:+t}var Re=function(t,e,n){var r,i,o,a,s,u,c=0,l=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function h(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-c>=o}function v(){var t=Le();if(h(t))return m(t);s=setTimeout(v,function(t){var n=e-(t-u);return d?Ie(n,o-(t-c)):n}(t))}function m(t){return s=void 0,f&&r?p(t):(r=i=void 0,a)}function g(){var t=Le(),n=h(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return function(t){return c=t,s=setTimeout(v,e),l?p(t):a}(u);if(d)return s=setTimeout(v,e),p(u)}return void 0===s&&(s=setTimeout(v,e)),a}return e=Me(e)||0,je(n)&&(l=!!n.leading,o=(d="maxWait"in n)?Oe(Me(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},g.flush=function(){return void 0===s?a:m(Le())},g},Ne=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,De=function(){},Ue=["style","clientWidth","clientHeight"],Ve=Symbol("mutationHandlers"),Fe=Symbol("mutationObserver"),Be=Symbol("resizeHandlers"),qe=Symbol("resizeObj"),ze=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threshold,r=void 0===n?20:n;!function(t,e){if(!(t instanceof Element))throw new TypeError("Target is not an Element node");if(!(e instanceof Function))throw new TypeError("Callback is not a function")}(t,e);var i=function(t){var e=t.style,n=t.clientHeight,r=t.clientWidth;return[e.width,e.height,r,n].join(".")},o=i(t),a=Re((function(){var n=i(t);n!==o&&(o=n,e())}),r),s=Boolean(Ne)?function(t,e){return t[Ve]||(t[Ve]=[],t[Fe]=function(t,e){var n=new Ne((function(t){for(var n=0;n<t.length;n++){var r=t[n].attributeName;Ue.includes(r)&&e()}}));return n.observe(t,{attributes:!0,characterData:!1,childList:!0}),n}(t,(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t[Ve]&&t[Ve].forEach((function(t){return t.apply(void 0,n)}))}))),t[Ve].push(e),function(){Array.isArray(t[Ve])&&(t[Ve]=t[Ve].filter((function(t){return t!==e})),0===t[Ve].length&&(t[Fe].disconnect(),delete t[Ve],delete t[Fe]))}}(t,a):De,u=function(t,e){return t[Be]||(t[Be]=[],t[qe]=function(t){var e=document.createElement("object");return e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),e.onload=function(){this.contentWindow&&this.contentWindow.addEventListener("resize",t)},e.type="text/html",e.data="about:blank",e}((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t[Be]&&t[Be].forEach((function(t){return t.apply(void 0,n)}))})),"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(t[qe])),t[Be].push(e),function(){Array.isArray(t[Be])&&(t[Be]=t[Be].filter((function(t){return t!==e})),0===t[Be].length&&(t.removeChild(t[qe]),delete t[Be],delete t[qe]))}}(t,a);return function(){s(),u()}},Ge=[],He=function(t){var e=t.element,n=t.callback,r=t.lastInViewport,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.getBoundingClientRect(),r=n.height,i=n.width,o=n.top,a=n.right,s=n.bottom,u=n.left;if(!r||!i)return!1;var c=r*(1-e),l=i*(1-e),d=window.innerHeight||document.documentElement.clientHeight,f=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&o+c>=0&&s-c<=d&&u+l>=0&&a-l<=f}(e,t.viewportOffset);i!==r&&(t.lastInViewport=i,n(i))},We=function(){var t=!0,e=!1,n=void 0;try{for(var r,i=Ge[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;He(o)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}},Je=function(){function t(e){V(this,t),this.evts={},this.logger=e||console}return F(t,[{key:"on",value:function(t,e){var n=this.evts;return(n[t]||(n[t]=[])).push(e),this}},{key:"removeListener",value:function(t,e){var n=this.evts,r=n[t]||(n[t]=[]);return n[t]=r.filter((function(t){return t!==e&&t._!==e})),this}},{key:"removeAllListeners",value:function(t){return t?this.evts[t]=null:this.evts={},this}},{key:"once",value:function(t,e){var n=this,r=function r(){n.removeListener(t,r),e.apply(void 0,arguments)};return r._=e,this.on(t,r)}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.evts,a=o[t]||(o[t]=[]),s=a.length>0;return a.forEach((function(t){try{t.apply(void 0,r)}catch(t){e.logger.error(t,t.stack)}})),s}}]),t}(),Qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.staticResource,n=t.htmlResource,r=t.iFrameResource;return e||n||r},Ye=function(t){return 1===t.length?t[0]:function(t){var e=window.devicePixelRatio||0;return t.slice(0).sort((function(t,n){return Math.abs(e-(t.pxratio||0))-Math.abs(e-(n.pxratio||0))}))}(t)[0]},Xe=function t(){var e=this;V(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Ke=function(t,e){var n=!0,r=new Xe,i=r.promise,o=r.reject,a=r.resolve,s=Vt(t,e,(function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];n=!1,a(e)}));return{cancel:function(){n&&(n=!1,s(),o(new Error("waitFor was canceled")))},promise:i}};!function(t){if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),c(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=m,t.Response=y,t.fetch=function(t,n){return new Promise((function(r,i){var o=new m(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new y(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function p(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:void 0);var Ze,$e,tn,en,nn=function(t){var e=t.toLowerCase();return["text/plain","text/html"].some((function(t){return e.includes(t)}))},rn=(Ze=U(p.mark((function t(e){var n,r,i,o;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(n=t.sent,r=n.headers.get("Content-Type"),!(n.status>=400)){t.next=8;break}throw(i=new Error(n.statusText)).response=n,i;case 8:if(nn(r)){t.next=12;break}throw(o=new Error("fetchHtml error, invalid Content-Type "+r)).response=n,o;case 12:return t.abrupt("return",n.text());case 13:case"end":return t.stop()}}),t,void 0)}))),function(t){return Ze.apply(this,arguments)}),on=function(){},an=function(t,e){var n=e.document,r=e.placeholder;return new Promise((function(e,i){try{var o=function(t,e){var n=e.staticResource,r=e.htmlResource,i=e.iFrameResource;return Boolean(n)?function(t,e){var n=e.document,r=e.data,i=r.height,o=r.width,a=n.createElement("IMG");return o&&(a.width=o),i&&(a.height=i),a.src=t,a}(n,{data:e,document:t}):Boolean(r)?function(t,e){var n=e.document,r=e.data,i=r.height,o=r.width,a=n.createElement("DIV");return o&&(a.style.width=o+"px"),i&&(a.style.height=i+"px"),rn(t).then((function(t){a.innerHTML=t,a.dispatchEvent(new CustomEvent("load"))})).catch((function(){a.dispatchEvent(new CustomEvent("error"))})),a}(r,{data:e,document:t}):function(t,e){var n=e.document,r=e.data,i=r.height,o=r.width,a=n.createElement("IFRAME");return a.src=t,a.sandbox="allow-forms allow-popups allow-scripts",o&&(a.width=o),i&&(a.height=i),a.src=t,a.frameBorder=0,a.style.border="none",a}(i,{data:e,document:t})}(n,t),a=Ke(o,"error"),s=Ke(o,"load"),u=function(){r.contains(o)&&(r.removeChild(o),o.style.zIndex=0)};a.promise.then((function(){s.cancel(),u(),i(new Error("Error loading resource"))})).catch(on),s.promise.then((function(){a.cancel(),u(),e(o)})).catch(on),o.style.zIndex=-9999,r.appendChild(o)}catch(t){i(t)}}))},sn=function(t,e,n){var r,i,o,a=n.drawnIcons,s=n.placeholder,u=t.signature,c=e.getBoundingClientRect(),l=s.getBoundingClientRect(),d=t.width||c.width,f=t.height||c.height,p=t.xPosition||"right",h=t.yPosition||"top",v=void 0,m=void 0;if(function(t){return!["left","right"].includes(String(t).toLowerCase())}(p))v=p;else{var g=a.filter((function(t){return t.xPosition===p&&t.yPosition===h}));v=function(t,e,n,r){var i=n.reduce((function(t,e){return t+e.width+1}),0);return"left"===t?i:r-i-e}(p,d,g,l.width)}!function(t){return!["top","bottom"].includes(String(t).toLowerCase())}(h)?(r=h,i=f,o=l.height,m="top"===r?0:o-i):m=h;var y=v+"-"+m+"_"+d+"x"+f;return Object.assign(t,{height:f,left:v,signature:y,top:m,updated:u!==y,width:d})},un=function(t){return t.height*t.width},cn=function(t){return t.left+t.width},ln=function(t){return t.left},dn=function(t){return t.top},fn=function(t){return t.top+t.height},pn=function(t,e){var n=function(t,e){var n=e.drawnIcons,r=e.placeholder,i=un(r.getBoundingClientRect());return un(t)+n.reduce((function(t,e){return t+un(e)}),0)<=.35*i}(t,e),r=function(t,e){var n=e.placeholder.getBoundingClientRect();return t.left>=0&&t.left+t.width<=n.width&&t.top>=0&&t.top+t.height<=n.height}(t,e),i=function(t,e){return!e.drawnIcons.some((function(e){return function(t,e){return!(ln(t)>cn(e)||cn(t)<ln(e)||fn(t)<dn(e)||dn(t)>fn(e))}(t,e)}))}(t,e);return n&&r&&i},hn=function(){},vn=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,r=void 0===n?hn:n,i=document.createElement("A");return e.iconClickthrough&&(i.href=e.iconClickthrough,i.target="_blank"),Boolean(e.iFrameResource)&&(t.style.pointerEvents="none"),i.onclick=function(t){void 0!==Event.prototype.stopPropagation&&t.stopPropagation(),r(e)},i.appendChild(t),i},mn=($e=U(p.mark((function t(e,n){var r;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.element){t.next=9;break}return t.next=3,an(e,n);case 3:(r=t.sent).width="100%",r.height="100%",r.style.height="100%",r.style.width="100%",e.element=vn(r,e,n);case 9:return t.abrupt("return",e.element);case 10:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return $e.apply(this,arguments)}),gn=function(t,e){var n=e.height,r=e.width,i=e.left,o=e.top,a=e.yPosition;return t.height=n,t.width=r,t.style.position="absolute",t.style.left=i+"px","bottom"===a?t.style.bottom="0":t.style.top=o+"px",t.style.height=n+"px",t.style.width=r+"px",t},yn=(tn=U(p.mark((function t(e,n){var r,i,o;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.placeholder,t.next=3,mn(e,n);case 3:if(i=t.sent,o=sn(e,i,n),!pn(o,n)){t.next=9;break}i.parentNode&&!e.updated||r.appendChild(gn(i,o)),t.next=11;break;case 9:throw i.parentNode&&i.parentNode.removeChild(i),new Error("Icon can't be rendered");case 11:return t.abrupt("return",o);case 12:case"end":return t.stop()}}),t,void 0)}))),function(t,e){return tn.apply(this,arguments)}),bn=function(t,e){var n=1e3*e.currentTime,r=1e3*e.duration,i=t.offset||0,o=t.duration||r;return i<=n&&n-i<=o},wn=function(){var t=U(p.mark((function t(e,n){var r,i,o,a,s,u=n.onIconClick,c=n.videoAdContainer,l=n.logger;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.element,i=c.videoElement,o=[],a=e.reduce((function(t,e){return bn(e,i)?t.iconsToShow.push(e):t.otherIcons.push(e),t}),{iconsToShow:[],otherIcons:[]}),s=a.iconsToShow,a.otherIcons.forEach((function(t){var e=t.element;e&&e.parentNode&&e.parentNode.removeChild(e)})),t.next=6,s.reduce(function(){var t=U(p.mark((function t(e,n){var i;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return t.prev=2,t.next=5,yn(n,{document,drawnIcons:o,onIconClick:u,placeholder:r});case 5:i=t.sent,o.push(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),l.log(t.t0);case 12:case"end":return t.stop()}}),t,void 0,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}(),Promise.resolve(o));case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,void 0)})));return function(e,n){return t.apply(this,arguments)}}(),En=Symbol("firstRenderPending"),An=function(){},Tn=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.videoAdContainer,i=n.onIconView,o=void 0===i?An:i,a=n.onIconClick,s=void 0===a?An:a,u=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["videoAdContainer","onIconView","onIconClick"]),c=r.videoElement,l=r.element,d=(e=U(p.mark((function e(){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(t,q({onIconClick:s,videoAdContainer:r},u));case 2:n=e.sent,l.dispatchEvent(new CustomEvent("iconsDrawn")),n.forEach((function(t){t[En]&&(o(t),t[En]=!1)}));case 5:case"end":return e.stop()}}),e,void 0)}))),function(){return e.apply(this,arguments)});return t.forEach((function(t){t[En]=!0})),{drawIcons:d,hasPendingIconRedraws:function(){return function(t,e){var n=1e3*e.currentTime,r=1e3*e.duration,i=t.filter((function(t){return!t.offset||t.offset<n})),o=t.filter((function(t){return t.duration&&t.duration<r}));return i.length>0||o.length>0}(t,c)},removeIcons:function(){return function(t){return t.filter((function(t){var e=t.element;return Boolean(e)&&Boolean(e.parentNode)})).forEach((function(t){var e=t.element;return e.parentNode.removeChild(e)}))}(t)}}},Sn=function(t,e){return t+100>innerWidth&&e+100>innerHeight?"fullscreen":t<400?"thumbnail":"normal"},kn=h.start,xn=h.iconClick,_n=h.iconView,Cn=Symbol("_protected"),Pn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.viewability,o=void 0!==i&&i,a=r.responsive,s=void 0!==a&&a,u=r.logger,c=void 0===u?console:u;V(this,t);var l=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c));l[Cn]={finish:function(){l[Cn].finished=!0,l[Cn].onFinishCallbacks.forEach((function(t){return t()})),l.emit($t,{adUnit:l,type:$t})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error("VideoAdUnit method must be implemented on child class")},throwIfFinished:function(){if(l.isFinished())throw new Error("VideoAdUnit is finished")}},l.type=null,l.error=null,l.errorCode=null;var d=l[Cn].onFinishCallbacks;if(l.vastChain=e,l.videoAdContainer=n,l.icons=function(t){var e=t.map((function(t){return t.ad})).reduce((function(t,e){return[].concat(J(t),J(X(e)||[]))}),[]);return e.length>0?function(t){var e=function(t){return t.reduce((function(t,e){var n=e.program,r=void 0===n?"UNKNOWN":n;return t[r]||(t[r]=[]),t[r].push(e),t}),{})}(t);return Object.keys(e).reduce((function(t,n){return[].concat(J(t),"UNKNOWN"===n?J(e.UNKNOWN):[Ye(e[n])])}),[])}(function(t){return e=Qe,n={},t.filter((function(t){var r=e(t);return!n.hasOwnProperty(r)&&(n[r]=!0,!0)}));var e,n}(e)):null}(e),d.push(function(t){var e=0,n=0,r=function(){t.duration-e>3&&(t.pause(),t.play(),t.currentTime=e)},i=function(){var r=t.currentTime;Math.abs(r-e)>3?((n+=1)>=2&&t.pause(),t.currentTime=e):e=r};return t.addEventListener("timeupdate",i),t.addEventListener("ended",r),function(){t.removeEventListener("timeupdate",i),t.removeEventListener("ended",r)}}(l.videoAdContainer.videoElement)),l.icons){var f=Tn(l.icons,{logger:c,onIconClick:function(t){return l.emit(xn,{adUnit:l,data:t,type:xn})},onIconView:function(t){return l.emit(_n,{adUnit:l,data:t,type:_n})},videoAdContainer:n}),p=f.drawIcons,h=f.hasPendingIconRedraws,v=f.removeIcons;l[Cn].drawIcons=p,l[Cn].removeIcons=v,l[Cn].hasPendingIconRedraws=h,d.push(v)}return o&&l.once(kn,(function(){var t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.threshold,i=void 0===r?100:r,o=n.scrollableElement,a=void 0===o?window:o,s=n.viewabilityOffset,u=void 0===s?.4:s;!function(t,e){if(!(t instanceof Element))throw new TypeError("Target is not an Element node");if(!(e instanceof Function))throw new TypeError("Callback is not a function")}(t,e);var c=i>0?Re(We):We,l={callback:e,element:t,lastInViewport:!1,scrollableElement:a,viewabilityOffset:u};return He(l),Ge.push(l),a.addEventListener("scroll",c),1===Ge.length&&(window.addEventListener("resize",c),window.addEventListener("orientationchange",c),document.addEventListener("visibilitychange",c)),function(){0===(Ge=Ge.filter((function(t){return t!==l}))).length&&(window.removeEventListener("resize",c),window.removeEventListener("orientationchange",c),document.removeEventListener("visibilitychange",c)),Ge.every((function(t){return t.scrollableElement!==a}))&&a.removeEventListener("scroll",c)}}(l.videoAdContainer.element,(function(t){l.isFinished()||(t?l.resume():l.pause())}));d.push(t)})),s&&l.once(kn,(function(){var t=l.videoAdContainer.element;l[Cn].size={height:t.clientHeight,viewmode:Sn(t.clientWidth,t.clientHeight),width:t.clientWidth};var e=ze(t,(function(){if(!l.isFinished()){var e=l[Cn].size,n=t.clientHeight,r=t.clientWidth;n===e.height&&r===e.width||l.resize(r,n,Sn(r,n))}}));d.push(e)})),l}return G(t,Je),F(t,[{key:"start",value:function(){this[Cn].throwIfCalled()}},{key:"resume",value:function(){this[Cn].throwIfCalled()}},{key:"pause",value:function(){this[Cn].throwIfCalled()}},{key:"setVolume",value:function(t){this[Cn].throwIfCalled()}},{key:"getVolume",value:function(){this[Cn].throwIfCalled()}},{key:"cancel",value:function(){this[Cn].throwIfCalled()}},{key:"duration",value:function(){this[Cn].throwIfCalled()}},{key:"paused",value:function(){this[Cn].throwIfCalled()}},{key:"currentTime",value:function(){this[Cn].throwIfCalled()}},{key:"onFinish",value:function(t){if("function"!=typeof t)throw new TypeError("Expected a callback function");this[Cn].onFinishCallbacks.push(Bt(t,this.logger))}},{key:"onError",value:function(t){if("function"!=typeof t)throw new TypeError("Expected a callback function");this[Cn].onErrorCallbacks.push(Bt(t,this.logger))}},{key:"isFinished",value:function(){return this[Cn].finished}},{key:"isStarted",value:function(){return this[Cn].started}},{key:"resize",value:function(){var t=U(p.mark((function t(e,n,r){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[Cn].size={height:n,viewmode:r,width:e},!this.isStarted()||this.isFinished()||!this.icons){t.next=6;break}return t.next=4,this[Cn].removeIcons();case 4:return t.next=6,this[Cn].drawIcons();case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),t}(),On=h.complete,In=h.error,Ln=h.skip,jn=Symbol("_private"),Mn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,t);var i=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i[jn]={handleMetric:function(t,e){switch(t){case On:i[Cn].finish();break;case In:i.error=e,i.errorCode=i.error&&i.error.code?i.error.code:405,i[Cn].onErrorCallbacks.forEach((function(t){return t(i.error,{adUnit:i,vastChain:i.vastChain})})),i[Cn].finish();break;case Ln:i.cancel()}i.emit(t,{adUnit:i,type:t})}},i.assetUri=null,i.type="VAST";var o=i[Cn].onFinishCallbacks,a=i[jn].handleMetric;i.hooks=r.hooks||{};var s=function(t,e){var n=t.vastChain,r=t.videoAdContainer,i=t.hooks,o=n[0].ad,a=yt(o),s=vt(o),u=function(t){return t.map((function(t){return t.ad})).reduce((function(t,e){var n=N(e,Ft)||[];return[].concat(J(t),J(n))}),[]).map((function(t){return{offset:t.offset,uri:t.uri}}))}(n),c=q({clickThroughUrl:s,progressEvents:u,skipoffset:a},i),l=be.map((function(t){return Bt(t(r,e,c))}));return function(){return l.forEach((function(t){return t()}))}}({hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},a);return o.push(s),i}return G(t,Pn),F(t,[{key:"start",value:function(){var t=U(p.mark((function t(){var e,n,r,i,o,a,s,u=this;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[Cn].throwIfFinished(),!this.isStarted()){t.next=3;break}throw new Error("VastAdUnit already started");case 3:if(e=this.vastChain[0].ad,n=this.videoAdContainer,r=n.videoElement,i=n.element,o=Ut(e,r,i),!Boolean(o)){t.next=16;break}if(!this.icons){t.next=11;break}return a=function(){var t=U(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.isFinished()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,u[Cn].drawIcons();case 4:u[Cn].hasPendingIconRedraws()&&!u.isFinished()&&Vt(r,"timeupdate",a);case 5:case"end":return t.stop()}}),t,u)})));return function(){return t.apply(this,arguments)}}(),t.next=11,a();case 11:r.src=o.src,this.assetUri=o.src,r.play(),t.next=19;break;case 16:(s=new Error("Can't find a suitable media to play")).code=403,this[jn].handleMetric(In,s);case 19:this[Cn].started=!0;case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){this.videoAdContainer.videoElement.play()}},{key:"pause",value:function(){this.videoAdContainer.videoElement.pause()}},{key:"paused",value:function(){return this.videoAdContainer.videoElement.paused}},{key:"setVolume",value:function(t){this.videoAdContainer.videoElement.volume=t}},{key:"getVolume",value:function(){return this.videoAdContainer.videoElement.volume}},{key:"cancel",value:function(){this[Cn].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[Cn].finish()}},{key:"duration",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:"currentTime",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:"resize",value:function(){var e=U(p.mark((function e(n,r,i){var o,a,s,u,c;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this,n,r,i);case 2:this.isStarted()&&!this.isFinished()&&(o=this.vastChain[0].ad,a=this.videoAdContainer,s=a.videoElement,u=a.element,c=Ut(o,s,u),Boolean(c)&&s.src!==c.src&&we(s,c));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),t}(),Rn=["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],Nn=function(t){var e=t.type;return Rn.some((function(t){return t===e}))},Dn=function(){var t=U(p.mark((function t(e,n){var r,i,o,a;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(pt(e[0].ad)||[]).filter(Nn)[0]){t.next=3;break}throw new TypeError("VastChain does not contain a supported vpaid creative");case 3:return i=r.src,o=r.type,t.next=6,n.addScript(i,{type:o});case 6:return a=n.executionContext,t.abrupt("return",a.getVPAIDAd());case 8:case"end":return t.stop()}}),t,void 0)})));return function(e,n){return t.apply(this,arguments)}}(),Un="AdStarted",Vn="AdStopped",Fn="AdSkipped",Bn="AdDurationChange",qn="AdRemainingTimeChange",zn="AdVolumeChange",Gn="AdImpression",Hn="AdVideoStart",Wn="AdVideoFirstQuartile",Jn="AdVideoMidpoint",Qn="AdVideoThirdQuartile",Yn="AdVideoComplete",Xn="AdClickThru",Kn="AdUserAcceptInvitation",Zn="AdUserMinimize",$n="AdUserClose",tr="AdPaused",er="AdPlaying",nr="AdError",rr=function(t,e,n){return new Promise((function(r,i){var o=void 0,a=function i(){"number"==typeof n&&clearTimeout(o),t.unsubscribe(i,e),r()};"number"==typeof n&&(o=setTimeout((function(){t.unsubscribe(a,e),i(new Error("Timeout waiting for event '"+e+"'"))}),n)),t.subscribe(a,e)}))},ir=function(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=rr(t,n,5e3);return t[e].apply(t,i),a},or=function(t){var e=t.split(".");return parseInt(e[0],10)},ar=function(t,e){var n=t.handshakeVersion(e);if(!function(t,e){var n=or(e);return!(n<1)&&n<=or(t)}(e,n))throw new Error("Creative Version '"+n+"' not supported");return n},sr=function(t){var e=document.createElement("DIV");return Object.assign(e.style,{border:"0px",cursor:"pointer",height:"100%",left:"0px",margin:"0px",padding:"0px",position:"absolute",top:"0px",width:"100%"}),t.appendChild(e),e},ur=h.complete,cr=h.mute,lr=h.unmute,dr=h.skip,fr=h.start,pr=h.firstQuartile,hr=h.pause,vr=h.resume,mr=h.impression,gr=h.midpoint,yr=h.thirdQuartile,br=h.clickThrough,wr=h.error,Er=h.closeLinear,Ar=["AdLoaded",Un,Vn,Fn,"AdSkippableStateChange","AdSizeChange","AdLinearChange",Bn,"AdExpandedChange",qn,zn,Gn,Hn,Wn,Jn,Qn,Yn,Xn,"AdInteraction",Kn,Zn,$n,tr,er,"AdLog",nr].filter((function(t){return"AdLoaded"!==t})),Tr=Symbol("_private"),Sr=function(){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,t);var o=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o[Tr]={evtHandler:(r={},B(r,Xn,(function(t,e,n){var r="string"==typeof t&&t.length>0?t:vt(o.vastChain[0].ad);n&&function(t){if(!t||"string"!=typeof t)return!1;var e=void 0;try{e=new URL(t)}catch(t){return!1}return"http:"===e.protocol||"https:"===e.protocol}(r)&&(o.paused()?o.resume():o.pause(),window.open(r,"_blank")),o.emit(br,{adUnit:o,type:br})})),B(r,Bn,(function(){o.emit(te,{adUnit:o,type:te})})),B(r,nr,(function(t){o.error=function(t){var e=t instanceof Error?t:new Error("VPAID general error");return e.code||(e.code=901),e}(t),o.errorCode=o.error.code,o[Cn].onErrorCallbacks.forEach((function(t){return t(o.error,{adUnit:o,vastChain:o.vastChain})})),o[Cn].finish(),o.emit(wr,{adUnit:o,type:wr})})),B(r,Gn,(function(){o[Tr].videoStart||o[Tr].handleVpaidEvt(Hn),o.emit(mr,{adUnit:o,type:mr})})),B(r,tr,(function(){o[Tr].paused=!0,o.emit(hr,{adUnit:o,type:hr})})),B(r,er,(function(){o[Tr].paused=!1,o.emit(vr,{adUnit:o,type:vr})})),B(r,qn,(function(){o.emit(te,{adUnit:o,type:te})})),B(r,Fn,(function(){o.cancel(),o.emit(dr,{adUnit:o,type:dr})})),B(r,Un,(function(){o.emit(g,{adUnit:o,type:g})})),B(r,Vn,(function(){o.emit(Vn,{adUnit:o,type:Vn}),o[Cn].finish()})),B(r,Kn,(function(){o.emit(v,{adUnit:o,type:v})})),B(r,$n,(function(){o.emit(Er,{adUnit:o,type:Er}),o[Cn].finish()})),B(r,Zn,(function(){o.emit(m,{adUnit:o,type:m})})),B(r,Yn,(function(){o.emit(ur,{adUnit:o,type:ur}),o[Cn].finish()})),B(r,Wn,(function(){o.emit(pr,{adUnit:o,type:pr})})),B(r,Jn,(function(){o.emit(gr,{adUnit:o,type:gr})})),B(r,Hn,(function(){o[Tr].videoStart||(o[Tr].videoStart=!0,o[Tr].paused=!1,o.emit(fr,{adUnit:o,type:fr}))})),B(r,Qn,(function(){o.emit(yr,{adUnit:o,type:yr})})),B(r,zn,(function(){var t=o.getVolume();o.emit(Zt,{adUnit:o,type:Zt}),0!==t||o[Tr].muted||(o[Tr].muted=!0,o.emit(cr,{adUnit:o,type:cr})),t>0&&o[Tr].muted&&(o[Tr].muted=!1,o.emit(lr,{adUnit:o,type:lr}))})),r),handleVpaidEvt:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=o[Tr].evtHandler[t];i&&i.apply(void 0,n),o.emit(t,{adUnit:o,type:t})},muted:!1,paused:!0},o.type="VPAID",o.creativeAd=null,o[Tr].loadCreativePromise=Dn(e,n),o}return G(t,Pn),F(t,[{key:"start",value:function(){var t=U(p.mark((function t(){var e,n,r,i,o,a,s,u,c,l=this;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this[Cn].throwIfFinished(),!this.isStarted()){t.next=3;break}throw new Error("VpaidAdUnit already started");case 3:return t.prev=3,t.next=6,this[Tr].loadCreativePromise;case 6:for(this.creativeAd=t.sent,e=rr(this.creativeAd,"AdLoaded"),n=!0,r=!1,i=void 0,t.prev=11,o=Ar[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)s=a.value,this.creativeAd.subscribe(this[Tr].handleVpaidEvt.bind(this,s),s);t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),r=!0,i=t.t0;case 19:t.prev=19,t.prev=20,!n&&o.return&&o.return();case 22:if(t.prev=22,!r){t.next=25;break}throw i;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return ar(this.creativeAd,"2.0"),d=this.creativeAd,f=this.videoAdContainer,h=this.vastChain,v=void 0,g=(m=(v=f.element).getBoundingClientRect()).width,y=m.height,b=Sn(g,y),w={slot:sr(v),videoSlot:f.videoElement,videoSlotCanAutoPlay:f.isOriginalVideoElement},E=bt(h[0].XML),d.initAd(g,y,b,-1,E,w),this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),t.next=32,e;case 32:if(this.videoAdContainer.isDestroyed()){t.next=54;break}return t.prev=33,(u=this.videoAdContainer.videoElement).muted?(this[Tr].muted=!0,this.setVolume(0)):this.setVolume(u.volume),t.prev=36,t.next=39,ir(this.creativeAd,"startAd",Un);case 39:t.next=44;break;case 41:t.prev=41,t.t1=t.catch(36),this.logger.warn(t.t1);case 44:if(!this.icons){t.next=48;break}return c=function(){var t=U(p.mark((function t(){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.isFinished()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,l[Cn].drawIcons();case 4:l[Cn].hasPendingIconRedraws()&&!l.isFinished()&&setTimeout(c,500);case 5:case"end":return t.stop()}}),t,l)})));return function(){return t.apply(this,arguments)}}(),t.next=48,c();case 48:this[Cn].started=!0,t.next=54;break;case 51:t.prev=51,t.t2=t.catch(33),this.cancel();case 54:return t.abrupt("return",this);case 57:throw t.prev=57,t.t3=t.catch(3),this[Tr].handleVpaidEvt(nr,t.t3),t.t3;case 61:case"end":return t.stop()}var d,f,h,v,m,g,y,b,w,E}),t,this,[[3,57],[11,15,19,27],[20,,22,26],[33,51],[36,41]])})));return function(){return t.apply(this,arguments)}}()},{key:"resume",value:function(){this.creativeAd.resumeAd()}},{key:"pause",value:function(){this.creativeAd.pauseAd()}},{key:"paused",value:function(){return this.isFinished()||this[Tr].paused}},{key:"setVolume",value:function(t){this.creativeAd.setAdVolume(t)}},{key:"getVolume",value:function(){return this.creativeAd.getAdVolume()}},{key:"cancel",value:function(){var t=U(p.mark((function t(){var e;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this[Cn].throwIfFinished(),t.prev=1,e=rr(this.creativeAd,Vn,3e3),this.creativeAd.stopAd(),t.next=6,e;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this[Cn].finish();case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"duration",value:function(){if(!this.creativeAd)return 0;var t=this.creativeAd.getAdDuration();return t<0?0:t}},{key:"currentTime",value:function(){if(!this.creativeAd)return 0;var t=this.creativeAd.getAdRemainingTime();return t<0?0:this.duration()-t}},{key:"resize",value:function(){var e=U(p.mark((function e(n,r,i){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resize",this).call(this,n,r,i);case 2:return e.abrupt("return",ir(this.creativeAd,"resizeAd","AdSizeChange",n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),t}(),kr=function(t,e,n){var r=n.tracker,i="VPAID"===n.type?new Sr(t,e,n):new Mn(t,e,n);return Object.values(h).forEach((function(o){return i.on(o,(function(o){var a=o.type,s={data:o.data,errorCode:i.errorCode,tracker:r};!function(t,e,n,r){var i=n.data,o=n.errorCode,a=n.tracker,s=void 0===a?Et:a,u=n.logger,c=void 0===u?console:u,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},d=kt[t];d?d(e,{data:q({},i,{errorCode:o}),errorCode:o,tracker:s},r,l):c.error("Event '"+t+"' cannot be tracked")}(a,t,s,e,n)}))})),Object.values(y).forEach((function(o){return i.on(o,(function(i){var o={data:i.data,tracker:r};!function(t,e,n,r){var i=n.data,o=n.tracker,a=void 0===o?Et:o,s=n.logger,u=void 0===s?console:s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=_t[t];l?l(e,{data:q({},i),tracker:a},r,c):u.error("Event '"+t+"' cannot be tracked")}(i.type,t,o,e,n)}))})),i},xr=function(t,e){if(!Array.isArray(t)||0===t.length)throw new TypeError("Invalid vastChain");if(!(e instanceof Rt))throw new TypeError("Invalid VideoAdContainer")},_r=function(t,e){var n=dt(t);return!!n&&n.some((function(t){return Dt(e,t)}))},Cr=function(t,e){var n=e.onAdReady,r=e.autoplay;return new Promise((function(e,i){var o=function(t){return function(){return i(new Error("Ad unit start rejected due to event '"+t+"'"))}};t.onError(i),t.on("start",(function(){return e(t)})),t.on($n,o($n)),t.on("closeLinear",o("closeLinear")),t.on(Vn,o(Vn)),n(t),r&&t.start()}))},Pr=function(t,e,n){if(r=t[0].ad,!Boolean(pt(r)))throw new Error("No valid creative found in the passed VAST chain");var r,i=kr(t,e,q({},n,{type:"VPAID"}));return Cr(i,n)},Or=function(t,e,n){var r=kr(t,e,q({},n,{type:"VAST"}));return Cr(r,n)},Ir=function(){var t=U(p.mark((function t(e,n,r){return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return xr(e,n),t.prev=1,t.next=4,Pr(e,n,r);case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),!_r(e[0].ad,n.videoElement)){t.next=11;break}return t.abrupt("return",Or(e,n,r));case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,void 0,[[1,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Lr=function(){var t=U(p.mark((function t(e,n,r){var i,o,a,s,u,c,l;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=void 0,t.prev=1,o=r.timeout,i=Nt(n,r.videoElement),a=Ir(e,i,r),"number"==typeof o&&(s=!1,u=void 0,c=new Promise((function(t,n){u=setTimeout((function(){var t=r.tracker;At(e,{errorCode:402,tracker:t}),s=!0,n(new Error("Timeout while starting the ad"))}),r.timeout)})),a=Promise.race([a.then((function(t){return s?t.isStarted()&&t.cancel():clearTimeout(u),t})),c])),t.next=8,a;case 8:return(l=t.sent).onFinish((function(){i.destroy(2e3)})),t.abrupt("return",l);case 13:throw t.prev=13,t.t0=t.catch(1),i&&i.destroy(),t.t0;case 17:case"end":return t.stop()}}),t,void 0,[[1,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),jr=function(){var t=U(p.mark((function t(e){var n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={credentials:"include"},r=Object.assign({},n,a),t.next=4,window.fetch(e,r);case 4:if(!((i=t.sent).status>=400)){t.next=9;break}throw(o=new Error(i.statusText)).response=i,o;case 9:return t.abrupt("return",i);case 10:case"end":return t.stop()}}),t,void 0)})));return function(e){return t.apply(this,arguments)}}(),Mr=Symbol("requested"),Rr=function(t){t[Mr]=!0},Nr=function(t,e){var n=e.wrapperLimit,r=void 0===n?5:n;if(t.length>r){var i=new Error("Wrapper Limit reached");throw i.code=304,i}},Dr=function(){var t=U(p.mark((function t(e,n){var r,i;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jr(e,n);case 3:return r=t.sent,t.next=6,r.text();case 6:return i=t.sent,t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(0),t.t0.code=502,t.t0;case 14:case"end":return t.stop()}}),t,void 0,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}(),Ur=function(t){try{return L(t)}catch(t){throw t.code=100,t}},Vr=function(t){try{var e=it(t);if(Boolean(e))return Rr(e),e;throw new Error("No Ad")}catch(t){throw t.code=303,t}},Fr=function(t,e){var n=t.ad,r=t.parsedXML,i=e.allowMultipleAds,o=void 0===i||i,a=e.followAdditionalWrappers,s=void 0===a||a;if(!ot(n)&&!at(n)){var u=new Error("Invalid VAST, ad contains neither Wrapper nor Inline");throw u.code=101,u}if(rt(r)&&!o){var c=new Error("Multiple ads are not allowed");throw c.code=203,c}if(ot(n)&&!s){var l=new Error("To follow additional wrappers is not allowed");throw l.code=200,l}},Br=function(t,e){var n=t[0],r=Boolean(n)&&ot(n.ad)?ut(n.ad):{};return q({},r,e)},qr=(en=U(p.mark((function t(e,n){var r,i,o,a,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={ad:null,errorCode:null,parsedXML:null,requestTag:e,XML:c},i=void 0,o=void 0,a=void 0,t.prev=4,i=Br(u,n),Nr(u,i),r.XML){t.next=13;break}return s=Dr(e,i),"number"==typeof i.timeout&&(a=i.timeout,o=Date.now(),s=Promise.race([s,new Promise((function(t,e){setTimeout((function(){var t=new Error("RequestAd timeout");t.code=301,e(t)}),a)}))])),t.next=12,s;case 12:r.XML=t.sent;case 13:if(r.XML&&(r.parsedXML=Ur(r.XML),r.ad=Vr(r.parsedXML)),Fr(r,i),!ot(r.ad)){t.next=18;break}return o&&(a-=Date.now()-o),t.abrupt("return",qr(st(r.ad),q({},i,{timeout:a}),[r].concat(J(u))));case 18:return t.abrupt("return",[r].concat(J(u)));case 21:return t.prev=21,t.t0=t.catch(4),Number.isInteger(t.t0.code)||(t.t0.code=900),r.errorCode=t.t0.code,r.error=t.t0,t.abrupt("return",[r].concat(J(u)));case 27:case"end":return t.stop()}}),t,void 0,[[4,21]])}))),function(t,e){return en.apply(this,arguments)}),zr=function t(e,n){!function(t){if(!Array.isArray(t))throw new TypeError("Invalid VAST chain");if(0===t.length)throw new Error("No next ad to request")}(e);var r=e[0],i=function(t,e){var n=t.ad,r=t.parsedXML,i=e.fallbackOnNoAd,o=void 0===i||i,a=e.useAdBuffet,s=void 0!==a&&a,u=$(r).filter((function(t){return!Boolean(t[Mr])})),c=null;return rt(r)?(s&&(c=u.filter((function(t){return!nt(t)}))[0]),c||(c=function(t,e){var n=et(t)+1;return e.find((function(t){return et(t)===n}))||null}(n,u))):u.length>0&&o&&(c=u[0]),c}(r,n);if(Boolean(i)){var o=[Object.assign({},r,{ad:i})].concat(J(e.slice(1)));return Rr(i),ot(i)?qr(st(i),n,o):Promise.resolve(o)}return t(e.slice(1),n)},Gr=function(t,e){if(!t||0===t.length)throw new Error("Invalid VastChain");var n=t[0];if(!e.vpaidEnabled&&function(t){return Boolean(pt(t[0].ad))}(t)){var r=new Error("VPAID ads are not supported by the current player");r.code=200,n.errorCode=200,n.error=r}if(Boolean(n.error))throw n.error;e.hooks&&"function"==typeof e.hooks.validateVastResponse&&e.hooks.validateVastResponse(t)},Hr=function(t){return function(){"function"==typeof t&&t.apply(void 0,arguments)}},Wr=function(t,e){return t&&t[0]&&t[0].errorCode||e.code},Jr=function(t,e){var n=e.hooks;return n&&"function"==typeof n.transformVastResponse?n.transformVastResponse(t):t},Qr=function(){var t=U(p.mark((function t(e,n,r,i){var o,a,s,u,c,l,d,f,h,v;return p.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=void 0,a=void 0,s=void 0,u=q({},r),c=u.onAdStart,l=u.onError,d=u.onRunFinish,t.prev=5,"number"==typeof u.timeout&&(a=Date.now()),t.next=9,e();case 9:if(o=t.sent,!i()){t.next=13;break}return d(),t.abrupt("return");case 13:return a&&(f=Date.now(),u.timeout-=f-a,a=f),Gr(o,u),t.next=17,Lr(Jr(o,u),n,q({},u));case 17:if(s=t.sent,!i()){t.next=22;break}return s.cancel(),d(),t.abrupt("return");case 22:s.onError(l),s.onFinish(d),c(s),t.next=38;break;case 27:if(t.prev=27,t.t0=t.catch(5),h=Wr(o,t.t0),Boolean(h)&&(v=r.tracker,At(o,{errorCode:h,tracker:v})),l(t.t0,{adUnit:s,vastChain:o}),!o||i()){t.next=37;break}if(a&&(u.timeout-=Date.now()-a),a&&!(u.timeout>0)){t.next=37;break}return Qr((function(){return zr(o,u)}),n,q({},u),i),t.abrupt("return");case 37:d();case 38:case"end":return t.stop()}}),t,void 0,[[5,27]])})));return function(e,n,r,i){return t.apply(this,arguments)}}(),Yr=function(t,e){var n=t&&k(t,e);if(n)return C(n)},Xr=function t(e){var n=function(t){var e=_(t);return e&&k(e,"Pricing")}(e[0].ad);return n?{pricing:C(n),pricingCurrency:O(n,"currency"),pricingModel:O(n,"model")}:e.length>1?t(e.slice(1)):{}};t.getDetails=function(t){var e,n,r,i,o,a=t.map((function(t){var e=t.ad;return O(e,"id")})),s=t.map((function(t){return function(t){var e=_(t),n=e&&k(e,"AdSystem");if(n)return C(n)}(t.ad)})),u=t.map((function(t){var e=t.ad;return R(e)})).filter((function(t){return Boolean(t)})),c=u.map((function(t){return O(t,"id")})),l=u.map((function(t){return O(t,"adId")})),d=Xr(t),f=d.pricing,p=d.pricingCurrency,h=d.pricingModel,v=(e=t[0].ad,(r=(n=k(e,"InLine"))&&k(n,"Category"))?{category:C(r),categoryAuthority:O(r,"authority")}:{}),m=v.category,g=v.categoryAuthority,y=_(t[0].ad),b=R(t[0].ad),w=b&&k(b,"Linear"),E=Yr(y,"AdServingId"),A=(o=(i=t[0].parsedXML)&&k(i,"VAST"))?O(o,"version"):"unknown",T=Yr(y,"Advertiser"),S=Yr(y,"AdTitle"),x=Yr(y,"Description"),P=Yr(w,"Duration"),I=P&&j(P),L=void 0,M=[],N=void 0,D=[],U=void 0,V=[],F=void 0,B=[],q=void 0,z=void 0,G=void 0,H=void 0,J=[],Q=void 0,Y=void 0,X=void 0,K=void 0;if(at(t[0].ad)){var Z=W(a);L=Z[0],M=Z.slice(1);var $=W(s);N=$[0],D=$.slice(1);var tt=W(c);U=tt[0],V=tt.slice(1);var et=W(l);F=et[0],B=et.slice(1),q=vt(t[0].ad),z=bt(t[0].XML);var nt=k(b,"UniversalAdId");G=C(nt),H=O(nt,"idRegistry"),J=dt(t[0].ad),Q=Boolean(pt(t[0].ad)),X=O(w,"skipoffset"),K=j(X),Y=Boolean(X)}else ot(t[0].ad)&&(M=a,D=s,V=c,B=l);return{adId:L,adServingId:E,adSystem:N,adTitle:S,advertiser:T,adWrapperCreativeAdIds:B,adWrapperCreativeIds:V,adWrapperIds:M,adWrapperSystems:D,category:m,categoryAuthority:g,clickThroughUrl:q,creativeAdId:F,creativeData:z,creativeId:U,description:x,duration:P,durationInMs:I,mediaFiles:J,pricing:f,pricingCurrency:p,pricingModel:h,skipOffset:X,skipOffsetInMs:K,skippable:Y,universalAdId:G,universalAdIdRegistry:H,vastVersion:A,vpaid:Q}},t.run=Lr,t.runWaterfall=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!1,o=null,a=Hr(n.onAdStart),s=q({autoplay:!0,vpaidEnabled:!0},n,{onAdReady:Hr(n.onAdReady),onAdStart:function(t){a(o=t)},onError:Hr(n.onError),onRunFinish:Hr(n.onRunFinish)});return n.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&n.videoElement.load(),Qr((function(){return qr(t,s,[],r)}),e,s,(function(){return i})),function(){i=!0,o&&!o.isFinished()&&o.cancel()}},t.requestAd=qr,t.requestNextAd=zr,t.vastSelectors=wt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==s(e)?a(e):(i=[e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o))},9089:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},6492:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},9248:t=>{"use strict";t.exports=function(t){return t[1]}},8372:function(t,e,n){var r,i,o;!function(){"use strict";i=[n(3048)],void 0===(o="function"==typeof(r=function(t){var e=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function i(t,e,n){if("function"==typeof Array.prototype.map)return t.map(e,n);for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=e.call(n,t[i]);return r}function o(t,e,n){if("function"==typeof Array.prototype.filter)return t.filter(e,n);for(var r=[],i=0;i<t.length;i++)e.call(n,t[i])&&r.push(t[i]);return r}function a(t,e){if("function"==typeof Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(t.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return i(o(e.stack.split("\n"),(function(t){return!!t.match(n)}),this),(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),i=n.join(" ")||void 0,o=a(["eval","<anonymous>"],r[0])>-1?void 0:r[0];return new t(i,void 0,o,r[1],r[2],e)}),this)},parseFFOrSafari:function(e){return i(o(e.stack.split("\n"),(function(t){return!t.match(r)}),this),(function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t(e);var n=e.split("@"),r=this.extractLocation(n.pop()),i=n.join("@")||void 0;return new t(i,void 0,r[0],r[1],r[2],e)}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new t(void 0,void 0,s[2],s[1],void 0,r[o]))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,r[o]))}return i},parseOpera11:function(n){return i(o(n.stack.split("\n"),(function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this),(function(e){var n,r=e.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t(a,s,i[0],i[1],i[2],e)}),this)}}})?r.apply(e,i):r)||(t.exports=o)}()},3048:function(t,e){var n,r,i;!function(){"use strict";r=[],void 0===(i="function"==typeof(n=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,i,o){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i),void 0!==o&&this.setSource(o)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}},e})?n.apply(e,r):n)||(t.exports=i)}()},962:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return u.default}});var r=f(n(3253)),i=f(n(4659)),o=f(n(970)),a=f(n(7401)),s=f(n(8413)),u=f(n(5830)),c=f(n(6838)),l=f(n(2463)),d=f(n(7777));function f(t){return t&&t.__esModule?t:{default:t}}},2414:(t,e)=>{"use strict";function n(t){return 14+(t+64>>>9<<4)+1}function r(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function i(t,e,n,i,o,a){return r((s=r(r(e,t),r(i,a)))<<(u=o)|s>>>32-u,n);var s,u}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function u(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],n=32*t.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[n(e)-1]=e;for(var i=1732584193,c=-271733879,l=-1732584194,d=271733878,f=0;f<t.length;f+=16){var p=i,h=c,v=l,m=d;i=o(i,c,l,d,t[f],7,-680876936),d=o(d,i,c,l,t[f+1],12,-389564586),l=o(l,d,i,c,t[f+2],17,606105819),c=o(c,l,d,i,t[f+3],22,-1044525330),i=o(i,c,l,d,t[f+4],7,-176418897),d=o(d,i,c,l,t[f+5],12,1200080426),l=o(l,d,i,c,t[f+6],17,-1473231341),c=o(c,l,d,i,t[f+7],22,-45705983),i=o(i,c,l,d,t[f+8],7,1770035416),d=o(d,i,c,l,t[f+9],12,-1958414417),l=o(l,d,i,c,t[f+10],17,-42063),c=o(c,l,d,i,t[f+11],22,-1990404162),i=o(i,c,l,d,t[f+12],7,1804603682),d=o(d,i,c,l,t[f+13],12,-40341101),l=o(l,d,i,c,t[f+14],17,-1502002290),i=a(i,c=o(c,l,d,i,t[f+15],22,1236535329),l,d,t[f+1],5,-165796510),d=a(d,i,c,l,t[f+6],9,-1069501632),l=a(l,d,i,c,t[f+11],14,643717713),c=a(c,l,d,i,t[f],20,-373897302),i=a(i,c,l,d,t[f+5],5,-701558691),d=a(d,i,c,l,t[f+10],9,38016083),l=a(l,d,i,c,t[f+15],14,-660478335),c=a(c,l,d,i,t[f+4],20,-405537848),i=a(i,c,l,d,t[f+9],5,568446438),d=a(d,i,c,l,t[f+14],9,-1019803690),l=a(l,d,i,c,t[f+3],14,-187363961),c=a(c,l,d,i,t[f+8],20,1163531501),i=a(i,c,l,d,t[f+13],5,-1444681467),d=a(d,i,c,l,t[f+2],9,-51403784),l=a(l,d,i,c,t[f+7],14,1735328473),i=s(i,c=a(c,l,d,i,t[f+12],20,-1926607734),l,d,t[f+5],4,-378558),d=s(d,i,c,l,t[f+8],11,-2022574463),l=s(l,d,i,c,t[f+11],16,1839030562),c=s(c,l,d,i,t[f+14],23,-35309556),i=s(i,c,l,d,t[f+1],4,-1530992060),d=s(d,i,c,l,t[f+4],11,1272893353),l=s(l,d,i,c,t[f+7],16,-155497632),c=s(c,l,d,i,t[f+10],23,-1094730640),i=s(i,c,l,d,t[f+13],4,681279174),d=s(d,i,c,l,t[f],11,-358537222),l=s(l,d,i,c,t[f+3],16,-722521979),c=s(c,l,d,i,t[f+6],23,76029189),i=s(i,c,l,d,t[f+9],4,-640364487),d=s(d,i,c,l,t[f+12],11,-421815835),l=s(l,d,i,c,t[f+15],16,530742520),i=u(i,c=s(c,l,d,i,t[f+2],23,-995338651),l,d,t[f],6,-198630844),d=u(d,i,c,l,t[f+7],10,1126891415),l=u(l,d,i,c,t[f+14],15,-1416354905),c=u(c,l,d,i,t[f+5],21,-57434055),i=u(i,c,l,d,t[f+12],6,1700485571),d=u(d,i,c,l,t[f+3],10,-1894986606),l=u(l,d,i,c,t[f+10],15,-1051523),c=u(c,l,d,i,t[f+1],21,-2054922799),i=u(i,c,l,d,t[f+8],6,1873313359),d=u(d,i,c,l,t[f+15],10,-30611744),l=u(l,d,i,c,t[f+6],15,-1560198380),c=u(c,l,d,i,t[f+13],21,1309151649),i=u(i,c,l,d,t[f+4],6,-145523070),d=u(d,i,c,l,t[f+11],10,-1120210379),l=u(l,d,i,c,t[f+2],15,718787259),c=u(c,l,d,i,t[f+9],21,-343485551),i=r(i,p),c=r(c,h),l=r(l,v),d=r(d,m)}return[i,c,l,d]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(n(e)),i=0;i<e;i+=8)r[i>>5]|=(255&t[i/8])<<i%32;return r}(t),8*t.length))};e.default=c},7167:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};e.default=n},8413:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default="00000000-0000-0000-0000-000000000000"},7777:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(6838))&&r.__esModule?r:{default:r};var o=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};e.default=o},3541:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},5175:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var r=new Uint8Array(16)},4361:(t,e)=>{"use strict";function n(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:case 3:return e^n^r;case 2:return e&n^e&r^n&r}}function r(t,e){return t<<e|t>>>32-e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var o=unescape(encodeURIComponent(t));t=[];for(var a=0;a<o.length;++a)t.push(o.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,u=Math.ceil(s/16),c=new Array(u),l=0;l<u;++l){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=t[64*l+4*f]<<24|t[64*l+4*f+1]<<16|t[64*l+4*f+2]<<8|t[64*l+4*f+3];c[l]=d}c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295;for(var p=0;p<u;++p){for(var h=new Uint32Array(80),v=0;v<16;++v)h[v]=c[p][v];for(var m=16;m<80;++m)h[m]=r(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var g=i[0],y=i[1],b=i[2],w=i[3],E=i[4],A=0;A<80;++A){var T=Math.floor(A/20),S=r(g,5)+n(T,y,b,w)+E+e[T]+h[A]>>>0;E=w,w=b,b=r(y,30)>>>0,y=g,g=S}i[0]=i[0]+g>>>0,i[1]=i[1]+y>>>0,i[2]=i[2]+b>>>0,i[3]=i[3]+w>>>0,i[4]=i[4]+E>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};e.default=i},2463:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.unsafeStringify=s;var r,i=(r=n(6838))&&r.__esModule?r:{default:r};for(var o=[],a=0;a<256;++a)o.push((a+256).toString(16).slice(1));function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]}var u=function(t){var e=s(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(e))throw TypeError("Stringified UUID is invalid");return e};e.default=u},3253:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i,o,a=(r=n(5175))&&r.__esModule?r:{default:r},s=n(2463);var u=0,c=0;var l=function(t,e,n){var r=e&&n||0,l=e||new Array(16),d=(t=t||{}).node||i,f=void 0!==t.clockseq?t.clockseq:o;if(null==d||null==f){var p=t.random||(t.rng||a.default)();null==d&&(d=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==t.msecs?t.msecs:Date.now(),v=void 0!==t.nsecs?t.nsecs:c+1,m=h-u+(v-c)/1e4;if(m<0&&void 0===t.clockseq&&(f=f+1&16383),(m<0||h>u)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,c=v,o=f;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[r++]=g>>>24&255,l[r++]=g>>>16&255,l[r++]=g>>>8&255,l[r++]=255&g;var y=h/4294967296*1e4&268435455;l[r++]=y>>>8&255,l[r++]=255&y,l[r++]=y>>>24&15|16,l[r++]=y>>>16&255,l[r++]=f>>>8|128,l[r++]=255&f;for(var b=0;b<6;++b)l[r+b]=d[b];return e||(0,s.unsafeStringify)(l)};e.default=l},4659:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(4416)),i=o(n(2414));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)("v3",48,i.default);e.default=a},4416:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=e.DNS=void 0,e.default=function(t,e,n){function r(t,r,a,s){var u;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=(0,o.default)(r)),16!==(null===(u=r)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+t.length);if(c.set(r),c.set(t,r.length),(c=n(c))[6]=15&c[6]|e,c[8]=63&c[8]|128,a){s=s||0;for(var l=0;l<16;++l)a[s+l]=c[l];return a}return(0,i.unsafeStringify)(c)}try{r.name=t}catch(t){}return r.DNS=a,r.URL=s,r};var r,i=n(2463),o=(r=n(7777))&&r.__esModule?r:{default:r};var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=a;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s},970:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(7167)),i=a(n(5175)),o=n(2463);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n){if(r.default.randomUUID&&!e&&!t)return r.default.randomUUID();var a=(t=t||{}).random||(t.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=a[s];return e}return(0,o.unsafeStringify)(a)};e.default=s},7401:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(4416)),i=o(n(4361));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,r.default)("v5",80,i.default);e.default=a},6838:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(3541))&&r.__esModule?r:{default:r};var o=function(t){return"string"==typeof t&&i.default.test(t)};e.default=o},5830:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(6838))&&r.__esModule?r:{default:r};var o=function(t){if(!(0,i.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)};e.default=o},5911:(t,e,n)=>{"use strict";n.r(e),n.d(e,{envVars:()=>r});var r={NODE_ENV:"production",AD_SERVER_BASE_URL:"https://ad.vidoomy.com/api/adserver",ELASTIC_APM_SERVICE_NAME:"es6-vidoplayer",ELASTIC_APM_SERVER_URL:"https://apm.vidoomy.com:8200",ELASTIC_APM_SECRET_TOKEN:"MADyREDVnjJfiU0HDNVgg0EVNaR91cq7FGynTF3a5FU60moBgaKRPgShJklJPnqOwGVVz4kQ2VhIleJyhktE2fdZt1f3NlW45fh50UKebrdaJGwlmajjpeiky6Mbvke9",OMID_PARTNER_NAME:"Vidoomy",OMID_PARTNER_VERSION:"1.4.0",OMID_SERVICE_URL:"https://vpaid.vidoomy.com/player/latest/assets/js/omid",CONTEXTUAL_SERVICE_BASE_URL:"https://contextual.vidoomy.com/api/contextual"}},893:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var r=function(t,e){(Array.isArray(e)?e:[e]).forEach((function(e){Array.isArray(e)?e.forEach((function(e){return r(t,e)})):e instanceof Node?t.appendChild(e):t.appendChild(document.createTextNode(String(e)))}))};t.exports=function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if("function"==typeof t)return t(n,o);var s=document.createElement(t);return Object.entries(n||{}).forEach((function(t){var n=e(t,2),r=n[0],i=n[1];i&&("ref"===r?("function"==typeof i&&i(s),i.value=s):r.startsWith("on")&&r.toLowerCase()in window?s.addEventListener(r.toLowerCase().substr(2),i):s.setAttribute(r,i))})),r(s,o),s}},2654:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(2753)),u=a(n(149)),c=n(8423),l=n(9843),d=a(n(52)),f=n(3371),p=function(){return t=function t(e,n,r,i,o,a,c,l,d){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.viewability=new u.default,this.tag=e,this.trackingService=n,this.adSlot=new s.default(e.id),this.adSlotContainer=o,this.trackingService.syncPixels.addPixels(this.handleRenameTrackingPixelsEventsName(this.tag.trackingPixels),!1),this.insertAdSlot=r,this.requestAds=c,this.onAdImpression=a,this.show=i,this.onAdError=l,this.onAdCompleted=d,this.init()},(e=[{key:"init",value:function(){var t=this;try{if(void 0===this.tag||null===this.tag)return;this.trackingService.syncPixels.setTrackingEventListener(this.trackingService.addTrackingEventListener.bind(this.trackingService),!1);var e=[this.tag.width,this.tag.height],n=this.decodeHtmlUsingDom(this.tag.code);this.adSlot.slot.innerHTML=n,this.insertAdSlot(this.adSlot.slot),this.subscribeToAdSlotEvents(),this.tag._meta.responseType=l.ETagResponseType.success,this.tag._meta.timesCalled+=1,this.trackingService.recordAdTagRequest(this.tag),d.default.setTimeout(f.ETimeout.DirectDisplayAnimationWaitTimeout,(function(){t.show(e),t.handleAdStarted()}),600)}catch(t){this.tag._meta.responseType=l.ETagResponseType.error,this.onAdError(this.tag,new Error("Failed to render direct display tag")),this.cleanup()}}},{key:"handleRenameTrackingPixelsEventsName",value:function(t){return t?(t.forEach((function(t){switch(t.event){case"impression":t.event=c.ELinearEvents.AdImpression;break;case"complete":t.event=c.ELinearEvents.AdVideoComplete;break;case"click":t.event=c.ELinearEvents.AdClickThru}})),t):[]}},{key:"subscribeToAdSlotEvents",value:function(){var t=this;this.adSlot.slot.addEventListener("click",(function(){return t.trackAdClick(t.tag)}))}},{key:"trackAdClick",value:function(t){this.trackingService.trackDirectDisplayTagEvent(c.ELinearEvents.AdClickThru,t)}},{key:"handleAdStarted",value:function(){var t=this;this.onAdImpression(this.tag),this.requestAds(),this.trackEvents(),this.tag.duration>0&&d.default.setTimeout(f.ETimeout.DirectDisplayDurationTimeout,(function(){t.onAdCompleted(!0),t.destroyAdSlot(),t.cleanup()}),1e3*this.tag.duration)}},{key:"trackEvents",value:function(){var t=this;this.trackingService.trackDirectDisplayTagEvent(c.ELinearEvents.AdImpression,this.tag),this.viewability.sendViewability(this.adSlotContainer,this.adSlot.slot,{measurable:[],viewable:[],creativeView:[]},(function(){return t.trackingService.trackDirectDisplayTagEvent(c.ECustomEvents.AdViewableImpression,t.tag)}))}},{key:"decodeHtmlUsingDom",value:function(t){var e=document.createElement("textarea");return e.innerHTML=t.replace(/\\u0026/g,"&").replace(/\\u003c/g,"<").replace(/\\u003e/g,">"),e.value}},{key:"cleanup",value:function(){d.default.clearTimeout(f.ETimeout.DirectDisplayAnimationWaitTimeout),d.default.clearTimeout(f.ETimeout.DirectDisplayDurationTimeout)}},{key:"destroyAdSlot",value:function(){var t,e=this;this.adSlot.slot.removeEventListener("click",(function(){return e.trackAdClick(e.tag)})),this.adSlot.slot.innerHTML="",null===(t=this.adSlot.slot.parentNode)||void 0===t||t.removeChild(this.adSlot.slot)}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=p},7686:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(8423),l=u(n(2753)),d=u(n(149)),f=u(n(9504)),p=n(7417),h=n(1441),v=u(n(52)),m=n(3371),g=[250,200],y=function(){return t=function t(e,n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definedSlots={},this.handleTrackingOnClick=function(t,e){if(e){var n=f.default.replace(e,{event:c.ELinearEvents.AdClickThru,id:t.id});return"".concat(n,"&gptClickRedirect=")}return""},this.trackingService=n,this.adSlotContainer=r,this.playerConfig=i,this.isMobile=a,this.show=o,this.viewability=new d.default,this.handleSlotRenderEndedBound=this.handleSlotRenderEnded.bind(this),this.playerConfig.dataConfig.prebidOnGPT&&this.initPrebidScript(e),this.init(e)},(e=[{key:"init",value:function(t){var e=document.createElement("script");e.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.onload=function(){"undefined"==typeof googletag&&(t.googletag=t.googletag||{cmd:[]})},t.document.head.appendChild(e)}},{key:"initPrebidScript",value:function(t){var e=this.playerConfig.dataConfig,n=e.pid,r=e.prebidConsentRequired,i=document.createElement("script");i.src=p.PREBID_URL_FOR_GPT,i.async=!0,i.onload=function(){v.default.setTimeout(m.ETimeout.PrebidOnGptConfigTimeout,(function(){var t=(0,p.getPrebidConfig)(n,r);vidoomy_gpt_pbjs.setConfig(t)}),p.PREBID_LOAD_TIME)},t.document.head.appendChild(i)}},{key:"slot",get:function(){return this.adSlot.slot}},{key:"start",value:function(t,e,n,r,o,a,s){var u=this,c=this.playerConfig.dataConfig.prebidOnGPT;this.handleContext(t,n,r,o,a),googletag.cmd.push((function(){googletag.pubads().disableInitialLoad();var n=googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===t.id.toString()}));if(!n||u.definedSlots[t.id.toString()])if(n&&u.definedSlots[t.id.toString()])c&&u.refreshBids(),s(u.adSlot.slot),googletag.pubads().removeEventListener("slotRenderEnded",u.handleSlotRenderEndedBound),googletag.pubads().addEventListener("slotRenderEnded",u.handleSlotRenderEndedBound),googletag.pubads().refresh([n]);else{u.adSlot=new l.default(t.id),s(u.adSlot.slot);var r=googletag.defineSlot(t.unitCode,[].concat(i(t.sizes),["fluid"]),t.id.toString());if(r){googletag.pubads().removeEventListener("slotRenderEnded",u.handleSlotRenderEndedBound),googletag.pubads().addEventListener("slotRenderEnded",u.handleSlotRenderEndedBound);var o=u.handleTrackingOnClick(t,e);r.setClickUrl(o).addService(googletag.pubads()),u.definedSlots[t.id.toString()]=!0,googletag.enableServices(),googletag.display(t.id.toString()),!c&&googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([r])}}else u.onAdCompleted(!1)})),c&&this.startPrebid()}},{key:"handleSlotRenderEnded",value:function(t){var e,n=this,r=t.slot,i=googletag.pubads().getSlots().find((function(t){return t.getSlotElementId()===n.tag.id.toString()}));if(r===i)if(this.tag._meta.timesCalled+=1,t.isEmpty){if(!(this.tag.timesToCall>this.tag._meta.timesCalled))return this.cleanup(),this.onAdError(this.tag,new Error("Tag: ".concat(this.tag.id," aborted (attempt ").concat(this.tag._meta.timesCalled,"/").concat(this.tag.timesToCall,")"))),void this.onAdCompleted(!1);googletag.pubads().refresh([i])}else this.trackingService.recordAdTagRequest(this.tag),this.adSlot.updateAdSlotSize(this.getValidSize(t.size)),(null===(e=t.size)||void 0===e?void 0:e.length)&&(this.tag._meta.currentWidth=t.size[0],this.tag._meta.currentHeight=t.size[1]),v.default.setTimeout(m.ETimeout.GptAnimationTimeout,(function(){n.show(n.getValidSize(t.size)),n.onAdImpression(n.tag),n.requestAds(),n.trackEvents(n.tag,n.adSlot)}),600),this.tag.duration>0&&v.default.setTimeout(m.ETimeout.GptDurationTimeout,(function(){n.cleanup(),n.onAdCompleted(!0)}),1e3*this.tag.duration)}},{key:"trackEvents",value:function(t,e){var n=this;this.trackingService.trackGptTagEvent(c.ELinearEvents.AdImpression,t),this.viewability.sendViewability(this.adSlotContainer,e.slot,{measurable:[],viewable:[],creativeView:[]},(function(){return n.trackingService.trackGptTagEvent(c.ECustomEvents.AdViewableImpression,t)}))}},{key:"getValidSize",value:function(t){return Array.isArray(t)?[0===t[0]?g[0]:t[0],0===t[1]?g[1]:t[1]]:g}},{key:"handleContext",value:function(t,e,n,r,i){this.tag=t,this.onAdImpression=e,this.onAdError=n,this.onAdCompleted=r,this.requestAds=i}},{key:"startPrebid",value:function(){var t=this,e=this.buildAdUnits();vidoomy_gpt_pbjs.addAdUnits(e),vidoomy_gpt_pbjs.requestBids({timeout:p.PREBID_TIMEOUT,bidsBackHandler:function(){vidoomy_gpt_pbjs.setTargetingForGPTAsync(),googletag.cmd.push((function(){var e=googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===t.tag.id.toString()}));e&&googletag.pubads().refresh([e])}))}})}},{key:"buildAdUnits",value:function(){return[{code:this.tag.id.toString(),mediaTypes:{banner:{sizes:this.isMobile?p.mobileBannerSizes:p.desktopBannerSizes}},bids:[(0,h.createAdformOpenRTBConfig)(),(0,h.createRubiconConfig)(this.isMobile),(0,h.createOpenXConfig)(),(0,h.createPubMaticConfig)(this.isMobile),(0,h.createRtbHouseConfig)()]}]}},{key:"refreshBids",value:function(){var t=this.buildAdUnits();vidoomy_gpt_pbjs.addAdUnits(t),vidoomy_gpt_pbjs.requestBids({timeout:p.PREBID_TIMEOUT})}},{key:"cleanup",value:function(){v.default.clearTimeout(m.ETimeout.PrebidOnGptConfigTimeout),v.default.clearTimeout(m.ETimeout.GptAnimationTimeout),v.default.clearTimeout(m.ETimeout.GptDurationTimeout)}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=y},4415:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(7417),u=a(n(2753)),c=a(n(149)),l=n(9843),d=n(8423),f=n(2264),p=n(586),h=n(8492),v=a(n(52)),m=n(3371),g=function(){return t=function t(e,n,r,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trackingService=n,this.adSlotContainer=r,this.isMobile=a,this.playerConfig=s,this.insertAdSlot=o,this.show=i,this.viewability=new c.default,this.init(e)},(e=[{key:"init",value:function(t){var e=this.playerConfig.dataConfig,n=e.pid,r=e.prebidConsentRequired,i=document.createElement("script");i.src=s.PREBID_URL,i.async=!0,i.onload=function(){v.default.setTimeout(m.ETimeout.PrebidConfigTimeout,(function(){var t=(0,s.getPrebidConfig)(n,r);vidoomy_pbjs.setConfig(t)}),s.PREBID_LOAD_TIME)},t.document.head.appendChild(i)}},{key:"start",value:function(t,e,n,r,i,o,a,s,u,c,l,d,f,p){this.handleContext(t,e,n,r,i,o,a,s,u,c,l,d,f,p),this.requestPrebidAds()}},{key:"updatePrebidConsent",value:function(t){var e=this.playerConfig.dataConfig,n=e.pid,r=e.prebidConsentRequired,i=(0,s.getPrebidConfig)(n,r,t);vidoomy_pbjs.setConfig(i)}},{key:"requestPrebidAds",value:function(){var t=this;if(vidoomy_pbjs.removeAdUnit(s.VIDOOMY_PREBID_TAG_NAME),this.tag._meta.timesCalled>=this.tag.timesToCall)this.onAdCompleted(!1);else{var e=this.buildAdUnits(this.tag);vidoomy_pbjs.addAdUnits(e),vidoomy_pbjs.requestBids({timeout:s.PREBID_TIMEOUT,bidsBackHandler:function(e){t.handleResponse(e)}})}}},{key:"handleContext",value:function(t,e,n,r,i,o,a,s,u,c,l,d,f,p){this.tag=t,this.onAdImpression=e,this.onAdError=n,this.onAdCompleted=r,this.requestAds=i,this.events=o,this.adContainer=a,this.wrapperEl=s,this.videoEl=u,this.displayContainerEl=c,this.prepare=l,this.adsManager=d,this.onAdClicked=f,this.scalingHandler=p}},{key:"handleResponse",value:function(t){var e=this;try{if(this.tag.tags.forEach((function(t){e.hasReachedTimesCalledLimit(e.tag,t)||(t._meta.timesCalled+=1)})),this.tag._meta.timesCalled+=1,this.tag.tags.forEach((function(t){e.hasReachedTimesCalledLimit(e.tag,t)||e.trackingService.recordAdTagRequest(t)})),!t||!t[s.VIDOOMY_PREBID_TAG_NAME]||!t[s.VIDOOMY_PREBID_TAG_NAME].bids||0===t[s.VIDOOMY_PREBID_TAG_NAME].bids.length)return this.onAdError(this.tag.tags[0],new Error("[Prebid]: Tag unit retry (attempt ".concat(this.tag._meta.timesCalled,"/").concat(this.tag.timesToCall,")"))),void this.requestPrebidAds();var n=t[s.VIDOOMY_PREBID_TAG_NAME].bids.reduce((function(t,e){return e.cpm>t.cpm?e:t}));if(!n)return this.tag.tags.forEach((function(t){return t._meta.responseType=l.ETagResponseType.error})),void this.onAdError(this.tag.tags[0],new Error("[Prebid]: Failed to retrieve the bid from prebid"));var r=this.tag.tags.findIndex((function(t){return t.bidder===n.bidderCode&&t.mediaType===n.mediaType}));if(!this.tag.tags[r])return void this.onAdError(this.tag.tags[0],new Error("[Prebid]: Failed to match response bid with tag bidder unit"));this.tag._meta.winnerTagIndex=r,this.tag.tags[r]._meta.responseType=l.ETagResponseType.success,this.tag.tags[r]._meta.loop=this.tag._meta.loop;var i=[n.width,n.height],o=s.scalablePrebidSizes.filter((function(t){return e.isMobile&&t.mobile||!e.isMobile&&t.desktop})).find((function(t){return t.size[0]===i[0]&&t.size[1]===i[1]}));switch(o&&this.playerConfig.htmlConfig.type===p.EPlayerType.Slider&&n.mediaType===h.EPrebidMediaType.Banner&&this.scalingHandler?this.scalingHandler(i,o.scale):this.scalingHandler(i,1),t[s.VIDOOMY_PREBID_TAG_NAME].bids.forEach((function(t){var n,r,i,o,a,s=e.tag.tags.findIndex((function(e){return e.bidder===t.bidderCode&&e.mediaType===t.mediaType}));e.tag.tags[s]&&(e.tag.tags[s]._meta.loop=e.tag._meta.loop,e.tag.tags[s]._meta.adDomains=null!==(n=t.meta.advertiserDomains)&&void 0!==n?n:[""],e.tag.tags[s]._meta.cpm=null!==(r=t.cpm)&&void 0!==r?r:0,e.tag.tags[s]._meta.currency=null!==(i=t.currency)&&void 0!==i?i:"",e.tag.tags[s]._meta.currentWidth=null!==(o=t.width)&&void 0!==o?o:0,e.tag.tags[s]._meta.currentHeight=null!==(a=t.height)&&void 0!==a?a:0,e.trackingService.trackPrebidTagEvent(d.ECustomEvents.BidResponses,e.tag.tags[s]))})),n.mediaType){case h.EPrebidMediaType.Banner:this.adSlot=new u.default(s.VIDOOMY_PREBID_TAG_NAME,!0),this.insertAdSlot(this.adSlot.slot),this.subscribeToAdSlotEvents(this.tag.tags[r]),v.default.setTimeout(m.ETimeout.PrebidAnimationWaitTimeout,(function(){e.handleBannerAdStarted([n.width,n.height],n.adId,e.tag.tags[r])}),s.ANIMATION_WAIT_TIMEOUT);break;case h.EPrebidMediaType.Video:var a=this.tag.tags[r];a._meta.parsedUrl=n.vastUrl||"",a._meta.xml=n.vastXml,a._meta.isVpaid=!1,this.adsManager=new f.AdsManager(this.tag.tags[r],this.events||[],this.trackingService,this.onAdCompleted,this.onAdClicked,this.onAdError,this.adContainer,this.wrapperEl,this.videoEl,this.displayContainerEl,this.prepare,this.show,this.onAdImpression,this.requestAds,this.playerConfig)}}catch(t){this.tag.tags.forEach((function(t){return t._meta.responseType=l.ETagResponseType.error})),this.onAdError(this.tag.tags[0],new Error("[Prebid]: Failed to render prebid tag unit"))}}},{key:"handleBannerAdStarted",value:function(t,e,n){var r=this;this.show(t),this.adSlot.updateAdSlotSize(t),this.renderAdContent(e,n),this.onAdImpression(n),this.requestAds(),this.trackEvents(n,this.adSlot),n.duration>0&&v.default.setTimeout(m.ETimeout.PrebidBannerDurationTimeout,(function(){vidoomy_pbjs.removeAdUnit(s.VIDOOMY_PREBID_TAG_NAME),r.destroyAdSlot(),r.cleanup(),r.onAdCompleted(!0)}),1e3*n.duration)}},{key:"renderAdContent",value:function(t,e){var n;try{if(!(this.adSlot.slot instanceof HTMLIFrameElement))throw new Error("Ad slot is not an iframe");var r=null===(n=this.adSlot.slot.contentWindow)||void 0===n?void 0:n.document;if(!r)throw new Error("Iframe document not found");vidoomy_pbjs.renderAd(r,t)}catch(t){this.onAdError(e,new Error("[Prebid]: Failed to render prebid ad"))}}},{key:"subscribeToAdSlotEvents",value:function(t){var e=this;this.adSlot.slot.addEventListener("click",(function(){return e.trackAdClick(t)}))}},{key:"trackAdClick",value:function(t){this.trackingService.trackPrebidTagEvent(d.ELinearEvents.AdClickThru,t)}},{key:"trackEvents",value:function(t,e){var n=this;this.trackingService.trackPrebidTagEvent(d.ELinearEvents.AdImpression,t),this.viewability.sendViewability(this.adSlotContainer,e.slot,{measurable:[],viewable:[],creativeView:[]},(function(){return n.trackingService.trackPrebidTagEvent(d.ECustomEvents.AdViewableImpression,t)}))}},{key:"buildAdUnits",value:function(t){var e=this;return[{code:s.VIDOOMY_PREBID_TAG_NAME,mediaTypes:{banner:{sizes:t.sizes}},floors:{currency:"USD",schema:{fields:["mediaType"]},values:{banner:this.handleFloorPriceIncrementation(t)}},bids:t.tags.filter((function(t){return!e.hasReachedTimesCalledLimit(e.tag,t)&&t.mediaType===h.EPrebidMediaType.Banner})).map((function(t){return{bidder:t.bidder,params:JSON.parse(t.params)}}))},{code:s.VIDOOMY_PREBID_TAG_NAME,mediaTypes:{video:{context:"outstream",playerSize:[this.wrapperEl.offsetWidth,this.wrapperEl.offsetHeight],mimes:["video/mp4","video/ogg","video/webm","application/javascript"],protocols:[1,2,3,4,5,6,7,8],playbackmethod:[2],skip:1,api:[2],minduration:5,maxduration:120,linearity:1,placement:1,plcmt:1}},floors:{currency:"USD",schema:{fields:["mediaType"]},values:{video:t.floorCPM.video}},bids:t.tags.filter((function(t){return!e.hasReachedTimesCalledLimit(e.tag,t)&&t.mediaType===h.EPrebidMediaType.Video})).map((function(t){return{bidder:t.bidder,params:JSON.parse(t.params)}}))}]}},{key:"cleanup",value:function(){v.default.clearTimeout(m.ETimeout.PrebidAnimationWaitTimeout),v.default.clearTimeout(m.ETimeout.PrebidBannerDurationTimeout),v.default.clearTimeout(m.ETimeout.PrebidConfigTimeout)}},{key:"hasReachedTimesCalledLimit",value:function(t,e){var n=t._meta.timesCalled>t.timesToCall,r=e._meta.timesCalled>e.timesToCall;return n||r}},{key:"handleFloorPriceIncrementation",value:function(t){return 0===t._meta.timesCalled?2*t.floorCPM.banner:1===t._meta.timesCalled?t.floorCPM.banner:.8*t.floorCPM.banner}},{key:"destroyAdSlot",value:function(){var t,e=this;this.adSlot.slot.removeEventListener("click",(function(){return e.trackAdClick.bind(e)})),this.adSlot.slot.innerHTML="",null===(t=this.adSlot.slot.parentNode)||void 0===t||t.removeChild(this.adSlot.slot)}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=g},4208:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{bidder:r.EPrebidAdapters.AdformOpenRTB,params:{mid:"1936058"}}};var r=n(5296)},2981:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{bidder:r.EPrebidAdapters.OpenX,params:{unit:"560874509",delDomain:"vidoomy-d.openx.net"}}};var r=n(5296)},5378:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PubMatic_MOBILE_SIZES=e.PubMatic_DESKTOP_SIZES=void 0,e.default=function(t){return{bidder:r.EPrebidAdapters.PubMatic,params:{publisherId:"156498",adSlot:t?"6064917":"6064916",pmzoneid:t?"1239173":"1227683"}}},e.createTestConfig=function(){return{bidder:r.EPrebidAdapters.PubMatic,params:{publisherId:"156276",adSlot:"pubmatic_test"}}};var r=n(5296);e.PubMatic_DESKTOP_SIZES=[15,14,16,55,13,12,171,211],e.PubMatic_MOBILE_SIZES=[14,55,13,12,171,211]},3829:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return{bidder:r.EPrebidAdapters.RtbHouse,params:{publisherId:"arBdS5Zp89j0rWkmwMY0",region:"prebid-eu"}}};var r=n(5296)},4609:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RUBICON_MOBILE_SIZES=e.RUBICON_DESKTOP_SIZES=void 0,e.default=function(t){return{bidder:r.EPrebidAdapters.Rubicon,params:{accountId:"24386",siteId:t?"554610":"550320",zoneId:t?"3474162":"3436494",sizes:t?e.RUBICON_MOBILE_SIZES:e.RUBICON_DESKTOP_SIZES}}};var r=n(5296);e.RUBICON_DESKTOP_SIZES=[15,14,16,55,13,12,171,211],e.RUBICON_MOBILE_SIZES=[14,55,13,12,171,211]},1441:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createPubMaticTestConfig=e.createPubMaticConfig=e.createRtbHouseConfig=e.createAdformOpenRTBConfig=e.createOpenXConfig=e.createRubiconConfig=void 0;var i=n(4609);Object.defineProperty(e,"createRubiconConfig",{enumerable:!0,get:function(){return r(i).default}});var o=n(2981);Object.defineProperty(e,"createOpenXConfig",{enumerable:!0,get:function(){return r(o).default}});var a=n(4208);Object.defineProperty(e,"createAdformOpenRTBConfig",{enumerable:!0,get:function(){return r(a).default}});var s=n(3829);Object.defineProperty(e,"createRtbHouseConfig",{enumerable:!0,get:function(){return r(s).default}});var u=n(5378);Object.defineProperty(e,"createPubMaticConfig",{enumerable:!0,get:function(){return r(u).default}});var c=n(5378);Object.defineProperty(e,"createPubMaticTestConfig",{enumerable:!0,get:function(){return c.createTestConfig}})},5296:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EPrebidAdapters=void 0,function(t){t.AdformOpenRTB="adf",t.Rubicon="rubicon",t.PubMatic="pubmatic",t.OpenX="openx",t.RtbHouse="rtbhouse"}(n||(e.EPrebidAdapters=n={}))},7417:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mobileBannerSizes=e.desktopBannerSizes=e.getPrebidConfig=e.VIDOOMY_PREBID_TAG_NAME=e.ANIMATION_WAIT_TIMEOUT=e.scalablePrebidSizes=e.PREBID_LOAD_TIME=e.PREBID_TIMEOUT=e.PREBID_URL=e.PREBID_URL_FOR_GPT=void 0,e.PREBID_URL_FOR_GPT="https://vpaid.vidoomy.com/prebid/prebid-vidoomy_gpt_pbjs.js",e.PREBID_URL="https://vpaid.vidoomy.com/prebid/prebid-vidoomy_pbjs.js",e.PREBID_TIMEOUT=1e3,e.PREBID_LOAD_TIME=500,e.scalablePrebidSizes=[{size:[320,480],scale:.8,mobile:!1,desktop:!0},{size:[468,80],scale:.7,mobile:!1,desktop:!0},{size:[468,60],scale:.7,mobile:!1,desktop:!0},{size:[300,600],scale:.5,mobile:!0,desktop:!0},{size:[720,720],scale:.5,mobile:!1,desktop:!0},{size:[728,90],scale:.57,mobile:!1,desktop:!0},{size:[980,250],scale:.43,mobile:!1,desktop:!0},{size:[970,90],scale:.43,mobile:!1,desktop:!0},{size:[640,360],scale:.65,mobile:!1,desktop:!0},{size:[120,600],scale:.6,mobile:!1,desktop:!0},{size:[160,600],scale:.6,mobile:!1,desktop:!0},{size:[300,250],scale:.66,mobile:!0,desktop:!1},{size:[250,250],scale:.8,mobile:!0,desktop:!1},{size:[336,280],scale:.7,mobile:!0,desktop:!1},{size:[336,336],scale:.5,mobile:!0,desktop:!1},{size:[120,600],scale:.5,mobile:!0,desktop:!1},{size:[320,480],scale:.5,mobile:!0,desktop:!1},{size:[160,600],scale:.5,mobile:!0,desktop:!1},{size:[336,280],scale:.5,mobile:!0,desktop:!1}],e.ANIMATION_WAIT_TIMEOUT=600,e.VIDOOMY_PREBID_TAG_NAME="vidoomy_pbjs_tag";e.getPrebidConfig=function(t,e,n){var r={debug:!1,enableSendAllBids:!1,useBidCache:!0,bidderTimeout:6e3,priceGranularity:"medium",mediaTypePriceGranularity:{banner:"medium"},floors:{},userSync:{iframeEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3,userIds:[{name:"criteo"},{name:"id5Id",params:{partner:1670,externalModuleUrl:"https://cdn.id5-sync.com/api/1.0/id5PrebidModule.js"},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:7200}},{name:"lotamePanoramaId",params:{clientId:"16730"}}]},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"vidoomy.com",sid:t.toString(),hp:1}]}}};return e&&(r.consentManagement=n?{gdpr:{cmpApi:"static",consentData:{getTCData:{tcString:n,gdprApplies:!0}}}}:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0,allowAuctionWithoutConsent:!0}}),r},e.desktopBannerSizes=[[300,250],[250,250],[336,280],[320,100],[240,133],[200,200],[180,150],[125,125]],e.mobileBannerSizes=[[250,250],[320,100],[240,133],[200,200],[180,150],[125,125],[320,50]]},9277:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(8787),l=u(n(149)),d=n(1568),f=u(n(2690)),p=n(5911),h=n(8423),v=n(1863),m=u(n(9504)),g=n(9911),y=u(n(52)),b=n(3371),w=function(){return t=function t(e,n,r,i,o,a,s,u,c,d,h,v,m,g,w){var E=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rulesMOL={AdLoaded:"loaded",AdSkipped:"skip",AdStarted:"start",AdStopped:"stop",AdPaused:"pause",AdPlaying:"resume",AdImpression:"impression",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdClickThru:"clickThrough",AdVideoMuted:"mute",AdVideoUnmuted:"unmute",AdVolumeChange:"volumeChanged",AdLinearChange:"linearChange",AdRemainingTimeChange:"adProgress",AdInteraction:"otherAdInteraction",AdUserAcceptInvitation:"acceptInvitation",AdUserClose:"close",AdLog:"LOG"},this.logger=new f.default({environment:p.envVars.NODE_ENV,prefix:"[SDK]"}),this.viewability=new l.default,this.onAdImpression=m,this.onAdError=a,this.onAdClicked=o,this.onAdCompleted=i,this.requestAds=g,this.events=n,this.trackingService=r,this.adContainer=s,this.wrapperEl=u,this.videoEl=c,this.displayContainerEl=d,this.prepare=h,this.show=v,this.tag=e,this.cleanupViewability=null,this.isErrorReported=!1,this.config=w,this.adPlayed=!1,this.adUnit=null,this.handleAdCompleted=function(){var t,e;!E.videoEl.paused&&E.adUnit&&(null===(e=null===(t=E.adUnit)||void 0===t?void 0:t.pause)||void 0===e||e.call(t));var n=E.adUnit&&E.adUnit.isStarted()||!1;E.onAdCompleted(n)},e._meta.isVpaid?y.default.setTimeout(b.ETimeout.VpaidAdTimeout,(function(){E.launchAd(e)}),500):this.launchAd(e)},e=[{key:"onAdClose",value:function(){var t,e,n,r,i=this;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])y.default.setTimeout(b.ETimeout.AdCloseTimeout,(function(){var t,e,n,r,o,a,s,u,c,l,d;null===(e=null===(t=i.adUnit)||void 0===t?void 0:t.emit)||void 0===e||e.call(t,i.rulesMOL.AdStopped,{adUnit:i.adUnit,type:i.rulesMOL.AdStopped,data:{}}),null===(r=null===(n=i.adUnit)||void 0===n?void 0:n.emit)||void 0===r||r.call(n,i.rulesMOL.AdUserClose,{adUnit:i.adUnit,type:i.rulesMOL.AdUserClose,data:{}}),"VPAID"===(null===(o=null==i?void 0:i.adUnit)||void 0===o?void 0:o.type)?null===(s=null===(a=i.adUnit.creativeAd)||void 0===a?void 0:a.stopAd)||void 0===s||s.call(a):(null===(c=null===(u=i.adUnit)||void 0===u?void 0:u.pause)||void 0===c||c.call(u),null===(d=null===(l=i.adUnit)||void 0===l?void 0:l.cancel)||void 0===d||d.call(l))}),200);else{var o=null===(e=null===(t=this.adUnit)||void 0===t?void 0:t.videoAdContainer)||void 0===e?void 0:e.videoElement;o&&(o.volume=0,o.muted=!0),null===(r=null===(n=this.adUnit)||void 0===n?void 0:n.setVolume)||void 0===r||r.call(n,0)}}},{key:"launchAd",value:function(t){var e=this;this.tag=t,this.videoEl.muted=!0,this.videoEl.volume=0,this.videoEl.autoplay=!0,this.videoEl.playbackRate=1;var n=(new DOMParser).parseFromString((null==t?void 0:t._meta.xml)||"","application/xml"),r={measurable:n?i(n.querySelectorAll('Tracking[event="measurable_impression"]')).map((function(t){var e;return null!==(e=null==t?void 0:t.textContent)&&void 0!==e?e:""})).filter((function(t){return""!==t})):[],viewable:n?i(n.querySelectorAll('Tracking[event="viewable_impression"]')).map((function(t){var e;return null!==(e=null==t?void 0:t.textContent)&&void 0!==e?e:""})).filter((function(t){return""!==t})):[],creativeView:n?i(n.querySelectorAll('Tracking[event="creativeView"]')).map((function(t){var e;return null!==(e=null==t?void 0:t.textContent)&&void 0!==e?e:""})).filter((function(t){return""!==t})):[]};(0,c.runWaterfall)(t._meta.parsedUrl,this.wrapperEl,{responsive:!1,viewability:!1,autoplay:!1,timeout:this.config.dataConfig.adTimeOut,onAdReady:function(n){e.handleAdReady(n,t)},onAdStart:function(){e.cleanupViewability=e.viewability.sendViewability(e.adContainer,e.wrapperEl,r,(function(){return e.events.indexOf(h.ECustomEvents.AdViewableImpression)>-1&&(e.isPrincipalTag(t)?e.trackingService.trackPrincipalTagEvent(h.ECustomEvents.AdViewableImpression,t):e.trackingService.trackPrebidTagEvent(h.ECustomEvents.AdViewableImpression,t))}))},onError:function(n){e.isErrorReported||(e.isErrorReported=!0,e.onAdError(t,new Error(n.message)),["No next ad to request","No Ad"].includes(n.message)||(n.name=h.ELinearEvents.AdError,(0,d.handleElasticErrorCapture)(n,{tag:t,config:e.config})),e.logger.error(n),e.cleanupViewability&&e.cleanupViewability(),e.cleanup())},onRunFinish:function(){e.handleAdCompleted(),e.cleanupViewability&&e.cleanupViewability(),e.cleanup()},videoElement:this.videoEl,macroReplacer:m.default.replace.bind(m.default)},t._meta.xml)}},{key:"cleanup",value:function(){y.default.clearTimeout(b.ETimeout.AdCloseTimeout),y.default.clearTimeout(b.ETimeout.VpaidAdTimeout)}},{key:"isPrincipalTag",value:function(t){return t._meta.adapter===g.EAdAdapterEnum.MOL}},{key:"handleAdReady",value:function(t,e){var n=this;this.prepare(e._meta.isVpaid),this.adUnit=t;for(var r=function(){var r=n.events[i],o=n.rulesMOL[r];o&&t.on(o,(function(){n.isPrincipalTag(e)?n.trackingService.trackPrincipalTagEvent(r,e):n.trackingService.trackPrebidTagEvent(r,e)})),r===h.ECustomEvents.AdVpaidAttempt&&e._meta.isVpaid&&(n.isPrincipalTag(e)?n.trackingService.trackPrincipalTagEvent(h.ECustomEvents.AdVpaidImpression,e):n.trackingService.trackPrebidTagEvent(h.ECustomEvents.AdVpaidImpression,e))},i=0;i<this.events.length;i++)r();t.on(this.rulesMOL.AdStarted,(function(){n.adPlayed=!0,n.show(null),n.onAdImpression(e),n.events.indexOf(h.ECustomEvents.AdVpaidImpression)>-1&&e._meta.isVpaid&&(n.isPrincipalTag(e)?n.trackingService.trackPrincipalTagEvent(h.ECustomEvents.AdVpaidImpression,e):n.trackingService.trackPrebidTagEvent(h.ECustomEvents.AdVpaidImpression,e))})),t.on(this.rulesMOL.AdClickThru,(function(){n.onAdClicked()})),t.on(this.rulesMOL.AdVideoComplete,(function(){var t,e;n.videoEl&&(null===(e=(t=n.videoEl).pause)||void 0===e||e.call(t),n.videoEl.removeAttribute("src"),n.videoEl.removeAttribute("poster"))})),t.on(this.rulesMOL.AdVideoThirdQuartile,(function(){n.requestAds()})),t.start()}}],e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();w.ESdkName=v.ESdkName.MOL,e.default=w},2264:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidAdapter=e.DirectDisplayAdapter=e.GptAdapter=e.AdsManager=void 0;var i=n(9277);Object.defineProperty(e,"AdsManager",{enumerable:!0,get:function(){return r(i).default}});var o=n(7686);Object.defineProperty(e,"GptAdapter",{enumerable:!0,get:function(){return r(o).default}});var a=n(2654);Object.defineProperty(e,"DirectDisplayAdapter",{enumerable:!0,get:function(){return r(a).default}});var s=n(4415);Object.defineProperty(e,"PrebidAdapter",{enumerable:!0,get:function(){return r(s).default}})},4596:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5911),u=n(4624),c=a(n(9504)),l=n(7136),d=s.envVars.AD_SERVER_BASE_URL;e.default={getAds:function(t){return o(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={domain:"DOMAIN",format:"FORMAT",u:"UNIQUE",zoneId:"ZONEID",loop:"LOOP",cStringStatus:"CSTRINGSTATUS",pageUrl:"PAGEURL",pversion:"PVERSION",uid:"UID",i:"I"},r=c.default.replace(n),r+="&timeElapsed=".concat(t),o=JSON.parse(window.localStorage.getItem("itemBrandLiftTags")||"[]"),a={"vidoomy-brandlift":(0,l.base64Encode)(JSON.stringify(o.filter((function(t){return!t.complete})).map((function(t){return t.id})))),"Content-Transfer-Encoding":"base64"},s="".concat(d,"/ad/get?data=").concat((0,l.base64Encode)(r)),e.abrupt("return",(0,u.requestGETXHR)(s,a,null,!0,!0));case 7:case"end":return e.stop()}}),e)})))}}},4624:function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(){o=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==r&&i.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==n(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function u(t,e,r){return e=f(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(l())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&d(i,n.prototype),i}(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)},c(t)}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var p=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.requestPOSTXHR=e.requestGETXHR=e.requestPOST=e.requestGET=void 0;var h=!window.navigator.cookieEnabled||!("cookie"in document),v=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,e,[t])).response=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,r&&a(n.prototype,r),i&&a(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(c(Error));function m(t){return p(this,void 0,void 0,o().mark((function e(){var n,r,i,a,s,u,c,l,d,f,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,r=t.url,i=t.customHeaders,a=void 0===i?{}:i,s=t.data,u=t.withCredentials,c=void 0!==u&&u,l=new Headers(a),h&&l.set("Accept-Cookie","false"),d={method:n.toUpperCase(),credentials:c?"include":"same-origin",headers:l,body:void 0},"GET"!==n&&s&&(l.has("Content-Type")||l.set("Content-Type","application/json"),d.body="string"==typeof s?s:JSON.stringify(s)),e.prev=5,e.next=8,fetch(r,d);case 8:if((f=e.sent).ok){e.next=15;break}return e.t0=Error,e.next=13,f.text();case 13:throw e.t1=e.sent,new e.t0(e.t1);case 15:if(!(p=f.headers.get("content-type"))||!p.includes("application/json")){e.next=23;break}return e.next=19,f.json();case 19:return v=e.sent,e.abrupt("return",{json:v,headers:Object.fromEntries(f.headers)});case 23:return e.next=25,f.text();case 25:return m=e.sent,e.abrupt("return",{text:m,headers:Object.fromEntries(f.headers)});case 27:e.next=36;break;case 29:if(e.prev=29,e.t2=e.catch(5),!(e.t2 instanceof Error)){e.next=35;break}throw new Error("Fetch error: ".concat(e.t2.message));case 35:throw new Error("Fetch error: An unknown error occurred");case 36:case"end":return e.stop()}}),e,null,[[5,29]])})))}function g(t){return p(this,void 0,void 0,o().mark((function e(){var n,i,a,s,u,c,l,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.method,i=t.url,a=t.customHeaders,s=t.data,u=t.async,c=void 0===u||u,l=t.withCredentials,d=void 0!==l&&l,f=t.timeout,p=void 0===f?0:f,e.abrupt("return",new Promise((function(t,e){var o=new XMLHttpRequest;o.open(n.toUpperCase(),i,c),o.withCredentials=d,c&&(o.timeout=p),h&&o.setRequestHeader("Accept-Cookie","false"),"GET"!==n&&s&&o.setRequestHeader("Content-Type","application/json"),a&&Object.entries(a).forEach((function(t){var e=r(t,2),n=e[0],i=e[1];o.setRequestHeader(n,i)}));var u="GET"!==n&&s?(null==a?void 0:a["Content-Transfer-Encoding"])?s:JSON.stringify(s):null,l=function(){var t=o.getAllResponseHeaders().split("\r\n").reduce((function(t,e){var n=e.split(": "),i=r(n,2),o=i[0],a=i[1];return o&&a&&(t[o.trim()]=a.trim()),t}),{}),e=null;try{e=JSON.parse(o.responseText)}catch(t){}return{status:o.status,data:e||o.responseText||null,headers:t}};o.onload=function(){o.status>=400?e(new v("HTTP ".concat(o.status,": ").concat(o.statusText),l())):t(l())},o.onerror=function(){e(new v("HTTP ".concat(o.status,":").concat(o.statusText),l()))},o.ontimeout=function(){e(new v("Timeout ".concat(o.status,": ").concat(o.statusText),l()))},o.send(u)})));case 2:case"end":return e.stop()}}),e)})))}e.requestGET=function(t,e,n){return p(void 0,void 0,void 0,o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m({method:"GET",url:t,customHeaders:e,withCredentials:n});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))};e.requestPOST=function(t,e,n,r){return p(void 0,void 0,void 0,o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",m({method:"POST",url:t,customHeaders:e,data:n,withCredentials:r}));case 1:case"end":return i.stop()}}),i)})))};e.requestGETXHR=function(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return p(void 0,[t,e,n].concat(i),void 0,(function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return o().mark((function s(){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",g({method:"GET",url:t,customHeaders:e,data:n,async:r,withCredentials:i,timeout:a}));case 1:case"end":return o.stop()}}),s)}))()}))};e.requestPOSTXHR=function(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return p(void 0,[t,e,n].concat(i),void 0,(function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return o().mark((function s(){return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",g({method:"POST",url:t,customHeaders:e,data:n,async:r,withCredentials:i,timeout:a}));case 1:case"end":return o.stop()}}),s)}))()}))}},7537:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5911),s=n(4624),u=a.envVars.CONTEXTUAL_SERVICE_BASE_URL;e.default={postHtmlContents:function(t){return o(this,void 0,void 0,i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(u,"/html/contents"),e.abrupt("return",(0,s.requestPOSTXHR)(n,{},t,!0,!0));case 2:case"end":return e.stop()}}),e)})))}}},7338:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var a=n(4624);e.default={getTag:function(t,e){return o(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.requestGETXHR)(t,void 0,null,!0,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))}}},4256:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5911),u=n(4624),c=n(7136),l=a(n(9504)),d=s.envVars.AD_SERVER_BASE_URL;e.default={getTimeAlive:function(t,e){return o(this,void 0,void 0,i().mark((function n(){var r,o,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={zoneId:"ZONEID",pageUrl:"PAGEURL"},(o=new URLSearchParams(l.default.replace(r))).set("timeAlive",t),o.set("lastReportedTimeAlive",e),(a=new URL("".concat(d,"/timealive"))).searchParams.set("data",(0,c.base64Encode)(o.toString())),s={"Content-Transfer-Encoding":"base64"},n.next=9,(0,u.requestGETXHR)(a.toString(),s,null,!0,!0);case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),n)})))}}},203:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(4624),u=n(7136),c=n(5911),l=a(n(9504));e.default={postTrackingEvent:function(t){return o(this,void 0,void 0,i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.createEncodedUrl)(t),r={"Content-Transfer-Encoding":"base64"},e.abrupt("return",(0,s.requestPOSTXHR)(n,r,null,!0,!0));case 3:case"end":return e.stop()}}),e)})))},postTrackingTag:function(t,e){var n=(0,u.base64Encode)(JSON.stringify(t)),r=l.default.replace({domain:"DOMAIN",format:"FORMAT",u:"UNIQUE",zoneId:"ZONEID",pversion:"PVERSION",uid:"UID"}),i=(0,u.createEncodedUrl)("".concat(c.envVars.AD_SERVER_BASE_URL,"/tracking/tag?").concat(r));return(0,s.requestPOSTXHR)(i,{"Content-Transfer-Encoding":"base64"},n,e,!0)}}},6120:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextualAPI=e.TimeAliveAPI=e.TagAPI=e.TrackingAPI=e.AdsAPI=void 0;var i=r(n(4596));e.AdsAPI=i.default;var o=r(n(203));e.TrackingAPI=o.default;var a=r(n(7338));e.TagAPI=a.default;var s=r(n(4256));e.TimeAliveAPI=s.default;var u=r(n(7537));e.ContextualAPI=u.default},2753:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var a=n(7136),s=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.style=this.buildStyle(),this.slot=n?this.createIframe(e):this.createAdSlot(e)},(e=[{key:"updateAdSlotSize",value:function(t){t&&(this.slot.style.width="".concat(t[0],"px"),this.slot.style.height="".concat(t[1],"px"))}},{key:"buildStyle",value:function(){return{maxWidth:"100%",maxHeight:"100%",position:"relative",zIndex:"150",backgroundColor:"#000"}}},{key:"createAdSlot",value:function(t){var e=document.createElement("div");return e.id=t.toString(),e.style.cssText=(0,a.objectToCssStyle)(this.style),e}},{key:"createIframe",value:function(t){var e=document.createElement("iframe");return e.scrolling="no",e.frameBorder="0",e.marginWidth="0",e.marginHeight="0",e.name="prebid_ads_iframe_".concat(t),e.sandbox.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),e.setAttribute("aria-label","Advertisement"),e.style.border="0",e.style.margin="0",e.style.overflow="hidden",e.style.position="absolute",e.style.width="100%",e.style.height="100%",e}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=s},3929:function(t,e,n){"use strict";var r=n(893),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.refs;return r("div",{ref:e.container,class:"vpaid-adapter ".concat(o.default.vpaidAdapter),style:"width: 100%; height: 100%; max-width: 100%;"},r("div",{ref:e.wrapper,style:"width: 100%; height: 100%; margin: 0 auto; position: relative;"},e.video.value,r("div",{ref:e.displayContainer,style:"position: absolute;"})))};var o=i(n(470))},9876:function(t,e,n){"use strict";var r=n(893);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.refs,n=t.onPlayChange,o=t.onVolumeChange,a=t.onMuteButtonClick,c=t.controls;function l(){var t,n,r,o=null===(n=e.video)||void 0===n?void 0:n.value.paused,a=null===(r=e.playBtn)||void 0===r?void 0:r.value;null==a||(t=a.classList).remove.apply(t,i(u.default.iconPlay.split(" ")).concat(i(u.default.iconPause.split(" ")))),null==a||a.classList.add(o?u.default.iconPlay:u.default.iconPause)}function d(){var t,n,r=null===(t=e.mutedBtn)||void 0===t?void 0:t.value,i=null===(n=e.video)||void 0===n?void 0:n.value;r&&i&&(r.classList.remove(u.default.iconMute,u.default.iconSpeaker),r.classList.add(i.muted||i.volume<=0?u.default.iconMute:u.default.iconSpeaker))}function f(t){var n,r=function(e){var n=1-e/t.offsetHeight;return n<.06&&(n=0),Math.max(0,Math.min(1,n))},i=function(t){(0,s.isEventTrusted)(t)&&e.video&&(e.video.value.muted=!1,e.video.value.volume=r(t.offsetY))};t.addEventListener("drag",(function(t){return t.preventDefault()})),t.addEventListener("mousedown",(function(n){var o,a;n.preventDefault(),n.stopPropagation(),t.classList.add(u.default.lock);var s=null===(o=e.video)||void 0===o?void 0:o.value;if(s){s.volume=r(n.offsetY),t.addEventListener("mousemove",i);var c=function(){var e;t.removeEventListener("mousemove",i),t.classList.remove(u.default.lock),null===(e=null===window||void 0===window?void 0:window.top)||void 0===e||e.removeEventListener("mouseup",c)};null===(a=null===window||void 0===window?void 0:window.top)||void 0===a||a.addEventListener("mouseup",c)}}));var o=null===(n=e.video)||void 0===n?void 0:n.value;o&&(o.addEventListener("volumechange",p),o.addEventListener("play",l),o.addEventListener("pause",l))}function p(t){var n;if((0,s.isEventTrusted)(t)){var r=null===(n=e.volumeDot)||void 0===n?void 0:n.value;if(r){var i=t.target.muted?0:t.target.volume;r.style.transform="translateY(-".concat(55*i,"px)"),d(),o(i)}}}return r("div",{style:function(t){return Object.keys(t).map((function(e){return t[e]})).filter((function(t){return t})).length}(c)?"display: block;":"display: none;"},r("div",{class:"".concat(u.default.playerBtn," ").concat(u.default.volumeContainer," ").concat(c.volume?"":u.default.hide)},r("div",{ref:f,class:u.default.volume},r("div",{ref:e.volumeDot,class:u.default.volumeDot})),r("div",{ref:e.mutedBtn,class:"".concat(u.default.icon," ").concat(u.default.iconCenter," ").concat(u.default.iconMute),onClick:function(t){var n;if((0,s.isEventTrusted)(t)){null==a||a();var r=t.target;if(r){var i=r.parentElement;i&&i.setAttribute("data-unmuted","true")}var o=null===(n=e.video)||void 0===n?void 0:n.value;o&&(!(o.muted=!(o.muted||!(o.volume>0)))&&o.volume<.08?o.volume=.2:o.volume=0),d()}}})),r("div",{class:"".concat(u.default.playerBtn," ").concat(u.default.playPauseBtn),"data-hidden":"true",ref:e.playBtnWrapper},c.volume?"":r("div",{ref:f,class:u.default.volume},r("div",{ref:e.volumeDot,class:u.default.volumeDot})),r("div",{ref:e.playBtn,class:"".concat(u.default.icon," ").concat(u.default.iconCenter," ").concat(u.default.iconPause),onClick:function(t){var r;if((0,s.isEventTrusted)(t)){var i=null===(r=e.video)||void 0===r?void 0:r.value;i&&!i.paused?(i.pause(),n(t,!1)):i&&(i.play(),n(t,!0))}}})))};var s=n(1688),u=a(n(4971))},9354:function(t,e,n){"use strict";var r=n(893),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.slot,n=t.width,i=t.height,u=t.refs,c=t.controls,l=t.animationDuration,d=void 0===l?0:l,f=t.onWindowResize,p=t.onVolumeChange,h=t.onPlayChange,v=t.onMuteButtonClick,m=t.onPlayerSizeChange,g=n/i,y=function(){var t=(e.getBoundingClientRect().width||n)/g,r=g*t;return r>n&&(r=n),t>i&&(t=i),{width:r,height:t}},b=y();return(0,s.useListeners)((function(){var t=y();u.container.value.style.height="".concat(t.height,"px"),u.container.value.style.width="".concat(t.width,"px"),u.wrapper.value.style.height="".concat(t.height,"px"),u.wrapper.value.style.width="".concat(t.width,"px"),m(t)}),[f]),r("div",{ref:u.container,class:"".concat(a.default.inText),style:"width: ".concat(b.width,"px; height: ").concat(b.height,"px; transition: height ").concat(d,"ms ease-in-out;")},r("div",{ref:u.wrapper,style:"width: ".concat(b.width,"px; height: ").concat(b.height,"px; margin: 0 auto; position: relative;")},u.video.value||r("video",{ref:u.video,autoplay:!0,muted:!0,playsinline:!0,width:n,height:i}),r(o.default,{controls:c,refs:u,onPlayChange:h,onVolumeChange:p,onMuteButtonClick:v}),r("div",{ref:u.displayContainer})))};var o=i(n(9876)),a=i(n(2025)),s=n(7136)},6401:function(t,e,n){"use strict";var r=n(893),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.refs,n=t.controls,i=t.width,d=t.height,f=t.appearAt,p=t.margin,h=void 0===p?"unset":p,v=t.bottom,m=t.zIndex,g=t.animationDuration,y=void 0===g?0:g,b=t.closeText,w=t.showCloseBtnAfter,E=t.ampSite,A=t.onClose,T=t.onVolumeChange,S=t.onPlayChange,k=t.onWindowResize,x=t.onOrientationChange,_=t.onMuteButtonClick,C=t.onPlayerSizeChange,P=f.x,O=f.y,I=i/d,L=(0,s.useRef)(null),j=null,M=function(t){var e=(0,a.checkIsMobile)(),n=i,r=d;return t?(n=t[0],r=t[1]):E||(r=(n=e||i/window.innerWidth>.6?.6*window.innerWidth:i)/I),{width:n+=10,height:r+=10}},R=M(),N=function(t){var n,r=null===(n=e.container)||void 0===n?void 0:n.value,i=L.current;if(r){var o=M(t);r.style.width="".concat(o.width,"px"),r.style.height="".concat(o.height,"px"),v>=0&&(r.style.bottom="".concat(v,"px")),i&&("left"===P?(i.style.left="-1px",i.style.right="auto"):(i.style.right="-1px",i.style.left="auto")),C(o)}};e.onShow.value=function(t){t&&(j=t),N(t)},e.onImpression.value=function(){c.default.setTimeout(l.ETimeout.SliderCloseButtonTimeout,(function(){var t;null===(t=L.current)||void 0===t||t.classList.remove(o.default.closerHidden)}),1e3*w)},(0,s.useListeners)((function(){N(j)}),[k,x]);return r("div",{ref:e.container,class:"".concat(o.default.slider," ").concat(o.default[P]," ").concat(o.default[O]),style:"z-index: ".concat(m,"; width: ").concat(R.width,"px; height: ").concat(R.height,"px; margin: ").concat(h,"; transition: right ").concat(y,"ms ease-in-out, left ").concat(y,"ms ease-in-out, transform ").concat(y,"ms ease-in-out;")},b&&r((function(t){var e=t.closeText,n=t.showAfter;return r("div",{ref:function(t){L.current=t},class:"".concat(o.default.closer," ").concat(n>0?o.default.closerHidden:""),onClick:A},"".concat(e))}),{closeText:b,showAfter:w}),r("div",{ref:e.wrapper,class:"".concat(o.default.wrapper),style:"width:100%; height: 100%;"},e.video.value||r("video",{ref:e.video,autoplay:!0,muted:!0,playsinline:!0,width:i,height:d}),r(u.default,{controls:n,refs:e,onPlayChange:S,onVolumeChange:T,onMuteButtonClick:_}),r("div",{ref:e.displayContainer}),r("div",{ref:e.adSlotContainer})))};var o=i(n(4604)),a=n(9747),s=n(1221),u=i(n(9876)),c=i(n(52)),l=n(3371)},6593:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ref=void 0;var d=n(962),f=l(n(6401)),p=l(n(9354)),h=l(n(3929)),v=l(n(4604)),m=l(n(2025)),g=n(1688),y=l(n(9504)),b=n(6023),w=n(7136),E=n(586),A=n(9911),T=l(n(52)),S=n(3371),k=n(6520);e.ref=function(t){return{value:t||null}};var x=function(){return t=function t(n,a,s,u,c,l,A,x,_){var C=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=1,this.initializeComponents=function(t,e,n){var r=function(e){(0,g.isEventTrusted)(e)&&t()},i=function(t){C.state.isTestMode||C.state.userClickedMuteBtn?(y.default&&y.default.set("volume","".concat(t)),e(t)):e(0)},o=function(){C.state.userClickedMuteBtn=!0},a=function(t){t&&C.top.window.addEventListener("resize",t)},s=function(t){t&&C.top.window.addEventListener("orientationchange",t)},u=function(t){if(t){var e=t.width,n=t.height;C.htmlConfig.type===E.EPlayerType.Slider&&(e-=10,n-=10),t.width=e,t.height=n,y.default.set("width",t.width.toFixed()),y.default.set("height",t.height.toFixed())}};C.components={slider:function(t){return(0,f.default)({refs:C.refs,slot:t,width:C.htmlConfig.width,height:C.htmlConfig.height,controls:C.controls,appearAt:C.appearAt,margin:C.margin,bottom:C.htmlConfig.bottom,zIndex:C.htmlConfig.zIndex,animationDuration:C.state.animationDuration,onClose:r,closeText:C.htmlConfig.closeText,showCloseBtnAfter:C.htmlConfig.showCloseBtnAfter,ampSite:C.htmlConfig.ampSite,onWindowResize:a,onOrientationChange:s,onVolumeChange:i,onMuteButtonClick:o,onPlayChange:n,onPlayerSizeChange:u})},intext:function(t){return(0,p.default)({refs:C.refs,slot:t,width:C.htmlConfig.width,height:C.htmlConfig.height,controls:C.controls,animationDuration:C.state.animationDuration,onWindowResize:a,onVolumeChange:i,onMuteButtonClick:o,onPlayChange:n,onPlayerSizeChange:u})},adapter:function(){return(0,h.default)({refs:C.refs,width:C.htmlConfig.width,height:C.htmlConfig.height,thirdPartyPlayerVideo:C.adapterVideoElement})}}},this.render=function(){var t,e;C.state.userClickedMuteBtn=!1;var n=C.htmlConfig.type.toLowerCase(),r=n&&C.components[n];r&&(C.refs.video.value=C.createVideo(),C.element=r(C.slot),null===(t=C.element)||void 0===t||t.setAttribute(b.dataVideoId,(0,d.v4)()),C.element&&C.slot&&C.slot.appendChild(C.element));var i=null===(e=C.refs.wrapper.value)||void 0===e?void 0:e.getBoundingClientRect();i&&(y.default.set("width",parseInt(i.width.toFixed())),y.default.set("height",parseInt(i.height.toFixed())))},this.insertAdSlot=function(t){var e=C.refs.adSlotContainer.value;e&&t&&e.append(t)},this.onShow=function(t){if(!C.state.flag.end){if("undefined"!=typeof IntersectionObserver){var e=new IntersectionObserver((function(n){var r=o(n,1)[0];C.htmlConfig.type===E.EPlayerType.Slider?t&&(t(C.state.sizes),e.disconnect()):r&&r.isIntersecting&&t&&(t(C.state.sizes),e.disconnect())}));e.observe(C.slot)}else T.default.setTimeout(S.ETimeout.DomShowTimeout,(function(){t&&t(C.state.sizes)}),600);C.htmlConfig.type===E.EPlayerType.InText&&C.config.dataConfig.pauseAdIfNotInView&&"undefined"!=typeof IntersectionObserver&&new IntersectionObserver((function(t){t.forEach((function(t){var e,n,r,i,o,a;t.isIntersecting?(C.state.isPlayerVisible=!0,null===(r=null===(n=null===(e=C.adsManager)||void 0===e?void 0:e.adUnit)||void 0===n?void 0:n.resume)||void 0===r||r.call(n)):(C.state.isPlayerVisible=!1,null===(a=null===(o=null===(i=C.adsManager)||void 0===i?void 0:i.adUnit)||void 0===o?void 0:o.pause)||void 0===a||a.call(o))}))}),{threshold:.5}).observe(C.slot)}},this.setScale=function(t,e){if(C.config.htmlConfig.scalePrebidTags){C.scale=e;var n=t[0]+b.extraMargin,r=t[1]+b.extraMargin,i=1-e,o=C.margin.split(" "),a=o[0]?parseInt(o[0].replace("px","")):0,s=o[1]?parseInt(o[1].replace("px","")):0,u=o[2]?parseInt(o[2].replace("px","")):0,c=o[3]?parseInt(o[3].replace("px","")):0;switch(C.refs.container.value.style.transform="scale(".concat(e,")"),C.appearAt.x){case"right":C.refs.container.value.style.marginRight=e<1?"".concat(s+-n*i/2,"px"):s||"unset";break;case"left":C.refs.container.value.style.marginLeft=e<1?"".concat(c+-n*i/2,"px"):c||"unset"}switch(C.appearAt.y){case"top":C.refs.container.value.style.marginTop=e<1?"".concat(a+-r*i/2,"px"):a||"unset";break;case"bottom":C.refs.container.value.style.marginBottom=e<1?"".concat(u+-r*i/2,"px"):u||"unset"}}},this.onImpression=function(){"function"==typeof C.refs.onImpression.value&&C.refs.onImpression.value()},this.remove=function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=C.refs.container.value,r=n?n.getAttribute(b.dataVideoId):null;r&&C.state.idsToRemove.push(r),e?T.default.setTimeout(S.ETimeout.DomRemoveContainerTimeout,(function(){C.state.idsToRemove.forEach((function(t){var e=C.slot.querySelector("[".concat(b.dataVideoId,'="').concat(t,'"]'));e&&(i(e.querySelectorAll("video")).forEach((function(t){t.pause(),t.src="",t.removeAttribute("src"),t.load()})),e.remove())})),C.state.idsToRemove=C.state.idsToRemove.filter((function(t){return t!==r}))}),C.state.animationDuration+3e3):null===(t=C.element)||void 0===t||t.remove()},this.hide=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=C.refs.container.value;n&&(e&&n.remove(),n.classList.remove(C.styles.appear,C.styles.loaded)),t&&(C.remove(),C.cleanup())},this.prepare=function(t){if(C.refs.container.value){var e=C.refs.container.value;e.classList.add(C.styles.loaded),t?e.classList.add(C.styles.vpaid):e.classList.remove(C.styles.vpaid)}},this.show=function(t){if(!C.state.flag.end){C.state.sizes=t||[C.htmlConfig.width,C.htmlConfig.height],"function"==typeof C.refs.onShow.value&&C.refs.onShow.value(t);var e=C.refs.container.value;if(e&&e.classList.add(C.styles.appear),C.config.htmlConfig.ampSite){var n=e.getBoundingClientRect(),r=n.width,i=n.height;C.htmlConfig.type===E.EPlayerType.Slider&&(r+=25,i+=C.htmlConfig.bottom+25),(0,k.postMessageOnShow)({adWidth:C.state.sizes[0],adHeight:C.state.sizes[1],containerWidth:r,containerHeight:i})}}},this.showPlayButton=function(){var t=C.refs.playBtnWrapper.value;Boolean(null==t?void 0:t.getAttribute(b.dataHidden))&&C.htmlConfig.controls.playPause&&t.setAttribute(b.dataHidden,"false")},this.end=function(){C.state.flag.end=!0,C.hide(),C.cleanup()},this.createVideo=function(){var t=document.createElement("video");return t.setAttribute("ref","".concat(C.refs.video.value&&C.refs.video.value)),t.setAttribute("autoplay",""),t.setAttribute("muted",""),t.setAttribute("playsinline",""),t.setAttribute("width","".concat(C.htmlConfig.width)),t.setAttribute("height","".concat(C.htmlConfig.height)),C.adapterVideoElement||t},this.cleanup=function(){T.default.clearTimeout(S.ETimeout.DomRemoveContainerTimeout),T.default.clearTimeout(S.ETimeout.DomShowTimeout)};var P=u.htmlConfig;this.config=u,this.adManager=null,this.top=n,this.slot=P.type===E.EPlayerType.Slider?this.top.window.document.body:a,this.adapterVideoElement=s,this.htmlConfig=P,this.state={isTestMode:_,isPlayerVisible:!1,userClickedMuteBtn:!1,flag:{end:!1},animationDuration:600,idsToRemove:[],sizes:[this.htmlConfig.width,this.htmlConfig.height]},this.appearAt=(0,w.getAppearAt)(this.htmlConfig.appearAt),this.margin=P.margin,this.refs={wrapper:(0,e.ref)(),displayContainer:(0,e.ref)(),video:(0,e.ref)(),container:(0,e.ref)(),playBtn:(0,e.ref)(),playBtnWrapper:(0,e.ref)(),volumeDot:(0,e.ref)(),mutedBtn:(0,e.ref)(),onShow:(0,e.ref)(),onImpression:(0,e.ref)(),adSlotContainer:(0,e.ref)()},this.components={},this.element=null,P.type===E.EPlayerType.Slider?this.styles=v.default:this.styles=m.default,this.controls="object"!==r(P.controls)?{playPause:!1,volume:!1}:P.controls,this.initializeComponents(c,A,l),this.render()},(n=[{key:"getAdSize",value:function(t){var e,n={width:0,height:0};switch(t._meta.adapter){case A.EAdAdapterEnum.MOL:var r=null===(e=this.refs.wrapper.value)||void 0===e?void 0:e.getBoundingClientRect();if(!r)return null;n.width=r.width,n.height=r.height;break;case A.EAdAdapterEnum.GPT:n.width=t._meta.currentWidth,n.height=t._meta.currentHeight;break;case A.EAdAdapterEnum.DirectDisplay:var i=t;n.width=i.width,n.height=i.height;break;case A.EAdAdapterEnum.Prebid:n.width=t._meta.currentWidth*this.scale,n.height=t._meta.currentHeight*this.scale}return{width:Number(n.width.toFixed()),height:Number(n.height.toFixed())}}},{key:"adsManager",get:function(){return this.adManager},set:function(t){this.adManager=t}}])&&u(t.prototype,n),a&&u(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();e.default=x},9042:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.setupConfig=e.resolveConfig=e.defaultConfig=void 0;var i=n(7136),o=n(586);e.defaultConfig={volume:0,test:[],demo:{},autoloader:!0,logger:!0,loggerPrefix:"[VP]",htmlConfig:{type:o.EPlayerType.Slider,slot:"",width:400,height:225,widthMbl:224,heightMbl:126,controls:{playPause:!1,volume:!1},closeText:"CLOSE AD",closeTextMbl:"CLOSE AD",showCloseBtnAfter:0,showCloseBtnAfterMbl:0,bottom:10,margin:"0px 0px 0px 0px",marginMbl:"0px 0px 0px 0px",appearAt:"bottom right",appearAtMbl:"bottom right",zIndex:"2147483647",spaSite:!1,ampSite:!1,scalePrebidTags:!1,hideFrom:""},dataConfig:{siteId:"16962",zoneId:0,zoneIdMbl:0,pid:0,logTime:5e3,passback:null,passbackMbl:null,passbackEncoded:!1,beginCallFiveSecondsToEnd:!0,consentStringTimeout:1e3,allowedEvents:[],placeholdersReplace:{},adTimeOut:1e4,loop:0,maxServerCalls:999,adVerification:!0,onImpression:"",pauseAdIfNotInView:!1,playerHandleWrappers:!1,includeRequestCredentials:!0,collectHTML:!1,abtesting:"",prebidOnGPT:!1,usePrebidTags:!1,gdprRequired:!1,tracking:!0,prebidConsentRequired:!0,delayPlayerLoad:0},pixels:[]};var a=function(t){for(var e in t){var n=e;"object"!==r(t[n])||null===t[n]||Array.isArray(t[n])?Array.isArray(t[n])&&t[n].length?t[n]=t[n].map((function(t){return a(t)})):["undefined","null"].includes(t[n])&&(t[n]=void 0):t[n]=a(t[n])}return t};e.resolveConfig=function(t){var n=a(t);return Object.assign(Object.assign(Object.assign({},e.defaultConfig),n),{htmlConfig:Object.assign(Object.assign({},e.defaultConfig.htmlConfig),n.htmlConfig),dataConfig:Object.assign(Object.assign({},e.defaultConfig.dataConfig),n.dataConfig)})};e.setupConfig=function(t,n,r){var a=r.logger,s=r.isMobile;try{var u=(0,e.resolveConfig)(t);!function(t,e){if(!e)throw new Error('"top" window reference is required');if(!Object.values(o.EPlayerType).includes(t.htmlConfig.type))throw new Error('"htmlConfig.type" can be one of: '.concat(Object.values(o.EPlayerType).join(", ")));if(t.htmlConfig.type===o.EPlayerType.InText&&!t.htmlConfig.slot)throw new Error('"htmlConfig.slot" is required for "intext" player type');if(!t.dataConfig.pid)throw new Error('"dataConfig.pid" is required');if(!t.dataConfig.zoneId&&!t.dataConfig.zoneIdMbl)throw new Error('At least one zone (device) is required: "dataConfig.zoneId" or "dataConfig.zoneIdMbl"')}(u,n),function(t,e){if(e&&!t.dataConfig.zoneIdMbl)throw new Error('"dataConfig.zoneIdMbl" is required for mobile devices');if(!e&&!t.dataConfig.zoneId)throw new Error('"dataConfig.zoneId" is required for desktop devices')}(u,s);var c=(0,i.deepFreeze)(function(t,e){return Object.assign(Object.assign({},t),{htmlConfig:Object.assign(Object.assign({},t.htmlConfig),{width:e?t.htmlConfig.widthMbl:t.htmlConfig.width,height:e?t.htmlConfig.heightMbl:t.htmlConfig.height,closeText:e?t.htmlConfig.closeTextMbl:t.htmlConfig.closeText,showCloseBtnAfter:e?t.htmlConfig.showCloseBtnAfterMbl:t.htmlConfig.showCloseBtnAfter,margin:e?t.htmlConfig.marginMbl:t.htmlConfig.margin,appearAt:e?t.htmlConfig.appearAtMbl:t.htmlConfig.appearAt}),dataConfig:Object.assign(Object.assign({},t.dataConfig),{zoneId:e?t.dataConfig.zoneIdMbl:t.dataConfig.zoneId,passback:e?t.dataConfig.passbackMbl:t.dataConfig.passback})})}(u,s));return c}catch(t){return t instanceof Error?a.error(t):a.error(new Error(String(t))),null}}},5801:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={firstImpression:{name:"vido_first_impression",expiresIn:864e5,set:!1}}},9911:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EAdAdapterEnum=void 0,function(t){t.MOL="mol",t.IMA="ima",t.GPT="gpt",t.DirectDisplay="dd",t.Prebid="prebid"}(n||(e.EAdAdapterEnum=n={}))},1863:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ESdkName=void 0,function(t){t.IMA="imasdk",t.MOL="vidoplayer"}(n||(e.ESdkName=n={}))},8017:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.ERegisterSession=e.EAdSessionProperties=void 0,function(t){t.CREATIVE_TYPE="video",t.IMPRESSION_TYPE="beginToRender",t.SESSION_ERROR_MSG="Verification not supported"}(n||(e.EAdSessionProperties=n={})),function(t){t.SESSION_START="sessionStart",t.SESSION_ERROR="sessionError",t.SESSION_FINISH="sessionFinish",t.REGISTER_ERROR_MSG="Error while starting session"}(r||(e.ERegisterSession=r={}))},6023:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extraMargin=e.dataVideoId=e.dataHidden=void 0,e.dataHidden="data-hidden",e.dataVideoId="data-video-id",e.extraMargin=10},6251:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.itemBrandLiftTags=void 0,e.itemBrandLiftTags="vidoomy-brand-lift-tags"},8423:(t,e)=>{"use strict";var n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.ELinearEvents=e.ENonLinearEvents=e.ECustomEvents=void 0,function(t){t.PlayerLoad="PlayerLoad",t.AdFormatLoad="AdFormatLoad",t.AdTagRequest="AdTagRequest",t.AdTagAttempt="AdTagAttempt",t.AdViewableImpression="AdViewableImpression",t.WaterfallComplete="WaterfallComplete",t.AdVpaidImpression="AdVpaidImpression",t.AdVpaidAttempt="AdVpaidAttempt",t.AdReceivedVastResponse="AdReceivedVastResponse",t.AdReceivedVpaidResponse="AdReceivedVpaidResponse",t.BidResponses="BidResponses",t.AdClose="AdClose"}(n||(e.ECustomEvents=n={})),function(t){t.CreativeView="creativeView",t.Close="AdUserClose"}(r||(e.ENonLinearEvents=r={})),function(t){t.AdLoaded="AdLoaded",t.AdVideoStart="AdVideoStart",t.AdVolumeChange="AdVolumeChange",t.AdSizeChange="AdSizeChange",t.AdPlaying="AdPlaying",t.AdExpanded="AdExpanded",t.AdClickThru="AdClickThru",t.AdError="AdError",t.AdImpression="AdImpression",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdVideoComplete="AdVideoComplete",t.AdVideoMuted="AdVideoMuted",t.AdVideoUnmuted="AdVideoUnmuted",t.AdInteraction="AdInteraction",t.AdPaused="AdPaused",t.AdResumed="AdResumed",t.AdSkipped="AdSkipped",t.AdStarted="AdStarted",t.CloseLinear="closeLinear"}(i||(e.ELinearEvents=i={}))},586:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EPlayerType=void 0,function(t){t.Slider="slider",t.InText="intext",t.Adapter="adapter"}(n||(e.EPlayerType=n={}))},8492:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EPrebidMediaType=void 0,function(t){t.Banner="banner",t.Video="video"}(n||(e.EPrebidMediaType=n={}))},9843:(t,e)=>{"use strict";var n,r,i,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.ETagResponseType=e.EAdType=e.EAdStatus=e.ETagPriority=e.ETagState=void 0,function(t){t[t.Unprocessed=0]="Unprocessed",t[t.Processing=1]="Processing",t[t.Ready=2]="Ready",t[t.Failed=3]="Failed"}(n||(e.ETagState=n={})),function(t){t[t.Principal=0]="Principal",t[t.DirectDisplay=1]="DirectDisplay",t[t.Gpt=2]="Gpt",t[t.Prebid=3]="Prebid",t[t.Unknown=4]="Unknown"}(r||(e.ETagPriority=r={})),function(t){t.AdImpression="AdImpression",t.AdError="AdError",t.AdTimeout="AdTimeout"}(i||(e.EAdStatus=i={})),function(t){t.vast="vast",t.vpaid="vpaid",t.gpt="gpt",t.display="display",t.prebid="prebid"}(o||(e.EAdType=o={})),function(t){t.success="success",t.error="error",t.empty="empty"}(a||(e.ETagResponseType=a={}))},3371:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ETimeout=void 0,function(t){t.AdManagerDestroyTimeout="adManagerDestroyTimeout",t.VpaidAdTimeout="vpaidAdTimeout",t.AdCloseTimeout="adCloseTimeout",t.DirectDisplayAnimationWaitTimeout="directDisplayAnimationWaitTimeout",t.DirectDisplayDurationTimeout="directDisplayDurationTimeout",t.PrebidOnGptConfigTimeout="prebidOnGptConfigTimeout",t.GptAnimationTimeout="gptAnimationTimeout",t.GptDurationTimeout="gptDurationTimeout",t.PrebidConfigTimeout="prebidConfigTimeout",t.PrebidAnimationWaitTimeout="prebidAnimationWaitTimeout",t.PrebidBannerDurationTimeout="prebidBannerDurationTimeout",t.DomRemoveContainerTimeout="domRemoveContainerTimeout",t.DomShowTimeout="domShowTimeout",t.SliderCloseButtonTimeout="sliderCloseButtonTimeout",t.ViewableTimeout="viewableTimeout",t.TcfapiCmpTimeout="tcfapiCmpTimeout",t.DelayBatchTimeout="delayBatchTimeout"}(n||(e.ETimeout=n={}))},1390:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.EViewabilityEnum=void 0,function(t){t.UNMEASURABLE="UNMEASURABLE",t.INTERSECTIONOBSERVER="INTERSECTIONOBSERVER"}(n||(e.EViewabilityEnum=n={}))},2031:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(962),l=n(2264),d=n(1107),f=u(n(6593)),p=n(9747),h=u(n(149)),v=n(9042),m=n(5911),g=u(n(5801)),y=n(927),b=n(7136),w=n(7198),E=n(6008),A=n(5709),T=n(78),S=n(6163),k=u(n(2690)),x=u(n(426)),_=u(n(8330)),C=u(n(4588)),P=n(6120),O=u(n(2794)),I=u(n(1856)),L=u(n(9504)),j=n(9911),M=u(n(91)),R=n(8423),N=n(3987),D=u(n(6242)),U=n(586),V=n(3887),F=u(n(52)),B=u(n(6022)),q=n(6520),z=function(){return t=function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.flag={},this.isDemoMode=!1,this.isTrackingEnabled=!0,this.id=(0,c.v4)(),this.isMobile=(0,p.checkIsMobile)(),this.logger=new k.default({environment:m.envVars.NODE_ENV,prefix:e.loggerPrefix,enabled:e.logger}),this.config=(0,v.setupConfig)(e,n,{logger:this.logger,isMobile:this.isMobile}),this.config){if(this.hasTopAccess=(0,b.hasTopWindowAccess)(),this.top=(0,b.getTopWindowReference)(),this.initialized={counter:0,status:!1},this.videoEl=i,this.config.autoloader){this.autoloader=new x.default({interval:250,limit:60,callback:function(){!1===r.initialized.status?r.init():r.autoloader.stop()}});var o=this.config.dataConfig.delayPlayerLoad;o&&o>0?(this.logger.log("delaying player load for ".concat(o,"ms")),setTimeout((function(){r.autoloader.start()}),o)):this.autoloader.start()}this.config.htmlConfig.spaSite&&(0,E.useUrlListener)(this.top.window,(function(){r.end("Change in SPA URL"),r.autoloader.stop(),r.autoloader.start()}),{logger:this.logger})}},e=[{key:"init",value:function(){return s(this,void 0,void 0,i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.config){t.next=2;break}return t.abrupt("return");case 2:if(this.initialized.counter+=1,this.logger.log("======= Initialize (".concat(this.initialized.counter,") ========")),this.service={},this.viewability=new h.default,this.slot=this.getSlot(),this.slot||this.config.htmlConfig.type===U.EPlayerType.Slider){t.next=11;break}if(this.logger.warn('slot was not found, slot: "'.concat(this.config.htmlConfig.slot,'"')),this.config.htmlConfig.type!==U.EPlayerType.InText){t.next=11;break}return t.abrupt("return");case 11:this.initialized.status=!0,this.version=_.default.version,this.setMacros(),this.loop=0,this.currentLoop=0,this.impressions=[],this.sdk=l.AdsManager.ESdkName,this.nextTag=null,this.requestToOurServerNumber=0,this.totalPlayedVideoCount=0,this.cookies=g.default,this.eventHistory=new O.default,this.isTrackingEnabled&&(0,S.setupTimeAlive)(),this.eventHistory.record(R.ECustomEvents.PlayerLoad),this.flag={shouldEnd:!1,isPlayerEnded:!1,noMoreTagsToCall:!1,firstAdImpression:!1,shouldExecutePassback:!0,isUserClosed:!1},this.isDemoMode=Boolean(this.config.demo&&Object.keys(this.config.demo).length),this.isTestMode=!(!Array.isArray(this.config.test)||!this.config.test.length),this.isTrackingEnabled=!this.isDemoMode&&!this.isTestMode||this.config.dataConfig.tracking,this.playerHandlers={handleClose:function(){e.flag.shouldExecutePassback=!1,e.flag.isUserClosed=!0,e.flag.shouldEnd=!0,e.dom.hide(),e.service.tracking.trackCustomEvent(e.nextTag,R.ECustomEvents.AdClose),e.adsManager&&e.adsManager.onAdClose&&e.adsManager.onAdClose(!1),e.config.htmlConfig.ampSite&&setTimeout((function(){(0,q.postMessageAdCloseEvent)()}),e.dom.state.animationDuration)},handlePlayChange:function(t,n){var r,i;if(e.adsManager&&"VPAID"===(null===(i=null===(r=e.adsManager)||void 0===r?void 0:r.adUnit)||void 0===i?void 0:i.type)){var o=e.adsManager.adUnit.creativeAd;n?o&&o.resumeAd&&o.resumeAd():o&&o.pauseAd&&o.pauseAd()}},onVolumeChange:function(t){var n;e.adsManager&&e.adsManager.adUnit&&"VPAID"===e.adsManager.adUnit.type&&(null===(n=e.adsManager.adUnit.creativeAd)||void 0===n||n.setAdVolume(t))}},this.adsManager=null,this.dom=new f.default(this.top,this.slot,this.videoEl,this.config,this.playerHandlers.handleClose,this.playerHandlers.handlePlayChange,this.playerHandlers.onVolumeChange,this.adsManager,this.isTestMode),this.service.tracking=new C.default(this.eventHistory,{logger:this.logger,dom:this.dom},this.isTrackingEnabled),this.service.tagProvider=new M.default(this.service.tracking,this.config,this.logger),this.service.contextual=new D.default,this.config.htmlConfig.hideFrom&&this.config.htmlConfig.hideFrom.length>0&&(this.service.proximityService=new B.default(this.top,this.dom.refs.container.value,this.config.htmlConfig.hideFrom,(function(){e.end("Closed by reaching proximity of ".concat(e.config.htmlConfig.hideFrom)),e.autoloader.stop()}))),this.containerEl=this.dom.refs.container.value,this.dom.onShow((function(){e.start()})),this.config.pixels.length&&(this.service.tracking.syncPixels.addPixels(this.config.pixels),this.service.tracking.syncPixels.setTrackingEventListener(this.service.tracking.addTrackingEventListener.bind(this.service.tracking))),this.prebidAdapter=new l.PrebidAdapter(this.top,this.service.tracking,this.dom.refs.adSlotContainer.value,this.dom.show,this.dom.insertAdSlot,this.isMobile,this.config),this.gptAdapter=new l.GptAdapter(this.top,this.service.tracking,this.dom.refs.adSlotContainer.value,this.config,this.dom.show,this.isMobile);case 41:case"end":return t.stop()}}),t,this)})))}},{key:"start",value:function(){return s(this,void 0,void 0,i().mark((function t(){var e,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s(n,[].concat(e),void 0,(function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=!1,n.abrupt("return",new Promise((function(n,i){var o=0,a=setInterval((function(){if(o>=e)return i(new Error("cString: Can not be obtained after ".concat(o," tries"))),L.default.setAll({cString:"",cStringStatus:"not-found"}),clearInterval(a);o++,t.config.htmlConfig.ampSite?!1===r&&(r=!0,window.addEventListener("message",(function(t){if(t&&t.data&&"consent-data"==t.data.type&&t.data.consentString){var e=t.data.consentString;n(e),L.default.setAll({cString:e,cStringStatus:"obtained"}),clearInterval(a)}})),(0,q.postMessageSendAmpConsent)()):(0,d.getConsentString)({timeout:0}).then((function(e){n(e),t.logger.log("cString obtained:",e),L.default.setAll({cString:e,cStringStatus:"obtained"}),clearInterval(a)})).catch((function(){}))}),1e3)})));case 2:case"end":return n.stop()}}),n)}))()}))},!this.config.dataConfig.gdprRequired){t.next=11;break}return t.next=4,e().then((function(t){return n.prebidAdapter.updatePrebidConsent(t),t})).catch((function(t){return n.logger.warn(t.message),""}));case 4:if(t.sent){t.next=9;break}return this.flag.shouldExecutePassback=!1,this.end("cString is required but can not be found"),t.abrupt("return");case 9:t.next=12;break;case 11:e().then((function(t){n.prebidAdapter.updatePrebidConsent(t)})).catch((function(t){return n.logger.warn(t.message)}));case 12:return this.top.document.addEventListener("visibilitychange",(function(){var t,e,r,i,o,a,s,u,c,l;(null===(t=n.top)||void 0===t?void 0:t.document.hidden)&&(null===(r=null===(e=n.adsManager)||void 0===e?void 0:e.adUnit)||void 0===r||r.setVolume(0)),n.config.dataConfig.pauseAdIfNotInView&&((null===(i=n.top)||void 0===i?void 0:i.document.hidden)?null===(s=null===(a=null===(o=n.adsManager)||void 0===o?void 0:o.adUnit)||void 0===a?void 0:a.pause)||void 0===s||s.call(a):null===(l=null===(c=null===(u=n.adsManager)||void 0===u?void 0:u.adUnit)||void 0===c?void 0:c.resume)||void 0===l||l.call(c))})),t.next=15,this.callOurServer();case 15:case"end":return t.stop()}}),t,this)})))}},{key:"getSlot",value:function(){var t=this.config.htmlConfig.slot;return t&&"string"==typeof t?this.top.document.querySelector(t):t}},{key:"setMacros",value:function(){var t,e,n,r=this;L.default.setMacros(Object.assign({pversion:"".concat(this.version).concat(this.config.dataConfig.abtesting),cString:"",cStringStatus:"not-yet-obtained",volume:null===(t=this.config)||void 0===t?void 0:t.volume,pageurl:this.hasTopAccess?encodeURIComponent(this.top.window.location.href.split("?")[0]):encodeURIComponent((0,A.getUrlFromAncestorOrigins)()),encodedurl:function(t){return t.pageurl},width:this.config.htmlConfig.width,height:this.config.htmlConfig.height,rn:function(){return Math.floor(1e4*Math.random())},cachebuster:function(){return Math.floor(1e6*Math.random())},cb:function(t){return t.cachebuster()},gdpr:function(t){return t.cstring?"1":"0"},gdprcs:function(t){return t.cstring},gdprConsent:function(t){return t.cstring},zoneId:this.config.dataConfig.zoneId,supplySourceId:function(t){return t.zoneid},domain:function(t){return(0,A.getDomainFromUrl)(decodeURIComponent(t.pageurl))},contentDomain:function(t){return t.domain(t)},fullDomain:function(t){return(0,A.getDomainFromUrl)(decodeURIComponent(t.pageurl),{subdomain:!0})},fullContentDomain:function(t){return t.fulldomain},format:this.isMobile?2:1,useragent:encodeURIComponent(navigator.userAgent),ua:function(t){return t.useragent},schain:encodeURIComponent("1.0,1!vidoomy.com,".concat(this.config.dataConfig.pid,",1,,,")),schainc:function(t){return t.schain},siteId:this.config.dataConfig.siteId,country:"",c:function(t){return t.country},geolocation:function(t){return t.country},geo:function(t){return t.country},geocountry:function(t){return t.country},widthxheight:function(t){return[t.width,t.height].join("x")},viewabilityMethod:null===(e=this.viewability)||void 0===e?void 0:e.resolveViewabilityMethod(),loop:function(){return r.loop},unique:(0,b.generateGUUID)(),pubId:this.config.dataConfig.pid,sname:function(t){return"".concat(t.fulldomain,"_").concat(t.supplySourceId(t))},ip:"",language:this.top.window.navigator.language,i:function(){return r.hasTopAccess?String(r.top.window.document.hidden):""}},(null===(n=this.config)||void 0===n?void 0:n.dataConfig.placeholdersReplace)||{}))}},{key:"callOurServer",value:function(){return s(this,void 0,void 0,i().mark((function t(){var e,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestAds();case 2:if(e=t.sent){t.next=5;break}return t.abrupt("return");case 5:return(n=(null==e?void 0:e.allowedEvents)||[]).indexOf(R.ECustomEvents.AdTagRequest)>-1&&this.service.tracking.setupTrackingReport(this.top.window,this.config.dataConfig.logTime),this.config.dataConfig.collectHTML&&(!0===e.contextual||void 0===e.contextual)&&this.hasTopAccess&&this.service.contextual.sendContents(this.top.document,this.top.window.location.href),t.next=10,this.begin(n);case 10:this.end();case 11:case"end":return t.stop()}}),t,this)})))}},{key:"requestAds",value:function(){return s(this,void 0,void 0,i().mark((function t(){var e,n,r,o,a,s,u,c,l,d,f,p,h,v,m,g,y,E;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.flag.shouldEnd){t.next=2;break}return t.abrupt("return",null);case 2:if(!(this.requestToOurServerNumber>=this.config.dataConfig.maxServerCalls)&&L.default.get("zoneid")&&L.default.get("domain")){t.next=5;break}return null===(n=null===(e=this.service)||void 0===e?void 0:e.tagProvider)||void 0===n||n.abort("Max server calls reached or zoneId or domain is missing"),t.abrupt("return",null);case 5:if(this.requestToOurServerNumber++,this.logger.log("Get ads (".concat(this.requestToOurServerNumber,")")),this.eventHistory.record(R.ECustomEvents.AdFormatLoad),this.service.tracking.syncPixels&&this.service.tracking.syncPixels.trackPixel(R.ECustomEvents.AdFormatLoad,!0),u=null,c=this.config.dataConfig.tracking||!this.isDemoMode&&!this.isTestMode,l=null,!c){t.next=16;break}return t.next=15,this.adGet();case 15:l=t.sent;case 16:if(l||!this.isTrackingEnabled){t.next=18;break}return t.abrupt("return",null);case 18:if(this.isDemoMode?!((u=this.getDemoData())&&this.config.dataConfig.tracking&&l)||u.trackingUrl&&(null===(r=u.allowedEvents)||void 0===r?void 0:r.length)||(u=Object.assign(Object.assign({},u),{trackingUrl:l.trackingUrl,allowedEvents:l.allowedEvents,country:l.country,ip:l.ip,contextual:l.contextual})):this.isTestMode?(u=(0,w.createTestData)(this.config.test,this.loop),this.config.dataConfig.tracking&&l&&(u=Object.assign(Object.assign({},l),u))):u=l,d=(0,b.isArrayEmpty)(null==u?void 0:u.principalTags)&&(0,b.isArrayEmpty)(null==u?void 0:u.gptTags)&&(0,b.isArrayEmpty)(null==u?void 0:u.directDisplayTags)&&(0,b.isArrayEmpty)(null===(o=null==u?void 0:u.prebidjs)||void 0===o?void 0:o.tags),u&&!d){t.next=23;break}return null===(s=null===(a=this.service)||void 0===a?void 0:a.tagProvider)||void 0===s||s.abort(),t.abrupt("return",null);case 23:return p=(f=u).trackingUrl,h=f.ip,v=f.country,m=(0,N.buildPrincipalTagsMeta)(u.principalTags),g=(0,N.buildGptTagsMeta)(u.gptTags),y=(0,N.buildDirectDisplayTagsMeta)(u.directDisplayTags),E=this.config.dataConfig.usePrebidTags?(0,N.buildPrebidTags)(u.prebidjs?[u.prebidjs]:[]):[],L.default.setAll({ip:h,country:v}),this.service.tracking&&this.service.tracking.setTrackingUrl(p),this.service.tagProvider.update(m,g,y,E),t.abrupt("return",u);case 32:case"end":return t.stop()}}),t,this)})))}},{key:"getDemoData",value:function(){try{var t=new V.DemoTagValidator(Object.assign({},this.config.demo));return(0,w.createDemoData)(t,this.loop)}catch(t){return this.logger.info("error","Failed to setup demo data",t),{}}}},{key:"adGet",value:function(){return s(this,void 0,void 0,i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.eventHistory.getTimeElapsed(R.ECustomEvents.AdFormatLoad),n=e.range,t.next=4,P.AdsAPI.getAds(n);case 4:return r=t.sent,t.prev=5,t.abrupt("return",JSON.parse((0,b.base64Decode)(r.data)));case 9:return t.prev=9,t.t0=t.catch(5),this.logger.error("Failed to parse the ad response",t.t0),t.abrupt("return",null);case 13:t.next=24;break;case 15:if(t.prev=15,t.t1=t.catch(0),this.logger.warn("Failed to fetch ads from the ad server",t.t1),this.isTrackingEnabled){t.next=22;break}return t.abrupt("return",null);case 22:return this.end("Failed to fetch ads from the ad server"),t.abrupt("return",null);case 24:case"end":return t.stop()}}),t,this,[[0,15],[5,9]])})))}},{key:"onAdImpression",value:function(t){if(this.flag.firstAdImpression=!0,this.impressions[this.loop]=!0,this.loop++,this.flag.shouldEnd=this.config.dataConfig.loop>0&&this.loop>=this.config.dataConfig.loop,this.service.tagProvider.onAdImpression(this.loop,this.impressions,t),this.dom.onImpression(),this.eventHistory.record(R.ELinearEvents.AdImpression),(0,y.getCookie)(this.cookies.firstImpression.name)){var e=new Date;e.setTime(e.getTime()+g.default.firstImpression.expiresIn),(0,y.setCookie)(this.cookies.firstImpression.name,t.id,e.toUTCString())}else{var n=new Date;n.setTime(n.getTime()+g.default.firstImpression.expiresIn),(0,y.setCookie)(g.default.firstImpression.name,t.id,n.toUTCString())}var r=this.config.dataConfig.onImpression,i=(0,b.base64Decode)(r)||null;i&&(0,T.safeEval)(i)}},{key:"begin",value:function(t){return s(this,arguments,void 0,(function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i().mark((function r(){var o,a,u,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.flag.shouldEnd&&!e.flag.noMoreTagsToCall){r.next=2;break}return r.abrupt("return");case 2:return e.flag.firstAdImpression&&e.dom.hide(),r.next=5,e.service.tagProvider.getNextTag();case 5:if(a=r.sent,e.nextTag=a,a){r.next=9;break}return r.abrupt("return");case 9:if(a._meta.adapter!==j.EAdAdapterEnum.GPT&&a._meta.adapter!==j.EAdAdapterEnum.DirectDisplay||e.config.htmlConfig.type===U.EPlayerType.Slider){r.next=11;break}return r.abrupt("return");case 11:return e.logger.log("Playing:",a),a._meta.adapter!==j.EAdAdapterEnum.IMA&&a._meta.adapter!==j.EAdAdapterEnum.MOL||(t.indexOf(R.ECustomEvents.AdReceivedVastResponse)>-1&&!a._meta.isVpaid&&e.service.tracking.trackPrincipalTagEvent(R.ECustomEvents.AdReceivedVastResponse,a),t.indexOf(R.ECustomEvents.AdReceivedVpaidResponse)>-1&&a._meta.isVpaid&&e.service.tracking.trackPrincipalTagEvent(R.ECustomEvents.AdReceivedVpaidResponse,a),e.config.dataConfig.adVerification&&(null===(o=a._meta.verifications)||void 0===o?void 0:o.length)&&(u=new I.default(a,e.dom.refs),e.service.tracking.addTrackingEventListener&&u.setAddTrackingEventListener(e.service.tracking.addTrackingEventListener.bind(e.service.tracking)))),e.flag.firstAdImpression&&e.dom.render(),c=!1,r.abrupt("return",new Promise((function(r){e.initAdAdapter(a,t,(function(o){return s(e,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=2;break}return e.abrupt("return");case 2:return c=!0,o&&(this.totalPlayedVideoCount+=1,this.currentLoop++,this.service.tagProvider.onAdCompleted(this.currentLoop)),this.flag.isUserClosed&&this.end("User closed the ad"),e.next=7,this.begin(t,n||o);case 7:return r(o),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})))})),e.dom.adsManager=e.adsManager})));case 16:case"end":return r.stop()}}),r)}))()}))}},{key:"initAdAdapter",value:function(t,e,n){var r=this,i=function(t,e){return r.service.tagProvider.onAdError(t,e)},o=function(){return r.dom.showPlayButton()};switch(t._meta.adapter){case j.EAdAdapterEnum.MOL:this.adsManager=this.initMolAdapter(t,e,n,i,o);break;case j.EAdAdapterEnum.GPT:this.gptAdapter.start(t,this.service.tracking.trackingUrl,this.onAdImpression.bind(this),i.bind(this),n.bind(this),this.requestAds.bind(this),this.dom.insertAdSlot.bind(this));break;case j.EAdAdapterEnum.DirectDisplay:this.directDisplayAdaper=this.initDirectDisplayAdapter(t,i,n);break;case j.EAdAdapterEnum.Prebid:this.prebidAdapter.start(t,this.onAdImpression.bind(this),i.bind(this),n,this.requestAds.bind(this),e,this.dom.refs.container.value,this.dom.refs.wrapper.value,this.dom.refs.video.value,this.dom.refs.displayContainer.value,this.dom.prepare,this.dom.adsManager,o,this.dom.setScale);break;default:this.logger.error("Failed to instantiate an adapter for the next tag")}}},{key:"initMolAdapter",value:function(t,e,n,r,i){return new l.AdsManager(t,e,this.service.tracking,n,i,r,this.dom.refs.container.value,this.dom.refs.wrapper.value,this.dom.refs.video.value,this.dom.refs.displayContainer.value,this.dom.prepare,this.dom.show,this.onAdImpression.bind(this),this.requestAds.bind(this),this.config)}},{key:"initDirectDisplayAdapter",value:function(t,e,n){return new l.DirectDisplayAdapter(t,this.service.tracking,this.dom.insertAdSlot,this.dom.show,this.dom.refs.adSlotContainer.value,this.onAdImpression.bind(this),this.requestAds.bind(this),e,n)}},{key:"end",value:function(t){var e,n;if(!this.flag.isPlayerEnded){if(this.flag.isPlayerEnded=!0,this.logger.log("=========== Exit ============\nReason: ".concat(t)),F.default.clearAllTimeouts(),this.initialized.status=!1,this.initialized.counter=0,this.dom.end(),null===(n=null===(e=null==this?void 0:this.service)||void 0===e?void 0:e.tagProvider)||void 0===n||n.abort("Exiting the player"),this.flag.shouldExecutePassback){var r=this.config.dataConfig,i=r.passback,o=r.passbackEncoded;if(i){var a=o?(0,b.base64Decode)(i):i;a&&(0,T.safeEval)(a)}this.service.tracking.forceSendTrackingData();var s=this.eventHistory.getTimeElapsed(R.ECustomEvents.WaterfallComplete).range;if(this.service.tracking.trackingUrl){var u=L.default.replace(this.service.tracking.trackingUrl,{event:R.ECustomEvents.WaterfallComplete,timeelapsed:s});P.TrackingAPI.postTrackingEvent(u),this.service.tracking.cleanup()}else this.config.dataConfig.tracking&&this.logger.error("Event ".concat(R.ECustomEvents.WaterfallComplete," was not reported because tracking url is missing"))}this.config.htmlConfig.ampSite&&(0,q.postMessageOnEnd)()}}}],e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=z},1856:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(2690)),u=n(5911),c=n(4624),l=n(8017),d=n(8423),f=function(){return t=function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loadSessionClient=function(t){var e,n;if(!(null===(n=null===(e=r.iframe)||void 0===e?void 0:e.contentWindow)||void 0===n?void 0:n.sessionClient)){var i=t.createElement("script");i.src="".concat(u.envVars.OMID_SERVICE_URL,"/omid-session-client-v1.js"),i.async=!0,i.onload=function(){r.loadWindowManager(t)},t.head.appendChild(i)}},this.loadWindowManager=function(t){var e=document.createElement("script");e.src="".concat(u.envVars.OMID_SERVICE_URL,"/omid-window-manager.js"),e.async=!0,e.onload=function(){r.initialiseSession()},t.head.appendChild(e)},this.initialiseSession=function(){var t,e;try{if(r.sessionClient=null===(e=null===(t=r.iframe)||void 0===t?void 0:t.contentWindow)||void 0===e?void 0:e.sessionClient,r.createPartner(),r.createContext(r.partner),r.adSession=new r.sessionClient.AdSession(r.context),r.adSession.setCreativeType(l.EAdSessionProperties.CREATIVE_TYPE),r.adSession.setImpressionType(l.EAdSessionProperties.IMPRESSION_TYPE),r.adEvents=new r.sessionClient.AdEvents(r.adSession),r.mediaEvents=new r.sessionClient.MediaEvents(r.adSession),!r.adSession.isSupported())return r.adSession.error(2,l.EAdSessionProperties.SESSION_ERROR_MSG);try{r.adSession.start()}catch(t){r.adSession.error(3,l.ERegisterSession.REGISTER_ERROR_MSG)}r.adSession.registerSessionObserver((function(t){var e;if(t.type===l.ERegisterSession.SESSION_START)r.adEvents.loaded();else{if(t.type===l.ERegisterSession.SESSION_ERROR&&r.tag._meta.verificationNotExecuted)return r.handleVerificationFailure((null===(e=t.data)||void 0===e?void 0:e.message)||l.ERegisterSession.REGISTER_ERROR_MSG);t.type===l.ERegisterSession.SESSION_FINISH&&r.end()}}))}catch(t){r.logger.error(t,"error while initializing AdSession")}},this.setAddTrackingEventListener=function(t){"function"==typeof t&&(r.addTrackingEventListener=t,r.registerTrackingEvents())},this.registerTrackingEvents=function(){var t=function(t){var e=r.events[t];r.addTrackingEventListener&&r.addTrackingEventListener((function(n){n===e.name&&r.trackEvent(t,e)}))};for(var e in r.events)t(e)},this.trackEvent=function(t,e){var n=r[e.handler];n&&"function"==typeof n[t]&&("start"===t?n[t](r.videoElement.duration,r.videoElement.volume):n[t]())},this.createPartner=function(){var t,e=null===(t=r.sessionClient)||void 0===t?void 0:t.Partner;e&&u.envVars.OMID_PARTNER_NAME&&u.envVars.OMID_PARTNER_VERSION&&(r.partner=new e(u.envVars.OMID_PARTNER_NAME,u.envVars.OMID_PARTNER_VERSION))},this.createContext=function(t){var e,n,i,o,a=null===(e=r.sessionClient)||void 0===e?void 0:e.Context,s=null===(n=r.sessionClient)||void 0===n?void 0:n.VerificationScriptResource;r.resources=null===(o=null===(i=r.tag)||void 0===i?void 0:i._meta.verifications)||void 0===o?void 0:o.map((function(t){var e,n;if(t){var r=(null==t?void 0:t.querySelector)&&(null===(e=null==t?void 0:t.querySelector("JavaScriptResource"))||void 0===e?void 0:e.textContent),i=(null==t?void 0:t.getAttribute)&&(null==t?void 0:t.getAttribute("vendor"))||"",o=(null==t?void 0:t.querySelector)&&(null===(n=null==t?void 0:t.querySelector("VerificationParameters"))||void 0===n?void 0:n.textContent)||"";if(s&&r)return new s(r,i,o,"full")}})),a&&(r.context=new a(t,r.resources)),r.context.setVideoElement(r.refs.video.value),r.context.setServiceWindow(window.top)},this.handleVerificationFailure=function(t){var e,n,i=null===(n=null===(e=r.tag)||void 0===e?void 0:e._meta.verificationNotExecuted)||void 0===n?void 0:n.replace("[REASON]",encodeURIComponent(t));(0,c.requestGETXHR)(i).then((function(t){if(200!==t.status)throw new Error("Network response was not ok")})).catch((function(t){r.logger.error("Error sending event to:",i,t)}))},this.end=function(){return r.logger.log("OMID Session: Finished"),r.adSession.finish()},this.logger=new s.default({environment:u.envVars.NODE_ENV,prefix:"[AdVerification]"}),this.sessionClient={},this.tag=e,this.refs=n,this.addTrackingEventListener=null,this.videoElement=n.video.value,this.adSession={},this.adEvents={},this.mediaEvents={},this.context={},this.partner={},this.resources={},this.iframe={},this.events={start:{name:d.ELinearEvents.AdStarted,handler:"mediaEvents"},impressionOccurred:{name:d.ELinearEvents.AdImpression,handler:"adEvents"},firstQuartile:{name:d.ELinearEvents.AdVideoFirstQuartile,handler:"mediaEvents"},midpoint:{name:d.ELinearEvents.AdVideoMidpoint,handler:"mediaEvents"},thirdQuartile:{name:d.ELinearEvents.AdVideoThirdQuartile,handler:"mediaEvents"},complete:{name:d.ELinearEvents.AdVideoComplete,handler:"mediaEvents"}},this.init()},(e=[{key:"init",value:function(){var t,e,n,r=this;this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.iframe.setAttribute("id","vidoomy-verification-frame"),this.iframe.setAttribute("allow-scripts","true"),this.iframe.setAttribute("allow-same-origin","true"),this.refs.wrapper.value.appendChild(this.iframe);var i=(null===(t=this.iframe)||void 0===t?void 0:t.contentDocument)||(null===(n=null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)||void 0===n?void 0:n.document);if(i){var o=document.createElement("script");o.src="".concat(u.envVars.OMID_SERVICE_URL,"/omweb-v1.js"),o.async=!0,o.onload=function(){r.loadSessionClient(i)},i.head.appendChild(o)}else this.logger.error("Failed to get iframe content document")}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=f},426:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return t=function t(e){var n=e.interval,r=void 0===n?1e3:n,i=e.limit,o=e.callback;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.counter=0,this.limit=i,this.interval=r,this.intervalRef=null,this.callback=o},(e=[{key:"handler",value:function(){this.counter+=1,this.counter<=this.limit?this.callback():this.stop(),this.counter===this.limit&&this.stop()}},{key:"start",value:function(){this.intervalRef&&clearInterval(this.intervalRef),this.counter=0,this.intervalRef=setInterval(this.handler.bind(this),this.interval)}},{key:"stop",value:function(){this.counter=0,this.intervalRef&&clearInterval(this.intervalRef)}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=o},6242:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(n(7537)),l=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.unwantedList=["script","link","style","iframe","img","video","svg"]},(e=[{key:"sendContents",value:function(t,e){var n={url:e,htmlContents:this.getContents(t)};c.default.postHtmlContents(n)}},{key:"getContents",value:function(t){var e="";if(!t)return e;var n=t.cloneNode(!0),r=[];return this.unwantedList.forEach((function(t){return r.push.apply(r,i(n.getElementsByTagName(t)))})),r.forEach((function(t){return t.remove()})),e=n.documentElement.innerHTML}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=l},3887:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DemoTagValidator=void 0;var s=a(n(2690)),u=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.principalTags=[],this.gptTags=[],this.directDisplayTags=[],this.allowedEvents=[],this.contextual=!1,this.isNumber=function(t){return"number"==typeof t&&!isNaN(t)||(n.logger.info("error","TypeError: received value is not type of number"),!1)},this.isPositiveInteger=function(t){return!!(n.isNumber(t)&&Number.isInteger(t)&&t>=0)||(n.logger.info("error","TypeError: received value is not a positive integer"),!1)},this.isString=function(t){return"string"==typeof t||(n.logger.info("error","TypeError: received value is not a string"),!1)},this.isValidUrl=function(t){try{return new URL(t),!0}catch(t){return n.logger.info("error","TypeError: received value is not a valid URL"),!1}},this.isValidJSON=function(t){try{return JSON.parse(t),!0}catch(t){return n.logger.info("error","TypeError: received value is not a valid JSON string"),!1}},this.isValidTrackingPixel=function(t){return!!(n.isString(t.event)&&n.isString(t.url)&&n.isValidUrl(t.url))||(n.logger.info("error","TypeError: received value is not a valid Tracking Pixel"),!1)},this.validatePrincipalTag=function(t){return!(void 0!==t.id&&!n.isNumber(t.id)||!n.isString(t.url)||!n.isValidUrl(t.url)||void 0!==t.timesToCall&&!n.isPositiveInteger(t.timesToCall)||void 0!==t.delay&&!n.isPositiveInteger(t.delay))||(n.logger.info("error","TypeError: received value is not a valid Principal Tag"),!1)},this.validateGptTag=function(t){return!(void 0!==t.id&&!n.isNumber(t.id)||!n.isString(t.unitCode)||!(void 0===t.sizes||Array.isArray(t.sizes)&&t.sizes.every((function(t){return Array.isArray(t)&&t.every(n.isPositiveInteger)})))||void 0!==t.duration&&!n.isPositiveInteger(t.duration)||void 0!==t.showAfter&&!n.isPositiveInteger(t.showAfter))||(n.logger.info("error","TypeError: received value is not a valid GPT Tag"),!1)},this.validateDirectDisplayTag=function(t){return!(void 0!==t.id&&!n.isNumber(t.id)||!n.isString(t.code)||void 0!==t.width&&!n.isNumber(t.width)||void 0!==t.height&&!n.isNumber(t.height)||void 0!==t.showAfter&&!n.isPositiveInteger(t.showAfter)||void 0!==t.duration&&!n.isPositiveInteger(t.duration)||!(void 0===t.trackingPixels||Array.isArray(t.trackingPixels)&&t.trackingPixels.every((function(t){return n.isValidTrackingPixel(t)}))))||(n.logger.info("error","TypeError: received value is not a valid Direct Display Tag"),!1)},this.validatePrebidJsTag=function(t){return!(void 0!==t.id&&!n.isNumber(t.id)||void 0!==t.duration&&!n.isPositiveInteger(t.duration)||!n.isString(t.bidder)||!n.isString(t.params)||!n.isValidJSON(t.params))||(n.logger.info("error","TypeError: received value is not a valid PrebidJs Tag"),!1)},this.validatePrebidJs=function(t){return!(!(Array.isArray(t.tags)&&t.tags.every(n.validatePrebidJsTag)&&(void 0===t.sizes||Array.isArray(t.sizes)&&t.sizes.every((function(t){return Array.isArray(t)&&t.every(n.isPositiveInteger)}))))||void 0!==t.timesToCall&&!n.isPositiveInteger(t.timesToCall)||void 0!==t.showAfter&&!n.isPositiveInteger(t.showAfter)||void 0!==t.floorCPM&&!n.isNumber(t.floorCPM))||(n.logger.info("error","TypeError: received value is not a valid PrebidJs"),!1)},this.logger=new s.default,this.principalTags=this.principalTagDTO(e.principalTags||[]),this.gptTags=this.gptTagDTO(e.gptTags||[]),this.directDisplayTags=this.directDisplayTagDTO(e.directDisplayTags||[]),this.prebidjs=e.prebidjs&&this.prebidJsDTO(e.prebidjs||{}),this.trackingUrl="",this.ip="",this.country=""},(e=[{key:"principalTagDTO",value:function(t){return t.every(this.validatePrincipalTag)?t.map((function(t){return t})):[]}},{key:"gptTagDTO",value:function(t){return t.every(this.validateGptTag)?t.map((function(t){return t})):[]}},{key:"directDisplayTagDTO",value:function(t){return t.every(this.validateDirectDisplayTag)?t.map((function(t){return t})):[]}},{key:"prebidJsDTO",value:function(t){return this.validatePrebidJs(t)?Object.assign(Object.assign({},t),{tags:(t.tags||[]).map((function(t){return t}))}):{tags:[]}}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.DemoTagValidator=u},2794:(t,e,n)=>{"use strict";var r;function i(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var u=n(8423),c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={}},(e=[{key:"record",value:function(t){this.events[t]={createdAt:Date.now(),dateTime:new Date}}},{key:"getTimeElapsed",value:function(t){var e={seconds:null,range:""},n=l[t],r=n?this.events[n.start]:null;if(!n||!r)return e;if(r){var i=r.createdAt,o=Date.now()-i,a=this.normalizeToRange(o);e.seconds=a.seconds,e.range=a.range}return e}},{key:"normalizeToRange",value:function(t){var e={seconds:null,range:""};if(t<0||isNaN(t))return e;var n=t/1e3,r=n<=1.99?0:2*Math.floor(n/2),i=r+1.99;return e.seconds=n,e.range="".concat(r,"-").concat(i),e}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=c;var l=(i(i(i(i(i(i(i(i(i(i(r={},u.ECustomEvents.AdFormatLoad,{start:u.ECustomEvents.PlayerLoad}),u.ECustomEvents.AdTagRequest,{start:u.ECustomEvents.PlayerLoad}),u.ELinearEvents.AdImpression,{start:u.ECustomEvents.PlayerLoad}),u.ECustomEvents.AdTagAttempt,{start:u.ECustomEvents.PlayerLoad}),u.ECustomEvents.AdViewableImpression,{start:u.ECustomEvents.PlayerLoad}),u.ELinearEvents.AdVideoFirstQuartile,{start:u.ELinearEvents.AdImpression}),u.ELinearEvents.AdVideoMidpoint,{start:u.ELinearEvents.AdImpression}),u.ELinearEvents.AdVideoThirdQuartile,{start:u.ELinearEvents.AdImpression}),u.ELinearEvents.AdVideoComplete,{start:u.ELinearEvents.AdImpression}),u.ELinearEvents.AdClickThru,{start:u.ELinearEvents.AdImpression}),i(i(r,u.ECustomEvents.WaterfallComplete,{start:u.ECustomEvents.AdFormatLoad}),u.ECustomEvents.AdClose,{start:u.ECustomEvents.AdFormatLoad}))},2690:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var a=i((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.log=function(){if(e.isEnabled&&"production"!==e.env){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.print.apply(e,["log"].concat(n))}},this.error=function(){if(e.isEnabled&&"production"!==e.env){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.print.apply(e,["error"].concat(n))}},this.warn=function(){if(e.isEnabled&&"production"!==e.env){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.print.apply(e,["warn"].concat(n))}},this.info=function(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=console)[t].apply(n,[e.prefixes].concat(i))},this.print=function(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=console)[t].apply(n,[e.prefixes].concat(i))},this.prefixes=n.prefix||"",this.isEnabled=void 0===n.enabled||n.enabled,this.env=n.environment||"production"}));e.default=a},9504:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.regexes=[]},e=[{key:"setMacros",value:function(t){for(var e in this.macros=t,this.regexes=[/{{\s*([a-zA-Z0-9_]+)\s*}}/g,/\$\$\s*([a-zA-Z0-9_]+)\s*\$\$/g,/\[\s*([a-zA-Z0-9_]+)\s*\]/g,/\${\s*([a-zA-Z0-9_]+)\s*}/g],t)this.macros[this.normalizeKey(e)]=t[e]}},{key:"normalizeKey",value:function(t){return t.replace(/_/g,"").toLowerCase()}},{key:"mapToString",value:function(t){return Object.keys(t).map((function(e){return"".concat(e,"={{").concat(t[e],"}}")})).join("&")}},{key:"set",value:function(t,e){this.macros[this.normalizeKey(t)]="function"==typeof e?e:String(e)}},{key:"get",value:function(t){var e=this.normalizeKey(t),n=this.macros[e];return"function"==typeof n?n(this.macros):String(this.macros[e])}},{key:"setAll",value:function(t){for(var e in t)this.set(e,t[e])}},{key:"replace",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="";i="string"==typeof t?t:this.mapToString(t);var o=Object.assign(Object.assign({},this.macros),r);return this.regexes.forEach((function(t){i=i.replace(t,(function(t,r){r=(r=e.normalizeKey(r)).startsWith("gdprconsent")?"gdprconsent":r;var i=o[r];return"0"===(null==(i="function"==typeof i?i(o):i)?void 0:i.toString())||i?"object"!==n(i)||Array.isArray(i)?String(i):JSON.stringify(i):""}))})),i}}],e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,i}();e.default=new o},6022:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return t=function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.top=e,this.playerEl=n,this.hideFromSelector=r,this.onIntersect=i,this.intervalId=null;var o=this.top.document.querySelector(this.hideFromSelector);o&&this.startObserving(o)},(e=[{key:"startObserving",value:function(t){var e=this;this.isOverlapping(t)?this.onIntersect():this.intervalId=setInterval((function(){e.isOverlapping(t)&&(e.cleanup(),e.onIntersect())}),100)}},{key:"isOverlapping",value:function(t){var e=this.playerEl.getBoundingClientRect(),n=t.getBoundingClientRect();return e.bottom>=n.top&&e.top<=n.bottom}},{key:"cleanup",value:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}])&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=o},6204:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=n(8423),d=c(n(9504)),f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pixels=[];var n=Object.values(l.ELinearEvents),r=Object.values(l.ECustomEvents);this.events=n.concat(r),this.container=e,this.addTrackingEventListener=null,this.persistent=!1},e=[{key:"appendPixel",value:function(t){var e=document.createElement("img");e.src=t,e.width=1,e.height=1,e.style.display="none",e.style.height="1px",e.alt="",this.container.appendChild(e)}},{key:"setTrackingEventListener",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"function"==typeof t&&(this.addTrackingEventListener=t,this.registerTrackingEvents(e))}},{key:"addPixels",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.pixels=[].concat(i(this.pixels),i(t.filter((function(t){return t.url&&e.events.includes(t.event)})).map((function(t){return Object.assign(Object.assign({},t),{persistent:n})}))))}},{key:"registerTrackingEvents",value:function(t){var e=this;if(this.addTrackingEventListener){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(new Set(this.pixels.map((function(t){return t.event}))));try{var i=function(){var r=n.value;e.addTrackingEventListener((function(n){n===r&&e.trackPixel(r,t)}))};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}}},{key:"trackPixel",value:function(t,e){var n=this,r=this.pixels.filter((function(n){return n.event===t&&n.persistent===e}));r.length&&(r.forEach((function(t){var e=d.default.replace(t.url);n.appendPixel(e)})),e||(this.pixels=this.pixels.filter((function(e){return e.event!==t||e.persistent}))))}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=f},91:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){a=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new L(r||[]);return o(a,"_invoke",{value:C(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&i.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,o(k,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var d=l(n(5749)),f=l(n(8550)),p=l(n(5881)),h=n(3987),v=l(n(4630)),m=n(9911),g=n(9843),y=l(n(3547)),b=function(){return t=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tagPool=new d.default,this.abortController=new AbortController,this.context={currentLoop:0,nextLoop:0,impressions:[],flag:{initialized:!1,aborted:!1},tagProviderStartTime:null},this.intervalId=null,this.logger=r,this.trackingService=e,this.defaultConfig=n;var o={logger:this.logger,trackingService:this.trackingService,abortController:this.abortController,enqueueTagCallback:function(t,e){return i.enqueueTag(t,e)}};this.tagStrategyPrincipal=new p.default(this.context,o,this.defaultConfig),this.tagStrategyGpt=new f.default(this.context,o),this.tagStrategyDirectDisplay=new v.default(this.context,o),this.tagStrategyPrebid=new y.default(this.context,o)},e=[{key:"update",value:function(t,e,n,r){this.logger.log("Update tags:",{principalTags:t,gptTags:e,directDisplayTags:n,prebidTagClusters:r}),this.tagPool.clear(),this.context.flag.initialized=!0,this.context.flag.aborted=!1,this.enqueueAllTags(t,e,n,r),this.tagStrategyPrincipal.processTags(t),this.tagStrategyGpt.processTags(e),this.tagStrategyDirectDisplay.processTags(n),this.tagStrategyPrebid.processTags(r)}},{key:"enqueueAllTags",value:function(t,e,n,r){var i=this;t.forEach((function(t){return i.tagPool.enqueue(t,i.getPriorityForTag(t),t._meta.state)})),e.forEach((function(t){return i.tagPool.enqueue(t,i.getPriorityForTag(t),t._meta.state)})),n.forEach((function(t){return i.tagPool.enqueue(t,i.getPriorityForTag(t),t._meta.state)})),r.forEach((function(t){return i.tagPool.enqueue(t,i.getPriorityForTag(t),t._meta.state)}))}},{key:"getNextTag",value:function(){return c(this,void 0,void 0,a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.context.flag.initialized){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveNextTag();case 4:if(e=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(e._meta.adapter!==m.EAdAdapterEnum.Prebid){t.next=9;break}return t.abrupt("return",e);case 9:if(!(0,h.validateTag)(e,this.logger)){t.next=14;break}return t.abrupt("return",e);case 14:return t.next=16,this.getNextTag();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,this)})))}},{key:"onAdImpression",value:function(t,e,n){this.updateContext(t,e),this.updateTagMeta(n),this.recordTagAttempt(n),this.resetTagProvider()}},{key:"updateContext",value:function(t,e){this.context.nextLoop=t,this.context.currentLoop=this.context.nextLoop,this.context.impressions=i(e)}},{key:"updateTagMeta",value:function(t){t._meta.responseType=g.ETagResponseType.success,t._meta.adStatus=g.EAdStatus.AdImpression}},{key:"recordTagAttempt",value:function(t){this.trackingService.recordAdTagAttempt(t)}},{key:"resetTagProvider",value:function(){this.tagPool.clear(),this.context.tagProviderStartTime=null,this.abort("Achieved AdImpression")}},{key:"abort",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No reason";this.logger.log("Aborting tag requests.\nReason:",t),this.context.flag.aborted=!0;try{this.abortController&&this.abortController.abort("Aborted")}catch(t){this.logger.log(t)}}},{key:"onAdError",value:function(t,e){switch(this.logger.log("onAdError: ".concat(e.message),t),this.updateAdStatus(t,e),this.trackingService.recordAdTagAttempt(t),t._meta.adapter){case m.EAdAdapterEnum.MOL||m.EAdAdapterEnum.IMA:this.handlePrincipalTagError(t);break;case m.EAdAdapterEnum.GPT:var n=t;n._meta.timesCalled>=n.timesToCall&&(this.logger.log("[GPT]: Max attempts reached for tag ".concat(n.id,", stopping processing.")),this.tagPool.updateState(n,g.ETagState.Failed));break;case m.EAdAdapterEnum.DirectDisplay:this.tagPool.updateState(t,g.ETagState.Failed);break;case m.EAdAdapterEnum.Prebid:var r=this.tagPool.getPrebidTagCluster(t);r&&r._meta.timesCalled>=r.timesToCall&&(this.logger.log("[Prebid]: Max attempts reached, stopping processing."),this.tagPool.updateState(r,g.ETagState.Failed));break;default:this.tagPool.updateState(t,g.ETagState.Failed)}}},{key:"updateAdStatus",value:function(t,e){(null==e?void 0:e.message.includes("Timeout"))?t._meta.adStatus=g.EAdStatus.AdTimeout:t._meta.adStatus=g.EAdStatus.AdError}},{key:"handlePrincipalTagError",value:function(t){var e=(Date.now()-this.context.tagProviderStartTime)/1e3,n=this.tagPool.getFirstReadyHighPriorityTag();n&&e>=n.element.showAfter&&this.tagPool.updateState(t,g.ETagState.Unprocessed),this.tagStrategyPrincipal.handleRetry(t)}},{key:"onAdCompleted",value:function(t){this.context.currentLoop=t}},{key:"getPriorityForTag",value:function(t){switch(t._meta.adapter){case m.EAdAdapterEnum.MOL:return g.ETagPriority.Principal;case m.EAdAdapterEnum.GPT:return g.ETagPriority.Gpt;case m.EAdAdapterEnum.DirectDisplay:return g.ETagPriority.DirectDisplay;case m.EAdAdapterEnum.Prebid:return g.ETagPriority.Prebid;default:return g.ETagPriority.Unknown}}},{key:"enqueueTag",value:function(t,e){if(!this.tagPool.updateState(t,e)){var n=this.getPriorityForTag(t);this.tagPool.enqueue(t,n,e)}}},{key:"clearInterval",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}))},{key:"resolveNextTag",value:function(){return c(this,void 0,void 0,a().mark((function t(){var e=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===this.context.tagProviderStartTime&&(this.context.tagProviderStartTime=Date.now()),t.abrupt("return",new Promise((function(t){var n=!1;e.intervalId=setInterval((function(){if(n||(e.logger.log("resolving next tag...",e.tagPool.getAll()),n=!0),e.tagPool.isEmpty())return e.clearInterval(),void t(null);var r=(Date.now()-e.context.tagProviderStartTime)/1e3,i=e.tagPool.getFirstReadyHighPriorityTag();if(e.tagPool.hasPrincipalTags()){if(null!==i&&r>=i.element.showAfter)return e.tagPool.remove(i.element),e.clearInterval(),void t(i.element)}else if(null!==i)return e.tagPool.remove(i.element),e.clearInterval(),void t(i.element);var o=e.tagPool.dequeueFirstReadyPrincipalTag();return null!==o?(e.clearInterval(),void t(o)):void 0}),100)})));case 2:case"end":return t.stop()}}),t,this)})))}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=b},5749:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var u=n(9843),c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gptTagsWithImpressions=new Set,this.items=[]},e=[{key:"enqueue",value:function(t,e,n){var r={element:t,priority:e,state:n};if(n!==u.ETagState.Failed){if(t._meta&&void 0!==t.timesToCall){var i=t;if(i._meta.timesCalled>=i.timesToCall)return}for(var o=!1,a=0;a<this.items.length;a++)if(r.priority<this.items[a].priority){this.items.splice(a,0,r),o=!0;break}o||this.items.push(r)}else this.remove(t)}},{key:"updateState",value:function(t,e){var n,r=i(this.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.element===t)return o.state=e,e===u.ETagState.Failed&&this.remove(t),!0}}catch(t){r.e(t)}finally{r.f()}return!1}},{key:"remove",value:function(t){this.items=this.items.filter((function(e){return e.element!==t}))}},{key:"dequeue",value:function(){var t;return null===(t=this.items.shift())||void 0===t?void 0:t.element}},{key:"peek",value:function(){return this.isEmpty()?null:this.items[0].element}},{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"clear",value:function(){this.items=[]}},{key:"hasPrincipalTags",value:function(){return this.items.some((function(t){return t.priority===u.ETagPriority.Principal}))}},{key:"getAll",value:function(){return this.items}},{key:"getFirstReadyPrincipalTag",value:function(){var t,e=i(this.items);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.state===u.ETagState.Ready&&n.priority===u.ETagPriority.Principal)return n.element}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"getPrebidTagCluster",value:function(t){var e,n=i(this.items);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.element.tags){var o=r.element;if(o.tags.find((function(e){return e.id===t.id})))return o}}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"dequeueFirstReadyPrincipalTag",value:function(){for(var t=0;t<this.items.length;t++)if(this.items[t].state===u.ETagState.Ready&&this.items[t].priority===u.ETagPriority.Principal)return this.items.splice(t,1)[0].element;return null}},{key:"getFirstReadyHighPriorityTag",value:function(){var t,e=null,n=i(this.items);try{for(n.s();!(t=n.n()).done;){var r=t.value;if((r.priority===u.ETagPriority.DirectDisplay||r.priority===u.ETagPriority.Gpt||r.priority===u.ETagPriority.Prebid)&&r.element.showAfter&&r.state===u.ETagState.Ready){var o=r.element.showAfter;if(null===e)e=r;else{var a=e.element.showAfter;(o<a||o===a&&r.priority<e.priority)&&(e=r)}}}}catch(t){n.e(t)}finally{n.f()}return e}}],e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=c},59:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var u=n(6120),c=n(9843),l=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.domParser=new DOMParser,this.tagService=e,this.logger=n,this.defaultConfig=r},(e=[{key:"processTag",value:function(t){return s(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initializeTagForProcessing(t),e.prev=1,!this.defaultConfig.dataConfig.playerHandleWrappers){e.next=10;break}return e.next=5,this.fetchVAST(t._meta.parsedUrl);case 5:o=e.sent,n=o.res,r=o.xmlString,e.next=14;break;case 10:return e.next=12,u.TagAPI.getTag(t._meta.parsedUrl,!0);case 12:n=e.sent,r=this.getXmlStringFromResponse(n);case 14:return a=this.parseVAST(r),Object.assign(t._meta,a),t._meta.xml=r,t._meta.status="success-with-credentials",t._meta.xmlSize=r.length,t._meta.adType=a.adType,t._meta.responseType=a.containsAd?"success":"empty",t._meta.responseCode=n.status,e.abrupt("return",t);case 25:throw e.prev=25,e.t0=e.catch(1),s=e.t0,t._meta.status="error-without-credentials",t._meta.responseType="error",t._meta.responseCode=s.response.status,this.logger.warn("Failed to fetch the tag:",s),s;case 33:return e.prev=33,this.tagService.recordAdTagRequest(t),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,25,33,36]])})))}},{key:"fetchVAST",value:function(t){return s(this,void 0,void 0,i().mark((function e(){var n,r,o,a,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.TagAPI.getTag(t,!1);case 3:if(r=e.sent,o=this.getXmlStringFromResponse(r),a=this.domParser.parseFromString(o,"application/xml"),!(s=a.querySelector("VASTAdTagURI"))){e.next=13;break}if(!(c=null===(n=s.textContent)||void 0===n?void 0:n.trim())){e.next=13;break}return e.next=12,this.fetchVAST(c);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",{res:r,xmlString:o});case 16:throw e.prev=16,e.t0=e.catch(0),this.logger.error("Failed to fetch VAST tag at URL:",t,"Error:",e.t0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[0,16]])})))}},{key:"initializeTagForProcessing",value:function(t){t._meta.status="ready-to-request",t._meta.xmlSize=-1,t._meta.timesCalled++}},{key:"getXmlStringFromResponse",value:function(t){var e=t.headers["content-type"];return e.includes("application/xml")||e.includes("text/xml")?String(t.data):""}},{key:"parseVAST",value:function(t){if(!t)return this.getEmptyVASTData();var e=this.domParser.parseFromString(t,"application/xml");return this.extractDataFromDOM(e)}},{key:"getEmptyVASTData",value:function(){return{verifications:null,verificationNotExecuted:null,containsAd:!1,isVpaid:!1,adType:""}}},{key:"extractDataFromDOM",value:function(t){var e=this.getEmptyVASTData();return e.verifications=this.getVerifications(t),e.verificationNotExecuted=this.getVerificationNotExecuted(t),e.containsAd=this.checkForAds(t),e.isVpaid=this.checkForVPAID(t),e.adType=e.isVpaid?c.EAdType.vpaid:c.EAdType.vast,e}},{key:"getVerifications",value:function(t){var e=t.querySelector("Ad"),n=e?e.querySelector("AdVerifications"):null;return n?Array.from(n.querySelectorAll("Verification")).filter((function(t){return t.querySelector("JavaScriptResource")})):[]}},{key:"getVerificationNotExecuted",value:function(t){var e=t.querySelector('Tracking[event="verificationNotExecuted"]');return e?decodeURIComponent(e.textContent||""):null}},{key:"checkForAds",value:function(t){return t.querySelectorAll("Ad, MediaFile, Wrapper").length>0}},{key:"checkForVPAID",value:function(t){var e=t.querySelectorAll("MediaFile, InteractiveCreativeFile");return Array.from(e).some((function(t){var e=t.getAttribute("apiFramework");return"vpaid"===(null==e?void 0:e.toLowerCase())}))}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=l},4630:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9843),s=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.enqueueTagCallback=n.enqueueTagCallback},(e=[{key:"processTags",value:function(t){var e=this;t.forEach((function(t){t._meta.adType=a.EAdType.display,t._meta.loop=e.context.nextLoop,e.enqueueTagCallback(t,a.ETagState.Ready)}))}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=s},8550:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9843),s=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.enqueueTagCallback=n.enqueueTagCallback},(e=[{key:"processTags",value:function(t){var e=this;t.forEach((function(t){t._meta.adType=a.EAdType.gpt,t._meta.loop=e.context.nextLoop,e.enqueueTagCallback(t,a.ETagState.Ready)}))}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=s},3547:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9843),s=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.enqueueTagCallback=n.enqueueTagCallback},(e=[{key:"processTags",value:function(t){var e=this;t.forEach((function(t){t._meta.adType=a.EAdType.prebid,t._meta.loop=e.context.nextLoop,t._meta.rDuration=t.r?Number(t.r.split("@")[1]):null,e.enqueueTagCallback(t,a.ETagState.Ready)}))}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=s},5881:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var d=l(n(59)),f=n(9843),p=l(n(9504)),h=l(n(52)),v=n(3371),m=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.logger=n.logger,this.abortController=n.abortController,this.defaultConfig=r,this.tagProcessor=new d.default(n.trackingService,n.logger,this.defaultConfig),this.enqueueTagCallback=n.enqueueTagCallback},e=[{key:"processTags",value:function(t){this.startProcessing(t)}},{key:"handleRetry",value:function(t){t._meta.timesCalled<t.timesToCall&&this.executeTag(t)}},{key:"abort",value:function(t){this.logger.log("Aborting Principal tag requests. Reason:",t),this.abortController.abort(t)}},{key:"startProcessing",value:function(t){var e=this,n=this.prepareTags(t),r=n.group,a=n.delays;if(0!==a[0]){var s=this.adjustDelay(r,a);r=s.group,a=s.delays}var u,l=o(a);try{var d=function(){var t=u.value;h.default.setTimeout("".concat(v.ETimeout.DelayBatchTimeout,"-").concat(t),(function(){return c(e,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.impressions[this.context.currentLoop]){e.next=9;break}return e.prev=1,e.next=4,this.requestDelayBatch(r[t],t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this.logger.error("Failed to process batch with delay ".concat(t,":"),e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))}),1e3*t)};for(l.s();!(u=l.n()).done;)d()}catch(t){l.e(t)}finally{l.f()}}},{key:"adjustDelay",value:function(t,e){var n={},r=e.map((function(t){return t-e[0]}));return Object.keys(t).forEach((function(r){var i=Number(r)-e[0];n[String(i)]=t[r].map((function(t){return Object.assign(Object.assign({},t),{delay:t.delay-e[0]})}))})),{group:n,delays:r}}},{key:"requestDelayBatch",value:function(t,e){return c(this,void 0,void 0,i().mark((function n(){var r,o=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.logger.log("Running ads with delay ".concat(e," seconds")),r=t.map((function(t){return o.executeTag(t)})),n.next=4,Promise.all(r);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"executeTag",value:function(t){return c(this,arguments,void 0,(function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i().mark((function r(){var o,a,s,u,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.logger.log("Run tag: ".concat(t.id," - TC: ").concat(t._meta.timesCalled,", TTC: ").concat(t.timesToCall)),s=t.timesToCall,!(n>s)){r.next=6;break}return e.enqueueTagCallback(t,f.ETagState.Failed),e.logger.log("Max attempts reached for tag ".concat(t.id,", stopping processing.")),r.abrupt("return");case 6:if(!e.context.flag.aborted){r.next=9;break}return e.logger.log("Cancelling the tag: ".concat(t.id,", attempt: ").concat(t._meta.timesCalled)),r.abrupt("return");case 9:return e.enqueueTagCallback(t,f.ETagState.Processing),r.prev=10,r.next=13,Promise.race([e.tagProcessor.processTag(t),e.waitForCancellation(t,n)]);case 13:(u=r.sent)&&e.logger.log("Tag: ".concat(u.id," succeeded (attempt ").concat(t._meta.timesCalled,"/").concat(s,")")),e.enqueueTagCallback(t,f.ETagState.Ready),r.next=23;break;case 18:r.prev=18,r.t0=r.catch(10),c=r.t0,(null===(a=null===(o=c.error)||void 0===o?void 0:o.message)||void 0===a?void 0:a.indexOf("Aborted"))>-1?e.logger.log("Tag: ".concat(t.id," aborted (attempt ").concat(t._meta.timesCalled,"/").concat(s,")")):n===s&&(e.logger.log("Tag: ".concat(t.id," failed (attempt ").concat(t._meta.timesCalled,"/").concat(s,")")),e.enqueueTagCallback(t,f.ETagState.Failed)),e.executeTag(t,n+1);case 23:case"end":return r.stop()}}),r,null,[[10,18]])}))()}))}},{key:"waitForCancellation",value:function(t,e){return c(this,void 0,void 0,i().mark((function n(){var r=this;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){var o=function(n){var a=n.target;r.abortController.signal.removeEventListener("abort",o),i(new Error("".concat(a.reason," - tag: ").concat(t.id,", attempt: ").concat(e)))};r.abortController.signal.addEventListener("abort",o)})));case 1:case"end":return n.stop()}}),n)})))}},{key:"prepareTags",value:function(t){var e=this.filterTags(t),n=this.groupTagsByDelay(e);return{group:n,delays:this.extractDelays(n)}}},{key:"groupTagsByDelay",value:function(t){return t.reduce((function(t,e){var n=String(e.delay);return t[n]||(t[n]=[]),t[n].push(e),t}),{})}},{key:"filterTags",value:function(t){var e=this;return t.filter((function(t){return e.isTagProcessable(t)}))}},{key:"isTagProcessable",value:function(t){return!(t._meta.timesCalled>=t.timesToCall||(this.updateTagForProcessing(t),0))}},{key:"updateTagForProcessing",value:function(t){t._meta.loop=this.context.nextLoop,t._meta.rDuration=t.r?Number(t.r.split("@")[1]):null;try{t.url=decodeURIComponent(t.url.replace(/^http:\/\//i,"https://"))}catch(t){}p.default&&(t._meta.parsedUrl=p.default.replace(t.url)),t.delay=Number(t.delay)||0,this.enqueueTagCallback(t,f.ETagState.Processing)}},{key:"extractDelays",value:function(t){return Object.keys(t).map(Number).sort((function(t,e){return t-e}))}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=m},3987:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildGptTagsMeta=e.buildPrebidTags=e.buildDirectDisplayTagsMeta=e.buildPrincipalTagsMeta=e.isPrincipalTag=e.validateTag=void 0;var r=n(7136),i=n(9911),o=n(9843);e.validateTag=function(t,e){if(!t)return!1;var n=t._meta,r=n.rDuration,i=n.receivedAt;if(null!=r&&void 0!==i){var o=Date.now()-+i,a=Math.floor(o/1e3);return e.log("[VALIDATION] Tag: ".concat(t.id," ").concat(a>=r?"invalid":"valid"," - ").concat(a,"sec/").concat(r,"sec (elapsed/duration)")),a<r}return e.log("[VALIDATION] Tag: ".concat(t.id," skipping expiration check, duration is:"),r),!0};e.isPrincipalTag=function(t){return t._meta.adapter===i.EAdAdapterEnum.MOL||t._meta.adapter===i.EAdAdapterEnum.IMA};e.buildPrincipalTagsMeta=function(t){return(0,r.isArrayEmpty)(t)?[]:t.map((function(t){return t._meta={adapter:i.EAdAdapterEnum.MOL,parsedUrl:"",timesCalled:0,loop:0,status:"",size:"",rDuration:t.r&&Number(t.r.split("@")[1])||null,receivedAt:Date.now(),state:o.ETagState.Unprocessed,xmlSize:0,possibleDuration:null,timeElapsed:"",adType:"",adStatus:"",responseType:"",responseCode:null,currentHeight:0,currentWidth:0,viewedTimes:0},t}))};e.buildDirectDisplayTagsMeta=function(t){return(0,r.isArrayEmpty)(t)?[]:t.map((function(t){return t._meta={adapter:i.EAdAdapterEnum.DirectDisplay,receivedAt:Date.now(),rDuration:t.r&&Number(t.r.split("@")[1])||null,state:o.ETagState.Unprocessed,timesCalled:0,adType:"",adStatus:"",responseType:"",responseCode:null,loop:0,currentHeight:0,currentWidth:0,viewedTimes:0},t}))};e.buildPrebidTags=function(t){return(0,r.isArrayEmpty)(t)?[]:t.map((function(t){return t._meta={adapter:i.EAdAdapterEnum.Prebid,state:o.ETagState.Unprocessed,timesCalled:0},t.tags.map((function(t){t._meta={adapter:i.EAdAdapterEnum.Prebid,receivedAt:Date.now(),rDuration:t.r&&Number(t.r.split("@")[1])||null,state:o.ETagState.Unprocessed,timesCalled:0,adType:"",adStatus:"",responseType:"",responseCode:null,loop:0,currentHeight:0,currentWidth:0,adDomains:[],cpm:null,currency:null,viewedTimes:0}})),t}))};e.buildGptTagsMeta=function(t){return(0,r.isArrayEmpty)(t)?[]:t.map((function(t){return t.timesToCall=2,t._meta={adapter:i.EAdAdapterEnum.GPT,receivedAt:Date.now(),rDuration:t.r&&Number(t.r.split("@")[1])||null,state:o.ETagState.Unprocessed,timesCalled:0,adType:"",adStatus:"",responseType:"",responseCode:null,loop:0,currentHeight:0,currentWidth:0,viewedTimes:0},t}))}},52:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0});var o=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timeouts=new Map},e=[{key:"setTimeout",value:function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,n){var r=this;this.clearTimeout(t);var i=setTimeout((function(){e(),r.timeouts.delete(t)}),n);this.timeouts.set(t,i)}))},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this.timeouts.get(t);e&&(clearTimeout(e),this.timeouts.delete(t))}))},{key:"clearAllTimeouts",value:function(){var t=this;this.timeouts.forEach((function(e,n){clearTimeout(e),t.timeouts.delete(n)}))}}],e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}());e.default=o},4588:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new L(r||[]);return a(o,"_invoke",{value:C(t,n,s)}),o}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",v="suspendedYield",m="executing",g="completed",y={};function b(){}function w(){}function E(){}var A={};d(A,u,(function(){return this}));var T=Object.getPrototypeOf,S=T&&T(T(j([])));S&&S!==n&&o.call(S,u)&&(A=S);var k=E.prototype=b.prototype=Object.create(A);function x(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,a,s,u){var c=p(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function C(e,n,r){var i=h;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=P(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,d(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},x(_.prototype),d(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(k),d(k,l,"Generator"),d(k,u,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(8423),l=u(n(203)),d=n(6251),f=u(n(2690)),p=u(n(9504)),h=u(n(6204)),v=n(7136),m=n(9911),g=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trackingUrl="",this.trackingListeners=[],this.logger=n.logger||new f.default,this.dom=n.dom,this.eventHistory=e,this.accumulatorTagRequest={},this.timeoutTagRequestRef=null,this.syncPixels=new h.default(this.dom.refs.wrapper.value),this.isTrackingEnabled=r},(e=[{key:"setTrackingUrl",value:function(t){this.trackingUrl=t}},{key:"trackEvent",value:function(t,e,n){return s(this,void 0,void 0,i().mark((function r(){var o,a,s,u;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.default.postTrackingEvent(e);case 3:o=r.sent,(a=o.data)&&(s=JSON.parse((0,v.base64Decode)(a)),(u=s.data.viewedTimes)&&(n._meta.viewedTimes=Number(u))),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),this.logger.error(r.t0);case 11:this.trackingListeners.forEach((function(e){"function"==typeof e&&e(t)}));case 12:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"trackPrincipalTagEvent",value:function(t,e,n){if(this.isTrackingEnabled){var r=this.eventHistory.getTimeElapsed(t).range;t===c.ELinearEvents.AdImpression&&this.updateBrandLiftTags(e);var i="",o=this.dom.getAdSize(e);o&&(i="".concat(o.width,"x").concat(o.height));var a=p.default.replace(this.trackingUrl,Object.assign({event:t,id:e.id,loop:e._meta.loop,requeststatus:e._meta.status,requestsize:e._meta.xmlSize,timeelapsed:r,r:e.r,timescalled:e._meta.timesCalled,tagresponsetype:e._meta.responseType,adtype:e._meta.adType,adsize:i,viewedTimes:e._meta.viewedTimes},n&&n.message&&{errormessage:encodeURIComponent(n.message)}));this.trackEvent(t,a,e)}}},{key:"trackGptTagEvent",value:function(t,e,n){if(this.isTrackingEnabled){var r=this.eventHistory.getTimeElapsed(t).range,i="",o=this.dom.getAdSize(e);o&&(i="".concat(o.width,"x").concat(o.height));var a=p.default.replace(this.trackingUrl,Object.assign({event:t,id:e.id,loop:e._meta.loop,timeelapsed:r,r:e.r,timescalled:e._meta.timesCalled,tagresponsetype:e._meta.responseType,adtype:e._meta.adType,adsize:i,viewedTimes:e._meta.viewedTimes},n&&n.message&&{errormessage:encodeURIComponent(n.message)}));this.trackEvent(t,a,e)}}},{key:"trackPrebidTagEvent",value:function(t,e,n){if(this.isTrackingEnabled){var r=this.eventHistory.getTimeElapsed(t).range,i="",o=this.dom.getAdSize(e);o&&(i="".concat(o.width,"x").concat(o.height));var a=p.default.replace(this.trackingUrl,Object.assign({event:t,id:e.id,loop:e._meta.loop,timeelapsed:r,r:e.r,timescalled:e._meta.timesCalled,tagresponsetype:e._meta.responseType,adtype:e._meta.adType,adsize:i,addomains:e._meta.adDomains.map((function(t){return encodeURIComponent(t)})).join(","),p:e._meta.cpm,c:e._meta.currency,viewedTimes:e._meta.viewedTimes},n&&n.message&&{errormessage:encodeURIComponent(n.message)}));this.trackEvent(t,a,e)}}},{key:"trackDirectDisplayTagEvent",value:function(t,e,n){if(this.isTrackingEnabled){var r=this.eventHistory.getTimeElapsed(t).range,i="",o=this.dom.getAdSize(e);o&&(i="".concat(o.width,"x").concat(o.height));var a=p.default.replace(this.trackingUrl,Object.assign({event:t,id:e.id,loop:e._meta.loop,timeelapsed:r,r:e.r,timescalled:e._meta.timesCalled,tagresponsetype:e._meta.responseType,adtype:e._meta.adType,adsize:i,viewedTimes:e._meta.viewedTimes},n&&n.message&&{errormessage:encodeURIComponent(n.message)}));this.trackEvent(t,a,e)}}},{key:"addTrackingEventListener",value:function(t){this.trackingListeners.push(t)}},{key:"setupTrackingReport",value:function(t,e){var n=this;t.addEventListener("beforeunload",this.sendTrackingData.bind(this,!1)),t.addEventListener("blur",this.sendTrackingData.bind(this,!1)),this.timeoutTagRequestRef=t.setInterval((function(){n.sendTrackingData(!0)}),e)}},{key:"recordAdTagRequest",value:function(t){var e=this.eventHistory.getTimeElapsed(c.ECustomEvents.AdTagRequest).range;Array.isArray(this.accumulatorTagRequest[t.id])||(this.accumulatorTagRequest[t.id]=[]);var n={event:c.ECustomEvents.AdTagRequest,adType:t._meta.adType,responseType:t._meta.responseType,responseCode:t._meta.responseCode,loop:t._meta.loop,timesCalled:t._meta.timesCalled,timeElapsed:e};this.accumulatorTagRequest[t.id].push(n)}},{key:"recordAdTagAttempt",value:function(t){var e=this.eventHistory.getTimeElapsed(c.ECustomEvents.AdTagAttempt).range;Array.isArray(this.accumulatorTagRequest[t.id])||(this.accumulatorTagRequest[t.id]=[]);var n={event:c.ECustomEvents.AdTagAttempt,adType:t._meta.adType,adStatus:t._meta.adStatus,loop:t._meta.loop,timeElapsed:e};this.accumulatorTagRequest[t.id].push(n)}},{key:"trackCustomEvent",value:function(t,e){switch(t._meta.adapter){case m.EAdAdapterEnum.MOL:this.trackPrincipalTagEvent(c.ECustomEvents[e],t);break;case m.EAdAdapterEnum.GPT:this.trackGptTagEvent(c.ECustomEvents[e],t);break;case m.EAdAdapterEnum.DirectDisplay:this.trackDirectDisplayTagEvent(c.ECustomEvents[e],t);break;case m.EAdAdapterEnum.Prebid:var n=t.tags[t._meta.winnerTagIndex];this.trackPrebidTagEvent(c.ECustomEvents[e],n)}}},{key:"cleanup",value:function(){null!==this.timeoutTagRequestRef&&(window.clearInterval(this.timeoutTagRequestRef),this.timeoutTagRequestRef=null),window.removeEventListener("beforeunload",this.sendTrackingData.bind(this,!1)),window.removeEventListener("blur",this.sendTrackingData.bind(this,!1)),this.trackingListeners=[],this.accumulatorTagRequest={}}},{key:"forceSendTrackingData",value:function(){this.sendTrackingData(!0)}},{key:"sendTrackingData",value:function(t){var e=this,n=Object.assign({},this.accumulatorTagRequest),r=!1;for(var i in this.accumulatorTagRequest){var o=this.accumulatorTagRequest[i];Array.isArray(o)&&o.length>0&&(r=!0),this.accumulatorTagRequest[i]=[]}r&&l.default.postTrackingTag(n,t).catch((function(t){return e.logger.error(t)}))}},{key:"updateBrandLiftTags",value:function(t){var e=JSON.parse(window.localStorage.getItem(d.itemBrandLiftTags)||"[]");if(t.brandLiftId)-1===e.findIndex((function(e){return e.id===t.brandLiftId}))&&(e.push({id:t.brandLiftId,complete:!1}),window.localStorage.setItem(d.itemBrandLiftTags,JSON.stringify(e)));else{var n=e.findIndex((function(e){return e.id===t.id}));n>-1&&!e[n].complete&&(e[n].complete=!0,window.localStorage.setItem(d.itemBrandLiftTags,JSON.stringify(e)))}}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=g},149:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=n(1390),d=n(3371),f=c(n(52)),p=s((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveViewabilityMethod=function(){return Object.keys(e.viewabilityMethods).find((function(t){return e.viewabilityMethods[t]()}))||l.EViewabilityEnum.UNMEASURABLE},this.sendViewability=function(t,n,r,i){var o=r.measurable,a=r.viewable,s=r.creativeView,u=e.resolveViewabilityMethod();u?n&&o.forEach((function(n){return e.firePixel(t,n)})):u=l.EViewabilityEnum.UNMEASURABLE;var c=!1,d=u===l.EViewabilityEnum.INTERSECTIONOBSERVER?e.viewabilityByIntersectionObserver:e.viewabilityByGeometry;return n&&d(n,(function(){c||(a.forEach((function(n){return e.firePixel(t,n)})),s.forEach((function(n){return e.firePixel(t,n)})),i(),c=!0)}))},this.firePixel=function(t,e){var n;if(e){var r=document.createElement("img");r.width=1,r.height=1,r.src=e,((null===(n=null===top||void 0===top?void 0:top.document)||void 0===n?void 0:n.body)||document.body).appendChild(r)}},this.viewabilityByIntersectionObserver=function(t,e){var n=function(){},r=!1;function i(t){t?f.default.setTimeout(d.ETimeout.ViewableTimeout,(function(){e(),a.disconnect(),document.removeEventListener("visibilitychange",o)}),2e3):f.default.clearTimeout(d.ETimeout.ViewableTimeout)}null==n||n();var o=function(){document.hidden?i(!1):i(r)};document.addEventListener("visibilitychange",o);var a=new IntersectionObserver((function(t){var e=t[0];r=e.isIntersecting,e.isIntersecting&&i(!document.hidden)}),{root:null,rootMargin:"0px",threshold:.5});return a.observe(t),n=function(){a.disconnect(),clearTimeout(undefined),document.removeEventListener("visibilitychange",o)}},this.viewabilityByGeometry=function(t,n){var r=0,i=-1,o=setInterval((function(){var a=t.getBoundingClientRect(),s=[a.top,a.left,a.top+a.height,a.left+a.width],u=e.getIntersectingRectangle(s,[0,0,window.innerHeight,window.innerWidth]),c=u&&u/e.getArea.apply(e,s);c&&(c>.5&&(-1===i||i>.5)?(r+=100)>2e3&&(window.clearInterval(o),n()):r=0,i=c)}),100);return function(){clearInterval(o)}},this.getIntersectingRectangle=function(t,n){var r=i(t,4),o=r[0],a=r[1],s=r[2],u=r[3],c=i(n,4),l=c[0],d=c[1],f=c[2],p=c[3],h=l>s||d>u||f<o||p<a,v=Math.max(o,l),m=Math.max(a,d),g=Math.min(s,f),y=Math.min(u,p);return!h&&e.getArea(v,m,g,y)},this.getArea=function(t,e,n,r){return(n-t)*(r-e)},this.viewabilityMethods={INTERSECTIONOBSERVER:function(){return!!window.IntersectionObserver},GEOMETRY:function(){var t;try{return top===window||(null===(t=null===window||void 0===window?void 0:window.top)||void 0===t?void 0:t.document)}catch(t){}return!1}}}));e.default=p},1568:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.handleElasticErrorCapture=void 0;var i=n(4655),o=n(5911),a=r(n(8330)),s=(0,i.init)({active:"production"!==o.envVars.NODE_ENV,serviceName:o.envVars.ELASTIC_APM_SERVICE_NAME,serverUrl:o.envVars.ELASTIC_APM_SERVER_URL,environment:o.envVars.NODE_ENV,serviceVersion:a.default.version,instrument:!0,disableInstrumentations:["page-load","history","eventtarget","click","xmlhttprequest","fetch"],transactionSampleRate:1,eventsLimit:20,apmRequest:function(t){return t.xhr.setRequestHeader("Authorization","Bearer ".concat(o.envVars.ELASTIC_APM_SECRET_TOKEN)),!0}});e.handleElasticErrorCapture=function(t,e){var n=Object.assign(Object.assign({},e),{message:t.message,stack:t.stack});s.setCustomContext(n),s.captureError(t)}},9747:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIsMobile=void 0;var r=n(5911),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;e.checkIsMobile=function(){var t=window.navigator,e=!1,n=navigator.userAgent||navigator.vendor||(null===window||void 0===window?void 0:window.opera)||"",a=t.userAgentData;return a&&void 0!==a.mobile&&(e=a.mobile),n&&(e=i.test(n)||o.test(n.substr(0,4))),!("development"!==r.envVars.NODE_ENV||"#mobile"!==window.location.hash&&!e)||e}},1107:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getConsentString=function(t){var e=t.timeout,n=void 0===e?0:e;return new Promise((function(t,e){var r=window.__tcfapi,a=window.__cmp;r&&"function"==typeof r?r("getTCData",2,(function(n,r){r&&n.tcString?t(n.tcString):e(new Error("Consent string not available from window.__tcfapi"))})):a&&"function"==typeof a?a("getConsentData",null,(function(n){n&&n.tcString?t(n.tcString):e(new Error("Consent string not available from window.__cmp"))})):e(new Error("Functions window.__tcfapi and window.__cmp are not available")),o.default.setTimeout(i.ETimeout.TcfapiCmpTimeout,(function(){e(new Error("window.__tcfapi and window.__cmp are not responding after ".concat(n,"ms")))}),n)}))};var i=n(3371),o=r(n(52))},927:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCookie=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";document.cookie="".concat(t,"=").concat(e,";path=").concat(r,";").concat(n?"expires=".concat(n,";"):"","SameSite=None;secure")},e.getCookie=function(t){var e=document.cookie.split("".concat(t,"="));if(2===e.length){var n=e.pop();if(n)return n.split(";").shift()||null}return null}},7198:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDemoData=e.createTestData=void 0;e.createTestData=function(t,e){return{principalTags:t.map((function(t,n){var r=n+1-e,i={id:n+1,url:"string"==typeof t?t:t.url||"",timesToCall:r<0?0:r,delay:n<=2?0:5,r:n<=2?null:"1692402910683000000:0cjfl20er0qh6gvujuggg:1692402900147000000:11@60",brandLiftId:2===n?5:null};return"string"==typeof t?i:Object.assign(Object.assign({},i),t)})),gptTags:[],directDisplayTags:[]}};e.createDemoData=function(t,e){var a,s,u,c;return Object.assign(Object.assign({},t),{principalTags:(null===(a=t.principalTags)||void 0===a?void 0:a.length)?n(t.principalTags,e):[],gptTags:(null===(s=t.gptTags)||void 0===s?void 0:s.length)?r(t.gptTags):[],directDisplayTags:(null===(u=t.directDisplayTags)||void 0===u?void 0:u.length)?i(t.directDisplayTags):[],prebidjs:(null===(c=t.prebidjs)||void 0===c?void 0:c.tags)&&o(t.prebidjs)})};var n=function(t,e){return t.map((function(t,n){var r=n+1-e,i={id:n+1,url:t.url,timesToCall:r<0?0:r,delay:0};return Object.assign(Object.assign({},i),t)}))},r=function(t){return t.map((function(t,e){var n={id:e+1,unitCode:t.unitCode,sizes:[[300,250],[300,100]],showAfter:1,duration:30};return Object.assign(Object.assign({},n),t)}))},i=function(t){return t.map((function(t,e){var n={id:e+1,code:t.code,width:300,height:250,showAfter:1,duration:30,trackingPixels:[]};return Object.assign(Object.assign({},n),t)}))},o=function(t){return{tags:(e=t.tags,e.map((function(t,e){var n={id:e+1,duration:30,bidder:t.bidder,params:t.params};return Object.assign(Object.assign({},n),t)}))),sizes:[[300,250],[300,100]],timesToCall:1,showAfter:1,floorCPM:.01};var e}},5709:(t,e)=>{"use strict";function n(t){for(var e=t.split("."),n=[],r=e.length-1;r>=0&&(n.push(e[r]),!(1!==n.length&&e[r].length>3));r--);return n.reverse().join(".")}Object.defineProperty(e,"__esModule",{value:!0}),e.getUrlFromAncestorOrigins=e.getDomainFromUrl=void 0,e.getDomainWithoutSubdomain=n;e.getDomainFromUrl=function(t,e){var r=new URL(t);return Object.assign({subdomain:!1},e).subdomain?r.hostname:n(r.hostname)};e.getUrlFromAncestorOrigins=function(){var t=window.location.href,e=window.location.ancestorOrigins;return e&&e.length&&(t=e[e.length-1]),t}},1688:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEventTrusted=void 0;e.isEventTrusted=function(t){return!!t&&!!t.isTrusted}},7136:(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayEmpty=e.getAppearAt=e.createEncodedUrl=e.getTopWindowReference=e.hasTopWindowAccess=e.objectToCssStyle=e.base64Decode=e.base64Encode=e.useListeners=e.deepFreeze=e.parseJSON=e.isJSON=e.isValidIP=e.isValidURL=e.isObject=e.randomStringOfDigits=e.generateGUUID=void 0,e.isBase64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{2}==|[A-Za-z\d+/]{3}=)?$/.test(t)};var o=function(){return(0|16*Math.random()).toString(16)};e.generateGUUID=function(){return"10000000-1000-4000-8000-100000000000".replace(/1|0/g,o)};e.randomStringOfDigits=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="0123456789",n="",r=0;r<t;r++){n+=e[Math.floor(10*Math.random())]}return n};e.isObject=function(t){return"object"===i(t)&&null!==t&&!Array.isArray(t)};e.isValidURL=function(t){return/^(ftp|http|https):\/\/[^ "]+$/.test(t)};e.isValidIP=function(t){return/^(\d{1,3}\.){3}\d{1,3}$/.test(t)};e.isJSON=function(t){try{return JSON.parse(t),!0}catch(t){return!1}};e.parseJSON=function(t){try{return JSON.parse(t)}catch(t){return!1}};e.deepFreeze=function(t){return Object.keys(t).forEach((function(n){var r=t[n];"object"===i(r)&&null!==r&&(0,e.deepFreeze)(r)})),Object.freeze(t)};e.useListeners=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||"function"!=typeof t)throw new Error('"useListeners" first argument has to be a callback function');Array.isArray(e)&&e.length>0?e.forEach((function(e){return e(t)})):t()};e.base64Encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return btoa(t)}catch(t){return""}};e.base64Decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return atob(t)}catch(t){return""}};e.objectToCssStyle=function(t){return Object.entries(t).map((function(t){var e=n(t,2),r=e[0],i=e[1],o=r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();return"".concat(o,":").concat(i)})).join(";")};e.hasTopWindowAccess=function(){var t=!1;try{if(window.top&&window.top.document){var e="vido-player-wt-check",n=document.createElement("div");n.style.display="none",n.id=e,window.top.document.body.appendChild(n);var r=window.top.document.getElementById(e);r&&r.parentNode&&(t=!0,r.parentNode.removeChild(r))}}catch(e){t=!1}return t};e.getTopWindowReference=function(){return(0,e.hasTopWindowAccess)()?window.top||parent||window:{window,document}};e.createEncodedUrl=function(t){var n=new URL(t),r=n.search.substring(1),i=(0,e.base64Encode)(r);return n.search="?data=".concat(i),n.toString()};e.getAppearAt=function(t){for(var e=t.split(" "),n=["left","right"],r=["top","bottom"],i="right",o="bottom",a=0;a<e.length;a++)n.includes(e[a])&&(i=e[a]),r.includes(e[a])&&(o=e[a]);return{x:i,y:o}};e.isArrayEmpty=function(t){return null==t||!Array.isArray(t)||0===t.length}},1221:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useRef=e.useListeners=void 0;e.useListeners=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||"function"!=typeof t)throw new Error('"useListeners" first argument has to be a callback function');Array.isArray(e)&&e.length>0?e.forEach((function(e){return e(t)})):t()};e.useRef=function(){return{current:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}},6008:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useUrlListener=void 0;e.useUrlListener=function(t,e,n){var r=n.logger,i=t.location.href,o=t.location.hash;new MutationObserver((function(){t.location.href!==i&&(i=t.location.href,r.log("[URL] href: ".concat(t.location.href)),e(i,o))})).observe(t.document,{subtree:!0,childList:!0}),t.onhashchange=function(){var n=t.location.hash;n!==o&&(r.log("[URL] hash: ".concat(n)),e(i,o=n))}}},6520:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postMessageAdCloseEvent=e.postMessageSendAmpConsent=e.postMessageOnEnd=e.postMessageOnShow=void 0;e.postMessageOnShow=function(t){var e=t.adWidth,n=t.adHeight,r=t.containerWidth,i=t.containerHeight;window.postMessage({type:"vidoomy-player-event",event:"on-show",adWidth:e,adHeight:n,containerWidth:r,containerHeight:i},"*")};e.postMessageOnEnd=function(){window.postMessage({type:"vidoomy-player-event",event:"on-end"},"*")};e.postMessageSendAmpConsent=function(){window.parent.postMessage({sentinel:"amp",type:"send-consent-data"},"*")};e.postMessageAdCloseEvent=function(){window.postMessage({type:"vidoomy-player-event",event:"ad-close"},"*")}},78:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeEval=function(t){var e=document.createElement("script");e.text=t,((null===top||void 0===top?void 0:top.document)||document).body.appendChild(e)}},6163:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupTimeAlive=void 0;var r=n(6120);e.setupTimeAlive=function(){var t=0,e=30,n=0,i=function(){r.TimeAliveAPI.getTimeAlive(t.toString(),n.toString()),n=t,e=t+300};setInterval((function(){++t>=e&&i()}),1e3),window.addEventListener("beforeunload",(function(){i()}))}},1663:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(9248),i=n.n(r),o=n(9089),a=n.n(o)()(i());a.push([t.id,".CfRoxRRBazrtMhqpT10t {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: auto;\n\tbackground-color: #000;\n\toverflow: hidden;\n\n}\n\n\t.CfRoxRRBazrtMhqpT10t video {\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tbackground-color: #000;\n\t}\n",""]),a.locals={vpaidAdapter:"CfRoxRRBazrtMhqpT10t"};const s=a},1496:(t,e,n)=>{"use strict";n.d(e,{A:()=>y});var r=n(9248),i=n.n(r),o=n(9089),a=n.n(o),s=n(6492),u=n.n(s),c=new URL(n(7229),n.b),l=new URL(n(9423),n.b),d=new URL(n(765),n.b),f=new URL(n(3505),n.b),p=a()(i()),h=u()(c),v=u()(l),m=u()(d),g=u()(f);p.push([t.id,`.hPgVrsnJ7H8GeW9du_64 {\n\tposition: absolute;\n\tbottom: 10px;\n\tborder-radius: 6px;\n\ttransition: all ease 200ms;\n\tcursor: pointer;\n\tz-index: 100;\n\tbackground-color: rgba(103, 103, 103, 0.4);\n}\n\n\t.hPgVrsnJ7H8GeW9du_64:hover {\n\t\tbackground-color: rgba(103, 103, 103, 0.65);\n\t}\n\n\t.hPgVrsnJ7H8GeW9du_64[data-hidden='true'] {\n\t\tdisplay: none;\n\t}\n\n\t.hPgVrsnJ7H8GeW9du_64[data-hidden='false'] {\n\t\tdisplay: inline-block;\n\t}\n.m3WlbIU44y_Rddhpkizv {\n\tleft: 10px;\n}\n.XJV1AgGU0406rTJYtBmv {\n\tright: 10px;\n}\n\n.UyqeI7iVGGYgjPrc0fUx {\n\tdisplay: inline-block;\n\twidth: 34px;\n\theight: 28px;\n\tbackground-size: auto 20px;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n.xhuCryf7wy9hnKLnO3mr {\n\tbackground-image: url(${h});\n}\n.vni7inUOOC7J4MGBpLjk {\n\tbackground-image: url(${v});\n}\n\n.qE4RXLqF7CjQDdMasnw6 {\n\tbackground-image: url(${m});\n}\n\n.amO0fvMIxb_ucTYvV4OP {\n\tbackground-image: url(${g});\n}\n\n.uMql69xeMJRRAFSeEWsw {\n\tdisplay: flex;\n    align-items: center;\n}\n\n.Pqaaul1UQQKVGE4TCoI6 {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\ttransition: all ease 200ms;\n\toverflow: hidden;\n}\n\n.Pqaaul1UQQKVGE4TCoI6::before {\n\t\tbackground-color: gray;\n\t\twidth: 4px;\n\t\tdisplay: block;\n\t\tmargin: 0 auto;\n\t\tcontent: '';\n\t\theight: 0;\n\t\ttransition: all ease 200ms;\n\t}\n\n.z04LWahYi2geDMSfLSxw {\n\t\theight: 8px;\n\t\twidth: 8px;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 50%;\n\t\tmargin-left: -4px;\n\t\tbackground-color: white;\n\t\tborder-radius: 8px;\n\t\tpointer-events: none;\n\t}\n\n.XJV1AgGU0406rTJYtBmv[data-unmuted="true"]:hover .Pqaaul1UQQKVGE4TCoI6, .Pqaaul1UQQKVGE4TCoI6.Drk4dkZsBX_6CPeZfpAm {\n\t\tpadding-top: 15px;\n\t}\n\n.XJV1AgGU0406rTJYtBmv[data-unmuted="true"]:hover .Pqaaul1UQQKVGE4TCoI6::before, .Pqaaul1UQQKVGE4TCoI6.Drk4dkZsBX_6CPeZfpAm::before {\n\t\t\theight: 60px;\n\t\t}\n.jtVk5NsEaEbv1yb3OYHQ {\n\tdisplay: none;\n}\n`,""]),p.locals={playerBtn:"hPgVrsnJ7H8GeW9du_64",playPauseBtn:"m3WlbIU44y_Rddhpkizv",volumeContainer:"XJV1AgGU0406rTJYtBmv",icon:"UyqeI7iVGGYgjPrc0fUx",iconMute:"xhuCryf7wy9hnKLnO3mr",iconSpeaker:"vni7inUOOC7J4MGBpLjk",iconPlay:"qE4RXLqF7CjQDdMasnw6",iconPause:"amO0fvMIxb_ucTYvV4OP",iconCenter:"uMql69xeMJRRAFSeEWsw",volume:"Pqaaul1UQQKVGE4TCoI6",volumeDot:"z04LWahYi2geDMSfLSxw",lock:"Drk4dkZsBX_6CPeZfpAm",hide:"jtVk5NsEaEbv1yb3OYHQ"};const y=p},7066:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(9248),i=n.n(r),o=n(9089),a=n.n(o)()(i());a.push([t.id,".qwkv7Kzk5cFgJHTQE3pI {\n\tposition: relative;\n\tdisplay: block;\n\tmargin: auto;\n\tbackground-color: #000;\n\toverflow: hidden;\n\n}\n\n\t.qwkv7Kzk5cFgJHTQE3pI:not(.MoeAfdEuuBZAzqZRnZqR) {\n\t\theight: 0px !important;\n\t}\n\n\t.qwkv7Kzk5cFgJHTQE3pI.qcO7dv4mqUM9DLPbwAzk:not(.MoeAfdEuuBZAzqZRnZqR) {\n\t\theight: 0px !important;\n\t}\n\n\t.qwkv7Kzk5cFgJHTQE3pI video {\n\t\twidth: 100% !important;\n\t\theight: auto !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tright: 0;\n\t\tbackground-color: #000;\n\t}",""]),a.locals={inText:"qwkv7Kzk5cFgJHTQE3pI",appear:"MoeAfdEuuBZAzqZRnZqR",loaded:"qcO7dv4mqUM9DLPbwAzk"};const s=a},9031:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(9248),i=n.n(r),o=n(9089),a=n.n(o)()(i());a.push([t.id,".XIK3pilOtc3FkAO3vh4Y {\n\tborder-top-left-radius: 5px;\n\tborder-bottom-left-radius: 5px;\n\tborder-bottom-right-radius: 5px;\n\tborder: 1px solid rgb(204, 204, 204);\n\tpadding: 4px;\n\toverflow: visible;\n\tbackground-color: rgb(238, 238, 238);\n\tbox-sizing: border-box;\n\n\tposition: fixed;\n\tbottom: 0;\n\tright: 0;\n}\n\n\t.XIK3pilOtc3FkAO3vh4Y.vrYSniMeM3ePSlY2Ou3Z {\n\t\ttop: 25px;\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y.pQmNKhbtigKnCfuTeMRQ {\n\t\tbottom: 10px;\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y.xOQMf_Rk0_Ms1nbgeBR4 {\n\t\tleft: -100%;\n\t\ttransform: translateX(-100%);\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y.xOQMf_Rk0_Ms1nbgeBR4.HaKXs0MkPovfax4yIOIJ {\n\t\t\ttransform: translateX(0);\n\t\t\tleft: 25px;\n\t\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y._3Gerh5ThjjalwgOax2cw {\n\t\tright: -100%;\n\t\ttransform: translateX(100%);\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y._3Gerh5ThjjalwgOax2cw.HaKXs0MkPovfax4yIOIJ {\n\t\t\ttransform: translateX(0);\n\t\t\tright: 25px;\n\t\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y .Y6VvljfWwquw4LCPe13t {\n\t\ttop: -22px;\n\t\theight: auto;\n\t\tline-height: 20px;\n\t\tpadding: 5px;\n\t\tpadding-top: 0px;\n\t\tpadding-bottom: 2px;\n\t\tposition: absolute;\n\t\tbackground-color: rgb(238, 238, 238);\n\t\tborder-top-left-radius: 5px;\n\t\tborder-top-right-radius: 5px;\n\t\tborder: 1px solid rgb(204, 204, 204);\n\t\tborder-bottom: none;\n\t\tz-index: 59999;\n\t\tfont-family: 'Trebuchet MS', Helvetica, Verdana, Arial;\n\t\tfont-size: 12px;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\tuser-select: none;\n\t\topacity: 1;\n\t\ttransition: opacity 400ms ease-in-out;\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y .Y6VvljfWwquw4LCPe13t.T0ZhlkVFofcorgvOmVUX {\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y .KU6taH6Iufu7hecLfdEz {\n\t\tposition: relative;\n\t\tmax-width: 100%;\n\t\ttext-align: left;\n\t\tdirection: ltr;\n\t\tbackground-color: #000;\n\t\toverflow: hidden;\n\t}\n\n\t.XIK3pilOtc3FkAO3vh4Y video {\n\t\twidth: 100% !important;\n\t\theight: 100% !important;\n\t\tobject-fit: contain !important;\n\t\tmargin: auto;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground-color: #000;\n\t}",""]),a.locals={slider:"XIK3pilOtc3FkAO3vh4Y",top:"vrYSniMeM3ePSlY2Ou3Z",bottom:"pQmNKhbtigKnCfuTeMRQ",left:"xOQMf_Rk0_Ms1nbgeBR4",appear:"HaKXs0MkPovfax4yIOIJ",right:"_3Gerh5ThjjalwgOax2cw",closer:"Y6VvljfWwquw4LCPe13t",closerHidden:"T0ZhlkVFofcorgvOmVUX",wrapper:"KU6taH6Iufu7hecLfdEz"};const s=a},470:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),u=n.n(s),c=n(5056),l=n.n(c),d=n(540),f=n.n(d),p=n(1113),h=n.n(p),v=n(1663),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=u().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(v.A,m);const g=v.A&&v.A.locals?v.A.locals:void 0},4971:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),u=n.n(s),c=n(5056),l=n.n(c),d=n(540),f=n.n(d),p=n(1113),h=n.n(p),v=n(1496),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=u().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(v.A,m);const g=v.A&&v.A.locals?v.A.locals:void 0},2025:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),u=n.n(s),c=n(5056),l=n.n(c),d=n(540),f=n.n(d),p=n(1113),h=n.n(p),v=n(7066),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=u().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(v.A,m);const g=v.A&&v.A.locals?v.A.locals:void 0},4604:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),u=n.n(s),c=n(5056),l=n.n(c),d=n(540),f=n.n(d),p=n(1113),h=n.n(p),v=n(9031),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=u().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=f();i()(v.A,m);const g=v.A&&v.A.locals?v.A.locals:void 0},5072:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var u=t[s],c=r.base?u[0]+r.base:u[0],l=o[c]||0,d="".concat(c," ").concat(l);o[c]=l+1;var f=n(d),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var h=i(p,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function i(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var u=r(t,i),c=0;c<o.length;c++){var l=n(o[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=u}}},7659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},5056:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},3505:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAEdJREFUWAnt17EKACAIBUDt//+5WtpsaCro3iIoYtxWxO/JHUCfqWY5U/VX73SvrcVb1QMIECBAgAABAgQIECBA4NaP7J27AxT1CDj6xo1AAAAAAElFTkSuQmCC"},765:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAASlJREFUWAntVrERwjAMDNzRUbMAGzAD7AAzADUlzADMADvADDABC1DTURBedxROYjuSLZsCfPd3jqToFSUvpyj+y9GBsixPwMjhTm8GOa0XcACG6RlrDMRurCf2W2BQC0t3aZCb2wcu1kA/HfMns8lq2d9hmwO9ZIVYSG2mG4xToKNeiI3NY7vAN1YtwkPmc+lJ18fS4iPpHoE46baQcNwk3R0QJl0OAzMmTLrM5JIwku4C4ElXklkYW5GuU7+UVFVWzWRXmFbdpj2rxdmAQthWSTi9ghngJqceSDIyY+kjXALZP0KS4QaQnaC4IXbRINoD2QfRV0fxGU+s8x8p7D8dxxNVATMLqEy1nAXI5npIZY4OhElKoYC4sz2iAB1JBRagJ6mQAn7mnjeRiFQYoN5dcwAAAABJRU5ErkJggg=="},7229:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAZRJREFUWAntlD1Ow0AQhROEQPxUhI6egIS4QDgJEg00HCSHoEAiBXTkDHAGhBCiouICIAQ05ntOxtk1liJPbNN4pJednd15bzKZTafTWtsBZweSJFkHV870xdIQ3gePIFmMyZGN5gn4kLjMQeFLQWsNXEo0NB9bySwE++AhFDa/JFX56wgdg3cTzK/lGeOMZduK2Pwm16UmxYq0Ki+ARmpebkEvFGS/VxTP7nDosoxg6kAi8TdwD9IiWCWu/w3Fh/mcdM+By/JkkGwDiVsRA3wTv8FfDXO6tuHANYRdzDhshUrffAx2LcZ6B065/h3EZq4K8NiMIfbgOgLqgvAKduIbk13lQyhaxPosFxOJzg/rClD7o8HUeeUFTMXV/i2gtg/AC9DPMS4qgnhaNWflLU0OPmCwV5ANHLEesMGs/RVIbAiiaWev1/Ennk0wh5W9gqAhc91sBvScigyGc/A1l6nOCzTnEDyrS3mrUzfiRngTXP9bAVYNBZyBTyvE4o2uiB+AJxXRqHAohvYGGIWx1m874OnAL1FHkmqT29miAAAAAElFTkSuQmCC"},9423:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAmtJREFUWAntls9LVFEUx50MKgdnEQaSJC7CSNKFJSlKbdwJugsJWkn07wQtWkWCGKmrFkGbWoQgoqsSFyI0FEiLEApEg+L5+d6553GdH+/NjPN2c+A75957ft4z9517Ozra1K5AkxWIoqgLvG7S/HxmBL4NdkCU5AlxAcyCGdBZTfditcWkNRw9Qf4S5FP0FPAuGAGKcw3blVwud8w4plw8ShlgfAWVF2AhVMVhog/s+tCfB92gCJYw+Q93lGhsSji5xXgNDNua8bQEpId9AfYUKIktbN7DHV2wQS2O8WNk26AieLkNunnwUDyUEfAP87fgHxhDPgB3FFeAxcQDZQblPKwALmaRj4K/4B2y3VAf+TTzKfAD2SvJUisgpXoI59rMV7AHLoFHrA3BQ1pncgJuIOuVoGUJsKMIfANv8PtJzqE5AsV/BzIFV5Iil1zLEij5LP0S6DMjq8T9UMZ438/7xTNJwAfY8HzQc2M//aBHPMsEDnygq54bO/ID9ZVME7CAiTzLClz3kQ/LMrBD6VpylglM+MA6jCG5z4+FX1rMJAE+vQf41uFTQ9oEId30k+/iuqVaQgRVIxoA2rmdfHVDO3S6Ey4js5buumTLEiAQ/iM5t51XtGJkasNKQq3YfY5xAizE9wIKMeH0GZPnQIZp9BGF32Abd/HOZYQfXcvjGkPSc1Q1qAmNY6xHxSrQtXyGaiUeKmHf/HUsRwT5ArsHljVvhPzO7S1QxPZDaF9XBUIDHOpFpJeR62S1KoCenmT6GiaB/uoiqHiSsdY44fwO2AWJbwjEqY/SxqN7C5zr9bPYtIO2YbsCvgKnv2/cU9Aqw4MAAAAASUVORK5CYII="},8330:t=>{"use strict";t.exports=JSON.parse('{"name":"vidoomy-player","version":"3.28.1","description":"Vidoomy Player","main":"src/index.ts","keywords":[],"author":"","license":"UNLICENSED","private":true,"engines":{"node":">=18.18.0"},"scripts":{"start":"cross-env NODE_ENV=development VIEW_MODE=preview webpack serve --config webpack.dev.config.ts","start:playground":"cross-env NODE_ENV=development VIEW_MODE=playground webpack serve --config webpack.dev.config.ts","clean":"rm -f ./.tsbuildinfo && rm -rf ./dist","watch":"webpack --watch","build":"npm run build:production","build:production":"webpack --node-env=production --config webpack.prod.config.ts","build:staging":"webpack --node-env=staging --config webpack.dev.config.ts","surge":"npm run build && surge dist vid-ad.surge.sh","lint":"eslint src/**/*.{js,ts}","lint-fix":"eslint src/**/*.{js,ts} --fix","lint-staged":"lint-staged","commitlint":"commitlint --edit","commit":"git-cz","adapter:start":"cd vpaid-adapter && webpack serve --node-env=development --config webpack.dev.config.ts","adapter:build:staging":"cd vpaid-adapter && webpack --node-env=staging --config webpack.dev.config.ts","adapter:build:production":"cd vpaid-adapter && webpack --node-env=production --config webpack.prod.config.ts","prepare":"husky install","test":"cross-env NODE_OPTIONS=--experimental-vm-modules jest --passWithNoTests"},"lint-staged":{"*.{js,ts}":"eslint src/**/*.{js,ts} --fix"},"config":{"commitizen":{"path":"@commitlint/cz-commitlint"}},"dependencies":{"@elastic/apm-rum":"^5.14.0","@vidoomy/mol-ad-sdk":"^1.2.9","jsdom":"^22.1.0","uuid":"^9.0.0"},"devDependencies":{"@babel/cli":"^7.21.5","@babel/core":"^7.24.0","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/plugin-transform-arrow-functions":"^7.21.5","@babel/plugin-transform-modules-commonjs":"^7.23.3","@babel/plugin-transform-react-jsx":"^7.21.5","@babel/preset-env":"^7.24.0","@babel/preset-react":"^7.23.3","@babel/preset-typescript":"^7.24.1","@babel/register":"^7.23.7","@commitlint/cli":"^17.7.1","@commitlint/config-conventional":"^17.7.0","@commitlint/cz-commitlint":"^17.7.1","@commitlint/prompt-cli":"^17.7.1","@eslint/eslintrc":"^3.1.0","@eslint/js":"^9.8.0","@types/css-modules":"^1.0.5","@types/google-publisher-tag":"^1.20240219.0","@types/html-webpack-plugin":"^3.2.9","@types/jest":"^29.5.12","@types/node":"^20.12.10","@types/uuid":"^9.0.8","@types/webpack":"^5.28.5","@types/webpack-dev-server":"^4.7.2","@types/webpack-env":"^1.18.5","@typescript-eslint/eslint-plugin":"^8.6.0","@typescript-eslint/parser":"^8.0.1","babel-jest":"^29.7.0","babel-loader":"^9.1.3","clean-webpack-plugin":"^4.0.0","commitizen":"^4.3.0","copy-webpack-plugin":"^11.0.0","cross-env":"^7.0.3","css-loader":"^6.7.3","dotenv":"^16.0.3","eslint":"^8.56.0 ","eslint-plugin-import":"^2.30.0","eslint-plugin-jest":"^28.0.0","eslint-webpack-plugin":"^4.0.1","fork-ts-checker-webpack-plugin":"^9.0.2","globals":"^15.9.0","html-webpack-plugin":"^5.5.1","husky":"^8.0.3","inquirer":"^8.2.6","jest":"^29.7.0","jest-environment-jsdom":"^29.7.0","lint-staged":"^14.0.1","postcss-loader":"^7.3.0","postcss-nested":"^6.0.1","standard-version":"^9.5.0","style-loader":"^3.3.2","terser-webpack-plugin":"^5.3.8","ts-jest":"^29.2.3","ts-loader":"^9.5.1","ts-node":"^10.9.2","typescript":"^5.4.5","typescript-eslint":"^8.0.1","webpack":"^5.91.0","webpack-cli":"^5.1.4","webpack-dev-server":"^4.15.0","webpack-merge":"^5.10.0"}}')}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(2031);((window.vidoomy=window.vidoomy||{}).main=window.vidoomy.main||{}).VidoomyPlayer=r.default})();
</script>

</body>
</html>
