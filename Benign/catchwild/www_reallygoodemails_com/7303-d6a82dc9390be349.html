<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>7303-d6a82dc9390be349.html</title>
</head>
<body>

<script>
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bdcc6456-72e6-483c-9cc9-3c2643e0cf50",e._sentryDebugIdIdentifier="sentry-dbid-bdcc6456-72e6-483c-9cc9-3c2643e0cf50")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7303],{93632:function(e,t,n){var l,o=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),l||(l=o.createElement("g",{fill:"currentColor",fillRule:"evenodd"},o.createElement("path",{d:"M12 5a1 1 0 0 1 1 1v12a1 1 0 0 1-2 0V6a1 1 0 0 1 1-1"}),o.createElement("path",{d:"M19 12a1 1 0 0 1-1 1H6a1 1 0 0 1 0-2h12a1 1 0 0 1 1 1"}))))}},26787:function(e,t,n){var l=n(70917),o=n(67294),r=n(25675),i=n.n(r),a=n(61368),c=n.n(a),s=n(56325),u=n(38236),d={name:"yy4wk0",styles:"object-fit:cover;object-position:top;position:static"};t.Z=function(e){var t=e.email,n=(0,o.useState)(!1),r=n[0],a=n[1],m=t.slug,f=t.title,p=t.originalWidth,h=t.originalHeight,g="".concat(c().emailImageRootUrl).concat(m,".png");return(0,u.tZ)("div",{css:(0,l.iv)({position:"relative",display:"block",paddingTop:"".concat(100*Math.min(2,(void 0===h?1200:h)/(void 0===p?600:p)),"%"),boxShadow:"0 0 0 1px ".concat(s.gv),background:s.ui,cursor:"pointer"},"",""),children:(0,u.tZ)(i(),{onError:function(){r||a(!0)},src:g,fill:!0,sizes:"(max-width: 600px) 50vw, (max-width: 800px) 25vw, (max-width: 1200px) 20vw, 16vw",alt:f,css:d})})}},40529:function(e,t,n){n.d(t,{Q:function(){return NewCollection}});var l=n(50029),o=n(87794),r=n.n(o),i=n(58057),a=n(11163),c=n(67294),s=n(78829),u=n(58177),d=n(85089),m=n(3775),f=n(46976),p=n(93632),h=n(38236),g={name:"1colok4",styles:"margin-top:20px;width:100%;display:flex;align-items:baseline;flex-direction:row-reverse;justify-content:space-between"};function NewCollection(e){var t=e.email,n=e.onClose,o=(0,s.oR)().actions,i=(0,c.useState)(""),a=i[0],d=i[1],p=(0,c.useState)(""),v=p[0],b=p[1],y=(0,c.useState)(!1),w=y[0],x=y[1];function _handleSubmit(){return(_handleSubmit=(0,l.Z)(r().mark(function _callee(e){return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,e.preventDefault(),x(!0),l.next=5,o.library.createCollection(a,v,t);case 5:n(),f.A.success("Created new collection!"),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(0),f.A.error(l.t0.message);case 12:x(!1);case 13:case"end":return l.stop()}},_callee,null,[[0,9]])}))).apply(this,arguments)}return(0,h.BX)("form",{onSubmit:function(e){return _handleSubmit.apply(this,arguments)},className:"p-3",children:[(0,h.tZ)(u.Z,{type:"text",value:a,onChange:function(e){return d(e.target.value)},label:"Name",placeholder:"Your collection name...",required:!0}),(0,h.tZ)(u.Z,{type:"textarea",value:v,onChange:function(e){return b(e.target.value)},label:"Description",placeholder:"Describe your collection..."}),(0,h.BX)("footer",{css:g,children:[(0,h.tZ)(m.z,{type:"submit",size:"sm",variant:"primary",loading:w,children:"Create Collection"}),(0,h.tZ)(m.z,{variant:"outline",size:"sm",onClick:n,disabled:w,children:"Cancel"})]})]})}var v={name:"sh4ud1",styles:"overflow:hidden;position:relative;flex-shrink:0"},b={name:"ozd7xs",styles:"flex-shrink:0"};function ToggleCollection(e){var t,n,o=e.email,u=e.collection,d=(0,a.useRouter)(),f=(0,s.oR)(),p=f.actions,g=f.state,y=u.posts.hasOwnProperty(null==o?void 0:o.slug),w=(0,c.useRef)(!1);function toggleIncluded(){return _toggleIncluded.apply(this,arguments)}function _toggleIncluded(){return(_toggleIncluded=(0,l.Z)(r().mark(function _callee2(){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=6;break}return e.next=3,p.library.addPostToCollection(o.slug,u.slug);case 3:w.current=!0,e.next=8;break;case 6:return e.next=8,p.library.removePostFromCollection(o.slug,u.slug);case 8:case"end":return e.stop()}},_callee2)}))).apply(this,arguments)}return w.current&&y&&"/emails/[slug]"===d.pathname&&(w.current=!1,d.push("/u/".concat(null==g?void 0:null===(t=g.auth)||void 0===t?void 0:null===(n=t.profile)||void 0===n?void 0:n.username,"/emails/collected/").concat(u.posts[o.slug].privatePostId,"?collection=").concat(u.slug))),(0,h.BX)("div",{onClick:o&&toggleIncluded,className:"flex cursor-pointer items-center justify-between p-3",children:[(0,h.tZ)("span",{className:"mr-3 truncate text-sm font-normal leading-normal",children:u.name}),(0,h.tZ)("div",{css:v,children:o&&(0,h.tZ)(m.z,{round:!0,css:b,size:"sm",onClick:toggleIncluded,leadingIcon:y?(0,h.tZ)(i.Z,{}):null,variant:y?"outline":"primary",children:y?"Saved":"Save"})})]})}var CollectionsList=function(e){var t=e.email,n=(0,s.oR)().state.library.collections;return(0,h.tZ)("ul",{className:"mt-3 h-full max-h-48 overflow-y-auto 2xl:max-h-64",children:Object.keys(n).sort(function(e,t){return(n[t].dateUpdated||0)-(n[e].dateUpdated||0)}).map(function(e){return(0,h.tZ)("li",{className:"m-3 cursor-pointer rounded bg-white first:mt-0",children:(0,h.tZ)(ToggleCollection,{email:t,collection:n[e]})},e)})})},EmptyState=function(){return(0,h.BX)("div",{className:"m-0 flex h-full flex-col items-center p-6 text-base text-gray-500",children:[(0,h.tZ)("span",{className:"font-bold",children:"Create your first collection"}),(0,h.tZ)("span",{className:"font-normal",children:"to save this really good email."})]})},CollectionsState=function(e){var t=e.email;return 0===Object.keys((0,s.oR)().state.library.collections).length?(0,h.tZ)(EmptyState,{}):(0,h.tZ)(CollectionsList,{email:t})},y={name:"4f2fez",styles:"flex-grow:1;flex-shrink:1;position:relative;width:100%;overflow-y:auto;-webkit-overflow-scrolling:touch"},w={name:"1twrxqg",styles:"box-shadow:0 0 10px rgb(0 0 0 / 10%)"};function CollectEmailContainer(e){var t=e.email,n=e.onClose,l=e.create,o=void 0!==l&&l,r=(0,s.gw)(),i=r.allowCollectionCreate,a=r.activePremium,u=r.toggleModal,f=(0,c.useState)(o),g=f[0],v=f[1];return(0,s.oR)().state.library.collections,(0,h.tZ)(h.HY,{children:(0,h.tZ)("div",{className:"flex w-full flex-col",children:(0,h.tZ)("div",{css:y,children:g?(0,h.tZ)(NewCollection,{email:t,onClose:o?n:function(){return v(!1)}}):(0,h.BX)("div",{className:"h-full overflow-hidden",children:[(0,h.tZ)(CollectionsState,{email:t}),(0,h.tZ)("div",{className:"sticky bottom-0 rounded-b border-t border-gray-200 bg-gray-100 p-3",css:w,children:(0,h.tZ)(m.z,{className:"w-full cursor-pointer rounded border-0 bg-white",size:"base",leadingIcon:(0,h.tZ)(p.Z,{}),onClick:function(){i?v(!0):a||u({type:d.KW.collection})},variant:"outline",children:"New Collection"})})]})})})})}t.Z=function(e){var t=e.email;return(0,h.tZ)("div",{className:"rounded bg-gray-100",children:(0,h.tZ)(CollectEmailContainer,{email:t})})}}}]);
</script>

</body>
</html>
