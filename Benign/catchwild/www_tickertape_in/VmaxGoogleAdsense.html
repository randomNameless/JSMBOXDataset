<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VmaxGoogleAdsense.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VmaxGoogleAdsense=t()}(this,(function(){"use strict";function e(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function t(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function i(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}function n(...e){console.log.apply(console,e)}function s(...e){console.error.apply(console,e)}"function"==typeof SuppressedError&&SuppressedError;const r=e=>"string"==typeof e&&e.length>0;var o,a,l,d,c,u,h,f,p,v,m,E,A,I,w,g,T,k,b,y,S,_,D,O;class R{constructor(e){var n;(o.add(this),a.set(this,void 0),l.set(this,void 0),d.set(this,[]),c.set(this,[]),u.set(this,[]),h.set(this,[]),f.set(this,"hidden"),p.set(this,null),v.set(this,null),m.set(this,!0),E.set(this,null),e instanceof HTMLElement)?(i(this,a,(n=t(this,o,"m",A).bind(this),new IntersectionObserver(n,{root:null,rootMargin:"0px",threshold:.5})),"f"),i(this,l,e,"f"),t(this,a,"f").observe(e),i(this,f,function(e){let t="hidden",i="visibilitychange";const n=window.document;return void 0!==n[t]?(t="hidden",i="visibilitychange"):void 0!==n.msHidden?(t="msHidden",i="msvisibilitychange"):void 0!==n.webkitHidden?(t="webkitHidden",i="webkitvisibilitychange"):void 0!==n.oHidden?(t="oHidden",i="ovisibilitychange"):void 0!==n.mozHidden?(t="mozHidden",i="mozvisibilitychange"):void 0!==n.khtmlHidden&&(t="khtmlHidden",i="khtmlvisibilitychange"),n.addEventListener(i,e,!0),t}(t(this,o,"m",I).bind(this)),"f"),function(e){window.addEventListener("focus",e),window.addEventListener("pageshow",e)}(t(this,o,"m",w).bind(this)),function(e){window.addEventListener("blur",e),window.addEventListener("pagehide",e)}(t(this,o,"m",g).bind(this)),this.check()):function(...e){console.warn.apply(console,e)}("Container must be a valid HTMLElement")}destroy(){var e;null===(e=t(this,a,"f"))||void 0===e||e.unobserve(t(this,l,"f")),i(this,d,[],"f"),i(this,c,[],"f"),i(this,u,[],"f"),i(this,h,[],"f"),i(this,p,null,"f"),i(this,v,null,"f"),i(this,m,null,"f"),clearInterval(t(this,E,"f"))}check(){t(this,o,"m",I).call(this)}enter(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,d,"f").push(e),this}exit(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,c,"f").push(e),this}enterOnce(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,u,"f").push(e),this}exitOnce(e){if("function"!=typeof e)throw new Error("Callback must be a function");return t(this,h,"f").push(e),this}}function C(e,t){const i=function(e,t){const i=navigator.userAgent.match(/Android/i),n=navigator.userAgent.match(/Chrome/i),s=e&&i&&n;if(!s)return!1;const r=function(e,t){try{const i=e.split("://"),n=i[0];return`intent://${i[1]}/#Intent;scheme=${n};S.browser_fallback_url=${t||""};end`}catch(e){return!1}}(e,t);return r||!1}(e,t);return i||t}function P(e){if("number"==typeof e)return e;try{const[t,i,n]=e.split(":"),s=60*parseInt(t)*60,r=60*parseInt(i);return s+r+parseInt(n)}catch(e){return function(...e){console.debug.apply(console,e)}("videoInstreamVmaxAd: Wrong time specified in vast parser",e),0}}function M(e){var t,i,n,s,r,o;const{bid:a,vast:l,hasVideoAdElement:d=!1,imaCompanions:c={companions:[],companionResourceUrls:[]}}=e,{ext:u={},w:h=null,h:f=null}=a||{},p=null!==(t=null==u?void 0:u["ad-meta"])&&void 0!==t?t:{},{id:v=null,name:m=null,"campaign-meta":E={}}=p,{id:A=null,name:I=null,marketer:w={},order:g={}}=E,{id:T=null,name:k=null,agency:b=null,brand:y=null}=w||{},{id:S=null,name:_=null}=g,D=e=>"number"==typeof e&&e>=0?e:-1,O=function(e){try{return JSON.parse(e)}catch(e){return{}}}((null==a?void 0:a.adm)||"{}"),R=(null==O?void 0:O.title)||"",M=(null==O?void 0:O.ctaText)||"",N=!!(null==O?void 0:O.linkUrl)||!!(null==O?void 0:O.linkFallback),L=C((null==O?void 0:O.linkUrl)||"",(null==O?void 0:O.linkFallback)||""),U=(null==l?void 0:l.adSystem)||"",F=(null==l?void 0:l.adTitle)||"",x=(null==l?void 0:l.description)||"",W=(null===(i=null==l?void 0:l.linear)||void 0===i?void 0:i.skipoffset)||(null==l?void 0:l.skipOffset)?D(P((null===(n=null==l?void 0:l.linear)||void 0===n?void 0:n.skipoffset)||(null==l?void 0:l.skipOffset)||"")):"",K=(null==l?void 0:l.duration)?D(P(null==l?void 0:l.duration)):"",V=!!(null==l?void 0:l.deepLinkUrl)||!!(null==l?void 0:l.clickThrough);let H=(null==l?void 0:l.companions)||[],j=(null==l?void 0:l.companionResourceUrls)||[];const Y=C((null==l?void 0:l.deepLinkUrl)||"",(null==l?void 0:l.clickThrough)||""),{companions:G=[],companionResourceUrls:B=[]}=c;G.length&&(H=[...G],j=[...B]);return{adId:v,adName:m,campaignId:A,campaignName:I,marketerId:T,marketerName:k,brand:y,agency:b,orderId:S,orderName:_,qualifiedSignature:(null===(o=null===(r=null===(s=null==a?void 0:a.ext)||void 0===s?void 0:s.modules)||void 0===r?void 0:r.render)||void 0===o?void 0:o.signature)||"",width:h,height:f,adSystem:U,adTitle:R||F,adDescription:x,ctaText:M,skipOffset:W,adDuration:K,isCTAAvailable:N||V,adClickUrl:L||Y,companionResourceUrls:j,hasVideoAdElement:d,companions:H}}a=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,E=new WeakMap,o=new WeakSet,A=function(e){var n;const s=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.isIntersecting;"boolean"==typeof s&&(i(this,p,!0===s,"f"),t(this,o,"m",T).call(this))},I=function(){const e=window.document;i(this,v,!1===(null==e?void 0:e[t(this,f,"f")])||"visible"===(null==e?void 0:e.visibilityState),"f"),t(this,o,"m",T).call(this)},w=function(){i(this,v,!0,"f"),t(this,o,"m",T).call(this)},g=function(){const e=window.document;clearInterval(t(this,E,"f")),i(this,E,setTimeout((()=>{!1===(!1===(null==e?void 0:e[t(this,f,"f")])||"visible"===(null==e?void 0:e.visibilityState))&&(i(this,v,!1,"f"),t(this,o,"m",T).call(this))}),1),"f")},T=function(){const e=t(this,p,"f")&&t(this,v,"f");if(t(this,m,"f")===e)return;const n=t(this,p,"f")&&t(this,v,"f"),s=t(this,n?d:c,"f"),r=t(this,n?u:h,"f");s.forEach((e=>e())),r.forEach((e=>e())),i(this,n?u:h,[],"f"),i(this,m,e,"f")},function(e){e.AD_READY="adReady",e.AD_IMPRESSION="adImpression",e.AD_RENDERED="adRendered",e.AD_REFRESHED="adRefreshed",e.AD_ERROR="adError",e.AD_CLOSED="adClosed",e.AD_CLICKED="adClicked",e.AD_SKIPPED="adSkipped",e.AD_SKIPPABLE_STATE_CHANGE="adSkippableStateChange",e.AD_PAUSED="adPaused",e.AD_RESUMED="adResumed",e.AD_VIDEO_START="adVideoStart",e.AD_VIDEO_FIRST_QUARTILE="adVideoFirstQuartile",e.AD_VIDEO_MIDPOINT="adVideoMidpoint",e.AD_VIDEO_THIRD_QUARTILE="adVideoThirdQuartile",e.AD_VIDEO_COMPLETE="adVideoComplete",e.AD_VOLUME_CHANGED="adVolumeChanged",e.AD_MUTED="adMuted",e.AD_UNMUTED="adUnmuted",e.AD_PROGRESS="adProgress",e.AD_USER_CLOSE="adUserClose",e.AD_INSERTION_START="adInsertionStart",e.AD_INSERTION_END="adInsertionEnd",e.AD_MEDIA_EXPAND="onFullScreen",e.AD_MEDIA_COLLAPSE="onExitFullScreen"}(k||(k={})),function(e){e.PERSONAL_COMPUTER="2",e.CONNECTED_TV="3",e.PHONE="4",e.TABLET="5",e.CONNECTED_DEVICE="6",e.SET_TOP_BOX="7"}(b||(b={})),function(e){e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile"}(y||(y={})),function(e){e.APP_ID="appId",e.ACCOUNT_KEY="accountKey",e.SECRET_KEY="secretKey",e.SDK_INITIALIZED="sdkInitialized",e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile",e.IS_APP="isApp"}(S||(S={})),function(e){e.UID="uid",e.GENDER="gender",e.AGE="age",e.COUNTRY="country",e.REGION="region",e.CITY="city",e.ZIPCODE="zip",e.KEYWORDS="keywords"}(_||(_={})),function(e){e.PLAY_ONCE="play_once",e.REPEAT="repeat"}(D||(D={}));class N{constructor(){O.set(this,new Map)}static getInstance(){return N.instance}set(e,i){"object"!=typeof e?t(this,O,"f").set(e,i):Object.entries(e).forEach((([e,i])=>{const n=r(i)||(e=>"number"==typeof e)(i)||(e=>"boolean"==typeof e)(i);n&&t(this,O,"f").set(e,i)}))}get(e){var i;return"string"!=typeof e||0==e.length?t(this,O,"f"):null!==(i=t(this,O,"f").get(e))&&void 0!==i?i:null}get isSDKInitialized(){return Boolean(t(this,O,"f").get(S.SDK_INITIALIZED))}}O=new WeakMap,N.instance=new N;const L=N.getInstance();var U,F,x,W,K;!function(e){e.errorCode="{errorcode}",e.noFill="<NOFILL>",e.noFillError="[nofill.error]",e.demandPartnerSDKVersion="[demand.partner.sdkversion]",e.eventName="[event.name]",e.vastErrorCode="[vast.error]",e.OmidSDKVersion="[omid.partner.sdkversion]",e.eventAttribute1="[event.attribute1]",e.eventAttribute2="[event.attribute2]",e.eventAttribute3="[event.attribute3]",e.randomCcb="[random.ccb]",e.deviceIFA="[device.ifa]"}(U||(U={}));class V{static post(t){return e(this,void 0,void 0,(function*(){const{url:e,payload:i,headers:r={},credentials:o}=t||{};let a={method:"POST",body:JSON.stringify(i)};return o&&(a.credentials=o),r&&(a.headers=r),fetch(e,a).then((e=>e.ok?e.json().catch((()=>Promise.reject(s("Invalid JSON response")))):e.text().then((t=>Promise.reject({message:`Error: ${e.status}`,status:e.status,body:t}))))).catch((e=>(n("Error in Fetch.post",e),Promise.reject(e))))}))}static get(t){return e(this,arguments,void 0,(function*(e,t={}){return fetch(e,t).then((e=>e.json()))}))}static DeviceGeoService(){const e=L.get(S.ACCOUNT_KEY),t="https://dgs.vmax.com/ACCOUNT_KEY".replace("ACCOUNT_KEY",e);return F.get(t)}static UserProfileService(e,t){const i=L.get(S.ACCOUNT_KEY),n="https://ups.vmax.com/ACCOUNT_KEY/".replace("ACCOUNT_KEY",i);return F.post({url:n,headers:{"X-AUTH":t},payload:e})}static AdQuery(e){const{ACCOUNT_KEY:t}=S,i=L.get(t)||"";return F.post({url:"https://as.vmax.com/account-key/adspot/1.0.1/query/".replace("account-key",i),payload:e,credentials:"include"})}static replaceAllMacros(e,t){const i=Object.keys(U);if(0===i.length)return e;const{ifa:n=""}=window.VmaxAdManager.getDevice().getPayload();return i.forEach((i=>{var s;const r=U[i];let o;o=r===U.randomCcb?Date.now().toString():r===U.deviceIFA?n:t&&(null===(s=t[r])||void 0===s?void 0:s.toString())||"";const a=new RegExp(this.escapeRegExp(r),"g");e=e.replace(a,o)})),t||i.forEach((t=>{const i=U[t],n=new RegExp(this.escapeRegExp(i),"g");e=e.replace(n,"")})),e}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static FireTracker(i,n){return e(this,void 0,void 0,(function*(){if(!r(i)&&(e=i,!Array.isArray(e)))return Promise.reject("No url to fire tracker");var e;for(let e of i)e=this.replaceAllMacros(e,n),yield t(F,F,"m",x).call(F,e)}))}}F=V,x=function(t){return e(this,void 0,void 0,(function*(){try{const e=window.VmaxAdManager.getSite().getPayload(),{pageUrl:i,referrerUrl:r}=e,o=yield fetch(t,{method:"GET",headers:{Connection:"keep-alive","X-Requested-with":`${i}`},credentials:"include"});o.ok?n("Tracker fired successfully."):s("Tracker request failed:",o.status,o.statusText)}catch(e){s("Error while firing the tracker:",e)}}))};class H{constructor(e=new Map){W.set(this,new Map),i(this,W,e,"f")}fireTracker(e,i){const n=t(this,W,"f").get(e);n&&V.FireTracker(n,i)}}W=new WeakMap,function(e){e.FILLED="filled",e.INS="ins",e.ATTRIBUTE_FILTER="data-ad-status",e.ATTRIBUTES="attributes"}(K||(K={}));var j,Y=K;!function(e){e.IMPRESSION="impression",e.NO_FILL="nofill",e.FILL="fill",e.CLICK="click",e.ERROR="error",e.START="start",e.FIRST_QUARTILE="firstQuartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="thirdQuartile",e.COMPLETE="complete",e.PAUSE="pause",e.RESUME="resume",e.SKIP="skip",e.MUTE="mute",e.UNMUTE="unmute",e.SKIPPABLE_STATE_CHANGE="skippableStateChange"}(j||(j={}));var G,B,Q,$,z,q,J,X,Z,ee,te,ie,ne,se,re,oe,ae,le,de=j;return B=new WeakMap,Q=new WeakMap,$=new WeakMap,z=new WeakMap,q=new WeakMap,J=new WeakMap,X=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,ne=new WeakMap,G=new WeakSet,se=function(){const{IMPRESSION:e,NO_FILL:n,FILL:s}=de,{burl:r,nurl:o,lurl:a}=t(this,B,"f")||{};r&&t(this,ee,"f").set(e,[r]),o&&t(this,ee,"f").set(s,[o]),a&&t(this,ee,"f").set(n,[a]),i(this,Q,new H(t(this,ee,"f")),"f")},re=function(e,i,n){const s=null==e?void 0:e.querySelector(Y.INS),r=new MutationObserver((s=>{s.forEach((s=>{if(s.type===Y.ATTRIBUTES){const r=s.attributeName||"";if(s.target.getAttribute(r)===Y.FILLED){console.debug("SDK: Adsense filled");try{t(this,G,"m",ae).call(this,e),i()}catch(e){t(this,G,"m",oe).call(this,"7"),console.error("Impression cannot be fired")}}else t(this,G,"m",oe).call(this,"2"),this.destroy(),n("Adsense not filled")}}))}));s&&r.observe(s,{attributes:!0,attributeFilter:[Y.ATTRIBUTE_FILTER]})},oe=function(e){t(this,Q,"f").fireTracker(de.NO_FILL,Object.assign(Object.assign({},t(this,ne,"f")),{[U.noFill]:e,[U.noFillError]:e}))},ae=function(e){t(this,Q,"f").fireTracker(de.FILL,Object.assign({},t(this,ne,"f"))),i(this,te,new R(e),"f"),t(this,te,"f").enter(t(this,q,"f")),t(this,te,"f").exit(t(this,J,"f")),t(this,te,"f").enterOnce(t(this,G,"m",le).bind(this))},le=function(){var e;t(this,Q,"f").fireTracker(de.IMPRESSION,Object.assign({},t(this,ne,"f"))),null===(e=t(this,$,"f"))||void 0===e||e.AdImpression()},class{constructor(){G.add(this),B.set(this,void 0),Q.set(this,void 0),$.set(this,void 0),z.set(this,null),q.set(this,(()=>{})),J.set(this,(()=>{})),X.set(this,(()=>{})),Z.set(this,(()=>{})),ee.set(this,new Map),this.canRefresh=!0,te.set(this,void 0),ie.set(this,void 0),ne.set(this,void 0)}getAllSignatures(){return"nw.adsense"}prepare(n){return e(this,void 0,void 0,(function*(){var e;const{bid:s,listeners:r}=n||{};i(this,B,s,"f");const o=(null===(e=t(this,B,"f"))||void 0===e?void 0:e.adm)||"";if(!o||""===o)return Promise.reject("No ad object found");const a=JSON.parse(o),{adnetwork_params:l}=a,{adunitid:d,htmladcode:c}=l;i(this,z,document.createRange().createContextualFragment(c),"f");const{AdPaused:u,AdResumed:h,AdClicked:f}=r||{};return"function"==typeof u&&i(this,J,u,"f"),"function"==typeof h&&i(this,q,h,"f"),"function"==typeof f&&i(this,X,f,"f"),i(this,$,r,"f"),t(this,G,"m",se).call(this),Promise.resolve()}))}validateElement(e){return e instanceof DocumentFragment}render(e){const{container:n}=e||{};return i(this,ie,document.createElement("div"),"f"),n&&t(this,z,"f")&&this.validateElement(t(this,z,"f"))?(n.appendChild(t(this,ie,"f")),t(this,ie,"f").appendChild(t(this,z,"f")),i(this,ne,{[U.demandPartnerSDKVersion]:""},"f"),new Promise(((e,i)=>{t(this,G,"m",re).call(this,t(this,ie,"f"),e,i)}))):(t(this,G,"m",oe).call(this,"7"),Promise.reject("Invalid HTML ad code"))}destroy(){var e,n,s;null===(e=t(this,te,"f"))||void 0===e||e.destroy(),i(this,te,null,"f"),i(this,B,{},"f"),null===(s=null===(n=t(this,ie,"f"))||void 0===n?void 0:n.parentNode)||void 0===s||s.removeChild(t(this,ie,"f"))}closeAd(){t(this,$,"f").AdClosed(),this.canRefresh=!1,this.destroy()}getVmaxEventTracker(){return t(this,Q,"f")}getVmaxAdInfo(){const e=M({bid:t(this,B,"f")});return Object.assign({},e)}getAdMarkup(){var e;return(null===(e=t(this,B,"f"))||void 0===e?void 0:e.adm)||""}}}));

</script>

</body>
</html>
