<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>abplatform.html</title>
</head>
<body>
<script>/*next.ecommerce.ab.sdk 1.2.3 */
!function(){"use strict";var e="1.2.3";
/*! js-cookie v3.0.1 | MIT */
function o(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var i in t)e[i]=t[i]}return e}var t=function e(t,i){function n(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=o({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var o=document.cookie?document.cookie.split("; "):[],i={},n=0;n<o.length;n++){var r=o[n].split("="),a=r.slice(1).join("=");try{var l=decodeURIComponent(r[0]);if(i[l]=t.read(a,l),e===l)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){n(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const i=Object.preventExtensions({originalRequest:"",domainRequested:"",platformRequested:"",persistentCookie:{platform:"",version:""},sessionCookie:{platform:"",activeTimestamp:0,lastTimestamp:0},persistentCookieName:"",sessionCookieName:"",personaCookieName:"",enableCPlatform:!1,enableDPlatform:!1,defaultWordPlatform:"",defaultPlatform:"",domain:""}),n=Object.preventExtensions({PersistentCookieKey:"ABPersistent",SessionCookieKey:"ABSession",PersonaCookieKey:"x-next-persona",Platforms:{a:"primary",b:"secondary",c:"tertiary",d:"quaternary"},PersistentCookieExpiryDays:30,QueryStringRedirectKey:"dp",QueryStringPersonaKey:"pa"});function r(e,o){let r;if(n.PersistentCookieExpiryDays){const e=new Date;e.setTime(e.getTime()+24*n.PersistentCookieExpiryDays*60*60*1e3),r=e}console.log("Creating cookie: "+e+"="+o+r);const a="https:"===window.location.protocol;t.set(e,o,{path:"/",domain:i.domain,expires:r,...a&&{sameSite:"None",secure:!0}})}function a(e){const o="MultiVariant Testing: Chosen Persona: "+e,t=document.createComment(o);document.head.prepend(t)}function l(){let e="";e=t.get(i.personaCookieName)??"";let o=null;return""!=e&&(o=decodeURIComponent(e)),o||null}function s(e){console.log("RELOAD RAN"),console.log("RELOAD CALLED WITH",e),l()!==e&&window.location.reload(),console.log("RELOAD FINISHED")}var m={Create:function(e){r(i.personaCookieName,e),a(e),s(e)},Get:l,Refresh:s};const c=Object.preventExtensions({platforms:{primary:{url:"www.next.co.uk",persona:"APlatform",percentage:100},secondary:{url:"www2.next.co.uk",persona:"BPlatform",percentage:0},tertiary:{url:"www3.next.co.uk",persona:"CPlatform",percentage:0},quaternary:{url:"www4.next.co.uk",persona:"DPlatform",percentage:0}},versionNumber:"00",DrainPeriod:3600,DrainCutOffPeriod:14400,ABCTesting:!0,enableCPlatform:!0,enableDPlatform:!0,DevicePreference:"Both",DomainSwitch:!0});function p(){let e="",o="";if(e=t.get(i.sessionCookieName)??"",""!=e&&(o=decodeURIComponent(e)),""!=o){const e=o.split("|");return{platform:e[0]??"",activeTimestamp:Number(e[1]),lastTimestamp:e.length>=3?Number(e[2]):Number(e[1])}}return null}var f={Persistent:{Create:function(e){r(i.persistentCookieName,e+"|"+c.versionNumber)},Get:function(){let e="";e=t.get(i.persistentCookieName)??"";let o="";if(""!=e&&(o=decodeURIComponent(e)),o){const e=o.split("|");return e[0]&&e[1]?{platform:e[0],version:e[1]}:null}return null},IsVersionNumberUpToDate:function(){return i.persistentCookie&&c.versionNumber<=i.persistentCookie.version}},Session:{Create:function(e){i.sessionCookie=p();let o=(new Date).getTime(),n=null;e===i.defaultPlatform||c.ABCTesting||(i.sessionCookie&&i.sessionCookie.activeTimestamp&&(o=i.sessionCookie.activeTimestamp),n=(new Date).getTime());const r=encodeURIComponent(e)+(o?"|"+o:"")+(n?"|"+n:""),a="https:"===window.location.protocol;t.set(i.sessionCookieName,r,{path:"/",domain:i.domain,...a&&{sameSite:"None",secure:!0}})},Get:p,IsValid:function(){return i.sessionCookie&&((new Date).getTime()-i.sessionCookie.lastTimestamp)/1e3<c.DrainPeriod&&(c.ABCTesting||((new Date).getTime()-i.sessionCookie.activeTimestamp)/1e3<c.DrainCutOffPeriod)}},Persona:m};const u=["APIs-Google (+https://developers.google.com/webmasters/APIs-Google.html)","Mozilla/5.0 (Linux; Android 5.0; SM-G920A) AppleWebKit (KHTML, like Gecko) Chrome Mobile Safari (compatible; AdsBot-Google-Mobile; +http://www.google.com/mobile/adsbot.html)","Mozilla/5.0 (iPhone; CPU iPhone OS 14_7_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.2 Mobile/15E148 Safari/604.1 (compatible; AdsBot-Google-Mobile; +http://www.google.com/mobile/adsbot.html)","AdsBot-Google (+http://www.google.com/adsbot.html)","Mediapartners-Google","Googlebot-Image/1.0","Googlebot-Video/1.0","Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)","Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko; compatible; Googlebot/2.1; +http://www.google.com/bot.html) Chrome/W.X.Y.Z Safari/537.36","Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)","(Various mobile device types) (compatible; Mediapartners-Google/2.1; +http://www.google.com/bot.html)","AdsBot-Google-Mobile-Apps","FeedFetcher-Google; (+http://www.google.com/feedfetcher.html)","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36 (compatible; Google-Read-Aloud; +https://developers.google.com/search/docs/crawling-indexing/overview-google-crawlers)","Mozilla/5.0 (Linux; Android 7.0; SM-G930V Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.125 Mobile Safari/537.36 (compatible; Google-Read-Aloud; +https://developers.google.com/search/docs/crawling-indexing/overview-google-crawlers)","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.75 Safari/537.36 Google Favicon","Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko; googleweblight) Chrome/38.0.1025.166 Mobile Safari/535.19","Mozilla/5.0 (X11; Linux x86_64; Storebot-Google/1.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36","Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012; Storebot-Google/1.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36","Mozilla/5.0 (compatible; Google-Site-Verification/1.0)"],d=["Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko; compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm) Chrome/W.X.Y.Z Safari/537.36","Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36  (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (iPhone; CPU iPhone OS 7_0 like Mac OS X) AppleWebKit/537.51.1 (KHTML, like Gecko) Version/7.0 Mobile/11A465 Safari/9537.53 (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (Windows Phone 8.1; ARM; Trident/7.0; Touch; rv:11.0; IEMobile/11.0; NOKIA; Lumia 530) like Gecko (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko; compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm) Chrome/W.X.Y.Z Safari/537.36","Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36  (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko; compatible; MicrosoftPreview/2.0; +https://aka.ms/MicrosoftPreview) Chrome/W.X.Y.Z Safari/537.36","Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36  (compatible; MicrosoftPreview/2.0; +https://aka.ms/MicrosoftPreview)"];function b(e){e=e.replace(/[]/,"\\[").replace(/[\]]/,"\\]");const o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null==o||""==o[1]||null==o[1]?null:decodeURIComponent(o[1].replace(/\+/g," "))}function g(e){return!!(e&&Object.keys(n.Platforms).indexOf(e)>=0)}function w(){console.log("RedirectToPrimary"),i.persistentCookie&&i.persistentCookie.platform===i.defaultPlatform||f.Persistent.Create(i.defaultPlatform),f.Persona.Create(c.platforms.primary.persona),f.Session.Create(i.defaultPlatform),C(i.defaultPlatform)}function C(e){if(c.DomainSwitch&&function(e){const o="MultiVariant Testing: Chosen Platform: "+e.toUpperCase(),t=document.createComment(o);document.head.prepend(t)}(e),console.log(i.platformRequested,e),i.platformRequested!==e){const o=window.location.protocol+"//"+function(e){let o;return Object.keys(n.Platforms).forEach((t=>{if(e==t){const e=n.Platforms[t];e&&(o=c?.platforms[e]?.url)}})),o||(o=c?.platforms[i?.defaultWordPlatform]?.url,console.log("GetSubDomainForPlatform: No SubDomain Found")),o}(e)+(window.location.pathname?window.location.pathname:"")+function(e,o){let t="";return e&&e!==`?dp=${o}`&&(t=e),t}(window.location.search,e)+(window.location.hash?window.location.hash:"");console.log(o),window.location.replace(o)}}function h(e){let o;console.log("GetPersona",e);let t=null;return null!=e&&null!=n.Platforms[e]&&null!=c.platforms?(o=n.Platforms[e],t=c.platforms[o].persona):(null!=c&&null!=c.platforms&&null!=i&&null!=c.platforms[i.defaultWordPlatform]&&(t=c.platforms[i.defaultWordPlatform].persona),console.log("GetPersona: No Persona Found")),t}function P(){console.log("DecidePlatformAndPersona");const e=100-c.platforms.secondary.percentage,o=i.enableCPlatform?e-c.platforms.tertiary.percentage:e,t=i.enableDPlatform?o-c.platforms.quaternary.percentage:o,r=[{boundary:e,platform:Object.keys(n.Platforms)[1],persona:c.platforms.secondary.persona}];i.enableCPlatform&&r.push({boundary:o,platform:Object.keys(n.Platforms)[2],persona:c.platforms.tertiary.persona}),i.enableDPlatform&&r.push({boundary:t,platform:Object.keys(n.Platforms)[3],persona:c.platforms.quaternary.persona}),r.push({boundary:0,platform:i.defaultPlatform,persona:c.platforms.primary.persona});let l=i.defaultPlatform,s=c.platforms.primary.persona;const m=100*Math.random();if(console.log("Chosen Percentage",m),Math.random()!=Math.random())for(const e of r)if(m>e.boundary&&null!=e.platform&&null!=e.persona){l=e.platform,s=e.persona;break}""!==s&&f.Persona.Create(s),f.Persistent.Create(l),f.Session.Create(l),c.DomainSwitch&&C(l),a(s)}class k{constructor(){this._domain=""}Init(e){if(!e)throw"ABPlatform: Config Settings or Domain not found";Object.keys(e).forEach((o=>{c[o]=e[o]})),this.InitVars(function(e){const o=e.split(".");let t="";for(let e=1;e<o.length;e++)t=t+"."+o[e];return t}(window.location.hostname));let o=!0;o&&c.DomainSwitch&&(o=null!=i.platformRequested&&i.platformRequested.length>0),o&&(o=function(){const e=b(n.QueryStringRedirectKey),o=b(n.QueryStringPersonaKey);if(console.log("QueryStringRedirect",e,o,window.location.search),g(o)){const e=h(o);return null!=e&&(f.Persona.Create(e),f.Persona.Refresh(e)),!1}if(g(e)&&null!=e){f.Persistent.Create(e),f.Session.Create(e);const o=h(e);return null!=o&&f.Persona.Create(o),C(e),!1}return!0}()),o&&(o=!(window.platmodflags?.abExcluded&&!0===window.platmodflags.abExcluded)),o&&(o=!([...u,...d].indexOf(navigator.userAgent)>-1&&(w(),1))),o&&(o=function(){if(!c.ABCTesting){if(f.Session.IsValid()){if(null==i.sessionCookie)return!1;f.Session.Create(i.sessionCookie.platform),h(i.sessionCookie.platform),c.DomainSwitch&&C(i.sessionCookie.platform)}else w();return!1}return!0}()),o&&(o=function(){if(c.ABCTesting){if(i.persistentCookie){const e=f.Persona.Get();if(console.log("Persona Cookie: ",e),f.Session.IsValid()){if(null==i.sessionCookie)return!1;const o=h(i.sessionCookie.platform);f.Session.Create(i.sessionCookie.platform),!e&&o&&f.Persona.Create(o),c.DomainSwitch&&C(i.sessionCookie.platform)}else if(console.log("Session Cookie expired"),f.Persistent.IsVersionNumberUpToDate()){const o=h(i.persistentCookie.platform);f.Session.Create(i.persistentCookie.platform),!e&&o&&f.Persona.Create(o),c.DomainSwitch&&C(i.persistentCookie.platform)}else P()}else console.log("Persistent Cookie doesn't exist. RUN DecidePlatformAndPersona"),P();return!1}return!0}())}InitVars(e){i.originalRequest=location.href,i.domainRequested=location.port?location.hostname+":"+location.port:location.hostname,i.persistentCookieName=n.PersistentCookieKey+"_"+c.platforms.primary.url,i.sessionCookieName=n.SessionCookieKey+"_"+c.platforms.primary.url,i.personaCookieName=n.PersonaCookieKey,i.platformRequested=function(e){let o,t=!1;return Object.keys(c.platforms).forEach((i=>{e==c?.platforms[i]?.url&&Object.keys(n.Platforms).forEach((e=>{n.Platforms[e]!=i||t||(o=e,t=!0)}))})),o||(o=Object.keys(n.Platforms)[0],console.log("GetPlatformForSubDomain: No Platform Found")),o}(i.domainRequested)??"a",i.persistentCookie=f.Persistent.Get(),i.sessionCookie=f.Session.Get(),i.enableCPlatform=c.enableCPlatform,i.enableDPlatform=c.enableDPlatform,i.defaultWordPlatform=Object.keys(c.platforms)[0]??"primary",i.defaultPlatform=Object.keys(n.Platforms)[0]??"primary",i.domain=e}}if(window.location.href.toString().includes("ForgottenPassword.aspx"))throw"AB-PLATFORM SCRIPT RE-INITIALISAION DETECTED";function M(e){return window.ABCPlatformConfigsSettings=e,(new k).Init(window.ABCPlatformConfigsSettings)}window.Next?window.Next.ModernisedABPlatform={Init:e=>{M(e)}}:window.Next={ModernisedABPlatform:{Init:e=>{M(e)}}},console.log(`Initiating ModernisedABPlatform v${e}`),window.ABCPlatformConfigsSettings&&window.Next.ModernisedABPlatform.Init(window.ABCPlatformConfigsSettings)}();</script>
</body>
</html>
