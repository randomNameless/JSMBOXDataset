<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>7039.c6a60ee1f7cdb2bf.html</title>
</head>
<body>
<script>(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["7039"],{78562:function(e,t,n){"use strict";n.d(t,{ZP:function(){return d}});var r=n(4511),i=n(39864),o=n(31144),a=n(31306),s=n(12827),u=n(6826),c={ajax:a.hj},l=Object.values(o.FP).filter(function(e){return e!==o.FP.AUCTION_DEBUG});function d(e){var t,n,a,d,f,p=e.url,g=e.analyticsType,v=e.global,h=e.handler,m=[],y=!1,b=!0;var w=(n=!1,a=function(){if(!n){n=!0;try{for(var e=0,t=0;m.length>0;){e++;var r=m.length;if(m.shift()(),m.length>=r?t++:t=0,t>=10){(0,s.H)("Detected probable infinite loop, discarding events",m),m.length=0;return}}(0,s.ji)("".concat(f," analytics: processed ").concat(e," events"))}finally{n=!1}}},function(){null!=t&&(clearTimeout(t),t=null),t=setTimeout(a,100)});return Object.defineProperties({track:function(e){var t=e.eventType,n=e.args;"bundle"===this.getAdapterType()&&window[v](h,t,n),"endpoint"===this.getAdapterType()&&S.apply(void 0,arguments)},enqueue:k,enableAnalytics:O,disableAnalytics:function(){Object.entries(d||{}).forEach(function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];u.S1(n,i)}),this.enableAnalytics=this._oldEnable?this._oldEnable:O,y=!1},getAdapterType:function(){return g},getGlobal:function(){return v},getHandler:function(){return h},getUrl:function(){return p}},{enabled:{get:function(){return y}}});function S(e){var t=e.eventType,n=e.args,r=e.callback;c.ajax(p,r,JSON.stringify({eventType:t,args:n}))}function k(e){var t=this,n=e.eventType,r=e.args;m.push(function(){t.track({eventType:n,args:r})}),w()}function O(e){var t=this;f=null==e?void 0:e.provider;var n=this;if(b="object"!==(0,i.Z)(e)||"object"!==(0,i.Z)(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)){var r,a,c,p,g,h=(c=void 0===(a=(r=e||{}).includeEvents)?l:a,g=void 0===(p=r.excludeEvents)?[]:p,new Set(Object.values(o.FP).filter(function(e){return c.includes(e)}).filter(function(e){return!g.includes(e)})));u.vw().forEach(function(e){if(!!e&&!!h.has(e.eventType)){var t=e.eventType,r=e.args;k.call(n,{eventType:t,args:r})}}),d=Object.fromEntries(Array.from(h).map(function(e){var n=function(n){return t.enqueue({eventType:e,args:n})};return u.on(e,n),[e,n]}))}else(0,s.ji)('Analytics adapter for "'.concat(v,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return(0,s.ji)('Analytics adapter for "'.concat(v,'" already enabled, unnecessary call to `enableAnalytics`.'))},y=!0}}},84159:function(e,t,n){"use strict";n.d(t,{b6:function(){return l},m1:function(){return c}});var r=n(36621),i=n(4511),o=n(60340),a=n(13722);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=2;function l(e){var t,n=e.apiName,s=e.apiVersion,l=e.apiArgs,d=void 0===l?["command","callback","parameter","version"]:l,f=e.callbackArgs,p=void 0===f?["returnValue","success"]:f,g=e.mode,v=void 0===g?0:g,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,m={},y="".concat(n,"Call"),b="".concat(n,"Return");function w(e){var t,n="string"==typeof e.data&&e.data.includes(b)?JSON.parse(e.data):e.data;if(null!=n&&null!==(t=n[b])&&void 0!==t&&t.callId){var r=n[b];m.hasOwnProperty(r.callId)&&m[r.callId].apply(m,(0,o.Z)(p.map(function(e){return r[e]})))}}var S=function(){for(var e,t=h,r=!1;null!=t;){try{if("function"==typeof t[n]){e=t,r=!0;break}}catch(e){}try{if(t.frames["".concat(n,"Locator")]){e=t;break}}catch(e){}if(t===h.top)break;t=t.parent}return[e,r]}(),k=(0,i.Z)(S,2),O=k[0],I=k[1];if(!!O)return I?t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.Z(function(t,r){var a=O[n].apply(O,(0,o.Z)(E(u(u({},e),{},{callback:e.callback||v===c?C(e.callback,t,r):void 0})).map(function(e){var t=(0,i.Z)(e,2);return t[0],t[1]})));(1===v||null==e.callback&&0===v)&&t(a)})}:(h.addEventListener("message",w,!1),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new a.Z(function(n,o){var a=Math.random().toString(),s=(0,r.Z)({},y,u(u({},Object.fromEntries(E(e).filter(function(e){return"callback"!==(0,i.Z)(e,1)[0]}))),{},{callId:a}));m[a]=C(null==e?void 0:e.callback,n,o,(t||(null==e?void 0:e.callback)==null)&&function(){delete m[a]}),O.postMessage(s,"*"),1===v&&n()})}),Object.assign(t,{isDirect:I,close:function(){I||h.removeEventListener("message",w)}});function E(e){return e=Object.assign({version:s},e),d.map(function(t){return[t,e[t]]})}function C(e,t,n,r){var i="function"==typeof e;return function(o,a){r&&r(),1!==v&&(null==a||a?t:n)(i?void 0:o),i&&e.apply(this,arguments)}}}},89924:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(44486),i=n(12827);function o(e,t,n){return(0,r.g3)(e,function(e,r){var o;o=function(t,n){if(n){var o=i.yN;t&&(o=i.H,n="".concat(n," Canceling auction as per consentManagement config."));for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o.apply(void 0,[n].concat(s))}t?(e.stopTiming(),"function"==typeof r.bidsBackHandler?r.bidsBackHandler():(0,i.H)("Error executing bidsBackHandler")):e.call(this,r)},t()?((0,i.PN)("User consent information already known.  Pulling internally stored information..."),o(!1)):n(o)})}},75053:function(e,t,n){"use strict";n.d(t,{Nh:function(){return i}});var r=n(94329);function i(e,t,n){var i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(t===n)return e;var o=e;try{o=(0,r.R)().convertCurrency(e,t,n)}catch(e){if(!i)throw e}return o}},34498:function(e,t,n){"use strict";n.d(t,{CS:function(){return c},J$:function(){return f},aE:function(){return l},aj:function(){return p},ky:function(){return d}});var r=n(4511),i=n(36621),o=n(86547),a=n(31232),s=n(12827),u=n(92618);function c(e){return function(t){return(0,s.Uv)(t,e)}}function l(e){var t;return(0,s.T9)()&&(t=(0,a.sE)(window.googletag.pubads().getSlots(),c(e))),t}function d(e){var t=l(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}var f=["IAB_AUDIENCE_1_1","IAB_CONTENT_2_2"];function p(e){return Object.entries((0,i.Z)((0,i.Z)({},f[0],g(e,["user.data"],4)),f[1],g(e,o.Iq.map(function(e){return"".concat(e,".content.data")}),6))).map(function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return i.length?{taxonomy:n,values:i}:null}).filter(function(e){return e})}function g(e,t,n){return t.flatMap(function(t){return(0,u.Z)(e,t)||[]}).filter(function(e){var t;return(null===(t=e.ext)||void 0===t?void 0:t.segtax)===n}).flatMap(function(e){var t;return null===(t=e.segment)||void 0===t?void 0:t.map(function(e){return e.id})}).filter(function(e){return e}).filter(s.tT)}},62199:function(e,t,n){"use strict";n.r(t),n.d(t,{liveIntentIdSubmodule:()=>tp,reset:()=>tc,setEventFiredFlag:()=>tl,storage:()=>to});var r=n("12827"),i=n("31306"),o=n("57248"),a=n("27862");let s=RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","i"),u=!!String.prototype.trim;function c(e,t){return null!=e?t(e):e}function l(e){return"object"==typeof e?JSON.stringify(e):""+e}function d(e){return null!=e}function f(e){return!!e&&s.test(g(e))}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e){return u?(""+e).trim():(""+e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function v(e){return"string"==typeof e}function h(e,t){return v(e)&&v(t)&&g(e.toLowerCase())===g(t.toLowerCase())}function m(e){return!!e&&"object"==typeof e&&!p(e)}function y(e){return!!e&&"function"==typeof e}function b(e){var t;return t=e,new Date(new Date().getTime()+864e5*t)}function w(e,t,n){if(m(t)){let r;return(r="message"in t&&"string"==typeof t.message?Error(n||t.message):Error(n)).name=e,"stack"in t&&"string"==typeof t.stack&&(r.stack=t.stack),"lineNumber"in t&&"number"==typeof t.lineNumber&&(r.lineNumber=t.lineNumber),"columnNumber"in t&&"number"==typeof t.columnNumber&&(r.columnNumber=t.columnNumber),r}{let t=Error(n);return t.name=e,t}}let S="li_errors";class k{data;constructor(e){let t=parseInt(e.toString())||5;this.data={h:{},q:{},size:t}}on(e,t,n){let r={callback:t.bind(n),unbound:t};return this.data={...this.data,h:{...this.data.h,[e]:[...this.data.h[e]||[],r]}},(this.data.q[e]||[]).forEach(e=>t.call(n,e)),this}once(e,t,n){let r=this.data.q[e]||[];if(r.length>0)return t.call(n,r[0]),this;{let r=i=>{this.off(e,r),t.call(n,i)};return r._=t,this.on(e,r,n)}}emit(e,t){(this.data.h[e]||[]).forEach(e=>e.callback(t));let n=this.data.q[e]||[];return this.data={...this.data,q:{...this.data.q,[e]:[...n.length<this.data.size?n:n.slice(1),t]}},this}off(e,t){let n=this.data.h[e],r=n&&t&&n.filter(e=>e.unbound!==t)||[];if(r.length)this.data={...this.data,h:{...this.data.h,[e]:r}};else{let{[e]:t,...n}=this.data.h;this.data={...this.data,h:n}}return this}emitErrorWithMessage(e,t,n){let r=w(e,n,t);return this.emit(S,r)}emitError(e,t){let n=w(e,t);return this.emit(S,n)}}for(var O=[],I=0;I<64;)O[I]=0|0x100000000*Math.sin(++I%Math.PI);function E(e){var t,n,r,i,o,a=[],s=[n=0x67452301,r=0xefcdab89,~n,~r,0xc3d2e1f0],u=[],c=unescape(encodeURI(e))+"\x80",l=c.length;for(u[e=--l/4+2|15]=8*l;~l;)u[l>>2]|=c.charCodeAt(l)<<8*~l--;for(t=l=0;t<e;t+=16){for(n=s;l<80;n=[n[4]+(a[l]=l<16?~~u[t+l]:2*c|c<0)+0x5a827999+[r&i|~r&o,c=0x14577208+(r^i^o),0x34994343+(r&i|r&o|i&o),c+0x5b88d635][l++/5>>2]+((c=n[0])<<5|c>>>27),c,r<<30|r>>>2,i,o])c=a[l-3]^a[l-8]^a[l-14]^a[l-16],r=n[1],i=n[2],o=n[3];for(l=5;l;)s[--l]+=n[l]}for(c="";l<40;)c+=(s[l>>3]>>4*(7-l++)&15).toString(16);return c}for(var C,A=18,T=[],P=[];A>1;A--)for(C=A;C<320;)T[C+=A]=1;function x(e,t){return 0x100000000*Math.pow(e,1/t)|0}for(C=0;C<64;)T[++A]||(P[C]=x(A,2),T[C++]=x(A,3));function D(e,t){return e>>>t|e<<-t}class j{url;timeout;calls;eventBus;retries;constructor(e){this.url=e.collectorUrl??"https://rp.liadm.com",this.timeout=e.ajaxTimeout??0,this.calls=e.callHandler,this.eventBus=e.eventBus,this.retries=e.ajaxRetries??3}callBakers(e){try{let t=JSON.parse(e).bakers;if(p(t))for(let e=0;e<t.length;e++)this.calls.pixelGet(`${t[e]}?dtstmp=${Date.now()}`)}catch(t){this.eventBus.emitErrorWithMessage("CallBakers",`Error while calling bakers with ${e}`,t)}}sendState(e,t,n,r){if(e.sendsPixel()){r&&y(r)&&r();let i=e.asQuery().add("dtstmp",Date.now(),{prepend:!0}).toQueryString();n(`${this.url}/${t}${i}`)}}sendAjax(e,t={}){this.sendState(e,"j",n=>{let r=i=>{this.calls.ajaxGet(n,e=>{t.onLoad&&y(t.onLoad)&&t.onLoad(),this.callBakers(e)},n=>{i<=0?(this.sendPixel(e,t),this.eventBus.emitError("AjaxFailed",n)):r(i-1)},this.timeout)};r(this.retries)},t.onPreSend)}sendPixel(e,t={}){this.sendState(e,"p",e=>this.calls.pixelGet(e,t.onLoad),t.onPreSend)}}let N="_li_duid",_=[];function U(e){return function(e){e=`${e}`;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;let t="";for(let n=0;n<e.length;n+=3){let r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(n)>>2,r[1]=(3&e.charCodeAt(n))<<4,e.length>n+2?(r[1]|=e.charCodeAt(n+1)>>4,r[2]=(15&e.charCodeAt(n+1))<<2,r[2]|=e.charCodeAt(n+2)>>6,r[3]=63&e.charCodeAt(n+2)):e.length>n+1&&(r[1]|=e.charCodeAt(n+1)>>4,r[2]=(15&e.charCodeAt(n+1))<<2);for(let e=0;e<r.length;e++){let n=r[e];void 0===n?t+="=":t+=function(e){return e>=0&&e<64?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]:void 0}(n)}}return t}(e)||""}let R=/[+/]|=+$/g,M={"+":"-","/":"_"};function Z(e){return M[e]||""}function B(e){let t=null,n=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(parseInt("0x"+t,16)));try{t=window&&y(window.btoa)?window.btoa:U}catch(e){t=U}return t(n).replace(R,Z)}let F=()=>/(\s+)?[a-f0-9]{32,64}(\s+)?/gi,L=new Map([[32,"md5"],[40,"sha1"],[64,"sha256"]]);function q(e){let t=e.match(F());return t&&t.map(g)[0]}function H(e){let t=e.toLowerCase();return{md5:function(e){var t,n,r,i=[t=0x67452301,n=0xefcdab89,~t,~n],o=[],a=unescape(encodeURI(e))+"\x80",s=a.length;for(e=--s/4+2|15,o[--e]=8*s;~s;)o[s>>2]|=a.charCodeAt(s)<<8*s--;for(I=a=0;I<e;I+=16){for(s=i;a<64;s=[r=s[3],t+((r=s[0]+[t&n|~t&r,r&t|~r&n,t^n^r,n^(t|~r)][s=a>>4]+O[a]+~~o[I|15&[a,5*a+1,3*a+5,7*a][s]])<<(s=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*s+a++%4])|r>>>-s),t,n])t=0|s[1],n=s[2];for(a=4;a;)i[--a]+=s[a]}for(e="";a<32;)e+=(i[a>>3]>>4*(1^a++)&15).toString(16);return e}(t),sha1:E(t),sha256:function(e){var t=P.slice(A=C=0,8),n=[],r=unescape(encodeURI(e))+"\x80",i=r.length;for(n[e=--i/4+2|15]=8*i;~i;)n[i>>2]|=r.charCodeAt(i)<<8*~i--;for(i=[];A<e;A+=16){for(x=t.slice();C<64;x.unshift(r+(D(r=x[0],2)^D(r,13)^D(r,22))+(r&x[1]^x[1]&x[2]^x[2]&r)))x[3]+=r=0|(i[C]=C<16?~~n[C+A]:(D(r=i[C-2],17)^D(r,19)^r>>>10)+i[C-7]+(D(r=i[C-15],7)^D(r,18)^r>>>3)+i[C-16])+x.pop()+(D(r=x[4],6)^D(r,11)^D(r,25))+(r&x[5]^~r&x[6])+T[C++];for(C=8;C;)t[--C]+=x[C]}for(r="";C<64;)r+=(t[C>>3]>>4*(7-C++)&15).toString(16);return r}(t)}}let V=()=>/\S+(@|%40)\S+\.\S+/;function z(e){return V().test(e)}function G(e){let t=function(e){let t=[],n=RegExp("([\\w\\d.+-]+(@|%40)[\\w\\d-]+.[\\w\\d.-]+)","g"),r=n.exec(e);for(;r;)t.push(g(r[1])),r=n.exec(e);return t}(e),n=[],r=e;for(let e=0;e<t.length;e++){let i=t[e],o=H(i);r=r.replace(i,o.md5),n.push(o)}return{stringWithoutRawEmails:r,hashesFromOriginalString:n}}function K(e,t){var n;return"string"==typeof t&&(n=g(t),V().test(n))?"*********":t}function W(e){var t,n,r;return"false"!==(r="null"===(n=isNaN(+(t=e))?t:+t)||"undefined"===n?null:n)&&("true"===r||r)}function J(e,t){if(t in e){let n=e[t];return p(n)?n.map(e=>W(Q(e))):W(Q(n))}}function $(e){let t,n,r;let i={};return e&&-1!==(t=e.indexOf("?"))&&(n=e.slice(t+1))&&(-1===(r=n.indexOf("#"))||(n=n.slice(0,r)))?(n.split("&").forEach(function(e){if(e){let t;let n=e.split("=");t=n[0];let r=2===n.length?n[1]:"true";if("[]"===t.slice(-2)&&(t=t.slice(0,-2)),t in i){let e=i[t];p(e)?e.push(r):i[t]=[e,r]}else i[t]=r}}),i):i}function Q(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)}class X{hash;host;hostname;pathname;port;protocol;search;constructor(e){let t=e.match(/^(https?\:\/\/)?(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(null===t)throw TypeError(`Failed to parse URL: ${e}`);this.protocol=t[1]||"",this.host=t[2]||"",this.hostname=t[3]||"",this.port=t[4]||"",this.pathname=t[5]||"",this.search=t[6]||"",this.hash=t[7]||""}toString(){return`${this.protocol}${this.host}${this.pathname}${this.search}${this.hash}`}}let Y=["items","itemids"],ee=["email","emailhash","hash","hashedemail"],et=[function(e){let t=e.eventSource||{};for(let n of Object.keys(t)){let r=n.toLowerCase();if(ee.indexOf(r)>-1){let r=g(l(t[n])),i=function(e){let t=e.match(V());return t&&t.map(g)[0]}(r),o=q(r);if(i){let t=H(Q(i));return en({hashedEmail:[t.md5,t.sha1,t.sha256]},e)}if(o&&function(e){let t=q(e);return!!t&&L.has(t.length)}(o))return en({hashedEmail:[o.toLowerCase()]},e)}}return e},function(e){let t=e.eventSource||{};return Object.keys(t).forEach(e=>{let n=e.toLowerCase(),r=t[e];Y.indexOf(n)>-1&&p(r)&&r.length>10&&(r.length=10)}),{}}];function en(e,t){var n,r;let i={};function o(e){return m(e)?e:{}}function a(e){return Object.keys(e)}let s=m(n=e)?n:{};let u=m(r=t)?r:{};return a(s).forEach(e=>{i[e]=s[e]}),a(u).forEach(e=>{i[e]=u[e]}),i}class er{tuples;constructor(e=[]){this.tuples=e}add(e,t,n={}){let{stripEmpty:r=!0,prepend:i=!1}=n;if(""===e)return this;if(r&&""===t)return this;if(i)return this.tuples.unshift([e,t]),this;else return this.tuples.push([e,t]),this}addOptional(e,t,n={}){return null!=t?this.add(e,t,n):this}addParamsMap(e){return Object.keys(e).forEach(t=>{let n=e[t];if(null!=n)p(n)?n.forEach(e=>this.add(t,e)):this.add(t,n)}),this}copy(){return new er(this.tuples.slice())}filteredCopy(e){return new er(this.tuples.filter(([t,n])=>e(t,n)))}toQueryString(){let e="";return this.tuples.forEach(([t,n])=>{let r=0===e.length?"?":"&";e=`${e}${r}${encodeURIComponent(t)}=${encodeURIComponent(n)}`}),e}}function ei(e){return null===e?"":e}let eo={full:"full",noPath:"no_path"};function ea(e){if(0!==e.length){let t=new X(e);return t.pathname="",t.search="",t.toString()}}let es=["setemail","setemailhash","sethashedemail"];class eu{data;eventBus;constructor(e,t){this.data=eu.safeFiddle(e,t),this.eventBus=t}static safeFiddle(e,t){try{var n;return n=JSON.parse(JSON.stringify(e)),m(n.eventSource)?et.reduce(function(e,t){return en(e,t(e))},n):n}catch(e){return console.error(e),t.emitErrorWithMessage("StateCombineWith","Error while extracting event data",e),{}}}combineWith(e){return new eu(en(this.data,e),this.eventBus)}sendsPixel(){let e=m(this.data.eventSource)?this.data.eventSource:{},t=Object.keys(e).filter(e=>"eventname"===e.toLowerCase()||"event"===e.toLowerCase()),n=t&&t.length>=1&&t[0],r=n&&g(e[n]);return!r||-1===es.indexOf(r.toLowerCase())}asQuery(){let e=this.data,t=new er().addOptional("aid",e.appId).addOptional("did",e.distributorId).addOptional("se",c(e.eventSource,e=>B(JSON.stringify(e,K)))).addOptional("duid",e.liveConnectId).addOptional("tv",e.trackerVersion);if(null!=e.pageUrl){let[n,r,i]=function(e){if(void 0===e.pageUrl||0===e.pageUrl.length)return["",!1,[]];if(function(e){return(void 0===e.urlCollectionMode||e.urlCollectionMode===eo.full)&&(void 0===e.queryParametersFilter||""===e.queryParametersFilter)}(e))return[e.pageUrl,!1,[]];let t=new X(e.pageUrl),n=function(e){let t=$(e),n=[];return Object.keys(t).forEach(e=>{n.push([e,J(t,e)])}),n}(t.search),r=function(e,t){return t.urlCollectionMode===eo.noPath&&e.pathname.length>1}(t,e),i=function(e,t){if(void 0===t.queryParametersFilter||""===t.queryParametersFilter)return[];let n=new RegExp(t.queryParametersFilter);return e.map(e=>e[0]).filter(e=>n.test(e))}(n,e);return r&&(t.pathname="/"),i.length>0&&(t.search=function(e,t){let n=e.filter(e=>-1===t.indexOf(e[0])).map(e=>`${e[0]}=${e[1]}`);return n.length>0?`?${n.join("&")}`:""}(n,i)),[t.toString(),r,i]}(e);t.add("pu",n).addOptional("pu_rp",r?"1":void 0).add("pu_rqp",i.join(","))}return t.addOptional("ae",c(e.errorDetails,e=>B(JSON.stringify(e)))),p(e.retrievedIdentifiers)&&e.retrievedIdentifiers.forEach(e=>t.add(`ext_${e.name}`,e.value)),p(e.hashesFromIdentifiers)&&e.hashesFromIdentifiers.forEach(e=>t.add("scre",`${e.md5},${e.sha1},${e.sha256}`)),t.addOptional("li_did",e.decisionIds?.join(",")).addOptional("e",e.hashedEmail?.join(",")).addOptional("us_privacy",e.usPrivacyString).addOptional("wpn",e.wrapperName).addOptional("gdpr",c(e.gdprApplies,e=>e?"1":"0")).addOptional("gdpr_consent",e.gdprConsent).addOptional("refr",e.referrer).addOptional("gpp_s",e.gppString).addOptional("gpp_as",e.gppApplicableSections?.join(",")).addOptional("cd",e.cookieDomain).addOptional("ic",ei(e.resolvedIdCookie),{stripEmpty:!1}).addOptional("c",e.contextElements),t}}function ec(e){try{return e()}catch(e){return}}let el=e=>{var t,n,r;return{...e,pageUrl:function(e=window){let t;let n=ec(()=>e.location.ancestorOrigins)||[],r=[],i=e;for(;i!==top;)r.push(i),i=i.parent;r.push(i);for(let e=r.length-1;e>=0&&!t;e--)t=ec(()=>r[e].location.href),0!==e&&(!t&&(t=ec(()=>r[e-1].document.referrer)),!t&&(t=n[e-1]));return t}(),referrer:function(e=window){return ec(()=>e.top.document.referrer)}(),contextElements:(t=e.privacyMode,n=e.contextSelectors,r=e.contextElementsLength,!t&&n&&""!==n&&r?B(function(e,t){let n=window.document.querySelectorAll(e),r="";for(let e=0;e<n.length;e++){let i=r+G(n[e].outerHTML).stringWithoutRawEmails;if(function(e){return Math.ceil(4*new Blob([e]).size/3)}(i)<=t)r=i;else break}return r}(n,r)):"")}},ed=e=>({...e,privacyMode:!!e.gdprApplies||(e.gppApplicableSections??[]).indexOf(2)>-1});function ef(e,t){if(e&&e.appId&&e.distributorId){let n=e.distributorId;delete e.distributorId,t.emitError("AppIdAndDistributorIdPresent",Error(`Event contains both appId: ${e.appId} and distributorId: ${n}. Ignoring distributorId`))}return e}let ep="idCookie";class eg{eventBus;calls;idexConfig;externalIds;source;publisherId;url;timeout;requestedAttributes;query;privacyMode;resolvedIdCookie;generateIdCookie;peopleVerifiedId;pageUrl;constructor(e,t,n){let r=e||{identityResolutionConfig:{}};this.eventBus=n,this.calls=t,this.idexConfig=r.identityResolutionConfig||{},this.externalIds=r.retrievedIdentifiers||[],this.source=this.idexConfig.source||"unknown",this.publisherId=this.idexConfig.publisherId||"any",this.url=this.idexConfig.url||"https://idx.liadm.com/idex",this.timeout=this.idexConfig.ajaxTimeout||r.ajaxTimeout||5e3,this.requestedAttributes=this.idexConfig.requestedAttributes||_,this.privacyMode=r.privacyMode??!1,this.resolvedIdCookie=r.resolvedIdCookie,this.generateIdCookie="generated"===this.idexConfig.idCookieMode,this.peopleVerifiedId=r.peopleVerifiedId,this.pageUrl=r.pageUrl,this.query=new er().addOptional("duid",r.peopleVerifiedId).addOptional("us_privacy",r.usPrivacyString).addOptional("gdpr",c(r.gdprApplies,e=>e?1:0)).addOptional("gdpr_consent",r.gdprConsent).addOptional("did",r.distributorId).addOptional("gpp_s",r.gppString).addOptional("gpp_as",r.gppApplicableSections?.join(",")).addOptional("cd",r.cookieDomain).addOptional("ic",ei(r.resolvedIdCookie),{stripEmpty:!1}).addOptional("pu",c(r.pageUrl,ea)),this.externalIds.forEach(e=>{this.query.add(e.name,e.value)}),this.requestedAttributes.forEach(e=>{this.query.add("resolve",e)})}attributeResolutionAllowed(e){return"uid2"===e?!this.privacyMode:e!==ep&&!0}filterParams(e){return e.filteredCopy((e,t)=>"resolve"!==e||!!v(t)&&this.attributeResolutionAllowed(t))}enrichExtraIdentifiers(e,t){var n;let r=t.tuples.filter(([e])=>"resolve"===e).map(([,e])=>e),i={...e};if(n=ep,r.indexOf(n)>-1)this.generateIdCookie&&this.peopleVerifiedId?i[ep]=this.peopleVerifiedId:this.resolvedIdCookie&&(i[ep]=this.resolvedIdCookie);return i}responseReceived(e,t){return(n,r)=>{let i={};if(n)try{let e=JSON.parse(n);m(e)&&(i=e)}catch(e){console.error("Error parsing response",e),this.eventBus.emitError("IdentityResolverParser",e)}let o=function(e){if(m(e)&&"getResponseHeader"in e&&y(e.getResponseHeader)){let t=e.getResponseHeader("expires");if(t)return new Date(t)}}(r);e(this.enrichExtraIdentifiers(i,t),{expiresAt:o})}}buildUrl(e){return`${this.url}/${this.source}/${this.publisherId}${this.filterParams(e).toQueryString()}`}getUrl(e){let t=this.query.copy().addParamsMap(e??{});return this.buildUrl(t)}resolve(e,t,n){try{let r=this.query.copy().addParamsMap(n??{});this.calls.ajaxGet(this.buildUrl(r),this.responseReceived(e,r),t,this.timeout)}catch(e){console.error("IdentityResolve",e),t&&y(t)&&t(e),this.eventBus&&this.eventBus.emitError("IdentityResolve",e)}}}function ev(e){return"number"==typeof e&&e>=0?new k(e):new k(5)}function eh(e){if(!(y(e.emitErrorWithMessage)&&y(e.emitError)))e.emitErrorWithMessage=function(t,n,r={}){let i=w(t,n,r);return e.emit(S,i)},e.emitError=function(t,n){return e.emitErrorWithMessage(t,n.message,n)}}function em(e=5){return ev(e)}let ey="_li_dcdm_c",eb={cookie:"cookie",none:"none",disabled:"disabled"},ew=e=>{let t=e.privacyMode?eb.disabled:e.storageStrategy||eb.cookie;return{...e,storageStrategy:t}},eS=b(30),ek="lidids.",eO=(e,t,n)=>n.indexOf(e)===t,eI=e=>e&&g(e).length>0,eE="0123456789ABCDEFGHJKMNPQRSTVWXYZ",eC=eE.length,eA=0xffffffffffff,eT=function(){let e="undefined"!=typeof window?window:null,t=e&&(e.crypto||e.msCrypto);return t?()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]/255}:()=>Math.random()}(),eP="_lc2_fpi",ex={errorDetails:{message:"Unknown message",name:"Unknown name"}};function eD(e){try{let t=1*e;return isNaN(t)?void 0:t}catch{}}function ej(e){try{if(v(e)&&e.length&&e.length>120)return`${e.substr(0,120)}...`;return`${e}`}catch{}}let eN=()=>void 0;class e_{obj;name;errors;eventBus;constructor(e,t,n){this.obj=e,this.name=t,this.errors=[],this.eventBus=n}wrap(e){if(m(this.obj)){let t=this.obj[e];if(y(t))return(...n)=>{try{return t.call(this.obj,...n)}catch(t){this.eventBus.emitErrorWithMessage(this.name,`Failed calling ${e}`,t)}}}return this.errors.push(e),eN}reportErrors(){this.errors.length>0&&this.eventBus.emitErrorWithMessage(this.name,`The functions '${JSON.stringify(this.errors)}' were not provided`)}}let eU=()=>void 0;function eR(e,t,n){return h(t,eb.disabled)?eU:e.wrap(n)}function eM(e,t,n){return h(t,eb.none)?eU:eR(e,t,n)}class eZ{minimalFunctions;constructor(e,t){this.minimalFunctions={getCookie:eR(t,e,"getCookie"),getDataFromLocalStorage:eR(t,e,"getDataFromLocalStorage"),localStorageIsEnabled:eM(t,e,"localStorageIsEnabled")}}static make(e,t,n){let r=new e_(t,"ReadOnlyStorageHandler",n),i=new eZ(e,r);return r.reportErrors(),i}localStorageIsEnabled(){return!!this.minimalFunctions.localStorageIsEnabled()}getCookie(e){return this.minimalFunctions.getCookie(e)||null}getDataFromLocalStorage(e){return this.minimalFunctions.getDataFromLocalStorage(e)||null}}class eB extends eZ{storageStrategy;functions;constructor(e,t){super(e,t),this.storageStrategy=e,this.functions={setCookie:eM(t,e,"setCookie"),removeDataFromLocalStorage:eM(t,e,"removeDataFromLocalStorage"),setDataInLocalStorage:eM(t,e,"setDataInLocalStorage"),findSimilarCookies:eR(t,e,"findSimilarCookies")}}static make(e,t,n){let r=new e_(t,"StorageHandler",n),i=new eB(e,r);return r.reportErrors(),i}setCookie(e,t,n,r,i){this.functions.setCookie(e,t,n,r,i)}setDataInLocalStorage(e,t){this.functions.setDataInLocalStorage(e,t)}removeDataFromLocalStorage(e){this.functions.removeDataFromLocalStorage(e)}findSimilarCookies(e){return this.functions.findSimilarCookies(e)||[]}}class eF extends Error{constructor(e){super(e),this.name="ParseError"}}class eL{handler;cookieDomain;eventBus;constructor(e){this.handler=e.storageHandler,this.cookieDomain=e.cookieDomain,this.eventBus=e.eventBus}deleteCookie(e){this.handler.setCookie(e,"",new Date(0),"Lax",this.cookieDomain)}parseMetaRecord(e){let t;let n=JSON.parse(e);if(!m(n))throw new eF("Meta record is not an object");if("e"in n&&isNaN((t=new Date(n.e)).getTime()))throw new eF("Invalid expiresAt");if(!("w"in n))throw new eF("Missing writtenAt");let r=new Date(n.w);if(isNaN(r.getTime()))throw new eF("Invalid writtenAt");return{expiresAt:t,writtenAt:r}}serializeMetaRecord(e){let t;return e.expiresAt&&(t=e.expiresAt.getTime()),JSON.stringify({w:e.writtenAt.getTime(),e:t})}getCookieRecord(e,t){let n;let r=this.handler.getCookie(t);if(!r||0===r.length)return null;try{n=this.parseMetaRecord(r)}catch(n){return this.eventBus.emitErrorWithMessage("Cache","Failed reading meta from cookies",n),this.deleteCookie(e),this.deleteCookie(t),null}let i=n.expiresAt;if(i&&i.getTime()<=Date.now())return null;let o=this.handler.getCookie(e);return o?{data:o,meta:n}:null}getLSRecord(e,t){let n;let r=this.handler.getDataFromLocalStorage(t);if(!r||0===r.length)return null;try{n=this.parseMetaRecord(r)}catch(n){return this.eventBus.emitErrorWithMessage("Cache","Failed reading meta from ls",n),this.handler.removeDataFromLocalStorage(e),this.handler.removeDataFromLocalStorage(t),null}let i=n.expiresAt;if(i&&i.getTime()<=Date.now())return this.handler.removeDataFromLocalStorage(e),this.handler.removeDataFromLocalStorage(t),null;let o=this.handler.getDataFromLocalStorage(e);return o?{data:o,meta:n}:null}get(e){let t=function(e){return`${e}_meta`}(e),n=this.getCookieRecord(e,t),r=this.getLSRecord(e,t);if(n&&r)return n.meta.writtenAt.getTime()===r.meta.writtenAt.getTime()?n:n.meta.writtenAt>r.meta.writtenAt?(this.handler.setDataInLocalStorage(e,n.data),this.handler.setDataInLocalStorage(t,this.serializeMetaRecord(n.meta)),n):(this.handler.setCookie(e,r.data,r.meta.expiresAt,"Lax",this.cookieDomain),this.handler.setCookie(t,this.serializeMetaRecord(r.meta),r.meta.expiresAt,"Lax",this.cookieDomain),r);if(n)return this.handler.setDataInLocalStorage(e,n.data),this.handler.setDataInLocalStorage(t,this.serializeMetaRecord(n.meta)),n;if(r)return this.handler.setCookie(e,r.data,r.meta.expiresAt,"Lax",this.cookieDomain),this.handler.setCookie(t,this.serializeMetaRecord(r.meta),r.meta.expiresAt,"Lax",this.cookieDomain),r;else return null}set(e,t,n){let r=function(e){return`${e}_meta`}(e),i=this.serializeMetaRecord({writtenAt:new Date,expiresAt:n});this.handler.setDataInLocalStorage(e,t),this.handler.setDataInLocalStorage(r,i);let o=n||b(730);this.handler.setCookie(e,t,o,"Lax",this.cookieDomain),this.handler.setCookie(r,i,o,"Lax",this.cookieDomain)}}function eq(e){return`${e}_meta`}let eH=()=>void 0;function eV(e,t,n){return t?eH:e.wrap(n)}class ez{functions;constructor(e,t,n){var r,i,o,a;let s=new e_(e,"CallHandler",t);this.functions={ajaxGet:(r=s,i="ajaxGet",n?eH:r.wrap(i)),pixelGet:(o=s,a="pixelGet",n?eH:o.wrap(a))},s.reportErrors()}ajaxGet(e,t,n,r){this.functions.ajaxGet(e,t,n,r)}pixelGet(e,t){this.functions.pixelGet(e,t)}}function eG(e){return t=>t.idCookie?.strategy==="cookie"&&"string"==typeof t.idCookie?.name?{...t,resolvedIdCookie:e.getCookie(t.idCookie.name)}:t.idCookie?.strategy==="localStorage"&&"string"==typeof t.idCookie?.name?{...t,resolvedIdCookie:e.getDataFromLocalStorage(t.idCookie.name)}:t}let eK={};function eW(e,t,n,r){if(e&&m(e)){if("config"in e)r.emitErrorWithMessage("StrayConfig","Received a config after LC has already been initialised",Error(JSON.stringify(e)));else{let i=new eu(n,r),o=i.combineWith({eventSource:e});eK.hashedEmail=eK.hashedEmail||o.data.hashedEmail;let a=en({eventSource:e},eK);t.sendAjax(i.combineWith(a),{onPreSend:()=>r.emit("pre_lips","0"),onLoad:()=>r.emit("lips",n)})}}else r.emitErrorWithMessage("EventNotAnObject","Received event was not an object",Error(e))}function eJ(e,t,n,r){try{var i,o,a,s,u,c,d;let h={...ef(e,r),identifiersToResolve:e.identifiersToResolve||[],contextSelectors:e.contextSelectors||"",contextElementsLength:e.contextElementsLength||0},y=el(ew(ed(h))),b=new ez(n,r,y.privacyMode),w=eB.make(y.storageStrategy,t,r);let k=(i=w,e=>({...e,cookieDomain:function(e){let t=e.getCookie(ey);if(t)return t;let n=document.domain||document.location&&document.location.host||window&&window.location&&window.location.host||"localhost",r=n.split(".");for(let t=r.length;t>0;t--){let n=`.${r.slice(t-1,r.length).join(".")}`;if(e.setCookie(ey,n,void 0,"Lax",n),e.getCookie(ey))return n}return`.${n}`}(i)}))(y),O=new eL({storageHandler:w,eventBus:r,cookieDomain:k.cookieDomain});let I=eG(w)((o=O,a=w,e=>{let t;let n=o.get(eP);if(n)t=n.data;else{let n=a.getCookie(eP);if(n)o.set(eP,n),t=n;else{let n=`${(function(e,t=12){return E(e.replace(/^\./,"")).substring(0,t)})(e.cookieDomain)}--${(function(e,t){let n;if(e>eA)throw function(e){let t=Error(e);return t.source="Ulid",t}("cannot encode time greater than "+eA);let r="";for(;t>0;t--)n=e%eC,r=eE.charAt(n)+r,e=(e-n)/eC;return r})(Date.now(),10)+function(e){let t="";for(;e>0;e--)t=function(){let e=Math.floor(eT()*eC);return e===eC&&(e=eC-1),eE.charAt(e)}()+t;return t}(16)}`.toLocaleLowerCase();o.set(eP,n),t=o.get(eP)?.data}}return t&&a.setDataInLocalStorage(N,t),{...e,liveConnectId:t,peopleVerifiedId:t}})((s=w,u=r,e=>{function t(e,t){try{return t()}catch(t){return u.emitErrorWithMessage("DecisionsResolve",e,t),[]}}let n=t("Error while extracting new decision ids",()=>{var t,n;return[].concat(e.pageUrl&&(t=e.pageUrl,n="li_did",J($(t),n))||[]).map(g).filter(eI).filter(f).filter(eO)}),r=t("Error while retrieving stored decision ids",()=>s.findSimilarCookies(ek).map(g).filter(eI).filter(f));return n.forEach(t=>{try{var n;(n=t)&&s.setCookie(`${ek}${n}`,n,eS,"Lax",e.cookieDomain)}catch(e){u.emitErrorWithMessage("DecisionsResolve","Error while storing new decision id",e)}}),{...e,decisionIds:n.concat(r).filter(eO)}})((c=w,d=r,e=>{try{return{...e,...function(e,t){let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i],a=t.getCookie(o)||t.getDataFromLocalStorage(o);if(a){let e=G(l(a));n.push({name:o,value:e.stringWithoutRawEmails}),r=r.concat(e.hashesFromOriginalString)}}return{retrievedIdentifiers:n,hashesFromIdentifiers:function(e){let t=new Set,n=[];for(let r=0;r<e.length;r++)!t.has(e[r].md5)&&(n.push(e[r]),t.add(e[r].md5));return n}(r)}}(function(e){let t=[];e&&(p(e)?t=e:v(e)&&(t=e.split(",")));for(let e=0;e<t.length;e++)t[e]=t[e].trim();return t}(e.identifiersToResolve),c)}}catch(t){return d.emitError("IdentifiersEnricher",t),{...e,retrievedIdentifiers:[],hashesFromIdentifiers:[]}}})(k)))),C=new j({collectorUrl:h.collectorUrl,ajaxTimeout:h.ajaxTimeout,eventBus:r,callHandler:b});!function(e,t,n){try{n.on(S,r=>{t.sendPixel(new eu({...e,...function(e){return m(e)?{errorDetails:{message:ej(e.message)||"",name:ej(e.name)||"",stackTrace:ej(e.stack),lineNumber:eD(e.lineNumber),columnNumber:eD(e.columnNumber),fileName:ej(e.fileName)}}:ex}(r)},n))})}catch(e){console.error("handlers.error.register",e)}}(I,C,r);let A=new eg(I,b,r),T=(...e)=>(function(e,t,n,r){try{e.forEach(e=>{p(e)?e.forEach(e=>eW(e,t,n,r)):eW(e,t,n,r)})}catch(e){console.error("Error sending events",e),r.emitErrorWithMessage("LCPush","Failed sending an event",e)}})(e,C,I,r);return{push:T,fire:()=>T({}),peopleVerifiedId:I.peopleVerifiedId,ready:!0,resolve:A.resolve.bind(A),resolutionCallUrl:A.getUrl.bind(A),config:h,eventBus:r,storageHandler:w,cache:O}}catch(e){console.error(e),r.emitErrorWithMessage("LCConstruction","Failed to build LC",e)}}function e$(e,t,n,r){let i;let o=m(e)&&e||{},a=r||em();try{i=o.globalVarName?function(e,t,n,r){let i=window[e.globalVarName]||[],o=function(e){try{if(window&&window[e.globalVarName]&&window[e.globalVarName].ready){let t=window[e.globalVarName].config&&function(e,t){if(!(e.appId===t.appId&&e.wrapperName===t.wrapperName&&e.collectorUrl===t.collectorUrl))return{appId:[e.appId,t.appId],wrapperName:[e.wrapperName,t.wrapperName],collectorUrl:[e.collectorUrl,t.collectorUrl]}}(window[e.globalVarName].config,e);if(t){let n=Error();n.name="ConfigSent",n.message="Additional configuration received";let r=function(e){let t=window[e].eventBus||window.__li__evt_bus;return eh(t),t}(e.globalVarName);window[e.globalVarName].eventBus=r,r.emitErrorWithMessage("LCDuplication",JSON.stringify(t),n)}return window[e.globalVarName]}}catch(e){console.error("Could not initialize error bus")}}(e)||eJ(e,t,n,r)||i;if(p(i))for(let e=0;e<i.length;e++)o.push(i[e]);return window[o.config.globalVarName]=o,window.liQ_instances=window.liQ_instances||[],0===window.liQ_instances.filter(e=>e.config.globalVarName===o.config.globalVarName).length&&window.liQ_instances.push(o),o}(o,t,n,a):function(e,t,n,r){let i=eJ(e,t,n,r);return window.liQ_instances=window.liQ_instances||[],window.liQ_instances.push(i),i}(o,t,n,a)}catch(e){console.error(e),a.emitErrorWithMessage("LCConstruction","Failed to build LC",e)}return i}function eQ(e,t,n,r,i){try{var o,a,s,u;let c={...ef(e,r),identifiersToResolve:e.identifiersToResolve||[]},d=ew(ed(c)),f=eZ.make(d.storageStrategy,t,r),v=new ez(n,r,d.privacyMode);let h=(o=f,a=r,e=>{try{return{...e,retrievedIdentifiers:function(e,t){let n=p(e)?e:l(e).split(","),r=[];for(let e=0;e<n.length;e++){var i,o;let a=g(n[e]),s=t.getCookie(a)||t.getDataFromLocalStorage(a);if(s&&(i=l(s),!V().test(i))&&(o=l(s),!V().test(o)))r.push({name:a,value:l(s)})}return r}(e.identifiersToResolve,o)}}catch(t){return a.emitError("IdentifiersEnrich",t),{...e,retrievedIdentifiers:[]}}})(eG(f)((s=f,u=r,e=>{try{return{...e,peopleVerifiedId:e.peopleVerifiedId||s.getDataFromLocalStorage(N)||void 0}}catch(t){return u.emitError("PeopleVerifiedEnrich",t),e}})(d))),m=new eg(h,v,r);return{push:e=>i(e),fire:()=>i({}),peopleVerifiedId:h.peopleVerifiedId,ready:!0,resolve:m.resolve.bind(m),resolutionCallUrl:m.getUrl.bind(m),config:c,eventBus:r,storageHandler:f}}catch(e){console.error(e)}}function eX(e,t,n,r){let i=m(e)&&e||{},o=r||em();try{return i.globalVarName?function(e,t,n,r){let i=window[e.globalVarName]=window[e.globalVarName]||[],o=eQ(e,t,n,r,i.push.bind(i));return window.liQ_instances=window.liQ_instances||[],0===window.liQ_instances.filter(e=>e.config.globalVarName===o.config.globalVarName).length&&window.liQ_instances.push(o),o}(i,t,n,o):function(e,t,n,r){let i=eQ(e,t,n,r,()=>{});return window.liQ_instances=window.liQ_instances||[],window.liQ_instances.push(i),i}(i,t,n,o)}catch(e){console.error(e)}return{}}let eY=function(e,t,n,r,i){let o=i||em(),a=m(e)&&e||{};return("minimal"===r?eX:e$)(a,t,n,o)};var e0=n("68681"),e1=n("85865"),e2=n("36621"),e3=n("39864"),e8=n("4511"),e6=n("39071"),e4=n("84144"),e5=n("15658");function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(t){(0,e2.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te="liveIntentId",tt="liveintent.com",tn={nonId:!0},tr=e7(e7(e7({},e6.u),e4.l),{},{lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},bidswitch:{source:"bidswitch.net",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},medianet:{source:"media.net",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},magnite:{source:"rubiconproject.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},index:{source:"liveintent.indexexchange.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},openx:{source:"openx.net",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},pubmatic:{source:"pubmatic.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},sovrn:{source:"liveintent.sovrn.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},fpid:{source:"fpid.liveintent.com",atype:1,getValue:function(e){return e.id}},sharethrough:{source:"sharethrough.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},sonobi:{source:"liveintent.sonobi.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}},vidazoo:{source:"liveintent.vidazoo.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}}}),ti="pre_lips",to=(0,e0.df)({moduleType:e1.y2,moduleName:te}),ta={ajaxGet:function(e,t,n,r){(0,i.OI)(r)(e,{success:t,error:n},void 0,{method:"GET",withCredentials:!0})},pixelGet:function(e,t){return(0,r.hq)(e,t)}},ts=!1,tu=null;function tc(){window&&window.liQ_instances&&(window.liQ_instances.forEach(function(e){return e.eventBus.off(ti,tl)}),window.liQ_instances=[]),tp.setModuleMode(null),ts=!1,tu=null}function tl(){ts=!0}function td(e){if(tu)return tu;var t,n,r=(e=e||{}).fpid||{},i={publisherId:e.publisherId||"any",requestedAttributes:function(e){function t(e){return Object.entries(e).flatMap(function(e){var t,n=(0,e8.Z)(e,2),r=n[0],i=n[1];return"boolean"==typeof i&&i?["fpid"===(t=r)?"idCookie":t]:[]})}return"object"===(0,e3.Z)(e)?t(e7(e7({},tn),e)):t(tn)}(e.requestedAttributesOverrides)};e.url&&(i.url=e.url),i.ajaxTimeout=e.ajaxTimeout||5e3;var a=(t=e.liCollectConfig,n={},(t=t||{}).appId&&(n.appId=t.appId),t.fpiStorageStrategy&&(n.storageStrategy=t.fpiStorageStrategy),t.fpiExpirationDays&&(n.expirationDays=t.fpiExpirationDays),t.collectorUrl&&(n.collectorUrl=t.collectorUrl),n.ajaxTimeout=t.ajaxTimeout||5e3,n);!a.appId&&e.distributorId?(a.distributorId=e.distributorId,i.source=e.distributorId):i.source=e.partner||"prebid",a.wrapperName="prebid",a.trackerVersion="9.18.0",a.identityResolutionConfig=i,a.identifiersToResolve=e.identifiersToResolve||[],a.fireEventDelay=e.fireEventDelay,a.idCookie={},a.idCookie.name=r.name,a.idCookie.strategy="html5"==r.strategy?"localStorage":r.strategy;var s=o.nX.getConsentData();s&&(a.usPrivacyString=s);var u=o.rp.getConsentData();u&&(a.gdprApplies=u.gdprApplies,a.gdprConsent=u.consentString);var c=o.TJ.getConsentData();return c&&(a.gppString=c.gppString,a.gppApplicableSections=c.applicableSections),tu=tp.getInitializer()(a,to,ta),e.emailHash&&tu.push({hash:e.emailHash}),tu}function tf(){!ts&&tu&&setTimeout(function(){window.liQ_instances.forEach(function(e){return e.eventBus.once(ti,tl)}),!ts&&tu&&tu.fire()},tu.config.fireEventDelay||500)}var tp={moduleMode:"standard",name:te,gvlid:148,setModuleMode:function(e){this.moduleMode=e},getInitializer:function(){var e=this;return function(t,n,r){return eY(t,n,r,e.moduleMode)}},decode:function(e,t){var n=t&&t.params||{};return!tu&&td(n),tf(),function(e){var t={},n=e.nonId||e.unifiedId;if(n){var r=e7(e7({},e),{},{lipbid:n});delete r.unifiedId,t.lipb=r}return e.uid2&&(t.uid2={id:e.uid2,ext:{provider:tt}}),e.bidswitch&&(t.bidswitch={id:e.bidswitch,ext:{provider:tt}}),e.medianet&&(t.medianet={id:e.medianet,ext:{provider:tt}}),e.magnite&&(t.magnite={id:e.magnite,ext:{provider:tt}}),e.index&&(t.index={id:e.index,ext:{provider:tt}}),e.openx&&(t.openx={id:e.openx,ext:{provider:tt}}),e.pubmatic&&(t.pubmatic={id:e.pubmatic,ext:{provider:tt}}),e.sovrn&&(t.sovrn={id:e.sovrn,ext:{provider:tt}}),e.idCookie&&(!o.VP.getCoppa()&&(t.lipb=e7(e7({},t.lipb),{},{fpid:e.idCookie}),t.fpid={id:e.idCookie}),delete t.lipb.idCookie),e.thetradedesk&&(t.lipb=e7(e7({},t.lipb),{},{tdid:e.thetradedesk}),t.tdid={id:e.thetradedesk,ext:{rtiPartner:"TDID",provider:(0,e5.nH)().domain||tt}},delete t.lipb.thetradedesk),e.sharethrough&&(t.sharethrough={id:e.sharethrough,ext:{provider:tt}}),e.sonobi&&(t.sonobi={id:e.sonobi,ext:{provider:tt}}),e.vidazoo&&(t.vidazoo={id:e.vidazoo,ext:{provider:tt}}),t}(e)},getId:function(e){var t=td(e&&e.params||{});return t?(tf(),{callback:function(e){t.resolve(function(t){e(t)},function(t){(0,r.H)("".concat(te,": ID fetch encountered an error: "),t),e()})}}):void 0},primaryIds:["libp"],eids:tr};(0,a.Bx)("userId",tp)},39071:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var r=n(36621);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a={tdid:{source:"adserver.org",atype:1,getValue:function(e){return e.id?e.id:e},getUidExt:function(e){return o(o({},{rtiPartner:"TDID"}),e.ext)}}}},84144:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r={uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){if(e.ext)return e.ext}}}},4480:function(e,t,n){"use strict";var r=n(94329),i=n(12827),o=n(78562),a=n(31144),s=n(66872),u=n(31306),c=n(68681),l=n(85865),d="atsAnalytics",f=(0,c.df)({moduleType:l._U,moduleName:d}),p=[],g=[],v=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],h=["Safari","Chrome","Firefox","Microsoft Edge"];function m(e){try{var t=JSON.stringify({Data:e});(0,i.PN)("ATS Analytics - tried to send analytics data!"),(0,u.hj)("https://analytics.rlcdn.com",function(){(0,i.PN)("ATS Analytics - events sent successfully!")},t,{method:"POST",contentType:"application/json"})}catch(e){(0,i.H)("ATS Analytics - request encounter an error: ",e)}}var y=Object.assign((0,o.ZP)({analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;void 0!==n&&y.callHandler(t,n)}});y.originEnableAnalytics=y.enableAnalytics,y.shouldFireRequest=function(e){if(0===e)return(0,i.PN)("ATS Analytics - Should Fire Request: ",!1),!1;var t=100===Math.floor(100*Math.random()+1);return(0,i.PN)("ATS Analytics - Should Fire Request: ",t),t},y.getUserAgent=function(){return window.navigator.userAgent},y.setSamplingCookie=function(e){var t=new Date;t.setTime(t.getTime()+6048e5),f.setCookie("_lr_sampling_rate",e,t.toUTCString())},y.enableAnalytics=function(e){if(!e.options.pid){(0,i.H)("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work");return}y.context={events:[],pid:e.options.pid,bidWonTimeout:e.options.bidWonTimeout};var t=e.options;(0,i.PN)("ATS Analytics - adapter enabled! "),y.originEnableAnalytics(t)},y.callHandler=function(e,t){if(e===a.FP.BID_REQUESTED)p=p.concat(function(e){var t="true"===f.getCookie("_lr_env_src_ats");return e.bids.map(function(n){return{envelope_source:t,has_envelope:!!n.userId&&!!n.userId.idl_env,bidder:n.bidder,bid_id:n.bidId,auction_id:e.auctionId,user_browser:function(){var e=y.getUserAgent();try{var t=v.filter(function(t){return t.test.test(e)}),n=t&&t.length?t[0].name:"";return h.indexOf(n)>=0?n:"Unknown"}catch(e){(0,i.H)("ATS Analytics - Error while checking user browser!",e)}}(),user_platform:navigator.platform,auction_start:new Date(e.auctionStart).toJSON(),domain:window.location.hostname,pid:y.context.pid,adapter_version:3,bid_won:!1}})}(t));else if(e===a.FP.BID_RESPONSE){var n;g.push({bid_id:(n=t).requestId,response_time_stamp:new Date(n.responseTimestamp).toJSON(),currency:n.currency,cpm:n.cpm,net_revenue:n.netRevenue})}if(e===a.FP.AUCTION_END){var o=y.context.bidWonTimeout?y.context.bidWonTimeout:2e3,s=[];setTimeout(function(){var e=(0,r.R)().getAllWinningBids();if((0,i.PN)("ATS Analytics - winning bids: ",e),p.length){var t={};g.length?(s=p.filter(function(e){return g.filter(function(t){e.bid_id===t.bid_id&&Object.assign(e,t)})}),e.length&&(s=s.filter(function(n){return e.filter(function(e){t.bid_id=e.requestId,t.bid_won=!0,n.bid_id===t.bid_id&&Object.assign(n,t)})}))):s=p;try{var n,o=f.getCookie("_lr_sampling_rate");if(o)y.shouldFireRequest(parseInt(o))&&((0,i.PN)("ATS Analytics - events to send: ",s),m(s));else{;n=s,(0,i.PN)("ATS Analytics - preflight request!"),(0,u.hj)("https://check.analytics.rlcdn.com/check/"+y.context.pid,{success:function(e){var t=JSON.parse(e);(0,i.PN)("ATS Analytics - Sampling Rate: ",t);var r=t.samplingRate;y.setSamplingCookie(r);var o=Number(r);e&&r&&y.shouldFireRequest(o)&&((0,i.PN)("ATS Analytics - events to send: ",n),m(n))},error:function(){y.setSamplingCookie(0),(0,i.PN)("ATS Analytics - Sampling Rate Request Error!")}},void 0,{method:"GET",crossOrigin:!0})}s=[]}catch(e){(0,i.H)("ATS Analytics - preflight request encounter an error: ",e)}}},o)}},s.ZP.registerAnalyticsAdapter({adapter:y,code:d,gvlid:97}),(0,r.z)("atsAnalyticsAdapter")},23219:function(e,t,n){"use strict";n.r(t),n.d(t,{GPPClient:function(){return _},consentTimeout:function(){return i},enrichFPDHook:function(){return H},lookupIabConsent:function(){return U},requestBidsHook:function(){return Z},resetConsentData:function(){return L},setConsentConfig:function(){return q},storeConsentData:function(){return F},userCMP:function(){return r}});var r,i,o,a,s=n(39864),u=n(4511),c=n(36621),l=n(57786),d=n(56979),f=n(60340),p=n(94329),g=n(12827),v=n(67007),h=n(39724),m=n(57248),y=n(70303),b=n(84159),w=n(13722),S=n(32217),k=n(89924);function O(e,t,n){(function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function I(e,t){return e.get(A(e,t))}function E(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}function C(e,t,n){return e.set(A(e,t),n),n}function A(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw TypeError("Private element is not present on this object")}var T=!1;function P(e,t){var n=t.onSuccess,r=t.onError;new w.Z(function(t){return t(e())}).then(n,function(e){e instanceof x?r.apply(void 0,[e.message].concat((0,f.Z)(e.args))):r("GPP error:",e)})}var x=(0,l.Z)(function e(t,n){(0,d.Z)(this,e),this.message=t,this.args=null==n?[]:[n]}),D=new WeakMap,j=new WeakMap,N=new WeakMap,_=(0,l.Z)(function e(t){var n=this;(0,d.Z)(this,e),(0,c.Z)(this,"apiVersion","1.1"),O(this,D,void 0),O(this,j,void 0),O(this,N,[]),(0,c.Z)(this,"initialized",!1),this.cmp=t;var r=["resolve","reject"].map(function(e){return function(t){for(;I(N,n).length;)I(N,n).pop()[e](t)}}),i=(0,u.Z)(r,2);E(C,[D,this])._=i[0],E(C,[j,this])._=i[1]},[{key:"init",value:function(e){var t=this,n=this.updateWhenReady(e);return!this.initialized&&(e.gppVersion!==this.apiVersion&&(0,g.yN)("Unrecognized GPP CMP version: ".concat(e.apiVersion,". Continuing using GPP API version ").concat(this.apiVersion,"...")),this.initialized=!0,this.cmp({command:"addEventListener",callback:function(e,n){var r;null==n||n?(null==e||null===(r=e.pingData)||void 0===r?void 0:r.cmpStatus)==="error"?I(j,t).call(t,new x('CMP status is "error"; please check CMP setup',e)):t.isCMPReady((null==e?void 0:e.pingData)||{})&&["sectionChange","signalStatus"].includes(null==e?void 0:e.eventName)&&I(D,t).call(t,t.updateConsent(e.pingData)):I(j,t).call(t,new x("Received error response from CMP",e)),null!=a&&(null==e?void 0:e.pingData)!=null&&!t.isCMPReady(e.pingData)&&(a=null)}})),n}},{key:"refresh",value:function(){return this.cmp({command:"ping"}).then(this.init.bind(this))}},{key:"updateConsent",value:function(e){return new w.Z(function(t){if(null==e||(0,g.xb)(e))throw new x("Received empty response from CMP",e);var n=B(e);(0,g.PN)("Retrieved GPP consent from CMP:",n),t(n)})}},{key:"nextUpdate",value:function(){var e=(0,w.P)();return I(N,this).push(e),e.promise}},{key:"updateWhenReady",value:function(e){return this.isCMPReady(e)?this.updateConsent(e):this.nextUpdate()}},{key:"isCMPReady",value:function(e){return"ready"===e.signalStatus}}],[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.b6;if(null==this.INST){var t=e({apiName:"__gpp",apiArgs:["command","callback","parameter"],mode:b.m1});if(null==t)throw new x("GPP CMP not found");this.INST=new this(t)}return this.INST}}]);function U(e){var t=e.onSuccess,n=e.onError,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.b6;P(function(){return _.get(r).refresh()},{onSuccess:t,onError:n})}(0,c.Z)(_,"INST",void 0);var R={iab:U,static:function(e){return P(function(){return B(o)},e)}};function M(e){var t=!1,n=null;function o(r,i,o){if(null!=n&&clearTimeout(n),t=!0,m.TJ.setConsentData(r),"function"==typeof e){for(var a=arguments.length,s=Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];e.apply(void 0,[i,o].concat(s))}}if(!R.hasOwnProperty(r)){o(null,!1,"GPP CMP framework (".concat(r,") is not a supported framework.  Aborting consentManagement module and resuming auction."));return}if(R[r]({onSuccess:function(e){return o(e,!1)},onError:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.apply(void 0,[null,!0,e].concat(n))}}),!t){var s=function(){var e=function(e){o(e,!1,"GPP CMP did not load, continuing auction...")};P(function(){return B(a)},{onSuccess:e,onError:function(){return e(F())}})};0===i?s():n=setTimeout(s,i)}}var Z=(0,k.p)("gpp",function(){return a},M);function B(e){if((null==e?void 0:e.applicableSections)!=null&&!Array.isArray(e.applicableSections)||(null==e?void 0:e.gppString)!=null&&!(0,g.d8)(e.gppString)||(null==e?void 0:e.parsedSections)!=null&&!(0,g.PO)(e.parsedSections))throw new x("CMP returned unexpected value during lookup process.",e);return["usnatv1","uscav1"].forEach(function(t){var n;null!=e&&null!==(n=e.parsedSections)&&void 0!==n&&n[t]&&(0,g.yN)("Received invalid section from cmp: '".concat(t,"'. Some functionality may not work as expected"),e)}),F(e)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a={gppString:null==e?void 0:e.gppString,applicableSections:(null==e?void 0:e.applicableSections)||[],parsedSections:(null==e?void 0:e.parsedSections)||{},gppData:e},m.TJ.setConsentData(e),a}function L(){a=void 0,r=void 0,i=void 0,m.TJ.reset(),_.INST=null}function q(e){if(!(e=e&&e.gpp)||"object"!==(0,s.Z)(e)){(0,g.yN)("consentManagement.gpp config not defined, exiting consent manager module");return}(0,g.d8)(e.cmpApi)?r=e.cmpApi:(r="iab",(0,g.PN)("consentManagement.gpp config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,g.hj)(e.timeout)?i=e.timeout:(i=1e4,(0,g.PN)("consentManagement.gpp config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"static"===r&&((0,g.PO)(e.consentData)?(o=e.consentData,i=0):(0,g.H)("consentManagement.gpp config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),(0,g.PN)("consentManagement.gpp module has been activated..."),!T&&((0,p.R)().requestBids.before(Z,50),S.Ww.before(function(e,t){return e(Object.assign({gppConsent:m.TJ.getConsentData()},t))})),T=!0,m.TJ.enable(),M()}function H(e,t){return e(t.then(function(e){var t=m.TJ.getConsentData();return t&&(Array.isArray(t.applicableSections)&&(0,v.N)(e,"regs.gpp_sid",t.applicableSections),(0,v.N)(e,"regs.gpp",t.gppString)),e}))}h.vc.getConfig("consentManagement",function(e){return q(e.consentManagement)}),y.S.before(H),(0,p.z)("consentManagementGpp")},48457:function(e,t,n){"use strict";var r,i,o,a,s,u,c=n(39864),l=n(94329),d=n(12827),f=n(67007),p=n(39724),g=n(57248),v=n(31232),h=n(7055),m=n(70303),y=n(84159),b=n(89924),w=!1,S=!1,k={iab:function(e){var t=e.onSuccess,n=e.onError,r=e.onEvent,i=(0,y.b6)({apiName:"__tcfapi",apiVersion:2,apiArgs:["command","version","callback","parameter"]});if(!i)return n("TCF2 CMP not found.");i.isDirect?(0,d.PN)("Detected CMP API is directly accessible, calling it now..."):(0,d.PN)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),i({command:"addEventListener",callback:function(e,i){(0,d.PN)("Received a response from CMP",e),i?(r(e),(!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)&&E(e,{onSuccess:t,onError:n})):n("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(e){var t=e.onSuccess,n=e.onError;E(a,{onSuccess:t,onError:n})}};function O(e){var t,n,o=!1,a=null,u=!1;function c(e){null!=a&&clearTimeout(a),!o&&null!=e&&(0===e?t():a=setTimeout(t,e))}function l(t,n,r){if(c(null),o=!0,g.rp.setConsentData(t),"function"==typeof e){for(var i=arguments.length,a=Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];e.apply(void 0,[n,r].concat(a))}}if(!(0,v.q9)(Object.keys(k),r)){l(null,!1,"CMP framework (".concat(r,") is not a supported framework.  Aborting consentManagement module and resuming auction."));return}t=function(){var e=function(e){l(e,!1,"".concat(u?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};E(n,{onSuccess:e,onError:function(){return e(C(void 0))}})},k[r]({onSuccess:function(e){return l(e,!1)},onError:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l.apply(void 0,[null,!0,e].concat(n))},onEvent:function(e){n=e,!u&&(u=!0,null!=s&&c(s))}}),!(null!=s&&u)&&c(i)}var I=(0,b.p)("gdpr",function(){return u},O);function E(e,t){var n,r,i=t.onSuccess,a=t.onError;if(n=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o,r=e&&e.tcString,!("boolean"!=typeof n||!0===n&&(!r||!(0,d.d8)(r))))i(C(e));else a("CMP returned unexpected value during lookup process.",e)}function C(e){return u={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o},e&&e.addtlConsent&&(0,d.d8)(e.addtlConsent)&&(u.addtlConsent=e.addtlConsent),u.apiVersion=2,u}p.vc.getConfig("consentManagement",function(e){return function(e){if(!(e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))||"object"!==(0,c.Z)(e)){(0,d.yN)("consentManagement (gdpr) config not defined, exiting consent manager");return}if((0,d.d8)(e.cmpApi)?r=e.cmpApi:(r="iab",(0,d.PN)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,d.hj)(e.timeout)?i=e.timeout:(i=1e4,(0,d.PN)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),s=(0,d.hj)(e.actionTimeout)?e.actionTimeout:null,o=!0===e.defaultGdprScope,w=!!e.dsaPlatform,(0,d.PN)("consentManagement module has been activated..."),"static"===r){if((0,d.PO)(e.consentData)){var t;(null===(t=a=e.consentData)||void 0===t?void 0:t.getTCData)!=null&&(a=a.getTCData),i=0}else(0,d.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")}!S&&(0,l.R)().requestBids.before(I,50),S=!0,g.rp.enable(),O()}(e.consentManagement)});m.S.before(function(e,t){return e(t.then(function(e){var t=g.rp.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&(0,f.N)(e,"regs.ext.gdpr",t.gdprApplies?1:0),(0,f.N)(e,"user.ext.consent",t.consentString)),w&&(0,f.N)(e,"regs.ext.dsa.dsarequired",3),e}))});(0,h.f8)({type:h.Z,name:"gdprAddtlConsent",fn:function(e,t){var n,r=null===(n=t.gdprConsent)||void 0===n?void 0:n.addtlConsent;r&&"string"==typeof r&&(0,f.N)(e,"user.ext.ConsentedProvidersSettings.consented_providers",r)}}),(0,l.z)("consentManagementTcf")},35593:function(e,t,n){"use strict";var r,i,o=n(39864),a=n(94329),s=n(12827),u=n(67007),c=n(39724),l=n(66872),d=n(57248),f=n(44486),p=n(27862),g=n(70303),v=n(84159),h="iab",m=50,y=!1,b={iab:function(e){var t,n=e.onSuccess,r=e.onError;var i=(t={},{consentDataCallback:function(e,i){i&&e.uspString&&(t.usPrivacy=e.uspString),t.usPrivacy?k(t,{onSuccess:n,onError:r}):r("Unable to get USP consent string.")}}),o=(0,v.b6)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!o)return r("USP CMP not found.");o.isDirect?(0,s.PN)("Detected USP CMP is directly accessible, calling it now..."):(0,s.PN)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),o({command:"getUSPData",callback:i.consentDataCallback}),o({command:"registerDeletion",callback:function(e,t){return(null==t||t)&&l.ZP.callDataDeletionRequest(e)}}).catch(function(e){(0,s.H)("Error invoking CMP `registerDeletion`:",e)})},static:function(e){var t=e.onSuccess,n=e.onError;k(r,{onSuccess:t,onError:n})}};function w(e){var t=null,n=!1;function r(r,i){if(null!=t&&clearTimeout(t),n=!0,d.nX.setConsentData(r),null!=e){for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];e.apply(void 0,[i].concat(a))}}if(!b[h]){r(null,"USP framework (".concat(h,") is not a supported framework. Aborting consentManagement module and resuming auction."));return}var i={onSuccess:r,onError:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.apply(void 0,[null,"".concat(e," Resuming auction without consent data as per consentManagement config.")].concat(n))}};b[h](i),!n&&(0===m?k(void 0,i):t=setTimeout(i.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),m))}var S=(0,f.g3)("usp",function(e,t){var n=this;!y&&O(),w(function(r){if(null!=r){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];s.yN.apply(void 0,[r].concat(o))}e.call(n,t)})});function k(e,t){var n=t.onSuccess,r=t.onError;if(!(e&&e.usPrivacy)){r("USPAPI returned unexpected value during lookup process.",e);return}(function(e){e&&e.usPrivacy&&(i=e.usPrivacy)})(e),n(i)}function O(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!y&&((0,s.PN)("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(h,"', timeout: ").concat(m,"ms)"))),y=!0,d.nX.enable()),w()}c.vc.getConfig("consentManagement",function(e){var t;(!(t=(t=e.consentManagement)&&t.usp)||"object"!==(0,o.Z)(t))&&(0,s.yN)("consentManagement.usp config not defined, using defaults"),t&&(0,s.d8)(t.cmpApi)?h=t.cmpApi:(h="iab",(0,s.PN)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),t&&(0,s.hj)(t.timeout)?m=t.timeout:(m=50,(0,s.PN)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===h&&((0,s.PO)(t.consentData)&&(0,s.PO)(t.consentData.getUSPData)?(t.consentData.getUSPData.uspString&&(r={usPrivacy:t.consentData.getUSPData.uspString}),m=0):(0,s.H)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),O(!0)}),(0,p.v5)("requestBids").before(S,50);g.S.before(function(e,t){return e(t.then(function(e){var t=d.nX.getConsentData();return t&&(0,u.N)(e,"regs.ext.us_privacy",t),e}))}),(0,a.z)("consentManagementUsp")},43078:function(e,t,n){"use strict";var r,i,o=n("36621"),a=n("4511"),s=n("94329"),u=n("34498"),c=n("12827"),l=(0,s.R)(),d=n("70926"),f=n("23549"),p=n("39724"),g=n("31144"),v=n("6826"),h=n("27862"),m=n("15658"),y=n("58512"),b=n("92618"),w=n("57248"),S={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},k={protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},O={ri:m.nH};p.vc.getConfig("brandCategoryTranslation.translationFile")&&(0,h.v5)("registerAdserver").before(function(e){e.call(this,"dfp")});function I(e,t,n){return(0,b.Z)(t,"".concat(n,".description_url"))||encodeURIComponent(O.ri().page)}function E(e,t,n){var r=e&&e.adserverTargeting||{},i={},a=t&&t.adUnit;if(a){var s=y.q0.getAllTargeting(a.code);i=s?s[a.code]:{}}var u=Object.assign({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},i,r);v.j8(g.FP.SET_TARGETING,(0,o.Z)({},a.code,u));var l=Object.assign({},u,(0,b.Z)(t,"params.cust_params")),d=encodeURIComponent((0,c.Yp)(l));return n&&(d=n+"%26"+d),d}r="dfp",i={buildVideoUrl:function(e){if(!e.params&&!e.url){(0,c.H)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl");return}var t,n,r,i,o,s,l=e.adUnit,p=e.bid||y.q0.getWinningBids(l.code)[0],g={};if(e.url&&(g=(0,c.en)(e.url,{noDecodeWholeURL:!0}),(0,c.xb)(e.params)))return function(e,t,n){var r=I(t,e,"search");return r&&(e.search.description_url=r),e.search.cust_params=E(t,n,e.search.cust_params),(0,c.Q2)(e)}(g,p,e);var v={correlator:Date.now(),sz:(0,c.sF)((0,b.Z)(l,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},h=g.search,m=h&&h.sz;m&&(v.sz=m+"|"+v.sz);var O=E(p,e,h&&h.cust_params);var C=Object.assign({},S,g.search,v,e.params,{cust_params:O},(t=w.rp.getConsentData(),n={},t&&("boolean"==typeof t.gdprApplies&&(n.gdpr=Number(t.gdprApplies)),t.consentString&&(n.gdpr_consent=t.consentString),t.addtlConsent&&(n.addtl_consent=t.addtlConsent)),n)),A=I(p,e,"params");if(A&&(C.description_url=A),!C.ppid){var T=(0,d.G)();null!=T&&(C.ppid=T)}var P=null===(r=e.adUnit)||void 0===r||null===(r=r.mediaTypes)||void 0===r?void 0:r.video;Object.entries({plcmt:function(){return null==P?void 0:P.plcmt},min_ad_duration:function(){return(0,c.hj)(null==P?void 0:P.minduration)?1e3*P.minduration:null},max_ad_duration:function(){return(0,c.hj)(null==P?void 0:P.maxduration)?1e3*P.maxduration:null},vpos:function(){var e=null==P?void 0:P.startdelay;if((0,c.hj)(e))return -2===e?"postroll":-1===e||e>0?"midroll":"preroll"},vconp:function(){return Array.isArray(null==P?void 0:P.playbackmethod)&&P.playbackmethod.every(function(e){return 7===e})?"2":void 0},vpa:function(){if(Array.isArray(null==P?void 0:P.playbackmethod)){var e=P.playbackmethod.some(function(e){return 3===e}),t=P.playbackmethod.some(function(e){return[1,2,4,5,6].includes(e)});if(e&&!t)return"click";if(t&&!e)return"auto"}},vpmute:function(){if(Array.isArray(null==P?void 0:P.playbackmethod)){var e=P.playbackmethod.some(function(e){return[2,6].includes(e)}),t=P.playbackmethod.some(function(e){return[1,3,4,5].includes(e)});if(e&&!t)return"1";if(t&&!e)return"0"}}}).forEach(function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];if(!C.hasOwnProperty(n)){var i=r();null!=i&&(C[n]=i)}});var x=null!==(i=null===(o=f.K.index.getBidRequest(e.bid||{}))||void 0===o?void 0:o.ortb2)&&void 0!==i?i:null===(s=f.K.index.getAuction(e.bid||{}))||void 0===s||null===(s=s.getFPD())||void 0===s?void 0:s.global,D=(0,u.aj)(x);return D.length&&(C.ppsj=btoa(JSON.stringify({PublisherProvidedTaxonomySignals:D}))),(0,c.Q2)(Object.assign({},k,g,{search:C}))}},l.adServers=l.adServers||{},l.adServers.dfp=l.adServers[r]||{},Object.keys(i).forEach(function(e){if(l.adServers[r][e]){(0,c.yN)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(r,"."));return}l.adServers[r][e]=i[e]}),(0,s.z)("dfpAdServerVideo")},48884:function(e,t,n){"use strict";var r=n(36621),i=n(94329),o=n(12827),a=n(92618),s=n(27862),u=n(68681),c=n(85865),l=n(3585);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f="euid",p=l.ov,g="PrebidJS-".concat("9.18.0","-EUIDModule-").concat(p),v="EUID: ";function h(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(void 0,[t+" "].concat(r))}}var m=h(o.PN,v),y=h(o.yN,v),b=(0,u.df)({moduleType:c.y2,moduleName:f});(0,s.Bx)("userId",{name:f,gvlid:21,decode:function(e){var t=function(e){if("string"==typeof e)return m("Found server-only token. Refresh is unavailable for this token."),{euid:{id:e}};return"optout"===e.latestToken?(m("Found optout token.  Refresh is unavailable for this token."),{euid:{optout:!0}}):Date.now()<e.latestToken.identity_expires?{euid:{id:e.latestToken.advertising_token}}:null}(e);return m("EUID decode returned",t),t},getId:function(e,t){if((null==t?void 0:t.gdprApplies)!==!0){(0,o.yN)("EUID is intended for use within the EU. The module will not run when GDPR does not apply.");return}if(i=(null==(n=t)?void 0:n.gdprApplies)===!0,s=(0,a.Z)(n,"vendorData.purpose.consents.1"),u=(0,a.Z)(n,"vendorData.vendor.consents.".concat("21")),i&&(!s||!u)){y("Unable to use EUID module due to insufficient consent. The EUID module requires storage permission.");return}var n,i,s,u,c,f,p,v,h,w,S,k,O,I={apiBaseUrl:null!==(c=null==e||null===(f=e.params)||void 0===f?void 0:f.euidApiBase)&&void 0!==c?c:"https://prod.euid.eu",paramToken:null==e||null===(p=e.params)||void 0===p?void 0:p.euidToken,serverCookieName:null==e||null===(v=e.params)||void 0===v?void 0:v.euidCookie,storage:null!==(h=null==e||null===(w=e.params)||void 0===w?void 0:w.storage)&&void 0!==h?h:"localStorage",clientId:g,internalStorage:"__euid_advertising_token"};I.cstg=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({serverPublicKey:null==e||null===(S=e.params)||void 0===S?void 0:S.serverPublicKey,subscriptionId:null==e||null===(k=e.params)||void 0===k?void 0:k.subscriptionId},(0,l.gD)(null!==(O=null==e?void 0:e.params)&&void 0!==O?O:{})),m("EUID configuration loaded and mapped.",I);var E=(0,l.Rh)(I,b,m,y);return m("EUID getId returned",E),E},eids:{euid:{source:"euid.eu",atype:3,getValue:function(e){return e.id}}}}),(0,i.z)("euidIdSystem")},9049:function(e,t,n){"use strict";var r=n(94329),i=n(34498),o=n(23549),a=n(39724),s=n(31144),u=n(27862),c=n(31232),l=n(12827),d=n(67007),f=n(92618),p=void 0,g={},v=!1;function h(e){return(0,i.aj)(e)}var m=function(e){var t=g.customGptSlotMatching;if(!!(0,l.T9)()){var n=e.reduce(function(e,t){return e[t.code]=e[t.code]||[],e[t.code].push(t),e},{}),r={};return window.googletag.pubads().getSlots().forEach(function(e){var i=(0,c.sE)(Object.keys(n),t?t(e):(0,l.zV)(e));if(i){var o={name:"gam",adslot:y(r[i]=e.getAdUnitPath())};n[i].forEach(function(e){var t;(0,d.N)(e,"ortb2Imp.ext.data.adserver",Object.assign({},null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.adserver,o))})}}),r}},y=function(e){return(a.vc.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e},b=function(e,t,n){var r=e.ortb2Imp.ext.data;if(r.pbadslot)return r.pbadslot;if(!!(0,l.T9)()){var i=window.googletag.pubads().getSlots().filter(function(e){return e.getAdUnitPath()===n});return 0===i.length?void 0:1===i.length?t:"".concat(t,"#").concat(e.code)}},w=function(e){var t=e.ortb2Imp.ext.data,n=g.customPbAdSlot;if(!t.pbadslot){if(n){t.pbadslot=n(e.code,(0,f.Z)(t,"adserver.adslot"));return}try{var r=document.getElementById(e.code);if(r.dataset.adslotid){t.pbadslot=r.dataset.adslotid;return}}catch(e){}if((0,f.Z)(t,"adserver.adslot")){t.pbadslot=t.adserver.adslot;return}return t.pbadslot=e.code,!0}};function S(e){(0,l.yN)("pbadslot is deprecated and will soon be removed, use gpid instead",e)}var k=function(e,t){var n=m(t),r=g,i=r.useDefaultPreAuction,o=r.customPreAuction;t.forEach(function(e){e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};var t=e.ortb2Imp.ext;if(o||i){null!==(r=t.data)&&void 0!==r&&r.pbadslot&&S(e);var r,a,s=(0,f.Z)(t,"data.adserver.adslot");o?a=o(e,s,null==n?void 0:n[e.code]):i&&(a=b(e,s,null==n?void 0:n[e.code])),a&&(t.gpid=t.data.pbadslot=a)}else{S(e);var u=w(e);!t.gpid&&!u&&(t.gpid=t.data.pbadslot)}});for(var a=arguments.length,s=Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];return e.call.apply(e,[p,t].concat(s))},O=function(e,t){var n,r,a=(n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.K.index;return e.map(function(e){var n;return null===(n=t.getAuction({auctionId:e}))||void 0===n||null===(n=n.getFPD())||void 0===n?void 0:n.global}).map(h).filter(function(e){return e})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.K;return Object.values(e).flatMap(function(e){return Object.entries(e)}).filter(function(e){return e[0]===s.TD.AD_ID||e[0].startsWith(s.TD.AD_ID+"_")}).flatMap(function(e){return e[1]}).map(function(e){var n;return null===(n=t.findBidByAdId(e))||void 0===n?void 0:n.auctionId}).filter(function(e){return null!=e}).filter(l.tT)}(t)),r={},i.J$.forEach(function(e){var t=n.flatMap(function(e){return e}).filter(function(t){return t.taxonomy===e}).map(function(e){return e.values});r[e]=t.length?t.reduce(function(e,t){return e.filter(function(e){return t.includes(e)})}):[],r[e]={values:r[e]}}),r);window.googletag.setConfig&&window.googletag.setConfig({pps:{taxonomies:a}}),e(t)},I=function(e){(g=(0,l.ei)(e,["enabled",function(e){return!1!==e},"customGptSlotMatching",function(e){return"function"==typeof e&&e},"customPbAdSlot",function(e){return"function"==typeof e&&e},"customPreAuction",function(e){return"function"==typeof e&&e},"useDefaultPreAuction",function(e){return null==e||e}])).enabled?!v&&((0,u.v5)("makeBidRequests").before(k),(0,u.v5)("targetingDone").after(O),v=!0):((0,l.PN)("".concat("GPT Pre-Auction",": Turning off module")),g={},(0,u.v5)("makeBidRequests").getHooks({hook:k}).remove(),(0,u.v5)("targetingDone").getHooks({hook:O}).remove(),v=!1)};a.vc.getConfig("gptPreAuction",function(e){return I(e.gptPreAuction)}),I({}),(0,r.z)("gptPreAuction")},23056:function(e,t,n){"use strict";var r=n(94329),i=n(12827),o=n(31306),a=n(27862),s=n(68681),u=n(85865),c=n(57248),l="identityLink",d=(0,s.df)({moduleType:u.y2,moduleName:l}),f="_lr_env";function p(e,t,n){n.notUse3P||d.getCookie("_lr_retry_request")?t():(function(){var e=new Date;e.setTime(e.getTime()+36e5),d.setCookie("_lr_retry_request","true",e.toUTCString())}(),i.PN("identityLink: A 3P retrieval is attempted!"),g(!1),(0,o.hj)(e,{success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){i.PN(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){i.PN("identityLink: identityLink: ID fetch encountered an error",e),t()}},void 0,{method:"GET",withCredentials:!0}))}function g(e){var t=new Date;t.setTime(t.getTime()+2592e6),d.setCookie("_lr_env_src_ats",e,t.toUTCString())}(0,a.Bx)("userId",{name:l,gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(!n||"string"!=typeof n.pid){i.H("identityLink: requires partner id to be defined");return}var r=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,o=r?t.consentString:"";if(r&&(!o||""===o)){i.PN("identityLink: Consent string is required to call envelope API.");return}var a=c.TJ.getConsentData(),s=!!a&&!!a.gppString&&a.gppString,u=!!a&&!!a.gppString&&a.applicableSections.length>0&&-1!==a.applicableSections[0]&&a.applicableSections[0],l="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(r?"&ct=4&cv="+o:"").concat(s&&u?"&gpp="+s+"&gpp_sid="+u:"");return{callback:function(e){if(window.ats&&window.ats.retrieveEnvelope)i.PN("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(t){t?(i.PN("identityLink: An envelope can be retrieved from ATS!"),g(!0),e(JSON.parse(t).envelope)):p(l,e,n)});else{var t=function(){var e=d.getCookie(f)||d.getDataFromLocalStorage(f);return e?window.atob(e):void 0}();t?(i.PN("identityLink: LiveRamp envelope successfully retrieved from storage!"),e(JSON.parse(t).envelope)):p(l,e,n)}}}},eids:{idl_env:{source:"liveramp.com",atype:3}}}),(0,r.z)("identityLinkIdSystem")},23320:function(e,t,n){"use strict";var r=n(94329);n(62199),(0,r.z)("liveIntentIdSystem")},96299:function(e,t,n){"use strict";var r=n(39864),i=n(94329),o=n(27862),a=n(68681),s=n(12827),u=n(85865),c="pairId",l="pairId",d=(0,a.df)({moduleType:u.y2,moduleName:c});function f(e){return d.localStorageIsEnabled()?d.getDataFromLocalStorage(e):null}function p(e){return d.cookiesAreEnabled()?d.getCookie(e):null}(0,o.Bx)("userId",{name:c,gvlid:755,decode:function(e){return e&&Array.isArray(e)?{pairId:e}:void 0},getId:function(e){var t=f(l)||p(l),n=[];if(t&&"string"==typeof t)try{n=n.concat(JSON.parse(atob(t)))}catch(e){(0,s.PN)(e)}var i=e&&e.params||{};if(i&&i.liveramp){var o=i.liveramp.storageKey||"_lr_pairId",a=f(o)||p(o);if(a)try{var u=atob(a);if(u){var c=JSON.parse(u);c&&"object"===(0,r.Z)(c)&&c.envelope?n=n.concat(c.envelope):(0,s.PN)("Pairid: Parsed object is not valid or does not contain envelope")}else(0,s.PN)("Pairid: Decoded value is empty")}catch(e){(0,s.PN)("Pairid: Error parsing JSON: ",e)}else(0,s.PN)("Pairid: liverampValue for pairId from storage is empty or null")}if(0==n.length){(0,s.PN)("PairId not found.");return}return{id:n}},eids:{pairId:{source:"google.com",atype:571187}}}),(0,i.z)("pairIdSystem")},10615:function(e,t,n){"use strict";var r=n(36621),i=n(4511),o=n(60340),a=n(94329),s=n(27862),u=n(68681),c=n(12827),l=n(92618),d=n(67007),f=n(31232),p=n(85865),g="permutive",v=(0,c.qp)("[PermutiveRTD]"),h="p_standard",m="permutive",y=(0,u.df)({moduleType:p.XG,moduleName:g});function b(e){return(0,c.PO)(e)?{params:e}:{}}var w={};function S(e){var t=function(){try{return b(window.permutive.addons.prebid.getPermutiveRtdConfig())}catch(e){return null}}()||w;return(0,c.Ee)({waitForIt:!1,params:{maxSegs:500,acBidders:[],overwrites:{}}},t,e)}function k(e){try{return e()}catch(e){(0,c.H)(e)}}function O(e,t){try{return JSON.parse(y.getDataFromLocalStorage(e))||t}catch(e){return t}}var I="_unknown_",E={iab:function(e,t){return{name:e.name,ext:{segtax:t.segtax},segment:(e.segment||[]).map(function(e){return{id:function(e,t){return t[e]||I}(e.id,t.iabIds)}}).filter(function(e){return e.id!==I})}}};function C(e,t){var n=function(e){var t={ac:k(function(){var e=k(function(){return O("_psegs",[]).map(Number).filter(function(e){return e>=1e6}).map(String)})||[],t=k(function(){return O("_ppam",[]).map(String)})||[],n=k(function(){return O("_pcrprs",[]).map(String)})||[];return[].concat((0,o.Z)(n),(0,o.Z)(t),(0,o.Z)(e))})||[],ix:k(function(){return O("_pindexs",[]).map(String)})||[],rubicon:k(function(){return O("_prubicons",[]).map(String)})||[],appnexus:k(function(){return O("_papns",[]).map(String)})||[],gam:k(function(){return O("_pdfps",[]).map(String)})||[],ssp:k(function(){var e=O("_pssps",{cohorts:[],ssps:[]});return{cohorts:k(function(){return e.cohorts.map(String)})||[],ssps:k(function(){return e.ssps.map(String)})||[]}}),topics:k(function(){for(var e=O("_ppsts",{}),t={},n=0,r=Object.entries(e);n<r.length;n++)!function(){var e=(0,i.Z)(r[n],2),o=e[0],a=e[1];t[o]=k(function(){return a.map(String)})||[]}();return t})||{}};for(var n in t)if("ssp"===n)t[n].cohorts&&Array.isArray(t[n].cohorts)&&(t[n].cohorts=t[n].cohorts.slice(0,e));else if("topics"===n)for(var r in t[n])t[n][r]=t[n][r].slice(0,e);else t[n]=t[n].slice(0,e);return v.logInfo("Read segments",t),t}((0,l.Z)(t,"params.maxSegs"));k(function(){!function(e,t,n){var r=e&&e.adUnits||(0,a.R)().adUnits,i={deepSetValue:d.N,deepAccess:l.Z,isFn:c.LQ,mergeDeep:c.Ee},o={appnexusAst:"appnexus"};if(!!r)r.forEach(function(e){e.bids.forEach(function(e){var r=e.bidder;void 0!==o[r]&&(r=o[r]);var a=function(e,t){var n=(0,l.Z)(e,"params.acBidders")||[];return(0,f.q9)(n,t)}(t,r),s=function(e,t){var n=(0,l.Z)(e,"params.overwrites.".concat(t));return n&&(0,c.LQ)(n)?n:null}(t,r);s&&s(e,n,a,i,function(e){return e})})})}(e,t,n)}),k(function(){var a,s,u,f,p,g,y,b,w,S,k,O,I,C,A;s=null===(a=e.ortb2Fragments)||void 0===a?void 0:a.bidder,u=t,f=n,S=(0,l.Z)(u,"params.acBidders"),k=(0,l.Z)(u,"params.maxSegs"),O=(0,l.Z)(u,"params.transformations")||[],I=null!==(p=null==f||null===(g=f.ssp)||void 0===g?void 0:g.ssps)&&void 0!==p?p:[],C=null!==(y=null==f||null===(b=f.ssp)||void 0===b?void 0:b.cohorts)&&void 0!==y?y:[],A=null!==(w=null==f?void 0:f.topics)&&void 0!==w?w:{},new Set([].concat((0,o.Z)(S),(0,o.Z)(I))).forEach(function(e){var t={ortb2:s[e]||{}},n=[];S.indexOf(e)>-1&&(n=f.ac),I.indexOf(e)>-1&&(n=(0,o.Z)(new Set([].concat((0,o.Z)(n),(0,o.Z)(C)))).slice(0,k));var a=function(e,t,n,a,s,u,f){v.logInfo("Current ortb2 config",{bidder:e,config:t});for(var p=(0,l.Z)(f,e)||[],g="permutive.com",y={name:g,segment:n.map(function(e){return{id:e}})},b=u.filter(function(e){var t=e.id;return E.hasOwnProperty(t)}).map(function(e){var t=e.id,n=e.config;return E[t](y,n)}),w={name:m,segment:p.map(function(e){return{id:e}})},S=(0,c.Ee)({},t),k=(0,l.Z)(S,"ortb2.user.data")||[],O=[],I=0,C=Object.entries(s);I<C.length;I++){var A=(0,i.Z)(C[I],2),T=A[0],P=A[1];O.push({name:g,ext:{segtax:Number(T)},segment:P.map(function(e){return{id:e.toString()}})})}var x=k.filter(function(e){return e.name!==y.name&&e.name!==w.name}).concat(y,b,w).concat(O);v.logInfo("Updating ortb2.user.data",{bidder:e,user_data:x}),(0,d.N)(S,"ortb2.user.data",x);var D=(0,l.Z)(S,"ortb2.user.keywords"),j=Object.entries((0,r.Z)((0,r.Z)((0,r.Z)({},h,n),"p_standard_aud",a),m,p)).flatMap(function(e){var t=(0,i.Z)(e,2),n=t[0];return t[1].map(function(e){return"".concat(n,"=").concat(e)})}),N=[D].concat((0,o.Z)(j)).filter(Boolean).join(",");return v.logInfo("Updating ortb2.user.keywords",{bidder:e,keywords:N}),(0,d.N)(S,"ortb2.user.keywords",N),n.length>0&&((0,d.N)(S,"ortb2.user.ext.data.".concat(h),n),v.logInfo('Extending ortb2.user.ext.data with "'.concat(h,'"'),n)),p.length>0&&((0,d.N)(S,"ortb2.user.ext.data.".concat(m),p.map(String)),v.logInfo('Extending ortb2.user.ext.data with "'.concat(m,'"'),p)),n.length>0&&((0,d.N)(S,"ortb2.site.ext.permutive.".concat(h),n),v.logInfo('Extending ortb2.site.ext.permutive with "'.concat(h,'"'),n)),v.logInfo("Updated ortb2 config",{bidder:e,config:S}),S}(e,t,n,C,A,O,f);s[e]=a.ortb2})})}var A=!1;(0,s.Bx)("realTimeData",{name:g,getBidRequestData:function(e,t,n){var r=function(){v.logInfo("Request data updated"),t()},i=S(n);C(e,i),k(function(){if(A||!(i.waitForIt&&void 0!==window.permutive&&"function"==typeof window.permutive.ready))return r();window.permutive.ready(function(){v.logInfo("SDK is realtime, updating cohorts"),A=!0,C(e,S(n)),r()},"realtime"),v.logInfo("Registered cohort update when SDK is realtime")})},init:function(e,t){return function(){w=b((0,c.dj)(y.getDataFromLocalStorage("permutive-prebid-rtd")))}(),!0}}),(0,a.z)("permutiveRtdProvider")},20986:function(e,t,n){"use strict";var r,i=n(39864),o=n(47068),a=n(36621),s=n(94329),u=n(12827),c=n(92618),l=n(67007),d=n(39724),f=n(31306),p=n(6826),g=n(31144),v=n(27862),h=n(31232),m=n(15658),y=n(77062),b=n(23549),w=n(7055),S=n(44486),k=n(24841),O=n(34498),I=n(75053),E=["modelGroups"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T={NOT_FOUND:"not_found",RANDOM:"random"},P="Price Floors",x=(0,f.OI)(1e4),D=Symbol(),j=[D,"gptSlot","adUnitCode","size","domain","mediaType"],N=!1,_=!1,U={},R=[],M={};function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?b.K.index:r;return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}var B=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},D,function(){return"*"}),"size",function(e,t){return(0,u.s)(t.size)||"*"}),"mediaType",function(e,t){return t.mediaType||"banner"}),"gptSlot",function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=(void 0===n?b.K.index:n).getAdUnit({adUnitId:e});return"gam"===(0,c.Z)(r,"ortb2Imp.ext.data.adserver.name")&&r.ortb2Imp.ext.data.adserver.adslot}((e||t).adUnitId)||(0,O.ky)(Z(e,t)).gptSlot}),"domain",function(){return null==r&&(r=(0,u.en)((0,m.nH)().topmostLocation,{noDecodeWholeURL:!0}).hostname),r}),"adUnitCode",function(e,t){return Z(e,t)});function F(e,t){var n,r,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s=(n=(0,c.Z)(e,"schema.fields")||[],r=t,i=a,n.length?n.reduce(function(e,t){var n=B[t](r,i)||"*";return e.push("*"===n?["*"]:[n.toLowerCase(),"*"]),e},[]):[]);if(!s.length)return{matchingFloor:void 0};var u=s.map(function(e){return e[0]}).join("-"),d=(0,c.Z)(e,"matchingInputs.".concat(u));if(d)return A({},d);var f=function(e,t){return e.reduce(function(e,n){var r=[];return e.map(function(e){n.map(function(n){r.push(e+t+n)})}),r}).sort(function(e,t){return e.split("*").length-t.split("*").length})}(s,(0,c.Z)(e,"schema.delimiter")||"|"),p=(0,h.sE)(f,function(t){return e.values.hasOwnProperty(t)}),g={floorMin:e.floorMin||0,floorRuleValue:e.values[p],matchingData:f[0],matchingRule:p===(null===(o=e.meta)||void 0===o?void 0:o.defaultRule)?void 0:p},v=(0,c.Z)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof v&&(g.floorMin=v),g.matchingFloor=Math.max(g.floorMin,g.floorRuleValue),(0,l.N)(e,"matchingInputs.".concat(u),A({},g)),g}function L(e,t,n){return parseFloat((0,k.O)(e,A(A({},t),{},{cpm:e}),n))}var q={banner:function(e){return(0,c.Z)(e,"mediaTypes.banner.sizes")||[]},video:function(e){return(0,c.Z)(e,"mediaTypes.video.playerSize")||[]},native:function(e){return(0,c.Z)(e,"mediaTypes.native.image.sizes")?[(0,c.Z)(e,"mediaTypes.native.image.sizes")]:[]}};function H(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},r=M[this.auctionId];if(!r||r.skipped)return{};c=this,l=n,d=Object.keys(c.mediaTypes||{}),"*"===l.mediaType&&1===d.length&&(l.mediaType=d[0]),"*"===l.size&&-1!==d.indexOf(l.mediaType)&&q[l.mediaType]&&1===q[l.mediaType](c).length&&(l.size=q[l.mediaType](c)[0]),n=l;var i=F(r.data,A({},this),{mediaType:n.mediaType,size:n.size}),o=n.currency||r.data.currency;if(i.matchingFloor&&o!==r.data.currency)try{i.matchingFloor=(0,s.R)().convertCurrency(i.matchingFloor,r.data.currency,o)}catch(e){(0,u.yN)("".concat(P,": Unable to get currency conversion for getFloor for bidder ").concat(this.bidder,". You must have currency module enabled with defaultRates in your currency config")),o=r.data.currency}if(r.enforcement.bidAdjustment&&i.matchingFloor){var a=y.S.get(this.bidder,"inverseBidAdjustment");if(a)i.matchingFloor=a(i.matchingFloor,this);else{var c,l,d,f,p=L(i.matchingFloor,null,this);i.matchingFloor=p?(f=i.matchingFloor,1e10*f/(1e10*p)*(1e10*f)/1e10):i.matchingFloor}}if(i.matchingFloor){;return{floor:(e=i.matchingFloor,t=4,Math.ceil((parseFloat(e)*Math.pow(10,4)).toFixed(1))/Math.pow(10,t)),currency:o}}return{}}function V(e,t){var n=(0,u.I8)(e);return n.schema.delimiter=e.schema.delimiter||"|",n.values=function(e,t){var n=e.schema.fields,r=e.schema.delimiter,i=t&&-1===n.indexOf("adUnitCode")&&n.unshift("adUnitCode");return Object.keys(e.values).reduce(function(n,o){return n[(i?"".concat(t).concat(r).concat(o):o).toLowerCase()]=e.values[o],n},{})}(n,t),n.currency=n.currency||"USD",n}function z(e){!e.hasExited&&(R=R.filter(function(t){return t.timer!==e.timer}),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,u.DO)(),M[e.reqBidsConfigObj.auctionId]=function(e,t){var n=(0,u.I8)(U);if(2===(0,c.Z)(n,"data.floorsSchemaVersion")){var r=n.data,i=r.modelGroups,a=(0,o.Z)(r,E);n.data=Object.assign(a,function(e,t){for(var n=Math.floor(Math.random()*t+1),r=0;r<e.length;r++)if((n-=e[r].modelWeight)<=0)return e[r]}(i,a.modelWeightSum))}if(0===Object.keys((0,c.Z)(n,"data.values")||{}).length){;n.data=(l=(s=e).find(function(e){var t;return(null===(t=e.floors)||void 0===t?void 0:t.schema)!=null}),s.reduce(function(e,t){if((null===(n=t.floors)||void 0===n?void 0:n.schema)!=null&&!(0,u.vZ)(t.floors.schema,null==l||null===(r=l.floors)||void 0===r?void 0:r.schema))return(0,u.H)("".concat(P,": adUnit '").concat(t.code,"' declares a different schema from one previously declared by adUnit '").concat(l.code,"'. Floor config for '").concat(t.code,"' will be ignored.")),e;var n,r,i=Object.assign({},null==l?void 0:l.floors,{values:void 0},t.floors);if(W(i)){if(e.values){var o=V(i,t.code).values;Object.assign(e.values,o)}else(e=V(i,t.code)).location="adUnit"}else null!=t.floors&&(0,u.yN)("adUnit '".concat(t.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),t);return e},{}))}else n.data=V(n.data);if(0===Object.keys((0,c.Z)(n,"data.values")||{}).length)n.skipped=!0,n.skippedReason=T.NOT_FOUND;else{var s,l,d,f=100*Math.random()<parseFloat((0,u.ak)("pbjs_skipRate")||(null!==(d=(0,c.Z)(n,"data.skipRate"))&&void 0!==d?d:n.skipRate));n.skipped=f,f&&(n.skippedReason=T.RANDOM)}return n.hasOwnProperty("floorMin")&&(n.data.floorMin=n.floorMin),!function(e,t,n){var r,i,o,a,s,l=(a=(r=t).data,s=r.enforcement,(null==a||null===(i=a.noFloorSignalBidders)||void 0===i?void 0:i.length)>0?a.noFloorSignalBidders:(null==s||null===(o=s.noFloorSignalBidders)||void 0===o?void 0:o.length)>0?s.noFloorSignalBidders:[]);e.forEach(function(e){e.bids.forEach(function(e){var r,i=l.some(function(t){return t===e.bidder});t.skipped||i?(i&&(0,u.PN)("noFloorSignal to ".concat(e.bidder)),delete e.getFloor):e.getFloor=H,e.auctionId=n,e.floorData={noFloorSignaled:i,skipped:t.skipped,skipRate:null!==(r=(0,c.Z)(t,"data.skipRate"))&&void 0!==r?r:t.skipRate,skippedReason:t.skippedReason,floorMin:t.floorMin,modelVersion:(0,c.Z)(t,"data.modelVersion"),modelWeight:(0,c.Z)(t,"data.modelWeight"),modelTimestamp:(0,c.Z)(t,"data.modelTimestamp"),location:(0,c.Z)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:U.fetchStatus}})})}(e,n,t),n}(e.reqBidsConfigObj.adUnits||(0,s.R)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function G(e){var t,n,r;if(e=function(e){if((0,u.hj)(e.default)){var t,n,r="*",i=((null===(t=e.schema)||void 0===t?void 0:t.fields)||[]).length;i?r=Array(i).fill("*").join((null===(n=e.schema)||void 0===n?void 0:n.delimiter)||"|"):(0,l.N)(e,"schema.fields",[D]),e.values=e.values||{},null==e.values[r]&&(e.values[r]=e.default,e.meta={defaultRule:r})}return e}(e),!function(e){if(Array.isArray(e)&&e.length>0){if(e.every(function(e){return j.includes(e)}))return!0;(0,u.H)("".concat(P,": Fields received do not match allowed fields"))}return!1}((0,c.Z)(e,"schema.fields")))return!1;return t=e,n=e.schema.fields.length,r=e.schema.delimiter||"|","object"===(0,i.Z)(t.values)&&(t.values=Object.keys(t.values).reduce(function(e,i){var o,a,s,u;if(o=i,a=t.values[i],s=n,u=r,"string"==typeof o&&o.split(u).length===s&&"number"==typeof a)e[i]=t.values[i];return e},{}),Object.keys(t.values).length>0)}var K={1:function(e){return G(e)},2:function(e){return!!Array.isArray(e.modelGroups)&&0!==e.modelGroups.length&&(e.modelWeightSum=0,e.modelGroups.every(function(t){return!!("number"==typeof t.modelWeight&&G(t))&&(e.modelWeightSum+=t.modelWeight,!0)}))}};function W(e){return"object"===(0,i.Z)(e)&&((e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof K[e.floorsSchemaVersion])?((0,u.H)("".concat(P,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):K[e.floorsSchemaVersion](e))}function J(e,t){if(e&&"object"===(0,i.Z)(e)&&W(e))return(0,u.PN)("".concat(P,": A ").concat(t," set the auction floor data set to "),e),A(A({},e),{},{location:t});(0,u.H)("".concat(P,": The floors data did not contain correct values"),e)}var $=(0,S.g3)("priceFloors",function(e,t){var n={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};U.auctionDelay>0&&N?(n.timer=setTimeout(function(){(0,u.yN)("".concat(P,": Fetch attempt did not return in time for auction")),U.fetchStatus="timeout",z(n)},U.auctionDelay),R.push(n)):z(n)});function Q(){R.forEach(function(e){clearTimeout(e.timer),z(e)}),R=[]}function X(e){N=!1,U.fetchStatus="success";try{t=JSON.parse(e)}catch(n){t=e}var t,n=J(t,"fetch");n&&(U.data=n,U.skipRate=(0,u.hj)(n.skipRate)?n.skipRate:U.skipRate,U.floorProvider=n.floorProvider||U.floorProvider),Q()}function Y(e){N=!1,U.fetchStatus="error",(0,u.H)("".concat(P,": Fetch errored with: "),e),Q()}var ee=(0,S.A)("priceFloors",function(e,t,n,r){var i,o,a,l,d,f,p,v,h,m,y,w,S=M[n.auctionId];if(!S||!n||S.skipped)return e.call(this,t,n,r);var k=b.K.index.getBidRequest(n),O=F(S.data,k,A(A({},n),{},{size:[n.width,n.height]}));if(!O.matchingFloor)return 0!==O.matchingFloor&&(0,u.yN)("".concat(P,": unable to determine a matching price floor for bidResponse"),n),e.call(this,t,n,r);var I=S.data.currency.toUpperCase(),E=n.currency||"USD";if(I===E.toUpperCase())y=n.cpm;else if(n.originalCurrency&&I===n.originalCurrency.toUpperCase())y=n.originalCpm;else try{y=(0,s.R)().convertCurrency(n.cpm,E.toUpperCase(),I)}catch(i){return(0,u.H)("".concat(P,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(n)),e.call(this,t,n,r)}if(y=L(y,n,k),i=S,o=O,a=n,l=y,a.floorData={floorValue:o.matchingFloor,floorRule:o.matchingRule,floorRuleValue:o.floorRuleValue,floorCurrency:i.data.currency,cpmAfterAdjustments:l,enforcements:A({},i.enforcement),matchedFields:{}},i.data.schema.fields.forEach(function(e,t){var n=o.matchingData.split(i.data.schema.delimiter)[t];a.floorData.matchedFields[e]=n}),d=S,f=O,p=n,v=!1!==(0,c.Z)(d,"enforcement.enforceJS"),h=!0===(0,c.Z)(d,"enforcement.floorDeals")||!p.dealId,m=p.floorData.cpmAfterAdjustments<f.matchingFloor,v&&m&&h){r(g.Gw.FLOOR_NOT_MET),(0,u.yN)("".concat(P,": ").concat(n.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==n||null===(w=n.floorData)||void 0===w?void 0:w.cpmAfterAdjustments,", floor: ").concat(null==O?void 0:O.matchingFloor,")"),n);return}return e.call(this,t,n,r)});d.vc.getConfig("floors",function(e){return function(e){if((U=(0,u.ei)(e,["floorMin","enabled",function(e){return!1!==e},"auctionDelay",function(e){return e||0},"floorProvider",function(t){return(0,c.Z)(e,"data.floorProvider",t)},"endpoint",function(e){return e||{}},"skipRate",function(){return isNaN((0,c.Z)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate},"enforcement",function(e){return(0,u.ei)(e||{},["enforceJS",function(e){return!1!==e},"enforcePBS",function(e){return!0===e},"floorDeals",function(e){return!0===e},"bidAdjustment",function(e){return!1!==e},"noFloorSignalBidders",function(e){return e||[]}])},"additionalSchemaFields",function(e){return"object"===(0,i.Z)(e)&&Object.keys(e).length>0?function(e){Object.keys(e).forEach(function(t){-1===j.indexOf(t)&&"function"==typeof e[t]&&(j.push(t),B[t]=e[t])})}(e):void 0},"data",function(e){return e&&J(e,"setConfig")||void 0}])).enabled){var t;(t=U.endpoint).url&&!N?"GET"!==(t.method||"GET")?(0,u.H)("".concat(P,": 'GET' is the only request method supported at this time!")):(x(t.url,{success:X,error:Y},null,{method:"GET"}),N=!0):N&&(0,u.yN)("".concat(P,": A fetch is already occuring. Skipping.")),!_&&(p.on(g.FP.AUCTION_END,function(e){setTimeout(function(){return delete M[e.auctionId]},3e3)}),(0,s.R)().requestBids.before($,50),(0,v.v5)("addBidResponse").before(ee,(0,u.eB)()?4:50),_=!0)}else(0,u.PN)("".concat(P,": Turning off module")),U={},M={},(0,v.v5)("addBidResponse").getHooks({hook:ee}).remove(),(0,s.R)().requestBids.getHooks({hook:$}).remove(),_=!1}(e.floors)});(0,w.f8)({type:w.DZ,name:"bidfloor",fn:function(e,t,n){if("function"==typeof t.getFloor){var r,i;try{var o=t.getFloor({currency:n.currency||d.vc.getConfig("currency.adServerCurrency")||"USD",mediaType:n.mediaType||"*",size:"*"});r=o.currency,i=o.floor}catch(e){(0,u.yN)("Cannot compute floor for bid",t);return}i=parseFloat(i),null!=r&&null!=i&&!isNaN(i)&&Object.assign(e,{bidfloor:i,bidfloorcur:r})}}}),(0,w.f8)({type:w.DZ,name:"extPrebidFloors",fn:function(e,t,n){if(null!=e.bidfloor){var r,i,o,a,s=n.reqContext.floorMin||{},u=s.floorMinCur,c=s.floorMin;null==u&&(u=e.bidfloorcur);var d=(null===(r=e.ext)||void 0===r||null===(r=r.prebid)||void 0===r||null===(r=r.floors)||void 0===r?void 0:r.floorMinCur)||(null===(i=e.ext)||void 0===i||null===(i=i.prebid)||void 0===i?void 0:i.floorMinCur)||u,f=(null===(o=e.ext)||void 0===o||null===(o=o.prebid)||void 0===o||null===(o=o.floors)||void 0===o?void 0:o.floorMin)||(null===(a=e.ext)||void 0===a||null===(a=a.prebid)||void 0===a?void 0:a.floorMin),p=(0,I.Nh)(e.bidfloor,e.bidfloorcur,u),g=!!f&&!!d&&(0,I.Nh)(f,d,u),v=g&&g<p?g:p;(0,l.N)(e,"ext.prebid.floors.floorMin",v),(null==c||c>v)&&(c=v),n.reqContext.floorMin={floorMin:c,floorMinCur:u}}},dialects:[w.md],priority:-1}),(0,w.f8)({type:w.Z,name:"extPrebidFloors",fn:function(e,t,n){if(_){var r;(0,l.N)(e,"ext.prebid.floors.enabled",(null===(r=e.ext)||void 0===r||null===(r=r.prebid)||void 0===r||null===(r=r.floors)||void 0===r?void 0:r.enabled)||!1)}null!=n&&n.floorMin&&(0,u.Ee)(e,{ext:{prebid:{floors:n.floorMin}}})},dialects:[w.md]}),(0,s.z)("priceFloors")},92524:function(e,t,n){"use strict";var r,i=n("4511"),o=n("36621"),a=n("94329"),s=n("78562"),u=n("34498"),c=Object.freeze({DESKTOP:0,MOBILE:1,TABLET:2}),l=Object.freeze({CHROME:0,FIREFOX:1,SAFARI:2,EDGE:3,INTERNET_EXPLORER:4,OTHER:5}),d=Object.freeze({WINDOWS:0,MAC:1,LINUX:2,UNIX:3,IOS:4,ANDROID:5,OTHER:6}),f=function(){if(/Edg/.test(navigator.userAgent))return l.EDGE;if(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))return l.CHROME;if(navigator.userAgent.match("CriOS"))return l.CHROME;else if(/Firefox/.test(navigator.userAgent))return l.FIREFOX;else if(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))return l.SAFARI;else if(/Trident/.test(navigator.userAgent)||/MSIE/.test(navigator.userAgent))return l.INTERNET_EXPLORER;else return l.OTHER},p=n("85865"),g=n("66872"),v=n("31306"),h=n("31144"),m=n("68681"),y=n("12827"),b=n("92618");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k="pubxai",O=(0,m.df)({moduleType:p._U,moduleName:k}),I=new Proxy({},{get:function(e,t){return!e.hasOwnProperty(t)&&(e[t]=[]),e[t]}}),E=new Proxy({},{get:function(e,t){if(!e.hasOwnProperty(t)){var n,i,o,s;e[t]={bids:[],auctionDetail:{refreshRank:Object.keys(e).length,auctionId:t},floorDetail:{},pageDetail:{host:(0,y.bM)().host,path:(0,y.bM)().pathname,search:(0,y.bM)().search},deviceDetail:{platform:navigator.platform,deviceType:/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())?c.TABLET:/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())?c.MOBILE:c.DESKTOP,deviceOS:-1!=navigator.userAgent.indexOf("Android")?d.ANDROID:-1!=navigator.userAgent.indexOf("like Mac")?d.IOS:-1!=navigator.userAgent.indexOf("Win")?d.WINDOWS:-1!=navigator.userAgent.indexOf("Mac")?d.MAC:-1!=navigator.userAgent.indexOf("Linux")?d.LINUX:-1!=navigator.appVersion.indexOf("X11")?d.UNIX:d.OTHER,browser:f()},userDetail:{userIdTypes:Object.keys((null===(n=(i=(0,a.R)()).getUserIds)||void 0===n?void 0:n.call(i))||{})},consentDetail:{consentTypes:Object.keys((null===(o=(s=(0,a.R)()).getConsentMetadata)||void 0===o?void 0:o.call(s))||{})},pmacDetail:JSON.parse(O.getDataFromLocalStorage("pubx:pmac"))||{},extraData:JSON.parse(O.getDataFromLocalStorage("pubx:extraData"))||{},initOptions:S(S({},r),{},{auctionId:t}),sendAs:[]}}return e[t]}}),C=function(e){var t=(0,u.aE)(e);return t?Object.fromEntries(t.getTargetingKeys().filter(function(e){return e.startsWith("pubx-")||e.startsWith("hb_")&&1===(e.match(/_/g)||[]).length}).map(function(e){return[e,t.getTargeting(e)]})):{}},A=function(e){return{adUnitCode:e.adUnitCode,gptSlotCode:(0,u.ky)(e.adUnitCode).gptSlot||null,auctionId:e.auctionId,bidderCode:e.bidder,cpm:e.cpm,creativeId:e.creativeId,dealId:e.dealId,currency:e.currency,floorData:e.floorData,mediaType:e.mediaType,netRevenue:e.netRevenue,requestTimestamp:e.requestTimestamp,responseTimestamp:e.responseTimestamp,status:e.status,sizes:(0,y.sF)(e.size).toString(),statusMessage:e.statusMessage,timeToRespond:e.timeToRespond,transactionId:e.transactionId,bidId:e.bidId||e.requestId,placementId:e.params?(0,b.Z)(e,"params.0.placementId"):null,source:e.source||"null"}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return parseInt((0,y._R)(e))%t==0},P=function(e){var t=Object.assign({},E[e]);if(!!T(e,r.samplingRate))[{path:"/analytics/bidwon",requiredKeys:["winningBid","pageDetail","deviceDetail","floorDetail","auctionDetail","userDetail","consentDetail","pmacDetail","extraData","initOptions"],eventType:"win"},{path:"/analytics/auction",requiredKeys:["bids","pageDetail","deviceDetail","floorDetail","auctionDetail","userDetail","consentDetail","pmacDetail","extraData","initOptions"],eventType:"auction"}].forEach(function(n){var i=n.path,o=n.requiredKeys,a=n.eventType,s=Object.fromEntries(o.map(function(e){return[e,t[e]]}));if(!E[e].sendAs.includes(a)&&!!o.every(function(e){return!!t[e]}))I[(0,y.Q2)({protocol:"https",hostname:t.initOptions&&t.initOptions.hostName||"api.pbxai.com",pathname:i,search:{auctionTimestamp:t.auctionDetail.timestamp,pubxaiAnalyticsVersion:"v2.1.0",prebidVersion:"9.18.0",pubxId:r.pubxId}})].push(s),E[e].sendAs.push(a)})},x=function(){var e=function(e){return new Blob([JSON.stringify(e)],{type:"text/json"})};Object.entries(I).forEach(function(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1],a=0;o.forEach(function(t,n,i){var o=i.slice(a,n+2),s=e(o).size>65536;(s||n+1===i.length)&&((0,v.Zv)(r,e(s?o.slice(0,-1):o)),a=n)}),o.splice(0)})};document.visibilityState&&document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&x()});var D=Object.assign((0,s.ZP)({emptyUrl:"",analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;switch(t){case h.FP.BID_TIMEOUT:n.map(A).forEach(function(e){e.bidType=3,E[e.auctionId].bids.push(e)});break;case h.FP.BID_RESPONSE:var r=Object.assign(A(n),{bidType:2});E[r.auctionId].bids.push(r);break;case h.FP.BID_REJECTED:var i=Object.assign(A(n),{bidType:1});E[i.auctionId].bids.push(i);break;case h.FP.AUCTION_END:Object.assign(E[n.auctionId].floorDetail,n.adUnits.map(function(e){var t;return(null==e?void 0:e.bids.length)&&(null===(t=e.bids[0])||void 0===t?void 0:t.floorData)}).find(function(e){return e})||{}),E[n.auctionId].deviceDetail.cdep=n.bidderRequests.map(function(e){var t;return null===(t=e.ortb2)||void 0===t||null===(t=t.device)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.cdep}).find(function(e){return e}),Object.assign(E[n.auctionId].auctionDetail,{adUnitCodes:n.adUnits.map(function(e){return e.code}),timestamp:n.timestamp}),E[n.auctionId].bids.every(function(e){return[1,3].includes(e.bidType)})&&P(n.auctionId);break;case h.FP.BID_WON:var o=A(n),a=E[o.auctionId].floorDetail;Object.assign(o,{floorProvider:(null==a?void 0:a.floorProvider)||null,floorFetchStatus:(null==a?void 0:a.fetchStatus)||null,floorLocation:(null==a?void 0:a.location)||null,floorModelVersion:(null==a?void 0:a.modelVersion)||null,floorSkipRate:(null==a?void 0:a.skipRate)||0,isFloorSkipped:(null==a?void 0:a.skipped)||!1,isWinningBid:!0,renderedSize:n.size,bidType:4}),o.adServerData=C(o),E[o.auctionId].winningBid=o,P(o.auctionId)}}});D.originEnableAnalytics=D.enableAnalytics,D.enableAnalytics=function(e){r=e.options,D.originEnableAnalytics(e)},g.ZP.registerAnalyticsAdapter({adapter:D,code:k}),(0,a.z)("pubxaiAnalyticsAdapter")},48587:function(e,t,n){"use strict";var r,i,o,a,s=n("39864"),u=n("4511"),c=n("36621"),l=n("94329"),d=n("39724"),f=n("27862"),p=n("12827"),g=n("6826"),v=n("31144"),h=n("66872"),m=n("57248"),y=n("31232"),b=n("44486"),w=n("85865"),S=n("31145"),k=n("85138"),O=n("4350"),I=n("92618"),E=n("67007");function C(e){return Object.assign({wp:!0,run:function(e,t,n,r,i){var o=n&&n.hasOwnProperty(r),a=o?n[r]:void 0,u=o&&null!=a&&"object"===(0,s.Z)(a)?(0,p.I8)(a):a;return function(){var n=null==t?e:(0,I.Z)(e,t),s=n&&(0,O.a)(n[r]),c=s?n[r]:void 0;!o&&s&&i()?delete n[r]:(o!==s||c!==a||!(0,p.vZ)(c,u))&&i()&&(0,E.N)(e,(null==t?[]:[t]).concat(r).join("."),u)}}},e)}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.xD;return function(e){var t={},n=[];e.forEach(function(e){e.wp&&n.push(e),e.get&&e.paths.forEach(function(n){var r=t;n.split(".").forEach(function(e){r.children=r.children||{},r.children[e]=r.children[e]||{},r=r.children[e]}),r.rule=e})});var r=(0,O.Db)(n);return function(e){for(var n,i={},o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return{obj:function e(t,n,r){return new Proxy(t,{get:function(t,i,o){var a=Reflect.get(t,i,o);if(n.hasOwnProperty(i)){var u=n[i],c=u.children,l=u.rule;if(c&&null!=a&&"object"===(0,s.Z)(a))return e(a,c,r);if(l&&(0,O.a)(a)&&r(l))return l.get(a)}return a}})}(e,t.children||{},O.RD.apply(void 0,[i].concat(a))),verify:(n=r.apply(void 0,[i,e].concat(a)),function(){n.forEach(function(e){return e()})})}}}((0,O.Mp)(e).concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.xD;return[{name:k.EL,paths:O.ZZ,applies:(0,O.js)(k.EL,e)},{name:k.S5,paths:O.$8,applies:(0,O.js)(k.S5,e)}].map(C)}(e)))}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return function(t,n){t.global=t.global||{},t.bidder=t.bidder||{};var r=new Set(Object.keys(t.bidder)),i=[];function o(t){var r=e(t,n);return i.push(r.verify),r.obj}var a={global:o(t.global),bidder:Object.fromEntries(Object.entries(t.bidder).map(function(e){var t=(0,u.Z)(e,2);return[t[0],o(t[1])]}))};return{obj:a,verify:function(){Object.entries(a.bidder).filter(function(e){var t=(0,u.Z)(e,1)[0];return!r.has(t)}).forEach(function(r){var i=(0,u.Z)(r,2),o=i[0],a=i[1],s={},c=e(s,n);(0,p.Ee)(c.obj,a),c.verify(),t.bidder[o]=s}),i.forEach(function(e){return e()})}}}}(),P=(0,n("32217").Oj)(function(e){return h.ZP.resolveAlias(e)}),x=[],D=[],j=[];var N=(r=!1,function(){!r&&(Object.entries((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},v.FP.AUCTION_INIT,["onAuctionInitEvent"]),v.FP.AUCTION_END,["onAuctionEndEvent",M]),v.FP.BID_RESPONSE,["onBidResponseEvent"]),v.FP.BID_REQUESTED,["onBidRequestEvent"]),v.FP.BID_ACCEPTED,["onBidAcceptedEvent"])).forEach(function(e){var t=(0,u.Z)(e,2),n=t[0],r=(0,u.Z)(t[1],2),i=r[0],o=r[1];g.on(n,function(e){o&&o(e),D.forEach(function(t){try{t[i]&&t[i](e,t.config,a)}catch(e){(0,p.H)("RTD provider '".concat(t.name,"': error in '").concat(i,"':"),e)}})})}),r=!0)});function _(){return{gdpr:m.rp.getConsentData(),usp:m.nX.getConsentData(),gpp:m.TJ.getConsentData(),coppa:!!d.vc.getConfig("coppa")}}function U(){a=_();var e=[];j.forEach(function(t){var n=(0,y.sE)(x,function(e){return e.name===t.name});n&&n.init&&n.init(t,a)&&e.push(Object.assign(n,{config:t}))}),D=e,(0,p.PN)("Real time data module enabled, using submodules: ".concat(D.map(function(e){return e.name}).join(", ")))}var R=(0,b.g3)("rtd",function(e,t){a=_();var n,r=[],i=[];D.forEach(function(e){if("function"==typeof e.getBidRequestData){r.push(e);var t=e.config;t&&t.waitForIt&&i.push(e)}});var s=i.length&&o.auctionDelay&&o.auctionDelay>0,u=i.length,c=!1,l=[];if(!r.length)return f();function d(){if(!c)this.config&&this.config.waitForIt&&u--,0===u&&setTimeout(f,0)}function f(){if(!c)c=!0,clearTimeout(n),l.forEach(function(e){return e()}),e.call(this,t)}n=setTimeout(f,s?o.auctionDelay:0),r.forEach(function(e){var n=T(t.ortb2Fragments||{},P(w.XG,e.name));l.push(n.verify),t.ortb2Fragments=n.obj,e.getBidRequestData(t,d.bind(e),e.config,a)})});function M(e){var t=D.filter(function(e){return"function"==typeof e.getTargetingData});if(!t.length)return;var n=e.adUnitCodes;if(!!n){for(var r=[],i=t.length-1;i>=0;i--){var o=t[i].getTargetingData(n,t[i].config,a,e);o&&"object"===(0,s.Z)(o)?r.push(o):(0,p.yN)("invalid getTargetingData response for sub module",t[i].name)}var u=function(e){return Array.isArray(e)&&e.length?e.reduce(function(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(e.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(e[n][i]=r[i])}else e[n]=t[n]}return e},{}):{}}(r);return e.adUnits.forEach(function(e){var t=e.code&&u[e.code];if(!!t)(0,p.PN)("RTD set ad unit targeting of",t,"for",e),e[v.k2.ADSERVER_TARGETING]=Object.assign(e[v.k2.ADSERVER_TARGETING]||{},t)}),e.adUnits}}function Z(e){D.forEach(function(e){if("function"==typeof e.onDataDeletionRequest)try{e.onDataDeletionRequest(e.config)}catch(t){(0,p.H)("Error executing ".concat(e.name,".onDataDeletionRequest"),t)}});for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(this,n)}(0,f.bA)("realTimeData",function(e){return x.push(e),m.qh.register(w.XG,e.name,e.gvlid),function(){var t=x.indexOf(e);t>=0&&(x.splice(t,1),U())}}),i=d.vc.getConfig("realTimeData",function(e){var t=e.realTimeData;if(!t.dataProviders){(0,p.H)("missing parameters for real time module");return}i(),o=t,j=t.dataProviders,N(),(0,f.v5)("startAuction").before(R,20),h.ZP.callDataDeletionRequest.before(Z),U()}),(0,l.z)("rtdModule")},77435:function(e,t,n){"use strict";var r=n(94329),i=n(39724),o=n(66872),a=n(12827),s=n(92618),u=n(67007),c=n(7055),l="Invalid schain object found: ",d=" should be a string",f=" should be an Integer",p=" should be an object",g={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},v=[];(0,a.yi)(g,function(e){return v.push(e)});function h(e,t){var n=i.vc.getConfig("schain"),r=i.vc.getBidderConfig();t.forEach(function(e){var t,i=e.bidderCode;var o=r[t=i]&&r[t].schain||n;e.bids.forEach(function(e){var t=function(e,t){var n,r=g.STRICT;if(void 0!==(n=e)&&((0,a.PO)(n)||((0,a.H)(l+"the following schain config will not be used as schain is not an object.",n),0))){if((0,a.d8)(e.validation)&&-1!=v.indexOf(e.validation)&&(r=e.validation),r===g.OFF)return e.config;if(function(e,t){var n="Detected something wrong within an schain config:",r="";function i(e){r+="\n"+e}function o(){!0===t?(0,a.H)(n,e,r):(0,a.yN)(n,e,r)}if(!(0,a.PO)(e)&&(i("schain.config"+p),o(),t))return!1;if((!(0,a.hj)(e.complete)||!(0,a.U)(e.complete))&&i("schain.config.complete"+f),!(0,a.d8)(e.ver)&&i("schain.config.ver"+d),e.hasOwnProperty("ext")&&!(0,a.PO)(e.ext)&&i("schain.config.ext"+p),(0,a.kJ)(e.nodes))e.nodes.forEach(function(e,t){!(0,a.d8)(e.asi)&&i("schain.config.nodes[".concat(t,"].asi")+d),!(0,a.d8)(e.sid)&&i("schain.config.nodes[".concat(t,"].sid")+d),(!(0,a.hj)(e.hp)||!(0,a.U)(e.hp))&&i("schain.config.nodes[".concat(t,"].hp")+f),e.hasOwnProperty("rid")&&!(0,a.d8)(e.rid)&&i("schain.config.nodes[".concat(t,"].rid")+d),e.hasOwnProperty("name")&&!(0,a.d8)(e.name)&&i("schain.config.nodes[".concat(t,"].name")+d),e.hasOwnProperty("domain")&&!(0,a.d8)(e.domain)&&i("schain.config.nodes[".concat(t,"].domain")+d),e.hasOwnProperty("ext")&&!(0,a.PO)(e.ext)&&i("schain.config.nodes[".concat(t,"].ext")+p)});else if(i("schain.config.nodes should be an Array"),o(),t)return!1;return(!(r.length>0)||(o(),!t))&&!0}(e.config,!(r!==g.STRICT)))return e.config;(0,a.H)(l+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}(o,i);t&&(e.schain=(0,a.I8)(t))})}),e(t)}o.ZP.makeBidRequests.after(h);(0,c.f8)({type:c.Z,name:"sourceExtSchain",fn:function(e,t,n){if(!(0,s.Z)(e,"source.ext.schain")){var r=(0,s.Z)(n,"bidRequests.0.schain");r&&(0,u.N)(e,"source.ext.schain",r)}}}),(0,r.z)("schain")},23701:function(e,t,n){"use strict";var r,i,o,a=n(4511),s=n(94329),u=n(12827),c=n(92618),l=n(39724),d=n(66872),f=n(57248),p=n(6826),g=n(31144),v=n(85865),h=n(32217),m=n(31145),y=n(85138);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w={purpose:{},feature:{}},S={purpose:!1,feature:"specialFeatureOptins"},k={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},O=new Set,I=new Set,E=new Set,C=new Set,A=new Set,T=new Set,P=!1,x=!1,D=[v.UL,v.y2,v._U,v.XG],j="TCF2",N=[],_=[2],U=[2,7,9,10];function R(e,t,n,r){var i,o,a=(0,c.Z)(e,"vendorData.".concat(t));return!!(null!=a&&null!==(i=a.consents)&&void 0!==i&&i[n])||r&&!!(null!=a&&null!==(o=a.legitimateInterests)&&void 0!==o&&o[n])}function M(e,t,n,r){var i;if(!1!==S[t])i=!!(0,c.Z)(e,"vendorData.".concat(S[t],".").concat(n));else{var o=r===f.$P?["publisher",U]:["purpose",_],s=(0,a.Z)(o,2);i=R(e,s[0],n,s[1].includes(n))}return{purpose:i,vendor:R(e,"vendor",r,_.includes(n))}}function Z(e,t,n,r){var i=k[e.purpose];if((e.vendorExceptions||[]).includes(n))return!0;var o=e.enforceVendor&&!(r===f.$P||(e.softVendorExceptions||[]).includes(n)),a=M(t,i.type,i.id,r),s=a.purpose,u=a.vendor;return(!e.enforcePurpose||s)&&(!o||u)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return null};return function(i){var o,a,s,c=f.rp.getConsentData(),d=i[h.bp];if(o=c,a=e,s=d,null==o&&f.rp.enabled?((0,u.yN)("Attempting operation that requires purpose ".concat(a," consent while consent data is not available").concat(s?" (module: ".concat(s,")"):"",". Assuming no consent was given.")),!0):o&&o.gdprApplies){var p=function(e,t,n){if(t){var r=l.vc.getConfig("gvlMapping");if(r&&r[t])return r[t];if(e===v.wu)return f.$P;else{var i=f.qh.get(t),o=i.gvlid,a=i.modules;if(null==o&&Object.keys(a).length>0){var s,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(D);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(a.hasOwnProperty(d)){o=a[d],d!==e&&(0,u.yN)("Multiple GVL IDs found for module '".concat(t,"'; using the ").concat(d," module's ID (").concat(o,") instead of the ").concat(e,"'s ID (").concat(a[e],")"));break}}}catch(e){c.e(e)}finally{c.f()}}return null==o&&n&&(o=n()),o||null}}return null}(i[h.$k],d,r(i)),g=!!t(c,d,p);if(!g)return n&&n.add(d),{allow:g}}}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null};return B(e,function(t,n,r){return!!Z(w.purpose[e],t,n,r)},t,n)}function L(e){return function(t){if(t[h.$k]!==v.wu)return e(t)}}var q=(r=F(1,O),function(e){if(e[h.$k]!==v.wu||x)return r(e)}),H=F(1,O),V=F(1,O),z=L(F(2,I)),G=F(7,E,function(e){var t,n,r,i;return t=e[h.bp],n=e[h.Hw],function(e){if("function"!=typeof e)return e;try{return e.call(i.adapter,n)}catch(e){(0,u.H)("Error invoking ".concat(t," adapter.gvlid()"),e)}}(null==(i=d.ZP.getAnalyticsAdapter(t))||null===(r=i.adapter)||void 0===r?void 0:r.gvlid)}),K=F(4,C);var W=L((i=B("2-10",function(e,t,n){for(var r=2;r<=10;r++){if(null!==(i=w.purpose[r])&&void 0!==i&&null!==(i=i.vendorExceptions)&&void 0!==i&&i.includes(t))return!0;var i,o,a=M(e,"purpose",r,n),s=a.purpose,u=a.vendor;if(s&&(u||null!==(o=w.purpose[r])&&void 0!==o&&null!==(o=o.softVendorExceptions)&&void 0!==o&&o.includes(t)))return!0}return!1},A),o=F(4,A),function(){var e;return(null!==(e=w.purpose[4])&&void 0!==e&&e.eidsRequireP4Consent?o:i).apply(this,arguments)})),J=B("Special Feature 1",function(e,t,n){return Z(w.feature[1],e,t,n)},T);p.on(g.FP.AUCTION_END,function(){var e=function(e){return Array.from(e.keys()).filter(function(e){return null!=e})},t={storageBlocked:e(O),biddersBlocked:e(I),analyticsBlocked:e(E),ufpdBlocked:e(C),eidsBlocked:e(A),geoBlocked:e(T)};p.j8(g.FP.TCF2_ENFORCEMENT,t),[O,I,E,C,A,T].forEach(function(e){return e.clear()})});l.vc.getConfig("consentManagement",function(e){var t,n;return t=e.consentManagement,void(!(n=(0,c.Z)(t,"gdpr.rules"))&&(0,u.yN)("TCF2: enforcing P1 and P2 by default"),n=Object.fromEntries((n||[]).map(function(e){return[e.purpose,e]})),x=!!(0,c.Z)(t,"strictStorageEnforcement"),Object.entries(k).forEach(function(e){var t,r=(0,a.Z)(e,2),i=r[0],o=r[1];w[o.type][o.id]=null!==(t=n[i])&&void 0!==t?t:o.default}),!P&&(null!=w.purpose[1]&&(P=!0,N.push((0,m.oB)(y.S1,j,q)),N.push((0,m.oB)(y.K$,j,H)),N.push((0,m.oB)(y.EL,j,V))),null!=w.purpose[2]&&N.push((0,m.oB)(y.UE,j,z)),null!=w.purpose[4]&&N.push((0,m.oB)(y.oK,j,K),(0,m.oB)(y.S5,j,K)),null!=w.purpose[7]&&N.push((0,m.oB)(y.x$,j,G)),null!=w.feature[1]&&N.push((0,m.oB)(y.g0,j,J)),N.push((0,m.oB)(y.e,j,W))))}),(0,s.z)("tcfControl")},26553:function(e,t,n){"use strict";var r=n(36621),i=n(94329),o=n(12827),a=n(27862),s=n(68681),u=n(85865),c=n(3585),l=n(84144);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f="uid2",p=c.ov,g="PrebidJS-".concat("9.18.0","-UID2Module-").concat(p),v="UID2: ";function h(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(void 0,[t+" "].concat(r))}}var m=h(o.PN,v),y=h(o.yN,v),b=(0,s.df)({moduleType:u.y2,moduleName:f}),w={name:f,decode:function(e){var t=function(e){if("string"==typeof e)return m("Found server-only token. Refresh is unavailable for this token."),{uid2:{id:e}};return"optout"===e.latestToken?(m("Found optout token.  Refresh is unavailable for this token."),{uid2:{optout:!0}}):Date.now()<e.latestToken.identity_expires?{uid2:{id:e.latestToken.advertising_token}}:null}(e);return m("UID2 decode returned",t),t},getId:function(e,t){if((null==t?void 0:t.gdprApplies)===!0){y("UID2 is not intended for use where GDPR applies. The UID2 module will not run.");return}var n,i,o,a,s,u,l,f,p,v,h,w={apiBaseUrl:null!==(n=null==e||null===(i=e.params)||void 0===i?void 0:i.uid2ApiBase)&&void 0!==n?n:"https://prod.uidapi.com",paramToken:null==e||null===(o=e.params)||void 0===o?void 0:o.uid2Token,serverCookieName:null!==(a=null==e||null===(s=e.params)||void 0===s?void 0:s.uid2Cookie)&&void 0!==a?a:null==e||null===(u=e.params)||void 0===u?void 0:u.uid2ServerCookie,storage:null!==(l=null==e||null===(f=e.params)||void 0===f?void 0:f.storage)&&void 0!==l?l:"localStorage",clientId:g,internalStorage:"__uid2_advertising_token"};w.cstg=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({serverPublicKey:null==e||null===(p=e.params)||void 0===p?void 0:p.serverPublicKey,subscriptionId:null==e||null===(v=e.params)||void 0===v?void 0:v.subscriptionId},(0,c.gD)(null!==(h=null==e?void 0:e.params)&&void 0!==h?h:{})),m("UID2 configuration loaded and mapped.",w);var S=(0,c.Rh)(w,b,m,y);return m("UID2 getId returned",S),S},eids:l.l};(0,a.Bx)("userId",w),(0,i.z)("uid2IdSystem")},3585:function(e,t,n){"use strict";n.d(t,{Rh:function(){return N},gD:function(){return _},ov:function(){return k}});var r,i,o,a,s,u,c,l,d=n(36621),f=n(90895),p=n(56979),g=n(57786),v=n(60340),h=n(39864),m=n(42992),y=n.n(m),b=n(94329),w=n(31306),S=n(12827),k="1.1";function O(e){return!!("object"===(0,h.Z)(e)&&null!==e&&e.advertising_token&&e.identity_expires&&e.refresh_from&&e.refresh_token&&e.refresh_expires)}function I(e){return"UID2 shared library - ".concat(e)}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[I(n[0])].concat((0,v.Z)(n.slice(1))))}var C=(0,g.Z)(function e(t,n,r,i){(0,p.Z)(this,e),this._baseUrl=t.baseUrl,this._clientVersion=n,this._logInfo=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.apply(void 0,[r].concat(t))},this._logWarn=i},[{key:"createArrayBuffer",value:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}},{key:"hasStatusResponse",value:function(e){return"object"===(0,h.Z)(e)&&e&&e.status}},{key:"isValidRefreshResponse",value:function(e){return this.hasStatusResponse(e)&&("optout"===e.status||"expired_token"===e.status||"success"===e.status&&e.body&&O(e.body))}},{key:"ResponseToRefreshResult",value:function(e){return this.isValidRefreshResponse(e)?"success"===e.status?{status:e.status,identity:e.body}:e:I("Response didn't contain a valid status")}},{key:"callRefreshApi",value:function(e){var t,n,r=this,i=this._baseUrl+"/v2/token/refresh",o=new Promise(function(e,r){t=e,n=r});return this._logInfo("Sending refresh request",e),(0,w.hj)(i,{success:function(i){try{if(e.refresh_response_key){r._logInfo("Decrypting refresh API response");var o=r.createArrayBuffer(atob(i));window.crypto.subtle.importKey("raw",r.createArrayBuffer(atob(e.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then(function(e){r._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:o.slice(0,12),tagLength:128},e,o.slice(12)).then(function(e){var i=String.fromCharCode.apply(String,(0,v.Z)(new Uint8Array(e)));r._logInfo("Decrypted to:",i);var o=JSON.parse(i),a=r.ResponseToRefreshResult(o);"string"==typeof a?n(I(a)):t(a)},function(e){return r._logWarn(I("Call to UID2 API failed"),e)})},function(e){return r._logWarn(I("Call to UID2 API failed"),e)})}else{r._logInfo("No response decryption key available, assuming unencrypted JSON");var a=JSON.parse(i),s=r.ResponseToRefreshResult(a);"string"==typeof s?n(I(s)):t(s)}}catch(e){n(I(i))}},error:function(e,i){try{r._logInfo("Error status, assuming unencrypted JSON");var o=JSON.parse(i.responseText),a=r.ResponseToRefreshResult(o);"string"==typeof a?n(I(a)):t(a)}catch(t){n(I(e))}}},e.refresh_token,{method:"POST",customHeaders:{"X-UID2-Client-Version":this._clientVersion}}),o}}]),A=(0,g.Z)(function e(t,n,r,i){(0,p.Z)(this,e),this._storage=t,this._preferLocalStorage=n,this._storageName=r,this._logInfo=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return E.apply(void 0,[i].concat(t))}},[{key:"readCookie",value:function(e){return this._storage.cookiesAreEnabled()?this._storage.getCookie(e):null}},{key:"readLocalStorage",value:function(e){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(e):null}},{key:"readModuleCookie",value:function(){return this.parseIfContainsBraces(this.readCookie(this._storageName))}},{key:"writeModuleCookie",value:function(e){this._storage.setCookie(this._storageName,JSON.stringify(e),Date.now()+864e5)}},{key:"readModuleStorage",value:function(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))}},{key:"writeModuleStorage",value:function(e){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(e))}},{key:"readProvidedCookie",value:function(e){return JSON.parse(this.readCookie(e))}},{key:"parseIfContainsBraces",value:function(e){return null!=e&&e.includes("{")?JSON.parse(e):e}},{key:"storeValue",value:function(e){this._preferLocalStorage?this.writeModuleStorage(e):this.writeModuleCookie(e)}},{key:"getStoredValueWithFallback",value:function(){var e=this._preferLocalStorage?"local storage":"cookie",t=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),n=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),r=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),i=t();if(i){if("string"==typeof i){var o=r();if(o&&"object"===(0,h.Z)(o))return this._logInfo("".concat(e," contained a basic token, but found a refreshable token fallback. Copying the fallback value to ").concat(e,".")),n(o),o}}else{var a=r();if(a)return this._logInfo("".concat(e," was empty, but found a fallback value.")),"object"===(0,h.Z)(a)&&(this._logInfo("Copying the fallback value to ".concat(e,".")),n(a)),a}return i}}]);function T(e,t,n,r,i,o){return i("UID2 base url provided: ",e),new C({baseUrl:e},n,i,o).callRefreshApi(t).then(function(e){i("Refresh endpoint responded with:",e);var n={originalToken:t,latestToken:e.identity},o=r.getStoredValueWithFallback();return null!=o&&o.originalIdentity&&(n.originalIdentity=o.originalIdentity),r.storeValue(n),n})}l={isCSTGOptionsValid:function(e,t){if("object"!==(0,h.Z)(e)||null===e)return t('CSTG is not being used, but is included in the Prebid.js bundle. You can reduce the bundle size by passing "--disable UID2_CSTG" to the Prebid.js build.'),!1;if(!e.serverPublicKey&&!e.subscriptionId)return t("CSTG has been enabled but its parameters have not been set."),!1;if("string"!=typeof e.serverPublicKey)return t("CSTG opts.serverPublicKey must be a string"),!1;var n=/^(UID2|EUID)-X-[A-Z]-.+/;return n.test(e.serverPublicKey)?"string"!=typeof e.subscriptionId?(t("CSTG opts.subscriptionId must be a string"),!1):0!==e.subscriptionId.length||(t("CSTG opts.subscriptionId is empty"),!1):(t("CSTG opts.serverPublicKey must match the regular expression ".concat(n)),!1)},getValidIdentity:function(e,t){if(e.emailHash){if(!P.isBase64Hash(e.emailHash)){t("CSTG opts.emailHash is invalid");return}return{email_hash:e.emailHash}}if(e.phoneHash){if(!P.isBase64Hash(e.phoneHash)){t("CSTG opts.phoneHash is invalid");return}return{phone_hash:e.phoneHash}}if(e.email){var n=P.normalizeEmail(e.email);if(void 0===n){t("CSTG opts.email is invalid");return}return{email:n}}if(e.phone){if(!P.isNormalizedPhone(e.phone)){t("CSTG opts.phone is invalid");return}return{phone:e.phone}}},isStoredTokenInvalid:function(e,t,n,r){if(t){if("optout"===t.latestToken)return!0;var i=Object.values(e)[0];if(!this.isStoredTokenFromSameIdentity(t,i))return n("CSTG supplied new identity - ignoring stored value.",t.originalIdentity,e),!0}return!1},generateTokenAndStore:function(e,t,n,r,i,o){var a=this;return(0,f.Z)(y().mark(function s(){var u,c,l;return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i("UID2 cstg opts provided: ",JSON.stringify(t)),u=new x({baseUrl:e,cstg:t},i,o),s.next=4,u.generateToken(n);case 4:return i("CSTG endpoint responded with:",c=s.sent),l={originalIdentity:a.encodeOriginalIdentity(n),latestToken:c.identity},r.storeValue(l),s.abrupt("return",l);case 9:case"end":return s.stop()}},s)}))()},isStoredTokenFromSameIdentity:function(e,t){return!!e.originalIdentity&&(0,S._R)(t,e.originalIdentity.salt)===e.originalIdentity.identity},encodeOriginalIdentity:function(e){var t=Object.values(e)[0],n=Math.floor(0x100000000*Math.random());return{identity:(0,S._R)(t,n),salt:n}}};var P=(0,g.Z)(function e(){(0,p.Z)(this,e)},null,[{key:"isBase64Hash",value:function(e){if(!(e&&44===e.length))return!1;try{return btoa(atob(e))===e}catch(e){return!1}}},{key:"isNormalizedPhone",value:function(e){return/^\+[0-9]{10,15}$/.test(e)}},{key:"normalizeEmail",value:function(e){if(!e||!e.length)return;var t=e.trim().toLowerCase();if(!(t.indexOf(" ")>0)){var n=this.splitEmailIntoAddressAndDomain(t);if(n){var r=n.address,i=n.domain,o=this.isGmail(i),a=this.normalizeAddressPart(r,o,o);return a?"".concat(a,"@").concat(i):void 0}}}},{key:"splitEmailIntoAddressAndDomain",value:function(e){var t=e.split("@");if(!(2!==t.length||t.some(function(e){return""===e})))return{address:t[0],domain:t[1]}}},{key:"isGmail",value:function(e){return e===this.GMAIL_DOMAIN}},{key:"dropExtension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.EMAIL_EXTENSION_SYMBOL;return e.split(t)[0]}},{key:"normalizeAddressPart",value:function(e,t,n){var r=e;return t&&(r=r.replaceAll(this.EMAIL_DOT,"")),n&&(r=this.dropExtension(r)),r}}]);(0,d.Z)(P,"EMAIL_EXTENSION_SYMBOL","+"),(0,d.Z)(P,"EMAIL_DOT","."),(0,d.Z)(P,"GMAIL_DOMAIN","gmail.com");var x=(0,g.Z)(function e(t,n,r){(0,p.Z)(this,e),this._baseUrl=t.baseUrl,this._serverPublicKey=t.cstg.serverPublicKey,this._subscriptionId=t.cstg.subscriptionId,this._logInfo=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return E.apply(void 0,[n].concat(t))},this._logWarn=r},[{key:"hasStatusResponse",value:function(e){return"object"===(0,h.Z)(e)&&e&&e.status}},{key:"isCstgApiSuccessResponse",value:function(e){return this.hasStatusResponse(e)&&"success"===e.status&&O(e.body)}},{key:"isCstgApiOptoutResponse",value:function(e){return this.hasStatusResponse(e)&&"optout"===e.status}},{key:"isCstgApiClientErrorResponse",value:function(e){return this.hasStatusResponse(e)&&"client_error"===e.status&&"string"==typeof e.message}},{key:"isCstgApiForbiddenResponse",value:function(e){return this.hasStatusResponse(e)&&"invalid_http_origin"===e.status&&"string"==typeof e.message}},{key:"stripPublicKeyPrefix",value:function(e){return e.substring(9)}},{key:"generateCstgRequest",value:(r=(0,f.Z)(y().mark(function e(t){var n,r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("email_hash"in t||"phone_hash"in t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!("email"in t)){e.next=7;break}return e.next=5,j.hash(t.email);case 5:return n=e.sent,e.abrupt("return",{email_hash:n});case 7:if(!("phone"in t)){e.next=12;break}return e.next=10,j.hash(t.phone);case 10:return r=e.sent,e.abrupt("return",{phone_hash:r});case 12:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"generateToken",value:(i=(0,f.Z)(y().mark(function e(t){var n,r,i,o,a,s,u,c,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generateCstgRequest(t);case 2:return n=e.sent,this._logInfo("Building CSTG request for",n),e.next=6,D.build(this.stripPublicKeyPrefix(this._serverPublicKey));case 6:return r=e.sent,i=new TextEncoder,o=Date.now(),e.next=11,r.encrypt(i.encode(JSON.stringify(n)),i.encode(JSON.stringify([o])));case 11:return s=(a=e.sent).iv,u=a.ciphertext,e.next=16,j.exportPublicKey(r.clientPublicKey);case 16:return c=e.sent,l={payload:j.bytesToBase64(new Uint8Array(u)),iv:j.bytesToBase64(new Uint8Array(s)),public_key:j.bytesToBase64(new Uint8Array(c)),timestamp:o,subscription_id:this._subscriptionId},e.abrupt("return",this.callCstgApi(l,r));case 19:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"callCstgApi",value:(o=(0,f.Z)(y().mark(function e(t,n){var r,i,o,a,s=this;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._baseUrl+"/v2/token/client-generate",a=new Promise(function(e,t){i=e,o=t}),this._logInfo("Sending CSTG request",t),(0,w.hj)(r,{success:function(){var e=(0,f.Z)(y().mark(function e(t,r){var a,u,c,l;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=j.base64ToBytes(t),e.next=4,n.decrypt(a.slice(0,12),a.slice(12));case 4:u=e.sent,l=JSON.parse(c=new TextDecoder().decode(u)),s.isCstgApiSuccessResponse(l)?i({status:"success",identity:l.body}):s.isCstgApiOptoutResponse(l)?i({status:"optout",identity:"optout"}):o(I("API error: Response body was invalid for HTTP status 200: ".concat(c))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),o(I(e.t0));case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function t(t,n){return e.apply(this,arguments)}}(),error:function(e,t){try{if(400===t.status){var n=JSON.parse(t.responseText);s.isCstgApiClientErrorResponse(n)?o(I("Client error: ".concat(n.message))):o(I("UID2 API error: Response body was invalid for HTTP status 400: ".concat(t.responseText)))}else if(403===t.status){var r=JSON.parse(t.responseText);s.isCstgApiForbiddenResponse(t)?o(I("Forbidden: ".concat(r.message))):o(I("UID2 API error: Response body was invalid for HTTP status 403: ".concat(t.responseText)))}else o(I("UID2 API error: Unexpected HTTP status ".concat(t.status,": ").concat(e)))}catch(t){o(I(e))}}},JSON.stringify(t),{method:"POST"}),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})}]),D=function(){var e,t,n;function r(e,t){(0,p.Z)(this,r),this._clientPublicKey=e,this._sharedKey=t}return(0,g.Z)(r,[{key:"encrypt",value:(e=(0,f.Z)(y().mark(function e(t,n){var r,i;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.crypto.getRandomValues(new Uint8Array(12)),e.next=3,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r,additionalData:n},this._sharedKey,t);case 3:return i=e.sent,e.abrupt("return",{iv:r,ciphertext:i});case 5:case"end":return e.stop()}},e,this)})),function(t,n){return e.apply(this,arguments)})},{key:"decrypt",value:(t=(0,f.Z)(y().mark(function e(t,n){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},this._sharedKey,n));case 1:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"clientPublicKey",get:function(){return this._clientPublicKey}}],[{key:"build",value:(n=(0,f.Z)(y().mark(function e(t){var n,i,o;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.generateKeyPair(r._namedCurve);case 2:return n=e.sent,e.next=5,j.importPublicKey(t,this._namedCurve);case 5:return i=e.sent,e.next=8,j.deriveKey(i,n.privateKey);case 8:return o=e.sent,e.abrupt("return",new r(n.publicKey,o));case 10:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}])}();(0,d.Z)(D,"_namedCurve","P-256");var j=(0,g.Z)(function e(){(0,p.Z)(this,e)},null,[{key:"base64ToBytes",value:function(e){var t=atob(e);return Uint8Array.from(t,function(e){return e.codePointAt(0)})}},{key:"bytesToBase64",value:function(e){return btoa(Array.from(e,function(e){return String.fromCodePoint(e)}).join(""))}},{key:"generateKeyPair",value:(a=(0,f.Z)(y().mark(function e(t){var n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"ECDH",namedCurve:t},e.abrupt("return",window.crypto.subtle.generateKey(n,!1,["deriveKey"]));case 2:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"importPublicKey",value:(s=(0,f.Z)(y().mark(function e(t,n){var r;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:"ECDH",namedCurve:n},e.abrupt("return",window.crypto.subtle.importKey("spki",this.base64ToBytes(t),r,!1,[]));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"exportPublicKey",value:function(e){return window.crypto.subtle.exportKey("spki",e)}},{key:"deriveKey",value:(u=(0,f.Z)(y().mark(function e(t,n){return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.crypto.subtle.deriveKey({name:"ECDH",public:t},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]));case 1:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"hash",value:(c=(0,f.Z)(y().mark(function e(t){var n;return y().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.crypto.subtle.digest("SHA-256",new TextEncoder().encode(t));case 2:return n=e.sent,e.abrupt("return",this.bytesToBase64(new Uint8Array(n)));case 4:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})}]);function N(e,t,n,r){var i,o,a,s,u,c,d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return E.apply(void 0,[n].concat(t))},f=null,p="cookie"!==e.storage,g=new A(t,p,e.internalStorage,d);d("Module is using ".concat(p?"local storage":"cookies"," for internal storage."));var v=l&&l.isCSTGOptionsValid(e.cstg,r);v?(d("Module is using client-side token generation."),f=null):e.paramToken?d("Read token from params",f=e.paramToken):e.serverCookieName&&d("Read token from server-supplied cookie",f=g.readProvidedCookie(e.serverCookieName));var h=g.getStoredValueWithFallback();if(d("Loaded module-stored tokens:",h),h&&"string"==typeof h){if(!f&&!v)return d("Returning legacy cookie value."),{id:h};d("Discarding superseded legacy cookie."),h=null}if(f&&h&&(null===(s=h.originalToken)||void 0===s?void 0:s.advertising_token)!==f.advertising_token&&(d("Server supplied new token - ignoring stored value.",null===(u=h.originalToken)||void 0===u?void 0:u.advertising_token,f.advertising_token),h=null),v){var m=l.getValidIdentity(e.cstg,r);if(m&&(h&&l.isStoredTokenInvalid(m,h,d,r)&&(h=null),!h||Date.now()>h.latestToken.refresh_expires)){var y=l.generateTokenAndStore(e.apiBaseUrl,e.cstg,m,g,d,r);return d("Generate token using CSTG"),{callback:function(e){y.then(function(t){d("Token generation responded, passing the new token on.",t),e(t)})}}}}var b=!(null!==(i=h)&&void 0!==i&&i.latestToken)||f&&f.identity_expires>h.latestToken.identity_expires,w=b?f:h.latestToken;if(d("UID2 module selected latest token",b,w),!w||Date.now()>w.refresh_expires)return d("Newest available token is expired and not refreshable."),{id:null};if(Date.now()>w.identity_expires){var S=T(e.apiBaseUrl,w,e.clientId,g,d,r);return d("Token is expired but can be refreshed, attempting refresh."),{callback:function(e){S.then(function(t){d("Refresh reponded, passing the updated token on.",t),e(t)})}}}Date.now()>w.refresh_from&&(d("Refreshing token in background with low priority."),T(e.apiBaseUrl,w,e.clientId,g,d,r));var k={originalToken:null!==(o=f)&&void 0!==o?o:null===(a=h)||void 0===a?void 0:a.originalToken,latestToken:w};return v&&(k.originalIdentity=null===(c=h)||void 0===c?void 0:c.originalIdentity),g.storeValue(k),{id:k}}function _(e){for(var t=0,n=["emailHash","phoneHash","email","phone"];t<n.length;t++){var r=n[t];if(e.hasOwnProperty(r))return(0,d.Z)({},r,e[r])}return{}}(0,b.z)("uid2IdSystem_shared")},67991:function(e,t,n){"use strict";var r=n(36621),i=n(94329),o=n(12827),a=n(31306),s=n(27862),u=n(39071);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l="unifiedId",d={name:l,gvlid:21,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(!t||"string"!=typeof t.partner&&"string"!=typeof t.url){(0,o.H)("User ID - unifiedId submodule requires either partner or url to be defined");return}var n=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){(0,a.hj)(n,{success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(e){(0,o.H)(e)}e(n)},error:function(t){(0,o.H)("".concat(l,": ID fetch encountered an error"),t),e()}},void 0,{method:"GET",withCredentials:!0})}}},eids:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u.u)};(0,s.Bx)("userId",d),(0,i.z)("unifiedIdSystem")},46650:function(e,t,n){"use strict";var r,i,o,a,s,u,c,l,d=n("60340"),f=n("39864"),p=n("4511"),g=n("94329"),v=n("31232"),h=n("39724"),m=n("6826"),y=n("57248"),b=n("66872"),w=n("31144"),S=n("27862"),k=n("12827"),O=new Map;function I(e){var t=new Map,n={};return Object.entries(e).forEach(function(e){var r,i=(0,p.Z)(e,2),o=i[0],a=i[1].find(function(e){var t;return(null===(t=e.idObj)||void 0===t?void 0:t[o])!=null});a&&(n[o]=a.idObj[o],t.set(o,null===(r=a.submodule.eids)||void 0===r?void 0:r[o]))}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n={};function r(e){var t,r,i=JSON.stringify([null===(t=e.source)||void 0===t?void 0:t.toLowerCase(),e.ext]);n.hasOwnProperty(i)?(r=n[i].uids).push.apply(r,(0,d.Z)(e.uids)):n[i]=e}return Object.entries(e).forEach(function(e){var n=(0,p.Z)(e,2),i=n[0],o=n[1];o=Array.isArray(o)?o:[o],("pubProvidedId"===i?(0,k.I8)(o):o.map(function(e){return function(e,t,n){if(n&&e){var r={};r.source=(0,k.LQ)(n.getSource)?n.getSource(e):n.source;var i=(0,k.LQ)(n.getValue)?n.getValue(e):e;if((0,k.d8)(i)){var o={id:i,atype:n.atype};if((0,k.LQ)(n.getUidExt)){var a=n.getUidExt(e);a&&(o.ext=a)}if(r.uids=[o],(0,k.LQ)(n.getEidExt)){var s=n.getEidExt(e);s&&(r.ext=s)}return r}}return null}(e,0,t.get(i))})).filter(function(e){return null!=e}).forEach(r)}),Object.values(n)}(n,t)}var E=n("68681"),C=n("67007"),A=n("92618"),T=n("70926"),P=n("13722"),x=n("44486"),D=n("54072"),j=n("85865"),N=n("31145"),_=n("85138"),U=n("69950"),R=n("59233"),M=n("62004"),Z="User ID",B=E.c$,F=E.Dp,L="_pbjs_id_optout",q=(0,E.eA)("userId"),H={isAllowed:N.xD},V=!1,z=[],G=[],K={},W=[];var J=function(){return null==r&&(r=(0,x.V6)()),r};function $(e){return J().fork().renameWith(function(t){return["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]})}function Q(e,t){t=t||e.storageMgr;var n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,r=e.config.storage.name;return function(e,i,o){t.setCookie(r+(e||""),i,o,"Lax",n)}}function X(e,t){var n=e.config.storage;try{var r=new Date(Date.now()+864e5*n.expires).toUTCString(),i=(0,k.PO)(t)?JSON.stringify(t):t;e.enabledStorageTypes.forEach(function(t){var n,o,a,s,u,c,l,d,f,p;switch(t){case B:;n=e,o=i,a=r,s=n.config.storage,(u=Q(n))(null,o,a),u("_cst",ev(),a),"number"==typeof s.refreshInSeconds&&u("_last",new Date().toUTCString(),a);break;case F:;c=e,l=i,d=r,f=c.config.storage,(p=c.storageMgr).setDataInLocalStorage("".concat(f.name,"_exp"),d),p.setDataInLocalStorage("".concat(f.name,"_cst"),ev()),p.setDataInLocalStorage(f.name,encodeURIComponent(l)),"number"==typeof f.refreshInSeconds&&p.setDataInLocalStorage("".concat(f.name,"_last"),new Date().toUTCString())}})}catch(e){(0,k.H)(e)}}function Y(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e.config.storage,i=n?"".concat(r.name,"_").concat(n):r.name;try{e.enabledStorageTypes.find(function(n){var r,o,a,s,u,c,l;switch(n){case B:;r=e,o=i,t=r.storageMgr.getCookie(o);break;case F:;a=e,s=i,u=a.storageMgr,c=a.config.storage,l=u.getDataFromLocalStorage("".concat(c.name,"_exp")),t=""===l?u.getDataFromLocalStorage(s):l&&new Date(l).getTime()-Date.now()>0?decodeURIComponent(u.getDataFromLocalStorage(s)):void 0}return!!t}),"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){(0,k.H)(e)}return t}function ee(e,t,n){t=J().fork().startTiming("userId.callbacks.total").stopBefore(t);var r=(0,k.yx)(function(){clearTimeout(o),t()},e.length);e.forEach(function(e){var t=$(e.submodule.name).startTiming("callback").stopBefore(r);try{e.callback(function(r){r?(e.config.storage&&X(e,r),e.idObj=e.submodule.decode(r,e.config),n.refresh(),eh(n)):(0,k.PN)("".concat(Z,": ").concat(e.submodule.name," - request id responded with an empty value")),t()},Y.bind(null,e))}catch(n){(0,k.H)("Error in userID module '".concat(e.submodule.name,"':"),n),t()}e.callback=void 0})}function et(e){return Object.fromEntries(Object.entries(e).map(function(e){var t,n=(0,p.Z)(e,2),r=n[0];return[r,null===(t=n[1].find(function(e){var t;return(null===(t=e.idObj)||void 0===t?void 0:t[r])!=null}))||void 0===t||null===(t=t.idObj)||void 0===t?void 0:t[r]]}).filter(function(e){var t=(0,p.Z)(e,2);return null!=(t[0],t[1])}))}function en(e,t,n){var r={};return e.forEach(function(e){var i=n(e),o=function(e){if(e.primaryIds)return e.primaryIds;var t,n=Object.keys(null!==(t=e.eids)&&void 0!==t?t:{});if(n.length>1)throw Error("ID submodule ".concat(e.name," can provide multiple IDs, but does not specify 'primaryIds'"));return n}(i);t(e).forEach(function(t){var n,a,s,u=r[t]=null!==(n=r[t])&&void 0!==n?n:[],c=null!==(a=null===(s=K[t])||void 0===s?void 0:s.indexOf(i.name))&&void 0!==a?a:o.includes(t)?0:-1,l=u.findIndex(function(e){return(0,p.Z)(e,1)[0]<c});u.splice(-1===l?u.length:l,0,[c,e])})}),Object.fromEntries(Object.entries(r).map(function(e){var t=(0,p.Z)(e,2);return[t[0],t[1].map(function(e){var t=(0,p.Z)(e,2);return t[0],t[1]})]}))}var er={};function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es()||[],t=u&&e.find(function(e){return e.source===u});if(t&&"string"==typeof(0,A.Z)(t,"uids.0.id")){var n=t.uids[0].id.replace(/[\W_]/g,"");if(n.length>=32&&n.length<=150)return n;(0,k.yN)("User ID - Googletag Publisher Provided ID for ".concat(u," is not between 32 and 150 characters - ").concat(n))}}var eo=(0,x.g3)("userId",function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.delay,a=void 0===o?P.Z.timeout:o,u=r.getIds,c=void 0===u?eg:u;P.Z.race([c().catch(function(){return null}),a(s)]).then(function(){!function(e){var t,n,r,o,a,s,u,c,l,d,f,g=e.adUnits,v=e.ortb2Fragments;if(o=(t=v=null!==(d=v)&&void 0!==d?d:{global:{},bidder:{}}).global,a=t.bidder,u=(s=i).global,c=s.bidder,(l=I(u)).length>0&&(0,C.N)(o,"user.ext.eids",(null!==(n=null===(r=o.user)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.eids)&&void 0!==n?n:[]).concat(l)),Object.entries(c).forEach(function(e){var t,n,r=(0,p.Z)(e,2),i=r[0],o=I(r[1]);o.length>0&&(0,C.N)(a,"".concat(i,".user.ext.eids"),(null!==(t=null===(n=a[i])||void 0===n||null===(n=n.user)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.eids)&&void 0!==t?t:[]).concat(o))}),![g].some(function(e){return!Array.isArray(e)||!e.length})){var h=et(i.global),m=(null===(f=v.global.user)||void 0===f||null===(f=f.ext)||void 0===f?void 0:f.eids)||[];g.forEach(function(e){e.bids&&(0,k.kJ)(e.bids)&&e.bids.forEach(function(e){var t,n,r=Object.assign({},h,et(null!==(t=i.bidder[e.bidder])&&void 0!==t?t:{})),o=m.concat((null===(n=v.bidder[e.bidder])||void 0===n||null===(n=n.user)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.eids)||[]);Object.keys(r).length>0&&(e.userId=r),o.length>0&&(e.userIdAsEids=o)})})}}(t),J().join((0,x.Bf)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(n,t)})});function ea(){return et(i.combined)}function es(){return I(i.combined)}function eu(e){return es().filter(function(t){return t.source===e})[0]}function ec(e,t,n){return ef().then(function(){var r={};if((0,k.LQ)(n)){(0,k.PN)("".concat(Z," - Getting encrypted signal from custom function : ").concat(n.name," & source : ").concat(e," "));var i=n(e);r[e]=i?el(i):null}else{var o=eu(e);(0,k.PN)("".concat(Z," - Getting encrypted signal for eids :").concat(JSON.stringify(o))),!(0,k.xb)(o)&&(r[o.source]=!0===t?el(o):o.uids[0].id)}return(0,k.PN)("".concat(Z," - Fetching encrypted eids: ").concat(r[e])),r[e]})}function el(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="";if(1===t)n="object"===(0,f.Z)(e)?window.btoa(JSON.stringify(e)):window.btoa(e);return"".concat(t,"||").concat(n)}function ed(){if(!!(0,k.T9)()){window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];var e=h.vc.getConfig("userSync.encryptedSignalSources");e?setTimeout(function(){e.sources&&e.sources.forEach(function(e){var t=e.source,n=e.encrypt,r=e.customFunc;t.forEach(function(e){window.googletag.secureSignalProviders.push({id:e,collectorFunction:function(){return ec(e,n,r)}})})})},e.registerDelay||0):(0,k.yN)("".concat(Z," - ESP : encryptedSignalSources config not defined under userSync Object"))}}function ef(e){return l(e).then(function(){return ea()},function(e){return e===er?Promise.resolve().then(eg):((0,k.H)("Error initializing userId",e),P.Z.reject(e))})}function ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submoduleNames,n=arguments.length>1?arguments[1]:void 0;return ef({refresh:!0,submoduleNames:t}).then(function(e){return n&&(0,k.LQ)(n)&&n(),e})}function eg(){return ef()}function ev(){for(var e=Number(y.NO.hash),t=[];e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function eh(e){var t=I(e.combined);if(t.length&&u){var n=ei(t);n&&((0,k.T9)()?window.googletag.pubads().setPublisherProvidedId(n):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(n)})))}}function em(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return J().fork().measureTime("userId.init.modules",function(){if(!t.length)return[];if(t.forEach(function(e){return ew(e)}),!(t=t.filter(function(e){return(!e.config.storage||function(e){return!!e.enabledStorageTypes.length}(e))&&H.isAllowed(_.EL,(0,U.T)(j.y2,e.config.name))})).length)return(0,k.yN)("".concat(Z," - no ID module configured")),[];var r=t.reduce(function(e,t){return $(t.submodule.name).measureTime("init",function(){try{!function(e,t){var n=y.rp.getConsentData();if(e.config.storage){var r,i,o=Y(e),a=!1;if("number"==typeof e.config.storage.refreshInSeconds){var s=new Date(Y(e,"last"));a=s&&Date.now()-s.getTime()>1e3*e.config.storage.refreshInSeconds}if(o&&!a&&!t&&(r=Y(e,"cst"))&&r===ev())"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,n,o));else{var u=Object.assign({enabledStorageTypes:e.enabledStorageTypes},e.config);i=e.submodule.getId(u,n,o)}(0,k.PO)(i)&&(i.id&&(X(e,i.id),o=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),o&&(e.idObj=e.submodule.decode(o,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var c=e.submodule.getId(e.config,n,void 0);(0,k.PO)(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config)))}}(t,n),e.push(t)}catch(e){(0,k.H)("Error in userID module '".concat(t.submodule.name,"':"),e)}return e})},[]);return e.refresh(r),eh(e),r})}function ey(e){var t;return(null==e||null===(t=e.storage)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.trim().split(/\s*&\s*/))||[]}var eb=new Set([F,B]);function ew(e){if(!e.enabledStorageTypes){var t=ey(e.config);e.enabledStorageTypes=t.filter(function(t){switch(t){case F:return!!e.storageMgr.localStorageIsEnabled()&&(!q.getDataFromLocalStorage(L)||((0,k.PN)("".concat(Z," - opt-out localStorage found, storage disabled")),!1));case B:return!!e.storageMgr.cookiesAreEnabled()&&(!q.getCookie(L)||((0,k.PN)("".concat(Z," - opt-out cookie found, storage disabled")),!1))}return!1})}}function eS(e){O.clear(),Object.entries(en(e,function(e){return Object.keys(e.eids||{})},function(e){return e})).forEach(function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return O.set(n,r[0].eids[n])})}function ek(){eS(W);var e=function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];k.yN.apply(void 0,["Invalid userSync.userId config: ".concat(e)].concat(n))}return Array.isArray(e)?e.filter(function(e){if(!(null!=e&&e.name))return t('must specify "name"',e);if(e.storage){if(!e.storage.name||!e.storage.type)return t('must specify "storage.name" and "storage.type"',e);if(!ey(e).every(function(e){return eb.has(e)}))return t('invalid "storage.type"',e);["expires","refreshInSeconds"].forEach(function(n){var r=e.storage[n];null!=r&&"number"!=typeof r&&(isNaN(r=Number(r))?(t("storage.".concat(n," must be a number and will be ignored"),e),delete e.storage[n]):e.storage[n]=r)})}return!0}):(null!=e&&t("must be an array",e),[])}(G);if(!!e.length){var t=W.filter(function(e){return!(0,v.sE)(z,function(t){return t.name===e.name})});z.splice(0,z.length),t.map(function(t){var n=(0,v.sE)(e,function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())});return n&&t.name!==n.name&&(n.name=t.name),n?{submodule:t,config:n,callback:void 0,idObj:void 0,storageMgr:(0,E.df)({moduleType:j.y2,moduleName:n.name})}:null}).filter(function(e){return null!==e}).forEach(function(e){return z.push(e)}),z.length&&(!V&&(M.ew.before(eo,100),b.ZP.callDataDeletionRequest.before(eO),T.G.after(function(e){return e(ei())}),V=!0),(0,k.PN)("".concat(Z," - usersync config updated for ").concat(z.length," submodules: "),z.map(function(e){return e.submodule.name})))}}function eO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,k.PN)("UserID: received data deletion request; deleting all stored IDs..."),z.forEach(function(e){var t,r;if("function"==typeof e.submodule.onDataDeletionRequest)try{;(t=e.submodule).onDataDeletionRequest.apply(t,[e.config,e.idObj].concat(n))}catch(t){(0,k.H)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),t)}ew(r=e),r.enabledStorageTypes.forEach(function(e){var t,n,i;switch(e){case B:;t=Q(r,q),n=new Date(Date.now()-864e5).toUTCString(),["","_last","_cst"].forEach(function(e){try{t(e,"",n)}catch(e){(0,k.H)(e)}});break;case F:;i=r,["","_last","_exp","_cst"].forEach(function(e){try{q.removeDataFromLocalStorage(i.config.storage.name+e)}catch(e){(0,k.H)(e)}})}})}),e.apply(this,n)}function eI(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.delay,o=void 0===r?P.Z.timeout:r;u=void 0,z=[],G=[],i=t={submodules:[],global:{},bidder:{},combined:{},refresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=new Set(e.map(function(e){return e.submodule}));t.submodules=t.submodules.filter(function(e){return!n.has(e.submodule)}).concat(e),function(){var e=en(t.submodules,function(e){var t;return Object.keys(null!==(t=e.idObj)&&void 0!==t?t:{})},function(e){return e.submodule}),n={},r={};Object.entries(e).forEach(function(e){var t=(0,p.Z)(e,2),i=t[0],o=t[1],a=!0,s=new Set;o.map(function(e){return e.config.bidders}).forEach(function(e){Array.isArray(e)&&e.length>0?e.forEach(function(e){return s.add(e)}):a=!1}),s.size>0&&!a?(0,k.yN)("userID modules ".concat(o.map(function(e){return e.submodule.name}).join(", ")," provide the same ID ('").concat(i,"'), but are configured for different bidders. ID will be skipped.")):0===s.size?n[i]=o:s.forEach(function(e){var t;r[e]=null!==(t=r[e])&&void 0!==t?t:{},r[e][i]=o})});var i=Object.values(r).concat([n]).reduce(function(e,t){return Object.assign(e,t)},{});Object.assign(t,{global:n,bidder:r,combined:i})}()}},l=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,o=void 0===r?P.Z.timeout:r,u=(0,P.P)(),c=(0,P.P)(),l=!1;function d(n){return t=J().fork(),null!=e&&e.reject(er),e=(0,P.P)(),P.Z.race([n,e.promise]).finally(t.startTiming("userId.total"))}var f=i,p=z;function g(e){return function(){if(f===i&&p===z)return e.apply(void 0,arguments)}}function v(){return y.NO.promise.finally(t.startTiming("userId.init.consent"))}var h=d(P.Z.all([S.Cd,u.promise]).then(v).then(g(function(){em(f,p)})).then(function(){return c.promise.finally(t.startTiming("userId.callbacks.pending"))}).then(g(function(){var e=f.submodules.filter(function(e){return(0,k.LQ)(e.callback)});if(e.length)return new P.Z(function(t){return ee(e,t,f)})})));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refresh,n=e.submoduleNames,r=void 0===n?null:n,i=e.ready;return void 0!==i&&i&&!l&&(l=!0,u.resolve(),s>0?c.resolve():m.on(w.FP.AUCTION_END,function e(){m.S1(w.FP.AUCTION_END,e),o(a).then(c.resolve)})),void 0!==t&&t&&l&&(h=d(h.catch(function(){return null}).then(v).then(g(function(){var e=em(f,p.filter(function(e){return null==r||r.includes(e.submodule.name)}),!0).filter(function(e){return null!=e.callback});if(e.length)return new P.Z(function(t){return ee(e,t,f)})})))),h}}({delay:o}),null!=c&&c(),W=[],c=e.getConfig("userSync",function(e){var t=e.userSync;t&&(u=t.ppid,t.userIds&&(G=t.userIds,a=(0,k.hj)(t.syncDelay)?t.syncDelay:R.oS.syncDelay,s=(0,k.hj)(t.auctionDelay)?t.auctionDelay:R.oS.auctionDelay,ek(),!function(e,t){if(e){var n={},r=new Map(t.map(function(e){return e.aliasName?[e.aliasName,e.name]:[]}));Object.keys(e).forEach(function(t){var i=(0,k.kJ)(e[t])?(0,d.Z)(e[t]).reverse():[];n[t]=i.map(function(e){return r.has(e)?r.get(e):e})}),K=n}else K={};i.refresh(),eS(t)}(t.idPriority,W),l({ready:!0})))}),(0,g.R)().getUserIds=ea,(0,g.R)().getUserIdsAsEids=es,(0,g.R)().getEncryptedEidsForSource=eI(ec),(0,g.R)().registerSignalSources=ed,(0,g.R)().refreshUserIds=eI(ep),(0,g.R)().getUserIdsAsync=eI(eg),(0,g.R)().getUserIdsAsEidBySource=eu}(h.vc),(0,S.bA)("userId",function(e){e.findRootDomain=D.W,!(0,v.sE)(W,function(t){return t.name===e.name})&&(W.push(e),y.qh.register(j.y2,e.name,e.gvlid),ek(),l({refresh:!0,submoduleNames:[e.name]}))},{postInstallAllowed:!0}),(0,g.z)("userId")},70926:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r=(0,n(27862).z3)("sync",function(){})},70303:function(e,t,n){"use strict";n.d(t,{S:function(){return w}});var r=n(4511),i=n(27862),o=n(15658),a=n(54072),s=n(12827),u=n(67007),c=n(39724),l=n(96089),d=n(13722),f=n(86547),p=n(31145),g=n(69950),v=n(85138),h=n(85865);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y={getRefererInfo:o.nH,findRootDomain:a.W,getWindowTop:s.Zy,getWindowSelf:s.e7,getHighEntropySUA:l.KI,getLowEntropySUA:l.hi},b=(0,f.A_)("FPD"),w=(0,i.z3)("sync",function(e){var t=[e,(function(){var e=c.vc.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?y.getHighEntropySUA(e):d.Z.resolve(y.getLowEntropySUA())})().catch(function(){return null}),(function(){return d.Z.resolve("cookieDeprecationLabel"in navigator&&(0,p.xD)(v.S1,(0,g.T)(h.wu,"cdep"))&&navigator.cookieDeprecationLabel.getValue())})().catch(function(){return null})];return d.Z.all(t).then(function(e){var t=(0,r.Z)(e,3),n=t[0],i=t[1],a=t[2],c=y.getRefererInfo();Object.entries(O).forEach(function(e){var t=(0,r.Z)(e,2),i=t[0],o=(0,t[1])(n,c);o&&Object.keys(o).length>0&&(n[i]=(0,s.Ee)({},o,n[i]))}),i&&(0,u.N)(n,"device.sua",Object.assign({},i,n.device.sua)),a&&(0,u.N)(n,"device.ext",Object.assign({},{cdep:a},n.device.ext)),n=b(n);var l,d=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(f.Iq);try{for(d.s();!(l=d.n()).done;){var p=l.value;if((0,f.Qg)(n,p)){n[p]=(0,s.Ee)({},function(e,t){var n,r,i=(0,o.hh)(t.page,{noLeadingWww:!0});return k({domain:i,keywords:null===(n=S(function(e){return e.document.querySelector("meta[name='keywords']")}))||void 0===n||null===(n=n.content)||void 0===n||null===(r=n.replace)||void 0===r?void 0:r.call(n,/\s/g,""),publisher:k({domain:y.findRootDomain(i)})})}(n,c),n[p]);break}}}catch(e){d.e(e)}finally{d.f()}return n})});function S(e){try{return e(y.getWindowTop())}catch(t){return e(y.getWindowSelf())}}function k(e){return(0,s.iG)(e,Object.keys(e))}var O={site:function(e,t){if(!f.Iq.filter(function(e){return"site"!==e}).some(f.Qg.bind(null,e)))return k({page:t.page,ref:t.ref})},device:function(){return S(function(e){var t,n=e.screen.width,r=e.screen.height,i=e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,o=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,a={w:n,h:r,dnt:(0,s.oV)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift(),ext:{vpw:i,vph:o}};return null!==(t=e.navigator)&&void 0!==t&&t.webdriver&&(0,u.N)(a,"ext.webdriver",!0),a})},regs:function(){var e={};S(function(e){return e.navigator.globalPrivacyControl})&&(0,u.N)(e,"ext.gpc",1);var t=c.vc.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}}},86547:function(e,t,n){"use strict";n.d(t,{A_:function(){return o},Iq:function(){return i},Qg:function(){return a}});var r=n(12827),i=["dooh","app","site"];function o(e){return function(t){return i.reduce(function(n,i){return a(t,i)&&(null!=n?((0,r.yN)("".concat(e," specifies both '").concat(n,"' and '").concat(i,"'; dropping the latter.")),delete t[i]):n=i),n},null),t}}function a(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}},54072:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(12827),i=(0,n(68681).eA)("fpdEnrichment"),o=(0,r.HP)(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!i.cookiesAreEnabled())return n;var o=n.split(".");if(2===o.length)return n;var a=-2,s="_rdc".concat(Date.now()),u="writeable";do{e=o.slice(a).join(".");var c=new Date((0,r.AB)()+1e4).toUTCString();i.setCookie(s,u,c,"Lax",e,void 0),i.getCookie(s,void 0)===u?(t=!1,i.setCookie(s,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,e,void 0)):(a+=-1,t=Math.abs(a)<=o.length)}while(t);return e})},96089:function(e,t,n){"use strict";n.d(t,{KI:function(){return u},VU:function(){return c},hi:function(){return s}});var r=n(12827),i=n(13722),o=["architecture","bitness","model","platformVersion","fullVersionList"],a=["brands","mobile","platform"],s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n=t&&a.some(function(e){return void 0!==t[e]})?Object.freeze(l(1,t)):null;return function(){return n}}(),u=c();function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n={},a=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(!a.has(e)){var s=Array.from(e);s.sort(),a.set(e,s.join("|"))}var u=a.get(e);if(!n.hasOwnProperty(u))try{n[u]=t.getHighEntropyValues(e).then(function(e){return(0,r.xb)(e)?null:Object.freeze(l(2,e))}).catch(function(){return null})}catch(e){n[u]=i.Z.resolve(null)}return n[u]}}function l(e,t){function n(e,t){var n={brand:e};return(0,r.d8)(t)&&!(0,r.jH)(t)&&(n.version=t.split(".")),n}var i={source:e};return t.platform&&(i.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(i.browsers=(t.fullVersionList||t.brands).map(function(e){return n(e.brand,e.version)})),void 0!==t.mobile&&(i.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach(function(e){var n=t[e];(0,r.d8)(n)&&(i[e]=n)}),i}},7055:function(e,t,n){"use strict";n.d(t,{DZ:function(){return s},Px:function(){return u},TP:function(){return l},YC:function(){return c},Z:function(){return a},f8:function(){return g},fP:function(){return v},gm:function(){return i},md:function(){return d}});var r,i=["request","imp","bidResponse","response"],o=["default","pbs"],a=i[0],s=i[1],u=i[2],c=i[3],l="default",d="pbs",f=new Set(i);var p=(r={},{registerOrtbProcessor:function(e){var t=e.type,n=e.name,o=e.fn,a=e.priority,s=void 0===a?0:a,u=e.dialects;if(!f.has(t))throw Error("ORTB processor type must be one of: ".concat(i.join(", ")));(void 0===u?[l]:u).forEach(function(e){!r.hasOwnProperty(e)&&(r[e]={}),!r[e].hasOwnProperty(t)&&(r[e][t]={}),r[e][t][n]={priority:s,fn:o}})},getProcessors:function(e){return r[e]||{}}}),g=p.registerOrtbProcessor,v=p.getProcessors},62004:function(e,t,n){"use strict";n.d(t,{ZP:()=>el,ew:()=>ea});var r,i=n("4511"),o=n("36621"),a=n("94329"),s=n("12827"),u=n("67007"),c=n("92618"),l=n("74807"),d=n("31144"),f=n("31232"),p=n("96557"),g=n("47730");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=d.X3.REQUEST,y=d.X3.RESPONSE,b=d.X3.NATIVE,w=d.X3.EVENT,S=(0,o.Z)((0,o.Z)({},m,function(e,t,n){(0,p.XD)({renderFn:function(t){e(Object.assign({message:y,renderer:(0,g.m)(n)},t))},resizeFn:k(t.adId,n),options:t.options,adId:t.adId,bidResponse:n})}),w,function(e,t,n){if(null==n){(0,s.H)("Cannot find ad '".concat(t.adId,"' for x-origin event request"));return}if(n.status!==d.UE.RENDERED){(0,s.yN)("Received x-origin event request without corresponding render request for ad '".concat(n.adId,"'"));return}return(0,p.oc)(t,n)});Object.assign(S,(0,o.Z)({},b,function(e,t,n){if(null==n){(0,s.H)("Cannot find ad for x-origin event request: '".concat(t.adId,"'"));return}switch(t.action){case"assetRequest":(0,p.mo)(n,function(){return e((0,l.eK)(t,n))});break;case"allAssetRequest":(0,p.mo)(n,function(){return e((0,l.JL)(t,n))});break;default:(0,p.E$)(t,n,{resizeFn:k(t.adId,n)}),(0,p.vO)(n)}}));function k(e,t){return function(n,r){(function(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;function o(e){return e?e+"px":"100%"}["div","iframe"].forEach(function(e){var a=function(e){var r=function(e,t){return(0,s.T9)()?function(e){var t=(0,f.sE)(window.googletag.pubads().getSlots(),function(t){return(0,f.sE)(t.getTargetingKeys(),function(n){return(0,f.q9)(t.getTargeting(n),e)})});return t?t.getSlotElementId():null}(e):(0,s.X4)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(a){var u=a.style;u.width=o(r),u.height=o(i)}else(0,s.H)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))})})(h(h({},t),{},{width:n,height:r,adId:e}))}}var O=n("59233"),I=n("39724"),E=n("23549"),C=n("58512"),A=n("27862"),T=n("16438"),P=n("83384"),x=n("13722"),D=n("85865"),j="__pbjs_debugging__";function N(){return(0,a.R)().installedModules.includes("debugging")}function _(e){return new x.Z(function(t){(0,P.B)(e,D.wu,"debugging",t)})}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,n=void 0===t?N:t,r=e.script,i=void 0===r?_:r,o=null;return function(){return null==o&&(o=new x.Z(function(e,t){setTimeout(function(){if(n())e();else{var r="https://cdn.jsdelivr.net/npm/prebid.js@9.18.0/dist/debugging-standalone.js";(0,s.ji)('Debugging module not installed, loading it from "'.concat(r,'"...')),(0,a.R)()._installDebugging=!0,i(r).then(function(){(0,a.R)()._installDebugging({DEBUG_KEY:j,hook:A.z3,config:I.vc,createBid:T.m,logger:(0,s.qp)("DEBUG:")})}).then(e,t)}})})),o}}():t,r=e.hook,i=void 0===r?(0,A.v5)("requestBids"):r,o=null,u=!1;function c(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||x.Z.resolve()).then(function(){return e.apply(t,r)})}function l(){i.getHooks({hook:c}).remove(),u=!1}return{enable:function(){!u&&(o=n(),i.before(c,99),u=!0)},disable:l,reset:function(){o=null,l()}}}();U.reset;I.vc.getConfig("debugging",function(e){var t=e.debugging;null!=t&&t.enabled?U.enable():U.disable()});var R=n("68681"),M=n("66872"),Z=n("6826"),B=n("44486"),F=n("70303"),L=n("57248"),q=n("64239"),H=n("21338"),V=(0,a.R)(),z=O.k_.triggerUserSyncs,G=d.FP.ADD_AD_UNITS,K=d.FP.REQUEST_BIDS,W=d.FP.SET_TARGETING,J={bidWon:function(e){if(!E.K.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(s.xH).filter(s.tT).includes(e)){(0,s.H)('The "'+e+'" placement is not defined.');return}return!0}};!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=null;try{t=e.getItem(j)}catch(e){}null!==t&&U.enable()}}(),V.bidderSettings=V.bidderSettings||{},V.libLoaded=!0,V.version="v9.18.0",(0,s.PN)("Prebid.js v9.18.0 loaded"),V.installedModules=V.installedModules||[],V.adUnits=V.adUnits||[],V.triggerUserSyncs=z;function $(e,t){var n=[];return(0,s.kJ)(e)&&(t?e.length===t:e.length>0)&&(e.every(function(e){return(0,s.HC)(e,2)})?n=e:(0,s.HC)(e,2)&&n.push(e)),n}function Q(e,t){var n,r,i,o,a,c,l=e.ortb2Imp||{},d=e.mediaTypes||{};null!==(n=l[t])&&void 0!==n&&n.battr&&null!==(r=d[t])&&void 0!==r&&r.battr&&(null===(i=l[t])||void 0===i?void 0:i.battr)!==(null===(o=d[t])||void 0===o?void 0:o.battr)&&(0,s.yN)("Ad unit ".concat(e.code," specifies conflicting ortb2Imp.").concat(t,".battr and mediaTypes.").concat(t,".battr, the latter will be ignored"),e);var f=(null===(a=l[t])||void 0===a?void 0:a.battr)||(null===(c=d[t])||void 0===c?void 0:c.battr);null!=f&&((0,u.N)(e,"ortb2Imp.".concat(t,".battr"),f),(0,u.N)(e,"mediaTypes.".concat(t,".battr"),f))}function X(e){var t=(0,s.I8)(e),n=t.mediaTypes.banner,r=$(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):((0,s.H)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),Q(t,"banner"),t}function Y(e){var t=(0,s.I8)(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,i=$(n.playerSize,r);i.length>0?(2===r&&(0,s.PN)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=i,t.sizes=i):((0,s.H)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return(0,H.A4)(t),Q(t,"video"),t}function ee(e){function t(t){return(0,s.H)('Error in adUnit "'.concat(e.code,'": ').concat(t,". Removing native request from ad unit"),e),delete r.mediaTypes.native,r}function n(e){for(var t=0,n=["sendTargetingKeys","types"];t<n.length;t++){var r=n[t];if(i.hasOwnProperty(r)){var o=e(r);if(o)return o}}}var r=(0,s.I8)(e),i=r.mediaTypes.native;if(i.ortb){if(null!==(o=i.ortb.assets)&&void 0!==o&&o.some(function(e){return!(0,s.hj)(e.id)||e.id<0||e.id%1!=0}))return t("native asset ID must be a nonnegative integer");if(n(function(e){return t('ORTB native requests cannot specify "'.concat(e,'"'))}))return r;var o,a=Object.keys(d.FY).filter(function(e){return d.FY[e].includes("hb_native_")}),u=Object.keys(i).filter(function(e){return a.includes(e)});u.length>0&&((0,s.H)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(u," keys from request.")),u.forEach(function(e){return delete r.mediaTypes.native[e]}))}else n(function(e){return"mediaTypes.native.".concat(e," is deprecated, consider using native ORTB instead")},e);return i.image&&i.image.sizes&&!Array.isArray(i.image.sizes)&&((0,s.H)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete r.mediaTypes.native.image.sizes),i.image&&i.image.aspect_ratios&&!Array.isArray(i.image.aspect_ratios)&&((0,s.H)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete r.mediaTypes.native.image.aspect_ratios),i.icon&&i.icon.sizes&&!Array.isArray(i.icon.sizes)&&((0,s.H)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete r.mediaTypes.native.icon.sizes),Q(r,"native"),r}function et(e,t){var n=(0,c.Z)(e,"mediaTypes.".concat(t,".pos"));if(!(0,s.hj)(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,s.yN)(r),delete e.mediaTypes[t].pos}return e}function en(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||(0,s.kJ)(r)?null==r&&null==e.ortb2Imp?((0,s.H)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null!=e.ortb2Imp&&(null==r||0===r.length)&&(e.bids=[{bidder:null}],(0,s.ji)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,s.H)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,s.H)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}var er={validateAdUnit:en,validateBannerMediaType:X,validateSizes:$};Object.assign(er,{validateNativeMediaType:ee});Object.assign(er,{validateVideoMediaType:Y});var ei=(0,A.z3)("sync",function(e){var t=[];return e.forEach(function(e){if(null!=(e=en(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=X(e),o.banner.hasOwnProperty("pos")&&(n=et(n,"banner"))),o.video&&(r=n?Y(n):Y(e),o.video.hasOwnProperty("pos")&&(r=et(r,"video"))),o.native&&(i=r?ee(r):n?ee(n):ee(e));var a=Object.assign({},n,r,i);t.push(a)}}),t},"checkAdUnitSetup");function eo(e){var t=E.K[e]().filter(function(e){return E.K.getAdUnitCodes().includes(e.adUnitCode)}),n=E.K.getLastAuctionId();return t.map(function(e){return e.adUnitCode}).filter(s.tT).map(function(e){return t.filter(function(t){return t.auctionId===n&&t.adUnitCode===e})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return(0,o.Z)({},e[0].adUnitCode,{bids:e})}).reduce(function(e,t){return Object.assign(e,t)},{})}V.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,s.PN)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=V.getAdserverTargetingForAdUnitCode(e);return(0,s.Ob)(t)}(0,s.ji)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},V.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=E.K.getAllBidsForAdUnitCode(e).filter(C.TL);return t.length?t.reduce(q.ZH):{}}(0,s.ji)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},V.getAdserverTargetingForAdUnitCode=function(e){return V.getAdserverTargeting(e)[e]},V.getAdserverTargeting=function(e){return(0,s.PN)("Invoking pbjs.getAdserverTargeting",arguments),C.q0.getAllTargeting(e)},V.getConsentMetadata=function(){return(0,s.PN)("Invoking pbjs.getConsentMetadata"),L.NO.getConsentMeta()},V.getNoBids=function(){return(0,s.PN)("Invoking pbjs.getNoBids",arguments),eo("getNoBids")},V.getNoBidsForAdUnitCode=function(e){return{bids:E.K.getNoBids().filter(function(t){return t.adUnitCode===e})}},V.getBidResponses=function(){return(0,s.PN)("Invoking pbjs.getBidResponses",arguments),eo("getBidsReceived")},V.getBidResponsesForAdUnitCode=function(e){return{bids:E.K.getBidsReceived().filter(function(t){return t.adUnitCode===e})}},V.setTargetingForGPTAsync=function(e,t){if((0,s.PN)("Invoking pbjs.setTargetingForGPTAsync",arguments),!(0,s.T9)()){(0,s.H)("window.googletag is not defined on the page");return}C.q0.setTargetingForGPT(e,t)},V.setTargetingForAst=function(e){if((0,s.PN)("Invoking pbjs.setTargetingForAn",arguments),!C.q0.isApntagDefined()){(0,s.H)("window.apntag is not defined on the page");return}C.q0.setTargetingForAst(e),Z.j8(W,C.q0.getAllTargeting())},V.renderAd=(0,A.z3)("async",function(e,t,n){(0,s.PN)("Invoking pbjs.renderAd",arguments),(0,s.ji)("Calling renderAd with adId :"+t),(0,p.tV)(e,t,n)}),V.removeAdUnit=function(e){var t;if((0,s.PN)("Invoking pbjs.removeAdUnit",arguments),!e){V.adUnits=[];return}(t=(0,s.kJ)(e)?e:[e]).forEach(function(e){for(var t=V.adUnits.length-1;t>=0;t--)V.adUnits[t].code===e&&V.adUnits.splice(t,1)})},V.requestBids=(r=(0,A.z3)("async",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,o=e.adUnitCodes,a=e.labels,u=e.auctionId,c=e.ttlBuffer,l=e.ortb2,d=e.metrics,p=e.defer;Z.j8(K);var g=n||I.vc.getConfig("bidderTimeout");(0,s.PN)("Invoking pbjs.requestBids",arguments),null!=o&&!Array.isArray(o)&&(o=[o]),o&&o.length?r=r.filter(function(e){return(0,f.q9)(o,e.code)}):o=r&&r.map(function(e){return e.code}),o=o.filter(s.tT);var v={global:(0,s.Ee)({},I.vc.getAnyConfig("ortb2")||{},l||{}),bidder:Object.fromEntries(Object.entries(I.vc.getBidderConfig()).map(function(e){var t=(0,i.Z)(e,2);return[t[0],t[1].ortb2]}).filter(function(e){var t=(0,i.Z)(e,2);return null!=(t[0],t[1])}))};return(0,F.S)(x.Z.resolve(v.global)).then(function(e){return v.global=e,ea({bidsBackHandler:t,timeout:g,adUnits:r,adUnitCodes:o,labels:a,auctionId:u,ttlBuffer:c,ortb2Fragments:v,metrics:d,defer:p})})},"requestBids"),(0,A.IF)(r,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||V.adUnits;return e.adUnits=(0,s.kJ)(t)?t.slice():[t],e.metrics=(0,B.V6)(),e.metrics.checkpoint("requestBids"),e.defer=(0,x.P)({promiseFactory:function(e){return new Promise(e)}}),r.call(this,e),e.defer.promise}));var ea=(0,A.z3)("async",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.ttlBuffer,o=e.adUnitCodes,a=e.labels,c=e.auctionId,l=e.ortb2Fragments,d=e.metrics,p=e.defer,g=(0,M.uV)(I.vc.getConfig("s2sConfig")||[]);function v(e,n,r){if("function"==typeof t)try{t(e,n,r)}catch(e){(0,s.H)("Error executing bidsBackHandler",null,e)}p.resolve({bids:e,timedOut:n,auctionId:r})}!function(e){e.forEach(function(e){return(0,H.cx)(e)})}(r),r=(0,B.Bf)(d).measureTime("requestBids.validate",function(){return ei(r)});var h={};if(r.forEach(function(e){var t,n=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map(function(e){return e.bidder}),o=M.ZP.bidderRegistry,a=r.filter(function(e){return!g.has(e)});e.adUnitId=(0,s.DO)();var u=null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid;u&&(h.hasOwnProperty(e.code)?(0,s.yN)("Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '".concat(e.code,"'")):h[e.code]=u),null!=i&&!e.hasOwnProperty("ttlBuffer")&&(e.ttlBuffer=i),a.forEach(function(t){var r=o[t],i=r&&r.getSpec&&r.getSpec(),a=i&&i.supportedMediaTypes||["banner"];!n.some(function(e){return(0,f.q9)(a,e)})&&((0,s.yN)((0,s.or)(e,t)),e.bids=e.bids.filter(function(e){return e.bidder!==t}))})}),r&&0!==r.length){r.forEach(function(e){var t,n=(null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid)||h[e.code]||(0,s.DO)();!h.hasOwnProperty(e.code)&&(h[e.code]=n),e.transactionId=n,(0,u.N)(e,"ortb2Imp.ext.tid",n)});var m=E.K.createAuction({adUnits:r,adUnitCodes:o,callback:v,cbTimeout:n,labels:a,auctionId:c,ortb2Fragments:l,metrics:d}),y=r.length;y>15&&(0,s.PN)("Current auction ".concat(m.getAuctionId()," contains ").concat(y," adUnits."),r),o.forEach(function(e){return C.q0.setLatestAuctionForAdUnit(e,m.getAuctionId())}),m.callBids()}else(0,s.ji)("No adUnits configured. No bids requested."),v()},"startAuction");V.requestBids.before(function(e,t){function n(e){for(var t;t=e.shift();)t()}n(R.Ld),n(es),e.call(this,t)},49),V.addAdUnits=function(e){(0,s.PN)("Invoking pbjs.addAdUnits",arguments),V.adUnits.push.apply(V.adUnits,(0,s.kJ)(e)?e:[e]),Z.j8(G)},V.onEvent=function(e,t,n){if((0,s.PN)("Invoking pbjs.onEvent",arguments),!(0,s.LQ)(t)){(0,s.H)('The event handler provided is not a function and was not set on event "'+e+'".');return}if(n&&!J[e].call(null,n)){(0,s.H)('The id provided is not valid for event "'+e+'" and no handler was set.');return}Z.on(e,t,n)},V.offEvent=function(e,t,n){if((0,s.PN)("Invoking pbjs.offEvent",arguments),!n||!!J[e].call(null,n))Z.S1(e,t,n)},V.getEvents=function(){return(0,s.PN)("Invoking pbjs.getEvents"),Z.vw()},V.registerBidAdapter=function(e,t){(0,s.PN)("Invoking pbjs.registerBidAdapter",arguments);try{M.ZP.registerBidAdapter(e(),t)}catch(e){(0,s.H)("Error registering bidder adapter : "+e.message)}},V.registerAnalyticsAdapter=function(e){(0,s.PN)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{M.ZP.registerAnalyticsAdapter(e)}catch(e){(0,s.H)("Error registering analytics adapter : "+e.message)}},V.createBid=function(e){return(0,s.PN)("Invoking pbjs.createBid",arguments),(0,T.m)(e)};var es=[],eu=(0,A.z3)("async",function(e){e&&!(0,s.xb)(e)?((0,s.PN)("Invoking pbjs.enableAnalytics for: ",e),M.ZP.enableAnalytics(e)):(0,s.H)("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");V.enableAnalytics=function(e){es.push(eu.bind(this,e))},V.aliasBidder=function(e,t,n){(0,s.PN)("Invoking pbjs.aliasBidder",arguments),e&&t?M.ZP.aliasBidAdapter(e,t,n):(0,s.H)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},V.aliasRegistry=M.ZP.aliasRegistry,I.vc.getConfig("aliasRegistry",function(e){"private"===e.aliasRegistry&&delete V.aliasRegistry}),V.getAllWinningBids=function(){return E.K.getAllWinningBids()},V.getAllPrebidWinningBids=function(){return E.K.getBidsReceived().filter(function(e){return e.status===d.UE.BID_TARGETING_SET})},V.getHighestCpmBids=function(e){return C.q0.getWinningBids(e)},V.clearAllAuctions=function(){E.K.clearAllAuctions()};function ec(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,s.H)("Error processing command :","prebid.js",e)}})}V.markWinningBidAsUsed=function(e){var t,n=e.adId,r=e.adUnitCode;r&&null==n?t=C.q0.getWinningBids(r):n?t=E.K.getBidsReceived().filter(function(e){return e.adId===n}):(0,s.yN)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(E.K.addWinningBid(t[0]),(0,p.lL)(t[0]))},V.getConfig=I.vc.getAnyConfig,V.readConfig=I.vc.readAnyConfig,V.mergeConfig=I.vc.mergeConfig,V.mergeBidderConfig=I.vc.mergeBidderConfig,V.setConfig=I.vc.setConfig,V.setBidderConfig=I.vc.setBidderConfig,V.que.push(function(){window.addEventListener("message",function(e){(function(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId&&n.message&&S.hasOwnProperty(n.message))(0,p.YC)(n.adId,n.message===d.X3.REQUEST).then(function(t){var r,i,o;S[n.message]((i=n.adId,o=null==(r=e).origin&&0===r.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,s.H)(e),Error(e)}:r.ports.length>0?function(e){r.ports[0].postMessage(JSON.stringify(e))}:function(e){r.source.postMessage(JSON.stringify(e),r.origin)},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,[Object.assign({},e,{adId:i})].concat(n))}),n,t)})})(e)},!1)}),V.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,s.H)("Error processing command :",e.message,e.stack)}else(0,s.H)("Commands written into pbjs.cmd.push must be wrapped in a function")},V.que.push=V.cmd.push,V.processQueue=function(){(0,p.nI)(),A.z3.ready(),ec(V.que),ec(V.cmd)},V.triggerBilling=function(e){var t=e.adId,n=e.adUnitCode;E.K.getAllWinningBids().filter(function(e){return e.adId===t||null==t&&e.adUnitCode===n}).forEach(function(e){M.ZP.triggerBilling(e),(0,p.Xd)(e)})};let el=V},58512:function(e,t,n){"use strict";n.d(t,{TL:function(){return E},q0:function(){return P}});var r=n(4511),i=n(36621),o=n(60340),a=n(23549),s=n(12976),u=n(77062),c=n(39724),l=n(31144),d=n(6826),f=n(27862),p=n(5850),g=n(74807),v=n(31232),h=n(12827),m=n(92618),y=n(64239),b=[],w="targetingControls.allowTargetingKeys",S="targetingControls.addTargetingKeys",k='Only one of "'.concat(w,'" or "').concat(S,'" can be set'),O=Object.keys(l.TD).map(function(e){return l.TD[e]}),I={isActualBid:function(e){return e.getStatusCode()===l.Q_.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(0,s.N)(e)>(0,h.AB)()},isUnusedBid:function(e){return e&&(e.status&&!(0,v.q9)([l.UE.RENDERED],e.status)||!e.status)}};function E(e){return!Object.values(I).some(function(t){return!t(e)})}var C=(0,f.z3)("sync",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.v6;if(!r){var a=[],s=c.vc.getConfig("sendBidsControl.dealPrioritization"),u=(0,h.vM)(e,"adUnitCode");return Object.keys(u).forEach(function(e){var r=[],c=(0,h.vM)(u[e],"bidderCode");Object.keys(c).forEach(function(e){r.push(c[e].reduce(t))}),n?(r=s?r.sort(A(!0)):r.sort(function(e,t){return t.cpm-e.cpm}),a.push.apply(a,(0,o.Z)(r.slice(0,n)))):(r=r.sort(i),a.push.apply(a,(0,o.Z)(r)))}),a}return e});function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return window.googletag.pubads().getSlots()};return n().reduce(function(e,n){var r=(0,h.LQ)(t)&&t(n);return Object.keys(e).filter((0,h.LQ)(r)?r:(0,h.zV)(n)).forEach(function(t){return e[t].push(n)}),e},Object.fromEntries(e.map(function(e){return[e,[]]})))}var P=function(e){var t={},n={};t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(e,t){(0,h.T9)()&&Object.values(T(a(e),t)).forEach(function(e){e.forEach(function(e){var t;t=e,b.forEach(function(e){t.getTargeting(e)&&t.clearTargeting(e)})})})},t.resetPresetTargetingAST=function(e){a(e).forEach(function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach(function(e){!(0,v.q9)(b,e.toLowerCase())&&(r[e]=t.keywords[e])}),window.apntag.modifyTag(e,{keywords:r})}})};t.getAllTargeting=function(t,n,r){var d,f,p,E,T,P,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.ZH,D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.v6;r||(r=s(x,D));var j=a(t),N=c.vc.getConfig("enableSendAllBids"),_=c.vc.getConfig("sendBidsControl.bidLimit"),U=function(e,t){var n=[],r={},i=c.vc.getConfig("targetingControls.alwaysIncludeDeals");return t.forEach(function(t){var o=(0,v.q9)(e,t.adUnitCode),a=!0===u.S.get(t.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0,s=i&&t.dealId;o&&(s||a)&&(n.push(t),Object.keys(t.adserverTargeting).filter(function(){var e=I();return e=e.concat(g.xc),function(t){return -1===e.indexOf(t)}}()).forEach(function(e){var n=e.substring(0,20),i=r[t.adUnitCode]||{},o=[t.adserverTargeting[e]];i[n]?i[n]=i[n].concat(o).filter(h.tT):i[n]=o,r[t.adUnitCode]=i}))}),{filteredBids:n,customKeysByUnit:r}}(j,r),R=U.customKeysByUnit,M=function(t,n){var r,a,s=(function(e){var t=[],n=e.reduce(function(e,n){return!(0,v.q9)(t,n.adUnitCode)&&(e.push(n),t.push(n.adUnitCode)),e},[]),r=I();return n=n.map(function(e){return(0,i.Z)({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===r.indexOf(t)}).reduce(function(t,n){var r=[e.adserverTargeting[n]],a=(0,i.Z)({},n.substring(0,20),r);if(n===l.TD.DEAL){var s="".concat(n,"_").concat(e.bidderCode).substring(0,20),u=(0,i.Z)({},s,r);return[].concat((0,o.Z)(t),[a,u])}return[].concat((0,o.Z)(t),[a])},[]))})})(t).concat(function(e,t){return e.reduce(function(e,n){var r=Object.assign({},n),o=t[r.adUnitCode],a=[];return o&&Object.keys(o).forEach(function(e){e&&o[e]&&a.push((0,i.Z)({},e,o[e]))}),e.push((0,i.Z)({},r.adUnitCode,a)),e},[])}(t,n)).concat((r=t,a=c.vc.getConfig("targetingControls.alwaysIncludeDeals"),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return[];var r=O.concat(g.xc),o=c.vc.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),a=o?o.map(function(e){return l.TD[e]}):r;return e.reduce(function(e,t){if(!n||t.dealId){var o=function(e,t){return t.reduce(function(t,n){return e.adserverTargeting[n]&&t.push((0,i.Z)({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[n]])),t},[])}(t,r.filter(function(e){return void 0!==t.adserverTargeting[e]&&(n||-1!==a.indexOf(e))}));o&&e.push((0,i.Z)({},t.adUnitCode,o))}return e},[])}(r,c.vc.getConfig("enableSendAllBids")||a,a))).concat(function(){function t(e){return(0,m.Z)(e,l.k2.ADSERVER_TARGETING)}return e.getAdUnits().filter(function(e){return t(e)}).reduce(function(e,n){var r,o=Object.keys(r=t(n)).map(function(e){return(0,h.d8)(r[e])&&(r[e]=r[e].split(",").map(function(e){return e.trim()})),!(0,h.kJ)(r[e])&&(r[e]=[r[e]]),(0,i.Z)({},e,r[e])});return o&&e.push((0,i.Z)({},n.code,o)),e},[])}());return s.forEach(function(e){!function(e){Object.keys(e).forEach(function(t){e[t].forEach(function(e){var t=Object.keys(e);-1===b.indexOf(t[0])&&(b=t.concat(b))})})}(e)}),s}(C(U.filteredBids,x,N&&(n||_)||0,void 0,D),R),Z=Object.keys(Object.assign({},l.kF,l.FY)),B=c.vc.getConfig(w),F=c.vc.getConfig(S);if(null!=F&&null!=B)throw Error(k);B=null!=F?Z.concat(F):B||Z;if(Array.isArray(B)&&B.length>0){;d=M,f=B,E=Object.keys(p=Object.assign({},l.TD,l.FY)),T={},(0,h.PN)("allowTargetingKeys - allowed keys [ ".concat(f.map(function(e){return p[e]}).join(", ")," ]")),d.map(function(e){var t=Object.keys(e)[0],n=e[t].filter(function(e){var t=Object.keys(e)[0],n=0===E.filter(function(e){return 0===t.indexOf(p[e])}).length||(0,v.sE)(f,function(e){var n=p[e];return 0===t.indexOf(n)});return T[t]=!n,n});e[t]=n}),P=Object.keys(T).filter(function(e){return T[e]}),(0,h.PN)("allowTargetingKeys - removed keys [ ".concat(P.join(", ")," ]")),M=d.filter(function(e){var t=Object.keys(e)[0];return e[t].length>0})}M=function(e){var t=e.map(function(e){return(0,i.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return(0,i.Z)({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))}).reduce(function(e,t){return Object.assign(t,e)},{}))});return t=t.reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e},{})}(M);var L=c.vc.getConfig("targetingControls.auctionKeyMaxChars");return L&&((0,h.PN)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(L," characters.  Running checks on auction keys...")),M=function(e,t){var n=(0,h.I8)(e);return Object.keys(n).map(function(e){return{adUnitCode:e,adserverTargeting:n[e]}}).sort(A()).reduce(function(e,r,i,o){var a,s=Object.keys(a=r.adserverTargeting).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")},"");i+1===o.length&&(s=s.slice(0,-3));var u=r.adUnitCode,c=s.length;return c<=t?(t-=c,(0,h.PN)("AdUnit '".concat(u,"' auction keys comprised of ").concat(c," characters.  Deducted from running threshold; new limit is ").concat(t),n[u]),e[u]=n[u]):(0,h.yN)("The following keys for adUnitCode '".concat(u,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(c,", the current allotted amount was ").concat(t,".\n"),n[u]),i+1===o.length&&0===Object.keys(e).length&&(0,h.H)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})}(M,L)),j.forEach(function(e){!M[e]&&(M[e]={})}),M};c.vc.getConfig("targetingControls",function(e){null!=(0,m.Z)(e,w)&&null!=(0,m.Z)(e,S)&&(0,h.H)(k)});function a(t){return"string"==typeof t?[t]:(0,h.kJ)(t)?t:e.getAdUnitCodes()||[]}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.K$,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return C(e.getBidsReceived().reduce(function(e,t){var r=c.vc.getConfig("useBidCache"),i=c.vc.getConfig("bidCacheFilterFunction"),o=n[t.adUnitCode]===t.auctionId,a=!r||!!o||"function"!=typeof i||!!i(t);return(r||o)&&a&&(0,m.Z)(t,"video.context")!==p.Oh&&E(t)&&(t.latestTargetedAuctionId=n[t.adUnitCode],e.push(t)),e},[]),t,void 0,void 0,void 0,r)}t.setTargetingForGPT=(0,f.z3)("sync",function(n,i){var o=t.getAllTargeting(n),a=Object.fromEntries(b.map(function(e){return[e,null]}));Object.entries(T(Object.keys(o),i)).forEach(function(e){var t=(0,r.Z)(e,2),n=t[0];t[1].forEach(function(e){Object.keys(o[n]).forEach(function(e){var t=o[n][e];"string"==typeof t&&-1!==t.indexOf(",")&&(t=t.split(",")),o[n][e]=t}),(0,h.ji)("Attempting to set targeting-map for slot: ".concat(e.getSlotElementId()," with targeting-map:"),o[n]),e.updateTargetingFromMap(Object.assign({},a,o[n]))})}),Object.keys(o).forEach(function(t){Object.keys(o[t]).forEach(function(n){"hb_adid"===n&&e.setStatusForBids(o[t][n],l.UE.BID_TARGETING_SET)})}),t.targetingDone(o),d.j8(l.FP.SET_TARGETING,o)},"setTargetingForGPT"),t.targetingDone=(0,f.z3)("sync",function(e){return e},"targetingDone"),t.getWinningBids=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.ZH,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.v6,i=[],o=t||s(n,r),l=a(e);return o.reduce(function(e,t){var n=t.adUnitCode,r=!0===u.S.get(n,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0,o=c.vc.getConfig("targetingControls.alwaysIncludeDeals")&&t.dealId;return(0,v.q9)(l,n)&&!(0,v.q9)(i,n)&&(o||r)&&(e.push(t),i.push(n)),e},[])},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,h.H)("unable to reset targeting for AST"+e)}Object.keys(n).forEach(function(e){return Object.keys(n[e]).forEach(function(t){if((0,h.ji)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),(0,h.d8)(n[e][t])||(0,h.kJ)(n[e][t])){var r={};0>t.search(/pt[0-9]/)?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}})})};function I(){return e.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(O).filter(h.tT)}return t.isApntagDefined=function(){if(window.apntag&&(0,h.LQ)(window.apntag.setKeywords))return!0},t}(a.K)},64239:function(e,t,n){"use strict";function r(e,t){return e===t?0:e<t?-1:1}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,n){return r(e(t),e(n))}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return function(t,n){return-e(t,n)||0}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;r<t.length;r++){var i=(0,t[r])(e,n);if(0!==i)return i}return 0}}n.d(t,{K$:function(){return d},ZH:function(){return l}});function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return function(t,n){return 0>e(n,t)?n:t}}(o(e))}var u=i(function(e){return e.cpm}),c=i(function(e){return e.responseTimestamp}),l=s(a(u,o(i(function(e){return e.timeToRespond})))),d=s(a(u,o(c)));s(a(u,c))},60967:function(e,t,n){var r=n(58639).default;function i(){"use strict";e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,n){return e[t]=n}}function p(e,n,r,i){var o=Object.create((n&&n.prototype instanceof b?n:b).prototype);return s(o,"_invoke",{value:function(e,n,r){var i=v;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=function e(n,r){var i=r.method,o=n.iterator[i];if(o===t)return r.delegate=null,"throw"===i&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==i&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+i+"' method")),y;var a=g(o,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,y)}(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=g(e,n,r);if("normal"===c.type){if(i=r.done?m:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}(e,r,new x(i||[]))}),o}function g(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var v="suspendedStart",h="executing",m="completed",y={};function b(){}function w(){}function S(){}var k={};f(k,c,function(){return this});var O=Object.getPrototypeOf,I=O&&O(O(D([])));I&&I!==o&&a.call(I,c)&&(k=I);var E=S.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function A(e,t){var n;s(this,"_invoke",{value:function(i,o){function s(){return new t(function(n,s){!function n(i,o,s,u){var c=g(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,u)},function(e){n("throw",e,s,u)}):t.resolve(d).then(function(e){l.value=e,s(l)},function(e){return n("throw",e,s,u)})}u(c.arg)}(i,o,n,s)})}return n=n?n.then(s,s):s()}})}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(a.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw TypeError(r(e)+" is not iterable")}return w.prototype=S,s(E,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:w,configurable:!0}),w.displayName=f(S,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,f(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},C(A.prototype),f(A.prototype,l,function(){return this}),n.AsyncIterator=A,n.async=function(e,t,r,i,o){void 0===o&&(o=Promise);var a=new A(p(e,t,r,i),o);return n.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},C(E),f(E,d,"Generator"),f(E,c,function(){return this}),f(E,"toString",function(){return"[object Generator]"}),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},58639:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},42992:function(e,t,n){var r=n(60967)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},90895:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})},47068:function(e,t,n){"use strict";n.d(t,{Z:()=>r});function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},67007:function(e,t,n){"use strict";function r(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,s=e;o<a&&"__proto__"!=(i=""+t[o++])&&"constructor"!==i&&"prototype"!==i;){;s=s[i]=o===a?n:typeof(r=s[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}}n.d(t,{N:function(){return r}})}}]);
//# sourceMappingURL=7039.c6a60ee1f7cdb2bf.js.map</script>
</body>
</html>
