<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlibs_ga.min.html</title>
</head>
<body>

<script>
var t=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,g){e.__proto__=g}||function(e,g){for(var h in g)g.hasOwnProperty(h)&&(e[h]=g[h])};return function(k,g){function h(){this.constructor=k}e(k,g);k.prototype=null===g?Object.create(g):(h.prototype=g.prototype,new h)}}();window.PS=window.PS||{};window.PS.util=window.PS.util||{};
(function(e){function k(){var f=document.querySelectorAll('[href*\x3d"/application-form"], [href*\x3d"/investments/create-account"], [href\x3d"/au/create-account"], [href\x3d"/sg/myinfo"]');f.length&&f.forEach(function(d){d.addEventListener("click",function(){(new e.GAtracking.LiveAccountStartEvent).setEvent(d)})})}var g=function(){var f=function(){function d(){}d.prototype.setEvent=function(c){c&&(c=this.getEvent(c))&&(window.location!==window.parent.location?(c.is_datalayer_event=!0,c.iframe_location=
window.location,c=JSON.parse(JSON.stringify(c)),window.parent.postMessage(c,"*")):window.dataLayer.push(c))};d.prototype.getEvent=function(c){};return d}();e.GAtracking=f;return e.GAtracking}();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="online_course_completed",a.event_category="IG Academy",a.event_action="Course completed",a.event_label=b.quiz_result,a.interaction_type=
"Course completed",a.interaction_value=b.quiz_result,a.course_title=b.course_title,a.course_level=b.course_level,a.course_lessons=b.course_lessons,a.course_time=b.course_duration+" mins",a};return c}(g);e.GAtracking.AcademyCourseCompletionEvent=f;return e.GAtracking.AcademyCourseCompletionEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="online_course_interaction",
a.event_category="IG Academy",a.event_action="Online Course - Open",a.event_label=b[0].course_title,a.event_value=void 0,a.course_title=b[0].course_title,a.course_level=b[0].course_level,a.course_lessons=b[0].course_lessons,a.course_time=b[0].course_time,a.interaction_type="Open",a};return c}(g);e.GAtracking.AcademyCourseOpenEvent=f;return e.GAtracking.AcademyCourseOpenEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=
function(b){var a;if(b)return a={},a.event="course_start",a.event_category="IG Academy",a.event_action="Online Course - Start",a.event_label=b[0].course_title,a.event_value=void 0,a.course_title=b[0].course_title,a.course_level=b[0].course_level,a.course_lessons=b[0].course_lessons,a.course_time=b[0].course_time+" mins",a};return c}(g);e.GAtracking.academyCourseStartEvent=f;return e.GAtracking.academyCourseStartEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);
return b}t(c,d);c.prototype.getEvent=function(b){var a,c;if(b){var d=b.filterLevel;b=b.filterCategory;var e=(a={},a.event="online_course_interaction",a.event_category="IG Academy",a.event_action="Online Course Filter - Level",a.event_label=d,a.event_value=void 0,a.filter_type="Level",a.filter_value=d,a.interaction_type="filter",a.interaction_value=void 0,a);a=(c={},c.event="webinar_library_interaction",c.event_category="IG Academy",c.event_action="Webinar Playlist Filter - Level",c.event_label=d,
c.event_value=void 0,c.filter_type="Level",c.filter_value=d,c.interaction_type="filter",c);return"course-list-filters"===b?e:a}};return c}(g);e.GAtracking.AcademyFilterEvent=f;return e.GAtracking.AcademyFilterEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="webinar_library_interaction",a.event_category="IG Academy",a.event_action="Webinar Library - Open",a.event_label=
b[0].webinar_title,a.event_value=void 0,a.webinar_title=b[0].webinar_title,a.webinar_duration=b[0].webinar_duration,a.interaction_type="Open",a};return c}(g);e.GAtracking.openRecordedWebinarEvent=f;return e.GAtracking.openRecordedWebinarEvent})();(function(){var f=function(d){function c(b){var a=d.call(this)||this;d.prototype.setEvent.call(a);a.errorObj=b;a.errorFrields=b.fields;return a}t(c,d);c.prototype.getEvent=function(b){var a;if(b&&"tradingAcademy"===b.querySelector("[name\x3d'appName']").value){b=
this.errorObj.error;var c=this.errorFrields.join(", ");return a={},a.event="academy_signup_error",a.error=b,a.event_category="IG Academy",a.event_action="Validation Error",a.event_label=c,a.event_value=void 0,a.field_name=c,a}};return c}(g);e.GAtracking.AcademySignupErrorEvent=f;return e.GAtracking.AcademySignupErrorEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event=
"academy_signup",a.event_category="IG Academy",a.event_action="Signup",a.academy_signups=1,a};return c}(g);e.GAtracking.AcademySignupEvent=f;return e.GAtracking.AcademySignupEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b){var c=b.webinar_interaction_type,d=b.webinar_title,e=b.webinar_duration;b=b.webinar_tags;return a={},a.event="webinar_library_playback",a.event_category="IG Academy",
a.event_action="Webinar Library - "+d,a.event_label=c,a.event_value=void 0,a.webinar_title=d,a.webinar_duration=e,a.webinar_tags=b.toString(),a.interaction_type=c,a}};return c}(g);e.GAtracking.WebinarLibraryPlaybackEvent=f;return e.GAtracking.WebinarLibraryPlaybackEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="webinar_interaction",a.event_category="IG Academy",
a.event_action="Webinar - Open",a.event_label=b[0].webinar_title,a.event_value=void 0,a.webinar_date=b[0].webinar_date,a.webinar_time=b[0].webinar_time,a.webinar_title=b[0].webinar_title,a.webinar_duration=b[0].webinar_duration+"m",a.interaction_type="Open",a.interaction_value=void 0,a};return c}(g);e.GAtracking.AcademyWebinarOpenEvent=f;return e.GAtracking.AcademyWebinarOpenEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);
c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="webinar_registration",a.event_category="IG Academy",a.event_action="webinar registration",a.event_label=b[0].webinar_title,a.event_value=void 0,a.webinar_date=b[0].webinar_date,a.webinar_time=b[0].webinar_time,a.webinar_title=b[0].webinar_title,a.webinar_duration=b[0].webinar_duration+"m",a};return c}(g);e.GAtracking.WebinarRegistrationEvent=f;return e.GAtracking.WebinarRegistrationEvent})();(function(){var f=function(d){function c(b){var a=
d.call(this)||this;d.prototype.setEvent.call(a);a.errorObj=b;return a}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="brochure_error",a.error=this.errorObj.error,a.event_category="IG Institutional",a.event_action="Brochure Request Error",a.event_label=this.errorObj.error+" - "+this.errorObj.fields.join(", "),a.event_value=void 0,a.field_name=this.errorObj.fields.join(", "),a};return c}(g);e.GAtracking.BrochureErrorEvent=f;return e.GAtracking.BrochureErrorEvent})();(function(){var f=
function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="brochure_request",a.event_category="IG Institutional",a.event_action="Brochure Request",a.brochure_requested=1,a};return c}(g);e.GAtracking.BrochureRequestEvent=f;return e.GAtracking.BrochureRequestEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=
function(b){var a;return a={},a.event="change_tab",a.event_category="change tab",a.event_action="To: "+b.selectedTab.textContent,a.event_label="From: "+b.previouslySelectedTab.textContent,a.event_value=void 0,a.interaction_type="To: "+b.selectedTab.textContent,a.interaction_value="From: "+b.previouslySelectedTab.textContent,a};return c}(g);e.GAtracking.ChangeTabEvent=f;return e.GAtracking.ChangeTabEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);
return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b){var c=b.ctaInteractionType;b=b.ctaInteractionValue;return a={},a.event="cta_interaction",a.event_category="cta_interaction",a.event_action=c,a.event_label=b,a.event_value=void 0,a.interaction_type=c,a.interaction_value=b,a}};return c}(g);e.GAtracking.CtaInteractionEvent=f;return e.GAtracking.CtaInteractionEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=
function(b){var a;if(b)return b+="%",a={},a.event="custom_scroll",a.event_category="Scroll Tracking",a.event_action=b,a.event_value=void 0,a.depth=b,a};return c}(g);e.GAtracking.CustomScrollEvent=f;return e.GAtracking.CustomScrollEvent})();(function(){var f=function(d){function c(b){var a=d.call(this)||this;d.prototype.setEvent.call(a);a.errorObj=b;a.errorFrields=b.fields;return a}t(c,d);c.prototype.getEvent=function(b){var a;if(b&&"demo-account"===b.dataset.typeform){b=this.errorObj.error;var c=
this.errorFrields.join(", ");return a={},a.event="demo_account_interaction",a.error=b,a.event_category="IG Demo Account",a.event_action="Validation Error",a.event_label=b,a.event_value=void 0,a.is_validation_error=1,a.is_form_opening=void 0,a.interaction_type="Validation Error",a.field_name=c,a}};return c}(g);e.GAtracking.DemoAccountErrorEvent=f;return e.GAtracking.DemoAccountErrorEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,
d);c.prototype.getEvent=function(b){var a;if(b&&"demo-account"===b.dataset.typeform)return a={},a.event="demo_account_signup",a.event_category="IG Demo Account",a.event_action="Signup",a.event_value=void 0,a.demo_applications_completed=1,a};return c}(g);e.GAtracking.DemoAccountSignUpEvent=f;return e.GAtracking.DemoAccountSignUpEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b&&"demo-account"===
b.dataset.typeform)return a={},a.event="demo_account_interaction",a.error=void 0,a.event_category="IG Demo Account",a.event_action="Start Application",a.event_label=void 0,a.event_value=void 0,a.is_validation_error=0,a.is_form_opening=void 0,a.interaction_type="Start Application",a.field_name=void 0,a};return c}(g);e.GAtracking.DemoAccountStartApplicationEvent=f;return e.GAtracking.DemoAccountStartApplicationEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);
return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b){var c=JSON.parse(e.util.Cookie.get("ga.tradingGuide"));b=b.closest(".grid").querySelector(".heading");b=c?c.guideTitle:b?b.textContent:void 0;return a={},a.event="guide_download",a.event_category="guides",a.event_action="download",a.event_value=void 0,a.guide_title=b,a.marketing_preference=c?c.marketingPreference:void 0,a}};return c}(g);e.GAtracking.guideDownloadEvent=f;return e.GAtracking.guideDownloadEvent})();(function(){var f=function(d){function c(){var b=
d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="guide_interaction",a.event_category="guides",a.event_action="API Error",a.event_value=void 0,a.interaction_type="API Error",a.interaction_value=e.GAtracking.guides.getGuideTitle(b),a.guide_title=e.GAtracking.guides.getGuideTitle(b),a.field_name=void 0,a};return c}(g);e.GAtracking.guideInteractionFailureEvent=f;return e.GAtracking.guideInteractionFailureEvent})();(function(){var f=
function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEventAction=function(b){return b.closest(".overlay").classList.contains("overlay--active")?"open":"close"};c.prototype.getEvent=function(b){var a;if(b)return b.querySelector("form").classList.add("ga--guide-interaction-open"),a={},a.event="guide_interaction",a.event_category="guides",a.event_action=this.getEventAction(b),a.event_value=void 0,a.interaction_type=this.getEventAction(b),a.interaction_value=
e.GAtracking.guides.getGuideTitle(b),a.guide_title=e.GAtracking.guides.getGuideTitle(b),a.field_name=void 0,a};return c}(g);e.GAtracking.guideInteractionModalEvent=f;return e.GAtracking.guideInteractionModalEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b&&!b.classList.contains("ga--guide-interaction-open"))return b.classList.add("ga--guide-interaction-open"),a={},a.event="guide_interaction",
a.event_category="guides",a.event_action="open",a.event_value=void 0,a.interaction_type="open",a.interaction_value=e.GAtracking.guides.getGuideTitle(b),a.guide_title=e.GAtracking.guides.getGuideTitle(b),a.field_name=void 0,a};return c}(g);e.GAtracking.guideInteractionOpenEvent=f;return e.GAtracking.guideInteractionOpenEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b){var c=b.querySelector("input[name\x3dmarketingPreferencesOptIn]")||
b.querySelector("input[name\x3dmarketingEmailOptOut]");e.util.Cookie.set("ga.tradingGuide",JSON.stringify({guideTitle:e.GAtracking.guides.getGuideTitle(b),marketingPreference:c?c.checked:!1}));return a={},a.event="guide_interaction",a.event_category="guides",a.event_action="success",a.event_value=void 0,a.interaction_type="success",a.interaction_value=e.GAtracking.guides.getGuideTitle(b),a.guide_title=e.GAtracking.guides.getGuideTitle(b),a.field_name=void 0,a}};return c}(g);e.GAtracking.guideInteractionSuccessEvent=
f;return e.GAtracking.guideInteractionSuccessEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="guide_interaction",a.event_category="guides",a.event_action="Validation Error",a.event_label=e.GAtracking.guides.errorLabelList(b),a.event_value=void 0,a.interaction_type="Validation Error",a.interaction_value=void 0,a.guide_title=e.GAtracking.guides.getGuideTitle(b),
a.guide_category=void 0,a.field_name=e.GAtracking.guides.errorLabelList(b),a};return c}(g);e.GAtracking.guideInteractionValidateEvent=f;return e.GAtracking.guideInteractionValidateEvent})();(function(){var f=function(d){function c(b,a){var c=d.call(this)||this;d.prototype.setEvent.call(c);c.eventAction=b;c.errorObj=a;return c}t(c,d);c.prototype.getEvent=function(b){var a;if(b){b=b.querySelector(".sourceField[name\x3dsourceType]").getAttribute("value");var c="Validation Error"===this.eventAction;return a=
{},a.event="lead_capture_form_interaction",a.event_category="lead capture",a.event_action=this.eventAction,a.event_label=c?this.errorObj.error:b,a.event_value=void 0,a.interaction_type=this.eventAction,a.interaction_value=c?this.errorObj.fields.join(", "):b,a.error=c?this.errorObj.error:void 0,a.field_name=c?this.errorObj.fields.join(", "):void 0,a}};return c}(g);e.GAtracking.LeadCaptureFormInteractionEvent=f;return e.GAtracking.LeadCaptureFormInteractionEvent})();(function(){var f=function(d){function c(){var b=
d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return b=b.querySelector(".sourceField[name\x3dsourceType]").getAttribute("value"),a={},a.event="lead_capture_form_signup",a.event_category="lead capture",a.event_action="Signup",a.event_label=b,a.event_value=void 0,a.interaction_type="Signup",a.interaction_value=b,a.error=void 0,a.field_name=void 0,a};return c}(g);e.GAtracking.LeadCaptureFormSignupEvent=f;return e.GAtracking.LeadCaptureFormSignupEvent})();
(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.isHeaderLink=function(b){return document.querySelector(".nt-strip")?document.querySelector(".nt-strip").contains(b):!1};c.prototype.getTrackingId=function(){return e.util.Cookie.get("client_id")};c.prototype.getEvent=function(b){var a,c=this.getTrackingId()?this.getTrackingId():void 0;b=this.isHeaderLink(b)?"Header Link":"Body Link";return a={},a.event="live_account_start",
a.event_category="IG Live Account",a.event_action="Application Start",a.event_value=void 0,a.tracking_id=c,a.cta_name="Create live account",a.cta_type=b,a};return c}(g);e.GAtracking.LiveAccountStartEvent=f;return e.GAtracking.LiveAccountStartEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getTrackingId=function(){return e.util.Cookie.get("client_id")};c.prototype.getEvent=function(){var b,a=this.getTrackingId()?
this.getTrackingId():void 0;return b={},b.event="login",b.event_category="IG Account",b.event_action="login",b.event_value=void 0,b.tracking_id=a,b.user_status="logged in",b};return c}(g);e.GAtracking.LoginEvent=f;return e.GAtracking.LoginEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(){var b;return b={},b.event="logout",b.event_category="IG Account",b.event_action="logout",b.event_value=void 0,
b.user_status="logged out",b};return c}(g);e.GAtracking.LogoutEvent=f;return e.GAtracking.LogoutEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="market_data_interaction",a.event_category="market data interaction",a.event_action="click market",a.event_label=b.name,a.event_value=void 0,a.interaction_type="click market",a.interaction_value=b.name,a.instrument_name=
b.name,a.instrument_epic_id=b.epicID,a};return c}(g);e.GAtracking.marketDataInteractionEvent=f;return e.GAtracking.marketDataInteractionEvent})();var h=function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.getPageName=function(){var b=window.CQURLInfo.requestPath.split("/");return 4<b.length?b.slice(4).join(":").replace(/-/g," "):b.slice(3).join().toLowerCase()};c.prototype.getEvent=function(){var b,a=e.util.jspVars.get("ga");if(a){var d=
document.cookie.split("; "),f=d.find(function(a){return a.startsWith("client_id\x3d")}),g=d.find(function(a){return a.startsWith("sessionOpen\x3d")}),h="news-article"===a.templateType||"onedomain/components/ma-templates/news-article-page"===a.resourceType,k=h?"free":void 0,l="true"===a.strategyArticle?"trading strategy article":"news article";d=d.find(function(a){return a.startsWith("ig-dfx-id\x3d")});var m=c.getPageName();return b={},b.event="page_data_loaded",b.content_language=a.lang.split("_")[0],
b.content_subcategory=a.firstNewsAutomatedTag?a.firstNewsAutomatedTag:void 0,b.content_title=a.contentTitle?a.contentTitle:void 0,b.language=a.lang,b.tracking_id=f?f.split("\x3d")[1]:void 0,b.page_category=a.pageCategory?a.pageCategory:void 0,b.page_tags=a.isTagsPresent?a.listTags:void 0,b.page_type=""!==a.trackPerformanceTag?a.trackPerformanceTag:void 0,b.page_name=m,b.content_publication_date=h?a.publicationDateFormatted:void 0,b.content_availability="academy-lesson"===a.templateType?"gated":k,
b.author_name=h?a.authorName:void 0,b.user_status=g&&"true"===g.split("\x3d")[1]?"logged in":"logged out",b.content_id=a.pagePath,b.account_type=void 0,b.available_accounts=void 0,b.content_category=h?l:void 0,b.content_volume=h?a.wordCount:void 0,b.ig_id=d?d.split("\x3d")[1].replace("_","."):void 0,b}};return c}(g);e.GAtracking.PageDataLoadedEvent=f;return e.GAtracking.PageDataLoadedEvent}();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}
t(c,d);c.prototype.getEvent=function(b){var a;return a={},a.event="page_error",a.event_category="site error",a.event_action="Page Error",a.event_label=b,a.event_value=void 0,a.error=b,a};return c}(g);e.GAtracking.PageErrorEvent=f;return e.GAtracking.PageErrorEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event="select_search_result",a.event_category="site search",a.event_action=
"select "+b[0].searchType+" result",a.event_label=b[0].selectResult,a.event_value=void 0,a.suggested_result=b[0].selectResult,a.auto_or_serp=b[0].searchType,a.search_term=b[0].searchTerm,a};return c}(g);e.GAtracking.SelectSearchResultEvent=f;return e.GAtracking.SelectSearchResultEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getContentCategory=function(){var b=document.body.classList.contains("news-and-trade-ideas"),
a=document.body.classList.contains("trading-strategies");if(b)return"news article";if(a)return"trading strategy article"};c.prototype.getEvent=function(b){var a,c=this.getContentCategory();b=b.title.toLowerCase();return a={},a.event="social_share",a.event_category="social share",a.event_action=b,a.event_label=c,a.event_value=void 0,a.social_network=b,a};return c}(g);e.GAtracking.SocialShareEvent=f;return e.GAtracking.SocialShareEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||
this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a,c=b.eventAction;b=b.eventLabel;return a={},a.event="update_cookie_preferences",a.event_category="Update Cookie Preferences",a.event_action=c,a.event_label=b,a.event_value=void 0,a};return c}(g);e.GAtracking.UpdateCookiePreferencesEvent=f;return e.GAtracking.UpdateCookiePreferencesEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=
function(b){var a;if(b){var c=b.searchTerm;b=b.searchType;return a={},a.event="view_search_results",a.event_category="site search",a.event_action=b+" search",a.event_label=c,a.event_value=void 0,a.search_term=c,a.auto_or_serp=b,a}};return c}(g);e.GAtracking.ViewSearchResultsEvent=f;return e.GAtracking.ViewSearchResultsEvent})();(function(){var f=function(d){function c(){var b=d.call(this)||this;d.prototype.setEvent.call(b);return b}t(c,d);c.prototype.getEvent=function(b){var a;if(b)return a={},a.event=
"webinar_interaction",a.event_category="IG Academy",a.event_action="Webinar Filter - "+b.type,a.event_label=b.date,a.event_value=void 0,a.filter_type=b.type,a.filter_value=b.date,a.interaction_type="filter",a};return c}(g);e.GAtracking.WebinarFilterEvent=f;return e.GAtracking.WebinarFilterEvent})();(function(){var f=function(){function d(){}d.prototype.isTradingGuide=function(c){if(c)return c=c.querySelector(".sourceField[name\x3dsourceType]"),!!c&&(!!c.value.toLowerCase().includes("guide")||!!c.value.toLowerCase().includes("ebook"))};
d.prototype.isBrochureRequest=function(c){if(c)return c=c.querySelector(".sourceField[name\x3dsourceType]"),!!c&&!!c.value.toLowerCase().includes("institutional prospect")};d.prototype.getGuideTitle=function(c){return(c=c.closest(".grid").querySelector("h2"))?c.innerHTML.trim():document.title.split("|")[0].trim()};d.prototype.errorLabelList=function(c){if(c.classList.contains("leadCaptureForm")){c=c.querySelectorAll(".formField.error .invalid");var b=Array.from(c).map(function(a){return a.getAttribute("name")});
return b.filter(function(a,c){return b.indexOf(a)===c}).join(", ")}c=c.querySelectorAll(".form-error");return Array.from(c).map(function(a){return a.closest(".field-wrapper").querySelector("label").getAttribute("for")}).join(", ")};return d}();e.GAtracking.guides=new f;return e.GAtracking.guides})();(function(){var f=function(){function d(){}d.prototype.getAcademyFilterDetails=function(c){var b=new e.GAtracking.AcademyFilterEvent,a={filterLevel:c.classList[0].split("-")[0],filterCategory:c.parentElement.classList[1]};
801>window.innerWidth?e.util.hasClass(c.parentElement,"open")||b.setEvent(a):b.setEvent(a)};return d}();e.GAtracking.AcademyFilterDetails=new f;return e.GAtracking.AcademyFilterDetails})();window.addEventListener("message",function(e){-1<=e.origin.indexOf(".ig.com")&&"app/GATracking"===e.data.eventName&&window.dataLayer.push(e.data.eventData)});var l=function(){var f=function(){function d(){this.eventData={eventAction:"",eventLabel:""}}d.prototype.init=function(){document.body.classList.contains("cookies")&&
this.observeDOMChanges()};d.prototype.observeDOMChanges=function(){var c=this,b=document.querySelector(".mPanelParent");(new MutationObserver(function(){c.handleTabsMenu();c.handleCookiesCTA()})).observe(b,{childList:!0})};d.prototype.handleTabsMenu=function(){var c=this,b=document.querySelectorAll(".tabNav li"),a=document.querySelectorAll(".mPanelParent"),d=a[0],f=a[1];b.forEach(function(a){e.util.Events.add(a,"click",function(){c.eventData.eventLabel=a.querySelector("a").textContent;d.contains(a)?
c.eventData.eventAction="Change Cookie Tab":f.contains(a)&&(c.eventData.eventAction="Change Browser Tab");c.setGaEvent(c.eventData)})})};d.prototype.handleCookiesCTA=function(){var c=this,b=document.querySelector(".cookie-consent__cta \x3e igws-cta");e.util.Events.add(b,"click",function(a){a.preventDefault();a=document.querySelectorAll("input[name\x3dconsent-level]");a=Array.from(a).filter(function(a){return a.checked}).map(function(a){return a.title}).join(", ");c.eventData.eventAction="Update";
c.eventData.eventLabel=a;c.setGaEvent(c.eventData)})};d.prototype.setGaEvent=function(c){(new e.GAtracking.UpdateCookiePreferencesEvent).setEvent(c)};return d}();e.GAtracking.CookiePreferencesTracker=new f;return e.GAtracking.CookiePreferencesTracker}(),m=function(){var f=function(){function d(){this.isScrolling=!1;this.thresholds=[25,50,75,100];this.thresholdsReached=[];this.eventsLimit=4;this.delay=50;this.enableScrolling=this.enableScrolling.bind(this)}d.prototype.init=function(){this.addScrollListener();
this.startTracking()};d.prototype.startTracking=function(){this.trackingInterval=window.setInterval(this.handleScroll.bind(this),this.delay)};d.prototype.addScrollListener=function(){document.addEventListener("scroll",this.enableScrolling)};d.prototype.removeScrollListener=function(){document.removeEventListener("scroll",this.enableScrolling)};d.prototype.enableScrolling=function(){this.isScrolling=!0};d.prototype.getScrollPercent=function(){return Math.round(window.scrollY/(document.body.offsetHeight-
window.innerHeight)*100)};d.prototype.stopTracking=function(){window.clearInterval(this.trackingInterval);this.removeScrollListener()};d.prototype.handleScroll=function(){var c=this;if(this.isScrolling)if(this.thresholdsReached.length===this.eventsLimit)this.stopTracking();else{this.isScrolling=!1;var b=this.getScrollPercent();this.thresholds.forEach(function(a,d,f){d=f[d+1];f=100===a&&b===a;(b>=a&&b<d||f)&&!c.thresholdsReached.includes(a)&&(c.thresholdsReached.push(a),(new e.GAtracking.CustomScrollEvent).setEvent(a))})}};
return d}();e.GAtracking.TrackCustomScroll=new f;return e.GAtracking.TrackCustomScroll}();(function(){var f=function(){function d(){}d.prototype.startApplication=function(c){c.classList.contains("ga--start-application")||((new e.GAtracking.DemoAccountStartApplicationEvent).setEvent(c),c.classList.add("ga--start-application"))};d.prototype.validationError=function(c,b){var a=c.querySelector("[name\x3d'appName']");a&&(this.errorsToTrack=[],this.prepareErrors(b),this.errorsToTrack.forEach(function(b){"tradingAcademy"===
a.value?(new e.GAtracking.AcademySignupErrorEvent(b)).setEvent(c):(new e.GAtracking.DemoAccountErrorEvent(b)).setEvent(c)}))};d.prototype.prepareErrors=function(c){var b=this;c.forEach(function(a,d){var e={error:"",fields:[]};c.forEach(function(a){a.error===c[d].error&&(e.error||(e.error=a.error),e.fields.push(a.field))});b.isDuplicatedError(e)||b.errorsToTrack.push(e)})};d.prototype.isDuplicatedError=function(c){return-1<JSON.stringify(this.errorsToTrack).indexOf(JSON.stringify(c))};return d}();
e.GAtracking.TrackDemoAccountForm=new f;return e.GAtracking.TrackDemoAccountForm})();(function(){var f=function(){function d(){}d.prototype.isLeadcaptureProspect=function(c){if(c)return"lc_prospects"===c.dataset.typeform&&!e.GAtracking.guides.isTradingGuide(c)&&!e.GAtracking.guides.isBrochureRequest(c)};d.prototype.startForm=function(c){c.classList.contains("ga--start-form")||((new e.GAtracking.LeadCaptureFormInteractionEvent("start form")).setEvent(c),c.classList.add("ga--start-form"))};d.prototype.validateSubmit=
function(c,b){this.errorsToTrack=[];this.errorLabelList(b);this.errorsToTrack.forEach(function(a){var b=new e.GAtracking.LeadCaptureFormInteractionEvent("Validation Error",a);a=new e.GAtracking.BrochureErrorEvent(a);e.GAtracking.TrackLeadcaptureProspect.isLeadcaptureProspect(c)&&b.setEvent(c);e.GAtracking.guides.isBrochureRequest(c)&&a.setEvent(c)})};d.prototype.errorLabelList=function(c){var b=this;c.forEach(function(a,d){var e={error:"",fields:[]};c.forEach(function(a){a.error===c[d].error&&(e.error||
(e.error=a.error),e.fields.push(a.field))});-1<JSON.stringify(b.errorsToTrack).indexOf(JSON.stringify(e))||b.errorsToTrack.push(e)})};return d}();e.GAtracking.TrackLeadcaptureProspect=new f;return e.GAtracking.TrackLeadcaptureProspect})();document.addEventListener("DOMContentLoaded",function(){document.body.classList.contains("404")&&(new e.GAtracking.PageErrorEvent).setEvent("404: Page Not Found")});var n=function(){var f=function(){function d(){}d.prototype.init=function(){this.handleNavCTA();this.handleTooltip();
this.handleHeroArea();this.handleBodyCTA()};d.prototype.handleNavCTA=function(){var c=this,b=document.querySelector(".theme--prime .navigation .contact-us-nav-wrap");b&&b.addEventListener("click",function(a){c.getInteractionDetails(a,"click contact us")})};d.prototype.handleTooltip=function(){var c=this,b=document.querySelector('.theme--prime .tooltip-popup a[href*\x3d"mailto:"]'),a=document.querySelector('.theme--prime .tooltip-popup a[href*\x3d"tel:"]');b&&b.addEventListener("click",function(a){c.getInteractionDetails(a,
"click email head")});a&&a.addEventListener("click",function(a){c.getInteractionDetails(a,"click phone head")})};d.prototype.handleHeroArea=function(){var c=this,b=document.querySelector('.theme--prime .hero-area igws-cta[href\x3d"#contact"]');b&&b.addEventListener("click",function(a){c.getInteractionDetails(a,"click contact us")})};d.prototype.handleBodyCTA=function(){var c=this,b=document.querySelector('.theme--prime igws-cta[href*\x3d"mailto:"]'),a=document.querySelector('.theme--prime igws-cta[href*\x3d"tel:"]'),
d=document.querySelector('.theme--prime igws-cta[classnames*\x3d"request-brochure-cta"]');b&&b.addEventListener("click",function(a){c.getInteractionDetails(a,"click email body")});a&&a.addEventListener("click",function(a){c.getInteractionDetails(a,"click phone body")});d&&d.addEventListener("click",function(a){c.getInteractionDetails(a,"click request brochure")})};d.prototype.getInteractionDetails=function(c,b){this.setGaEvent({ctaInteractionType:b,ctaInteractionValue:c.target.text?c.target.text:
c.target.innerText})};d.prototype.setGaEvent=function(c){(new e.GAtracking.CtaInteractionEvent).setEvent(c)};return d}();e.GAtracking.PrimeDetails=new f;return e.GAtracking.PrimeDetails}();(function(){var f=function(){function d(){}d.prototype.getWebinarDetails=function(c){if(c)return[{webinar_date:c.querySelector(".webinar-calendar__itemTime").getAttribute("data-analytics-startDate"),webinar_time:c.querySelector(".webinar-calendar__itemTime").getAttribute("data-analytics-startTime"),webinar_title:c.querySelector(".webinar-calendar__itemHeading").textContent,
webinar_duration:c.querySelector(".webinar-calendar__itemDuration").getAttribute("data-duration")}]};return d}();e.GAtracking.webinarDetails=new f;return e.GAtracking.webinarDetails})();(function(){var f=function(){function d(){this.percentileReached={25:!1,50:!1,75:!1}}d.prototype.getPercentile=function(c){var b=this;c=(100*c.currentTime()/c.duration()).toFixed(0);if(Object.prototype.hasOwnProperty.call(this.percentileReached,c))for(var a in this.percentileReached){if(c===a&&!1===this.percentileReached[a]){this.percentileReached[a]=
!0;var d=parseInt(c,10)+"%";break}}else Object.keys(this.percentileReached).forEach(function(a){return b.percentileReached[a]=!1});return d};d.getDurationFormat=function(){var c=document.querySelector(".vjs-duration-display").textContent.split(":"),b;2===c.length?b=c[0]+"m "+c[1]+"s":3===c.length&&(b=c[0]+"h "+c[1]+"m "+c[2]+"s");return b};d.prototype.getVideoData=function(c,b){var a=new e.GAtracking.WebinarLibraryPlaybackEvent,f=document.querySelector(".vjs-dock-title").textContent,g=d.getDurationFormat(),
h;"percentile"===b?(b=this.getPercentile(c))&&(h={webinar_interaction_type:b,webinar_title:f,webinar_duration:g,webinar_tags:c.mediainfo.tags}):h={webinar_interaction_type:b,webinar_title:f,webinar_duration:g,webinar_tags:c.mediainfo.tags};a.setEvent(h)};return d}();e.GAtracking.TrackWebinarPlayer=new f;return e.GAtracking.TrackWebinarPlayer})();(function(){document.addEventListener("DOMContentLoaded",function(){window.dataLayer=window.dataLayer||[];(new h).setEvent(!0);m.init();l.init();k();n.init()})})()})(window.PS);
</script>

</body>
</html>
