<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>helpers_and_shared_components-4CPOOEOW.html</title>
</head>
<body>

<script>
(()=>{var Ht=Object.create;var Et=Object.defineProperty;var Mt=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var Ot=Object.getPrototypeOf,Vt=Object.prototype.hasOwnProperty;var lt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wt=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of jt(e))!Vt.call(t,a)&&a!==i&&Et(t,a,{get:()=>e[a],enumerable:!(n=Mt(e,a))||n.enumerable});return t};var ut=(t,e,i)=>(i=t!=null?Ht(Ot(t)):{},Wt(e||!t||!t.__esModule?Et(i,"default",{value:t,enumerable:!0}):i,t));var ot=lt((Yt,dt)=>{(function(t,e){var i=e(t,t.document,Date);t.lazySizes=i,typeof dt=="object"&&dt.exports&&(dt.exports=i)})(typeof window!="undefined"?window:{},function(e,i,n){"use strict";var a,r;if(function(){var m,h={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};r=e.lazySizesConfig||e.lazysizesConfig||{};for(m in h)m in r||(r[m]=h[m])}(),!i||!i.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var S=i.documentElement,N=e.HTMLPictureElement,M="addEventListener",C="getAttribute",f=e[M].bind(e),v=e.setTimeout,p=e.requestAnimationFrame||v,c=e.requestIdleCallback,_=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],u={},g=Array.prototype.forEach,y=function(m,h){return u[h]||(u[h]=new RegExp("(\\s|^)"+h+"(\\s|$)")),u[h].test(m[C]("class")||"")&&u[h]},o=function(m,h){y(m,h)||m.setAttribute("class",(m[C]("class")||"").trim()+" "+h)},k=function(m,h){var E;(E=y(m,h))&&m.setAttribute("class",(m[C]("class")||"").replace(E," "))},A=function(m,h,E){var B=E?M:"removeEventListener";E&&A(m,h),d.forEach(function(F){m[B](F,h)})},z=function(m,h,E,B,F){var w=i.createEvent("Event");return E||(E={}),E.instance=a,w.initEvent(h,!B,!F),w.detail=E,m.dispatchEvent(w),w},I=function(m,h){var E;!N&&(E=e.picturefill||r.pf)?(h&&h.src&&!m[C]("srcset")&&m.setAttribute("srcset",h.src),E({reevaluate:!0,elements:[m]})):h&&h.src&&(m.src=h.src)},P=function(m,h){return(getComputedStyle(m,null)||{})[h]},D=function(m,h,E){for(E=E||m.offsetWidth;E<r.minSize&&h&&!m._lazysizesWidth;)E=h.offsetWidth,h=h.parentNode;return E},O=function(){var m,h,E=[],B=[],F=E,w=function(){var T=F;for(F=E.length?B:E,m=!0,h=!1;T.length;)T.shift()();m=!1},R=function(T,x){m&&!x?T.apply(this,arguments):(F.push(T),h||(h=!0,(i.hidden?v:p)(w)))};return R._lsFlush=w,R}(),X=function(m,h){return h?function(){O(m)}:function(){var E=this,B=arguments;O(function(){m.apply(E,B)})}},Tt=function(m){var h,E=0,B=r.throttleDelay,F=r.ricTimeout,w=function(){h=!1,E=n.now(),m()},R=c&&F>49?function(){c(w,{timeout:F}),F!==r.ricTimeout&&(F=r.ricTimeout)}:X(function(){v(w)},!0);return function(T){var x;(T=T===!0)&&(F=33),!h&&(h=!0,x=B-(n.now()-E),x<0&&(x=0),T||x<9?R():v(R,x))}},ht=function(m){var h,E,B=99,F=function(){h=null,m()},w=function(){var R=n.now()-E;R<B?v(w,B-R):(c||F)(F)};return function(){E=n.now(),h||(h=v(w,B))}},kt=function(){var m,h,E,B,F,w,R,T,x,V,Y,tt,Lt=/^img$/i,It=/^iframe$/i,xt="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),Ft=0,at=0,G=0,it=-1,mt=function(l){G--,(!l||G<0||!l.target)&&(G=0)},_t=function(l){return tt==null&&(tt=P(i.body,"visibility")=="hidden"),tt||!(P(l.parentNode,"visibility")=="hidden"&&P(l,"visibility")=="hidden")},Pt=function(l,b){var L,U=l,H=_t(l);for(T-=b,Y+=b,x-=b,V+=b;H&&(U=U.offsetParent)&&U!=i.body&&U!=S;)H=(P(U,"opacity")||1)>0,H&&P(U,"overflow")!="visible"&&(L=U.getBoundingClientRect(),H=V>L.left&&x<L.right&&Y>L.top-1&&T<L.bottom+1);return H},yt=function(){var l,b,L,U,H,j,K,Q,J,Z,et,nt,q=a.elements;if((B=r.loadMode)&&G<8&&(l=q.length)){for(b=0,it++;b<l;b++)if(!(!q[b]||q[b]._lazyRace)){if(!xt||a.prematureUnveil&&a.prematureUnveil(q[b])){rt(q[b]);continue}if((!(Q=q[b][C]("data-expand"))||!(j=Q*1))&&(j=at),Z||(Z=!r.expand||r.expand<1?S.clientHeight>500&&S.clientWidth>500?500:370:r.expand,a._defEx=Z,et=Z*r.expFactor,nt=r.hFac,tt=null,at<et&&G<1&&it>2&&B>2&&!i.hidden?(at=et,it=0):B>1&&it>1&&G<6?at=Z:at=Ft),J!==j&&(w=innerWidth+j*nt,R=innerHeight+j,K=j*-1,J=j),L=q[b].getBoundingClientRect(),(Y=L.bottom)>=K&&(T=L.top)<=R&&(V=L.right)>=K*nt&&(x=L.left)<=w&&(Y||V||x||T)&&(r.loadHidden||_t(q[b]))&&(h&&G<3&&!Q&&(B<3||it<4)||Pt(q[b],j))){if(rt(q[b]),H=!0,G>9)break}else!H&&h&&!U&&G<4&&it<4&&B>2&&(m[0]||r.preloadAfterLoad)&&(m[0]||!Q&&(Y||V||x||T||q[b][C](r.sizesAttr)!="auto"))&&(U=m[0]||q[b])}U&&!H&&rt(U)}},W=Tt(yt),bt=function(l){var b=l.target;if(b._lazyCache){delete b._lazyCache;return}mt(l),o(b,r.loadedClass),k(b,r.loadingClass),A(b,Ct),z(b,"lazyloaded")},Bt=X(bt),Ct=function(l){Bt({target:l.target})},Nt=function(l,b){var L=l.getAttribute("data-load-mode")||r.iframeLoadMode;L==0?l.contentWindow.location.replace(b):L==1&&(l.src=b)},Rt=function(l){var b,L=l[C](r.srcsetAttr);(b=r.customMedia[l[C]("data-media")||l[C]("media")])&&l.setAttribute("media",b),L&&l.setAttribute("srcset",L)},Dt=X(function(l,b,L,U,H){var j,K,Q,J,Z,et;(Z=z(l,"lazybeforeunveil",b)).defaultPrevented||(U&&(L?o(l,r.autosizesClass):l.setAttribute("sizes",U)),K=l[C](r.srcsetAttr),j=l[C](r.srcAttr),H&&(Q=l.parentNode,J=Q&&_.test(Q.nodeName||"")),et=b.firesLoad||"src"in l&&(K||j||J),Z={target:l},o(l,r.loadingClass),et&&(clearTimeout(E),E=v(mt,2500),A(l,Ct,!0)),J&&g.call(Q.getElementsByTagName("source"),Rt),K?l.setAttribute("srcset",K):j&&!J&&(It.test(l.nodeName)?Nt(l,j):l.src=j),H&&(K||J)&&I(l,{src:j})),l._lazyRace&&delete l._lazyRace,k(l,r.lazyClass),O(function(){var nt=l.complete&&l.naturalWidth>1;(!et||nt)&&(nt&&o(l,r.fastLoadedClass),bt(Z),l._lazyCache=!0,v(function(){"_lazyCache"in l&&delete l._lazyCache},9)),l.loading=="lazy"&&G--},!0)}),rt=function(l){if(!l._lazyRace){var b,L=Lt.test(l.nodeName),U=L&&(l[C](r.sizesAttr)||l[C]("sizes")),H=U=="auto";(H||!h)&&L&&(l[C]("src")||l.srcset)&&!l.complete&&!y(l,r.errorClass)&&y(l,r.lazyClass)||(b=z(l,"lazyunveilread").detail,H&&ft.updateElem(l,!0,l.offsetWidth),l._lazyRace=!0,G++,Dt(l,b,H,U,L))}},Ut=ht(function(){r.loadMode=3,W()}),St=function(){r.loadMode==3&&(r.loadMode=2),Ut()},ct=function(){if(!h){if(n.now()-F<999){v(ct,999);return}h=!0,r.loadMode=3,W(),f("scroll",St,!0)}};return{_:function(){F=n.now(),a.elements=i.getElementsByClassName(r.lazyClass),m=i.getElementsByClassName(r.lazyClass+" "+r.preloadClass),f("scroll",W,!0),f("resize",W,!0),f("pageshow",function(l){if(l.persisted){var b=i.querySelectorAll("."+r.loadingClass);b.length&&b.forEach&&p(function(){b.forEach(function(L){L.complete&&rt(L)})})}}),e.MutationObserver?new MutationObserver(W).observe(S,{childList:!0,subtree:!0,attributes:!0}):(S[M]("DOMNodeInserted",W,!0),S[M]("DOMAttrModified",W,!0),setInterval(W,999)),f("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(l){i[M](l,W,!0)}),/d$|^c/.test(i.readyState)?ct():(f("load",ct),i[M]("DOMContentLoaded",W),v(ct,2e4)),a.elements.length?(yt(),O._lsFlush()):W()},checkElems:W,unveil:rt,_aLSL:St}}(),ft=function(){var m,h=X(function(w,R,T,x){var V,Y,tt;if(w._lazysizesWidth=x,x+="px",w.setAttribute("sizes",x),_.test(R.nodeName||""))for(V=R.getElementsByTagName("source"),Y=0,tt=V.length;Y<tt;Y++)V[Y].setAttribute("sizes",x);T.detail.dataAttr||I(w,T.detail)}),E=function(w,R,T){var x,V=w.parentNode;V&&(T=D(w,V,T),x=z(w,"lazybeforesizes",{width:T,dataAttr:!!R}),x.defaultPrevented||(T=x.detail.width,T&&T!==w._lazysizesWidth&&h(w,V,x,T)))},B=function(){var w,R=m.length;if(R)for(w=0;w<R;w++)E(m[w])},F=ht(B);return{_:function(){m=i.getElementsByClassName(r.autosizesClass),f("resize",F)},checkElems:F,updateElem:E}}(),st=function(){!st.i&&i.getElementsByClassName&&(st.i=!0,ft._(),kt._())};return v(function(){r.init&&st()}),a={cfg:r,autoSizer:ft,loader:kt,init:st,uP:I,aC:o,rC:k,hC:y,fire:z,gW:D,rAF:O},a})});var At=lt((Kt,gt)=>{(function(t,e){if(t){var i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)};e=e.bind(null,t,t.document),typeof gt=="object"&&gt.exports?e(ot()):typeof define=="function"&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0)}})(typeof window!="undefined"?window:0,function(t,e,i){"use strict";var n,a=i.cfg,r=e.createElement("img"),S="sizes"in r&&"srcset"in r,N=/\s+\d+h/g,M=function(){var C=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,f=Array.prototype.forEach;return function(){var v=e.createElement("img"),p=function(d){var u,g,y=d.getAttribute(a.srcsetAttr);y&&(g=y.match(C))&&(g[2]=="w"?u=g[1]/g[3]:u=g[3]/g[1],u&&d.setAttribute("data-aspectratio",u),d.setAttribute(a.srcsetAttr,y.replace(N,"")))},c=function(d){if(d.detail.instance==i){var u=d.target.parentNode;u&&u.nodeName=="PICTURE"&&f.call(u.getElementsByTagName("source"),p),p(d.target)}},_=function(){v.currentSrc&&e.removeEventListener("lazybeforeunveil",c)};e.addEventListener("lazybeforeunveil",c),v.onload=_,v.onerror=_,v.srcset="data:,a 1w 1h",v.complete&&_()}}();if(a.supportsType||(a.supportsType=function(C){return!C}),t.HTMLPictureElement&&S){!i.hasHDescriptorFix&&e.msElementsFromPoint&&(i.hasHDescriptorFix=!0,M());return}t.picturefill||a.pf||(a.pf=function(C){var f,v;if(!t.picturefill)for(f=0,v=C.elements.length;f<v;f++)n(C.elements[f])},n=function(){var C=function(o,k){return o.w-k.w},f=/^\s*\d+\.*\d*px\s*$/,v=function(o){var k,A,z=o.length,I=o[z-1],P=0;for(P;P<z;P++)if(I=o[P],I.d=I.w/o.w,I.d>=o.d){!I.cached&&(k=o[P-1])&&k.d>o.d-.13*Math.pow(o.d,2.2)&&(A=Math.pow(k.d-.6,1.6),k.cached&&(k.d+=.15*A),k.d+(I.d-o.d)*A>o.d&&(I=k));break}return I},p=function(){var o,k=/(([^,\s].[^\s]+)\s+(\d+)w)/g,A=/\s/,z=function(I,P,D,O){o.push({c:P,u:D,w:O*1})};return function(I){return o=[],I=I.trim(),I.replace(N,"").replace(k,z),!o.length&&I&&!A.test(I)&&o.push({c:I,u:I,w:99}),o}}(),c=function(){c.init||(c.init=!0,addEventListener("resize",function(){var o,k=e.getElementsByClassName("lazymatchmedia"),A=function(){var z,I;for(z=0,I=k.length;z<I;z++)n(k[z])};return function(){clearTimeout(o),o=setTimeout(A,66)}}()))},_=function(o,k){var A,z=o.getAttribute("srcset")||o.getAttribute(a.srcsetAttr);!z&&k&&(z=o._lazypolyfill?o._lazypolyfill._set:o.getAttribute(a.srcAttr)||o.getAttribute("src")),(!o._lazypolyfill||o._lazypolyfill._set!=z)&&(A=p(z||""),k&&o.parentNode&&(A.isPicture=o.parentNode.nodeName.toUpperCase()=="PICTURE",A.isPicture&&t.matchMedia&&(i.aC(o,"lazymatchmedia"),c())),A._set=z,Object.defineProperty(o,"_lazypolyfill",{value:A,writable:!0}))},d=function(o){var k=t.devicePixelRatio||1,A=i.getX&&i.getX(o);return Math.min(A||k,2.5,k)},u=function(o){if(t.matchMedia)u=function(k){return!k||(matchMedia(k)||{}).matches};else return!o;return u(o)},g=function(o){var k,A,z,I,P,D,O,X;if(P=o,_(P,!0),D=P._lazypolyfill,D.isPicture){for(A=0,k=o.parentNode.getElementsByTagName("source"),z=k.length;A<z;A++)if(a.supportsType(k[A].getAttribute("type"),o)&&u(k[A].getAttribute("media"))){P=k[A],_(P),D=P._lazypolyfill;break}}return D.length>1?(X=P.getAttribute("sizes")||"",X=f.test(X)&&parseInt(X,10)||i.gW(o,o.parentNode),D.d=d(o),!D.src||!D.w||D.w<X?(D.w=X,O=v(D.sort(C)),D.src=O):O=D.src):O=D[0],O},y=function(o){if(!(S&&o.parentNode&&o.parentNode.nodeName.toUpperCase()!="PICTURE")){var k=g(o);k&&k.u&&o._lazypolyfill.cur!=k.u&&(o._lazypolyfill.cur=k.u,k.cached=!0,o.setAttribute(a.srcAttr,k.u),o.setAttribute("src",k.u))}};return y.parse=p,y}(),a.loadedClass&&a.loadingClass&&function(){var C=[];['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(f){C.push(f+a.loadedClass),C.push(f+a.loadingClass)}),a.pf({elements:e.querySelectorAll(C.join(", "))})}())})});var wt=lt((Qt,vt)=>{(function(t,e){if(t){var i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)};e=e.bind(null,t,t.document),typeof vt=="object"&&vt.exports?e(ot()):typeof define=="function"&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0)}})(typeof window!="undefined"?window:0,function(t,e,i){"use strict";if(t.addEventListener){var n,a=/^picture$/i,r=e.documentElement,S=function(){var p,c=/(([^,\s].[^\s]+)\s+(\d+)(w|h)(\s+(\d+)(w|h))?)/g,_=function(d,u,g,y,o,k,A,z){p.push({c:u,u:g,w:(z=="w"?A:y)*1})};return function(d){return p=[],d.replace(c,_),p}}(),N=function(){var p=function(_,d){return _.w-d.w},c=function(_,d){var u={srcset:_.getAttribute(i.cfg.srcsetAttr)||""},g=S(u.srcset);return Object.defineProperty(_,d,{value:u,writable:!0}),u.cands=g,u.index=0,u.dirty=!1,g[0]&&g[0].w?(g.sort(p),u.cSrcset=[g[u.index].c]):(u.cSrcset=u.srcset?[u.srcset]:[],u.cands=[]),u};return function(d,u){var g,y,o,k;if(!d[u]&&(k=d.parentNode||{},d[u]=c(d,u),d[u].isImg=!0,a.test(k.nodeName||"")))for(d[u].picture=!0,g=k.getElementsByTagName("source"),y=0,o=g.length;y<o;y++)c(g[y],u).isImg=!1;return d[u]}}(),M={_lazyOptimumx:function(){var p=function(c,_,d){var u,g,y;return!c||!c.d?!0:(y=d>.7?.6:.4,c.d>=d?!1:(g=Math.pow(c.d-y,1.6)||.1,g<.1?g=.1:g>3&&(g=3),u=c.d+(_-d)*g,u<d))};return function(c,_,d){var u,g;for(u=0;u<c.cands.length;u++)if(g=c.cands[u],g.d=(g.w||1)/_,!(c.index>=u))if(g.d<=d||p(c.cands[u-1],g.d,d))c.cSrcset.push(g.c),c.index=u;else break}}()},C=function(){var p=function(c,_,d,u,g){var y,o=c[g];o&&(y=o.index,M[g](o,_,d),(!o.dirty||y!=o.index)&&(o.cSrcset.join(", "),c.setAttribute(u,o.cSrcset.join(", ")),o.dirty=!0))};return function(c,_,d,u,g){var y,o,k,A,z=c[g];if(z.width=_,z.picture&&(o=c.parentNode))for(y=o.getElementsByTagName("source"),A=0,k=y.length;A<k;A++)p(y[A],_,d,u,g);p(c,_,d,u,g)}}(),f=function(p){var c=p.getAttribute("data-optimumx")||p.getAttribute("data-maxdpr");return!c&&n.constrainPixelDensity&&(c="auto"),c&&(c=="auto"?c=n.getOptimumX(p):c=parseFloat(c,10)),c},v=function(){i&&!i.getOptimumX&&(i.getX=f,i.pWS=S,r.removeEventListener("lazybeforeunveil",v))};r.addEventListener("lazybeforeunveil",v),setTimeout(v),n=i&&i.cfg,typeof n.getOptimumX!="function"&&(n.getOptimumX=function(){var p=t.devicePixelRatio||1;return p>2.6?p*=.6:p>1.9?p*=.8:p-=.01,Math.min(Math.round(p*100)/100,2)}),t.devicePixelRatio&&addEventListener("lazybeforesizes",function(p){if(p.detail.instance==i){var c,_,d,u,g=p.target,y=p.detail,o=y.dataAttr;p.defaultPrevented||!(c=f(g))||c>=devicePixelRatio||(o&&g._lazyOptimumx&&!y.reloaded&&(!n.unloadedClass||!i.hC(g,n.unloadedClass))&&(g._lazyOptimumx=null),_=N(g,"_lazyOptimumx"),d=y.width,d&&(_.width||0)<d&&(u=o?i.cfg.srcsetAttr:"srcset",i.rAF(function(){C(g,d,c,u,"_lazyOptimumx")})))}})}})});var $t=lt((Zt,pt)=>{(function(t,e){if(t){var i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)};e=e.bind(null,t,t.document),typeof pt=="object"&&pt.exports?e(ot()):typeof define=="function"&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0)}})(typeof window!="undefined"?window:0,function(t,e,i){"use strict";if(t.addEventListener){var n=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,a=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,r=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,S=/^picture$/i,N=i.cfg,M=function(f){return getComputedStyle(f,null)||{}},C={getParent:function(f,v){var p=f,c=f.parentNode;return(!v||v=="prev")&&c&&S.test(c.nodeName||"")&&(c=c.parentNode),v!="self"&&(v=="prev"?p=f.previousElementSibling:v&&(c.closest||t.jQuery)?p=(c.closest?c.closest(v):jQuery(c).closest(v)[0])||c:p=c),p},getFit:function(f){var v,p,c=M(f),_=c.content||c.fontFamily,d={fit:f._lazysizesParentFit||f.getAttribute("data-parent-fit")};return!d.fit&&_&&(v=_.match(a))&&(d.fit=v[1]),d.fit?(p=f._lazysizesParentContainer||f.getAttribute("data-parent-container"),!p&&_&&(v=_.match(r))&&(p=v[1]),d.parent=C.getParent(f,p)):d.fit=c.objectFit,d},getImageRatio:function(f){var v,p,c,_,d,u,g,y=f.parentNode,o=y&&S.test(y.nodeName||"")?y.querySelectorAll("source, img"):[f];for(v=0;v<o.length;v++)if(f=o[v],p=f.getAttribute(N.srcsetAttr)||f.getAttribute("srcset")||f.getAttribute("data-pfsrcset")||f.getAttribute("data-risrcset")||"",c=f._lsMedia||f.getAttribute("media"),c=N.customMedia[f.getAttribute("data-media")||c]||c,p&&(!c||(t.matchMedia&&matchMedia(c)||{}).matches)){_=parseFloat(f.getAttribute("data-aspectratio")),_||(d=p.match(n),d?d[2]=="w"?(u=d[1],g=d[3]):(u=d[3],g=d[1]):(u=f.getAttribute("width"),g=f.getAttribute("height")),_=u/g);break}return _},calculateSize:function(f,v){var p,c,_,d,u=this.getFit(f),g=u.fit,y=u.parent;return g!="width"&&(g!="contain"&&g!="cover"||!(_=this.getImageRatio(f)))?v:(y?v=y.clientWidth:y=f,d=v,g=="width"?d=v:(c=y.clientHeight,(p=v/c)&&(g=="cover"&&p<_||g=="contain"&&p>_)&&(d=v*(_/p))),d)}};i.parentFit=C,e.addEventListener("lazybeforesizes",function(f){if(!(f.defaultPrevented||f.detail.instance!=i)){var v=f.target;f.detail.width=C.calculateSize(v,f.detail.width)}})}})});Songkick.Helpers={};Songkick.Helpers.Window={close:function(){window.close()},location:function(){return window.location},opener:function(){return window.opener},reload:function(t){window.location.reload(t)},getPageUrl:function(){var t=this.location(),e=t.pathname;e.match(/\/$/)||(e=e+"/");var i=t.protocol+"//"+t.hostname+e+t.search;return i},getPageSearchQueryString:function(){return this.location().search},getQueryParams:function(){var t=this.getPageSearchQueryString().replace("?","").split("&"),e={},i;for(i=t.length;i>0;i--){var n=t[i-1].split("=");e[n[0]]=decodeURIComponent(n[1])}return e},navigator:function(){return window.navigator}};Songkick.Helpers.Sanitize={removeMarkup:function(t){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","+":"&#43;"},i=/[<>"'\/+]/g;return(""+t).replace(i,function(n){return e[n]})},escapeRegex:function(t){var e=["-","(",")","$","*","^","?","\\","[","]",".","{","}",":","+"].join("\\"),i=new RegExp("["+e+"]","g");return t.replace(i,"\\$&")}};Songkick.Analytics=Songkick.Class({initialize:function(t){$(document).on("submit",'*[data-analytics-category="signup_cta"]',function(e){var i=$(e.currentTarget),n=i.data("analytics-category"),a=i.data("analytics-action")||"click",r=i.data("analytics-label"),S=i.data("analytics-value");t.trigger("ui:signup_cta:click",{category:n,action:a,label:r,value:S})}),$(document).on("click",'*[data-analytics-category="signup_cta"]',function(e){var i=$(e.currentTarget),n=i.data("analytics-category"),a=i.data("analytics-action")||"other",r=i.data("analytics-label"),S=i.data("analytics-value");t.trigger("ui:signup_cta:click",{category:n,action:a,label:r,value:S}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"signup_cta_click",cta_location:a,resource_id:r.toString()})}),$(document).on("click",'*[data-analytics-category-additional="login_cta"]',function(e){var i=$(e.currentTarget),n=i.data("analytics-action")||"other",a=i.data("analytics-label");window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"login_cta_click",cta_location:n,resource:a.toString()})}),$(document).on("click",'*[data-analytics-label="get_free_app"]',function(e){var i=$(e.currentTarget),n=i.data("analytics-page-type");t.trigger("ui:mobile_app_cta:click",n)}),$(document).on("click",'*[data-analytics-category="ticket_vendor"]',function(e){var i=$(e.currentTarget),n=i.data("event-id");t.trigger("ui:ticket_link:click",{sk_event_id:n})}),$(document).on("click",["a[data-analytics-category]","button[data-analytics-category]",'input[type="checkbox"][data-analytics-category]','input[type="submit"][data-analytics-category]'].join(", "),function(e){var i=$(e.currentTarget),n=i.data("analytics-category"),a=i.data("analytics-action")||"click",r=i.data("analytics-label"),S=i.data("analytics-value");i.attr("type")=="checkbox"&&(on_or_off=i.is(":checked")?"on":"off",r+="_"+on_or_off),t.trigger("ui:click",{category:n,action:a,label:r,value:S}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:a,location:n,resource:r})}),$(document).on("submit","form[data-analytics-category]",function(e){var i=$(e.currentTarget),n=i.data("analytics-category"),a=i.data("analytics-action")||"submit",r=i.data("analytics-label"),S=i.data("analytics-value");i.attr("type")=="checkbox"&&(on_or_off=i.is(":checked")?"on":"off",r+="_"+on_or_off),t.trigger("ui:submit",{category:n,action:a,label:r,value:S})}),Songkick.EventBus.bind("analytics:google:loaded",function(e){$('*[data-analytics-action="load"]').each(function(i,n){var a=$(n);t.trigger("ui:load",{category:a.data("analytics-category"),action:"load",label:a.data("analytics-label"),value:a.data("analytics-value")})})})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Analytics(t.events)});var zt=ut(ot()),Jt=ut(At()),te=ut(wt()),ee=ut($t());zt.default.cfg.loadMode=1;Songkick.Experiment=Songkick.Class({initialize:function(t){if(t){this.experimentName=t.experimentName,this.cohort=t.cohort,this.targetPlatform=t.targetPlatform,this.observers=t.observers,this.experimentName.startsWith("exp_")||(this.experimentName="exp_"+this.experimentName);for(var e=this,i=0;i<this.observers.length;i++){var n=this.observers[i];$(n.element).on(n.event,e.onEvent.bind(e,n))}this.logViewEvent()}},onEvent:function(t){this.logEvent({action:t.event,label:t.analyticsName,cohort:this.cohort})},logViewEvent:function(){this.logEvent({action:"view",label:"",cohort:this.cohort})},logEvent:function(t){this.targetPlatform&Songkick.Experiment.TARGET_GA&&this.sendGAEvent(t)},sendGAEvent:function(t){var e="",i="";t.action=="click"?(i="ui:click",e="click_"+t.label):t.action=="view"?(i="ui:view",e="view"):t.action=="submit"&&(i="ui:submit",e="submit_"+t.label),Songkick.EventBus.trigger(i,{category:this.experimentName,action:e,label:t.cohort})}});Songkick.Experiment.TARGET_GA=1;Songkick.Analytics.Google=Songkick.Class({initialize:function(t){this.logUserPageView(),this.addEventListeners(t),this.logAnalyticsTriggersFromAccountsFrontend(),t.trigger("analytics:google:loaded",{})},logUserPageView:function(){var t=Songkick.Helpers.Window.getPageUrl(),e=Songkick.getAnalyticsUserType(),i=Songkick.getAnalyticsUserId(),n=Songkick.pageIsCached();typeof ga!="undefined"&&(ga("set","dimension1",e),ga("set","dimension2",i),ga("set","dimension3",n),ga("send","pageview",{location:t}))},addEventListeners:function(t){t.bind("ui:event",this.logEvent,this),t.bind("ui:view",this.logViewEvent,this),t.bind("ui:load",this.logLoadEvent,this),t.bind("ui:click",this.logClickEvent,this),t.bind("ui:submit",this.logSubmitEvent,this),t.bind("ui:event_page:artist_reviews:view",this.logEventPageArtistReviewsView,this),t.bind("ui:artist_page:review_cta:view",this.logArtistPageReviewCTAView,this),t.bind("ui:attendance:click",this.logAttendanceChange,this),t.bind("ui:event_page_past:view",this.logEventPagePast,this),t.bind("ui:event_page_upcoming:view",this.logEventPageUpcoming,this),t.bind("ui:facebook:connect",this.logFacebookConnect,this),t.bind("ui:navigation:search",this.logNavigationSearch,this),t.bind("ui:scroll:start",this.scrollStarted,this),t.bind("analytics:scroll_depth:time_spent",this.logTimeSpent,this),t.bind("ui:promoted_ticket_event:click",this.logPromotedTicketEventClick,this),t.bind("ui:app-store-redirect:redirect-to-appstore",this.logAppStoreRedirect,this),t.bind("ui:signup_cta:click",this.setSignupCTACustomDimension,this),t.bind("ui:ticket_link:click",this.setTicketLinkCustomDimension,this),t.bind("ui:artist-update:view",this.logArtistUpdateView,this),t.bind("ui:artist-update:cta:click",this.logArtistUpdateCtaClick,this),t.bind("ui:artist-update:image:click",this.logArtistUpdateImageClick,this),t.bind("ui:mobile_app_cta:click",this.setPageTypeCustomDimension,this)},logEvent:function(t){var e=t.category,i=t.action,n=t.label===void 0?null:t.label.toString(),a=t.value===void 0?null:t.value,r=t.nonInteraction===void 0?1:t.nonInteraction;this._trackEvent(e,i,n,a,r)},logViewEvent:function(t){t.action=t.action===void 0?"view":t.action,t.nonInteraction=1,this.logEvent(t)},logLoadEvent:function(t){t.action=t.action===void 0?"load":t.action,t.nonInteraction=1,this.logEvent(t)},logClickEvent:function(t){t.action=t.action===void 0?"click":t.action,t.nonInteraction=0,this.logEvent(t)},logSubmitEvent:function(t){t.action=t.action===void 0?"submit":t.action,t.nonInteraction=0,this.logEvent(t)},logTimeSpent:function(t){var e=t.time,i="Time spent",n="Time spent",a="Spent "+e+" s",r=null,S=1;this._trackEvent(i,n,a,r,S)},scrollStarted:function(t){var e=this;this.logScrollStart(),setTimeout(function(){e.logScrollAfterTimeout()},20*1e3)},logScrollStart:function(t){var e="Scroll Depth",i="Scroll",n="Start scrolling",a=null,r=1;this._trackEvent(e,i,n,a,r)},logScrollAfterTimeout:function(t){var e="Scroll Depth",i="Scroll",n="20s after scrolling",a=null,r=0;this._trackEvent(e,i,n,a,r)},logAttendanceChange:function(t){var e=t.subject.type,i="click",n=t.type,a=t.subject.id,r=0;this._trackEvent(e,i,n,a,r)},logFacebookConnect:function(t){var e="fb_connect",i="click",n=null,a=null,r=0;this._trackEvent(e,i,n,a,r)},logArtistPageReviewCTAView:function(t){var e="artist_page_review_cta",i="view",n=t.existing_review_label,a=null,r=1;this._trackEvent(e,i,n,a,r)},logEventPageArtistReviewsView:function(t){var e="event_page_artist_reviews",i="view",n=null,a=null,r=1;this._trackEvent(e,i,n,a,r)},logEventPageUpcoming:function(t){var e="event_page",i="view_upcoming",n=t.tickets_label,a=null,r=1;this._trackEvent(e,i,n,a,r)},logEventPagePast:function(t){var e="event_page",i="view_past",n=null,a=null,r=1;this._trackEvent(e,i,n,a,r)},logNavigationSearch:function(t){var e=t.category,i="search",n=null,a=null,r=0;this._trackEvent(e,i,n,a,r)},logArtistUpdateView:function(t){var e="artist_updates_load",i=t.action,n=t.label,a=null,r=1;this._trackEvent(e,i,n,a,r)},logArtistUpdateCtaClick:function(t){var e="artist_updates_click",i=t.action,n=t.label,a=null,r=0;this._trackEvent(e,i,n,a,r)},logArtistUpdateImageClick:function(t){var e="artist_updates_click_photo",i=t.action,n=t.label,a=null,r=0;this._trackEvent(e,i,n,a,r)},logFreshTicketEventClick:function(t){var e=t.category,i="click",n="fresh_events_component",a=null,r=0;this._trackEvent(e,i,n,a,r)},logPromotedTicketEventClick:function(t){var e=t.category,i="click",n="promoted_events_component",a=null,r=0;this._trackEvent(e,i,n,a,r)},logAppStoreRedirect:function(t){var e="app_store_redirect",i="click",n=t.label,a=null,r=0;this._trackEvent(e,i,n,a,r)},logAnalyticsTriggersFromAccountsFrontend:function(){var t="analytics_trigger",e=$.cookie(t);if(e){var i=JSON.parse(e),n=i.category,a=i.action,r=i.label,S=i.value,N=1;this._trackEvent(n,a,r,S,N),$.cookie(t,null,{path:"/",domain:".songkick.com"}),$.cookie(t,null,{path:"/",domain:".songkick.net"})}},setSignupCTACustomDimension:function(t){typeof ga!="undefined"&&ga("set","dimension4",t.action)},setPageTypeCustomDimension:function(t){typeof ga!="undefined"&&ga("set","dimension7",t)},setTicketLinkCustomDimension:function(t){t=t||{},t.sk_event_id&&typeof ga!="undefined"&&ga("set","dimension5",t.sk_event_id.toString())},_trackEvent:function(t,e,i,n,a){var r=Songkick.Helpers.Window.getPageUrl();typeof ga!="undefined"&&ga("send",{hitType:"event",eventCategory:t,eventAction:e,eventLabel:i,eventValue:n,nonInteraction:a,location:r}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,category:t,label:i,value:n,location:r})}});Songkick.EventBus.bind("app:initialize",function(t){Songkick.EventBus.bind("ga:initialize",function(){new Songkick.Analytics.Google(t.events)})});Songkick.Analytics.ScrollDepth=Songkick.Class({initialize:function(t){this._events=t,this._scrollStarted=!1;var e=this;$(function(){$(window).on("scroll.songkick",function(){e.scrollStarted()})});for(var i=10;i<=40;i+=10)(function(){var n=i;setTimeout(function(){e._events.trigger("analytics:scroll_depth:time_spent",{time:n})},n*1e3)})();for(var i=60;i<=120;i+=30)(function(){var a=i;setTimeout(function(){e._events.trigger("analytics:scroll_depth:time_spent",{time:a})},a*1e3)})()},scrollStarted:function(){this._scrollStarted||(this._events.trigger("ui:scroll:start",{}),this._scrollStarted=!0,$(window).off("scroll.songkick"))}});Songkick.EventBus.bind("app:initialize",function(t){Songkick.EventBus.bind("ga:initialize",function(){new Songkick.Analytics.ScrollDepth(t.events)})});Songkick.EventBus.bind("analytics:google:loaded",function(t){$.scrollDepth({userTiming:!1,pixelDepth:!1,gtmOverride:!0})});Songkick.Analytics.SelectorScrolledInView=class{constructor(e,i){this.selector=$(e),this.analytics=i,this.setupScrollEvent()}setupScrollEvent(){let e=!1;Songkick.EventBus.bind("analytics:google:loaded",()=>{$(window).scroll(()=>{let i=this.selector.offset().top,n=i+this.selector.outerHeight(),a=$(window).scrollTop();a+$(window).innerHeight()>i&&a<n&&!e&&(Songkick.EventBus.trigger("ui:view",this.analytics),e=!0)})})}};var ne=Songkick.Analytics.SelectorScrolledInView;Songkick.Component.Navigation=Songkick.Class({initialize:function(t){this._eventBus=t,this.largeScreenNavigation(),this.hideNavigationDropdowns(),this.searchFormHandler(),this.tickCountHandler()},tickCountHandler:function(){var t=$(".js-nav-plans");function e(i,n){var a,r,S=i.getElementsByTagName("a")[0],N=parseFloat(S.getAttribute("data-plan-count"));n=="increment"?(r="nav-item-increment",a=N+1):(r="nav-item-decrement",a=N==0?0:N-1),$(i).addClass(r),setTimeout(function(){S.setAttribute("data-plan-count",a),$(i).removeClass(r)},250)}this._eventBus.bind("ui:navigation:your_plans:increment",function(){t.each(function(i,n){e(n,"increment")})}),this._eventBus.bind("ui:navigation:your_plans:decrement",function(){t.each(function(i,n){e(n,"decrement")})})},searchFormHandler:function(){var t=this;$("#site-search").submit(function(e){t._eventBus.trigger("ui:navigation:search",{category:$(e.target).data("analytics-category")})})},largeScreenNavigation:function(){$("html").on("click",'.nav > a[href^="#"]',function(t){var e=t.currentTarget,i=e.hash;e.className.match(/\bactive\b/)&&!e.className.match(/\bactive\b/).size==1?($(e).toggleClass("active"),$(i).toggleClass("visible")):($(".nav .visible").toggleClass("visible"),$(".nav .active").toggleClass("active"),$(e).toggleClass("active"),$(i).toggleClass("visible")),t.preventDefault(),t.stopPropagation()})},hideNavigationDropdowns:function(){$("html").on("click",function(t){var e=t.target.className.match(/navigation-search|navigation-submit/);e||($(".navigation .visible").toggleClass("visible"),$(".navigation .active").toggleClass("active"))})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.Navigation(t.events)});Songkick.Component.NavigationLargeScreen=Songkick.Class({initialize:function(t,e){var i=this;i.loadImages(t,e)},loadImages:function(t,e){var i=$(t+" .listing img"),n=$(t);n.hover(function(){for(var a=0;a<i.length;a++)i[a].src=i[a].dataset.src;n.unbind("hover")})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.NavigationLargeScreen(".navigation-large-screen",t.events)});Songkick.Component.TrackAlert=Songkick.Class({initialize:function(t){this._eventBus=t,this.alertHandler()},alertHandler:function(){var t=$(".js-track-alert");function e(){t.fadeOut(250)}this._eventBus.bind("ui:navigation:your_plans:increment",function(){t.fadeIn(250),setTimeout(function(){e()},4e3)})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.TrackAlert(t.events)});Songkick.Component.BulkUntracker=Songkick.Class({initialize:function(t){this.responsiveSizeTrigger=767,this.lastSize=void 0,this._window=$(window),this.addResponsiveClass(),this.addResizeListener();var e=t.selector,i=".responsive li:not(.deleted-responsive):not(.pending-tracking) input[type=checkbox]",n=".responsive li.deleted-responsive:not(.pending-tracking) input[type=checkbox]",a=this;$(e).find(".select-all").bind("change",function(){a.selectAll(e,this)}),$(e).find("ul input[type=checkbox]").bind("change",function(){a.toggleDeleted(e,this)}),$(".page").on("click",i,function(){a.TrackArtist(this)}),$(".page").on("click",n,function(){a.UntrackArtist(this)})},selectAll:function(t,e){var i=$(e).attr("checked")==="checked"?"checked":null,n=$(t).find("ul input[type=checkbox]"),a=i==="checked";n.attr("checked",i),n.parents("li").toggleClass("deleted",a),$(t).find(".select-all").attr("checked",i)},toggleDeleted:function(t,e){$(t).find(".select-all").attr("checked",null),$(e).parents("li").toggleClass("deleted")},TrackArtist:function(t){var e=this.formValues(t),i=$(t).parents("li");i.addClass("pending-tracking"),this.track("/trackings/untrack",e).done(function(){i.removeClass("pending-tracking").addClass("deleted-responsive")}).fail(function(){i.removeClass("pending-tracking")})},UntrackArtist:function(t){values=this.formValues(t),li=$(t).parents("li"),li.addClass("pending-tracking"),this.track("/trackings",values).done(function(){$(li).removeClass("deleted-responsive").removeClass("pending-tracking")}).fail(function(){li.removeClass("pending-tracking")})},formValues:function(t){var e=$(t.form).serializeArray(),i=[];return $(e).each(function(){this.name!="subject_ids[]"&&i.push(this)}),i.push({name:t.name.replace("s[]",""),value:t.value}),i},track:function(t,e){var i=$.Deferred();return $.post(t,e).success(function(){i.resolve()}).fail(function(){i.reject()}),i},addResizeListener:function(){var t=this;$(window).resize(function(){t._window.width()!=t.lastSize&&(t.lastSize=t._window.width(),t.addResponsiveClass())})},addResponsiveClass:function(){this._window.width()<this.responsiveSizeTrigger?$(".un-tracker").addClass("responsive-layout"):$(".un-tracker").removeClass("responsive-layout")}});Songkick.EventBus.bind("app:initialize",function(){new Songkick.Component.BulkUntracker({selector:".artist-listings form"})});Songkick.Component.OffTourMobileArtist=Songkick.Class({initialize:function(){$(".mobile-signup-cta-brief .button.ios.top").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"ios_off_tour_top"})}),$(".mobile-signup-cta-brief .button.android.top").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"android_off_tour_top"})}),$(".mobile-signup-cta-brief .button.ios.bottom").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"ios_off_tour_bottom"})}),$(".mobile-signup-cta-brief .button.android.bottom").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"android_off_tour_bottom"})}),$(".mobile-signup-cta-brief .app-store-button").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"ios_off_tour_button"})}),$(".mobile-signup-cta-brief .google-play-button").bind("click",function(){Songkick.EventBus.trigger("ui:app-store-redirect:redirect-to-appstore",{label:"android_off_tour_button"})})}});Songkick.EventBus.bind("app:initialize",function(){new Songkick.Component.OffTourMobileArtist});Songkick.Touch=Songkick.Class({is_touch_device:"ontouchstart"in document.documentElement,initialize:function(){this.is_touch_device&&$(".hover-for-touch > a").on("click",function(t){t.preventDefault()})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Touch});Songkick.Component.Tracking=Songkick.Class({ANALYTICS_ACTION_TRACK:"track",ANALYTICS_ACTION_UNTRACK:"untrack",initialize:function(t){this._allForms=$(t.el).find("form"),this._trackAction="/trackings",this._unTrackAction="/trackings/untrack",this._events=t.events,this._setupListeners()},_setupListeners:function(){var t=this;this._allForms.bind("submit",function(e){t._formSubmitted(e,$(this))})},_formSubmitted:function(t,e){this._failure||(t.preventDefault(),this._postForm(e),e.attr("action")!==this._unTrackAction&&!e.data("analytics-category")&&(e.data("analytics-category")||this._events.trigger("ui:attendance:click",this._getDataFromForm(e))))},_postForm:function(t){var e=this,i=t.find('button[type="submit"]');i.val(" "),$.post(t.attr("action"),t.serialize()).done(function(n){var a=$(t).hasClass("submit_handled");if(!a){if(typeof n.redirect!="undefined"){window.location=n.redirect;return}e._formSuccessfullyPosted(t)}}).fail(function(){e._formFailure(t)}).always(function(){i.attr("disabled",!1),t.removeClass("pending")})},_formSuccessfullyPosted:function(t){t=$(t);var e=this._allForms.find(".selected");this._allForms.find("button[type='submit']").removeClass("selected");var i=t.attr("action")===this._unTrackAction,n=t.find("button[type='submit']"),a=i?this._trackAction:this._unTrackAction,r=t.data("tracking-text"),S=t.data("subject-upcoming"),N=t.data("stop-tracking-text"),M=t.find("[name=subject_id]").val(),C=t.find("[name=subject_type]").val();if(t.attr("action",a),t.siblings("form").attr("action",this._trackAction),this._events.trigger("ui:tracking",{subjectId:M,subjectType:C,action:i?"untrack":"track"}),i)n.val(r),n.html(r),n.removeClass("selected"),t.data("analytics-action",this.ANALYTICS_ACTION_TRACK),C=="Event"&&S===!0&&this._events.trigger("ui:navigation:your_plans:decrement");else if(n.val(N),n.html(N),n.addClass("selected"),t.data("analytics-action",this.ANALYTICS_ACTION_UNTRACK),e.length===0&&C=="Event"&&S===!0){var f=t.find("[name=attendance_buttons_type]").val(),v=t.find("[name=event_name]").val();this._events.trigger("ui:navigation:your_plans:increment",{eventName:v,attendanceType:f})}},_formFailure:function(t){this._failure=!0,t.find("button[type='submit']").click()},_getDataFromForm:function(t){if(t.find("[name=attendance_buttons_type]").val())var e=t.find("[name=attendance_buttons_type]").val();else var e=t.find("[name=relationship_type]").val();return{type:e.replace(/_/g,"-"),subject:{type:t.find("[name=subject_type]").val(),id:t.find("[name=subject_id]").val()}}}});Songkick.EventBus.bind("app:initialize",function(t){function e(i){$(i).each(function(n,a){new Songkick.Component.Tracking({el:a,events:t.events})})}e(".attendance"),e(".tracking")});Songkick.Component.ArtistTracking=Songkick.Class({initialize:function(t){this._trackingForm=$(t.element).find("form"),this._trackAction="/trackings",this._unTrackAction="/trackings/untrack",this._events=t.events,this._getLocale(),this._prepareTrackingButton()},_getLocale:function(){this.locale=document.querySelector("#track_artist_dynamic_button").dataset.locale},notTrackingArtist:function(){return{copy:this.locale=="fr"?"Suivre les concerts":"Track tour dates",class:"not-tracking-artist"}},trackingArtist:function(){return{copy:this.locale=="fr"?"Suivi":"Tracking",class:"tracking-artist"}},_prepareTrackingButton:function(){var t=this;this._trackingForm.bind("submit",function(e){t._handleFormSubmit(e,$(this))})},_handleFormSubmit:function(t,e){this._failure||(t.preventDefault(),this._postTrackingChange(e))},_postTrackingChange:function(t){var e=this,i=t.find('button[type="submit"]');$.post(t.attr("action"),t.serialize()).done(function(n){if(typeof n.redirect!="undefined"){window.location=n.redirect;return}e._handleSuccessfulResponse(t)}).fail(function(){e._formFailure(t)}).always(function(){i.attr("disabled",!1),t.removeClass("pending")})},_handleSuccessfulResponse:function(t){self=this,t=$(t);var e=t.attr("action")===this._unTrackAction,i=t.find("button[type='submit']"),n=e?this._trackAction:this._unTrackAction;t.attr("action",n),self._changeTrackingsCountUI(e),e?(i.find(".icon").removeClass(this.trackingArtist().class),self._toggleButtonUI(i,this.notTrackingArtist())):(i.find(".icon").removeClass(this.notTrackingArtist().class),self._toggleButtonUI(i,this.trackingArtist()))},_changeTrackingsCountUI:function(t){if(this._trackingForm.parents("#artist-brief-cta").length!==0){var e=$("#artist-brief-cta").find(".fan-count"),i=new Songkick.Component.ArtistHeaderTrackingsCount({element:e,wasTrackingArtist:t});i.changeCountUI()}},_toggleButtonUI:function(t,e){t.val(e.copy),t.find(".text").html(e.copy),t.find(".icon").addClass(e.class)},_formFailure:function(t){this._failure=!0,t.find("button[type='submit']").click()}});Songkick.EventBus.bind("app:initialize",function(t){function e(i){$(i).each(function(n,a){new Songkick.Component.ArtistTracking({element:a,events:t.events})})}e(".track-artist-button")});Songkick.Component.ArtistHeaderTrackingsCount=Songkick.Class({initialize:function(t){this._trackingsCountElement=$(t.element),this._wasTrackingArtist=t.wasTrackingArtist},changeCountUI:function(){var t=this._trackingsCountElement.data("tracking-count");this._wasTrackingArtist?this._trackingsCountElement.html(t+this.trackingCountSuffix(t)):this._trackingsCountElement.html("You & "+t+this.trackingCountSuffix(t))},trackingCountSuffix:function(t){return t===1?" fan":" fans"}});Songkick.Component.CitySelector=Songkick.Class({initialize:function(t){if(this._element=$(t.selector),this._element.length!=0){this._venueSelection=this._element.find(".venue-selection"),this._selected=this._element.find(".selected-"+t.suffix),this._search=this._element.find(".search-"+t.suffix),this._searchUI=this._element.find(".search-ui"),this._selections=this._element.find(".selections");var e=this._venueSelection.data("searching-for-venue");e===!0&&typeof this._venueSelection[0].scrollIntoView=="function"&&this._venueSelection[0].scrollIntoView();var i=this;this._selections.find("input[type=radio]").bind("click",function(){i.showSelected(this)})}},showSelected:function(t){this._selected.removeClass("hidden"),this._search.addClass("hidden"),this._search.find("input[type=text]").val(""),this._searchUI.addClass("hidden");var e=$("label[for="+t.id+"]");this._selected.find("strong").html(e.html())}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.CitySelector({selector:".venue-form",suffix:"small-city"}),new Songkick.Component.CitySelector({selector:".festival-instance-form",suffix:"venue"}),new Songkick.Component.CitySelector({selector:".concert-form",suffix:"venue"})});Songkick.Component.DmpAnalytics=Songkick.Class({initialize:function(t){t.t()}});Songkick.EventBus.bind("app:initialize",function(){typeof sendDmpAnalytics!="undefined"&&sendDmpAnalytics===!0&&typeof s!="undefined"&&typeof digitalData!="undefined"&&new Songkick.Component.DmpAnalytics(s)});Songkick.Component.FilterMetroArea=Songkick.Class({initialize:function(t){var e=this;e.setupListeners(t,e)},setupListeners:function(t,e){$(t).on("click",e.followSaveLocationLink)},followSaveLocationLink:function(t){t.preventDefault(),$(t.currentTarget).find("form").submit()}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.FilterMetroArea(".filter-metro-area.search li"),new Songkick.Component.FilterMetroArea(".popular-metro-areas li")});Songkick.Component.TasteImportSpotify=Songkick.Class({initialize:function(t){this._events=t.events,this._selector=t.selector,this._initSpotifyAuthSuccessHandler(),this._initSpotifyAuthFailedHandler()},_initSpotifyAuthSuccessHandler:function(t){var e=this;this._events.bind("taste_import:spotify:authentication:success",function(i){var n=$(e._selector);accessTokenField=n.find('input[name="authorization_code"]'),accessTokenField.attr("value",i.code),n.submit()})},_initSpotifyAuthFailedHandler:function(t){this._events.bind("taste_import:spotify:authentication:error",function(e){Songkick.Helpers.Window.reload(!0)})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.TasteImportSpotify({events:t.events,selector:"form.spotify.hidden"})});Songkick.Component.RecommendationsSearch=Songkick.Class({initialize:function(t){this._container=t.container,this._selector=t.selector,$(this._selector).length>0&&this._bindScrollEvent()},_bindScrollEvent:function(){var t=$(this._selector),e=t.offset().top;$(this._container).scroll(function(){var i=$(this).scrollTop();i>=e?t.toggleClass("artist-fixed",!0):t.toggleClass("artist-fixed",!1)})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.RecommendationsSearch({container:window,selector:".artist-search"})});Songkick.Component.Search=Songkick.Class({initialize:function(t){this._selector=t.selector,this._eventBus=t.events,this._label=t.label,this._offset=t.offset,this._form=$(this._selector).find(t.formSelector),this._input=$(this._form).find('input[name="query"]'),this._setupListeners()},_setupListeners:function(){var t=this,e=$(this._selector).find("li a");e.click(function(i){t.logSearchResultClick(this,i)}),this._form.on("submit",()=>{this.handleSubmit()}),this._input.on("focus",()=>{this.handleFocus()})},logSearchResultClick:function(t,e){var i=e.currentTarget,n=i.getAttribute("data-id"),a=i.getAttribute("data-resource-name");this._eventBus.trigger("ui:click",{action:"search",category:"search_result_click",label:this._label,value:`${a}-${n}`})},handleSubmit:function(){var t=this._input.val();window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"search_submit",search_keyword:t})},handleFocus:function(){var t=this._form.find("#query").val();window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"search_click",search_keyword:t})}});Songkick.Component.RefreshCarousel=Songkick.Class({initialize:function(){var t=this;t.initRefresh()},onSuccess:function(t,e){var i=$(t);this.replaceCarousel(i,e),this.initCarousel(i),this.initCtaButtons(i)},replaceCarousel:function(t,e){e.replaceWith(t)},initCarousel:function(t){new Songkick.Component.Carousel($(t).find(".carousel"),Songkick.EventBus)},initCtaButtons:function(t){var e=t.find(".attendance");$(e).each(function(i,n){new Songkick.Component.Tracking({el:n,events:Songkick.EventBus})}),new Songkick.FormDoubleSubmitPrevention},initRefresh:function(){var t=this;$("body").on("click",".artist-related-events .refresh .refresh-button",function(e){e.stopPropagation(),e.preventDefault();var i=$(e.currentTarget).closest("form"),n=i.closest(".row"),a=i.closest(".discovery-dashboard-section"),r=i.find("[name=next_artist_id]").val(),S=i.find("[name=seed_artist_ids]").val(),N=i.find("[name=city_id]").val(),M=a.data("analytics-source"),C=a.find(".discovery").detach();a.append('          <div class="carousel-refresh-spinner">            <h1 class="empty">              <img src="/images/nw/furniture/spinners/large.gif" title="Fetching more recommendations" alt="Fetching more recommendations" class="spinner">            </h1>          </div>        ');var f=$(i.find(".refresh-button")).detach(),v=$.ajax({url:i.attr("action"),method:"post",data:{next_artist_id:r,seed_artist_ids:S,city_id:N}});v.done(function(p){t.onSuccess(p,n)}),v.fail(function(){t.replaceCarousel(C,$(".carousel-refresh-spinner")),a.find(".refresh").append(f),a.find("h3.section-title").after('<div class="refresh-error-message">Sorry, we could not refresh the carousel.</div>'),setTimeout(function(){$(".refresh-error-message").remove()},3e3)})})}});Songkick.EventBus.bind("app:initialize",function(){new Songkick.Component.RefreshCarousel});Songkick.Component.DiscoveryTooltip=Songkick.Class({initialize:function(t){this._events=t,this._carousel=this.getCarousel(),this._initTooltip()},getCarousel:function(){var t=$(".discovery.carousel-list, .discovery.mobile");return t.length<2?t.first():t.eq(1)},getHTML:function(){return $(".discovery-tooltip-container").html()},_initTooltip:function(){var t=this.getHTML();this._carousel.after(t),this.setHideEvents()},setHideEvents:function(){var t=this;$(".discovery-tooltip .close-button").on("click",function(){t.hideTooltip()}),t._events.bind("ui:navigation:your_plans:increment",function(){t.hideTooltip()})},hideTooltip:function(){var t=$(".discovery-tooltip");t.length<1||(t.hide(),$.cookie("dismissed_discovery_tooltip",!0,{path:"/"}))}});Songkick.Component.ToggleVisibility=Songkick.Class({initialize:function(t){this.toggle(t),this.addOpen(t)},toggle:function(t){$(t).on("click",function(e){e.preventDefault();var i=this.hash;i||(window.location.hash=i,i=$(this).data("target"));var n=$(i);n.hasClass("closed")?(n.addClass("open"),n.removeClass("closed")):n.hasClass("open")?(n.removeClass("open"),n.addClass("closed")):n.toggleClass("open")})},addOpen:function(t){$(t).length>0&&window.location.hash&&$(window.location.hash).toggleClass("open")}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.ToggleVisibility(".toggle-link")});Songkick.Component.NavDropdownContentToggleChevronRotate=Songkick.Class({initialize:function(t,e){this.toggle(t,e)},toggle:function(t,e){$(t).on("click",function(i){i.stopPropagation();var n=$(this).find("i.chevron"),a=$(this).find(e),r=$(n),S=$(a);r.hasClass("rotate")&&!S.hasClass("open")?r.removeClass("rotate"):r.addClass("rotate")})}});Songkick.EventBus.bind("app:initialize",function(t){new Songkick.Component.NavDropdownContentToggleChevronRotate(".toggle-chevron-rotate",".dropdown-content")});Songkick.Component.Modal=Songkick.Class({initialize:function(t){var e=this;if(e.dataset=t,!(!e.dataset.component||!e.dataset.analytics_category||!e.dataset.analytics_label||!e.dataset.analytics_action_prefix||!e.dataset.cookie_key||!e.dataset.modal_class)){var i=".modal."+e.dataset.modal_class+" ";$("body").on("click",i+".close",function(n){e.close("close",e)}),$("body").on("click",i+".close-message",function(n){e.close("opt_out",e)}),$("body").on("click",".modal-wrapper:has("+i+")",function(n){e.close("off_modal",e)}),$("body").on("click",i,function(n){n.stopPropagation()})}},show:function(t){if(!$.cookie(t.dataset.cookie_key)){SK.mobileAppAd&&SK.mobileAppAd.close();var e=t.prepare(t),i=t.dataset.component;e.find(".modal").append(i);var n={path:"/"};t.dataset.cookie_expiration&&(n.expires=t.dataset.cookie_expiration),$.cookie(t.dataset.cookie_key,!0,n)}},prepare:function(t){var e=['<div class="modal-wrapper">','<div class="modal '+t.dataset.modal_class+'">',"</div>","</div>"].join(""),i=$(e),n=$("body");return n.addClass("no-scroll"),n.append(i),i},close:function(t,e){$("body").removeClass("no-scroll"),$(".modal-wrapper").remove();var i=e.dataset.analytics_action_prefix+":"+t;Songkick.EventBus.trigger("ui:click",{category:e.dataset.analytics_category,label:e.dataset.analytics_label,action:i})}},{createModal:function(t){return new Songkick.Component.Modal(t)}});Songkick.Component.StickyContinueFooter=Songkick.Class({countSelector:"js-seed-counter-count",statusSelector:"js-seed-counter-status",continueSelector:"js-continue",initialize:function(t){this._eventBus=t.eventBus,this._disableOnZeroTrackings=t.disableOnZeroTrackings||!1,this._counterElement=$("."+this.countSelector),this._statusElement=$("."+this.statusSelector),this._continueElement=$("."+this.continueSelector),this._continueForm=this._continueElement.closest("form"),this.updateSeedCount(this.currentCount()),this.setupSeedCountHandler()},currentCount:function(){return parseInt(this._counterElement.text(),10)},setupSeedCountHandler:function(){var t=this;t._eventBus.bind("ui:tracking",function(e){if(e.subjectType!=="Artist")return!1;switch(e.action){case"track":t.updateSeedCount(t.currentCount()+1);break;case"untrack":t.updateSeedCount(t.currentCount()-1);break}t._eventBus.trigger("ui:seed_count",{seedCount:t.currentCount()})})},updateSeedCount:function(t){t<0&&(t=0),this._continueForm.data("analytics-value",t),this._counterElement.text(t),t>0?(this._statusElement.addClass(this.statusSelector+"-activated"),this._continueElement.attr("disabled",!1)):(this._statusElement.removeClass(this.statusSelector+"-activated"),this._disableOnZeroTrackings&&this._continueElement.attr("disabled",!0))}});Songkick.Component.briefSlideshow=Songkick.Class({initialize:function(t,e){var i=this;i.paths=e,i.targetDiv=$(t),i.loadImages(i)},loadImages:function(t){for(var e=t.paths,i=0;i<e.length;i++){var n='<img src="'+e[i]+'" height="607" width="1080" alt="" class="brief-slideshow">';t.targetDiv.append(n)}}});Songkick.Component.EllipsisParagraph=Songkick.Class({initialize:function(t,e,i){this._paragraph=$(t),this._maxLines=e,this._lineHeight=i,this._ellipsis()},_ellipsis:function(){var t=this;if(t._paragraph.html())for(var e=t._paragraph.html().split(" ");t._paragraph.height()>t._maxLines*t._lineHeight;)e.pop(),t._paragraph.html(e.join(" ")+"\u2026")}});Songkick.Component.NavigationCarousel=Songkick.Class({initialize:function(){window.innerWidth<=568&&(this.navCarousel=$(".navigation-carousel-wrapper"),this.navCarouselHeight=this.getNavCarouselHeight(),this.footer=$("#footer"),this.stickyClassAdded=!1,this.hasSlidUp=!1,this.stickyClass="sticky-border",this.logNavCarouselScroll(),this.listenForHandlers())},getNavCarouselHeight:function(){return this.navCarousel.height()},getNavCarouselTopPosition:function(){return this.navCarousel[0].getBoundingClientRect().top},getFooterPosition:function(){return this.footer[0].getBoundingClientRect().top},listenForHandlers:function(){var t=this;setInterval(function(){t.handleStickyClass(),t.handleSlideUpAndDown()},100)},handleStickyClass:function(){var t=this.getNavCarouselTopPosition();t<=1&&!this.stickyClassAdded?(this.stickyClassAdded=!0,this.navCarousel.addClass(this.stickyClass)):t>1&&this.stickyClassAdded&&(this.stickyClassAdded=!1,this.navCarousel.removeClass(this.stickyClass))},handleSlideUpAndDown:function(){var t=this.getFooterPosition();t<this.navCarouselHeight&&!this.hasSlidUp?(this.hasSlidUp=!0,this.navCarousel.slideUp()):t>this.navCarouselHeight&&this.hasSlidUp&&(this.hasSlidUp=!1,this.navCarousel.slideDown())},logNavCarouselScroll:function(){var t=!1,e=!1;this.navCarousel.on("scroll",function(){t=!0}),setInterval(function(){t&&!e&&(Songkick.EventBus.trigger("ui:event",{category:"navigation",action:"scroll",nonInteraction:0}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"navigation_scroll",navigation_type:"navigation-carousel-wrapper"}),e=!0)},250)}});Songkick.Component.MobileHelper=Songkick.Class({initialize:function(){this.setAppStoreButtonElementHref()},setAppStoreButtonElementHref:function(){var t=this;$(".app-store-redirect").each(function(){var e=$(this).data("app-store-campaign")||"",i=$(this).data("app-store-medium")||"",n=t.mobileStoreUrl(e,i);$(this).attr("href",n)})},mobileStoreUrl:function(t,e){let i="307660",a="skweb";return this.isIosUser()?"https://itunes.apple.com/us/app/apple-store/id438690886?pt="+i+"&mt=8&ct="+a+":"+t:this.isAndroidUser()?"https://play.google.com/store/apps/details?id=com.songkick&referrer=utm_source=skweb&utm_medium="+e+"&utm_campaign="+t:null},isIosUser:function(){return!!Songkick.Helpers.Window.navigator().userAgent.match(/iPhone/)},isAndroidUser:function(){return!!Songkick.Helpers.Window.navigator().userAgent.match(/Android/)}});Songkick.EventBus.bind("app:initialize",function(){new Songkick.Component.MobileHelper});})();

</script>

</body>
</html>
