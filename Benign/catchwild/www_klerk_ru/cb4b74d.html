<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cb4b74d.html</title>
</head>
<body>

<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[228,371],{2125:function(e,t,n){"use strict";n.r(t);var r=n(9),o=n(0),l=n(1),c=(n(17),n(75),Object(o.defineComponent)({name:"BaseSocialWidgetsFavorites",inheritAttrs:!1,props:{favorites:{type:Number,default:null},inMyFavorites:{type:Boolean,default:null},entityId:{type:Number,default:null},iconClasses:{type:String,default:null},counterClasses:{type:String,default:null}},setup:function(e,t){var n=t.emit,c="/v3/favorite/",f=Object(r.d)(),v=f.$auth,d=f.$axios,h=Object(o.ref)(e.inMyFavorites),m=Object(o.ref)(e.favorites);Object(o.watch)((function(){return e.inMyFavorites}),(function(e){return h.value=e})),Object(o.watch)((function(){return e.favorites}),(function(e){return m.value=e}));var y=Object(o.computed)((function(){return h.value?"Удалить из избранного":"В избранное"})),x=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.$delete(c,{params:{entityId:e.entityId}});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.$post(c,{entityId:e.entityId});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){null!==m.value&&(h.value?m.value--:m.value++,h.value=!h.value)},j=function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v.user.confirm.email){e.next=4;break}return n("confirm-email"),e.abrupt("return");case 4:if(C(),!h.value){e.next=10;break}return e.next=8,w();case 8:e.next=12;break;case 10:return e.next=12,x();case 12:n("toggle-favorite",h.value),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),C(),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return{ariaText:y,favorited:h,favoritesCount:m,toggleFavorite:j}}})),f=c,v=n(59),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CoreAuthRequired",{attrs:{"login-data":{title:"Войдите, чтобы добавить материал в избранное"}},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.withAuth;return[t("UiButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.ariaText,duration:[300,50]},expression:"{ content: ariaText, duration: [300, 50] }"}],staticClass:"relative inline-flex leading-[14px] focus-visible:outline-none focus-visible:before:block focus-visible:before:bg-grey-200 focus-visible:before:opacity-30 focus-visible:before:-left-1.45 focus-visible:before:size-7 focus-visible:before:top-1/2 focus-visible:before:-translate-y-1/2 focus-visible:before:absolute focus-visible:before:rounded-full",attrs:{"aria-label":e.ariaText,"only-icon":!e.favoritesCount,"icon-left":"fa-solid fa-star","icon-left-classes":e.favorited?"text-yellow-500":e.iconClasses||"text-grey-300 group-focus:text-grey-400 group-hover:text-grey-400",theme:"clean",size:"sm"},on:{click:function(t){return r(e.toggleFavorite,t)}}},[e.favoritesCount?t("span",{staticClass:"self-end",class:e.counterClasses},[e._v("\n      "+e._s(e.favoritesCount)+"\n    ")]):e._e()])]}}])})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{UiButton:n(425).default,CoreAuthRequired:n(628).default})},628:function(e,t,n){"use strict";n.r(t);var r={name:"CoreAuthRequired",props:{loginData:{type:Object,default:function(){}}},methods:{openAuthPage:function(e){e.preventDefault(),e.stopPropagation(),this.$auth.open.login(this.loginData)}},render:function(){var e=this;return this.$scopedSlots.default({withAuth:function(t,n){return e.$auth.loggedIn?t():e.openAuthPage(n)}})}},o=n(59),component=Object(o.a)(r,undefined,undefined,!1,null,null,null);t.default=component.exports}}]);
</script>

</body>
</html>
