<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>disposable-iframe.min.html</title>
</head>
<body>

<script>
(function(){var a,b,c,d,e,f,g=function(a,b){return function(){return a.apply(b,arguments)}};b=function(a,b,c){return a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent("on"+b,c):void 0},f=function(a,b,c){return a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):void 0},d=function(a){var b,c,d,e,f,g,h;for(f=[],d=g=0,h=a.length-1;0<=h?g<=h:g>=h;d=0<=h?++g:--g)c=a.charCodeAt(d),b=a.charAt(d),e=c<128?b:"&#"+c+";",f.push(e);return f.join("")},c=0,e="_disposable_iframe",null==window[e]&&(window[e]={callbacks:{},contents:{}}),a=function(){function a(a,b){var d,e,f,h;null==a&&(a={}),this.callback=null!=b?b:function(){},this.onloadListener=g(this.onloadListener,this),this.options={},h=this.default_options;for(e in h)f=h[e],this.options[e]=f;for(e in a)f=a[e],this.options[e]=f;this.pointer=c++,d=this.getAttributes({frameborder:0,width:this.options.width,height:this.options.height,src:this.options.url,allowFullscreen:this.options.fullscreen},this.options.attributes),this.iframe=this.createIframe(d,this.options.target),this.setContent(this.options.content,this.options.passback_name,this.options.raw_content)}return a.prototype.default_options={content:null,raw_content:!1,entitize:!1,url:null,target:null,width:0,height:0,passback_name:"rubicon_passback",destroy_on_callback:!1,attributes:{},fullscreen:!1,callback:function(){},onload:function(){}},a.prototype.getAttributes=function(a,b){var c,d,e;null==a&&(a={}),null==b&&(b={}),c={};for(d in b)e=b[d],c[d]=e;for(d in a)e=a[d],c[d]=e;return null!=c.frameborder&&null==c.frameBorder&&(c.frameBorder=c.frameborder),c.allowFullscreen&&(c.mozAllowFullScreen=c.allowFullscreen,c.webkitAllowFullScreen=c.allowFullscreen),c},a.prototype.createIframe=function(a,c){var d,e,f;null==a&&(a={}),null==c&&(c=document.body),d=document.createElement("iframe");for(e in a)null!=(f=a[e])&&!1!==f&&d.setAttribute(e,f);return null!=a.src&&(b(d,"load",this.onloadListener),this.setListener()),c.appendChild(d),d},a.prototype.onloadListener=function(){return this.options.onload(),this.activateCallback("load")},a.prototype.setContent=function(a,c,g){var h;if(null==c&&(c=this.options.passback_name),null==g&&(g=this.options.raw_content),null!=a)return this.options.entitize&&(a=d(a)),h=g?a:"<html> <head> <meta charset='utf-8'> <script> var "+c+" = window.parent."+e+".callbacks["+this.pointer+"] <\/script> </head> <body>"+a+"</body> </html>",window[e].contents[this.pointer]=h,f(this.iframe,"load",this.onloadListener),b(this.iframe,"load",this.onloadListener),this.iframe.contentWindow.location.href="javascript:parent."+e+".contents["+this.pointer+"]",this.setListener()},a.prototype.setListener=function(){return window[e].callbacks[this.pointer]=function(a){return function(b){return a.handleSignal(b)}}(this)},a.prototype.handleSignal=function(a){if(this.callback(a),this.options.destroy_on_callback)return setTimeout(function(a){return function(){return a.destroy()}}(this),0)},a.prototype.destroy=function(){return null!=this.iframe&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,this.activateCallback("destroy")},a.prototype.resize=function(a,b){return this.iframe.width=a,this.iframe.height=b,this.activateCallback("resize")},a.prototype.callFunction=function(a,b){if("function"==typeof this.iframe.contentWindow[a])return this.iframe.contentWindow[a].apply(null,b),this.activateCallback(a,"iframe")},a.prototype.activateCallback=function(a,b){var c,d;null==b&&(b="parent"),c={type:a,scope:b,pointer:this.pointer};try{return this.options.callback(c)}catch(a){return d=a,_sashec.logger("DisposableIframe["+this.pointer+"] callback error - "+d)}},a}(),null==window.DisposableIframe&&(window.DisposableIframe=a)}).call(this);
</script>

</body>
</html>
