<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>block-rss-feed.min.html</title>
</head>
<body>
<script>"use strict";class RssFeed{block;initialised=!1;constructor(e){this.block=e,this.init()}init(){document.addEventListener("mousemove",(()=>{this.initialised||(this.initialised=!0,this.initSingle())}),{once:!0}),document.addEventListener("touchmove",(()=>{this.initialised||(this.initialised=!0,this.initSingle())}),{once:!0})}initSingle(e){this.feedID=this.block.getAttribute("data-feed"),this.feedID&&(this.feedContainer=this.block.querySelector(".block-rss-feed__feed"),this.getFeed())}async getFeed(){const e=await fetch(ajaxurl+"?action=get_rss_feed&id="+this.feedID).then((e=>e.json())).catch((e=>console.log(e)));this.parseFeed(e)}parseFeed(e){this.feedItems=e.data.item,this.title=e.data.title,this.currentFeedIndex=0,this.getNextFeedItem(),this.startFeedCycle(),this.block.querySelector("h2").innerHTML||(this.block.querySelector("h2").innerHTML=this.title)}startFeedCycle(){this.interval=setInterval((()=>{this.getNextFeedItem()}),7e3)}getNextFeedItem(){const e=this.feedItems[this.currentFeedIndex];this.feedContainer.innerHTML=`\n\t\t\t<a href="${e.link}" class="block-rss-feed__item" target="_blank">\n\t\t\t\t${e.title}\n\t\t\t</a>\n\t\t`,this.currentFeedIndex++,this.currentFeedIndex>=this.feedItems.length&&(this.currentFeedIndex=0)}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".block-rss-feed").forEach((e=>{new RssFeed(e)}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2Nrcy9yc3MtZmVlZC9ibG9jay1yc3MtZmVlZC5qcyJdLCJuYW1lcyI6WyJSc3NGZWVkIiwiYmxvY2siLCJpbml0aWFsaXNlZCIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImluaXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0U2luZ2xlIiwib25jZSIsImdldEF0dHJpYnV0ZSIsImZlZWRJRCIsImZlZWRDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0RmVlZCIsImRhdGEiLCJmZXRjaCIsInRoZW4iLCJwYXJzZUZlZWQiLCJqc29uIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ0aXRsZSIsImZlZWRJdGVtcyIsImdldE5leHRGZWVkSXRlbSIsIml0ZW0iLCJzdGFydEZlZWRDeWNsZSIsImN1cnJlbnRGZWVkSW5kZXgiLCJpbm5lckhUTUwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwibGluayIsImxlbmd0aCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiYUFBQSxNQUFNQSxRQUNMQyxNQUREQyxhQUFjLEVBRWJBLFlBQVdELEdBR1ZFLEtBQUtGLE1BQVFBLEVBRGRHLEtBQUFBLE9BR0NDLE9BR0FDLFNBQVNDLGlCQUFpQixhQUFhLEtBRHBDSixLQUFHRCxjQUNOSSxLQUFBQSxhQUFTQyxFQUNSSixLQUFBSyxnQkFDQSxDQUNBQyxNQUFBLElBQ0VILFNBSkhDLGlCQUFBLGFBQUEsS0FRQUQsS0FBUUosY0FDUEMsS0FBQUQsYUFBU0EsRUFDVEMsS0FBQUssZ0JBQ0EsQ0FDQUMsTUFBRSxJQUtKRCxXQUFXUCxHQUFYTyxLQUFBQSxPQUFXUCxLQUFNQSxNQUFBUyxhQUFBLGFBQ2hCUCxLQUFLUSxTQUNMUixLQUFBUyxjQUFpQlQsS0FBQUYsTUFBQVksY0FBQSx5QkFHakJWLEtBQUFXLFdBR0tBLGdCQUNMLE1BQUFDLFFBQWFDLE1BQU1BLFFBQWEsMkJBQVBiLEtBQXVDUSxRQUloRU0sTUFBS0MsR0FBVUgsRUFBZkksU0FDQUMsT0FBQUMsR0FBQUMsUUFBQUMsSUFBQUYsS0FFREgsS0FBQUEsVUFBU0gsR0FHUkcsVUFBS00sR0FHTHJCLEtBQUFzQixVQUFLQyxFQUFMWCxLQUFBWSxLQUNBeEIsS0FBQXFCLE1BQUtJLEVBQUFBLEtBQUxKLE1BR0FyQixLQUFBMEIsaUJBQWdCaEIsRUFDZlYsS0FBQXVCLGtCQUNBdkIsS0FBQXlCLGlCQUdGQSxLQUFBQSxNQUFjZixjQUFHLE1BQUFpQixZQUNoQjNCLEtBQUFGLE1BQUs4QixjQUFXQyxNQUFZRixVQUFNM0IsS0FBQXFCLE9BRG5DSSxpQkFNQUYsS0FBQUEsU0FBZU0sYUFBRyxLQUNqQjdCLEtBQUF1QixvQkFDQSxLQUdGQSxrQkFDQSxNQUpFQyxFQUFBeEIsS0FBQXNCLFVBQUF0QixLQUFBMEIsa0JBS0ExQixLQUFBUyxjQUFLaUIsVUFBTCxvQkFKWUYsRUFBS00sZ0VBS2pCTixFQUFJSCwwQkFHSnJCLEtBQUEwQixtQkFISTFCLEtBQUswQixrQkFBb0IxQixLQUFLc0IsVUFBVVMsU0F4RWhDL0IsS0FBQTBCLGlCQUFBLElBZ0ZkdkIsU0FBU0MsaUJBQWlCLG9CQUFvQixLQUM3Q0QsU0FBUzZCLGlCQUFpQixtQkFBbUJDLFNBQVNuQyxJQUNyRCxJQUFJRCxRQUFRQyIsImZpbGUiOiJyc3MtZmVlZC9ibG9jay1yc3MtZmVlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFJzc0ZlZWQge1xuXHRibG9jaztcblx0aW5pdGlhbGlzZWQgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3RvcihibG9jaykge1xuXHRcdHRoaXMuYmxvY2sgPSBibG9jaztcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGluaXQoKSB7XG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuaW5pdGlhbGlzZWQpIHJldHVybjtcblx0XHRcdHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5pbml0U2luZ2xlKCk7XG5cdFx0fSwge1xuXHRcdFx0b25jZTogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKCkgPT4ge1xuXHRcdFx0aWYgKHRoaXMuaW5pdGlhbGlzZWQpIHJldHVybjtcblx0XHRcdHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5pbml0U2luZ2xlKCk7XG5cdFx0fSwge1xuXHRcdFx0b25jZTogdHJ1ZVxuXHRcdH0pO1xuXHR9XG5cblx0aW5pdFNpbmdsZShibG9jayl7XG5cdFx0dGhpcy5mZWVkSUQgPSB0aGlzLmJsb2NrLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWVkJyk7XG5cdFx0aWYoIXRoaXMuZmVlZElEKSByZXR1cm47XG5cdFx0dGhpcy5mZWVkQ29udGFpbmVyID0gdGhpcy5ibG9jay5xdWVyeVNlbGVjdG9yKCcuYmxvY2stcnNzLWZlZWRfX2ZlZWQnKTtcblxuXHRcdHRoaXMuZ2V0RmVlZCgpO1xuXHR9XG5cblx0YXN5bmMgZ2V0RmVlZCgpIHtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2goYWpheHVybCArIGA/YWN0aW9uPWdldF9yc3NfZmVlZCZpZD1gICsgdGhpcy5mZWVkSUQpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG5cdFx0XHQuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcblxuXHRcdHRoaXMucGFyc2VGZWVkKGRhdGEpO1xuXHR9XG5cblx0cGFyc2VGZWVkKGRhdGEpIHtcblx0XHQvLyBjb25zb2xlLmxvZyhkYXRhKTtcblx0XHR0aGlzLmZlZWRJdGVtcyA9IGRhdGEuZGF0YS5pdGVtO1xuXHRcdHRoaXMudGl0bGUgPSBkYXRhLmRhdGEudGl0bGU7XG5cblx0XHR0aGlzLmN1cnJlbnRGZWVkSW5kZXggPSAwO1xuXHRcdHRoaXMuZ2V0TmV4dEZlZWRJdGVtKCk7XG5cdFx0dGhpcy5zdGFydEZlZWRDeWNsZSgpO1xuXG5cdFx0Ly8gaWYgdGhlcmUgaXMgbm90aGluZyBpbiB0aGUgaDIsIGFkZCB0aGUgdGl0bGVcblx0XHRpZiAoIXRoaXMuYmxvY2sucXVlcnlTZWxlY3RvcignaDInKS5pbm5lckhUTUwpIHtcblx0XHRcdHRoaXMuYmxvY2sucXVlcnlTZWxlY3RvcignaDInKS5pbm5lckhUTUwgPSB0aGlzLnRpdGxlO1xuXHRcdH1cblx0fVxuXG5cdHN0YXJ0RmVlZEN5Y2xlKCkge1xuXHRcdHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHR0aGlzLmdldE5leHRGZWVkSXRlbSgpO1xuXHRcdH0sIDcwMDApO1xuXHR9XG5cblx0Z2V0TmV4dEZlZWRJdGVtKCkge1xuXHRcdGNvbnN0IGl0ZW0gPSB0aGlzLmZlZWRJdGVtc1t0aGlzLmN1cnJlbnRGZWVkSW5kZXhdO1xuXHRcdHRoaXMuZmVlZENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHQ8YSBocmVmPVwiJHtpdGVtLmxpbmt9XCIgY2xhc3M9XCJibG9jay1yc3MtZmVlZF9faXRlbVwiIHRhcmdldD1cIl9ibGFua1wiPlxuXHRcdFx0XHQke2l0ZW0udGl0bGV9XG5cdFx0XHQ8L2E+XG5cdFx0YDtcblx0XHR0aGlzLmN1cnJlbnRGZWVkSW5kZXgrKztcblx0XHRpZiAodGhpcy5jdXJyZW50RmVlZEluZGV4ID49IHRoaXMuZmVlZEl0ZW1zLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5jdXJyZW50RmVlZEluZGV4ID0gMDtcblx0XHR9XG5cdH1cblxuXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ibG9jay1yc3MtZmVlZCcpLmZvckVhY2goKGJsb2NrKSA9PiB7XG5cdFx0bmV3IFJzc0ZlZWQoYmxvY2spO1xuXHR9KVxufSk7XG4iXX0=</script>
</body>
</html>
