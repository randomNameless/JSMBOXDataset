<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockOpinion-BF0yscX6.html</title>
</head>
<body>

<script>
import{s as t,R as u,ak as A,al as B,a9 as b,aa as U}from"./index-JAK1fgq0.js";import{U as I}from"./SingleCard-n-vEGOMB.js";import{u as _}from"./HomePage.store-hU9ZFaS6.js";import"./vendor-BroXzQGG.js";import{l as P,k as c,C as N,K as O,L as w,S as G,u as d,J as M}from"./vue-BTg2e_qy.js";import"./chart.js-D7nawTmG.js";import"./Label-BTqL1x8u.js";import"./tag_16-C8ciCEz7.js";import"./Link-DKRCyEtw.js";import"./Link.vue_vue_type_style_index_0_lang.module-C78XLzbR.js";import"./Label.vue_vue_type_style_index_0_lang.module-Bec0hBTD.js";import"./AnnouncementInfo-DqGCrtE5.js";import"./AnnouncementInfo.vue_vue_type_style_index_0_lang.module-FrWjN4F0.js";const i="Мнение (карточка)",l="Продукт",H=o=>{const{announcementUrl:a}=o;t("viewOpinion",[l,u.PAGE_NAME,i,"Просмотр",a])},S=o=>{const{announcementUrl:a,authorId:e}=o;t("clickOpinion",[l,u.PAGE_NAME,i,"Клик",a,"undefined","Переход на материал",`${e}`])},g=()=>{t("clickOpinion",[l,u.PAGE_NAME,i,"Клик","undefined","undefined","Мнение (заголовок)"])},R=o=>{const{announcementUrl:a,authorId:e}=o;t("clickOpinion",[l,u.PAGE_NAME,i,"Клик",a,"undefined","Переход на комментарии",`${e}`])},y=o=>{const{announcementUrl:a,authorId:e}=o;t("clickOpinion",[l,u.PAGE_NAME,i,"Клик",a,"undefined","Переход на автора",`${e}`])},$=o=>{const{announcementUrl:a,authorId:e}=o;t("addFavorites",[l,u.PAGE_NAME,i,"Клик",a,"undefined","Добавить избранное",`${e}`])},Y=P({__name:"BlockOpinion",props:{block:{},hasBookmarkButton:{type:Boolean}},setup(o){const a=o,e=c(()=>a.block.announcements[0]),m=()=>{e.value.header!==void 0&&e.value.author!==void 0&&H({announcementUrl:e.value.header.url,authorId:e.value.author.id})},h=()=>{e.value.header!==void 0&&e.value.author!==void 0&&R({announcementUrl:e.value.header.url,authorId:e.value.author.id})},k=()=>{e.value.header!==void 0&&e.value.author!==void 0&&y({announcementUrl:e.value.header.url,authorId:e.value.author.id})},p=()=>{e.value.header!==void 0&&e.value.author!==void 0&&S({announcementUrl:e.value.header.url,authorId:e.value.author.id})},f=c(()=>{var n,r;return e.value.person!==void 0?{name:e.value.person.name,description:e.value.person.profession,url:(n=e.value.header)==null?void 0:n.url}:e.value.author!==void 0?{name:e.value.author.name,description:e.value.author.jobPosition,url:e.value.author.url}:{name:"Анонимное мнение",description:"",url:(r=e.value.header)==null?void 0:r.url}}),C=c(()=>{if(e.value.person!==void 0)return e.value.person.image;if(e.value.author!==void 0)return e.value.author.image}),E=()=>{var n,r,s,v;U(e.value.entityId),$({announcementUrl:(r=(n=e.value.header)==null?void 0:n.url)!=null?r:"",authorId:(v=(s=e.value.author)==null?void 0:s.id)!=null?v:0})};return _().setExcludeOpinion(e.value.id),(n,r)=>e.value?(N(),O(d(I),{key:0,id:e.value.id,author:f.value,label:n.block.header,info:e.value.info,"is-bookmarked":d(b)(e.value.entityId),"is-show-views":!1,header:e.value.header,"has-bookmark-button":n.hasBookmarkButton,onBlockShown:m,onCommentClicked:h,onAuthorClicked:k,onBlockClicked:p,onHeaderClicked:d(g),onBookmarkClicked:E},{default:w(()=>[G(d(A),{sex:"unknown",class:"size-16",variant:d(B).CIRCLE,avatar:C.value},null,8,["variant","avatar"])]),_:1},8,["id","author","label","info","is-bookmarked","header","has-bookmark-button","onHeaderClicked"])):M("",!0)}});export{Y as default};

</script>

</body>
</html>
