<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage-ced8ea1eca520af4c51c.min.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkphoton_static=self.webpackChunkphoton_static||[]).push([[9078],{37893:function(rt,x,s){s.r(x),s.d(x,{DFPBanner:function(){return O},initDFPBanner:function(){return n}});var c=s(60539),R=s(75813),t=s(2570),U=s(36270);const j="logged_in",y="logged_out",V="any",tt="genius",r="not_genius",w="any";class O{constructor(){var K,Y,F,h;this.rules={login_status:{[V]:!0,[y]:!R.IS_LOGGED_IN,[j]:R.IS_LOGGED_IN},genius_status:{[w]:!0,[tt]:!!((Y=(K=R.USER_DATA)==null?void 0:K.genius_membership)!=null&&Y.is_active),[r]:!((h=(F=R.USER_DATA)==null?void 0:F.genius_membership)!=null&&h.is_active)}}}applyRules(K){return K.filter(Y=>Object.keys(this.rules).map(F=>this.rules[F][Y[F]]).every(F=>F))}showItem(K){(0,U.removeClass)(K,"hidden")}insertFallback(K,Y,F){const h=K[F];if(!h)return;const p=h.image,{url:T}=h;if(!p||!T)return;const M=h.title,{ref:Z,target:at}=h,k=document.createElement("a");k.href=T+(Z?`?ref=${Z}`:""),at&&(k.target=at);const u=document.createElement("img");u.src=p,M&&(u.title=M,u.alt=M),k.appendChild(u),Y.appendChild(k)}showBannerFallbacks(K=(0,U.qs)(".js-dfp-banner-fallback")){K.forEach(this.showItem)}insertBannerFallbacks(K=(0,U.qs)(".js-dfp-banner-container"),Y=null){const F=Y||K.map(h=>({image:(0,U.getData)(h,"fallbackImgSrc"),title:(0,U.getData)(h,"fallbackImgTitle"),ref:(0,U.getData)(h,"fallbackRef"),target:(0,U.getData)(h,"fallbackTarget"),url:(0,U.getData)(h,"fallbackUrl"),genius_status:(0,U.getData)(h,"fallbackGeniusStatus")||"any",login_status:(0,U.getData)(h,"fallbackLoginStatus")||"any"}));K.forEach(this.insertFallback.bind(this,this.applyRules(F)))}autoInit(){this.showBannerFallbacks(),this.insertBannerFallbacks()}}const e=()=>{new O().autoInit(),(0,U.trigger)(c.DISPATCHER,"DFP_fallback_injected")},n=()=>{(0,t.adsLoaded)().then(()=>{c.MODULE_STATUS.DFP_force_fallback&&e()}).catch(e)}},75885:function(rt,x,s){s.r(x),s.d(x,{OrdersReadyToPickup:function(){return Y}});var c=s(36270),R=s(78178),t=s(91269);(0,t.$REGISTER)("@Components/OrdersReadyToPickup/OrdersReadyToPickup.html.twig",function(){var F=t.$TR.t({$main:function(h){var p,T,M,Z,p=h.title,T=h.body,M=h.action_text,Z=h.order_ids;return(0,t.$OUT)([(p=t.$FILTER.default(p,null),""),(T=t.$FILTER.default(T,null),""),(M=t.$FILTER.default(M,null),""),(Z=t.$FILTER.default(Z,[]),""),`<div class="container">
    <div class="scan-to-pickup-box" data-order-id="`,(0,t.$ESC_html)(t.$FILTER.json_encode(Z)),`">
        <p><strong>`,p,`</strong></p>
        <div class="scan-to-pickup-qrcode">
            <img src="https://s13emagst.akamaized.net/layout/ro/static-upload/scan-to-pickup-13-07-2022.png" alt="Scan QR code">
        </div>
        <div class="scan-to-pickup-description">
            <h4><strong>`,p,`</strong></h4>
            <p>`,T,`</p>
            <a href="#" class="js-trigger-pickup-modal">`,M,`</a>
        </div>
    </div>
</div>`])}});return F});function U(F){return t.$TR.exec("@Components/OrdersReadyToPickup/OrdersReadyToPickup.html.twig",F)}var j=s(60539),y=s(11265),V=s(75813),tt=s(35053),r=Object.defineProperty,w=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,n=(F,h,p)=>h in F?r(F,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):F[h]=p,N=(F,h)=>{for(var p in h||(h={}))O.call(h,p)&&n(F,p,h[p]);if(w)for(var p of w(h))e.call(h,p)&&n(F,p,h[p]);return F};const K=(F={},h={})=>(0,tt.ajax)({headers:{"X-Tokens":V.SAPI_TOKEN},method:"GET",type:"json",url:`${y.SAPI_ENDPOINT}/delivery-order/qr-code/orders`,data:N({source_id:j.SOURCE_ID},h),form:F.data});class Y{static init(){const h=(0,c.q)(".orders-ready-to-pickup"),p=(T={})=>{if(!h)return;const M=(0,c.node)(U(T));h.appendChild(M),s.e(4648).then(s.bind(s,54648)).then(({ScanToPickup:Z})=>{Z.init()})};h&&K().then(T=>{const{data:M}=T,Z=(0,c.getPageVar)("currentOrderId");((M==null?void 0:M.order_ids)||[]).filter(k=>Z?k===Z:!0).length>0&&p(M)}).catch(()=>{(0,R.showFailNotification)()}).finally(()=>{})}}},27934:function(rt,x,s){s.r(x),s.d(x,{SellWithEmag:function(){return c}});class c{static init(){}}},70905:function(rt,x,s){s.r(x),s.d(x,{initStories:function(){return Bt}});var c=s(60539),R=s(75813),t=s(36270),U=s(38251),j=s(50891),y=s(11265),V=Object.defineProperty,tt=(C,i,d)=>i in C?V(C,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):C[i]=d,r=(C,i,d)=>tt(C,typeof i!="symbol"?i+"":i,d);class w{constructor(){r(this,"buffer",{}),r(this,"timer",null),r(this,"LSKey","PH-UATracking"),r(this,"sendDataInterval",1e4),window.addEventListener("pagehide",()=>{this.sendBufferedData()},!1)}trackGrouped(i,d={},f={},b={}){this.buffer[i]=this.buffer[i]||{};const E=this.buffer[i];E.simple=E.simple||{};for(const v in d)E.simple[v]=d[v];E.asArray=E.asArray||{};for(const v in f)E.asArray[v]=E.asArray[v]||[],E.asArray[v]=E.asArray[v].concat(f[v]);E.asArrayWithKeys=E.asArrayWithKeys||{};for(const v in b){E.asArrayWithKeys[v]=E.asArrayWithKeys[v]||{};for(const et in b[v])E.asArrayWithKeys[v][et]=E.asArrayWithKeys[v][et]||[],E.asArrayWithKeys[v][et]=E.asArrayWithKeys[v][et].concat(b[v][et])}this.startTimer()}sendBufferedData(){for(const i in this.buffer)this.sendItem(i),delete this.buffer[i]}sendItem(i){const d=this.getLoggerJsonUrl(i);fetch(d,{method:"GET",keepalive:!0})}getLoggerJsonUrl(i,d){typeof d=="undefined"&&(d=this.buffer[i]);let f=[];return f.push(`X-PHP-Self=${encodeURIComponent(i)}`),f=f.concat(this.getGetParams(d)),`${y.SITE_ENDPOINT}/logger.json?${f.join("&")}`}getGetParams(i){const d=[];for(const f in i.simple)d.push(`${f}=${encodeURIComponent(i.simple[f])}`);for(const f in i.asArray)d.push(`${f}[]=${encodeURIComponent(i.asArray[f].join(","))}`);for(const f in i.asArrayWithKeys)for(const b in i.asArrayWithKeys[f]){const E=`${f}[${b}]=${encodeURIComponent(i.asArrayWithKeys[f][b].join(","))}`;d.push(E)}return d}startTimer(){this.timer===null&&(this.timer=window.setTimeout(()=>{this.sendBufferedData(),this.timer=null},this.sendDataInterval))}}const O=new w,e=C=>new Promise(i=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{C.call(),i()})})});var n=s(91269),N=s(15663),K=s(93968);(0,n.$REGISTER)("@Components/Stories/templates/story.html.twig",function(){var C=n.$TR.t({$main:function(i){var d=i.story_items,f=i.active_item_index,b=i.story;return(0,n.$OUT)([`<div class="_navigation-area">
    <div class="_item-nav _prev"></div>
    <div class="_item-nav _next"></div>
</div>`,`<div class="_item-nav _click _prev"><span class="_icon em em-left"></span></div>
<div class="_item-nav _click _next"><span class="_icon em em-right"></span></div>

<div class="_rounded-mask">
    <div class="_timer-container">`,(0,n.$FOR)(d,function(E,v){return E?(0,n.$OUT)(['<div class="_timer" data-index="',(0,n.$ESC_html)((0,n.$INDEX)(E,"index0")),`">
                <div class="_mask"></div>
                <div class="_progress" style="animation-duration: `,(0,n.$ESC_html)((0,n.$INDEX)(v,"timeout")),`s;"></div>
            </div>`]):""}),"</div>",(0,n.$FOR)(d,function(E,v){var et,ut,st;return E?(0,n.$OUT)([(et=(0,n.$INDEX)(E,"index0"),""),'<div class="',"story-item-container js-story-item-container",et==f?(0,n.$OUT)([" _current"]):"",'"',' data-uuid="',(0,n.$ESC_html)((0,n.$INDEX)(v,"uuid")),'"',' data-index="',(0,n.$ESC_html)(et),'"',`>


            <div class="_title-container">
                <span class="_title">`,(0,n.$ESC_html)((0,n.$INDEX)(v,"title")),`</span>
                <span class="_ui-button _volume-down"></span>
                <span class="_ui-button _volume-up"></span>
                <span class="_ui-button _pause"></span>
                <span class="_ui-button _play"></span>
                <span class="_ui-button _close"></span>
            </div>`,(0,n.$INDEX)(b,"type")=="rec"?(0,n.$OUT)([`<div class="_product">
                    <div class="_product-image-container">
                        <img class="_image" alt="`,(0,n.$ESC_html)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"name")),'" src="',(0,n.$ESC_html)((0,n.$INDEX)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"image"),"original")),`">
                    </div>
                    <div class="_title">`,(0,n.$ESC_html)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"name")),`</div>
                    <div class="_rating-container">`,(0,n.$BOOL)((0,n.$INDEX)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"feedback"),"rating"))?(0,n.$OUT)([(0,n.$INCLUDE)("@Components/StarRating/StarRating.html.twig",{rating:(0,n.$INDEX)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"feedback"),"rating"),text:n.$FILTER.number_format((0,n.$INDEX)((0,n.$INDEX)((0,n.$INDEX)(v,"product"),"feedback"),"rating"),2),size:"xs",textClasses:" "})]):"",`</div>
                    <div class="_price-container">`,(0,n.$INCLUDE)("@Components/Pricing/template.html.twig",{offer:(0,n.$INDEX)((0,n.$INDEX)(v,"product"),"offer"),show_deal:!0}),`</div>
                </div>`]):(0,n.$OUT)(['<div class="_image-container',(0,n.$ESC_html)((0,n.$BOOL)((0,n.$INDEX)(v,"video"))?" _has-video":""),'"',(0,n.$BOOL)((0,n.$INDEX)((0,n.$INDEX)(v,"video"),"mp4"))?(0,n.$OUT)([' data-video-mp4="',(0,n.$ESC_html)((0,n.$INDEX)((0,n.$INDEX)(v,"video"),"mp4")),'"']):"",`>
                    <img src="`,(0,n.$ESC_html)((ut=(0,n.$INDEX)(v,"image_full"))!=null?ut:(0,n.$INDEX)(v,"image")),'" class="_centered" alt="',(0,n.$ESC_html)((0,n.$INDEX)(v,"title")),`">
                </div>`]),'<div class="_cta">',(0,n.$INDEX)((0,n.$INDEX)(v,"call_to_action"),"url")!=null?(0,n.$OUT)([(st=(0,n.$INDEX)((0,n.$INDEX)(v,"call_to_action"),"url"),""),(0,n.$INDEX)(b,"type")=="rec"?(0,n.$OUT)([(st=n.$FILTER.addQueryParam(st,{provider:(0,n.$INDEX)((0,n.$INDEX)(b,"tracking"),"provider"),recid:(0,n.$INDEX)((0,n.$INDEX)(b,"tracking"),"recommendation_id"),ref:(0,n.$INDEX)((0,n.$INDEX)(v,"product"),"ref_code")}),"")]):"",'<a href="',(0,n.$ESC_html)(st),'" class="_main">',(0,n.$ESC_html)((0,n.$INDEX)((0,n.$INDEX)(v,"call_to_action"),"label")),"</a>"]):"",`</div>
        </div>`]):""}),"</div>"])}});return C});function Y(C){return n.$TR.exec("@Components/Stories/templates/story.html.twig",C)}var F=Object.defineProperty,h=(C,i,d)=>i in C?F(C,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):C[i]=d,p=(C,i,d)=>h(C,typeof i!="symbol"?i+"":i,d);let T;class M{constructor(i,d){p(this,"position"),p(this,"currentItemIndex",0),p(this,"minDragDelta",25),p(this,"pauseStoryHoldDuration",500),p(this,"storyData"),p(this,"items"),p(this,"template"),p(this,"domElements",{container:void 0,items:[]}),p(this,"callbacks",{itemBeforeFirst:void 0,itemAfterLast:void 0,close:void 0,itemDisplayedByRef:void 0,itemClosedByRef:void 0}),p(this,"waitForVideoCallback"),p(this,"timerLastStarted"),p(this,"timerDurationSoFar"),p(this,"cycleStoryItemsTimeout"),p(this,"storyHalfTimeTimeout"),p(this,"storyHalfTimeError",1e3),p(this,"isTimerRunning",!1),this.storyData=i,this.items=i.items,this.domElements.container=d,this.build(),this.addEventListeners()}postInit(){this.setTrackingDataPreBuild()}getContainer(){return this.domElements.container}setPosition(i){this.position=i}setTrackingDataPreBuild(){this.items.forEach((i,d)=>{i.call_to_action.url=this.getUrlWithRef(i.call_to_action.url,d)})}getUrlWithRef(i,d){const f=new URL(i,y.SITE_URL),b=this.storyData.type==="rec"?"ref_story":"ref";if(f.search=`${b}=${this.getStoryRef()}_${this.getItemRef(d)}`,this.storyData.type==="rec"){const{tracking:E}=this.storyData;f.search+=`&provider=${E.provider}&recid=${E.recommendation_id}&ref=${E.tracking_alias}_${E.position}_${d+1}`}return f.toString()}build(){const i=Y({story:this.storyData,story_items:this.items,active_item_index:this.currentItemIndex});this.domElements.container.innerHTML=i,this.domElements.navigationArea=(0,t.q)("._navigation-area",this.domElements.container),this.domElements.clickNavigationLeft=(0,t.q)("._item-nav._click._prev",this.domElements.container),this.domElements.clickNavigationRight=(0,t.q)("._item-nav._click._next",this.domElements.container),this.domElements.items=(0,t.qs)(".js-story-item-container",this.domElements.container),this.domElements.timers=(0,t.qs)("._timer",this.domElements.container),this.domElements.animationContainerCube=(0,t.q)(".stories ._animate-container-cube",this.domElements.container)}addEventListeners(){const i="ontouchstart"in window?{touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend"}:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},d=J=>J instanceof MouseEvent?{clientX:J.clientX,clientY:J.clientY}:J instanceof TouchEvent&&J.touches.length>0?{clientX:J.touches[0].clientX,clientY:J.touches[0].clientY}:{clientX:0,clientY:0},f=(J,pt)=>J*pt>0,b=()=>{this.toggleHintState()},E={left:"navigationNext",right:"navigationPrevious",up:"cta",down:"close"},v=J=>{this.toggleHintState(E[J])},et=50,ut=50;let st,ft,it,ct,ot,Dt,_t,Ct=!1;const Rt=J=>{const pt=d(J);st=pt.clientX,ft=pt.clientY,it=st,ct=ft,Ct=!1,ot=void 0,Dt=Date.now(),this.pauseItemTimeout()},Nt=J=>{if(window.innerWidth>=c.viewportBreakpoints.lg)return;const pt=d(J),gt=pt.clientX,Et=pt.clientY,yt=gt-st,Ot=Et-ft,Pt=gt-it,Tt=Et-ct;if(typeof ot!="undefined"){let $t=!1;ot==="left"||ot==="right"?f(yt,Pt)?it=gt:$t=Math.abs(Pt)>et:f(Ot,Tt)?ct=Et:$t=Math.abs(Tt)>et,$t&&(st=gt,it=gt,ft=Et,ct=Et,ot=void 0,b())}else Math.abs(yt)>=ut?(yt<0?ot="left":ot="right",it=gt):Math.abs(Ot)>=ut&&(Ot<0?ot="up":ot="down",ct=Et),typeof ot!="undefined"&&(v(ot),Ct=!0)},bt=J=>{if(J.preventDefault(),this.toggleHintState(),typeof ot!="undefined"){switch(ot){case"left":this.next(!0);break;case"right":this.previous(!0);break;case"up":this.callToAction();break;case"down":this.close();break;default:}return}if(Ct){this.play();return}if(_t=Date.now()-Dt,_t>=this.pauseStoryHoldDuration){this.play();return}if((0,t.hasClass)(J.target,"_item-nav")){(0,t.hasClass)(J.target,"_next")?this.next():this.previous();return}this.play()};(0,t.on)(this.domElements.navigationArea,i.touchstart,Rt),(0,t.on)(this.domElements.navigationArea,i.touchmove,Nt),(0,t.on)(this.domElements.navigationArea,i.touchend,bt),(0,t.live)(this.domElements.container,i.touchend,"._title-container ._close",()=>{this.close()}),(0,t.on)(this.domElements.clickNavigationLeft,"mouseup",()=>{this.previous()}),(0,t.on)(this.domElements.clickNavigationRight,"mouseup",()=>{this.next()}),(0,t.live)(this.domElements.container,"mouseup","._title-container ._pause",()=>{this.pauseItemTimeout()}),(0,t.live)(this.domElements.container,"mouseup","._title-container ._play",()=>{this.play()}),(0,t.live)(this.domElements.container,"mouseup","._title-container ._volume-down",()=>{this.setVideoSound(0)}),(0,t.live)(this.domElements.container,"mouseup","._title-container ._volume-up",()=>{this.setVideoSound(1)})}getStoryRef(){return`story_${this.storyData.type}_${this.storyData.id}_${this.position+1}`}getItemRef(i){const d=this.items[i];return`chapter_${d.type}_${d.id}_${i+1}`}getRecRef(){if(this.storyData.type!=="rec")return;const{tracking:i}=this.storyData;return`${i.provider},,${i.tracking_alias}_pos_${i.position},${i.recommendation_id}`}getOfferId(i){const d=this.items[i];if(d.product)return d.product.offer.id}getStoryType(){return this.storyData.type==="rec"?"rec":"story"}setCallbacks(i){for(const d in this.callbacks)typeof i[d]=="function"&&(this.callbacks[d]=i[d])}close(){this.stop(),typeof this.callbacks.close=="function"&&this.callbacks.close(),typeof this.callbacks.itemClosedByRef=="function"&&this.callbacks.itemClosedByRef({itemRef:this.getItemRef(this.currentItemIndex),storyRef:this.getStoryRef()})}stop(){clearTimeout(this.cycleStoryItemsTimeout),clearTimeout(this.storyHalfTimeTimeout),this.timerDurationSoFar=0,this.isTimerRunning=!1,this.resetClasses(),this.toggleVideo(0,!0),this.resetVideoProgress()}play(i){if(this.items[this.currentItemIndex].videoElement){this.toggleVideo(1,i);return}this.startItemTimeout(i)}startItemTimeout(i){this.cycleStoryItemsTimeout&&clearTimeout(this.cycleStoryItemsTimeout),this.storyHalfTimeTimeout&&clearTimeout(this.storyHalfTimeTimeout),this.timerLastStarted=Date.now(),i&&(this.timerDurationSoFar=0),this.isTimerRunning=!0,(0,t.removeClass)(this.domElements.container,"_paused"),(0,t.removeClass)(this.domElements.timers[this.currentItemIndex],"_paused");const d=this.getTimeout()*1e3-this.timerDurationSoFar,f=this.getTimeout()*500-this.timerDurationSoFar;this.cycleStoryItemsTimeout=window.setTimeout(()=>{this.next()},d),f>0?this.storyHalfTimeTimeout=window.setTimeout(()=>{this.updateCtaStatus()},f):this.storyHalfTimeTimeout&&(this.updateCtaStatus(),clearTimeout(this.storyHalfTimeTimeout))}pauseItemTimeout(){this.cycleStoryItemsTimeout&&this.isTimerRunning&&(this.isTimerRunning=!1,this.timerDurationSoFar+=Date.now()-this.timerLastStarted,clearTimeout(this.cycleStoryItemsTimeout),this.storyHalfTimeTimeout&&clearTimeout(this.storyHalfTimeTimeout),(0,t.addClass)(this.domElements.container,"_paused"),(0,t.addClass)(this.domElements.timers[this.currentItemIndex],"_paused"),this.toggleVideo(0))}showItem(i=0){i=(i+this.items.length)%this.items.length,this.currentItemIndex=i,this.initVideo(),this.updateItemClasses(),this.updateTimers(),typeof this.callbacks.itemDisplayedByRef=="function"&&this.callbacks.itemDisplayedByRef({itemRef:this.getItemRef(i),storyRef:this.getStoryRef(),recRef:this.getRecRef(i),offerId:this.getOfferId(i),storyType:this.getStoryType()}),this.play(!0),this.updateCtaStatus()}previous(i=!1){if(this.currentItemIndex-1<0||i){this.stop(),typeof this.callbacks.itemBeforeFirst=="function"&&this.callbacks.itemBeforeFirst();return}this.showItem(this.currentItemIndex-1)}next(i=!1){if(this.currentItemIndex+1>=this.items.length||i){this.stop(),typeof this.callbacks.itemAfterLast=="function"&&this.callbacks.itemAfterLast();return}this.showItem(this.currentItemIndex+1)}initSoundSettings(){typeof T=="undefined"&&(sessionStorage.getItem("PHStoriesSound")==="1"?T=1:T=0),(0,t.toggleClass)(this.domElements.container,"_has-sound",T)}setVideoSound(i){T!=i&&(T=i,sessionStorage.setItem("PHStoriesSound",i),this.items[this.currentItemIndex].videoElement.muted=!i,(0,t.toggleClass)(this.domElements.container,"_has-sound",i))}initVideo(){const i=(0,t.q)("._image-container",this.domElements.items[this.currentItemIndex]);if(!i||!(0,t.hasClass)(i,"_has-video")||(0,t.hasClass)(i,"_video-initialized"))return;this.initSoundSettings();const d=(0,t.getData)(i,"videoMp4"),f=(0,t.createDOM)("video",{className:"_centered"}),b=(0,t.createDOM)("source",{src:d,type:"video/mp4"});f.appendChild(b),f.setAttribute("playsinline",""),f.setAttribute("autoplay",""),i.appendChild(f),(0,t.addClass)(i,"_video-initialized"),this.items[this.currentItemIndex].videoElement=f,this.items[this.currentItemIndex].hasVideo=!0,(0,t.on)(f,"loadedmetadata",()=>{this.items[this.currentItemIndex].videoTimeout=f.duration;const E=(0,t.q)("._progress",this.domElements.timers[this.currentItemIndex]);E.style.animationDuration=`${f.duration}s`})}toggleVideo(i,d){const f=this.items[this.currentItemIndex].videoElement;if(f)if(T?f.muted=!1:f.muted=!0,d&&(f.progress=0),i)if(f.readyState===HTMLMediaElement.HAVE_ENOUGH_DATA)f.play(),this.startItemTimeout(d);else{const b=this;this.waitForVideoCallback=()=>{f.removeEventListener("canplaythrough",b.waitForVideoCallback),b.waitForVideoCallback=void 0,f.play(),b.startItemTimeout(d)},f.addEventListener("canplaythrough",this.waitForVideoCallback)}else this.waitForVideoCallback&&(f.removeEventListener("canplaythrough",this.waitForVideoCallback),this.waitForVideoCallback=void 0),typeof f.pause=="function"&&f.pause(),this.pauseItemTimeout()}resetVideoProgress(){this.items[this.currentItemIndex].videoElement&&(this.items[this.currentItemIndex].videoElement.currentTime=0)}updateItemClasses(){this.domElements.items.forEach((i,d)=>{d===this.currentItemIndex?(0,t.addClass)(i,"_current"):(0,t.removeClass)(i,"_current")}),this.items[this.currentItemIndex].hasVideo?(0,t.addClass)(this.domElements.container,"_has-video"):(0,t.removeClass)(this.domElements.container,"_has-video")}updateTimers(){this.domElements.timers.forEach((i,d)=>{d==this.currentItemIndex&&(0,t.removeClass)(i,"_past")}),e(()=>{this.domElements.timers.forEach((i,d)=>{(0,t.removeClass)(i,"_current _past"),d<this.currentItemIndex?(0,t.addClass)(i,"_past"):d==this.currentItemIndex&&(0,t.addClass)(i,"_current")})})}resetClasses(){this.domElements.timers.forEach(i=>{(0,t.removeClass)(i,"_current _past")})}updateCtaStatus(){const i=this.timerDurationSoFar+Date.now()-this.timerLastStarted;this.getTimeout()*500-i<=this.storyHalfTimeError?(0,t.addClass)(this.domElements.container,"_story-at-half-time"):(0,t.removeClass)(this.domElements.container,"_story-at-half-time")}getTimeout(i){return i=i||this.currentItemIndex,this.items[i].videoTimeout||this.items[i].timeout}callToAction(){const i=this.items[this.currentItemIndex];window.location.href=i.call_to_action.url}toggleHintState(i){const d={cta:"_visualize-cta",close:"_visualize-close"};(0,t.removeClass)(this.domElements.container,"_visualize-cta _visualize-close"),i in d&&(0,t.addClass)(this.domElements.container,d[i])}}var Z=s(35053),at=Object.defineProperty,k=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,A=(C,i,d)=>i in C?at(C,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):C[i]=d,D=(C,i)=>{for(var d in i||(i={}))u.call(i,d)&&A(C,d,i[d]);if(k)for(var d of k(i))I.call(i,d)&&A(C,d,i[d]);return C};const z=(C,i={})=>(0,Z.ajax)({url:`${y.SAPI_ENDPOINT}/stories/full`,type:"json",method:"get",data:D({source_id:c.SOURCE_ID,version:2},i)}),H=(C,i={})=>(0,Z.ajax)({url:`${y.SITE_ENDPOINT}/homepage/stories`,type:"json",method:"get",data:D({},i)}),nt=(C,i={})=>(0,Z.ajax)({url:`${y.SITE_ENDPOINT}/stories/preview/full`,type:"json",method:"get",data:D({source_id:c.SOURCE_ID,token:R.SAPI_TOKEN},i)});(0,n.$REGISTER)("@Components/Stories/templates/modal.html.twig",function(){var C=n.$TR.t({$main:function(i){var d=i.stories;return(0,n.$OUT)([`<div class="stories _modal">
    <div class="_logo">
        <img src="`,(0,n.$ESC_html)(n.$FILTER.prependCDNPath("/css/icons/logo-white.svg")),`">
    </div>

    <div class="_close js-modal-close">
        <span class="_text">`,(0,n.$ESC_html)("\u0417\u0430\u0442\u0432\u043E\u0440\u0438"),`</span>
        <span class="em em-close"></span>
    </div>

    <div class="_animate-container-outer">
        <div class="_animate-container-cube _animate-container-inner">`,(0,n.$FOR)(d,function(f,b){return f?(0,n.$OUT)(['<div class="_story-container js-_story-container" data-uuid="',(0,n.$ESC_html)(b),'" data-index="',(0,n.$ESC_html)((0,n.$INDEX)(f,"index0")),'"></div>']):""}),`</div>
    </div>
</div>
`])}});return C});function mt(C){return n.$TR.exec("@Components/Stories/templates/modal.html.twig",C)}(0,n.$REGISTER)("@Components/Stories/templates/carousel.html.twig",function(){var C=n.$TR.t({$main:function(i){var d=i.story,f=i.stories;return(0,n.$OUT)(['<div class="stories-carousel ph-carousel-init js-stories-carousel',(0,n.$ESC_html)((0,n.$BOOL)((0,n.$INDEX)(d,"highlighted"))?" _highlight":""),`" data-ph-arrows="true" data-phino="Carousel" data-ph-disable-on-mobile="true" data-ph-dots="false" data-ph-arrows="false" data-ph-handle-resize="true">
    `,(0,n.$FOR)(f,function(b,E){return b?(0,n.$OUT)([`
        <div class="_card" data-uuid="`,(0,n.$ESC_html)((0,n.$INDEX)(E,"uuid")),'" data-position="',(0,n.$ESC_html)((0,n.$INDEX)(b,"index")),'" data-type="',(0,n.$ESC_html)((0,n.$INDEX)(E,"type")),'" data-id="',(0,n.$ESC_html)((0,n.$INDEX)(E,"id")),`">
            <div class="_content">
                <div class="_title">`,(0,n.$ESC_html)((0,n.$INDEX)(E,"title")),`</div>
                <img class="_image" src="`,(0,n.$ESC_html)((0,n.$INDEX)(E,"image")),'" alt="',(0,n.$ESC_html)((0,n.$INDEX)(E,"title")),`">
                <div class="_open-icon"><i class="em em-go-up"></i></div>
            </div>
        </div>
    `]):""}),`
</div>`])}});return C});function St(C){return n.$TR.exec("@Components/Stories/templates/carousel.html.twig",C)}const Bt=({isPreview:C=!1}={})=>{const i={cubeAnimationTime:500},d=(0,t.q)(".story-carousel-container");if(d==null)return;let f,b,E=[],v=null,et,ut=!1,st,ft,it;const ct={};function ot(){return new Promise((m,S)=>{if(typeof f!="undefined")m();else{const _=C?nt:c.MODULE_STATUS.Randomize_stories?H:z,G={};c.MODULE_STATUS.homepage_stories_profiled?G.token=R.USER_TOKEN:G.not_profiled=1,_.call(null,{},G).then(dt=>{f=dt.data.stories,m()}).catch(S)}})}function Dt(){if(v!==null)return;const m=mt({stories:E});v=new j.Modal({className:"story-modal-container",backdropClassName:"story-modal-backdrop",content:m,showHeader:!1,fullscreen:!0}),et=v.contentElement(),v.on("close",Ct),v.on("open",_t),it={},it.animation={cubeContainer:(0,t.q)("._animate-container-cube",et)},it.storyContainers=(0,t.qs)(".js-_story-container",et),(0,t.live)(et,"click",".js-modal-close",()=>{v.close()}),(0,t.live)(et,"click","._story-container",(S,_)=>{if((0,t.closest)(S.target,"._navigation-area")!==null||(0,t.closest)(S.target,"._item-nav")!==null)return;const G=(0,t.getData)(_,"index");Pt(G)}),(0,t.on)(et,"click",S=>{(0,t.closest)(S.target,"._story-container")===null&&v.close()})}function _t(){ut=!0}function Ct(){ut&&(ut=!1,st&&st.close(),v!==null&&(v.destroy(),v=null))}function Rt(){E=(0,t.qs)(".stories-carousel ._card").map(m=>(0,t.getData)(m,"uuid"))}function Nt(){const m=(0,t.q)(".story-carousel-container");if(!m)return;const S=St({stories:f});(0,t.empty)(m),m.innerHTML=S,U.Widget.autoInit(m)}function bt(){b={},f.forEach(m=>{const S=(0,t.q)(`.js-_story-container[data-uuid="${m.uuid}"]`,et);if(!S)return;b[m.uuid]=new M(m,S);const _=E.indexOf(m.uuid);b[m.uuid].setPosition(_),b[m.uuid].postInit(),b[m.uuid].setCallbacks({itemBeforeFirst:()=>{Lt(-1)},itemAfterLast:()=>{Lt(1)},close:()=>{v.close()},itemDisplayedByRef:G=>{gt(G,"viewed")},itemClosedByRef:G=>{gt(G,"closed")}})})}function J(m){return`story_${m.type}_${m.id}_${m.position}`}function pt(m,S,_){return ct[S]=ct[S]||{},ct[S][m]=ct[S][m]||{},_ in ct[S][m]?!0:(ct[S][m][_]=1,!1)}function gt(m,S){if(!m.itemRef||!m.storyRef||pt(m.itemRef,m.storyRef,S))return;let _,G;switch(S){case"viewed":if(m.storyType==="rec"){_="/recommendationWidgetProductImpressionsAll",G="ignore_recommendations_impressions";break}_="/story_stats/chapter_view",G="ignore_chapter_view";break;case"closed":_="/story_stats/chapter_close",G="ignore_chapter_close";break;default:return}const dt={"X-Action-UA":G},vt={chapters:{}};m.storyType==="rec"&&(vt.offer_ids={},vt.offer_ids[m.recRef]=[m.offerId]),vt.chapters[m.storyRef]=[m.itemRef],O.trackGrouped(_,dt,{},vt)}function Et(m){const S={"X-Action-UA":"ignore_story_widget_view"},_={stories:[m]};O.trackGrouped("/story_stats/story_widget_view",S,_)}const yt={"-2":"_previous-2","-1":"_previous",0:"_current",1:"_next",2:"_next-2"};function Ot(){it.storyContainers.forEach((m,S)=>{(0,t.removeClass)(m,"_past _previous-2 _previous _current _next _next-2 _future");const _=Tt(S,ft,E.length);_ in yt?(0,t.addClass)(m,yt[_]):_<0?(0,t.addClass)(m,"_past"):(0,t.addClass)(m,"_future")})}function Pt(m){const S=Tt(m,ft,E.length);if(S==0)return;const _=S/Math.abs(S);$t(Math.abs(S),_)}function Tt(m,S,_){if(m==S)return 0;let G=m-S;const dt=G-_,vt=G+_;return Math.abs(dt)<Math.abs(G)&&(G=dt),Math.abs(vt)<Math.abs(G)&&(G=vt),G}function $t(m,S){m>0&&e(()=>{Lt(S)}).then(()=>{$t(m-1,S)})}function Xt(m){st&&st.stop(),st=b[m],ft=E.indexOf(m),st.showItem(),Ot()}function Lt(m=1){const S=ft,_=(S+m+E.length)%E.length;(0,t.addClass)(it.storyContainers[S],"_cube-face"),(0,t.addClass)(it.storyContainers[_],`_cube-face _cube-${m==1?"next":"previous"}`),(0,t.addClass)(it.animation.cubeContainer,"_armed"),e(()=>{(0,t.addClass)(it.animation.cubeContainer,"_animate"),(0,t.addClass)(it.animation.cubeContainer,m==1?"_next":"_previous")}),Xt(E[_]),window.setTimeout(()=>{(0,t.removeClass)(it.animation.cubeContainer,"_animate _armed _next _previous"),(0,t.removeClass)(it.storyContainers[S],"_cube-face"),(0,t.removeClass)(it.storyContainers[_],`_cube-face _cube-${m==1?"next":"previous"}`)},i.cubeAnimationTime)}(0,t.on)(window,"DOMContentLoaded",()=>{ot().then(()=>{if(!f||!f.length){(0,t.remove)(d);return}Nt(),Rt(),xt()})}),(0,t.live)(d,"click",".stories-carousel ._card",(m,S)=>{const _=(0,t.getData)(S,"uuid");Dt(),bt(),ut||v.open(),Xt(_)});function xt(){if(!window.IntersectionObserver)return;const m=(0,t.qs)(".stories-carousel ._card");if(m.length<1)return;const S=new IntersectionObserver((_,G)=>{_.forEach(dt=>{if(!dt.isIntersecting)return;const vt={type:(0,t.getData)(dt.target,"type"),id:(0,t.getData)(dt.target,"id"),position:(0,t.getData)(dt.target,"position")},jt=J(vt);Et(jt),G.unobserve(dt.target)})});m.forEach(_=>{S.observe(_)})}}},59210:function(rt,x,s){s.r(x),s.d(x,{fetchVCRBadges:function(){return n},getVCRBadges:function(){return F}});var c=s(60539),R=s(7157),t=s(36270),U=s(11265),j=s(75813),y=s(35053),V=Object.defineProperty,tt=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,O=(h,p,T)=>p in h?V(h,p,{enumerable:!0,configurable:!0,writable:!0,value:T}):h[p]=T,e=(h,p)=>{for(var T in p||(p={}))r.call(p,T)&&O(h,T,p[T]);if(tt)for(var T of tt(p))w.call(p,T)&&O(h,T,p[T]);return h};const n=(h={})=>(0,y.ajax)({url:`${U.SAPI_ENDPOINT}/voucher-campaign/listing`,method:"POST",type:"json",data:e({token:j.USER_TOKEN,source_id:c.SOURCE_ID},h)});var N=s(91269);(0,N.$REGISTER)("@Components/VCR/Rec/templates/card-badge.html.twig",function(){var h=N.$TR.t({$main:function(p){var T=p.badge;return(0,N.$OUT)([(0,N.$BOOL)((0,N.$INDEX)(T,"label"))?(0,N.$OUT)(['<div class="vcr-card-badge text-truncate" style="--badge-color: rgb(',(0,N.$ESC_html)((0,N.$INDEX)((0,N.$INDEX)(T,"background_color"),"r")),", ",(0,N.$ESC_html)((0,N.$INDEX)((0,N.$INDEX)(T,"background_color"),"g")),", ",(0,N.$ESC_html)((0,N.$INDEX)((0,N.$INDEX)(T,"background_color"),"b")),');">',(0,N.$ESC_html)((0,N.$INDEX)(T,"label")),"</div>"]):""])}});return h});function K(h){return N.$TR.exec("@Components/VCR/Rec/templates/card-badge.html.twig",h)}const Y=R.abTestsAuto.getById("vcr_on_rec_carousels")==="B",F=h=>{if(!Y||!c.MODULE_STATUS.Enable_VCR_3_0||!c.MODULE_STATUS.Enable_VCR_3_0_on_REC)return;const p=(0,t.qs)(".js-card-item",h).map(T=>(0,t.getData)(T,"offerId"));p.length&&n({offers:p}).then((T={})=>{const{offers:M}=T.data||{};M!=null&&M.length&&M.forEach(Z=>{(0,t.qs)(`.js-card-item[data-offer-id='${Z.offer_id}']`,h).forEach(k=>{var u;const I=(0,t.qs)(".js-vcr-card-badge-placeholder",k),A=I.find(D=>(0,t.hasClass)(D,"card-badge-placeholder"))||I[0];A&&(A.innerHTML=K({badge:(u=Z.unified_badges)==null?void 0:u[0]}),(0,t.addClass)(A,"visible"))})})})}},60360:function(rt,x,s){s.r(x),s.d(x,{WidgetCategoryCarousel:function(){return U},initWidgetCategoryCarousel:function(){return t}});var c=s(36270);const R=j=>{let y=j.parentNode;for(;y&&y!==document.body&&!y.classList.contains("ph-scroller")&&getComputedStyle(y).overflow!=="auto";)y=y.parentNode;return y},t=()=>{},U={scrollToActive:(j=(0,c.q)("body"))=>{const y=(0,c.q)(".js-category-nav-item.active",j);y&&(0,c.scrollIntoView)(y,{getScrollableParent:R})}}},16998:function(rt,x,s){s.r(x),s.d(x,{initNavBannerDFP:function(){return U}});var c=s(36270),R=s(2570),t=(j,y,V)=>new Promise((tt,r)=>{var w=n=>{try{e(V.next(n))}catch(N){r(N)}},O=n=>{try{e(V.throw(n))}catch(N){r(N)}},e=n=>n.done?tt(n.value):Promise.resolve(n.value).then(w,O);e((V=V.apply(j,y)).next())});const U=j=>t(void 0,null,function*(){try{yield(0,R.adsLoaded)()}catch{(0,c.qs)(".js-banner-dfp",j).forEach(V=>{const tt=(0,c.q)(".gpt-slot-nav-fallback",j),r=(0,c.closest)(V,".page-section");if(tt){tt.classList.remove("d-none");const w=V.previousElementSibling;w&&w.classList.remove("banner-dfp-hidden-dsa-inside")}else(0,c.remove)(r||V)})}})},55700:function(rt,x,s){s.r(x),s.d(x,{WidgetProductFeedback:function(){return at},templateWidgetProductFeedback:function(){return n},templateWidgetProductFeedbackCard:function(){return e}});var c=s(60539),R=s(75813),t=s(36270),U=s(38251),j=s(46274),y=s(7896),V=s(40421),tt=s(32737),r=s(91269),w=s(68217),O=s(15663);(0,r.$REGISTER)("@Components/WidgetProductFeedback/WidgetProductFeedbackCard.html.twig",function(){var k=r.$TR.t({$main:function(u){var D,I,z,H,nt,A,mt,D=u.product,z=u.seeAllProducts,H=u.buttonRef,nt=u.iconRef,mt=u.page_type;return(0,r.$OUT)([(D=r.$FILTER.default(D,{}),""),(z=(I=z)!=null?I:!1,""),(H=r.$FILTER.default(H,""),""),(nt=r.$FILTER.default(nt,""),""),(A=(0,r.$ITERABLE)((0,r.$INDEX)(D,"image"))?r.$FILTER.default((0,r.$INDEX)((0,r.$INDEX)((0,r.$INDEX)((0,r.$INDEX)(D,"image"),"resized_images"),0),"url"),""):(0,r.$INDEX)(D,"image"),""),(mt=r.$FILTER.default(mt,null),""),'<div class="panel pf-card ',(0,r.$ESC_html)((0,r.$BOOL)((0,r.$INDEX)(D,"is_soft_hidden"))?"soft-hidden-product js-soft-hidden-product":""),`">
    <div class="d-flex pf-content">
        <div class="flex-item pad-hrz-xs card-image">`,(0,r.$INCLUDE)("@Components/Img/Img.html.twig",{src:A,alt:"",isAdultOnly:(0,r.$INDEX)((0,r.$INDEX)((0,r.$INDEX)(D,"offer"),"flags"),"is_adult_only"),variation:"tiny",className:"w-100"}),`</div>
        <div class="flex-item rating-container" data-add-review-url="`,(0,r.$ESC_html)(r.$FILTER.addQueryParam((0,r.$INDEX)(D,"add_review_url"),"ref",nt)),`">
            <div class="pf-hide-product">`,mt!="homepage"?(0,r.$OUT)(['<a href="#" class="js-pf-hide-temporarily pf-hide-temporarily close" data-product-id="',(0,r.$ESC_html)((0,r.$INDEX)(D,"id")),'"',(0,r.$ESC_html)((0,r.$BOOL)((0,r.$INDEX)(D,"is_soft_hidden"))?r.$FILTER.raw(" data-is-hidden='1'"):""),`>
                        <span class="font-size-sm inline-block--middle">`,(0,r.$ESC_html)((0,r.$BOOL)((0,r.$INDEX)(D,"is_soft_hidden"))?"\u043F\u043E\u043A\u0430\u0436\u0438":"\u0441\u043A\u0440\u0438\u0439"),`</span>
                        <i class="inline-block--middle em `,(0,r.$ESC_html)((0,r.$BOOL)((0,r.$INDEX)(D,"is_soft_hidden"))?"em-icon_show":"em-icon_hide"),`"></i>
                    </a>`]):"",`</div>
            <div class="pf-title block">`,(0,r.$ESC_html)((0,r.$INDEX)(D,"product_name")),"</div>",(0,r.$BOOL)(r.$FILTER.default((0,r.$INDEX)(D,"allow_feedback"),!1))?(0,r.$OUT)([`<div class="review-add-info form-group mrg-btm-none">
                    <div class="mrg-btm-sm">
                        <label for="new-review-input" class="control-label sr-only">`,(0,r.$ESC_html)("\u0420\u0435\u0439\u0442\u0438\u043D\u0433:"),`</label>
                        `,(0,r.$INCLUDE)("@Components/StarRating/StarRating.html.twig",{input:!0,inputName:"new-review",size:"md",gtm:"gtm_dx0pnu",rating:0,inputAttributes:{"data-modal-product-pnk":(0,r.$INDEX)(D,"pnk")}}),`

                        <span class="review-add-text star-rating-text star-rating-lg strong hidden-xs"></span>
                    </div>

                    <a
                        href="`,(0,r.$ESC_html)(r.$FILTER.addQueryParam((0,r.$INDEX)(D,"add_review_url"),"ref",H)),`"
                        class="btn btn-primary btn-sm add-review-btn fw-semibold js-product-review-modal"
                        data-modal-product-pnk="`,(0,r.$ESC_html)((0,r.$INDEX)(D,"pnk")),`"
                        data-modal-refresh-page-on-form-submit
                    >`,(0,r.$ESC_html)("\u041D\u0430\u043F\u0438\u0448\u0438 \u0440\u0435\u0432\u044E"),`</a>
                    `,(0,r.$BOOL)(r.$FILTER.default(z,!1))?(0,r.$OUT)([`
                        <a href="`,(0,r.$ESC_html)(r.$FILTER.addQueryParam("/user/reviews","ref",H)),'" class="pad-hrz-sm hidden-xs"><b>',(0,r.$ESC_html)(r.$FILTER.capitalize("\u0432\u0438\u0436 \u0432\u0441\u0438\u0447\u043A\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438")),`</b></a>
                    `]):"",`
                </div>`]):"",`</div>
    </div>
</div>
`])}});return k});function e(k){return r.$TR.exec("@Components/WidgetProductFeedback/WidgetProductFeedbackCard.html.twig",k)}(0,r.$REGISTER)("@Components/WidgetProductFeedback/WidgetProductFeedback.html.twig",function(){var k=r.$TR.t({$main:function(u){var I,A,D,I=u.seeAllProducts,A=u.page_type,D=u.snapTo,z=u.products,H=u.iconRef,nt=u.buttonRef;return(0,r.$OUT)([(I=r.$FILTER.default(I,!1),""),(A=r.$FILTER.default(A,null),""),(D=r.$FILTER.default(D,"center"),""),`<div class="pf-wrapper pf-bg">
    <div class="pf-widget">
        <div class="widget-product-feedback ph-carousel-init" data-phino="Carousel"
             data-ph-handle-resize="true"
             data-ph-auto-scroll="`,(0,r.$ESC_html)(r.$FILTER.length(z)>1?"3000":"0"),`"
             data-ph-loop="true" data-ph-dots="`,(0,r.$ESC_html)(r.$FILTER.length(z)>1),`"
             data-ph-snap="`,(0,r.$ESC_html)(D),'">',(0,r.$FOR)(z,function(mt,St){return mt?(0,r.$OUT)([(0,r.$BOOL)((0,r.$INDEX)(St,"is_hidden_from_products_without_reviews"))?"":(0,r.$OUT)([(0,r.$INCLUDE)("@Components/WidgetProductFeedback/WidgetProductFeedbackCard.html.twig",{product:St,seeAllProducts:I,iconRef:(0,r.$BOOL)(H)?(0,r.$STR)(H)+(0,r.$STR)((0,r.$INDEX)(mt,"index")):"",buttonRef:(0,r.$BOOL)(nt)?(0,r.$STR)(nt)+(0,r.$STR)((0,r.$INDEX)(mt,"index")):"",page_type:A})])]):""}),`</div>
    </div>
</div>
`])}});return k});function n(k){return r.$TR.exec("@Components/WidgetProductFeedback/WidgetProductFeedback.html.twig",k)}var N=Object.defineProperty,K=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,h=(k,u,I)=>u in k?N(k,u,{enumerable:!0,configurable:!0,writable:!0,value:I}):k[u]=I,p=(k,u)=>{for(var I in u||(u={}))Y.call(u,I)&&h(k,I,u[I]);if(K)for(var I of K(u))F.call(u,I)&&h(k,I,u[I]);return k};const T="products_without_reviews",M=(0,t.getPageVar)("last_review");let Z=!1;class at{constructor(u={}){this.options=u,this.el=u.el,this.init()}init(){if(!this.el)return;let u=this.options.items?at.parseProducts(this.options.items):at.getFromLocalStorage();u&&u.length?this.render(u):(0,y.getProductsWithoutReviews)().then(z=>{const H=at.parseProducts(z.data);this.render(H||[])});const I=z=>{u=at.parseProducts(z.data),this.render(u)},A=(z,H)=>{(0,t.stopEvent)(z),at.hideProductPermanently((0,t.getData)(H,"productId"))},D=(z,H)=>{(0,t.stopEvent)(z),at.hideProductTemporarily((0,t.getData)(H,"productId"))};Z||((0,t.on)(c.DISPATCHER,"productRemoved",I),(0,t.live)(this.el,"click",".js-pf-hide-permanently",A),(0,t.live)(this.el,"click",".js-pf-hide-temporarily",D),Z=!0)}static hideProductTemporarily(u){(0,t.trigger)(c.DISPATCHER,"hideProductTemporarily",{product:u})}static unhideProduct(u){(0,t.trigger)(c.DISPATCHER,"unhideProduct",{product:u})}static hideProductPermanently(u){(0,t.trigger)(c.DISPATCHER,"hideProductPermanently",{product:u})}static parseProducts(u){return!u||!u.products||!u.products.length?[]:u.products.map(I=>I._parsed?I:{_parsed:!0,id:I.id,image:I.image.resized_images[0].url,product_name:I.name,doc_product_id:I.id,pnk:I.part_number_key,add_review_url:`/product-feedback/${I.sef_name}/pd/${I.part_number_key}/review/add`,is_hidden_from_products_without_reviews:I.flags.is_hidden_from_products_without_reviews,is_soft_hidden:I.flags.is_soft_hidden,allow_feedback:I.flags.allow_feedback})}static getFromLocalStorage(){let u;try{u=JSON.parse(localStorage.getItem(T))}catch{}if(u&&R.CUSTOMER_ID==u.data.userId&&M==u.data.lastModified)return u.data.products}render(u){const I=(0,t.closest)(this.el,".placeholder-product-feedback-widget");if(!u||!u.length){I&&(0,t.addClass)(I,"hidden");return}I&&(0,t.removeClass)(I,"hidden"),this.el.innerHTML=n(p({products:u,page_type:c.PAGE_TYPE},this.options)),(0,t.qs)(".rating-container",this.el).forEach(at.generateStarRating),setTimeout(()=>{U.Widget.autoInit(this.el);let A=(0,t.q)(".ph-carousel",I);if(!A)return;const D=(0,t.qs)(".star-rating",A);D&&((0,t.addClass)(D,"pulse"),A=A.PH_Widget,A.on("dot-change",(z,H)=>{if(H){const nt=(0,t.q)(".star-rating",H.card);if(!nt)return;(0,t.removeClass)(nt,"pulse"),nt.offsetWidth,(0,t.addClass)(nt,"pulse")}}))})}static generateStarRating(u){const I=(0,t.q)(".review-add-info",u),A=(0,t.q)(".review-add-text",u),D=j.ratingMessages||[];if(I&&A){A.innerHTML=D[0]||"";const z=new tt.StarRating((0,t.q)(".star-rating.star-rating-input",I),{onRatingChange:H=>{A.innerHTML=D[H]},onSelect:H=>{V.ProductReviewModal.open({productPnk:(0,t.q)("input",z.el).dataset.modalProductPnk,replaceData:{rating:H},refreshPageOnFormSubmit:!0,onClose(){z.reset(),A.innerHTML=D[0]}})}})}}}},83318:function(rt,x,s){var c=s(68199),R=s(60539),t=s(36270),U=s(38251),j=s(16998),y=s(37893),V=s(60360),tt=s(70905),r=s(27934),w=s(73951),O=s(75885),e=s(91269);(0,e.$REGISTER)("@Pages/Homepage/components/MiniSlider/Dots.html.twig",function(){var o=e.$TR.t({$main:function(a){var l,g,$,l=a.hasDots,g=a.active,$=a.count;return(0,e.$OUT)([(l=e.$FILTER.default(l,!1),""),(g=e.$FILTER.default(g,1),""),($=e.$FILTER.default($,0),""),(0,e.$BOOL)(l)?(0,e.$OUT)([(0,e.$FOR)(e.$FUNC.range(1,$),function(P,L){return P?(0,e.$OUT)(['<a class="ph-dot',L==g?(0,e.$OUT)([" ph-active"]):"",'"></a>']):""})]):""])}});return o});function n(o){return e.$TR.exec("@Pages/Homepage/components/MiniSlider/Dots.html.twig",o)}(0,e.$REGISTER)("@Pages/Homepage/components/MiniSlider/Arrows.html.twig",function(){var o=e.$TR.t({$main:function(a){var l,g,l=a.hasArrows,g=a.count;return(0,e.$OUT)([(l=e.$FILTER.default(l,!1),""),(g=e.$FILTER.default(g,0),""),(0,e.$BOOL)(l)&&g>1?(0,e.$OUT)([(0,e.$FOR)(["left","right"],function($,P){return $?(0,e.$OUT)(['<a class="ph-',(0,e.$ESC_html)(P),'-margin" href="#"></a>']):""})]):""])}});return o});function N(o){return e.$TR.exec("@Pages/Homepage/components/MiniSlider/Arrows.html.twig",o)}var K=Object.defineProperty,Y=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(o,a,l)=>a in o?K(o,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[a]=l,T=(o,a)=>{for(var l in a||(a={}))F.call(a,l)&&p(o,l,a[l]);if(Y)for(var l of Y(a))h.call(a,l)&&p(o,l,a[l]);return o};class M{constructor(a,l={}){this.options=T({hasDots:!0,hasArrows:!0,circular:!0,autoplay:4e3,transition:200},l),this.options.autoplay&&(this.options.circular=!0),this.el=a,this.body=(0,t.q)(".ph-body",this.el),this.arrowsContainer=(0,t.q)(".ph-arrows",this.el),this.dotsContainer=(0,t.q)(".ph-dots",this.el),this.el.tabIndex=1,this._events=[],this.attachEvents(),this.setTransition(`transform ${this.options.transition}ms`),this.init(),this.play()}play(){this.options.autoplay&&(this.interval=setInterval(()=>{this.next()},this.options.autoplay))}stop(){clearInterval(this.interval)}attachEvents(){(0,t.live)(this.arrowsContainer,"click","a",(a,l)=>{a.preventDefault(),l.classList.contains("ph-left-margin")?(this.prev(),this.focus()):l.classList.contains("ph-right-margin")&&(this.next(),this.focus())},this),(0,t.live)(this.dotsContainer,"click","a",(a,l)=>{a.preventDefault();const g=(0,t.whichChild)(l);this.goToSlide(g+1),this.focus()},this),(0,t.on)(this.el,"keydown",a=>{a.keyCode===37?(a.preventDefault(),this.prev(),this.focus()):a.keyCode===39&&(a.preventDefault(),this.next(),this.focus())}),(0,t.on)(this.el,"mouseenter",this.stop.bind(this)),(0,t.on)(this.el,"mouseleave",this.play.bind(this)),(0,t.on)(window,"resize",(0,t.throttle)(this.scrollToActiveSlide.bind(this),100))}focus(){this.el.focus()}init(){this.slides=this.body.children,this.count=this.slides.length,this.active=1}goToSlide(a){this.active=a,this.render()}next(){this.options.circular?this.active=1+this.active%this.count:this.active=Math.min(1+this.active,this.count),this.render()}prev(){this.options.circular?this.active=1+(this.active-2+this.count)%this.count:this.active=Math.max(this.active-1,1),this.render()}renderArrows(){this.arrowsContainer.innerHTML=N({count:this.count,active:this.active,hasArrows:this.options.hasArrows})}renderDots(){this.dotsContainer.innerHTML=n({count:this.count,active:this.active,hasDots:this.options.hasDots})}setTransition(a){this.body.style.transition=a,this.body.style.msTransition=a,this.body.style.webkitTransition=a}scrollToActiveSlide(){const a=this.body.children[0];if(!a)return;const g=a.clientWidth*(this.active-1);this.body.style.transform=`translate3d(-${g}px, 0, 0)`}render(){this.renderDots(),this.renderArrows(),this.scrollToActiveSlide()}reload(){this.stop(),this.init(),this.render(),this.play()}}var Z=s(26385),at=s(59626),k=s(78178),u=s(68973),I=s(8835),A=s(59210);const D=()=>{(0,t.qs)(".js-recommendation-carousel").filter(a=>!(0,t.getData)(a,"campaign")).forEach((a,l)=>{(0,t.getData)(a,"scenarioIndex")||(0,t.setData)(a,"scenarioIndex",l+1)})};var z=s(11265),H=s(75813),nt=s(35053),mt=Object.defineProperty,St=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,i=(o,a,l)=>a in o?mt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[a]=l,d=(o,a)=>{for(var l in a||(a={}))Bt.call(a,l)&&i(o,l,a[l]);if(St)for(var l of St(a))C.call(a,l)&&i(o,l,a[l]);return o};const f=(o={},a={})=>(0,nt.ajax)({url:`${z.SAPI_ENDPOINT}/recommendations/by-zone-position`,type:"json",method:"GET",form:o.form,data:d({source_id:R.SOURCE_ID,identifier:0,token:H.SAPI_TOKEN,fields:{resized_images:"300x300"}},a)}),b=(o={},a={})=>(0,nt.ajax)({url:`${z.SAPI_ENDPOINT}/label-campaign/flash-deals`,type:"json",method:"get",headers:{"X-Request-Source":"www"},form:o.form,data:d({source_id:R.SOURCE_ID},a)});var E=s(84091),v=s(40985);(0,e.$REGISTER)("@Pages/Homepage/components/ProductsByZonePosition/ProductsByZonePosition.html.twig",function(){var o=e.$TR.t({$main:function(a){var P,L,q,l,g,$,P=a.is_placeholder,L=a.widgetType,q=a.moduleStatus,lt=a.className,W=a.widget,B=a.app;return(0,e.$OUT)([(P=e.$FILTER.default(P,!1),""),(L=e.$FILTER.default(L,!1),""),(q=e.$FILTER.default(q,{}),""),(l=L=="campaign",""),(g=(0,e.$OUT)([(0,e.$FOR)(e.$FUNC.range(1,6),function(X,Q){return X?(0,e.$OUT)([(0,e.$INCLUDE)("@Components/Card/template.html.twig",{isPlaceholder:P})]):""})]),""),($=(0,e.$OUT)([(0,e.$ESC_html)((0,e.$INDEX)(o,"get_title")()),'<div class="product-carousel carousel-loading ph-has-dots">',e.$FILTER.trim(g),"</div>"]),""),(0,e.$BOOL)(P)?(0,e.$OUT)(['<section class="section-rec ',(0,e.$ESC_html)(lt),'" data-type="',(0,e.$ESC_html)(L),'" data-zone="',(0,e.$ESC_html)((0,e.$INDEX)(W,"zone")),'" data-position="',(0,e.$ESC_html)((0,e.$INDEX)(W,"position")),'" data-widgets-count="',(0,e.$ESC_html)((0,e.$INDEX)(W,"widgets_count")),`">
        <div class="container">`,(0,e.$FOR)(e.$FUNC.range(1,(0,e.$INDEX)(W,"widgets_count")),function(X,Q){return X?(0,e.$OUT)([(0,e.$ESC_html)($)]):""}),`</div>
    </section>`]):(0,e.$OUT)(['<section class="',(0,e.$ESC_html)(lt),`">
        <div class="container">`,(0,e.$INDEX)(W,"collection_type")=="categories_collection"?(0,e.$OUT)(["<div>",(0,e.$FOR)((0,e.$INDEX)(W,"categories_collection"),function(X,Q){return X?(0,e.$OUT)([(0,e.$ESC_html)((0,e.$INDEX)(o,"get_title")((0,e.$INDEX)((0,e.$INDEX)(Q,"category"),"name"),(0,e.$INDEX)(W,"counter"),(0,e.$INDEX)(W,"view_more_url"),(0,e.$INDEX)(W,"dsa"),L)),(0,e.$ESC_html)((0,e.$INDEX)(o,"get_carousel")({app:B,widget:Q,tracking:W},L,q))]):""}),"</div>"]):(0,e.$OUT)([(0,e.$ESC_html)((0,e.$INDEX)(o,"get_title")((0,e.$INDEX)(W,"scenario_name"),(0,e.$INDEX)(W,"counter"),(0,e.$INDEX)(W,"view_more_url"),(0,e.$INDEX)(W,"dsa"),L)),(0,e.$ESC_html)((0,e.$INDEX)(o,"get_carousel")({app:B,widget:W,tracking:W},L,q)),(0,e.$ESC_html)((0,e.$INDEX)(o,"get_button")((0,e.$INDEX)(W,"view_more_url"),l))]),`</div>
    </section>`])])}});return o.get_title=function(l,g,$,P,L){return(0,e.$OUT)([(0,e.$INCLUDE)("@Components/Rec/Title.html.twig",{title:e.$FILTER.default(l,"&nbsp;"),counter:g,link:$,dsa:P,widgetType:L})])},o.get_tracking_params=function(l,g){return(0,e.$OUT)(['data-tracking-alias="',(0,e.$ESC_html)((0,e.$INDEX)(l,"tracking_alias")),`"
    data-position="`,(0,e.$ESC_html)((0,e.$INDEX)(l,"position")),`"
    data-recommendation-id="`,(0,e.$ESC_html)((0,e.$INDEX)(l,"recommendation_id")),`"
    data-tracking-engine="`,(0,e.$ESC_html)((0,e.$INDEX)(l,"provider")),`"
    data-scenario-id="`,(0,e.$ESC_html)((0,e.$INDEX)(l,"recommendation_scenario_id")),`"
    data-widget-type="`,(0,e.$ESC_html)(g),'"'])},o.get_carousel=function(l,g,$){var P,L,q;return(0,e.$OUT)([(P=(0,e.$INDEX)(l,"widget"),""),(L=(0,e.$INDEX)(l,"tracking"),""),`<div class="slot-carousel product-carousel js-recommendation-carousel"
         data-phino="Carousel"
         data-ph-dots="true"
         data-ph-arrows="true"
         data-ph-handle-resize="true"
         data-ph-snap="true"
         data-ph-disable-on-mobile="true"
        `,(0,e.$BOOL)(L)?(0,e.$OUT)([`
            `,(0,e.$ESC_html)((0,e.$INDEX)(o,"get_tracking_params")(L,g)),`
        `]):"",`
    >`,(q=(0,e.$OUT)([(0,e.$FOR)((0,e.$INDEX)(P,"product_collection"),function(lt,W){return lt?(0,e.$OUT)([(0,e.$INCLUDE)("@Components/Card/template.html.twig",{app:(0,e.$INDEX)(l,"app"),productData:W,ref:(0,e.$INDEX)(L,"tracking_alias"),position:(0,e.$INDEX)(L,"position"),recommendation_id:(0,e.$INDEX)(L,"recommendation_id"),provider:(0,e.$INDEX)(L,"provider"),scenarioId:(0,e.$INDEX)(L,"recommendation_scenario_id"),moduleStatus:$})]):""})]),""),e.$FILTER.trim(q),"</div>"])},o.get_button=function(l,g){return(0,e.$OUT)([(0,e.$BOOL)(l)&&(0,e.$BOOL)(g)?(0,e.$OUT)(['<a class="btn btn-block btn-see-more-campaign dpy-1 btn-xl visible-xs" href="',(0,e.$ESC_html)(e.$FILTER.addQueryParam(l,{ref:"hp_fd_widget_button"})),'" title="',(0,e.$ESC_html)("\u0432\u0438\u0436 \u043F\u043E\u0432\u0435\u0447\u0435 \u0440\u0435\u0432\u044E\u0442\u0430 "),'">',(0,e.$ESC_html)("\u0432\u0438\u0436 \u043F\u043E\u0432\u0435\u0447\u0435 \u0440\u0435\u0432\u044E\u0442\u0430 "),"</a>"]):""])},o});function et(o){return e.$TR.exec("@Pages/Homepage/components/ProductsByZonePosition/ProductsByZonePosition.html.twig",o)}const ut={rootMargin:"400px 0px 400px 0px"},st=(0,t.qs)(".section-rec[data-type='products_by_zone_position'], .section-rec[data-type='campaign']"),ft=(o,a)=>{a.forEach(l=>{const g=+(0,t.getData)(l,"scenarioIndex");(0,t.qs)(".js-card-item",l).forEach((P,L)=>{let q=(0,t.getData)(P,"url");q=(0,Z.addQueryParam)(q,{ref:o.trackingAlias?`${o.trackingAlias}_${g}_${L+1}`:"home_rec_tracking_alias_null",provider:o.provider,recid:o.recommendationId,scenario_ID:o.scenarioId}),(0,t.setData)(P,"url",q);const lt=(0,t.qs)(".add-to-favorites",P);lt.length&&lt.forEach(B=>(0,t.setData)(B,"ref",`${(0,t.getData)(B,"ref")}_${g}_${L+1}`)),((0,t.qs)(".js-product-url",P).length?(0,t.qs)(".js-product-url",P):(0,t.qs)("a.card",P)).forEach(B=>{const X=B;X.href=q}),(0,t.qs)("form",P).forEach(B=>{if(o.trackingAlias){const X=B;X.action=B.action.replace(new RegExp(o.trackingAlias,"g"),`${o.trackingAlias}_${g}_${L+1}`)}}),new I.Countdown((0,t.q)("[data-countdown]",P))})})},it=(o,a,l,g,$)=>{var P,L,q,lt,W,B;const X=+(0,t.getData)(o,"widgetsCount"),Q=st.filter(wt=>+(0,t.getData)(wt,"position")===+a);if(!((P=$==null?void 0:$.data)!=null&&P.collection_type)||!($!=null&&$.data[(L=$==null?void 0:$.data)==null?void 0:L.collection_type])){Q.forEach(wt=>{(0,t.remove)(wt)});return}(q=$==null?void 0:$.data)!=null&&q.categories_collection&&($.data.categories_collection=$.data.categories_collection.splice(0,X));const It=et({widget:$.data,app:R.APP,widgetType:l,moduleStatus:R.MODULE_STATUS,className:l==="campaign"?"flash-deals-section":""}),ht=(0,t.node)(It);(0,u.hydrateDSARecButton)({container:ht,dsa:(W=(lt=$.data)==null?void 0:lt.dsa)==null?void 0:W.widget}),o.replaceWith(ht),U.Widget.autoInit(ht),(0,A.getVCRBadges)(ht);const Ft=(0,t.qs)("[data-recommendation-id]",ht);D(),Ft.forEach(wt=>{const Wt=()=>new at.WidgetTracking(wt);(0,t.onceInViewport)(wt,Wt,ut)}),(B=$==null?void 0:$.data)!=null&&B.counter&&new I.Countdown((0,t.q)("[data-countdown]",ht));const se={trackingAlias:$.data.tracking_alias,provider:$.data.provider,recommendationId:$.data.recommendation_id,scenarioId:$.data.recommendation_scenario_id};ft(se,Ft)},ct=o=>{const a=(0,t.getData)(o,"type"),l=(0,t.getData)(o,"zone"),g=(0,t.getData)(o,"position"),$={},P={zone:l,position:g};a==="campaign"?b($,P).then(it.bind(null,o,g,a,l)).catch(()=>{(0,t.remove)(o)}):f($,P).then(it.bind(null,o,g,a,l)).catch(k.showFailNotification)},ot=()=>{D(),st.forEach(o=>{(0,t.onceInViewport)(o,ct.bind(null,o),ut)})},Dt=()=>{},_t=()=>{};var Ct=s(55700);const Rt=()=>{H.CUSTOMER_ID&&R.MODULE_STATUS.products_bought_without_review_module&&new Ct.WidgetProductFeedback({el:(0,t.q)(".placeholder-product-feedback-widget"),iconRef:"hp-widget-add-review_icon_",buttonRef:"hp-widget-add-review_btn_"})},Nt=()=>{},bt=()=>{},J=o=>{o&&U.Widget.autoInit(o)};var pt=s(5820),gt=s(63168),Et=s(62781),yt=s(16507),Ot=s(74925);const Pt=o=>{if(!o)return;const a=X=>(0,t.node)(`<div class="mrg-sep-none alert">${X}</div>`),l=(X,Q,It)=>{X&&Q.appendChild(a(X,It))},g=(0,t.q)("form",o);let $;const P=R.MODULE_STATUS.Newsletter_subscription_invisible_ReCaptcha,L=(0,t.q)(".js-recaptcha-button",o),q=(0,t.q)(".js-recaptcha-badge",o),lt=()=>{(0,t.addClass)(q,"active")};(0,t.qs)("input, button",g).forEach(X=>(0,t.on)(X,"focus",lt));const W=new pt.FormHandler(g).before(()=>{(0,t.qs)(".alert",g).forEach(t.remove),$&&(W.data.captcha_response=$)}).then(X=>{X.message&&(l(X.message.error,g,"danger"),R.LOCALE==="ro"&&(X.message.info||X.message.success)?l((0,Et.trans)("Thank you! Please confirm your subscription to the newsletter via the email we just sent you."),g,"success"):(l(X.message.success,g,"success"),l(X.message.info,g,"info")),X.success&&((0,t.qs)(".form-control",g).forEach(It=>{const ht=It;ht.value=""}),new yt.Tracking("Abonare Newsletter").send("Abonare")))}),B=X=>{$=X,W.submit()};P&&(0,Ot.loadRecaptcha)(X=>{const Q=(0,t.q)(".js-recaptcha-badge"),It=(0,t.getData)(Q,"recaptchaKey"),ht=X.render(Q,{size:"invisible",callback:B,sitekey:It});(0,t.on)(L,"click",Ft=>{(0,t.stopEvent)(Ft),gt.Validator.validateForm(g)&&X.execute(ht)})})};var Tt=s(49161),$t=s(44393),Xt=s(47199),Lt=Object.defineProperty,xt=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,_=(o,a,l)=>a in o?Lt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[a]=l,G=(o,a)=>{for(var l in a||(a={}))m.call(a,l)&&_(o,l,a[l]);if(xt)for(var l of xt(a))S.call(a,l)&&_(o,l,a[l]);return o};const dt=o=>(0,nt.ajax)({url:`${z.SAPI_ENDPOINT}/widgets/tazz-image-cards`,type:"json",method:"get",headers:{"Content-Type":"application/json"},crossOrigin:!0,data:G({source_id:7},o)});(0,e.$REGISTER)("@Pages/Homepage/components/WidgetTazz/WidgetTazz.html.twig",function(){var o=e.$TR.t({$main:function(a){var l=a.cards;return(0,e.$OUT)([`<div class="ph-carousel-init mrg-top-sm"
     data-ph-dots="false"
     data-ph-disable-on-mobile="true"
     data-ph-snap="left"
     data-phino="Carousel">
    `,(0,e.$FOR)(l,function(g,$){return g?(0,e.$OUT)([`
        <div class="card-item">
            <a href="`,(0,e.$ESC_html)((0,e.$INDEX)($,"url")),"?ref=hp-tazz_",(0,e.$ESC_html)((0,e.$INDEX)(g,"index")),`" class="card">
                <div class="card-body">
                    <div class="category-title mrg-top-sm">`,(0,e.$ESC_html)((0,e.$INDEX)($,"title")),`</div>
                </div>

                <div class="thumbnail-wrapper ratio-16by9">
                    <div class="thumbnail">
                        <img src="`,(0,e.$ESC_html)((0,e.$INDEX)($,"image_url")),'" alt="',(0,e.$ESC_html)((0,e.$INDEX)($,"title")),`">
                    </div>
                </div>
            </a>
        </div>
    `]):""}),`
</div>
`])}});return o});function vt(o){return e.$TR.exec("@Pages/Homepage/components/WidgetTazz/WidgetTazz.html.twig",o)}const jt=()=>{const o="widget_tazz_department",a=(0,t.q)(".js-widget-tazz-hp"),l=(0,t.q)(".js-tazz-select-locality"),g=(0,t.q)(".widget-tazz-carousel");if(!a)return;const $=Xt.UserLocation;$.init();const P=()=>{const B=l.PH_Widget?l.PH_Widget._label.innerText:l.options[l.selectedIndex].innerText;$t.dataLayer.push({ea:"tazz widget hp impression",ec:"website_sandbox_events",el:B,event:"gaEvent"})};P();const L=B=>{const Q=JSON.parse((0,t.getData)(l,"locations")).find(ht=>ht.id===B);if(Object.keys(Q).length===0||Q.constructor!==Object)return;const It={region:Q.region,locality:{id:Q.id,sub_loc:Q.name,main_loc:Q.name},point:{index:0,localityId:Q.id},type:$.type.user};$.setLocation(It)},q=B=>{g.innerHTML=vt({cards:B}),P(),U.Widget.autoInit(g)},lt=B=>{try{const X=JSON.parse(Tt.storage.get(`${o}_${B}`));if(X)q(X);else throw Error(`no ${o} in LS`)}catch{dt({locality_id:B}).then((Q={})=>{Q.data&&(Tt.storage.set(`${o}_${B}`,JSON.stringify(Q.data),"12h"),q(Q.data))}).catch(()=>{(0,t.addClass)(a,"hide")})}},W=B=>{B&&lt(B)};(0,t.on)(l,"change",()=>{const B=l.value;L(B),W(B)})},Mt=()=>{};var zt=Object.defineProperty,kt=Object.getOwnPropertySymbols,Ht=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,At=(o,a,l)=>a in o?zt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[a]=l,Gt=(o,a)=>{for(var l in a||(a={}))Ht.call(a,l)&&At(o,l,a[l]);if(kt)for(var l of kt(a))Vt.call(a,l)&&At(o,l,a[l]);return o};const Kt=(o={},a={})=>(0,nt.ajax)({url:`${z.SAPI_ENDPOINT}/widgets-notifications`,type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www","X-Tokens":H.SAPI_TOKEN},data:Gt({url:"/",ip:1,source_id:R.SOURCE_ID},a),form:o.form}),Yt=o=>{o&&Kt().then(a=>{var l,g,$,P,L;const q=(L=(P=($=(g=(l=a.data)==null?void 0:l.items)==null?void 0:g.map)==null?void 0:$.call(g,lt=>lt.type))==null?void 0:P.join)==null?void 0:L.call(P,",");$t.dataLayer.push({ea:"hp-widget-impression",ec:"website_sandbox_events",el:q,event:"gaEvent"})})},Zt=()=>{};class Qt{static init(){}}class Jt{static init(){}}(0,c.loadCommon)();const qt=(0,t.getPageVar)("fallback_banners");(0,j.initNavBannerDFP)(),(0,tt.initStories)(),r.SellWithEmag.init();const te=(0,t.q)(".widget-brands"),ee=(0,t.q)(".widget-newsletter"),ie=(0,t.q)(".widget-services");(0,y.initDFPBanner)(),Dt(),Nt(),_t(),Rt(),bt(),Zt(),jt(),Mt(),J(te),Pt(ee),Yt(ie),(0,V.initWidgetCategoryCarousel)(),w.UserProductReviews.init(),O.OrdersReadyToPickup.init(),Qt.init(),Jt.init();const Ut=(0,t.q)(".js-banner-carousel"),ne=new M(Ut,{hasArrows:!0,hasDots:!0,autoplay:5e3,transition:400});Ut.PH_Widget=ne,(0,t.on)(R.DISPATCHER,"DFP_fallback_injected",()=>{const o=(0,t.qs)(".hbc-slide-item",Ut),a=Ut.PH_Widget;new y.DFPBanner().insertBannerFallbacks(o,qt),o.forEach(g=>{g.removeAttribute("id"),g.children.length===0&&(0,t.remove)(g)}),a&&a.reload()}),(0,t.pageLoad)(()=>{window.pageYOffset<400&&(0,t.setPageVar)("recIsNtrl",!0),R.MODULE_STATUS.activate_live_feeds?s.e(7492).then(s.bind(s,47492)).then(({LiveFeeds:o})=>new o):s.e(9791).then(s.bind(s,29791)).then(({WidgetSmartAppBanner:o})=>{new o(R.GLOBAL_OPTIONS.WIDGET_SMART_APP_BANNER_TYPE)})}),ot(),U.Widget.autoInit(document.body)},74925:function(rt,x,s){s.r(x),s.d(x,{loadRecaptcha:function(){return t}});var c=s(60539);let R=0;const t=U=>{if(window.grecaptcha)U(window.grecaptcha);else{R+=1;const j=`EM__recaptcha${R}`;window[j]=()=>{delete window[j],U(window.grecaptcha)};const y=document.createElement("script");y.src=`https://www.google.com/recaptcha/api.js?render=explicit&onload=${j}&hl=${c.LOCALE}`,document.body.appendChild(y)}}},16507:function(rt,x,s){s.r(x),s.d(x,{Tracking:function(){return r}});var c=s(44393),R=Object.defineProperty,t=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,y=(w,O,e)=>O in w?R(w,O,{enumerable:!0,configurable:!0,writable:!0,value:e}):w[O]=e,V=(w,O)=>{for(var e in O||(O={}))U.call(O,e)&&y(w,e,O[e]);if(t)for(var e of t(O))j.call(O,e)&&y(w,e,O[e]);return w};const tt=w=>typeof w=="string"?{action:w,label:void 0}:typeof w=="object"&&(w!=null&&w.action)?{action:w.action,label:w.label}:{action:void 0,label:void 0};class r{constructor(O){if(typeof O=="string")this.ec=O;else if(typeof O=="object"&&(O!=null&&O.name))this.ec=O.name,this.el=O.label;else throw new Error(`Invalid argument, expected object {name:string, label:?string} or string.
Example:
const tracking = new Tracking('NavigationHistory');
tracking.send('In viewport');
tracking.send({action: 'Display', label: 'Label'});`)}send(O,e){const{action:n,label:N}=tt(O);if(!n)throw new Error("Invalid argument, expected object {action:string, label:?string} or string");c.dataLayer.push(V({event:"gaEvent",ec:this.ec,ea:n,el:typeof N!="undefined"?N:this.el},e))}push(O,e){return this.send(O,e)}}},84091:function(rt,x,s){s.r(x),s.d(x,{default:function(){return U}});var c=s(91269),R=s(16655),t=s(99298);(0,c.$REGISTER)("@Components/Rec/Title.html.twig",function(){var j=c.$TR.t({$main:function(y){var V,tt,e,r,w,O=y.widgetType,e=y.exclude,n=y.counter,N=y.className,K=y.title,Y=y.link,F=y.CDN,h=y.dsa,p=y.dsaType,T=y.id;return(0,c.$OUT)([(V=c.$OP.in(O,["campaign"]),""),(e=(tt=e)!=null?tt:[],""),(r=c.$FILTER.filter(["page-section-title","d-flex","gap-1","align-items-center","justify-content-between",(0,c.$BOOL)(n)?"":"justify-content-md-start",N],function(M){return(0,c.$BOOL)(M)&&!c.$OP.in(M,e)}),""),(w=(0,c.$OUT)([K,(0,c.$BOOL)(V)?(0,c.$OUT)(['<span class="d-inline-flex align-items-center gap-2">',(0,c.$BOOL)(n)?(0,c.$OUT)([(0,c.$INCLUDE)("@Components/Countdown/Countdown.html.twig",{size:"sm",endRefresh:!0,endTime:(0,c.$INDEX)(n,"end_date"),hideLabels:!0})]):"",(0,c.$BOOL)(Y)?(0,c.$OUT)(['<img class="d-none d-sm-block" src="//',(0,c.$ESC_html)((0,c.$GLOBAL)("CDN")),'/layout/ro/static-upload/flash-deals-title-arrow.svg" alt="',(0,c.$ESC_html)("\u0432\u0438\u0436 \u043F\u043E\u0432\u0435\u0447\u0435"),'">']):"","</span>"]):(0,c.$OUT)([(0,c.$INCLUDE)("@Components/DSA/RecButton/RecButton.html.twig",{dsa:h,dsaType:p,id:T})])]),""),'<h2 class="',(0,c.$ESC_html)(c.$FILTER.join(r," ")),'"',(0,c.$BOOL)(n)?(0,c.$OUT)([' style="background-color: rgba(',(0,c.$ESC_html)((0,c.$INDEX)((0,c.$INDEX)(n,"background"),"r")),", ",(0,c.$ESC_html)((0,c.$INDEX)((0,c.$INDEX)(n,"background"),"g")),", ",(0,c.$ESC_html)((0,c.$INDEX)((0,c.$INDEX)(n,"background"),"b")),", ",(0,c.$ESC_html)((0,c.$INDEX)((0,c.$INDEX)(n,"background"),"a")),');"']):"",">",(0,c.$BOOL)(Y)&&(0,c.$BOOL)(n)||(0,c.$BOOL)(Y)&&(0,c.$BOOL)(V)?(0,c.$OUT)(['<a class="d-flex justify-content-between align-items-center w-100" title="',(0,c.$ESC_html)("\u0432\u0438\u0436 \u043F\u043E\u0432\u0435\u0447\u0435"),'" href="',(0,c.$ESC_html)(c.$FILTER.addQueryParam(Y,{ref:"hp_fd_widget_title"})),'">',(0,c.$ESC_html)(w),"</a>"]):(0,c.$OUT)([(0,c.$ESC_html)(w)]),`</h2>
`])}});return j});function U(j){return c.$TR.exec("@Components/Rec/Title.html.twig",j)}}},function(rt){var x=function(c){return rt(rt.s=c)};rt.O(0,[6493],function(){return x(83318)});var s=rt.O()}]);

</script>

</body>
</html>
