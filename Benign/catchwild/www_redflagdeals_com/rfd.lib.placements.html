<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rfd.lib.placements.html</title>
</head>
<body>

<script>
function RFD_Placements(a){this.params={global:{networkId:"1030735",language:"en"},page:{keywords:[],keyvalues:{}}};this.slots={};this.refresh={targets:[],active:true,intervalSeconds:30,intervalObj:null,lastRun:null};this.firstDisplayStatus=false;if(typeof a==="object"){this.params.global=Object.assign(this.params.global,a)}window.googletag=window.googletag||{cmd:[]}}RFD_Placements.prototype.initAds=function(){this.__injectGoogleTag();this.setPageTargeting(this.params.page.keywords,this.params.page.keyvalues)};RFD_Placements.prototype.setPageKeywords=function(a){if(a!=null){this.params.page.keywords=a}};RFD_Placements.prototype.setPageKeyValues=function(a){if(a!=null){this.params.page.keyvalues=a}};RFD_Placements.prototype.setPageTargeting=function(b,a){this.__setPageTargetingParam("kw",b);Object.keys(a).forEach((function(c){this.__setPageTargetingParam(c,a[c])}).bind(this))};RFD_Placements.prototype.createSlot=function(b){this.slots[b.target]=null;const a=this.__buildSlotName(this.params.global.networkId,b.slotName);googletag.cmd.push((function(){var c=googletag.defineSlot(a,b.dimensions,b.target);if(typeof b.collapseEmptyDiv!="undefined"&&b.collapseEmptyDiv){c.setCollapseEmptyDiv(true,true)}c.addService(googletag.pubads());if(typeof b.keywords!=="undefined"&&b.keywords){b.keywords.forEach(function(d){c.setTargeting("kw",d)})}if(typeof b.keyValues==="object"){Object.keys(b.keyValues).forEach((function(e){var d=b.keyValues[e];if(typeof d!="object"){c.setTargeting(e,b.keyValues[e])}else{b.keyValues[e].forEach(function(f){c.setTargeting(e,f)})}}).bind(this))}this.slots[b.target]=c;if(typeof b.autoRefresh!="undefined"&&b.autoRefresh){this.addAutoRefreshTarget(b.target)}}).bind(this))};RFD_Placements.prototype.displaySlot=function(a){googletag.cmd.push(function(){if(window.deployads){deployads.push(function(){deployads.gpt.display(a)})}else{googletag.display(a)}})};RFD_Placements.prototype.displayAllSlots=function(){this.__enableSingleRequest();this.__enableServices();Object.keys(this.slots).forEach((function(a){this.displaySlot(a)}).bind(this));this.initAdRefresh();this.firstDisplayStatus=true};RFD_Placements.prototype.destroySlots=function(c){var a=[];for(var b=0;b<c.length;b++){var d=this.slots[c[b]];if(typeof d=="object"){a.push(d);delete this.slots[c[b]]}}if(a.length>0){googletag.cmd.push(function(){if(window.deployads){deployads.push(function(){deployads.gpt.destroySlots(a)})}else{googletag.destroySlots(a)}})}};RFD_Placements.prototype.initAdRefresh=function(){document.addEventListener("visibilitychange",this.__handleVisibilityChangeForAutoRefresh.bind(window.RFD.placements));this.startAdRefreshLoop()};RFD_Placements.prototype.startAdRefreshLoop=function(){this.refresh.intervalObj=window.setInterval(this.__refreshAdSlots.bind(window.RFD.placements),this.refresh.intervalSeconds*1000)};RFD_Placements.prototype.clearAdRefreshLoop=function(){window.clearInterval(this.refresh.intervalObj);this.refresh.intervalObj=null};RFD_Placements.prototype.__injectScript=function(a,d){const b=document.createElement("script");b.async=!0;b.type="text/javascript";const c="https:"==document.location.protocol;if(a.indexOf("http://")===0||a.indexOf("https://")===0){b.src=a}else{b.src=(c?"https:":"http:")+a}d.parentNode.insertBefore(b,d)};RFD_Placements.prototype.__injectGoogleTag=function(){window.googletag=window.googletag||{cmd:[]};const a=this.__getScriptInjectionPoint();this.__injectScript("//www.googletagservices.com/tag/js/gpt.js",a)};RFD_Placements.prototype.__getScriptInjectionPoint=function(){return document.getElementsByTagName("script")[0]};RFD_Placements.prototype.__enableServices=function(){googletag.cmd.push(function(){if(window.deployads){deployads.push(function(){deployads.gpt.enableServices()})}else{googletag.enableServices()}})};RFD_Placements.prototype.__enableSingleRequest=function(){googletag.cmd.push(function(){googletag.pubads().enableSingleRequest()})};RFD_Placements.prototype.__setPageTargetingParam=function(a,b){googletag.cmd.push(function(){googletag.pubads().setTargeting(a,b)})};RFD_Placements.prototype.__buildSlotName=function(b,a){return"/"+b+"/"+a};RFD_Placements.prototype.addAutoRefreshTarget=function(a){this.refresh.targets.push(a)};RFD_Placements.prototype.removeAutoRefreshTarget=function(b){var a=this.refresh.targets.indexOf(b);if(a!==-1){this.refresh.targets.splice(a,1)}};RFD_Placements.prototype.__refreshAdSlots=function(){if(this.refresh.active&&this.refresh.targets.length>0){var b=[];for(var a=0;a<this.refresh.targets.length;a++){if(typeof this.slots[this.refresh.targets[a]]!="undefined"){b.push(this.slots[this.refresh.targets[a]])}}this.refresh.lastRun=Date.now();googletag.cmd.push(function(){if(window.deployads){deployads.push(function(){deployads.gpt.pubadsRefresh(b)})}else{googletag.pubads().refresh(b)}})}};RFD_Placements.prototype.__handleVisibilityChangeForAutoRefresh=function(){var a="visible"===document.visibilityState;if(a&&this.refresh.targets.length>0){this.refresh.active=true;if(Date.now()>this.refresh.lastRun+(this.refresh.intervalSeconds*1000)){this.clearAdRefreshLoop();this.__refreshAdSlots();this.startAdRefreshLoop()}}else{this.refresh.active=false}};RFD_Placements.prototype.destroySlotAfterPeriod=function(b,c,a){if(typeof a==="undefined"){a=5000}googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(d){if(d.slot.getSlotElementId()===b){window.setTimeout(function(){window.RFD.placements.destroySlots([b]);if(typeof c==="function"){c()}},a)}})})};if(typeof window==="undefined"&&typeof exports!=="undefined"){module.exports=RFD_Placements}else{if(typeof window!=="undefined"){window.RFD=window.RFD||{};window.RFD.placements=new RFD_Placements()}};
</script>

</body>
</html>
