<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>whitelistTest.html</title>
</head>
<body>

<script>
describe('filter', function() {
	beforeEach(module('videosharing-embed'));
	
	describe('whitelist', function() {
		it('should return a map with only the allowed parameters', inject(function (whitelistFilter) {
			expect(whitelistFilter({ 'autoplay' : 1 , 'loop' : 'no' }, ['autoplay'])).toEqual({ 'autoplay' : 1});
			expect(whitelistFilter({ 'autoplay' : 1 }, ['autoplay','loop'])).toEqual({ 'autoplay' : 1});
			expect(whitelistFilter({ 'autoplay' : 1 , 'loop' : 'no' , 'forceQuality' : 'hq' }, ['autoplay','loop', 'forceQuality'])).toEqual({ 'autoplay' : 1 , 'loop' : 'no' , 'forceQuality' : 'hq'});
		}))
	})
})
</script>

</body>
</html>
