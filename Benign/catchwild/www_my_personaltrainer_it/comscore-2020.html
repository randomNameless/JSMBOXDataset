<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>comscore-2020.html</title>
</head>
<body>

<script>
(function () {
  window._comscore = window._comscore || [];
  window._comscore.push({
    c1: "2",
    c2: "33682214",
    options: { 
      enableFirstPartyCookie : true
    }
  });

  let addComscore = function () {
    var s = document.createElement("script"),
      el = document.getElementsByTagName("script")[0];
    s.async = true;
    s.src = "https://sb.scorecardresearch.com/cs/33682214/beacon.js";
    el.parentNode.insertBefore(s, el);
  };

  let postConsensoAccettato = function (cb) {
    if (typeof tcfIsReady !== "undefined") {
      console.log("[Ame Comscore] Consenso accettato by variable:", cb.name);
      cb();
    } else {
      window.addEventListener("tcf2Ready", function () {
        console.log("[Ame Comscore] Consenso accettato by listener:", cb.name);
        cb();
      });
    }
  };

  let postConsensoNegato = function (cb) {
    if (typeof ameConsentGiven !== "undefined") {
      console.log("[Ame Comscore] Consenso negato by variable:", cb.name);
      cb();
    } else {
      window.addEventListener("consentRejected", function () {
        console.log("[Ame Comscore] Consenso negato by listener:", cb.name);
        cb();
      });
    }
  };

  postConsensoNegato(addComscore);
  postConsensoAccettato(addComscore);
})();
</script>

</body>
</html>
