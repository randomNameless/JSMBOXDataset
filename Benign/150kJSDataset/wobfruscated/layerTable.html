<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>layerTable.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGnIOAgABFfwBBAQt/AEEMC38AQRQLfwBB1gALfwBB4gALfwBB6gALfwBBsgELfwBBvgELfwBB3gELfwBB7AELfwBB/AELfwBBjAILfwBBnAILfwBBpAILfwBBrAILfwBBugILfwBBwgILfwBB0AILfwBB1AILfwBB6AILfwBB9gILfwBBhAMLfwBBlAMLfwBBqAMLfwBBvAMLfwBB2AMLfwBB4AMLfwBB6AMLfwBB8gMLfwBBkAQLfwBBmAQLfwBBogQLfwBBtAQLfwBBxgQLfwBB0AQLfwBB3gQLfwBB8gQLfwBBhgULfwBBkAULfwBBpAULfwBBsgULfwBBvAULfwBBxgULfwBBzgULfwBB2AULfwBB4AULfwBB6gULfwBB/gULfwBBjAYLfwBBoAYLfwBBrgYLfwBBwgYLfwBB0AYLfwBB2gYLfwBB6AYLfwBB9AYLfwBB/gYLfwBBjAcLfwBBmgcLfwBBpAcLfwBBrgcLfwBBtgcLfwBBxAcLfwBB0AcLfwBB2gcLfwBB3gcLfwBB5AcLfwBB8AcLfwBBgggLB+2EgIAARgZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/BmRhdGE2NANABmRhdGE2NQNBBmRhdGE2NgNCBmRhdGE2NwNDBmRhdGE2OANEC7SKgIAARQBBAQsKdW5kZWZpbmVkAABBDAsHb2JqZWN0AABBFAtAT3Blbkdlb3BvcnRhbCUyMGFscmVhZHklMjBleGlzdHMlMjBhbmQlMjBpcyUyMG5vdCUyMGFuJTIwb2JqZWN0AABB1gALCnVuZGVmaW5lZAAAQeIACwdvYmplY3QAAEHqAAtGT3Blbkdlb3BvcnRhbC5WaWV3cyUyMGFscmVhZHklMjBleGlzdHMlMjBhbmQlMjBpcyUyMG5vdCUyMGFuJTIwb2JqZWN0AABBsgELCnByZXZpZXdlZAAAQb4BCx9wYW5lbFJlc2l6aW5nJTIwYWRqdXN0Q29udGVudHMAAEHeAQsMJTIzbGVmdF9jb2wAAEHsAQsOLnRhYmxlV3JhcHBlcgAAQfwBCw4udGFibGVIZWFkZXJzAABBjAILDi5yb3dDb250YWluZXIAAEGcAgsHcmVuZGVyAABBpAILB2hlYWRlcgAAQawCCwxjb2x1bW5DbGFzcwAAQboCCwZ3aWR0aAAAQcICCwxjb2x1bW5DbGFzcwAAQdACCwIuAABB1AILEi50YWJsZUhlYWRlcnMlMjAuAABB6AILDGNvbHVtbkNsYXNzAABB9gILDXBhZGRpbmctbGVmdAAAQYQDCw5wYWRkaW5nLXJpZ2h0AABBlAMLE2JvcmRlci1yaWdodC13aWR0aAAAQagDCxJib3JkZXItbGVmdC13aWR0aAAAQbwDCxpObyUyMHJlc2l6YWJsZSUyMGNvbHVtbnMhAABB2AMLBndpZHRoAABB4AMLBndpZHRoAABB6AMLCW1pbldpZHRoAABB8gMLHXNob3VsZCUyMHJlbW92ZSUyMGElMjBjb2x1bW4AAEGQBAsGd2lkdGgAAEGYBAsJbWluV2lkdGgAAEGiBAsRcmVzaXphYmxlQXBwbGllZAAAQbQECxFyZXNpemFibGVBcHBsaWVkAABBxgQLCGRlc3Ryb3kAAEHQBAsMY29sdW1uQ2xhc3MAAEHeBAsSLnJvd0NvbnRhaW5lciUyMC4AAEHyBAsSLnRhYmxlSGVhZGVycyUyMC4AAEGGBQsJbWluV2lkdGgAAEGQBQsSLnRhYmxlSGVhZGVycyUyMC4AAEGkBQsMY29sdW1uQ2xhc3MAAEGyBQsJbWluV2lkdGgAAEG8BQsJbWluV2lkdGgAAEHGBQsHb3B0aW9uAABBzgULCW1heFdpZHRoAABB2AULBndpZHRoAABB4AULCW1pbldpZHRoAABB6gULEi5yb3dDb250YWluZXIlMjAuAABB/gULDGNvbHVtbkNsYXNzAABBjAYLEi50YWJsZUhlYWRlcnMlMjAuAABBoAYLDGNvbHVtbkNsYXNzAABBrgYLEi50YWJsZUhlYWRlcnMlMjAuAABBwgYLDGNvbHVtbkNsYXNzAABB0AYLCExheWVySWQAAEHaBgsNc2hvd0NvbnRyb2xzAABB6AYLCmlzQ2hlY2tlZAAAQfQGCwlEYXRhVHlwZQAAQf4GCwxDb250ZW50RGF0ZQAAQYwHCwxJbnN0aXR1dGlvbgAAQZoHCwhMYXllcklkAABBpAcLCUxvY2F0aW9uAABBrgcLB0FjY2VzcwAAQbYHCwxJbnN0aXR1dGlvbgAAQcQHCwp1bmRlZmluZWQAAEHQBwsIcHJldmlldwAAQdoHCwNvbgAAQd4HCwR3bXMAAEHkBwsLYXJjZ2lzcmVzdAAAQfAHCxBpbWFnZWNvbGxlY3Rpb24AAEGCCAsGbG9naW4A'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
if (typeof OpenGeoportal === lS(0, 0)) {
    OpenGeoportal = {};
} else if (typeof OpenGeoportal !== lS(0, 1)) {
    throw new Error(lS(0, 2));
}
if (typeof OpenGeoportal.Views === lS(0, 3)) {
    OpenGeoportal.Views = {};
} else if (typeof OpenGeoportal.Views !== lS(0, 4)) {
    throw new Error(lS(0, 5));
}
OpenGeoportal.Views.LayerTable = Backbone.View.extend({
    initialize: function () {
        this.template = OpenGeoportal.ogp.template;
        this.tableControls = OpenGeoportal.ogp.tableControls;
        this.tableConfig = this.createTableConfig();
        this.previewed = OpenGeoportal.ogp.appState.get(lS(0, 6));
        (() => {
            const __callInstance52 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.adjustColumnsHandler();
                    }
                }
            });
            const __exports = __callInstance52.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance51 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.initSubClass();
                    }
                }
            });
            const __exports = __callInstance51.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance50 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.subviewStorage();
                    }
                }
            });
            const __exports = __callInstance50.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance49 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.render();
                    }
                }
            });
            const __exports = __callInstance49.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance48 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.afterRender();
                    }
                }
            });
            const __exports = __callInstance48.exports;
            return __exports.data();
        })();
    },
    initSubClass: function () {
    },
    afterRender: function () {
    },
    emptyTableMessage: 'No data layers have been added to the collection.',
    adjustColumnsHandler: function () {
        var that = this;
        (() => {
            const __callInstance47 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        jQuery(document).on(lS(0, 7), lS(0, 8), function () {
                            (() => {
                                const __callInstance46 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            that.adjustColumnSizes();
                                        }
                                    }
                                });
                                const __exports = __callInstance46.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance47.exports;
            return __exports.data();
        })();
    },
    createNewRow: function (model) {
        var row = new OpenGeoportal.Views.LayerRow({
            model: model,
            tableConfig: this.tableConfig
        });
        (() => {
            const __callInstance45 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.appendSubview(row);
                    }
                }
            });
            const __exports = __callInstance45.exports;
            return __exports.data();
        })();
        return row;
    },
    getTable: function () {
        return jQuery(this.template.tableView({
            tableHeader: this.template.tableHeader(this.getHeaderInfo()),
            tableFooter: this.template.divNoId({ elClass: 'bottomSpacer' })
        }));
    },
    subviewStorage: function () {
        this.subviews = { rows: [] };
    },
    appendSubview: function (view) {
        (() => {
            const __callInstance44 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.subviews.rows.push(view);
                    }
                }
            });
            const __exports = __callInstance44.exports;
            return __exports.data();
        })();
    },
    prependSubview: function (view) {
        (() => {
            const __callInstance43 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.subviews.rows.unshift(view);
                    }
                }
            });
            const __exports = __callInstance43.exports;
            return __exports.data();
        })();
    },
    closeFirstSubview: function () {
        var view = this.subviews.rows.shift();
        (() => {
            const __callInstance42 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        view.close();
                    }
                }
            });
            const __exports = __callInstance42.exports;
            return __exports.data();
        })();
    },
    closeLastSubview: function () {
        var view = this.subviews.rows.pop();
        (() => {
            const __callInstance41 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        view.close();
                    }
                }
            });
            const __exports = __callInstance41.exports;
            return __exports.data();
        })();
    },
    closeAllSubview: function () {
        (() => {
            const __callInstance40 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(this.subviews.rows, function (view) {
                            (() => {
                                const __callInstance39 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            view.close();
                                        }
                                    }
                                });
                                const __exports = __callInstance39.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance40.exports;
            return __exports.data();
        })();
        this.subviews.rows = [];
    },
    updateSubviews: function () {
        (() => {
            const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(this.subviews.rows, function (view) {
                            (() => {
                                const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            view.render();
                                        }
                                    }
                                });
                                const __exports = __callInstance37.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance38.exports;
            return __exports.data();
        })();
    },
    renderHeaders: function () {
        (() => {
            const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.$el.children(lS(0, 9)).children(lS(0, 10)).first().replaceWith(this.template.tableHeader(this.getHeaderInfo()));
                    }
                }
            });
            const __exports = __callInstance36.exports;
            return __exports.data();
        })();
    },
    handleEmptyTable: function (table$) {
        (() => {
            const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        table$.append(this.template.emptyTable({ message: this.emptyTableMessage }));
                    }
                }
            });
            const __exports = __callInstance35.exports;
            return __exports.data();
        })();
    },
    shouldProcessRow: function (model) {
        return true;
    },
    render: function () {
        var that = this;
        var template$ = this.getTable();
        var rowcount = 0;
        var rows = [];
        (() => {
            const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.collection.each(function (model) {
                            if (!that.shouldProcessRow(model)) {
                                return;
                            }
                            var row = that.createNewRow(model);
                            (() => {
                                const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            rows.push(row.el);
                                        }
                                    }
                                });
                                const __exports = __callInstance33.exports;
                                return __exports.data();
                            })();
                            rowcount++;
                        });
                    }
                }
            });
            const __exports = __callInstance34.exports;
            return __exports.data();
        })();
        (() => {
            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.handleEmptyTable(template$);
                                        }
                                    }
                                });
                                const __exports = __callInstance32.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        {
                            (() => {
                                const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            template$.find(lS(0, 11)).first().prepend(rows);
                                        }
                                    }
                                });
                                const __exports = __callInstance31.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __ifInstance0.exports;
            return __exports.data(rowcount === 0 ? 1 : 0);
        })();
        (() => {
            const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.$el.html(template$);
                    }
                }
            });
            const __exports = __callInstance30.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.updateColWidths();
                    }
                }
            });
            const __exports = __callInstance29.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.resizeColumns();
                    }
                }
            });
            const __exports = __callInstance28.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.$el.trigger(lS(0, 12));
                    }
                }
            });
            const __exports = __callInstance27.exports;
            return __exports.data();
        })();
        return this;
    },
    getHeaderInfo: function () {
        var headers = this.tableConfig.where({ visible: true });
        var arrHeaders = [];
        (() => {
            const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(headers, function (model) {
                            var obj = {
                                header: model.get(lS(0, 13)),
                                columnClass: model.get(lS(0, 14))
                            };
                            (() => {
                                const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            arrHeaders.push(obj);
                                        }
                                    }
                                });
                                const __exports = __callInstance25.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance26.exports;
            return __exports.data();
        })();
        return { headers: arrHeaders };
    },
    updateColWidths: function () {
        var that = this;
        (() => {
            const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.tableConfig.each(function (model) {
                            var width = model.get(lS(0, 15));
                            var cclass = model.get(lS(0, 16));
                            (() => {
                                const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            that.$el.find(lS(0, 17) + cclass).width(width);
                                        }
                                    }
                                });
                                const __exports = __callInstance23.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance24.exports;
            return __exports.data();
        })();
    },
    adjustColumnSizes: function () {
        var resizables = this.tableConfig.where({
            visible: true,
            resizable: true
        });
        var fixed = this.tableConfig.where({
            visible: true,
            resizable: false
        });
        var test$ = jQuery(lS(0, 18) + resizables[0].get(lS(0, 19)));
        var extrawidth = parseInt(test$.css(lS(0, 20))) + parseInt(test$.css(lS(0, 21))) + parseInt(test$.css(lS(0, 22))) + parseInt(test$.css(lS(0, 23)));
        var numColumns = resizables.length;
        if (numColumns === 0) {
            throw new Error(lS(0, 24));
        }
        var fixedWidth = 0;
        (() => {
            const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(fixed, function (model) {
                            fixedWidth += model.get(lS(0, 25)) + extrawidth;
                        });
                    }
                }
            });
            const __exports = __callInstance22.exports;
            return __exports.data();
        })();
        var remainingWidth = this.$el.parent().width() - fixedWidth - OpenGeoportal.Utility.getScrollbarWidth();
        if (remainingWidth < 0) {
            return;
        }
        var resizablesWidth = 0;
        var resizablesMinWidth = 0;
        (() => {
            const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(resizables, function (model) {
                            resizablesWidth += model.get(lS(0, 26));
                            resizablesMinWidth += model.get(lS(0, 27));
                        });
                    }
                }
            });
            const __exports = __callInstance21.exports;
            return __exports.data();
        })();
        if (remainingWidth === resizablesWidth) {
            return;
        }
        (() => {
            const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return remainingWidth - resizablesMinWidth < 0 ? 1 : 0;
                    },
                    update: () => {
                    },
                    body: () => {
                        {
                            (() => {
                                const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            console.log(lS(0, 28));
                                        }
                                    }
                                });
                                const __exports = __callInstance20.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance0.exports;
            return __exports.data();
        })();
        numColumns = resizables.length;
        if (numColumns === 0) {
            return;
        }
        var play = remainingWidth - resizablesWidth;
        var colOffset = Math.floor(play / numColumns) - extrawidth;
        var colRemainder = play % numColumns;
        var newSizes = [];
        var totalNewWidth = 0;
        var minWidthCarryOver = 0;
        (() => {
            const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(resizables, function (model) {
                            var size = {};
                            size.oldWidth = model.get(lS(0, 29));
                            size.newWidth = size.oldWidth + colOffset + colRemainder;
                            colRemainder = 0;
                            size.minWidth = model.get(lS(0, 30));
                            (() => {
                                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            newSizes.push(size);
                                        }
                                    }
                                });
                                const __exports = __callInstance18.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                minWidthCarryOver += size.minWidth - size.newWidth;
                                                size.newWidth = size.minWidth - extrawidth;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance1.exports;
                                return __exports.data(size.newWidth < size.minWidth ? 1 : 0);
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance19.exports;
            return __exports.data();
        })();
        for (var i in resizables) {
            var model = resizables[i];
            var currSize = newSizes[i];
            var newWidth = currSize.newWidth - minWidthCarryOver;
            (() => {
                const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                (() => {
                                    const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                model.set({ width: newWidth });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance17.exports;
                                    return __exports.data();
                                })();
                                minWidthCarryOver = 0;
                            }
                        },
                        impFunc2: () => {
                            {
                                (() => {
                                    const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                model.set({ width: currSize.minWidth });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance16.exports;
                                    return __exports.data();
                                })();
                                minWidthCarryOver = currSize.minWidth - currSize.newWidth + minWidthCarryOver;
                            }
                        }
                    }
                });
                const __exports = __ifInstance2.exports;
                return __exports.data(newWidth >= currSize.minWidth ? 1 : 0);
            })();
        }
        ;
        (() => {
            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.updateColWidths();
                    }
                }
            });
            const __exports = __callInstance15.exports;
            return __exports.data();
        })();
    },
    resizeColumns: function () {
        var columns = this.tableConfig.where({
            resizable: true,
            visible: true
        });
        if (columns.length < 2) {
            return;
        }
        for (var i = 0; i < columns.length - 1; i++) {
            if (!columns.hasOwnProperty(i)) {
                continue;
            }
            var currentModel = columns[i];
            var remainingColumns = columns.slice(i);
            (() => {
                const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                try {
                                    (() => {
                                        const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    jQuery(sel).resizable(lS(0, 33));
                                                }
                                            }
                                        });
                                        const __exports = __callInstance14.exports;
                                        return __exports.data();
                                    })();
                                    (() => {
                                        const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    currentModel.set({ resizableApplied: false });
                                                }
                                            }
                                        });
                                        const __exports = __callInstance13.exports;
                                        return __exports.data();
                                    })();
                                } catch (e) {
                                }
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance3.exports;
                return __exports.data(currentModel.has(lS(0, 31)) && currentModel.get(lS(0, 32)) ? 1 : 0);
            })();
            (() => {
                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.addResizableColumn(currentModel, remainingColumns);
                        }
                    }
                });
                const __exports = __callInstance12.exports;
                return __exports.data();
            })();
        }
    },
    addResizableColumn: function (model, remainingColumns) {
        var that = this;
        var colClass = model.get(lS(0, 34));
        var alsoResizeString = lS(0, 35) + colClass;
        var resizableEl$ = that.$el.find(lS(0, 36) + colClass);
        (() => {
            const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        resizableEl$.resizable({
                            create: function (event, ui) {
                                (() => {
                                    const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                model.set({ resizableApplied: true });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance10.exports;
                                    return __exports.data();
                                })();
                            },
                            alsoResize: alsoResizeString,
                            handles: 'e',
                            minWidth: model.get(lS(0, 37)),
                            start: function (event, ui) {
                                var remainingWidth = 0;
                                var remainingMinWidth = 0;
                                for (var j in remainingColumns) {
                                    var currentCol = remainingColumns[j];
                                    var measuredWidth = that.$el.find(lS(0, 38) + currentCol.get(lS(0, 39))).width();
                                    remainingWidth += measuredWidth;
                                    remainingMinWidth += currentCol.get(lS(0, 40));
                                }
                                var maxWidth = remainingWidth - (remainingMinWidth - model.get(lS(0, 41)));
                                (() => {
                                    const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                resizableEl$.resizable(lS(0, 42), lS(0, 43), maxWidth);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance9.exports;
                                    return __exports.data();
                                })();
                            },
                            resize: function (event, ui) {
                                var totalPlay = ui.size.width - ui.originalSize.width;
                                for (var k in remainingColumns) {
                                    if (remainingColumns[k] === model) {
                                        continue;
                                    }
                                    if (totalPlay === 0) {
                                        break;
                                    }
                                    var colModel = remainingColumns[k];
                                    var currentWidth = colModel.get(lS(0, 44));
                                    var currentMinWidth = colModel.get(lS(0, 45));
                                    var newWidth = 0;
                                    var proposedNewWidth = currentWidth - totalPlay;
                                    (() => {
                                        const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        totalPlay -= currentWidth - currentMinWidth;
                                                        newWidth = currentMinWidth;
                                                    }
                                                },
                                                impFunc2: () => {
                                                    {
                                                        newWidth = proposedNewWidth;
                                                        totalPlay = 0;
                                                    }
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance4.exports;
                                        return __exports.data(proposedNewWidth <= currentMinWidth ? 1 : 0);
                                    })();
                                    var innerResize$ = that.$el.find(lS(0, 46) + colModel.get(lS(0, 47)));
                                    var header$ = that.$el.find(lS(0, 48) + colModel.get(lS(0, 49)));
                                    var colResizables$ = header$.add(innerResize$);
                                    (() => {
                                        const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    colResizables$.width(newWidth);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance8.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            stop: function (event, ui) {
                                (() => {
                                    const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                model.set({ width: resizableEl$.width() });
                                            }
                                        }
                                    });
                                    const __exports = __callInstance7.exports;
                                    return __exports.data();
                                })();
                                for (var j in remainingColumns) {
                                    var currentCol = remainingColumns[j];
                                    var measuredWidth = that.$el.find(lS(0, 50) + currentCol.get(lS(0, 51))).width();
                                    (() => {
                                        const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    currentCol.set({ width: measuredWidth });
                                                }
                                            }
                                        });
                                        const __exports = __callInstance6.exports;
                                        return __exports.data();
                                    })();
                                }
                                (() => {
                                    const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                that.updateColWidths();
                                            }
                                        }
                                    });
                                    const __exports = __callInstance5.exports;
                                    return __exports.data();
                                })();
                            }
                        });
                    }
                }
            });
            const __exports = __callInstance11.exports;
            return __exports.data();
        })();
    },
    solrToCollection: function (dataObj) {
        var solrLayers = dataObj.response.docs;
        var arrModels = [];
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        _.each(solrLayers, function (solrLayer) {
                            var locationParsed = {};
                            try {
                                var rawVal = solrLayer.Location;
                                (() => {
                                    const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    locationParsed = jQuery.parseJSON(rawVal);
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance5.exports;
                                    return __exports.data(rawVal.length > 2 ? 1 : 0);
                                })();
                            } catch (e) {
                                (() => {
                                    const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                console.log([
                                                    solrLayer[lS(0, 52)],
                                                    e
                                                ]);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance3.exports;
                                    return __exports.data();
                                })();
                            }
                            solrLayer.Location = locationParsed;
                            (() => {
                                const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            arrModels.push(solrLayer);
                                        }
                                    }
                                });
                                const __exports = __callInstance2.exports;
                                return __exports.data();
                            })();
                        });
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
        return arrModels;
    },
    addColumns: function (tableConfigCollection) {
        var that = this;
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        tableConfigCollection.add([
                            {
                                order: 0,
                                columnName: 'expandControls',
                                resizable: false,
                                organize: false,
                                visible: true,
                                hidable: false,
                                header: '',
                                columnClass: 'colExpand',
                                width: 10,
                                modelRender: function (model) {
                                    var showControls = model.get(lS(0, 53));
                                    return that.tableControls.renderExpandControl(showControls);
                                }
                            },
                            {
                                order: 1,
                                columnName: 'checkBox',
                                resizable: false,
                                organize: false,
                                visible: true,
                                hidable: false,
                                header: '<input type="checkbox" id="downloadHeaderCheck" checked />',
                                columnClass: 'colChkBoxes',
                                width: 21,
                                modelRender: function (model) {
                                    return that.tableControls.renderDownloadControl(model.get(lS(0, 54)));
                                }
                            },
                            {
                                order: 2,
                                columnName: 'DataType',
                                resizable: false,
                                organize: 'group',
                                visible: true,
                                hidable: true,
                                displayName: 'Data Type',
                                header: 'Type',
                                columnClass: 'colType',
                                width: 30,
                                modelRender: function (model) {
                                    var dataType = model.get(lS(0, 55));
                                    return that.tableControls.renderTypeIcon(dataType);
                                }
                            },
                            {
                                order: 3,
                                columnName: 'score',
                                resizable: true,
                                minWidth: 27,
                                width: 27,
                                organize: 'numeric',
                                visible: false,
                                hidable: false,
                                displayName: 'Relevancy',
                                header: 'Relev',
                                columnClass: 'colScore'
                            },
                            {
                                order: 4,
                                columnName: 'LayerDisplayName',
                                resizable: true,
                                minWidth: 35,
                                width: 200,
                                organize: 'alpha',
                                visible: true,
                                hidable: false,
                                displayName: 'Name',
                                header: 'Name',
                                columnClass: 'colTitle'
                            },
                            {
                                order: 5,
                                columnName: 'Originator',
                                resizable: true,
                                minWidth: 62,
                                width: 86,
                                organize: 'group',
                                visible: true,
                                hidable: true,
                                displayName: 'Originator',
                                header: 'Originator',
                                columnClass: 'colOriginator'
                            },
                            {
                                order: 6,
                                columnName: 'Publisher',
                                resizable: true,
                                minWidth: 58,
                                width: 80,
                                organize: 'group',
                                visible: false,
                                hidable: true,
                                displayName: 'Publisher',
                                header: 'Publisher',
                                columnClass: 'colPublisher'
                            },
                            {
                                order: 7,
                                columnName: 'ContentDate',
                                organize: 'numeric',
                                visible: false,
                                displayName: 'Date',
                                resizable: true,
                                minWidth: 30,
                                width: 30,
                                hidable: true,
                                header: 'Date',
                                columnClass: 'colDate',
                                modelRender: function (model) {
                                    var date = model.get(lS(0, 56));
                                    return that.tableControls.renderDate(date);
                                }
                            },
                            {
                                order: 8,
                                columnName: 'Institution',
                                organize: 'alpha',
                                visible: true,
                                hidable: true,
                                resizable: false,
                                displayName: 'Repository',
                                header: 'Rep',
                                columnClass: 'colSource',
                                width: 24,
                                modelRender: function (model) {
                                    var repository = model.get(lS(0, 57));
                                    return that.tableControls.renderRepositoryIcon(repository);
                                }
                            },
                            {
                                order: 9,
                                columnName: 'Access',
                                resizable: false,
                                organize: false,
                                visible: false,
                                hidable: false,
                                header: 'Access'
                            },
                            {
                                order: 10,
                                columnName: 'Metadata',
                                resizable: false,
                                organize: false,
                                visible: true,
                                hidable: false,
                                header: 'Meta',
                                columnClass: 'colMetadata',
                                width: 30,
                                modelRender: function (model) {
                                    return that.tableControls.renderMetadataControl();
                                }
                            },
                            {
                                order: 11,
                                columnName: 'View',
                                resizable: false,
                                organize: false,
                                visible: true,
                                hidable: false,
                                header: 'View',
                                columnClass: 'colPreview',
                                width: 39,
                                modelRender: function (model) {
                                    var layerId = model.get(lS(0, 58));
                                    var location = model.get(lS(0, 59));
                                    var access = model.get(lS(0, 60)).toLowerCase();
                                    var institution = model.get(lS(0, 61)).toLowerCase();
                                    var stateVal = false;
                                    var selModel = that.previewed.findWhere({ LayerId: layerId });
                                    (() => {
                                        const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        (() => {
                                                            const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                                                env: {
                                                                    impFunc1: () => {
                                                                        {
                                                                            stateVal = true;
                                                                        }
                                                                    },
                                                                    impFunc2: () => {
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __ifInstance7.exports;
                                                            return __exports.data(selModel.get(lS(0, 63)) === lS(0, 64) ? 1 : 0);
                                                        })();
                                                    }
                                                },
                                                impFunc2: () => {
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance6.exports;
                                        return __exports.data(typeof selModel !== lS(0, 62) ? 1 : 0);
                                    })();
                                    var canPreview = function (location) {
                                        return OpenGeoportal.Utility.hasLocationValueIgnoreCase(location, [
                                            lS(0, 65),
                                            lS(0, 66),
                                            lS(0, 67)
                                        ]);
                                    };
                                    var hasAccess = true;
                                    var canLogin = true;
                                    var previewable = canPreview(location);
                                    (() => {
                                        const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        var loginModel = OpenGeoportal.ogp.appState.get(lS(0, 68)).model;
                                                        hasAccess = loginModel.hasAccessLogic(access, institution);
                                                        canLogin = loginModel.canLoginLogic(institution);
                                                    }
                                                },
                                                impFunc2: () => {
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance8.exports;
                                        return __exports.data(previewable ? 1 : 0);
                                    })();
                                    return that.tableControls.renderPreviewControl(previewable, hasAccess, canLogin, stateVal);
                                }
                            }
                        ]);
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
    },
    createTableConfig: function () {
        var that = this;
        var tableConfigCollection = new OpenGeoportal.TableConfig();
        (() => {
            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.addColumns(tableConfigCollection);
                    }
                }
            });
            const __exports = __callInstance0.exports;
            return __exports.data();
        })();
        return tableConfigCollection;
    }
});</script>
</body>
</html>
