<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Block.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG34CAgAARfwBBAQt/AEEMC38AQQ4LfwBBFAt/AEEeC38AQSYLfwBBMAt/AEE4C38AQcAAC38AQcgAC38AQdAAC38AQdgAC38AQeIAC38AQewAC38AQfYAC38AQf4AC38AQYYBCweZgYCAABIGbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAvxgYCAABEAQQELCnVuZGVmaW5lZAAAQQwLAQAAQQ4LBW1pc3MAAEEUCwh1bm1hdGNoAABBHgsGY2hlY2sAAEEmCwh1bmNoZWNrAABBMAsHYXR0YWNoAABBOAsHZGV0YWNoAABBwAALB2F0dGFjaAAAQcgACwdkZXRhY2gAAEHQAAsGY2hlY2sAAEHYAAsIdW5jaGVjawAAQeIACwhrZXl3b3JkAABB7AALCGtleXdvcmQAAEH2AAsHJTNDIS0tAABB/gALBi0tJTNFAABBhgELJVRoZSUyMGxhenklMjBibG9jayUyMGlzJTIwdW5iYWxhbmNlZAA='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
LSD.Layout.Block = function (options) {
    this.options = options;
    this.id = ++LSD.Layout.Block.UID;
    this.$events = Object.clone(this.$events);
    this.element = options.element;
    this.widget = options.widget;
    this.expression = options.expression;
    this.parentBlock = options.parent;
    this.superBlock = options.superBlock;
    (() => {
        const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    this.scope = options.scope;
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance0.exports;
        return __exports.data(options.scope && options.scope != this.parentBlock ? 1 : 0);
    })();
    (() => {
        const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    LSD.Script.Scope(this);
                }
            }
        });
        const __exports = __callInstance28.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.superBlock.addEvents({
                                            check: this.unmatch.bind(this),
                                            unmatch: this.unmatch.bind(this),
                                            miss: this.rematch.bind(this),
                                            detach: this.detach.bind(this),
                                            uncheck: this.rematch.bind(this)
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance27.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        (() => {
                                            const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        this.attach();
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance26.exports;
                                            return __exports.data();
                                        })();
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance2.exports;
                            return __exports.data(this.permit() ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.parentBlock.addEvents({
                                                                uncheck: this.detach.bind(this),
                                                                check: this.rematch.bind(this)
                                                            });
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance25.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance3.exports;
                            return __exports.data(this.parentBlock ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        this.values = [];
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance4.exports;
                            return __exports.data(options.collection ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        LSD.Template[options.name] = this;
                                    },
                                    impFunc2: () => {
                                        (() => {
                                            const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        this.attach();
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance24.exports;
                                            return __exports.data();
                                        })();
                                    }
                                }
                            });
                            const __exports = __ifInstance5.exports;
                            return __exports.data(options.name ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(this.superBlock ? 1 : 0);
    })();
    (() => {
        const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    (() => {
                        const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    this.setLayout(options.layout, true);
                                }
                            }
                        });
                        const __exports = __callInstance23.exports;
                        return __exports.data();
                    })();
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance6.exports;
        return __exports.data(options.layout ? 1 : 0);
    })();
};
LSD.Layout.Block.UID = 0;
LSD.Template = {};
LSD.Layout.Block.prototype = Object.append({
    block: true,
    nodeType: 11,
    permit: function () {
        for (var block = this; block = block.options.superBlock;)
            if (block.checked)
                return false;
        return true;
    },
    getVariable: function () {
        if (typeof this.variable == lS(0, 0)) {
            if (this.options.collection) {
                this.expression = this.expression.replace(LSD.Layout.Block.rLoopAlias, function (m, name) {
                    this.arguments = [name];
                    return lS(0, 1);
                }.bind(this));
            }
            this.variable = LSD.Script.compile(this.expression, this, this, true);
        }
        return this.variable;
    },
    match: function () {
        if (this.permit() && (!this.options.expression || this.evaluate(true)))
            return this.check();
    },
    rematch: function () {
        if (!this.checked)
            return (this.parentScope ? this.match() : this.attach()) || this.fireEvent(lS(0, 2));
    },
    unmatch: function (lazy) {
        if (!this.options.expression || this.evaluate(false))
            return this.uncheck(lazy);
        return this.fireEvent(lS(0, 3));
    },
    check: function (lazy) {
        if (!this.checked) {
            this.checked = true;
            (() => {
                const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.show();
                        }
                    }
                });
                const __exports = __callInstance22.exports;
                return __exports.data();
            })();
            (() => {
                const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            (() => {
                                const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.fireEvent(lS(0, 4), arguments);
                                        }
                                    }
                                });
                                const __exports = __callInstance21.exports;
                                return __exports.data();
                            })();
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance7.exports;
                return __exports.data(!lazy ? 1 : 0);
            })();
            return true;
        }
    },
    uncheck: function (lazy) {
        if (this.checked || this.checked == null) {
            this.checked = false;
            (() => {
                const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.hide();
                        }
                    }
                });
                const __exports = __callInstance20.exports;
                return __exports.data();
            })();
            (() => {
                const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            (() => {
                                const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.fireEvent(lS(0, 5), arguments);
                                        }
                                    }
                                });
                                const __exports = __callInstance19.exports;
                                return __exports.data();
                            })();
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance8.exports;
                return __exports.data(!lazy ? 1 : 0);
            })();
            return true;
        }
    },
    attach: function () {
        if (!this.parentScope) {
            var widget = this.widget;
            var scope = this.scope || this.parentBlock;
            if (scope && widget)
                for (var parent = scope.nodeType ? scope.element : scope.options.origin; parent; parent = parent.parentNode)
                    if (parent === widget.element) {
                        var found = true;
                        break;
                    }
            (() => {
                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            LSD.Script.Scope.setScope(this, found ? scope : widget);
                        }
                    }
                });
                const __exports = __callInstance18.exports;
                return __exports.data();
            })();
        }
        (() => {
            const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.fireEvent(lS(0, 6));
                    }
                }
            });
            const __exports = __callInstance17.exports;
            return __exports.data();
        })();
        return this.match();
    },
    detach: function () {
        (() => {
            const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        LSD.Script.Scope.unsetScope(this, this.parentScope);
                                    }
                                }
                            });
                            const __exports = __callInstance16.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance9.exports;
            return __exports.data(this.parentScope ? 1 : 0);
        })();
        (() => {
            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.unmatch(true);
                    }
                }
            });
            const __exports = __callInstance15.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.fireEvent(lS(0, 7));
                    }
                }
            });
            const __exports = __callInstance14.exports;
            return __exports.data();
        })();
    },
    evaluate: function (state) {
        var variable = this.getVariable();
        var value = variable.attach ? variable[state ? lS(0, 8) : lS(0, 9)]().value : variable;
        (() => {
            const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.set(value);
                                    }
                                }
                            });
                            const __exports = __callInstance13.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance10.exports;
            return __exports.data(this.value !== value ? 1 : 0);
        })();
        return this.validate();
    },
    validate: function (strict) {
        return ((strict ? this.value !== false : this.value != false) && this.value != null) ^ this.options.invert;
    },
    add: function (value) {
        return this.render.apply(this, arguments);
    },
    remove: function (value) {
    },
    set: function (value) {
        this.value = value;
        (() => {
            const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    var i = 0, j = value.length;
                                                    const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                                                        env: {
                                                            test: () => {
                                                                return i < j ? 1 : 0;
                                                            },
                                                            update: () => {
                                                                i++;
                                                            },
                                                            body: () => {
                                                                {
                                                                    var context = this.add(value[i], { before: this.options.before });
                                                                }
                                                            }
                                                        }
                                                    });
                                                    const __exports = __forInstance0.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance12.exports;
                                return __exports.data(Type.isEnumerable(value) ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                        {
                            (() => {
                                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this[this.validate() ? lS(0, 10) : lS(0, 11)]();
                                        }
                                    }
                                });
                                const __exports = __callInstance12.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __ifInstance11.exports;
            return __exports.data(this.options.collection ? 1 : 0);
        })();
    },
    show: function (lazy) {
        var layout = this.layout;
        if (!layout)
            return;
        this.hidden = false;
        var collapsed = this.collapse(layout, true);
        if (Type.isEnumerable(layout)) {
            for (var i = 0, child; child = layout[i++];) {
                if (child.parentNode && child.parentNode.nodeType == 11) {
                    lazy = false;
                    break;
                }
            }
        }
        if (!lazy && !this.next) {
            var before = this.options.before;
            (() => {
                const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            before = null;
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance13.exports;
                return __exports.data(before && before.parentNode != this.element ? 1 : 0);
            })();
            if (!before && !this.options.name && this.options.origin) {
                for (var block = this; block; block = block.options.superBlock) {
                    before = block.options.origin && block.options.origin.nextSibling;
                    if (before)
                        break;
                }
            }
        }
        var memo = {
            before: before || this.next,
            options: this.options.options,
            plain: lazy === true,
            clone: !!this.options.original && !this.options.original.checked,
            scopes: [this],
            blocks: [this]
        };
        this.rendered = this.widget.addLayout(this.id, collapsed || layout, [
            this.widget,
            this.element
        ], memo);
        (() => {
            const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            this.rendered = this.collapse(this.rendered) || this.rendered;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance14.exports;
            return __exports.data(collapsed ? 1 : 0);
        })();
    },
    hide: function () {
        var layout = this.rendered || this.layout;
        if (!layout)
            return;
        (() => {
            const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.widget.removeLayout(this.id, layout, null, { blocks: [this] });
                    }
                }
            });
            const __exports = __callInstance11.exports;
            return __exports.data();
        })();
        this.hidden = true;
    },
    render: function (args, options, widget) {
        (() => {
            const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        args = [args];
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance15.exports;
            return __exports.data(args != null && !args.push ? 1 : 0);
        })();
        (() => {
            const __ifInstance16 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var block = this.clone(widget, options, true);
                        }
                    },
                    impFunc2: () => {
                        var block = this;
                    }
                }
            });
            const __exports = __ifInstance16.exports;
            return __exports.data(!this.options.original ? 1 : 0);
        })();
        (() => {
            var i = 0, argument;
            const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return (argument = this.arguments[i]) ? 1 : 0;
                    },
                    update: () => {
                        i++;
                    },
                    body: () => {
                        {
                            (() => {
                                const __ifInstance17 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            (() => {
                                                const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            block.variables.unset(argument, block.args[i]);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance10.exports;
                                                return __exports.data();
                                            })();
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance17.exports;
                                return __exports.data(block.args && block.args[i] != null ? 1 : 0);
                            })();
                            (() => {
                                const __ifInstance18 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            (() => {
                                                const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            block.variables.set(argument, args[i]);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance9.exports;
                                                return __exports.data();
                                            })();
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance18.exports;
                                return __exports.data(args[i] != null ? 1 : 0);
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance1.exports;
            return __exports.data();
        })();
        block.args = args;
        (() => {
            const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        block.show();
                    }
                }
            });
            const __exports = __callInstance8.exports;
            return __exports.data();
        })();
        return block;
    },
    clone: function (parent, opts, shallow) {
        var layout = this.layout;
        if (!layout)
            return;
        var options = Object.append({
            layout: layout,
            original: this
        }, this.options, opts);
        (() => {
            const __ifInstance19 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            delete options.layout;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance19.exports;
            return __exports.data(options.walking && this.checked ? 1 : 0);
        })();
        (() => {
            const __ifInstance20 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            options.widget = parent[0] || parent;
                            options.element = parent[1] || parent.getWrapper && parent.getWrapper() || parent.toElement();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance20.exports;
            return __exports.data(parent ? 1 : 0);
        })();
        var before = options.before;
        options.before = before ? before.lsd ? before.toElement() : before : this.options.origin && this.options.origin.nextSibling;
        (() => {
            const __ifInstance21 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        delete options.expression;
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance21.exports;
            return __exports.data(shallow ? 1 : 0);
        })();
        return new LSD.Layout.Block(options);
    },
    splice: function (block, layout, baseline) {
        var offset = 0;
        (() => {
            const __ifInstance22 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance23 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            layout = this.layout;
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance23.exports;
                                return __exports.data(!layout ? 1 : 0);
                            })();
                            (() => {
                                var i = 0, child, keyword;
                                const __forInstance2 = new WebAssembly.Instance(__forWasmModule, {
                                    env: {
                                        test: () => {
                                            return (child = block.layout[i]) ? 1 : 0;
                                        },
                                        update: () => {
                                            i++;
                                        },
                                        body: () => {
                                            {
                                                var index = layout.indexOf(child);
                                                (() => {
                                                    const __ifInstance24 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    var keyword = Element.retrieve(child, lS(0, 12));
                                                                    (() => {
                                                                        const __ifInstance25 = new WebAssembly.Instance(__ifWasmModule, {
                                                                            env: {
                                                                                impFunc1: () => {
                                                                                    {
                                                                                        offset += this.splice(keyword, layout);
                                                                                    }
                                                                                },
                                                                                impFunc2: () => {
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __ifInstance25.exports;
                                                                        return __exports.data(keyword && keyword !== true ? 1 : 0);
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    layout.splice(index, 1);
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance7.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    i--;
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance24.exports;
                                                    return __exports.data(index > -1 ? 1 : 0);
                                                })();
                                            }
                                        }
                                    }
                                });
                                const __exports = __forInstance2.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance22.exports;
            return __exports.data(block.layout ? 1 : 0);
        })();
        return offset;
    },
    collapse: function (layout, execute) {
        var validate = true;
        for (var index, child, i = 0; child = layout[i]; i++) {
            switch ((child = layout[i]).nodeType) {
            case 8:
                (() => {
                    const __ifInstance26 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                (() => {
                                    const __ifInstance27 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                validate = index = null;
                                            },
                                            impFunc2: () => {
                                                index = i;
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance27.exports;
                                    return __exports.data(index != null ? 1 : 0);
                                })();
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance26.exports;
                    return __exports.data(validate ? 1 : 0);
                })();
                var keyword = Element.retrieve(child, lS(0, 13));
                (() => {
                    const __ifInstance28 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                i += this.splice(keyword, layout, i);
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance28.exports;
                    return __exports.data(keyword && keyword !== true ? 1 : 0);
                })();
                break;
            case 3:
                if (validate && child.textContent.match(LSD.Layout.Block.rWhitespace))
                    break;
            default:
                index = validate = null;
            }
        }
        if (index != null) {
            var comment = layout[index];
            layout[index] = function () {
                var html = this.expand(comment.nodeValue);
                var args = LSD.slice(document.createFragment(html).childNodes);
                if (this.options.clean)
                    return args;
                (() => {
                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                args.splice(0, 0, index, 1);
                            }
                        }
                    });
                    const __exports = __callInstance6.exports;
                    return __exports.data();
                })();
                (() => {
                    const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                layout.splice.apply(layout, args);
                            }
                        }
                    });
                    const __exports = __callInstance5.exports;
                    return __exports.data();
                })();
                (() => {
                    const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                args.splice(0, 2);
                            }
                        }
                    });
                    const __exports = __callInstance4.exports;
                    return __exports.data();
                })();
                return args;
            }.bind(this);
            (() => {
                const __ifInstance29 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            (() => {
                                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            layout[index]();
                                        }
                                    }
                                });
                                const __exports = __callInstance3.exports;
                                return __exports.data();
                            })();
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance29.exports;
                return __exports.data(execute ? 1 : 0);
            })();
            (() => {
                const __ifInstance30 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            (() => {
                                const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            comment.parentNode.removeChild(comment);
                                        }
                                    }
                                });
                                const __exports = __callInstance2.exports;
                                return __exports.data();
                            })();
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance30.exports;
                return __exports.data(comment.parentNode ? 1 : 0);
            })();
            (() => {
                const __ifInstance31 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            layout = layout[index];
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance31.exports;
                return __exports.data(this.options.clean ? 1 : 0);
            })();
        } else {
            return false;
        }
        return layout;
    },
    setLayout: function (layout, soft) {
        this.layout = layout;
        (() => {
            const __ifInstance32 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.show(true);
                                        }
                                    }
                                });
                                const __exports = __callInstance1.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        (() => {
                            const __ifInstance33 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        (() => {
                                            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        this.hide();
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance0.exports;
                                            return __exports.data();
                                        })();
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance33.exports;
                            return __exports.data(!soft ? 1 : 0);
                        })();
                    }
                }
            });
            const __exports = __ifInstance32.exports;
            return __exports.data(this.checked ? 1 : 0);
        })();
    },
    getLayout: function (layout) {
        return this.layout;
    },
    expand: function (text) {
        var depth = 0;
        text = text.replace(LSD.Layout.Block.rComment, function (whole, start, end) {
            depth += start ? 1 : -1;
            if (depth == !!start)
                return start ? lS(0, 14) : lS(0, 15);
            return whole;
        });
        if (depth)
            throw lS(0, 16);
        return text;
    },
    inject: LSD.Module.DOM.prototype.inject
}, Events.prototype);
LSD.Layout.Block.rWhitespace = /^\s*$/;
LSD.Layout.Block.rLoopAlias = /^\s*([^\s]*?)\s+(?:in|of|from)\s+/;
LSD.Layout.Block.rComment = /(\<\!-)|(-\>)/g;</script>
</body>
</html>
