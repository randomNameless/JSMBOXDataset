<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home-Crc2pJVW.html</title>
</head>
<body>

<script>
import{m as A}from"./globalConfig-BObMuBPW.js";import{g as y}from"./utils.esm-CA3tRshB.js";import{c as w,n as x,b as I,I as L,r as T,u as S}from"./widget-LQPUX3yX.js";import{T as F}from"./Thumbnail-DLjRBBx8.js";import{_ as d,u as l,o as n,n as c,F as C,i as b,q as k,e as p,a as v,p as o,t as _,k as g,B as $,ar as O}from"./_plugin-vue_export-helper-CvYNw_mv.js";import{F as f}from"./Index-CtF_0wrY.js";import{f as V}from"./sharedFrameEvents-CcDS0bVP.js";import"./vue-dompurify-html-DZ5r8uTJ.js";import"./axios-CCb-kr4I.js";import"./constants-lVAyZKq6.js";import"./mutationHelpers-3VTcoJiD.js";import"./vue-router-CNCrM2WK.js";import"./index-BP-sUqpX.js";import"./index-DaWXXnfb.js";import"./_commonjsHelpers-BosuxZz1.js";import"./MessageTypeHelper-CjbF8VpS.js";import"./DateHelper-D7GM2F2-.js";import"./index-CbMJaKeB.js";import"./index-BGZqnxRy.js";import"./Spinner-B-aSVz3z.js";import"./businessHour-Bce9Ggti.js";import"./Branding-MjEsbKGX.js";import"./globalConfigMixin-DWl0nQg7.js";import"./module-CGzIBJZi.js";import"./Validators-eX6_8wdj.js";import"./Icon-Dtj3LCzD.js";const E={name:"GroupedAvatars",components:{Thumbnail:F},props:{users:{type:Array,default:()=>[]}}},N={class:"flex"};function M(e,t,a,u,m,s){const r=l("Thumbnail");return n(),c("div",N,[(n(!0),c(C,null,b(a.users,(i,h)=>(n(),c("span",{key:i.id,class:k(`${h?"-ml-4":""} inline-block rounded-full text-white shadow-solid`)},[p(r,{size:"36px",username:i.name,src:i.avatar,"has-border":""},null,8,["username","src"])],2))),128))])}const R=d(E,[["render",M]]),z={name:"AvailableAgents",components:{GroupedAvatars:R},props:{agents:{type:Array,default:()=>[]}},computed:{users(){return this.agents.slice(0,4).map(e=>({id:e.id,avatar:e.avatar_url,name:e.name}))}}};function B(e,t,a,u,m,s){const r=l("GroupedAvatars");return n(),v(r,{users:s.users},null,8,["users"])}const H=d(z,[["render",B]]),U={name:"TeamAvailability",components:{AvailableAgents:H,FluentIcon:f},mixins:[w,x,I],props:{availableAgents:{type:Array,default:()=>{}},hasConversation:{type:Boolean,default:!1}},emits:["startConversation"],computed:{...A({widgetColor:"appConfig/getWidgetColor"}),textColor(){return y(this.widgetColor)},isOnline(){const{workingHoursEnabled:e}=this.channelConfig,t=this.availableAgents.length>0;return e?this.isInBetweenTheWorkingHours:t}},methods:{startConversation(){this.$emit("startConversation"),this.hasConversation||L.sendMessage({event:"onEvent",eventIdentifier:V,data:{hasConversation:!1}})}}},W={class:"p-4 bg-white rounded-md shadow-sm dark:bg-slate-700"},D={class:"flex items-center justify-between"},j={class:""},G={class:"text-sm font-medium text-slate-700 dark:text-slate-50"},P={class:"mt-1 text-sm text-slate-500 dark:text-slate-100"},q={class:"pr-2 text-sm"};function Y(e,t,a,u,m,s){const r=l("AvailableAgents"),i=l("FluentIcon");return n(),c("div",W,[o("div",D,[o("div",j,[o("div",G,_(s.isOnline?e.$t("TEAM_AVAILABILITY.ONLINE"):e.$t("TEAM_AVAILABILITY.OFFLINE")),1),o("div",P,_(e.replyWaitMessage),1)]),s.isOnline?(n(),v(r,{key:0,agents:a.availableAgents},null,8,["agents"])):g("",!0)]),o("button",{class:"inline-flex items-center justify-between px-2 py-1 mt-2 -ml-2 text-sm font-medium leading-6 rounded-md text-slate-800 dark:text-slate-50 hover:bg-slate-25 dark:hover:bg-slate-800",style:$({color:e.widgetColor}),onClick:t[0]||(t[0]=(...h)=>s.startConversation&&s.startConversation(...h))},[o("span",q,_(a.hasConversation?e.$t("CONTINUE_CONVERSATION"):e.$t("START_CONVERSATION")),1),p(i,{icon:"arrow-right",size:"14"})],4)])}const J=d(U,[["render",Y]]),K={components:{FluentIcon:f},props:{link:{type:String,default:""},title:{type:String,default:""}},emits:["selectArticle"],data(){return{}},methods:{onClick(){this.$emit("selectArticle",this.link)}}},Q={class:"underline-offset-2 text-sm leading-6 text-left"},X={class:"pl-1 arrow"};function Z(e,t,a,u,m,s){const r=l("FluentIcon");return n(),c("li",{class:"py-1 flex items-center justify-between -mx-1 px-1 hover:bg-slate-25 dark:hover:bg-slate-600 rounded cursor-pointer text-slate-700 dark:text-slate-50 dark:hover:text-slate-25 hover:text-slate-900",role:"button",onClick:t[0]||(t[0]=(...i)=>s.onClick&&s.onClick(...i))},[o("button",Q,_(a.title),1),o("span",X,[p(r,{icon:"arrow-right",size:"14"})])])}const ee=d(K,[["render",Z]]),te={components:{ArticleListItem:ee},props:{articles:{type:Array,default:()=>[]}},emits:["selectArticle"],data(){return{}},methods:{onClick(e){this.$emit("selectArticle",e)}}},se={role:"list",class:"py-2"};function ae(e,t,a,u,m,s){const r=l("ArticleListItem");return n(),c("ul",se,[(n(!0),c(C,null,b(a.articles,i=>(n(),v(r,{key:i.slug,link:i.link,title:i.title,onSelectArticle:s.onClick},null,8,["link","title","onSelectArticle"]))),128))])}const ne=d(te,[["render",ae]]),ie={components:{FluentIcon:f,ArticleList:ne},props:{title:{type:String,default:""},articles:{type:Array,default:()=>[]}},emits:["view","viewAll"],computed:{...A({widgetColor:"appConfig/getWidgetColor"})},methods:{onArticleClick(e){this.$emit("view",e)}}},re={class:"mb-0 text-sm font-medium text-slate-800 dark:text-slate-50"},oe={class:"pr-2 text-sm"};function le(e,t,a,u,m,s){const r=l("ArticleList"),i=l("FluentIcon");return n(),c("div",null,[o("h3",re,_(a.title),1),p(r,{articles:a.articles,onSelectArticle:s.onArticleClick},null,8,["articles","onSelectArticle"]),o("button",{class:"inline-flex items-center justify-between px-2 py-1 -ml-2 text-sm font-medium leading-6 rounded-md text-slate-800 dark:text-slate-50 hover:bg-slate-25 dark:hover:bg-slate-800 see-articles",style:$({color:e.widgetColor}),onClick:t[0]||(t[0]=h=>e.$emit("viewAll"))},[o("span",oe,_(e.$t("PORTAL.VIEW_ALL_ARTICLES")),1),p(i,{icon:"arrow-right",size:"14"})],4)])}const ce=d(ie,[["render",le],["__scopeId","data-v-83dd17c7"]]),de={components:{CategoryCard:ce},props:{articles:{type:Array,default:()=>[]}},emits:["view","viewAll"],methods:{onArticleClick(e){this.$emit("view",e)}}};function ue(e,t,a,u,m,s){const r=l("CategoryCard");return n(),v(r,{title:e.$t("PORTAL.POPULAR_ARTICLES"),articles:a.articles.slice(0,6),onViewAll:t[0]||(t[0]=i=>e.$emit("viewAll")),onView:s.onArticleClick},null,8,["title","articles","onView"])}const me=d(de,[["render",ue]]),pe={},he={class:"py-4 space-y-4 bg-white dark:bg-slate-700"};function _e(e,t){return n(),c("div",he,t[0]||(t[0]=[O('<div class="space-y-2 animate-pulse"><div class="h-6 bg-slate-100 dark:bg-slate-500 rounded w-2/5"></div></div><div class="space-y-2 animate-pulse"><div class="h-4 bg-slate-100 dark:bg-slate-500 rounded"></div><div class="h-4 bg-slate-100 dark:bg-slate-500 rounded"></div><div class="h-4 bg-slate-100 dark:bg-slate-500 rounded"></div></div><div class="space-y-2 animate-pulse"><div class="h-4 bg-slate-100 dark:bg-slate-500 rounded w-1/5"></div></div>',3)]))}const ve=d(pe,[["render",_e]]),ge={name:"Home",components:{ArticleHero:me,TeamAvailability:J,ArticleCardSkeletonLoader:ve},mixins:[w,T],setup(){const{prefersDarkMode:e}=S();return{prefersDarkMode:e}},computed:{...A({availableAgents:"agent/availableAgents",conversationSize:"conversation/getConversationSize",unreadMessageCount:"conversation/getUnreadMessageCount",popularArticles:"article/popularArticles",articleUiFlags:"article/uiFlags"}),widgetLocale(){return this.$i18n.locale||"en"},portal(){return window.chatwootWebChannel.portal},showArticles(){return this.portal&&!this.articleUiFlags.isFetching&&this.popularArticles.length},defaultLocale(){const e=this.widgetLocale,{allowed_locales:t,default_locale:a}=this.portal.config;return t.includes(e)?e:a}},mounted(){if(this.portal&&this.popularArticles.length===0){const e=this.defaultLocale;this.$store.dispatch("article/fetch",{slug:this.portal.slug,locale:e})}},methods:{startConversation(){return this.preChatFormEnabled&&!this.conversationSize?this.replaceRoute("prechat-form"):this.replaceRoute("messages")},openArticleInArticleViewer(e){let t=`${e}?show_plain_layout=true`;this.prefersDarkMode&&(t=`${t}&theme=dark`),this.$router.push({name:"article-viewer",query:{link:t}})},viewAllArticles(){const e=this.defaultLocale,{portal:{slug:t}}=window.chatwootWebChannel;this.openArticleInArticleViewer(`/hc/${t}/${e}`)}}},Ae={class:"w-full px-4 pt-4"},fe={key:0,class:"w-full px-4 py-2"},we={class:"w-full p-4 bg-white rounded-md shadow-sm dark:bg-slate-700"},Ce={key:1,class:"w-full px-4 py-2"},be={class:"w-full p-4 bg-white rounded-md shadow-sm dark:bg-slate-700"};function ke(e,t,a,u,m,s){const r=l("TeamAvailability"),i=l("ArticleHero"),h=l("ArticleCardSkeletonLoader");return n(),c("div",{class:k(["z-50 flex flex-col flex-1 w-full rounded-md",{"pb-2":s.showArticles,"justify-end":!s.showArticles}])},[o("div",Ae,[p(r,{"available-agents":e.availableAgents,"has-conversation":!!e.conversationSize,"unread-count":e.unreadMessageCount,onStartConversation:s.startConversation},null,8,["available-agents","has-conversation","unread-count","onStartConversation"])]),s.showArticles?(n(),c("div",fe,[o("div",we,[!e.articleUiFlags.isFetching&&!e.articleUiFlags.isError&&e.popularArticles.length?(n(),v(i,{key:0,articles:e.popularArticles,onView:s.openArticleInArticleViewer,onViewAll:s.viewAllArticles},null,8,["articles","onView","onViewAll"])):g("",!0)])])):g("",!0),e.articleUiFlags.isFetching?(n(),c("div",Ce,[o("div",be,[p(h)])])):g("",!0)],2)}const Ke=d(ge,[["render",ke]]);export{Ke as default};
//# sourceMappingURL=Home-Crc2pJVW.js.map

</script>

</body>
</html>
