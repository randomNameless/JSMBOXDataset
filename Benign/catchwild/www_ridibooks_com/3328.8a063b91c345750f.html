<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3328.8a063b91c345750f.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3328],{33328:function(n,e,t){t.r(e),t.d(e,{Group:function(){return yn}});var r=t(32747),i=t(95525),o=t(46721),u=t(56043),s=t(38839),c=t(32735),a=t(61838),l=t(15277),d=t(56107),f=t(88540),p=t(47471),v=t(39769),g=t(33702),m=t(15393),x=t(29228),_=t(27661),h=t(86342),b=t(55753),k=t(75246),y=t(53649),R=t(84394);function w(){var n=(0,b._)(["\n      height: ","px;\n    "]);return w=function(){return n},n}function S(){var n=(0,b._)(["\n      & > button {\n        margin-top: 67px;\n      }\n    "]);return S=function(){return n},n}var j=(0,k.css)("height:",y.Ls,"px;",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(w(),y.TU)),";"),C=(0,k.css)(R.xf,";align-items:flex-start;& > button{margin-top:110px;}",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(S())),";"),I=(0,k.css)(R.Wu,";display:none;"),E=(0,k.css)("display:block;"),N=(0,k.css)(R.vQ,";display:flex;"),B=(0,c.forwardRef)((function(n,e){var t=n.items,r=n.selectedGroupUnitId,i=n.renderItem,o=(0,l.NU)(),a=(0,_.F)(x.RR.DesktopSmall,!1),d=a?v._G.Tm:v._G.F4,f=a?8:6,p=(0,c.useMemo)((function(){return n=f,(0,k.css)("margin-right:",n,"px;&:last-of-type{margin-right:0;}");var n}),[f]),g=(0,c.useMemo)((function(){return(0,m.DH)(d,{gutterSize:f})}),[d,f]),b=(0,c.useRef)(null);(0,c.useEffect)((function(){var n,e;return null===(n=null===(e=b.current)||void 0===e?void 0:e.getScroller())||void 0===n?void 0:n.scrollTo({left:0})}),[r]);var y=(0,c.useMemo)((function(){return(0,h.l)([e,b])}),[e,b]);return(0,s.jsx)("div",{css:j,children:Object.entries(t).map((function(n){var e=(0,u._)(n,2),t=e[0],c=e[1],a=Number(t)===r;return(0,s.jsx)(m.Oc,{css:[I,a&&E],arrowContainerCss:C,scrollBehavior:g,eventParams:o,ref:a?y:void 0,children:(0,s.jsx)("ul",{css:N,children:c.map((function(n,e){return(0,s.jsx)("li",{css:p,children:i({item:n,index:e})},n.bookId)}))})},t)}))})})),D=t(6317),O=t(43253),A=t(29097),K=t(36939);function P(){var n=(0,b._)(["\n    ",";\n    width: 100%;\n    overflow: auto;\n    scroll-behavior: smooth;\n  "]);return P=function(){return n},n}function z(){var n=(0,b._)(["\n      padding-left: 16px;\n      padding-right: 16px;\n    "]);return z=function(){return n},n}function T(){var n=(0,b._)(["\n  padding-left: 30px;\n  padding-right: 30px;\n\n  ","\n"]);return T=function(){return n},n}function L(){var n=(0,b._)(["\n    min-width: ","px;\n  "]);return L=function(){return n},n}function U(){var n=(0,b._)(["\n      margin-right: 0px;\n    "]);return U=function(){return n},n}function F(){var n=(0,b._)(["\n      min-width: 32px;\n      min-height: 32px;\n      font-size: 15px;\n    "]);return F=function(){return n},n}function M(){var n=(0,b._)(["\n      padding: 0px 10px;\n    "]);return M=function(){return n},n}function G(){var n=(0,b._)(["\n      padding: 0px 6px;\n    "]);return G=function(){return n},n}function q(){var n=(0,b._)(["\n    display: block;\n    position: absolute;\n    top: 0px;\n    left: 50%;\n    width: 200%;\n    height: 100%;\n    transform: translateX(-50%);\n  "]);return q=function(){return n},n}function V(){var n=(0,b._)(["\n      width: 100%;\n    "]);return V=function(){return n},n}var W=(0,k.css)("margin-bottom:8px;"),X=(0,x.K2)(320,(0,k.css)(P(),K.Ez)),H=(0,x.Rk)((0,k.css)(T(),(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(z())))),J=(0,k.css)("display:flex;justify-content:space-between;",(0,x.Rk)((0,k.css)(L(),320))),Q=(0,k.css)("position:relative;"),Y=(0,k.css)("display:inline-block;margin-right:10px;&:last-of-type{margin-right:0px;}",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(U()))),$=(0,k.css)("display:flex;align-items:center;justify-content:center;min-width:38px;min-height:38px;font-size:16px;letter-spacing:-0.01em;",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(F()))),Z=(0,k.css)("padding:0px 12px;",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(M()))),nn=(0,k.css)("padding:0px 9px;",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(G()))),en=(0,k.css)("display:none;",(0,x.Rk)((0,k.css)(q()))," ",(0,x.K2)(x.RR.DesktopSmall,(0,k.css)(V()))),tn=(0,k.css)("box-shadow:none;border-radius:0;border:0;color:",A._h,";font-size:14px;display:flex;align-items:center;width:40px;height:44px;padding-top:2px;&:first-of-type{justify-content:flex-start;background:rgba(0,0,0,0)\n      linear-gradient(270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.5) 27.6%,rgb(255,255,255) 53.65%)\n      repeat scroll 0% 0%;}&:last-of-type{justify-content:flex-end;background:rgba(0,0,0,0)\n      linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.5) 27.6%,rgb(255,255,255) 53.65%)\n      repeat scroll 0% 0%;}"),rn=(0,k.css)("padding:0;"),on=(0,D.default)("div",{target:"e1lx6zy50"})(H,";",(function(n){return!n.scrollEnabled&&J}),";"),un=(0,D.default)("div",{target:"e1lx6zy51"})(Q,";",(function(n){return n.scrollEnabled&&Y}),";"),sn=(0,D.default)("button",{target:"e1lx6zy52"})($,";font-weight:",(function(n){return n.selected?700:500}),";color:",(function(n){var e=n.selected,t=n.theme;return e?t.colors.bgBase:t.colors.grey500}),";background-color:",(function(n){var e=n.selected,t=n.theme;return e?t.colors.fillCta:"transparent"}),";border-radius:",(function(n){return n.selected?"999px":0}),";",(function(n){return n.scrollEnabled?Z:nn}),";"),cn=(0,D.default)("label",{target:"e1lx6zy53"})(en,";",un,":first-of-type &{left:0px;transform:none;}",un,":last-of-type &{left:auto;right:0px;transform:none;}"),an=(0,c.forwardRef)((function(n,e){var t=n.children,r=n.className,i=(0,c.useRef)(null);return(0,c.useImperativeHandle)(e,(function(){return{focus:function(n){var e=i.current;if(e){var t=n.offsetLeft,r=void 0===t?0:t,o=n.clientWidth,u=void 0===o?0:o;e.scrollTo({top:0,left:r-(e.clientWidth-u)/2,behavior:"smooth"})}},getScroller:function(){return null}}})),(0,s.jsx)("div",{ref:i,className:r,children:t})})),ln=m.Oc,dn=function(n){var e=n.type,t=n.selectedItem,r=n.items,u=n.onChange,a=n.sectionTrackingData,l=(0,c.useRef)(null),d=(0,c.useRef)({});(0,c.useEffect)((function(){if(l.current){var n,e=d.current[null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:0];e&&l.current.focus(e)}}),[t]);var f="Keyword"===e,p=f?ln:an;return(0,s.jsx)(p,{ref:l,css:[W,!f&&X],arrowCss:tn,arrowContainerCss:rn,children:(0,s.jsx)(on,{scrollEnabled:f,children:r.map((function(n,e){var r,c="group_section_tab_".concat(n.id),l=n.id===(null===t||void 0===t?void 0:t.id),p=(0,o._)((0,i._)({},a.params),{tab_id:n.id,tab_title:n.name,tab_index:e});return(0,s.jsx)(O.l,{screenName:a.screenName,target:"group_section_tab",params:p,children:(0,s.jsxs)(un,{ref:(r=n.id,function(n){n?d.current[r]=n:delete d.current[r]}),scrollEnabled:f,children:[(0,s.jsx)(sn,{selected:l,scrollEnabled:f,type:"button",onClick:function(){return function(n){(null===t||void 0===t?void 0:t.id)!==n.id&&u(n)}(n)},id:c,children:n.name}),!f&&(0,s.jsx)(cn,{htmlFor:c})]})},n.id)}))})})},fn=t(89001),pn=t(65955),vn=t(24705),gn=(0,vn.cd)((function(n){var e=a.EU.withOptions(n);return function(n){return(0,s.jsx)(e,(0,o._)((0,i._)({},n),{children:(0,s.jsx)(pn.k,{})}))}}),a.EU.getOptions()),mn=function(n){var e=n.onBeforeNavigate;return function(n){return(0,o._)((0,i._)({},n),{BookLink:(0,vn.cd)((function(){return function(t){var r=n.BookLink;return(0,s.jsx)("span",{onClickCapture:e,children:(0,s.jsx)(r,(0,i._)({},t))})}})),BookAuthorItem:(0,vn.cd)((function(){return function(t){var r=n.BookAuthorItem;return(0,s.jsx)("span",{onClickCapture:e,children:(0,s.jsx)(r,(0,i._)({},t))})}})),BookCoverRenderer:gn})}},xn=t(78521),_n=function(n){return(0,xn.Xs)(n,("session"===n?xn.sO:xn.dA).SAVED_GROUP_SECTION_TAB_INFO_MAP)||{}},hn=function(n,e){try{(0,xn.R4)(n,("session"===n?xn.sO:xn.dA).SAVED_GROUP_SECTION_TAB_INFO_MAP,JSON.stringify(e))}catch(t){(0,xn.L_)(n,("session"===n?xn.sO:xn.dA).SAVED_GROUP_SECTION_TAB_INFO_MAP)}},bn=function(n,e){return hn(n,(0,o._)((0,i._)({},_n(n)),(0,r._)({},e.sectionId,e)))},kn=function(n,e){var t=_n(n);delete t[e],hn(n,t)},yn=function(n){var e=n.section,t=(0,f.T)(),m="Keyword"===e.type?"local":"session",x=(0,l.NU)(),_=e.groups.map((function(n){return n.group_unit})),h=(0,u._)((0,c.useState)(null),2),b=h[0],k=h[1],y=(0,c.useMemo)((function(){return b?e.items[b.id]:void 0}),[b,e.items]),R=!!y,w=(0,c.useRef)(null),S=(0,c.useRef)(b),j=(0,c.useRef)([]);b&&(S.current=b,j.current=null!==y&&void 0!==y?y:[]);var C=(0,u._)((0,c.useState)(null),2),I=C[0],E=C[1];(0,p.L)((function(){var n;if(null!==I){var e=null===(n=w.current)||void 0===n?void 0:n.getScroller();if(e&&R){var t=requestAnimationFrame((function(){e.scrollLeft=I,E(null),t=null}));return function(){return t?cancelAnimationFrame(t):void 0}}}}),[I,R]);var N=(0,c.useMemo)((function(){return e.groups.reduce((function(n,e){return(0,o._)((0,i._)({},n),(0,r._)({},e.group_unit.id,e.fetch_url))}),{})}),[e.groups]);(0,c.useEffect)((function(){var n,r=null===b||void 0===b?void 0:b.id;if(r&&!R){var i=null===(n=N[r])||void 0===n?void 0:n.adult_include;i&&t((0,d.p9)({reqParams:{sectionId:e.id,endPoint:i,payload:{unitId:r}}}))}}),[t,e.id,null===b||void 0===b?void 0:b.id,R,N]);var D=(0,u._)((0,c.useState)((function(){return _n(m)})),1)[0],O=(0,c.useMemo)((function(){return D[e.id]}),[D,e.id]);(0,c.useEffect)((function(){"Keyword"!==e.type&&kn(m,e.id)}),[m,e.id,e.type]);var A=(0,c.useCallback)((function(){return(e.groups.find((function(n){return n.group_unit.id===e.current_active_group_unit.id}))||e.groups[0]).group_unit}),[e.groups,e.current_active_group_unit.id]);(0,p.L)((function(){var n,r="back_forward"===(null===(n=performance.getEntriesByType("navigation")[0])||void 0===n?void 0:n.type);if(!O||"Keyword"!==e.type)return O&&r?(t((0,d.yh)({sectionId:e.id,payload:{unitId:O.tab.id},resource:{groupSavedItems:O.items}})),E(O.scrollPosition),void k(O.tab)):void k(A());_.some((function(n){return n.id===O.tab.id}))?k(O.tab):(kn(m,e.id),k(A()))}),[t,A,O]),(0,p.L)((function(){var n=function(n){var t;n.persisted&&("Keyword"!==e.type&&(_n(m)[e.id]?kn(m,e.id):e.current_active_group_unit.id===(null===(t=S.current)||void 0===t?void 0:t.id)&&E(0)))};return window.addEventListener("pageshow",n),function(){return window.removeEventListener("pageshow",n)}}),[e.id,e.current_active_group_unit]);var K,P=(0,c.useCallback)((function(){var n,t;bn(m,{sectionId:e.id,tab:S.current,items:j.current,scrollPosition:(null===(n=null===(t=w.current)||void 0===t?void 0:t.getScroller())||void 0===n?void 0:n.scrollLeft)||0})}),[m,e.id]),z=(0,c.useMemo)((function(){return function(n){var e=n.onBeforeNavigate;return(0,fn._)(v.qj).concat([mn({onBeforeNavigate:e})])}({onBeforeNavigate:"Keyword"===e.type?function(){}:P})}),[P,e.type]),T=(0,c.useCallback)((function(n){var e=n.item,t=n.index;return(0,s.jsx)(v.$c,{book:e,index:t})}),[]),L=function(n){var e,t,r=n.section,i=n.groupUnitId;return(null===(e=r.groups.find((function(n){return n.group_unit.id===i})))||void 0===e||null===(t=e.more_detail_url)||void 0===t?void 0:t.adult_include)||"/group-tab/".concat(r.id,"/").concat(i)}({section:e,groupUnitId:b?b.id:e.current_active_group_unit.id}),U=(0,c.useCallback)((function(n){"Keyword"===e.type&&bn(m,{sectionId:e.id,tab:n,items:[],scrollPosition:0}),k(n)}),[m,e]);return(0,s.jsx)(a.D1,{presets:z,trackingData:x.bookDefinition,children:(0,s.jsxs)(g.hC,{title:e.title,link:L,paddingBottom:!1,onLinkClick:P,children:[(0,s.jsx)(dn,{type:e.type,selectedItem:null!==b&&void 0!==b?b:void 0,items:_,onChange:U,sectionTrackingData:x}),(0,s.jsx)(B,{items:e.items,renderItem:T,selectedGroupUnitId:null!==(K=null===b||void 0===b?void 0:b.id)&&void 0!==K?K:void 0,ref:w})]})})}},65955:function(n,e,t){t.d(e,{k:function(){return g}});var r=t(38839),i=t(32735),o=t(61838),u=t(29228),s=t(24705),c=t(75246),a=t(13029),l=function(n){return(0,c.css)("position:absolute;top:0px;left:0px;background-color:",(0,a.m)(n.colors.black,.5),";display:flex;align-items:center;")},d=function(n){return(0,c.css)("height:",n,"px;")},f=function(n){var e=n.leftRightPadding,t=n.textSize,r=10/t,i=t/10;return(0,c.css)("transform-origin:left;transform:scaleX(",i,");padding-left:",e*r,"px;padding-right:",e*r,"px;border-top-left-radius:",4*r,"px;border-bottom-right-radius:",4*r,"px;")},p=function(n){return(0,c.css)("color:",n.colors.white,";font-weight:600;")},v=function(n){return(0,c.css)("font-size:",10,"px;transform:scaleY(",n/10,");transform-origin:center;")},g=(0,s.cd)((function(n){var e=n.height,t=n.leftRightPadding,u=n.textSize,c=(0,s.fn)(d,e),a=(0,s.fn)(f,t.map((function(n,e){var t=n.value,r=n.orBelow;return{value:{leftRightPadding:t,textSize:u[e].value},orBelow:r}}))),g=(0,s.fn)(v,u);return function(n){var e,t,u=n.className,s=null===(e=(0,i.useContext)(o.Fd).cover)||void 0===e||null===(t=e.badges)||void 0===t?void 0:t.schedule;return s?(0,r.jsx)("div",{css:[l,c,a],className:u,children:(0,r.jsx)("span",{css:[p,g],children:s})}):(0,r.jsx)(r.Fragment,{})}}),{height:[{value:25},{value:20,orBelow:u.RR.DesktopSmall}],leftRightPadding:[{value:6},{value:5,orBelow:u.RR.DesktopSmall}],textSize:[{value:11},{value:9,orBelow:u.RR.DesktopSmall}]})}}]);
//# sourceMappingURL=3328.8a063b91c345750f.js.map
</script>

</body>
</html>
