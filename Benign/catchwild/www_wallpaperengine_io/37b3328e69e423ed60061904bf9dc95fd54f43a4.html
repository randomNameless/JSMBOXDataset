<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>37b3328e69e423ed60061904bf9dc95fd54f43a4.html</title>
</head>
<body>

<script>
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1338)}({0:function(e,t){e.exports=_},1:function(e,t){e.exports=jQuery},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CURRENCY_CONSTANTS={CURRENCY_CODES:{PISOS:"PHP",RUBLES:"RUB",YUAN:"CNY",CA_DOLLARS:"CAD",EUROS:"EUR",AU_DOLLARS:"AUD",DOLLARS:"USD",POUNDS:"GBP",LIRAS:"TRY",NZ_DOLLARS:"NZD"},CURRENCY_NAMES:{TRY:"Turkey - Lira",USD:"United States - Dollars",AUD:"Australia - Dollars",GBP:"Europe (UK) - Pounds Sterling",NZD:"New Zealand - Dollars",RUB:"Russia - Rubles",CNY:"Chinese - Yuan",EUR:"Europe - Euros",PHP:"Philippines - Pisos",CAD:"Canada - Dollars"},PRIMARY_CURRENCY_COUNTRIES:["AU","CA","PH","RU","TR","NZ","CN"],CHOICE_SUPPORTED_CURRENCIES:["AUD","CAD","USD","EUR","NZD","GBP","RUB","CNY"],ACTIVE_SUPPORTED_CURRENCIES:["USD","AUD","CNY","CAD","GBP","NZD","PHP","EUR"],SUPPORTED_CURRENCIES:["USD","EUR","GBP","AUD","CAD","PHP","RUB","TRY","NZD","CNY"],EURO_COUNTRIES:["BE","FR","BG","BA","HR","DE","HU","FI","DK","NL","PT","NO","LI","LV","LT","LU","RO","PL","PM","VA","CH","GR","EE","AL","IT","CZ","CY","AT","AD","IE","ES","ME","MC","RS","MK","SK","MT","SI","SM","SE"],GBP_COUNTRIES:["GS","GG","SH","IM","BQ","UK","JE","GB"],CURRENCY_SYMBOLS:{TRY:"₺",USD:"$",AUD:"AU$",GBP:"£",NZD:"NZ$",RUB:"₽",CNY:"¥",EUR:"€",PHP:"₱",CAD:"CA$"},REGION_CURRENCY_MAPPING:{BE:"EUR",FR:"EUR",BG:"EUR",BA:"EUR",BQ:"GBP",FI:"EUR",RU:"RUB",NL:"EUR",NO:"EUR",NZ:"NZD",RO:"EUR",CH:"EUR",GS:"GBP",CN:"CNY",CA:"CAD",GG:"GBP",CZ:"EUR",CY:"EUR",GB:"GBP",EUROPE_EURO:"EUR",SK:"EUR",SI:"EUR",SH:"GBP",SM:"EUR",SE:"EUR",DK:"EUR",HR:"EUR",DE:"EUR",HU:"EUR",MK:"EUR",JE:"GBP",GR:"EUR",PT:"EUR",TR:"TRY",LI:"EUR",LV:"EUR",LT:"EUR",LU:"EUR",PH:"PHP",PL:"EUR",PM:"EUR",VA:"EUR",AD:"EUR",EE:"EUR",AL:"EUR",IT:"EUR",AU:"AUD",AT:"EUR",IE:"EUR",ES:"EUR",ME:"EUR",MC:"EUR",RS:"EUR",US:"USD",MT:"EUR",UK:"GBP",IM:"GBP",EUROPE_GBP:"GBP"},PRIMARY_CURRENCY_REGIONS:["US","EUROPE_EURO","EUROPE_GBP","AU","CA","PH","RU","TR","NZ","CN"]}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEcommercePurchaseEvent=t.getSuccintUserSubscriptionState=t.logGtmEvent=t.logPageViewEvent=void 0;var i,a=n(1),r=(i=a)&&i.__esModule?i:{default:i},o=n(8);t.logPageViewEvent=function(e){if(e){var t="/api/v1/analytics/"+e,n=(0,o.getWindow)()._hbgtm;n&&n(!1,{event:"logPageViewEvent",details:{path:t}})}};var s=t.logGtmEvent=function(e,t){var n=(0,o.getWindow)()._hbgtm;n&&n(e,t)};t.getSuccintUserSubscriptionState=function(){var e=window.models.userSubscriptionState;return e.monthlyOwnsAnyContent?e.willReceiveFutureMonths?e.isPaused?"paused":e.failedBillingMonths>0?"billing-error":"active":"unsubscribed":"never-subscribed"},t.sendEcommercePurchaseEvent=function(e){var t=r.default.Deferred();return e?(r.default.post("/analytics",{id:e},function(e){e.track||t.resolve(!1);try{if(e.ga){var n={transaction:e.ga.transaction,products:e.ga.items,additionalData:e.ga.additional_data};if(n.transaction&&n.products&&n.additionalData){var i=0,a="",r=0,l=n.additionalData.discounts.order_wallet_amount?n.additionalData.discounts.order_wallet_amount:0;if(n.additionalData.discounts.order_coupon_largest_name)r=n.additionalData.discounts.order_coupons;else(n.products||[]).forEach(function(e){e.discount>i&&(i=e.discount,a=e.coupon),r+=e.discount});s(!0,{event:"purchaseComplete",ecommerce:{currencyCode:n.transaction.currency,purchase:{actionField:{id:n.transaction.id,revenue:n.transaction.revenue,tax:n.transaction.tax,shipping:n.transaction.shipping,coupon:n.additionalData.discounts.order_coupon_largest_name?n.additionalData.discounts.order_coupon_largest_name:a},products:n.products}},metric1:r>0?-1*r:r,metric2:l>0?-1*l:l,dimension6:n.additionalData.order_type,dimension8:n.additionalData.is_free_order,enabledTags:(0,o.getWindow)()._hbdl.transaction?(0,o.getWindow)()._hbdl.transaction.enabledTags:{},details:(0,o.getWindow)()._hbdl.transaction?(0,o.getWindow)()._hbdl.transaction.details:{}})}else s(!1,n.transaction?{event:"purchaseError",detail:"missing order information",id:e.ga.transaction.id}:{event:"purchaseError",detail:"no transaction info available"})}}catch(e){s(!1,{event:"purchaseError",detail:e&&void 0!==e.message?e.message:""})}finally{t.resolve(!0)}},"json").fail(function(){t.reject(!1)}),t.promise()):t.resolve(!1)}},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MoneyFormatConstants={STYLIZED:"stylized",SHOW_ZERO_CENTS:"medium",HIDE_ZERO_CENTS:"short"}},1337:function(e,t,n){"use strict";var i,a=n(1),r=(i=a)&&i.__esModule?i:{default:i},o=n(21),s=n(562);(0,r.default)(document).ready(function(){var e=(0,o.extractWebpackJsonData)("#widget-json-data"),t=(0,s.loadWidget)(e.widget,e.config,e.form_data);document.getElementById("widget-container").appendChild(t.el),t.render()})},1338:function(e,t,n){n(19),e.exports=n(1337)},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.COUNTRY_CONSTANTS={PAYMENT_DISABLED_COUNTRIES:["BY","RU"],US_CC:"US",COUNTRIES:{WF:"Wallis and Futuna",JP:"Japan",JM:"Jamaica",JO:"Jordan",WS:"Samoa",JE:"Jersey",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",PR:"Puerto Rico",PS:"Palestine, State of",PW:"Palau",PT:"Portugal",PY:"Paraguay",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",ZA:"South Africa",ZW:"Zimbabwe",ME:"Montenegro",MD:"Moldova, Republic of",MG:"Madagascar",MF:"Saint Martin (French part)",MA:"Morocco",MC:"Monaco",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia, the former Yugoslav Republic of",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",MY:"Malaysia",MX:"Mexico",MZ:"Mozambique",FR:"France",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",CK:"Cook Islands",CI:"Côte d'Ivoire",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos (Keeling) Islands",CA:"Canada",CG:"Congo",CF:"Central African Republic",CD:"Congo, the Democratic Republic of the",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CS:"Serbia",CR:"Costa Rica",CW:"Curaçao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syrian Arab Republic",SX:"Sint Maarten (Dutch part)",SS:"South Sudan",SR:"Suriname",SV:"El Salvador",ST:"Sao Tome and Principe",SK:"Slovakia",SJ:"Svalbard and Jan Mayen",SI:"Slovenia",SH:"Saint Helena, Ascension and Tristan da Cunha",SO:"Somalia",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",SB:"Solomon Islands",SA:"Saudi Arabia",SG:"Singapore",SE:"Sweden",SD:"Sudan",YE:"Yemen",YT:"Mayotte",LB:"Lebanon",LC:"Saint Lucia",LA:"Lao People's Democratic Republic",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",LY:"Libya",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",IQ:"Iraq",VI:"Virgin Islands, US",IS:"Iceland",IR:"Iran, Islamic Republic of",IT:"Italy",VN:"Viet Nam",IM:"Isle of Man",IL:"Israel",IO:"British Indian Ocean Territory",IN:"India",IE:"Ireland",ID:"Indonesia",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",BU:"Burma",BV:"Bouvet Island",BW:"Botswana",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",RE:"Réunion",RO:"Romania",OM:"Oman",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",EC:"Ecuador",ET:"Ethiopia",ES:"Spain",ER:"Eritrea",UY:"Uruguay",UZ:"Uzbekistan",US:"United States",UM:"United States Minor Outlying Islands",UG:"Uganda",UA:"Ukraine",VU:"Vanuatu",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",XK:"Kosovo",KG:"Kyrgyzstan",KE:"Kenya",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",KR:"Korea, Republic of",KP:"Korea, Democratic People's Republic of",KW:"Kuwait",KZ:"Kazakhstan",KY:"Cayman Islands",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",DE:"Germany",DZ:"Algeria",TZ:"Tanzania, United Republic of",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",TN:"Tunisia",TO:"Tonga",TL:"Timor-Leste",TM:"Turkmenistan",TJ:"Tajikistan",TK:"Tokelau",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",AM:"Armenia",AL:"Albania",AO:"Angola",AN:"Netherlands Antilles",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",QA:"Qatar"}}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeHumbleDate=t.DAY_IN_MILLISECONDS=t.MINUTE_IN_MILLISECONDS=t.MONTH_AND_YEAR=t.FULL_DATE=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};t.FULL_DATE="MMMM D, YYYY",t.MONTH_AND_YEAR="MMMM YYYY";var o=t.MINUTE_IN_MILLISECONDS=6e4,s=(t.DAY_IN_MILLISECONDS=60*o*24,t.makeHumbleDate=function(e){if(e instanceof Date)return e;if(!r.default.isString(e)&&!r.default.isFinite(e))throw new TypeError(e+" is not a valid datetime");r.default.isString(e)&&!isNaN(e)&&(e=r.default.toFinite(e)),r.default.isString(e)?s(e)?e=e.trim()+"T00:00Z":l(e)&&(e+="Z"):r.default.isFinite(e)&&(e=u(e));var t=new Date(e);if(isNaN(t.valueOf()))throw new TypeError("An invalid Date object was created with "+e);return t},function(e){return!e.match(/[T ]\d\d:\d\d/)}),l=function(e){return!e.match(/([\+-]\d\d:\d\d)|Z/)},u=function(e){return e<12623328e5&&(e*=1e3),e}},19:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){return"string"==typeof e},a=function(e){return e instanceof Blob};(function(){if(function(){return"navigator"in this&&"sendBeacon"in this.navigator}.call(this))return;"navigator"in this||(this.navigator={});"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=function(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,o="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("POST",e,!r),o.withCredentials=!0,o.setRequestHeader("Accept","*/*"),i(t)?(o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.responseType="text/plain"):a(t)&&t.type&&o.setRequestHeader("Content-Type",t.type);try{o.send(t)}catch(e){return!1}return!0}.bind(this))}).call("object"===("undefined"==typeof window?"undefined":n(window))?window:{})},2:function(e,t){e.exports=Backbone},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CSRF_CONSTANTS={CSRF_COOKIE_KEY:"csrf_cookie",CSRF_COOKIE_VERSION:1,CSRF_FORM_KEY:"_le_csrf_token",CSRF_HEADER_KEY:"CSRF-Prevention-Token"}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=t.extractWebpackJsonData=void 0;var i,a=n(1),r=(i=a)&&i.__esModule?i:{default:i},o=n(4),s=n(15),l=n(7);t.extractWebpackJsonData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#webpack-json-data",t=(0,r.default)(e);if(t.length){var n=u(t.html().trim());return t.remove(),n}};var u=t.parseJSON=function(e){return JSON.parse(e,function(e,t){if(c(e,"money")){var n=d(e,"money");if(!t)return void(this[n]=null);var i=void 0;if(Array.isArray(t)?i=l.Money.fromArray(t):t instanceof Object&&(i=l.Money.fromObject(t)),!i)throw new Error("Tagged money data is not valid: key="+e+", value="+t);this[n]=i}else if(c(e,"datetime")){var a=d(e,"datetime");if(!t)return void(this[a]=null);var r=(0,s.makeHumbleDate)(t);if(!r)throw new Error("Tagged datetime data is not valid: key="+e+", value="+t);this[a]=r}else if(c(e,"date")){var u=d(e,"date");if(!t)return void(this[u]=null);var f=(0,s.makeHumbleDate)(t);if(!f)throw new Error("Tagged date data is not valid: key="+e+", value="+t);this[u]=f}else{if(!c(e,"decimal"))return t;var h=d(e,"decimal");if(!t&&0!=t)return void(this[h]=null);var p=new o.Decimal(t);if(!p)throw new Error("Tagged Decimal data is not valid: key="+e+", value="+t);this[h]=p}})},c=function(e,t){return e.endsWith("|"+t)},d=function(e,t){return e.replace("|"+t,"")}},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModelData=t.getDigitsFromNumber=t.deferFunctionCalls=t.padWithZeroes=void 0;var i,a=n(1),r=(i=a)&&i.__esModule?i:{default:i};var o=t.padWithZeroes=function e(t,n){return n<=t.length?t:"0"+e(t,n-1)},s=(t.deferFunctionCalls=function(e,t){var n=r.default.Deferred(),i=[];return(e=e.slice()).length?function a(){var r=e.shift();i.push(r()),e.length?setTimeout(a,t):n.resolve(i)}():n.resolve([]),n.promise()},t.getDigitsFromNumber=function(e,t){return o(String(e),t).split("")});t.getModelData=function(e){var t=6;return e>9e5&&(t=7),s(e,t).map(function(e){return{currentDigit:e}})}},219:function(e,t){e.exports='<% if (platforms) { %>\n  <ul class="platforms <%- cssClass %>">\n  <% for (deliveryMethod in platforms) { %>\n    <% var methodDefinition = DELIVERY_DEFINITION[deliveryMethod]; %>\n    <% if (methodDefinition) { %>\n    <li>\n      <i class="hb <%- methodDefinition.icon %>" title="" tabindex="0" aria-label="<%- methodDefinition.human_name %>"></i>\n      <aside class="platform-info">\n      <% _.each(platforms[deliveryMethod].available, function(platform) { %>\n        <% var platformDefinition = PLATFORM_DEFINITION[platform]; %>\n        <% if (platformDefinition) { %>\n        <p>\n          <i class="hb <%- platformDefinition.icon %>"></i><em>\n          <% if (methodDefinition.preamble) { %>\n            <%- \'{preamble} {platform_name}\'.format({preamble: methodDefinition.preamble, platform_name: platformDefinition.human_name}) %>\n          <% } else { %>\n            <%- gtxt(\'Get it via {platform_name}\') %>.format(platform_name=platformDefinition.human_name)\n          <% } %>\n        </em></p>\n        <% } %>\n      <% }); %>\n    <% } %>\n      </aside>\n    </li>\n  <% } %>\n  </ul>\n<% } %>\n'},220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderPlatformIcons=void 0;var i=o(n(0)),a=n(32),r=o(n(219));function o(e){return e&&e.__esModule?e:{default:e}}t.renderPlatformIcons=function(e,t){var n={};return n.PLATFORM_DEFINITION=a.PLATFORM_AND_DELIVERY_CONSTANTS.platform_definition_dict,n.DELIVERY_DEFINITION=a.PLATFORM_AND_DELIVERY_CONSTANTS.delivery_method_definition_dict,n.platforms=e,n.cssClass=t,i.default.template(r.default)(n)}},23:function(e,t){e.exports=numeral},24:function(e,t,n){"use strict";n.r(t);var i,a,r,o,s=n(1);
/**
 * @license In-Field Label jQuery Plugin
 * http://fuelyourcoding.com/scripts/infield.html
 * http://github.com/streetpc/jquery-infieldlabels
 *
 * Copyright (c) 2009 Doug Neiner, Adrien Lavoillotte
 * Dual licensed under the MIT and GPL licenses, see:
 * http://docs.jquery.com/License
 *
 * @version 0.2.1
 */
i=n.n(s).a,a=/^(?:text|password|search|number|tel|url|email|date(?:time(?:-local)?)?|time|month|week)?$/,(o={})[(r=function(e,t){return e<<3|t})(1,0)]=function(e){e.fadeTo(1)},o[r(2,0)]=function(e){e.$label.css({opacity:1}).show(),e.emptied(!0)},o[r(0,1)]=function(e){e.fadeTo(e.options.fadeOpacity)},o[r(2,1)]=function(e){e.$label.css({opacity:e.options.fadeOpacity}).show(),e.emptied(!0)},o[r(0,2)]=function(e){e.$label.hide(),e.emptied(!1)},o[r(1,2)]=o[r(0,2)],i.InFieldLabels=function(e,t,n){var a=this;a.$label=i(e),a.label=e,a.$field=i(t),a.field=t,a.$label.data("InFieldLabels",a),a.state=0,a.init=function(){a.options=i.extend({},i.InFieldLabels.defaultOptions,n),a.options.labelClass&&a.$label.addClass(a.options.labelClass),a.options.disableAutocomplete&&a.$field.attr("autocomplete","off"),a.$field.bind("blur focus change keyup.infield cut",a.updateState).bind("paste",function(e){a.setState(2)}),a.updateState()},a.emptied=function(e){a.options.emptyWatch||(e?a.$field.bind("keyup.infield",a.updateState):a.$field.unbind("keyup.infield",a.updateState))},a.fadeTo=function(e){a.options.fadeDuration?a.$label.stop().animate({opacity:e},a.options.fadeDuration):a.$label.css({opacity:e})},a.updateState=function(e,t){var n=2;if(""===a.field.value){var i=e&&e.type;n=(i="focus"===i||"keyup"===i||"blur"!==i&&"change"!==i&&a.$field.is(":focus"))?1:0}a.setState(n,t)},a.setState=function(e,t){if(e!==a.state){var n=o[r(a.state,e)];"function"==typeof n?(n(a),a.state=e):t||a.updateState(null,!0)}},a.init()},i.InFieldLabels.defaultOptions={emptyWatch:!0,disableAutocomplete:!0,fadeOpacity:.5,fadeDuration:300,labelClass:"in-field"},i.fn.inFieldLabels=function(e){return this.each(function(){if("LABEL"===this.tagName){var t,n=this.getAttribute("for")||this.htmlFor,r=!0;n&&(t=document.getElementById(n))&&("INPUT"===t.tagName?r=a.test(t.type.toLowerCase()):"TEXTAREA"!==t.tagName&&(r=!1),(r=r&&!t.getAttribute("placeholder"))&&new i.InFieldLabels(this,t,e))}})}},3:function(e,t){e.exports=Marionette},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLATFORM_AND_DELIVERY_CONSTANTS={file_formats:["vhx","mp4","mp3","wav","hd","mobi","prc","zip","other","flac","pdf","epub","mov","cbz","ogg","sd"],web_delivery_methods:{asmjs:"asmjs",unitywasm:"unitywasm"},console_platforms:["switch","3DS"],delivery_method_definition_dict:{origin:{human_name:"Origin",preamble:"Redeem for",icon:"hb-origin"},asmjs:{preamble:"Play in",icon:"hb-bundle"},blizzard:{importance:5,human_name:"Blizzard Battle.net",preamble:"Redeem for",icon:"hb-bnet"},external_key:{human_name:"Unique Links",icon:"hb-link"},epic_keyless:{human_name:"Epic",preamble:"Redeem for",icon:"hb-epic"},xboxone:{human_name:"Xbox One",preamble:"Play on",icon:"hb-xboxone"},wiiu:{human_name:"WiiU",preamble:"Redeem on",icon:"hb-wiiu"},download:{importance:2,human_name:"DRM-free download",preamble:"Download for",icon:"hb-drmfree"},ps3:{human_name:"PS3",preamble:"Play on",icon:"hb-psthree"},ps4:{human_name:"PS4",preamble:"Play on",icon:"hb-psfour"},"video-download":{human_name:"Movie",preamble:"Download",icon:"hb-movie"},gog:{importance:3,human_name:"GOG",preamble:"Redeem for",icon:"hb-gog"},origin_key:{human_name:"Origin",preamble:"Redeem for",icon:"hb-origin"},download_drm:{human_name:"DRM download",preamble:"Redeem for",icon:"hb-key"},epic:{human_name:"Epic Games store",preamble:"Redeem for",icon:"hb-epic"},"audio-download":{human_name:"Audio download",preamble:"Download",icon:"hb-audio"},we:{preamble:"Play in",icon:"hb-globe"},"3DS":{human_name:"Nintendo 3DS",preamble:"Redeem on",icon:"hb-threeds-wide"},iOS:{human_name:"iOS",preamble:"Redeem for",icon:"hb-osx"},"other-key":{human_name:"Key",preamble:"Redeem for",icon:"hb-key"},rifftrax:{preamble:"Available via",icon:"hb-rifftrax"},android:{human_name:"Android",preamble:"Download for",icon:"hb-android"},psvita:{human_name:"PSVita",preamble:"Play on",icon:"hb-psvita"},vhx:{human_name:"VHX",preamble:"Download/stream on",icon:"hb-movie"},"physical-copy":{human_name:"Physical Copy",icon:"hb-library"},new3ds:{human_name:"New Nintendo 3DS",preamble:"Redeem on",icon:"hb-new3ds"},steam:{importance:1,human_name:"Steam",preamble:"Redeem for",icon:"hb-steam"},switch:{human_name:"Nintendo Switch",preamble:"Redeem on",icon:"hb-switch-wide"},origin_keyless:{human_name:"Origin",preamble:"Redeem for",icon:"hb-origin"},uplay:{importance:4,human_name:"Ubisoft Connect PC",preamble:"Redeem for",icon:"hb-uplay"},"humble-app":{human_name:"Humble app",preamble:"Play in",icon:"hb-bundle"}},platform_definition_dict:{firefox:{human_name:"Firefox",icon:"hb-firefox"},wiiu:{human_name:"Nintendo Wii U",icon:"hb-wiiu"},prc:{human_name:"PRC",icon:"hb-file-text-o"},"3DS":{human_name:"Nintendo 3DS",icon:"hb-threeds"},iOS:{human_name:"iOS",icon:"hb-osx"},xboxone:{human_name:"Xbox One",icon:"hb-xboxone"},"windows-mixed-reality":{human_name:"Windows Mixed Reality",icon:"hb-windows-mixed-reality"},mac:{importance:2,human_name:"Mac",icon:"hb-osx"},mobi:{human_name:"MOBI",icon:"hb-file-text-o"},mp3:{human_name:"MP3",icon:"hb-file-mp3"},flac:{human_name:"FLAC",icon:"hb-file-audio-o"},linux:{importance:3,human_name:"Linux",icon:"hb-linux"},cbz:{human_name:"CBZ",icon:"hb-file-archive-o"},ps3:{human_name:"Playstation 3",icon:"hb-psthree"},pdf:{human_name:"PDF",icon:"hb-file-pdf-o"},hd:{human_name:"HD",icon:"hb-movie"},psvita:{human_name:"Playstation Vita",icon:"hb-psvita"},epub:{human_name:"EPUB",icon:"hb-file-epub"},rifftrax:{human_name:"Rifftrax",icon:"hb-rifftrax"},vive:{human_name:"HTC Vive",icon:"hb-vive"},zip:{human_name:"ZIP",icon:"hb-file-archive-o"},windows:{importance:1,human_name:"Windows",icon:"hb-windows"},"physical-copy":{human_name:"Physical Copy",icon:"hb-library"},new3ds:{human_name:"New Nintendo 3DS",icon:"hb-new3ds"},"oculus-rift":{human_name:"Oculus Rift",icon:"hb-oculus"},chrome:{human_name:"Chrome",icon:"hb-chrome"},switch:{human_name:"Nintendo Switch",icon:"hb-switch"},ps4:{human_name:"Playstation 4",icon:"hb-psfour"},wav:{human_name:"WAV",icon:"hb-file-audio-o"},android:{human_name:"Android",icon:"hb-android"},browser:{human_name:"modern browsers like Chrome or Firefox",icon:"hb-singleplatform"},sd:{human_name:"SD",icon:"hb-movie"}}}},362:function(e,t,n){(function(e){!function(e){e.fn.typeWatch=function(t){var n=e.extend({wait:750,callback:function(){},highlight:!0,captureLength:2,inputTypes:["TEXT","TEXTAREA","PASSWORD","TEL","SEARCH","URL","EMAIL","DATETIME","DATE","MONTH","WEEK","TIME","DATETIME-LOCAL","NUMBER","RANGE"]},t);function i(t){var i=t.type.toUpperCase();if(e.inArray(i,n.inputTypes)>=0){var a={timer:null,text:e(t).val().toUpperCase(),cb:n.callback,el:t,wait:n.wait};n.highlight&&e(t).focus(function(){this.select()});e(t).keydown(function(t){var i=a.wait,r=!1,o=this.type.toUpperCase();13==t.keyCode&&"TEXTAREA"!=o&&e.inArray(o,n.inputTypes)>=0&&(i=1,r=!0);clearTimeout(a.timer),a.timer=setTimeout(function(){!function(t,i){var a=e(t.el).val();(a.length>=n.captureLength&&a.toUpperCase()!=t.text||i&&a.length>=n.captureLength)&&(t.text=a.toUpperCase(),t.cb.call(t.el,a))}(a,r)},i)})}}return this.each(function(){i(this)})}}(e)}).call(this,n(1))},376:function(e,t,n){(function(t,n){var i={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","outlook.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(e){e.domains=e.domains||i.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||i.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||i.sift3Distance;var t=i.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction);t?e.suggested&&e.suggested(t):e.empty&&e.empty()},suggest:function(e,t,n,i){e=e.toLowerCase();var a=this.splitEmail(e),r=this.findClosestDomain(a.domain,t,i);if(r){if(r!=a.domain)return{address:a.address,domain:r,full:a.address+"@"+r}}else{var o=this.findClosestDomain(a.topLevelDomain,n);if(a.domain&&o&&o!=a.topLevelDomain){var s=a.domain;return r=s.substring(0,s.lastIndexOf(a.topLevelDomain))+o,{address:a.address,domain:r,full:a.address+"@"+r}}}return!1},findClosestDomain:function(e,t,n){var i,a=99,r=null;if(!e||!t)return!1;n||(n=this.sift3Distance);for(var o=0;o<t.length;o++){if(e===t[o])return e;(i=n(e,t[o]))<a&&(a=i,r=t[o])}return a<=this.threshold&&null!==r&&r},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var n=0,i=0,a=0,r=0;n+i<e.length&&n+a<t.length;){if(e.charAt(n+i)==t.charAt(n+a))r++;else{i=0,a=0;for(var o=0;o<5;o++){if(n+o<e.length&&e.charAt(n+o)==t.charAt(n)){i=o;break}if(n+o<t.length&&e.charAt(n)==t.charAt(n+o)){a=o;break}}}n++}return(e.length+t.length)/2-r},splitEmail:function(e){var t=e.split("@");if(t.length<2)return!1;for(var n=0;n<t.length;n++)if(""===t[n])return!1;var i=t.pop(),a=i.split("."),r="";if(0==a.length)return!1;if(1==a.length)r=a[0];else{for(n=1;n<a.length;n++)r+=a[n]+".";a.length>=2&&(r=r.substring(0,r.length-1))}return{topLevelDomain:r,domain:i,address:t.join("@")}}}};void 0!==e&&e.exports&&(e.exports=i.mailcheck),"undefined"!=typeof window&&t&&(n.fn.mailcheck=function(e){var t=this;if(e.suggested){var n=e.suggested;e.suggested=function(e){n(t,e)}}if(e.empty){var a=e.empty;e.empty=function(){a.call(null,t)}}e.email=this.val(),i.mailcheck.run(e)})}).call(this,n(1),n(1))},377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindEmailField=t.isValidEmail=t.MAILCHECK_DOMAINS=void 0;var i,a=n(1),r=(i=a)&&i.__esModule?i:{default:i};n(362),n(376);var o=t.MAILCHECK_DOMAINS=["gmail.com","hotmail.com","yahoo.com","hotmail.co.uk","googlemail.com","gmx.de","live.com","live.ca","web.de","aol.com","msn.com","comcast.net","me.com","gmx.net","hotmail.fr","mail.ru","yahoo.co.uk","live.co.uk","yandex.ru","mac.com","yahoo.de","yahoo.fr"],s=t.isValidEmail=function(e){return""!=e&&/.+@.+\..+/.test(e)};t.bindEmailField=function(e,t){if(window.humble&&"en"===window.humble.locale){e.typeWatch({callback:function(){!function e(t,n){var i=!1;return t.mailcheck({domains:o,suggested:function(a,o){var s=o.full,l=o.address+"@<strong>"+o.domain+"</strong>";n(t,'Did you mean <a href="#" class="suggested-email" data-email="'+s+'">'+l+"</a>?").find(".suggested-email").click(function(i){i.preventDefault(),a.val((0,r.default)(i.currentTarget).data("email")),e(t,n)}),i=!0},empty:function(e){var a=e.val();(i=s(a))?n(t,!1):n(t,"Email address is not valid",!0)}}),i}(e,t)},captureLength:-1,highlight:!1,wait:500})}}},4:function(e,t){e.exports=Decimal},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PROCESSOR_CONSTANTS={ALIPAY:"alipay",YOOMONEY:"yandex",GOOGLEWALLET:"wallet",ALIPAY_PAYMENT_INTENT:"alipay_payment_intent",AMAZONHP:"amazonhp",SIMULATOR:"simulator",PAYPAL:"paypal",STRIPE_PAYMENT_INTENT:"stripe_payment_intent",STRIPE_CHECKOUT:"stripe_checkout",FREE:"free",KLARNA:"klarna",KLARNA_MINIMUM_PURCHASE_AMOUNT:29.99,IDEAL:"ideal",SOFORT:"sofort",STRIPE:"stripe",COINBASE:"coinbase",HUMBLEWALLET:"humblewallet",STORED_CREDENTIAL:"stored_credential"}},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashObject=t.browserCanUsePositionSticky=t.toTitleCase=t.applyInfieldLabels=t.queryToHash=t.warnBeforeClosing=t.forceRedraw=t.preventPageReload=t.preloadBackgroundImageWithDefault=t.replaceAllInString=t.logoutUser=t.setGotoAndRedirect=t.redirectInDomain=t.isRetinaDisplay=t.randomString=t.serializeToJson=t.isDebugUnsafe=t.isDefaultVersion=t.selectText=t.initJQueryPlugin=t.getQueryParam=t.updateQueryString=t.makeQueryString=t.isHumbleUrl=t.getHostName=t.isIE11=t.parseUrl=t.saveAs=t.loadFromLocalStorage=t.getTopMostUrl=t.getEnclosingIframe=t.renderTimeRemainingUntil=t.zeroPad=t.allCombination=t.kCombination=t.humanFileSize=t.getSessionStorage=t.getLocalStorage=t.asyncJs=t.isValidUrl=t.isValidEmail=t.twitterLinkify=t.stripJsonPrefix=t.listToEnglishStr=t.clamp=t.roundDecimalToMoneyAmount=t.unformatMoney=t.formatMoney=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=f(n(1)),o=f(n(0)),s=f(n(23)),l=n(10),u=f(n(4));n(24);var c=n(9),d=n(8);function f(e){return e&&e.__esModule?e:{default:e}}t.formatMoney=function(e,t,n,i,a){var r={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"}},c=!0,d=!1,f=void 0;try{for(var h,p=l.CURRENCY_CONSTANTS.SUPPORTED_CURRENCIES[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var m=h.value,y=o.default.extend({},r);y.currency={symbol:l.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[m]},["EUR","RUB","TRY"].includes(m)&&(y=o.default.extend({},y,{delimiters:{thousands:"",decimal:","}})),s.default.language(m,y)}}catch(e){d=!0,f=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw f}}if(Array.isArray(e))throw"formatMoney: `amount` argument cannot be an array";"RUB"===t&&void 0===n&&(n=!0);var g="",v=a?"$0,0[.]00":"$0,0.00";return v=n?"$0,0":v,"USD"===t?(s.default.language("en"),i&&(g=" USD")):l.CURRENCY_CONSTANTS.SUPPORTED_CURRENCIES.includes(t)?s.default.language(t):s.default.language("en"),e instanceof u.default&&(e=e.toFixed(2,u.default.ROUND_HALF_UP)),isNaN(e)&&(e=0),""+(0,s.default)(e).format(v)+g},t.unformatMoney=function(e){(e=e.replace(/[^0-9.,]/gi,"")).match(/[0-9.,]*[,.][0-9]{2}/)&&(e=e.lastIndexOf(".")>e.lastIndexOf(",")?e.replace(",",""):(e=e.replace(".","")).replace(",","."));return e.match(/^[0-9]*([,.][0-9]{0,2})?$/)?e:0},t.roundDecimalToMoneyAmount=function(e){return e.toFixed(2,u.default.ROUND_HALF_UP)},t.clamp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return void 0!=t&&e<t?t:void 0!=n&&e>n?n:e},t.listToEnglishStr=function(e,t){var n=e.slice();return t=t?t+" ":"",n.length<=2?n.join(" "+t):(n[n.length-1]=""+t+n[n.length-1],n.join(", "))},t.stripJsonPrefix=function(e){return e.substr("while(1);".length)},t.twitterLinkify=function(e){var t=e.text();if(t.match(/@\S/)){e.html("");var n=t.split(" ");n.forEach(function(t,i){if(0===t.indexOf("@")&&t.length>1&&-1===t.indexOf("@",1)){var a=(0,r.default)("<a>");a.text(t),a.attr("href","https://www.twitter.com/"+t),a.attr("target","_blank"),a.appendTo(e),i!==n.length-1&&e.append(document.createTextNode(" "))}else{var o=t;i!==n.length-1&&(o+=" "),e.append(document.createTextNode(o))}})}},t.isValidEmail=function(e){if(!e||""===e)return!1;if(e.length>=500)return!1;var t=e.lastIndexOf("@");if(-1===t)return!1;var n=e.substring(0,t).toLowerCase(),i=e.substring(t+1).toLowerCase();return!!n.match(/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*$/)&&!!i.match(/^(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/)},t.isValidUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},t.asyncJs=function(e,t){var n=function(){var n=r.default.ajax({dataType:"script",cache:!0,url:e});t&&n.done(t)};"complete"===document.readyState?n():(0,r.default)(window).load(n)};var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._type=t;var n="session"===t?window.name:this._readCookie("localStorage");this._data=n?JSON.parse(n):{},this.length=o.default.size(this._data)}return a(e,[{key:"clear",value:function(){this._data={},this.length=0,"session"===this._type?window.name="":this._createCookie("localStorage","",180)}},{key:"getItem",value:function(e){return void 0===this._data[e]?null:this._data[e]}},{key:"key",value:function(e){var t=0;for(var n in this._data){if(t===e)return n;t++}return null}},{key:"removeItem",value:function(e){delete this._data[e],this.length--,this._setData(this._data)}},{key:"setItem",value:function(e,t){this._data[e]=""+t,this.length++,this._setData(this._data)}},{key:"_createCookie",value:function(e,t,n){var i=void 0,a=void 0;n?((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),a="; expires="+i.toGMTString()):a="",document.cookie=e+"="+(t+a)+"; path=/"}},{key:"_readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=void 0,a=0;a<n.length;a++){for(i=n[a];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}},{key:"_setData",value:function(e){e=JSON.stringify(e),"session"===this._type?window.name=e:this._createCookie("localStorage",e,180)}}]),e}(),p=function(){return new h("local")},m=function(){return new h("session")},y=t.getLocalStorage=function e(){if(void 0===e.storage){var t=void 0;try{t=void 0!==window.localStorage&&null!==window.localStorage&&function(e){if(void 0===e)return!1;try{return e.setItem("storage",""),e.getItem("storage"),e.removeItem("storage"),!0}catch(e){return!1}}(window.localStorage)?window.localStorage:p()}catch(e){t=p()}e.storage=t}return e.storage},g=(t.getSessionStorage=function e(){if(void 0===e.storage){var t=void 0;try{t=void 0!==window.sessionStorage&&null!==window.sessionStorage&&function(e){if(void 0===e)return!1;try{return e.setItem("storage",""),e.getItem("storage"),e.removeItem("storage"),!0}catch(e){return!1}}(window.sessionStorage)?window.sessionStorage:m()}catch(e){t=m()}e.storage=t}return e.storage},t.humanFileSize=function(e,t){void 0===t&&(t=2);var n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,n)).toFixed(t)+" "+["B","KB","MB","GB","TB"][n]},t.kCombination=function e(t,n){var i=[];if(n>t.length||n<=0)return i;if(n===t.length)i.push(t);else if(1===n)for(var a=0;a<t.length;a++)i.push([t[a]]);else for(var r=0;r<t.length-n+1;r++)for(var o=t.slice(r,r+1),s=e(t.slice(r+1),n-1),l=0;l<s.length;l++)i.push(o.concat(s[l]));return i}),v=(t.allCombination=function(e){for(var t=[],n=1;n<=e.length;n++)for(var i=g(e,n),a=0;a<i.length;a++)t.push(i[a]);return t},t.zeroPad=function(e){return 1==String(e).length?"0"+e:""+e}),w=(t.renderTimeRemainingUntil=function(e){var t=e-(new Date).getTime()/1e3;t<0&&(t=0);var n=Math.floor(t/86400),i=Math.floor(t/3600)%24,a=Math.floor(t/60)%60,r=Math.floor(t)%60,o="";return n>0&&(o+=v(n)+":"),o+=v(i)+":",o+=v(a)+":",o+=v(r)},t.getEnclosingIframe=function(){var e=void 0;try{e=parent.document.getElementsByTagName("iframe")}catch(e){return null}for(var t=0;t<e.length;t++){var n=e[t];if(n.contentWindow===window)return n}},t.getTopMostUrl=function(){var e=window,t=window.document.referrer||window.location.href;try{for(;e!==e.parent;)t=(e=e.parent).document.referrer}catch(e){}return t},t.loadFromLocalStorage=function(e,t){try{return JSON.parse(y()[e])}catch(e){return t}},t.saveAs=function(e,t){var n=(0,r.default)("<a/>",{href:e,download:t});n.appendTo((0,r.default)("body")),n[0].click(),n.remove()},t.parseUrl=function(e){for(var t=[],n=[],i=[],a=t,r=0;r<e.length;r++){var o=e[r];"?"===o?a=i:"#"===o?a=n:a.push(o)}return i=i.join(""),{baseUrl:t.join(""),hash:n.join(""),queryString:i,queryParams:function(e){if(!(e=e||"").trim())return{};var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]||null}),t}(i)}}),b=t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},_=t.getHostName=function(e){var t=(0,d.getWindow)();if(b()){var n=document.createElement("a");return n.href=e,n.hostname}return new t.URL(e,location).hostname},S=(t.isHumbleUrl=function(e){var t=_(e);return"localhost"===t||o.default.endsWith(t,"-dot-hr-humblebundle.appspot.com")||o.default.endsWith(t,".humblebundle.com")},t.makeQueryString=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.param(e,t)}),C=(t.updateQueryString=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=w(t);o.default.forEach(e,function(e,t){null==e&&n?delete i.queryParams[t]:i.queryParams[t]=e});var a=S(i.queryParams),r=i.baseUrl+"?"+a;return i.hash&&(r+="#"+i.hash),r},t.getQueryParam=function(e,t){t=t||(0,d.getWindow)().location,e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n,i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t.search);return null===i?"":(n=i[1],decodeURIComponent(n.replace(/\+/g," ")))},t.initJQueryPlugin=function(e,t,n,i,a){void 0===n&&(n=[]),void 0===i&&(i=100),a||(a=r.default.noop);var o=function(){var i=(0,r.default)(e);if(i.length){try{i[t].apply(i,n),a()}catch(e){console.error("Error during initialization of "+t+": "+e.stack)}return!0}return!1};if(!o())var s=setInterval(function(){o()&&clearInterval(s)},i)},t.selectText=function(e){var t=void 0;e instanceof r.default&&(e=e[0]);var n=document;if(n.body.createTextRange)(t=n.body.createTextRange()).moveToElementText(e),t.select();else if(window.getSelection){var i=window.getSelection();(t=n.createRange()).selectNodeContents(e),i.removeAllRanges(),i.addRange(t)}},t.isDefaultVersion=function(){return o.default.endsWith(window.location.hostname,".humblebundle.com")},t.isDebugUnsafe=function(){return o.default.includes(["localhost:8080","127.0.0.1:8080","localhost:8888","127.0.0.1:8888"],window.location.host)},t.serializeToJson=function(e){var t={},n=e.serializeArray();for(var i in n){var a=n[i];t[a.name]?(t[a.name].push||(t[a.name]=[t[a.name]]),t[a.name].push(a.value||"")):t[a.name]=a.value||""}return t},t.randomString=function(e){return(Math.random()+1).toString(36).substr(2,e)},t.isRetinaDisplay=function(){return window.devicePixelRatio>1},t.redirectInDomain=function(e){var t=document.createElement("a");t.href=window.location.origin+e;var n=function(e){var t=e.indexOf(":");return-1===t?e:e.substring(0,t)};n(t.host)!==n(window.location.host)||-1!==t.pathname.indexOf("//")?window.location.href="/":window.location.href=t.href});t.setGotoAndRedirect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=(0,d.getWindow)(),a=e,r=t||i.location.pathname,s=encodeURIComponent(r);o.default.includes(e,"?")?a+="&goto="+s:a+="?goto="+s;var l="";(i.location.search&&(l=i.location.search.substring(1),n&&(l+="&")),n&&(l+="reason="+n),l)&&(a+="&qs="+encodeURIComponent(l));C(a)},t.logoutUser=function(){var e=((0,d.getWindow)().models||{user_json:{}}).user_json.logout_url;e||(console.error("No logout URL available"),e="/logout?goto=/");var t=(0,r.default)("<form>",{action:e,method:"POST"});(0,r.default)("<input>").attr({type:"hidden",class:"csrftoken",name:c.csrfFormKey,value:(0,c.getCsrf)()}).appendTo(t),t.appendTo("body").submit()},t.replaceAllInString=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},t.preloadBackgroundImageWithDefault=function(e,t){var n=(0,r.default)(e),i=n.css("background-image");i=(i=/^url\((['"]?)(.*)\1\)$/.exec(i))?i[2]:"";var a=new Image;a.src=i,a.complete||(n.css("background-image",'url("'+t+'")'),a.addEventListener("load",function(){n.css("background-image",'url("'+i+'")')}))},t.preventPageReload=function(e){e.$rootEl.on("click","a[href^='/']:not([data-reload=1])",function(t){var n=(0,r.default)(t.currentTarget).attr("href");if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){t.preventDefault();var i=n.replace(/^\//,"").replace("#!/","");return e.navigate(i,{trigger:!0}),!1}})},t.forceRedraw=function(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},t.warnBeforeClosing=function(e,t){window.addEventListener("beforeunload",function(n){var i=!0;if(t&&(i=t()),i)return n.returnValue=e,e})},t.queryToHash=function(e){if("string"!=typeof e||0===e.length)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("="),i=decodeURIComponent(n[0]);if(0!==i.length){var a=decodeURIComponent(n[1]);Array.isArray(t[i])?t[i].push(a):t[i]?t[i]=[t[i],a]:t[i]=a}}),t},t.applyInfieldLabels=function(e){e.inFieldLabels({fadeOpacity:.6,fadeDuration:250,hideDuration:200})},t.toTitleCase=function(e){if(e){var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return e.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,n,i){return n>0&&n+e.length!==i.length&&e.search(t)>-1&&":"!==i.charAt(n-2)&&("-"!==i.charAt(n+e.length)||"-"===i.charAt(n-1))&&i.charAt(n-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})}},t.browserCanUsePositionSticky=function(){var e=document.createElement("test").style;return e.cssText="position: sticky; position: -webkit-sticky;",-1!==e.position.indexOf("sticky")},t.hashObject=function(e){var t=function e(t,n){if(Array.isArray(t))return"["+t.map(function(t){return e(t,n)}).join(",")+"]";if("object"===(void 0===t?"undefined":i(t))&&null!==t){var a=Object.keys(t).sort(n);return"{"+(a=a.map(function(n){return JSON.stringify(n)+": "+e(t[n])})).join(",")+"}"}return JSON.stringify(t)}(e),n=0;if(!t.length)return n;for(var a=0;a<t.length;a++){n=(n<<5)-n+t.charCodeAt(a),n&=n}return n}},551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetTipView=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(2)),r=s(n(1)),o=n(5);function s(e){return e&&e.__esModule?e:{default:e}}(t.WidgetTipView=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.View),i(t,[{key:"initialize",value:function(e){this.parent=e.parent}},{key:"hideTip",value:function(){this.$(".widget-tip-amount-input").val(""),this.$(".widget-tip-amount-options").hide(),this.$(".widget-add-tip-button").show(),this.$(".widget-total-tip-amount").hide(),this.$(".widget-price").removeClass("widget-disabled-price"),this.parent.updateTotalAmount()}},{key:"showTip",value:function(){this.$(".widget-tip-amount-options").show(),this.$(".widget-total-tip-amount").show(),this.$(".widget-add-tip-button").hide(),this.$(".widget-price").addClass("widget-disabled-price"),this.parent.updateTotalAmount()}},{key:"selectTipInput",value:function(){this.$(".widget-tip-amount").hide(),this.$(".widget-tip-amount-input").show().focus()}},{key:"hideTipInput",value:function(){this.$(".widget-tip-amount").show(),this.$(".widget-tip-amount-input").hide(),this.parent.updateTotalAmount()}},{key:"clickAddTip",value:function(e){e.preventDefault(),this.showTip(),this.selectTipInput()}},{key:"clickClearTip",value:function(e){e.preventDefault(),this.hideTip()}},{key:"clickTipAmount",value:function(e){e.preventDefault(),this.selectTipInput()}},{key:"changeTip",value:function(e){"keypress"==e.type&&13!==e.keyCode||(this.parent.clearErrors((0,r.default)(".widget-tip-amount-options")),e.preventDefault(),this.formatTip(),this.hideTipInput())}},{key:"formatTip",value:function(){var e=this.$(".widget-tip-amount-input").val();if(e){var t=parseFloat((0,o.unformatMoney)(e));this.$(".widget-tip-amount-input").val(t)}}},{key:"getTipAmount",value:function(){var e=this.$(".widget-tip-amount-input").val();return e?parseFloat((0,o.unformatMoney)(e)):0}}]),t}()).prototype.events={"click .widget-add-tip-button":"clickAddTip","click .widget-clear-tip":"clickClearTip","click .widget-tip-amount":"clickTipAmount","keypress .widget-tip-amount-input":"changeTip","change .widget-tip-amount-input":"changeTip","blur .widget-tip-amount-input":"changeTip"}},552:function(e,t){e.exports='<div class="widget-theme-<%- theme %>">\n  <div class="widget<% if (on_sale) { %> widget-on-sale<% } %>">\n  <% if (has_overrides) { %>\n    <div class="widget-override-row">\n      <span class="widget-override-text">Preview Version</span>\n      <a class="widget-override-text" href="<%- standalone_link %>" target="_top">View Options</a>\n      <a class="widget-override-text" href="?admin_remove_all=1">Remove Options</a>\n      <a class="widget-override-close" href="#"><i class="hb hb-close"></i></a>\n    </div>\n  <% } %>\n    <form action="<%- submit_url %>" target="_top" method="post" class="js-widget-form">\n      <div class="widget-header-row">\n        <div class="widget-header">\n          <img class="widget-game-icon" src="<%- image_path %>" alt="<%- human_name %>" />\n          <div class="widget-title-and-developer">\n            <div class="widget-title" title="<%- human_name%>"><%- human_name %></div>\n            <div class="widget-author"><%- developer %></div>\n            <div class="widget-platforms"><%= renderPlatformIcons(platforms) %></div>\n          </div>\n          <div class="widget-price">\n  <% if (has_tiers) { %>\n            <select class="widget-tier-selection" name="amount">\n    <% _.each(tiers, function(tier) { %>\n              <option value="<%- tier.price %>" data-currency="<%- tier.currency %>" data-desc="<%= tier.description %>"\n                  <% if (tier.id == default_tier) { %> selected="selected"<% } %>><%- formatMoney(tier.price, tier.currency, false, showCurrencySuffix) %> - <%- tier.title %>\n              </option>\n    <% }); %>\n            </select>\n  <% } else { %>\n            <input type="hidden" value="<%- form.amount || current_price %>" class="widget-amount" name="amount" />\n    <% if (on_sale) { %>\n            <div class="widget-regular-price">\n              <%- formatMoney(regular_price, currency) %>\n              <div class="widget-sale-price"><%- formatMoney(current_price, currency, false, showCurrencySuffix) %></div>\n            </div>\n      <% if (sale_text) { %>\n            <div class="widget-sale-countdown"><%- sale_text %></div>\n      <% } else if (sale_end) { %>\n            <div class="widget-sale-countdown"><i class="hb hb-clock"></i>\n              <span class="widget-sale-timer" data-sale-end="<%- sale_end %>"></span>\n            </div>\n      <% } %>\n    <% } else if (!pay_what_you_want) { %>\n            <div class="widget-current-price"><%- formatMoney(current_price, currency, false, showCurrencySuffix) %></div>\n    <% } %>\n  <% } %>\n          </div>\n\n\n  <% if (description || has_tiers) { %>\n          <a class="widget-show-description" href="#"> What\'s Included?</a>\n  <% } %>\n        </div>\n  <% if (description || has_tiers) { %>\n        <div class="widget-description">\n          <%= description %>\n        </div>\n  <% } %>\n  <% if (widget_purchase_counter) { %>\n        <div class="widget-counter js-games-sold">\n          <div class="heading-heading">\n            Games sold\n          </div>\n          <div class="mini-digit-holder" data-initial-value="<%- num_sales %>"></div>\n        </div>\n  <% } %>\n      </div>\n      <div class="widget-overlay"></div>\n  <% if (allow_tipping || pay_what_you_want) { %>\n      <div class="widget-tip-row <%- pay_what_you_want ? \'widget-donation-only\' : \'widget-with-tip\' %>">\n    <% if (pay_what_you_want) { %>\n        <span class="widget-tip-description">Pay what you want:</span>\n    <% } else { %>\n        <span class="widget-tip-description">Add an optional tip to show your support:</span>\n    <% } %>\n        <button class="widget-add-tip-button">Add a tip</button>\n        <div class="widget-tip-validation-wrapper">\n          <span class="widget-tip-amount-options">\n    <% if (pay_what_you_want) { %>\n            <div class="widget-tip-amount"><span><%- formatMoney(form.tip, currency) %></span></div>\n    <% } else { %>\n            <div class="widget-tip-amount"><span></span><i class="hb hb-close widget-clear-tip"></i></div>\n    <% } %>\n            <input type="text" name="tip" class="widget-tip-amount-input" value="<%- parseFloat(form.tip) > 0 ? parseFloat(form.tip).toFixed(2) : 0 %>" placeholder="<%- formatMoney(form.tip, currency) %>"/>\n          </span>\n        </div>\n        <div class="widget-validation-message is-hidden"></div>\n    <% if (!pay_what_you_want) { %>\n        <span class="widget-total-tip-amount">\n          <span class="widget-total-tip-label">Total Price:</span>\n          <span class="widget-current-total"></span>\n        </span>\n    <% } %>\n      </div>\n  <% } %>\n\n\n  <% if (asm_demo_enabled) { %>\n    <div class="widget-asm">\n      <div class="pre-load-spacer"></div>\n      <iframe class="asm-iframe" width="100%" frameborder="0" allowfullscreen scrolling="no" src="/play/asmjs/<%- asm_demo_machine_name %>/demo"></iframe>\n    </div>\n  <% } %>\n\n      <div class="widget-email-row">\n        <div class="widget-validation-wrapper<% if (giftable) { %> widget-validation-wrapper-giftable<% } %>">\n          <input class="widget-email" name="email" placeholder="Enter your email address here to check out" value="<%- form.email %>">\n          <div class="widget-validation-message is-hidden"></div>\n        </div>\n  <% if (giftable) { %>\n        <div class="widget-gift">\n          <label><input type="checkbox" name="gift" class="widget-gift-checkbox" <% if (form.gift) { %>checked="checked"<% } %>>\n            <span class="widget-gift-label">This purchase is a gift</span>\n          </label>\n          <i class="hb hb-gift widget-gift-help-hover"></i>\n          <aside class="widget-gift-help">We\'ll send you a unique link to give to anyone you please!</aside>\n        </div>\n  <% } %>\n      </div>\n\n      <div class="widget-payment-processor-row">\n  <% if (allPaymentsDisabled) { %>\n        <%- gtxt(\'We are not accepting new sales in your country at this time.\') %>\n  <% } else { %>\n        <div class="widget-purchase-in-progress">\n          <div class="widget-processing-text"><span class="spinner"></span> Processing...</div>\n        </div>\n    <% if (!payment_enabled) { %>\n        <div class="widget-payment-processors-disabled-message">\n          <i class="hb hb-exclamation-circle"> Payment Processors are disabled during testing.</i>\n        </div>\n    <% } %>\n        <div class="widget-payment-processors-wrapper">\n          <div class="widget-payment-processors">\n    <% if (_.includes(allowed_payment_processors, processorConstants.STRIPE_CHECKOUT)) { %>\n            <button class="widget-stripe-payment-button" type="submit" name="processor" value="stripe" id="hs-stripe">\n              <span class="widget-large-payment-button"><i class="hb hb-stripe"></i> Pay with Card</span>\n              <span class="widget-small-payment-button">Credit Card</span>\n            </button>\n    <% } %>\n    <% if (_.includes(allowed_payment_processors, processorConstants.PAYPAL)) { %>\n            <button class="widget-paypal-payment-button" type="submit" name="processor" value="paypal" id="hs-paypal">\n              <span class="widget-large-payment-button">Check out with <img src="https://cdn.humblebundle.com/static/hashed/482b7908ee21571518d636bbefc08f0340c55d1e.svg" /></span>\n              <span class="widget-small-payment-button"><img src="https://cdn.humblebundle.com/static/hashed/482b7908ee21571518d636bbefc08f0340c55d1e.svg" /></span>\n            </button>\n    <% } %>\n    <% if (_.includes(allowed_payment_processors, processorConstants.AMAZONHP)) { %>\n            <button class="widget-amazon-payment-button" type="submit" id="hs-amazonhp" name="processor" value="amazonhp">\n              <span class="widget-large-payment-button"><i class="hb hb-amazon"></i> Pay with Amazon</span>\n              <span class="widget-small-payment-button"><i class="hb hb-amazon"></i> Amazon</span>\n            </button>\n    <% } %>\n    <% if (_.includes(allowed_payment_processors, processorConstants.SIMULATOR)) { %>\n            <button class="widget-simple-payment-button" type="submit" name="processor" value="simulator" id="hs-simulator">\n              <i class="hb hb-bundle"></i> Simulator\n            </button>\n    <% } %>\n          </div>\n        </div>\n        <a href="#" class="widget-switch-payment-options"><span>More Options</span></a>\n  <% } %>\n      </div>\n      <input type="hidden" value="<%- machine_name %>" name="product" />\n      <input class="widget-currency" type="hidden" name="currency" value="<%- form.currency || currency %>" />\n    </form>\n  </div>\n</div>\n'},553:function(e,t){e.exports='<div class="heading-digit anim3">\n  <div class="top-cutter">\n    <div class="heading-num"><%= topCutterNumber %></div>\n  </div>\n  <div class="bottom-cutter">\n    <div class="heading-num"><%= bottomCutterNumber %></div>\n  </div>\n  <div class="flap"></div>\n</div>\n'},554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedDigitView=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(3)),r=l(n(0)),o=n(210),s=l(n(553));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AnimatedDigitView=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.View),i(t,[{key:"serializeData",value:function(){var e=this.model.get("currentDigit");return{topCutterNumber:e,bottomCutterNumber:e}}},{key:"animate",value:function(){var e=this.model.get("currentDigit"),t=this.model.get("nextDigit");if(t!==e)return e=t,this.model.set("currentDigit",t),(0,o.deferFunctionCalls)([this.animateStepN.bind(this,e,0),this.animateStepOne.bind(this,e),this.animateStepTwo.bind(this,e),this.animateStepN.bind(this,e,3)],50)}},{key:"animateStepOne",value:function(e){this.animateStepN(e,1),this.ui.topNumber.text(e)}},{key:"animateStepTwo",value:function(e){this.animateStepN(e,2),this.ui.bottomNumber.text(e)}},{key:"animateStepN",value:function(e,t){this.ui.headingDigit.attr("class","heading-digit anim"+t)}}]),t}();u.prototype.className="animated-digit",u.prototype.tagName="span",u.prototype.template=r.default.template(s.default),u.prototype.ui={headingDigit:".heading-digit",topNumber:".top-cutter .heading-num",bottomNumber:"bottom-cutter .heading-num"}},555:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedDigitCollectionView=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3),o=(i=r)&&i.__esModule?i:{default:i},s=n(554);var l=t.AnimatedDigitCollectionView=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default.CollectionView),a(n,[{key:"initialize",value:function(e){this.animate=e.animate,this.animationLock=!1,this.itemInQueue=!1,this.listenTo(this.collection,"modelsUpdated",this.animateCounter.bind(this))}},{key:"animateCounter",value:function(){var t=this;if(this.animate){if(this.animationLock)return void(this.itemInQueue=!0);this.itemInQueue=!1,this.animationLock=!0;var n=this.children.map(function(e){return e.animate()});e.when(n).then(function(){t.animationLock=!1,t.itemInQueue&&t.animateCounter()})}else this.collection.each(function(e){e.set("currentDigit",e.get("nextDigit"))}),this.render()}}]),n}();l.prototype.childView=s.AnimatedDigitView,l.prototype.className="mini-digit-holder"}).call(this,n(1))},556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedDigitCollection=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=(i=r)&&i.__esModule?i:{default:i},s=n(210);t.AnimatedDigitCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Collection),a(t,[{key:"updateCounter",value:function(e){var t=this.length,n=(0,s.getDigitsFromNumber)(e,t);this.each(function(e,t){e.set({nextDigit:n[t]})}),this.trigger("modelsUpdated",n)}}]),t}()},557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeAnimatedCounter=void 0;var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(210),s=n(556),l=n(555);t.initializeAnimatedCounter=function(e){(e=r.default.defaults({},e,{displayType:"block",animate:!0,purchaseCount:0})).el&&e.el.closest(".u-lazy-load").fadeIn().css("display",e.displayType);var t=(0,o.getModelData)(e.purchaseCount),n=new s.AnimatedDigitCollection(t),i=new l.AnimatedDigitCollectionView({collection:n,el:e.el,animate:e.animate});return i.render(),{collection:n,view:i}}},558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetView=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=v(n(2)),r=v(n(1)),o=v(n(0)),s=n(557),l=n(14),u=n(44),c=n(220),d=n(12),f=n(377),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),p=n(84),m=n(8),y=v(n(552)),g=n(551);function v(e){return e&&e.__esModule?e:{default:e}}var w=t.WidgetView=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.View),i(t,[{key:"initialize",value:function(e){this.config=e.config,this.formModel=e.formModel,this.tipView=new g.WidgetTipView({parent:this}),this.paymentProcessorWidth=this.calculatePaymentProcessorWidth(),this.paymentProcessorOffset=0,this.standaloneUrl=this.config.get("base_url_secure")+"/widget/v2/standalone/"+this.model.get("machine_name"),this.model.get("unlisted_view_key")&&(this.standaloneUrl+="/"+this.model.get("unlisted_view_key")),this.standaloneUrl+=this.config.get("url_append"),this.showCurrencySuffix="US"!==this.config.get("country_code"),this.isExpanded=!1,(0,r.default)(window).resize(o.default.bind(this.resize,this)),this.listenTo(e.model,"change",this.render)}},{key:"render",value:function(){var e=this.model.toJSON();r.default.extend(e,this.config.toJSON()),e.standalone_link=this.standaloneUrl,e.submit_url=this.config.get("base_url_secure")+"/humbler/submit"+this.config.get("url_append"),e.pay_what_you_want=this.model.get("pay_what_you_want"),e.processorConstants=u.PROCESSOR_CONSTANTS,this.model.get("pay_what_you_want")&&!this.model.get("allow_tipping")&&this.formModel.set("tip",this.model.get("current_price")),e.form=this.formModel.toJSON(),e.formatMoney=h.formatMoney,e.renderPlatformIcons=c.renderPlatformIcons,e.showCurrencySuffix=this.showCurrencySuffix;var t=(0,m.getWindow)().models||{},n=t.user_json||{},i=t.request||{},a=n.selectedCountry||i.country_code;return e.allPaymentsDisabled=o.default.includes(l.COUNTRY_CONSTANTS.PAYMENT_DISABLED_COUNTRIES,a),this.$el.html(o.default.template(y.default)(e)),this.tipView.setElement(this.$(".widget-tip-row")),this.responsiveCss(),this.calculateTitleLength(),this.$(".widget-tier-selection").length&&this.updateSelectedTier(),this.$(".widget-sale-timer").length&&(this.updateSaleTimer(),setInterval(o.default.bind(this.updateSaleTimer,this),1e3)),this.formModel.get("tip")&&this.tipView.showTip(),(0,f.bindEmailField)(this.$(".widget-email"),o.default.bind(this.validateEmails,this)),this.paymentProcessorWidth=this.calculatePaymentProcessorWidth(),this.isExpanded&&this.showDescription(!1),this.model.get("widget_purchase_counter")&&this.initCounter(),this}},{key:"isNarrow",value:function(){return this.$(".widget").width()<300}},{key:"resize",value:function(){this.responsiveCss(),this.paymentProcessorWidth=this.calculatePaymentProcessorWidth(),this.calculateTitleLength(),this.$(".widget-payment-processors").css("left",0),this.paymentProcessorOffset=0,this.isExpanded?this.showDescription(!1):this.hideDescription(!1),this.updateTotalAmount()}},{key:"responsiveCss",value:function(){var e={"widget-width-mini":455,"widget-width-narrow":299,"widget-width-full-medium":620,"widget-width-full-small":540,"widget-payment-large-5":910,"widget-payment-large-4":775,"widget-payment-large-2":620,"widget-payment-small-3":455,"widget-payment-small-2":360},t=this.$el,n=t.width();for(var i in e){var a=e[i];t.removeClass(i),a>650?a<=n&&t.addClass(i):a>=n&&t.addClass(i)}this.isNarrow()?this.$(".widget-email").attr("placeholder","Email Address"):this.$(".widget-email").attr("placeholder","Enter your email address here to check out")}},{key:"closeOverride",value:function(e){e.preventDefault(),this.$(".widget-override-row").hide()}},{key:"calculateTitleLength",value:function(){var e=this.$(".widget-title-and-developer"),t=e.parent().width(),n=0;if(this.isNarrow())e.css("max-width","none");else{e.siblings().each(function(e,t){var i=(0,r.default)(t);"none"===i.css("display")||i.hasClass("widget-show-description")||(n+=i.width())});var i=t-n-30;e.css("max-width",i)}}},{key:"updateSaleTimer",value:function(){var e=this.$(".widget-sale-timer");e.html(h.renderTimeRemainingUntil(e.data("sale-end")))}},{key:"updateSelectedTier",value:function(){var e=this.$(".widget-tier-selection");this.$(".widget-description").html(e.find("option:selected").data("desc")),this.$(".widget-currency").val(e.find("option:selected").data("currency")),this.updateTotalAmount()}},{key:"showDescription",value:function(e){this.isExpanded=!0,e?this.$(".widget-description").removeClass("widget-no-transition"):this.$(".widget-description").addClass("widget-no-transition");var t=this.$el.height()-this.$(".widget-header-row").height()-50;this.$(".widget-description").css("max-height",t),this.$(".widget-header-row").addClass("expanded-description"),this.isIframe()&&(e?this.$(".widget-overlay").fadeIn(200):this.$(".widget-overlay").show())}},{key:"hideDescription",value:function(e){this.isExpanded=!1,e?this.$(".widget-description").removeClass("widget-no-transition"):this.$(".widget-description").addClass("widget-no-transition"),this.$(".widget-description").css("max-height",0),this.$(".widget-header-row").removeClass("expanded-description"),e?this.$(".widget-overlay").fadeOut(200):this.$(".widget-overlay").hide()}},{key:"onToggleDescription",value:function(e){e.preventDefault(),this.$(".widget-header-row").hasClass("expanded-description")?this.hideDescription(!0):this.showDescription(!0)}},{key:"onOverlayClick",value:function(e){e.preventDefault(),this.hideDescription(!0)}},{key:"updateTotalAmount",value:function(){var e=parseFloat(this.$(".widget-tier-selection, .widget-amount").val()),t=this.model.get("currency"),n=this.tipView.getTipAmount()||0,i=n?e+n:e;this.$(".widget-tip-amount span").html(h.formatMoney(n,t)),this.isNarrow()?this.$(".widget-current-price, .widget-sale-price").html(h.formatMoney(i,t)):this.$(".widget-current-price, .widget-sale-price").html(h.formatMoney(e,t,!1,this.showCurrencySuffix)),this.$(".widget-current-total").html(h.formatMoney(i,t))}},{key:"addError",value:function(e,t,n){return e.addClass("widget-input-"+n),e.siblings(".widget-validation-message").html(t).addClass("widget-"+n).removeClass("is-hidden")}},{key:"clearErrors",value:function(e){e.removeClass("widget-input-warning widget-input-error"),e.siblings(".widget-validation-message").removeClass("widget-warning widget-error").addClass("is-hidden")}},{key:"validateEmails",value:function(e,t,n){if(this.clearErrors(e),!1!==t)return n?this.addError(e,t,"error"):this.addError(e,t,"warning")}},{key:"hidePaymentProcessors",value:function(){this.$(".widget-payment-processors").hide(),this.$(".widget-processing-text").show().animate({top:"0px",opacity:"100"})}},{key:"calculatePaymentProcessorWidth",value:function(){var e=this.$(".widget-payment-processors button"),t=parseInt(e.css("width"),10)+parseInt(e.css("margin-right"),10),n=e.length*t;return n<=this.$(".widget-payment-processors-wrapper").width()?this.$(".widget-switch-payment-options").hide():this.$(".widget-switch-payment-options").show(),n}},{key:"showMorePayments",value:function(e){e&&e.preventDefault();var t=this.$(".widget-payment-processors");if(this.paymentProcessorOffset===parseInt(t.css("left"),10)){var n=this.$(".widget-payment-processors-wrapper").width();this.paymentProcessorOffset=parseInt(t.css("left"),10)-n,-this.paymentProcessorOffset>=this.paymentProcessorWidth&&(this.paymentProcessorOffset=0),t.css("left",this.paymentProcessorOffset)}}},{key:"validateForm",value:function(){return this.clearErrors(this.$(".widget-tip-validation-wrapper")),h.isValidEmail(this.$(".widget-email").val())?!this.model.get("pay_what_you_want")||0!=this.tipView.getTipAmount()||(this.addError(this.$(".widget-tip-validation-wrapper"),"Payment must be greater than $0.00","error"),!1):(this.addError(this.$(".widget-email"),"Please enter your email address","error"),!1)}},{key:"isIframe",value:function(){return window.self!==window.top}},{key:"clickPaymentProcessor",value:function(e){if(!this.config.get("payment_enabled"))return this.$(".widget-payment-processors-disabled-message").show(),this.$(".widget-payment-processor-row").addClass("widget-payment-processor-row-disabled"),!1;if(!this.validateForm())return!1;if(this.model.get("pay_what_you_want")&&this.$('input[name="amount"]').prop("value","0"),(0,d.logPageViewEvent)("payment-button-clicked"),"hs-stripe"===(0,r.default)(e.currentTarget).attr("id")){this.hidePaymentProcessors();var t=this.$(".js-widget-form").serializeArray();t.push({name:"processor",value:u.PROCESSOR_CONSTANTS.STRIPE}),t.push({name:"payment_type",value:u.PROCESSOR_CONSTANTS.STRIPE_CHECKOUT}),(0,p.RedirectToStripeCheckout)(t,this.config.get("stripe_pubkey")),e.preventDefault()}else this.hidePaymentProcessors()}},{key:"initCounter",value:function(){(0,s.initializeAnimatedCounter)({el:this.$(".widget-counter .mini-digit-holder"),purchaseCount:this.model.get("num_sales"),displayType:"block"})}}]),t}();w.prototype.className="widget-responsive",w.prototype.events={"change .widget-tier-selection":"updateSelectedTier","click .widget-show-description":"onToggleDescription","click .widget-overlay":"onOverlayClick","click .widget-switch-payment-options":"showMorePayments",'click button[type="submit"]':"clickPaymentProcessor","click .widget-override-close":"closeOverride"}},559:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetForm=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.WidgetForm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Model),a(t,[{key:"defaults",value:function(){return{amount:"",tip:"",email:"",processor:"",gift:""}}}]),t}()},560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.WidgetConfig=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Model),a(t,[{key:"defaults",value:function(){return{base_url_secure:"",url_append:"",debug:!1,has_overrides:!1,country_code:"US",payment_enabled:!1}}}]),t}()},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=(i=r)&&i.__esModule?i:{default:i};t.Widget=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Model),a(t,[{key:"defaults",value:function(){return{allow_tipping:!0,currency:"USD",current_price:"14.99",default_tier:"",description:"My Awesome Description!",developer:"Company!",allowed_payment_processors:[],asm_demo_machine_name:"",asm_demo_enabled:!1,theme:"light",giftable:!1,has_tiers:!1,human_name:"My First Widget",image_path:"https://tinyurl.com/hbicon",machine_name:"my_first_widget",num_sales:0,on_sale:!1,pay_what_you_want:!1,platforms:[],regular_price:"",sale_end:"",tiers:[],unlisted_view_key:"",url_append:"",widget_purchase_counter:!1}}},{key:"asmDemoAvailable",value:function(){return Boolean(this.get("asm_demo_machine_name"))}},{key:"asmDemoEnabled",value:function(){return Boolean(this.asmDemoAvailable()&&this.get("asm_demo_enabled"))}}]),t}()},562:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWidgetView=t.createWidget=t.loadWidget=void 0;var i=n(561),a=n(560),r=n(559),o=n(558);t.loadWidget=function(e,t,n){var s=new i.Widget(e),l=new r.WidgetForm(n);return new o.WidgetView({model:s,config:new a.WidgetConfig(t),formModel:l})},t.createWidget=function(){return new i.Widget},t.createWidgetView=function(e){return new o.WidgetView({model:e,config:new a.WidgetConfig,formModel:new r.WidgetForm})}},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIncludedTax=t.calculateRequiredTax=t.parseMoneyStringToFloat=t.Money=void 0;var i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=(i=r)&&i.__esModule?i:{default:i},s=n(4),l=n(14),u=n(10),c=n(13);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Money=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.amount=void 0!==t?(0,s.Decimal)(t):(0,s.Decimal)(NaN),!this.amount.isFinite()||"string"!=typeof n)throw new Error("Invalid args for Money constructor: amount="+JSON.stringify(t)+", currency="+JSON.stringify(n));if(this.currency=n.toUpperCase(),!o.default.includes(u.CURRENCY_CONSTANTS.SUPPORTED_CURRENCIES,this.currency))throw new Error("Unsupported currency "+this.currency+". Please use any of the following currencies: "+u.CURRENCY_CONSTANTS.SUPPORTED_CURRENCIES)}return a(e,null,[{key:"isMoney",value:function(t){return t instanceof e}},{key:"isScalar",value:function(e){return Number.isFinite(e)||s.Decimal.isDecimal(e)&&e.isFinite()}},{key:"fromObject",value:function(t){if(t instanceof Object&&t.hasOwnProperty("amount")&&t.hasOwnProperty("currency"))return new e(t.amount,t.currency);throw new Error("Invalid args passed into Money.fromObject: "+JSON.stringify(t))}},{key:"fromArray",value:function(t){if(Array.isArray(t)&&2==t.length)return new e(t[0],t[1]);throw new Error("Invalid args passed into Money.fromArray: "+JSON.stringify(t))}}]),a(e,[{key:"toJSON",value:function(){return{amount:this.amount,currency:this.currency}}},{key:"_localize",value:function(e,t,n){var i,a=this,r={style:"currency",currency:this.currency};o.default.includes([c.MoneyFormatConstants.HIDE_ZERO_CENTS,c.MoneyFormatConstants.STYLIZED],n)&&this.amount.isInteger()&&(r.maximumFractionDigits=0,r.minimumFractionDigits=0);var s=Intl.NumberFormat(e,r).format(this.amount.toNumber()),f=function(e,t,n){return e.replace(t,n)},h=(d(i={},u.CURRENCY_CONSTANTS.CURRENCY_CODES.RUBLES,f(s,"RUB",u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[this.currency])),d(i,u.CURRENCY_CONSTANTS.CURRENCY_CODES.PISOS,f(s,"PHP",u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[this.currency])),d(i,u.CURRENCY_CONSTANTS.CURRENCY_CODES.LIRAS,f(s,"TRY",u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[this.currency])),d(i,u.CURRENCY_CONSTANTS.CURRENCY_CODES.AU_DOLLARS,f(s,"A$",u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[this.currency])),d(i,u.CURRENCY_CONSTANTS.CURRENCY_CODES.YUAN,f(s,"CN¥",u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[this.currency])),i);return s=this.currency==u.CURRENCY_CONSTANTS.CURRENCY_CODES.DOLLARS&&"en"==e&&t!=l.COUNTRY_CONSTANTS.US_CC?f(s,"$","US$"):f(s,"US$","$"),n===c.MoneyFormatConstants.STYLIZED?'<span class="stylized-price" role="complementary" aria-label="'+s+'">'+Intl.NumberFormat(e,r).formatToParts(this.amount.toNumber()).map(function(n,i){var r=n.type,s=n.value;switch(r){case"currency":return a.currency==u.CURRENCY_CONSTANTS.CURRENCY_CODES.DOLLARS?"en"==e&&t!=l.COUNTRY_CONSTANTS.US_CC?"US$":u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[u.CURRENCY_CONSTANTS.CURRENCY_CODES.DOLLARS]:o.default.includes(o.default.keys(h),a.currency)?u.CURRENCY_CONSTANTS.CURRENCY_SYMBOLS[a.currency]:s;case"integer":return s;case"decimal":return'<span class="sr-only">'+s+"</span>";case"fraction":return'<span class="cents">'+s+"</span>";default:return""}}).reduce(function(e,t){return e+t})+"</span>":h[this.currency]||s}},{key:"currencyMatches",value:function(e){return this.currency.toLowerCase()===e.currency.toLowerCase()}},{key:"mul",value:function(e){return this.times(e)}},{key:"times",value:function(t){if(!e.isScalar(t))throw new Error("Money objects can only be multiplied by scalars");return new e(this.amount.mul(t),this.currency)}},{key:"div",value:function(e){return this.dividedBy(e)}},{key:"dividedBy",value:function(t){if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("If two Money objects are divided, they must be of the same currency");return this.amount.div(t.amount)}if(e.isScalar(t))return new e(this.amount.div(t),this.currency);throw new Error("Money objects can only be divided with scalars or other Money objects")}},{key:"add",value:function(e){return this.plus(e)}},{key:"plus",value:function(t){var n=void 0;if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("If adding two Money objects, they must be of the same currency");n=this.amount.add(t.amount)}else{if(!e.isScalar(t))throw new Error("Money objects can only be added with scalars or other Money objects");n=this.amount.add(t)}return new e(n,this.currency)}},{key:"sub",value:function(e){return this.minus(e)}},{key:"minus",value:function(t){var n=void 0;if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("If subtracting two Money objects, they must be of the same currency");n=this.amount.sub(t.amount)}else{if(!e.isScalar(t))throw new Error("Money objects can only be subtracted by scalars or other Money objects");n=this.amount.sub(t)}return new e(n,this.currency)}},{key:"toDecimalPlaces",value:function(e,t){return this.toDP(e,t)}},{key:"toDP",value:function(t,n){return t=void 0!==t?t:2,n=void 0!==n?n:s.Decimal.ROUND_HALF_UP,new e(this.amount.toDP(t,n),this.currency)}},{key:"isZero",value:function(){return this.amount.eq((0,s.Decimal)(0))}},{key:"equals",value:function(t){if(e.isMoney(t))return!!this.currencyMatches(t)&&this.amount.equals(t.amount);if(e.isScalar(t))return this.amount.equals(t);throw new Error("Money objects or scalar objects can only be used for comparisons")}},{key:"eq",value:function(e){return this.equals(e)}},{key:"greaterThan",value:function(t){if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("Money objects should have same currency when using comparisons!");return this.amount.greaterThan(t.amount)}if(e.isScalar(t))return this.amount.greaterThan(t);throw new Error("Money objects or scalar objects can only be used for comparisons")}},{key:"gt",value:function(e){return this.greaterThan(e)}},{key:"greaterThanOrEqualTo",value:function(t){if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("Money objects should have same currency when using comparisons!");return this.amount.greaterThanOrEqualTo(t.amount)}if(e.isScalar(t))return this.amount.greaterThanOrEqualTo(t);throw new Error("Money objects or scalar objects can only be used for comparisons")}},{key:"gte",value:function(e){return this.greaterThanOrEqualTo(e)}},{key:"lessThan",value:function(t){if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("Money objects should have same currency when using comparisons!");return this.amount.lessThan(t.amount)}if(e.isScalar(t))return this.amount.lessThan(t);throw new Error("Money objects or scalar objects can only be used for comparisons")}},{key:"lt",value:function(e){return this.lessThan(e)}},{key:"lessThanOrEqualTo",value:function(t){if(e.isMoney(t)){if(!this.currencyMatches(t))throw new Error("Money objects should have same currency when using comparisons!");return this.amount.lessThanOrEqualTo(t.amount)}if(e.isScalar(t))return this.amount.lessThanOrEqualTo(t);throw new Error("Money objects or scalar objects can only be used for comparisons")}},{key:"lte",value:function(e){return this.lessThanOrEqualTo(e)}},{key:"floor",value:function(){return new e(this.amount.floor(),this.currency)}},{key:"ceil",value:function(){return new e(this.amount.ceil(),this.currency)}},{key:"absoluteValue",value:function(){return new e(this.amount.abs(),this.currency)}},{key:"abs",value:function(){return this.absoluteValue()}},{key:"convertToCurrency",value:function(t,n){if(!o.default.includes(o.default.keys(n),t))throw new Error("Money object cannot be converted due to missing exchange rate");if(this.currency==t)return new e(this.amount,this.currency);var i=n[t],a=n[this.currency],r=this.div(a).times(i);return r.currency=t,r}}]),e}(),t.parseMoneyStringToFloat=function(e){var t=/[^\d,.]*(\d+|\d.*?\d)?(?:[,.]+(\d{0,2}))?\D*$/.exec(e);if(!t)return 0;var n=t[1]?t[1].replace(/\D/g,""):"0",i=t[2]?t[2]:"00";return parseFloat(n+"."+i)},t.calculateRequiredTax=function(e,t){return e.mul(t)},t.calculateIncludedTax=function(e,t){return e.minus(e.div(t.plus(1)))}},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getWindow=function(){return window}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRIPE_ELEMENTS_OPTIONS=t.RedirectToStripeCheckout=t.handleStripeAction=t.getStripeLibrary=void 0;var i,a=n(90),r=n(1),o=(i=r)&&i.__esModule?i:{default:i},s=n(5);var l=t.getStripeLibrary=function(e){return(0,a.loadStripe)(e)};t.handleStripeAction=function(e,t,n){e.handleCardAction(t).then(function(e){e.error?n(e.error.message):o.default.ajax({type:"POST",url:"/return/stripe-confirm",data:{payment_intent_id:e.paymentIntent.id},dataType:"json",success:function(e){e.success?(0,s.redirectInDomain)(e.redirect_url):e.redirect_url?(0,s.redirectInDomain)(e.redirect_url):n("Unknown Error")}})})},t.RedirectToStripeCheckout=function(e,t){o.default.ajax({type:"POST",url:"/humbler/submit",data:e,dataType:"json",success:function(e){e.stripe_session_id?l(t).then(function(t){t.redirectToCheckout({sessionId:e.stripe_session_id})}):e.redirect_url&&(0,s.redirectInDomain)(e.redirect_url)}})},t.STRIPE_ELEMENTS_OPTIONS={style:{base:{fontSize:"1em",textTransform:"uppercase",fontWeight:"bold",lineHeight:"1",fontFamily:"'Sofia Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}}}},89:function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a,r="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",l=null,u=function(e){return null!==l?l:l=new Promise(function(t,n){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(s),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),t=0;t<e.length;t++){var n=e[t];if(o.test(n.src))return n}return null}();i&&e?console.warn(s):i||(i=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(r).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n}(e)),i.addEventListener("load",function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){n(new Error("Failed to load Stripe.js"))})}catch(e){return void n(e)}else t(null)})},c=!1,d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];c=!0;var i=Date.now();return u(a).then(function(e){return function(e,t,n){if(null===e)return null;var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.18.0",startTime:t})}(i,n),i}(e,t,i)})};d.setLoadParameters=function(e){if(c)throw new Error("You cannot change load parameters after calling loadStripe");a=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==i(e))throw new Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw new Error(t)}(e)},t.loadStripe=d},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csrfHeaderKey=t.csrfFormKey=t.getCsrf=void 0;var i=n(20);t.getCsrf=function(){var e=document.cookie,t=e.lastIndexOf(i.CSRF_CONSTANTS.CSRF_COOKIE_KEY);t=t+i.CSRF_CONSTANTS.CSRF_COOKIE_KEY.length+1;var n="";if((e=e.slice(t)).length){var a=e.indexOf(";");n=a>-1?e.slice(0,a):e}return n},t.csrfFormKey=i.CSRF_CONSTANTS.CSRF_FORM_KEY,t.csrfHeaderKey=i.CSRF_CONSTANTS.CSRF_HEADER_KEY},90:function(e,t,n){e.exports=n(89)}});
</script>

</body>
</html>
