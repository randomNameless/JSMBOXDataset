<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9636-c344ed34afd1ff08.html</title>
</head>
<body>

<script>
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9636],{59564:function(e,t){t.Vi=["/et7","/el7","/et5","/el8","/el6","/et5-touring","/et5t","/es6","/nad","/subscription","/nio-service"],t.Dq={DE:"de_DE",SE:"sv_SE",NO:"no_NO",DK:"da_DK",NL:"nl_NL",AE:"en_AE"}},92904:function(e,t,n){"use strict";n.d(t,{pk:function(){return f},zz:function(){return C}});var a=n(85893),s=n(67294),o=n(55746),i=n.n(o),c=n(9008),l=n.n(c),r=n(11752),u=n.n(r),d=n(70329),g=n.n(d),m=n(94184),M=n.n(m),j=n(11163),N=n(64605),h=n(19659);const x={AGREED:"1",DISALLOWED:"0",NOT_DEFINED:void 0},I="ncs_analytical",w="ncs_targeting",D="ncs_funtionality",p="_gnid",T=2592e3,y="\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\nvar gaCookies = '; ' + document.cookie;\nvar consentCookieParts = gaCookies.split('; ".concat(I,"=');\nvar gdprConsentCookieValue = consentCookieParts.length === 2 ? consentCookieParts.pop().split(';').shift() : null;\nvar gdprConsent = gdprConsentCookieValue === '").concat(x.AGREED,"';\n"),v=["locale",I,w,D],C=e=>{if(i().getItem(I)===x.AGREED){const t=i().getItem(p);e.uid?i().setItem(p,e.uid,T):!e.uid&&t&&(e.uid=t),window.dataLayer&&window.dataLayer.push(e)}},f={leads:"newsletter_signup",uab:"user_advisory_board"};t.ZP=e=>{let{config:t,gdprText:n={}}=e;const o=(0,j.useRouter)(),{publicRuntimeConfig:c}=u()(),{setGdprStatus:r,gdprStatus:d}=(0,s.useContext)(N.E),m=o.locale.toLowerCase(),[p,f]=(0,s.useState)(!1),[_,L]=(0,s.useState)(!1),[A,E]=(0,s.useState)(!0),b=(null===c||void 0===c?void 0:c.NEXT_PUBLIC_ENV)||"prod";let S=h.Iz[m]&&b?h.Iz[m][b.toLowerCase()]:"";S||(S=h.Iz[m]?h.Iz[m].prod:h.Iz.no_no.prod);let z=b?h.nr[b.toLowerCase()]:"";z||(z=h.nr.prod);const k="\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','".concat(S,"');\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','").concat(z,"');\n  "),O=("\n  if (gdprConsent) {\n    ".concat(k,"\n  }\n  "),"/".concat(o.locale,"/privacy-policy/cookie-setting")),P=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=i().getItem(e),s=(new Date).getTime();const o=()=>{let c=(new Date).getTime();if(c-s>n){s=c;const n=i().getItem(e);a!==n&&t&&t(n),a=n}window.requestAnimationFrame(o)};window.requestAnimationFrame(o)},U=e=>i().getItem(e)===x.AGREED?"granted":"denied",G=()=>{const e={event:"default_consent",analytics_storage:U(I),ad_storage:U(w),ad_user_data:U(w),ad_personalization:U(w),functional_storage:U(D),security_storage:U(D)};C(e),gtag("consent","default",{ad_storage:e.ad_storage,ad_user_data:e.ad_user_data,ad_personalization:e.ad_personalization,analytics_storage:e.analytics_storage})},Y=e=>{const t=x[e?"AGREED":"DISALLOWED"];let n=null;const a=window.location.hostname.split(".");a.length>=2&&(n=a.slice(a.length-2).join(".")),i().setItem(I,t,T,"/".concat(o.locale),n),i().setItem(w,t,T,"/".concat(o.locale),n),i().setItem(D,t,T,"/".concat(o.locale),n),G(),f(!1),L(e),r({analytical:"1"===t,targeting:"1"===t,funtionality:"1"===t})},Q=()=>{i().keys().filter((e=>-1===v.indexOf(e))).forEach((e=>{i().removeItem(e,"/")}))},B=()=>{Y(!1),Q()};return(0,s.useEffect)((()=>{const e=i().getItem(I)||x.NOT_DEFINED;f(e===x.NOT_DEFINED),L(e===x.AGREED),e===x.NOT_DEFINED&&Q();const t={analytical:i().getItem(I)===x.AGREED,targeting:i().getItem(w)===x.AGREED,funtionality:i().getItem(D)===x.AGREED};r(t),P(I,(e=>{f(!1),G(),r({...d,analytical:e===x.AGREED}),e===x.AGREED?L(!0):Q()})),P(w,(e=>{G(),r({...d,targeting:e===x.AGREED})})),P(D,(e=>{G(),r({...d,funtionality:e===x.AGREED})}))}),[]),(0,s.useEffect)((()=>{const e=document.querySelectorAll(".gtm-tracking"),t=e=>{const t=e.currentTarget.dataset,n={event:t.gtmEvent,title:t.gtmTitle};C(n)};return e.forEach((e=>e.addEventListener("click",t))),()=>e.forEach((e=>e.removeEventListener("click",t)))}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:y}}),_&&(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:k}})]}),p&&(0,a.jsxs)("div",{className:g()["gtpr-consent"],children:[n.descriptionTitle&&(0,a.jsx)("div",{className:g()["gdpr-consent-title"],children:n.descriptionTitle}),(0,a.jsxs)("div",{className:g()["gdpr-consent-content"],children:[(0,a.jsxs)("div",{className:g()["gdpr-consent-copy"],children:[(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:n.description}}),n.aboutMore&&(0,a.jsx)("div",{className:g()["gdpr-consent-aboutmore"],dangerouslySetInnerHTML:{__html:n.aboutMore}})]}),(0,a.jsx)("div",{className:g()["gdpr-consent-cta"],children:(0,a.jsxs)("div",{className:g()["consent-behavior"],children:[(0,a.jsx)("span",{className:M()(g().btn,g()["btn-primary"]),onClick:()=>Y(!0),children:n.allow}),n.disallow&&(0,a.jsx)("span",{className:g().btn,onClick:B,children:n.disallow}),n.cookieSetting&&(0,a.jsx)("a",{href:O,className:g().btn,target:"_blank",rel:"noreferrer",onClick:B,children:n.cookieSetting})]})})]})]})]})}},40780:function(e,t,n){"use strict";n.d(t,{Z:function(){return tt}});var a=n(85893),s=n(67294),o=n(20662),i=n.n(o),c=n(94184),l=n.n(c),r=n(42135),u=n.n(r);var d=e=>{let{showSelect:t,setShowSelect:n,regionAndLocale:o,defaultTitle:i,isMobile:c}=e;const[r,d]=(0,s.useState)(1),[g,m]=(0,s.useState)({});return(0,s.useEffect)((()=>{t?document.body.classList.add("fixed-scroll"):document.body.classList.remove("fixed-scroll")}),[t]),(0,a.jsx)("div",{className:l()(u()["select-container"],{[u().show]:t}),children:(0,a.jsxs)("div",{className:u()["select-main"],children:[(0,a.jsx)("span",{className:u()["close-btn"],onClick:e=>{n(!1),d(1)}}),2===r&&(0,a.jsx)("img",{className:u()["back-btn"],src:o.backIcon,onClick:e=>{d(1)}}),(0,a.jsx)("h3",{className:u()["select-title"],children:1===r?i:g.initials}),1===r&&o.regions&&c&&(0,a.jsx)("ul",{className:u().firstLevel,children:o.regions.map(((e,t)=>(0,a.jsxs)("li",{onClick:()=>(e=>{1===e.locales.length?window.location.href=e.locales[0].url:(m(e),d(2))})(e),children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.name}}),e.locales.length>1&&(0,a.jsx)("img",{className:u()["lag-flag"],src:o.showMoreIcon})]},t)))}),2===r&&c&&(0,a.jsx)("ul",{className:u().secondLevel,children:g.locales.map(((e,t)=>(0,a.jsx)("li",{onClick:()=>window.location.href=e.url,children:(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.label}})},t)))}),!c&&(0,a.jsx)("ul",{className:u().desktopLevel,children:o.regions.map(((e,t)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("h5",{dangerouslySetInnerHTML:{__html:e.name}}),(0,a.jsx)("div",{className:u().moreLocales,children:e.locales.map(((e,t)=>(0,a.jsx)("a",{dangerouslySetInnerHTML:{__html:e.label},href:e.url},t)))})]},t)))})]})})};var g=e=>{let{footerConfig:t={},fixedFooter:n=!1,locale:o}=e;var c,r;const[u,g]=(0,s.useState)(!1),m=t.navigationItems||[],M=t.socialItems||[],j=t.regionAndLocale||{},N=(null===(c=t.pageList)||void 0===c?void 0:c.list)||[],h=(null===(r=t.pageList)||void 0===r?void 0:r.icons)||{},[x,I]=(0,s.useState)(!1),w={contact:!1,wechat:!1},[D,p]=(0,s.useState)(w),[T,y]=(0,s.useState)(w),[v,C]=(0,s.useState)(Array(N.length).fill(!1)),f=j.regions.reduce(((e,t)=>[...e,...t.locales]),[]).find((e=>e.locale===o))||[];(0,s.useEffect)((()=>{const e=window.matchMedia("(max-width: 1023px)");e.matches!==u&&g(e.matches);const t=()=>{g(e.matches)};return e.addListener(t),()=>e.removeListener(t)}),[]);const _=(e,t)=>{if(t.showToolTip){if("customer-service"==t.id&&u)return;e.preventDefault(),D[t.id]||T[t.id]||(L(t.id),y({...w,[t.id]:!0})),p({...w,[t.id]:!D[t.id]})}},L=e=>{document.body.addEventListener("click",(function t(n){let a=n.target.id;if(a!=="sm-icon--".concat(e)){p(w),y(w),document.body.removeEventListener("click",t);const e=a.replace("sm-icon--","");e&&Object.keys(w).includes(e)&&_(n,M.find((t=>t.id===e)))}}))};return(0,a.jsxs)("div",{className:i().nioFooterWrapper,children:[(0,a.jsxs)("div",{className:l()([i().container,n?i().fixed:void 0]),children:[N&&N.length>0&&(0,a.jsx)("div",{className:i().topPageList,children:N.map(((e,t)=>(0,a.jsxs)("div",{className:i().cataglory,children:[(0,a.jsxs)("div",{className:i().titleContainer,onClick:()=>{var e;u&&(e=t,C((t=>t.map(((t,n)=>n===e?!t:t)))))},children:[(0,a.jsx)("h5",{dangerouslySetInnerHTML:{__html:e.title}}),(0,a.jsx)("img",{src:v[t]?h.opened:h.closed})]}),(0,a.jsx)("div",{className:l()(i().list,{[i().activeList]:v[t]}),children:e.items.map(((e,t)=>(0,a.jsx)("a",{dangerouslySetInnerHTML:{__html:e.label},href:e.link},t)))})]},t)))}),(0,a.jsxs)("div",{className:i().bottomBar,children:[(0,a.jsxs)("section",{className:i().iconAndLocale,children:[(0,a.jsx)("span",{className:i().sm,children:M.map(((e,t)=>(0,a.jsxs)("div",{className:i().item,children:[(0,a.jsx)("a",{className:l()(i()[e.id],"gtm-tracking"),href:e.link,target:"_blank",rel:"nofollow noindex","data-gtm-title":e.id,"data-gtm-event":"click_social_media_item",title:e.id,id:"sm-icon--".concat(e.id),style:{background:e.icon?"url(".concat(e.icon,") no-repeat center center"):null},onClick:t=>{_(t,e)},children:(0,a.jsx)("img",{src:e.icon})},t),e.showToolTip&&(0,a.jsx)("div",{className:l()(i().tooltip,D[e.id]?i()["tooltip-show"]:"",e.class?i()[e.class]:""),id:"sm-tooltip",dangerouslySetInnerHTML:{__html:e.content}})]},t)))}),(0,a.jsxs)("span",{className:i().lag,onClick:e=>{I(!0)},children:[(0,a.jsx)("img",{src:t.regionAndLocale.globalIcon}),"".concat(f.name,"/").concat(f.label)]})]}),(0,a.jsxs)("div",{className:i().extraLinks,children:[(0,a.jsx)("section",{className:l()(i().links),children:m.map(((e,t)=>(0,a.jsx)("a",{className:i()["bottom-nav-item"],href:e.link,children:e.label},t)))}),(0,a.jsxs)("section",{className:i().about,children:[(0,a.jsxs)("div",{className:i().aboutDetail,children:[(0,a.jsxs)("p",{children:[" NIO \xa9 ",(new Date).getFullYear()]}),t.iconTitle&&(0,a.jsx)("span",{children:t.iconTitle})]}),t.bottomLegal&&(0,a.jsx)("div",{className:i().policy,children:t.bottomLegal.items.map(((e,t)=>(0,a.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text}}),e.icon&&(0,a.jsx)("img",{src:e.icon})]},t)))})]})]})]})]}),(0,a.jsx)(d,{showSelect:x,setShowSelect:I,regionAndLocale:j,defaultTitle:t.localeSelectorTitle,isMobile:u})]})},m=n(9008),M=n.n(m),j=n(11163),N=n(33185);var h=e=>{let{host:t}=e;const n=(0,j.useRouter)(),o=(0,N.l9)("/nio-favicon.ico"),i=(0,N.l9)("/nio-favicon-small.png"),[c,l]=(0,s.useState)(o),r=("/"===n.asPath?"":n.asPath).split("?")[0],u=n.locale===n.defaultLocale?"":"/".concat(n.locale),d="https://".concat(t).concat(u).concat(r),g=n.locales.reduce(((e,a)=>{if("en_EU"===a)return e;let s="/".concat(a);(a===n.defaultLocale&&"no_NO"!==a||"en_US"===a||"zh_CN"===a)&&(s="");const o="zh_CN"===a?"www.nio.cn":t;return e.push({href:"https://".concat(o).concat(s).concat(r),lang:a.substr(0,2)}),e}),[]);return(0,s.useEffect)((()=>l((0,N.Lj)(o,n.locale,n.locales))),[]),(0,a.jsxs)(M(),{children:[(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,a.jsx)("meta",{name:"renderer",content:"webkit"}),(0,a.jsx)("meta",{name:"app-version",content:"v2"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"}),(0,a.jsx)("meta",{name:"robots",content:"all"}),(0,a.jsx)("link",{rel:"icon",href:c}),(0,a.jsx)("link",{rel:"shortcut icon",href:i}),(0,a.jsx)("link",{rel:"canonical",href:d}),g.map((e=>{let{href:t,lang:n}=e;return(0,a.jsx)("link",{rel:"alternate",hrefLang:n,href:t},t)}))]})},x=n(92904),I=n(55746),w=n.n(I),D=n(19659),p=n(11639),T=n.n(p),y=n(11752),v=n.n(y);const C="npp_analytical",f=["locale",C,"npp_targeting","npp_funtionality"];var _=e=>{const{publicRuntimeConfig:t={}}=v()(),n={AGREED:"1",DISALLOWED:"0",UNDEFINED:null},o={dev:"GTM-KJGQ8NC",test:"GTM-KJGQ8NC",stg:"GTM-KJGQ8NC",prod:"GTM-PT7S4B6"},i=(null===t||void 0===t?void 0:t.NEXT_PUBLIC_ENV)||"prod";let c=i&&o[i.toLowerCase()]?o[i.toLowerCase()]:"";c||(c=o.prod);let l=i.toLowerCase()?D.nr[i.toLowerCase()]:"";l||(l=D.nr.prod);const r="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','".concat(c,"');\n  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','").concat(l,"');"),u="(function(){\n  var gaCookies = '; ' + document.cookie;\n  var consentCookieParts = gaCookies.split('; npp_analytical=');\n  var gdprConsent = consentCookieParts.length === 2 ? consentCookieParts.pop().split(';').shift() : null;\n  if (gdprConsent === '1' || gdprConsent === '2') {\n    ".concat(r,"\n    ").concat("(function(h,o,t,j,a,r){\n  h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n  h._hjSettings={hjid:1292265,hjsv:6};\n  a=o.getElementsByTagName('head')[0];\n  r=o.createElement('script');r.async=1;\n  r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n  a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');","\n  }\n})();"),[d,g]=((0,j.useRouter)(),(0,s.useState)(!1)),m=e=>{const t=n[e?"AGREED":"DISALLOWED"];let a=null;const s=window.location.hostname.split(".");s.length>=2&&(a=s.slice(s.length-2).join(".")),w().setItem(C,t,2592e3,"/",a),g(!1)};return(0,s.useEffect)((()=>{const e=w().getItem(C);g(e===n.UNDEFINED)}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M(),{children:(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:u}})}),d&&(0,a.jsxs)("div",{className:T().GDPRConsent,children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.description}}),(0,a.jsxs)("div",{className:T().GDPRConsentCTA,children:[(0,a.jsx)("span",{onClick:()=>m(!0),children:e.allow}),(0,a.jsx)("span",{onClick:()=>{m(!1),w().keys().filter((e=>-1===f.indexOf(e))).forEach((e=>{w().removeItem(e,"/")}))},children:e.disallow})]})]})]})},L=n(2675),A=n(79697),E=n(26659),b=n(16119),S=n(21643),z=n(81843);var k=e=>{let{config:t}=e;const n=()=>{const e=(()=>{const e=(0,L.Z)(window.location.href,"?")[1];let t=[];const n={};return(0,A.Z)(e)||(t=(0,L.Z)(e,"&"),(0,E.Z)(t,(e=>{const t=(0,L.Z)(e,"="),a={[(0,b.Z)(decodeURI(t[0]))]:(0,b.Z)(decodeURI(t[1]))};(0,S.Z)(n,a)}))),n})(),t=["channel","utm_source","utm_medium","utm_campaign","utm_term","utm_content"],n=new Date;n.setTime(n.getTime()+2592e5);const a="expires=".concat(n.toUTCString());return(0,E.Z)(e,((e,n)=>{(0,z.Z)(t,n)&&e&&("channel"==n&&"officialMap"!==e||"channel"!==n)&&(document.cookie="".concat(n,"=").concat(e,"; ").concat(a,"; path=/"))})),!0};return(0,s.useEffect)((()=>{n()}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(M(),{children:[(0,a.jsx)("meta",{name:"baidu-site-verification",content:"u8VmWtO2Wi"}),(0,a.jsx)("meta",{name:"sogou_site_verification",content:"UCO9A5CvfN"}),(0,a.jsx)("meta",{name:"360-site-verification",content:"474ee577d7d079f46557d5cb896abf35"}),(0,a.jsx)("meta",{name:"applicable-device",content:"pc,mobile"}),(0,a.jsx)("meta",{content:"no-transform",httpEquiv:"Cache-Control"}),(0,a.jsx)("meta",{content:"no-siteapp",httpEquiv:"Cache-Control"}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:'\nvar _hmt = _hmt || [];\n(function() {\n  var hm = document.createElement("script");\n  hm.src = "https://hm.baidu.com/hm.js?bf6abb7de5f13b8675eeaf952a60be2f";\n  var s = document.getElementsByTagName("script")[0]; \n  s.parentNode.insertBefore(hm, s);\n})();\n'}}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n(function() { \n  var bp = document.createElement('script');\n  var curProtocol = window.location.protocol.split(':')[0];\n  if (curProtocol === 'https') { \n    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'; \n  } else { \n    bp.src = 'http://push.zhanzhang.baidu.com/push.js'; \n  } \n  var s = document.getElementsByTagName(\"script\")[0]; \n  s.parentNode.insertBefore(bp, s); \n})() \n"}}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\nwindow._agl = window._agl || [];\n(function () {\n    _agl.push(['production', '_f7L2XwGXjyszb4d1e2oxPybgD']);\n    (function () {\n        var agl = document.createElement('script');\n        agl.type = 'text/javascript';\n        agl.async = true;\n        agl.src = 'https://fxgate.baidu.com/angelia/fcagl.js?production=_f7L2XwGXjyszb4d1e2oxPybgD';\n        var s = document.getElementsByTagName('script')[0];\n        s.parentNode.insertBefore(agl, s);\n    })();\n})();\n"}}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n\x3c!-- Hotjar Tracking Code for www.nio.cn --\x3e\n(function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n    h._hjSettings={hjid:3582105,hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n"}})]})})};var O=e=>{let{data:t}=e;return(null===t||void 0===t?void 0:t.active)?(0,a.jsx)(M(),{children:(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n          (function () {\n            var agl = document.createElement('script');\n            agl.type = 'text/javascript';\n            agl.src = 'https://www.nio.cn/cdn-static/www/sensorsdata.min.js';\n            var s = document.getElementsByTagName('script')[0];\n            s.parentNode.insertBefore(agl, s);\n            agl.onload = function() {\n              var sensors = window['sensorsDataAnalytic201505'];\n              sensors.init(".concat(JSON.stringify(t.config),");\n              sensors.quick('autoTrack');\n            }\n        })();")}})}):(0,a.jsx)(a.Fragment,{})},P=n(38854),U=n.n(P),G=n(94791),Y=n.n(G),Q=n(16423),B=n(28149),R=n(61587),Z=n(52310),F=n(56546);const H=s.createContext({messages:[]}),W="nim-dialog-open-status",V="nim-unread-num",K=e=>{let{imId:t,imSig:n,nick:o,consultantImId:i,introduction:c,avatar:l,options:r={translations:{}},children:u,registerRegion:d,locale:g}=e;console.log("imId",t,"imSig",n,"consultantImId",i);const{translations:m}=r,M=(0,B.zt)(B.GG.mobile),[j,N]=(0,s.useState)([]),[h,x]=(0,s.useState)(!1),[I,D]=(0,s.useState)(!1),[p,T]=(0,s.useState)(null),[y,C]=(0,s.useState)(""),[f,_]=(0,s.useState)(!1),[L,A]=(0,s.useState)({}),[E,b]=(0,s.useState)({}),[S,z]=(0,s.useState)(!1),[k,O]=(0,s.useState)(null),{getEnvironmentByKey:P}=(0,Z.Vi)(),[G,K]=(0,s.useState)("intro"),[J,X]=(0,s.useState)(w().getItem(V)?Number(w().getItem(V)):0),q=(0,R.p)(),$=(0,s.useRef)(null),ee=(0,s.useRef)(null),te=(0,s.useRef)(!1),ne=(0,s.useRef)(null),ae=(0,B.zt)(B.GG.mobile);console.log("options",r),(0,s.useEffect)((()=>{ie()}),[]),(0,s.useEffect)((()=>{w().setItem(W,f?"1":"0",null,"/".concat(g)),f&&M?document.querySelector("body").style.overflow="hidden":!f&&M&&(document.querySelector("body").style.overflow="auto")}),[f]),(0,s.useEffect)((()=>{w().setItem(V,J,null,"/".concat(g))}),[J]);const se=e=>{try{var t,n,a;return!!e.cloudCustomData&&("string"===typeof e.cloudCustomData&&(e.cloudCustomData=JSON.parse(e.cloudCustomData)),!!(null===e||void 0===e||null===(t=e.cloudCustomData)||void 0===t||null===(n=t.function)||void 0===n||null===(a=n.delete)||void 0===a?void 0:a.includes("official_web_mp")))}catch(s){return console.error("parse msg error=>",s,"error msg",e),!0}},oe=()=>{const e=$.current;if(!te.current)return e.getMessageList({conversationID:"C2C".concat(i),count:15,nextReqMessageID:ee.current}).then((function(e){console.log("getMessageList",e);const t=e.data.messageList,n=e.data.nextReqMessageID;ee.current=n||null;const a=e.data.isCompleted;te.current=a;const s=[...t.filter((e=>!se(e))),...j];return N(s),s}))},ie=async()=>{A({imId:t,imSig:n,avatar:l,nick:o});const{publicRuntimeConfig:e={NEXT_PUBLIC_ENV:"prod"}}=v()(),a=P("imInstanceConfig"),s=U().create({...a});if(s){s.setLogLevel("prod"===e.NEXT_PUBLIC_ENV?1:0),s.registerPlugin({"tim-upload-plugin":Y()}),s.on(U().EVENT.SDK_READY,(async function(e){x(!1),await(async()=>{await oe(),re()})(),D(!0)})),s.on(U().EVENT.MESSAGE_RECEIVED,(function(e){try{if(N((t=>[...t,...e.data.filter((e=>!se(e)))])),re(),!f){const t=w().getItem(W);t&&"0"!==t||X((t=>t+e.data.length))}}catch(t){console.error("MESSAGE_RECEIVED ERROR =>",t)}})),s.on(U().EVENT.ERROR,(function(e){q.show(e.data.message)})),$.current=s;try{await s.login({userID:t,userSig:n})}catch(i){console.error("im request error",i)}}},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="no_NO"===g?"nb_NO":g;const n={version:"0.1",platform:"official_web_mp","user-agent":window.location.userAgent,trigger_from:{language:t.replace("_","-"),location_region:t.split("_")[1]},function:{delete:[],filter:[]},...e};return d&&(n.trigger_from.register_region=d),JSON.stringify(n)},le=e=>{const t=$.current;return console.log("sending message",e),N([...j,e]),re(),t.sendMessage(e)},re=()=>{console.log("-----\x3e","scrollToBottom"),ne.current?setTimeout((()=>{ne.current.scrollTo(0,ne.current.scrollHeight),console.log("-----\x3e","scrollToBottom success")}),100):console.log("-----\x3e","no scroll element")},ue=()=>{ne.current&&setTimeout((()=>{ne.current.scrollTo(0,0)}),100)};return(0,a.jsx)(H.Provider,{value:{messages:j,loading:h,imIsReady:I,viewType:G,error:p,imInstance:$,showIm:f,setShowIm:_,sendTextMessage:e=>{const t=$.current.createTextMessage({to:i,conversationType:U().TYPES.CONV_C2C,payload:{text:e},cloudCustomData:ce()});return C(""),le(t)},sendImageMessage:(e,t)=>{const n=$.current.createImageMessage({to:i,conversationType:U().TYPES.CONV_C2C,payload:{file:e},onProgress:function(e){b({...E,[n.ID]:e}),t&&t()},cloudCustomData:ce()});return le(n)},myProfile:L,textMessage:y,setTextMessage:C,contentElRef:ne,imageUploadProgresses:E,showImagePreview:S,setShowImagePreview:z,previewImageUrl:k,setPreviewImageUrl:O,historyLoadFinished:te,loadMore:async()=>{await oe(),ue()},getTranslation:(e,t)=>(void 0===t&&(t=e),(0,Q.Z)(m,e,t)),unreadMessagesCnt:J,setUnreadMessagesCnt:X,sendNotificationMessage:()=>{const e=$.current,t=e.createCustomMessage({to:i,conversationType:U().TYPES.CONV_C2C,payload:{data:JSON.stringify({major:{text:"Visit SCR",text_template:"im_visit_scr"},major_type:4,sub_type:1})},cloudCustomData:ce({business_code:"9.2",function:{delete:["nio_cn","nio_mp","titan_cn","titan_mp","scr_cn","vehicle_cn","vehicle_mp","official_web_cn","official_web_mp"],filter:["nio_cn","nio_mp","titan_cn","titan_mp","scr_cn","vehicle_cn","vehicle_mp","official_web_cn","official_web_mp"]}})});return e.sendMessage(t)},scrollToBottom:re,showIntroView:()=>{K("intro")},showChatView:()=>{K("chat")},introduction:c,closeIMPanel:()=>{_(!1);try{ae&&F.ScrollTrigger.normalizeScroll(!0)}catch(e){console.error("not allowed",e.message)}},openIMPanel:()=>{_(!0);try{ae&&F.ScrollTrigger.normalizeScroll(!1)}catch(e){console.error("not allowed",e.message)}}},children:u})};var J="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxM3B4IiB2aWV3Qm94PSIwIDAgMTMgMTMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxnIGlkPSJUZW1wbGF0ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICAgICAgICA8ZyBpZD0iaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NDUuMDAwMDAwLCAtNTEzLjAwMDAwMCkiIHN0cm9rZT0iIzAwQkVCRSI+CiAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0NS4wMDAwMDAsIDUxMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxsaW5lIHgxPSIwLjUiIHkxPSIxMi41IiB4Mj0iMTIuNSIgeTI9IjAuNSIgaWQ9IuebtOe6vyI+PC9saW5lPgogICAgICAgICAgICAgICAgPGxpbmUgeDE9IjAuNSIgeTE9IjEyLjUiIHgyPSIxMi41IiB5Mj0iMC41IiBpZD0i55u057q/IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjUwMDAwMCwgNi41MDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTYuNTAwMDAwLCAtNi41MDAwMDApICI+PC9saW5lPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=";var X=()=>{const[e,t]=(0,s.useState)(!1),n="nioapp"===(0,j.useRouter)().query.container,{showIm:o,openIMPanel:i,closeIMPanel:c,setUnreadMessagesCnt:r,unreadMessagesCnt:u,sendNotificationMessage:d,scrollToBottom:g,imIsReady:m,getTranslation:M}=(0,s.useContext)(H),N=()=>{e||n||window.scrollY>20&&t(!0)},h=()=>{if(!(window.scrollY>20)||e||n)return window.addEventListener("scroll",N),()=>{window.removeEventListener("scroll",N)};t(!0)};return(0,s.useEffect)(h,[]),(0,s.useEffect)(h,[e]),m?(0,a.jsxs)("button",{className:l()("nim-toggle-btn",e?"nim-toggle-btn--available":null,o?"nim-toggle-btn--active":null),onClick:()=>{o?c():(r(0),d(),g(),i())},children:[(0,a.jsx)("img",{src:o?J:M("toggle-icon","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTdweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTcgMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxnIGlkPSJUZW1wbGF0ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Imljb25zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDI0LjAwMDAwMCwgLTUxMS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDI0LjAwMDAwMCwgNTExLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMDAyLDYuNDc3MSBDMS4zMTIsNi40NzcxIDAuNzUsNy4wMzkxIDAuNzUsNy43MjgxIEwwLjc1LDEwLjE4OTEgQzAuNzUsMTAuODgwMSAxLjMxMiwxMS40NDExIDIuMDAyLDExLjQ0MTEgTDIuMjcsMTEuNDQxMSBMMi4yNyw2LjQ3NzEgTDIuMDAyLDYuNDc3MSBaIE0yLjY0NSwxMi4xOTExIEwyLjAwMiwxMi4xOTExIEMwLjg5OCwxMi4xOTExIDAsMTEuMjkzMSAwLDEwLjE4OTEgTDAsNy43MjgxIEMwLDYuNjI1MSAwLjg5OCw1LjcyNzEgMi4wMDIsNS43MjcxIEwyLjI4MSw1LjcyNzEgQzIuMzYyLDQuNDE0MSAyLjg3MiwzLjE0ODEgMy43MjUsMi4xNDgxIEwzLjgwNiwyLjA1MzEgTDMuOTc2LDIuMTk3MSBDNC4xOSwyLjM4MTEgNC4yMjksMi43MDIxIDQuMDYyLDIuOTI5MSBDMy4zOSwzLjg0MTEgMy4wMiw0Ljk2ODEgMy4wMiw2LjEwMjEgTDMuMDIsMTEuODE2MSBDMy4wMiwxMi4wMjMxIDIuODUyLDEyLjE5MTEgMi42NDUsMTIuMTkxMSBMMi42NDUsMTIuMTkxMSBaIiBpZD0iRmlsbC0xIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQuNDc0NywxMS40NDE1IEwxNC43NDI3LDExLjQ0MTUgQzE1LjQzMjcsMTEuNDQxNSAxNS45OTQ3LDEwLjg3OTUgMTUuOTk0NywxMC4xODk1IEwxNS45OTQ3LDcuNzI4NSBDMTUuOTk0Nyw3LjAzODUgMTUuNDMyNyw2LjQ3NzUgMTQuNzQyNyw2LjQ3NzUgTDE0LjQ3NDcsNi40Nzc1IEwxNC40NzQ3LDExLjQ0MTUgWiBNOC4yMzQ3LDE0LjYxNzUgQzcuOTQzNywxNC42MTc1IDcuNzA3NywxNC44NTQ1IDcuNzA3NywxNS4xNDQ1IEM3LjcwNzcsMTUuNDM0NSA3Ljk0MzcsMTUuNjcwNSA4LjIzNDcsMTUuNjcwNSBMMTEuMTYxNywxNS42NzA1IEMxMS40NTI3LDE1LjY3MDUgMTEuNjg4NywxNS40MzQ1IDExLjY4ODcsMTUuMTQ0NSBDMTEuNjg4NywxNC44NTQ1IDExLjQ1MjcsMTQuNjE3NSAxMS4xNjE3LDE0LjYxNzUgTDguMjM0NywxNC42MTc1IFogTTExLjE2MTcsMTYuNDIwNSBMOC4yMzQ3LDE2LjQyMDUgQzcuODg2NywxNi40MjA1IDcuNTYxNywxNi4yODM1IDcuMzE4NywxNi4wMzI1IEM3LjA3NjcsMTUuNzgzNSA2Ljk0ODcsMTUuNDUzNSA2Ljk1NzcsMTUuMTA2NSBDNi45Nzg3LDE0LjQyMzUgNy41NjE3LDEzLjg2NzUgOC4yNTg3LDEzLjg2NzUgTDExLjE2MTcsMTMuODY3NSBDMTEuNzE5NywxMy44Njc1IDEyLjIwMzcsMTQuMjIyNSAxMi4zNzM3LDE0Ljc0NDUgQzEyLjY4NTcsMTQuNjkxNSAxMi45Mzc3LDE0LjU1NTUgMTMuMTQxNywxNC4zMjk1IEMxMy44NzY3LDEzLjUxNzUgMTMuNzI3NywxMS44NzA1IDEzLjcyNTcsMTEuODU0NSBDMTMuNzI0NywxMS44NDA1IDEzLjcyNDcsMTEuODI4NSAxMy43MjQ3LDExLjgxNjUgTDEzLjcyNDcsNi4xNjE1IEMxMy43MjQ3LDMuMjYyNSAxMS40ODM3LDAuODg4NSA4LjYyMTcsMC43NTU1IEM3LjU0NjcsMC43MDU1IDYuNDk3NywwLjk3NDUgNS41ODY3LDEuNTMwNSBDNS41ODY3LDEuNTMwNSA1LjM2MDcsMS42NzE1IDUuMjQyNywxLjc1MDUgTDUuMTM3NywxLjgxODUgTDUuMDY5NywxLjcxNDUgQzQuOTc2NywxLjU3NDUgNC45NDU3LDEuNDA2NSA0Ljk4MjcsMS4yNDM1IEM1LjAxOTcsMS4wNzk1IDUuMTE4NywwLjk0MTUgNS4yNjE3LDAuODU0NSBDNS4zMjA3LDAuODE4NSA1LjM2NjcsMC43OTA1IDUuMzgyNywwLjc4MTUgQzYuMjkxNywwLjI3MDUgNy4zMjY3LDAuMDAwNSA4LjM3MTcsMC4wMDA1IEMxMS42MTU3LDAuMDAwNSAxNC4yNjc3LDIuNTA1NSAxNC40NjI3LDUuNzI3NSBMMTQuNzQyNyw1LjcyNzUgQzE1Ljg0NjcsNS43Mjc1IDE2Ljc0NDcsNi42MjU1IDE2Ljc0NDcsNy43Mjg1IEwxNi43NDQ3LDEwLjE4OTUgQzE2Ljc0NDcsMTEuMjkzNSAxNS44NDY3LDEyLjE5MTUgMTQuNzQyNywxMi4xOTE1IEwxNC40OTA3LDEyLjE5MTUgQzE0LjQ5NDcsMTIuODA3NSAxNC40MDQ3LDE0LjA1MzUgMTMuNjk3NywxNC44MzM1IEMxMy4zNTQ3LDE1LjIxMjUgMTIuOTE0NywxNS40MzY1IDEyLjM4ODcsMTUuNTAwNSBDMTIuMjMxNywxNi4wMzg1IDExLjczMDcsMTYuNDIwNSAxMS4xNjE3LDE2LjQyMDUgTDExLjE2MTcsMTYuNDIwNSBaIiBpZD0iRmlsbC01Ij48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==")}),u>0?(0,a.jsx)("span",{className:"nim-unread-cnt",children:u}):null]}):null};var q=e=>{let{title:t,showBack:n,showClose:s,onBack:o,onClose:i}=e;return(0,a.jsxs)("div",{className:"nim-header__title",children:[n&&(0,a.jsx)("button",{className:"nim-header__btn-back",onClick:o,children:(0,a.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDYgMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01LjczNTYgMEwwLjMzMDI3NiA1LjY1NDVDMC4xNDU1MTIgNS44NDc3OCAwLjE0NTUxMiA2LjE1MjIyIDAuMzMwMjc1IDYuMzQ1NUw1LjczNTYgMTJDNi4wODgxMyAxMS42MzEyIDYuMDg4MTMgMTEuMDMzMyA1LjczNTYgMTAuNjY0NUwxLjI3NjU3IDZMNS43MzU1OSAxLjMzNTUxQzYuMDg4MTMgMC45NjY3MjUgNi4wODgxMyAwLjM2ODc5MyA1LjczNTYgMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="})}),(0,a.jsx)("h2",{children:t}),s&&(0,a.jsx)("button",{className:"nim-header__btn-close",onClick:i,children:(0,a.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMSAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuOTMyMzUgMC4xNTg1NDFDMTAuMTQzMiAwLjM2OTkyOSAxMC4xNDMyIDAuNzExNjI0IDkuOTMyMzUgMC45MjI5NEwxLjAzNzU1IDkuODQxNDZDMC44MjY3OTcgMTAuMDUyOCAwLjQ4NjAxMSAxMC4wNTI4IDAuMjc1MTg1IDkuODQxNDZDMC4wNjQzNTg5IDkuNjMwMDcgMC4wNjQzNTg5IDkuMjg4MzggMC4yNzUxODUgOS4wNzcwNkw5LjE2OTk4IDAuMTU4NTQxQzkuMzgwNzQgLTAuMDUyODQ3IDkuNzIxNTIgLTAuMDUyODQ3IDkuOTMyMzUgMC4xNTg1NDFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMC4yNzUxODUgMC4xNTg1NDFDMC4wNjQzNTg5IDAuMzY5OTI5IDAuMDY0MzU4OSAwLjcxMTYyNCAwLjI3NTE4NSAwLjkyMjk0TDkuMTY5OTggOS44NDE0NkM5LjM4MDc0IDEwLjA1MjggOS43MjE1MiAxMC4wNTI4IDkuOTMyMzUgOS44NDE0NkMxMC4xNDMyIDkuNjMwMDcgMTAuMTQzMiA5LjI4ODM4IDkuOTMyMzUgOS4wNzcwNkwxLjAzNzU1IDAuMTU4NTQxQzAuODI2Nzk3IC0wLjA1Mjg0NyAwLjQ4NjAxMSAtMC4wNTI4NDcgMC4yNzUxODUgMC4xNTg1NDFaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"})})]})},$=n(30381),ee=n.n($);const te=e=>{let{text:t,time:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"nim-msg-pill",children:t}),(0,a.jsx)(ne,{time:n})]})},ne=e=>{let{time:t}=e;return(0,a.jsx)("p",{className:"nim-msg__time",children:ee()(1e3*t).format("YYYY-MM-DD HH:mm")})},ae=0,se=e=>{let{status:t,id:n,imageInfoArray:o,time:i,progress:c}=e;const{imageUploadProgresses:l,setPreviewImageUrl:r,setShowImagePreview:u}=(0,s.useContext)(H),d=o.find((e=>e.type===ae)),g=150/d.width*d.height+"px";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"nim-msg-img",onClick:()=>{const e=o.find((e=>e.type===ae));r(e.url),u(!0)},children:[(0,a.jsx)("img",{src:d.url,style:{height:g}}),l[n]>=0&&l[n]<1?(0,a.jsx)("div",{className:"nim-msg-img__progress",children:(0,a.jsx)("div",{className:"nim-msg-img__progress-inner",style:{width:"".concat(100*l[n],"%")}})}):null]}),(0,a.jsx)(ne,{time:i})]})},oe=e=>{let{time:t}=e;return(0,a.jsx)(te,{text:"Unknown Message Type!",time:t})},ie=e=>{let{id:t,time:n,data:o,status:i}=e;var c;const[l,r]=(0,s.useState)({});return(0,s.useEffect)((()=>{r(JSON.parse(o))}),[]),(0,a.jsx)(te,{time:n,text:null===(c=l.major)||void 0===c?void 0:c.text})},ce=e=>{let{id:t,type:n,message:s,time:o,status:i}=e;switch(n){case U().TYPES.MSG_TEXT:return(0,a.jsx)(te,{...s,time:o,status:i,id:t});case U().TYPES.MSG_IMAGE:return(0,a.jsx)(se,{...s,time:o,status:i,id:t});case U().TYPES.MSG_CUSTOM:return(0,a.jsx)(ie,{...s,time:o,status:i,id:t});default:return(0,a.jsx)(oe,{time:o,status:i,id:t})}};var le=e=>{let{payload:t,ID:n,type:o,time:i,to:c,from:r,nick:u,avatar:d,status:g,index:m,customCloudData:M}=e;const{myProfile:j,messages:N}=(0,s.useContext)(H),h=0===m?null:N[m-1],x=!!h&&h.from===r;return(0,a.jsxs)("div",{className:l()(["nim-msg",(null===j||void 0===j?void 0:j.imId)===r?"nim-msg--side-right":null]),id:n,children:[(0,a.jsx)("div",{className:"nim-msg__avatar",children:x?null:(0,a.jsx)("img",{src:d})}),(0,a.jsxs)("div",{className:"nim-msg__content",children:[x?null:(0,a.jsx)("p",{className:"nim-msg__username",children:u}),(0,a.jsx)(ce,{time:i,message:t,type:o,status:g,id:n})]})]})};var re=()=>{const{showImagePreview:e,setShowImagePreview:t,previewImageUrl:n}=(0,s.useContext)(H);return e?(0,a.jsxs)("div",{className:"nim-img-preview",children:[(0,a.jsx)("button",{className:"nim-img-preview__close-btn",onClick:()=>t(!1),children:(0,a.jsx)("img",{src:J})}),(0,a.jsx)("img",{src:n,className:"nim-img-preview__img"})]}):null};var ue=e=>{let{t:t}=e;const{getTranslation:n}=(0,s.useContext)(H);return(0,a.jsx)(a.Fragment,{children:n(t)})};var de=()=>{const{loadMore:e,historyLoadFinished:t}=(0,s.useContext)(H);return(0,a.jsx)("div",{className:"nim-load-more",children:t.current?(0,a.jsx)("span",{children:(0,a.jsx)(ue,{t:"loadFinished"})}):(0,a.jsx)("button",{className:"nim-load-more__btn",onClick:e,children:(0,a.jsx)(ue,{t:"loadMore"})})})},ge=n(51964),me=n.n(ge);const Me=()=>{const{sendTextMessage:e,sendImageMessage:t,textMessage:n,setTextMessage:o}=(0,s.useContext)(H),i=(0,s.useRef)(null),c=()=>{n&&(e(n),i.current.style.height="54px")};return(0,s.useEffect)((()=>{i.current.addEventListener("input",(e=>{i.current.style.height=e.target.scrollHeight+"px"}))}),[]),(0,a.jsxs)("div",{className:"nim-msg-input",children:[(0,a.jsxs)("button",{className:"nim-msg-input__btn nim-msg-input__btn--left",children:[(0,a.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxN3B4IiB2aWV3Qm94PSIwIDAgMTYgMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+QXR0YWNobWVudDwvdGl0bGU+CiAgICA8ZyBpZD0iVGVtcGxhdGUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29ucyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwMy4wMDAwMDAsIC02NjQuMDAwMDAwKSIgZmlsbD0iIzAwMEYxNiIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIxMi44MDI1NTMsNjY3LjA3NTI4MyBMMjA2LjUyMDI3LDY3My44ODY2NTMgQzIwNS45NzcxMDUsNjc0LjQ3NTU2MiAyMDUuNzY0OTc1LDY3NS4zMzM5MTcgMjA1Ljk2Mzc4Nyw2NzYuMTM4MzgyIEMyMDYuMTYyNTk5LDY3Ni45NDI4NDggMjA2Ljc0MjE0OSw2NzcuNTcxMjA3IDIwNy40ODQxMjYsNjc3Ljc4Njc2MyBDMjA4LjIyNjEwMyw2NzguMDAyMzE5IDIwOS4wMTc3ODQsNjc3Ljc3MjMyNCAyMDkuNTYwOTQ4LDY3Ny4xODM0MTQgTDIxNC42MTc1ODMsNjcxLjcwMDkxNSBMMjEzLjY2OTg4Myw2NzAuNjczNCBMMjA4LjYxMzI0OCw2NzYuMTU1ODk5IEMyMDguMjkxNDEyLDY3Ni40ODczOTggMjA3Ljc4NjQ1OCw2NzYuNDg3Mzk4IDIwNy40NjQ2MjIsNjc2LjE1NTg5OSBDMjA3LjE0ODI5LDY3NS44MTE2MTkgMjA3LjE0ODI5LDY3NS4yNTQ4MTYgMjA3LjQ2NDYyMiw2NzQuOTEwNTM3IEwyMTMuNzUwMjUzLDY2OC4xMDI3OTcgQzIxNC4zMjEyMTEsNjY3LjQzMzQ5NSAyMTUuMTg0MTYxLDY2Ny4xNTY1MzkgMjE1Ljk5OTE0Myw2NjcuMzgxMDM3IEMyMTYuODE0MTI0LDY2Ny42MDU1MzQgMjE3LjQ1MDQ5NCw2NjguMjk1NSAyMTcuNjU3NTU0LDY2OS4xNzkxMTggQzIxNy44NjQ2MTMsNjcwLjA2MjczNiAyMTcuNjA5MTcsNjcwLjk5ODM2MyAyMTYuOTkxODU3LDY3MS42MTc0MDYgTDIxMC43MDk1NzUsNjc4LjQyODc3NiBDMjA5LjIzNTU0Niw2ODAuMDI2OTQ2IDIwNi44NDU2NzMsNjgwLjAyNjk0NiAyMDUuMzcxNjQ0LDY3OC40Mjg3NzYgQzIwMy44OTc2MTUsNjc2LjgzMDYwNiAyMDMuODk3NjE1LDY3NC4yMzk0NiAyMDUuMzcxNjQ0LDY3Mi42NDEyOSBMMjEyLjQwNDA1LDY2NS4wMTY2MjIgTDIxMS40NDk2NTIsNjY0IEwyMDQuNDE3MjQ2LDY3MS42MjQ2NjggQzIwMi40OTU0NjEsNjczLjgwNDMwNCAyMDIuNTMyNzA1LDY3Ny4yNDk1NjMgMjA0LjUwMTA4MSw2NzkuMzc5NzYzIEMyMDYuNDY5NDU3LDY4MS41MDk5NjMgMjA5LjY0NzE2Miw2ODEuNTQzOTYxIDIxMS42NTM5MjYsNjc5LjQ1NjI5MSBMMjE3LjkzOTU1OCw2NzIuNjQxMjkgQzIxOS4zNTM0ODEsNjcxLjEwMjYyMiAyMTkuMzUzNDgxLDY2OC42MTM5NTEgMjE3LjkzOTU1OCw2NjcuMDc1MjgzIEMyMTYuNTIwMDIxLDY2NS41Mzk4NjcgMjE0LjIyMjA4OSw2NjUuNTM5ODY3IDIxMi44MDI1NTMsNjY3LjA3NTI4MyBaIiBpZD0iQXR0YWNobWVudCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"}),(0,a.jsx)("input",{className:"nim-msg-input__file-input",type:"file",accept:"image/png,image/jpg,image/jpeg,image/bmp",onInput:e=>{const n=e.target.files[0];if(n.size>5242880)return alert("File Size too big!");t(n),e.target.value=""}})]}),(0,a.jsx)("div",{className:"nim-msg-input__input_el",children:(0,a.jsx)("textarea",{ref:e=>i.current=e,value:n,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),c())},onChange:e=>{let{target:t}=e;o(t.value)},rows:1,cols:30,maxLength:400})}),(0,a.jsx)("button",{className:"nim-msg-input__btn nim-msg-input__btn--right",onClick:c,disabled:!n,children:(0,a.jsx)("img",{src:n?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIxOXB4IiB2aWV3Qm94PSIwIDAgMTkgMTkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwIDE5IDAgMTkgMTkgMCAxOSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlRlbXBsYXRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MjIuMDAwMDAwLCAtNjYyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjIuMDAwMDAwLCA2NjIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS44MTA0ODYzLDE4Ljc5MTU5NTcgQzExLjc0ODEyMTYsMTguNzI5MjI5OCAxMS42OTc3OTIyLDE4LjY1NDgyODMgMTEuNjYxNjg2NCwxOC41NzE2NzM4IEw4LjE1Mjg1NDE1LDEwLjQ3NzIzMTggQzguMDM2ODc3NzksMTAuMjEwMjYxOCA4LjA5NzA1NDIsOS44OTczMzggOC4zMDI3NDgxNCw5LjY5MTYzOTgyIEwxMS45MDEyOTc5LDYuMDk0MTEwMDYgQzEyLjE3OTIwMzYsNS44MTUxMDQ1NiAxMi42Mjg4ODU1LDUuODE1MTA0NTYgMTIuOTA2NzkxMiw2LjA5MzAxNTkyIEMxMy4xODQ2OTY4LDYuMzcwOTI3MjggMTMuMTg0Njk2OCw2LjgyMTcxMjY0IDEyLjkwNjc5MTIsNy4wOTk2MjQgTDkuNjUwNjk5OSwxMC4zNTQ2ODgyIEwxMi4yMzM5MDk0LDE2LjMxNTU1ODcgTDE3LjE1NjM0MDQsMS44NDQ0NzMzMiBMMi42ODQ0NTg5Myw2Ljc2NTkxMTU0IEw1LjI1MDE2MjU3LDcuODc4NjUxMTMgQzUuNjExMjIxMDgsOC4wMzE4MzA2MiA1Ljc3NjQzMjcsOC40NTE5ODAwOCA1LjYxOTk3NDAxLDguODEzMDQ2MDMgQzUuNDY0NjA5NDQsOS4xNzQxMTE5NyA1LjA0NTU2Mjc1LDkuMzM5MzI2OTkgNC42ODQ1MDQyNCw5LjE4Mjg2NTA5IEwwLjQyODM5MDMxNiw3LjMzODE0NjM1IEMwLjE2MTQyNTg0Myw3LjIyMTA3MzQ2IC0wLjAxMTQ0NDU5NCw2Ljk1MDgyMTA3IDAuMDAwNTkwNjg5NTU4LDYuNjU2NDk3NjIgQzAuMDEyNjI1OTczMiw2LjM2MzI2ODMxIDAuMjA0MDk2Mzk0LDYuMTA3MjM5NzMgMC40ODIwMDIwMzQsNi4wMTMxNDM3NiBMMTguMDY1NTUxNCwwLjAzMjU3ODc2MTYgQzE4LjU3ODY5MjEsLTAuMTQyNDgzNTE0IDE5LjE0MzI1NjMsMC40MjA5OTgxODYgMTguOTY3MTAzNSwwLjkzNDE0OTQ4MiBMMTIuOTg2NjYxNywxOC41MTY5NjY4IEMxMi44OTE0NzM1LDE4Ljc5NTk3MjMgMTIuNjM2NTQ0NCwxOC45ODc0NDY3IDEyLjM0MjIyNywxOC45OTk0ODIyIEMxMi4xMzk4MTU0LDE5LjAwNzE0MTIgMTEuOTQ4MzQ1LDE4LjkyOTQ1NzMgMTEuODEwNDg2MywxOC43OTE1OTU3IiBpZD0iRmlsbC0xIiBmaWxsPSIjMDBCRUJFIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIxOXB4IiB2aWV3Qm94PSIwIDAgMTkgMTkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwIDE5IDAgMTkgMTkgMCAxOSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlRlbXBsYXRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDUuMDAwMDAwLCAtNjY0LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDUuMDAwMDAwLCA2NjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS44MTA0ODYzLDE4Ljc5MTU5NTcgQzExLjc0ODEyMTYsMTguNzI5MjI5OCAxMS42OTc3OTIyLDE4LjY1NDgyODMgMTEuNjYxNjg2NCwxOC41NzE2NzM4IEw4LjE1Mjg1NDE1LDEwLjQ3NzIzMTggQzguMDM2ODc3NzksMTAuMjEwMjYxOCA4LjA5NzA1NDIsOS44OTczMzggOC4zMDI3NDgxNCw5LjY5MTYzOTgyIEwxMS45MDEyOTc5LDYuMDk0MTEwMDYgQzEyLjE3OTIwMzYsNS44MTUxMDQ1NiAxMi42Mjg4ODU1LDUuODE1MTA0NTYgMTIuOTA2NzkxMiw2LjA5MzAxNTkyIEMxMy4xODQ2OTY4LDYuMzcwOTI3MjggMTMuMTg0Njk2OCw2LjgyMTcxMjY0IDEyLjkwNjc5MTIsNy4wOTk2MjQgTDkuNjUwNjk5OSwxMC4zNTQ2ODgyIEwxMi4yMzM5MDk0LDE2LjMxNTU1ODcgTDE3LjE1NjM0MDQsMS44NDQ0NzMzMiBMMi42ODQ0NTg5Myw2Ljc2NTkxMTU0IEw1LjI1MDE2MjU3LDcuODc4NjUxMTMgQzUuNjExMjIxMDgsOC4wMzE4MzA2MiA1Ljc3NjQzMjcsOC40NTE5ODAwOCA1LjYxOTk3NDAxLDguODEzMDQ2MDMgQzUuNDY0NjA5NDQsOS4xNzQxMTE5NyA1LjA0NTU2Mjc1LDkuMzM5MzI2OTkgNC42ODQ1MDQyNCw5LjE4Mjg2NTA5IEwwLjQyODM5MDMxNiw3LjMzODE0NjM1IEMwLjE2MTQyNTg0Myw3LjIyMTA3MzQ2IC0wLjAxMTQ0NDU5NCw2Ljk1MDgyMTA3IDAuMDAwNTkwNjg5NTU4LDYuNjU2NDk3NjIgQzAuMDEyNjI1OTczMiw2LjM2MzI2ODMxIDAuMjA0MDk2Mzk0LDYuMTA3MjM5NzMgMC40ODIwMDIwMzQsNi4wMTMxNDM3NiBMMTguMDY1NTUxNCwwLjAzMjU3ODc2MTYgQzE4LjU3ODY5MjEsLTAuMTQyNDgzNTE0IDE5LjE0MzI1NjMsMC40MjA5OTgxODYgMTguOTY3MTAzNSwwLjkzNDE0OTQ4MiBMMTIuOTg2NjYxNywxOC41MTY5NjY4IEMxMi44OTE0NzM1LDE4Ljc5NTk3MjMgMTIuNjM2NTQ0NCwxOC45ODc0NDY3IDEyLjM0MjIyNywxOC45OTk0ODIyIEMxMi4xMzk4MTU0LDE5LjAwNzE0MTIgMTEuOTQ4MzQ1LDE4LjkyOTQ1NzMgMTEuODEwNDg2MywxOC43OTE1OTU3IiBpZD0iRmlsbC0xIiBmaWxsPSIjREFEQ0RFIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"})})]})};var je=()=>{const{messages:e,loading:t,contentElRef:n,closeIMPanel:o,showIntroView:i}=(0,s.useContext)(H);(0,s.useEffect)((()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q,{showClose:!0,onClose:()=>{o()},showBack:!0,onBack:()=>i(),title:(0,a.jsx)(ue,{t:"title"})}),(0,a.jsx)("div",{className:"nim-chat-panel__content",children:(0,a.jsx)(me(),{children:(0,a.jsxs)("div",{className:"nim-chat-panel__scroll-inner",ref:e=>n.current=e,children:[(0,a.jsx)(de,{}),e.map(((e,t)=>(0,s.createElement)(le,{...e,index:t,key:e.ID})))]})})}),(0,a.jsx)(Me,{}),t?(0,a.jsx)("div",{className:"nim-module-loading"}):null,(0,a.jsx)(re,{})]})},Ne=n(44964);var he=e=>{let{}=e;const{showChatView:t,imIsReady:n,closeIMPanel:o,getTranslation:i}=(0,s.useContext)(H),c=(0,j.useRouter)(),l=i("introduction.actions",{}),r=l[Object.keys(l).filter((e=>"default"!==e)).find((e=>c.asPath.startsWith(e)))]||l.default||[];return(0,a.jsxs)("div",{className:"nim-intro nim-chat-panel",children:[(0,a.jsx)(q,{showClose:!0,onClose:()=>{o(!1)},title:i("introduction.headerTitle")}),(0,a.jsxs)("div",{className:"nim-intro__content",children:[(0,a.jsx)("h3",{children:i("introduction.title")}),(0,a.jsx)("p",{children:i("introduction.description")}),(0,a.jsxs)("div",{className:"nim-intro__action",children:[r.map(((e,t)=>{const{text:n,...s}=e;return(0,a.jsx)(Ne.m7,{color:"brand",type:"secondary",block:!0,...s,children:n},t)})),(0,a.jsx)(Ne.m7,{disabled:!n,color:"brand",type:"secondary",block:!0,onClick:()=>{t()},children:i("introduction.chatNow")})]})]})]})};var xe=()=>{const{viewType:e,showIm:t}=(0,s.useContext)(H);return(0,a.jsx)("div",{className:"nim-chat-panel",style:{display:t?"block":"none"},children:"intro"===e?(0,a.jsx)(he,{}):(0,a.jsx)(je,{})})};var Ie=e=>(0,a.jsx)(K,{...e,children:(0,a.jsxs)("div",{className:"nim-container",children:[(0,a.jsx)(X,{}),(0,a.jsx)(xe,{})]})}),we=n(61300);const De="nim-guest-profile-seed";var pe=e=>{let{consultantImId:t,guestInfo:n,translation:o}=e;const[i,c]=(0,s.useState)(null),l=(0,j.useRouter)();return(0,s.useEffect)((()=>{new we.rx("/".concat(l.locale)).getImProfile({seed:w().getItem(De),...n}).then((e=>{if(e.seed)w().setItem(De,e.seed,null,"/"),e.user.isGuest=!0;else{const{region:t}=(0,N.RI)(l.locale);e.user.registerRegion=t,e.user.isGuest=!1}c(e.user)}))}),[]),i?(0,a.jsx)(Ie,{...i,consultantImId:t,options:{translations:o},locale:l.locale}):null},Te=n(30117);const ye=["zh_CN","en_US"],ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"(min-width: 1024px)";const[t,n]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const a=window.matchMedia(e);a.matches!==t&&n(a.matches);const s=()=>{n(a.matches)};return a.addListener(s),()=>a.removeListener(s)}),[t,e]),t},Ce=e=>{const t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?decodeURIComponent(t.pop().split(";").shift()):null},fe=e=>{let{onClick:t=(()=>{})}=e;const[n,o]=(0,s.useState)(!1),i=ve();return(0,a.jsx)("div",{className:"n-hamburger-menu",onClick:()=>{o(!n),t()},children:(0,a.jsx)("div",{className:"n-hamburger-menu-inner",children:(0,a.jsx)("i",{className:!i&&n?"n-header-crossing-icon":"n-hamburger-menu-bars"})})})},_e=e=>{let{user:t,account:n,locale:o,onClick:i=(()=>{})}=e;var c;const l=ve(),[r,u]=(0,s.useState)(),[d,g]=(0,s.useState)((null===n||void 0===n||null===(c=n.logout)||void 0===c?void 0:c.href)||"");(0,s.useEffect)((()=>{u(location.pathname),-1===ye.indexOf(o)?g("/".concat(o,"/sign-in/logout?redirect_to=").concat(window.location.origin,"/").concat(o)):g("/sign-in/logout?redirect_to=".concat(window.location.href))}),[o]);return(0,a.jsxs)(a.Fragment,{children:["zh_CN"===o&&t&&(0,a.jsxs)("div",{className:"n-header-buttons-account-fellow",children:[(0,a.jsx)("div",{className:"n-header-buttons-account-fellow-subtitle",children:n.logout.fellow.subtitle}),t.fellow&&t.fellow.name?(0,a.jsxs)("div",{className:"n-header-buttons-account-fellow-info",children:[(0,a.jsx)("img",{className:"n-header-buttons-account-fellow-info-avatar",src:t.fellow.avatar||n.logout.fellow.avatar,alt:t.fellow.name,loading:"lazy"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"n-header-buttons-account-fellow-info-name",children:[t.fellow.name,(0,a.jsx)("a",{className:"n-header-buttons-account-fellow-info-phone",title:n.logout.fellow.contact,href:"tel:".concat(t.fellow.mobile),children:l?t.fellow.mobile:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:n.logout.fellow.phone,alt:t.fellow.mobile,loading:"lazy"}),n.logout.fellow.contact]})})]}),!l&&(0,a.jsx)("p",{className:"n-header-buttons-account-fellow-description",dangerouslySetInnerHTML:{__html:n.logout.fellow.assigned}})]})]}):(0,a.jsx)("p",{className:"n-header-buttons-account-fellow-description",dangerouslySetInnerHTML:{__html:n.logout.fellow.pending}})]}),(0,a.jsxs)("ul",{children:[n.logout.config.map((e=>(0,a.jsx)("li",{className:"n-header-buttons-account-item",children:(0,a.jsxs)("a",{href:e.href,title:e.text,"data-tracking-params":Te.Vr,name:e.text,className:r===e.href?"n-header-buttons-account-item-current":"",onClick:t=>{i(t),location.href=e.href},children:[(0,a.jsx)("span",{children:e.text}),"notification"===e.type&&(null===t||void 0===t?void 0:t.notification)>0&&(0,a.jsx)("i",{className:"n-header-buttons-account-item-notification",children:t.notification})]})},e.text))),(0,a.jsx)("li",{className:"n-header-buttons-account-item n-header-buttons-account-item-logout",children:(0,a.jsx)("a",{href:d,title:n.logout.text,onClick:()=>{window.localStorage&&(0,N.qQ)("_mp_os_userprofile_v1",JSON.stringify({})),location.href=d},children:(0,a.jsx)("span",{children:n.logout.text})})})]})]})},Le=e=>{let{data:t,locale:n,user:o=null,hideLanguageSelector:i=!1,onLanguageSwitched:c=(()=>{})}=e;var l,r,u,d,g,m,M,j,N;const{language:h,account:x,fellow:I}=t,w=ve(),[D,p]=(0,s.useState)(!1),[T,y]=(0,s.useState)(!1),[v,C]=(0,s.useState)(!1),[f,_]=(0,s.useState)(o),[L,A]=(0,s.useState)(null===x||void 0===x||null===(l=x.signin)||void 0===l?void 0:l.href),E=(0,s.useRef)(null);(0,s.useEffect)((()=>{o?_(o):"zh_CN"===n&&_((()=>{if(Ce("mynioaccount")){try{return JSON.parse(Ce("mynioaccount"))}catch(e){console.log("something is wrong with CN SSO cookie")}return{name:""}}return null})())}),[n,o]),(0,s.useEffect)((()=>{if(-1===ye.indexOf(n)){const e=window.location.pathname;A("/".concat(n,"/sign-in/login?redirect_to=").concat(e))}}),[n]);const b=e=>{e.preventDefault(),e.stopPropagation(),p(!D),c()},S=e=>{e.preventDefault(),e.stopPropagation(),y(!T)},z=()=>{w?C(!v):window.location.href=I.mobile},k=e=>{w&&E.current&&!E.current.contains(e.target)&&C(!1)};return(0,s.useEffect)((()=>(document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)})),[]),(0,a.jsxs)("div",{className:"n-header-buttons-language-and-account-wrapper ".concat(D?"language-selector-actived":""),children:[I&&(0,a.jsxs)("div",{className:"n-header-buttons-fellow",onClick:z,ref:E,children:[(0,a.jsx)("img",{src:w?I.icon:I.mobileIcon,alt:I.label,className:"n-header-buttons-icon"}),w?I.label:I.mobileLabel,w&&(0,a.jsx)("div",{className:"n-header-buttons-fellow-content ".concat(v?"n-header-buttons-fellow-content-active":""),children:(0,a.jsxs)("div",{className:"n-header-buttons-fellow-content-inner",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:I.title},className:"n-header-buttons-fellow-content-title"}),(0,a.jsx)("img",{src:I.qrcode,alt:I.label,className:"n-header-buttons-icon"})]}),(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:I.phone},className:"n-header-buttons-fellow-content-phone"})]})})]}),x&&(f&&Object.keys(f).length?(0,a.jsxs)("div",{className:"n-header-buttons-account",onClick:S,children:[(0,a.jsx)("img",{src:x.icon,alt:f.name,className:"n-header-buttons-icon"}),"zh_CN"===n?null===(r=x.logout)||void 0===r||null===(u=r.fellow)||void 0===u?void 0:u.title:f.name,w&&(0,a.jsxs)("div",{className:"n-header-buttons-more-options-panel",children:[(0,a.jsxs)("div",{className:"n-header-buttons-more-options-panel-title",children:[(0,a.jsx)("img",{src:x.icon,alt:f.name,className:"n-header-buttons-icon"}),"zh_CN"===n?null===(d=x.logout)||void 0===d||null===(g=d.fellow)||void 0===g?void 0:g.title:f.name]}),(0,a.jsx)(_e,{user:f,account:x,locale:n})]})]}):(0,a.jsxs)("a",{"data-tracking-params":Te.Vr,name:"Login",className:"n-header-buttons-account n-header-buttons-account-signin",href:L,title:x.signin.text,children:[(0,a.jsx)("img",{src:x.icon,alt:x.signin.text,className:"n-header-buttons-icon"}),x.signin.text]})),!w&&(0,a.jsxs)("div",{className:"n-header-buttons-more-options-panel",children:[D&&(0,a.jsxs)("div",{className:"n-header-buttons-language-locales",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"n-header-buttons-more-options-panel-title",onClick:b,children:[(0,a.jsx)("img",{src:h.icon,alt:h.text,className:"n-header-buttons-icon"}),h.text]}),(0,a.jsx)("div",{className:"n-header-crossing-icon",onClick:b}),(0,a.jsx)("ul",{children:h.config.map(((e,t)=>(0,a.jsx)("li",{className:"n-header-buttons-language-locale-item ".concat(e.locale),children:(0,a.jsxs)("a",{"data-tracking-params":Te.HL,name:e.locale,href:e.href,title:e.text,className:n===e.locale?"current":"",children:[(0,a.jsx)("img",{src:h.icon,alt:e.text}),e.text,(0,a.jsx)("span",{children:e.language})]})},t)))})]}),T&&(0,a.jsxs)("div",{className:"".concat("zh_CN"===n?"n-header-buttons-account-options-cn":""," ").concat(-1===ye.indexOf("locale")?"n-header-buttons-account-options-cn":""),onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"n-header-buttons-more-options-panel-title",onClick:S,children:[(0,a.jsx)("img",{src:x.icon,alt:null===(m=x.logout)||void 0===m||null===(M=m.fellow)||void 0===M?void 0:M.title,className:"n-header-buttons-icon"}),null===(j=x.logout)||void 0===j||null===(N=j.fellow)||void 0===N?void 0:N.title]}),(0,a.jsx)("div",{className:"n-header-crossing-icon",onClick:S}),(0,a.jsx)(_e,{user:f,account:x,locale:n,onClick:S})]}),v&&(0,a.jsxs)("div",{className:"n-header-buttons-fellow-panel",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"n-header-buttons-more-options-panel-title"}),(0,a.jsx)("div",{className:"n-header-crossing-icon",onClick:z}),(0,a.jsx)("div",{className:"n-header-buttons-fellow-content",children:(0,a.jsxs)("div",{className:"n-header-buttons-fellow-content-inner",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:I.title},className:"n-header-buttons-fellow-content-title"}),(0,a.jsx)("img",{src:I.qrcode,alt:I.label,className:"n-header-buttons-icon"})]}),(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:I.phone},className:"n-header-buttons-fellow-content-phone"})]})})]})]})]})},Ae=e=>{let{data:t,locale:n}=e;const{languageToggler:s,language:o}=t;return(0,a.jsx)("div",{className:"n-header-buttons-language-toggler n-header-buttons-language-and-account-wrapper",children:(0,a.jsxs)("div",{className:"n-header-buttons-language",onClick:()=>{location.href=window.location.href.replace(new RegExp(n,"g"),s)},children:[(0,a.jsx)("img",{src:o.icon,alt:o.text,className:"n-header-buttons-icon"}),o.text]})})},Ee=e=>{let{data:t,onClose:n,active:s}=e;return(0,a.jsxs)("div",{className:"n-header-locale-selector-panel ".concat(s?"n-header-locale-selector-panel-active":""),children:[(0,a.jsx)("i",{className:"n-header-crossing-icon",onClick:n}),(0,a.jsxs)("ul",{className:"n-header-locale-selector-panel-locales",children:[(0,a.jsx)("li",{children:(0,a.jsx)("h3",{children:t.title})}),t.config.map(((e,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:e.href,title:e.text,"data-tracking-params":Te.HL,name:e.locale,className:"n-header-locale-".concat(e.locale),children:[(0,a.jsx)("img",{className:"n-header-locale-selector-panel-locale-flag",alt:e.text,src:e.icon,loading:"lazy"}),(0,a.jsx)("span",{className:"n-header-locale-selector-panel-locale-country",children:e.text}),(0,a.jsx)("span",{className:"n-header-locale-selector-panel-locale-language",children:e.language})]})},t)))]})]})},be=e=>{let{data:t,currentSubItem:n,onMouseEnter:s=(()=>{}),onLinkClicked:o=(()=>{})}=e;return(0,a.jsx)("li",{className:"n-header-menu-sub-item ".concat(n===t.id?"active":"","  ").concat(t.higherLogo?"n-header-menu-sub-item-logo-higher":""," ").concat(t.widerLogo?"n-header-menu-sub-item-logo-wider":""),onMouseEnter:()=>s(t.id),children:(0,a.jsxs)("a",{href:t.href,onClick:o,name:t.text,"data-tracking-params":Te.Vr,children:[(0,a.jsx)("i",{className:"n-header-menu-sub-item-arrow-icon"}),"svg"===t.type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"n-header-menu-sub-item-logo",src:t.src,alt:t.text}),(0,a.jsx)("span",{className:"n-header-menu-sub-item-slogan",children:t.slogan})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"n-header-menu-sub-item-text",children:t.text}),(0,a.jsx)("span",{className:"n-header-menu-sub-item-slogan",children:t.slogan})]})]})})},Se=e=>{let{data:t,currentSubItem:n,className:o="",onMouseEnter:i=(()=>{}),onLinkClicked:c=(()=>{})}=e;const[l,r]=(0,s.useState)("all");return(0,a.jsxs)("div",{className:"n-header-menu-model-wrapper ".concat(o),children:[(0,a.jsx)("ul",{className:"n-header-menu-model-tags",children:Object.keys(t.tags).map((e=>(0,a.jsx)("li",{className:"n-header-menu-model-tag-item ".concat(l===e?"n-header-menu-model-tag-item-current":""),onClick:()=>r(e),children:(0,a.jsx)("span",{children:t.tags[e]})},e)))}),(0,a.jsxs)("ul",{className:"n-header-menu-model-items",children:[t.menu.filter((e=>e.tags.indexOf(l)>-1)).map((e=>(0,a.jsx)(be,{data:e,currentSubItem:n,onMouseEnter:i,onLinkClicked:c},e.text))),(0,a.jsx)("li",{className:"n-header-menu-sub-item n-header-menu-sub-item-delimiter"})]})]})},ze=e=>{let{data:t,currentSubItem:n,activeMenuItem:s,onActiveMenuItemChanged:o,onLinkClicked:i}=e;const c=()=>{"link"===t.type?location.href=t.href:o(s!==t.id?t.id:null)},l=t.menu?t.menu.filter((e=>e.id===n)).length>0:t.id===s;return(0,a.jsxs)("li",{className:"n-header-menu-item ".concat(l?"active":"","   ").concat("link"===t.type?"n-header-menu-item-link":""),children:[(0,a.jsxs)("div",{className:"n-header-menu-item-inner",children:["link"!==t.type&&(0,a.jsx)("i",{className:"n-header-crossing-icon ".concat(s===t.id?"active":""),onClick:c}),"link"===t.type&&(0,a.jsx)("img",{className:"n-header-menu-link-icon",src:t.icon,onClick:c}),(0,a.jsx)("div",{onClick:c,children:t.text})]}),"model"===t.type&&(0,a.jsx)(Se,{className:"n-header-menu-item-sub-items ".concat(s===t.id?"n-header-menu-item-sub-items-active":""),data:t,currentSubItem:n,onLinkClicked:i}),"regular"===t.type&&(0,a.jsxs)("ul",{className:"n-header-menu-item-sub-items ".concat(s===t.id?"n-header-menu-item-sub-items-active":""),children:[t.menu.map((e=>(0,a.jsx)(be,{data:e,currentSubItem:n,onLinkClicked:i},e.text))),(0,a.jsx)("li",{className:"n-header-menu-sub-item n-header-menu-sub-item-delimiter"})]})]})},ke=e=>{const{data:t,onActiveChanged:n,user:o,locale:i}=e,c=t.buttons.appDownload,l=t.buttons.fellow,[r,u]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{u(/iPhone/i.test(window.navigator.userAgent)&&/CriOS/i.test(window.navigator.userAgent))}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(fe,{onClick:n}),(0,a.jsxs)("div",{className:"n-header-menu ".concat(r?"n-header-menu-chrome-iOS":""),children:[(0,a.jsxs)("ul",{className:"n-header-menu-items",children:[t.menu.map((t=>(0,s.createElement)(ze,{...e,data:t,key:t.text}))),c&&(0,a.jsx)("li",{className:"n-header-menu-item n-header-menu-item-app-download",children:(0,a.jsxs)("a",{className:"n-header-menu-item-inner",title:c.text,href:c.href,name:"Download_App","data-tracking-params":Te.Vr,children:[(0,a.jsx)("img",{className:"n-header-menu-app-download-icon",src:c.icon,alt:c.text}),(0,a.jsx)("div",{children:c.text})]})}),l&&(0,a.jsx)("li",{className:"n-header-menu-item n-header-menu-item-app-download",children:(0,a.jsxs)("a",{className:"n-header-menu-item-inner",title:l.text,href:l.href,name:"Download_App","data-tracking-params":Te.Vr,children:[(0,a.jsx)("img",{className:"n-header-menu-app-download-icon",src:l.icon,alt:l.text}),(0,a.jsx)("div",{children:l.label})]})})]}),(0,a.jsx)(Le,{data:t.buttons,locale:i,user:o})]})]})},Oe=e=>{let{data:t,active:n}=e;return(0,a.jsxs)("div",{className:"n-header-menu-desktop-right-panel ".concat(n===t.id?"active":""),children:[(0,a.jsx)("img",{className:"n-header-menu-desktop-right-panel-background",src:t.image,alt:t.title}),"vehicle"===t.type&&(0,a.jsxs)("div",{className:"n-header-menu-desktop-right-panel-content",children:[(0,a.jsx)("img",{className:"n-header-menu-desktop-right-panel-logo",src:t.logo,alt:t.title}),(0,a.jsxs)("div",{className:"n-header-menu-desktop-right-panel-specs-wrapper ".concat(t.specs?"":"n-header-menu-desktop-right-panel-no-specs"),children:[t.specs&&(0,a.jsx)("ul",{children:t.specs.map((e=>{let{spec:t,value:n}=e;return(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("p",{children:n})]},t)}))}),(0,a.jsx)("a",{href:t.button.href,title:t.button.text,children:t.button.text})]})]}),"vehicle"===t.type&&(0,a.jsx)("p",{className:"n-header-menu-desktop-right-panel-disclaimer",dangerouslySetInnerHTML:{__html:t.disclaimer||""}})]})},Pe=e=>{let{data:t,currentSubItem:n,activeMenuItem:s,onActiveChanged:o,onActiveMenuItemChanged:i,onMenuSubitemHovered:c,onLinkClicked:l}=e;const r=t.menu.length,u=t.menu.slice(0,r).map((e=>e.id));return(0,a.jsxs)("div",{className:"n-header-menu-outter",children:[(0,a.jsx)("ul",{className:"n-header-top-menu",children:t.menu.slice(0,r).map((e=>(0,a.jsx)("li",{className:"n-header-top-menu-item ".concat(e.id===s?"active":""," ").concat("link"===e.type?"n-header-top-menu-item-link":""),onClick:()=>(e=>{"link"===e.type?location.href=e.href:(o(!0,!0),i(e.id))})(e),children:e.text},e.text)))}),(0,a.jsx)("i",{className:"n-header-crossing-icon n-header-top-menu-close",onClick:o}),(0,a.jsx)("div",{className:"n-header-menu",children:(0,a.jsxs)("div",{className:"n-header-menu-left-pannel",children:[t.menu.length>=r?(0,a.jsx)("ul",{className:"n-header-menu-items ".concat(-1===u.indexOf(s)?"active":""),children:t.menu.slice(r).map((e=>(0,a.jsx)(ze,{data:e,currentSubItem:n,activeMenuItem:s,onActiveMenuItemChanged:i,onLinkClicked:l},e.text)))}):(0,a.jsx)("ul",{className:"n-header-menu-item ".concat(-1===u.indexOf(s)?"active":""),children:t.menu[r].menu.map((e=>(0,a.jsx)(be,{data:e,currentSubItem:n,onMouseEnter:c,onLinkClicked:l},e.text)))}),t.menu.slice(0,r).map((e=>"model"===e.type?(0,a.jsx)(Se,{data:e,className:s===e.id?"active":"",currentSubItem:n,onMouseEnter:c,onLinkClicked:l},e.id):"link"===e.type?null:(0,a.jsx)("ul",{className:"n-header-menu-item ".concat(s===e.id?"active":""),children:e.menu.map((e=>(0,a.jsx)(be,{data:e,currentSubItem:n,onMouseEnter:c,onLinkClicked:l},e.text)))},e.id)))]})})]})},Ue=e=>ve()?(0,a.jsx)(Pe,{...e}):(0,a.jsx)(ke,{...e});var Ge=e=>{let{data:t,locale:n,user:o=null,pagePath:i=null}=e;var c,l;if(!t||!t.menu||!t.meta)return null;const[r,u]=(0,s.useState)(!1),[d,g]=(0,s.useState)(!1),[m,M]=(0,s.useState)(!1),j=t.meta.translucent,N=t.meta.logoAnimation,[h,x]=(0,s.useState)(!!i&&(j&&j.paths.indexOf(i)>-1)),[I,w]=(0,s.useState)(!0),[D,p]=(0,s.useState)(),[T,y]=(0,s.useState)(),[v,C]=(0,s.useState)(null),f=(0,s.useRef)(null),_=ve(),[L,A]=(0,s.useState)(),[E,b]=(0,s.useState)(!1),S=()=>{let e=location.pathname.replace(ye.indexOf(n)>-1?"/":"/".concat(n,"/"),"");if(e){p(e);const n=t.menu.filter((t=>t.menu&&t.menu.filter((t=>t.id===e)).length>0||t.id===e));n.length>0?y(n[0].id):y("rest")}else y("rest")},z=t.menu.reduce(((e,t)=>(t.menu&&(e=e.concat(t.menu.filter((e=>e.preview)).map((e=>({id:e.id,title:e.title,...e.preview}))))),e)),[]),k=(e,a)=>{var s;const o=location.pathname.replace(ye.indexOf(n)>-1?"/":"/".concat(n,"/"),"");if(!(null===(s=t.vehicleSubMenu)||void 0===s?void 0:s.includes(o))){var i;const t="scroll"===a?"transform .3s linear":"unset",n=(null===(i=f.current.querySelector(".n-header-notification"))||void 0===i?void 0:i.getBoundingClientRect().height)||0;e?(window.scrollY>=window.innerHeight?f.current.style.transform="translateY(-".concat(n,"px)"):f.current.style.transform="translateY(0)",f.current.style.transition="unset"):(window.scrollY>=window.innerHeight?f.current.style.transform="translateY(-".concat(n,"px)"):f.current.style.transform="translateY(0)",f.current.style.transition=t)}},O=()=>{let e=location.pathname.replace(ye.indexOf(n)>-1?"/":"/".concat(n),""),t=location.origin;N&&N.origins.indexOf(t)>-1&&(N.paths.indexOf(e)>-1||N.paths.indexOf("/".concat(e))>-1)?w(window.scrollY<=window.innerHeight):w(!1)},P=()=>{k(r,"scroll"),g(window.scrollY>=t.meta.shrinkedThreshold),O()},U=()=>d&&M(!0),G=()=>M(!1),Y=()=>b(!E),Q=e=>{var n,a,s;return e&&(null===(n=t.buttons)||void 0===n||null===(a=n.promoted)||void 0===a?void 0:a.config)&&(null===(s=t.buttons.promoted)||void 0===s?void 0:s.config[e])?t.buttons.promoted.config[e]:t.buttons.promoted},[B,R]=(0,s.useState)(Q(i));return(0,s.useEffect)((()=>{var e,a,s;let o=location.pathname.replace(ye.indexOf(n)>-1?"/":"/".concat(n),"");if((null===(e=t.notification)||void 0===e?void 0:e.pages["/".concat(o)])||(null===(a=t.notification)||void 0===a||null===(s=a.pages)||void 0===s?void 0:s.ALL_PAGES)){const e=t.notification.content["/".concat(o)]||t.notification.content.ALL_PAGES||t.notification.content.default;C(e)}S(),O();let c=location.origin;!h&&j&&j.origins.indexOf(c)>-1&&j.paths.indexOf(o)>-1&&x(!0),i||R(Q("/".concat(o)))}),[]),(0,s.useEffect)((()=>(k(!1),window.addEventListener("scroll",P),()=>{window.removeEventListener("scroll",P)})),[]),(0,a.jsxs)("div",{className:"n-header-3-1 ".concat(r?"active":""," ").concat(h?"translucent":""," ").concat(d?"shrinked":""," ").concat(m?"opaque":""),onMouseOver:U,onMouseOut:G,ref:f,children:[v&&(0,a.jsxs)("div",{className:"n-header-notification",children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:v}}),(0,a.jsx)("i",{onClick:()=>{C(null)}})]}),(0,a.jsx)("div",{className:"n-header-outer-wrapper",onMouseOver:U,onMouseOut:G,children:(0,a.jsxs)("div",{className:"n-header-inner-wrapper",children:[(0,a.jsx)("a",{"data-tracking-params":Te.Vr,name:"Logo",href:t.meta.localePath,title:t.meta.title,className:"n-header-logo ".concat(I?"n-header-logo-hide":""),children:(0,a.jsx)("img",{src:t.meta.logo,alt:t.meta.title})}),(0,a.jsx)(Ue,{data:t,locale:n,user:o,currentSubItem:D,onActiveChanged:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?t:!r;if(document.documentElement.style.overflow=n?"hidden":"auto",n)document.body.style.top="-".concat(window.scrollY,"px"),document.body.style.position="fixed";else{const e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}u(n),k(n),S()},activeMenuItem:T,onActiveMenuItemChanged:y,onMenuSubitemHovered:A,onLinkClicked:e=>{_&&(e.preventDefault(),u(!1),S(),location.href=e.currentTarget.href)}}),(0,a.jsxs)("div",{className:"n-header-buttons",children:[_&&(0,a.jsx)(Le,{data:t.buttons,locale:n,user:o,hideLanguageSelector:!!(null===(c=t.buttons)||void 0===c?void 0:c.languageToggler),onLanguageSwitched:Y}),(null===(l=t.buttons)||void 0===l?void 0:l.languageToggler)&&(0,a.jsx)(Ae,{data:t.buttons,locale:n}),B&&(0,a.jsx)("a",{"data-tracking-params":Te.Vr,name:"Promotion",href:B.href,title:B.text,className:"n-header-buttons-promoted",children:B.text})]})]})}),_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"n-header-menu-right-pannel",children:z.map((e=>(0,a.jsx)(Oe,{data:e,active:L},e.id)))}),t.buttons.language&&(0,a.jsx)(Ee,{data:t.buttons.language,active:E,onClose:Y})]})]})},Ye=n(64605);var Qe=e=>{const{userInfo:t,unreadNum:n}=(0,s.useContext)(Ye.E),[o,i]=(0,s.useState)(null),{locale:c}=e,l=(0,j.useRouter)();return(0,s.useEffect)((()=>{let e;"zh_CN"===c&&t?e=t:"en_US"!==c&&t&&t.email&&(e={name:t.nickName,notification:n||0}),e&&i(e)}),[c,t,n]),(0,a.jsx)(Ge,{...e,user:o,pagePath:l.pathname})},Be=n(1339),Re=n.n(Be),Ze=n(11502),Fe=n(70963),He=n.n(Fe);var We=e=>{let{data:t}=e;return t?(0,a.jsx)("div",{className:l()(He()["legal-content"],"legal-content","niogrid-container-grid"),children:Array.isArray(t)?t.map(((e,t)=>(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e}},t))):(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:t}})}):(0,a.jsx)(a.Fragment,{})},Ve=n(13159),Ke=n(58680),Je=n(59564);const Xe=e=>{if(e.includes("/en_EU")&&!Je.Vi.find((t=>e.includes(t)))){const{data:t={}}=Ke.nioJsBridge.getAppInfo()||{};let{region:n="DE"}=t;e=e.replace("/en_EU","/".concat(Je.Dq[n]))}return e},qe=e=>{const{target:t}=e;if(!window||!window.dsBridge)return;if(!(null===t||void 0===t?void 0:t.tagName))return;if("A"!==t.tagName.toUpperCase())return;const{origin:n,pathname:a,search:s}=window.location,o="".concat(n).concat(a).concat(s);let i=t.href;if(!i)return;const c=i.replace(o,"");if(/^#/.test(c))return;e.preventDefault(),e.stopPropagation();const l=t.dataset.appAdaptHref;if(l)return Ke.nioJsBridge.openURL(Xe(l));if(!/http(s)?:\/\//.test(i)){const{origin:e}=window.location;i="".concat(e).concat(i)}i.includes("is_nav_show=")||(i.includes("?")?i+="&":i+="?",i+="is_nav_show=true"),Ke.nioJsBridge.openURL(Xe(i))},$e="MobileEmbedCookie",et=["nioapp","cmbchina"];var tt=e=>{var t,n,o,i,c,r,u;const[d,m]=(0,s.useState)(!1),{fullSize:M,showFooter:I=!0,gdprConfig:D={},isModule:p,disableScrollRestoration:T,host:y="www.nio.com",className:v,pageData:C,__environmentVariables:f,paddingFix:L=!1,dockerImageTag:A="UNKNOWN",buildColor:E="UNKNOWN"}=e,[b,S]=(0,s.useState)(!0),z=(0,j.useRouter)(),P=e.footerConfig,U=e.headerConfig;(0,s.useEffect)((()=>{(et.indexOf((0,N.ve)("container"))>-1||w().getItem($e))&&(S(!1),w().setItem($e,$e,2592e3)),window.history.scrollRestoration=T?"manual":"auto",m(!!(0,N.ve)("debugGridLayout"))}),[]),(0,s.useEffect)((()=>(window.addEventListener("click",Ve.jP),window.addEventListener("click",qe),()=>{window&&(window.removeEventListener("click",Ve.jP),window.removeEventListener("click",qe))})),[]),(0,s.useEffect)((()=>{"en_US"===z.locale&&(w().setItem("locale","en_US",2592e3),window.location.search.indexOf("noredirect")>-1&&window.setTimeout((()=>{document.querySelectorAll("a").forEach((e=>{var t,n;(null===e||void 0===e||null===(t=e.href)||void 0===t?void 0:t.trim())&&-1===(null===e||void 0===e||null===(n=e.href)||void 0===n?void 0:n.indexOf("noredirect"))&&(e.href+="".concat(e.href.indexOf("?")>-1?"":"?","&noredirect="))}))}),2e3))}),[]),(0,s.useEffect)((()=>{var e,t;const n=null===(t=null===(e=location.hash)||void 0===e?void 0:e.substring(1))||void 0===t?void 0:t.trim();if(n&&C.meta&&C.meta.anchors&&C.meta.anchors[n]){const e=C.meta.anchors[n];let t=0;var a,s;if(e.startsWith("#")||!e.endsWith("*"))t=null===(a=document.querySelector(e))||void 0===a?void 0:a.offsetTop;else t=null===(s=document.querySelector('[class^="'.concat(e.replace(/[.*]/g,""),'"]')))||void 0===s?void 0:s.offsetTop;window.scrollTo({top:t,behavior:"smooth"})}}),[]);const G=z.locale.replace("_","-"),Y="zh-CN"!==G,Q=["ar-AE"].includes(G)?"rtl":"ltr";return(0,a.jsxs)(Z.He,{pageData:C,environmentVariables:f,children:[(0,a.jsx)(h,{host:y}),(0,a.jsxs)("div",{id:"layout",className:l()(Re().layout,G,Y?"global-site":"",Q,"layout-wrapper",M?Re()["layout-full-size"]:"",(null===U||void 0===U||null===(t=U.meta)||void 0===t||null===(n=t.paddingConfig)||void 0===n?void 0:n.indexOf(z.pathname))>-1||L?Re()["layout-padding-fix"]:"",b?"":Re()["in-app-view"],b?"":"in-app-view",v||""),children:[b&&["no_NO","de_DE","sv_SE","nl_NL","da_DK","ar_AE","en_AE"].includes(z.locale)&&(0,a.jsx)(x.ZP,{config:D,gdprText:null===P||void 0===P?void 0:P.gdprConfig}),b&&(0,a.jsx)(Qe,{data:U,locale:z.locale}),"en_US"===z.locale&&e.footerConfig&&(0,a.jsx)(_,{...null===(o=e.footerConfig)||void 0===o?void 0:o.gdprConfig}),"zh_CN"===z.locale&&(0,a.jsx)(O,{data:U.sensorsdata}),(0,a.jsxs)("div",{className:p?"module-page":"main-site-page",children:[e.children,(0,a.jsx)(We,{data:(null===C||void 0===C||null===(i=C.meta)||void 0===i?void 0:i.disclaimer)||(null===C||void 0===C||null===(c=C.seoMeta)||void 0===c?void 0:c.disclaimer)||(null===C||void 0===C?void 0:C.disclaimers)})]}),I&&b&&(0,a.jsx)(g,{...e,locale:z.locale})]}),(0,a.jsx)(Ze.Z,{}),(null===(r=e.footerConfig)||void 0===r?void 0:r.imConfig)&&(0,a.jsx)(pe,{...null===(u=e.footerConfig)||void 0===u?void 0:u.imConfig}),d&&(0,a.jsx)("div",{className:"niogrid-container-grid container-grid-debug",children:(0,a.jsx)("div",{className:"niogrid-row",children:Array(12).fill(0).map(((e,t)=>(0,a.jsx)("div",{className:"niogrid-col-1"},t)))})}),("zh_CN"===z.locale||"en_US"===z.locale)&&(0,a.jsxs)(a.Fragment,{children:["zh_CN"===z.locale&&(0,a.jsx)(k,{}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\x3c!-- ".concat(E,"~").concat(A," --\x3e")}})]})]})}},52310:function(e,t,n){"use strict";n.d(t,{He:function(){return c},Vi:function(){return l},f0:function(){return u}});var a=n(85893),s=n(67294),o=n(16423);const i=s.createContext({}),c=e=>{let{pageData:t,environmentVariables:n,children:s}=e;return(0,a.jsx)(i.Provider,{value:{getDataByKey:(e,n,a)=>{let s=(0,o.Z)(t,e,void 0!==n?n:e);return a&&Object.keys(a).forEach((e=>{try{s=s.replace(new RegExp("\\{".concat(e,"\\}"),"g"),a[e])}catch(t){console.error("replace error",t.message,s,e,a[e])}})),s},getEnvironmentByKey:(e,t)=>(0,o.Z)(n,e,void 0!==t?t:e),__rawPageData:t,__environmentVariables:n},children:s})},l=e=>{const{getDataByKey:t,getEnvironmentByKey:n}=(0,s.useContext)(i);return{getDataByKey:(n,a,s)=>t("".concat(e?e+".":"").concat(n),a,s),getEnvironmentByKey:n}},r=(e,t)=>({...e,name:void 0,defaultValue:void 0,dangerouslySetInnerHTML:{__html:t(e.name,e.defaultValue)}}),u={div:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("div",{...r(e,t)})},p:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("p",{...r(e,t)})},span:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("span",{...r(e,t)})},h1:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("h1",{...r(e,t)})},h2:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("h2",{...r(e,t)})},h3:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("h3",{...r(e,t)})},h4:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("h4",{...r(e,t)})},strong:e=>{const{getDataByKey:t}=l();return(0,a.jsx)("strong",{...r(e,t)})}}},57165:function(e,t,n){"use strict";var a=n(85893),s=n(67294),o=n(9008),i=n.n(o);t.Z=e=>{const{title:t,description:n,keywords:o,seoTags:c=[]}=e;return(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:t}),(0,a.jsx)("meta",{name:"keywords",content:o}),(0,a.jsx)("meta",{name:"description",content:n}),c.map(((e,t)=>((e,t)=>{const{type:n,attributes:a}=e;switch(n){case"link":return(0,s.createElement)("link",{...a,key:t});case"img":return(0,s.createElement)("img",{...a,key:t});case"div":return(0,s.createElement)("div",{...a,key:t});case"meta":return(0,s.createElement)("meta",{...a,key:t});case"script":return(0,s.createElement)("script",{...a,key:t});default:return null}})(e,t)))]})}},11502:function(e,t,n){"use strict";var a=n(85893),s=(n(67294),n(67453)),o=n.n(s);t.Z=e=>{let{children:t}=e;return(0,a.jsx)("div",{id:"toast",className:o().toast,children:t})}},13159:function(e,t,n){"use strict";n.d(t,{U8:function(){return M},UF:function(){return m},jP:function(){return N}});var a=n(55746),s=n.n(a),o=n(2568),i=n.n(o),c=n(11752),l=n.n(c),r=n(19659),u=n(16423);const d=e=>{const t=s().getItem("_ga");t&&(e.cid=i()(t))},g=()=>{const{publicRuntimeConfig:e}=l()(),t=r.u1[e.NEXT_PUBLIC_ENV];return Array.isArray(t)?t:[t]},m=async function(e,t,n,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if("undefined"!==typeof gtag&&gtag)try{let i={event_category:t,event_action:n,event_label:a,...s};if(o){let e={site:"Web"};d(e),delete i.userId,Object.assign(i,e)}const c=g();for(let t of c)gtag&&gtag("event",e,{...i,send_to:t})}catch(i){console.error("trigger event ".concat(e," error =>"),i),console.error("trigger event data",arguments)}},M=async function(e,t,n,a,s){if(gtag)try{const s={screenName:e,page_group1:t,page_group2:n,page_group3:a,site:"Web"};d(s);const o=g();for(let e of o)gtag&&gtag("js",new Date),gtag&&gtag("config",o,s)}catch(o){console.error("trigger event ".concat(e," error =>"),o),console.error("trigger event data",arguments)}};const j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;var n;return 0===t||(null===e||void 0===e||null===(n=e.dataset)||void 0===n?void 0:n.trackingParams)?e:e.parentNode?j(e.parentNode,t-1):void 0},N=e=>{let{target:t}=e;var n,a;let s,o=j(t);if((null===o||void 0===o||null===(n=o.dataset)||void 0===n?void 0:n.trackingParams)&&!(null===o||void 0===o||null===(a=o.dataset)||void 0===a?void 0:a.trackingDisabled))return s="json"===(null===o||void 0===o?void 0:o.dataset.trackingParamsType)?JSON.parse(o.dataset.trackingParams):o.dataset.trackingParams.split(","),s.length<3?console.error("tracking params insufficient",s):(3===s.length?s.push(o.innerText):s=s.map((e=>{if("string"!==typeof e)return e;const t=e.match(/\$\{([a-zA-Z0-9.]+)}/);if(t&&t[1]){const n=t[1];if(n)return e.replace("${".concat(n,"}"),(0,u.Z)(o,n))}return e})),(null===o||void 0===o?void 0:o.dataset.trackingCustom)&&(s[4]=JSON.parse(null===o||void 0===o?void 0:o.dataset.trackingCustom)),console.log("tracking point clicked",s),m(...s))}},30117:function(e,t,n){"use strict";n.d(t,{At:function(){return o},HE:function(){return r},HL:function(){return s},ME:function(){return d},Vr:function(){return a},fq:function(){return c},nY:function(){return u},ng:function(){return l},xB:function(){return i},xT:function(){return g}});const a="Public_event,Navigation_Button,Click,${name}",s="Public_event,Language_Selected,Click,${name}",o="EP9_event,EP9_Button,Click,${name}",i="EVE_event,EVE_Button,Click,${name}",c="NIO-House_event,NIO-House_Slide,NIO-House_Function",l="NIO-Life_event,NIO-Life_Button,Click,${name}",r="Newsroom_event,Newsroom_Button,Click,${name}",u="Social-Media_event,Social-Media_button,Click,${id}",d="Model_Detail_event,Model_ET5_Button,Click",g="Model_Detail_event,Model_EL7_Button,Click,${name}"},28149:function(e,t,n){"use strict";n.d(t,{GG:function(){return i},zt:function(){return c}});var a=n(82934),s=n(67294);const o={wx:a.at,mobile:a.tq,ios:a.gn,android:a.Dt,mobileShort:a.CW,mediaQueryMobile:a.Dk},i=Object.keys(o).reduce(((e,t)=>(e[t]=t,e)),{}),c=e=>{const[t,n]=(0,s.useState)(!1);if(!o[e])throw new Error("can not found match function of => ".concat(e));return(0,s.useEffect)((()=>{const t=(0,o[e])();n(t)}),[]),t}},61587:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var a=n(67294);n(73935),n(11502);const s=()=>{const e=(0,a.useRef)(),t=(0,a.useRef)(null);(0,a.useEffect)((()=>{let t=document.getElementById("toast");e.current=t}),[]);const n=()=>{e.current&&(e.current.style.display="none"),t.current=null};return{show:function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;e.current&&(e.current.style.display="block",e.current.innerText=a,t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{n()}),s))},hide:n}}},82934:function(e,t,n){"use strict";n.d(t,{CW:function(){return u},Dk:function(){return r},Dt:function(){return o},Em:function(){return x},IX:function(){return I},JN:function(){return j},Kr:function(){return d},SD:function(){return N},XH:function(){return h},at:function(){return a},gn:function(){return s},if:function(){return M},ns:function(){return g},s2:function(){return c},sN:function(){return m},tq:function(){return i},w0:function(){return l}});const a=()=>!!window.navigator.userAgent.match(/micromessenger/i),s=()=>!!(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),o=()=>!!window.navigator.userAgent.match(/Android|Adr/i),i=()=>!!(a()||s()||o()),c=()=>window.matchMedia("(max-width: 430px)").matches,l=()=>window.matchMedia("(max-width: 400px) and (max-height: 670px)").matches,r=()=>!!window.matchMedia("(max-width: 768px)").matches,u=()=>!!window.matchMedia("(max-width: 414px) and (max-height: 736px)").matches,d=()=>!!window.matchMedia("(max-width: 428px) and (min-height: 890px) and (max-height: 950px)").matches,g=()=>!!window.matchMedia("(min-width: 1280px)").matches,m=()=>!!window.matchMedia("(min-width: 1025px) and (max-width: 1299px)").matches,M=()=>!!window.matchMedia("(min-width: 1100px) and (min-height: 900px)").matches,j=()=>!!window.matchMedia("(min-width: 2200px)").matches,N=()=>!!window.matchMedia("(min-width: 1025px) and (max-height: 685px)").matches,h=()=>!!window.matchMedia("(min-width: 1025px) and (max-height: 800px)").matches,x=()=>!!window.matchMedia("(min-width: 720px) and (max-width: 1024px) and (min-height: 950px)").matches,I=()=>!!window.navigator.userAgent.match(/Baidu/i)},20662:function(e){e.exports={nioFooterWrapper:"Footer_nioFooterWrapper__UY8Nw",slideInUp:"Footer_slideInUp__lYIxj",slideOutDown:"Footer_slideOutDown__Q_y0a",fadeIn:"Footer_fadeIn__uDLhk",fadeOut:"Footer_fadeOut__rd0sW",fadeInUp:"Footer_fadeInUp__FvVXa",fadeInRight:"Footer_fadeInRight__ZPP83",fadeOutUp:"Footer_fadeOutUp__h1zh4",zoomIn:"Footer_zoomIn__xKfR5",scaleUp:"Footer_scaleUp__zpUKu",scaleDown:"Footer_scaleDown__jmHcP",container:"Footer_container__sBLl9",fixed:"Footer_fixed__tUqKc",topPageList:"Footer_topPageList__qlBtY",cataglory:"Footer_cataglory__3JLq2",list:"Footer_list__aqUY4",titleContainer:"Footer_titleContainer__g7vlR",activeList:"Footer_activeList__7_hfX",bottomBar:"Footer_bottomBar__jLYjk",iconAndLocale:"Footer_iconAndLocale__HOSb8",sm:"Footer_sm__YbPDq",item:"Footer_item__sH2D3",twitter:"Footer_twitter__wtrQ9",instagram:"Footer_instagram__cR8IH",facebook:"Footer_facebook__zUQup",linkedin:"Footer_linkedin__g4XbN",contact:"Footer_contact__x2q7K",wechat:"Footer_wechat__IHY_I","customer-service":"Footer_customer-service__lM_31",weibo:"Footer_weibo__e_FWy",tooltip:"Footer_tooltip__EY9hX","tooltip-show":"Footer_tooltip-show__3T9yh","cn-contact":"Footer_cn-contact__L9NT9","cn-wechat":"Footer_cn-wechat__qpKm8","cn-customer-service":"Footer_cn-customer-service__NNUL_",lag:"Footer_lag__wTcuX",extraLinks:"Footer_extraLinks__H72XE",links:"Footer_links___yKSQ",about:"Footer_about__Ul3_a",aboutDetail:"Footer_aboutDetail__eopOZ",policy:"Footer_policy__NPukg","check-button":"Footer_check-button__qtCFk","check-modal":"Footer_check-modal__yZMrj","check-title":"Footer_check-title__G06iP",fadeOutLeft:"Footer_fadeOutLeft__Q01Ii",fadeOutRight:"Footer_fadeOutRight__jPgpF",loaded:"Footer_loaded__vdb0H",gradRightToLeftDown:"Footer_gradRightToLeftDown__I7RGE"}},70329:function(e){e.exports={"gtpr-consent":"GDPRPopup_gtpr-consent__5vZZp","nio-logo":"GDPRPopup_nio-logo__RpBoI","gdpr-consent-title":"GDPRPopup_gdpr-consent-title__zja07","gdpr-consent-content":"GDPRPopup_gdpr-consent-content__0QMTk","gdpr-consent-copy":"GDPRPopup_gdpr-consent-copy__QCAIY","consent-behavior":"GDPRPopup_consent-behavior__xPKft",btn:"GDPRPopup_btn__nfDHt","btn-primary":"GDPRPopup_btn-primary__eadsi","gdpr-consent-aboutmor":"GDPRPopup_gdpr-consent-aboutmor__i9au2","gdpr-consent-cta":"GDPRPopup_gdpr-consent-cta__sdr4_"}},11639:function(e){e.exports={GDPRConsent:"GlobalSiteGAGTMGDPR_GDPRConsent__Rlvdw",GDPRConsentCopy:"GlobalSiteGAGTMGDPR_GDPRConsentCopy__qvCNk",GDPRConsentTextShort:"GlobalSiteGAGTMGDPR_GDPRConsentTextShort__KntIw",GDPRConsentTextLong:"GlobalSiteGAGTMGDPR_GDPRConsentTextLong__FTi8O",GDPRConsentExpand:"GlobalSiteGAGTMGDPR_GDPRConsentExpand__ufCmN",GDPRConsentExpandShow:"GlobalSiteGAGTMGDPR_GDPRConsentExpandShow__rIK8e",GDPRConsentExpandHide:"GlobalSiteGAGTMGDPR_GDPRConsentExpandHide__QVp5d",GDPRConsentCTA:"GlobalSiteGAGTMGDPR_GDPRConsentCTA__tyRhq"}},42135:function(e){e.exports={"select-container":"LanguageSelector_select-container__TDNQG","select-main":"LanguageSelector_select-main__OCYGl","close-btn":"LanguageSelector_close-btn__NIttg","back-btn":"LanguageSelector_back-btn__zhwUw","select-title":"LanguageSelector_select-title__uS_Pa",firstLevel:"LanguageSelector_firstLevel__b1Gwt",secondLevel:"LanguageSelector_secondLevel__r9oTc",desktopLevel:"LanguageSelector_desktopLevel__kfgf3",moreLocales:"LanguageSelector_moreLocales__R22tk",show:"LanguageSelector_show__p6zr0"}},1339:function(e){e.exports={layout:"Layout_layout__wKkIq","in-app-view":"Layout_in-app-view__TTGA9","layout-padding-fix":"Layout_layout-padding-fix__XIlO7","layout-full-size":"Layout_layout-full-size__u9w7j"}},70963:function(e){e.exports={"legal-content":"LegalContent_legal-content__BAZ_k"}},67453:function(e){e.exports={toast:"Toast_toast__D3yKs"}}}]);
</script>

</body>
</html>
