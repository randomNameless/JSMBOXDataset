<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signup-80b78c548112a075.html</title>
</head>
<body>

<script>
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75613],{10201:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return a(30823)}])},6459:function(e,t,a){"use strict";a.d(t,{Q:function(){return s}});var n=a(28171);a(78448);let s=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex flex-col gap-4 md:m-auto md:w-1/3",children:t})}},42541:function(e,t,a){"use strict";a.d(t,{h:function(){return v}});var n=a(28171),s=a(78448),r=a(58176),i=a(35612),l=a(37437),u=a(94626),o=a(36077),c=a(91313),d=a(59279),h=a(39835),m=a(16447),p=a(901),f=a(26934),x=a(49276),g=a(92159);let j={bilibili:{key:"bilibili",nameSuffix:"Bilibili",areaId:"cn",areaFilter:e=>"hk"!==e.id&&"tw"!==e.id}},v=e=>{let{initialName:t,initialEmail:a,initialToken:v,setShowSso:b}=e,{query:_}=(0,d.t)(),w=j[(0,x.sV)(_,"partner")],{refreshSession:y}=(0,h.kP)(),{push:N}=(0,d.t)(),[S,k]=(0,s.useState)("start"),[Z,C]=(0,s.useState)({name:t||"",password:"",email:a||"",areaId:(null==w?void 0:w.areaId)||"",token:v}),[T,P]=(0,s.useState)(!1),[E,I]=(0,s.useState)(),{t:A}=(0,c.QT)(),B=(0,s.useMemo)(()=>(null==w?void 0:w.nameSuffix)?"".concat(Z.name,"_").concat(w.nameSuffix):Z.name,[Z,w]),q=(0,s.useMemo)(()=>g.YU.areas.filter(e=>(null==w||!w.areaFilter||!!w.areaFilter(e))&&void 0===e.parentId).map(e=>({key:e.id,label:e.name,value:e.id,richLabel:(0,n.jsxs)("div",{className:"x-inline-1",children:[(0,n.jsx)(r.W,{area:e})," ",e.name]})})),[w]),D=(0,s.useCallback)(()=>{let e={...Z,name:B};P(!0),b(!1),m.x1.PutAuthSignup(e).then(e=>{P(!1),e.loggedIn&&(y(),N("/").catch(p.ZT)),e.tokenChallengeSent&&(C(e=>({...e,token:""})),k("2fa"))}).catch(e=>{P(!1),I(e)})},[Z,N,y,b,B]),G=(0,s.useMemo)(()=>{var e;if("start"===S){let[e]=(0,p._h)(Z.password);return Z.name.length<4||Z.email.length<4||!(0,p.s$)(Z.email)||!e}return(null===(e=Z.token)||void 0===e?void 0:e.length)!==6},[Z,S]);return(0,n.jsxs)(o.y,{children:[(0,n.jsx)(o.y.Header,{title:A("auth:sign_up_for_name",{name:f.R.site})}),(0,n.jsx)(i.l,{applying:T,error:E,onSubmit:D,children:(0,n.jsxs)("div",{className:"divide-y divide-divider",children:["start"===S?(0,n.jsxs)(l.Z.Group,{children:[(0,n.jsx)(l.Z.Text,{type:"text",name:"name",label:A("auth:username"),detail:Z.name&&Z.name!==B?A("auth:name_suffix_explanation",{name:B}):void 0,required:!0,value:Z.name,onChange:e=>C(t=>({...t,name:e.trim()})),autoComplete:!1}),(0,n.jsx)(l.Z.Text,{type:"email",name:"email",label:A("auth:email_address"),required:!0,value:Z.email,onChange:e=>C(t=>({...t,email:e,token:void 0}))}),(0,n.jsx)(l.Z.Text,{type:"password",name:"password",label:A("auth:password"),required:!0,value:Z.password,passwordStrength:!0,onChange:e=>C(t=>({...t,password:e}))}),(0,n.jsx)(l.Z.Dropdown,{name:"areaId",label:A("auth:location"),options:q,value:Z.areaId,setValue:e=>C(t=>({...t,areaId:e}))})]}):(0,n.jsxs)(l.Z.Group,{children:[(0,n.jsxs)("p",{className:"text-sm text-secondary",children:[A("auth:signup_code_prompt"),":"]}),(0,n.jsx)(l.Z.Text,{type:"text",name:"token",required:!0,value:Z.token,maxLength:6,onChange:e=>C(t=>({...t,token:e.toUpperCase()}))})]}),(0,n.jsx)(l.Z.Group,{children:(0,n.jsxs)(u.ZP.Row,{justify:"between",children:[(0,n.jsx)(l.Z.Button,{type:"submit",disabled:G,children:A("auth:sign_up")}),"start"===S&&(0,n.jsx)(l.Z.Button,{type:"button",variant:"secondary",href:"/auth/login",children:A("auth:already_have_an_account")})]})})]})})]})}},67456:function(e,t,a){"use strict";a.d(t,{p:function(){return d}});var n=a(28171),s=a(78448),r=a(37437),i=a(47111),l=a(91313),u=a(59279),o=a(16447),c=a(901);let d=()=>{let{t:e}=(0,l.QT)(),{push:t}=(0,u.t)(),a=(0,s.useCallback)(e=>{o.x1.PutAuthSsoAuthorize({provider:e}).then(e=>t(e.authorizeUrl)).catch(c.ZT)},[t]);return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)(r.Z.Button,{variant:"sso",className:"w-full bg-discord/90 text-white hover:bg-discord",onClick:()=>a("discord"),children:[(0,n.jsx)(i.D7,{className:"mr-1 h-4 w-4"})," ",e("auth:log_in_with_brand",{brand:"Discord"})]}),(0,n.jsxs)(r.Z.Button,{variant:"sso",className:"w-full bg-google/90 text-white hover:bg-google",onClick:()=>a("google"),children:[(0,n.jsx)(i._8,{className:"mr-1 h-4 w-4"})," ",e("auth:log_in_with_brand",{brand:"Google"})]}),(0,n.jsxs)(r.Z.Button,{variant:"sso",className:"w-full bg-twitch/90 text-white hover:bg-twitch",onClick:()=>a("twitch"),children:[(0,n.jsx)(i.jG,{className:"mr-1 h-4 w-4"})," ",e("auth:log_in_with_brand",{brand:"Twitch"})]})]})}},35612:function(e,t,a){"use strict";a.d(t,{l:function(){return d}});var n=a(28171),s=a(78448),r=a(26820),i=a(90921),l=a(36077),u=a(86959),o=a(30851),c=a(24995);let d=Object.assign(e=>{let{applying:t,success:a,error:r,onSubmit:i,children:l}=e,{notifySuccess:u,notifyError:d}=(0,c.l)();return(0,o.V)(t?"loading":"idle"),(0,s.useEffect)(()=>{a&&u(a)},[u,a]),(0,s.useEffect)(()=>{r&&d(r)},[d,r]),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),i&&i()},onSubmitCapture:e=>{e.preventDefault(),e.stopPropagation(),i&&i()},className:"relative",children:[(0,n.jsx)("div",{children:l}),t&&(0,n.jsx)("div",{className:"x-loading-animation absolute inset-0"})]})},{Simple:function(e){let{title:t,aside:a,opaque:d,children:h,refresh:m,authorize:p,apply:f}=e,x=(0,s.useRef)(!1),g=(0,u.q)({refresh:m,apply:f}),{notifyCustom:j}=(0,c.l)(),v="idle";if(g.applying?v="loading":g.applied&&(v="success"),(0,o.V)(v),(0,s.useEffect)(()=>{g.error&&j({type:"error",message:g.error.message,dismissAfterMs:3e3})},[j,g.error]),!g.state)return(0,n.jsx)(i.c,{});if(p&&!x.current){let e=p(g.state);if(e)return e;x.current=!0}return(0,n.jsxs)(l.y,{className:"relative",opaque:d,children:[!!(t||a)&&(0,n.jsx)(l.y.Header,{title:t,aside:a}),void 0===g.state?(0,n.jsx)(r.d,{message:"No data to display"}):(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),g.applyState()},children:h(g)}),g.applying&&(0,n.jsx)("div",{className:"x-loading-animation absolute inset-0"})]})}})},26820:function(e,t,a){"use strict";a.d(t,{d:function(){return s}});var n=a(28171);a(78448);let s=e=>{let{title:t,message:a,children:s}=e;return(0,n.jsxs)("div",{className:"flex w-full flex-col flex-nowrap items-center justify-center gap-4 p-8",children:[t&&(0,n.jsx)("h1",{className:"font-title text-lg font-bold uppercase",children:t}),a&&(0,n.jsx)("p",{className:"text-sm text-secondary",children:a}),s]})}},90921:function(e,t,a){"use strict";a.d(t,{c:function(){return r}});var n=a(28171),s=a(34818);function r(e){let{title:t=!0,rows:a=5,className:r}=e;return(0,n.jsx)(s.O,{header:t,rows:a,className:r})}},49276:function(e,t,a){"use strict";function n(e){return Array.isArray(e.path)&&e.path.every(e=>"string"==typeof e)?e.path:"string"==typeof e.path?[e.path]:[]}function s(e){let t=r(e,"page"),a=parseInt(t,10);return!isNaN(a)&&a>0?a:1}function r(e,t){let a=e[t];return"string"==typeof a?a:""}a.d(t,{Ng:function(){return s},rB:function(){return n},sV:function(){return r}})},30823:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return c},default:function(){return d}});var n=a(28171),s=a(78448),r=a(83115),i=a(91313),l=a(6459),u=a(42541),o=a(67456),c=!0,d=()=>{let{t:e}=(0,i.QT)(),[t,a]=(0,s.useState)(!0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.d,{title:e("auth:sign_up"),disableAds:!0}),(0,n.jsxs)(l.Q,{children:[(0,n.jsx)(u.h,{setShowSso:a}),t&&(0,n.jsx)(o.p,{})]})]})}}},function(e){e.O(0,[49774,92888,40179],function(){return e(e.s=10201)}),_N_E=e.O()}]);
</script>

</body>
</html>
