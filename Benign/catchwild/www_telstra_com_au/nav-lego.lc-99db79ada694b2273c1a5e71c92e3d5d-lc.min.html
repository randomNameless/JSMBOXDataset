<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nav-lego.lc-99db79ada694b2273c1a5e71c92e3d5d-lc.min.html</title>
</head>
<body>

<script>
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=35)}([function(e,t){e.exports=tcom.libs.react},function(e,t){e.exports=tcom.libs.lodash},function(e,t,r){var n=r(14),a=r(17),o=r(25);function i(e,t){return new o(t).process(e)}(t=e.exports=i).filterXSS=i,t.FilterXSS=o,function(){for(var e in n)t[e]=n[e];for(var r in a)t[r]=a[r]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t){e.exports=tcom.libs.axios},function(e,t,r){"use strict";var n=r(6),a="object"==typeof self&&self&&self.Object===Object&&self,o=n.a||a||Function("return this")();t.a=o},function(e,t,r){(function(t){var n;e.exports=(n=n||function(e,n){var a;if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==t&&t.crypto&&(a=t.crypto),!a)try{a=r(26)}catch(e){}var o=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},c=s.lib={},l=c.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||m).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<a;o++){var i=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=i<<24-(n+o)%4*8}else for(var s=0;s<a;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(o());return new u.init(t,e)}}),d=s.enc={},m=d.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var o=t[a>>>2]>>>24-a%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},h=d.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var o=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},f=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},g=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,a=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,l=e.min(4*c,o);if(c){for(var d=0;d<c;d+=i)this._doProcessBlock(a,d);r=a.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(c.Hasher=g.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),s.algo={});return s}(Math),n)}).call(this,r(11))},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(11))},function(e,t,r){(function(t){!function(r){let n;function a(e,t){const r=e.charCodeAt(t);if(isNaN(r))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(r<55296||r>57343)return[e.charAt(t),t];if(r>=55296&&r<=56319){if(e.length<=t+1)return[" ",t];const r=e.charCodeAt(t+1);return r<56320||r>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const n=e.charCodeAt(t-1);if(n<55296||n>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function o(e,t){let r=c(e,t);if(!0===(t&&void 0!==t.fallback?t.fallback:o.defaults.fallback)&&""===r){let o="";for(let t=0;t<e.length;t++){const r=a(e,t);t=r[1],o+=r[0]}r=c(n(o),t)}return r}n="undefined"!=typeof window?window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let r="";for(let e,n,a=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|a)||(o="=",a%1);r+=o.charAt(63&e>>8-a%1*8)){if(n=t.charCodeAt(a+=3/4),n>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return r}:function(e){return t.from(e).toString("base64")};const i={bg:{"Й":"Y","й":"y",X:"H",x:"h","Ц":"Ts","ц":"ts","Щ":"Sht","щ":"sht","Ъ":"A","ъ":"a","Ь":"Y","ь":"y"},de:{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue"},sr:{"đ":"dj","Đ":"DJ"},uk:{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"}};let s={};function c(e,t){if("string"!=typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"==typeof t&&(t={replacement:t}),(t=t?Object.assign({},t):{}).mode=t.mode||o.defaults.mode;const r=o.defaults.modes[t.mode],n=["replacement","multicharmap","charmap","remove","lower","trim"];for(let e,a=0,o=n.length;a<o;a++)e=n[a],t[e]=e in t?t[e]:r[e];const a=i[t.locale]||s;let c=[];for(const e in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,e))continue;const r=e.length;-1===c.indexOf(r)&&c.push(r)}c=c.sort((function(e,t){return t-e}));const l="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let u="";for(let r,n=0,o=e.length;n<o;n++){r=e[n];let o=!1;for(let a=0;a<c.length;a++){const i=c[a],s=e.substr(n,i);if(t.multicharmap[s]){n+=i-1,r=t.multicharmap[s],o=!0;break}}o||(r=a[r]?a[r]:t.charmap[r]?t.charmap[r].replace(t.replacement," "):r.includes(t.replacement)?r.replace(t.replacement," "):r.replace(l,"")),u+=r}return t.remove&&(u=u.replace(t.remove,"")),t.trim&&(u=u.trim()),u=u.replace(/\s+/g,t.replacement),t.lower&&(u=u.toLowerCase()),u}const l={"फ़":"Fi","ग़":"Ghi","ख़":"Khi","क़":"Qi","ड़":"ugDha","ढ़":"ugDhha","य़":"Yi","ज़":"Za","בִי":"i","בֵ":"e","בֵי":"e","בֶ":"e","בַ":"a","בָ":"a","בֹ":"o","וֹ":"o","בֻ":"u","וּ":"u","בּ":"b","כּ":"k","ךּ":"k","פּ":"p","שׁ":"sh","שׂ":"s","בְ":"e","חֱ":"e","חֲ":"a","חֳ":"o","בִ":"i"},u={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ō":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ō":"o","Œ":"OE","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"Th","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"K","Ļ":"L","Ņ":"N","Ū":"U","أ":"a","إ":"i","ب":"b","ت":"t","ث":"th","ج":"g","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"th","ع":"aa","غ":"gh","ف":"f","ق":"k","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"o","ي":"y","ء":"aa","ة":"a","آ":"a","ا":"a","پ":"p","ژ":"zh","گ":"g","چ":"ch","ک":"k","ی":"i","ė":"e","į":"i","ų":"u","Ė":"E","Į":"I","Ų":"U","ț":"t","Ț":"T","ţ":"t","Ţ":"T","ș":"s","Ș":"S","ă":"a","Ă":"A","Ạ":"A","Ả":"A","Ầ":"A","Ấ":"A","Ậ":"A","Ẩ":"A","Ẫ":"A","Ằ":"A","Ắ":"A","Ặ":"A","Ẳ":"A","Ẵ":"A","Ẹ":"E","Ẻ":"E","Ẽ":"E","Ề":"E","Ế":"E","Ệ":"E","Ể":"E","Ễ":"E","Ị":"I","Ỉ":"I","Ĩ":"I","Ọ":"O","Ỏ":"O","Ồ":"O","Ố":"O","Ộ":"O","Ổ":"O","Ỗ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ợ":"O","Ở":"O","Ỡ":"O","Ụ":"U","Ủ":"U","Ũ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ự":"U","Ử":"U","Ữ":"U","Ỳ":"Y","Ỵ":"Y","Ỷ":"Y","Ỹ":"Y","Đ":"D","ạ":"a","ả":"a","ầ":"a","ấ":"a","ậ":"a","ẩ":"a","ẫ":"a","ằ":"a","ắ":"a","ặ":"a","ẳ":"a","ẵ":"a","ẹ":"e","ẻ":"e","ẽ":"e","ề":"e","ế":"e","ệ":"e","ể":"e","ễ":"e","ị":"i","ỉ":"i","ĩ":"i","ọ":"o","ỏ":"o","ồ":"o","ố":"o","ộ":"o","ổ":"o","ỗ":"o","ơ":"o","ờ":"o","ớ":"o","ợ":"o","ở":"o","ỡ":"o","ụ":"u","ủ":"u","ũ":"u","ư":"u","ừ":"u","ứ":"u","ự":"u","ử":"u","ữ":"u","ỳ":"y","ỵ":"y","ỷ":"y","ỹ":"y","đ":"d","Ә":"AE","ә":"ae","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ө":"OE","ө":"oe","ђ":"dj","ј":"j","љ":"lj","њ":"nj","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Љ":"Lj","Њ":"Nj","Ћ":"C","Џ":"Dz","ǌ":"nj","ǉ":"lj","ǋ":"NJ","ǈ":"LJ","अ":"a","आ":"aa","ए":"e","ई":"ii","ऍ":"ei","ऎ":"ae","ऐ":"ai","इ":"i","ओ":"o","ऑ":"oi","ऒ":"oii","ऊ":"uu","औ":"ou","उ":"u","ब":"B","भ":"Bha","च":"Ca","छ":"Chha","ड":"Da","ढ":"Dha","फ":"Fa","ग":"Ga","घ":"Gha","ग़":"Ghi","ह":"Ha","ज":"Ja","झ":"Jha","क":"Ka","ख":"Kha","ख़":"Khi","ल":"L","ळ":"Li","ऌ":"Li","ऴ":"Lii","ॡ":"Lii","म":"Ma","न":"Na","ङ":"Na","ञ":"Nia","ण":"Nae","ऩ":"Ni","ॐ":"oms","प":"Pa","क़":"Qi","र":"Ra","ऋ":"Ri","ॠ":"Ri","ऱ":"Ri","स":"Sa","श":"Sha","ष":"Shha","ट":"Ta","त":"Ta","ठ":"Tha","द":"Tha","थ":"Tha","ध":"Thha","ड़":"ugDha","ढ़":"ugDhha","व":"Va","य":"Ya","य़":"Yi","ज़":"Za","ə":"e","Ə":"E","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","ב":"v","גּ":"g","ג":"g","ד":"d","דּ":"d","ה":"h","ו":"v","ז":"z","ח":"h","ט":"t","י":"y","כ":"kh","ך":"kh","ל":"l","מ":"m","ם":"m","נ":"n","ן":"n","ס":"s","פ":"f","ף":"f","ץ":"ts","צ":"ts","ק":"k","ר":"r","תּ":"t","ת":"t"};o.charmap=Object.assign({},u),o.multicharmap=Object.assign({},l),o.defaults={charmap:o.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:o.charmap,multicharmap:o.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:o.charmap,multicharmap:o.multicharmap,trim:!0}},multicharmap:o.multicharmap,fallback:!0},o.reset=function(){o.defaults.modes.rfc3986.charmap=o.defaults.modes.pretty.charmap=o.charmap=o.defaults.charmap=Object.assign({},u),o.defaults.modes.rfc3986.multicharmap=o.defaults.modes.pretty.multicharmap=o.multicharmap=o.defaults.multicharmap=Object.assign({},l),s=""},o.extend=function(e){const t=Object.keys(e),r={},n={};for(let a=0;a<t.length;a++)t[a].length>1?r[t[a]]=e[t[a]]:n[t[a]]=e[t[a]];Object.assign(o.charmap,n),Object.assign(o.multicharmap,r)},o.setLocale=function(e){s=i[e]||{}},e.exports?e.exports=o:r.slug=o}(this)}).call(this,r(31).Buffer)},function(e,t,r){"use strict";var n,a=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||o(e,a,{get:()=>t[a],enumerable:!(n=i(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?a(c(e)):{},u(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),m={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(m,{AccessTokenEvents:()=>L,CheckSessionIFrame:()=>j,ErrorResponse:()=>A,ErrorTimeout:()=>T,InMemoryWebStorage:()=>M,Log:()=>w,Logger:()=>E,MetadataService:()=>R,OidcClient:()=>G,OidcClientSettingsStore:()=>H,SessionMonitor:()=>$,SigninResponse:()=>q,SigninState:()=>B,SignoutResponse:()=>Y,State:()=>D,User:()=>J,UserManager:()=>oe,UserManagerSettingsStore:()=>te,Version:()=>ie,WebStorageStateStore:()=>U}),e.exports=(n=m,u(o({},"__esModule",{value:!0}),n));var h,f,g,p=d(r(5)),_=d(r(27)),b=d(r(28)),y=d(r(29)),v={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},w=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(w||{});(g=w||(w={})).reset=function(){h=3,f=v},g.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");h=e},g.setLogger=function(e){f=e};var E=class{constructor(e){this._name=e}debug(...e){h>=4&&f.debug(E._format(this._name,this._method),...e)}info(...e){h>=3&&f.info(E._format(this._name,this._method),...e)}warn(...e){h>=2&&f.warn(E._format(this._name,this._method),...e)}error(...e){h>=1&&f.error(E._format(this._name,this._method),...e)}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(e,t){const r=new E(`${e}.${t}`);return r.debug("begin"),r}static _format(e,t){const r=`[${e}]`;return t?`${r} ${t}:`:r}static debug(e,...t){h>=4&&f.debug(E._format(e),...t)}static info(e,...t){h>=3&&f.info(E._format(e),...t)}static warn(e,...t){h>=2&&f.warn(E._format(e),...t)}static error(e,...t){h>=1&&f.error(E._format(e),...t)}};w.reset();var S=class{static _randomWord(){return p.default.lib.WordArray.random(1).words[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^S._randomWord()&15>>+e/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return S.generateUUIDv4()+S.generateUUIDv4()+S.generateUUIDv4()}static generateCodeChallenge(e){try{const t=(0,_.default)(e);return b.default.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){throw E.error("CryptoUtils.generateCodeChallenge",e),e}}static generateBasicAuth(e,t){const r=y.default.parse([e,t].join(":"));return b.default.stringify(r)}},k=class{constructor(e){this._name=e,this._logger=new E(`Event('${this._name}')`),this._callbacks=[]}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}raise(...e){this._logger.debug("raise:",...e);for(const t of this._callbacks)t(...e)}},x=d(r(30)),N=class{static decode(e){try{return(0,x.default)(e)}catch(e){throw E.error("JwtUtils.decode",e),e}}},C=class{static center({...e}){var t;return null==e.width&&(e.width=null!=(t=[800,720,600,480].find(e=>e<=window.outerWidth/1.618))?t:360),null!=e.left||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),null!=e.height&&(null!=e.top||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}=${"boolean"!=typeof t?t:t?"yes":"no"}`).join(",")}},O=class extends k{constructor(){super(...arguments),this._logger=new E(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const e=this._expiration-O.getEpochTime();this._logger.debug("timer completes in",e),this._expiration<=O.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(e){const t=this._logger.create("init");e=Math.max(Math.floor(e),1);const r=O.getEpochTime()+e;if(this.expiration===r&&this._timerHandle)return void t.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),t.debug("using duration",e),this._expiration=r;const n=Math.min(e,5);this._timerHandle=setInterval(this._callback,1e3*n)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},I=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(r.slice(1))}},A=class extends Error{constructor(e,t){var r,n,a;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw E.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(r=e.error_description)?r:null,this.error_uri=null!=(n=e.error_uri)?n:null,this.state=e.userState,this.session_state=null!=(a=e.session_state)?a:null}},T=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},L=class{constructor(e){this._logger=new E("AccessTokenEvents"),this._expiringTimer=new O("Access token expiring"),this._expiredTimer=new O("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const r=e.expires_in;if(t.debug("access token present, remaining duration:",r),r>0){let e=r-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const n=r+1;t.debug("registering expired timer, raising in",n,"seconds"),this._expiredTimer.init(n)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},j=class{constructor(e,t,r,n,a){this._callback=e,this._client_id=t,this._intervalInSeconds=n,this._stopOnError=a,this._logger=new E("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const o=new URL(r);this._frame_origin=o.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=o.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},M=class{constructor(){this._logger=new E("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},P=class{constructor(e=[],t=null,r={}){this._jwtHandler=t,this._extraHeaders=r,this._logger=new E("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:r,...n}=t;if(!r)return await fetch(e,n);const a=new AbortController,o=setTimeout(()=>a.abort(),1e3*r);try{return await fetch(e,{...t,signal:a.signal})}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)throw new T("Network timed out");throw e}finally{clearTimeout(o)}}async getJson(e,{token:t,credentials:r}={}){const n=this._logger.create("getJson"),a={Accept:this._contentTypes.join(", ")};let o;t&&(n.debug("token passed, setting Authorization header"),a.Authorization="Bearer "+t),this.appendExtraHeaders(a);try{n.debug("url:",e),o=await this.fetchWithTimeout(e,{method:"GET",headers:a,credentials:r})}catch(e){throw n.error("Network Error"),e}n.debug("HTTP response received, status",o.status);const i=o.headers.get("Content-Type");if(i&&!this._contentTypes.find(e=>i.startsWith(e))&&n.throw(new Error(`Invalid response Content-Type: ${null!=i?i:"undefined"}, from URL: ${e}`)),o.ok&&this._jwtHandler&&(null==i?void 0:i.startsWith("application/jwt")))return await this._jwtHandler(await o.text());let s;try{s=await o.json()}catch(e){if(n.error("Error parsing JSON response",e),o.ok)throw e;throw new Error(`${o.statusText} (${o.status})`)}if(!o.ok){if(n.error("Error from server:",s),s.error)throw new A(s);throw new Error(`${o.statusText} (${o.status}): ${JSON.stringify(s)}`)}return s}async postForm(e,{body:t,basicAuth:r,timeoutInSeconds:n,initCredentials:a}){const o=this._logger.create("postForm"),i={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};let s;void 0!==r&&(i.Authorization="Basic "+r),this.appendExtraHeaders(i);try{o.debug("url:",e),s=await this.fetchWithTimeout(e,{method:"POST",headers:i,body:t,timeoutInSeconds:n,credentials:a})}catch(e){throw o.error("Network error"),e}o.debug("HTTP response received, status",s.status);const c=s.headers.get("Content-Type");if(c&&!this._contentTypes.find(e=>c.startsWith(e)))throw new Error(`Invalid response Content-Type: ${null!=c?c:"undefined"}, from URL: ${e}`);const l=await s.text();let u={};if(l)try{u=JSON.parse(l)}catch(e){if(o.error("Error parsing JSON response",e),s.ok)throw e;throw new Error(`${s.statusText} (${s.status})`)}if(!s.ok){if(o.error("Error from server:",u),u.error)throw new A(u,t);throw new Error(`${s.statusText} (${s.status}): ${JSON.stringify(u)}`)}return u}appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),r=Object.keys(this._extraHeaders),n=["authorization","accept","content-type"];0!==r.length&&r.forEach(r=>{if(n.includes(r.toLocaleLowerCase()))return void t.warn("Protected header could not be overridden",r,n);const a="function"==typeof this._extraHeaders[r]?this._extraHeaders[r]():this._extraHeaders[r];a&&""!==a&&(e[r]=a)})}},R=class{constructor(e){this._settings=e,this._logger=new E("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new P(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,t),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const r=this._logger.create(`_getMetadataProperty('${e}')`),n=await this.getMetadata();if(r.debug("resolved"),void 0===n[e]){if(!0===t)return void r.warn("Metadata does not contain optional property");r.throw(new Error("Metadata does not contain property "+e))}return n[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const r=await this._jsonService.getJson(t);if(e.debug("got key set",r),!Array.isArray(r.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=r.keys,this._signingKeys}},U=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new E("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let r=0;r<e;r++){const e=await this._store.key(r);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},H=class{constructor({authority:e,metadataUrl:t,metadata:r,signingKeys:n,metadataSeed:a,client_id:o,client_secret:i,response_type:s="code",scope:c="openid",redirect_uri:l,post_logout_redirect_uri:u,client_authentication:d="client_secret_post",prompt:m,display:h,max_age:f,ui_locales:g,acr_values:p,resource:_,response_mode:b="query",filterProtocolClaims:y=!0,loadUserInfo:v=!1,staleStateAgeInSeconds:w=900,clockSkewInSeconds:E=300,userInfoJwtIssuer:S="OP",mergeClaims:k=!1,disablePKCE:x=!1,stateStore:N,refreshTokenCredentials:C,revokeTokenAdditionalContentTypes:O,fetchRequestCredentials:I,refreshTokenAllowedScope:A,extraQueryParams:T={},extraTokenParams:L={},extraHeaders:j={}}){if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=r,this.metadataSeed=a,this.signingKeys=n,this.client_id=o,this.client_secret=i,this.response_type=s,this.scope=c,this.redirect_uri=l,this.post_logout_redirect_uri=u,this.client_authentication=d,this.prompt=m,this.display=h,this.max_age=f,this.ui_locales=g,this.acr_values=p,this.resource=_,this.response_mode=b,this.filterProtocolClaims=null==y||y,this.loadUserInfo=!!v,this.staleStateAgeInSeconds=w,this.clockSkewInSeconds=E,this.userInfoJwtIssuer=S,this.mergeClaims=!!k,this.disablePKCE=!!x,this.revokeTokenAdditionalContentTypes=O,I&&C&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=I||(C||"same-origin"),N)this.stateStore=N;else{const e="undefined"!=typeof window?window.localStorage:new M;this.stateStore=new U({store:e})}this.refreshTokenAllowedScope=A,this.extraQueryParams=T,this.extraTokenParams=L,this.extraHeaders=j}},F=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new E("TokenClient"),this._jsonService=new P(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:r=this._settings.client_id,client_secret:n=this._settings.client_secret,...a}){const o=this._logger.create("exchangeCode");r||o.throw(new Error("A client_id is required")),t||o.throw(new Error("A redirect_uri is required")),a.code||o.throw(new Error("A code is required"));const i=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[e,t]of Object.entries(a))null!=t&&i.set(e,t);let s;switch(this._settings.client_authentication){case"client_secret_basic":if(!n)throw o.throw(new Error("A client_secret is required")),null;s=S.generateBasicAuth(r,n);break;case"client_secret_post":i.append("client_id",r),n&&i.append("client_secret",n)}const c=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:i,basicAuth:s,initCredentials:this._settings.fetchRequestCredentials});return o.debug("got response"),l}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:r=this._settings.client_secret,scope:n=this._settings.scope,...a}){const o=this._logger.create("exchangeCredentials");t||o.throw(new Error("A client_id is required"));const i=new URLSearchParams({grant_type:e,scope:n});for(const[e,t]of Object.entries(a))null!=t&&i.set(e,t);let s;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw o.throw(new Error("A client_secret is required")),null;s=S.generateBasicAuth(t,r);break;case"client_secret_post":i.append("client_id",t),r&&i.append("client_secret",r)}const c=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:i,basicAuth:s,initCredentials:this._settings.fetchRequestCredentials});return o.debug("got response"),l}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:r=this._settings.client_secret,timeoutInSeconds:n,...a}){const o=this._logger.create("exchangeRefreshToken");t||o.throw(new Error("A client_id is required")),a.refresh_token||o.throw(new Error("A refresh_token is required"));const i=new URLSearchParams({grant_type:e});for(const[e,t]of Object.entries(a))Array.isArray(t)?t.forEach(t=>i.append(e,t)):null!=t&&i.set(e,t);let s;switch(this._settings.client_authentication){case"client_secret_basic":if(!r)throw o.throw(new Error("A client_secret is required")),null;s=S.generateBasicAuth(t,r);break;case"client_secret_post":i.append("client_id",t),r&&i.append("client_secret",r)}const c=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const l=await this._jsonService.postForm(c,{body:i,basicAuth:s,timeoutInSeconds:n,initCredentials:this._settings.fetchRequestCredentials});return o.debug("got response"),l}async revoke(e){var t;const r=this._logger.create("revoke");e.token||r.throw(new Error("A token is required"));const n=await this._metadataService.getRevocationEndpoint(!1);r.debug("got revocation endpoint, revoking "+(null!=(t=e.token_type_hint)?t:"default token type"));const a=new URLSearchParams;for(const[t,r]of Object.entries(e))null!=r&&a.set(t,r);a.set("client_id",this._settings.client_id),this._settings.client_secret&&a.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(n,{body:a}),r.debug("got response")}},D=class{constructor(e){this.id=e.id||S.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=O.getEpochTime(),this.request_type=e.request_type}toStorageString(){return new E("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})}static fromStorageString(e){return E.createStatic("State","fromStorageString"),new D(JSON.parse(e))}static async clearStaleState(e,t){const r=E.createStatic("State","clearStaleState"),n=O.getEpochTime()-t,a=await e.getAllKeys();r.debug("got keys",a);for(let t=0;t<a.length;t++){const o=a[t],i=await e.get(o);let s=!1;if(i)try{const e=D.fromStorageString(i);r.debug("got item from key:",o,e.created),e.created<=n&&(s=!0)}catch(e){r.error("Error parsing state for key:",o,e),s=!0}else r.debug("no item in storage for key:",o),s=!0;s&&(r.debug("removed item for key:",o),e.remove(o))}}},B=class extends D{constructor(e){super(e),!0===e.code_verifier?this.code_verifier=S.generateCodeVerifier():e.code_verifier&&(this.code_verifier=e.code_verifier),this.code_verifier&&(this.code_challenge=S.generateCodeChallenge(this.code_verifier)),this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}toStorageString(){return new E("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(e){E.createStatic("SigninState","fromStorageString");const t=JSON.parse(e);return new B(t)}},q=class{constructor(e){this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-O.getEpochTime()}set expires_in(e){"string"==typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+O.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},Y=class{constructor(e){this.state=e.get("state"),this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},z=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],W=["sub","iss","aud","exp","iat"],G=class{constructor(e,t){this._logger=new E("OidcClient"),this.settings=e instanceof H?e:new H(e),this.metadataService=null!=t?t:new R(this.settings),this._claimsService=new class{constructor(e){this._settings=e,this._logger=new E("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:z;for(const r of e)W.includes(r)||delete t[r]}return t}mergeClaims(e,t){const r={...e};for(const[e,n]of Object.entries(t))for(const t of Array.isArray(n)?n:[n]){const n=r[e];n?Array.isArray(n)?n.includes(t)||n.push(t):r[e]!==t&&("object"==typeof t&&this._settings.mergeClaims?r[e]=this.mergeClaims(n,t):r[e]=[n,t]):r[e]=t}return r}}(this.settings),this._validator=new class{constructor(e,t,r){this._settings=e,this._metadataService=t,this._claimsService=r,this._logger=new E("ResponseValidator"),this._userInfoService=new class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new E("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const r=N.decode(e);return t.debug("JWT decoding successful"),r}catch(e){throw t.error("Error parsing JWT response"),e}},this._jsonService=new P(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const r=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",r);const n=await this._jsonService.getJson(r,{token:e,credentials:this._settings.fetchRequestCredentials});return t.debug("got claims",n),n}}(this._settings,this._metadataService),this._tokenClient=new F(this._settings,this._metadataService)}async validateSigninResponse(e,t){const r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),await this._processCode(e,t),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),r.debug("claims processed")}async validateCredentialsResponse(e,t){const r=this._logger.create("validateCredentialsResponse");e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,t,e.isOpenId),r.debug("claims processed")}async validateRefreshResponse(e,t){const r=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),r.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const n=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,n),r.debug("claims processed")}validateSignoutResponse(e,t){const r=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&r.throw(new Error("State does not match")),r.debug("state validated"),e.userState=t.data,e.error)throw r.warn("Response was error",e.error),new A(e)}_processSigninState(e,t){const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,null!=e.scope||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new A(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,r=!0){const n=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void n.debug("not loading user info");n.debug("loading user info");const a=await this._userInfoService.getClaims(e.access_token);n.debug("user info claims received from user info endpoint"),r&&a.sub!==e.profile.sub&&n.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(a)),n.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t){const r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");const n=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,...t.extraTokenParams});Object.assign(e,n)}else r.debug("No code to process")}_validateIdTokenAttributes(e,t){var r;const n=this._logger.create("_validateIdTokenAttributes");n.debug("decoding ID Token JWT");const a=N.decode(null!=(r=e.id_token)?r:"");if(a.sub||n.throw(new Error("ID Token is missing a subject claim")),t){const e=N.decode(t);a.sub!==e.sub&&n.throw(new Error("sub in id_token does not match current sub")),a.auth_time&&a.auth_time!==e.auth_time&&n.throw(new Error("auth_time in id_token does not match original auth_time")),a.azp&&a.azp!==e.azp&&n.throw(new Error("azp in id_token does not match original azp")),!a.azp&&e.azp&&n.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=a}}(this.settings,this.metadataService,this._claimsService),this._tokenClient=new F(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:r,request_type:n,id_token_hint:a,login_hint:o,skipUserInfo:i,nonce:s,response_type:c=this.settings.response_type,scope:l=this.settings.scope,redirect_uri:u=this.settings.redirect_uri,prompt:d=this.settings.prompt,display:m=this.settings.display,max_age:h=this.settings.max_age,ui_locales:f=this.settings.ui_locales,acr_values:g=this.settings.acr_values,resource:p=this.settings.resource,response_mode:_=this.settings.response_mode,extraQueryParams:b=this.settings.extraQueryParams,extraTokenParams:y=this.settings.extraTokenParams}){const v=this._logger.create("createSigninRequest");if("code"!==c)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const w=await this.metadataService.getAuthorizationEndpoint();v.debug("Received authorization endpoint",w);const S=new class{constructor({url:e,authority:t,client_id:r,redirect_uri:n,response_type:a,scope:o,state_data:i,response_mode:s,request_type:c,client_secret:l,nonce:u,resource:d,skipUserInfo:m,extraQueryParams:h,extraTokenParams:f,disablePKCE:g,...p}){if(this._logger=new E("SigninRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");if(!r)throw this._logger.error("ctor: No client_id passed"),new Error("client_id");if(!n)throw this._logger.error("ctor: No redirect_uri passed"),new Error("redirect_uri");if(!a)throw this._logger.error("ctor: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("ctor: No scope passed"),new Error("scope");if(!t)throw this._logger.error("ctor: No authority passed"),new Error("authority");this.state=new B({data:i,request_type:c,code_verifier:!g,client_id:r,authority:t,redirect_uri:n,response_mode:s,client_secret:l,scope:o,extraTokenParams:f,skipUserInfo:m});const _=new URL(e);if(_.searchParams.append("client_id",r),_.searchParams.append("redirect_uri",n),_.searchParams.append("response_type",a),_.searchParams.append("scope",o),u&&_.searchParams.append("nonce",u),_.searchParams.append("state",this.state.id),this.state.code_challenge&&(_.searchParams.append("code_challenge",this.state.code_challenge),_.searchParams.append("code_challenge_method","S256")),d){(Array.isArray(d)?d:[d]).forEach(e=>_.searchParams.append("resource",e))}for(const[e,t]of Object.entries({response_mode:s,...p,...h}))null!=t&&_.searchParams.append(e,t.toString());this.url=_.href}}({url:w,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:u,response_type:c,scope:l,state_data:e,prompt:d,display:m,max_age:h,ui_locales:f,id_token_hint:a,login_hint:o,acr_values:g,resource:p,request:t,request_uri:r,extraQueryParams:b,extraTokenParams:y,request_type:n,response_mode:_,client_secret:this.settings.client_secret,skipUserInfo:i,nonce:s,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();const k=S.state;return await this.settings.stateStore.set(k.id,k.toStorageString()),S}async readSigninResponseState(e,t=!1){const r=this._logger.create("readSigninResponseState"),n=new q(I.readParams(e,this.settings.response_mode));if(!n.state)throw r.throw(new Error("No state in response")),null;const a=await this.settings.stateStore[t?"remove":"get"](n.state);if(!a)throw r.throw(new Error("No matching state found in storage")),null;return{state:B.fromStorageString(a),response:n}}async processSigninResponse(e){const t=this._logger.create("processSigninResponse"),{state:r,response:n}=await this.readSigninResponseState(e,!0);return t.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(n,r),n}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:r=!1,extraTokenParams:n={}}){const a=await this._tokenClient.exchangeCredentials({username:e,password:t,...n}),o=new q(new URLSearchParams);return Object.assign(o,a),await this._validator.validateCredentialsResponse(o,r),o}async useRefreshToken({state:e,timeoutInSeconds:t}){var r;const n=this._logger.create("useRefreshToken");let a;if(void 0===this.settings.refreshTokenAllowedScope)a=e.scope;else{const t=this.settings.refreshTokenAllowedScope.split(" ");a=((null==(r=e.scope)?void 0:r.split(" "))||[]).filter(e=>t.includes(e)).join(" ")}const o=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,resource:e.resource,scope:a,timeoutInSeconds:t}),i=new q(new URLSearchParams);return Object.assign(i,o),n.debug("validating response",i),await this._validator.validateRefreshResponse(i,{...e,scope:a}),i}async createSignoutRequest({state:e,id_token_hint:t,client_id:r,request_type:n,post_logout_redirect_uri:a=this.settings.post_logout_redirect_uri,extraQueryParams:o=this.settings.extraQueryParams}={}){const i=this._logger.create("createSignoutRequest"),s=await this.metadataService.getEndSessionEndpoint();if(!s)throw i.throw(new Error("No end session endpoint")),null;i.debug("Received end session endpoint",s),r||!a||t||(r=this.settings.client_id);const c=new class{constructor({url:e,state_data:t,id_token_hint:r,post_logout_redirect_uri:n,extraQueryParams:a,request_type:o,client_id:i}){if(this._logger=new E("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const s=new URL(e);r&&s.searchParams.append("id_token_hint",r),i&&s.searchParams.append("client_id",i),n&&(s.searchParams.append("post_logout_redirect_uri",n),t&&(this.state=new D({data:t,request_type:o}),s.searchParams.append("state",this.state.id)));for(const[e,t]of Object.entries({...a}))null!=t&&s.searchParams.append(e,t.toString());this.url=s.href}}({url:s,id_token_hint:t,client_id:r,post_logout_redirect_uri:a,state_data:e,extraQueryParams:o,request_type:n});await this.clearStaleState();const l=c.state;return l&&(i.debug("Signout request has state to persist"),await this.settings.stateStore.set(l.id,l.toStorageString())),c}async readSignoutResponseState(e,t=!1){const r=this._logger.create("readSignoutResponseState"),n=new Y(I.readParams(e,this.settings.response_mode));if(!n.state){if(r.debug("No state in response"),n.error)throw r.warn("Response was error:",n.error),new A(n);return{state:void 0,response:n}}const a=await this.settings.stateStore[t?"remove":"get"](n.state);if(!a)throw r.throw(new Error("No matching state found in storage")),null;return{state:D.fromStorageString(a),response:n}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:r,response:n}=await this.readSignoutResponseState(e,!0);return r?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(n,r)):t.debug("No state from storage; skipping response validation"),n}clearStaleState(){return this._logger.create("clearStaleState"),D.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},$=class{constructor(e){this._userManager=e,this._logger=new E("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const r=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,r.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,r.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){r.debug("initializing check session iframe");const n=this._userManager.settings.client_id,a=this._userManager.settings.checkSessionIntervalInSeconds,o=this._userManager.settings.stopCheckSessionOnError,i=new j(this._callback,n,e,a,o);await i.load(),this._checkSessionIFrame=i,i.start(t)}else r.warn("no check session iframe found in the metadata")}catch(e){r.error("Error from getCheckSessionIframe:",e instanceof Error?e.message:e)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval(async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub&&e.sid?{sub:e.sub,sid:e.sid}:null};this._start(t)}}catch(t){e.error("error from querySessionStatus",t instanceof Error?t.message:t)}},1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let r=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(r=!1,this._checkSessionIFrame.start(t.session_state),t.sid===this._sid?e.debug("same sub still logged in at OP, restarting check session iframe; session_state",t.session_state):(e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),this._userManager.events._raiseUserSessionChanged())):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),r?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(e=>{this._logger.error(e)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub&&e.sid?{sub:e.sub,sid:e.sid}:null};this._start(t)}}}},J=class{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-O.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+O.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new E("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(e){return E.createStatic("User","fromStorageString"),new J(JSON.parse(e))}},K=class{constructor(){this._abort=new k("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:r,keepOpen:n}=await new Promise((r,n)=>{const a=a=>{var o;const i=a.data,s=null!=(o=e.scriptOrigin)?o:window.location.origin;if(a.origin===s&&"oidc-client"===(null==i?void 0:i.source)){try{const r=I.readParams(i.url,e.response_mode).get("state");if(r||t.warn("no state found in response url"),a.source!==this._window&&r!==e.state)return}catch(e){this._dispose(),n(new Error("Invalid response from window"))}r(i)}};window.addEventListener("message",a,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",a,!1)),this._disposeHandlers.add(this._abort.addHandler(e=>{this._dispose(),n(e)}))});return t.debug("got response from window"),this._dispose(),n||this.close(),{url:r}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,r=!1,n=window.location.origin){e.postMessage({source:"oidc-client",url:t,keepOpen:r},n)}},V={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Q="_blank",Z=60,X=2,ee=10,te=class extends H{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:r=e.post_logout_redirect_uri,popupWindowFeatures:n=V,popupWindowTarget:a=Q,redirectMethod:o="assign",redirectTarget:i="self",iframeNotifyParentOrigin:s=e.iframeNotifyParentOrigin,iframeScriptOrigin:c=e.iframeScriptOrigin,silent_redirect_uri:l=e.redirect_uri,silentRequestTimeoutInSeconds:u=ee,automaticSilentRenew:d=!0,validateSubOnSilentRenew:m=!0,includeIdTokenInSilentRenew:h=!1,monitorSession:f=!1,monitorAnonymousSession:g=!1,checkSessionIntervalInSeconds:p=X,query_status_response_type:_="code",stopCheckSessionOnError:b=!0,revokeTokenTypes:y=["access_token","refresh_token"],revokeTokensOnSignout:v=!1,includeIdTokenInSilentSignout:w=!1,accessTokenExpiringNotificationTimeInSeconds:E=Z,userStore:S}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=r,this.popupWindowFeatures=n,this.popupWindowTarget=a,this.redirectMethod=o,this.redirectTarget=i,this.iframeNotifyParentOrigin=s,this.iframeScriptOrigin=c,this.silent_redirect_uri=l,this.silentRequestTimeoutInSeconds=u,this.automaticSilentRenew=d,this.validateSubOnSilentRenew=m,this.includeIdTokenInSilentRenew=h,this.monitorSession=f,this.monitorAnonymousSession=g,this.checkSessionIntervalInSeconds=p,this.stopCheckSessionOnError=b,this.query_status_response_type=_,this.revokeTokenTypes=y,this.revokeTokensOnSignout=v,this.includeIdTokenInSilentSignout=w,this.accessTokenExpiringNotificationTimeInSeconds=E,S)this.userStore=S;else{const e="undefined"!=typeof window?window.sessionStorage:new M;this.userStore=new U({store:e})}}},re=class extends K{constructor({silentRequestTimeoutInSeconds:e=ee}){super(),this._logger=new E("IFrameWindow"),this._timeoutInSeconds=e,this._frame=re.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout(()=>this._abort.raise(new T("IFrame timed out without a response")),1e3*this._timeoutInSeconds);return this._disposeHandlers.add(()=>clearTimeout(t)),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",e=>{var t;const r=e.target;null==(t=r.parentNode)||t.removeChild(r),this._abort.raise(new Error("IFrame removed from DOM"))},!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},ne=class extends K{constructor({popupWindowTarget:e=Q,popupWindowFeatures:t={}}){super(),this._logger=new E("PopupWindow");const r=C.center({...V,...t});this._window=window.open(void 0,e,C.serialize(r)),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{this._window&&"boolean"==typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))},1e3*t.closePopupWindowAfterInSeconds)}async navigate(e){var t;null==(t=this._window)||t.focus();const r=setInterval(()=>{this._window&&!this._window.closed||this._abort.raise(new Error("Popup closed by user"))},500);return this._disposeHandlers.add(()=>clearInterval(r)),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){if(!window.opener)throw new Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,e,t)}},ae=class extends L{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new E("UserManagerEvents"),this._userLoaded=new k("User loaded"),this._userUnloaded=new k("User unloaded"),this._silentRenewError=new k("Silent renew error"),this._userSignedIn=new k("User signed in"),this._userSignedOut=new k("User signed out"),this._userSessionChanged=new k("User session changed")}load(e,t=!0){super.load(e),t&&this._userLoaded.raise(e)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}_raiseSilentRenewError(e){this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},oe=class{constructor(e,t,r,n){this._logger=new E("UserManager"),this.settings=new te(e),this._client=new G(e),this._redirectNavigator=null!=t?t:new class{constructor(e){this._settings=e,this._logger=new E("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var r;this._logger.create("prepare");let n=window.self;"top"===t&&(n=null!=(r=window.top)?r:window.self);const a=n.location[e].bind(n.location);let o;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise((e,t)=>{o=t});return a(e.url),await t},close:()=>{this._logger.create("close"),null==o||o(new Error("Redirect aborted")),n.stop()}}}async callback(){}}(this.settings),this._popupNavigator=null!=r?r:new class{constructor(e){this._settings=e,this._logger=new E("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget}){return new ne({popupWindowFeatures:e,popupWindowTarget:t})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),ne.notifyOpener(e,t)}}(this.settings),this._iframeNavigator=null!=n?n:new class{constructor(e){this._settings=e,this._logger=new E("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new re({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),re.notifyParent(e,this._settings.iframeNotifyParentOrigin)}}(this.settings),this._events=new ae(this.settings),this._silentRenewService=new class{constructor(e){this._userManager=e,this._logger=new E("SilentRenewService"),this._isStarted=!1,this._retryTimer=new O("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof T)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}}(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new $(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){const e=this._logger.create("getUser"),t=await this._loadUser();return t?(e.info("user loaded"),this._events.load(t,!1),t):(e.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),this._events.unload()}async signinRedirect(e={}){this._logger.create("signinRedirect");const{redirectMethod:t,...r}=e,n=await this._redirectNavigator.prepare({redirectMethod:t});await this._signinStart({request_type:"si:r",...r},n)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),r=await this._signinEnd(e);return r.profile&&r.profile.sub?t.info("success, signed in subject",r.profile.sub):t.info("no subject"),r}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:r=!1}){const n=this._logger.create("signinResourceOwnerCredential"),a=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:r,extraTokenParams:this.settings.extraTokenParams});n.debug("got signin response");const o=await this._buildUser(a);return o.profile&&o.profile.sub?n.info("success, signed in subject",o.profile.sub):n.info("no subject"),o}async signinPopup(e={}){const t=this._logger.create("signinPopup"),{popupWindowFeatures:r,popupWindowTarget:n,...a}=e,o=this.settings.popup_redirect_uri;o||t.throw(new Error("No popup_redirect_uri configured"));const i=await this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:n}),s=await this._signin({request_type:"si:p",redirect_uri:o,display:"popup",...a},i);return s&&(s.profile&&s.profile.sub?t.info("success, signed in subject",s.profile.sub):t.info("no subject")),s}async signinPopupCallback(e=window.location.href,t=!1){const r=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),r.info("success")}async signinSilent(e={}){var t;const r=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:n,resource:a,...o}=e;let i=await this._loadUser();if(null==i?void 0:i.refresh_token){r.debug("using refresh token");const e=new class{constructor(e,t){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.resource=t,this.data=e.state}}(i,a);return await this._useRefreshToken(e)}const s=this.settings.silent_redirect_uri;let c;s||r.throw(new Error("No silent_redirect_uri configured")),i&&this.settings.validateSubOnSilentRenew&&(r.debug("subject prior to silent renew:",i.profile.sub),c=i.profile.sub);const l=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});return i=await this._signin({request_type:"si:s",redirect_uri:s,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==i?void 0:i.id_token:void 0,...o},l,c),i&&((null==(t=i.profile)?void 0:t.sub)?r.info("success, signed in subject",i.profile.sub):r.info("no subject")),i}async _useRefreshToken(e){const t=await this._client.useRefreshToken({state:e,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),r=new J({...e,...t});return await this.storeUser(r),this._events.load(r),r}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":return await this.signinPopupCallback(e);case"si:s":return await this.signinSilentCallback(e);default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:r}=await this._client.readSignoutResponseState(e);if(r)switch(r.request_type){case"so:r":await this.signoutRedirectCallback(e);break;case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:r,...n}=e,a=this.settings.silent_redirect_uri;a||t.throw(new Error("No silent_redirect_uri configured"));const o=await this._loadUser(),i=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r}),s=await this._signinStart({request_type:"si:s",redirect_uri:a,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==o?void 0:o.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...n},i);try{const e=await this._client.processSigninResponse(s.url);return t.debug("got signin response"),e.session_state&&e.profile.sub?(t.info("success for subject",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid}):(t.info("success, user not authenticated"),null)}catch(e){if(this.settings.monitorAnonymousSession&&e instanceof A)switch(e.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:e.session_state}}throw e}}async _signin(e,t,r){const n=await this._signinStart(e,t);return await this._signinEnd(n.url,r)}async _signinStart(e,t){const r=this._logger.create("_signinStart");try{const n=await this._client.createSigninRequest(e);return r.debug("got signin request"),await t.navigate({url:n.url,state:n.state.id,response_mode:n.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signinEnd(e,t){const r=this._logger.create("_signinEnd"),n=await this._client.processSigninResponse(e);r.debug("got signin response");return await this._buildUser(n,t)}async _buildUser(e,t){const r=this._logger.create("_buildUser"),n=new J(e);if(t){if(t!==n.profile.sub)throw r.debug("current user does not match user returned from signin. sub from signin:",n.profile.sub),new A({...e,error:"login_required"});r.debug("current user matches user returned from signin")}return await this.storeUser(n),r.debug("user stored"),this._events.load(n),n}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:r,...n}=e,a=await this._redirectNavigator.prepare({redirectMethod:r});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...n},a),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),r=await this._signoutEnd(e);return t.info("success"),r}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:r,popupWindowTarget:n,...a}=e,o=this.settings.popup_post_logout_redirect_uri,i=await this._popupNavigator.prepare({popupWindowFeatures:r,popupWindowTarget:n});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:null==o?void 0:{},...a},i),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const r=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),r.info("success")}async _signout(e,t){const r=await this._signoutStart(e,t);return await this._signoutEnd(r.url)}async _signoutStart(e={},t){var r;const n=this._logger.create("_signoutStart");try{const a=await this._loadUser();n.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(a);const o=e.id_token_hint||a&&a.id_token;o&&(n.debug("setting id_token_hint in signout request"),e.id_token_hint=o),await this.removeUser(),n.debug("user removed, creating signout request");const i=await this._client.createSignoutRequest(e);return n.debug("got signout request"),await t.navigate({url:i.url,state:null==(r=i.state)?void 0:r.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(e){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),e}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),r=await this._client.processSignoutResponse(e);return t.debug("got signout response"),r}async signoutSilent(e={}){var t;const r=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:n,...a}=e,o=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,i=this.settings.popup_post_logout_redirect_uri,s=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n});await this._signout({request_type:"so:s",post_logout_redirect_uri:i,id_token_hint:o,...a},s),r.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const r=this._logger.create("_revokeInternal");if(!e)return;const n=t.filter(t=>"string"==typeof e[t]);if(n.length){for(const t of n)await this._client.revokeToken(e[t],t),r.info(t+" revoked successfully"),"access_token"!==t&&(e[t]=null);await this.storeUser(e),r.debug("user stored"),this._events.load(e)}else r.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),J.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const r=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,r)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},ie="2.3.0"},function(e,t,r){var n=r(15),a=r(23);for(var o in(t=e.exports=function(e,t){return new a(t).process(e)}).FilterCSS=a,n)t[o]=n[o];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,a;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){var n=r(6),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&n.a.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();t.a=s}).call(this,r(18)(e))},function(e,t){e.exports=tcom.libs.reactDom},function(e,t,r){var n=r(9).FilterCSS,a=r(9).getDefaultWhiteList,o=r(10);function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var s=new n;function c(e){return e.replace(l,"&lt;").replace(u,"&gt;")}var l=/</g,u=/>/g,d=/"/g,m=/&quot;/g,h=/&#([a-zA-Z0-9]*);?/gim,f=/&colon;?/gim,g=/&newline;?/gim,p=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,b=/u\s*r\s*l\s*\(.*/gi;function y(e){return e.replace(d,"&quot;")}function v(e){return e.replace(m,'"')}function w(e){return e.replace(h,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function E(e){return e.replace(f,":").replace(g," ")}function S(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return o.trim(t)}function k(e){return e=S(e=E(e=w(e=v(e))))}function x(e){return e=c(e=y(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=i,t.onTag=function(e,t,r){},t.onIgnoreTag=function(e,t,r){},t.onTagAttr=function(e,t,r){},t.onIgnoreTagAttr=function(e,t,r){},t.safeAttrValue=function(e,t,r,n){if(r=k(r),"href"===t||"src"===t){if("#"===(r=o.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(p.lastIndex=0,p.test(r))return""}else if("style"===t){if(_.lastIndex=0,_.test(r))return"";if(b.lastIndex=0,b.test(r)&&(p.lastIndex=0,p.test(r)))return"";!1!==n&&(r=(n=n||s).process(r))}return r=x(r)},t.escapeHtml=c,t.escapeQuote=y,t.unescapeQuote=v,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=E,t.clearNonPrintableCharacter=S,t.friendlyAttrValue=k,t.escapeAttrValue=x,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],a=!1;return{onIgnoreTag:function(i,s,c){if(function(t){return!!r||-1!==o.indexOf(e,t)}(i)){if(c.isClosing){var l="[/removed]",u=c.position+l.length;return n.push([!1!==a?a:c.position,u]),a=!1,l}return a||(a=c.position),"[removed]"}return t(i,s,c)},remove:function(e){var t="",r=0;return o.forEach(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},t.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var a=e.indexOf("--\x3e",n);if(-1===a)break;r=a+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.attributeWrapSign='"',t.cssFilter=s,t.getDefaultCSSWhiteList=a},function(e,t){function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,a;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,r){var n=r(10);function a(e){var t,r=n.spaceIndex(e);return t=-1===r?e.slice(1,-1):e.slice(1,r+1),"/"===(t=n.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function o(e){return"</"===e.slice(0,2)}var i=/[^a-zA-Z0-9\\_:.-]/gim;function s(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function c(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"'"===r||'"'===r?t:-1}}function l(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function u(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,r){"use strict";var n="",i=0,s=!1,c=!1,l=0,u=e.length,d="",m="";e:for(l=0;l<u;l++){var h=e.charAt(l);if(!1===s){if("<"===h){s=l;continue}}else if(!1===c){if("<"===h){n+=r(e.slice(i,l)),s=l,i=l;continue}if(">"===h||l===u-1){n+=r(e.slice(i,s)),d=a(m=e.slice(s,l+1)),n+=t(s,n.length,d,m,o(m)),i=l+1,s=!1;continue}if('"'===h||"'"===h)for(var f=1,g=e.charAt(l-f);""===g.trim()||"="===g;){if("="===g){c=h;continue e}g=e.charAt(l-++f)}}else if(h===c){c=!1;continue}}return i<u&&(n+=r(e.substr(i))),n},t.parseAttr=function(e,t){"use strict";var r=0,a=0,o=[],d=!1,m=e.length;function h(e,r){if(!((e=(e=n.trim(e)).replace(i,"").toLowerCase()).length<1)){var a=t(e,r||"");a&&o.push(a)}}for(var f=0;f<m;f++){var g,p=e.charAt(f);if(!1!==d||"="!==p)if(!1===d||f!==a)if(/\s|\n|\t/.test(p)){if(e=e.replace(/\s|\n|\t/g," "),!1===d){if(-1===(g=s(e,f))){h(n.trim(e.slice(r,f))),d=!1,r=f+1;continue}f=g-1;continue}if(-1===(g=l(e,f-1))){h(d,u(n.trim(e.slice(r,f)))),d=!1,r=f+1;continue}}else;else{if(-1===(g=e.indexOf(p,f+1)))break;h(d,n.trim(e.slice(a+1,g))),d=!1,r=(f=g)+1}else d=e.slice(r,f),r=f+1,a='"'===e.charAt(r)||"'"===e.charAt(r)?r:c(e,f+1)}return r<e.length&&(!1===d?h(e.slice(r)):h(d,u(n.trim(e.slice(r))))),n.trim(o.join(" "))}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){var n=r(4),a=r(20),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.a.Buffer:void 0,c=(s?s.isBuffer:void 0)||a.a;t.a=c}).call(this,r(18)(e))},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,t,r){},,function(e,t,r){var n=r(15),a=r(24);r(16);function o(e){return null==e}function i(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}i.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,s=t.safeAttrValue;return a(e,(function(e,t,a,c,l){var u=r[a],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(c):u instanceof RegExp&&(d=u.test(c)),!0!==d&&(d=!1),c=s(a,c)){var m,h={position:t,sourcePosition:e,source:l,isWhite:d};return d?o(m=n(a,c,h))?a+":"+c:m:o(m=i(a,c,h))?void 0:m}}))},e.exports=i},function(e,t,r){var n=r(16);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,a=!1,o=0,i=0,s="";function c(){if(!a){var r=n.trim(e.slice(o,i)),c=r.indexOf(":");if(-1!==c){var l=n.trim(r.slice(0,c)),u=n.trim(r.slice(c+1));if(l){var d=t(o,s.length,l,u,r);d&&(s+=d+"; ")}}}o=i+1}for(;i<r;i++){var l=e[i];if("/"===l&&"*"===e[i+1]){var u=e.indexOf("*/",i+2);if(-1===u)break;o=(i=u+1)+1,a=!1}else"("===l?a=!0:")"===l?a=!1:";"===l?a||c():"\n"===l&&c()}return n.trim(s)}},function(e,t,r){var n=r(9).FilterCSS,a=r(14),o=r(17),i=o.parseTag,s=o.parseAttr,c=r(10);function l(e){return null==e}function u(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=a.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map((function(e){return e.toLowerCase()})):t[r.toLowerCase()]=e[r];return t}(e.whiteList||e.allowList):e.whiteList=a.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":a.attributeWrapSign,e.onTag=e.onTag||a.onTag,e.onTagAttr=e.onTagAttr||a.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||a.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||a.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||a.safeAttrValue,e.escapeHtml=e.escapeHtml||a.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,o=t.onIgnoreTag,u=t.onTagAttr,d=t.onIgnoreTagAttr,m=t.safeAttrValue,h=t.escapeHtml,f=this.attributeWrapSign,g=this.cssFilter;t.stripBlankChar&&(e=a.stripBlankChar(e)),t.allowCommentTag||(e=a.stripCommentTag(e));var p=!1;t.stripIgnoreTagBody&&(p=a.StripTagBody(t.stripIgnoreTagBody,o),o=p.onIgnoreTag);var _=i(e,(function(e,t,a,i,p){var _={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(r,a)},b=n(a,i,_);if(!l(b))return b;if(_.isWhite){if(_.isClosing)return"</"+a+">";var y=function(e){var t=c.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=c.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=c.trim(e.slice(0,-1))),{html:e,closing:r}}(i),v=r[a],w=s(y.html,(function(e,t){var r=-1!==c.indexOf(v,e),n=u(a,e,t,r);return l(n)?r?(t=m(a,e,t,g))?e+"="+f+t+f:e:l(n=d(a,e,t,r))?void 0:n:n}));return i="<"+a,w&&(i+=" "+w),y.closing&&(i+=" /"),i+=">"}return l(b=o(a,i,_))?h(i):b}),h);return p&&(_=p.remove(_)),_},e.exports=u},function(e,t){},function(e,t,r){var n;e.exports=(n=r(5),function(e){var t=n,r=t.lib,a=r.WordArray,o=r.Hasher,i=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,a=0;a<64;)t(n)&&(a<8&&(s[a]=r(e.pow(n,.5))),c[a]=r(e.pow(n,1/3)),a++),n++}();var l=[],u=i.SHA256=o.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],u=r[5],d=r[6],m=r[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var f=l[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,p=l[h-2],_=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;l[h]=g+l[h-7]+_+l[h-16]}var b=n&a^n&o^a&o,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),v=m+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+c[h]+l[h];m=d,d=u,u=s,s=i+v|0,i=o,o=a,a=n,n=v+(y+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+i|0,r[4]=r[4]+s|0,r[5]=r[5]+u|0,r[6]=r[6]+d|0,r[7]=r[7]+m|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=e.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},function(e,t,r){var n,a,o;e.exports=(o=r(5),a=(n=o).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],o=0;o<r;o+=3)for(var i=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)a.push(n.charAt(i>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var i=r.charAt(64);if(i){var s=e.indexOf(i);-1!==s&&(t=s)}return function(e,t,r){for(var n=[],o=0,i=0;i<t;i++)if(i%4){var s=r[e.charCodeAt(i-1)]<<i%4*2,c=r[e.charCodeAt(i)]>>>6-i%4*2,l=s|c;n[o>>>2]|=l<<24-o%4*8,o++}return a.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,r){var n;e.exports=(n=r(5),n.enc.Utf8)},function(e,t,r){"use strict";function n(e){this.message=e}r.r(t),r.d(t,"InvalidTokenError",(function(){return i})),n.prototype=new Error,n.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,a,o=0,i=0,s="";a=t.charAt(i++);~a&&(r=o%4?64*r+a:a,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return s};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(a(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return a(t)}}function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",t.default=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new i("Invalid token specified: "+e.message)}}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(32),a=r(33),o=r(34);function i(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=m(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),a=(e=s(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function m(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return D(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return N(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function _(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,a);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,a){var o,i=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,r/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var u=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*i}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var d=!0,m=0;m<c;m++)if(l(e,o+m)!==l(t,m)){d=!1;break}if(d)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function v(e,t,r,n){return q(D(t,e.length-r),e,r,n)}function w(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return w(e,t,r,n)}function S(e,t,r,n){return q(B(t),e,r,n)}function k(e,t,r,n){return q(function(e,t){for(var r,n,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,a=r%256,o.push(a),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function N(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var o,i,s,c,l=e[a],u=null,d=l>239?4:l>223?3:l>191?2:1;if(a+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[a+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&(c=(15&l)<<12|(63&o)<<6|63&i)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),a+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,o=Math.min(r,n);a<o;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var i=e[r];if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,a),a+=i.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),s=Math.min(o,i),l=this.slice(n,a),u=e.slice(t,r),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],i=u[d];break}return o<i?-1:i<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",o=t;o<r;++o)a+=F(e[o]);return a}function A(e,t,r){for(var n=e.slice(t,r),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,a,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-r,2);a<o;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function M(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-r,4);a<o;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function P(e,t,r,n,a,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,n,o){return o||P(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||P(e,0,r,8),a.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;r=new c(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);L(this,e,t,r,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);L(this,e,t,r,a-1,-a)}var o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,o=n-r;if(this===e&&r<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var i=c.isBuffer(e)?e:D(new c(e,n).toString()),s=i.length;for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var r;t=t||1/0;for(var n=e.length,a=null,o=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(11))},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),i=n[0],s=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),u=0,d=s>0?i-4:i;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,o=[],i=0,s=r-a;i<s;i+=16383)o.push(u(e,i,i+16383>s?s:i+16383));1===a?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=i.length;s<c;++s)n[s]=i[s],a[i.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var a,o,i=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,a){var o,i,s=8*a-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?a-1:0,m=r?-1:1,h=e[t+d];for(d+=m,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=m,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=n;u>0;i=256*i+e[t+d],d+=m,u-=8);if(0===o)o=1-l;else{if(o===c)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,n),o-=l}return(h?-1:1)*i*Math.pow(2,o-n)},t.write=function(e,t,r,n,a,o){var i,s,c,l=8*o-a-1,u=(1<<l)-1,d=u>>1,m=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+d>=1?m/c:m*Math.pow(2,1-d))*c>=2&&(i++,c/=2),i+d>=u?(s=0,i=u):i+d>=1?(s=(t*c-1)*Math.pow(2,a),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));a>=8;e[r+h]=255&s,h+=f,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[r+h]=255&i,h+=f,i/=256,l-=8);e[r+h-f]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";r.r(t);r(21);var n=r(0),a=r.n(n),o=(r(13),r(2)),i=r.n(o);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l="Search",u="Cart",d="Switch Membership",m="Menu",h="Sign in",f="Country",g="Support",p="Close",_="Default",b={PRIMARYBUTTON:"tcom-primary-dropdown-control",PRIMARYREGION:"tcom-primary-accordion-region",SECONDARYBUTTON:"tcom-secondary-dropdown-control",SECONDARYREGION:"tcom-secondary-accordion-region"},y=[f,h,m,u],v="earth",w="telstra-ua-loyalty-updated",E="tcom-lego-nav-open-switch-membership",S="TcomCaimanAuthenticated",k={LOYALTY:{DETAILS:"TcomAPILoyaltyDetails",MULTIPOINTS:"TcomAPILoyaltyMultiPoints",HISTORY:"TcomAPILoyaltyHistory"}},x=function(e){return"/content/dam/tcom/able/able-sprites.svg#".concat(e)},N={PERSONAL:"tcomNotificationBarPersonal",BUSINESS:"tcomNotificationBarBusiness",ENTERPRISE:"tcomNotificationBarEnterprise"},C="small-business",O="business-enterprise",I=function(e){var t,r,n,a=window.location.href;if(!(t=a.includes(C)?localStorage.getItem(N.BUSINESS):a.includes(O)?localStorage.getItem(N.ENTERPRISE):localStorage.getItem(N.PERSONAL)))return!0;try{var o=JSON.parse(t),i=o.text,s=o.closedTimestamp;return i!==e.notificationText||(r=s,n=e.daysUntilNotificationShows,(Date.now()-r)/864e5>n)}catch(e){return!0}},A=function(e){var t=document.querySelectorAll("body > *");e?t.forEach((function(e){if(e.querySelector("#tcom-header-react")){if(e.querySelector(".breadcrumbs")){var t;null===(t=e.querySelector(".breadcrumbs"))||void 0===t||t.classList.remove("tcom-lego-header__background-opacity")}}else e.classList.remove("tcom-lego-header__background-opacity")})):t.forEach((function(e){if(e.querySelector("#tcom-header-react")){if(e.querySelector(".breadcrumbs")){var t;null===(t=e.querySelector(".breadcrumbs"))||void 0===t||t.classList.add("tcom-lego-header__background-opacity")}}else e.classList.add("tcom-lego-header__background-opacity")}))},T=function(e){var t=document.querySelectorAll("body > *");e?t.forEach((function(e){if(e.querySelector("#tcom-header-react")){if(e.querySelector(".breadcrumbs")){var t;null===(t=e.querySelector(".breadcrumbs"))||void 0===t||t.classList.remove("d-none","tcom-lego-header__background-opacity")}}else e.classList.remove("d-none","tcom-lego-header__background-opacity")})):t.forEach((function(e){if(e.querySelector("#tcom-header-react")){if(e.querySelector(".breadcrumbs")){var t;null===(t=e.querySelector(".breadcrumbs"))||void 0===t||t.classList.add("d-none","tcom-lego-header__background-opacity")}}else e.classList.add("d-none","tcom-lego-header__background-opacity")}))},L=function(e){return e?e.includes("/content/dam")?e:e.replace(/^\/content\/[^\\/]+(\/|$)/,"/"):""},j=function(e,t,r,n,o,i,s,c){return a.a.createElement("li",{key:L(e)},a.a.createElement("a",{href:L(e),target:t?"_blank":void 0,rel:t?"noopener noreferrer":void 0,className:"tcom-footer-react-footer__anchor"},i&&n&&a.a.createElement("svg",{className:"tcom-footer-react-footer__icon tcom-icon-32",tabIndex:-1,"aria-hidden":!0,focusable:!1},a.a.createElement("use",{href:i.includes("able-sprite")?i:"/content/dam/tcom/able/able-sprites.svg#".concat(i)})),i&&!n&&a.a.createElement("img",{src:i,alt:c||"",className:s}),o&&a.a.createElement("span",{className:"mb-1"},o),r&&t&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"sr-only"},", Opens external site in a new tab"),a.a.createElement("svg",{className:"tcom-icon-16 tcom-footer-react-footer__anchor__arrow",tabIndex:-1,"aria-hidden":"true",focusable:"false",role:"img"},a.a.createElement("use",{href:"/content/dam/tcom/able/able-sprites.svg#OpenExternal"})))))};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=function(e){var t=e.categoryLabel,r=e.categoryLink,o=M(Object(n.useState)(!1),2),i=o[0],s=o[1],c=Object(n.useRef)(null);return a.a.createElement("section",{key:t,className:"tcom-footer-react-mobile-accordion__section"},a.a.createElement("h2",{className:"tcom-footer-react-mobile-accordion__header"},a.a.createElement("button",{className:"tcom-footer-react-mobile-accordion__button",type:"button",onClick:function(){var e=c.current;i?(e&&(e.style.maxHeight="0px",e.style.visibility="hidden"),s(!1)):(s(!0),e&&(e.style.visibility="visible",e.style.maxHeight="".concat(e.scrollHeight,"px")))},"aria-expanded":i,id:"accordion--".concat(t),"aria-controls":"accordion--".concat(t,"-panel-").concat(t)},a.a.createElement("div",{className:"tcom-able__text-label"},t),a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__dropdown-chevron ".concat(i?"tcom-logo-header__secondary-header__button--chevron--active":""),role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:"/content/dam/tcom/able/able-sprites.svg#ChevronDown"})))),r&&a.a.createElement("div",{className:"tab-content",role:"region",id:"accordion--".concat(t,"-panel-").concat(t),"aria-labelledby":"accordion--".concat(t)},a.a.createElement("ul",{ref:c,className:"tcom-footer-react-mobile-accordion",itemScope:!0,itemType:"http://schema.org/SiteNavigationElement"},r.map((function(e){return e.linkURL&&e.linkText?j(e.linkURL,e.external||!1,!0,!0,e.linkText,e.ableIconName):a.a.createElement(a.a.Fragment,null)})))))},U=function(e){var t=e.footerLinks;return t?a.a.createElement(a.a.Fragment,null,t.map((function(e){return e.categoryLabel&&e.categoryLink?a.a.createElement(R,{key:e.categoryLabel,categoryLabel:e.categoryLabel,categoryLink:e.categoryLink}):a.a.createElement(a.a.Fragment,null)}))):a.a.createElement(a.a.Fragment,null)};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D=function(e){if(!e.enableBackToTop)return a.a.createElement(a.a.Fragment,null);var t=H(Object(n.useState)(!1),2),r=t[0],o=t[1],i=H(Object(n.useState)(!1),2),s=i[0],c=i[1];Object(n.useEffect)((function(){var e=function(){var e=function(){if(document.querySelector("#tcom-header-react")||document.querySelector("[data-tcom-global-header]")){var e=document.body.offsetHeight,t=window.scrollY;c(!(0===t||t/e<.25))}};!function(){var t=document.querySelector(".tcom-footer-react--nav");if(t){var r=t.getBoundingClientRect().top,n=window.innerHeight;o(n-r-24<0),e()}else o(!1)}()};return window.addEventListener("scroll",(function(){e()})),function(){return window.removeEventListener("scroll",e)}}),[]),Object(n.useEffect)((function(){var e=function(){window.dispatchEvent(new Event("scroll"))};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var l=function(){var e=document.querySelectorAll('a[href]:not([tabindex="-1"]):not(.skip-link)')[0];e&&e.focus()},u=Object(n.useRef)(null);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tcom-footer-react-back-to-top-wrapper"},a.a.createElement("div",{className:"tcom-footer-react-back-to-top ".concat(r?"tcom-footer-react-back-to-top__container__floating":""),"aria-label":"skip to top",role:"navigation",ref:u},a.a.createElement("div",{className:"tcom-footer-react-back-to-top__container"},a.a.createElement("button",{className:"tcom-footer-react-back-to-top__button ".concat(s?"tcom-footer-react-back-to-top__container__fadein":"tcom-footer-react-back-to-top__container__fadeout"," "),"aria-label":"Top of main content",type:"button",onClick:function(){window.scrollTo({top:0,left:0,behavior:"smooth"}),setTimeout((function(){l()}),1e3)}},a.a.createElement("span",{className:"tcom-able__text-base"},"Top",a.a.createElement("svg",{className:"tcom-icon-24 able-icon tcom-footer-react-back-to-top__button__icon","aria-hidden":"true",focusable:"false"},a.a.createElement("use",{href:"/content/dam/tcom/able/able-sprites.svg#BackToTop"}))))))))};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=function(e){var t=e.configuration,r=B(Object(n.useState)(window.innerWidth>=1024),2),o=r[0],s=r[1],c=t.footerLinksColumn,l=t.acknowledgementCountry,u=t.socialbrands,d=t.shopBrands,m=t.enableBackToTop;Object(n.useEffect)((function(){var e=function(){return s(window.innerWidth>=1024)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(D,{enableBackToTop:m||!1}),a.a.createElement("footer",null,a.a.createElement("nav",{className:"tcom-footer-react--nav"},a.a.createElement("div",{className:"tcom-footer-react--nav__container"},o?c?a.a.createElement("div",null,a.a.createElement("section",{className:"tcom-footer-react--footer-links"},c.map((function(e){var t;return a.a.createElement("div",{key:e.categoryLabel,className:"tcom-footer-react--footer-links-block"},a.a.createElement("h2",{className:"tcom-able__text-label tcom-footer-react--footer-links-label"},e.categoryLabel),a.a.createElement("ul",{itemScope:!0,itemType:"http://schema.org/SiteNavigationElement"},null===(t=e.categoryLink)||void 0===t?void 0:t.map((function(e){return e.linkURL?j(e.linkURL,e.external||!1,!0,!0,e.linkText,e.ableIconName||e.imageUrl):a.a.createElement(a.a.Fragment,null)}))))})))):a.a.createElement(a.a.Fragment,null):a.a.createElement(U,{footerLinks:t.footerLinksColumn}),a.a.createElement("div",{className:"tcom-footer-react-find-us-container"},u&&u.length?a.a.createElement("div",{className:"tcom-footer-react-find-us-block"},a.a.createElement("h2",{className:"tcom-able__text-label tcom-footer-react--footer-links-label"},"Find us"),a.a.createElement("section",{className:"tcom-able__text-fine-print"},a.a.createElement("ul",{className:"tcom-footer-react-find-us__social"},u.map((function(e){return e.linkURL?j(e.linkURL,e.external||!1,!1,!0,e.linkText,e.ableIconName||e.imageUrl):a.a.createElement(a.a.Fragment,null)}))))):a.a.createElement(a.a.Fragment,null),d&&d.length?a.a.createElement("div",null,a.a.createElement("h2",{className:"tcom-able__text-label tcom-footer-react--footer-links-label"},"Shop by brand"),a.a.createElement("section",null,a.a.createElement("ul",{className:"tcom-footer-react-shop--brand"},d.map((function(e){return e.linkURL?j(e.linkURL,e.external||!1,!1,!1,void 0,e.ableIconName||e.imageUrl,"apple-logo",e.imageAlt||void 0):a.a.createElement(a.a.Fragment,null)}))))):a.a.createElement(a.a.Fragment,null)),null!=l&&l.copy?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"telstra-footer-react-acknowledgements--divider"}),a.a.createElement("section",{className:"telstra-footer-react-acknowledgements--section"},l.copy&&a.a.createElement("div",{className:"telstra-footer-react-acknowledgements--content tcom-able__text-fine-print tcom-able__inline-link",dangerouslySetInnerHTML:{__html:i()(l.copy.innerHTML||"")}}),l.image&&a.a.createElement("div",{className:"telstra-footer-react-acknowledgements--figure"},a.a.createElement("img",{src:l.image,alt:l.altText})))):a.a.createElement(a.a.Fragment,null)))))},z=function(){var e,t,r=document.querySelector("[data-tcom-footer-json]");if(r){var n=r.dataset.tcomFooterEnableBackToTop,a=r.querySelectorAll("[data-tcom-footer-column-link]");if(a.length){var o,i,s,c,l,u,d,m,h,f,g,p,_,b=Array.from(a),y=function(e){var t,r={categoryLabel:void 0,categoryLink:[]};if(e.forEach((function(e){var t;r.categoryLabel=e.getAttribute("data-tcom-footer-title")||void 0,null===(t=r.categoryLink)||void 0===t||t.push({ableIconName:e.getAttribute("data-tcom-footer-column-link-able-icon")||void 0,linkText:e.getAttribute("data-tcom-footer-column-link-link-text")||void 0,linkURL:e.getAttribute("data-tcom-footer-column-link-url")||void 0,imageUrl:e.getAttribute("data-tcom-footer-column-link-image-url")||void 0,imageAlt:e.getAttribute("data-tcom-footer-column-link-image-alt")||void 0,external:"true"===e.getAttribute("data-tcom-footer-column-link-external")})})),null!==(t=r.categoryLink)&&void 0!==t&&t.length)return r},v=b.filter((function(e){return"linksone"===e.getAttribute("data-tcom-footer-column-link")})),w=b.filter((function(e){return"linkstwo"===e.getAttribute("data-tcom-footer-column-link")})),E=b.filter((function(e){return"linksthree"===e.getAttribute("data-tcom-footer-column-link")})),S=b.filter((function(e){return"linksfour"===e.getAttribute("data-tcom-footer-column-link")})),k=b.filter((function(e){return"socialLinks"===e.getAttribute("data-tcom-footer-column-link")})),x=b.filter((function(e){return"brandsLinks"===e.getAttribute("data-tcom-footer-column-link")})),N=r.querySelector("[data-tcom-footer-acknowledgement-country]");return{enableBackToTop:"true"===n,acknowledgementCountry:{copy:N,image:null==N?void 0:N.dataset.tcomFooterAcknowledgementCountryImage,altText:null==N?void 0:N.dataset.tcomFooterAcknowledgementCountryAltText},socialbrands:null===(e=y(k))||void 0===e?void 0:e.categoryLink,shopBrands:null===(t=y(x))||void 0===t?void 0:t.categoryLink,footerLinksColumn:(o=v,i=w,s=E,c=S,h=[],f=y(o),g=y(i),p=y(s),_=y(c),null!=f&&null!==(l=f.categoryLink)&&void 0!==l&&l.length&&h.push(f),null!=g&&null!==(u=g.categoryLink)&&void 0!==u&&u.length&&h.push(g),null!=p&&null!==(d=p.categoryLink)&&void 0!==d&&d.length&&h.push(p),null!=_&&null!==(m=_.categoryLink)&&void 0!==m&&m.length&&h.push(_),h.length?h:void 0)}}}},W=function(){var e,t=document.getElementById("tcom-footer-react");if(t){var r=z();if(r){var n=window.tcom.libs.reactDom,o=document.querySelector("[data-tcom-footer-json]");o&&(null===(e=o.parentElement)||void 0===e||e.removeChild(o)),n.render(a.a.createElement(Y,{configuration:r}),t)}}},G=r(1),$=r.n(G),J="click",K="error",V="internalSearch",Q="clickHeader",Z="technical",X="clickSearchQuickLinks",ee=function(){return window.digitalData=window.digitalData||{},window.digitalData},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=ee();r.event=r.event||[];var n={eventAction:J,eventType:Q,eventCategory:t,eventName:e};r.event.push({eventInfo:n})},re=function(e,t){var r=ee();r.event=r.event||[];var n={eventAction:K,eventType:Z,eventCategory:e,eventName:t};r.event.push({eventInfo:n})},ne=function(e,t){!function(e,t,r,n){var a=ee();a.event=a.event||[];var o={eventAction:e,eventType:t,eventCategory:r,eventName:n};a.event.push({eventInfo:o})}(V,"","","");var r=ee();r.event=r.event||[];var n={eventAction:J,eventType:X,eventCategory:e,eventName:t};r.event.push({eventInfo:n})},ae=function(e){var t=ee(),r={profileInfo:{userContactUUID:e}},n=[];n.push(r),t.user=t.user||[],t.user.push({profile:n})},oe=r(3),ie=r.n(oe),se=Array.isArray,ce=r(4),le=ce.a.Symbol,ue=Object.prototype,de=ue.hasOwnProperty,me=ue.toString,he=le?le.toStringTag:void 0;var fe=function(e){var t=de.call(e,he),r=e[he];try{e[he]=void 0;var n=!0}catch(e){}var a=me.call(e);return n&&(t?e[he]=r:delete e[he]),a},ge=Object.prototype.toString;var pe=function(e){return ge.call(e)},_e=le?le.toStringTag:void 0;var be=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_e&&_e in Object(e)?fe(e):pe(e)};var ye=function(e){return null!=e&&"object"==typeof e};var ve=function(e){return"symbol"==typeof e||ye(e)&&"[object Symbol]"==be(e)},we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/;var Se=function(e,t){if(se(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ve(e))||(Ee.test(e)||!we.test(e)||null!=t&&e in Object(t))};var ke=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var xe,Ne=function(e){if(!ke(e))return!1;var t=be(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ce=ce.a["__core-js_shared__"],Oe=(xe=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+xe:"";var Ie=function(e){return!!Oe&&Oe in e},Ae=Function.prototype.toString;var Te=function(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Le=/^\[object .+?Constructor\]$/,je=Function.prototype,Me=Object.prototype,Pe=je.toString,Re=Me.hasOwnProperty,Ue=RegExp("^"+Pe.call(Re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var He=function(e){return!(!ke(e)||Ie(e))&&(Ne(e)?Ue:Le).test(Te(e))};var Fe=function(e,t){return null==e?void 0:e[t]};var De=function(e,t){var r=Fe(e,t);return He(r)?r:void 0},Be=De(Object,"create");var qe=function(){this.__data__=Be?Be(null):{},this.size=0};var Ye=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ze=Object.prototype.hasOwnProperty;var We=function(e){var t=this.__data__;if(Be){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ze.call(t,e)?t[e]:void 0},Ge=Object.prototype.hasOwnProperty;var $e=function(e){var t=this.__data__;return Be?void 0!==t[e]:Ge.call(t,e)};var Je=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Be&&void 0===t?"__lodash_hash_undefined__":t,this};function Ke(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ke.prototype.clear=qe,Ke.prototype.delete=Ye,Ke.prototype.get=We,Ke.prototype.has=$e,Ke.prototype.set=Je;var Ve=Ke;var Qe=function(){this.__data__=[],this.size=0};var Ze=function(e,t){return e===t||e!=e&&t!=t};var Xe=function(e,t){for(var r=e.length;r--;)if(Ze(e[r][0],t))return r;return-1},et=Array.prototype.splice;var tt=function(e){var t=this.__data__,r=Xe(t,e);return!(r<0)&&(r==t.length-1?t.pop():et.call(t,r,1),--this.size,!0)};var rt=function(e){var t=this.__data__,r=Xe(t,e);return r<0?void 0:t[r][1]};var nt=function(e){return Xe(this.__data__,e)>-1};var at=function(e,t){var r=this.__data__,n=Xe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ot(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ot.prototype.clear=Qe,ot.prototype.delete=tt,ot.prototype.get=rt,ot.prototype.has=nt,ot.prototype.set=at;var it=ot,st=De(ce.a,"Map");var ct=function(){this.size=0,this.__data__={hash:new Ve,map:new(st||it),string:new Ve}};var lt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ut=function(e,t){var r=e.__data__;return lt(t)?r["string"==typeof t?"string":"hash"]:r.map};var dt=function(e){var t=ut(this,e).delete(e);return this.size-=t?1:0,t};var mt=function(e){return ut(this,e).get(e)};var ht=function(e){return ut(this,e).has(e)};var ft=function(e,t){var r=ut(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function gt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gt.prototype.clear=ct,gt.prototype.delete=dt,gt.prototype.get=mt,gt.prototype.has=ht,gt.prototype.set=ft;var pt=gt;function _t(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(_t.Cache||pt),r}_t.Cache=pt;var bt=_t;var yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vt=/\\(\\)?/g,wt=function(e){var t=bt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(yt,(function(e,r,n,a){t.push(n?a.replace(vt,"$1"):r||e)})),t}));var Et=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},St=le?le.prototype:void 0,kt=St?St.toString:void 0;var xt=function e(t){if("string"==typeof t)return t;if(se(t))return Et(t,e)+"";if(ve(t))return kt?kt.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var Nt=function(e){return null==e?"":xt(e)};var Ct=function(e,t){return se(e)?e:Se(e,t)?[e]:wt(Nt(e))};var Ot=function(e){if("string"==typeof e||ve(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var It=function(e,t){for(var r=0,n=(t=Ct(t,e)).length;null!=e&&r<n;)e=e[Ot(t[r++])];return r&&r==n?e:void 0};var At=function(e,t,r){var n=null==e?void 0:It(e,t);return void 0===n?r:n};function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(a||[]);return n(i,"_invoke",{value:w(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var p=Object.getPrototypeOf,_=p&&p(p(N([])));_&&_!==t&&r.call(_,o)&&(g=_);var b=f.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Tt(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function jt(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Mt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){jt(o,n,a,i,s,"next",e)}function s(e){jt(o,n,a,i,s,"throw",e)}i(void 0)}))}}var Pt={POINTS:"tcom.authenticated.user.points.balance",TIER:"tcom.authenticated.user.account.tier",NAME:"tcom.authenticated.user.points.name",ACCOUNTID:"tcom.authenticated.user.account.id",CAC:"tcom.authenticated.user.account.cac",ENROLLMENTSTATUS:"tcom.authenticated.user.account.enrollmentstatus",ACCOUNTUUID:"tcom.authenticated.user.account.uuid",ACCOUNTS:{RAW:"tcom.authenticated.user.accounts.details.raw",USERS:"tcom.authenticated.user.accounts.list",POINTS:"tcom.authenticated.user.accounts.points.list",HISTORY:"tcom.authenticated.user.accounts.points.history"}},Rt=function(e){switch(e){case"non-prod":return"https://slot2.org002.t-dev.telstra.net/presentation/v1/tcom/loyalty/points";case"staging":return"https://staging-tapi.telstra.com/presentation/v1/tcom/loyalty/points";default:return"https://tapi.telstra.com/presentation/v1/tcom/loyalty/points"}},Ut=function(e){switch(e){case"non-prod":case"staging":case"stage":return"https://slot2.org002.t-dev.corp.telstra.com/presentation/v1";default:return"https://tapi.telstra.com/presentation/v1"}},Ht=function(){var e=Mt(Lt().mark((function e(t,r){var n,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},a=Rt(r),e.abrupt("return",new Promise((function(e,t){ie.a.get(a,{headers:n}).then((function(r){r.data.data&&200===r.data.status?e(r.data.data):t(r.data)})).catch((function(e){e.response?t(e.response):t(new Error("Internal server error. Please try again later."))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ft=function(){var e=Mt(Lt().mark((function e(t,r){var n,a,o,i,s,c;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:e.next=11;break;case 11:if(n=t.apiVersion,!r){e.next=37;break}if(!(a=window.sessionStorage.getItem(Pt.POINTS))||Number.isNaN($.a.parseInt(a))){e.next=18;break}return(o=window.sessionStorage.getItem(Pt.ACCOUNTID))&&ae(o),e.abrupt("return",$.a.parseInt(a));case 18:return i=n||"non-prod",e.prev=19,e.next=22,Ht(r,i);case 22:return(s=e.sent).loyaltyPoints&&window.sessionStorage.setItem(Pt.POINTS,"".concat(s.loyaltyPoints)),s.accountId&&(window.sessionStorage.setItem(Pt.ACCOUNTID,"".concat(s.accountId)),ae("".concat(s.accountId))),s.cac&&window.sessionStorage.setItem(Pt.CAC,"".concat(s.cac)),s.accountuuid&&window.sessionStorage.setItem(Pt.ACCOUNTUUID,"".concat(s.accountuuid)),s.accountLoyaltyStatus&&window.sessionStorage.setItem(Pt.ENROLLMENTSTATUS,"".concat(s.accountLoyaltyStatus)),c=new CustomEvent("telstra-ua-loyalty-status"),window.dispatchEvent(c),e.abrupt("return",$.a.parseInt(s.loyaltyPoints));case 33:e.prev=33,e.t0=e.catch(19),e.t0.status&&e.t0.statusMessage?re(e.t0.status,e.t0.statusMessage):e.t0.status&&e.t0.statusText&&re(e.t0.status,e.t0.statusText),console.error("Internal error while fetching user loyalty data",e.t0);case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,null,[[19,33]])})));return function(t,r){return e.apply(this,arguments)}}(),Dt=function(){var e=Mt(Lt().mark((function e(t,r,n,a,o){var i,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={"Content-Type":"application/json",Authorization:"Bearer ".concat(t),fn:o},s=Rt(r),e.abrupt("return",new Promise((function(e,t){ie.a.post(s,{params:n,key:a},{headers:i}).then((function(r){r.data.data&&200===r.data.status?e(r.data.data):t(r.data)})).catch((function(e){e.response?t(e.response):t(new Error("Internal server error. Please try again later."))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}();var Bt=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}();var qt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Yt=function(e){return ye(e)&&"[object Arguments]"==be(e)},zt=Object.prototype,Wt=zt.hasOwnProperty,Gt=zt.propertyIsEnumerable,$t=Yt(function(){return arguments}())?Yt:function(e){return ye(e)&&Wt.call(e,"callee")&&!Gt.call(e,"callee")},Jt=r(19),Kt=/^(?:0|[1-9]\d*)$/;var Vt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Kt.test(e))&&e>-1&&e%1==0&&e<t};var Qt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var Xt=function(e){return ye(e)&&Qt(e.length)&&!!Zt[be(e)]};var er=function(e){return function(t){return e(t)}},tr=r(12),rr=tr.a&&tr.a.isTypedArray,nr=rr?er(rr):Xt,ar=Object.prototype.hasOwnProperty;var or=function(e,t){var r=se(e),n=!r&&$t(e),a=!r&&!n&&Object(Jt.a)(e),o=!r&&!n&&!a&&nr(e),i=r||n||a||o,s=i?qt(e.length,String):[],c=s.length;for(var l in e)!t&&!ar.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vt(l,c))||s.push(l);return s},ir=Object.prototype;var sr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ir)};var cr=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),lr=Object.prototype.hasOwnProperty;var ur=function(e){if(!sr(e))return cr(e);var t=[];for(var r in Object(e))lr.call(e,r)&&"constructor"!=r&&t.push(r);return t};var dr=function(e){return null!=e&&Qt(e.length)&&!Ne(e)};var mr=function(e){return dr(e)?or(e):ur(e)};var hr=function(e,t){return e&&Bt(e,t,mr)};var fr=function(e){return e};var gr=function(e){return"function"==typeof e?e:fr};var pr=function(e,t){return e&&hr(e,gr(t))},_r={},br=function(e){pr(e,(function(e,t){_r[t]=e})),_r.timestamp=(new Date).getTime();var t=JSON.stringify(_r);localStorage.setItem("userOIDCTelstraComAu",t)},yr=function(){localStorage.removeItem("userOIDCTelstraComAu")},vr=function(){try{var e=localStorage.getItem("userOIDCTelstraComAu");if(!e)return;var t=JSON.parse(e),r=new Date(t.timestamp);return((new Date).valueOf()-r.valueOf())/6e4>=15?void yr():t}catch(e){return}},wr=function(){try{var e=De(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Er=function(e,t,r){"__proto__"==t&&wr?wr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Sr=Object.prototype.hasOwnProperty;var kr=function(e,t,r){var n=e[t];Sr.call(e,t)&&Ze(n,r)&&(void 0!==r||t in e)||Er(e,t,r)};var xr=function(e,t,r,n){if(!ke(e))return e;for(var a=-1,o=(t=Ct(t,e)).length,i=o-1,s=e;null!=s&&++a<o;){var c=Ot(t[a]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=i){var u=s[c];void 0===(l=n?n(u,c,s):void 0)&&(l=ke(u)?u:Vt(t[a+1])?[]:{})}kr(s,c,l),s=s[c]}return e};var Nr=function(e,t,r){return null==e?e:xr(e,t,r)},Cr=r(8),Or=function(){var e=At(window,"global.ssoUrl")||"https://myid.telstra.com",t=new URL(window.location.href);t.searchParams.delete("timedout"),t.searchParams.delete("logout");var r=t.toString().split("#")[0];return{authority:"".concat(e,"/identity/as/authorization.oauth2"),client_id:"b2c-telstracomau",redirect_uri:r,response_type:"code",scope:"openid app.telstracomau",post_logout_redirect_uri:"".concat(r).concat(r.includes("?")?"&":"?","logout=true"),post_timeout_redirect_uri:"".concat("/"===r[r.length-1]?r.slice(0,-1):r).concat(r.includes("?")?"&":"?","timedout=true"),silent_redirect_uri:At(window,"global.silentSsoUrl")||"https://www.telstra.com.au/etc/designs/lego/nav-lego/sso/silent-sso.htm",automaticSilentRenew:!1,metadata:{issuer:"".concat(e,"/identity"),jwks_uri:"".concat(e,"/identity/pf/JWKS"),authorization_endpoint:"".concat(e,"/identity/as/authorization.oauth2"),userinfo_endpoint:"".concat(e,"/identity/idp/userinfo.openid"),end_session_endpoint:"".concat(e,"/identity/idp/startSLO.ping"),introspection_endpoint:"".concat(e,"/identity/as/introspect.oauth2"),token_endpoint:"".concat(e,"/identity/as/token.oauth2")}}};function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ar=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(a||[]);return n(i,"_invoke",{value:w(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var p=Object.getPrototypeOf,_=p&&p(p(N([])));_&&_!==t&&r.call(_,o)&&(g=_);var b=f.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Ir(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Tr(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Lr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Tr(o,n,a,i,s,"next",e)}function s(e){Tr(o,n,a,i,s,"throw",e)}i(void 0)}))}}Cr.Log.setLevel(Cr.Log.NONE);var jr=function(e){try{return new Event(e)}catch(e){return document.createEvent("Event")}},Mr=function(){var e=window!==window.parent,t=window.location.href;return e||t.includes("explore.inside.telstra.com.au")},Pr=!1,Rr=Or(),Ur=Mr()?void 0:new Cr.UserManager(Rr),Hr=null,Fr=function(e){yr(),Ur&&(window.sessionStorage.removeItem("tcom.authenticated.user.points.balance"),window.sessionStorage.removeItem("tcom.authenticated.user.account.id"),window.sessionStorage.removeItem("tcom.authenticated.user.account.cac"),window.sessionStorage.removeItem("tcom.authenticated.user.account.enrollmentstatus"),window.sessionStorage.removeItem("tcom.authenticated.user.account.uuid"),Ur.clearStaleState().finally((function(){Ur.signoutRedirect({extraQueryParams:{TargetResource:e?Rr.post_timeout_redirect_uri:Rr.post_logout_redirect_uri}})})))},Dr=function(){Ur&&Ur.signinSilent().then((function(e){return Hr=e,Pr=!0,br(e),document.dispatchEvent(jr("TcomAuthenticationSuccess")),Hr})).catch((function(){Hr=null,Pr=!1,yr()})).finally((function(){Ur.clearStaleState(),document.dispatchEvent(jr("TcomCaimanAuthenticated")),document.dispatchEvent(jr("TcomCaimanSilentLogin"))}))},Br=function(){var e=Lr(Ar().mark((function e(){var t;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:if(Ur){e.next=6;break}return e.abrupt("return",Promise.reject());case 6:return e.prev=6,e.next=9,Ur.signinRedirectCallback();case 9:return(t=e.sent).state&&document.dispatchEvent(new CustomEvent("".concat(t.state))),Hr=t,e.abrupt("return",Promise.resolve(Hr));case 15:return e.prev=15,e.t0=e.catch(6),Ur.clearStaleState(),e.abrupt("return",Promise.reject());case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),qr=function(){return!!vr()},Yr=function(){var e=Lr(Ar().mark((function e(){var t,r,n,a,o;return Ar().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelector(".telstraHeader")){e.next=3;break}return e.abrupt("return");case 3:if(!Mr()&&Ur){e.next=5;break}return e.abrupt("return");case 5:if(Nr(window,"tcom.form.utils.showid",(function(e){Ur&&Ur.signinRedirect({state:e})})),window.authCaiman=window.authCaiman||{},window.authCaiman.isLoggedIn=qr,window.authCaiman.getUser=vr,window.dispatchEvent(jr("TcomCaimanInitialized")),window.authCaiman.silentSSOLogin=!0,window.ssoAuthTelstraConfig=Rr,vr()&&(Pr=!0),Ur.events.addAccessTokenExpired((function(){Pr=!1,Hr=null})),t=window.location.search.substring(1).indexOf("code=")>=0,r=window.location.search.substring(1).indexOf("logout=")>=0,n=window.location.search.substring(1).indexOf("slg=")>=0,a=window.location.search.includes("login_required"),o=navigator.userAgent.toLowerCase().includes("safari")&&!navigator.userAgent.toLowerCase().includes("chrome"),!a||!o){e.next=20;break}return window.history.replaceState({},"",window.location.pathname),e.abrupt("return");case 20:if(!r){e.next=24;break}Ur.signoutRedirectCallback().catch().finally((function(){null==Ur||Ur.clearStaleState(),null==Ur||Ur.removeUser(),window.history.replaceState({},"",window.location.pathname+(window.location.hash?window.location.hash:""))})),e.next=32;break;case 24:if(!t){e.next=31;break}if(window.self===window.top){e.next=28;break}return Ur.signinSilentCallback(window.location.href),e.abrupt("return");case 28:Br().then((function(e){br(e),window.history.replaceState({},"",window.location.pathname+(window.location.hash?window.location.hash:"")),Pr=!0,document.dispatchEvent(jr("TcomCaimanAuthenticated")),document.dispatchEvent(jr("TcomCaimanLoggedIn"))})).catch((function(){window.history.replaceState({},"",window.location.pathname+(window.location.hash?window.location.hash:""))})),e.next=32;break;case 31:n&&!qr()?o&&!a?Ur.signinRedirect({prompt:"none"}):Dr():(!Pr&&window.authCaiman.silentSSOLogin||Pr)&&Dr();case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Wr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(a||[]);return n(i,"_invoke",{value:w(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var p=Object.getPrototypeOf,_=p&&p(p(N([])));_&&_!==t&&r.call(_,o)&&(g=_);var b=f.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==zr(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Gr(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function $r(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Gr(o,n,a,i,s,"next",e)}function s(e){Gr(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vr=Object(n.createContext)(null),Qr=function(e){var t=e.properties,r=e.isAgent,o=e.children,i=Jr(Object(n.useState)(r),1)[0],s=Jr(Object(n.useState)(null),2),c=s[0],l=s[1],u=Jr(Object(n.useState)(null),2),d=u[0],m=u[1],h=Jr(Object(n.useState)(null),2),f=h[0],g=h[1],p=Jr(Object(n.useState)(!(!window.authCaiman||!window.authCaiman.getUser())||!1),2),_=p[0],b=p[1],y=Jr(Object(n.useState)(null),2),v=y[0],E=y[1],x=Jr(Object(n.useState)(!0),2),N=x[0],C=x[1],O=Jr(Object(n.useState)(null),2),I=O[0],A=O[1],T=Jr(Object(n.useState)(!1),2),L=T[0],j=T[1],M=Jr(Object(n.useState)(!1),2),P=M[0],R=M[1],U=Jr(Object(n.useState)(!1),2),H=U[0],F=U[1],D=Jr(Object(n.useState)(null),2)[1],B=Jr(Object(n.useState)(null),2),q=B[0],Y=B[1];Object(n.useEffect)((function(){document.addEventListener(S,(function(){b(!0)}));var e,r,n=window.authCaiman&&window.authCaiman.getUser();n&&!I&&t.signIn&&t.signIn.enableTPlusAPIs&&(e=t.signIn&&t.signIn.enableTPlusAPIs?t.signIn.enableTPlusAPIs:"prod",r=n.access_token,new Promise((function(t,n){var a=window.sessionStorage.getItem(Pt.ACCOUNTS.USERS),o=window.sessionStorage.getItem(Pt.ACCOUNTS.RAW);a&&o?t(JSON.parse(a)):ie.a.get("".concat(Ut(e),"/loyalty/cip/details"),{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){if(200===e.status){var r=At(e.data.data,"accounts",[]);window.sessionStorage.setItem(Pt.ACCOUNTS.USERS,JSON.stringify(r)),window.sessionStorage.setItem(Pt.ACCOUNTS.RAW,JSON.stringify(e.data.data)),window.dispatchEvent(new CustomEvent(k.LOYALTY.DETAILS)),t(r)}else n(new Error("Error Querying Details"))})).catch((function(){n(new Error("Error Querying Details"))}))}))).then((function(e){var t=e.filter((function(e){return"enrolled"===e.enrollmentStatus.toLowerCase()&&["account owner","full authority"].includes(e.role.toLowerCase())}));t.length>1&&F(!0);var r="",n={},a=window.sessionStorage.getItem(Pt.CAC)||e[0].accountId;t.forEach((function(e,t){var o=e.accountId,i=e.accountName,s=e.loyaltyTier,c=e.loyaltyRolledSum,l=e.accountRegisteredDate;r+=t?",".concat(o):o;var u={id:o,name:i,tier:s.toLowerCase(),loyaltyRolledSum:c,accountRegisteredDate:new Date(l)};n[o]=u,o===a&&(Y(u),window.sessionStorage.setItem(Pt.TIER,u.tier),window.dispatchEvent(new CustomEvent(w)))})),A(r),E(n),R(!0)})).catch((function(){C(!1)}))}),[_]),Object(n.useEffect)((function(){if(!L&&I&&P&&q){var e=window.authCaiman&&window.authCaiman.getUser();if(!e)return;(r=t.signIn&&t.signIn.enableTPlusAPIs?t.signIn.enableTPlusAPIs:"prod",n=e.access_token,a=I,new Promise((function(e,t){var o=window.sessionStorage.getItem(Pt.ACCOUNTS.POINTS);o?e(JSON.parse(o)):ie.a.get("".concat(Ut(r),"/loyalty/cip/points?cacList=").concat(a),{headers:{Authorization:"Bearer ".concat(n)}}).then((function(r){if(200===r.status){var n=At(r.data.data.loyalty,"accounts",[]);window.sessionStorage.setItem(Pt.ACCOUNTS.POINTS,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(k.LOYALTY.MULTIPOINTS)),e(n)}else t(new Error("Error Querying Points"))})).catch((function(){t(new Error("Error Querying Points"))}))}))).then((function(e){var t=$.a.cloneDeep(v);e.forEach((function(e){var r=e.accountId,n=e.points,a=t[r];a&&(a.points=n.loyaltyPoints,q.id===r&&D(n.loyaltyPoints))})),E(t),j(!0)})).catch((function(){C(!1)}))}var r,n,a}),[I,P,q]),Object(n.useEffect)((function(){if(!L&&I&&P&&q){var e=new Date;e.setFullYear(e.getFullYear()-1);var r=window.authCaiman&&window.authCaiman.getUser();if(!r)return;!function(e,t,r,n){var a=(new Date).toISOString().slice(0,10);new Promise((function(o,i){ie.a.get("".concat(Ut(e),"/loyalty/cip/points/history?cacList=").concat(r,"&startDate=").concat(n,"&endDate=").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(200===e.status){var t=At(e.data.data,"accounts",[]);window.sessionStorage.setItem(Pt.ACCOUNTS.HISTORY,JSON.stringify(t)),window.dispatchEvent(new CustomEvent(k.LOYALTY.HISTORY)),o(t)}else i(new Error("Error Querying Points History"))})).catch((function(){i(new Error("Error Querying Points History"))}))}))}(t.signIn&&t.signIn.enableTPlusAPIs?t.signIn.enableTPlusAPIs:"prod",r.access_token,I,e.toISOString().slice(0,10))}}),[I,P,q]),Object(n.useEffect)((function(){var e=function e(){var r=vr();t.signIn&&t.signIn.loyalty&&r?Ft(t.signIn.loyalty,r.access_token).then((function(e){e&&!Number.isNaN(e)&&m(e)})).catch((function(){})):(document.addEventListener("TcomCaimanLoggedIn",e),document.addEventListener("TcomCaimanAuthenticated",e)),r&&l(r)};return r?function(){var e=$r(Wr().mark((function e(){return Wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("telstra-secure-auth",$r(Wr().mark((function e(){var r,n,a,o,i,s,c,l;return Wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.signIn&&t.signIn.loyalty){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,window.tcom.webadaptor.getSession();case 5:if((r=e.sent)&&r.sessionCache){e.next=8;break}return e.abrupt("return");case 8:if(!r.sessionCache.loyaltyData){e.next=11;break}return g($.a.truncate($.a.upperFirst(r.sessionCache.loyaltyData)||"New Customer",{length:15})),e.abrupt("return");case 11:if(n=r.sessionCache.exploreAgentAuth,a=r.sessionCache.key,n&&a){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,window.tcom.secureauth.getAccessToken();case 17:return o=e.sent,i=r.sessionCache.profile,s=i&&"tls"===i.toLowerCase()?"ag-p":"ag-s",e.next=22,Dt(o,t.signIn.loyalty?t.signIn.loyalty.apiVersion:"non-prod",n,a,s);case 22:return c=e.sent,g($.a.truncate($.a.upperFirst(c.customerName)||"New Customer",{length:15})),l={loyaltyData:c.customerName||"New Customer",role:c.role||void 0,contactuuid:c.accountId||void 0,accountType:c.accountType||void 0,cac:c.cac||void 0,accountuuid:c.accountuuid||void 0,accountLoyaltyStatus:c.accountLoyaltyStatus||void 0,salesAgreement:c.salesAgreement||void 0,serviceId:c.serviceId||void 0},e.next=27,window.tcom.webadaptor.setSession(l);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log("Agent Loyalty Error:",e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():e(),function(){document.removeEventListener("TcomCaimanLoggedIn",e),document.removeEventListener("TcomCaimanAuthenticated",e)}}),[r,t.signIn]);var z=Object(n.useMemo)((function(){return{properties:t,authenticatedUser:c,setAuthenticatedUser:l,userLoyaltyPoints:d,setUserLoyaltyPoints:m,agent:i,agentUser:f,setAgentUser:g,hasAssociatedAccounts:N,accountUsers:v,activeUser:q,setActiveUser:Y,hasMultipleAccounts:H}}),[t,c,d,i,f,N,v,q,H]);return a.a.createElement(Vr.Provider,{value:z},o)},Zr=Vr;function Xr(e){return function(e){if(Array.isArray(e))return rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||tn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){if(e){if("string"==typeof e)return rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rn(e,t):void 0}}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nn=Object(n.createContext)(null),an=function(e){var t=e.properties,r=e.children,o=en(Object(n.useState)(window.innerWidth>=1024),2),i=o[0],s=o[1],c=en(Object(n.useState)(window.innerWidth),2),l=c[0],m=c[1],h=Object(n.useContext)(Zr).hasAssociatedAccounts;Object(n.useEffect)((function(){var e=function(){m(window.innerWidth),s(window.innerWidth>=1024)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var f=en(Object(n.useState)(null),2),g=f[0],p=f[1],_=en(Object(n.useState)(null),2),b=_[0],v=_[1],w=en(Object(n.useState)(!!t.quickExit),2),S=w[0],k=w[1],x=en(Object(n.useState)(!!t.notificationBar&&I(t.notificationBar)),2),N=x[0],C=x[1],O=en(Object(n.useState)(t.isMainMenuAuthorMode||!1),2),L=O[0],j=O[1],M=t.menuItems.map((function(e){return e.active})).indexOf(!0),P=en(Object(n.useState)(-1!==M?t.menuItems[M]:t.menuItems[0]),2),R=P[0],U=P[1],H=en(Object(n.useState)(!1),2),F=H[0],D=H[1],B=en(Object(n.useState)(!0),2),q=B[0],Y=B[1],z=en(Object(n.useState)(!1),2),W=z[0],G=z[1],$=en(Object(n.useState)(!1),2),J=$[0],K=$[1],V=en(Object(n.useState)(function(e){if(!e||!e.length)return!1;var t=!1;return e.forEach((function(e){e.subMenus&&e.subMenus.length&&(t=!0)})),t}(t.menuItems)),1)[0],Q=en(Object(n.useState)(null),2),Z=Q[0],X=Q[1],ee=en(Object(n.useState)(null),2),te=ee[0],re=ee[1],ne=en(Object(n.useState)(0),2),ae=ne[0],oe=ne[1],ie=en(Object(n.useState)(null),2),se=ie[0],ce=ie[1],le=en(Object(n.useState)(!1),2),ue=le[0],de=le[1],me=en(Object(n.useState)(""),2),he=me[0],fe=me[1],ge=en(Object(n.useState)(!1),2),pe=ge[0],_e=ge[1],be=en(Object(n.useState)(function(){try{var e=localStorage.getItem("exploreMulticart"),t=localStorage.getItem("vlocityExploreCart"),r=(new Date).getTime();if(window.location.href.includes("explore.inside.telstra.com.au")&&window.tcom.webadaptor.getSession().then((function(e){return!(!e||!e.sessionCache.exploreMulticart)&&(ve(!0),e.sessionCache.exploreMulticart.cartItems.length>0)})).catch((function(){return!1})),e){var n=JSON.parse(e);return!(n.expiry&&n.expiry<r)&&n.cartItems.length>0}if(t){var a=JSON.parse(t);return!(a.expiry&&a.expiry<r)&&a.cartItems.length>0}return!1}catch(e){return!1}}()),2),ye=be[0],ve=be[1],we=Object(n.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.quickExit&&k(!0),de(!1),G(!1),p(null),v(null),T(!0),X(null),re(null),fe(""),i||(document.documentElement.scrollTop=ae,C(!!t.notificationBar&&I(t.notificationBar))),e&&document.body.classList.remove("tcom-lego-header__disable-scroll-body")}),[t.quickExit,t.notificationBar,i,ae]),Ee=Object(n.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.signIn&&t.signIn.switchMembership&&h&&(we(!1),e?(_e(!0),document.body.classList.add("tcom-lego-header__switch-membership__disable-scroll-body")):(_e(!1),document.body.classList.remove("tcom-lego-header__switch-membership__disable-scroll-body")))}),[we,h,t.signIn]),Se=Object(n.useCallback)((function(e,t){document.body&&(g===e||!e&&!t?(we(),_e(!1),G(!1),L||T(!0),U(R),document.documentElement.scrollTop=ae):(G(!0),oe(document.documentElement.scrollTop),p(e||null),v(t),k(!1),C(!1),L||T(!1)))}),[g,we,ae]);Object(n.useEffect)((function(){if(!t.signIn||!t.signIn.switchMembership)return function(){};var e=t.signIn.switchMembership,r=e.text,n=e.heading,a=e.endpoint,o=function(){i?Ee(!0):(_e(!0),Se({label:n,text:r,endpoint:a},d))};return window.addEventListener(E,o),function(){return window.removeEventListener(E,o)}}),[Se,i,t.signIn,Ee]);var ke=Object(n.useCallback)((function(e,t){document.body&&(G(!1),g===e?we():(p(e||null),v(t),L||(y.includes(t)?(document.body.classList.remove("tcom-lego-header__disable-scroll-body"),A(!0)):(document.body.classList.add("tcom-lego-header__disable-scroll-body"),A(!1)))))}),[g,we,L]),xe=Object(n.useCallback)((function(e){var t=e.currentTarget,r=e.relatedTarget;t&&r&&(t.contains(r)||we())}),[we]);Object(n.useEffect)((function(){i&&T(!0),we(),_e(!1)}),[i]),Object(n.useEffect)((function(){b!==u&&we()}),[F]),Object(n.useEffect)((function(){var e=function(e){if(t.cart){if(de(!0),e.detail)try{ce(e.detail)}catch(e){}i?ke(t.cart,u):Se(t.cart,u)}};return t.cart&&document.addEventListener("explore-multicart-added",e),function(){document.removeEventListener("explore-multicart-added",e)}}),[se,Se,i,ue,t.cart,ke]),Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&(we(),Ee(!1))},t=function(e){var t=e.target,r=["tcom-lego-header__primary-header--inner-container","tcom-lego-header__secondary-header--inner-container","tcom-lego-header__sub-menu--overlay","tcom-lego-header__sub-menu__sub-menu-list--container-padding","tcom-lego-header__switch-membership--opaque-container"];if(t){var n=Xr(t.classList);(n.filter((function(e){return r.includes(e)})).length||!t.closest("#tcom-header-react")&&!t.closest("#tcom-header-main-menu-react"))&&i&&we(),pe&&n.filter((function(e){return r.includes(e)})).length&&Ee(!1)}};return document.addEventListener("click",t),document.addEventListener("keydown",e),function(){document.removeEventListener("click",t),document.removeEventListener("keydown",e)}}),[we,i,pe,ae,Ee]);var Ne=Object(n.useMemo)((function(){return{properties:t,isDesktop:i,activeSubMenu:g,setActiveSubMenu:p,activeSecondaryHeader:R,setActiveSecondaryHeader:U,showQuickExit:S,setShowQuickExit:k,activeSubMenuType:b,setActiveSubMenuType:v,showNotificationBar:N,setShowNotificationBar:C,hidePrimaryHeader:F,setHidePrimaryHeader:D,hideMobileHeader:q,setHideMobileHeader:Y,isMobileExpanded:W,setIsMobileExpanded:G,mobileSubMenuSelected:Z,setMobileSubMenuSelected:X,mobileSubMenuLinkSelected:te,setMobileSubMenuLinkSelected:re,closeSubMenu:we,mobileScrollHeight:ae,setMobileScrollHeight:oe,setSubMenu:ke,handleMobileSubMenu:Se,cartHasProducts:ye,setCartHasProducts:ve,isNewCartItem:ue,setIsNewCartItem:de,handleFocusLeave:xe,searchInputValue:he,setSearchInputValue:fe,showSecondaryHeader:V,width:l,hasUserInteracted:J,setHasUserInteracted:K,cartEvent:se,setCartEvent:ce,isMainMenuAuthorMode:L,setIsMainMenuAuthorMode:j,isSwitchMembership:pe,setIsSwitchMembership:_e,toggleSwitchMembership:Ee}}),[t,i,g,R,S,b,N,F,q,W,Z,te,we,ae,ke,Se,ye,ue,xe,he,V,l,J,se,L,pe,Ee]);return a.a.createElement(nn.Provider,{value:Ne},r)},on=(nn.Consumer,nn),sn=function(e){var t,r,o=e.subMenu,i=e.type,s=Object(n.useContext)(on),c=s.activeSubMenu,d=s.activeSecondaryHeader,g=s.isDesktop,_=s.cartHasProducts,b=s.setSubMenu,y=s.handleMobileSubMenu,v=Object(n.useContext)(Zr).authenticatedUser,w=i;switch(i){case f:w=(t=o).ableMenuIcon,r=t.mobileMenuLabel;break;case l:t=o,w=i,r="Search in Telstra";break;case u:t=o,w=i,r="Shopping Cart Link";break;default:w=i}switch(i){case f:return a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon ".concat(c===o?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){c!==o&&te(i.toLowerCase().trim(),""),g?b(o,i):y(o,i)},"aria-expanded":c===o,"aria-label":r},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},a.a.createElement("img",{className:"tcom-lego-header__country-selector__menu-icon",src:w,alt:""})));case l:case u:return a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon ".concat(c===o?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){c!==o&&te(i.toLowerCase().trim(),""),g?b(o,i):y(o,i)},"aria-expanded":c===o,"aria-label":r},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},_&&i===u?a.a.createElement("div",{className:"tcom-lego-header__cart--notification"}):a.a.createElement(a.a.Fragment,null),a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x(w)}))));case h:return a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon ".concat(c===o?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){c!==o&&te("auth","sign in"),y(o,i)},"aria-expanded":c===o,"aria-label":"Sign in"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},v?a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Profile")})):a.a.createElement("span",null,"Sign In")));case m:return a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon",onClick:function(){return y(o,i)},"aria-expanded":"false","aria-label":"Shows menu"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x(c===o?"Close":"Menu")}))));case p:return a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon",onClick:function(){return y(null,null)},"aria-expanded":"true","aria-label":"Close menu"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Close")}))));default:return o?a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container ".concat(c===o?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){c!==o&&te(o.label.toLowerCase().trim(),d.label.toLowerCase().trim()),b(o,i)}},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},a.a.createElement("div",null,o.label),o&&o.subMenusColumns?a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button tcom-lego-header__secondary-header__button--chevron ".concat(c===o?"tcom-lego-header__secondary-header__button--chevron--active":""),tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("ChevronDown")})):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null)}},cn=Object(n.memo)((function(e){var t=e.index,r=e.menuItem,o=Object(n.useContext)(on),i=o.properties,s=o.setActiveSecondaryHeader,c=o.activeSecondaryHeader,l=o.closeSubMenu,u=o.setHasUserInteracted;return i.general.sameSiteNavigation?a.a.createElement("button",{type:"button",className:"tcom-lego-header__primary-header__choice-chip--container",onClick:function(){te(r.label.toLowerCase().trim()),l(),te(r.label.toLowerCase().trim()),s(i.menuItems[t]),u(!0),u(!0)}},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding ".concat(c===r?"tcom-lego-header__primary-header__choice-chip--active":"")},r.label)):a.a.createElement("a",{className:"tcom-lego-header__primary-header__choice-chip--container",onClick:function(){te(r.label.toLowerCase().trim()),u(!0)},href:r.mobileUrl},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding ".concat(c===r?"tcom-lego-header__primary-header__choice-chip--active":"")},r.label))})),ln=function(e){var t=e.subMenuList,r=e.index,o=Object(n.useContext)(on),i=o.activeSecondaryHeader,s=o.activeSubMenu,c=t.label,l=t.url,u=t.links,d=Object(n.useRef)(null);return Object(n.useEffect)((function(){d.current&&0===r&&d.current.focus()}),[d,r]),a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",{className:"tcom-lego-header__sub-menu__sub-menu-list--header"},l?a.a.createElement("a",{href:l,className:"tcom-lego-header__sub-menu__sub-menu-list",onClick:function(e){e.preventDefault(),te(c.toLowerCase().trim(),"".concat(i.label.toLowerCase().trim(),":").concat(null==s?void 0:s.label.toLowerCase().trim())),window.location.href=l},ref:d},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-content"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},c),a.a.createElement("svg",{className:"tcom-lego-header__sub-menu__sub-menu-list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")})))):a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-content"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},c))),a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--ul-container"},u.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sub-menu__sub-menu-list--list-item"},a.a.createElement("a",{href:L(e.link),className:"tcom-lego-header__sub-menu__sub-menu-list--list-item--anchor",onClick:function(t){t.preventDefault(),te(e.label,"".concat(i.label.toLowerCase().trim(),":").concat(null==s?void 0:s.label.toLowerCase().trim(),":").concat(c.toLowerCase().trim())),window.location.href=L(e.link)}},e.label))}))))},un=function(e,t){var r={source:t.engineType||"personal"};return""===e?Promise.resolve([]):new Promise((function(n,a){ie.a.get(mn(t).autocomplete.url,{headers:r,params:{query:e}}).then((function(e){200===e.status?n(At(e.data.data,"results",[])):a(new Error("Error Querying"))})).catch((function(){a(new Error("Error Querying"))}))}))},dn=function(e,t){var r={"Content-Type":"application/json",source:t.engineType||"personal"},n={q:e.query,filters:{page:{}},per_page:e.perpage||5,page:e.pagination||1};e.dateFrom&&e.dateTo?(n.filters.page.date_published={from:e.dateFrom,to:e.dateTo,type:"range"},n.filters.page.page_type="media-release",n.sort_field={page:"date_published"},n.sort_direction={page:"desc"}):n.filters.page.consumer_type=t.engineType||"personal";var a=JSON.stringify(n);return new Promise((function(e,n){ie.a.post(mn(t).recommendation.url,a,{headers:r}).then((function(t){200===t.status?e(At(t,"data.data")):n(new Error("Error Querying"))})).catch((function(e){n(e)}))}))},mn=function(e){return{autocomplete:{url:"staging"===e.searchEnv?"https://slot2.org002.t-dev.corp.telstra.com/presentation/v1/tcom/search/suggestions":"https://tapi.telstra.com/presentation/v1/tcom/search/suggestions"},recommendation:{url:"staging"===e.searchEnv?"https://slot2.org002.t-dev.corp.telstra.com/presentation/v1/tcom/search/results":"https://tapi.telstra.com/presentation/v1/tcom/search/results"}}},hn=function(){var e=Object(n.useContext)(on).properties.search;if(!e)return a.a.createElement(a.a.Fragment,null);var t=e.popularSearchesLabel;return a.a.createElement("div",{className:"tcom-lego-header__popular-searches--container"},a.a.createElement("h2",{className:"tcom-lego-header__popular-searches--heading"},t),a.a.createElement("ul",{className:"tcom-lego-header__popular-searches--list-container"},e.popularSearches.map((function(e){return a.a.createElement("li",{key:e.label},a.a.createElement("a",{href:L(e.link)},e.label))}))))},fn=function(e){var t=e.suggestions,r=Object(n.useContext)(on).properties.search;if(!r)return a.a.createElement(a.a.Fragment,null);var o=r.autoCompleteCount,i=r.page,s=r.engineType,c=r.autoCompleteNoResults;return a.a.createElement("div",{className:"tcom-lego-header__search__autocomplete--container"},t&&t.length?a.a.createElement("ul",{className:"tcom-lego-header__search__autocomplete--list-container"},t.map((function(e,t){return e.keyword&&e.keyword.raw&&t<o?a.a.createElement("li",{key:e.keyword.raw,className:"tcom-lego-header__search__autocomplete--list-item"},a.a.createElement("a",{className:"tcom-lego-header__search__autocomplete--anchor",href:"".concat(L(i),"?query=").concat(e.keyword.raw,"&area=").concat(s),target:"_self"},a.a.createElement("svg",{className:"tcom-lego-header__search__autocomplete--search-icon","aria-hidden":"true",focusable:"false",tabIndex:-1},a.a.createElement("use",{xlinkHref:x("Search")})),a.a.createElement("span",null,e.keyword.raw))):a.a.createElement(a.a.Fragment,{key:JSON.stringify(e)})}))):a.a.createElement(a.a.Fragment,null),t&&0===t.length?a.a.createElement("div",{className:"tcom-lego-header__search__autocomplete--no-results"},c):a.a.createElement(a.a.Fragment,null))},gn=function(e){var t=e.recommendation,r=Object(n.useContext)(on).searchInputValue,o=function(e){var t=e.category,r=e.image,n=e.highlight,a=e.description,o=e.url,i=e.title,s=e.body;return{page:t||"Products",image:r||"/etc/designs/tcom-aem-search-lego/assets/no-product-available.svg",title:n&&n.title||i||"",body:n&&n.description||n&&n.body||a||s||"",url:o||"#"}}(t),s=o.image,c=o.title,l=o.body,u=o.url,d=Object(n.useRef)(null);return a.a.createElement("li",{className:"tcom-lego-header__search__recommendation--list"},a.a.createElement("div",{className:"tcom-lego-header__search__recommendation--recommendation-container"},a.a.createElement("div",{className:"tcom-lego-header__search__recommendation--image-container"},s.includes("telstra.com.au")||s.includes("no-product-available")?a.a.createElement("img",{src:s,alt:c,className:"tcom-lego-header__search__recommendation--image"}):a.a.createElement("svg",{className:"tcom-lego-header__search__recommendation--svg","aria-hidden":"true",focusable:"false"},a.a.createElement("use",{xlinkHref:x(s)}))),a.a.createElement("div",null,a.a.createElement("div",{className:"tcom-lego-header__search__recommendation--anchor-container"},a.a.createElement("a",{onClick:function(e){e.preventDefault(),d.current&&ne(r,d.current.innerText),window.location.href=u},href:u,ref:d,dangerouslySetInnerHTML:{__html:i()(c)}})),a.a.createElement("div",{className:"tcom-lego-header__search__recommendation--body",dangerouslySetInnerHTML:{__html:i()(l)}}))))},pn=function(e){var t=e.recommendations,r=Object(n.useContext)(on).properties.search;if(!r)return a.a.createElement(a.a.Fragment,null);var o=r.recommendationCount,i=r.popularSearchesLabel;return t&&t.records&&t.records.page&&t.records.page.length?a.a.createElement("div",{className:"tcom-lego-header__search__recommendation--container"},a.a.createElement("h2",{className:"tcom-lego-header__popular-searches--heading"},i),a.a.createElement("ul",{className:"tcom-lego-header__search__recommendation--list-container"},t.records.page.map((function(e,t){return t<o?a.a.createElement(gn,{key:e.id,recommendation:e}):a.a.createElement(a.a.Fragment,{key:e.id})})))):a.a.createElement(a.a.Fragment,null)};function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(a||[]);return n(i,"_invoke",{value:w(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var p=Object.getPrototypeOf,_=p&&p(p(N([])));_&&_!==t&&r.call(_,o)&&(g=_);var b=f.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==_n(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function yn(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function vn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){yn(o,n,a,i,s,"next",e)}function s(e){yn(o,n,a,i,s,"throw",e)}i(void 0)}))}}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return En(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return En(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sn=function(e){return e[e.Default=0]="Default",e[e.Searched=1]="Searched",e}(Sn||{}),kn=function(){var e=Object(n.useContext)(on),t=e.isDesktop,r=e.properties,o=e.searchInputValue,c=e.setSearchInputValue,l=r.search;if(!l)return a.a.createElement(a.a.Fragment,null);var u=l.minimumLetters?Number(l.minimumLetters):4,d=l.page?l.page.replace("/content/tcom",""):"https://www.telstra.com.au/search",m=wn(Object(n.useState)(""),2),h=m[0],f=m[1],g=function(e,t){var r=s(Object(n.useState)(e),2),a=r[0],o=r[1];return Object(n.useEffect)((function(){var r=setTimeout((function(){return o(e)}),t||500);return function(){clearTimeout(r)}}),[e,t]),a}(o,l.debounce),p=wn(Object(n.useState)(null),2),_=p[0],b=p[1],y=wn(Object(n.useState)(null),2),v=y[0],w=y[1],E=wn(Object(n.useState)(Sn.Default),2),S=E[0],k=E[1],N=Object(n.useRef)(null);Object(n.useEffect)((function(){N.current&&N.current.focus()}),[]),Object(n.useEffect)((function(){var e=function(){var e=vn(bn().mark((function e(){var t;return bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(g,{engineType:l.engineType,searchEnv:l.searchEnv});case 2:t=e.sent,b(t),k(Sn.Searched);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=vn(bn().mark((function e(){var t;return bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn({query:g,titleCutoff:l.titleCutoff,bodyCutoff:l.descriptionCutoff},{engineType:l.engineType,searchEnv:l.searchEnv});case 2:t=e.sent,w(t),k(Sn.Searched);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g?(e(),t()):(k(Sn.Default),f("")),function(){}}),[g]);return a.a.createElement("div",{className:"tcom-lego-header__search".concat(t?"":"__mobile","--container")},a.a.createElement("div",{className:"sr-only",id:"tcom-lego-search-desc"},"Search suggestions will appear below the field as you type"),a.a.createElement("div",{"aria-live":"polite",className:"sr-only"},S===Sn.Searched&&v&&v.records&&v.records.page&&v.records.page.length?"".concat(v.records.page.length>=l.recommendationCount?l.recommendationCount:v.records.page.length," results found"):""),a.a.createElement("div",{className:"tcom-lego-header__search--input-container"},a.a.createElement("label",{htmlFor:"tcom-lego-search-main-input"},l.headerLabel),a.a.createElement("input",{id:"tcom-lego-search-main-input",type:"text","aria-required":"true",autoComplete:"off","aria-autocomplete":"list","aria-controls":"tcom-lego-search-results",spellCheck:!1,dir:"auto","aria-describedby":"tcom-lego-search-desc",name:"Telstra search",maxLength:100,onKeyUp:function(e){if("Enter"===e.key){var t,r=i()((null===(t=N.current)||void 0===t?void 0:t.value)||"");r&&r.trim().length>=u&&(window.location.href="".concat(d,"?query=").concat(r,"&area=").concat(l.engineType||"personal"))}},onChange:function(e){c(e.target.value),e.target.value!==h&&f("")},value:o,ref:N,onPaste:function(e){var t=e.clipboardData.getData("text/plain");f(t||"")}}),a.a.createElement("p",{id:"tcom-lego-search-main-input-error-text"},a.a.createElement("svg",{className:"able-icon",role:"img","aria-label":"Error",focusable:"false"},a.a.createElement("use",{xlinkHref:x("Error")}))),a.a.createElement("button",{type:"button","aria-label":o?"Clear input":l.headerLabel,className:"tcom-lego-header__search--close",onClick:o?function(){c(""),f(""),k(Sn.Default),N.current&&N.current.focus()}:void 0,tabIndex:o?void 0:-1},a.a.createElement("svg",{className:"tcom-lego-header__search--close-icon","aria-hidden":"true",focusable:"false",tabIndex:-1},a.a.createElement("use",{xlinkHref:x(o?"Close":"Search")}))),a.a.createElement("div",{"aria-live":"polite",className:"sr-only"},h)),S===Sn.Default?a.a.createElement(hn,null):a.a.createElement("div",{className:t?"tcom-lego-header__search--step-container":""},a.a.createElement(fn,{suggestions:_}),a.a.createElement(pn,{recommendations:v})))};function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){On(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==xn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var In=function(e,t){var r=e.querySelector('[data-tcom-header-target="additionalLinks"]');r&&r.querySelectorAll('[data-tcom-header-target="additionalLink"]').forEach((function(e){var r=e.dataset,n=r.tcomAdditionalLinkLabel,a=r.tcomAdditionalLinkUrl;t.additionalLinks.push({label:n||"",url:L(a)||"/"})}))},An=function(e,t){var r=e.querySelectorAll('[data-tcom-header-target="subMenuLinks"][data-tcom-sub-menu-links-column-index="'.concat(t,'"]'));return Array.from(r).map((function(e){var r=e.dataset,n=r.tcomSubMenuLinksLabel,a=r.tcomSubMenuLinksMobileLabel,o=r.tcomSubMenuLinksMobileAbleIcon,i=r.tcomSubMenuLinksUrl,s=e.querySelectorAll('[data-tcom-header-target="subMenuLink"]');return{label:n||"",mobileLabel:a||"",mobileAbleIcon:o||"",url:L(i)||"",column:t,links:Array.from(s).map((function(e){var t=e.dataset,r=t.tcomSubMenuLinksLinkLabel,n=t.tcomSubMenuLinksLinkLink;return{label:r||"",link:L(n)||""}}))}}))},Tn=function(e,t,r){var n=r,a=e.querySelector(t);if(a){var o={label:a.dataset.tcomSubMenuSupportMenuLabel||"Support",header:a.dataset.tcomSubMenuSupportMenuHeader||"I want to"},i=a.querySelectorAll('[data-tcom-header-target="supportMenuItem"]');o.links=Array.from(i).map((function(e){var t=e.dataset,r=t.tcomSubMenuSupportMenuLabel,n=t.tcomSubMenuSupportMenuLink;return{label:r||"",link:L(n)||""}}));var s={firstColumn:An(a,1),secondColumn:An(a,2)};o.subMenusColumns=s,n.supportMenu=o}},Ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.querySelectorAll('[data-tcom-header-target="menuItem"]'),n=[];return r.forEach((function(e){var r=e.dataset,a=r.tcomMainMenuLabel,o=r.tcomMainMenuMobileUrl,i=r.tcomMainMenuActive,s=r.tcomMainMenuAuthorMode;if(t||"true"!==s){var c={label:a||"",mobileUrl:L(o)||"",active:"true"===i,subMenus:[]};Tn(e,'[data-tcom-header-target="supportMenu"]',c),e.querySelectorAll('[data-tcom-header-target="subMenu"]').forEach((function(e){var t=e.dataset,r=t.tcomSubMenuLabel,n=t.tcomSubMenuType,a=t.tcomSubMenuPersoId,o=t.tcomSubMenuPromoPersoId,i=t.tcomSubMenuLinkUrl,s=t.tcomSubMenuLinkIconColour,l=t.tcomSubMenuLinkAbleLinkIcon,u={label:r||"",type:n||"link"};if("link"===e.dataset.tcomSubMenuType){var d;null===(d=c.subMenus)||void 0===d||d.push(Cn({linkURL:L(i)||"",iconColour:s||"earth",ableLinkIcon:l||"DealSelected"},u))}else{var m,h=Cn(Cn({},u),{},{subMenusColumns:{firstColumn:An(e,1),secondColumn:An(e,2),thirdColumn:An(e,3)}});o&&(h.promoPersoID=o),a&&(h.persoID=a);var f=e.querySelector("[data-tcom-header-promo]");if(f){var g=f.dataset,p=g.tcomHeaderPromoPromotionLabel,_=g.tcomHeaderPromoBackgroundColour,b=g.tcomHeaderPromoCtaLabel,y=g.tcomHeaderPromoCategory,v=g.tcomHeaderPromoImageUrl,w=g.tcomHeaderPromoImageAlt,E=g.tcomHeaderPromoDescription,S=g.tcomHeaderPromoUrl,k=g.tcomAnalyticsEvent;h.promotion={promotionLabel:p||"",imageURL:v||"",imageAlt:w||"",backgroundColour:_||"sand",ctaLabel:b||"Shop now",category:y||"",description:E||"",url:L(S)||"",analytics:k||""}}null===(m=c.subMenus)||void 0===m||m.push(h)}})),n.push(c)}})),n},jn=function(e){var t=e,r=t.persoID,n=t.subMenusColumns;if(r){var a=document.querySelector('[data-personalisation-id="'.concat(r,'"]')),o=null==a?void 0:a.querySelector("[data-tcom-header-target]");if(!a||!o)return n;try{return{firstColumn:An(a,1),secondColumn:An(a,2),thirdColumn:An(a,3)}}catch(e){return n}}return n},Mn=function(){var e=document.querySelector('[data-tcom-header-target="header"]'),t=document.querySelector('[data-tcom-header-author-target="headerAuthorMode"]');if(e||t){if(e){var r=e.dataset,n=r.tcomHeaderUrl,a=r.tcomHeaderLogo,o=r.tcomHeaderEnableSameSiteNavigation,i=r.tcomHeaderRedirecturl,s={general:{url:L(n)||"/",screenReaderLogoName:a||"Telstra Home Page",sameSiteNavigation:"true"===o,redirect:i},additionalLinks:[],menuItems:[]},c=function(e){var t=e.querySelector('[data-tcom-header-target="search"]');if(t){var r=t.dataset,n=r.tcomHeaderSearchEngineType,a=r.tcomHeaderSearchEnv,o=r.tcomHeaderSearchPage,i=r.tcomHeaderSearchDebounce,s=r.tcomHeaderSearchMinimumLetters,c=r.tcomHeaderSearchAutoCompleteCount,l=r.tcomHeaderSearchAutoCompleteNoResults,u=r.tcomHeaderSearchHeaderLabel,d=r.tcomHeaderSearchPopularSearchesLabel,m=r.tcomHeaderSearchRecommendationCount,h=r.tcomHeaderSearchTitleCutoff,f=r.tcomHeaderSearchDescriptionCutoff,g=t.querySelectorAll("[data-tcom-header-target='popularSearch']");return{label:"Search",engineType:n||"personal",searchEnv:a||"production",page:o||"content/tcom",debounce:parseInt(i||"500",10),minimumLetters:parseInt(s||"4",10),autoCompleteCount:parseInt(c||"6",10),autoCompleteNoResults:l||"No results found",headerLabel:u||"Search Telstra",popularSearchesLabel:d||"Take me to",recommendationCount:parseInt(m||"3",10),titleCutoff:parseInt(h||"60",10),descriptionCutoff:parseInt(f||"150",10),popularSearches:Array.from(g).map((function(e){var t=e.dataset,r=t.tcomHeaderPopularSearchLabel,n=t.tcomHeaderPopularSearchLink;return{label:r||"",link:L(n)||""}}))}}}(e);c&&(s.search=c);var l=function(e){var t=e.querySelector('[data-tcom-header-target="quickExit"]');if(t){var r=t.dataset,n=r.tcomHeaderQuickExitBody,a=r.tcomHeaderQuickExitCtaLabel,o=r.tcomHeaderQuickExitUrl;return{body:n||"",ctaLabel:a||"",url:L(o)||"/"}}}(e);l&&(s.quickExit=l);var u=function(e){var t=e.querySelector('[data-tcom-header-target="countrySelector"]');if(t){var r=t.dataset,n=r.tcomHeaderCountrySelectorLabel,a=r.tcomHeaderCountrySelectorAbleMenuIcon,o=t.dataset.tcomHeaderCountrySelectorMobileMenuLabel,i=t.querySelectorAll("[data-tcom-header-target='country']"),s=document.querySelector("[data-tcom-header-country-selector-default]");return s&&(n=s.dataset.tcomHeaderCountrySelectorDefaultTitle,a=s.dataset.tcomHeaderCountrySelectorDefaultIcon,s.remove()),{label:n||"Global",ableMenuIcon:a||"international",mobileMenuLabel:o||"Select your country",links:Array.from(i).map((function(e){var t=e.dataset,r=t.tcomHeaderCountryLabel,n=t.tcomHeaderCountryLink,a=t.tcomHeaderCountryIcon;return{label:r||"",link:L(n)||"",icon:a||""}}))}}}(e);u&&(s.countrySelector=u);var d=function(e){var t=e.querySelector('[data-tcom-header-target="cart"]');if(t){var r=t.dataset,n=r.tcomHeaderCartHeading,a=r.tcomHeaderCartCtaLabel,o=r.tcomHeaderCartCtaLink,i=r.tcomHeaderCartSecondaryCtaLabel,s=r.tcomHeaderCartSecondaryCtaLink,c=r.tcomHeaderCartEmptyCartHeading,l=r.tcomHeaderCartEmptyCartBodyCopy,u=r.tcomHeaderCartBackOrderCopy,d=t.querySelectorAll("[data-tcom-header-target='cartItem']");return{label:"Cart",heading:n||"Your items",ctaLabel:a||"Go to your cart",ctaLink:L(o)||"/shop/cartSummary",secondaryCtaLabel:i||"",secondaryCtaLink:L(s)||"",emptyCartHeading:c||"Your cart is empty",emptyCartBodyCopy:l||"To add items to your cart and continue shopping, please view our wide range of products.",backOrderCopy:u||"This item is on [backorder]. We'll be in touch when it's been dispatched.",ctaItems:Array.from(d).map((function(e){var t=e.dataset,r=t.tcomHeaderEmptyCartLabel,n=t.tcomHeaderEmptyCartUrl,a=t.tcomHeaderEmptyCartAbleIcon,o=t.tcomHeaderEmptyCartOpenInNewWindow;return{label:r||"",url:L(n)||"/",ableIcon:a||"",openInNewWindow:"true"===o}}))}}}(e);d&&(s.cart=d);var m=function(e){var t=e.querySelector('[data-tcom-header-target="notificationBar"]');if(t){var r=t.dataset,n=r.tcomHeaderNotificationBarNotificationText,a=r.tcomHeaderNotificationBarDaysUntilNotificationShows;return{notificationText:n||"",daysUntilNotificationShows:parseInt(a||"7",10)}}}(e);m&&(s.notificationBar=m);var h=function(e){var t=e.querySelector('[data-tcom-header-target="signIn"]');if(t){var r=t.dataset,n=r.tcomHeaderSignInMobileLabel,a=r.tcomHeaderSignInMobileAuthenticatedLabel,o=r.tcomHeaderSignInTimeoutModalAliveHeading,i=r.tcomHeaderSignInTimeoutModalAliveText,s=r.tcomHeaderSignInTimeoutButtonMediumText,c=r.tcomHeaderSignInTimeoutButtonLowText,l=r.tcomHeaderSignInTimeoutModalDeadHeading,u=r.tcomHeaderSignInTimeoutModalDeadText,d=t.querySelectorAll('[data-tcom-header-target="loginLink"]'),m={timeout:{modalAliveHeading:o||"",modalAliveText:i||"",buttonMediumText:s||"",buttonLowText:c||"",modalDeadHeading:l||"",modalDeadText:u||""}},h=t.querySelector('[data-tcom-header-target="loyalty"]');if(h){var f=h.dataset,g=f.tcomHeaderLoyaltyPointsCopy,p=f.tcomHeaderLoyaltyUrl,_=f.tcomHeaderLoyaltyApiVersion;m.loyalty={pointsCopy:g||"Telstra Plus points",url:L(p)||"https://checkout.telstra.com.au/consumer/rewards",apiVersion:_||"prod"}}var b=t.querySelector('[data-tcom-header-target="switch-membership"]'),y=t.querySelector('[data-tcom-header-target="switch-membership-tplus-apis"]');if(b){var v=b.dataset,w=v.tcomHeaderSwitchMembershipDescription,E=v.tcomHeaderSwitchMembershipHeading;m.switchMembership={heading:E||"Switch Telstra Plus memberships",text:w||""}}if(y){var S=y.dataset.tcomHeaderSwitchMembershipEndpoint;m.enableTPlusAPIs=S||"prod"}return Cn({label:"Sign in",mobileLabel:n||"Sign in to",mobileAuthenticatedLabel:a||"Take me to",links:Array.from(d).map((function(e){var t=e.dataset,r=t.tcomLoginLinkLabel,n=t.tcomLoginLinkLink,a=t.tcomLoginLinkHighlight,o=t.tcomLoginLinkAuth;return{label:r||"",link:L(n)||"",highlight:"true"===a||!1,auth:"true"===o||!1}}))},m)}}(e);h&&(s.signIn=h);var f=Ln(e);f&&(s.menuItems=f);var g=function(e){var t=e.querySelector('[data-tcom-header-target="additionalCTA"]');if(t){var r=t.dataset;return{style:r.tcomHeaderAdditionalCtaStyle||"medium",label:r.tcomHeaderAdditionalCtaLabel||"Contact an expert",url:r.tcomHeaderAdditionalCtaPath||"https://www.telstra.com.au/business-enterprise/contact-us/request-callback",openInNewWindow:"true"===r.tcomHeaderAdditionalCtaNewWindow}}}(e);return g&&(s.additionalCTA=g),In(e,s),e.remove(),t&&t.remove(),s}if(t){var p={general:{url:"/",screenReaderLogoName:"Telstra Home Page"},additionalLinks:[],menuItems:[]},_=Ln(t,!0);return _&&(p.menuItems=_),In(t,p),t.remove(),p}}};function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(){return(Rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Un(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hn=function(){var e,t,r,o=Object(n.useContext)(on),s=o.activeSubMenu,c=o.activeSubMenuType,d=o.activeSecondaryHeader;if(!s)return a.a.createElement(a.a.Fragment,null);var m=function(e,t){var r,n,a;return(null===(r=window._tdTags)||void 0===r||null===(n=r.public)||void 0===n||null===(a=n.getCampaignDataAttribute)||void 0===a?void 0:a.call(n,"tcom",e,t))||void 0},f=function(){var e=s.promotion,t=s.promoPersoID;if(s){var r,n,a,o,i=document.querySelector('[data-personalisation-id="'.concat(t,'"]'));if(!i)return e;var c=i.querySelector("[data-tcom-header-promo]"),l=null===(r=window.digitalData)||void 0===r||null===(n=r.application)||void 0===n||null===(a=n.experienceAPI)||void 0===a?void 0:a.personalisationControlGroupList;if(l){var u=l.find((function(e){return e.componentInfo.componentID===t}));if(u&&u.componentInfo.taskID){var h;if(null===(h=e)||void 0===h||!h.analytics){var f=m(u,"personalisation");return f&&e&&(e.tldResponse=f),e}var g=JSON.parse(e.analytics),p=$.a.cloneDeep(u);p.componentInfo.variation+=g.component[0].componentInfo.taskID;var _=m(p,"personalisation");_&&e&&(e.tldResponse=_)}}else if(t&&c)try{var b=c.dataset,y=b.tcomHeaderPromoPromotionLabel,v=b.tcomHeaderPromoImageUrl,w=b.tcomHeaderPromoImageAlt,E=b.tcomHeaderPromoBackgroundColour,S=b.tcomHeaderPromoCategory,k=b.tcomHeaderPromoCtaLabel,x=b.tcomHeaderPromoDescription,N=b.tcomHeaderPromoUrl,C=b.tcomAnalyticsEvent;if(e={promotionLabel:y,imageURL:v,imageAlt:w||"",backgroundColour:E,category:S,ctaLabel:k,description:x,url:N},C){var O=JSON.parse(C);O.component[0].category.primaryCategory="tcom-sub-menu-promo-".concat(d.label.toLowerCase(),"-").concat(s.label.toLowerCase());var I=m(O.component[0],"personalisation");I&&(e.tldResponse=I)}}catch(t){return e}else if(null!==(o=e)&&void 0!==o&&o.analytics){var A=JSON.parse(e.analytics);A.component[0].category.primaryCategory="tcom-sub-menu-promo-".concat(d.label.toLowerCase(),"-").concat(s.label.toLowerCase());var T=m(A.component[0],"bau");T&&(e.tldResponse=T)}}return e}(),p=jn(s);switch(c){case l:(r=s).subMenusColumns=p,t=a.a.createElement("div",{className:"tcom-lego-header__sub-menu--overlay"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container-padding tcom-lego-header__sub-menu__sub-menu-list--container-float-right"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container--height-control"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container"},a.a.createElement(kn,null)))));break;case u:case h:t=a.a.createElement(a.a.Fragment,null);break;case g:(r=s).subMenusColumns=p,t=p?a.a.createElement("div",{className:"tcom-lego-header__sub-menu--overlay"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container-padding tcom-lego-header__sub-menu__sub-menu-list--container-float-right"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container--height-control"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-list-container"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--column"},r.subMenusColumns&&r.subMenusColumns.firstColumn.map((function(e,t){return a.a.createElement(ln,{key:e.label,subMenuList:e,index:t})}))),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--column"},r.subMenusColumns&&r.subMenusColumns.secondColumn.map((function(e){return a.a.createElement(ln,{key:e.label,subMenuList:e})})))),null!==(e=r.links)&&void 0!==e&&e.length?a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--support-column"},a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--support-content"},a.a.createElement("h3",{className:"tcom-lego-header__sub-menu__sub-menu-list--support-header"},r.header),a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--ul-container"},r.links.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sub-menu__sub-menu-list--list-item"},a.a.createElement("a",{href:L(e.link),className:"tcom-lego-header__sub-menu__sub-menu-list--list-item--anchor"},e.label))}))))):a.a.createElement(a.a.Fragment,null))))):a.a.createElement(a.a.Fragment,null);break;default:(r=s).subMenusColumns=p,t=p?a.a.createElement("div",{className:"tcom-lego-header__sub-menu--overlay"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container-padding"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container--height-control"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--container"},a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-list-container"},a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--column"},r.subMenusColumns&&r.subMenusColumns.firstColumn.map((function(e,t){return a.a.createElement(ln,{key:e.label,subMenuList:e,index:t})}))),a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--column"},r.subMenusColumns&&r.subMenusColumns.secondColumn.map((function(e){return a.a.createElement(ln,{key:e.label,subMenuList:e})}))),r.subMenusColumns&&r.subMenusColumns.thirdColumn?a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--column"},r.subMenusColumns.thirdColumn.map((function(e){return a.a.createElement(ln,{key:e.label,subMenuList:e})}))):a.a.createElement(a.a.Fragment,null)),f?a.a.createElement("div",Rn({className:"tcom-lego-header__sub-menu__sub-menu-list__promo--container tcom-lego-header__sub-menu__sub-menu-list__promo--container-background--".concat(f.backgroundColour)},f.tldResponse&&Un({},f.tldResponse.campaignDataAttribute,f.tldResponse.campaignCode)),a.a.createElement("img",{className:"tcom-lego-header__sub-menu__sub-menu-list__promo--image",src:f.imageURL,alt:f.imageAlt}),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list__promo--category"},f.category),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list__promo--heading",dangerouslySetInnerHTML:{__html:i()(f.promotionLabel)}}),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list__promo--description",dangerouslySetInnerHTML:{__html:i()(f.description)}}),a.a.createElement("a",{className:"tcom-lego-header__sub-menu__sub-menu-list__promo--cta",href:f.url,onClick:function(e){(r=s).subMenusColumns=p,f&&(e.preventDefault(),te(f.promotionLabel,"".concat(r.label.toLowerCase().trim(),":").concat(r.label.toLowerCase().trim(),":promotion")),window.location.href=f.url)}},f.ctaLabel)):a.a.createElement(a.a.Fragment,null))))):a.a.createElement(a.a.Fragment,null)}return t};function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bn=function(){var e=Object(n.useContext)(on),t=e.properties,r=e.showNotificationBar,o=e.setShowNotificationBar;if(!t.notificationBar)return a.a.createElement(a.a.Fragment,null);var s=Fn(Object(n.useState)(!1),2),c=s[0],l=s[1];return r?a.a.createElement("section",{className:"tcom-lego-header__notification-bar__container ".concat(c?"tcom-lego-header__notification-bar__container--closed":""),"aria-label":"Telstra Notification"},a.a.createElement("div",{className:"tcom-lego-header__notification-bar__vertical-alignment",dangerouslySetInnerHTML:{__html:i()(function(e){if(e&&e.includes("/content")){var t=e.indexOf("/content");return e.substring(0,t)+L(e.substring(t))}return e}(t.notificationBar.notificationText))}}),a.a.createElement("button",{type:"button",className:"tcom-lego-header__notification-bar__close-button",onClick:function(){if(l(!0),t.notificationBar){var e={text:t.notificationBar.notificationText,closedTimestamp:Date.now()},r=window.location.href;r.includes(C)?localStorage.setItem(N.BUSINESS,JSON.stringify(e)):r.includes(O)?localStorage.setItem(N.ENTERPRISE,JSON.stringify(e)):localStorage.setItem(N.PERSONAL,JSON.stringify(e)),setTimeout((function(){o(!1)}),400)}},"aria-label":"Close notification bar"},a.a.createElement("svg",{className:"tcom-lego-header__notification-bar__close-icon",role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("Close")})))):a.a.createElement(a.a.Fragment,null)},qn=function(){var e=Object(n.useContext)(on),t=e.properties,r=e.showQuickExit;if(!t.quickExit)return a.a.createElement(a.a.Fragment,null);var o=t.quickExit,i=o.body,s=o.ctaLabel,c=o.url;return r?a.a.createElement("section",{className:"tcom-lego-header__quick-exit__container"},a.a.createElement("div",{className:"tcom-lego-header__quick-exit__wrapper"},a.a.createElement("div",{className:"tcom-lego-header__quick-exit__vertical-center"},a.a.createElement("div",{className:"tcom-lego-header__quick-exit__horizontal-center"},a.a.createElement("div",{className:"tcom-lego-header__quick-exit__copy"},a.a.createElement("div",null,i)),a.a.createElement("button",{type:"button",className:"tcom-lego-header__quick-exit__button",onClick:function(){document.body.innerHTML="",window.location.replace(c)}},s))))):a.a.createElement(a.a.Fragment,null)},Yn=function(e){var t=e.buttons,r=e.activeElement,n=e.callback,o=e.children,i=function(e){var t=e.target.closest(".tcom-lego-header__mobile__segmented-view--container");if(t){var r=t.querySelectorAll("button"),n=Array.prototype.indexOf.call(r,e.target);if(-1===n)return;if("ArrowRight"===e.key){var a=r[n+1];if(!a)return;return void a.focus()}if("ArrowLeft"===e.key){var o=r[n-1];if(!o)return;o.focus()}}};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tcom-lego-header__mobile__segmented-view--wrapper"},a.a.createElement("div",{className:"tcom-lego-header__mobile__segmented-view--container",role:"tablist","aria-label":"Menu Option"},t.map((function(e){return a.a.createElement("button",{type:"button",key:e.label,role:"tab","aria-controls":"category-panel-".concat(e.label),id:"category-list-item-".concat(e.label),className:"tcom-lego-header__mobile__segmented-view--button ".concat(r===e?"tcom-lego-header__mobile__segmented-view--button--active":""),"aria-selected":r===e,tabIndex:r===e?void 0:-1,onClick:function(){n(e),te(e.label.toLowerCase().trim())},onKeyDown:i},e.label)})))),a.a.createElement("div",{id:"category-panel-".concat(r.label),"aria-labelledby":"category-list-item-".concat(r.label)},o))},zn=r(7),Wn=r.n(zn);function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jn=function(e){var t=e.subMenu,r=e.subMenuList,o=e.primaryList,i=e.isSupport,s=Object(n.useContext)(on),c=s.mobileSubMenuLinkSelected,l=s.activeSecondaryHeader,u=s.setMobileSubMenuLinkSelected,d=s.setMobileSubMenuSelected,m=Gn(Object(n.useState)(!1),2),h=m[0],f=m[1],g=Object(n.useRef)(null),p=Wn()(r.label);return Object(n.useEffect)((function(){f(!1),d(null),u(null);var e=g.current;e&&(e.style.maxHeight="0px",e.style.visibility="hidden")}),[l,u,d]),a.a.createElement("li",{className:"tcom-lego-header__mobile__sub-menu-list__header--container ".concat(c===r?"tcom-lego-header__mobile__sub-menu-list__header--container--active":""),key:r.label},a.a.createElement("h3",null,r.links.length?a.a.createElement("button",{className:"tcom-lego-header__mobile__sub-menu-list-dropdown-button",type:"button",onClick:function(){var e=g.current;if(h)e&&(e.style.maxHeight="0px",e.style.visibility="hidden"),f(!1),u(null);else if(f(!0),u(r),d(t),e){e.style.visibility="visible",e.style.maxHeight="".concat(e.scrollHeight,"px");var n=o.current;n&&(n.style.maxHeight="".concat(n.scrollHeight+e.scrollHeight,"px"))}te(r.label.toLowerCase().trim(),"".concat(l.label.toLowerCase().trim(),":").concat(t.label.toLowerCase().trim()))},"aria-expanded":h,"aria-controls":"".concat(b.SECONDARYREGION,"--").concat(p),id:"".concat(b.SECONDARYBUTTON,"--").concat(p)},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list-dropdown-container"},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__header--icon-container"},a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__dropdown-chevron",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x(r.mobileAbleIcon||"")})),a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__label"},r.label)),a.a.createElement("svg",{className:"tcom-lego-header__mobile__sub-menu-list__dropdown-chevron ".concat(h?"tcom-lego-header__secondary-header__button--chevron--active":""),role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronDown")})))):a.a.createElement("a",{className:"tcom-lego-header__mobile__sub-menu-list-dropdown-button",href:r.url,id:"".concat(b.SECONDARYBUTTON,"--").concat(p)},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list-dropdown-container"},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__header--icon-container"},a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__dropdown-chevron",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x(r.mobileAbleIcon||"")})),a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__label"},r.label))))),r.links.length?a.a.createElement("ul",{ref:g,className:"tcom-lego-header__mobile__sub-menu-list__link--container",role:"region","aria-labelledby":"".concat(b.SECONDARYBUTTON,"--").concat(p),id:"".concat(b.SECONDARYREGION,"--").concat(p)},r.links.map((function(e){return a.a.createElement("li",{key:e.label},a.a.createElement("a",{href:e.link,onClick:function(n){n.preventDefault(),te(e.label.toLowerCase().trim(),"".concat(l.label.toLowerCase().trim(),":").concat(t.label.toLowerCase().trim(),":").concat(r.label.toLowerCase().trim())),window.location.href=e.link},className:"tcom-lego-header__mobile__sub-menu-list__link--anchor"},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__link--label"},e.label)))})),"#"===r.url||i?a.a.createElement(a.a.Fragment,null):a.a.createElement("li",null,a.a.createElement("a",{href:r.url,onClick:function(e){e.preventDefault(),te(r.mobileLabel.toLowerCase().trim(),"".concat(l.label.toLowerCase().trim(),":").concat(t.label.toLowerCase().trim(),":").concat(r.label.toLowerCase().trim())),window.location.href=r.url},className:"tcom-lego-header__mobile__sub-menu-list__link--anchor"},a.a.createElement("div",{className:"tcom-lego-header__mobile__sub-menu-list__link--label"},r.mobileLabel)))):"")};function Kn(e){return function(e){if(Array.isArray(e))return Zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){if(e){if("string"==typeof e)return Zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(e,t):void 0}}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xn=function(e){var t=e.subMenu,r=Object(n.useContext)(on),o=r.mobileSubMenuSelected,i=r.activeSecondaryHeader,s=r.setMobileSubMenuSelected,c=r.setMobileSubMenuLinkSelected,l=Vn(Object(n.useState)(!1),2),u=l[0],d=l[1],m=Object(n.useRef)(null),h=t.subMenusColumns,f=[].concat(Kn(null!=h&&h.firstColumn?null==h?void 0:h.firstColumn:[]),Kn(null!=h&&h.secondColumn?null==h?void 0:h.secondColumn:[]),Kn(null!=h&&h.thirdColumn?null==h?void 0:h.thirdColumn:[])),g=Wn()(t.label);return Object(n.useEffect)((function(){d(!1),s(null),c(null);var e=m.current;e&&(e.style.maxHeight="0px",e.style.visibility="hidden")}),[i,c,s]),a.a.createElement("li",{className:"tcom-lego-header__mobile__primary-list--list ".concat(o===t?"tcom-lego-header__mobile__primary-list--list-active":"")},a.a.createElement("h2",{className:"tcom-lego-header__mobile__primary-list--dropdown-header"},a.a.createElement("button",{className:"tcom-lego-header__mobile__primary-list--dropdown-container",type:"button",onClick:function(){u?(m.current&&(m.current.style.maxHeight="0px",m.current.style.visibility="hidden"),d(!1),s(null),c(null)):(d(!0),s(t),c(null),m.current&&(m.current.style.maxHeight="".concat(m.current.scrollHeight,"px"),m.current.style.visibility="visible")),te(t.label.toLowerCase().trim(),i.label.toLowerCase().trim())},"aria-expanded":u,"aria-controls":"".concat(b.PRIMARYREGION,"--").concat(g),id:"".concat(b.PRIMARYBUTTON,"--").concat(g)},a.a.createElement("div",null,t.label),a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__dropdown-chevron ".concat(u?"tcom-lego-header__secondary-header__button--chevron--active":""),role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronDown")})))),a.a.createElement("ul",{ref:m,role:"region","aria-labelledby":"".concat(b.PRIMARYBUTTON,"--").concat(g),id:"".concat(b.PRIMARYREGION,"--").concat(g),className:"tcom-lego-header__mobile__sub-menu-list--container"},f.map((function(e){return a.a.createElement(Jn,{key:e.label,subMenu:t,subMenuList:e,primaryList:m})})),t.header?a.a.createElement(Jn,{key:t.header,subMenu:t,subMenuList:{label:t.header,mobileLabel:t.header,url:"#",column:1,links:t.links||[]},primaryList:m,isSupport:!0}):a.a.createElement(a.a.Fragment,null)))};function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ra=function(){var e=Object(n.useContext)(Zr),t=e.activeUser,r=e.authenticatedUser;return a.a.createElement(a.a.Fragment,null,"Hi, ".concat(function(){var e,n="";t?n=ea(t.name.split(" "),1)[0]:r&&(n=r.profile.given_name);return $.a.truncate($.a.upperFirst(null===(e=n)||void 0===e?void 0:e.toLowerCase()),{length:15})}()))};function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var aa=function(e){var t,r=e.subMenu,o=Object(n.useContext)(on),i=o.properties,s=o.activeSubMenu,c=o.isDesktop,l=o.setSubMenu,u=o.handleFocusLeave,m=o.toggleSwitchMembership,f=o.isSwitchMembership,g=o.handleMobileSubMenu,p=o.setIsSwitchMembership,_=Object(n.useContext)(Zr),b=_.authenticatedUser,y=_.setAuthenticatedUser,v=_.userLoyaltyPoints,w=_.hasMultipleAccounts,E=function(){Ur&&Ur.signinRedirect()},S=function(){y(null);!function e(t){Object.keys(t).forEach((function(r){"object"===na(t[r])?e(t[r]):window.sessionStorage.removeItem(t[r])}))}(Pt),Fr()};return r?a.a.createElement(a.a.Fragment,null,c?a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--desktop-list"},a.a.createElement("div",{className:"tcom-lego-header__primary-header--list-item tcom-lego-header__sign-in__container--desktop-list--container"},a.a.createElement("button",{type:"button",className:"tcom-lego-header__primary-header__choice-chip--container tcom-lego-header__primary-header__sign-in--container ".concat(b?"tcom-lego-header__primary-header__sign-in--container-authenticated":""),onClick:function(){te(b?"auth":"unauth","sign in"),l(r,h)}},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding tcom-lego-header__primary-header__sign-in--chevron-container"},a.a.createElement("div",{className:"tcom-lego-header__sign-in__header--vertical ".concat(s===r?"tcom-lego-header__sign-in__header--active":"")},b?a.a.createElement("div",null,a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--icon-container"},a.a.createElement("svg",{className:"tcom-lego-header__profile-desktop--icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32","aria-hidden":"true",focusable:"false",tabIndex:-1},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"Magenta_gradient","data-name":"Magenta gradient",x1:"0",y1:"18",x2:"32",y2:"18",gradientTransform:"translate(0 34) scale(1 -1)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#a0148c"}),a.a.createElement("stop",{offset:".31",stopColor:"#ffad6e"}),a.a.createElement("stop",{offset:"1",stopColor:"#ff79a3"}))),a.a.createElement("path",{className:"tcom-lego-header__authenticated-user-border",d:"M16,1c8.27,0,15,6.73,15,15s-6.73,15-15,15S1,24.27,1,16,7.73,1,16,1m0-1C7.16,0,0,7.16,0,16s7.16,16,16,16,16-7.16,16-16S24.84,0,16,0h0Z"}),a.a.createElement("path",{d:"M16,6.25c2.07,0,3.87,1.41,4.37,3.42s-.44,4.1-2.27,5.06c3.96,.84,6.9,3.97,6.9,7.73,0,2.2-4.5,3.29-9,3.29s-9-1.09-9-3.29c0-3.76,2.94-6.89,6.9-7.73-1.83-.97-2.77-3.05-2.27-5.06,.5-2.01,2.3-3.42,4.37-3.42Zm0,9.75c-4.13,0-7.5,2.9-7.5,6.46,0,.41,2.34,1.79,7.5,1.79s7.5-1.38,7.5-1.79c0-3.56-3.37-6.46-7.5-6.46Zm0-8.25c-1.66,0-3,1.34-3,3s1.34,3,3,3,3-1.34,3-3-1.34-3-3-3Z"})),a.a.createElement("div",null,a.a.createElement(ra,null))),i.signIn&&i.signIn.loyalty&&null!==v?a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--points"},"".concat(v.toLocaleString("en-AU")," ").concat((null===(t=i.signIn.loyalty)||void 0===t?void 0:t.pointsCopy)||"Telstra Plus points")):a.a.createElement(a.a.Fragment,null)):a.a.createElement("div",null,r.label)),c?a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--chevron-vertical"},a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button tcom-lego-header__secondary-header__button--chevron ".concat(s===r?"tcom-lego-header__secondary-header__button--chevron--active":""),tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("ChevronDown")}))):a.a.createElement(a.a.Fragment,null)))),s===r&&c?a.a.createElement("ul",{className:"tcom-lego-header__sign-in__container ".concat(b&&i.signIn&&i.signIn.loyalty?"tcom-lego-header__sign-in__container--authenticated":""),onBlur:u},b&&i.signIn&&i.signIn.loyalty?a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--authenticated-cta"},a.a.createElement("a",{className:"tcom-lego-header__sign-in__authenticated--redeem-points",href:i.signIn.loyalty.url||"https://checkout.telstra.com.au/consumer/rewards"},"Redeem points",a.a.createElement("svg",{className:"undefined",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))),i.signIn.switchMembership&&w?a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--authenticated-cta"},a.a.createElement("button",{className:"tcom-lego-header__sign-in__authenticated--switch-membership",type:"button",onClick:function(){m(!f)}},"Switch membership",a.a.createElement("svg",{className:"undefined",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null),r.links&&r.links.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sign-in__link-container ".concat(e.highlight?"tcom-lego-header__sign-in__link-container--highlight":"")},e.auth?a.a.createElement("button",{type:"button",className:e.highlight?"tcom-lego-header__sign-in__link-highlight-anchor":"tcom-lego-header__sign-in__link-anchor",onClick:E},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))):a.a.createElement("a",{href:e.link,className:e.highlight?"tcom-lego-header__sign-in__link-highlight-anchor":"tcom-lego-header__sign-in__link-anchor"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))})),b?a.a.createElement("div",{className:"tcom-lego-header__sign-in__authenticated--log-out--container"},a.a.createElement("button",{className:"tcom-lego-header__sign-in__authenticated-log-out",type:"button",onClick:S},"Sign out")):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null)):a.a.createElement("ul",{className:"tcom-lego-header__sign-in__container--mobile"},b&&i.signIn?a.a.createElement(a.a.Fragment,null,i.signIn.loyalty?a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--authenticated-cta"},a.a.createElement("a",{className:"tcom-lego-header__sign-in__authenticated--redeem-points",href:i.signIn.loyalty.url||"https://checkout.telstra.com.au/consumer/rewards"},"Redeem points",a.a.createElement("svg",{className:"undefined",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))):a.a.createElement(a.a.Fragment,null),i.signIn.switchMembership&&w?a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--authenticated-cta"},a.a.createElement("button",{className:"tcom-lego-header__sign-in__authenticated--switch-membership",type:"button",onClick:function(){p(!f),g({label:i.signIn.switchMembership.heading,text:i.signIn.switchMembership.text},d)}},"Switch membership",a.a.createElement("svg",{className:"undefined",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null),r.links&&r.links.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sign-in__link-container ".concat(e.highlight?"tcom-lego-header__sign-in__link-container--highlight":"")},e.auth?a.a.createElement("button",{type:"button",className:e.highlight?"tcom-lego-header__sign-in__link-highlight-anchor":"tcom-lego-header__sign-in__link-anchor",onClick:E},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))):a.a.createElement("a",{href:e.link,className:e.highlight?"tcom-lego-header__sign-in__link-highlight-anchor":"tcom-lego-header__sign-in__link-anchor"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))})),b?a.a.createElement("div",{className:"tcom-lego-header__sign-in__authenticated--log-out--container"},a.a.createElement("button",{className:"tcom-lego-header__sign-in__authenticated-log-out",type:"button",onClick:S},"Sign out")):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null)},oa=function(e){var t=e.subMenu;return t.links?a.a.createElement(a.a.Fragment,null,t.links.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sign-in__link-container"},a.a.createElement("a",{href:e.link,className:"tcom-lego-header__sign-in__link-anchor tcom-lego-header__country-selector__link-anchor"},a.a.createElement("div",{className:"tcom-lego-header__country-selector__icon--container"},a.a.createElement("img",{className:"tcom-lego-header__country-selector__icon",src:e.icon,alt:""}),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label)),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))}))):a.a.createElement(a.a.Fragment,null)},ia=function(e){var t=e.subMenu,r=Object(n.useContext)(on),o=r.activeSubMenu,i=r.isDesktop,s=r.setSubMenu,c=r.handleFocusLeave;return t?i?a.a.createElement("li",{key:"CountrySelector",className:"tcom-lego-header__country-selector__list-item"},a.a.createElement("button",{type:"button",className:"tcom-lego-header__primary-header__choice-chip--container tcom-lego-header__primary-header__country-selector--container ".concat(o===t?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){o!==t&&te("country",""),s(t,f)}},a.a.createElement("div",{className:"tcom-lego-header__primary-header__country-selector--icon-container"},a.a.createElement("img",{className:"tcom-lego-header__country-selector__menu-icon",src:t.ableMenuIcon,alt:""})),a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__country-selector--text-padding"},a.a.createElement("div",null,t.label)),a.a.createElement("div",{className:"tcom-lego-header__primary-header__country-selector--icon-container"},a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button tcom-lego-header__secondary-header__button--chevron ".concat(o===t?"tcom-lego-header__secondary-header__button--chevron--active":""),tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("ChevronDown")})))),o===t&&i?a.a.createElement("ul",{className:"tcom-lego-header__country-selector__container",onBlur:c},a.a.createElement(oa,{subMenu:t})):a.a.createElement(a.a.Fragment,null)):a.a.createElement("ul",{className:"tcom-lego-header__country-selector__container--mobile"},a.a.createElement(oa,{subMenu:t})):a.a.createElement(a.a.Fragment,null)},sa=function(e,t){if(!e&&!t)return"cart-plan-thumbnail.png";if(t&&"fixed"===t.toLowerCase())return"cart-home-internet-thumbnail.png";if(e)switch(e.toLowerCase()){case"fixed":case"bundle":return"cart-home-internet-thumbnail.png";case"electricity":return"cart-elec-thumbnail.png";case"gas":return"cart-gas-thumbnail.png";case"handset":return"cart-mobile-thumbnail.png";case"data":case"voicedata":return"cart-plan-thumbnail.png";case"modem":return"cart-mobile-broadband-thumbnail.png";case"tablet":return"cart-mobile-thumbnail.png";default:return"cart-accessories-thumbnail.png"}return"cart-plan-thumbnail.png"},ca=function(e){var t=e.product,r=Object(n.useContext)(on).properties.cart;if(!r)return a.a.createElement(a.a.Fragment,null);var o=t.name,i=t.subType,s=t.dataAllowance,c=t.colour,l=t.size,u=t.inStock,d=function(){var e=u&&"true"!==u?u:null;return e?r.backOrderCopy.replace("[backorder]",e||"back-order"):null};return a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item-container"},a.a.createElement("div",{className:"tcom-lego-header__cart__product--primary"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item__image-holder--velocity"},a.a.createElement("img",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item__image--velocity",alt:o,src:"/content/dam/tcom/renos/assets/cartmodal/".concat(sa())})),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item--velocity__description-container"},a.a.createElement("div",{className:"tcom-lego-header__cart__product--label"},o),a.a.createElement("div",{className:"tcom-lego-header__cart__product--velocity-description"},i.includes("electricity")||i.includes("gas")||i.includes("deviceassurance")?"":a.a.createElement("span",null,s||"".concat(c,", ").concat(l))))),d()?a.a.createElement("div",{className:"tcom-lego-header__cart__product--back-order--container"},a.a.createElement("svg",{className:"tcom-lego-header__cart__product--back-order--icon",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Shop")})),a.a.createElement("div",{className:"tcom-lego-header__cart__product--back-order--description"},d())):a.a.createElement(a.a.Fragment,null))};function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ua(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var da=function(e){var t=e.product,r=Object(n.useContext)(on).properties.cart;if(!r)return a.a.createElement(a.a.Fragment,null);var o=function(){var e,n=t.find((function(e){return!!$.a.find(e.itemAttributes,{name:"deviceName"})&&e}));if(n)e=n;else{var a=$.a.intersectionBy(t,[{"productOffering.productFamily":"Mobiles"},{"productOffering.productFamily":"General"},{"productOffering.productFamily":"BusinessAppsAndServices"},{"productOffering.productFamily":"Fixed"}],"productOffering.productFamily");if(!a.length)return null;e=la(a,1)[0]}var o=$.a.find(e.itemAttributes,{name:"exploreImageURL"}),i=$.a.find(e.itemAttributes,{name:"deviceColor"});if(!i){var s=$.a.find(e.productOffering.characteristics,{name:"ATTR_CLR"});s&&(i=s)}var c=$.a.find(e.itemAttributes,{name:"deviceName"}),l=$.a.find(e.itemAttributes,{name:"deviceStorage"}),u={subType:e.productOffering.productSubType},d={family:e.productOffering.productFamily};if(!e.productOffering.productSubType){var m=$.a.find(e.productOffering.characteristics,{name:"ATTR_CO_PR_SUB_TYP"});m&&(u.subType=m.value)}var h=$.a.find(e.itemAttributes,{name:"stockStatus"}),f=r.backOrderCopy.replace("[backorder]",function(e){switch(e){case"backOrder":return"back order";case"preOrder":return"pre-order";default:return"back order"}}(null==h?void 0:h.value)||"back-order"),g=$.a.without(t,e),p=[];if(0===g.length){var _=$.a.find(e.productOffering.characteristics,{name:"ATT_OFCH_INCLUDED_DATA"}),b=$.a.find(e.productOffering.characteristics,{name:"ATT_OFCH_INCLUDED_SPEED"});_&&_.value&&p.push({allowance:{value:_.value,extension:b&&"enhanced"===b.value.toLowerCase()}})}else g.forEach((function(e){var t=e.productOffering.productName,r=$.a.find(e.productOffering.characteristics,{name:"ATT_OFCH_INCLUDED_DATA"}),n=$.a.find(e.productOffering.characteristics,{name:"ATT_OFCH_INCLUDED_SPEED"});if(t){var a={name:t};r&&r.value&&(a.allowance={value:r.value,extension:n&&"enhanced"===n.value.toLowerCase()}),p.push(a)}}));return{image:o&&o.value?o.value:"/content/dam/tcom/renos/assets/cartmodal/".concat(sa(u.subType,d.family)),name:c?c.value:e.productOffering.productName,colour:i&&i.value?i.value:"",storage:l&&l.value?l.value:"",backOrderCopy:h&&h.value&&"inStock"!==h.value?f:"",additionalProducts:p}}();if(!o)return a.a.createElement(a.a.Fragment,null);var i=o.image,s=o.name,c=o.colour,l=o.storage,u=o.backOrderCopy,d=o.additionalProducts;return a.a.createElement("li",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item-container"},a.a.createElement("div",{className:"tcom-lego-header__cart__product--primary"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item__image-holder"},a.a.createElement("img",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item__image",alt:"Phone",src:i})),a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-item__description-container"},a.a.createElement("div",{className:"tcom-lego-header__cart__product--label"},s),a.a.createElement("div",{className:"tcom-lego-header__cart__product--colour"},"".concat(c).concat(l?", ".concat(l):"")),d.map((function(e){return a.a.createElement("div",{key:JSON.stringify(e)},e.name?a.a.createElement("div",{className:"tcom-lego-header__cart__product__additional-product--heading"},e.name):a.a.createElement(a.a.Fragment,null),e.allowance?a.a.createElement("div",{className:"tcom-lego-header__cart__product--additional-product-description"},"".concat(e.allowance.value).concat(e.allowance.extension?", 5G network access":"")):a.a.createElement(a.a.Fragment,null))})))),u?a.a.createElement("div",{className:"tcom-lego-header__cart__product--back-order--container"},a.a.createElement("svg",{className:"tcom-lego-header__cart__product--back-order--icon",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Shop")})),a.a.createElement("div",{className:"tcom-lego-header__cart__product--back-order--description"},u)):a.a.createElement(a.a.Fragment,null))};function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ha=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),s=new x(a||[]);return n(i,"_invoke",{value:w(e,r,s)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var g={};c(g,o,(function(){return this}));var p=Object.getPrototypeOf,_=p&&p(p(N([])));_&&_!==t&&r.call(_,o)&&(g=_);var b=f.prototype=m.prototype=Object.create(g);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t((function(a,i){!function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ma(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new v(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function fa(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function ga(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){fa(o,n,a,i,s,"next",e)}function s(e){fa(o,n,a,i,s,"throw",e)}i(void 0)}))}}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ba=function(e){var t=e.subMenu,r=Object(n.useContext)(on),o=r.activeSubMenu,i=r.isDesktop,s=r.setSubMenu,c=r.hidePrimaryHeader,l=r.properties,d=r.cartHasProducts,m=r.setCartHasProducts,h=r.isNewCartItem,f=r.setIsNewCartItem,g=r.cartEvent,p=l.cart;if(!p)return a.a.createElement(a.a.Fragment,null);var _=pa(Object(n.useState)(null),2),b=_[0],y=_[1],v=pa(Object(n.useState)(0),2),w=v[0],E=v[1],S=function(){return!!localStorage.getItem("vlocityExploreCart")},k=pa(Object(n.useState)(S()),2),N=k[0],C=k[1],O=pa(Object(n.useState)(!1),2),I=O[0],A=O[1],T=pa(Object(n.useState)(!1),2),L=T[0],j=T[1];window.addEventListener("pageshow",(function(e){j(!1),e.persisted&&j(!0)}));var M=function(e){var t={};return e.cartItems.forEach((function(e){e.productOffering.characteristics.forEach((function(r){var n=r.name,a=r.value;n&&"ATTR_CO_PR_SET_ID"===n&&a&&(a in t?t[a].push(e):t[a]=[e])}))})),t},P=Object(n.useCallback)((function(){y(null),E(0),m(!1)}),[m]),R=Object(n.useCallback)(ga(ha().mark((function e(){var t,r,n,a,o,i,s;return ha().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("exploreMulticart"),r=localStorage.getItem("vlocityExploreCart"),!window.location.href.includes("explore.inside.telstra.com.au")||!window.tcom.webadaptor){e.next=19;break}return e.prev=3,e.next=6,window.tcom.webadaptor.getSession();case 6:if(null==(n=e.sent)||!n.sessionCache.exploreMulticart){e.next=9;break}return e.abrupt("return",Promise.resolve(n.sessionCache.exploreMulticart));case 9:return P(),e.abrupt("return",Promise.resolve(null));case 13:return e.prev=13,e.t0=e.catch(3),P(),e.abrupt("return",Promise.resolve(null));case 17:e.next=57;break;case 19:if(!t){e.next=37;break}if(e.prev=20,a=JSON.parse(t),o=(new Date).getTime(),!(a.expiry&&a.expiry<o)){e.next=28;break}return window.globalLib.ShoppingMultiCart.removeData(),window.globalLib.ShoppingCart.removeData(),P(),e.abrupt("return",Promise.resolve(null));case 28:return e.abrupt("return",Promise.resolve(a));case 31:return e.prev=31,e.t1=e.catch(20),P(),e.abrupt("return",Promise.resolve(null));case 35:e.next=57;break;case 37:if(!r){e.next=55;break}if(e.prev=38,i=JSON.parse(r),s=(new Date).getTime(),!(i.expiry&&i.expiry<s)){e.next=46;break}return window.globalLib.ShoppingMultiCart.removeData(),window.globalLib.ShoppingCart.removeData(),P(),e.abrupt("return",Promise.resolve(null));case 46:return e.abrupt("return",Promise.resolve(i));case 49:return e.prev=49,e.t2=e.catch(38),P(),e.abrupt("return",Promise.resolve(null));case 53:e.next=57;break;case 55:return P(),e.abrupt("return",Promise.resolve(null));case 57:case"end":return e.stop()}}),e,null,[[3,13],[20,31],[38,49]])}))),[P]);return Object(n.useEffect)((function(){try{var e=localStorage.getItem("exploreMulticart");if(e){var t=JSON.parse(e),r=(new Date).getTime();t.expiry&&t.expiry<r&&(document.cookie="exploreMulticart=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.localStorage.removeItem("exploreMulticart"))}}catch(e){}}),[]),Object(n.useEffect)((function(){if(C(S()),j(!1),!N&&h)try{if(!g)return;var e=$.a.filter(g.cartItems,{itemStatus:"new"});g.cartItems=e;var t=M(g);if(y(t),E(1),null===localStorage.getItem("exploreMulticart")){var r=e.filter((function(e){return"Subscription"!==e.productOffering.productType})),n=(a=r[0].productOffering.productSubType,!window.exploreGlobalConfigComponent||!window.exploreGlobalConfigComponent.flagMultiDeviceDisabled||!!window.exploreGlobalConfigComponent.flagMultiDeviceDisabled.split(",").find((function(e){return r=a,!(!(t=e)||!r||t.toLowerCase()!==r.toLowerCase());var t,r})));A(n)}}catch(e){console.log("Something went wrong with adding a new item.")}var a}),[h,N,g]),Object(n.useEffect)((function(){C(S()),o!==t||h||R().then((function(e){if(e)if(N){var t=e;y(t.cartData),E(t.cartData?t.cartData.length:0),C(!0)}else{var r=M(e),n=function(e){return e&&Object.keys(e)&&Object.keys(e).length?Object.keys(e).length:0}(r);y(r),E(n),C(!1),n&&m(!0)}})).catch((function(){}))}),[o]),i?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement("button",{type:"button",className:"tcom-lego-header__secondary-header__button--container--icon ".concat(o===t?"tcom-lego-header__secondary-header__button--container-active":""),onClick:function(){o!==t&&te("cart",""),f(!1),s(t,u)},"aria-label":"Shopping Cart - ".concat(d?"Items inside cart":"Empty cart"),"aria-expanded":o===t,"aria-haspopup":"true"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button--wrapper"},d?a.a.createElement("div",{className:"tcom-lego-header__cart--notification"}):a.a.createElement(a.a.Fragment,null),a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Cart")})))),o===t&&i&&!L?a.a.createElement("div",{className:"tcom-lego-header__sub-menu__cart-container ".concat(c?"tcom-lego-header__sub-menu__cart-container-scrolling":"")},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--cart-container"},a.a.createElement("div",{className:"tcom-lego-header__cart__heading--container"},a.a.createElement("h2",{className:"tcom-lego-header__cart--heading"},w?a.a.createElement("span",null,h?"Added to cart":p.heading):a.a.createElement("span",null,p.emptyCartHeading)),!h&&w?a.a.createElement("div",{className:"tcom-lego-header__cart--count"},"".concat(w," item").concat(1!==w?"s":"")):a.a.createElement(a.a.Fragment,null),w?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{className:"tcom-lego-header__cart--empty-container"},p.emptyCartBodyCopy)),w&&b?a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-container"},N?b.map((function(e){return a.a.createElement(ca,{key:e.name,product:e})})):Object.keys(b).map((function(e){return a.a.createElement(da,{key:e,product:b[e]})}))):a.a.createElement(a.a.Fragment,null),!w&&p.ctaItems?a.a.createElement("ul",{className:"tcom-lego-header__cart--empty-links"},p.ctaItems.map((function(e){return a.a.createElement("li",{key:e.label},a.a.createElement("svg",{className:"able-icon",role:"img","aria-hidden":"true",focusable:"false"},a.a.createElement("use",{xlinkHref:x(e.ableIcon)})),a.a.createElement("div",null,a.a.createElement("a",{href:e.url,target:e.openInNewWindow?"_blank":"_self",rel:e.openInNewWindow?"noopener noreferrer":void 0},a.a.createElement("span",{"aria-hidden":"true"}),e.label,e.openInNewWindow?a.a.createElement("span",{className:"able-sr-only"},", opens new tab"):a.a.createElement(a.a.Fragment,null))),a.a.createElement("svg",{className:"arrow",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))}))):a.a.createElement(a.a.Fragment,null),w?a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--cart-button-container"},a.a.createElement("div",null,a.a.createElement("a",{className:"tcom-lego-header__sub-menu__cart__cart-summary-button",href:p.ctaLink?p.ctaLink:"/shop/shopSummary"},p.ctaLabel),h&&!I&&p.secondaryCtaLabel&&p.secondaryCtaLink?a.a.createElement("a",{className:"tcom-lego-header__sub-menu__cart__cart-secondary-button",href:p.secondaryCtaLink},p.secondaryCtaLabel):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null)):a.a.createElement("div",null,a.a.createElement("div",{className:"tcom-lego-header__cart__heading--container"},a.a.createElement("h2",{className:"tcom-lego-header__mobile-modal__heading"},w?a.a.createElement("span",null,h?"Added to cart":p.heading):a.a.createElement("span",null,p.emptyCartHeading)),!h&&w?a.a.createElement("div",{className:"tcom-lego-header__cart--count"},"".concat(w," item").concat(1!==w?"s":"")):a.a.createElement(a.a.Fragment,null),w?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{className:"tcom-lego-header__cart--empty-container"},p.emptyCartBodyCopy)),w&&b?a.a.createElement("ul",{className:"tcom-lego-header__sub-menu__sub-menu-list--product-container"},N?b.map((function(e){return a.a.createElement(ca,{key:e.name,product:e})})):Object.keys(b).map((function(e){return a.a.createElement(da,{key:e,product:b[e]})}))):a.a.createElement(a.a.Fragment,null),!w&&p.ctaItems?a.a.createElement("ul",{className:"tcom-lego-header__cart--empty-links"},p.ctaItems.map((function(e){return a.a.createElement("li",{key:e.label},a.a.createElement("svg",{className:"able-icon",role:"img","aria-hidden":"true",focusable:"false"},a.a.createElement("use",{xlinkHref:x(e.ableIcon)})),a.a.createElement("div",null,a.a.createElement("a",{href:e.url,target:e.openInNewWindow?"_blank":"_self",rel:e.openInNewWindow?"noopener noreferrer":void 0},a.a.createElement("span",{"aria-hidden":"true"}),e.label,e.openInNewWindow?a.a.createElement("span",{className:"able-sr-only"},", opens new tab"):a.a.createElement(a.a.Fragment,null))),a.a.createElement("svg",{className:"arrow",version:"1.1","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M21.28 11.47 16 6.19a.75.75 0 0 0-1.06 0 .75.75 0 0 0 0 1.06L19.69 12l-4.75 4.75A.75.75 0 1 0 16 17.81l5.28-5.28a.75.75 0 0 0 0-1.06Z"}),a.a.createElement("rect",{className:"arr02",x:"5.5",y:"11.25",width:"15",height:"1.5",rx:".75"})))}))):a.a.createElement(a.a.Fragment,null),w?a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--cart-button-container"},a.a.createElement("div",null,a.a.createElement("a",{className:"tcom-lego-header__sub-menu__cart__cart-summary-button",href:p.ctaLink?p.ctaLink:"/shop/shopSummary"},p.ctaLabel),h&&!I&&p.secondaryCtaLabel&&p.secondaryCtaLink?a.a.createElement("a",{className:"tcom-lego-header__sub-menu__cart__cart-secondary-button",href:p.secondaryCtaLink},p.secondaryCtaLabel):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null))},ya=function(){var e=Object(n.useContext)(on),t=e.isDesktop,r=e.properties;if(!r.additionalCTA)return a.a.createElement(a.a.Fragment,null);var o=r.additionalCTA,i=o.style,s=o.url,c=o.label,l=o.openInNewWindow;return t?a.a.createElement("li",{key:"AdditionalCTA",className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement("div",{className:"tcom-lego-header__secondary-header__additional-cta--container"},a.a.createElement("a",{className:"tcom-lego-header__secondary-header__additional-cta tcom-lego-header__secondary-header__additional-cta--compact-".concat(i),href:s,target:l?"_blank":"_self",rel:"noreferrer"},c))):a.a.createElement("li",{key:"Additional CTA",className:"tcom-lego-header__secondary-header__additional-cta--mobile-container"},a.a.createElement("a",{className:"tcom-lego-header__secondary-header__additional-cta tcom-lego-header__secondary-header__additional-cta--".concat(i),href:s,target:l?"_blank":"_self",rel:"noreferrer"},c))};function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ea=function(){var e=Object(n.useContext)(Zr),t=e.properties,r=e.accountUsers,o=e.activeUser,s=e.setActiveUser,c=e.setUserLoyaltyPoints;if(!t.signIn||!t.signIn.switchMembership)return a.a.createElement(a.a.Fragment,null);var l=va(Object(n.useState)(null),2),u=l[0],d=l[1],m=t.signIn.switchMembership.text;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",{className:"tcom-lego-header__switch-membership__switch-heading"},"Switch from"),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__current-user--container"},a.a.createElement("div",{className:"tcom-lego-header__switch-membership__success-icon--container"},a.a.createElement("svg",{className:"tcom-lego-header__switch-membership__success-icon",role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("Success")}))),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__current-user__content--container"},o?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tcom-lego-header__switch-membership__current-user--name"},o.name.split(/([ -])/).map((function(e){return $.a.capitalize(e)})).join("")),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__current-user--details"},a.a.createElement("div",null,"Tier: ".concat($.a.capitalize(o.tier))),a.a.createElement("div",null,"Points: ".concat(r&&o.id?(r[o.id].points||0).toLocaleString("en-AU"):0)),a.a.createElement("div",null,"Account: ".concat(o.id)))):a.a.createElement(a.a.Fragment,null))),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__radio-group"},a.a.createElement("fieldset",null,a.a.createElement("legend",null,"Switch to"),r&&Object.keys(r).map((function(e){var t=r[e],n=t.name,i=t.tier,s=t.points,c=t.id;return o&&c===o.id?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{key:e},a.a.createElement("input",{name:"radio",id:"switch-membership__".concat(e),type:"radio",value:e,onClick:function(){return d(e)}}),a.a.createElement("label",{htmlFor:"switch-membership__".concat(e)},n.split(/([ -])/).map((function(e){return $.a.capitalize(e)})).join(""),a.a.createElement("span",{className:"tcom-lego-header__switch-membership__radio-group--description"},a.a.createElement("div",null,"Tier: ".concat($.a.capitalize(i))),a.a.createElement("div",null,"Points: ".concat(s?s.toLocaleString("en-AU"):0)),a.a.createElement("div",null,"Account: ".concat(c))),a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32","aria-hidden":"true",focusable:"false"},a.a.createElement("circle",{cx:"16",cy:"16",r:"7"}))))})))),a.a.createElement("button",{className:"tcom-lego-header__switch-membership__confirm-button",type:"button",onClick:function(){if(u&&r){var e=r[u],t=e.id,n=e.points,a=e.tier,o=e.name;s(e),c(e.points||0),t&&window.sessionStorage.setItem(Pt.CAC,t),n&&window.sessionStorage.setItem(Pt.POINTS,"".concat(n)),window.sessionStorage.setItem(Pt.TIER,a),window.sessionStorage.setItem(Pt.NAME,o),window.dispatchEvent(new CustomEvent(w))}}},"Switch membership"),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__details--container",dangerouslySetInnerHTML:{__html:i()(m)}}))},Sa=function(){var e=Object(n.useContext)(on),t=e.isSwitchMembership,r=e.toggleSwitchMembership,o=e.properties,i=e.isDesktop;if(!t||!o.signIn||!o.signIn.switchMembership)return a.a.createElement(a.a.Fragment,null);var s=o.signIn.switchMembership.heading;return i?a.a.createElement("div",{className:"tcom-lego-header__switch-membership--opaque-container"},a.a.createElement("div",{className:"tcom-lego-header__switch-membership--content-container"},a.a.createElement("div",{className:"tcom-lego-header__switch-membership__close-button--container"},a.a.createElement("button",{type:"button",className:"tcom-lego-header__switch-membership__close-button",onClick:function(){return r(!1)},"aria-label":"Close notification bar"},a.a.createElement("svg",{className:"tcom-lego-header__switch-membership__close-icon",role:"img","aria-hidden":"true",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("Close")})))),a.a.createElement("div",{className:"tcom-lego-header__switch-membership__main-container"},a.a.createElement("h2",{className:"tcom-lego-header__switch-membership__heading"},s),a.a.createElement(Ea,null)))):a.a.createElement("div",{className:"tcom-lego-header__switch-membership--content-container--mobile"},a.a.createElement(Ea,null))},ka=function(){var e,t,r=Object(n.useContext)(on),o=r.properties,i=r.setActiveSecondaryHeader,s=r.activeSecondaryHeader,c=r.activeSubMenuType,m=r.handleMobileSubMenu,g=r.showSecondaryHeader,p=Object(n.useContext)(Zr),_=p.authenticatedUser,b=p.userLoyaltyPoints,y=o.menuItems,v=o.cart,w=o.search,E=o.signIn,S=o.countrySelector,k=o.additionalLinks,N=o.additionalCTA;switch(Object(n.useEffect)((function(){return function(){window.dispatchEvent(new Event("resize"))}}),[]),null==s||null===(e=s.subMenus)||void 0===e||e.forEach((function(e){e.subMenusColumns=jn(e)})),c){case l:return a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement(kn,null)));case d:return E&&E.switchMembership?a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement("h2",{className:"tcom-lego-header__mobile-modal__heading"},E.switchMembership.heading),a.a.createElement(Sa,null))):a.a.createElement(a.a.Fragment,null);case f:return S?a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement("h2",{className:"tcom-lego-header__mobile-modal__heading"},S.mobileMenuLabel),a.a.createElement(ia,{subMenu:S}))):a.a.createElement(a.a.Fragment,null);case u:return v?a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement(ba,{subMenu:v}))):a.a.createElement(a.a.Fragment,null);case h:return E?a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding tcom-lego-header__mobile-modal__container--background-secondary"},_?a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--mobile-container"},a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--icon-container"},a.a.createElement("svg",{className:"tcom-lego-header__profile-desktop--icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32","aria-hidden":"true",focusable:"false",tabIndex:-1},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"Magenta_gradient","data-name":"Magenta gradient",x1:"0",y1:"18",x2:"32",y2:"18",gradientTransform:"translate(0 34) scale(1 -1)",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#a0148c"}),a.a.createElement("stop",{offset:".31",stopColor:"#ffad6e"}),a.a.createElement("stop",{offset:"1",stopColor:"#ff79a3"}))),a.a.createElement("path",{className:"tcom-lego-header__authenticated-user-border",d:"M16,1c8.27,0,15,6.73,15,15s-6.73,15-15,15S1,24.27,1,16,7.73,1,16,1m0-1C7.16,0,0,7.16,0,16s7.16,16,16,16,16-7.16,16-16S24.84,0,16,0h0Z"}),a.a.createElement("path",{d:"M16,6.25c2.07,0,3.87,1.41,4.37,3.42s-.44,4.1-2.27,5.06c3.96,.84,6.9,3.97,6.9,7.73,0,2.2-4.5,3.29-9,3.29s-9-1.09-9-3.29c0-3.76,2.94-6.89,6.9-7.73-1.83-.97-2.77-3.05-2.27-5.06,.5-2.01,2.3-3.42,4.37-3.42Zm0,9.75c-4.13,0-7.5,2.9-7.5,6.46,0,.41,2.34,1.79,7.5,1.79s7.5-1.38,7.5-1.79c0-3.56-3.37-6.46-7.5-6.46Zm0-8.25c-1.66,0-3,1.34-3,3s1.34,3,3,3,3-1.34,3-3-1.34-3-3-3Z"})),a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--greeting"},a.a.createElement(ra,null))),o.signIn&&o.signIn.loyalty&&null!==b?a.a.createElement("div",{className:"tcom-lego-header__authenticated-user--points"},"".concat(b.toLocaleString("en-AU")," ").concat((null===(t=o.signIn.loyalty)||void 0===t?void 0:t.pointsCopy)||"Telstra Plus points")):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",{className:"tcom-lego-header__mobile-modal__heading"},_?E.mobileAuthenticatedLabel:E.mobileLabel),a.a.createElement(aa,{subMenu:E})))):a.a.createElement(a.a.Fragment,null);default:return g?a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile__container"},a.a.createElement(Yn,{buttons:y,activeElement:s,callback:function(e){i(e)}},a.a.createElement("ul",{className:"tcom-lego-header__mobile__primary-list--container"},a.a.createElement("li",{key:"".concat(s.label," Home")},a.a.createElement("h2",null,a.a.createElement("a",{className:"tcom-lego-header__mobile__primary-list__home--container",href:s.mobileUrl,onClick:function(e){e.preventDefault(),te(s.label.toLowerCase().trim()),window.location.href=s.mobileUrl},"aria-current":"page"},a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__home--icon",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Home")})),a.a.createElement("div",{className:"tcom-lego-header__mobile__primary-list__home"},a.a.createElement("div",null,"".concat(s.label," Home"))),a.a.createElement("svg",{className:"tcom-lego-header__mobile__primary-list__home--chevron",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))),s.subMenus&&s.subMenus.map((function(e){return"subMenu"===e.type?a.a.createElement(Xn,{key:e.label,subMenu:e}):"link"===e.type?a.a.createElement("li",{className:"tcom-lego-header__mobile__primary-list--list",key:e.label},a.a.createElement("h2",{className:"tcom-lego-header__mobile__primary-list--dropdown-header"},a.a.createElement("a",{className:"tcom-lego-header__mobile__primary-list--dropdown-container",href:e.linkURL,onClick:function(){te(e.label.toLowerCase().trim(),s.label.toLowerCase().trim())}},a.a.createElement("div",null,e.label)))):a.a.createElement(a.a.Fragment,null)}))),a.a.createElement("ul",{className:"tcom-lego-header__mobile__secondary-list--container"},o.additionalLinks&&o.additionalLinks.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__mobile__primary-list--list"},a.a.createElement("h2",{className:"tcom-lego-header__mobile__primary-list--dropdown-header"},a.a.createElement("a",{href:e.url,className:"tcom-lego-header__mobile__primary-list--dropdown-container",onClick:function(t){t.preventDefault(),te(e.label.toLowerCase().trim(),s.label.toLowerCase().trim()),window.location.href=e.url}},a.a.createElement("div",null,e.label))))})),s.supportMenu?a.a.createElement(Xn,{key:"Support Menu",subMenu:s.supportMenu}):a.a.createElement(a.a.Fragment,null),w&&a.a.createElement("li",{key:"Search",className:"tcom-lego-header__mobile__primary-list--list"},a.a.createElement("h2",{className:"tcom-lego-header__mobile__primary-list--dropdown-header"},a.a.createElement("button",{type:"button",className:"tcom-lego-header__mobile__primary-list--dropdown-container","aria-haspopup":"true",onClick:function(){return m(w,l)}},a.a.createElement("div",null,"Search Telstra.com")))),N?a.a.createElement(ya,null):a.a.createElement(a.a.Fragment,null))))):a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container--padding"},a.a.createElement("div",{className:"tcom-lego-header__mobile__container"},a.a.createElement("div",{className:"tcom-lego-header__mobile-modal__container"},a.a.createElement("h2",{className:"tcom-lego-header__mobile-modal__heading"},"Take me to"),a.a.createElement("ul",{className:"tcom-lego-header__sign-in__container--mobile"},y&&y.length&&y.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sign-in__link-container"},a.a.createElement("a",{href:e.mobileUrl,className:"tcom-lego-header__sign-in__link-anchor"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))})),k&&k.length&&k.map((function(e){return a.a.createElement("li",{key:e.label,className:"tcom-lego-header__sign-in__link-container"},a.a.createElement("a",{href:e.url,className:"tcom-lego-header__sign-in__link-anchor"},a.a.createElement("div",{className:"tcom-lego-header__sub-menu__sub-menu-list--link-label"},e.label),a.a.createElement("svg",{className:"tcom-lego-header__sign-in__list--icon",role:"img","aria-label":"",focusable:"false",viewBox:"0 0 30 30"},a.a.createElement("use",{xlinkHref:x("ChevronRight")}))))}))))))}};function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ca=function(e){var t=e.navElement,r=e.secondaryHeaderElement,o=e.mobileHeaderElement,i=Object(n.useContext)(on),s=i.properties,c=i.isDesktop;if(!s.signIn||!s.signIn.timeout)return a.a.createElement(a.a.Fragment,null);var l=s.signIn.timeout,u=l.modalAliveHeading,d=l.modalAliveText,m=l.buttonMediumText,h=l.buttonLowText,f=l.modalDeadHeading,g=l.modalDeadText,p=xa(Object(n.useState)(!1),2),_=p[0],b=p[1],y=xa(Object(n.useState)(!1),2),v=y[0],w=y[1],E=xa(Object(n.useState)(0),2),S=E[0],k=E[1],N=xa(Object(n.useState)(0),2),C=N[0],O=N[1],I=xa(Object(n.useState)(0),2),A=I[0],T=I[1];return Object(n.useEffect)((function(){var e,t=new URLSearchParams(window.location.search).get("timedout"),r=!1;t&&(b(!0),w(!0));var n=function(){r||o()},a=function(){var e;try{if(window.authCaiman&&"function"==typeof window.authCaiman.getUser&&(e=window.authCaiman.getUser()||null),e&&e.expires_at)return e.expires_at}catch(e){return null}return null},o=function t(){r=!0;var n=a();if(n){var o=1e3*(n-300-Date.now()/1e3);setTimeout((function(){var r;(n=a())&&(n-Date.now()/1e3<=300?(r=a())&&(e=setInterval((function(){var t=r-Date.now()/1e3,n=Math.floor(t/60),a=Math.floor(t%60);n<0&&(n=0),a<0&&(a=0),T(n),O(a),t<0&&(clearInterval(e),Fr(!0))}),1e3),w(!0)):t())}),o)}},i=function(){try{Dr()}catch(e){}r=!1,w(!1),b(!1),clearInterval(e)};return document.addEventListener("TcomAuthenticationSuccess",n),document.addEventListener("TcomCaimanAuthenticated",n),document.addEventListener("tcom-continue-session",i),function(){document.removeEventListener("TcomAuthenticationSuccess",n),document.removeEventListener("TcomCaimanAuthenticated",n),document.removeEventListener("tcom-continue-session",i)}}),[]),Object(n.useEffect)((function(){var e=function(){w(!v)},n=function(){c?t.current&&k(Math.max(t.current.scrollHeight+t.current.getBoundingClientRect().top,r.current?r.current.scrollHeight:0)):o.current&&t.current&&k(Math.max(t.current.scrollHeight+t.current.getBoundingClientRect().top,o.current.scrollHeight))};return window.addEventListener("tcom-open-timeout",e),window.addEventListener("scroll",n),window.addEventListener("resize",n),setTimeout((function(){n()}),600),function(){window.removeEventListener("tcom-open-timeout",e),window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[c,v,o,t,r]),a.a.createElement(a.a.Fragment,null,v?a.a.createElement("div",{className:"tcom-lego-header__timeout__container",style:{top:S}},a.a.createElement("div",{className:"tcom-lego-header__timeout__content-container"},a.a.createElement("div",{className:"tcom-lego-header__timeout__info-icon__container"},a.a.createElement("svg",{className:"tcom-lego-header__timeout__info-icon",role:"img","aria-label":"Important information",focusable:"false"},a.a.createElement("use",{xlinkHref:x("Attention")}))),a.a.createElement("div",{className:"tcom-lego-header__timeout__parent"},a.a.createElement("div",{className:"tcom-lego-header__timeout__heading"},_?f:u,a.a.createElement("button",{type:"button",className:"tcom-lego-header__timeout__icon-container",onClick:function(){if(_){var e=new URLSearchParams(window.location.search);e.delete("timedout"),window.history.replaceState(null,"","".concat(window.location.pathname,"?").concat(e.toString()))}w(!1),b(!1)}},a.a.createElement("svg",{className:"tcom-lego-header__timeout__close-button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x("Close")})))),a.a.createElement("div",{className:"tcom-lego-header__timeout__body-container"},a.a.createElement("div",{className:"tcom-lego-header__timeout__body-content"},_?a.a.createElement("div",null,g):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,d),a.a.createElement("div",{className:"tcom-lego-header__timeout__body-countdown"},"".concat(A," minute").concat(1!==A?"s":""," and ").concat(C," second").concat(1!==C?"s":""))))))),_?a.a.createElement(a.a.Fragment,null):a.a.createElement("div",{className:"tcom-lego-header__timeout__button--container"},a.a.createElement("button",{className:"tcom-lego-header__timeout__cta--renew",type:"button",onClick:function(){document.dispatchEvent(new Event("tcom-continue-session"))}},m),a.a.createElement("button",{className:"tcom-lego-header__timeout__cta--sign-out",type:"button",onClick:function(){Fr()}},h))):a.a.createElement(a.a.Fragment,null))};function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aa=function(){var e=Object(n.useContext)(on),t=e.properties,r=e.isDesktop,o=e.activeSecondaryHeader,i=e.setHideMobileHeader,s=e.setHidePrimaryHeader,c=e.hideMobileHeader,d=e.hidePrimaryHeader,b=e.isMobileExpanded,y=e.activeSubMenu,w=e.showSecondaryHeader,E=e.showNotificationBar,S=e.showQuickExit,k=e.width,N=e.hasUserInteracted,C=Object(n.useContext)(Zr),O=C.agent,I=C.agentUser,A=t.menuItems,T=t.countrySelector,L=t.additionalLinks,j=t.signIn,M=t.search,P=t.cart,R=t.mobileMenu,U=t.additionalCTA,H=Object(n.useRef)(null),F=Object(n.useRef)(null),D=Object(n.useRef)(null),B=Object(n.useRef)(null),q=document.querySelector("[data-tcom-international-logo]"),Y=q?q.getAttribute("data-tcom-international-logo"):"";Object(n.useEffect)((function(){var e=function(e,t){var r=Oa(e,1)[0];r&&(t?r.intersectionRatio<=0||window.scrollY>60?s(!0):s(!1):r.intersectionRatio<=0||window.scrollY>54?i(!0):i(!1))};if(r){var t=new IntersectionObserver((function(t){e(t,!0)}),{root:null,rootMargin:"0px",threshold:Array.from({length:100},(function(e,t){return(t+1)/100})).concat(0)});return H.current&&t.observe(H.current),function(){H.current&&t.unobserve(H.current)}}var n=new IntersectionObserver((function(t){e(t,!1)}),{root:null,rootMargin:"0px",threshold:Array.from({length:100},(function(e,t){return(t+1)/100})).concat(0)});return D.current&&n.observe(D.current),function(){D.current&&n.unobserve(D.current)}}),[H,D,r,s,i]);var z=Object(n.useRef)(null);Object(n.useEffect)((function(){z.current&&z.current.focus()}),[z]);Object(n.useEffect)((function(){var e=function(){if(z.current)return z.current.querySelector("a.tcom-lego-header__secondary-header__link--container, button, input")}();N&&e&&e.focus()}),[o,N]);var W=Object(n.useRef)(null),G=Object(n.useRef)(null),$=Object(n.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=2,r=E?54:0,n=S?64:0,a=w?64:0,o=e?58:48;return e?t+r+n+a+o:t+r+n+o}),[E,S,w]),J=Oa(Object(n.useState)($(r)),2),K=J[0],V=J[1],Q=Oa(Object(n.useState)(!1),2),Z=Q[0],X=Q[1];Object(n.useEffect)((function(){W.current&&K&&(W.current.style.height="".concat(K,"px"))}),[K]),Object(n.useEffect)((function(){X(!0)}),[]);var ee=Oa(Object(n.useState)(document.documentElement.scrollTop),2),re=ee[0],ne=ee[1];Object(n.useEffect)((function(){var e=function(){return ne(document.documentElement.scrollTop)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("resize",e)}}),[]);var ae=function(){G.current?V(r?Math.max(G.current.scrollHeight,$()-(E?54:0)):G.current.scrollHeight):V($()-(E?54:0))};return Object(n.useEffect)((function(){Z?y||b||ae():setTimeout(ae,200)}),[Z,k,re,E,y]),Object(n.useEffect)((function(){r||!Z||y||ae()}),[y,Z,r]),a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",{className:"tcom-lego-header__global-navigation--container","aria-label":"Global Navigation",role:"navigation",itemScope:!0,itemType:"http://schema.org/SiteNavigationElement",ref:W},a.a.createElement("div",{ref:G},r?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:w?"":"tcom-lego-header__primary-header--container--sticky"},a.a.createElement("div",{ref:H,className:"tcom-lego-header__primary-header--container"},a.a.createElement(Bn,null),a.a.createElement("div",{className:"tcom-lego-header-gradient tcom-lego-header-gradient--active"}),a.a.createElement("div",{className:"tcom-lego-header__primary-header--inner-container"},a.a.createElement("a",{href:"".concat(t.general.url),onClick:function(e){e.preventDefault(),te("telstra logo"),window.location.href="".concat(t.general.url)},className:"tcom-logo-placeholder tcom-logo-placeholder--primary",rel:"home","aria-current":"page"},a.a.createElement("span",{className:"sr-only"},w?"Telstra ".concat(o.label," Home Page"):t.general.screenReaderLogoName),a.a.createElement("span",{className:"tcom-logo-asset ".concat(Y)})),a.a.createElement("ul",{className:"tcom-lego-header__primary-header--list"},A.map((function(e,t){return a.a.createElement("li",{className:"tcom-lego-header__primary-header--list-item",key:e.label},e.subMenus&&e.subMenus.length?a.a.createElement(cn,{key:e.label,index:t,menuItem:e}):a.a.createElement("a",{href:e.mobileUrl,onClick:function(){return te(e.label.toLowerCase().trim())},className:"tcom-lego-header__primary-header__choice-chip--container"},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding"},e.label)))}))),a.a.createElement("ul",{className:"tcom-lego-header__primary-header--secondary-list"},L?L.map((function(e){return a.a.createElement("li",{key:e.label},a.a.createElement("a",{href:e.url,onClick:function(t){t.preventDefault(),te(e.label.toLowerCase().trim()),window.location.href=e.url},className:"tcom-lego-header__primary-header__choice-chip--container tcom-lego-header__primary-header__link--container"},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding"},e.label)))})):a.a.createElement(a.a.Fragment,null),T?a.a.createElement(ia,{subMenu:T}):a.a.createElement(a.a.Fragment,null),O?a.a.createElement("li",{className:"tcom-lego-header__sign-in__container--desktop-list"},a.a.createElement("div",{className:"tcom-lego-header__primary-header--list-item tcom-lego-header__sign-in__container--desktop-list--container"},a.a.createElement("div",{className:"tcom-lego-header--label tcom-lego-header__primary-header__choice-chip--text-padding tcom-lego-header__primary-header__sign-in--chevron-container"},a.a.createElement("div",{className:"tcom-lego-header__sign-in__header--vertical "},a.a.createElement("div",null,"Hi ".concat(I||"New Customer")))))):a.a.createElement(a.a.Fragment,null),j&&!O?a.a.createElement(aa,{subMenu:j}):a.a.createElement(a.a.Fragment,null)))),w?a.a.createElement(a.a.Fragment,null):a.a.createElement(qn,null)),w?a.a.createElement("div",{ref:F,className:"tcom-lego-header__sub-menu--container ".concat(d?"tcom-lego-header__secondary-header--sticky":"")},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__sub-menu--container"},o&&o.subMenus?a.a.createElement("div",{className:"tcom-lego-header__secondary-header--container"},a.a.createElement("div",{className:"tcom-lego-header-gradient ".concat(d?"tcom-lego-header-gradient--active":"")}),a.a.createElement("div",{className:"tcom-lego-header__secondary-header--inner-container",ref:z},a.a.createElement("a",{href:t.general.url,className:"tcom-logo-placeholder tcom-logo-placeholder--secondary",onClick:function(e){e.preventDefault(),te("telstra logo"),window.location.href=t.general.url},tabIndex:d?void 0:-1,rel:"home","aria-current":"page"},a.a.createElement("span",{className:"sr-only"},"Telstra ".concat(o.label," Home Page")),a.a.createElement("span",{className:"tcom-logo-asset ".concat(Y," ").concat(d?"":"tcom-logo-asset--hide")})),a.a.createElement("ul",{className:"tcom-lego-header__secondary-header--list"},o.subMenus.map((function(e){return a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item",key:e.label},"subMenu"===e.type?a.a.createElement(a.a.Fragment,null,a.a.createElement(sn,{key:e.label,subMenu:e,type:_}),y===e?a.a.createElement(Hn,null):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null),"link"===e.type?a.a.createElement("a",{className:"tcom-lego-header__secondary-header__link--container ".concat(e.iconColour===v?"tcom-lego-header__secondary-header__link--container--earth":""),href:e.linkURL,key:e.label,onClick:function(t){t.preventDefault(),te(e.label.toLowerCase().trim()),window.location.href=e.linkURL}},a.a.createElement("svg",{className:"tcom-lego-header__secondary-header__button",tabIndex:-1,focusable:"false","aria-hidden":"true"},a.a.createElement("use",{xlinkHref:x(e.ableLinkIcon)})),a.a.createElement("div",null,e.label)):a.a.createElement(a.a.Fragment,null))}))),a.a.createElement("div",{className:"tcom-lego-header__secondary-header--right-container"},a.a.createElement("ul",{className:"tcom-lego-header__secondary-header--list"},o.supportMenu?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item"},a.a.createElement(a.a.Fragment,null,a.a.createElement(sn,{key:"Support",subMenu:o.supportMenu,type:g}),y===o.supportMenu?a.a.createElement(Hn,null):a.a.createElement(a.a.Fragment,null))):a.a.createElement(a.a.Fragment,null),M?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"Search",subMenu:M,type:l}),y===M?a.a.createElement(Hn,null):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null),P?a.a.createElement(ba,{subMenu:P}):a.a.createElement(a.a.Fragment,null),U?a.a.createElement(ya,null):a.a.createElement(a.a.Fragment,null))))):a.a.createElement(a.a.Fragment,null)),a.a.createElement(qn,null)):a.a.createElement(a.a.Fragment,null)):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:D},a.a.createElement(Bn,null)),a.a.createElement("div",{className:"tcom-lego-header__sub-menu--container ".concat(c||b?"tcom-lego-header__secondary-header--sticky":""),ref:B},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__sub-menu--container ".concat(b?"tcom-lego-header__secondary-header__sub-menu--container--no-shadow":"")},a.a.createElement("div",{className:"tcom-lego-header-gradient tcom-lego-header-gradient--active"}),a.a.createElement("div",{className:"tcom-lego-header__mobile-header--container ".concat(b?"tcom-lego-header__mobile-header--container--expanded":"")},a.a.createElement("a",{href:"".concat(t.general.url),onClick:function(e){e.preventDefault(),te("telstra logo"),window.location.href="".concat(t.general.url)},className:"tcom-logo-placeholder tcom-logo-placeholder--primary",rel:"home","aria-current":"page"},a.a.createElement("span",{className:"sr-only"},w?"Telstra ".concat(o.label," Home Page"):t.general.screenReaderLogoName),a.a.createElement("span",{className:"tcom-logo-asset ".concat(Y)})),a.a.createElement("ul",{className:"tcom-lego-header__mobile-header--button-container"},b?a.a.createElement(sn,{key:"Close",type:p,subMenu:R}):a.a.createElement(a.a.Fragment,null,M?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"Search",subMenu:M,type:l})):a.a.createElement(a.a.Fragment,null),P?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"Cart",subMenu:P,type:u})):a.a.createElement(a.a.Fragment,null),j&&!O?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"SignIn",subMenu:j,type:h})):a.a.createElement(a.a.Fragment,null),T?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"Country",subMenu:T,type:f})):a.a.createElement(a.a.Fragment,null),A&&A.length?a.a.createElement("li",{className:"tcom-lego-header__secondary-header--list-item-icon"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider-container"},a.a.createElement("div",{className:"tcom-lego-header__secondary-header__button-icon__divider"})),a.a.createElement(sn,{key:"Menu",type:m,subMenu:R})):a.a.createElement(a.a.Fragment,null))))),a.a.createElement(qn,null)),b?a.a.createElement(ka,null):a.a.createElement(a.a.Fragment,null)))),r?a.a.createElement(Sa,null):a.a.createElement(a.a.Fragment,null),a.a.createElement(Ca,{navElement:W,secondaryHeaderElement:F,mobileHeaderElement:B}))},Ta=function(){var e,t=document.querySelector(".xf-container #tcom-header-main-menu-react"),r=document.getElementById("tcom-header-react");if(r||t){var n=document.querySelectorAll(".tcom-lego-header__sub-menu__sub-menu-list--container-author-div");null==n||n.forEach((function(e){e.remove()}));var o=document.querySelectorAll(".tcom-lego-header__sub-menu__sub-menu-list__promo--container-author-div");if(null==o||o.forEach((function(e){e.remove()})),r){var i=document.querySelectorAll("#tcom-header-main-menu-react");null==i||i.forEach((function(e){e.remove()}))}var s=(null==r||null===(e=r.dataset)||void 0===e?void 0:e.tcomHeaderAgent)||"consumer",c=Mn();if(c){var l=window.tcom.libs.reactDom;r?l.render(a.a.createElement(Qr,{properties:c,isAgent:"consumer"!==s},a.a.createElement(an,{properties:c},a.a.createElement(Aa,null))),r):t&&(c.isMainMenuAuthorMode=!0,l.render(a.a.createElement(Qr,{properties:c,isAgent:"consumer"!==s},a.a.createElement(an,{properties:c},a.a.createElement(Aa,null))),t))}}},La=function(){Yr()};document.addEventListener("DOMContentLoaded",(function(){W(),La(),Ta()}))}]);
</script>

</body>
</html>
