<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>auth.store.html</title>
</head>
<body>

<script>
import{d as f,g as t,b as i}from"./commonAppInit.js";import{r as m}from"./request.js";import{c as d,g as l}from"./createAjaxHeaders.js";import{r as s}from"./_plugin-vue_export-helper.js";import{c as p}from"./index3.js";var _={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const S=f("auth",()=>{const a=s(),o=s(!1);async function c(){try{const e={referrer:document.location.pathname,consumer:t("CONSUMER")};await m({method:"GET",baseUrl:_.VITE_LEGACY_API_URL,path:`/${t("ACCOUNT_INFO_URL")}/`,headers:d({useCsrf:!0}),query:e});const n=t("ACCOUNT_COOKIE_NAME"),r=l(n);if(r){const u=JSON.parse(atob(r.replace(/^"|"$/g,"")));a.value=p(u)}}catch(e){i("Failed to fetch auth info: ",e)}finally{o.value=!0}}return{fetch:c,isUserFetched:o,user:a}});export{S as u};

</script>

</body>
</html>
