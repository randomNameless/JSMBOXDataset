<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acc.productregistration.min.html</title>
</head>
<body>

<script>
ACC.productregistration={_autoload:[["bindLatamRegistration",$(".latam-product-registration").length>0],["bindRegistrationAdmin",$(".prod-reg-admin").length>0],"bindCustomerInformation","bindProductInformation","bindEmailValidationPopup"],bindCustomerInformation:function(){$("#customerSelection").on("change",function(){$(".customerSelection").hide();$("#"+$(this).val()).slideDown()});$(document).ready(function(){$("#reseller-info-form form input, #reseller-info-form form select").trigger("change");$("#home-user-col form input, #home-user-col form select").trigger("change");$("#business-user-col form input, #business-user-col form select").trigger("change")});$("#business-user-col form input, #business-user-col form select").on("keyup change",function(){var a=false;$("#business-user-col form input, #business-user-col form select").each(function(){if($(this).val()==""){a=true}});if(a){$("#customerInfoForm_business_submit").attr("disabled","disabled")}else{$(".installationPostaCode").css("visibility","visible");$("#customerInfoForm_business_submit").removeAttr("disabled");if($(".postcode-input input").length==0){$(".postcode-input").prepend('<input id="postCode_0" type="text" name="postCode_0" class="form-control">')}}});$("#home-user-col form input, #home-user-col form select").on("keyup change",function(){var e=false;var f=$('input[id="customerInfoForm.firstName"]').val();var d=$('input[id="customerInfoForm.lastName"]').val();var c=$('input[id="customerInfoForm.email"]').val();var b=$('input[id="customerInfoForm.phone"]').val();var a=$('input[id="servicePlanActivationInput"]').val();if(c==""||d==""||f==""){e=true}if(a==="true"){if(b==""){e=true}}if(e){$("#customerInfoForm_home_submit").attr("disabled","disabled")}else{$(".installationPostaCode").css("visibility","hidden");$("#customerInfoForm_home_submit").removeAttr("disabled");if($(".postcode-input input").length>0){$(".postcode-input input").remove()}}});$("#reseller-info-form form input, #reseller-info-form form select").on("keyup change",function(){var a=false;$("#reseller-info-form form input, #reseller-info-form form select").each(function(){if($(this).val()==""){a=true}});if(a){$("#resellerInformationForm_submit").attr("disabled","disabled")}else{$("#resellerInformationForm_submit").removeAttr("disabled")}});$(document).ready(function(){var b=$("#editCustomerInfo").val();var a=$("#selectedCustomerType").val();if(b==="true"){$(".customerSelection").hide();$("#"+a).slideDown()}})},bindProductInformation:function(){$(document).on("click","#productInformationSubmit",function(a){a.preventDefault();if(ACC.productregistration.validateRegistraionForm(a)){$(".loader").show();ACC.productregistration.addToCart()}});$("#add_product_information").on("click",function(){if($(".latam-product-registration").length){var f=$(".product-information__body__section .row .productInfoEntries .row:visible").length;var g=document.getElementById("product-information-entries").getAttribute("data-maxrows");if(f<parseInt(g)){var i=$(".addMoreField").html();$(".append-rows").append(i);var b=$(".append-rows .prod-reg-row").last();ACC.productregistration.bindLRDatePicker($(b).find(".js-calendar-picker"));ACC.productregistration.bindLRSerialAutovalidate();ACC.productregistration.bindLRDeleteBtn();$("#productInfoForm_latam_submit").prop("disabled",true);$(".latamRegistrationForm_product input, .latamRegistrationForm_product select").off("blur change");$(".latamRegistrationForm_product input, .latamRegistrationForm_product select").on("blur change",ACC.productregistration.validateLatamProductForm)}if(f+1===parseInt(g)){$("#add_product_information").hide()}}else{var f=$(".product-information__body__section .row .productInfoEntries:visible").length;var g=document.getElementById("product-information-entries").getAttribute("data-maxrows");if(f<parseInt(g)){var e=$(".addMoreField").find(".serial-number-input input");$(e).attr("id","serial_number_"+f);$(e).attr("name","serial_number_"+f);var l=$(".addMoreField").find(".serial-number-input label");$(l).attr("id","error_serial_number_"+f);var o=$(".addMoreField").find(".postcode-input input");$(o).attr("id","postCode_"+f);$(o).attr("name","postCode_"+f);var c=$(".addMoreField").find(".postcode-input label");$(c).attr("id","error_postcode_"+f);var p=$(".addMoreField").find(".placeofpurchase-input input");$(p).attr("id","placeOfPurchaseEnum_"+f);$(p).attr("name","placeOfPurchaseEnum_"+f);var q=$(".addMoreField").find(".activation-code-input input");$(q).attr("id","activation_"+f);$(q).attr("name","activation_"+f);var k=$(".addMoreField").find(".activation-code-input label");$(k).attr("id","error_activation_"+f);$(".addMoreField").find(".calender-input").attr("id","calenderProduct_"+f);$(".addMoreField").find(".calender-input span").attr("id","productPurchaseDate_"+f);$(".addMoreField").find(".calender-input input").attr("id","purchaseDate_"+f);var s=$(".addMoreField").find(".calender-input label");$(s).attr("id","error_"+f);var i=$(".addMoreField").html();$(".append-rows").append(i);setTimeout(function(){$(".product-information__body__section .row .productInfoEntries:visible").find("#calenderProduct_"+f).trigger("keyup")},1000);var e=$(".addMoreField").find(".serial-number-input input");$(e).attr("id","serial_number");$(e).attr("name","serial_number");var l=$(".addMoreField").find(".serial-number-input label");$(l).attr("id","error");var o=$(".addMoreField").find(".postcode-input input");$(o).attr("id","postCode");$(o).attr("name","postCode");var p=$(".addMoreField").find(".placeofpurchase-input input");$(p).attr("id","placeOfPurchaseEnum");$(p).attr("name","placeOfPurchaseEnum");var q=$(".addMoreField").find(".activation-code-input input");$(q).attr("id","activation");$(q).attr("name","activation");var k=$(".addMoreField").find(".activation-code-input label");$(k).attr("id","error");$(".addMoreField").find(".calender-input").attr("id","calenderProduct");$(".addMoreField").find(".calender-input span").attr("id","productPurchaseDate");$(".addMoreField").find(".calender-input input").attr("id","purchaseDate");var r=$("#add_product_information").data("service-plan");if(r===true){var n=$("#add_product_information").data("date-locale");var h=$("#add_product_information").data("month-names")?$("#add_product_information").data("month-names").split(","):["January","February","March","April","May","June","July","August","September","October","November","December"];moment.updateLocale(n,{months:h});var j=$("#calenderProduct_"+f).parents(".productInfoEntries:visible");var d=moment().locale(n);var a=moment().locale(n);var m=(new Date().getFullYear())-7;$("#calenderProduct_"+f).daterangepicker({singleDatePicker:true,autoUpdateInput:false,showDropdowns:true,startDate:d,minDate:new Date(m,0),maxDate:new Date(),endDate:a,locale:{monthNames:h}});$("#calenderProduct_"+f).on("apply.daterangepicker",function(v,u){j.find(".calenderProduct input").val(u.startDate.format("MM/DD/YYYY"));j.find(".calenderProduct input").attr("selectedDate",u.startDate.format("MMDDYYYY"));j.find(".calenderProduct label").hide();var w=false;$("#errorMessage").hide();$("form .serviceActivation input:visible").each(function(){if($(this).val()==""){w=true}});if(w){$("#productInformationSubmit").attr("disabled","disabled")}else{$("#productInformationSubmit").removeAttr("disabled")}var t=$(".product-information__body__section .row .productInfoEntries:visible").length;if(t==0){$("#productInformationSubmit").attr("disabled","disabled")}});$("#calenderProduct_"+f).on("cancel.daterangepicker",function(u,t){j.find(".calenderProduct input").val("");j.find(".calenderProduct label").hide()})}}if(f==(parseInt(g)-1)){$(this).hide()}$("form .serviceActivation input").trigger("change")}});$(window).on("load",function(){$("form .serviceActivation input").trigger("change");$('[id^="calenderProduct_"]').trigger("keyup")});$(document).ready(function(){var b=$("#add_product_information").data("date-locale");var e=$("#add_product_information").data("month-names")?$("#add_product_information").data("month-names").split(","):["January","February","March","April","May","June","July","August","September","October","November","December"];moment.updateLocale(b,{months:e});var a=$('div[id^="calenderProduct_"]').parents(".productInfoEntries:visible");var f=moment().locale(b);var c=moment().locale(b);var d=(new Date().getFullYear())-7;$('div[id^="calenderProduct_"]').daterangepicker({singleDatePicker:true,autoUpdateInput:false,showDropdowns:true,startDate:f,minDate:new Date(d,0),maxDate:new Date(),endDate:c,locale:{monthNames:e}});$('div[id^="calenderProduct_"]').on("apply.daterangepicker",function(i,h){a.find(".calenderProduct input").val(h.startDate.format("MM/DD/YYYY"));a.find(".calenderProduct input").attr("selectedDate",h.startDate.format("MMDDYYYY"));a.find(".calenderProduct label").hide();var j=false;$("#errorMessage").hide();$("form .serviceActivation input:visible").each(function(){if($(this).val()==""){j=true}});if(j){$("#productInformationSubmit").attr("disabled","disabled")}else{$("#productInformationSubmit").removeAttr("disabled")}var g=$(".product-information__body__section .row .productInfoEntries:visible").length;if(g==0){$("#productInformationSubmit").attr("disabled","disabled")}});$('div[id^="calenderProduct_"]').on("cancel.daterangepicker",function(h,g){a.find(".calenderProduct input").val("");a.find(".calenderProduct label").hide()})});$(document).on("change","form .serviceActivation input",function(s){var h=$(this).closest("div").attr("id");var c=$("#invalidPurchaseDate").data("invalidmessage");if(h!==undefined){var i=h.slice(-1);var q=$("#add_product_information").data("date-locale");var l=$("#add_product_information").data("month-names")?$("#add_product_information").data("month-names").split(","):["January","February","March","April","May","June","July","August","September","October","November","December"];moment.updateLocale(q,{months:l});var m=$("#calenderProduct_"+i).parents(".productInfoEntries:visible");var f=moment().locale(q);var d=moment().locale(q);var r=(new Date().getFullYear())-7;function p(u,e){m.find(".calenderProduct input").val(u.format("MM/DD/YYYY"));m.find(".calenderProduct input").attr("selectedDate",u.format("MMDDYYYY"))}if($("#purchaseDate_"+i).val().trim()!==""){var b=$("#purchaseDate_"+i).val();var t="";if(/^((0?[1-9]|1[012])[- /.](0?[1-9]|[12][0-9]|3[01])[- /.](19|20)?[0-9]{2})*$/.test(b)){t=moment(b,"MM/DD/YYYY")}var j=new Date();var n=new Date(b);const a=Math.abs(j-n);const g=Math.ceil(a/(1000*60*60*24*365.25));if(t==""||isNaN(t)||t>f||g>7){t="";m.find(".calenderProduct label").text(c);m.find(".calenderProduct label").show()}else{m.find(".calenderProduct label").hide()}if(t!==""){$("#calenderProduct_"+i).daterangepicker({singleDatePicker:true,autoUpdateInput:true,showDropdowns:true,startDate:t,minDate:new Date(r,0),maxDate:new Date(),endDate:d,locale:{monthNames:l}},p);p(t,d)}else{m.find(".calenderProduct input").val("")}}}var k=false;$("#errorMessage").hide();$("form .serviceActivation input:visible").each(function(){if($(this).val()==""){k=true}});if(k){$("#productInformationSubmit").attr("disabled","disabled")}else{$("#productInformationSubmit").removeAttr("disabled")}var o=$(".product-information__body__section .row .productInfoEntries:visible").length;if(o==0){$("#productInformationSubmit").attr("disabled","disabled")}});$(document).ready(function(){$(document).on("click",".del-btn",function(c){var b=document.getElementById("product-information-entries").getAttribute("data-maxrows");$(this).parents(".serviceActivation").remove();var a=$(".product-information__body__section .row .productInfoEntries:visible").length;if(a<parseInt(b)){$("#add_product_information").show()}if(a==0){$("#productInformationSubmit").attr("disabled","disabled")}$(".product-information__body__section .row .productInfoEntries:visible").each(function(j){var i="serial_number_"+j;$(this).find(".product-information__body .serial-number-input input").attr("id",i);$(this).find(".product-information__body .serial-number-input input").attr("name",i);var g="error_serial_number_"+j;$(this).find(".product-information__body .serial-number-input label").attr("id",g);var e="postCode_"+j;$(this).find(".product-information__body .postcode-input input").attr("id",e);$(this).find(".product-information__body .postcode-input input").attr("name",e);var k="placeOfPurchaseEnum_"+j;$(this).find(".product-information__body .placeofpurchase-input input").attr("id",k);$(this).find(".product-information__body .placeofpurchase-input input").attr("name",k);var f="activation_"+j;$(this).find(".product-information__body .activation-code-input input").attr("id",f);$(this).find(".product-information__body .activation-code-input input").attr("name",f);var d="error_activation_"+j;$(this).find(".product-information__body .activation-code-input label").attr("id",d);var l="calenderProduct_"+j;$(this).find(".calender-input").attr("id",l);var h="productPurchaseDate_"+j;$(this).find(".calender-input span").attr("id",h)});$("form .serviceActivation input").trigger("change")})});$(document).on("keyup",'[id^="serial_number_"]',function(h){var g=$('[id^="error_serial_number_"]');var a=$(this).attr("id");var c=a.charAt(a.length-1);var d=g[parseInt(c)];var f=$(d).attr("id");var b="#"+f;$(b).hide();$("#"+a).removeClass("error")});$(document).on("keyup",'[id^="activation_"]',function(g){var b=$('[id^="error_activation_"]');var f=$(this).attr("id");var h=f.charAt(f.length-1);var c=b[parseInt(h)];var d=$(c).attr("id");var a="#"+d;$(a).hide();$("#"+f).removeClass("error")});$(document).on("keyup",'[id^="postCode_"]',function(g){var f=$('[id^="error_postcode_"]');var h=$(this).attr("id");var c=h.charAt(h.length-1);var b=f[parseInt(c)];var d=$(b).attr("id");var a="#"+d;$(a).hide();$("#"+h).removeClass("error")})},bindEmailValidationPopup:function(){$(document).ready(function(){var c=$("#emailValidationRequiredReseller").is(":checked");var b=$("#showEmailValidationPopupReseller").is(":checked");var a=$("#email-invalid").html();if(c&&b){$("#model-button").click();if($("#resellerInfoForm").is(":visible")){ACC.analytics.fireErrorEvent1("validity_email_validation_error","[serverside]","[Validity:double check your email]")}}});$(document).ready(function(){if($("#customerInfoForm_home").is(":visible")){var c=$("#emailValidationRequiredHome").is(":checked");var b=$("#showEmailValidationPopupHome").is(":checked");var a=$("#email-invalid").html();if(c&&b){$("#model-button").click();ACC.analytics.fireErrorEvent1("validity_email_validation_error","[serverside]","[Validity:double check your email]")}}});$(document).ready(function(){if($("#customerInfoForm_business").is(":visible")||$("#customerInfoForm_businessCustomer").is(":visible")){var c=$("#emailValidationRequiredBusiness").is(":checked");var b=$("#showEmailValidationPopupBusiness").is(":checked");var a=$("#email-invalid").html();if(c&&b){$("#model-button").click();if($("#customerInfoForm_business").is(":visible")){ACC.analytics.fireErrorEvent1("validity_email_validation_error","[serverside]","[Validity:double check your email]")}else{if($("#customerInfoForm_businessCustomer").is(":visible")){ACC.analytics.fireErrorEvent1("validity_email_validation_error","[serverside]","[Validity:double check your email]")}}}}});$(".customerInfoFormEmail").on("blur",function(){var b=$("#emailValidationRequiredBusiness").is(":checked");var c=$("#showEmailValidationPopupBusiness").is(":checked");var f=$("#emailValidationRequiredHome").is(":checked");var d=$("#showEmailValidationPopupHome").is(":checked");var e=$("#customerInfoForm_businessCustomer").is(":visible");var a=$("#customerInfoForm_business").is(":visible");if(b&&c&&e){$("#customerInfoForm_businessCustomer  #alter-email").attr("checked",true)}else{if(b&&c&&a){$("#customerInfoForm_business #alter-email").attr("checked",true)}else{if(f&&d){$("#customerInfoForm_home #alter-email").attr("checked",true)}}}});$(".resellerInfoFormEmail").on("blur",function(){var b=$("#emailValidationRequiredReseller").is(":checked");var a=$("#showEmailValidationPopupReseller").is(":checked");if(b&&a){$("#resellerInfoForm #alter-email").attr("checked",true)}});$("#customerInfoForm_home_submit").on("click",function(){var a=$("#showEmailValidationPopupHome").is(":checked");var b=$("#customerInfoForm_home #alter-email").is(":checked");if(a&&!b){$("#emailValidationRequiredHome").attr("checked",false);$("#showEmailValidationPopupHome").attr("checked",false);$("#customerInfoForm_home #alter-email").attr("checked",false)}});$("#customerInfoForm_business_submit").on("click",function(){var c=$("#showEmailValidationPopupBusiness").is(":checked");var d=$("#customerInfoForm_business #alter-email").is(":checked");var b=$("#customerInfoForm_businessCustomer #alter-email").is(":checked");var e=$("#customerInfoForm_businessCustomer").is(":visible");var a=$("#customerInfoForm_business").is(":visible");if(c&&!d&&a){$("#emailValidationRequiredBusiness").attr("checked",false);$("#showEmailValidationPopupBusiness").attr("checked",false);$("#customerInfoForm_business #alter-email").attr("checked",false)}else{if(c&&!b&&e){$("#emailValidationRequiredBusiness").attr("checked",false);$("#showEmailValidationPopupBusiness").attr("checked",false);$("#customerInfoForm_businessCustomer #alter-email").attr("checked",false)}}});$("#resellerInformationForm_submit").on("click",function(){var a=$("#showEmailValidationPopupReseller").is(":checked");var b=$("#resellerInfoForm #alter-email").is(":checked");if(a&&!b){$("#emailValidationRequiredReseller").attr("checked",false);$("#showEmailValidationPopupReseller").attr("checked",false);$("#resellerInformationForm_submit #alter-email").attr("checked",false)}})},validateRegistraionForm:function(h){var c=true;var d=$(".product-information__body__section .row .productInfoEntries:visible").length;if(d>0){var f=$("#invalidActivationCodeFormat").data("invalidmessage");var j=$("#invalidSerialNumberFormat").data("invalidmessage");var k=$("#duplicateSerialNumber").data("invalidmessage");var m=$("#duplicateActivationCode").data("invalidmessage");var a=$("#invalidPurchaseDate").data("invalidmessage");var l=$("#invalidPostalCode").data("invalidmessage");var i=$("#invalidPurchasePlace").data("invalidmessage");var g=$("#invalidPurchasePlaceLength").data("invalidmessage");var n=[];var b=[];$(".product-information__body__section .row .productInfoEntries:visible").each(function(x){var p=$(this).find(".product-information__body .activation-code-input input").val();if(p!=null&&p!=""){var w=$.trim(p);if(w.match(/(^[a-zA-Z0-9]{10}$)/)){if(n.includes(w.toUpperCase())){$(this).find(".product-information__body .activation-code-input label").text(m);$(this).find(".product-information__body .activation-code-input label").show();c=false}else{n.push(w.toUpperCase())}}else{$(this).find(".product-information__body .activation-code-input label").text(f);$(this).find(".product-information__body .activation-code-input label").show();c=false}}var v=$(this).find(".product-information__body .serial-number-input input").val();if(v!=null&&v!=""){var e=$.trim(v);var t=e.replaceAll("*","");if(t.match(/(^[a-zA-Z0-9]{10,18}$)/)){if(b.includes(t.toUpperCase())){$(this).find(".product-information__body .serial-number-input label").text(k);$(this).find(".product-information__body .serial-number-input label").show();c=false}else{b.push(t.toUpperCase())}}else{$(this).find(".product-information__body .serial-number-input label").text(j);$(this).find(".product-information__body .serial-number-input label").show();c=false}}var u=$(this).find(".calender-input input").val();if(u!=null&&u!=""){var o=new Date();var s=new Date(u);const z=Math.abs(o-s);const r=Math.ceil(z/(1000*60*60*24*365.25));if(r>7){$(this).find(".calender-input label").text(a);$(this).find(".calender-input label").show();c=false}else{$(this).find(".calender-input label").hide()}}if($(".postcode-input").is(":visible")){var A=$(this).find(".postcode-input input").val();if(A!=null&&A!=""){var q=$("#invalidPostalCode").data("currentcountry");if(q=="US"&&!A.match(/(^\d{5}(-\d{4})?$)/)){$(this).find(".postcode-input label").text(l);$(this).find(".postcode-input label").show();c=false}if(q=="CA"&&!A.match(/(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/i)){$(this).find(".postcode-input label").text(l);$(this).find(".postcode-input label").show();c=false}}}if($(".placeofpurchase-input").is(":visible")){var y=$(this).find(".placeofpurchase-input input").val();if(y==null||y==""){$(this).find(".placeofpurchase-input label").text(i);$(this).find(".placeofpurchase-input label").show();c=false}else{if(y.length>30){$(this).find(".placeofpurchase-input label").text(g);$(this).find(".placeofpurchase-input label").show();c=false}else{$(this).find(".placeofpurchase-input label").hide()}}}})}return c},addToCart:function(){var a=$("#productInfoURL").data("productinfourl");$.ajax({url:a,type:"POST",data:{registerProducts:ACC.productregistration.getJSONDataForProductInfo()},success:function(b){$(".loader").hide();var c=ACC.productregistration.getValue(b,"#dataResponse");if(c==="error"){ACC.productregistration.checkErrorObjectsInResponce(JSON.parse(ACC.productregistration.getValue(b,"#invalidSerialNumber")),$("#invalidSerialNumber").data("invalidmessage"));ACC.productregistration.checkErrorObjectsInResponceForPostalCode(JSON.parse(ACC.productregistration.getValue(b,"#invalidPostalCode")),$("#invalidPostalCode").data("invalidmessage"));ACC.productregistration.checkErrorObjectsInResponce(JSON.parse(ACC.productregistration.getValue(b,"#notAllowedToRegister")),$("#notAllowedToRegister").data("invalidmessage"));ACC.productregistration.checkErrorObjectsInResponce(JSON.parse(ACC.productregistration.getValue(b,"#alreadyRegisteredSerialNumber")),$("#alreadyRegisteredSerialNumber").data("invalidmessage"));ACC.productregistration.checkErrorObjectsInResponceForActivationCode(JSON.parse(ACC.productregistration.getValue(b,"#invalidActivationCode")))}else{if(c==="errorMessage"){$("#errorMessage").text(ACC.productregistration.getValue(b,"#errorMessage"));$("#errorMessage").addClass("error");$("#errorMessage").show()}else{if(c==="serviceError"){$("#errorMessage").text(ACC.productregistration.getValue(b,"#serviceError"));$("#errorMessage").addClass("error");$("#errorMessage").show()}else{window.location.href=ACC.productregistration.getValue(b,"#confirmationURL")}}}},error:function(b,d,c){console.log("The following error occurred: "+d,c)}})},getJSONDataForProductInfo:function(){var a=[];$(".productInfoEntries:visible").each(function(c){var b=$(this).find("#activation_"+c).val();if(b!=null){b=$.trim(b)}var e=$(this).find("#serial_number_"+c).val();if(e!=null){e=e.replaceAll("*","");e=$.trim(e);e=e.toUpperCase()}var g=$(this).find("#purchaseDate_"+c).attr("selectedDate");var d=$(this).find("#placeOfPurchaseEnum_"+c).val();var f=$(this).find("#postCode_"+c).val();if(ACC.productregistration.checkValidObject(e)){a.push({index:c,activationId:b,serialNumber:e,purchaseDate:g,placeOfPurchase:d,postalCode:f})}});return JSON.stringify({productInformationEntries:a})},checkValidObject:function(a){if(a!=null&&a!="undefined"&&a!=""&&a!="{}"){return true}else{return false}},getValue:function(b,c){var d=$(b).find(c).html();var a=$(d).val();return a},checkErrorObjectsInResponce:function(a,b){if(ACC.productregistration.checkValidObject(a)){$.each(a,function(d,f){var e=f.charAt(f.length-1);$("#"+f).addClass("error");var c="#error_serial_number_"+parseInt(e);$(".productInfoEntries:visible").find(c).text(b);$(".productInfoEntries:visible").find(c).show();$(".productInfoEntries:visible").find(c).prev().addClass("form-error error")})}},checkErrorObjectsInResponceForPostalCode:function(a,b){if(ACC.productregistration.checkValidObject(a)){$.each(a,function(d,f){var e=f.charAt(f.length-1);$("#"+f).addClass("error");var c="#error_postcode_"+parseInt(e);$(".productInfoEntries:visible").find(c).text(b);$(".productInfoEntries:visible").find(c).show()})}},checkErrorObjectsInResponceForActivationCode:function(a){if(ACC.productregistration.checkValidObject(a)){$.each(a,function(e,g){var c=g.split("|");var f=c[0].charAt(c[0].length-1);$("#"+c[0]).addClass("error");var b=e.split("/");if(b.length==2&&b[1]==="SPR2"){var d="#error_serial_number_"+parseInt(f)}else{var d="#error_activation_"+parseInt(f)}$(d).html(ACC.productregistration.htmlDecode(c[1]));$(d).show();$(d).prev().addClass("form-error error")})}},htmlDecode:function(a){var b=document.createElement("div");b.innerHTML=a;return b.childNodes.length===0?"":b.childNodes[0].nodeValue},idValueObject:function(b,c){var a=b;var d=$(a).attr("id");var e="#"+d;return e},bindLRDatePicker:function(c){var e=$(c).data("dateformat");if(typeof e==="undefined"||e===""){e="MM/DD/YYYY"}var b=$("#add_product_information").data("month-names")?$("#add_product_information").data("month-names").split(","):["January","February","March","April","May","June","July","August","September","October","November","December"];var d=$("#add_product_information").data("max-years");var a=(new Date().getFullYear())-d;$(c).daterangepicker({singleDatePicker:true,autoUpdateInput:false,showDropdowns:true,minDate:new Date(a,0),maxDate:new Date(),locale:{monthNames:b,format:e}});$(c).on({"blur change":function(){var f=$(this).val();ACC.productregistration.handleDateRangeValidation(f,$(this))},"apply.daterangepicker":function(h,f){var i=$(this).val();if(i!==""){ACC.productregistration.handleDateRangeValidation(i,$(this))}else{var g=h.target;$(g).val(f.startDate.format(e));ACC.productregistration.validateLatamProductForm()}},"hide.daterangepicker":function(h,f){var i=$(this).val();if(i!==""){ACC.productregistration.handleDateRangeValidation(i,$(this))}else{var g=h.target;$(g).val(f.startDate.format(e));ACC.productregistration.validateLatamProductForm()}}})},handleDateRangeValidation:function(i,b){if(i.trim()===""){return}var j=$("#add_product_information").data("date-locale");var a=moment().locale(j);var c=i.split("/");var h=c.length===3?moment({year:c[2],month:c[1]-1,day:c[0]}):"";if(i!==""&&(c.length!==3||isNaN(h))){var l=$(b).parents(".calendar-input");var d=$("#invalidPurchaseDate").data("invalidmessage");$(l).find(".error-label").text(d);$(l).find(".error-label").show();$(b).addClass("error");$(b).val("")}else{if(h!==""){var e=$("#add_product_information").data("max-years");const k=a-h;const f=Math.ceil(k/(1000*60*60*24*365.25));if(k<0||f>e){var l=$(b).parents(".calendar-input");var g=f>e?$("#fullInvalidDate").data("invalidmessage"):$(b).attr("name")==="purchaseDate"?$("#futurePurchaseDate").data("invalidmessage"):$("#futureInstallDate").data("invalidmessage");$(l).find(".error-label").text(g);$(l).find(".error-label").show();$(b).addClass("error");$(b).val("")}else{var l=$(b).parents(".calendar-input");$(l).find(".error-label").hide();$(b).removeClass("error")}}else{$(b).val("")}}ACC.productregistration.validateLatamProductForm()},bindLRSerialAutovalidate:function(){$(document).on("click","#productInfoForm_latam_submit",function(f){f.preventDefault();var i=$("#invalidSerialNumberFormat").data("invalidmessage");var a=$("#duplicateSerialNumber").data("invalidmessage");var c=$("#invalidPurchaseDate").data("invalidmessage");var h=$("#invalidPurchasePlace").data("invalidmessage");var d=[];var g=true;var b=true;$(".serial-number-input input").each(function(l){var e=$(this);var k=$(this).val();var m=$(this).parents(".prod-reg-row");if(k!=null&&k!=""){var n=$.trim(k);var j=n.replaceAll("*","");if(j.match(/(^[a-zA-Z0-9]{10,18}$)/)){if(d.includes(j.toUpperCase())){$(m).find(".serial-number-input .error-label").text(a);$(m).find(".serial-number-input .error-label").show();$(e).addClass("error");g=false}else{d.push(j.toUpperCase());$(e).removeClass("error");b=false}}else{$(m).find(".serial-number-input .error-label").text(i);$(m).find(".serial-number-input .error-label").show();$(e).addClass("error");g=false}}});$(".serial-number-input input").off("blur");$(".serial-number-input input").on("blur",function(){$(this).removeClass("error");$(this).parents(".prod-reg-row").find(".serial-number-input .error-label").hide()});$(".calendar-input input").each(function(m){var k=$(this);var n=$(this).val();var o=$(this).parents(".prod-reg-row");if(n!=null&&n!=""){var e=new Date();var p=new Date(n);const l=Math.abs(e-p);const j=Math.ceil(l/(1000*60*60*24*365.25));if(j>7){$(o).find(".calendar-input .error-label").text(c);$(o).find(".calendar-input .error-label").show();$(k).addClass("error");g=false}else{$(o).find(".calendar-input .error-label").hide();$(k).removeClass("error")}}else{if(m<d.length){$(o).find(".calendar-input .error-label").text(c);$(o).find(".calendar-input .error-label").show();$(k).addClass("error");g=false}}});$(".calendar-input input").off("blur");$(".calendar-input input").on("blur",function(){$(this).removeClass("error");$(this).parents(".prod-reg-row").find(".calendar-input .error-label").hide()});$(".location-input input").each(function(j){var k=$(this);var e=$(this).val();var l=$(this).parents(".prod-reg-row");if(j<d.length){if(e===null||e===""||$.trim(e)===""){$(l).find(".location-input .error-label").text(h);$(l).find(".location-input .error-label").show();$(k).addClass("error");g=false}}});$(".location-input input").off("blur");$(".location-input input").on("blur",function(){$(this).removeClass("error");$(this).parents(".prod-reg-row").find(".location-input .error-label").hide()});if(g&&!b){$("#productInfoForm_latam_submit").parents("form").submit()}})},bindLRDeleteBtn:function(){$(".product-del-btn").off("click");$(".product-del-btn").on("click",function(){if($(this).parents(".product-information__body").find(".prod-reg-row").length>2){$(this).parents(".product-information__body .prod-reg-row").remove();$("#add_product_information").show()}ACC.productregistration.validateLatamProductForm()})},bindLatamRegistration:function(){$(".latamRegistrationForm input, .latamRegistrationForm select").off("blur change");$(".latamRegistrationForm_product input, .latamRegistrationForm_product select").off("blur change");var b="productRegForm-subregion";var a=$("#productRegForm-country").find(":selected").val();ACC.port.loadRegionsFromCountry(a,b,"name");$("#productRegForm-country").on("change",function(){var c=$(this).find(":selected").val();ACC.port.loadRegionsFromCountry(c,b,"name")});ACC.productregistration.bindLRSerialAutovalidate();ACC.productregistration.bindLRDeleteBtn();if($(".js-calendar-picker").length){ACC.productregistration.bindLRDatePicker($(".js-calendar-picker"))}if($("#emailValidationRequired").length){$("#customerInfoForm_latam_submit").on("click",function(){var c=$("#showEmailValidationPopup").is(":checked");var d=$(".latam-reg #alter-email").is(":checked");if(c&&!d){$("#emailValidationRequired").attr("checked",false);$("#showEmailValidationPopup").attr("checked",false);$(".latam-reg #alter-email").attr("checked",false)}});$(".customerInfoFormEmail").off("blur");$(".customerInfoFormEmail").on("blur",function(){var d=$("#emailValidationRequiredHome").is(":checked");var c=$("#showEmailValidationPopupHome").is(":checked");if(d&&c){$(".latam-reg #alter-email").attr("checked",false)}})}if($("#productRegForm-domain").length){$("#productRegForm-domain").val(window.location.hostname)}$(".latamRegistrationForm input, .latamRegistrationForm select").on("blur change",ACC.productregistration.validateLatamCustomerForm);$(".latamRegistrationForm_product input, .latamRegistrationForm_product select").on("blur change",ACC.productregistration.validateLatamProductForm)},validateLatamCustomerForm:function(){if($(".latamphone").length){var a=$(".latamphone").val();if(/[\s-\(\)\.]/g.test(a)){$(".latamphone").val(a.replace(/[\s-\(\)\.]/g,""))}}if($(".latamRegistrationForm").validate().checkForm()){$("#customerInfoForm_latam_submit").prop("disabled",false)}else{$("#customerInfoForm_latam_submit").prop("disabled",true)}$(".latamRegistrationForm").validate().submitted={}},validateLatamProductForm:function(){$(".prod-reg-row .spring-form-err").removeClass("has-error");$(".prod-reg-row .spring-form-err").removeClass("form-element-error");$(".prod-reg-row .spring-form-err").removeClass("spring-form-err");$(".prod-reg-row .spring-err-msg").css("display","none");if($(".latamRegistrationForm_product").validate().checkForm()){$("#productInfoForm_latam_submit").prop("disabled",false);$(".latamRegistrationForm_product input").each(function(){var a=$(this);if($(a).parents(".addMoreField").length===0&&$(a).val()===""){$("#productInfoForm_latam_submit").prop("disabled",true)}})}else{$("#productInfoForm_latam_submit").prop("disabled",true)}$(".latamRegistrationForm_product").validate().submitted={}},bindRegistrationAdmin:function(){if($("#productRegForm-subregion").length){var b="productRegForm-subregion";var a=$("#productRegForm-country").find(":selected").val();ACC.port.loadRegionsFromCountry(a,b,"name");$("#productRegForm-country").on("change",function(){var g=$(this).find(":selected").val();ACC.port.loadRegionsFromCountry(g,b,"name")})}if($(".latamphone").length){$(".latamphone").on("change",function(){var g=$(this).val();if(/[\s-\(\)\.]/g.test(g)){$(this).val(g.replace(/[\s-\(\)\.]/g,""))}})}if($(".js-calendar-picker").length){var f=$(".js-calendar-picker").data("dateformat");if(typeof f==="undefined"||f===""){f="DD/MM/YYYY"}var d=$("#calendar-picker-admin").data("month-names")?$("#calendar-picker-admin").data("month-names").split(","):["January","February","March","April","May","June","July","August","September","October","November","December"];var e=$("#calendar-picker-admin").data("max-years");var c=(new Date().getFullYear())-e;$(".js-calendar-picker").daterangepicker({singleDatePicker:true,autoUpdateInput:false,showDropdowns:true,minDate:new Date(c,0),maxDate:new Date(),locale:{monthNames:d,format:f}});$(".js-calendar-picker").on({"apply.daterangepicker":function(h,g){$(h.target).val(g.startDate.format(f))},"hide.daterangepicker":function(h,g){$(h.target).val(g.startDate.format(f))}})}ACC.productregistration.bindAdminDelete();$(".reg-search-submit").on("click",function(){var l=$(this).data("url");var i=$(this).data("input");var g=$("#"+i).length?$("#"+i).val():"";if(g===""){var j=$("#prod-reg-ctnr").data("msgsearch");alert(j);return}var h=l+g;if($("#reg-search-inactive").is(":checked")){h+="&all=true"}var k=$("#prod-reg-results").data("searching");$("#prod-reg-results").html('<tr><td colspan="7"><h5>'+k+"</h5></td></tr>");$.ajax({url:h,type:"GET",success:function(q){$("#prod-reg-results").html("");if(q.length>=1){var o=$("#prod-reg-results").data("editurl");var x="&search="+(i==="reg-search-email"?"email":"serial")+"&term="+encodeURIComponent(g);var p=$("#prod-reg-results").data("deleteurl");var r=$("#prod-reg-results").data("deletelabel");var s=$("#prod-reg-results").data("completed");var v=$("#prod-reg-results").data("incomplete");for(var t=0;t<q.length;t++){var n=q[t];var w=n.active?"<tr>":'<tr class="inactive">';if(n.source!=="SNOWFLAKE"){w+='<td class="col-md-2"><a href="'+o+encodeURIComponent(n.uid)+x+'">'+n.serialNumber+"</a></td>"}else{w+='<td class="col-md-2 external"><a href="'+o+encodeURIComponent(n.uid)+x+'">'+n.serialNumber+"</a></td>"}w+='<td class="col-md-2">'+n.email+"</td>";w+='<td class="col-md-2">'+n.country+"</td>";w+='<td class="col-md-2" style="color:'+(n.valid?"green":"red")+';">'+(n.valid?s:v)+"</td>";if(n.active&&n.source!=="SNOWFLAKE"){w+='<td class="col-md-2"><a href="'+p+encodeURIComponent(n.uid)+x+'" title="'+r+'" class="js-prod-reg-delete">'+r+"</a></td>"}else{var m="&serial="+n.serialNumber+"&email="+encodeURIComponent(n.email);w+='<td class="col-md-2"><a href="'+p+m+x+'" title="'+r+'" class="js-prod-reg-delete">'+r+"</a></td>"}w+="</tr>\n";$("#prod-reg-results").append(w)}ACC.productregistration.bindAdminDelete()}else{var u=$("#prod-reg-results").data("empty");$("#prod-reg-results").html('<tr><td colspan="7"><h5>'+u+"</h5></td></tr>")}}})});$("#reg-search-serial,#reg-search-email").on("keydown",function(g){if(g.keyCode===13){var h=$(this).attr("id")+"-btn";$("#"+h).click()}});if($("#reg-search-serial").val()!==""){$("#reg-search-serial-btn").click()}else{if($("#reg-search-email").val()!==""){$("#reg-search-email-btn").click()}}},bindAdminDelete:function(){$(".js-prod-reg-delete").off("click");$(".js-prod-reg-delete").on("click",function(a){var b=$("#prod-reg-ctnr").data("msgdelete");if(!confirm(b)){a.preventDefault()}})}};$(document).ready(function(){if($(".latamRegistrationForm").length){ACC.productregistration.validateLatamCustomerForm()}});
</script>

</body>
</html>
