<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VmaxAdManager.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VmaxAdManager=t()}(this,(function(){"use strict";function e(e,t){const i=function(e,t){const i=navigator.userAgent.match(/Android/i),s=navigator.userAgent.match(/Chrome/i);if(!i||!s)return!1;const n=function(e,t){try{const i=e.split("://"),s=i[0];return`intent://${i[1]}/#Intent;scheme=${s};S.browser_fallback_url=${t||""};end`}catch(e){return!1}}(e,t);return n||!1}(e,t),s=i||t;window.open(s,"_blank")}function t(e,t,i,s){return new(i||(i=Promise))((function(n,r){function a(e){try{c(s.next(e))}catch(e){r(e)}}function o(e){try{c(s.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}c((s=s.apply(e,t||[])).next())}))}function i(e,t,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(e):s?s.value:t.get(e)}function s(e,t,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,i):n?n.value=i:t.set(e,i),i}"function"==typeof SuppressedError&&SuppressedError;const n=e=>"string"==typeof e&&e.length>0,r=e=>"number"==typeof e,a=e=>"boolean"==typeof e,o=e=>{const t="object"==typeof e&&!Array.isArray(e),i=Object.keys(e).every((e=>"string"==typeof e)),s=Object.values(e).every((e=>"string"==typeof e));return t&&i&&s},c=e=>Array.isArray(e),l=e=>{const t=new URL(e);return Boolean(t.host)};function h(e){if(null==e)return!0;const t=Date.now();return Boolean(e)&&Number.isInteger(e)&&e<=t}function d(e){return null===e||!(Object.keys(e)||e).length}function u(e){return function(e,t){if(!e||!e.prototype)throw new Error("Class constructor is not defined");if(!c(t))throw new Error("Methods must be an array");const i=e.prototype;return t.every((e=>n(e)&&"function"==typeof i[e]))}(e,["getAllSignatures","prepare","render"])}function f(e){return r(e)||n(e)}var E;!function(e){e.AD_READY="adReady",e.AD_IMPRESSION="adImpression",e.AD_RENDERED="adRendered",e.AD_REFRESHED="adRefreshed",e.AD_ERROR="adError",e.AD_CLOSED="adClosed",e.AD_CLICKED="adClicked",e.AD_SKIPPED="adSkipped",e.AD_SKIPPABLE_STATE_CHANGE="adSkippableStateChange",e.AD_PAUSED="adPaused",e.AD_RESUMED="adResumed",e.AD_VIDEO_START="adVideoStart",e.AD_VIDEO_FIRST_QUARTILE="adVideoFirstQuartile",e.AD_VIDEO_MIDPOINT="adVideoMidpoint",e.AD_VIDEO_THIRD_QUARTILE="adVideoThirdQuartile",e.AD_VIDEO_COMPLETE="adVideoComplete",e.AD_VOLUME_CHANGED="adVolumeChanged",e.AD_MUTED="adMuted",e.AD_UNMUTED="adUnmuted",e.AD_PROGRESS="adProgress",e.AD_USER_CLOSE="adUserClose",e.AD_INSERTION_START="adInsertionStart",e.AD_INSERTION_END="adInsertionEnd",e.AD_MEDIA_EXPAND="onFullScreen",e.AD_MEDIA_COLLAPSE="onExitFullScreen"}(E||(E={}));var A,v=E;!function(e){e.PERSONAL_COMPUTER="2",e.CONNECTED_TV="3",e.PHONE="4",e.TABLET="5",e.CONNECTED_DEVICE="6",e.SET_TOP_BOX="7"}(A||(A={}));var p,m,g,I,y,_=A;!function(e){e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile"}(p||(p={})),function(e){e.APP_ID="appId",e.ACCOUNT_KEY="accountKey",e.SECRET_KEY="secretKey",e.SDK_INITIALIZED="sdkInitialized",e.GEO_PROFILE="geoProfile",e.USER_PROFILE="userProfile",e.IS_APP="isApp"}(m||(m={})),function(e){e.UID="uid",e.GENDER="gender",e.AGE="age",e.COUNTRY="country",e.REGION="region",e.CITY="city",e.ZIPCODE="zip",e.KEYWORDS="keywords"}(g||(g={})),function(e){e.PLAY_ONCE="play_once",e.REPEAT="repeat"}(I||(I={}));class D{constructor(){y.set(this,new Map)}static getInstance(){return D.instance}set(e,t){"object"!=typeof e?i(this,y,"f").set(e,t):Object.entries(e).forEach((([e,t])=>{(n(t)||r(t)||a(t))&&i(this,y,"f").set(e,t)}))}get(e){var t;return"string"!=typeof e||0==e.length?i(this,y,"f"):null!==(t=i(this,y,"f").get(e))&&void 0!==t?t:null}get isSDKInitialized(){return Boolean(i(this,y,"f").get(m.SDK_INITIALIZED))}}y=new WeakMap,D.instance=new D;const R=D.getInstance();var w,S,T,O,P,N;class C{constructor(){w.add(this),this.AppInstance=S.getInstance(),T.set(this,{})}static getInstance(){return S.instance}setVersion(e){return i(this,w,"m",O).call(this),i(this,T,"f").version=e,S.instance}setOrientation(e){var t;return i(this,w,"m",O).call(this),void 0===(null===(t=i(this,T,"f"))||void 0===t?void 0:t.ext)&&(i(this,T,"f").ext={}),i(this,T,"f").ext.orientation=e,this}getPayload(){return i(this,w,"m",P).call(this),i(this,T,"f")}setPageCategory(e){return i(this,w,"m",O).call(this),d(e)||!c(e)||(i(this,T,"f").pagecat=e),this}setCustomData(e){return i(this,w,"m",O).call(this),o(e)&&(i(this,T,"f")||s(this,T,{},"f"),i(this,T,"f").ext||(i(this,T,"f").ext={}),"object"==typeof i(this,T,"f").ext&&null!==i(this,T,"f").ext?i(this,T,"f").ext=Object.assign(Object.assign({},i(this,T,"f").ext),{customkeys:e}):i(this,T,"f").ext={customkeys:e}),this}setSectionCategory(e){return i(this,w,"m",O).call(this),d(e)||!c(e)||(i(this,T,"f").sectioncat=e),this}setKeywords(e){return i(this,w,"m",O).call(this),c(e)&&e.every((e=>n(e)))?(i(this,T,"f").kwarray=[...e],S.instance):S.instance}}S=C,T=new WeakMap,w=new WeakSet,O=function(){const e=R.get(m.IS_APP);return!!R.get(m.SDK_INITIALIZED)&&(e||console.warn("Since App is not set, App level targeting will be ignored"),e)},P=function(){const e=R.get(m.APP_ID);if(e)return i(this,T,"f").id=e,S.instance},C.instance=new S,function(e){e.UNKNOWN="0",e.ETHERNET="1",e.WIFI="2",e.UNKNOWN_CELLULAR_NETWORK="3",e.NETWORK_2G="4",e.NETWORK_3G="5",e.NETWORK_4G="6",e.NETWORK_5G="7"}(N||(N={}));var k=N;function M(e){return"object"!=typeof e||Array.isArray(e)?null:Object.keys(e).reduce(((t,i)=>(t[i]=e[i],t)),{})}class b{static getInstance(){return b.instance}set(e,t){window.localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);return t?JSON.parse(t):null}}b.instance=new b;const L=b.getInstance();var U,x,W,V,K,F,j,Y,G,B,q,H,Q,z,X,Z,$,J;class ee{constructor(){U.add(this),x.set(this,{}),this.DeviceType=M(_),this.ConnectionType=M(k)}static getInstance(){return ee.instance}setLocation(e){if(!(e instanceof GeolocationCoordinates))return ee.instance;const{latitude:t,longitude:s,accuracy:n}=e;return i(this,x,"f").geolocationCoordinates={type:1,lat:t,lon:s,accuracy:n},ee.instance}setDeviceType(e){return n(e)?(i(this,x,"f").type=e,ee.instance):ee.instance}setConnectionType(e){return n(e)?(i(this,x,"f").connectionType=e,ee.instance):ee.instance}setSimOperatorOrMccMnc(e){return n(e)?(i(this,x,"f").mccmnc=e,ee.instance):ee.instance}setMake(e){return n(e)?(i(this,x,"f").make=e,ee.instance):ee.instance}setModel(e){return n(e)?(i(this,x,"f").model=e,ee.instance):ee.instance}get(){return i(this,x,"f")}setAdvertisingId(e){return n(e)?(i(this,x,"f").ifa=e,this):ee.instance}setCarrier(e){return n(e)?(i(this,x,"f").carrier=e,this):ee.instance}setMarketingName(e){return n(e)?(i(this,x,"f").maketingName=e,this):ee.instance}setPlatform(e){return n(e)?(i(this,x,"f").platformId=e,this):ee.instance}getPayload(){var e;const{GEO_PROFILE:t}=m,{geolocationCoordinates:s,type:n,connectionType:r,ifa:a,carrier:o,maketingName:c,platformId:l,mccmnc:h,make:d,model:u}=i(this,x,"f"),f=null===(e=L.get(t))||void 0===e?void 0:e.geo,E=s||f||!1,A={ua:i(this,U,"a",W),language:i(this,U,"a",V)};return E&&(A.geo=E),n&&(A.devicetype=n),r&&(A.connectiontype=r),a&&(A.ifa=a),o&&(A.carrier=o),c&&(void 0===(null==A?void 0:A.ext)&&(A.ext={}),A.ext.dvmn=c),l&&(void 0===(null==A?void 0:A.ext)&&(A.ext={}),A.ext.dvpl=l),h&&(A.mccmnc=h),d&&(A.make=d),u&&(A.model=u),A}}x=new WeakMap,U=new WeakSet,W=function(){return window.navigator.userAgent},V=function(){return navigator.language},ee.instance=new ee;class te{isRequestAllowed(e){try{const t=e.payload,i=null==t?void 0:t.imp;return!(!i||0===Object.keys(i).length)}catch(e){return console.warn(e),!1}}}function ie(...e){console.log.apply(console,e)}function se(...e){console.warn.apply(console,e)}function ne(...e){console.error.apply(console,e)}class re{constructor(){K.set(this,new Map),F.set(this,[new te])}static get getInstance(){return re.instance}addVmaxAd(e){if(!u(e))return ne("Registry: must be a valid VmaxAd");let t=new e;i(this,K,"f").set(e,[].concat(t.getAllSignatures())),t=null}removeVmaxAd(e){if(!u(e))return ne("Registry: must be a valid VmaxAd");i(this,K,"f").delete(e)}getVmaxAd(e){let t=Array.from(i(this,K,"f").entries()).find((([t,i])=>i.includes(e)));return t?t[0]:null}getAllSignatures(){let e=Array.from(i(this,K,"f").values()).reduce(((e,t)=>e.concat(t)),[]);return Array.from(new Set(e))}addRequestAdvisor(e){i(this,F,"f").some((t=>t instanceof e.constructor))?se("Advisor already present"):i(this,F,"f").push(e)}removeRequestAdvisor(e){i(this,F,"f").forEach(((t,s)=>{t instanceof e.constructor&&i(this,F,"f").splice(s,1)}))}getAdvisors(){return i(this,F,"f")}}K=new WeakMap,F=new WeakMap,re.instance=new re;class ae{constructor(){j.add(this),Y.set(this,void 0),G.set(this,void 0),B.set(this,{})}static getInstance(){return ae.instance}setPageURL(e){return i(this,j,"m",q).call(this),l(e)?(i(this,B,"f").pageUrl=e,ae.instance):ae.instance}setReferrerURL(e){return i(this,j,"m",q).call(this),l(e)?(i(this,B,"f").referrerUrl=e,ae.instance):ae.instance}setSearchFor(e){return i(this,j,"m",q).call(this),n(e)?(i(this,B,"f").searchFor=encodeURIComponent(e),ae.instance):ae.instance}getPayload(){return i(this,j,"m",Q).call(this),i(this,j,"m",z).call(this),i(this,j,"m",H).call(this),i(this,B,"f")}setPageCategory(e){return i(this,j,"m",q).call(this),d(e)||!c(e)||(i(this,B,"f").pagecat=e),this}setCustomData(e){var t;return i(this,j,"m",q).call(this),o(e)&&("undefined"===(null===(t=i(this,B,"f"))||void 0===t?void 0:t.ext)&&(i(this,B,"f").ext={}),i(this,B,"f").ext={customkeys:e}),this}setSectionCategory(e){return i(this,j,"m",q).call(this),d(e)||!c(e)||(i(this,B,"f").sectioncat=e),this}setKeywords(e){return i(this,j,"m",q).call(this),c(e)&&e.every((e=>n(e)))?(i(this,B,"f").kwarray=[...e],ae.instance):ae.instance}}Y=new WeakMap,G=new WeakMap,B=new WeakMap,j=new WeakSet,q=function(){const e=R.get(m.IS_APP);return!R.get(m.SDK_INITIALIZED)||(e&&console.warn("Since App is set, site level targeting will be ignored"),e)},H=function(){const e=R.get(m.APP_ID);i(this,B,"f").id=e},Q=function(){var e;return!(null===(e=i(this,B,"f"))||void 0===e?void 0:e.pageUrl)&&(i(this,B,"f").pageUrl=window.location.href,!0)},z=function(){var e;if(!!(null===(e=i(this,B,"f"))||void 0===e?void 0:e.referrerUrl))return!1;return!!document.referrer&&(i(this,B,"f").referrerUrl=document.referrer),!0},ae.instance=new ae;class oe{constructor(){X.add(this),Z.set(this,{}),s(this,Z,{},"f")}static getInstance(){return oe.instance}setId(e){return n(e)?(i(this,Z,"f").uid=e,oe.instance):oe.instance}setGender(e){return n(e)?(i(this,Z,"f").gender=e,oe.instance):oe.instance}setAge(e){return n(e)?(i(this,Z,"f").age=e,oe.instance):oe.instance}setCity(e){return n(e)?(i(this,Z,"f").city=e,oe.instance):oe.instance}setRegion(e){return n(e)?(i(this,Z,"f").region=e,oe.instance):oe.instance}setCountry(e){return n(e)?(i(this,Z,"f").country=e,oe.instance):oe.instance}setZipcode(e){return n(e)&&(e=>/^\d+$/.test(e))(e)?(i(this,Z,"f").zip=e,oe.instance):oe.instance}setKeywords(e){return c(e)||e.every((e=>n(e)))?(i(this,Z,"f").keywordsArray=[...e],oe.instance):oe.instance}setCustomData(e){var t;return o(e)&&("undefined"===(null===(t=i(this,Z,"f"))||void 0===t?void 0:t.ext)&&(i(this,Z,"f").ext={}),i(this,Z,"f").ext={customkeys:e}),oe.instance}get(){return i(this,Z,"f")}getPayload(){const{uid:e,keywordsArray:t,country:s,region:n,city:r,zip:a,ext:o,age:c,gender:l}=i(this,Z,"f");let h={};e&&(h.id=e),t&&(h.kwarray=t);!!(s||n||r||a)&&(h.geo={type:3},s&&(h.geo.country=s),n&&(h.geo.region=n),r&&(h.geo.city=r),a&&(h.geo.zip=a)),o&&(h.ext=o);const d=i(this,X,"m",$).call(this);return d&&(h.data=d),h}}Z=new WeakMap,X=new WeakSet,$=function(){const{age:e,gender:t}=i(this,Z,"f");if(!!e||!!t){let i=[];t&&i.push({name:"gender",value:t}),e&&i.push({name:"age",value:e});return[{segment:i}]}return!1},oe.instance=new oe,function(e){e.PAUSED="paused",e.RESUMED="resumed",e.STARTED="started",e.COMPLETED="completed",e.NOT_READY="not_ready"}(J||(J={}));var ce=J;const le={NO_FILL:{code:1e3,message:"No Fill"},AD_MANAGER_INIT_FAILED:{code:1001,message:"Ad Manager initialization failed"},PREPARE_VMAX_AD_FAILED:{code:1002,message:"Prepare Vmax Ad failed"},AD_REQUEST_BLOCKED_BY_ADVISOR:{code:1003,message:"Ad request blocked by advisor"},INVALID_AD_SPACES:{code:1004,message:"Invalid ad spaces"},AD_SERVER_ERROR:{code:1005,message:"Ad server error"},UNIVERSAL_LINK_FAILED:{code:1006,message:"Universal link failed"},REQUEST_ATTRIBUTE_BUILDER_EMPTY:{code:1007,message:"Request attribute builder is empty"},REQUEST_ATTRIBUTE_VALUE_NOT_SET:{code:1008,message:"Mandatory parameter is not set"},REQUEST_ATTRIBUTES_MISSING:{code:1009,message:"Request attribute is missing"},REQUEST_ATTRIBUTE_VALUE_CASE_MISMATCH:{code:1010,message:"Request attribute value case mismatch"},REQUEST_ATTRIBUTE_KEY_NOT_FOUND:{code:1011,message:"Request attribute key not found"},REQUEST_ATTRIBUTE_VALUE_INVALID:{code:1012,message:"Request attribute value is not valid"},AD_SPACE_COUNT_ZERO:{code:1013,message:"Ad not provided"},AD_REQUEST_BODY_FAILED:{code:1014,message:"Ad request body failed"},RENDITION_FAILED:{code:1015,message:"Ad rendition failed"},AD_RESPONSE_FAILED:{code:1016,message:"Ad response failed"},INVALID_USER_AGENT:{code:1017,message:"Invalid user agent"},NETWORK_ERROR:{code:1018,message:"Network error"},AD_ALREADY_CACHED:{code:1019,message:"Ad is already cached"},VMAX_AD_NOT_REGISTERED:{code:1020,message:"Vmax Ad Signatures not found"},ASSET_HELPER_NOT_IN_MEMORY:{code:1021,message:"Asset helper not in memory"},ASSET_DELEGATE_NOT_IN_MEMORY:{code:1022,message:"Asset delegate not in memory"},VPP_NOT_IN_MEMORY:{code:1023,message:"VPP not in memory"},CONTAINER_IS_MISSING_PARENT_VIEW_CONTROLLER:{code:1024,message:"Container is missing parent view controller"}};var he,de,ue,fe,Ee,Ae,ve,pe,me,ge,Ie,ye,_e,De,Re,we,Se,Te,Oe,Pe,Ne,Ce,ke,Me,be,Le,Ue,xe,We,Ve,Ke,Fe,je,Ye,Ge,Be,qe,He,Qe,ze,Xe,Ze,$e,Je,et,tt,it,st,nt,rt,at,ot,ct,lt,ht;Object.freeze(le);class dt{constructor(){he.set(this,new Map),de.set(this,new Map)}addEventListener(e,t){var s;if("string"!=typeof e)throw new Error("Invalid Event");if("function"!=typeof t)throw new Error("Invalid Callback");i(this,he,"f").has(e)||i(this,he,"f").set(e,[]),null===(s=i(this,he,"f").get(e))||void 0===s||s.push(t)}addEventListenerOnce(e,t){var s;if("string"!=typeof e)throw new Error("Invalid Event");if("function"!=typeof t)throw new Error("Invalid Callback");i(this,de,"f").has(e)||i(this,de,"f").set(e,[]),null===(s=i(this,de,"f").get(e))||void 0===s||s.push(t)}removeEventListener(e,t){var s,n;if(console.log(">>> Events Map",e,i(this,he,"f").get(e)),"string"!=typeof e)throw new Error("Invalid Event");if("function"!=typeof t)throw new Error("Invalid Callback");if(!i(this,he,"f").has(e)&&!i(this,de,"f").get(e))return;const r=i(this,he,"f").get(e),a=i(this,de,"f").get(e),o=null!==(s=null==r?void 0:r.indexOf(t))&&void 0!==s?s:-1,c=null!==(n=null==a?void 0:a.indexOf(t))&&void 0!==n?n:-1;o>-1&&(null==r||r.splice(o,1)),c>-1&&(null==a||a.splice(c,1)),i(this,he,"f").set(e,r||[]),i(this,de,"f").set(e,a||[]),-1===o&&-1===c&&console.warn("Eventlistener: Callback not found")}removeAllEventListeners(e){if("string"!=typeof e)throw new Error("Invalid Event");i(this,he,"f").has(e)&&i(this,he,"f").delete(e),i(this,de,"f").has(e)&&i(this,de,"f").delete(e)}dispatchEvent(e,...t){if("string"!=typeof e)throw new Error("Invalid Event");if(!i(this,he,"f").has(e)&&!i(this,de,"f").get(e))return;const s=i(this,he,"f").get(e),n=i(this,de,"f").get(e);null==s||s.forEach((e=>e(...t))),null==n||n.forEach((e=>e(...t))),i(this,de,"f").set(e,[])}}he=new WeakMap,de=new WeakMap;class ut{constructor(e,t){if(ue.add(this),fe.set(this,null),Ee.set(this,0),Ae.set(this,0),ve.set(this,!1),pe.set(this,(()=>{})),me.set(this,0),ge.set(this,!1),Ie.set(this,!1),!r(t)||t<0)throw new Error("Timer must have a duration");if("function"!=typeof e)throw new Error("Timer must have a callback function");s(this,pe,e,"f"),s(this,me,t,"f")}pause(){i(this,ge,"f")||i(this,fe,"f")&&(clearTimeout(i(this,fe,"f")),s(this,Ae,i(this,Ae,"f")-(Date.now()-i(this,Ee,"f")),"f"),s(this,ve,!0,"f"))}startOrResume(){if(!i(this,Ie,"f"))return i(this,ue,"m",ye).call(this);i(this,ge,"f")||i(this,ve,"f")&&(s(this,ve,!1,"f"),i(this,ue,"m",_e).call(this))}clear(){i(this,ge,"f")||i(this,fe,"f")&&(clearTimeout(i(this,fe,"f")),s(this,fe,null,"f"),s(this,ge,!0,"f"))}get isFinished(){return i(this,ge,"f")}}fe=new WeakMap,Ee=new WeakMap,Ae=new WeakMap,ve=new WeakMap,pe=new WeakMap,me=new WeakMap,ge=new WeakMap,Ie=new WeakMap,ue=new WeakSet,ye=function(){i(this,Ie,"f")||i(this,ge,"f")||(s(this,Ie,!0,"f"),i(this,ue,"m",_e).call(this))},_e=function(){i(this,ve,"f")||(s(this,Ee,Date.now(),"f"),s(this,Ae,i(this,Ae,"f")||1e3*i(this,me,"f"),"f")),s(this,fe,setTimeout((()=>{s(this,ve,!1,"f"),s(this,ge,!0,"f"),i(this,pe,"f").call(this)}),i(this,Ae,"f")),"f")};class ft{constructor(){De.add(this),Re.set(this,{})}static getInstance(){return ft.instance}getPayload(){return{modules:{adsignatures:[...i(this,De,"a",we)]}}}}Re=new WeakMap,De=new WeakSet,we=function(){return i(this,Re,"f").adsignatures=re.getInstance.getAllSignatures(),i(this,Re,"f").adsignatures},ft.instance=new ft,function(e){e.errorCode="{errorcode}",e.noFill="<NOFILL>",e.noFillError="[nofill.error]",e.demandPartnerSDKVersion="[demand.partner.sdkversion]",e.eventName="[event.name]",e.vastErrorCode="[vast.error]",e.OmidSDKVersion="[omid.partner.sdkversion]",e.eventAttribute1="[event.attribute1]",e.eventAttribute2="[event.attribute2]",e.eventAttribute3="[event.attribute3]",e.randomCcb="[random.ccb]",e.deviceIFA="[device.ifa]"}(Se||(Se={}));class Et{static post(e){return t(this,void 0,void 0,(function*(){const{url:t,payload:i,headers:s={},credentials:n}=e||{};let r={method:"POST",body:JSON.stringify(i)};return n&&(r.credentials=n),s&&(r.headers=s),fetch(t,r).then((e=>e.json())).catch((e=>(ie("Error in Fetch.post",e),Promise.reject(e))))}))}static get(e){return t(this,arguments,void 0,(function*(e,t={}){return fetch(e,t).then((e=>e.json()))}))}static DeviceGeoService(){const e=R.get(m.ACCOUNT_KEY),t="https://dgs.tickertape.in/ACCOUNT_KEY".replace("ACCOUNT_KEY",e);return Te.get(t)}static UserProfileService(e,t){const i=R.get(m.ACCOUNT_KEY),s="https://ups.tickertape.in/ACCOUNT_KEY/".replace("ACCOUNT_KEY",i);return Te.post({url:s,headers:{"X-AUTH":t},payload:e})}static AdQuery(e){const{ACCOUNT_KEY:t}=m,i=R.get(t)||"";return Te.post({url:"https://as.tickertape.in/account-key/adspot/1.0.1/query/".replace("account-key",i),payload:e,credentials:"include"})}static replaceAllMacros(e,t){const i=Object.keys(Se);if(0===i.length)return e;const{ifa:s=""}=window.VmaxAdManager.getDevice().getPayload();return i.forEach((i=>{var n;const r=Se[i];let a;a=r===Se.randomCcb?Date.now().toString():r===Se.deviceIFA?s:t&&(null===(n=t[r])||void 0===n?void 0:n.toString())||"";const o=new RegExp(this.escapeRegExp(r),"g");e=e.replace(o,a)})),t||i.forEach((t=>{const i=Se[t],s=new RegExp(this.escapeRegExp(i),"g");e=e.replace(s,"")})),e}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static FireTracker(e,s){return t(this,void 0,void 0,(function*(){if(!n(e)&&!c(e))return Promise.reject("No url to fire tracker");for(let t of e)t=this.replaceAllMacros(t,s),yield i(Te,Te,"m",Oe).call(Te,t)}))}}function At(e){try{for(const t in e){const i=e[t];null!=i&&i||delete e[t],"object"!=typeof i||Array.isArray(i)||At(i)}return e}catch(t){return e}}function vt(e){return t(this,void 0,void 0,(function*(){var i,s;try{const{ignoreExpiry:n=!1}=e||{},{UID:r,ACCOUNT_KEY:a,GEO_PROFILE:o,USER_PROFILE:c,SECRET_KEY:l}=Object.assign(Object.assign(Object.assign({},g),p),m),d=R.get(a),u=R.get(l);if(!d||!f(d)||!u)return Promise.reject();const E=L.get(o),A=L.get(c),v=n||h(null==E?void 0:E.expiry),I=n||h(null==A?void 0:A.expiry);if(!(v||I))return Promise.resolve();const y=oe.getInstance().get(),_=Boolean(null==y?void 0:y[r]),D=[];if(v?D.push(Et.DeviceGeoService()):D.push(Promise.resolve()),I&&_){const e=yield function(e,i,s,n){return t(this,void 0,void 0,(function*(){const{UID:r,GENDER:a,COUNTRY:o,REGION:c,CITY:l,ZIPCODE:h,AGE:d}=g,u=At({[o]:null==i?void 0:i[o],[c]:null==i?void 0:i[c],[l]:null==i?void 0:i[l],[h]:null==i?void 0:i[h]}),f=At({[a]:null==i?void 0:i[a],[d]:null==i?void 0:i[d],geo:u}),E=yield function(e,i){return t(this,arguments,void 0,(function*(e,t,i="base64"){const s=new TextEncoder,n=s.encode(t),r=s.encode(e.toString());try{const e=yield window.crypto.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),t=yield window.crypto.subtle.sign("HMAC",e,r);if("hex"===i){return Array.from(new Uint8Array(t)).map((e=>e.toString(16).padStart(2,"0"))).join("")}if("base64"===i)return btoa(String.fromCharCode(...new Uint8Array(t)));throw new Error('Invalid format specified. Must be "hex" or "base64".')}catch(e){throw console.error("Error generating HMAC-SHA256 key:",e),e}}))}(e,s),A=At({accountkey:e,identifiers:{uid:null==i?void 0:i[r]},demographics:f,xAuth:E||null});return n&&(A.profile=n),A}))}(d,y,u,A),{xAuth:i}=e,s=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}(e,["xAuth"]);D.push(Et.UserProfileService(s,i))}else D.push(Promise.reject());const w=yield Promise.allSettled(D),[S,T]=w,O="fulfilled"===S.status&&Number.isInteger(null===(i=S.value)||void 0===i?void 0:i.expiry),P="fulfilled"===T.status&&Number.isInteger(null===(s=T.value)||void 0===s?void 0:s.expiry);return O&&L.set(o,S.value),P&&L.set(c,T.value),Promise.resolve()}catch(e){return console.warn(e),Promise.reject()}}))}Te=Et,Oe=function(e){return t(this,void 0,void 0,(function*(){try{const t=window.VmaxAdManager.getSite().getPayload(),{pageUrl:i,referrerUrl:s}=t,n=yield fetch(e,{method:"GET",headers:{Connection:"keep-alive","X-Requested-with":`${i}`},credentials:"include"});n.ok?ie("Tracker fired successfully."):ne("Tracker request failed:",n.status,n.statusText)}catch(e){ne("Error while firing the tracker:",e)}}))};class pt{constructor(){Pe.add(this),Ne.set(this,[]),Ce.set(this,{}),this.events=new dt,ke.set(this,!1)}addAdSpace(e){return e instanceof Ht?(i(this,Ne,"f").push(e),this):this}build(){const e=i(this,Pe,"m",be).call(this),t=R.get(m.IS_APP);if(e.length<1)return this;s(this,Ce,{imp:e,device:ee.getInstance().getPayload(),user:oe.getInstance().getPayload(),ext:ft.getInstance().getPayload()},"f");const n=ae.getInstance().getPayload(),r=C.getInstance().getPayload();return t?i(this,Ce,"f").app=r:i(this,Ce,"f").site=n,this}process(){return i(this,ke,"f")?Promise.reject("Ad Request already in progress"):i(this,Pe,"m",Ue).call(this)}handleAdResponse(e){var t,s;const n=(null===(s=null===(t=null==e?void 0:e.seatbid)||void 0===t?void 0:t[0])||void 0===s?void 0:s.bid)||[];i(this,Ne,"f").forEach((e=>{const t=n.find((t=>t.impid===e.tagId&&""!==t.adm));t?e.setCache(t):e.isAdCached||e.handleNoFill()})),i(this,Pe,"m",Me).call(this,e)}}function mt(){return new pt}function gt(e){if(!(e instanceof pt))throw new Error("Invalid request object");return e.process()}Ne=new WeakMap,Ce=new WeakMap,ke=new WeakMap,Pe=new WeakSet,Me=function(e){const t=re.getInstance.getAdvisors(),s={payload:i(this,Ce,"f"),response:e};t.forEach((e=>{var t;return null===(t=null==e?void 0:e.handleAdResponse)||void 0===t?void 0:t.call(e,s)}))},be=function(){return i(this,Ne,"f").reduce(((e,t)=>(t.isAdCached||e.push(t.getRequestPayload()),e)),[])},Le=function(){const e=Et.AdQuery(i(this,Ce,"f"));return s(this,ke,!0,"f"),e.then((e=>this.handleAdResponse(e))).catch((e=>console.error("Ad Request Failed",e))).finally((()=>{s(this,ke,!1,"f")}))},Ue=function(){return t(this,void 0,void 0,(function*(){return(yield i(this,Pe,"m",xe).call(this))?(yield vt(),i(this,Pe,"m",Le).call(this)):(this.events.dispatchEvent(v.AD_ERROR,le.AD_REQUEST_BLOCKED_BY_ADVISOR),Promise.reject("Ad Request Blocked by Advisor"))}))},xe=function(){return t(this,void 0,void 0,(function*(){const e=re.getInstance.getAdvisors(),t={payload:i(this,Ce,"f")},s=e.map((e=>e.isRequestAllowed(t)));return Promise.all(s).then((e=>e.every((e=>!0===e))))}))};Ve=new WeakMap,Ke=new WeakMap,Fe=new WeakMap,je=new WeakMap,Ye=new WeakMap,Ge=new WeakMap,Be=new WeakMap,qe=new WeakMap,He=new WeakMap,Qe=new WeakMap,ze=new WeakMap,Xe=new WeakMap,Ze=new WeakMap,$e=new WeakMap,Je=new WeakMap,et=new WeakMap,tt=new WeakMap,it=new WeakMap,We=new WeakSet,st=function(){var e,t,s,n,r;if(!i(this,Ge,"f"))return;const a=null===(n=null===(s=null===(t=null===(e=i(this,Ge,"f"))||void 0===e?void 0:e.ext)||void 0===t?void 0:t.modules)||void 0===s?void 0:s.render)||void 0===n?void 0:n.signature;if(!a)return void this.onAdError(le.VMAX_AD_NOT_REGISTERED);const o=re.getInstance.getVmaxAd(a);if(!o||!u(o))return void this.onAdError(le.VMAX_AD_NOT_REGISTERED);const c=i(this,Xe,"f")&&(null===(r=i(this,qe,"f"))||void 0===r?void 0:r.destroy());c instanceof Promise?c.then((()=>i(this,We,"m",nt).call(this,o))):i(this,We,"m",nt).call(this,o)},nt=function(e){var t;i(this,Ge,"f")&&(null!=i(this,qe,"f")&&s(this,it,i(this,qe,"f"),"f"),s(this,qe,null,"f"),s(this,qe,new e,"f"),null===(t=i(this,qe,"f"))||void 0===t||t.prepare({bid:i(this,Ge,"f"),listeners:i(this,Qe,"f"),nativeLayout:i(this,$e,"f")||void 0,videoLayout:i(this,Je,"f")||void 0,skipVideoThumbnail:i(this,et,"f")||void 0,requestedBitRate:i(this,Ye,"f")||void 0,container:i(this,Ve,"f")||void 0}).then((()=>{if(i(this,Xe,"f"))return i(this,We,"m",ot).call(this);i(this,We,"m",rt).call(this,v.AD_READY)})).catch((e=>{this.onAdError(e||le.PREPARE_VMAX_AD_FAILED)})))},rt=function(e,t){var s;const n=null===(s=i(this,We,"m",ht).call(this))||void 0===s?void 0:s.getVmaxAdInfo();i(this,Be,"f").dispatchEvent(e,{eventName:e,adInfo:Object.assign(Object.assign({tagId:this.tagId},n),t)})},at=function(e){const{layout:t,layoutTemplate:i}=e,s=i instanceof HTMLElement&&"TEMPLATE"===i.nodeName,n="string"==typeof t&&t.length>0;return s||n},ot=function(){var e;null===(e=i(this,qe,"f"))||void 0===e||e.render({container:i(this,ze,"f")}).then((e=>{this.setCache(null),s(this,it,i(this,qe,"f"),"f"),i(this,We,"m",rt).call(this,i(this,Xe,"f")?v.AD_REFRESHED:v.AD_RENDERED,e),i(this,We,"m",ct).call(this)})).catch((e=>{console.error("Error while rendering ad",e),this.onAdError(le.RENDITION_FAILED)}))},ct=function(e=!1){var t,n;(null===(t=i(this,qe,"f"))||void 0===t?void 0:t.shouldProcessRefresh)&&i(this,Fe,"f")>0&&(s(this,Ze,new ut(i(this,We,"m",lt).bind(this),i(this,Fe,"f")),"f"),e&&i(this,Ze,"f").startOrResume()),!i(this,Xe,"f")&&(null===(n=i(this,qe,"f"))||void 0===n?void 0:n.shouldProcessRefresh)&&s(this,Xe,!0,"f")},lt=function e(){var t,n;if(!i(this,Ze,"f"))return void console.warn("adRefreshTimer is empty or null");i(this,Ze,"f").clear(),s(this,Ze,null,"f");const r=null===(t=i(this,qe,"f"))||void 0===t?void 0:t.canRefresh;if(void 0===r||!0===r){(a=this,gt(mt().addAdSpace(a).build())).catch((e=>(console.log("Error in singleAdRequest",e),i(this,We,"m",ct).call(this,!0))))}else{var a;(null===(n=i(this,qe,"f"))||void 0===n?void 0:n.shouldProcessRefresh)&&(s(this,Ze,new ut(i(this,We,"m",e).bind(this),i(this,Fe,"f")),"f"),i(this,Ze,"f").startOrResume())}},ht=function(){return i(this,qe,"f")};var It,yt,_t,Dt,Rt,wt,St,Tt,Ot,Pt,Nt,Ct,kt,Mt,bt,Lt,Ut,xt,Wt,Vt,Kt,Ft,jt,Yt,Gt,Bt,qt,Ht=class{constructor(e){We.add(this),Ve.set(this,void 0),Ke.set(this,!1),Fe.set(this,30),je.set(this,-1),Ye.set(this,void 0),Ge.set(this,null),Be.set(this,new dt),qe.set(this,void 0),He.set(this,ce.NOT_READY),Qe.set(this,{AdClicked:this.onAdClicked.bind(this),AdPaused:this.onAdPaused.bind(this),AdResumed:this.onAdResumed.bind(this),AdImpression:e=>i(this,We,"m",rt).call(this,v.AD_IMPRESSION,e),AdUserClose:e=>i(this,We,"m",rt).call(this,v.AD_USER_CLOSE,e),AdClosed:e=>i(this,We,"m",rt).call(this,v.AD_CLOSED,e),AdVolumeChanged:e=>i(this,We,"m",rt).call(this,v.AD_VOLUME_CHANGED,e),AdMuted:e=>i(this,We,"m",rt).call(this,v.AD_MUTED,e),AdUnmuted:e=>i(this,We,"m",rt).call(this,v.AD_UNMUTED,e),AdSkipped:e=>i(this,We,"m",rt).call(this,v.AD_SKIPPED,e),AdVideoStart:e=>i(this,We,"m",rt).call(this,v.AD_VIDEO_START,e),AdVideoFirstQuartile:e=>i(this,We,"m",rt).call(this,v.AD_VIDEO_FIRST_QUARTILE,e),AdVideoMidpoint:e=>i(this,We,"m",rt).call(this,v.AD_VIDEO_MIDPOINT,e),AdVideoThirdQuartile:e=>i(this,We,"m",rt).call(this,v.AD_VIDEO_THIRD_QUARTILE,e),AdVideoComplete:e=>i(this,We,"m",rt).call(this,v.AD_VIDEO_COMPLETE,e),AdSkippableStateChange:e=>i(this,We,"m",rt).call(this,v.AD_SKIPPABLE_STATE_CHANGE,e),AdVideoProgress:e=>i(this,We,"m",rt).call(this,v.AD_PROGRESS,e),AdMediaExpand:e=>i(this,We,"m",rt).call(this,v.AD_MEDIA_EXPAND,e),AdMediaCollapse:e=>i(this,We,"m",rt).call(this,v.AD_MEDIA_COLLAPSE,e),AdError:e=>this.onAdError(e)}),ze.set(this,void 0),Xe.set(this,!1),Ze.set(this,null),$e.set(this,void 0),Je.set(this,void 0),et.set(this,void 0),tt.set(this,void 0),it.set(this,void 0),R.isSDKInitialized;const{tagId:t,container:r}=e||{};n(t),this.tagId=t,s(this,Ve,r,"f")}setInterstitialExperience(e){return a(e)?(s(this,Ke,e,"f"),this):this}setRefreshRate(e){return 0===e&&s(this,Fe,0,"f"),!Number.isInteger(e)||e<30||s(this,Fe,e,"f"),this}setOrientation(e){return s(this,je,e,"f"),this}setNativeLayout(e){i(this,We,"m",at).call(this,e)?s(this,$e,e,"f"):se("AdSpace: Invalid native layout")}setVideoLayout(e){i(this,We,"m",at).call(this,e)?s(this,Je,e,"f"):se("AdSpace: Invalid video layout")}setVideoSkipThumbnail(e){const{source:t=""}=e||{};try{s(this,et,new URL(t),"f")}catch(e){se("AdSpace: Invalid video skip thumbnail source")}}setVolume(e){var t;"number"!=typeof e||e<0||e>1||(null===(t=i(this,qe,"f"))||void 0===t?void 0:t.setVolume)&&i(this,qe,"f").setVolume(e)}setFullscreenContainer(e){var t;e instanceof HTMLElement?(null===(t=i(this,qe,"f"))||void 0===t?void 0:t.setFullscreenContainer)&&i(this,qe,"f").setFullscreenContainer(e):se("AdSpace: Invalid container")}setRequestedBitRate(e){"number"!=typeof e||e<0||s(this,Ye,e,"f")}closeAd(){const e=i(this,it,"f")||i(this,qe,"f");return(null==e?void 0:e.closeAd)?Promise.resolve(e.closeAd()).then((()=>{var e;s(this,it,null,"f"),null===(e=i(this,Ze,"f"))||void 0===e||e.clear(),s(this,Ze,null,"f")})):Promise.resolve()}setCache(e){s(this,Ge,e,"f"),i(this,We,"m",st).call(this)}setSecure(e){return a(e)?(s(this,tt,e,"f"),this):this}get isAdCached(){return!!i(this,Ge,"f")}getRequestPayload(){const e={tagid:this.tagId,instl:i(this,Ke,"f")?1:0,displaymanager:"vmax",displaymanagerver:"A-WEB-4.0.0",ext:{orientation:i(this,je,"f")},secure:1};return void 0!==i(this,tt,"f")&&(e.secure=i(this,tt,"f")?1:0),e}handleNoFill(){this.onAdError(le.NO_FILL),i(this,qe,"f")&&i(this,We,"m",ct).call(this,!0)}addEventListener(e,t){if(!Object.values(v).includes(e))throw new Error("AdSpace: Invalid Event");i(this,Be,"f").addEventListener(e,t)}addEventListenerOnce(e,t){if(!Object.values(v).includes(e))throw new Error("AdSpace: Invalid Event");i(this,Be,"f").addEventListenerOnce(e,t)}removeEventListener(e,t){i(this,Be,"f").removeEventListener(e,t)}removeAllEventListeners(e){i(this,Be,"f").removeAllEventListeners(e)}onAdError(e){var t,n;if(null===(n=null===(t=i(this,Ge,"f"))||void 0===t?void 0:t.ext)||void 0===n?void 0:n.fallback)return s(this,Ge,i(this,Ge,"f").ext.fallback,"f"),i(this,We,"m",st).call(this);i(this,Be,"f").dispatchEvent(v.AD_ERROR,{eventName:v.AD_ERROR,errorObject:e,adSpace:this})}onAdPaused(){var e;null===(e=i(this,Ze,"f"))||void 0===e||e.pause(),s(this,He,ce.PAUSED,"f"),i(this,We,"m",rt).call(this,v.AD_PAUSED)}onAdResumed(){var e;null===(e=i(this,Ze,"f"))||void 0===e||e.startOrResume(),i(this,He,"f")===ce.PAUSED&&(i(this,We,"m",rt).call(this,v.AD_RESUMED),s(this,He,ce.RESUMED,"f"))}pauseAd(){var e,t;(null===(e=i(this,qe,"f"))||void 0===e?void 0:e.pauseAd)&&(null===(t=i(this,qe,"f"))||void 0===t||t.pauseAd())}resumeAd(){var e,t;(null===(e=i(this,qe,"f"))||void 0===e?void 0:e.resumeAd)&&(null===(t=i(this,qe,"f"))||void 0===t||t.resumeAd())}onAdClicked(){i(this,We,"m",rt).call(this,v.AD_CLICKED)}showAd(e){const{container:t}=e||{};return i(this,Ge,"f")?i(this,qe,"f")?"function"!=typeof i(this,qe,"f").render?(console.warn("Vmax Ad Template does not have render method"),this.onAdError(le.RENDITION_FAILED)):(s(this,ze,t||i(this,Ve,"f"),"f"),i(this,ze,"f")?void i(this,We,"m",ot).call(this):console.warn("No container to show ad")):this.onAdError(le.VMAX_AD_NOT_REGISTERED):this.onAdError(le.RENDITION_FAILED)}};class Qt extends pt{constructor(e,t){super(),It.add(this),yt.set(this,void 0),_t.set(this,I.REPEAT),Dt.set(this,[]),Rt.set(this,-1),wt.set(this,-1),St.set(this,-1),Tt.set(this,!1),Ot.set(this,!1),Pt.set(this,void 0),Nt.set(this,!1),Ct.set(this,void 0),kt.set(this,void 0),this.adEventListeners=new Map,Mt.set(this,void 0),Lt.set(this,(e=>{const t=i(this,Dt,"f").find((t=>t.ad===e));t&&(t.cached=!0,t.canPlay=!0)})),Ut.set(this,(e=>{const t=i(this,Dt,"f").find((t=>t.ad===e));t&&(t.canPlay=!1)})),s(this,Pt,e,"f"),s(this,yt,t,"f"),i(this,Pt,"f").onCueOut(i(this,It,"m",Wt).bind(this)),i(this,Pt,"f").onCueIn(i(this,It,"m",Bt).bind(this))}addEventListener(e,t){return this.events.addEventListener(e,t),this}addBumperAdSpace(e){return e instanceof Ht?(this.addAdSpace(e),i(this,Dt,"f").push({ad:e,type:"bumper",playing:!1,cached:!1,canPlay:!1}),this):this}addRegularAdSpace(e){return e instanceof Ht?(this.addAdSpace(e),i(this,Dt,"f").push({ad:e,type:"regular",playing:!1,cached:!1,canPlay:!1}),this):this}setAdsRecurrence(e){return s(this,_t,e,"f"),this}setMaxBreakDuration(e){return!r(e)||e<0||s(this,Rt,e,"f"),this}setMinimumBreakDuration(e){return!r(e)||e<0||s(this,wt,e,"f"),this}process(){return i(this,It,"m",bt).call(this,i(this,Dt,"f").map((e=>e.ad))),super.process()}restorePlayerState(){i(this,Pt,"f").mutePlayer(i(this,Nt,"f"))}}function zt(e){const{eventName:t,payload:i={}}=e||{},s=new CustomEvent(t,{detail:i});window.dispatchEvent(s)}yt=new WeakMap,_t=new WeakMap,Dt=new WeakMap,Rt=new WeakMap,wt=new WeakMap,St=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,Nt=new WeakMap,Ct=new WeakMap,kt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ut=new WeakMap,It=new WeakSet,bt=function(e){0!==e.length&&e.forEach(((e,t)=>{e.addEventListenerOnce(Jt.AdEvents.AD_READY,i(this,Lt,"f").bind(this,e)),e.addEventListenerOnce(Jt.AdEvents.AD_ERROR,i(this,Ut,"f").bind(this,e))}))},xt=function(){this.build(),this.process()},Wt=function(e,t){var n;const{duration:r=-1}=t||{};if(r<i(this,wt,"f")&&i(this,wt,"f")>0)return void console.warn("Ad Duration less than minimum duration, hence skipping ad insertion");if(i(this,Ot,"f"))return;this.events.dispatchEvent(v.AD_INSERTION_START,{eventName:v.AD_INSERTION_START,duration:r}),console.log("Ads Insertion started");0!==i(this,Dt,"f").filter((e=>e.cached&&e.canPlay)).length?(i(this,yt,"f").style.display="block",s(this,Nt,i(this,Pt,"f").muteState,"f"),null===(n=i(this,Pt,"f"))||void 0===n||n.mutePlayer(!0),s(this,St,0,"f"),s(this,Tt,!1,"f"),s(this,Ot,!0,"f"),i(this,Rt,"f")>0&&(s(this,Ct,new ut(i(this,It,"m",Bt).bind(this),i(this,Rt,"f")),"f"),i(this,Ct,"f").startOrResume()),console.log("Start Ads Insertion",i(this,Dt,"f")),i(this,It,"m",Ft).call(this)):console.warn("No cached Ads to Show")},Vt=function(e,t,i){const s=i.bind(this,e);this.adEventListeners.set(e,Object.assign(Object.assign({},this.adEventListeners.get(e)),{[t]:s})),e.addEventListenerOnce(t,s)},Kt=function(e,t){const i=this.adEventListeners.get(e);i&&i[t]&&(e.removeEventListener(t,i[t]),delete i[t])},Ft=function e(){var t;if(i(this,Ot,"f"))if(console.log("showing ad current Index",i(this,St,"f"),i(this,Dt,"f").length),i(this,St,"f")<i(this,Dt,"f").length&&!i(this,Tt,"f")){const n=i(this,Dt,"f")[i(this,St,"f")];if(console.log("aditem",n),i(this,It,"m",jt).call(this,n),n.cached&&n.canPlay){const e=n.ad;if(n.playing)return;e.showAd({container:i(this,yt,"f")}),n.playing=!0,setTimeout((()=>i(this,It,"m",Vt).call(this,e,Jt.AdEvents.AD_CLOSED,i(this,It,"m",Gt).bind(this,n))),0),s(this,Mt,i(this,St,"f"),"f")}else n.playing=!1,i(this,St,"f")<i(this,Dt,"f").length-1&&(s(this,St,(t=i(this,St,"f"),++t),"f"),i(this,It,"m",e).call(this));n.cached=!1}else i(this,It,"m",Bt).call(this)},jt=function(e){const t=i(this,Dt,"f").slice(i(this,St,"f")+1).filter((e=>e.cached&&e.canPlay));console.log(">>>> ad cached",i(this,Dt,"f")[i(this,St,"f")].ad.isAdCached),!i(this,Tt,"f")&&0===t.length&&i(this,_t,"f")===I.REPEAT&&i(this,Dt,"f")[i(this,St,"f")].ad.isAdCached?i(this,It,"m",Vt).call(this,e.ad,Jt.AdEvents.AD_RENDERED,i(this,It,"m",Yt).bind(this,e.ad)):!i(this,Tt,"f")&&0===t.length&&i(this,Dt,"f")[i(this,St,"f")].ad.isAdCached?(console.log("Will attach on close ad of this ad for close ads insertion",e.ad),i(this,It,"m",Vt).call(this,e.ad,Jt.AdEvents.AD_CLOSED,i(this,It,"m",Bt).bind(this))):i(this,Tt,"f")||0!==t.length||!1!==e.playing||i(this,It,"m",Bt).call(this)},Yt=function e(t){if(i(this,_t,"f")!==I.REPEAT)return;const n=i(this,Dt,"f").filter((e=>"regular"===e.type&&!e.cached&&e.canPlay));i(this,It,"m",Vt).call(this,t,Jt.AdEvents.AD_RENDERED,i(this,It,"m",e).bind(this,t));const r=mt();n.forEach((e=>{r.addAdSpace(e.ad)})),r.build(),Jt.process(r),s(this,St,-1,"f"),i(this,It,"m",bt).call(this,n.map((e=>e.ad)))},Gt=function(e){var t;!i(this,Tt,"f")&&e.playing&&(e.playing=!1,i(this,It,"m",Kt).call(this,e.ad,Jt.AdEvents.AD_CLOSED),console.log("this.#currentAdIndex",i(this,St,"f")),s(this,St,(t=i(this,St,"f"),++t),"f"),i(this,St,"f")<i(this,Dt,"f").length&&!i(this,Tt,"f")?i(this,It,"m",Ft).call(this):(console.log("Donno what to do",i(this,St,"f")),i(this,It,"m",Bt).call(this)))},Bt=function(){var e,t,n;if(i(this,Tt,"f")||!i(this,Ot,"f"))return;s(this,Tt,!0,"f"),console.log("Ads Insertion closed"),null===(e=i(this,Ct,"f"))||void 0===e||e.clear(),i(this,Dt,"f").forEach((e=>{e.playing=!1}));let r=-1!==i(this,St,"f")?i(this,St,"f"):i(this,Mt,"f");if(i(this,St,"f")<i(this,Dt,"f").length){const e=null===(t=i(this,Dt,"f")[r])||void 0===t?void 0:t.ad;i(this,It,"m",Kt).call(this,e,Jt.AdEvents.AD_CLOSED),i(this,It,"m",Kt).call(this,e,Jt.AdEvents.AD_RENDERED),null==e||e.closeAd().then((()=>{console.log(">>> ###Closed Ad")}))}this.events.dispatchEvent(v.AD_INSERTION_END,{eventName:v.AD_INSERTION_END}),i(this,yt,"f").style.display="none",s(this,Ot,!1,"f"),null===(n=i(this,Pt,"f"))||void 0===n||n.mutePlayer(i(this,Nt,"f")),i(this,It,"m",xt).call(this)},function(e){e.READY="VmaxAdManagerReady",e.FAILED="VmaxAdManagerFailed",e.INITIALIZED="VmaxAdManagerInitialized"}(qt||(qt={}));var Xt,Zt=qt;!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e[e.ADAPTIVE=3]="ADAPTIVE"}(Xt||(Xt={}));var $t=Xt;window.VmaxAdEvents=class{static handleClick(t){const{deepLinkUrl:i="",linkFallback:s=""}=t;e(i,s)}};var Jt=Object.freeze({Registry:re.getInstance,getUser:oe.getInstance,getSite:ae.getInstance,getApp:C.getInstance,getDevice:ee.getInstance,initialize:function(e){return t(this,void 0,void 0,(function*(){try{const{ACCOUNT_KEY:t,APP_ID:i,SECRET_KEY:s,SDK_INITIALIZED:r,IS_APP:o}=m;if(R.isSDKInitialized)return Promise.reject("SDK already initialized");const{accountKey:c,appId:l,secretKey:h,isApp:d=!1}=e,u=f(c),E=n(l),A=n(h),v=a(d);v&&d&&console.warn("IsApp is set to true, all Site Level targeting will be ignored"),v&&!d&&console.warn("IsApp is set to false, all App Level targeting will be ignored");return u&&E&&A&&v?(R.set({[t]:c,[i]:l,[s]:h,[o]:d}),yield vt({ignoreExpiry:!0}),R.set(r,!0),setTimeout((()=>zt({eventName:Zt.INITIALIZED})),0),Promise.resolve()):Promise.reject(new Error("Invalid initialize options"))}catch(e){return console.error("Error in initialize",e),setTimeout((()=>zt({eventName:Zt.FAILED})),0),Promise.reject(e)}}))},createAdSpace:function(e){return new Ht(e)},createAdspotRequestBuilder:mt,createAdsInsertionRequestBuilder:function({contentPlayerInstance:e,adsContainer:t}){return new Qt(e,t)},process:gt,AdEvents:v,Orientation:$t,AdsRecurrence:I});return setTimeout((()=>zt({eventName:Zt.READY})),0),Jt}));

</script>

</body>
</html>
